/*! For license information please see nebula.6b206c4008d7c97aa83e.js.LICENSE.txt */
/*!
 * sense-client@7.144.6
 * 
 * Copyright(C) 2021 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[3],{CIFd:function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"__DO_NOT_USE__",(function(){return Aa}));n.d(t,"embed",(function(){return Ea}));n.d(t,"onTakeSnapshot",(function(){return ia}));n.d(t,"useAction",(function(){return ta}));n.d(t,"useApp",(function(){return Zi}));n.d(t,"useAppLayout",(function(){return $i}));n.d(t,"useConstraints",(function(){return na}));n.d(t,"useEffect",(function(){return Fi}));n.d(t,"useElement",(function(){return Vi}));n.d(t,"useGlobal",(function(){return Ji}));n.d(t,"useImperativeHandle",(function(){return oa}));n.d(t,"useLayout",(function(){return Gi}));n.d(t,"useMemo",(function(){return Hi}));n.d(t,"useModel",(function(){return Xi}));n.d(t,"useOptions",(function(){return ra}));n.d(t,"usePromise",(function(){return Bi}));n.d(t,"useRect",(function(){return Wi}));n.d(t,"useSelections",(function(){return Yi}));n.d(t,"useStaleLayout",(function(){return Ki}));n.d(t,"useState",(function(){return zi}));n.d(t,"useTheme",(function(){return Qi}));n.d(t,"useTranslator",(function(){return ea}));var r=n("mXGw");var o=n.n(r);var i=n("xARA");var a=n.n(i);var l=n("GWeQ");var u=n("vLHF");var s=n("MUVh");var c=n("Ns/9");var f=n("nFgL");var d=n("V2/N");var p=n("/ZiB");var m=n("oQEK");var h=n("R82R");var g=n("rx5w");var y=n("YZpo");var v=n("hhow");var b=n("4FrP");var x=n("xkWc");var M=n("6vEY");var O=n("59K6");var w=n("wXJo");var S=n("u44p");var k=n("v6vt");var C=n("/NZN");var E=n("BQn0");var A=n("q+d7");var q=n("lxKZ");var D=n("bJWG");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){N(i,r,o,a,l,"next",e)}function l(e){N(i,r,o,a,l,"throw",e)}a(void 0)}))}}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}V((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return D()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=k(a,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=m,n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f="suspendedStart",d="suspendedYield",p="executing",m="completed",h={};function g(){}function y(){}function v(){}var b={};b[i]=function(){return this};var x=Object.getPrototypeOf,M=x&&x(x(q([])));M&&M!==n&&r.call(M,i)&&(b=M);var O=v.prototype=g.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,l){var u=c(e[o],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"===T(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(u.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function q(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:t,done:!0}}return y.prototype=O.constructor=v,v.constructor=y,y.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},w(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(O),u(O,l,"Generator"),O[i]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=q,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return l.type="throw",l.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:q(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="string"==typeof t||"number"==typeof t?[t]:t;return e.replace(/\{(\d+)\}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initial,n=void 0===t?"en-US":t,r=e.fallback,o=void 0===r?"en-US":r,i={},a=n,l={language:function(e){return e&&(a=e),a},add:function(e){var t=e.id,n=e.locale;Object.keys(n).forEach((function(e){i[e]||(i[e]={}),i[e][t]=n[e]}))},get:function(e,t){var n;return n=i[a]&&void 0!==i[a][e]?i[a][e]:i[o]&&void 0!==i[o][e]?i[o][e]:e,void 0!==t?W(n,t):n}};return l}var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initial,n=void 0===t?"en-US":t,r=e.fallback,o=void 0===r?"en-US":r,i=G({initial:n,fallback:o});return{translator:i}},$={Cancel:{id:"Cancel",locale:{"de-DE":"Abbrechen","en-US":"Cancel","es-ES":"Cancelar","fr-FR":"Annuler","it-IT":"Annulla","ja-JP":"キャンセル","ko-KR":"취소","nl-NL":"Annuleren","pl-PL":"Anuluj","pt-BR":"Cancelar","ru-RU":"Отмена","sv-SE":"Avbryt","tr-TR":"İptal","zh-CN":"取消","zh-TW":"取消"}},CurrentSelections_All:{id:"CurrentSelections.All",locale:{"de-DE":"ALLES","en-US":"ALL","es-ES":"TODOS","fr-FR":"TOUS","it-IT":"TUTTI","ja-JP":"すべて","ko-KR":"모두","nl-NL":"ALLE","pl-PL":"WSZYSTKO","pt-BR":"TODOS","ru-RU":"ВСЕ","sv-SE":"ALLA","tr-TR":"TÜMÜ","zh-CN":"全部","zh-TW":"全部"}},CurrentSelections_Of:{id:"CurrentSelections.Of",locale:{"de-DE":"{0} von {1}","en-US":"{0} of {1}","es-ES":"{0} de {1}","fr-FR":"{0} sur {1}","it-IT":"{0} di {1}","ja-JP":"{0}/ {1}","ko-KR":"{0} / {1}","nl-NL":"{0} van {1}","pl-PL":"{0} z {1}","pt-BR":"{0} de {1}","ru-RU":"{0} из {1}","sv-SE":"{0} av {1}","tr-TR":"{0} / {1}","zh-CN":"{0}/ {1}","zh-TW":"{0}/ {1}"}},Listbox_Search:{id:"Listbox.Search",locale:{"de-DE":"In Listenfeld suchen","en-US":"Search in listbox","es-ES":"Buscar en cuadro de lista","fr-FR":"Rechercher dans la liste de sélection","it-IT":"Cerca nella casella di elenco","ja-JP":"リストボックス内を検索","ko-KR":"목록 상자에서 검색","nl-NL":"Zoeken in keuzelijst","pl-PL":"Wyszukaj w liście wartości","pt-BR":"Pesquisar na caixa de listagem","ru-RU":"Поиск в списке","sv-SE":"Sök i listruta","tr-TR":"Liste kutusunda ara","zh-CN":"在列表框中搜索","zh-TW":"在清單方塊中搜尋"}},Menu_More:{id:"Menu.More",locale:{"de-DE":"Mehr","en-US":"More","es-ES":"Más","fr-FR":"Plus","it-IT":"Altro","ja-JP":"詳細","ko-KR":"자세히","nl-NL":"Meer","pl-PL":"Więcej","pt-BR":"Mais","ru-RU":"Дополнительно","sv-SE":"Mer","tr-TR":"Daha fazla","zh-CN":"更多","zh-TW":"更多"}},Navigate_Back:{id:"Navigate.Back",locale:{"de-DE":"Schritt zurück","en-US":"Step back","es-ES":"Atrás","fr-FR":"Retour en arrière","it-IT":"Torna indietro","ja-JP":"1 段階戻る","ko-KR":"이전 단계","nl-NL":"Stap terug","pl-PL":"Krok do tyłu","pt-BR":"Voltar uma etapa","ru-RU":"Шаг назад","sv-SE":"Gå bakåt","tr-TR":"Bir adım geri","zh-CN":"后退","zh-TW":"倒退"}},Navigate_Forward:{id:"Navigate.Forward",locale:{"de-DE":"Schritt vor","en-US":"Step forward","es-ES":"Avanzar","fr-FR":"Étape suivante","it-IT":"Vai avanti","ja-JP":"1段階進む","ko-KR":"다음 단계","nl-NL":"Stap vooruit","pl-PL":"Krok do przodu","pt-BR":"Avançar uma etapa","ru-RU":"Шаг вперед","sv-SE":"Gå framåt","tr-TR":"Bir adım ileri","zh-CN":"前进","zh-TW":"前進"}},OK:{id:"OK",locale:{"de-DE":"OK","en-US":"OK","es-ES":"Aceptar","fr-FR":"OK","it-IT":"OK","ja-JP":"OK","ko-KR":"확인","nl-NL":"OK","pl-PL":"OK","pt-BR":"OK","ru-RU":"ОК","sv-SE":"OK","tr-TR":"Tamam","zh-CN":"确定","zh-TW":"確定"}},Object_Update_Active:{id:"Object.Update.Active",locale:{"de-DE":"Laden von Daten","en-US":"Updating data","es-ES":"Cargando datos","fr-FR":"Chargement de données en cours","it-IT":"Caricamento dati in corso","ja-JP":"データのロード中","ko-KR":"데이터 로드 중","nl-NL":"Gegevens worden geladen","pl-PL":"Ładowanie danych","pt-BR":"Carregando dados","ru-RU":"Загрузка данных","sv-SE":"Laddar data","tr-TR":"Veriler yükleniyor","zh-CN":"加载数据","zh-TW":"正在載入資料"}},Object_Update_Cancelled:{id:"Object.Update.Cancelled",locale:{"de-DE":"Datenaktualisierung wurde abgebrochen","en-US":"Data update was cancelled","es-ES":"Se ha cancelado la actualización de datos","fr-FR":"Mise à jour des données annulée","it-IT":"Aggiornamento dati annullato","ja-JP":"データの更新がキャンセルされました","ko-KR":"데이터 업데이트가 취소되었습니다.","nl-NL":"Gegevensupdate is geannuleerd","pl-PL":"Aktualizacja danych została anulowana","pt-BR":"A atualização de dados foi cancelada","ru-RU":"Обновление данных отменено","sv-SE":"Datauppdateringen avbröts.","tr-TR":"Veri güncelleştirme iptal edildi","zh-CN":"数据更新已取消","zh-TW":"資料更新已取消"}},Retry:{id:"Retry",locale:{"de-DE":"Wiederholen","en-US":"Retry","es-ES":"Intentar de nuevo","fr-FR":"Réessayer","it-IT":"Riprova","ja-JP":"再試行","ko-KR":"다시 시도","nl-NL":"Opnieuw","pl-PL":"Ponów próbę","pt-BR":"Tentar novamente","ru-RU":"Повторить попытку","sv-SE":"Försök igen","tr-TR":"Yeniden dene","zh-CN":"重试","zh-TW":"重試"}},Selection_Cancel:{id:"Selection.Cancel",locale:{"de-DE":"Auswahl abbrechen","en-US":"Cancel selection","es-ES":"Cancelar selección","fr-FR":"Annuler la sélection","it-IT":"Annulla selezione","ja-JP":"選択のキャンセル","ko-KR":"선택 취소","nl-NL":"Selectie annuleren","pl-PL":"Anuluj selekcję","pt-BR":"Cancelar seleção","ru-RU":"Отменить выборку","sv-SE":"Avbryt urval","tr-TR":"Seçimi iptal et","zh-CN":"取消选择","zh-TW":"取消選取"}},Selection_Clear:{id:"Selection.Clear",locale:{"de-DE":"Auswahl löschen","en-US":"Clear selection","es-ES":"Borrar selección","fr-FR":"Effacer la sélection","it-IT":"Cancella selezione","ja-JP":"選択をクリア","ko-KR":"선택 해제","nl-NL":"Selectie wissen","pl-PL":"Wyczyść selekcję","pt-BR":"Limpar seleção","ru-RU":"Очистить выбор","sv-SE":"Rensa urval","tr-TR":"Seçimi temizle","zh-CN":"清除选择","zh-TW":"清除選項"}},Selection_ClearAll:{id:"Selection.ClearAll",locale:{"de-DE":"Alle Auswahlen löschen","en-US":"Clear all selections","es-ES":"Borrar todas las selecciones","fr-FR":"Effacer toutes les sélections","it-IT":"Cancella tutte le selezioni","ja-JP":"選択をすべてクリアする","ko-KR":"모든 선택 해제","nl-NL":"Alle selecties wissen","pl-PL":"Wyczyść wszystkie selekcje","pt-BR":"Limpar todas as seleções","ru-RU":"Очистить от всех выборок","sv-SE":"Radera alla urval","tr-TR":"Tüm seçimleri temizle","zh-CN":"清除所有选择项","zh-TW":"清除所有選項"}},Selection_ClearAllStates:{id:"Selection.ClearAllStates",locale:{"de-DE":"Alle Status löschen","en-US":"Clear all states","es-ES":"Borrar todos los estados","fr-FR":"Effacer tous les états","it-IT":"Cancella tutti gli stati","ja-JP":"全ステートをクリア","ko-KR":"모든 상태 지우기","nl-NL":"Alle states wissen","pl-PL":"Wyczyść wszystkie stany","pt-BR":"Limpar todos os estados","ru-RU":"Очистить все состояния","sv-SE":"Rensa alla tillstånd","tr-TR":"Tüm durumları temizle","zh-CN":"清除所有状态","zh-TW":"清除所有狀態"}},Selection_Confirm:{id:"Selection.Confirm",locale:{"de-DE":"Auswahl bestätigen","en-US":"Confirm selection","es-ES":"Confirmar selección","fr-FR":"Confirmer la sélection","it-IT":"Conferma selezione","ja-JP":"選択の確認","ko-KR":"선택 확인","nl-NL":"Selectie bevestigen","pl-PL":"Potwierdź selekcję","pt-BR":"Confirmar seleção","ru-RU":"Подтвердить выборку","sv-SE":"Bekräfta urval","tr-TR":"Seçimi onayla","zh-CN":"确认选择","zh-TW":"確認選取"}},Selection_Menu:{id:"Selection.Menu",locale:{"de-DE":"Auswahlmenü","en-US":"Selection menu","es-ES":"Menú de selección","fr-FR":"Menu Sélection","it-IT":"Menu Selezione","ja-JP":"選択メニュー","ko-KR":"선택 메뉴","nl-NL":"Selectiemenu","pl-PL":"Menu selekcji","pt-BR":"Menu de seleção","ru-RU":'Меню "Выборка"',"sv-SE":"Urvalsmeny","tr-TR":"Seçim menüsü","zh-CN":"选择菜单","zh-TW":"選項功能表"}},Selection_SelectAll:{id:"Selection.SelectAll",locale:{"de-DE":"Alle auswählen","en-US":"Select all","es-ES":"Seleccionar todo","fr-FR":"Sélectionner tout","it-IT":"Seleziona tutto","ja-JP":"すべて選択","ko-KR":"모두 선택","nl-NL":"Alles selecteren","pl-PL":"Wybierz wszystko","pt-BR":"Selecionar todos","ru-RU":"Выбрать все","sv-SE":"Välj alla","tr-TR":"Tümünü seç","zh-CN":"全选","zh-TW":"全選"}},Selection_SelectAlternative:{id:"Selection.SelectAlternative",locale:{"de-DE":"Alternative Werte auswählen","en-US":"Select alternative","es-ES":"Seleccionar alternativos","fr-FR":"Sélectionner des valeurs alternatives","it-IT":"Seleziona alternativi","ja-JP":"代替値を選択","ko-KR":"대안 선택","nl-NL":"Alternatief selecteren","pl-PL":"Wybierz alternatywę","pt-BR":"Selecionar alternativa","ru-RU":"Выбрать альтернативные","sv-SE":"Välj alternativ","tr-TR":"Alternatifi seç","zh-CN":"选择替代项","zh-TW":"選取替代選項"}},Selection_SelectExcluded:{id:"Selection.SelectExcluded",locale:{"de-DE":"Ausgeschlossene Werte auswählen","en-US":"Select excluded","es-ES":"Seleccionar excluidos","fr-FR":"Sélectionner les valeurs exclues","it-IT":"Seleziona esclusi","ja-JP":"除外値を選択","ko-KR":"제외 항목 선택","nl-NL":"Uitgesloten waarden selecteren","pl-PL":"Wybierz wykluczone","pt-BR":"Selecionar excluído","ru-RU":"Выбрать исключенные","sv-SE":"Välj uteslutna","tr-TR":"Hariç tutulanı seç","zh-CN":"选择排除项","zh-TW":"選取排除值"}},Selection_SelectPossible:{id:"Selection.SelectPossible",locale:{"de-DE":"Wählbare Werte auswählen","en-US":"Select possible","es-ES":"Seleccionar posibles","fr-FR":"Sélectionner les valeurs possibles","it-IT":"Seleziona possibili","ja-JP":"絞込値を選択","ko-KR":"사용 가능 항목 선택","nl-NL":"Mogelijke waarden selecteren","pl-PL":"Wybierz możliwe","pt-BR":"Selecionar possível","ru-RU":"Выбрать возможные","sv-SE":"Välj möjliga","tr-TR":"Olasıyı seç","zh-CN":"选择可能值","zh-TW":"選取可能值"}},Visualization_Incomplete:{id:"Visualization.Incomplete",locale:{"de-DE":"Unvollständige Visualisierung","en-US":"Incomplete visualization","es-ES":"Visualización incompleta","fr-FR":"Visualisation incomplète","it-IT":"Visualizzazione incompleta","ja-JP":"未完了のビジュアライゼーション","ko-KR":"완료되지 않은 시각화","nl-NL":"Onvolledige visualisatie","pl-PL":"Niekompletna wizualizacja","pt-BR":"Visualização incompleta","ru-RU":"Незавершенная визуализация","sv-SE":"Ofullständig visualisering","tr-TR":"Tamamlanmamış görselleştirme","zh-CN":"不完整的可视化","zh-TW":"視覺化未完成"}},Visualization_Incomplete_Dimensions:{id:"Visualization.Incomplete.Dimensions",locale:{"de-DE":"{0} von {1} Dimensionen","en-US":"{0} of {1} dimensions","es-ES":"{0} de {1} dimensiones","fr-FR":"{0} dimensions sur {1}","it-IT":"{0} di {1} dimensioni","ja-JP":"{0} / {1} 軸","ko-KR":"{1} 차원의 {0}","nl-NL":"{0} van {1} dimensies","pl-PL":"{0} z {1} wymiarów","pt-BR":"{0} de {1} dimensões","ru-RU":"Измерения: {0} из {1}","sv-SE":"{0} av {1} dimensioner","tr-TR":"{0}/{1} boyut","zh-CN":"{0} / {1} 个维度","zh-TW":"{1} 個維度中的 {0} 個"}},Visualization_Incomplete_Measures:{id:"Visualization.Incomplete.Measures",locale:{"de-DE":"{0} von {1} Kennzahlen","en-US":"{0} of {1} measures","es-ES":"{0} de {1} medidas","fr-FR":"{0} mesures sur {1}","it-IT":"{0} di {1} misure","ja-JP":"{0} / {1} メジャー","ko-KR":"{1} 측정값의 {0}","nl-NL":"{0} van {1} metingen","pl-PL":"{0} z {1} miar","pt-BR":"{0} de {1} medidas","ru-RU":"Меры: {0} из {1}","sv-SE":"{0} av {1} mått","tr-TR":"{0}/{1} hesaplama","zh-CN":"{0} / {1} 个度量","zh-TW":"{1} 個量值中的 {0} 個"}},Visualization_Invalid_Dimension:{id:"Visualization.Invalid.Dimension",locale:{"de-DE":"Ungültige Dimension","en-US":"Invalid dimension","es-ES":"Dimensión no válida","fr-FR":"Dimension non valide","it-IT":"Dimensione non valida","ja-JP":"無効な軸です","ko-KR":"잘못된 차원","nl-NL":"Ongeldige dimensie","pl-PL":"Nieprawidłowy wymiar","pt-BR":"Dimensão inválida","ru-RU":"Недопустимое измерение","sv-SE":"Ogiltig dimension","tr-TR":"Geçersiz boyut","zh-CN":"无效维度","zh-TW":"維度無效"}},Visualization_Invalid_Measure:{id:"Visualization.Invalid.Measure",locale:{"de-DE":"Ungültige Kennzahl","en-US":"Invalid measure","es-ES":"Medida no válida","fr-FR":"Mesure non valide","it-IT":"Misura non valida","ja-JP":"無効なメジャーです","ko-KR":"잘못된 측정값","nl-NL":"Ongeldige meting","pl-PL":"Nieprawidłowa miara","pt-BR":"Medida inválida","ru-RU":"Недопустимая мера","sv-SE":"Ogiltigt mått","tr-TR":"Geçersiz hesaplama","zh-CN":"无效度量项","zh-TW":"量值無效"}},Visualization_LayoutError:{id:"Visualization.LayoutError",locale:{"de-DE":"Fehler","en-US":"Error","es-ES":"Error","fr-FR":"Erreur","it-IT":"Errore","ja-JP":"エラー","ko-KR":"오류","nl-NL":"Fout","pl-PL":"Błąd","pt-BR":"Erro","ru-RU":"Ошибка","sv-SE":"Fel","tr-TR":"Hata","zh-CN":"错误","zh-TW":"錯誤"}},Visualization_UnfulfilledCalculationCondition:{id:"Visualization.UnfulfilledCalculationCondition",locale:{"de-DE":"Die Berechnungsbedingung ist nicht erfüllt","en-US":"The calculation condition is not fulfilled","es-ES":"La condición de cálculo no se cumple","fr-FR":"Condition de calcul non remplie","it-IT":"La condizione di calcolo non è soddisfatta","ja-JP":"演算実行条件が満たされていません","ko-KR":"계산 조건이 충족되지 않았습니다.","nl-NL":"Er is niet aan de berekeningsvoorwaarde voldaan","pl-PL":"Warunek obliczenia nie jest spełniony","pt-BR":"A condição de cálculo não foi atendida","ru-RU":"Условие вычисления не выполнено","sv-SE":"Beräkningsvillkoret uppfylls inte","tr-TR":"Hesaplama koşulu yerine getirilmedi","zh-CN":"不满足计算条件","zh-TW":"不符計算條件"}}};function X(e){var t=K({initial:e});return Object.keys($).forEach((function(e){t.translator.add($[e])})),{translator:t.translator}}var Z={};function J(){J.init.call(this)}Z.isObject=function(e){return"object"==typeof e&&null!==e},Z.isNumber=function(e){return"number"==typeof e},Z.isUndefined=function(e){return void 0===e},Z.isFunction=function(e){return"function"==typeof e};var Y=J;J.EventEmitter=J,J.prototype._events=void 0,J.prototype._maxListeners=void 0,J.defaultMaxListeners=10,J.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},J.prototype.setMaxListeners=function(e){if(!Z.isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},J.prototype.emit=function(e){var t,n,r,o,i,a;if(this._events||(this._events={}),"error"===e&&!this._events.error)throw(t=arguments[1])instanceof Error?t:Error('Uncaught, unspecified "error" event.');if(n=this._events[e],Z.isUndefined(n))return!1;if(Z.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];n.apply(this,o)}else if(Z.isObject(n)){for(r=arguments.length,o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];for(r=(a=n.slice()).length,i=0;i<r;i++)a[i].apply(this,o)}return!0},J.prototype.addListener=function(e,t){var n;if(!Z.isFunction(t))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Z.isFunction(t.listener)?t.listener:t),this._events[e]?Z.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Z.isObject(this._events[e])&&!this._events[e].warned)&&(n=Z.isUndefined(this._maxListeners)?J.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,Z.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),Z.isFunction(console.trace)&&console.trace());return this},J.prototype.on=J.prototype.addListener,J.prototype.once=function(e,t){if(!Z.isFunction(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},J.prototype.removeListener=function(e,t){var n,r,o,i;if(!Z.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||Z.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Z.isObject(n)){for(i=o;i-- >0;)if(n[i]===t||n[i].listener&&n[i].listener===t){r=i;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},J.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],Z.isFunction(n))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},J.prototype.listeners=function(e){return this._events&&this._events[e]?Z.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},J.listenerCount=function(e,t){return e._events&&e._events[t]?Z.isFunction(e._events[t])?1:e._events[t].length:0};var Q=Object.prototype.hasOwnProperty,ee=Object.prototype.toString,te=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,re=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===ee.call(e)},oe=function(e){if(!e||"[object Object]"!==ee.call(e))return!1;var t,n=Q.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Q.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||Q.call(e,t)},ie=function(e,t){te&&"__proto__"===t.name?te(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},ae=function(e,t){if("__proto__"===t){if(!Q.call(e,t))return;if(ne)return ne(e,t).value}return e[t]},le=function e(){var t,n,r,o,i,a,l=arguments[0],u=1,s=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},u=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});u<s;++u)if(null!=(t=arguments[u]))for(n in t)r=ae(l,n),l!==(o=ae(t,n))&&(c&&o&&(oe(o)||(i=re(o)))?(i?(i=!1,a=r&&re(r)?r:[]):a=r&&oe(r)?r:{},ie(l,{name:n,newValue:e(c,a,o)})):void 0!==o&&ie(l,{name:n,newValue:o}));return l},ue={fontSize:"13px",fontFamily:"'Source Sans Pro', 'Arial', 'sans-serif'",backgroundColor:"transparent",dataColors:{primaryColor:"#26a0a7",othersColor:"#a5a5a5",errorColor:"#ff4444",nullColor:"#d2d2d2"},scales:[{name:"Sequential Gradient",translation:"properties.colorScheme.sequential",type:"gradient",propertyValue:"sg",scale:["#26a0a7","#c7ea8b"]},{name:"Sequential Classes",translation:"properties.colorScheme.sequentialC",propertyValue:"sc",type:"class",scale:["#26a0a7","#c7ea8b"]},{name:"Diverging gradient",translation:"properties.colorScheme.diverging",propertyValue:"dg",type:"gradient",scale:["#26a0a7","#c3ea8c","#ec983d"]},{name:"Diverging Classes",translation:"properties.colorScheme.divergingC",propertyValue:"dc",type:"class",scale:["#26a0a7","#c3ea8c","#ec983d"]}],palettes:{data:[{name:"12 Colors",translation:"properties.colorNumberOfColors.12",propertyValue:"12",type:"pyramid",scale:[["#26A0A7"],["#26A0A7","#EC983D"],["#26A0A7","#CBE989","#EC983D"],["#26A0A7","#79D69F","#F9EC86","#EC983D"],["#26A0A7","#79D69F","#CBE989","#F9EC86","#EC983D"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#EC983D"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#EC983D","#D76C6C"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C","#A54343"],["#138185","#26A0A7","#65D3DA","#79D69F","#70BA6E","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C","#A54343"]]}],ui:[{name:"Palette",colors:["#b0afae","#7b7a78","#a54343","#d76c6c","#ec983d","#ecc43d","#f9ec86","#cbe989","#70ba6e","#578b60","#79d69f","#26a0a7","#138185","#65d3da","#ffffff","#000000"]}]}},se={_variables:{"@B20":"#333333","@B35":"#595959","@B45":"#737373","@B50":"#808080","@B60":"#999999","@B80":"#cccccc","@B90":"#e6e6e6","@B98":"#fbfbfb","@B100":"#ffffff","@H1":"24px","@H2":"18px","@H3":"14px","@H4":"13px","@H5":"12px","@H6":"10px"},type:"light",color:"@B35"},ce={_variables:{"@B20":"#333333","@B35":"#595959","@B45":"#737373","@B50":"#808080","@B60":"#999999","@B80":"#cccccc","@B90":"#e6e6e6","@B98":"#fbfbfb","@B100":"#ffffff","@H1":"24px","@H2":"18px","@H3":"14px","@H4":"13px","@H5":"12px","@H6":"10px"},type:"dark",color:"@B98"};function fe(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function de(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pe(){}var me=1/.7,he="\\s*([+-]?\\d+)\\s*",ge="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ye="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ve=/^#([0-9a-f]{3,8})$/,be=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),xe=new RegExp("^rgb\\("+[ye,ye,ye]+"\\)$"),Me=new RegExp("^rgba\\("+[he,he,he,ge]+"\\)$"),Oe=new RegExp("^rgba\\("+[ye,ye,ye,ge]+"\\)$"),we=new RegExp("^hsl\\("+[ge,ye,ye]+"\\)$"),Se=new RegExp("^hsla\\("+[ge,ye,ye,ge]+"\\)$"),ke={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ce(){return this.rgb().formatHex()}function Ee(){return this.rgb().formatRgb()}function Ae(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ve.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?qe(t):3===n?new Le(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?De(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?De(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=be.exec(e))?new Le(t[1],t[2],t[3],1):(t=xe.exec(e))?new Le(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Me.exec(e))?De(t[1],t[2],t[3],t[4]):(t=Oe.exec(e))?De(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=we.exec(e))?Re(t[1],t[2]/100,t[3]/100,1):(t=Se.exec(e))?Re(t[1],t[2]/100,t[3]/100,t[4]):ke.hasOwnProperty(e)?qe(ke[e]):"transparent"===e?new Le(NaN,NaN,NaN,0):null}function qe(e){return new Le(e>>16&255,e>>8&255,255&e,1)}function De(e,t,n,r){return r<=0&&(e=t=n=NaN),new Le(e,t,n,r)}function Te(e){return e instanceof pe||(e=Ae(e)),e?new Le((e=e.rgb()).r,e.g,e.b,e.opacity):new Le}function Ne(e,t,n,r){return 1===arguments.length?Te(e):new Le(e,t,n,null==r?1:r)}function Le(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ie(){return"#"+Pe(this.r)+Pe(this.g)+Pe(this.b)}function je(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Pe(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Re(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ze(e,t,n,r)}function _e(e){if(e instanceof ze)return new ze(e.h,e.s,e.l,e.opacity);if(e instanceof pe||(e=Ae(e)),!e)return new ze;if(e instanceof ze)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new ze(a,l,u,e.opacity)}function ze(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Fe(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}fe(pe,Ae,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ce,formatHex:Ce,formatHsl:function(){return _e(this).formatHsl()},formatRgb:Ee,toString:Ee}),fe(Le,Ne,de(pe,{brighter:function(e){return e=null==e?me:Math.pow(me,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ie,formatHex:Ie,formatRgb:je,toString:je})),fe(ze,(function(e,t,n,r){return 1===arguments.length?_e(e):new ze(e,t,n,null==r?1:r)}),de(pe,{brighter:function(e){return e=null==e?me:Math.pow(me,e),new ze(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ze(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Le(Fe(e>=240?e-240:e+120,o,r),Fe(e,o,r),Fe(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colorParts=[],this.startLevel=0,this.max=1,this.min=0,this.nanColor=Ae(t)}var t,n,r;return t=e,(n=[{key:"addColorPart",value:function(e,t,n){n=n||0,this.startLevel=Math.max(n,this.startLevel),this.colorParts[n]||(this.colorParts[n]=[]),this.colorParts[n].push([Ae(e),Ae(t)])}},{key:"getColor",value:function(e,t){var n=e-this.min;if(Number.isNaN(+e)||Number.isNaN(+n))return this.nanColor;t=function(e,t){return Math.min(t||e.startLevel,e.colorParts.length-1)}(this,t);var r=function(e,t){return t-(e=Math.min(Math.max(e,1e-12),.999999999999))*t}(n,this.colorParts[t].length),o=Math.floor(r);o=o===r?o-1:o;var i=this.colorParts[t][o],a=i[0],l=i[1];return e===this.min?l:e===this.max?a:function(e,t,n){return Ne(Math.floor(e.r+(t.r-e.r)*n),Math.floor(e.g+(t.g-e.g)*n),Math.floor(e.b+(t.b-e.b)*n),Math.floor(e.opacity+(t.opacity-e.opacity)*n))}(a,l,r-o)}}])&&I(t.prototype,n),r&&I(t,r),e}();function He(e,t,n){var r=.25+(t+1)/n*.25,o=.5-r;return o+e/1*(.5+r-o)}function Be(e,t,n){var r=[],o=new Ue(t);r.push(e[0]),n||r.push(e[0]);for(var i=1;i<e.length-1;i++)r.push(e[i]),r.push(e[i]);r.push(e[i]),n||r.push(e[i]);for(var a=0;a<r.length;a+=2)o.addColorPart(r[a],r[a+1]);return o}function Ve(e,t,n){for(var r=[],o=0;o<t+1;o++){var i=void 0;switch(t){case 0:i=e.getColor(.5);break;default:var a=He(1/t*o,t,n);i=e.getColor(a)}r.push(Ae(i).formatHex())}return r}function We(e,t,n){for(var r=Be(e,n,!0),o=Be(Ve(r,t-1,t),n,!1),i=[null],a=0;a<t;a++)i.push(Ve(o,a,t));return i}function Ge(e,t){var n,r,o=[];if(e)for(var i=e.length;i>=0;){for(r=(n=t.slice()).length;r>=0;)o.push(n.concat(e)),n.pop(),r--;e.pop(),i--}else for(r=(n=t.slice()).length;r>=0;)o.push(n.concat()),n.pop(),r--;return o}function Ke(e,t){for(var n=e,r=0;r<t.length;r++){if(!n[t[r]])return null;n=n[t[r]]}return n}function $e(e,t,n,r){var o;o=Ge(""===e?null:e.split("."),n);return function(e,t,n){for(var r=0;r<e.length;r++){var o=Ke(n,e[r]);if(null!==o&&o[t])return o[t]}}(o,t,r)}function Xe(e,t){var n=e.split(".");return{getStyle:function(e,r){return $e(e,r,n.concat(),t)}}}function Ze(e){var t=Ae(e).rgb(),n=F([t.r,t.g,t.b].map((function(e){return e/255})),3),r=F([n[0],n[1],n[2]].map((function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),3);return+(.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(5)}function Je(e,t){return+((Math.max(e,t)+.05)/(Math.min(e,t)+.05)).toFixed(5)}Xe.resolveRawTheme=function(e){var t=le(!0,{},e);return function e(t,n){Object.keys(t).forEach((function(r){"object"===T(t[r])&&null!==t[r]?e(t[r],n):"string"==typeof t[r]&&"@"===t[r].charAt(0)&&(t[r]=n[t[r]])}))}(t,t._variables),t.scales&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#d2d2d2";e.forEach((function(e){if("class"===e.type){var n=We(e.scale,Math.max(e.scale.length,7),t);e.scale=n,e.type="class-pyramid"}}))}(t.scales,t.dataColors&&t.dataColors.nullColor),t};function Ye(){var e,t,n,r={},o={getDataColorScales:function(){return t.dataScales()},getDataColorPalettes:function(){return t.dataPalettes()},getDataColorPickerPalettes:function(){return t.uiPalettes()},getDataColorSpecials:function(){return t.dataColors()},getColorPickerColor:function(){var e;return(e=t).uiColor.apply(e,arguments)},getContrastingColorTo:function(e){return n.getBestContrastColor(e)},getStyle:function(t,n,o){return r[t]||(r[t]=Xe(t,e)),r[t].getStyle(n,o,!1)}},i={setTheme:function(i,a){var l,u;e=function(e,t){var n="dark"===e.type?ce:se,r=le(!0,{},ue,n),o=le(!0,{},r,{scales:null,palettes:{data:null,ui:null}},e);return o.palettes.data&&o.palettes.data.length||(o.palettes.data=r.palettes.data),o.palettes.ui&&o.palettes.ui.length||(o.palettes.ui=r.palettes.ui),o.scales&&o.scales.length||(o.scales=r.scales),t(o)}(i,Xe.resolveRawTheme),r={},l=e,t={dataScales:function(){var e=[];return l.scales.forEach((function(t){e.push({key:t.propertyValue,name:t.name,translation:t.translation,scheme:!0,type:t.type,colors:t.scale})})),e},dataPalettes:function(){var e=[];return l.palettes.data.forEach((function(t){e.push({key:t.propertyValue,name:t.name,translation:t.translation,type:t.type,colors:t.scale})})),e},uiPalettes:function(){var e=[];return l.palettes.ui.forEach((function(t){e.push({key:"ui",name:t.name,translation:t.translation,type:"row",colors:t.colors})})),e},dataColors:function(){return{primary:l.dataColors.primaryColor,nil:l.dataColors.nullColor,others:l.dataColors.othersColor}},uiColor:function(e){return e.index<0||void 0===e.index?e.color:(void 0===u&&(u=this.uiPalettes()[0]||!1),u?void 0===u.colors[e.index]?e.color:u.colors[e.index]:e.color)}};var s=o.getStyle("","","color"),c=Ze(s);n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["#333333","#ffffff"],t={},n=0,r=e.map(Ze);return{getBestContrastColor:function(o){if(!t[o]){n>1e3&&(t={},n=0);var i=Ze(o),a=r.map((function(e){return Je(i,e)})),l=e[a.indexOf(Math.max.apply(Math,U(a)))];t[o]=l,n++}return t[o]}}}([s,c<.2?"#ffffff":"#333333"]),o.emit("changed"),o.name=function(){return a}}};return Object.keys(Y.prototype).forEach((function(e){o[e]=Y.prototype[e]})),Y.init(o),i.setTheme({},"light"),{externalAPI:o,internalAPI:i}}var Qe=function(e,t){return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))};function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themes,n=void 0===t?[]:t,r=e.root,o=Ye(),i=function(){var e=L(regeneratorRuntime.mark((function e(t){var i,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.filter((function(e){return e.id===t}))[0],a="dark"===t?"dark":"light",!i||!i.load){e.next=15;break}return e.prev=3,e.next=6,Promise.race([i.load(),Qe(5e3,{__timedOut:!0})]);case 6:(l=e.sent).__timedOut||(a="dark"===l.type?"dark":"light",o.internalAPI.setTheme(l,t),r.setMuiThemeName(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3);case 13:e.next=17;break;case 15:o.internalAPI.setTheme({type:a},t),r.setMuiThemeName(a);case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return{setTheme:i,externalAPI:o.externalAPI}}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e){return(rt="function"==typeof Symbol&&"symbol"===nt(Symbol.iterator)?function(e){return nt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":nt(e)})(e)}function ot(e){return e&&"object"===rt(e)&&e.constructor===Object}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?tt({},e):e;return ot(e)&&ot(t)&&Object.keys(t).forEach((function(o){"__proto__"!==o&&(ot(t[o])&&o in e?r[o]=it(e[o],t[o],n):r[o]=t[o])})),r}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function st(e){if(e.type)return e;if("#"===e.charAt(0))return st(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(lt(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function ct(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function ft(e){var t="hsl"===(e=st(e)).type?st(function(e){var t=(e=st(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),ct({type:l,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function dt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var pt=["xs","sm","md","lg","xl"];function mt(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,i=e.step,a=void 0===i?5:i,l=dt(e,["values","unit","step"]);function u(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function s(e,t){var r=pt.indexOf(t);return r===pt.length-1?u(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[pt[r+1]]?n[pt[r+1]]:t)-a/100).concat(o,")")}return tt({keys:pt,values:n,up:u,down:function(e){var t=pt.indexOf(e)+1,r=n[pt[t]];return t===pt.length?u("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-a/100).concat(o,")")},between:s,only:function(e){return s(e,e)},width:function(e){return n[e]}},l)}function ht(e,t,n){var r;return tt({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tt({paddingLeft:t(2),paddingRight:t(2)},n,at({},e.up("sm"),tt({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},at(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),at(r,e.up("sm"),{minHeight:64}),r)},n)}var gt={black:"#000",white:"#fff"},yt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},vt="#7986cb",bt="#3f51b5",xt="#303f9f",Mt="#ff4081",Ot="#f50057",wt="#c51162",St="#e57373",kt="#f44336",Ct="#d32f2f",Et="#ffb74d",At="#ff9800",qt="#f57c00",Dt="#64b5f6",Tt="#2196f3",Nt="#1976d2",Lt="#81c784",It="#4caf50",jt="#388e3c",Pt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gt.white,default:yt[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Rt={text:{primary:gt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:yt[800],default:"#303030"},action:{active:gt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _t(e,t,n,r){var o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=function(e,t){if(e=st(e),t=ut(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return ct(e)}(e.main,o):"dark"===t&&(e.dark=function(e,t){if(e=st(e),t=ut(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ct(e)}(e.main,i)))}function zt(e){var t=e.primary,n=void 0===t?{light:vt,main:bt,dark:xt}:t,r=e.secondary,o=void 0===r?{light:Mt,main:Ot,dark:wt}:r,i=e.error,a=void 0===i?{light:St,main:kt,dark:Ct}:i,l=e.warning,u=void 0===l?{light:Et,main:At,dark:qt}:l,s=e.info,c=void 0===s?{light:Dt,main:Tt,dark:Nt}:s,f=e.success,d=void 0===f?{light:Lt,main:It,dark:jt}:f,p=e.type,m=void 0===p?"light":p,h=e.contrastThreshold,g=void 0===h?3:h,y=e.tonalOffset,v=void 0===y?.2:y,b=dt(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){return function(e,t){var n=ft(e),r=ft(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Rt.text.primary)>=g?Rt.text.primary:Pt.text.primary}var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=tt({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(lt(4,t));if("string"!=typeof e.main)throw new Error(lt(5,JSON.stringify(e.main)));return _t(e,"light",n,v),_t(e,"dark",r,v),e.contrastText||(e.contrastText=x(e.main)),e},O={dark:Rt,light:Pt};return it(tt({common:gt,type:m,primary:M(n),secondary:M(o,"A400","A200","A700"),error:M(a),warning:M(u),info:M(c),success:M(d),grey:yt,contrastThreshold:g,getContrastText:x,augmentColor:M,tonalOffset:v},O[m]),b)}function Ft(e){return Math.round(1e5*e)/1e5}var Ut={textTransform:"uppercase"};function Ht(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,o=void 0===r?'"Roboto", "Helvetica", "Arial", sans-serif':r,i=n.fontSize,a=void 0===i?14:i,l=n.fontWeightLight,u=void 0===l?300:l,s=n.fontWeightRegular,c=void 0===s?400:s,f=n.fontWeightMedium,d=void 0===f?500:f,p=n.fontWeightBold,m=void 0===p?700:p,h=n.htmlFontSize,g=void 0===h?16:h,y=n.allVariants,v=n.pxToRem,b=dt(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),x=a/14,M=v||function(e){return"".concat(e/g*x,"rem")},O=function(e,t,n,r,i){return tt({fontFamily:o,fontWeight:e,fontSize:M(t),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===o?{letterSpacing:"".concat(Ft(r/t),"em")}:{},i,y)},w={h1:O(u,96,1.167,-1.5),h2:O(u,60,1.2,-.5),h3:O(c,48,1.167,0),h4:O(c,34,1.235,.25),h5:O(c,24,1.334,0),h6:O(d,20,1.6,.15),subtitle1:O(c,16,1.75,.15),subtitle2:O(d,14,1.57,.1),body1:O(c,16,1.5,.15),body2:O(c,14,1.43,.15),button:O(d,14,1.75,.4,Ut),caption:O(c,12,1.66,.4),overline:O(c,12,2.66,1,Ut)};return it(tt({htmlFontSize:g,pxToRem:M,round:Ft,fontFamily:o,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:m},w),b,{clone:!1})}function Bt(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Vt=["none",Bt(0,2,1,-1,0,1,1,0,0,1,3,0),Bt(0,3,1,-2,0,2,2,0,0,1,5,0),Bt(0,3,3,-2,0,3,4,0,0,1,8,0),Bt(0,2,4,-1,0,4,5,0,0,1,10,0),Bt(0,3,5,-1,0,5,8,0,0,1,14,0),Bt(0,3,5,-1,0,6,10,0,0,1,18,0),Bt(0,4,5,-2,0,7,10,1,0,2,16,1),Bt(0,5,5,-3,0,8,10,1,0,3,14,2),Bt(0,5,6,-3,0,9,12,1,0,3,16,2),Bt(0,6,6,-3,0,10,14,1,0,4,18,3),Bt(0,6,7,-4,0,11,15,1,0,4,20,3),Bt(0,7,8,-4,0,12,17,2,0,5,22,4),Bt(0,7,8,-4,0,13,19,2,0,5,24,4),Bt(0,7,9,-4,0,14,21,2,0,5,26,4),Bt(0,8,9,-5,0,15,22,2,0,6,28,5),Bt(0,8,10,-5,0,16,24,2,0,6,30,5),Bt(0,8,11,-5,0,17,26,2,0,6,32,5),Bt(0,9,11,-5,0,18,28,2,0,7,34,6),Bt(0,9,12,-6,0,19,29,2,0,7,36,6),Bt(0,10,13,-6,0,20,31,3,0,8,38,7),Bt(0,10,13,-6,0,21,33,3,0,8,40,7),Bt(0,10,14,-6,0,22,35,3,0,8,42,7),Bt(0,11,14,-7,0,23,36,3,0,9,44,8),Bt(0,11,15,-7,0,24,38,3,0,9,46,8)],Wt={borderRadius:4};function Gt(e){var t=e.spacing||8;return"number"==typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"==typeof t?t:function(){}}function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Gt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var $t={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Xt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zt(e){return"".concat(Math.round(e),"ms")}var Jt={easing:$t,duration:Xt,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Xt.standard:n,o=t.easing,i=void 0===o?$t.easeInOut:o,a=t.delay,l=void 0===a?0:a;dt(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:Zt(r)," ").concat(i," ").concat("string"==typeof l?l:Zt(l))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Yt={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var Qt={typography:{fontSize:14,htmlFontSize:16,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:600,fontFamily:['"Source Sans Pro"','"Segoe UI"','"Helvetica Neue"',"-apple-system","Arial","sans-serif"].join(","),button:{textTransform:"initial",fontWeight:400}},shape:{borderRadius:2},shadows:["none","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)"],props:{MuiButtonBase:{disableRipple:!0,disableTouchRipple:!0,focusRipple:!1}}},en="#009845",tn="#3F8AB3",nn="#ffffff",rn="#404040",on="#333333",an="#1A1A1A",ln={type:"light",palette:{primary:{main:rn,contrastText:nn},secondary:{light:"#0AAF54",main:"#009845",dark:"#006937"},text:{primary:rn,secondary:"rgba(0, 0, 0, 0.55)",disabled:"rgba(0, 0, 0, 0.3)"},action:{active:rn,hover:"rgba(0, 0, 0, 0.03)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.05)",disabled:"rgba(0, 0, 0, 0.3)",disabledBackground:"rgba(0, 0, 0, 0.12)"},background:{paper:nn,default:nn,lightest:nn,lighter:"#FBFBFB",darker:"#F2F2F2",darkest:"#E6E6E6"},custom:{focusBorder:tn,focusOutline:"rgba(70, 157, 205, 0.3)",inputBackground:"rgba(255, 255, 255, 1)"},selected:{main:en,alternative:"#E4E4E4",excluded:"#BEBEBE",mainContrastText:nn,alternativeContrastText:rn,excludedContrastText:rn},btn:{normal:"rgba(255, 255, 255, 0.6)",hover:"rgba(0, 0, 0, 0.03)",active:"rgba(0, 0, 0, 0.1)",disabled:"rgba(255, 255, 255, 0.6)",border:"rgba(0, 0, 0, 0.15)",borderHover:"rgba(0, 0, 0, 0.15)"}}},un={type:"dark",palette:{primary:{main:on,contrastText:nn},secondary:{light:"#0AAF54",main:"#009845",dark:"#006937"},text:{primary:nn,secondary:"rgba(255, 255, 255, 0.6)",disabled:"rgba(255, 255, 255, 0.3)"},action:{active:nn,hover:"rgba(255, 255, 255, 0.05)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.03)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(0, 0, 0, 0.12)"},divider:"rgba(0,0,0,0.3)",background:{default:"#323232",paper:"#323232",lightest:rn,lighter:on,darker:"#262626",darkest:an},custom:{focusBorder:tn,focusOutline:"rgba(70, 157, 205, 0.3)",inputBackground:"rgba(0, 0, 0, 0.2)"},selected:{main:en,alternative:on,excluded:an,mainContrastText:nn,alternativeContrastText:nn,excludedContrastText:nn},btn:{normal:"rgba(255, 255, 255, 0.15)",hover:"rgba(255, 255, 255, 0.25)",active:"rgba(0, 0, 0, 0.6)",disabled:"rgba(255, 255, 255, 0.15)",border:"rgba(0, 0, 0, 0.15)",borderHover:"rgba(0, 0, 0, 0.30)"}}},sn={},cn=function(e){return{MuiTypography:{root:{color:e.palette.text.primary}},MuiIconButton:{root:{padding:7,borderRadius:2,border:"1px solid transparent","&:focus":{borderColor:e.palette.custom.focusBorder,boxShadow:"0 0 0 2px ".concat(e.palette.custom.focusOutline)}}},MuiOutlinedInput:{root:{backgroundColor:e.palette.custom.inputBackground,"&:hover $notchedOutline":{borderColor:e.palette.btn.border},"&$focused $notchedOutline":{borderColor:e.palette.custom.focusBorder,borderWidth:2}}},MuiButton:{outlined:{padding:"3px 11px","&$focusVisible":{borderColor:e.palette.custom.focusBorder,boxShadow:"0 0 0 2px ".concat(e.palette.custom.focusOutline)}},contained:{color:e.palette.text.primary,padding:"3px 11px",border:"1px solid ".concat(e.palette.btn.border),backgroundColor:e.palette.btn.normal,boxShadow:"none","&$focusVisible":{borderColor:e.palette.custom.focusBorder,boxShadow:"0 0 0 2px ".concat(e.palette.custom.focusOutline)},"&:hover":{backgroundColor:e.palette.btn.hover,borderColor:e.palette.btn.borderHover,boxShadow:"none","&$disabled":{backgroundColor:e.palette.btn.disabled}},"&:active":{boxShadow:"none",backgroundColor:e.palette.btn.active},"&$disabled":{backgroundColor:e.palette.btn.disabled}}},MuiExpansionPanelSummary:{content:{margin:"8px 0"}}}};function fn(e){var t=ln,n="";"string"==typeof e&&(n=e,"light"!==e&&"dark"!==e?console.warn("Invalid theme: '".concat(e,"'")):"dark"===e&&(t=un));var r=JSON.stringify(t);if(sn[r])return sn[r];var o={palette:_(_({type:t.type},Qt.palette),t.palette),typography:_({},Qt.typography),shadows:Qt.shadows,props:_({},Qt.props),shape:_({},Qt.shape)};return sn[r]=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,i=e.palette,a=void 0===i?{}:i,l=e.spacing,u=e.typography,s=void 0===u?{}:u,c=dt(e,["breakpoints","mixins","palette","spacing","typography"]),f=zt(a),d=mt(n),p=Kt(l),m=it({breakpoints:d,direction:"ltr",mixins:ht(d,p,o),overrides:{},palette:f,props:{},shadows:Vt,typography:Ht(f,s),spacing:p,shape:Wt,transitions:Jt,zIndex:Yt},c),h=arguments.length,g=new Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return g.reduce((function(e,t){return it(e,t)}),m)}(_(_({},o),{},{overrides:cn(o)})),sn[r].name=n,sn[r]}var dn=o.a.createContext({language:null,theme:null,translator:null,constraints:{}}),pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=e,o=[],i={get:function(e){return n[e]},set:function(e,r){if(void 0===e||"object"===T(e))throw new Error("Invalid key: ".concat(JSON.stringify(e)));return n[e]=r,t({type:"SET",value:r}),r},clear:function(e){if(void 0===e||"object"===T(e))throw new Error("Invalid key: ".concat(JSON.stringify(e)));n[e]=null},dispatch:function(e){o.forEach((function(t){return t(e?{}:n)}))}},a=function(){var e=F(Object(r["useState"])(n),2)[1];return Object(r["useEffect"])((function(){return o.push(e),function(){var t=o.indexOf(e);o.splice(t,1)}}),[e]),[i]};return[a,i]},mn=F(pn({}),2),hn=mn[0],gn=mn[1],yn=F(pn({}),2),vn=yn[0],bn=yn[1],xn=F(pn({}),2),Mn=xn[0],On=xn[1],wn=F(pn({}),2),Sn=(wn[0],wn[1]),kn=F(pn({}),2),Cn=kn[0],En=kn[1],An=F(pn({}),2)[1],qn=function(e){var t=e.type,n=e.value,r=An.get(n.id);An.set(n.id,{});var o=function(){bn.clear(n.id),En.set(n.id,{}),En.dispatch(!0)},i=function(){n.removeListener("changed",o),gn.clear(n.id),bn.clear(n.id),On.clear(n.id),Sn.clear(n.id),En.clear(n.id),An.clear(n.id)};switch(t){case"SET":r||(n.on("changed",o),n.once("closed",(function(){i()})))}return i},Dn=F(pn({},qn),2),Tn=Dn[0],Nn=Dn[1],Ln=function(e){var t=qn({type:"SET",value:e});return function(){t(),Nn.clear(e.id)}},In=function(e,t){var n,r=t.rpcResultStore,o=t.key,i=t.method;switch(t.type){case"INVALID":n=_(_({},e),{},{valid:!1,invalid:!0,validating:!0,canCancel:!0,canRetry:!1,rpcRetry:!1});break;case"VALID":n={result:_({},t.result),invalid:!1,valid:!0,validating:!1,canCancel:!1,canRetry:!1,rpcRetry:!1};break;case"CANCELLED":n=_(_({},e),{},{invalid:!0,valid:!1,validating:!1,canCancel:!1,canRetry:!0,rpcRetry:!1});break;default:throw new Error("Undefined action")}var a=r.get(o);return a||(a={}),a[i]=n,r.set(o,a),n};function jn(e,t){var n,o=e?"".concat(e.id):null,i=F(hn(),1)[0],a=F(Object(r["useReducer"])(In,o?i.get(o):null),2),l=a[0],u=a[1],s=F(Cn(),1)[0],c=F(vn(),1)[0];o&&((n=c.get(o))||(n={},c.set(o,n)));var f,d=function(){var r=L(regeneratorRuntime.mark((function r(a){var l,s,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(!(l=n[t])||l&&l.rpcRetry)&&(s=e[t](),l={rpc:s,rpcRetry:!1},n[t]=l,u({type:"INVALID",method:t,key:o,model:e,rpcResultStore:i,canCancel:!0})),r.prev=2,r.next=5,l.rpc;case 5:c=r.sent,u({type:"VALID",result:c,key:o,method:t,model:e,rpcResultStore:i}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),15!==r.t0.code||a||(l.rpcRetry||(l.rpcRetry=!0),d(!0));case 12:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}(),p={cancel:(f=L(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.session.getObjectApi({handle:-1}),r.next=3,a.cancelRequest(n[t].rpc.requestId);case 3:u({type:"CANCELLED",key:o,method:t,model:e,rpcResultStore:i});case 4:case"end":return r.stop()}}),r)}))),function(){return f.apply(this,arguments)}),retry:function(){n[t].rpcRetry=!0,d()}};return Object(r["useEffect"])((function(){e&&d()}),[e,s.get(e&&e.id),o,t]),[l&&l.result,{validating:l&&l.validating,canCancel:l&&l.canCancel,canRetry:l&&l.canRetry},p]}function Pn(e){return jn(e,"getLayout")}function Rn(e){return jn(e,"getAppLayout")}function _n(e,t){var n,o=t?"".concat(t.id,"/").concat(JSON.stringify(e)):null,i=Tn(),a=F(i,1),l=a[0],u=Mn(),s=F(u,1),c=s[0],f=Object(r["useState"])(),d=F(f,2),p=d[0],m=d[1];o&&(n=c.get(o));for(var h=arguments.length,g=new Array(h>2?h-2:0),y=2;y<h;y++)g[y-2]=arguments[y];return Object(r["useEffect"])((function(){t&&function(){var r=L(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n||(i=t.createSessionObject(e),n=i,c.set(o,n)),r.next=3,n;case 3:a=r.sent,l.set(o,a),m(a);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()()}),[t].concat(g)),[p]}var zn={qInfo:{qType:"current-selections"},qSelectionObjectDef:{qStateName:"$"},alternateStates:[]};function Fn(e){return _n(zn,e)}function Un(e){var t=F(Fn(e),1)[0],n=F(Pn(t),1)[0],o=F(Rn(e),1)[0],i=F(Object(r["useState"])(null),2),a=i[0],l=i[1];return Object(r["useEffect"])((function(){o&&t&&n&&function(e,t,n){var r=U(n.qStateNames||[]).map((function(e){return{stateName:e,qSelectionObjectDef:{qStateName:e}}}));(t&&t.alternateStates?t.alternateStates.map((function(e){return e.stateName})):[]).join("::")!==(n.qStateNames||[]).map((function(e){return e})).join("::")&&e.applyPatches([{qOp:"replace",qPath:"/alternateStates",qValue:JSON.stringify(r)}],!0)}(t,n,o)}),[o,t,n]),Object(r["useEffect"])((function(){if(n){var e=!1,t=!1,r=!1;[n].concat(U(n.alternateStates||[])).forEach((function(n){e=e||n.qSelectionObject&&n.qSelectionObject.qBackCount>0,t=t||n.qSelectionObject&&n.qSelectionObject.qForwardCount>0,r=r||(n.qSelectionObject&&n.qSelectionObject.qSelections||[]).filter((function(e){return!0!==e.qLocked})).length>0})),l({canGoBack:e,canGoForward:t,canClear:r})}}),[n]),[a,t,n]}var Hn=F(pn({}),2),Bn=Hn[0],Vn=(Hn[1],F(pn({}),2)),Wn=Vn[0],Gn=Vn[1],Kn=F(pn({}),2),$n=Kn[0],Xn=Kn[1],Zn=F(pn({}),2),Jn=Zn[0],Yn=Zn[1];function Qn(e){if(!e.session)return[];var t=F(Un(e),3),n=t[0],o=t[1],i=t[2],a=F(Bn(),1)[0],l=e?e.id:null,u=a.get(l);return Object(r["useEffect"])((function(){e&&o&&i&&n&&!u&&(u=function(e){var t=e.app,n=e.currentSelectionsLayout,r=e.navState,o="".concat(t.id),i=function(){var e=L(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(r.length>0&&void 0!==r[0])||r[0],!(n=Yn.get(o))){e.next=8;break}return e.next=5,n.endSelections(t);case 5:Yn.clear(o),Xn.get(n.id).emit("deactivated");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a={begin:function(){var e=L(regeneratorRuntime.mark((function e(n,r){var a,l,u,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(s.length>2&&void 0!==s[2])||s[2],n!==Yn.get(o)){e.next=3;break}return e.abrupt("return");case 3:return i(a),Yn.set(o,n),l=Array.isArray(r)?r:[r],u=function(){var e=L(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.beginSelections(l);case 3:Yn.set(o,n),e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(0),6003!==e.t0.code||r){e.next=14;break}return e.next=11,t.abortModal(a);case 11:u(!0),e.next=15;break;case 14:Yn.clear(o);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),e.next=9,u();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),end:i};return Gn.set(o,a),{model:t,isInModal:function(){return!!Yn.get(o)},isModal:function(e){return e?Yn.get(o)===e:!!Yn.get(o)},canGoForward:function(){return r.canGoForward},canGoBack:function(){return r.canGoBack},canClear:function(){return r.canClear},layout:function(){return n},forward:function(){return a.end().then((function(){return t.forward()}))},back:function(){return a.end().then((function(){return t.back()}))},clear:function(){return a.end().then((function(){return t.clearAll()}))},clearField:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";return a.end().then((function(){return t.getField(e,n).then((function(e){return e.clear()}))}))}}}({app:e,currentSelectionsLayout:i,navState:n}),a.set(l,u),a.dispatch(!0))}),[e,o,i,n]),[u,n]}var er=0,tr=Object(r["forwardRef"])((function(e,t){var n=e.initialContext,i=F(Qn(e.app),1)[0],a=F(Object(r["useState"])(n),2),c=a[0],f=a[1],d=F(Object(r["useState"])(),2),p=d[0],m=d[1],h=Object(r["useMemo"])((function(){return{theme:fn(p),generator:Object(l["a"])({productionPrefix:"".concat("079d"),disableGlobal:!0,seed:"njs-".concat(er++)})}}),[p]),g=h.theme,y=h.generator,v=F(Object(r["useState"])([]),2),b=v[0],x=v[1];return Object(r["useImperativeHandle"])(t,(function(){return{addComponent:function(e){x([].concat(U(b),[e]))},removeComponent:function(e){var t=b.indexOf(e);-1!==t&&(b.splice(t,1),x(U(b)))},setMuiThemeName:m,setContext:f,getAppSelections:function(){return i}}})),o.a.createElement(u["b"],{generateClassName:y},o.a.createElement(s["a"],{theme:g},o.a.createElement(dn.Provider,{value:c},o.a.createElement(o.a.Fragment,null,b))))}));function nr(e){var t,n,r=e.app,i=e.context,l=new Promise((function(e){t=e})),u=o.a.createRef(),s=document.createElement("div");return s.style.display="none",s.setAttribute("data-nebulajs-version","1.0.2-alpha.0"),s.setAttribute("data-app-id",r.id),document.body.appendChild(s),a.a.render(o.a.createElement(tr,{ref:u,app:r,initialContext:i}),s,t),[{add:function(e){L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l;case 2:u.current.addComponent(e);case 3:case"end":return t.stop()}}),t)})))()},remove:function(e){L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l;case 2:u.current.removeComponent(e);case 3:case"end":return t.stop()}}),t)})))()},setMuiThemeName:function(e){L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l;case 2:u.current.setMuiThemeName(e);case 3:case"end":return t.stop()}}),t)})))()},context:function(e){L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l;case 2:u.current.setContext(e);case 3:case"end":return t.stop()}}),t)})))()},getAppSelections:(n=L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:return e.abrupt("return",u.current.getAppSelections());case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},u,l]}function rr(){var e=F(Object(r["useState"])(),2),t=e[0],n=e[1],o=F(Object(r["useState"])(),2),i=o[0],a=o[1],l=Object(r["useCallback"])((function(e){e&&n(e)}),[]),u=function(){var e=t.getBoundingClientRect(),n=e.left,r=e.top,o=e.width,i=e.height;a({left:n,top:r,width:o,height:i})};return Object(r["useLayoutEffect"])((function(){if(t){if("function"==typeof ResizeObserver){var e=new ResizeObserver(u);return e.observe(t),function(){e.unobserve(t),e.disconnect(t),e=null}}return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}}),[t]),[l,i,t]}function or(e){return"large"===e?"20px":"small"===e?"12px":"16px"}function ir(e){var t=e.size,n=e.style,r=void 0===n?{}:n,i=e.viewBox,a=void 0===i?"0 0 16 16":i,l=e.shapes,u=void 0===l?[]:l,s=_({fontSize:or(t),display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-.125em",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},r);return o.a.createElement("i",{style:s},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:a,fill:"currentColor"},u.map((function(e,t){var n=e.type,r=e.attrs;return o.a.createElement(n,P({key:t},r))}))))}var ar=function(e){return ir(function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M9.41421356,8 L11.8890873,5.52512627 C12.065864,5.34834957 12.0305087,4.95944084 11.8183766,4.74730881 L11.2526912,4.18162338 C11.0405592,3.96949135 10.6516504,3.93413601 10.4748737,4.1109127 L8,6.58578644 L5.52512627,4.1109127 C5.34834957,3.93413601 4.95944084,3.96949135 4.74730881,4.18162338 L4.25233406,4.67659813 C3.96949135,4.95944084 3.93413601,5.34834957 4.1109127,5.52512627 L6.58578644,8 L4.1109127,10.4748737 C3.93413601,10.6516504 3.96949135,11.0405592 4.18162338,11.2526912 L4.67659813,11.7476659 C4.95944084,12.0305087 5.34834957,12.065864 5.52512627,11.8890873 L8,9.41421356 L10.4748737,11.8890873 C10.6516504,12.065864 11.0405592,12.0305087 11.2526912,11.8183766 L11.8183766,11.2526912 C12.0305087,11.0405592 12.065864,10.6516504 11.8890873,10.4748737 L9.41421356,8 Z M8,0 C12.4,0 16,3.6 16,8 C16,12.4 12.4,16 8,16 C3.6,16 0,12.4 0,8 C0,3.6 3.6,0 8,0 Z"}}]})}(e))},lr=function(e){return ir(function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M13,7 L8,7 L13,7 L13,4.98151367 C13,2.23029964 10.7614237,0 8,0 C5.23857625,0 3,2.23029964 3,4.98151367 L3,7 L3.75,7 L3,7 L4.5,7 L4.5,5.33193359 C4.5,3.21561511 5.54860291,1.5 8,1.5 C10.4513971,1.5 11.5,3.21561511 11.5,5.33193359 L11.5,7 L12.25,7 L3,7 C2.44771525,7 2,7.44771525 2,8 L2,15 C2,15.5522847 2.44771525,16 3,16 L13,16 C13.5522847,16 14,15.5522847 14,15 L14,8 C14,7.44771525 13.5522847,7 13,7 L3,7 L13,7 Z"}}]})}(e))},ur=function(e){return ir(function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M2.5,7 L11,7 C11.5522847,7 12,7.44771525 12,8 L12,15 C12,15.5522847 11.5522847,16 11,16 L1,16 C0.44771525,16 0,15.5522847 0,15 L0,8 C0,7.44771525 0.44771525,7 1,7 L1,4.98151367 C1,2.23029964 3.23857625,0 6,0 C8.4241995,0 10.4454541,1.71883353 10.9029715,4 L9.34209114,4 C8.9671727,2.54028848 7.9088888,1.5 6,1.5 C3.54860291,1.5 2.5,3.21561511 2.5,5.33193359 L2.5,7 Z"}}]})}(e))};function sr(){return(sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function dr(e,t){var n;void 0===t&&(t=fr);var r,o=[],i=!1;return function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return i&&n===this&&t(l,o)||(r=e.apply(this,l),i=!0,n=this,o=l),r}}var pr="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function mr(e){cancelAnimationFrame(e.id)}var hr=null;function gr(e){if(void 0===e&&(e=!1),null===hr||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?hr="positive-descending":(t.scrollLeft=1,hr=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),hr}return hr}var yr=function(e,t){return e};function vr(e){var t,n,o=e.getItemOffset,i=e.getEstimatedTotalSize,a=e.getItemSize,l=e.getOffsetForIndexAndAlignment,u=e.getStartIndexForOffset,s=e.getStopIndexForStartIndex,c=e.initInstanceProps,f=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return n=t=function(e){var t,n;function p(t){var n;return(n=e.call(this,t)||this)._instanceProps=c(n.props,cr(cr(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:cr(cr(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=dr((function(e,t,r,o){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:o})})),n._callOnScroll=void 0,n._callOnScroll=dr((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,r=n.props,i=r.direction,l=r.itemSize,u=r.layout,s=n._getItemStyleCache(f&&l,f&&u,f&&i);if(s.hasOwnProperty(e))t=s[e];else{var c,d=o(n.props,e,n._instanceProps),p=a(n.props,e,n._instanceProps),m="horizontal"===i||"horizontal"===u;s[e]=((c={position:"absolute"})["rtl"===i?"right":"left"]=m?d:0,c.top=m?0:d,c.height=m?"100%":p,c.width=m?p:"100%",t=c)}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=dr((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,o=t.scrollLeft,i=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===o)return null;var t=n.props.direction,a=o;if("rtl"===t)switch(gr()){case"negative":a=-o;break;case"positive-descending":a=i-r-o}return a=Math.max(0,Math.min(a,i-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,o=t.scrollHeight,i=t.scrollTop;n.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,o-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){var e,t,r,o;null!==n._resetIsScrollingTimeoutId&&mr(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=(e=n._resetIsScrolling,t=150,r=pr(),o={id:requestAnimationFrame((function n(){pr()-r>=t?e.call(null):o.id=requestAnimationFrame(n)}))})},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}n=e,(t=p).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,p.getDerivedStateFromProps=function(e,t){return br(e,t),d(e),null};var m=p.prototype;return m.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},m.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(l(this.props,e,t,r,this._instanceProps))},m.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===r?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},m.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(gr()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,l=i.scrollWidth;i.scrollLeft=l-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},m.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&mr(this._resetIsScrollingTimeoutId)},m.render=function(){var e=this.props,t=e.children,n=e.className,o=e.direction,a=e.height,l=e.innerRef,u=e.innerElementType,s=e.innerTagName,c=e.itemCount,f=e.itemData,d=e.itemKey,p=void 0===d?yr:d,m=e.layout,h=e.outerElementType,g=e.outerTagName,y=e.style,v=e.useIsScrolling,b=e.width,x=this.state.isScrolling,M="horizontal"===o||"horizontal"===m,O=M?this._onScrollHorizontal:this._onScrollVertical,w=this._getRangeToRender(),S=w[0],k=w[1],C=[];if(c>0)for(var E=S;E<=k;E++)C.push(Object(r["createElement"])(t,{data:f,key:p(E,f),index:E,isScrolling:v?x:void 0,style:this._getItemStyle(E)}));var A=i(this.props,this._instanceProps);return Object(r["createElement"])(h||g||"div",{className:n,onScroll:O,ref:this._outerRefSetter,style:sr({position:"relative",height:a,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},y)},Object(r["createElement"])(u||s||"div",{children:C,ref:l,style:{height:M?"100%":A,pointerEvents:x?"none":void 0,width:M?A:"100%"}}))},m._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],o=e[3];this._callOnItemsRendered(t,n,r,o)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,l=i.scrollOffset,u=i.scrollUpdateWasRequested;this._callOnScroll(a,l,u)}},m._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,o=r.isScrolling,i=r.scrollDirection,a=r.scrollOffset;if(0===t)return[0,0,0,0];var l=u(this.props,a,this._instanceProps),c=s(this.props,l,a,this._instanceProps),f=o&&"backward"!==i?1:Math.max(1,n),d=o&&"forward"!==i?1:Math.max(1,n);return[Math.max(0,l-f),Math.max(0,Math.min(t-1,c+d)),l,c]},p}(r["PureComponent"]),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var br=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},xr=vr({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r){var o=e.direction,i=e.height,a=e.itemCount,l=e.itemSize,u=e.layout,s=e.width,c="horizontal"===o||"horizontal"===u?s:i,f=Math.max(0,a*l-c),d=Math.min(f,t*l),p=Math.max(0,t*l-c+l);switch("smart"===n&&(n=r>=p-c&&r<=d+c?"auto":"center"),n){case"start":return d;case"end":return p;case"center":var m=Math.round(p+(d-p)/2);return m<Math.ceil(c/2)?0:m>f+Math.floor(c/2)?f:m;case"auto":default:return r>=p&&r<=d?r:r<p?p:d}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,o=e.height,i=e.itemCount,a=e.itemSize,l=e.layout,u=e.width,s=t*a,c="horizontal"===r||"horizontal"===l?u:o,f=Math.ceil((c+n-s)/a);return Math.max(0,Math.min(i-1,t+f-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});var Mr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Or=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wr=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Sr=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},kr=function(e){function t(){var e,n,r;Mr(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=wr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._lastRenderedStartIndex=-1,r._lastRenderedStopIndex=-1,r._memoizedUnloadedRanges=[],r._onItemsRendered=function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;r._lastRenderedStartIndex=t,r._lastRenderedStopIndex=n,r._ensureRowsLoaded(t,n)},r._setRef=function(e){r._listRef=e},wr(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Or(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var n=this.props,r=n.isItemLoaded,o=n.itemCount,i=n.minimumBatchSize,a=void 0===i?10:i,l=n.threshold,u=void 0===l?15:l,s=function(e){for(var t=e.isItemLoaded,n=e.itemCount,r=e.minimumBatchSize,o=e.startIndex,i=e.stopIndex,a=[],l=null,u=null,s=o;s<=i;s++)t(s)?null!==u&&(a.push([l,u]),l=u=null):(u=s,null===l&&(l=s));if(null!==u){for(var c=Math.min(Math.max(u,l+r-1),n-1),f=u+1;f<=c&&!t(f);f++)u=f;a.push([l,u])}if(a.length)for(var d=a[0];d[1]-d[0]+1<r&&d[0]>0;){var p=d[0]-1;if(t(p))break;d[0]=p}return a}({isItemLoaded:r,itemCount:o,minimumBatchSize:a,startIndex:Math.max(0,e-u),stopIndex:Math.min(o-1,t+u)});(this._memoizedUnloadedRanges.length!==s.length||this._memoizedUnloadedRanges.some((function(e,t){var n=Sr(e,2),r=n[0],o=n[1];return s[t][0]!==r||s[t][1]!==o})))&&(this._memoizedUnloadedRanges=s,this._loadUnloadedRanges(s))}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreItems||this.props.loadMoreRows;e.forEach((function(e){var r=Sr(e,2),o=r[0],i=r[1],a=n(o,i);null!=a&&a.then((function(){if(function(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,r=e.startIndex,o=e.stopIndex;return!(r>n||o<t)}({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:o,stopIndex:i})){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(o,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}}))}))}}]),t}(),Cr=function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M6,10 L13,3 L15,5 L8,12 L6,14 L1,9 L3,7 L6,10 Z"}}]})},Er=function(e){return ir(Cr(e))},Ar=Object(c["a"])((function(e){return{row:{flexWrap:"nowrap",borderBottom:"1px solid ".concat(e.palette.divider),"&:focus":{boxShadow:"inset 0 0 0 2px ".concat(e.palette.custom.focusOutline),outline:"none"}},cell:{padding:"8px","& span":{whiteSpace:"nowrap",fontSize:"12px",lineHeight:"16px"},overflow:"hidden",textOverflow:"ellipsis"},icon:{padding:e.spacing(1)},S:{background:e.palette.selected.main,color:e.palette.selected.mainContrastText,"&:focus":{boxShadow:"inset 0 0 0 2px rgba(0, 0, 0, 0.3)",outline:"none"}},A:{background:e.palette.selected.alternative,color:e.palette.selected.alternativeContrastText},X:{background:e.palette.selected.excluded,color:e.palette.selected.excludedContrastText},highlighted:{backgroundColor:"#FFC72A"}}}));function qr(e){var t,n=e.index,r=e.style,i=e.data,a=Ar(),l=[a.row],u="",s=i.onClick,c=i.pages;if(c){var f=c.filter((function(e){return e.qArea.qTop<=n&&n<e.qArea.qTop+e.qArea.qHeight}))[0];if(f){var m=f.qArea;n>=m.qTop&&n<m.qTop+m.qHeight&&(t=F(f.qMatrix[n-m.qTop],1)[0])}}var h=!1,g=!1;t&&(u=t.qText,h="L"===t.qState||"XL"===t.qState,g="S"===t.qState||"XS"===t.qState,"S"===t.qState||"L"===t.qState?l.push(a.S):"A"===t.qState?l.push(a.A):"X"!==t.qState&&"XS"!==t.qState&&"XL"!==t.qState||l.push(a.X));var y=t&&t.qHighlightRanges&&t.qHighlightRanges.qRanges.sort((function(e,t){return e.qCharPos-t.qCharPos}))||[],v=y.reduce((function(e,t,n){t.qCharPos>0&&0===n&&e.push([u.slice(0,t.qCharPos)]);var r=y[n-1];return r&&e.push([u.slice(r.qCharPos+r.qCharPos+1,t.qCharPos)]),e.push([u.slice(t.qCharPos,t.qCharPos+t.qCharCount),a.highlighted]),n===y.length-1&&t.qCharPos+t.qCharCount<u.length&&e.push([u.slice(t.qCharPos+t.qCharCount)]),e}),[]);return o.a.createElement(d["a"],{container:!0,spacing:0,className:l.join(" ").trim(),style:r,onClick:s,role:"row",tabIndex:0,"data-n":t&&t.qElemNumber},o.a.createElement(d["a"],{item:!0,style:{minWidth:0,flexGrow:1},className:a.cell},0===y.length?o.a.createElement(p["a"],{component:"span",noWrap:!0,color:"inherit"},"".concat(u)):v.map((function(e,t){var n=F(e,2),r=n[0],i=n[1];return o.a.createElement(p["a"],{component:"span",key:t,className:i,noWrap:!0},r)}))),o.a.createElement(d["a"],{item:!0,className:a.icon},h&&o.a.createElement(lr,{size:"small"}),g&&o.a.createElement(Er,{size:"small"})))}function Dr(e){var t=e.model,n=e.selections,i=e.direction,a=F(Pn(t),1)[0],l=F(Object(r["useState"])(null),2),u=l[0],s=l[1],c=Object(r["useRef"])(null),f=Object(r["useRef"])({queue:[],validPages:!1}),d=Object(r["useRef"])({pages:[]}),p=Object(r["useCallback"])((function(e){if(!a||!a.qListObject.qDimensionInfo.qLocked){var t=+e.currentTarget.getAttribute("data-n");Number.isNaN(t)||n.select({method:"selectListObjectValues",params:["/qListObjectDef",[t],!a.qListObject.qDimensionInfo.qIsOneAndOnlyOne]})}}),[t,a&&!!a.qListObject.qDimensionInfo.qLocked,a&&!!a.qListObject.qDimensionInfo.qIsOneAndOnlyOne]),m=Object(r["useCallback"])((function(e){if(!u||!f.current.validPages)return!1;f.current.checkIdx=e;var t=u.filter((function(t){return t.qArea.qTop<=e&&e<t.qArea.qTop+t.qArea.qHeight}))[0];return t&&t.qArea.qTop<=e&&e<t.qArea.qTop+t.qArea.qHeight}),[a,u]),h=Object(r["useCallback"])((function(e,n){f.current.queue.push({start:e,stop:n});var r=!!c.current&&c.current._listRef.state.isScrolling;return f.current.queue.length>10&&f.current.queue.shift(),clearTimeout(f.current.timeout),new Promise((function(e){f.current.timeout=setTimeout((function(){var n=f.current.queue.slice(-2).sort((function(e,t){return e.start-t.start}));t.getListObjectData("/qListObjectDef",n.map((function(e){return{qTop:e.start,qHeight:e.stop-e.start+1,qLeft:0,qWidth:1}}))).then((function(t){f.current.validPages=!0,d.current.pages=t,s(t),e()}))}),r?500:0)}))}),[a]);if(Object(r["useEffect"])((function(){if(f.current.queue=[],f.current.validPages=!1,c.current){if(c.current.resetloadMoreItemsCache(!0),a&&a.qSelectionInfo.qInSelections)return;c.current._listRef.scrollToItem(0)}}),[a]),!a)return null;var g=a.qListObject.qSize.qcy;return o.a.createElement(kr,{isItemLoaded:m,itemCount:g,loadMoreItems:h,threshold:0,minimumBatchSize:100,ref:c},(function(e){var t=e.onItemsRendered,n=e.ref;return f.current.listRef=n,o.a.createElement(xr,{direction:i,useIsScrolling:!0,style:{},height:264,itemCount:g,itemData:{onClick:p,pages:u},itemSize:33,onItemsRendered:t,ref:n},qr)}))}var Tr=function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M15.4,9 C15.8,9 16,9.3 16,9.6 L16,15.4 C16,15.7 15.8,16 15.4,16 L9.6,16 C9.3,16 9,15.8 9,15.4 L9,9.6 C9,9.3 9.3,9 9.6,9 L15.4,9 Z M15,10 L10,10 L10,15 L15,15 L15,10 Z M6.5,0 C6.8,0 7,0.3 7,0.6 L7,6.4 C7,6.8 6.8,7 6.5,7 L0.6,7 C0.3,7 0,6.8 0,6.5 L0,0.6 C0,0.3 0.3,0 0.6,0 L6.5,0 Z M6,2.8 C6.3,2.5 6.3,2.1 6.1,1.8 C5.9,1.5 5.4,1.6 5.1,1.9 L3.1,3.9 L2.4,3.2 C2.1,2.9 1.7,2.9 1.4,3.1 C1.2,3.3 1.2,3.8 1.5,4.1 L2.7,5.3 C3,5.6 3.4,5.6 3.7,5.3 L3.8,5.3 L6,2.8 Z M6.5,9 C6.8,9 7,9.3 7,9.6 L7,15.4 C7,15.8 6.8,16 6.5,16 L0.6,16 C0.3,16 0,15.8 0,15.4 L0,9.6 C0,9.3 0.3,9 0.6,9 L6.5,9 Z M6,11.8 C6.3,11.5 6.3,11.1 6.1,10.8 C5.9,10.6 5.4,10.6 5.1,10.8 L3.1,12.8 L2.3,12 C2,11.7 1.6,11.7 1.3,12 C1.1,12.3 1.1,12.7 1.4,13 L2.6,14.2 C2.9,14.5 3.3,14.5 3.6,14.3 L3.7,14.2 L6,11.8 Z M15.4,0 C15.8,0 16,0.3 16,0.6 L16,6.4 C16,6.8 15.8,7 15.4,7 L9.6,7 C9.3,7 9,6.8 9,6.5 L9,0.6 C9,0.3 9.3,0 9.6,0 L15.4,0 Z M15,2.8 C15.3,2.5 15.3,2.1 15.1,1.8 C14.9,1.5 14.4,1.6 14.1,1.9 L12.1,3.9 L11.3,3.1 C11,2.8 10.6,2.8 10.3,3 C10,3.2 10.1,3.7 10.3,4 L11.5,5.2 C11.8,5.5 12.2,5.5 12.5,5.2 L15,2.8 Z"}}]})},Nr=function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M6,15.5 C6,15.2238576 6.22385763,15 6.5,15 L9.5,15 C9.77614237,15 10,15.2238576 10,15.5 C10,15.7761424 9.77614237,16 9.5,16 L6.5,16 C6.22385763,16 6,15.7761424 6,15.5 Z M1,13.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L2.5,15 C2.77614237,15 3,15.2238576 3,15.5 C3,15.7761424 2.77614237,16 2.5,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,13.5 C-3.38176876e-17,13.2238576 0.223857625,13 0.5,13 C0.776142375,13 1,13.2238576 1,13.5 Z M15,13.5 C15,13.2238576 15.2238576,13 15.5,13 C15.7761424,13 16,13.2238576 16,13.5 L16,15 C16,15.5522847 15.5522847,16 15,16 L13.5,16 C13.2238576,16 13,15.7761424 13,15.5 C13,15.2238576 13.2238576,15 13.5,15 L14.5,15 C14.7761424,15 15,14.7761424 15,14.5 L15,13.5 Z M1,6.5 L1,9.5 C1,9.77614237 0.776142375,10 0.5,10 C0.223857625,10 3.38176876e-17,9.77614237 0,9.5 L0,6.5 C-3.38176876e-17,6.22385763 0.223857625,6 0.5,6 C0.776142375,6 1,6.22385763 1,6.5 Z M16,6.5 L16,9.5 C16,9.77614237 15.7761424,10 15.5,10 C15.2238576,10 15,9.77614237 15,9.5 L15,6.5 C15,6.22385763 15.2238576,6 15.5,6 C15.7761424,6 16,6.22385763 16,6.5 Z M0,2.5 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 L2.5,0 C2.77614237,-5.07265313e-17 3,0.223857625 3,0.5 C3,0.776142375 2.77614237,1 2.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,2.5 C1,2.77614237 0.776142375,3 0.5,3 C0.223857625,3 3.38176876e-17,2.77614237 0,2.5 Z M6,0.5 C6,0.223857625 6.22385763,5.07265313e-17 6.5,0 L9.5,0 C9.77614237,-5.07265313e-17 10,0.223857625 10,0.5 C10,0.776142375 9.77614237,1 9.5,1 L6.5,1 C6.22385763,1 6,0.776142375 6,0.5 Z M15,2.5 L15,1.5 C15,1.22385763 14.7761424,1 14.5,1 L13.5,1 C13.2238576,1 13,0.776142375 13,0.5 C13,0.223857625 13.2238576,5.07265313e-17 13.5,0 L15,0 C15.5522847,-1.01453063e-16 16,0.44771525 16,1 L16,2.5 C16,2.77614237 15.7761424,3 15.5,3 C15.2238576,3 15,2.77614237 15,2.5 Z M4,4 L4,12 L12,4 L4,4 Z M4,3 L12,3 C12.5522847,3 13,3.44771525 13,4 L13,12 C13,12.5522847 12.5522847,13 12,13 L4,13 C3.44771525,13 3,12.5522847 3,12 L3,4 C3,3.44771525 3.44771525,3 4,3 Z"}}]})},Lr=function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M6,15.5 C6,15.2238576 6.22385763,15 6.5,15 L9.5,15 C9.77614237,15 10,15.2238576 10,15.5 C10,15.7761424 9.77614237,16 9.5,16 L6.5,16 C6.22385763,16 6,15.7761424 6,15.5 Z M1,13.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L2.5,15 C2.77614237,15 3,15.2238576 3,15.5 C3,15.7761424 2.77614237,16 2.5,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,13.5 C-3.38176876e-17,13.2238576 0.223857625,13 0.5,13 C0.776142375,13 1,13.2238576 1,13.5 Z M15,13.5 C15,13.2238576 15.2238576,13 15.5,13 C15.7761424,13 16,13.2238576 16,13.5 L16,15 C16,15.5522847 15.5522847,16 15,16 L13.5,16 C13.2238576,16 13,15.7761424 13,15.5 C13,15.2238576 13.2238576,15 13.5,15 L14.5,15 C14.7761424,15 15,14.7761424 15,14.5 L15,13.5 Z M1,6.5 L1,9.5 C1,9.77614237 0.776142375,10 0.5,10 C0.223857625,10 3.38176876e-17,9.77614237 0,9.5 L0,6.5 C-3.38176876e-17,6.22385763 0.223857625,6 0.5,6 C0.776142375,6 1,6.22385763 1,6.5 Z M16,6.5 L16,9.5 C16,9.77614237 15.7761424,10 15.5,10 C15.2238576,10 15,9.77614237 15,9.5 L15,6.5 C15,6.22385763 15.2238576,6 15.5,6 C15.7761424,6 16,6.22385763 16,6.5 Z M0,2.5 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 L2.5,0 C2.77614237,-5.07265313e-17 3,0.223857625 3,0.5 C3,0.776142375 2.77614237,1 2.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,2.5 C1,2.77614237 0.776142375,3 0.5,3 C0.223857625,3 3.38176876e-17,2.77614237 0,2.5 Z M6,0.5 C6,0.223857625 6.22385763,5.07265313e-17 6.5,0 L9.5,0 C9.77614237,-5.07265313e-17 10,0.223857625 10,0.5 C10,0.776142375 9.77614237,1 9.5,1 L6.5,1 C6.22385763,1 6,0.776142375 6,0.5 Z M15,2.5 L15,1.5 C15,1.22385763 14.7761424,1 14.5,1 L13.5,1 C13.2238576,1 13,0.776142375 13,0.5 C13,0.223857625 13.2238576,5.07265313e-17 13.5,0 L15,0 C15.5522847,-1.01453063e-16 16,0.44771525 16,1 L16,2.5 C16,2.77614237 15.7761424,3 15.5,3 C15.2238576,3 15,2.77614237 15,2.5 Z M4,4 L4,12 L12,12 L12,4 L4,4 Z M4,3 L12,3 C12.5522847,3 13,3.44771525 13,4 L13,12 C13,12.5522847 12.5522847,13 12,13 L4,13 C3.44771525,13 3,12.5522847 3,12 L3,4 C3,3.44771525 3.44771525,3 4,3 Z"}}]})},Ir=function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M6,15.5 C6,15.2238576 6.22385763,15 6.5,15 L9.5,15 C9.77614237,15 10,15.2238576 10,15.5 C10,15.7761424 9.77614237,16 9.5,16 L6.5,16 C6.22385763,16 6,15.7761424 6,15.5 Z M1,13.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L2.5,15 C2.77614237,15 3,15.2238576 3,15.5 C3,15.7761424 2.77614237,16 2.5,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,13.5 C-3.38176876e-17,13.2238576 0.223857625,13 0.5,13 C0.776142375,13 1,13.2238576 1,13.5 Z M15,13.5 C15,13.2238576 15.2238576,13 15.5,13 C15.7761424,13 16,13.2238576 16,13.5 L16,15 C16,15.5522847 15.5522847,16 15,16 L13.5,16 C13.2238576,16 13,15.7761424 13,15.5 C13,15.2238576 13.2238576,15 13.5,15 L14.5,15 C14.7761424,15 15,14.7761424 15,14.5 L15,13.5 Z M1,6.5 L1,9.5 C1,9.77614237 0.776142375,10 0.5,10 C0.223857625,10 3.38176876e-17,9.77614237 0,9.5 L0,6.5 C-3.38176876e-17,6.22385763 0.223857625,6 0.5,6 C0.776142375,6 1,6.22385763 1,6.5 Z M16,6.5 L16,9.5 C16,9.77614237 15.7761424,10 15.5,10 C15.2238576,10 15,9.77614237 15,9.5 L15,6.5 C15,6.22385763 15.2238576,6 15.5,6 C15.7761424,6 16,6.22385763 16,6.5 Z M0,2.5 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 L2.5,0 C2.77614237,-5.07265313e-17 3,0.223857625 3,0.5 C3,0.776142375 2.77614237,1 2.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,2.5 C1,2.77614237 0.776142375,3 0.5,3 C0.223857625,3 3.38176876e-17,2.77614237 0,2.5 Z M6,0.5 C6,0.223857625 6.22385763,5.07265313e-17 6.5,0 L9.5,0 C9.77614237,-5.07265313e-17 10,0.223857625 10,0.5 C10,0.776142375 9.77614237,1 9.5,1 L6.5,1 C6.22385763,1 6,0.776142375 6,0.5 Z M15,2.5 L15,1.5 C15,1.22385763 14.7761424,1 14.5,1 L13.5,1 C13.2238576,1 13,0.776142375 13,0.5 C13,0.223857625 13.2238576,5.07265313e-17 13.5,0 L15,0 C15.5522847,-1.01453063e-16 16,0.44771525 16,1 L16,2.5 C16,2.77614237 15.7761424,3 15.5,3 C15.2238576,3 15,2.77614237 15,2.5 Z M4,3 L12,3 C12.5522847,3 13,3.44771525 13,4 L13,12 C13,12.5522847 12.5522847,13 12,13 L4,13 C3.44771525,13 3,12.5522847 3,12 L3,4 C3,3.44771525 3.44771525,3 4,3 Z"}}]})},jr=function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M2,6.5 L3,6.5 C3.55228475,6.5 4,6.94771525 4,7.5 L4,8.5 C4,9.05228475 3.55228475,9.5 3,9.5 L2,9.5 C1.44771525,9.5 1,9.05228475 1,8.5 L1,7.5 C1,6.94771525 1.44771525,6.5 2,6.5 Z M7.5,6.5 L8.5,6.5 C9.05228475,6.5 9.5,6.94771525 9.5,7.5 L9.5,8.5 C9.5,9.05228475 9.05228475,9.5 8.5,9.5 L7.5,9.5 C6.94771525,9.5 6.5,9.05228475 6.5,8.5 L6.5,7.5 C6.5,6.94771525 6.94771525,6.5 7.5,6.5 Z M13,6.5 L14,6.5 C14.5522847,6.5 15,6.94771525 15,7.5 L15,8.5 C15,9.05228475 14.5522847,9.5 14,9.5 L13,9.5 C12.4477153,9.5 12,9.05228475 12,8.5 L12,7.5 C12,6.94771525 12.4477153,6.5 13,6.5 Z"}}]})};function Pr(e){var t=Object(f["a"])(),n="function"==typeof e.enabled?!e.enabled():!!e.disabled,r="function"==typeof e.getSvgIconShape;return{hidden:!0===e.hidden,disabled:n,style:{backgroundColor:e.active?t.palette.btn.active:void 0},hasSvgIconShape:r}}var Rr=o.a.forwardRef((function(e,t){var n=e.item,r=e.addAnchor,i=void 0!==r&&r,a=Object(f["a"])(),l=Pr(n),u=l.hidden,s=l.disabled,c=l.style,d=l.hasSvgIconShape;return u?null:o.a.createElement(m["a"],{ref:i?null:t,title:n.label,onClick:n.action,disabled:s,style:c},d&&ir(n.getSvgIconShape()),i&&o.a.createElement("div",{ref:t,style:{bottom:-a.spacing(.5),right:0,position:"absolute",width:"100%",height:0}}))})),_r=function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M9.34535242,8 L13.3273238,11.9819714 C13.6988326,12.3534802 13.6988326,12.955815 13.3273238,13.3273238 C12.955815,13.6988326 12.3534802,13.6988326 11.9819714,13.3273238 L8,9.34535242 L4.01802863,13.3273238 C3.64651982,13.6988326 3.04418502,13.6988326 2.67267621,13.3273238 C2.3011674,12.955815 2.3011674,12.3534802 2.67267621,11.9819714 L6.65464758,8 L2.67267621,4.01802863 C2.3011674,3.64651982 2.3011674,3.04418502 2.67267621,2.67267621 C3.04418502,2.3011674 3.64651982,2.3011674 4.01802863,2.67267621 L8,6.65464758 L11.9819714,2.67267621 C12.3534802,2.3011674 12.955815,2.3011674 13.3273238,2.67267621 C13.6988326,3.04418502 13.6988326,3.64651982 13.3273238,4.01802863 L9.34535242,8 Z"}}]})},zr=function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M6,15.5 L6,15.5 C6,15.2238576 6.22385763,15 6.5,15 L9.5,15 C9.77614237,15 10,15.2238576 10,15.5 L10,15.5 C10,15.7761424 9.77614237,16 9.5,16 L6.5,16 C6.22385763,16 6,15.7761424 6,15.5 Z M1,13.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L2.5,15 C2.77614237,15 3,15.2238576 3,15.5 L3,15.5 C3,15.7761424 2.77614237,16 2.5,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,13.5 C-3.38176876e-17,13.2238576 0.223857625,13 0.5,13 L0.5,13 C0.776142375,13 1,13.2238576 1,13.5 Z M1,6.5 L1,9.5 C1,9.77614237 0.776142375,10 0.5,10 L0.5,10 C0.223857625,10 3.38176876e-17,9.77614237 0,9.5 L0,6.5 C-3.38176876e-17,6.22385763 0.223857625,6 0.5,6 L0.5,6 C0.776142375,6 1,6.22385763 1,6.5 Z M0,2.5 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 L2.5,0 C2.77614237,-5.07265313e-17 3,0.223857625 3,0.5 L3,0.5 C3,0.776142375 2.77614237,1 2.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,2.5 C1,2.77614237 0.776142375,3 0.5,3 L0.5,3 C0.223857625,3 3.38176876e-17,2.77614237 0,2.5 Z M6,0.5 L6,0.5 C6,0.223857625 6.22385763,5.07265313e-17 6.5,0 L9.5,0 C9.77614237,-5.07265313e-17 10,0.223857625 10,0.5 L10,0.5 C10,0.776142375 9.77614237,1 9.5,1 L6.5,1 C6.22385763,1 6,0.776142375 6,0.5 Z M15,2.5 L15,1.5 C15,1.22385763 14.7761424,1 14.5,1 L13.5,1 C13.2238576,1 13,0.776142375 13,0.5 L13,0.5 C13,0.223857625 13.2238576,5.07265313e-17 13.5,0 L15,0 C15.5522847,-1.01453063e-16 16,0.44771525 16,1 L16,2.5 C16,2.77614237 15.7761424,3 15.5,3 L15.5,3 C15.2238576,3 15,2.77614237 15,2.5 Z M9.1661442,6.1661442 C10.7210031,4.61128527 13.2789969,4.61128527 14.8338558,6.1661442 C16.3887147,7.72100313 16.3887147,10.2789969 14.8338558,11.8338558 C13.2789969,13.3887147 10.7210031,13.3887147 9.1661442,11.8338558 C7.61128527,10.2789969 7.61128527,7.77115987 9.1661442,6.1661442 Z M14.1316614,7.72100313 C14.3322884,7.52037618 14.3824451,7.169279 14.1316614,6.9184953 C13.8808777,6.6677116 13.5297806,6.71786834 13.3291536,6.9184953 L12.0250784,8.22257053 L10.7210031,6.9184953 C10.5203762,6.6677116 10.1191223,6.6677116 9.9184953,6.9184953 C9.6677116,7.11912226 9.6677116,7.52037618 9.9184953,7.72100313 L11.2225705,9.02507837 L9.9184953,10.3291536 C9.6677116,10.5297806 9.6677116,10.8808777 9.9184953,11.1316614 C10.169279,11.3824451 10.5203762,11.3824451 10.7210031,11.1316614 L12.0250784,9.82758621 L13.3291536,11.1316614 C13.5297806,11.3824451 13.8808777,11.3824451 14.1316614,11.1316614 C14.3322884,10.9310345 14.3824451,10.5297806 14.1316614,10.3291536 L12.8275862,9.02507837 L14.1316614,7.72100313 Z"}}]})},Fr=function(e){return ir(zr(e))};var Ur=Object(h["a"])((function(e){return{icon:{color:e.palette.text.primary}}})),Hr=function(e){var t=e.item,n=e.onActionClick,r=void 0===n?function(){}:n,i=Pr(t),a=i.hidden,l=i.disabled,u=i.hasSvgIconShape,s=Ur().icon;return a?null:o.a.createElement(g["a"],{title:t.label,onClick:function(){t.action(),r()},disabled:l},u&&o.a.createElement(y["a"],{className:s},ir(t.getSvgIconShape())),o.a.createElement(p["a"],{noWrap:!0},t.label))},Br=o.a.forwardRef((function(e,t){var n=e.actions,r=void 0===n?[]:n,i=e.show,a=void 0===i||i,l=e.alignTo,u=e.popoverProps,s=void 0===u?{}:u,c=e.popoverPaperStyle,f=void 0===c?{}:c,d=e.onCloseOrActionClick,p=void 0===d?function(){}:d;return r.length>0&&o.a.createElement(v["a"],P({},s,{onClose:p,ref:t,open:a,anchorEl:l.current,getContentAnchorEl:null,container:l.current,disablePortal:!0,hideBackdrop:!0,style:{pointerEvents:"none"},transitionDuration:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:_({pointerEvents:"auto",maxWidth:"250px"},f)}}),o.a.createElement(b["a"],null,r.map((function(e,t){return o.a.createElement(Hr,{key:t,item:e,onActionClick:p})}))))})),Vr=Object(h["a"])((function(e){return{itemSpacing:{padding:e.spacing(0,.5)},firstItemSpacing:{padding:e.spacing(0,.5,0,0)},lastItemSpacing:{padding:e.spacing(0,0,0,.5)}}})),Wr=o.a.forwardRef((function(e,t){var n=e.actions,r=void 0===n?[]:n,i=e.first,a=void 0!==i&&i,l=e.last,u=void 0!==l&&l,s=e.addAnchor,c=void 0!==s&&s,f=Vr(),p=f.itemSpacing,m=f.firstItemSpacing,h=f.lastItemSpacing;return r.length>0?o.a.createElement(d["a"],{item:!0,container:!0,spacing:0,wrap:"nowrap"},r.map((function(e,n){var i=[],l=a&&0===n,s=u&&r.length-1===n;return l&&!s&&(i=[m]),s&&!l&&(i=[].concat(U(i),[h])),l||s||0!==i.length||(i=[p]),o.a.createElement(d["a"],{item:!0,key:e.key,className:i.join(" ").trim()},o.a.createElement(Rr,{key:e.key,item:e,ref:0===n?t:null,addAnchor:c}))}))):null})),Gr={pointerEvents:"none"},Kr={vertical:"top",horizontal:"right"},$r={vertical:"bottom",horizontal:"right"},Xr=function(e){var t=e.show,n=void 0===t||t,i=e.actions,a=void 0===i?[]:i,l=e.maxItems,u=void 0===l?3:l,s=e.selections,c=void 0===s?{show:!1,api:null,onConfirm:function(){},onCancel:function(){}}:s,p=e.more,m=void 0===p?{enabled:!1,actions:[],alignTo:null,popoverProps:{},popoverPaperStyle:{}}:p,h=e.popover,g=void 0===h?{show:!1,anchorEl:null}:h,y=function(e){var t=e.api,n=e.onConfirm,o=void 0===n?function(){}:n,i=e.onCancel,a=void 0===i?function(){}:i,l=Object(r["useContext"])(dn).translator;return[{key:"clear",type:"icon-button",label:l.get("Selection.Clear"),enabled:function(){return t.canClear()},action:function(){return t.clear()},getSvgIconShape:zr},{key:"cancel",type:"icon-button",label:l.get("Selection.Cancel"),enabled:function(){return t.canCancel()},action:function(){t.cancel(),a()},getSvgIconShape:_r},{key:"confirm",type:"icon-button",label:l.get("Selection.Confirm"),enabled:function(){return t.canConfirm()},action:function(){t.confirm(),o()},getSvgIconShape:Cr}]}(c),b=Vr().itemSpacing,M=Object(r["useContext"])(dn).translator,O=F(Object(r["useState"])(!1),2),w=O[0],S=O[1],k=F(Object(r["useState"])(m.enabled),2),C=k[0],E=k[1],A=F(Object(r["useState"])(m.actions),2),q=A[0],D=A[1],T=F(Object(r["useState"])(m.alignTo),2),N=T[0],L=T[1],I=Object(r["useRef"])(),j=Object(f["a"])(),P=Object(r["useMemo"])((function(){return{margin:j.spacing(.5,0)}}));Object(r["useEffect"])((function(){return function(){return S(!1)}}),[g.show]),Object(r["useEffect"])((function(){E(m.enabled)}),[m.enabled]);var R=Object(r["useMemo"])((function(){return a.filter((function(e){return!e.hidden}))}),[a]);if(!c.show&&0===R.length)return null;var _={key:"more",label:M.get("Menu.More"),getSvgIconShape:jr,hidden:!1,enabled:function(){return C},action:function(){return S(!w)}};if(R.length>u){var z=R.splice(-(R.length-u)-1);E(!0),D([].concat(U(z),U(m.actions))),L(I)}var H=R.length>0,B=q.length>0,V=H&&c.show||B&&c.show,W=o.a.createElement(d["a"],{container:!0,spacing:0,wrap:"nowrap"},H&&o.a.createElement(Wr,{actions:R,first:!0,last:!B&&!c.show}),B&&o.a.createElement(Wr,{ref:I,actions:[_],first:!H,last:!c.show,addAnchor:!0}),V&&o.a.createElement(d["a"],{item:!0,className:b,style:P},o.a.createElement(x["a"],{orientation:"vertical"})),c.show&&o.a.createElement(Wr,{actions:y,first:!H&&!B,last:!0}),w&&o.a.createElement(Br,{show:w,actions:q,alignTo:N,popoverProps:m.popoverProps,popoverPaperStyle:m.popoverPaperStyle,onCloseOrActionClick:function(){S(!1)}}));return g.show?o.a.createElement(v["a"],{open:g.show,anchorEl:g.anchorEl,anchorOrigin:Kr,transformOrigin:$r,hideBackdrop:!0,style:Gr,PaperProps:{style:{pointerEvents:"auto",padding:j.spacing(1,1)}}},W):n&&W},Zr=function(e){return ir(function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M15.7873809,13.80959 C16.1870614,14.209868 15.9872212,15.1104934 15.4876205,15.5107714 C15.08794,15.9110493 14.1886588,16.2112578 13.7889782,15.8109798 L11.0911347,13.1091035 L10.9912145,12.5086866 L10.2917736,11.8082001 C9.19265216,12.5086866 7.89369045,13.0090341 6.49480859,13.0090341 C2.89768383,13.0090341 0,10.1070188 0,6.50451703 C0,2.90201529 2.89768383,0 6.49480859,0 C10.0919334,0 12.9896172,2.90201529 12.9896172,6.50451703 C12.9896172,7.90548992 12.4900165,9.20639333 11.7905756,10.3071577 L12.4900165,11.0076442 L13.0895373,11.1077137 L15.7873809,13.80959 Z M11.2909749,6.50451703 C11.2909749,5.20361362 10.7913743,4.00277971 9.89209309,3.00208478 C8.9928119,2.10145935 7.79377031,1.60111188 6.49480859,1.60111188 C5.19584688,1.60111188 3.99680529,2.10145935 2.99760397,3.00208478 C2.09832278,4.00277971 1.59872212,5.20361362 1.59872212,6.50451703 C1.59872212,7.80542043 2.09832278,9.00625434 2.99760397,9.90687978 C3.89688516,10.8075052 5.09592674,11.3078527 6.49480859,11.3078527 C7.79377031,11.4079222 8.9928119,10.9075747 9.89209309,9.90687978 C10.7913743,9.00625434 11.2909749,7.80542043 11.2909749,6.50451703 Z"}}]})}(e))},Jr=Object(c["a"])((function(e){return{root:{"& fieldset":{borderRadius:0,borderColor:"".concat(e.palette.divider," transparent")}}}}));function Yr(e){var t=e.model,n=Object(r["useContext"])(dn).translator,i=F(Object(r["useState"])(""),2),a=i[0],l=i[1],u=Jr();return o.a.createElement(M["a"],{startAdornment:o.a.createElement(O["a"],{position:"start"},o.a.createElement(Zr,null)),className:[u.root].join(" "),autoFocus:!0,margin:"dense",fullWidth:!0,placeholder:n.get("Listbox.Search"),value:a,onChange:function(e){l(e.target.value),t.searchListObjectFor("/qListObjectDef",e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":t.acceptListObjectSearch("/qListObjectDef",!0),l("");break;case"Escape":t.abortListObjectSearch("/qListObjectDef")}}})}function Qr(e){var t,n,r=e.appSelections,o=e.appModal,i=e.model,a=!1,l=!1,u={id:i.id,setLayout:function(e){t=e},begin:function(e){var t,n=(t=!1,{isPrevented:function(){return t},preventDefault:function(){t=!0}});return this.emit("activate",n),n.isPrevented()?Promise.resolve():(a=!0,this.emit("activated"),o.begin(i,e,!0))},clear:function(){return l=!1,this.emit("cleared"),t.qListObject?i.clearSelections("/qListObjectDef"):i.resetMadeSelections()},confirm:function(){return l=!1,a=!1,this.emit("confirmed"),this.emit("deactivated"),o.end(!0)},cancel:function(){return l=!1,a=!1,this.emit("canceled"),this.emit("deactivated"),o.end(!1)},select:function(e){var t=this;return L(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.begin([e.params[0]]),r.isModal()){n.next=3;break}return n.abrupt("return",!1);case 3:return n.next=5,o;case 5:return n.next=7,i[e.method].apply(i,U(e.params));case 7:if(n.sent){n.next=11;break}return t.clear(),n.abrupt("return",!1);case 11:return l=!0,n.abrupt("return",!0);case 13:case"end":return n.stop()}}),n)})))()},canClear:function(){return t&&t.qListObject&&t.qListObject.qDimensionInfo?!t.qListObject.qDimensionInfo.qLocked:l||t&&t.qSelectionInfo.qMadeSelections},canConfirm:function(){return t&&t.qListObject&&t.qListObject.qDimensionInfo?!t.qListObject.qDimensionInfo.qLocked:l||t&&t.qSelectionInfo.qMadeSelections},canCancel:function(){return!(t&&t.qListObject&&t.qListObject.qDimensionInfo)||!t.qListObject.qDimensionInfo.qLocked},isActive:function(){return a},isModal:function(){return r.isModal(i)},goModal:function(e){return o.begin(i,e,!1)},noModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.end(e)}};return n=u,Object.keys(Y.prototype).forEach((function(e){n[e]=Y.prototype[e]})),Y.init(n),u}function eo(e,t){var n=F(Qn(e),1)[0],o=F(Pn(t),1)[0],i=t?t.id:null,a=F(Wn(),1)[0],l=F($n(),1)[0],u=a.get(e.id),s=l.get(i);return Object(r["useEffect"])((function(){n&&t&&!s&&(s=Qr({appSelections:n,appModal:u,model:t}),l.set(i,s),l.dispatch(!0))}),[n,t]),Object(r["useEffect"])((function(){s&&s.setLayout(o)}),[s,o]),[s]}function to(e){var t=e.alignTo,n=e.show,i=e.close,a=e.app,l=e.fieldName,u=e.stateName,s=void 0===u?"$":u,c=n&&Boolean(t.current),p=Object(f["a"])(),h=F(_n({qInfo:{qType:"njsListbox"},qListObjectDef:{qStateName:s,qShowAlternatives:!0,qInitialDataFetch:[{qTop:0,qLeft:0,qWidth:0,qHeight:0}],qDef:{qSortCriterias:[{qSortByState:1,qSortByAscii:1,qSortByNumeric:1,qSortByLoadOrder:1}],qFieldDefs:[l]}}},a,l,s),1)[0],g=Object(r["useCallback"])((function(){h.lock("/qListObjectDef")}),[h]),y=Object(r["useCallback"])((function(){h.unlock("/qListObjectDef")}),[h]),b=Object(r["useContext"])(dn).translator,x=Object(r["useRef"])(),M=F(eo(a,h),1)[0],O=F(Pn(h),1)[0];if(Object(r["useEffect"])((function(){M&&c&&(M.isModal(h)||M.goModal("/qListObjectDef"))}),[M,c]),!h||!O||!b)return null;var w=!0===O.qListObject.qDimensionInfo.qLocked,S=function(e,t){var n="escapeKeyDown"!==t;M.noModal(n),i()},k=function(e){var t=e.layout,n=e.model,r=e.translator;return[{key:"selectAll",type:"menu-icon-button",label:r.get("Selection.SelectAll"),getSvgIconShape:Tr,enabled:function(){return["qOption","qAlternative","qExcluded","qDeselected"].some((function(e){return t.qListObject.qDimensionInfo.qStateCounts[e]>0}))},action:function(){n.selectListObjectAll("/qListObjectDef")}},{key:"selectPossible",type:"menu-icon-button",label:r.get("Selection.SelectPossible"),getSvgIconShape:Lr,enabled:function(){return["qOption"].some((function(e){return t.qListObject.qDimensionInfo.qStateCounts[e]>0}))},action:function(){n.selectListObjectPossible("/qListObjectDef")}},{key:"selectAlternative",type:"menu-icon-button",label:r.get("Selection.SelectAlternative"),getSvgIconShape:Nr,enabled:function(){return["qAlternative"].some((function(e){return t.qListObject.qDimensionInfo.qStateCounts[e]>0}))},action:function(){n.selectListObjectAlternative("/qListObjectDef")}},{key:"selectExcluded",type:"menu-icon-button",label:r.get("Selection.SelectExcluded"),getSvgIconShape:Ir,enabled:function(){return["qAlternative","qExcluded"].some((function(e){return t.qListObject.qDimensionInfo.qStateCounts[e]>0}))},action:function(){n.selectListObjectExcluded("/qListObjectDef")}}]}({layout:O,model:h,translator:b}),C=O.qListObject.qDimensionInfo.qStateCounts,E=C.qSelected+C.qSelectedExcluded+C.qLocked+C.qLockedExcluded>0;return o.a.createElement(v["a"],{open:c,onClose:S,anchorEl:t.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{style:{minWidth:"250px"}}},o.a.createElement(d["a"],{container:!0,direction:"column",spacing:0},o.a.createElement(d["a"],{item:!0,container:!0,style:{padding:p.spacing(1)}},o.a.createElement(d["a"],{item:!0},w?o.a.createElement(m["a"],{onClick:y,disabled:!w},o.a.createElement(lr,null)):o.a.createElement(m["a"],{onClick:g,disabled:!E},o.a.createElement(ur,null))),o.a.createElement(d["a"],{item:!0,xs:!0}),o.a.createElement(d["a"],{item:!0},o.a.createElement(Xr,{more:{enabled:!w,actions:k,alignTo:x,popoverProps:{elevation:0},popoverPaperStyle:{boxShadow:"0 12px 8px -8px rgba(0, 0, 0, 0.2)",minWidth:"250px"}},selections:{show:!0,api:M,onConfirm:S,onCancel:function(){return S(0,"escapeKeyDown")}}}))),o.a.createElement(d["a"],{item:!0,xs:!0},o.a.createElement("div",{ref:x}),o.a.createElement(Yr,{model:h}),o.a.createElement(Dr,{model:h,selections:M,direction:"ltr"}))))}var no=Object(c["a"])((function(e){return{item:{backgroundColor:e.palette.background.paper,position:"relative",cursor:"pointer",padding:"4px","&:hover":{backgroundColor:e.palette.action.hover}}}}));function ro(e){var t=e.field,n=e.api,i=e.stateIx,a=void 0===i?0:i,l=e.skipHandleShowListBoxPopover,u=void 0!==l&&l,s=e.moreAlignTo,c=void 0===s?null:s,h=e.onClose,g=void 0===h?function(){}:h,y=Object(r["useContext"])(dn).translator,v=c||Object(r["useRef"])(),b=Object(f["a"])(),x=F(Object(r["useState"])(!1),2),M=x[0],O=x[1],w=no(),S=function(){O(!1),g()},k=t.selections[a];void 0===k.qTotal&&(k.qTotal=0);var C=k.qStateCounts||{qSelected:0,qLocked:0,qExcluded:0,qLockedExcluded:0,qSelectedExcluded:0,qAlternative:0},E=(C.qSelected+C.qLocked)/k.qTotal,A=C.qAlternative/k.qTotal,q=(C.qExcluded+C.qLockedExcluded+C.qSelectedExcluded)/k.qTotal,D=C.qSelected+C.qSelectedExcluded+C.qLocked+C.qLockedExcluded,T=0===D&&0===k.qTotal,N="";k.qTotal===D&&k.qTotal>1?N=y.get("CurrentSelections.All"):D>1&&k.qTotal?N=y.get("CurrentSelections.Of",[D,k.qTotal]):k.qSelectedFieldSelectionInfo&&(N=k.qSelectedFieldSelectionInfo.map((function(e){return e.qName})).join(", ")),"$"!==t.states[a]&&(N="".concat(t.states[a],": ").concat(N));var L=[{color:b.palette.selected.main,ratio:E},{color:b.palette.selected.alternative,ratio:A},{color:b.palette.selected.excluded,ratio:q}];L.forEach((function(e,t){e.offset=t?L[t-1].offset+L[t-1].ratio:0}));var I=null,j=null,P=null,R=null;return c||(I=o.a.createElement(d["a"],{item:!0,xs:!0,style:{minWidth:0,flexGrow:1,opacity:k.qLocked?"0.3":""}},o.a.createElement(p["a"],{noWrap:!0,style:{fontSize:"12px",lineHeight:"16px",fontWeight:600}},k.qField),o.a.createElement(p["a"],{noWrap:!0,style:{fontSize:"12px",opacity:.55,lineHeight:"16px"}},N)),j=k.qLocked?o.a.createElement(d["a"],{item:!0},o.a.createElement(m["a"],null,o.a.createElement(lr,null))):o.a.createElement(d["a"],{item:!0},o.a.createElement(m["a"],{title:y.get("Selection.Clear"),onClick:function(e){e.stopPropagation(),n.clearField(k.qField,t.states[a])},style:{zIndex:1}},o.a.createElement(ar,null))),P=o.a.createElement("div",{style:{height:"4px",position:"absolute",bottom:"0",left:"0",width:"100%"}},!1===T&&L.map((function(e){return o.a.createElement("div",{key:e.color,style:{position:"absolute",background:e.color,height:"100%",top:0,width:"".concat(100*e.ratio,"%"),left:"".concat(100*e.offset,"%")}})}))),R=o.a.createElement(d["a"],{container:!0,spacing:0,ref:v,className:w.item,onClick:!1===u&&function(e){e.currentTarget.contains(e.target)&&O(!M)}||null},I,j,P,M&&o.a.createElement(to,{alignTo:v,show:M,close:S,app:n.model,fieldName:k.qField,stateName:t.states[a]}))),c?o.a.createElement(to,{alignTo:v,show:!0,close:S,app:n.model,fieldName:k.qField,stateName:t.states[a]}):R}var oo=function(e){return ir(function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M8,9 L12.5,4.5 L14,6 L9.5,10.5 L8,12 L2,6 L3.5,4.5 L8,9 Z"}}]})}(e))},io=Object(c["a"])((function(e){return{item:{backgroundColor:e.palette.background.paper,position:"relative",cursor:"pointer",padding:"4px","&:hover":{backgroundColor:e.palette.action.hover},height:"100%",alignItems:"center"},badge:{padding:e.spacing(0,1)}}}));function ao(e){var t=e.field,n=e.api,i=e.moreAlignTo,a=void 0===i?null:i,l=e.onClose,u=void 0===l?function(){}:l,s=io(),c=F(Object(r["useState"])(!!a),2),f=c[0],h=c[1],g=F(Object(r["useState"])(-1),2),y=g[0],b=g[1],x=F(Object(r["useState"])(a?a.current:null),2),M=x[0],O=x[1],A=a||Object(r["useRef"])(),q=Object(r["useContext"])(dn).translator.get("Selection.ClearAllStates"),D=function(){b(-1),u()},T=null;a||(T=o.a.createElement(o.a.Fragment,null,o.a.createElement(d["a"],{item:!0,xs:!0,zeroMinWidth:!0},o.a.createElement(w["a"],{className:s.badge,color:"secondary",badgeContent:t.states.length},o.a.createElement(p["a"],{component:"span",noWrap:!0,style:{fontSize:"12px",lineHeight:"16px",fontWeight:600}},t.name))),o.a.createElement(d["a"],{item:!0},o.a.createElement("div",{style:{width:"12px"}})),o.a.createElement(d["a"],{item:!0},o.a.createElement(m["a"],null,o.a.createElement(oo,null)))));var N=o.a.createElement(S["a"],{dense:!0},o.a.createElement(k["a"],{title:q,onClick:function(){t.states.forEach((function(e){return n.clearField(t.name,e)}))}},o.a.createElement(C["a"],{variant:"contained",fullWidth:!0},q)),t.states.map((function(e,r){return o.a.createElement(k["a"],{key:r,title:t.name,onClick:function(e){return function(e,t){e.stopPropagation(),h(!1),b(t)}(e,r)}},o.a.createElement(E["a"],{border:1,width:"100%",borderRadius:"borderRadius",borderColor:"divider"},o.a.createElement(ro,{field:t,api:n,stateIx:r,skipHandleShowListBoxPopover:!0})))}))),L=o.a.createElement(v["a"],{open:f,onClose:function(){h(!1),u()},anchorEl:M,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{style:{minWidth:"200px",width:"200px",pointerEvents:"auto"}}},N),I=a?L:o.a.createElement(d["a"],{container:!0,spacing:0,className:s.item,onClick:function(e){e.currentTarget.contains(e.target)&&(O(e.currentTarget),A.current=e.currentTarget,h(!f))}},T,f&&L,y>-1&&o.a.createElement(to,{alignTo:A,show:y>-1,close:D,app:n.model,fieldName:t.selections[y].qField,stateName:t.states[y]}));return a&&y>-1?o.a.createElement(to,{alignTo:A,show:y>-1,close:D,app:n.model,fieldName:t.selections[y].qField,stateName:t.states[y]}):I}var lo=Object(c["a"])((function(e){return{item:{backgroundColor:e.palette.background.paper,position:"relative",cursor:"pointer",padding:"4px","&:hover":{backgroundColor:e.palette.action.hover},height:"100%",alignItems:"center"},badge:{padding:e.spacing(0,1)}}}));function uo(e){var t=e.items,n=void 0===t?[]:t,i=e.api,a=lo(),l=Object(f["a"])(),u=F(Object(r["useState"])(!1),2),s=u[0],c=u[1],h=F(Object(r["useState"])(-1),2),g=h[0],y=h[1],b=F(Object(r["useState"])(null),2),x=b[0],M=b[1],O=Object(r["useRef"])(),w=function(){y(-1)},C=null;return g>-1&&(C=n[g].states.length>1?o.a.createElement(ao,{field:n[g],api:i,moreAlignTo:O,onClose:w}):o.a.createElement(ro,{field:n[g],api:i,skipHandleShowListBoxPopover:!0,moreAlignTo:O,onClose:w})),o.a.createElement(d["a"],{container:!0,spacing:0,className:a.item,onClick:function(e){e.currentTarget.contains(e.target)&&(M(e.currentTarget),O.current=e.currentTarget,c(!s))}},o.a.createElement(d["a"],{item:!0},o.a.createElement(E["a"],{borderRadius:l.shape.borderRadius,style:{padding:"4px 8px 4px 8px",backgroundColor:l.palette.selected.main,color:l.palette.selected.mainContrastText}},o.a.createElement(p["a"],{noWrap:!0,style:{fontSize:"12px",lineHeight:"16px",fontWeight:600},color:"inherit"},"+",n.length))),o.a.createElement(d["a"],{item:!0},o.a.createElement(m["a"],null,o.a.createElement(oo,null))),s&&o.a.createElement(v["a"],{open:s,onClose:function(){c(!1)},anchorEl:x,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{style:{minWidth:"200px",width:"200px",pointerEvents:"auto"}}},o.a.createElement(S["a"],{dense:!0},n.map((function(e,t){return o.a.createElement(k["a"],{key:t,title:e.name,onClick:function(e){return function(e,t){e.stopPropagation(),c(!1),y(t)}(e,t)}},o.a.createElement(E["a"],{border:1,width:"100%",borderRadius:"borderRadius",borderColor:"divider"},e.states.length>1?o.a.createElement(ao,{field:e,api:i}):o.a.createElement(ro,{field:e,api:i})))})))),C)}function so(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$";e.qSelections.forEach((function(e){var r=e.qField,o=t[r]=t[r]||{name:r,states:[],selections:[]};-1===o.states.indexOf(n)&&(o.states.push(n),o.selections.push(e))}))}function co(e){var t=e.api,n=e.app,i=Object(f["a"])(),a=F(Fn(n),1)[0],l=F(Pn(a),1)[0],u=F(Object(r["useState"])({items:[],more:[]}),2),s=u[0],c=u[1],p=F(Jn(),1)[0],m=F(rr(),2),h=m[0],g=m[1],y=F(Object(r["useState"])(0),2),v=y[0],b=y[1];return Object(r["useEffect"])((function(){if(g){var e=g.width,t=Math.floor(e)-72,n=Math.floor(t/120);b(n)}}),[g]),Object(r["useEffect"])((function(){if(n&&a&&l&&v){var e=function(e){if(!e)return[];var t={};return e.qSelectionObject&&so(e.qSelectionObject,t),e.alternateStates&&e.alternateStates.forEach((function(e){return so(e.qSelectionObject,t,e.stateName)})),Object.keys(t).map((function(e){return t[e]}))}(l);c((function(t){var r,o=e;if((r=p.get(n.id))&&"njsListbox"===r.genericType&&o.length+1===t.items.length){var i=t.items.filter((function(e){return!1===o.some((function(t){return e.name===t.name}))}))[0],a=i.selections[0].qField;i.selections=[{qField:a}];var l=t.items.indexOf(i);o.splice(l,0,i)}var u=[];return v<o.length&&(u=o.splice(v-o.length)),{items:o,more:u}}))}}),[n,a,l,t.isInModal(),v]),o.a.createElement(d["a"],{ref:h,container:!0,spacing:0,wrap:"nowrap",style:{height:"100%"}},s.items.map((function(e){return o.a.createElement(d["a"],{item:!0,key:"".concat(e.states.join("::"),"::").concat(e.name),style:{position:"relative",maxWidth:"240px",minWidth:"".concat(120,"px"),background:i.palette.background.paper,borderRight:"1px solid ".concat(i.palette.divider)}},e.states.length>1?o.a.createElement(ao,{field:e,api:t}):o.a.createElement(ro,{field:e,api:t}))})),s.more.length>0&&o.a.createElement(d["a"],{item:!0,style:{position:"relative",maxWidth:"98px",minWidth:"".concat(72,"px"),background:i.palette.background.paper,borderRight:"1px solid ".concat(i.palette.divider)}},o.a.createElement(uo,{items:s.more,api:t})))}var fo=function(e){return ir(function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M10,15.5 C10,15.7761424 9.77614237,16 9.5,16 L6.5,16 C6.22385763,16 6,15.7761424 6,15.5 C6,15.2238576 6.22385763,15 6.5,15 L9.5,15 C9.77614237,15 10,15.2238576 10,15.5 Z M15,13.5 C15,13.2238576 15.2238576,13 15.5,13 C15.7761424,13 16,13.2238576 16,13.5 L16,15 C16,15.5522847 15.5522847,16 15,16 L13.5,16 C13.2238576,16 13,15.7761424 13,15.5 C13,15.2238576 13.2238576,15 13.5,15 L14.5,15 C14.7761424,15 15,14.7761424 15,14.5 L15,13.5 Z M15,6.5 C15,6.22385763 15.2238576,6 15.5,6 C15.7761424,6 16,6.22385763 16,6.5 L16,9.5 C16,9.77614237 15.7761424,10 15.5,10 C15.2238576,10 15,9.77614237 15,9.5 L15,6.5 Z M16,2.5 C16,2.77614237 15.7761424,3 15.5,3 C15.2238576,3 15,2.77614237 15,2.5 L15,1.5 C15,1.22385763 14.7761424,1 14.5,1 L13.5,1 C13.2238576,1 13,0.776142375 13,0.5 C13,0.223857625 13.2238576,-5.07265313e-17 13.5,0 L15,0 C15.5522847,1.01453063e-16 16,0.44771525 16,1 L16,2.5 Z M10,0.5 C10,0.776142375 9.77614237,1 9.5,1 L6.5,1 C6.22385763,1 6,0.776142375 6,0.5 C6,0.223857625 6.22385763,-5.07265313e-17 6.5,0 L9.5,0 C9.77614237,5.07265313e-17 10,0.223857625 10,0.5 Z M1,2.5 C1,2.77614237 0.776142375,3 0.5,3 C0.223857625,3 5.18696197e-13,2.77614237 5.18696197e-13,2.5 L5.18696197e-13,1 C5.18696197e-13,0.44771525 0.44771525,-1.01453063e-16 1,0 L2.5,0 C2.77614237,5.07265313e-17 3,0.223857625 3,0.5 C3,0.776142375 2.77614237,1 2.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,2.5 Z M1,13.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L2.5,15 C2.77614237,15 3,15.2238576 3,15.5 C3,15.7761424 2.77614237,16 2.5,16 L1,16 C0.44771525,16 5.18696197e-13,15.5522847 5.18696197e-13,15 L5.18696197e-13,13.5 C5.18696197e-13,13.2238576 0.223857625,13 0.5,13 C0.776142375,13 1,13.2238576 1,13.5 Z M4,7 C7.49095643,7 10,10.1337595 10,12.1872632 C10,12.1872632 8.16051135,9.86624054 4,10 L4,12 C4,12 2.66666667,10.8333333 -1.0658141e-14,8.5 C-2.59348099e-13,8.5 1.33333333,7.33333333 4,5 C4,5 4,5.66666667 4,7 Z"}}]})}(e))},po=function(e){return ir(function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M6,15.5 L6,15.5 C6,15.2238576 6.22385763,15 6.5,15 L9.5,15 C9.77614237,15 10,15.2238576 10,15.5 L10,15.5 C10,15.7761424 9.77614237,16 9.5,16 L6.5,16 C6.22385763,16 6,15.7761424 6,15.5 Z M1,13.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L2.5,15 C2.77614237,15 3,15.2238576 3,15.5 L3,15.5 C3,15.7761424 2.77614237,16 2.5,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,13.5 C-3.38176876e-17,13.2238576 0.223857625,13 0.5,13 L0.5,13 C0.776142375,13 1,13.2238576 1,13.5 Z M1,6.5 L1,9.5 C1,9.77614237 0.776142375,10 0.5,10 L0.5,10 C0.223857625,10 3.38176876e-17,9.77614237 0,9.5 L0,6.5 C-3.38176876e-17,6.22385763 0.223857625,6 0.5,6 L0.5,6 C0.776142375,6 1,6.22385763 1,6.5 Z M0,2.5 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 L2.5,0 C2.77614237,-5.07265313e-17 3,0.223857625 3,0.5 L3,0.5 C3,0.776142375 2.77614237,1 2.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,2.5 C1,2.77614237 0.776142375,3 0.5,3 L0.5,3 C0.223857625,3 3.38176876e-17,2.77614237 0,2.5 Z M6,0.5 L6,0.5 C6,0.223857625 6.22385763,5.07265313e-17 6.5,0 L9.5,0 C9.77614237,-5.07265313e-17 10,0.223857625 10,0.5 L10,0.5 C10,0.776142375 9.77614237,1 9.5,1 L6.5,1 C6.22385763,1 6,0.776142375 6,0.5 Z M15,2.5 L15,1.5 C15,1.22385763 14.7761424,1 14.5,1 L13.5,1 C13.2238576,1 13,0.776142375 13,0.5 L13,0.5 C13,0.223857625 13.2238576,5.07265313e-17 13.5,0 L15,0 C15.5522847,-1.01453063e-16 16,0.44771525 16,1 L16,2.5 C16,2.77614237 15.7761424,3 15.5,3 L15.5,3 C15.2238576,3 15,2.77614237 15,2.5 Z M15,13.5 C15,13.2238576 15.2238576,13 15.5,13 C15.7761424,13 16,13.2238576 16,13.5 L16,15 C16,15.5522847 15.5522847,16 15,16 L13.5,16 C13.2238576,16 13,15.7761424 13,15.5 C13,15.2238576 13.2238576,15 13.5,15 L14.5,15 C14.7761424,15 15,14.7761424 15,14.5 L15,13.5 Z M12,7 C12,5.66666667 12,5 12,5 C14.6666667,7.33333333 16,8.5 16,8.5 C13.3333333,10.8333333 12,12 12,12 L12,10 C7.83948865,9.86624054 6,12.1872632 6,12.1872632 C6,10.1337595 8.50904357,7 12,7 Z"}}]})}(e))};function mo(e){var t=e.api,n=e.app,i=Object(r["useContext"])(dn).translator,a=F(Un(n),1)[0];return o.a.createElement(d["a"],{container:!0,wrap:"nowrap",style:{height:"100%",alignItems:"center",padding:"0 8px"}},o.a.createElement(d["a"],{item:!0},o.a.createElement(m["a"],{style:{marginRight:"8px"},disabled:!a||!a.canGoBack,title:i.get("Navigate.Back"),onClick:function(){return t.back()}},o.a.createElement(fo,null))),o.a.createElement(d["a"],{item:!0},o.a.createElement(m["a"],{style:{marginRight:"8px"},disabled:!a||!a.canGoForward,title:i.get("Navigate.Forward"),onClick:function(){return t.forward()}},o.a.createElement(po,null))),o.a.createElement(d["a"],{item:!0},o.a.createElement(m["a"],{disabled:!a||!a.canClear,title:i.get("Selection.ClearAll"),onClick:function(){return t.clear()}},o.a.createElement(Fr,null))))}var ho=function(e){var t=e.app,n=Object(f["a"])(),r=F(Qn(t),1)[0];return r?o.a.createElement(d["a"],{container:!0,spacing:0,wrap:"nowrap",style:{backgroundColor:n.palette.background.paper,minHeight:"40px"}},o.a.createElement(d["a"],{item:!0,style:{borderRight:"1px solid ".concat(n.palette.divider)}},o.a.createElement(mo,{api:r,app:t})),o.a.createElement(d["a"],{item:!0,xs:!0,style:{backgroundColor:n.palette.background.darker,overflow:"hidden"}},o.a.createElement(co,{api:r,app:t}))):null};function go(e){var t=e.element,n=e.app;return a.a.createPortal(o.a.createElement(ho,{app:n}),t)}var yo=[[10,31],[0,31],[0,31],[0,31],[0,31],[0,31]];function vo(e){var t=F(e,2),n=t[0],r=t[1];return(n+(Math.random()*(r-n)|0)).toString(32)}function bo(){return yo.map(vo).join("")}function xo(e,t){for(var n=0;n<e.length;++n)e[n]>=0&&e[n]>=t&&++e[n];e.push(t)}function Mo(e,t){for(var n=0,r=0;r<e.length;++r)e[r]>t?--e[r]:e[r]===t&&(n=r);return e.splice(n,1),n}function Oo(e){var t=e.sn,n=e.properties,r=e.fields;if(r.length){var o=t.qae.data.targets[0];if(o){for(var i=o.propertyPath.split("/"),a=n,l=0;l<i.length;l++){var u=i[l];a=u?a[u]:a}var s=function(e){var t=e.hc,n=e.def,r=e.properties;t.qDimensions=t.qDimensions||[],t.qMeasures=t.qMeasures||[],t.qInterColumnSortOrder=t.qInterColumnSortOrder||[],t.qInitialDataFetch=t.qInitialDataFetch||[],t.qColumnOrder=t.qColumnOrder||[],t.qExpansionState=t.qExpansionState||[];var o=r,i={dimensions:function(){return t.qDimensions},measures:function(){return t.qMeasures},addDimension:function(e){var r="string"==typeof e?{qDef:{qFieldDefs:[e]}}:_(_({},e),{},{qDef:e.qDef||{}});r.qDef.cId=r.qDef.cId||bo(),r.qDef.qSortCriterias=r.qDef.qSortCriterias||[{qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1}],r.qOtherTotalSpec=r.qOtherTotalSpec||{},r.qAttributeExpressions=r.qAttributeExpressions||[],r.qAttributeDimensions=r.qAttributeDimensions||[],t.qDimensions.length<i.maxDimensions()?(t.qDimensions.push(r),xo(t.qInterColumnSortOrder,t.qDimensions.length-1),n.dimensions.added(r,o)):(t.qLayoutExclude=t.qLayoutExclude||{},t.qLayoutExclude.qHyperCubeDef=t.qLayoutExclude.qHyperCubeDef||{},t.qLayoutExclude.qHyperCubeDef.qDimensions=t.qLayoutExclude.qHyperCubeDef.qDimensions||[],t.qLayoutExclude.qHyperCubeDef.qMeasures=t.qLayoutExclude.qHyperCubeDef.qMeasures||[],t.qLayoutExclude.qHyperCubeDef.qDimensions.push(r))},removeDimension:function(e){var r=t.qDimensions.splice(e,1)[0];Mo(t.qInterColumnSortOrder,e),n.dimensions.removed(r,o,e)},addMeasure:function(e){var r="string"==typeof e?{qDef:{qDef:e}}:_(_({},e),{},{qDef:e.qDef||{}});r.qDef.cId=r.qDef.cId||bo(),r.qSortBy=r.qSortBy||{qSortByLoadOrder:1,qSortByNumeric:-1},r.qAttributeDimensions=r.qAttributeDimensions||[],r.qAttributeExpressions=r.qAttributeExpressions||[],t.qMeasures.length<i.maxMeasures()?(t.qMeasures.push(r),xo(t.qInterColumnSortOrder,t.qDimensions.length+t.qMeasures.length-1),n.measures.added(r,o)):(t.qLayoutExclude=t.qLayoutExclude||{},t.qLayoutExclude.qHyperCubeDef=t.qLayoutExclude.qHyperCubeDef||{},t.qLayoutExclude.qHyperCubeDef.qDimensions=t.qLayoutExclude.qHyperCubeDef.qDimensions||[],t.qLayoutExclude.qHyperCubeDef.qMeasures=t.qLayoutExclude.qHyperCubeDef.qMeasures||[],t.qLayoutExclude.qHyperCubeDef.qMeasures.push(r))},removeMeasure:function(e){var r=t.qMeasures.splice(e,1)[0];Mo(t.qInterColumnSortOrder,t.qDimensions.length+e),n.measures.removed(r,o,e)},maxDimensions:function(){return n.dimensions.max(t.qMeasures.length)},maxMeasures:function(){return n.measures.max(t.qDimensions.length)},canAddDimension:function(){return t.qDimensions.length<i.maxDimensions()},canAddMeasure:function(){return t.qMeasures.length<i.maxMeasures()}};return i}({hc:a,def:o,properties:n});r.forEach((function(e){"measure"===function(e){return"string"==typeof e&&"="===e[0]||"object"===T(e)&&e.qDef&&e.qDef.qDef||"object"===T(e)&&e.qLibraryId&&"measure"===e.type?"measure":"dimension"}(e)?s.addMeasure(e):s.addDimension(e)}))}}}var wo=function(e){return ir(function(e){return _(_({},e),{},{shapes:[{type:"path",attrs:{d:"M8.86225926,1.6 L15.7815749,13.5 C16.2829746,14.3 15.8818548,15 14.9793354,15 L1.04042422,15 C0.0853772072,15 -0.232971797,14.3650794 0.172002787,13.6135407 L7.05722041,1.6 C7.55862009,0.8 8.36085958,0.8 8.86225926,1.6 Z M7.962,2.007 C7.95987183,2.02476599 7.95607967,2.03712023 7.94920396,2.05249845 L1.1033193,14 L14.915544,14 L7.99777452,2.10265906 L7.97779697,2.06138411 L7.96394459,2.01964415 L7.962,2.007 Z M7.5,11 L8.5,11 C8.76666667,11 8.95432099,11.1580247 8.99272977,11.4038409 L9,11.5 L9,12.5 C9,12.7666667 8.84197531,12.954321 8.59615912,12.9927298 L8.5,13 L7.5,13 C7.23333333,13 7.04567901,12.8419753 7.00727023,12.5961591 L7,12.5 L7,11.5 C7,11.2333333 7.15802469,11.045679 7.40384088,11.0072702 L7.5,11 L8.5,11 L7.5,11 Z M7.5,5 L8.5,5 C8.76666667,5 8.95432099,5.15802469 8.99272977,5.40384088 L9,5.5 L9,9.5 C9,9.76666667 8.84197531,9.95432099 8.59615912,9.99272977 L8.5,10 L7.5,10 C7.23333333,10 7.04567901,9.84197531 7.00727023,9.59615912 L7,9.5 L7,5.5 C7,5.23333333 7.15802469,5.04567901 7.40384088,5.00727023 L7.5,5 L8.5,5 L7.5,5 Z"}}]})}(e))},So=function(e){var t=e.d,n=Object(f["a"])(),r="inherit",i=n.palette.success.main;t.missing?i=n.palette.warning.main:t.error&&(r="error",i=n.palette.error.main);var a={color:i},l=o.a.createElement(p["a"],{style:{lineHeight:"30px",paddingRight:n.spacing(1)}},o.a.createElement(A["a"],null,t.missing||t.error?o.a.createElement(wo,{style:a}):o.a.createElement(Er,{style:a})));return o.a.createElement(d["a"],{item:!0,container:!0,alignItems:"center",wrap:"nowrap"},o.a.createElement(d["a"],{item:!0},l),o.a.createElement(d["a"],{container:!0,item:!0,zeroMinWidth:!0,wrap:"nowrap"},o.a.createElement(p["a"],{noWrap:!0,component:"p"},o.a.createElement(p["a"],{component:"span",variant:"subtitle2",color:r},t.description),o.a.createElement(p["a"],{component:"span"}," "),o.a.createElement(p["a"],{component:"span",variant:"subtitle2",color:t.error?"error":"inherit",style:{fontWeight:400}},t.label))))},ko=function(e){var t=e.data,n=Object(f["a"])();return o.a.createElement(d["a"],{container:!0,item:!0,style:{maxWidth:"300px",overflow:"hidden"}},t.map((function(e,t){var r=e.descriptions.map((function(e,t){return o.a.createElement(So,{d:e,key:t})}));return r.length>0&&o.a.createElement(d["a"],{container:!0,item:!0,key:t,direction:"column",style:{paddingBottom:n.spacing(2)}},o.a.createElement(p["a"],{noWrap:!0,key:t,variant:"subtitle1",align:"left",color:"textSecondary"},e.title),r)})))};function Co(e){var t=e.title,n=void 0===t?"Error":t,r=e.message,i=void 0===r?"":r,a=e.data,l=void 0===a?[]:a;return o.a.createElement(d["a"],{container:!0,direction:"column",alignItems:"center",justify:"center",style:{position:"relative",height:"100%",width:"100%"}},o.a.createElement(d["a"],{item:!0},o.a.createElement(wo,{style:{fontSize:"38px"}})),o.a.createElement(d["a"],{item:!0},o.a.createElement(p["a"],{variant:"h6",align:"center","data-tid":"error-title"},n)),o.a.createElement(d["a"],{item:!0},o.a.createElement(p["a"],{variant:"subtitle1",align:"center","data-tid":"error-message"},i)),o.a.createElement(ko,{data:l}))}var Eo=Object(c["a"])((function(e){return{root:{position:"relative",display:"inline-block"},front:{color:e.palette.secondary.main,animationDuration:"1500ms",position:"absolute",left:0},back:{color:e.palette.divider}}})),Ao={small:16,medium:32,large:64,xlarge:128};function qo(e){var t=e.size,n=void 0===t?"medium":t,r=z(e,["size"]),i=Eo(),a=Ao[n];return o.a.createElement("div",{className:i.root},o.a.createElement(q["a"],P({variant:"determinate",value:100,className:i.back,size:a,thickness:3},r)),o.a.createElement(q["a"],P({variant:"indeterminate",disableShrink:!0,className:i.front,size:a,thickness:3},r)))}var Do=Object(h["a"])((function(){return{stripes:{"&::before":{position:"absolute",height:"100%",width:"100%",top:0,left:0,content:'""',backgroundSize:"14.14px 14.14px",backgroundImage:"linear-gradient(135deg, currentColor 10%, rgba(0,0,0,0) 10%, rgba(0,0,0,0) 50%, currentColor 50%, currentColor 59%, rgba(0,0,0,0) 60%, rgba(0,0,0,0) 103%)",opacity:.1}}}})),To=function(e){var t=e.cancel,n=e.translator,r=z(e,["cancel","translator"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(d["a"],{container:!0,item:!0,direction:"column",alignItems:"center",spacing:2},o.a.createElement(d["a"],{item:!0},o.a.createElement(qo,null)),o.a.createElement(d["a"],{item:!0},o.a.createElement(p["a"],{variant:"h6",align:"center"},n.get("Object.Update.Active")))),o.a.createElement(d["a"],P({item:!0},r),o.a.createElement(C["a"],{variant:"contained",onClick:t},n.get("Cancel"))))},No=function(e){var t=e.retry,n=e.translator,r=z(e,["retry","translator"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(d["a"],{item:!0},o.a.createElement(wo,{style:{fontSize:"38px"}})),o.a.createElement(d["a"],{item:!0},o.a.createElement(p["a"],{variant:"h6",align:"center"},n.get("Object.Update.Cancelled"))),o.a.createElement(d["a"],{item:!0},o.a.createElement(C["a"],P({variant:"contained",onClick:t},r),n.get("Retry"))))};function Lo(e){var t=e.canCancel,n=e.canRetry,i=e.api,a=Do(),l=a.stripes,u=a.cancel,s=a.retry,c=Object(r["useContext"])(dn).translator;return o.a.createElement(d["a"],{container:!0,direction:"column",alignItems:"center",justify:"center",className:l,style:{position:"absolute",width:"100%",height:"100%",left:0,top:0},spacing:2},t&&o.a.createElement(To,{cancel:i.cancel,translator:c,className:u}),n&&o.a.createElement(No,{retry:i.retry,translator:c,className:s}))}function Io(){return o.a.createElement(d["a"],{container:!0,direction:"column",alignItems:"center",justify:"center",style:{position:"absolute",width:"100%",height:"100%",left:0,top:0},spacing:2},o.a.createElement(qo,{size:"large"}))}var jo=Object(h["a"])((function(e){return{containerStyle:{flexGrow:0},containerTitleStyle:{paddingBottom:e.spacing(1)}}})),Po=function(e){var t=e.layout,n=e.sn,i=e.anchorEl,a=e.hovering,l=t.showTitles&&!!t.title,u=t.showTitles&&!!t.subtitle,s=t.qSelectionInfo&&t.qSelectionInfo.qInSelections,c=F(Object(r["useState"])([]),2),f=c[0],m=c[1],h=jo(),g=h.containerStyle,y=h.containerTitleStyle,v=F(rr(),2),b=v[0],x=v[1],M=F(Object(r["useState"])(!1),2),O=M[0],w=M[1];Object(r["useEffect"])((function(){n&&n.component&&n.component.isHooked&&n.component.observeActions((function(e){m([].concat(U(e),U(n&&n.selectionToolbar&&n.selectionToolbar.items||[])))}))}),[n]),Object(r["useEffect"])((function(){if(x){var e=x.width;w(e<221)}}),[x]);var S=l||u,k=[g].concat(U(S?[y]:[])),C=(a||s)&&(O||!S),E=S&&!C&&!O,A=o.a.createElement(Xr,{show:E,selections:{show:s,api:n.component.selections},actions:f,popover:{show:C,anchorEl:i}});return o.a.createElement(d["a"],{ref:b,item:!0,container:!0,wrap:"nowrap",className:k.join(" ")},o.a.createElement(d["a"],{item:!0,zeroMinWidth:!0,xs:!0},o.a.createElement(d["a"],{container:!0,wrap:"nowrap",direction:"column"},l&&o.a.createElement(p["a"],{variant:"h6",noWrap:!0},t.title),u&&o.a.createElement(p["a"],{variant:"body2",noWrap:!0},t.subtitle))),o.a.createElement(d["a"],{item:!0},A))},Ro=Object(h["a"])((function(e){return{itemStyle:{minWidth:0,paddingTop:e.spacing(1)}}})),_o=function(e){var t=e.layout,n=Ro().itemStyle;return t&&t.showTitles&&t.footnote?o.a.createElement(d["a"],{container:!0},o.a.createElement(d["a"],{item:!0,className:n},o.a.createElement(p["a"],{noWrap:!0,variant:"body2"},t.footnote))):null},zo="njs-viz",Fo=function(e){var t=e.sn,n=e.snOptions,i=e.layout,a=e.appLayout,l=e.halo,u=t.component,s=Object(r["useContext"])(dn),c=s.theme,f=s.language,d=s.constraints,p=Object(r["useRef"])(null),m=F(Object(r["useState"])(!1),2),h=m[0],g=m[1],y=F(Object(r["useState"])(0),2),v=y[0],b=y[1],x=F(rr(),3),M=x[0],O=x[1],w=x[2],S=F(Object(r["useState"])(null),2),k=S[0],C=S[1],E=Object(r["useCallback"])((function(e){e&&C(e)}),[]);return Object(r["useEffect"])((function(){if(k)return u.created({options:n}),u.mounted(k),g(!0),function(){clearTimeout(p.current),p.current=null,u.willUnmount()}}),[k,u]),Object(r["useEffect"])((function(){h&&k&&O&&(!u.isHooked&&i&&i.qSelectionInfo&&i.qSelectionInfo.qInSelections||p.current||(p.current=setTimeout((function(){var e=[];d.passive||e.push("passive"),d.active||e.push("interact"),d.select||e.push("select"),l.app&&l.app.session&&e.push("fetch"),Promise.resolve(u.render({layout:i,options:n,context:_({constraints:d,theme:l.public.theme,appLayout:a},u.isHooked?{}:{logicalSize:t.logicalSize({layout:i}),localeInfo:(a||{}).qLocaleInfo,permissions:e})})).then((function(){p.current=null,0===v&&"function"==typeof n.onInitialRender&&n.onInitialRender.call(null),b(v+1)}))}),10)))}),[O,n,k,w,i,a,c,f,d,h]),o.a.createElement("div",{ref:M,"data-render-count":v,style:{position:"relative",height:"100%"},className:zo},o.a.createElement("div",{ref:E,style:{position:"absolute",width:"100%",height:"100%"}}))},Uo="njs-cell",Ho=function(e,t){switch(t.type){case"LOADING":return _(_({},e),{},{loading:!0});case"LOADED":return _(_({},e),{},{loaded:!0,loading:!1,longRunningQuery:!1,error:null,sn:t.sn,visualization:t.visualization});case"RENDER":return _(_({},e),{},{loaded:!0,loading:!1,longRunningQuery:!1,error:null});case"LONG_RUNNING_QUERY":return _(_({},e),{},{longRunningQuery:!0});case"ERROR":return _(_({},e),{},{loading:!1,longRunningQuery:!1,error:t.error});default:throw new Error("Unhandled type: ".concat(t.type))}},Bo=function(e){var t=e.delay,n=void 0===t?750:t,i=F(Object(r["useState"])(!1),2),a=i[0],l=i[1];return Object(r["useEffect"])((function(){var e=setTimeout((function(){return l(!0)}),n);return function(){return clearTimeout(e)}}),[]),a&&o.a.createElement(Io,null)},Vo=function(e){var t=e.sn,n=e.layout,r=e.model,o=t&&t.component&&t.component.selections;if(o&&o.id&&r.id&&o.id===r.id){if(n&&n.qSelectionInfo&&n.qSelectionInfo.qInSelections&&!o.isModal()){var i=t.generator.qae.data.targets[0].propertyPath;o.goModal(i)}n.qSelectionInfo&&n.qSelectionInfo.qInSelections||o.isModal()&&o.noModal()}},Wo=function(e){return!e.qError||7005===e.qError.qErrorCode},Go=function(e,t,n,r,o){return U(Array(e).keys()).map((function(e){var i=!(!t||!t[e]),a=i&&t[e].qError&&7005===t[e].qError.qErrorCode,l=i&&!a&&t[e].qError,u=a&&t[e].qCalcCondMsg,s="".concat(l?r:a?u||o:i&&t[e].qFallbackTitle||""),c=n(e);return{description:c?"".concat(c).concat(s.length?":":""):null,label:s,missing:t&&!i&&!l&&e>=t.length||a,error:l}}))},Ko=function(e,t,n,r){var o=r.dimensions.min(),i=r.measures.min(),a=r.resolveLayout(t);return{reqDimErrors:Go(o,a.qDimensionInfo,(function(e){return r.dimensions.description(n,e)}),e.get("Visualization.Invalid.Dimension"),e.get("Visualization.UnfulfilledCalculationCondition")),reqMeasErrors:Go(i,a.qMeasureInfo,(function(e){return r.measures.description(n,e)}),e.get("Visualization.Invalid.Measure"),e.get("Visualization.UnfulfilledCalculationCondition"))}},$o=function(e,t,n){for(var r=!1,o=0,i=0,a=!1,l=!1,u=[],s=0;s<t.length;++s){var c=t[s],f=c.dimensions.min(),d=c.measures.min(),p=c.resolveLayout(n),m=(p.qDimensionInfo||[]).filter(Wo),h=(p.qMeasureInfo||[]).filter(Wo);if(o+=f,i+=d,(m.length<f||h.length<d)&&(r=!0),p.qError){a=!0;var g=(l=7005===p.qError.qErrorCode)&&p.qCalcCondMsg?p.qCalcCondMsg:l?e.get("Visualization.UnfulfilledCalculationCondition"):e.get("Visualization.LayoutError");u.push({title:g,descriptions:[]})}}return{hasUnfulfilledErrors:r,aggMinD:o,aggMinM:i,hasLayoutErrors:a,layoutErrors:u}},Xo=function(){var e=L(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,f,d,p,m,h,g,y,v,b,x,M,O,w,S,k,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.targets,a=$o(t,i,n),l=a.hasUnfulfilledErrors,u=a.aggMinD,s=a.aggMinM,c=a.hasLayoutErrors,f=a.layoutErrors,d=[],p=[],m=null,h=0;case 6:if(!(h<i.length)){e.next=22;break}if(g=i[h],c||!l){e.next=19;break}if(e.t0=m,e.t0){e.next=14;break}return e.next=13,o.getProperties();case 13:e.t0=e.sent;case 14:y=e.t0,m=y,v=Ko(t,n,y,g),d.push.apply(d,U(v.reqDimErrors)),p.push.apply(p,U(v.reqMeasErrors));case 19:++h,e.next=6;break;case 22:return b=d.filter((function(e){return!(e.missing||e.error)})).length,x=t.get("Visualization.Incomplete.Dimensions",[b,u]),M=p.filter((function(e){return!(e.missing||e.error)})).length,O=t.get("Visualization.Incomplete.Measures",[M,s]),w=[{title:x,descriptions:[].concat(d)},{title:O,descriptions:[].concat(p)}],S=c||l,k=c?f:w,C=c?f[0].title:t.get("Visualization.Incomplete"),e.abrupt("return",[S,{title:C,data:k}]);case 31:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),Zo=function(){var e=L(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.types,r=t.name,o=t.version,e.next=3,n.get({name:r,version:o}).supernova();case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jo=function(){var e=L(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,l,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.types,o=t.visualization,i=t.version,a=t.model,l=t.app,u=t.selections,e.prev=1,e.next=4,Zo({types:r,name:o,version:i});case 4:return s=e.sent,c=s.create({model:a,app:l,selections:u}),e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(1),n({type:"ERROR",error:{title:e.t0.message}});case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Yo=Object(r["forwardRef"])((function(e,t){var n,i=e.halo,a=e.model,l=e.initialSnOptions,u=e.initialError,s=e.onMount,c=i.app,p=i.types,m=Object(r["useContext"])(dn),h=m.translator,g=m.language,y=Object(f["a"])(),v=F(rr(),3),b=v[0],x=v[1],M=v[2],O=F(Object(r["useReducer"])(Ho,{loading:!1,loaded:!1,longRunningQuery:!1,error:(n=u)?{title:n.message}:null,sn:null,visualization:null}),2),w=O[0],S=O[1],k=F(Pn(a),3),C=k[0],E=k[1],A=E.validating,q=E.canCancel,T=E.canRetry,N=k[2],I=F(Rn(c),1)[0],j=F(rr(),2),P=j[0],R=j[1],z=F(Object(r["useState"])(l),2),U=z[0],H=z[1],B=F(eo(c,a),1)[0],V=F(Object(r["useState"])(!1),2),W=V[0],G=V[1],K=Object(r["useRef"])({enter:null,leave:null});Object(r["useEffect"])((function(){if(!u&&I&&C){var e=function(){var e=L(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(h,C,t.generator.qae.data,a);case 2:n=e.sent,r=F(n,2),o=r[0],i=r[1],S(o?{type:"ERROR",error:i}:{type:"RENDER"}),Vo({sn:w.sn,layout:C,model:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=L(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({type:"LOADING"}),e.next=3,Jo({dispatch:S,types:p,visualization:t,version:n,model:a,app:c,selections:B});case 3:return(r=e.sent)&&(S({type:"LOADED",sn:r,visualization:t}),s()),e.abrupt("return",void 0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if(w.visualization===C.visualization&&w.sn)e(w.sn);else{var n=p.getSupportedVersion(C.visualization,C.version);if(n)return t(C.visualization,n),function(){};S({type:"ERROR",error:{title:"Could not find a version of '".concat(C.visualization,"' that supports current object version. Did you forget to register ").concat(C.visualization,"?")}})}}}),[p,w.sn,a,C,I,g]),Object(r["useEffect"])((function(){if(A){var e=setTimeout((function(){return S({type:"LONG_RUNNING_QUERY"})}),2e3);return function(){return clearTimeout(e)}}}),[A]),Object(r["useImperativeHandle"])(t,(function(){return{setSnOptions:H,takeSnapshot:function(){return L(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.width,n=x.height,r=JSON.parse(JSON.stringify(C)),"function"!=typeof w.sn.component.setSnapshotData){e.next=9;break}return e.next=5,w.sn.component.setSnapshotData(r);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=r;case 8:r=e.t0;case 9:return e.abrupt("return",{key:String(+Date.now()),meta:{language:h.language(),theme:y.name,appLayout:I,size:{width:Math.round(t),height:Math.round(n)}},layout:r});case 10:case"end":return e.stop()}}),e)})))()},exportImage:function(){var e=this;return L(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof i.config.snapshot.capture){t.next=2;break}throw new Error("Stardust embed has not been configured with snapshot.capture callback");case 2:return t.next=4,e.takeSnapshot();case 4:return n=t.sent,t.abrupt("return",i.config.snapshot.capture(n));case 6:case"end":return t.stop()}}),t)})))()}}}),[w.sn,R,x,C,y.name,I]);var $=null;return w.loading&&!w.longRunningQuery?$=o.a.createElement(Bo,null):w.error?$=o.a.createElement(Co,w.error):w.loaded&&($=o.a.createElement(Fo,{key:C.visualization,sn:w.sn,halo:i,snOptions:U,layout:C,appLayout:I})),o.a.createElement(D["a"],{style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"},elevation:0,square:!0,className:Uo,ref:b,onMouseEnter:function(){K.current.leave&&clearTimeout(K.current.leave),K.enter||(K.current.enter=setTimeout((function(){G(!0),K.current.enter=null}),250))},onMouseLeave:function(){K.current.enter&&clearTimeout(K.current.enter),K.current.leave||(K.current.leave=setTimeout((function(){G(!1),K.current.leave=null}),750))}},o.a.createElement(d["a"],{container:!0,direction:"column",spacing:0,style:_({position:"relative",width:"100%",height:"100%",padding:y.spacing(1)},w.longRunningQuery?{opacity:"0.3"}:{})},M&&C&&w.sn&&o.a.createElement(Po,{layout:C,sn:w.sn,anchorEl:M,hovering:W}," "),o.a.createElement(d["a"],{item:!0,xs:!0,style:{height:"100%"},ref:P},$),o.a.createElement(_o,{layout:C})),w.longRunningQuery&&o.a.createElement(Lo,{canCancel:q,canRetry:T,api:N}))}));function Qo(e){var t=e.halo,n=e.element,r=e.model,i=e.initialSnOptions,l=e.onMount,u=e.initialError,s=t.root,c=o.a.createRef(),f=a.a.createPortal(o.a.createElement(Yo,{ref:c,halo:t,model:r,initialSnOptions:i,initialError:u,onMount:l}),n,r.id),d=function(){s.remove(f)};return r.once("closed",d),s.add(f),[d,c]}function ei(e){return null!=e&&!Array.isArray(e)&&"object"===T(e)}function ti(e,t){return ei(e)&&ei(t)?JSON.stringify(e)===JSON.stringify(t):!Array.isArray(e)&&!Array.isArray(t)&&e===t}function ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=[];return Object.keys(t).forEach((function(o){var i=t[o];"object"!==T(n[o])||"object"!==T(i)||Array.isArray(i)?ti(i,n[o])||r.push({qPath:e+o,qOp:"add",qValue:JSON.stringify(t[o])}):r.push.apply(r,U(ni("".concat(e).concat(o,"/"),t[o],n[o])))})),r}var ri=function(){};function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.model,n=e.halo,r=e.initialError,o=e.onDestroy,i=void 0===o?L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))):o,a=ri,l=null,u=null,s=null,c=new Promise((function(e){s=e})),f={},d=function(){var e=L(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u?L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:l.current.setSnOptions(_(_({},f),t));case 3:case"end":return e.stop()}}),e)})))():f=_(_({},f),t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p={id:t.id,destroy:function(){return L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:a(),a=ri;case 4:case"end":return e.stop()}}),e)})))()},__DO_NOT_USE__:{mount:function(e){if(u)throw new Error("Already mounted");u=e;var o=F(Qo({halo:n,element:e,model:t,initialSnOptions:f,initialError:r,onMount:s}),2);return a=o[0],l=o[1],c},applyProperties:function(e){return L(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getEffectiveProperties();case 2:if(r=n.sent,!(o=ni("/",e,r)).length){n.next=6;break}return n.abrupt("return",t.applyPatches(o,!0));case 6:return n.abrupt("return",void 0);case 7:case"end":return n.stop()}}),n)})))()},options:function(e){d(e)},exportImage:function(){return l.current.exportImage()},takeSnapshot:function(){return l.current.takeSnapshot()}}};return p}function ii(e,t,n,r){return ai.apply(this,arguments)}function ai(){return(ai=L(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>4&&void 0!==l[4]?l[4]:L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),a=oi({model:t,halo:r,initialError:o,onDestroy:i}),n.options&&a.__DO_NOT_USE__.options(n.options),!n.element){e.next=6;break}return e.next=6,a.__DO_NOT_USE__.mount(n.element);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e,t){return ui.apply(this,arguments)}function ui(){return(ui=L(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,l,u,s,c,f,d,p,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type,o=t.version,i=t.fields,a=t.properties,l=t.options,u=t.element,s={},e.prev=2,f=n.types.get({name:r,version:o}),e.next=6,f.initialProperties(a);case 6:return s=e.sent,e.next=9,f.supernova();case 9:d=e.sent,i&&Oo({sn:d,properties:s,fields:i}),a&&d&&d.qae.properties.onChange&&d.qae.properties.onChange.call({},s),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),c=e.t0,s={qInfo:{qType:r},visualization:r};case 18:return e.next=20,n.app.createSessionObject(s);case 20:return p=e.sent,Nn.set(p.id,p),m=Ln(p),h=function(){var e=L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.app.destroySessionObject(p.id);case 2:m();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",ii(p,{options:l,element:u},n,c,h));case 25:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function si(e,t){return ci.apply(this,arguments)}function ci(){return(ci=L(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,o=t.options,i=t.element,a="".concat(r),(l=Sn.get(a))||(l=n.app.getObject(r),Sn.set(a,l)),e.next=6,l;case 6:return u=e.sent,Nn.set(a,u),e.abrupt("return",ii(u,{options:o,element:i},n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{isEnabled:function(t){return!0===e[t]}}}var di=le.bind(null,!0),pi={},mi=Array.isArray;function hi(e){return null!=e&&!Array.isArray(e)&&"object"===T(e)}function gi(e){return void 0===e}function yi(e,t){return"function"==typeof e[t]||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function vi(e,t){var n,r=t.substring(1).split("/").slice(0,-1);return r.forEach((function(t,o){if(o!==r.length){n=+t;var i=isNaN(n)?{}:[];e[n||t]=gi(e[n||t])?i:e[t],e=e[n||t]}})),e}function bi(e,t){var n=!0;if(hi(e)&&hi(t))return Object.keys(e).length===Object.keys(t).length&&(Object.keys(e).forEach((function(r){bi(e[r],t[r])||(n=!1)})),n);if(mi(e)&&mi(t)){if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r+=1)if(!bi(e[r],t[r]))return!1;return!0}return e===t}pi.generate=function(e,t,n){n=n||"";var r=[];return Object.keys(t).forEach((function(o){var i=function(e){return e?di({},{val:e}).val:e}(t[o]),a=e[o],l="".concat(n,"/").concat(o);bi(i,a)||yi(t,o)||(gi(a)?r.push({op:"add",path:l,value:i}):hi(i)&&hi(a)?r=r.concat(pi.generate(a,i,l)):mi(i)&&mi(a)?r=r.concat(function(e,t,n){var r=[],o=e.slice(),i=-1;function a(e,t,n){if(e[n]&&gi(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var r=0,o=e.length;r<o;r+=1)if(e[r]&&e[r].qInfo.qId===t)return r;return-1}if(bi(t,o))return r;if(!gi(t[0])&&gi(t[0].qInfo))return r.push({op:"replace",path:n,value:t}),r;for(var l=o.length-1;l>=0;l-=1)-1===(i=a(t,o[l].qInfo&&o[l].qInfo.qId,l))?(r.push({op:"remove",path:"".concat(n,"/").concat(l)}),o.splice(l,1)):r=r.concat(pi.generate(o[l],t[i],"".concat(n,"/").concat(l)));for(var u=0,s=t.length;u<s;u+=1)-1===(i=a(o,t[u].qInfo&&t[u].qInfo.qId))?(r.push({op:"add",path:"".concat(n,"/").concat(u),value:t[u]}),o.splice(u,0,t[u])):i!==u&&(r.push({op:"move",path:"".concat(n,"/").concat(u),from:"".concat(n,"/").concat(i)}),o.splice(u,0,o.splice(i,1)[0]));return r}(a,i,l)):r.push({op:"replace",path:"".concat(n,"/").concat(o),value:i}))})),Object.keys(e).forEach((function(o){gi(t[o])&&!yi(e,o)&&r.push({op:"remove",path:"".concat(n,"/").concat(o)})})),r},pi.apply=function(e,t){t.forEach((function(t){var n,r=vi(e,t.path),o=t.path.split("/").splice(-1)[0],i=o&&isNaN(+o)?r[o]:r[+o]||r,a=t.from?t.from.split("/").splice(-1)[0]:null;if("/"===t.path&&(r=null,i=e),"add"===t.op||"replace"===t.op)if(mi(r))"-"===o&&(o=r.length),r.splice(+o,"add"===t.op?0:1,t.value);else if(mi(i)&&mi(t.value)){var l,u=t.value.slice();i.length=0,(l=i).push.apply(l,U(u))}else if(hi(i)&&hi(t.value))n=i,Object.keys(n).forEach((function(e){Object.getOwnPropertyDescriptor(n,e).configurable&&!yi(n,e)&&delete n[e]})),di(i,t.value);else{if(!r)throw new Error("Patchee is not an object we can patch");r[o]=t.value}else if("move"===t.op){var s=vi(e,t.from);mi(r)?r.splice(+o,0,s.splice(+a,1)[0]):(r[o]=s[a],delete s[a])}else"remove"===t.op&&(mi(r)?r.splice(+o,1):delete r[o])}))},pi.clone=function(e){return di({},e)},pi.createPatch=function(e,t,n){var r={op:e.toLowerCase(),path:n};return"move"===r.op?r.from=t:void 0!==t&&(r.value=t),r},pi.updateObject=function(e,t){Object.keys(e).length?pi.apply(e,pi.generate(e,t)):di(e,t)};var xi,Mi,Oi=function(e){return function(t){var n,r=(n=_(_({},t),{},{action:function(){"function"==typeof t.action&&t.action.call(r,e),r.emit("changed")},enabled:function(){return"function"!=typeof t.enabled||t.enabled.call(r,e)},active:"function"==typeof t.active?function(){return t.active.call(r,e)}:void 0}),Object.keys(Y.prototype).forEach((function(e){n[e]=Y.prototype[e]})),Y.init(n),n);return r}};function wi(e,t){if(!e)return!0;if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!0;return!1}function Si(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.explicitResize,r=void 0!==n&&n;e.__hooks={obsolete:!1,error:!1,chain:{promise:null,resolve:function(){}},list:[],snaps:[],actions:{list:[]},pendingEffects:[],pendingLayoutEffects:[],pendingPromises:[],resizer:{setters:[],explicitResize:r}}}function ki(e){Ai(e.__hooks.list,!0),e.__hooks.obsolete=!0,e.__hooks.list.length=0,e.__hooks.pendingEffects.length=0,e.__hooks.pendingLayoutEffects.length=0,e.__hooks.actions=null,e.__hooks.imperativeHandle=null,e.__hooks.resizer=null,e.__actionsDispatch=null,clearTimeout(e.__hooks.micro),cancelAnimationFrame(e.__hooks.macro)}function Ci(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=L(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.__hooks.obsolete){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:Mi=-1,-1,(xi=t).__hooks.initiated&&xi.__hooks.list.length;try{xi.fn.call(null)}catch(e){console.error(e)}return xi.__hooks.initiated=!0,n=xi.__hooks,Ni(xi),Mi=void 0,xi=void 0,n.chain.promise||(n.chain.promise=new Promise((function(e){n.chain.resolve=e}))),qi(n),ji(n),e.abrupt("return",n.chain.promise);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ai(e,t){try{e.forEach((function(e){"function"==typeof e.teardown&&e.teardown(),t||(e.teardown=e.value[0]())}))}catch(e){console.error(e)}e.length=0}function qi(e){Ai(e.pendingLayoutEffects)}function Di(e,t){try{return Promise.all(e.__hooks.snaps.map((function(e){return Promise.resolve(e.fn(t))}))).then((function(e){return e[e.length-1]}))}catch(e){console.error(e)}return Promise.resolve()}function Ti(e){return e.__hooks.imperativeHandle}function Ni(e){e.__actionsDispatch&&e.__hooks.actions.changed&&(e.__actionsDispatch(e.__hooks.actions.list.slice()),e.__hooks.actions.changed=!1)}function Li(e,t){e.__actionsDispatch=t,e.__hooks&&(e.__hooks.actions.changed=!0,Ni(e))}function Ii(e){if(void 0===xi)throw new Error("Invalid stardust hook call. Hooks can only be called inside a visualization component.");var t=xi.__hooks;return e>=t.list.length&&t.list.push({}),t.list[e]}function ji(e){e.macro||(e.macro=requestAnimationFrame((function(){!function(e){Ai(e.pendingEffects),e.macro=null,function(e){e.pendingPromises.length||e.micro||e.macro||(e.chain.promise=null,e.chain.resolve())}(e)}(e)})))}function Pi(e){return Ii(++Mi),xi.context[e]}function Ri(e){e.__hooks&&(e.__hooks.resizer.update=!0)}function _i(e){return{__hooked:!0,fn:e,initiate:Si,run:Ci,teardown:ki,runSnaps:Di,observeActions:Li,getImperativeHandle:Ti,updateRectOnNextRun:Ri}}function zi(e){var t=Ii(++Mi);if(!t.value){t.component=xi;t.value=["function"==typeof e?e():e,function(e){if(!t.component.__hooks.obsolete){var n,r="function"==typeof e?e(t.value[0]):e;r!==t.value[0]&&(t.value[0]=r,(n=t.component).__hooks.micro||(n.__hooks.micro=setTimeout((function(){n.__hooks.micro=null,Ci(n)}),0)))}}]}return t.value}function Fi(e,t){var n=Ii(++Mi);wi(n.value?n.value[1]:void 0,t)&&(n.value=[e,t],-1===xi.__hooks.pendingEffects.indexOf(n)&&xi.__hooks.pendingEffects.push(n))}function Ui(e,t){var n=Ii(++Mi);wi(n.value?n.value[1]:void 0,t)&&(n.value=[e,t],xi.__hooks.pendingLayoutEffects.push(n))}function Hi(e,t){var n=Ii(++Mi);return wi(n.value?n.value[0]:void 0,t)&&(n.value=[t,e()]),n.value[1]}function Bi(e,t){var n=F(zi((function(){return{resolved:void 0,rejected:void 0,state:"pending"}})),2),r=n[0],o=n[1],i=Ii(++Mi);return i.component||(i.component=xi),Ui((function(){var t=!1;return i.teardown=function(){t=!0,i.teardown=null;var e=i.component.__hooks.pendingPromises.indexOf(i);e>-1&&i.component.__hooks.pendingPromises.splice(e,1)},e().then((function(e){t||(i.teardown&&i.teardown(),o({resolved:e,rejected:void 0,state:"resolved"}))})).catch((function(e){t||(i.teardown&&i.teardown(),o({resolved:void 0,rejected:e,state:"resolved"}))})),i.component.__hooks.pendingPromises.push(i),function(){i.teardown&&i.teardown()}}),t),[r.resolved,r.rejected]}function Vi(){return Pi("element")}function Wi(){var e=Vi(),t=xi.__hooks.resizer,n=F(zi((function(){var t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:t.width,height:t.height}})),2),r=n[0],o=n[1];return t.current=r,-1===t.setters.indexOf(o)&&t.setters.push(o),t.update&&t.resize&&(t.update=!1,t.resize()),Ui((function(){if(!t.initiated){t.initiated=!0;var n=function(){var n=e.getBoundingClientRect(),r=n.left,o=n.top,i=n.width,a=n.height,l=t.current;l.width===i&&l.height===a&&l.left===r&&l.top===o||t.setters.forEach((function(e){return e({left:r,top:o,width:i,height:a})}))};if(t.resize=function(){n()},t.explicitResize)return function(){t.resize=void 0};if("function"==typeof ResizeObserver){var r=new ResizeObserver(n);return r.observe(e),function(){r.unobserve(e),r.disconnect(e),r=null,t.resize=void 0}}}}),[e]),r}function Gi(){return Pi("layout")}function Ki(){var e=Pi("layout"),t=F(zi({current:e}),1)[0];return e.qSelectionInfo&&e.qSelectionInfo.qInSelections||(t.current=e),t.current}function $i(){return Pi("appLayout")}function Xi(){var e=Pi("model");return e&&e.session?e:void 0}function Zi(){var e=Pi("app");return e&&e.session?e:void 0}function Ji(){var e=Pi("global");return e&&e.session?e:void 0}function Yi(){return Pi("selections")}function Qi(){return Pi("theme")}function ea(){return Pi("translator")}function ta(e,t){var n=F(zi({action:function(){n._config.action.call(null)}}),1)[0];return n.component||(n.component=xi,xi.__hooks.actions.list.push(n)),Hi((function(){var t=e();n._config=t,n.active=t.active||!1,n.disabled=t.disabled||!1,n.hidden=t.hidden||!1,n.label=t.label||"",n.getSvgIconShape=t.icon?function(){return t.icon}:void 0,n.key=t.key||n.component.__hooks.actions.list.length,n.component.__hooks.actions.changed=!0}),t),n.action}function na(){return Pi("constraints")}function ra(){return Pi("options")}function oa(e,t){var n=Ii(++Mi);if(n.imperative||(n.imperative=!0),wi(n.value?n.value[0]:void 0,t)){var r=e();n.value=[t,r],xi.__hooks.imperativeHandle=r}}function ia(e){var t=Ii(++Mi);t.value||(t.value=1,xi.__hooks.snaps.push(t)),t.fn=e}var aa={app:null,model:null,actions:null,selections:null,created:function(){},mounted:function(){},render:function(){},resize:function(){},willUnmount:function(){},destroy:function(){},emit:function(){},getViewState:function(){},observeActions:function(){},setSnapshotData:function(e){return Promise.resolve(e)}},la=Object.keys(aa);function ua(e,t){var n,r=_({},aa);n=r,Object.keys(Y.prototype).forEach((function(e){n[e]=Y.prototype[e]})),Y.init(n);var o={emit:function(){r.emit.apply(r,arguments)}};Object.keys(e.component||{}).forEach((function(t){-1!==la.indexOf(t)?r[t]=e.component[t].bind(o):o[t]=e.component[t]}));var i,a,l,u,s,c,f=(a=(i={sn:e,component:o}).sn,l=i.component,u={},s=[],c=Oi(l),((a.definition.selectionToolbar||{}).items||[]).forEach((function(e){var t=c(e);u[e.key]=t,s.push(t)})),(a.definition.actions||[]).forEach((function(e){var t=c(e);u[e.key]=t})),{actions:u,selectionToolbarItems:s,destroy:function(){s.length=0}}),d=t.app&&t.app.session?t.app.session.getObjectApi({handle:-1}):null;return Object.assign(o,{model:t.model,app:t.app,global:d,selections:t.selections,actions:f.actions}),Object.assign(r,{actions:f.actions,model:t.model,app:t.app,selections:t.selections}),[r,f]}function sa(e,t,n){"function"==typeof e.component&&(e.component=_i(e.component));var r=F(e.component&&e.component.__hooked?function(e,t,n){var r=t.app&&t.app.session?t.app.session.getObjectApi({handle:-1}):void 0,o=!1,i={},a=["appLayout","constraints"],l={};t.model&&t.model.session||(l.select=!0);var u={context:{model:t.model,app:t.app,global:r,selections:t.selections,element:void 0,theme:void 0,translator:n.translator,layout:{},appLayout:{},constraints:l,options:{}},fn:e.component.fn,created:function(){},mounted:function(n){this.context.element=n,e.component.initiate(u,{explicitResize:!!t.explicitResize})},render:function(t){var n=this,r=!o||!1;if(t){if(t.layout&&t.layout!==this.context.layout&&(r=!0,this.context.layout=t.layout),t.context&&t.context.theme&&(this.context.theme=t.context.theme),t.options){var s={},c=!1;Object.keys(t.options).forEach((function(e){s[e]=t.options[e],n.context.options[e]!==t.options[e]&&(c=!0)})),c&&(this.context.options=s,r=!0)}a.forEach((function(e){var o=t.context;if(o&&Object.prototype.hasOwnProperty.call(o,e)){var a=JSON.stringify(o[e]);"constraints"===e&&(a=JSON.stringify(_(_({},o[e]),l))),a!==i[e]&&(r=!0,i[e]=a,n.context[e]=JSON.parse(a))}}))}else r=!0;return this.context.theme&&this.context.theme.name()!==i.themeName&&(r=!0,i.themeName=this.context.theme.name()),this.context.translator.language()!==i.language&&(r=!0,i.language=u.context.translator.language()),r?(o=!0,this.currentResult=e.component.run(this),this.currentResult):this.currentResult||Promise.resolve()},resize:function(){return e.component.updateRectOnNextRun(this),this.render()},willUnmount:function(){e.component.teardown(this)},setSnapshotData:function(t){return e.component.runSnaps(this,t)},getImperativeHandle:function(){return e.component.getImperativeHandle(this)},destroy:function(){},observeActions:function(t){e.component.observeActions(this,t)},isHooked:!0};return a.forEach((function(e){i[e]=JSON.stringify(u.context[e])})),i.themeName=u.context.theme?u.context.theme.name():void 0,i.language=u.context.translator?u.context.translator.language():void 0,Object.assign(u,{selections:t.selections}),[u,null]}(e,t,n):ua(e,t),2),o=r[0],i=r[1],a=[];return e.qae.properties.onChange&&(t.model.__snInterceptor&&t.model.__snInterceptor.teardown(),t.model.__snInterceptor={setProperties:t.model.setProperties,applyPatches:t.model.applyPatches,teardown:void 0},t.model.setProperties=function(){for(var n,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=e.qae.properties.onChange).call.apply(n,[{model:t.model}].concat(i)),(r=t.model.__snInterceptor.setProperties).call.apply(r,[this].concat(i))},t.model.applyPatches=function(n,r){var o=this,i=r?"getEffectiveProperties":"getProperties";return t.model[i]().then((function(i){var a=pi.clone(i),l=n.map((function(e){return{op:e.qOp,value:JSON.parse(e.qValue),path:e.qPath}}));pi.apply(i,l),e.qae.properties.onChange.call({model:t.model},i);var u=pi.generate(a,i).map((function(e){return{qOp:e.op,qValue:JSON.stringify(e.value),qPath:e.path}}));return t.model.__snInterceptor.applyPatches.call(o,u,r)}))},t.model.__snInterceptor.teardown=function(){t.model.setProperties=t.model.__snInterceptor.setProperties,delete t.model.__snInterceptor},a.push(t.model.__snInterceptor.teardown)),{generator:e,component:o,selectionToolbar:{items:i?i.selectionToolbarItems:[]},destroy:function(){a.forEach((function(e){return e()}))},logicalSize:e.definition.logicalSize||function(){return!1}}}var ca=function(){};function fa(e,t){return void 0===e?function(){return t}:function(){return e}}function da(e){var t=e||{};return{min:"function"==typeof t.min?t.min:fa(t.min,0),max:"function"==typeof t.max?t.max:fa(t.max,1e3),added:t.added||t.add||ca,description:t.description||ca,moved:t.moved||t.move||ca,removed:t.removed||t.remove||ca,replaced:t.replaced||t.replace||ca,isDefined:function(){return!!e}}}function pa(e){var t=e.path||"/qHyperCubeDef",n=t.slice(0,-3);if(!1===/\/qHyperCube$/.test(n))throw new Error("Incorrect definition for qHyperCubeDef at ".concat(t));return{propertyPath:t,layoutPath:n,resolveLayout:function(e){return function(e,t,n){var r=t.split("/"),o=e;if(void 0===o)return n;for(var i=0;i<r.length;++i)if(""!==r[i]){if(void 0===o[r[i]])return n;o=o[r[i]]}return o}(e,n,{})},dimensions:da(e.dimensions),measures:da(e.measures)}}function ma(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.properties||{};t.properties&&(t.properties.initial||t.properties.onChange)&&(n=t.properties.initial,e=t.properties.onChange);var r={properties:{initial:n,onChange:e},data:{targets:((t.data||{}).targets||[]).map(pa)}};return r}function ha(e,t){var n,r={qae:ma((n="function"==typeof e?e(t):e).qae),component:n.component||{},create:function(e){return sa(r,e,t)},definition:{}};return Object.keys(n).forEach((function(e){r[e]||(r.definition[e]=n[e])})),r}var ga=V((function(t,n){var r;n=t.exports=d,r="object"===("undefined"==typeof e?"undefined":T(e))&&e.env&&e.env.NODE_DEBUG&&/\bsemver\b/i.test(e.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},n.SEMVER_SPEC_VERSION="2.0.0";var o=Number.MAX_SAFE_INTEGER||9007199254740991,i=n.re=[],a=n.src=[],l=n.tokens={},u=0;function s(e){l[e]=u++}s("NUMERICIDENTIFIER"),a[l.NUMERICIDENTIFIER]="0|[1-9]\\d*",s("NUMERICIDENTIFIERLOOSE"),a[l.NUMERICIDENTIFIERLOOSE]="[0-9]+",s("NONNUMERICIDENTIFIER"),a[l.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",s("MAINVERSION"),a[l.MAINVERSION]="("+a[l.NUMERICIDENTIFIER]+")\\.("+a[l.NUMERICIDENTIFIER]+")\\.("+a[l.NUMERICIDENTIFIER]+")",s("MAINVERSIONLOOSE"),a[l.MAINVERSIONLOOSE]="("+a[l.NUMERICIDENTIFIERLOOSE]+")\\.("+a[l.NUMERICIDENTIFIERLOOSE]+")\\.("+a[l.NUMERICIDENTIFIERLOOSE]+")",s("PRERELEASEIDENTIFIER"),a[l.PRERELEASEIDENTIFIER]="(?:"+a[l.NUMERICIDENTIFIER]+"|"+a[l.NONNUMERICIDENTIFIER]+")",s("PRERELEASEIDENTIFIERLOOSE"),a[l.PRERELEASEIDENTIFIERLOOSE]="(?:"+a[l.NUMERICIDENTIFIERLOOSE]+"|"+a[l.NONNUMERICIDENTIFIER]+")",s("PRERELEASE"),a[l.PRERELEASE]="(?:-("+a[l.PRERELEASEIDENTIFIER]+"(?:\\."+a[l.PRERELEASEIDENTIFIER]+")*))",s("PRERELEASELOOSE"),a[l.PRERELEASELOOSE]="(?:-?("+a[l.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+a[l.PRERELEASEIDENTIFIERLOOSE]+")*))",s("BUILDIDENTIFIER"),a[l.BUILDIDENTIFIER]="[0-9A-Za-z-]+",s("BUILD"),a[l.BUILD]="(?:\\+("+a[l.BUILDIDENTIFIER]+"(?:\\."+a[l.BUILDIDENTIFIER]+")*))",s("FULL"),s("FULLPLAIN"),a[l.FULLPLAIN]="v?"+a[l.MAINVERSION]+a[l.PRERELEASE]+"?"+a[l.BUILD]+"?",a[l.FULL]="^"+a[l.FULLPLAIN]+"$",s("LOOSEPLAIN"),a[l.LOOSEPLAIN]="[v=\\s]*"+a[l.MAINVERSIONLOOSE]+a[l.PRERELEASELOOSE]+"?"+a[l.BUILD]+"?",s("LOOSE"),a[l.LOOSE]="^"+a[l.LOOSEPLAIN]+"$",s("GTLT"),a[l.GTLT]="((?:<|>)?=?)",s("XRANGEIDENTIFIERLOOSE"),a[l.XRANGEIDENTIFIERLOOSE]=a[l.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",s("XRANGEIDENTIFIER"),a[l.XRANGEIDENTIFIER]=a[l.NUMERICIDENTIFIER]+"|x|X|\\*",s("XRANGEPLAIN"),a[l.XRANGEPLAIN]="[v=\\s]*("+a[l.XRANGEIDENTIFIER]+")(?:\\.("+a[l.XRANGEIDENTIFIER]+")(?:\\.("+a[l.XRANGEIDENTIFIER]+")(?:"+a[l.PRERELEASE]+")?"+a[l.BUILD]+"?)?)?",s("XRANGEPLAINLOOSE"),a[l.XRANGEPLAINLOOSE]="[v=\\s]*("+a[l.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[l.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[l.XRANGEIDENTIFIERLOOSE]+")(?:"+a[l.PRERELEASELOOSE]+")?"+a[l.BUILD]+"?)?)?",s("XRANGE"),a[l.XRANGE]="^"+a[l.GTLT]+"\\s*"+a[l.XRANGEPLAIN]+"$",s("XRANGELOOSE"),a[l.XRANGELOOSE]="^"+a[l.GTLT]+"\\s*"+a[l.XRANGEPLAINLOOSE]+"$",s("COERCE"),a[l.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",s("COERCERTL"),i[l.COERCERTL]=new RegExp(a[l.COERCE],"g"),s("LONETILDE"),a[l.LONETILDE]="(?:~>?)",s("TILDETRIM"),a[l.TILDETRIM]="(\\s*)"+a[l.LONETILDE]+"\\s+",i[l.TILDETRIM]=new RegExp(a[l.TILDETRIM],"g");s("TILDE"),a[l.TILDE]="^"+a[l.LONETILDE]+a[l.XRANGEPLAIN]+"$",s("TILDELOOSE"),a[l.TILDELOOSE]="^"+a[l.LONETILDE]+a[l.XRANGEPLAINLOOSE]+"$",s("LONECARET"),a[l.LONECARET]="(?:\\^)",s("CARETTRIM"),a[l.CARETTRIM]="(\\s*)"+a[l.LONECARET]+"\\s+",i[l.CARETTRIM]=new RegExp(a[l.CARETTRIM],"g");s("CARET"),a[l.CARET]="^"+a[l.LONECARET]+a[l.XRANGEPLAIN]+"$",s("CARETLOOSE"),a[l.CARETLOOSE]="^"+a[l.LONECARET]+a[l.XRANGEPLAINLOOSE]+"$",s("COMPARATORLOOSE"),a[l.COMPARATORLOOSE]="^"+a[l.GTLT]+"\\s*("+a[l.LOOSEPLAIN]+")$|^$",s("COMPARATOR"),a[l.COMPARATOR]="^"+a[l.GTLT]+"\\s*("+a[l.FULLPLAIN]+")$|^$",s("COMPARATORTRIM"),a[l.COMPARATORTRIM]="(\\s*)"+a[l.GTLT]+"\\s*("+a[l.LOOSEPLAIN]+"|"+a[l.XRANGEPLAIN]+")",i[l.COMPARATORTRIM]=new RegExp(a[l.COMPARATORTRIM],"g");s("HYPHENRANGE"),a[l.HYPHENRANGE]="^\\s*("+a[l.XRANGEPLAIN]+")\\s+-\\s+("+a[l.XRANGEPLAIN]+")\\s*$",s("HYPHENRANGELOOSE"),a[l.HYPHENRANGELOOSE]="^\\s*("+a[l.XRANGEPLAINLOOSE]+")\\s+-\\s+("+a[l.XRANGEPLAINLOOSE]+")\\s*$",s("STAR"),a[l.STAR]="(<|>)?=?\\s*\\*";for(var c=0;c<u;c++)r(c,a[c]),i[c]||(i[c]=new RegExp(a[c]));function f(e,t){if(t&&"object"===T(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof d)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[l.LOOSE]:i[l.FULL]).test(e))return null;try{return new d(e,t)}catch(e){return null}}function d(e,t){if(t&&"object"===T(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof d){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof d))return new d(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?i[l.LOOSE]:i[l.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}n.parse=f,n.valid=function(e,t){var n=f(e,t);return n?n.version:null},n.clean=function(e,t){var n=f(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},n.SemVer=d,d.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},d.prototype.toString=function(){return this.version},d.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof d||(e=new d(e,this.options)),this.compareMain(e)||this.comparePre(e)},d.prototype.compareMain=function(e){return e instanceof d||(e=new d(e,this.options)),m(this.major,e.major)||m(this.minor,e.minor)||m(this.patch,e.patch)},d.prototype.comparePre=function(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return m(n,o)}while(++t)},d.prototype.compareBuild=function(e){e instanceof d||(e=new d(e,this.options));var t=0;do{var n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return m(n,o)}while(++t)},d.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},n.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new d(e,n).inc(t,r).version}catch(e){return null}},n.diff=function(e,t){if(v(e,t))return null;var n=f(e),r=f(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return o+a;return i},n.compareIdentifiers=m;var p=/^[0-9]+$/;function m(e,t){var n=p.test(e),r=p.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function h(e,t,n){return new d(e,n).compare(new d(t,n))}function g(e,t,n){return h(e,t,n)>0}function y(e,t,n){return h(e,t,n)<0}function v(e,t,n){return 0===h(e,t,n)}function b(e,t,n){return 0!==h(e,t,n)}function x(e,t,n){return h(e,t,n)>=0}function M(e,t,n){return h(e,t,n)<=0}function O(e,t,n,r){switch(t){case"===":return"object"===T(e)&&(e=e.version),"object"===T(n)&&(n=n.version),e===n;case"!==":return"object"===T(e)&&(e=e.version),"object"===T(n)&&(n=n.version),e!==n;case"":case"=":case"==":return v(e,n,r);case"!=":return b(e,n,r);case">":return g(e,n,r);case">=":return x(e,n,r);case"<":return y(e,n,r);case"<=":return M(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function w(e,t){if(t&&"object"===T(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof w){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof w))return new w(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===S?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}n.rcompareIdentifiers=function(e,t){return m(t,e)},n.major=function(e,t){return new d(e,t).major},n.minor=function(e,t){return new d(e,t).minor},n.patch=function(e,t){return new d(e,t).patch},n.compare=h,n.compareLoose=function(e,t){return h(e,t,!0)},n.compareBuild=function(e,t,n){var r=new d(e,n),o=new d(t,n);return r.compare(o)||r.compareBuild(o)},n.rcompare=function(e,t,n){return h(t,e,n)},n.sort=function(e,t){return e.sort((function(e,r){return n.compareBuild(e,r,t)}))},n.rsort=function(e,t){return e.sort((function(e,r){return n.compareBuild(r,e,t)}))},n.gt=g,n.lt=y,n.eq=v,n.neq=b,n.gte=x,n.lte=M,n.cmp=O,n.Comparator=w;var S={};function k(e,t){if(t&&"object"===T(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof k)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new k(e.raw,t);if(e instanceof w)return new k(e.value,t);if(!(this instanceof k))return new k(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function C(e,t){for(var n=!0,r=e.slice(),o=r.pop();n&&r.length;)n=r.every((function(e){return o.intersects(e,t)})),o=r.pop();return n}function E(e){return!e||"x"===e.toLowerCase()||"*"===e}function A(e,t,n,r,o,i,a,l,u,s,c,f,d){return((t=E(n)?"":E(r)?">="+n+".0.0":E(o)?">="+n+"."+r+".0":">="+t)+" "+(l=E(u)?"":E(s)?"<"+(+u+1)+".0.0":E(c)?"<"+u+"."+(+s+1)+".0":f?"<="+u+"."+s+"."+c+"-"+f:"<="+l)).trim()}function q(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==S&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function D(e,t,n){try{t=new k(t,n)}catch(e){return!1}return t.test(e)}function N(e,t,n,r){var o,i,a,l,u;switch(e=new d(e,r),t=new k(t,r),n){case">":o=g,i=M,a=y,l=">",u=">=";break;case"<":o=y,i=x,a=g,l="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(D(e,t,r))return!1;for(var s=0;s<t.set.length;++s){var c=t.set[s],f=null,p=null;if(c.forEach((function(e){e.semver===S&&(e=new w(">=0.0.0")),f=f||e,p=p||e,o(e.semver,f.semver,r)?f=e:a(e.semver,p.semver,r)&&(p=e)})),f.operator===l||f.operator===u)return!1;if((!p.operator||p.operator===l)&&i(e,p.semver))return!1;if(p.operator===u&&a(e,p.semver))return!1}return!0}w.prototype.parse=function(e){var t=this.options.loose?i[l.COMPARATORLOOSE]:i[l.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new d(n[2],this.options.loose):this.semver=S},w.prototype.toString=function(){return this.value},w.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===S||e===S)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return O(e,this.operator,this.semver,this.options)},w.prototype.intersects=function(e,t){if(!(e instanceof w))throw new TypeError("a Comparator is required");var n;if(t&&"object"===T(t)||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new k(e.value,t),D(this.value,n,t));if(""===e.operator)return""===e.value||(n=new k(this.value,t),D(e.semver,n,t));var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),l=O(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=O(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&a||l||u},n.Range=k,k.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},k.prototype.toString=function(){return this.range},k.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[l.HYPHENRANGELOOSE]:i[l.HYPHENRANGE];e=e.replace(n,A),r("hyphen replace",e),e=e.replace(i[l.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,i[l.COMPARATORTRIM]),e=(e=(e=e.replace(i[l.TILDETRIM],"$1~")).replace(i[l.CARETTRIM],"$1^")).split(/\s+/).join(" ");var o=t?i[l.COMPARATORLOOSE]:i[l.COMPARATOR],a=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[l.CARETLOOSE]:i[l.CARET];return e.replace(n,(function(t,n,o,i,a){var l;return r("caret",e,t,n,o,i,a),E(n)?l="":E(o)?l=">="+n+".0.0 <"+(+n+1)+".0.0":E(i)?l="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":a?(r("replaceCaret pr",a),l="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+a+" <"+(+n+1)+".0.0"):(r("no pr"),l="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",l),l}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[l.TILDELOOSE]:i[l.TILDE];return e.replace(n,(function(t,n,o,i,a){var l;return r("tilde",e,t,n,o,i,a),E(n)?l="":E(o)?l=">="+n+".0.0 <"+(+n+1)+".0.0":E(i)?l=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":a?(r("replaceTilde pr",a),l=">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0"):l=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",l),l}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[l.XRANGELOOSE]:i[l.XRANGE];return e.replace(n,(function(n,o,i,a,l,u){r("xRange",e,n,o,i,a,l,u);var s=E(i),c=s||E(a),f=c||E(l),d=f;return"="===o&&d&&(o=""),u=t.includePrerelease?"-0":"",s?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&d?(c&&(a=0),l=0,">"===o?(o=">=",c?(i=+i+1,a=0,l=0):(a=+a+1,l=0)):"<="===o&&(o="<",c?i=+i+1:a=+a+1),n=o+i+"."+a+"."+l+u):c?n=">="+i+".0.0"+u+" <"+(+i+1)+".0.0"+u:f&&(n=">="+i+"."+a+".0"+u+" <"+i+"."+(+a+1)+".0"+u),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[l.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(o)}))),a.map((function(e){return new w(e,this.options)}),this)},k.prototype.intersects=function(e,t){if(!(e instanceof k))throw new TypeError("a Range is required");return this.set.some((function(n){return C(n,t)&&e.set.some((function(e){return C(e,t)&&n.every((function(n){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},n.toComparators=function(e,t){return new k(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},k.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(q(this.set[t],e,this.options))return!0;return!1},n.satisfies=D,n.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new k(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&-1!==o.compare(e)||(o=new d(r=e,n)))})),r},n.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new k(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&1!==o.compare(e)||(o=new d(r=e,n)))})),r},n.minVersion=function(e,t){e=new k(e,t);var n=new d("0.0.0");if(e.test(n))return n;if(n=new d("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new d(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!g(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));if(n&&e.test(n))return n;return null},n.validRange=function(e,t){try{return new k(e,t).range||"*"}catch(e){return null}},n.ltr=function(e,t,n){return N(e,t,"<",n)},n.gtr=function(e,t,n){return N(e,t,">",n)},n.outside=N,n.prerelease=function(e,t){var n=f(e,t);return n&&n.prerelease.length?n.prerelease:null},n.intersects=function(e,t,n){return e=new k(e,n),t=new k(t,n),e.intersects(t)},n.coerce=function(e,t){if(e instanceof d)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=i[l.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),i[l.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;i[l.COERCERTL].lastIndex=-1}else n=e.match(i[l.COERCE]);if(null===n)return null;return f(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}})),ya={};function va(e,t,n,r){return ba.apply(this,arguments)}function ba(){return(ba=L(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.config,a="".concat(t,"__").concat(n),ya[a]||(l="".concat(t).concat(n&&" v".concat(n)||""),u=(o||i.load)({name:t,version:n}),s=Promise.resolve(u),ya[a]=s.then((function(e){if(!e)throw new Error("load() of visualization '".concat(l,"' resolved to an invalid object"));return e})).catch((function(e){throw new Error("Failed to load visualization: '".concat(l,"'"))}))),e.abrupt("return",ya[a]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(e,t){var n={},r=null;return{get:function(e){return n[e]},register:function(o,i){if(n[o])throw new Error("Supernova '".concat(e,"@").concat(o,"' already registered."));n[o]=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.meta,a={name:e.name,version:e.version,supportsPropertiesVersion:function(e){return!(e&&i&&i.deps&&i.deps.properties)||ga.satisfies(e,i.deps.properties)},supernova:function(){return va(a.name,a.version,t,o.load).then((function(e){return n=n||ha(e,t.public.galaxy),r=JSON.stringify(n.qae.properties.initial),n}))},initialProperties:function(e){return this.supernova().then((function(){return _(_({qInfo:{qType:a.name},visualization:a.name,version:a.version,showTitles:!0},JSON.parse(r)),e)}))}};return a}({name:e,version:o},t,i),r=null},getMatchingVersionFromProperties:function(e){var t,o;r||(t=Object.keys(n),o=t.filter((function(e){return"undefined"===e})),r=[].concat(U(o),U(t.filter((function(e){return"undefined"!==e})).map((function(e){return e.split(".").map((function(e){return parseInt(e,10)}))})).sort((function(e,t){return e[0]-t[0]||e[1]-t[1]||e[2]-t[2]})).map((function(e){return e.join(".")})))));for(var i=r.length-1;i>=0;i--)if(n[r[i]].supportsPropertiesVersion(e))return r[i];return null},versions:n}}function Ma(e){var t=e.halo,n=e.parent,r={},o=n||{get:function(){}};return{register:function(e,n){r[e.name]||(r[e.name]=xa(e.name,t)),r[e.name].register(e.version,n)},getSupportedVersion:function(e,t){return r[e]?r[e].getMatchingVersionFromProperties(t):null},get:function(e){var t=e.name,n=e.version;return r[t]&&r[t].versions[n]||this.register({name:t,version:n}),r[t].get(n)||o.get(e)},clearFromCache:function(e){r[e]&&(r[e]=void 0),function(e){Object.keys(ya).forEach((function(t){t.split("__")[0]===e&&(ya[t]=void 0)}))}(e)}}}var Oa,wa={get:(Oa=L(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/njs/snapshot/".concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.statusText);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)}))),function(e){return Oa.apply(this,arguments)}),capture:function(e){return fetch("/njs/capture",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}},Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(_({},e),t)},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(U(e),U(t)).filter((function(e,t,n){return n.indexOf(e)===t}))},Ca=function(e,t){return{context:Sa(e.context,t.context),load:t.load||e.load,snapshot:_({},t.snapshot||e.snapshot),types:ka(e.types,t.types),themes:ka(e.themes,t.themes),flags:Sa(e.flags,t.flags),anything:Sa(e.anything,t.anything)}};var Ea=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=X(t.context.language);function r(e,o){if(o)return r.createConfiguration(o)(e);var i=_(_({},t.context),{},{translator:n.translator}),a=F(nr({app:e,context:i}),1)[0],l=et({themes:t.themes,root:a}),u={galaxy:{translator:n.translator,flags:fi(t.flags),anything:t.anything},theme:l.externalAPI,translator:n.translator,nebbie:null},s={app:e,root:a,config:t,public:u,context:i,nebbie:null,types:null},c=Ma({halo:s});t.types.forEach((function(e){return c.register({name:e.name,version:e.version},{meta:e.meta,load:e.load})}));var f,d,p,m=l.setTheme(t.context.theme),h=null,g=null,y={render:(p=L(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m;case 2:if(!t.id){e.next=4;break}return e.abrupt("return",si(t,s));case 4:return e.abrupt("return",li(t,s));case 5:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)}),context:(d=L(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(["theme","language","constraints"].forEach((function(e){t[e]&&t[e]!==i[e]&&(r||(r={}),r[e]=t[e])})),r){e.next=3;break}return e.abrupt("return");case 3:if(i=_(_(_({},i),r),{},{translator:n.translator}),s.context=i,!r.theme){e.next=9;break}return m=l.setTheme(r.theme),e.next=9,m;case 9:r.language&&s.public.translator.language(r.language),a.context(i);case 11:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)}),selections:(f=L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h||(h={mount:function(t){g||(g=go({element:t,app:e}),a.add(g))},unmount:function(){g&&(a.remove(g),g=null)}}),t.abrupt("return",h);case 2:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)}),__DO_NOT_USE__:{types:c}};return s.public.nebbie=y,s.types=c,y}return r.createConfiguration=function(n){return e(Ca(t,n))},r.config=t,r}({context:{theme:"light",language:"en-US",constraints:{}},load:function(){},types:[],themes:[],anything:{},snapshot:wa}),Aa={generator:ha,hook:_i,theme:Ye,locale:K}}).call(this,n("5IsQ"))},DhxJ:function(e,t,n){var r,o;!(r=[n("mXGw"),n("CIFd"),n("mXtC"),n("ztUU"),n("xARA"),n("y6H+"),n("QFtD"),n("8ZOk"),n("AdBH")],o=function(e,t,n,r,o,i,a,l,u){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=47)}([function(t,n){t.exports=e},function(e,t,n){e.exports=n(45)()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=o.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||o.call(e,t)},c=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},f=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(l)return l(e,t).value}return e[t]};e.exports=function e(){var t,n,o,i,a,l,d=arguments[0],p=1,m=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!==r(d)&&"function"!=typeof d)&&(d={});p<m;++p)if(null!=(t=arguments[p]))for(n in t)o=f(d,n),d!==(i=f(t,n))&&(h&&i&&(s(i)||(a=u(i)))?(a?(a=!1,l=o&&u(o)?o:[]):l=o&&s(o)?o:{},c(d,{name:n,newValue:e(h,l,i)})):void 0!==i&&c(d,{name:n,newValue:i}));return d}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r={};function o(){o.init.call(this)}r.isObject=function(e){return"object"===n(e)&&null!==e},r.isNumber=function(e){return"number"==typeof e},r.isUndefined=function(e){return void 0===e},r.isFunction=function(e){return"function"==typeof e},e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if(!r.isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},o.prototype.emit=function(e){var t,n,o,i,a,l;if(this._events||(this._events={}),"error"===e&&!this._events.error)throw(t=arguments[1])instanceof Error?t:Error('Uncaught, unspecified "error" event.');if(n=this._events[e],r.isUndefined(n))return!1;if(r.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,i=new Array(o-1),a=1;a<o;a++)i[a-1]=arguments[a];n.apply(this,i)}else if(r.isObject(n)){for(o=arguments.length,i=new Array(o-1),a=1;a<o;a++)i[a-1]=arguments[a];for(o=(l=n.slice()).length,a=0;a<o;a++)l[a].apply(this,i)}return!0},o.prototype.addListener=function(e,t){var n;if(!r.isFunction(t))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r.isFunction(t.listener)?t.listener:t),this._events[e]?r.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r.isObject(this._events[e])&&!this._events[e].warned)&&(n=r.isUndefined(this._maxListeners)?o.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,r.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),r.isFunction(console.trace)&&console.trace());return this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){if(!r.isFunction(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},o.prototype.removeListener=function(e,t){var n,o,i,a;if(!r.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,o=-1,n===t||r.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r.isObject(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},o.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r.isFunction(n))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},o.prototype.listeners=function(e){return this._events&&this._events[e]?r.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},o.listenerCount=function(e,t){return e._events&&e._events[t]?r.isFunction(e._events[t])?1:e._events[t].length:0}},,function(e){e.exports=JSON.parse('{"properties_dataPoints_labelmode_share":{"id":"properties.dataPoints.labelmode.share","locale":{"en-US":"Share","zh-TW":"佔有率","zh-CN":"份额","tr-TR":"Pay","sv-SE":"Andel","it-IT":"Percentuale","es-ES":"Cuota","de-DE":"Anteil","pl-PL":"Udział","nl-NL":"Aandeel","ko-KR":"공유","pt-BR":"Percentual","fr-FR":"Part","ja-JP":"割合","ru-RU":"Доля"}},"Tooltip_selections_locked":{"id":"Tooltip.selections.locked","locale":{"en-US":"Selections on this dimension are locked","zh-TW":"已鎖定此維度上的選項","zh-CN":"相关维度的选择已锁定","tr-TR":"Bu boyuttaki seçimler kilitli","sv-SE":"Urval i den här dimensionen är låsta","it-IT":"Le selezioni in questa dimensione sono bloccate","es-ES":"Las selecciones de esta dimensión están bloqueadas.","de-DE":"Auswahlen sind für diese Dimension gesperrt","pl-PL":"Selekcje dotyczące tego wymiaru są zablokowane","nl-NL":"Selecties voor deze dimensie zijn vergrendeld","ko-KR":"이 차원의 선택은 잠겨 있습니다.","pt-BR":"Seleções estão bloqueadas nesta dimensão","fr-FR":"Sélections verrouillées pour cette dimension","ja-JP":"この軸での選択はロックされています","ru-RU":"Выборки для данного измерения заблокированы"}},"Tooltip_dimensions_drilldown":{"id":"Tooltip.dimensions.drilldown","locale":{"en-US":"Drill-down dimension","zh-TW":"向下探查維度","zh-CN":"下钻维度","tr-TR":"Detaya inme boyutu","sv-SE":"Hierarkisk dimension","it-IT":"Dimensione di drill-down","es-ES":"Dimensión jerárquica","de-DE":"Drilldown-Dimension:","pl-PL":"Wymiar hierarchiczny","nl-NL":"Drill-downdimensie","ko-KR":"드릴다운 차원","pt-BR":"Dimensão da hierarquia","fr-FR":"Descendre dans la hiérarchie de la dimension","ja-JP":"軸のドリルダウン","ru-RU":"Измерение с детализацией"}},"Object_ErrorMessage_MissingDimension":{"id":"Object.ErrorMessage.MissingDimension","locale":{"en-US":"Dimension not found","zh-TW":"找不到維度","zh-CN":"未找到维度","tr-TR":"Boyut bulunamadı","sv-SE":"Dimensionen hittades inte","it-IT":"Dimensione non trovata","es-ES":"No se ha encontrado la dimensión","de-DE":"Dimension nicht gefunden","pl-PL":"Wymiar nie został znaleziony","nl-NL":"Dimensie niet gevonden","ko-KR":"차원을 찾지 못했습니다.","pt-BR":"Dimensão não encontrada","fr-FR":"Dimension introuvable","ja-JP":"軸が見つかりません","ru-RU":"Измерение не найдено"}},"Object_ErrorMessage_MissingMeasure":{"id":"Object.ErrorMessage.MissingMeasure","locale":{"en-US":"Measure not found","zh-TW":"找不到量值","zh-CN":"未找到度量","tr-TR":"Hesaplama bulunamadı","sv-SE":"Måttet hittades inte","it-IT":"Misura non trovata","es-ES":"No se ha encontrado la medida","de-DE":"Kennzahl nicht gefunden","pl-PL":"Miara nie została znaleziona","nl-NL":"Meting niet gevonden","ko-KR":"측정값을 찾지 못했습니다.","pt-BR":"Medida não encontrada","fr-FR":"Mesure introuvable","ja-JP":"メジャーが見つかりません","ru-RU":"Мера не найдена"}},"Object_Disclaimer_LimitedData":{"id":"Object.Disclaimer.LimitedData","locale":{"en-US":"Currently showing a limited data set.","zh-TW":"目前顯示的是有限的資料集。","zh-CN":"当前正显示有限的数据集。","tr-TR":"Şu anda sınırlı bir veri kümesi gösteriliyor.","sv-SE":"Just nu visas en begränsad uppsättning data.","it-IT":"Attualmente viene visualizzata una serie di dati limitata.","es-ES":"Mostrando actualmente un conjunto limitado de datos.","de-DE":"Zurzeit wird nur ein beschränkter Datensatz angezeigt.","pl-PL":"Aktualnie przedstawiany jest ograniczony zestaw danych.","nl-NL":"Momenteel wordt een beperkte gegevensverzameling getoond.","ko-KR":"현재 제한된 데이터 집합을 표시하고 있습니다.","pt-BR":"Mostrando um conjunto de dados limitado.","fr-FR":"Affichage d\'un ensemble de données limité pour l\'instant.","ja-JP":"現在、限定的なデータ セットを表示しています。","ru-RU":"В настоящее время отображается ограниченный набор данных."}},"Object_Disclaimer_OnlyNegativeOrZeroValues":{"id":"Object.Disclaimer.OnlyNegativeOrZeroValues","locale":{"en-US":"The chart is not displayed because it contains only negative or zero values.","zh-TW":"系統不會顯示圖表，因為該圖表僅包含負值或零值。","zh-CN":"未显示图表，因为它仅包含负值或零值。","tr-TR":"Yalnızca negatif veya sıfır değerlerini içermesi nedeniyle grafik görüntülenmiyor.","sv-SE":"Diagrammet visas inte eftersom det enbart innehåller negativa eller nollvärden","it-IT":"Il grafico non viene visualizzato poiché contiene solo valori negativi o uguali a zero.","es-ES":"El gráfico no se muestra porque sólo contiene valores negativos o valores cero.","de-DE":"Das Diagramm wird nicht angezeigt, da es nur negative oder 0-Werte enthält.","pl-PL":"Wykres nie jest wyświetlany, ponieważ zawiera wartości ujemne lub zerowe.","nl-NL":"De grafiek wordt niet weergegeven omdat het alleen negatieve waarden of nulwaarden bevat.","ko-KR":"음수 또는 zero 값만 포함되어 있으므로 차트가 표시되지 않습니다.","pt-BR":"O gráfico não foi exibido, porque contém apenas valores negativos ou zero.","fr-FR":"Le graphique n\'est pas affiché, car il contient uniquement des valeurs négatives ou égales à zéro.","ja-JP":"チャートは負の値またはゼロ値しか含まれていないため、表示されていません。","ru-RU":"Диаграмма не отображается, поскольку она содержит только отрицательные или нулевые значения."}},"Object_Disclaimer_NegativeOrZeroValues":{"id":"Object.Disclaimer.NegativeOrZeroValues","locale":{"en-US":"The data set contains negative or zero values that cannot be shown in this chart.","zh-TW":"資料集包含無法在此圖表中顯示的負值或零值。","zh-CN":"数据集中包含无法在此图表中显示的负值或零值。","tr-TR":"Veri kümesi, bu grafikte gösterilemeyen negatif veya sıfır değerlerini içeriyor.","sv-SE":"Datauppsättningen innehåller negativa värden eller nollvärden som inte kan visas i detta diagram.","it-IT":"La serie di dati contiene valori negativi o uguali a zero che non possono essere visualizzati in questo grafico.","es-ES":"El conjunto de datos contiene valores negativos o cero que no se pueden mostrar en este gráfico.","de-DE":"Die in den Datensätzen enthaltenen negativen oder 0-Werte können nicht in diesem Diagramm dargestellt werden.","pl-PL":"Zestaw danych zawiera wartości ujemne lub zerowe, których nie można przedstawić w tym wykresie.","nl-NL":"De gegevensverzameling bevat negatieve waarden of nulwaarden die niet kunnen worden weergegeven in deze grafiek.","ko-KR":"데이터 집합에 해당 차트에 표시할 수 없는 음수 값 또는 zero 값이 포함되어 있습니다.","pt-BR":"O conjunto de dados contém valores negativos ou iguais a zero que não podem ser mostrados neste gráfico.","fr-FR":"L\'ensemble de données contient des valeurs négatives ou égales à zéro impossibles à afficher dans ce graphique.","ja-JP":"データ セットには、本チャートに表示できない負の値またはゼロ値が含まれています。","ru-RU":"Набор данных содержит отрицательные или нулевые значения, которые невозможно показать в этой диаграмме."}},"Object_Disclaimer_DataRangeIncludingZero":{"id":"Object.Disclaimer.DataRangeIncludingZero","locale":{"en-US":"The logarithmic scale has been replaced by a linear scale because the data range includes zero.","zh-TW":"對數刻度已遭線性刻度取代，因為資料範圍包含零。","zh-CN":"对数刻度已替换为线性刻度，因为该数据范围包括零。","tr-TR":"Veri aralığı sıfır değerini içerdiğinden, logaritmik ölçek yerine doğrusal ölçek kullanıldı.","sv-SE":"Den logaritmiska skalan har ersatts av en linjär skala eftersom dataintervallet innehåller värdet noll.","it-IT":"La scala logaritmica è stata sostituita da una scala lineare perché l\'intervallo di dati include zero.","es-ES":"La escala logarítmica ha sido reemplazada por una escala lineal porque el rango de datos incluye cero.","de-DE":"Die logarithmische Skala wurde durch die lineare Skala ersetzt, weil der Datenbereich NULL enthält.","pl-PL":"Skala logarytmiczna została zastąpiona liniową, ponieważ zakres danych zawiera zero.","nl-NL":"De logaritmische schaal is vervangen door een lineaire schaal omdat het gegevensbereik nullen bevat.","ko-KR":"데이터 범위에 0이 포함되어 있으므로 로그 눈금이 선형 눈금으로 바뀌었습니다.","pt-BR":"A escala logarítmica foi substituída por uma escala linear, pois o intervalo de dados inclui zero.","fr-FR":"L\'échelle logarithmique a été remplacée par une échelle linéaire, car la plage de données comprend la valeur zéro.","ja-JP":"データ範囲にゼロが含まれるため、Log スケールは Linear スケールで置換されています。","ru-RU":"Логарифмический масштаб заменен линейным масштабом, поскольку диапазон данных включает ноль."}},"Object_Disclaimer_NoDataExist":{"id":"Object.Disclaimer.NoDataExist","locale":{"en-US":"The selections generated no data for this chart.","zh-TW":"此選項無法產生任何適用於此圖表的資料。","zh-CN":"选择未生成此图表的数据。","tr-TR":"Seçimler bu grafik için hiç veri oluşturmadı.","sv-SE":"Urvalen genererade inga data för detta diagram.","it-IT":"Le selezioni non hanno generato dati per questo grafico.","es-ES":"Las selecciones no han generado datos para este gráfico.","de-DE":"Die Auswahlen haben für dieses Diagramm keine Daten generiert.","pl-PL":"Selekcje nie spowodowały wygenerowania danych dla tego wykresu.","nl-NL":"De selecties hebben geen gegevens voor de grafiek gegenereerd.","ko-KR":"선택 내용으로 해당 차트에 대한 데이터가 생성되지 않았습니다.","pt-BR":"As seleções não geraram dados para este gráfico.","fr-FR":"Les sélections n\'ont pas généré de données pour ce graphique.","ja-JP":"このチャートには選択からデータが生成されませんでした。","ru-RU":"В результате выборок данные для этой диаграммы не созданы."}},"Object_Disclaimer_OnlyNanData":{"id":"Object.Disclaimer.OnlyNanData","locale":{"en-US":"The chart is not displayed because it contains only undefined values.","zh-TW":"系統不會顯示圖表，因為該圖表僅包含未定義的值。","zh-CN":"未显示图表，因为它仅包含未定义的值。","tr-TR":"Yalnızca tanımsız değerleri içermesi nedeniyle grafik görüntülenmiyor.","sv-SE":"Diagrammet visas inte eftersom det enbart innehåller odefinierade värden.","it-IT":"Il grafico non è visualizzato poiché contiene solo valori non definiti.","es-ES":"El gráfico no se muestra porque solo contiene valores indefinidos.","de-DE":"Das Diagramm wird nicht angezeigt, da es nur nicht definierte Werte enthält.","pl-PL":"Wykres nie jest wyświetlany, ponieważ zawiera wartości niezdefiniowane.","nl-NL":"De grafiek wordt niet weergegeven omdat deze alleen ongedefinieerde waarden bevat.","ko-KR":"정의되지 않은 값만 포함되어 있으므로 차트가 표시되지 않습니다.","pt-BR":"O gráfico não foi exibido, porque contém apenas valores não definidos.","fr-FR":"Le graphique n\'est pas affiché, car il contient uniquement des valeurs non définies.","ja-JP":"未定義の値しか含まれていないため、チャートは表示されていません。","ru-RU":"Диаграмма не отображается, поскольку она содержит только неопределенные значения."}},"Object_ChartTooltip_NMore":{"id":"Object.ChartTooltip.NMore","locale":{"en-US":"+{0} more","zh-TW":"再加 {0} 個","zh-CN":"+{0} 个","tr-TR":"+{0} öğe daha","sv-SE":"+{0} till","it-IT":"Altre +{0}","es-ES":"+{0} más","de-DE":"+{0} mehr","pl-PL":"+ {0} więcej","nl-NL":"+ {0} meer","ko-KR":"+추가 {0}개","pt-BR":"+{0} mais","fr-FR":"+ {0} de plus","ja-JP":"さらに {0}","ru-RU":"+ дополнительно: {0}"}},"Object_ChartTooltip_sumOfPositives":{"id":"Object.ChartTooltip.sumOfPositives","locale":{"en-US":"Sum of positives","zh-TW":"正數總和","zh-CN":"正值总和","tr-TR":"Pozitif değerlerin toplamı","sv-SE":"Summan av positiva","it-IT":"Somma valori positivi","es-ES":"Suma de positivos","de-DE":"Summe positiver Werte","pl-PL":"Suma dodatnich","nl-NL":"Som positieven","ko-KR":"양수 합계","pt-BR":"Soma de positivos","fr-FR":"Sommes des valeurs positives","ja-JP":"正の合計","ru-RU":"Сумма положительных значений"}},"Object_ChartTooltip_sumOfNegatives":{"id":"Object.ChartTooltip.sumOfNegatives","locale":{"en-US":"Sum of negatives","zh-TW":"負數總和","zh-CN":"负值总和","tr-TR":"Negatif değerlerin toplamı","sv-SE":"Summan av negativa","it-IT":"Somma valori negativi","es-ES":"Suma de negativos","de-DE":"Summe negativer Werte","pl-PL":"Suma ujemnych","nl-NL":"Som negatieven","ko-KR":"음수 합계","pt-BR":"Soma de negativos","fr-FR":"Somme des valeurs négatives","ja-JP":"負の合計","ru-RU":"Сумма отрицательных значений"}},"Object_ChartTooltip_ColorExpression":{"id":"Object.ChartTooltip.ColorExpression","locale":{"en-US":"Color expression","zh-TW":"色彩運算式","zh-CN":"颜色表达式","tr-TR":"Renk ifadesi","sv-SE":"Färguttryck","it-IT":"Espressione colore","es-ES":"Expresión de color","de-DE":"Farbformel","pl-PL":"Wyrażenie koloru","nl-NL":"Kleuruitdrukking","ko-KR":"색상 표현식","pt-BR":"Expressão de cor","fr-FR":"Expression de couleur","ja-JP":"カラー表現","ru-RU":"Выражение для цвета"}},"Object_Disclaimer_OnlyNanColor":{"id":"Object.Disclaimer.OnlyNanColor","locale":{"en-US":"The data used to color this visualization only contains undefined values.","zh-TW":"用以定義此視覺化的色彩的資料只包含未定義的值。","zh-CN":"用于将该可视化着色的数据仅包含未定义的值。","tr-TR":"Bu görselleştirmeyi renklendirmek için kullanılan veriler yalnızca tanımlanmamış değerler içeriyor.","sv-SE":"Data som används för att färgsätta denna visualisering innehåller enbart odefinierade värden.","it-IT":"I dati utilizzati per colorare questa visualizzazione contengono solo valori non definiti.","es-ES":"Los datos utilizados para colorear esta visualización solo contienen valores indefinidos.","de-DE":"Die verwendeten Daten für die Farbgebung dieser Visualisierung enthalten undefinierte Werte.","pl-PL":"Dane używane do kolorowania tej wizualizacji zawierają wyłącznie niezdefiniowane wartości.","nl-NL":"De gegevens die worden gebruikt om deze visualisatie kleur te geven bevatten uitsluitend ongedefinieerde waarden.","ko-KR":"이 시각화에 색을 지정하는 데 사용된 데이터에는 정의되지 않은 값만 포함되어 있습니다.","pt-BR":"Os dados usados para colorir esse visualização contém somente valores indefinidos.","fr-FR":"Les données utilisées pour colorer cette visualisation ne comportent que des valeurs non définies.","ja-JP":"このビジュアライゼーションの色の割り当てに使用したデータには、未定義の値が含まれています。","ru-RU":"Данные, используемые для выбора цвета визуализации, содержат только неопределенные значения."}},"properties_trendlines_types_average":{"id":"properties.trendlines.types.average","locale":{"en-US":"Average","zh-TW":"平均值","zh-CN":"平均值","tr-TR":"Ortalama","sv-SE":"Medel","it-IT":"Media","es-ES":"Media","de-DE":"Durchschnitt","pl-PL":"Średnia","nl-NL":"Gemiddelde","ko-KR":"평균","pt-BR":"Média","fr-FR":"Moyenne","ja-JP":"平均値","ru-RU":"Среднее"}},"properties_trendlines_types_linear":{"id":"properties.trendlines.types.linear","locale":{"en-US":"Linear","zh-TW":"線性","zh-CN":"线性","tr-TR":"Doğrusal","sv-SE":"Linjär","it-IT":"Lineare","es-ES":"Lineal","de-DE":"Linear","pl-PL":"Liniowa","nl-NL":"Lineair","ko-KR":"선형","pt-BR":"Linear","fr-FR":"Linéaire","ja-JP":"線形","ru-RU":"Линейный"}},"properties_trendlines_types_polynomial2":{"id":"properties.trendlines.types.polynomial2","locale":{"en-US":"Second degree polynomial","zh-TW":"第二度多項式","zh-CN":"二次多项式","tr-TR":"İkinci derece polinom","sv-SE":"Polynomial, andra graden","it-IT":"Polinomio di secondo grado","es-ES":"Polinómica de segundo grado","de-DE":"Polynom zweiten Grades","pl-PL":"Wielomianowa drugiego stopnia","nl-NL":"Tweedegraadspolynoom","ko-KR":"2차 다항식","pt-BR":"Polinômio de segundo grau","fr-FR":"Polynomial du 2ème degré","ja-JP":"2 番目の角度の多項式近似","ru-RU":"Полиномиальный второй степени"}},"properties_trendlines_types_polynomial3":{"id":"properties.trendlines.types.polynomial3","locale":{"en-US":"Third degree polynomial","zh-TW":"第三度多項式","zh-CN":"三次多项式","tr-TR":"Üçüncü derece polinom","sv-SE":"Polynomial, tredje graden","it-IT":"Polinomio di terzo grado","es-ES":"Polinómica de tercer grado","de-DE":"Polynom dritten Grades","pl-PL":"Wielomianowa trzeciego stopnia","nl-NL":"Derdegraadspolynoom","ko-KR":"3차 다항식","pt-BR":"Polinômio de terceiro grau","fr-FR":"Polynomial du 3ème degré","ja-JP":"3 番目の角度の多項式近似","ru-RU":"Полиномиальный третьей степени"}},"properties_trendlines_types_polynomial4":{"id":"properties.trendlines.types.polynomial4","locale":{"en-US":"Fourth degree polynomial","zh-TW":"第四度多項式","zh-CN":"四次多项式","tr-TR":"Dördüncü derece polinom","sv-SE":"Polynomial, fjärde graden","it-IT":"Polinomio di quarto grado","es-ES":"Polinómica de cuarto grado","de-DE":"Polynom vierten Grades","pl-PL":"Wielomianowa czwartego stopnia","nl-NL":"Vierdegraadspolynoom","ko-KR":"4차 다항식","pt-BR":"Polinômio de quarto grau","fr-FR":"Polynomial du 4ème degré","ja-JP":"4 番目の角度の多項式近似","ru-RU":"Полиномиальный четвертой степени"}},"properties_trendlines_types_exponential":{"id":"properties.trendlines.types.exponential","locale":{"en-US":"Exponential","zh-TW":"指數","zh-CN":"指数","tr-TR":"Üstel","sv-SE":"Exponentiell","it-IT":"Esponenziale","es-ES":"Exponencial","de-DE":"Exponentiell","pl-PL":"Wykładnicze","nl-NL":"Exponentieel","ko-KR":"지수","pt-BR":"Exponencial","fr-FR":"Exponentiel","ja-JP":"指数","ru-RU":"Экспоненциальный"}},"properties_trendlines_types_logarithmic":{"id":"properties.trendlines.types.logarithmic","locale":{"en-US":"Logarithmic","zh-TW":"對數","zh-CN":"对数","tr-TR":"Logaritmik","sv-SE":"Logaritmisk","it-IT":"Logaritmica","es-ES":"Logarítmica","de-DE":"Logarithmisch","pl-PL":"Logarytmiczna","nl-NL":"Logaritmisch","ko-KR":"로그","pt-BR":"Logarítmico","fr-FR":"Logarithmique","ja-JP":"対数","ru-RU":"Логарифмический"}},"properties_trendlines_types_power":{"id":"properties.trendlines.types.power","locale":{"en-US":"Power","zh-TW":"乘冪","zh-CN":"幂","tr-TR":"Üs","sv-SE":"Potens","it-IT":"Potenza","es-ES":"Potencia","de-DE":"Potenz","pl-PL":"Potęgowa","nl-NL":"Macht","ko-KR":"거듭제곱","pt-BR":"Potência","fr-FR":"Puissance","ja-JP":"累乗","ru-RU":"Силовой"}},"Common_Measures":{"id":"Common.Measures","locale":{"en-US":"Measures","de-DE":"Kennzahlen","fr-FR":"Mesures","it-IT":"Misure","ja-JP":"メジャー","ko-KR":"측정값","es-ES":"Medidas","nl-NL":"Metingen","pl-PL":"Miary","pt-BR":"Medidas","sv-SE":"Mått","tr-TR":"Hesaplamalar","zh-CN":"度量","zh-TW":"量值","ru-RU":"Меры"}}}')},,function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t){e.exports=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(46);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getThemeStyle",(function(){return hi}));var o=n(10);var i=.8,a=.55,l=.3,u={CORNER_RADIUS:0,INNER_RADIUS:a,STROKE:{COLOR:"#FFFFFF",WIDTH:{NONE:0,SMALL:2,MEDIUM:4,LARGE:6}}},s={extractData:function(e,t){var n=this;this.app=t.app;var r=e;return new Promise((function(e){t.model.getEffectiveProperties?t.model.getEffectiveProperties().then((function(o){n.setUpMeasures(r,o,t).then((function(r){var i=r.measures;n.updateSessionObject({measures:i},o,t).then((function(){n.sessionObj.getLayout().then((function(r){var o,i,a,l,u=t.picasso.data("q")({key:"qHyperCube",data:r.qHyperCube,config:{localeInfo:t.localeInfo}}),s=(null===(o=r.qHyperCube)||void 0===o||null===(i=o.qDataPages)||void 0===i||null===(a=i[0])||void 0===a||null===(l=a.qMatrix)||void 0===l?void 0:l[0])||[],c=n.prepareData(s,u);e(c)}))}))}))})):e({measures:[]})}))},setUpMeasures:function(e,t,n){var r=this,o=this.getChartDimensions(n.layout);return new Promise((function(i){var a=r.getPreparedMeasureList(t,o,{opts:n,dimFields:e});Promise.all(a).then((function(e){i({measures:e})}))}))},getChartDimensions:function(e){var t,n=this,r=[];return((null===(t=e.qHyperCube)||void 0===t?void 0:t.qDimensionInfo)||[]).forEach((function(e){r.push(n.extractChartDimensionFieldName(e))})),r},extractChartDimensionFieldName:function(e){var t=e.qGroupPos;return this.stripEqualSign(e.qGroupFieldDefs[t])},stripEqualSign:function(e){return"="===e.charAt(0)?e.substr(1):e},getPreparedMeasureList:function(e,t,n){var r,o,i,a=this,l=n.opts,u=n.dimFields,s=[];return((null===(r=e.tooltip)||void 0===r||null===(o=r.data)||void 0===o||null===(i=o.qHyperCubeDef)||void 0===i?void 0:i.qMeasures)||[]).forEach((function(e,n){s.push(a.extractMeasureInfo(e,n,{chartDimension:t,opts:l,dimFields:u}).then((function(e){return{qDef:e,qAttributeExpressions:[]}})))})),s},extractMeasureInfo:function(e,t,n){var r=this,o=n.chartDimension,i=n.opts,a=n.dimFields;return new Promise((function(n){if(e.qLibraryId)i.app.getMeasure(e.qLibraryId).then((function(e){e.getProperties().then((function(e){var t=JSON.parse(JSON.stringify(e.qMeasure));t.qDef=r.wrapWithSetExpression(t.qDef,o,a),t.qLabelExpression=t.qLabelExpression?r.wrapWithSetExpression(t.qLabelExpression,o,a):"",n(t)}))}));else{var l=JSON.parse(JSON.stringify(e.qDef));l.qDef=r.wrapWithSetExpression(l.qDef,o,a),l.qLabel=i.layout.tooltip.data.qHyperCube.qMeasureInfo[t].qFallbackTitle,l.qLabelExpression=l.qLabelExpression?r.wrapWithSetExpression(l.qLabelExpression,o,a):"",n(l)}}))},wrapWithSetExpression:function(e,t,n){if(t.length<1)return"".concat(e);var r="",o="";return t.forEach((function(e,i){r="".concat(r,"[").concat(e,"]={'").concat(n[i],"'}"),o="".concat(o,"[").concat(e,"]"),i+1!==t.length&&(r="".concat(r,","),o="".concat(o,","))})),"Aggr({<".concat(r,">}").concat(e,",").concat(o,")")},updateSessionObject:function(e,t,n){var r=this,o=e.measures,i=t.qStateName||"",a={qInfo:{qType:"CustomTooltip"},qHyperCubeDef:{qDimensions:[],qMeasures:o,qInterColumnSortOrder:[0],qInitialDataFetch:[{qWidth:15,qHeight:100}]},qStateName:i};return new Promise((function(e){r.sessionObj?r.sessionObj.getProperties().then((function(t){var n=t;n.qHyperCubeDef.qMeasures=o,n.qStateName=i,r.sessionObj.setProperties(n).then((function(){e()}))})):n.app.createSessionObject(a).then((function(t){r.sessionObj=t,e()}))}))},prepareData:function(e,t){return{measures:this.extractMeasures(e,t)}},extractMeasures:function(e,t){var n=[];return e.forEach((function(e,r){var o="NaN"!==e.qNum?t.field(r).formatter()(e.qNum):e.qText,i="".concat(t.field(r).title(),":");n.push({label:i,value:o})})),n},destroySessionObject:function(){this.app&&this.sessionObj&&this.app.destroyObject(this.sessionObj.id)}},c={CUSTOM:{EXPRESSION:"customTooltipExpression",TITLE:"customTooltipTitle",DESCRIPTION:"customTooltipDescription",QUARANTINE:"customTooltip",IMAGES:"customTooltipImages"}};function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,l,"next",e)}function l(e){p(i,r,o,a,l,"throw",e)}a(void 0)}))}}function h(e){var t=e.split("/");return"qmem:"===t[0]&&""===t[1]}function g(e){var t,n,r,o,i;return e&&e.session&&e.session.options||e&&e.enigmaModel&&e.enigmaModel.session&&e.enigmaModel.session.sessionConfig?(n=(void 0!==(t=e.session.options||e.enigmaModel.session.sessionConfig).secure?t.secure:t.isSecure)?"https://":"http://",r=t.host||"localhost",o=t.port?":".concat(t.port):"","/"!==(i=t.prefix?t.prefix:"/")[i.length-1]&&(i="".concat(i,"/")),n+r+o+i):""}function y(e,t){var n=e.replace(t,"").replace(/^\.\.\//i,"/");return"/"!==n[0]?"/".concat(n):n}function v(e,t){return t+("/"===e[0]?e.substr(1):e)}var b={getImageSize:function(e,t){var n;function r(){n&&(clearTimeout(n),n=null)}function o(e){var t=e;t.onload=null,t.onerror=null,r()}var i={small:50,medium:200,large:340,original:340};return new Promise((function(a){var l=new Image;l.referrerPolicy="no-referrer",l.onload=function(){var e,n=l.height,u=l.width,s=i[t]*(n>u?1:n/u),c=i[t]*(u>n?1:u/n);!n||!u||0===n&&0===u?(e={height:20,width:20,imageError:!0},o(l)):"original"===t?(e={height:Math.min(s,n),width:Math.min(c,u)},r()):(e={height:s,width:c},r()),a(e)},l.onerror=function(){o(l),a({height:20,width:20,imageError:!0})},l.src=e,n=setTimeout((function(){o(l),a({height:20,width:20,imageError:!0})}),3e3)}))}};function x(e,t,n){return M.apply(this,arguments)}function M(){return(M=m(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,l,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.ref.qStaticContentUrl.qUrl,(i=g(r))&&(y(o,i),o=v(o=(o=o.replace(/"/g,'\\"')).replace(/'/g,"\\'"),i)),e.next=5,b.getImageSize(o,n);case 5:return a=e.sent,l=a.height,u=a.width,s=a.imageError,e.abrupt("return",{src:o,size:n,height:l,width:u,imageError:s});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n,r,o){return w.apply(this,arguments)}function w(){return(w=m(regeneratorRuntime.mark((function e(t,n,r,o,i){var a,l,u,s,c,f,d,p,m,g,y,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.ref,i&&i.label&&(l=i.label),!(n.isEnabled("IMAGE_BUNDLE_LOAD")&&(null==t?void 0:t.getImage)&&h(l))){e.next=21;break}return e.prev=3,e.next=6,t.getImage(l);case 6:return u=e.sent,s="data:image/png;base64, ".concat(u),e.next=10,b.getImageSize(s,o);case 10:c=e.sent,f=c.height,d=c.width,p=c.imageError,a={src:s,size:o,height:f,width:d,imageError:p},e.next=19;break;case 17:e.prev=17,e.t0=e.catch(3);case 19:e.next=28;break;case 21:return e.next=23,b.getImageSize(l,o);case 23:m=e.sent,g=m.height,y=m.width,v=m.imageError,a={src:l,size:o,height:g,width:y,imageError:v};case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}function S(e,t,n,r){return k.apply(this,arguments)}function k(){return(k=m(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,f,d,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.label,l=n.qFallbackTitle,!h(u="qmem://".concat(l,"/").concat(a))){e.next=21;break}return e.prev=4,e.next=7,t.getImage(u);case 7:if(!(s=e.sent)){e.next=17;break}return c="data:image/png;base64, ".concat(s),e.next=12,b.getImageSize(c,r);case 12:f=e.sent,d=f.height,p=f.width,m=f.imageError,i={src:c,size:r,height:d,width:p,imageError:m};case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(4);case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function C(e,t,n,r){return E.apply(this,arguments)}function E(){return(E=m(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,d,p,m,h,g,y,v,b,M,w,k,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=n.app,p=n.flags,m=null===(i=t.layout)||void 0===i||null===(a=i.tooltip)||void 0===a?void 0:a.imageComponents){e.next=4;break}return e.abrupt("return",[]);case 4:h=f(m,1),g=h[0],y=g.size||"small",v=g.type||"media",b=-1,M=0;case 9:if(!(M<r.length)){e.next=16;break}if(r[M].cId!==g.cId){e.next=13;break}return b=M,e.abrupt("break",16);case 13:M++,e.next=9;break;case 16:if(w=(null===(l=o.data)||void 0===l||null===(u=l.customTooltipAttrExps)||void 0===u?void 0:u.value)||[],-1!==b&&w[b]&&(k=w[b]),"media"!==v||!(null===(s=g.ref)||void 0===s||null===(c=s.qStaticContentUrl)||void 0===c?void 0:c.qUrl)){e.next=20;break}return e.abrupt("return",x(g,y,d));case 20:if("url"!==v){e.next=22;break}return e.abrupt("return",O(d,p,g,y,k));case 22:if(!(p.isEnabled("IMAGE_BUNDLE_LOAD")&&"field"===v&&k&&k.label)){e.next=25;break}return C=r[b],e.abrupt("return",S(d,C,y,k));case 25:return e.abrupt("return",[]);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){return m(regeneratorRuntime.mark((function t(){var n,r,o,i,a,l,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.customTooltipModel,r=e.nodes,o=e.attrExps,i=e.opts,a=r,l=[],u=0;u<a.length;u++)l.push(C(n,i,o,a[u]));return t.next=6,Promise.all(l);case 6:for(s=t.sent,c=0;c<a.length;c++)a[c].data.customTooltipImages=[s[c]];return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))()},q=function(e){var t,n,r=null===(t=e.customTooltipModel.layout)||void 0===t||null===(n=t.tooltip)||void 0===n?void 0:n.imageComponents;return!!r&&r.length>0};function D(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}var T={handlePromises:function(e){return(t=regeneratorRuntime.mark((function t(){var n,r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.customTooltipModel,r=e.nodes,o=e.attrExps,i=e.opts,a=r,t.next=4,A({customTooltipModel:n,nodes:r,attrExps:o,opts:i});case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){D(i,r,o,a,l,"next",e)}function l(e){D(i,r,o,a,l,"throw",e)}a(void 0)}))})();var t},checkIfPromisesExist:function(e){var t=e.customTooltipModel;return q({customTooltipModel:t})}};function N(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t=e.qHyperCubeDef?e.qHyperCubeDef.qDimensions:e.qHyperCube.qDimensionInfo;if(t&&t.length>0)return t}function j(){var e=c.CUSTOM,t=e.EXPRESSION,n=e.TITLE,r=e.DESCRIPTION,o=e.IMAGES,i={};return i[t]=!0,i[n]=!0,i[r]=!0,i[o]=!0,i}function P(e){var t=j();return e.filter((function(e){return t[e.id]}))}var R={getNodes:function(e,t){var n=function(e,t){var n=0,r=0;e.center?(n+=e.center.x,r+=e.center.y):(n+=e.clientX,r+=e.clientY);var o=t.element.getBoundingClientRect();return{cx:n-o.left,cy:r-o.top}}(e,t);return t.shapesAt({x:n.cx,y:n.cy})},getDataNodes:function(e,t){var n,r=[],o={container:{bar:!0,"bullet-axis":!0},circle:{"point-component":!0}};return t.forEach((function(t){var i,a,l,u,s=null!==(i=null===(a=t.data)||void 0===a?void 0:a.selectionDimension)&&void 0!==i?i:t.data;if(!s||(null===(l=t.data)||void 0===l?void 0:l.customTooltipAttrExps)||o[t.type]){if((null===(u=t.data)||void 0===u?void 0:u.customTooltipAttrExps)&&!t.data.customTooltipImages){var c=t;c.data.customTooltipImages=[],r.push(c)}}else{n||(n=[],Object.keys(o).forEach((function(t){n=n.concat(e.findShapes(t).filter((function(e){return e.data&&e.data.customTooltipAttrExps&&!e.data.customTooltipImages&&o[t][e.key]})))})));var f=n.filter((function(e){var t,n,r=null!==(t=null!==(n=e.data.stack)&&void 0!==n?n:e.data.selectionOuterDimension)&&void 0!==t?t:e.data.selectionDimension;return r&&r.value===s.value&&r.label===s.label}));f.length>0&&(r=r.concat(f[0]))}})),r},displayTooltip:function(e,t,n){var r=n.nodes,o=n.model,i=n.opts,a=void 0===i?{}:i,l=n.dimsAndNodeFn,u=n.customTooltipModel,c=n.extractedNodes,f=void 0===c?[]:c;if(a.flags&&a.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")){var d=u.layout,p=u.chart,m=R.getAttrExprData(d).attrExps;T.handlePromises({customTooltipModel:u,nodes:R.getDataNodes(p,f.length>0?f:r),attrExps:m,opts:a}).then((function(){t.emit("show",e,r.length?{nodes:r}:void 0)}))}else if(r.length>0&&"function"==typeof l){var h=l(),g=h.nodeDims,y=h.node;g&&y?function(e,t,n){return new Promise((function(r){var o=t;!function(e){return-3===e.data.value}(t)?function(e,t){var n=e.data,r=t.chart.brush("selection");return r.isActive()&&!r.containsMappedData(n)}(t,n)?(o.data.customTooltip={limitation:n.translator.get("properties.tooltip.notselectedmessage")},r(o)):s.extractData(e,n).then((function(e){o.data.customTooltip=e,r(o)})):(o.data.customTooltip={},r(o))}))}(g,y,o).then((function(n){t.emit("show",e,{nodes:[n]})})):t.emit("show",e)}else t.emit("hide")},checkIfPromisesExist:function(e){var t=e.customTooltipModel;return T.checkIfPromisesExist({customTooltipModel:t})},getAttrExps:function(e,t){var n,r=t,o=(null===(n=e.qHyperCubeDef)||void 0===n?void 0:n.qDimensions)?"qAttributeExpressions":"qAttrExprInfo";return r[o]||(r[o]=[]),r[o]},getAttrExprData:function(e){var t,n=[],r="",o=(null===(t=e.qHyperCube)||void 0===t?void 0:t.qDimensionInfo)||[];if(o.length>0){var i,a,l,u=o.length-1;n=(null===(i=e.qHyperCube)||void 0===i||null===(a=i.qDimensionInfo)||void 0===a||null===(l=a[u])||void 0===l?void 0:l.qAttrExprInfo)||[],r="qDimensionInfo/".concat(u,"/qAttrExprInfo")}return{attrExps:n,fieldPath:r}},quarantineCustomTooltipAttrs:function(e,t){var n,r;(null===(n=e.qLayoutExclude)||void 0===n||null===(r=n.quarantine)||void 0===r?void 0:r[c.CUSTOM.QUARANTINE])||function(e,t){var n=t,r=n.qLayoutExclude;r||(n.qLayoutExclude={quarantine:{}},r=n.qLayoutExclude),r.quarantine||(r.quarantine={}),r.quarantine[c.CUSTOM.QUARANTINE]=[],e.forEach((function(e){r.quarantine[c.CUSTOM.QUARANTINE].push(e)})),n.qLayoutExclude=r}(P(t.qAttributeExpressions||[]),e)},unquarantineCustomTooltipAttrs:function(e){var t,n,r=e;(null===(t=e.qLayoutExclude)||void 0===t||null===(n=t.quarantine)||void 0===n?void 0:n[c.CUSTOM.QUARANTINE])&&delete r.qLayoutExclude.quarantine[c.CUSTOM.QUARANTINE]},setAttrsFromQuarantine:function(e,t){var n=I(e);if(n){var r=void 0!==t?t:n.length-1;if(n[r]){var o=this.getAttrExps(e,n[r]);if(0===P(o).length){var i,a,l=(null===(i=e.qLayoutExclude)||void 0===i||null===(a=i.quarantine)||void 0===a?void 0:a.customTooltip)||[],u=[].concat(N(o),N(l)),s=e;s.qHyperCubeDef?s.qHyperCubeDef.qDimensions[r].qAttributeExpressions=u:s.qHyperCube.qDimensionInfo[r].qAttrExprInfo=u}}}},moveCustomTooltipAttrs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=[],o=I(e)||[],i=[].concat(N(o),[t]);i.forEach((function(e){var t=P(e.qAttributeExpressions||[]);t.length>0&&(r=t)}));var a=j(),l=o.map((function(e){var t=e,n=e.qAttributeExpressions||[];return t.qAttributeExpressions=n.filter((function(e){return!a[e.id]})),t})),u=void 0!==n?n:l.length-1;l.length>0&&(l[u].qAttributeExpressions=l[u].qAttributeExpressions.concat(r));var s=e;e.qHyperCubeDef?s.qHyperCubeDef.qDimensions=l:s.qHyperCube.qDimensionInfo=l},addCallbackCustomTooltip:function(e){e.qHyperCubeDef.qDimensions.length>1?this.moveCustomTooltipAttrs(e):(this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e))},moveCallbackCustomTooltip:function(e,t){1===e.qHyperCubeDef.qDimensions.length&&(this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e)),e.qHyperCubeDef.qDimensions.length>1&&this.moveCustomTooltipAttrs(e,t)},removeCallbackCustomTooltip:function(e,t){e.qHyperCubeDef.qDimensions.length>0?this.moveCustomTooltipAttrs(e,t):this.quarantineCustomTooltipAttrs(e,t)},replaceCallbackCustomTooltip:function(e,t){e.qHyperCubeDef.qDimensions.length>1?this.moveCustomTooltipAttrs(e,t):(this.quarantineCustomTooltipAttrs(e,t),this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e))},shouldIgnoreDefaultRows:function(e){var t;return(null===(t=e.tooltip)||void 0===t?void 0:t.hideBasic)||0},DEBOUNCE_THRESHOLD:50},_=R;function z(e){if(e.qHyperCubeDef){var t=e.qHyperCubeDef.qDimensions,n=e.qHyperCubeDef.qMeasures;1===t.length&&1===n.length&&(n[0].qSortBy.qSortByNumeric=-1,e.qHyperCubeDef.qInterColumnSortOrder.splice(0,e.qHyperCubeDef.qInterColumnSortOrder.length,1,0))}}function F(e){e.qOtherTotalSpec.qOtherMode="OTHER_COUNTED",e.qOtherTotalSpec.qOtherCounted={qv:"10"}}var U=n(12),H=n.n(U),B=n(13),V=n.n(B),W=n(5),G=n.n(W),K=n(14),$=n.n(K),X=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͽΆΈ-ϵϷ-҂Ҋ-։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ॿং-হঽ-ীে-ৌৎ-ৡ০-ৱ৴-৺ਃ-ਹਾ-ੀਖ਼-੯ੲ-ੴઃ-હઽ-ીૉ-ૌૐ-ૡ૦-૯ଂ-ହଽ-ାୀେ-ୌୗ-ୡ୦-୷ஃ-ிு-ௌௐ-௲ఁ-ఽు-ౄౘ-ౡ౦-౯౿-ಹಽ-ೋೕ-ೡ೦-ീെ-ൌൎ-ൡ൦-ෆා-ෑෘ-ะา-ำเ-ๆ๏-ະາ-ຳຽ-ໆ໐-༗༚-༴༶༸༾-ཬཿ྅ྈ-ྌ྾-࿅࿇-ာေးျ-ြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃ-ႄႇ-ႌႎ-ႜ႞-ፚ፠-ᎏᎠ-Ᏼᐁ-ᙿᚁ-ᚚᚠ-ᜑᜠ-ᜱ᜵-ᝑᝠ-ᝰក-ាើ-ៅះ-ៈ។-៚ៜ០-៩᠐-ᢨᢪ-ᤜᤣ-ᤦᤩ-ᤱᤳ-ᤸ᥆-᧚ᨀ-ᨖᨙ-ᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-᭪᭴-᭼ᮂ-ᮡᮦ-ᮧ᮪-ᯥᯧᯪ-ᯬᯮ᯲-ᰫᰴ-ᰵ᰻-᱿᳓᳡ᳩ-ᳬᳮ-ᶿḀ-ᾼιῂ-ῌῐ-Ίῠ-Ῥῲ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ-⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-ⳤⳫ-ⳮⴀ-⵰ⶀ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㍶㍻-㏝㏠-㏾㐀-䶵一-ꒌꓐ-ꘌꘐ-ꙮꚀ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꤥ꤮-ꥆꥒ-ꥼꦃ-ꦲꦴ-ꦵꦺ-ꦻꦽ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂ-ꯤꯦ-ꯧꯩ-꯬꯰-ﬗＡ-Ｚａ-ｚｦ-ￜ]"),Z=new RegExp("[־׀׃׆א-״߀-ߪߴ-ߵߺ-ࠕࠚࠤࠨ࠰-ࡘ࡞‏יִײַ-ﬨשׁ-ﭏ]"),J=new RegExp("[؈؋؍؛-ي٭-ٯٱ-ەۥ-ۦۮ-ۯۺ-܍ܐܒ-ܯݍ-ޥޱﭐ-ﴽﵐ-﷼ﹰ-ﻼ]"),Y={lrm:String.fromCharCode(8206),rlm:String.fromCharCode(8207),isLtrChar:function(e){return X.test(e)},isRtlChar:function(e){return Z.test(e)||J.test(e)},detectTextDirection:function(e){var t,n,r=e?e.length:0;for(t=0;t<r;t++){if(n=e[t],Y.isLtrChar(n))return"ltr";if(Y.isRtlChar(n))return"rtl"}return"ltr"}},Q=Y,ee=/^[A-Z][A-z0-9_]*$/i,te={setValue:function(e,t,n){if(!t)return!1;var r,o=t.split("."),i=o[o.length-1],a=e;for(r=0;r<o.length-1;++r)void 0===a[o[r]]&&(a[o[r]]=Number.isNaN(+o[r+1])?{}:[]),a=a[o[r]];if(void 0!==n){var l=a[i];return a[i]=n,{updated:n,previous:l}}return delete a[i],!1},getValue:function(e,t,n){var r,o=t.split("."),i=e;if(void 0===i)return n;for(r=0;r<o.length;++r){if(void 0===i[o[r]])return n;i=i[o[r]]}return i},moveArrayElement:function(e,t,n){if(n>=e.length)for(var r=n-e.length;1+r--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])},escapeField:function(e){return!e||"]"===e||ee.test(e)?e:"[".concat(e.replace(/\]/g,"]]"),"]")},deleteUndefinedProperties:function(e){Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]}))}},ne=n(0),re=n.n(ne),oe=n(1),ie=n.n(oe),ae=n(4);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){return"large"===e?"20px":"small"===e?"12px":"16px"}function ce(e){var t=e.d,n=e.size,r=e.style,o=void 0===r?{}:r,i=e.viewBox,a=void 0===i?"0 0 16 16":i,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:se(n),display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-.125em",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},o);return re.a.createElement("i",{style:l},re.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:a,fill:"currentColor"},re.a.createElement("path",{d:t})))}var fe={d:"M15.9993744,3 L15.9993744,5 L4.99937445,5 L4.99937445,3 L15.9993744,3 Z M8.99937445,7 L15.9993744,7 L15.9993744,9 L8.99937445,9 L8.99937445,7 Z M11.9993744,11 L15.9993744,11 L15.9993744,13 L11.9993744,13 L11.9993744,11 Z M2.2,11 L7,11 L7,9.00369263 C7,8.89323568 7.08954305,8.80369263 7.2,8.80369263 C7.2549016,8.80369263 7.30738916,8.82626165 7.34515712,8.86610844 L10.1852182,11.8624926 C10.2583124,11.93961 10.258346,12.0604218 10.1852948,12.13758 L7.34523376,15.1373102 C7.2692928,15.2175206 7.14270711,15.2209817 7.06249671,15.1450407 C7.02260076,15.1072683 7,15.0547472 7,14.9998069 L7,12.9043747 C4.79351111,12.9043747 2.8018683,12.9266213 1.02507156,12.9711145 L1.02507252,12.9711526 C0.472939773,12.9849787 0.014139487,12.5485949 0.000313396522,11.9964622 C0.000104473692,11.988119 -1.32268838e-12,11.9797736 -1.3231638e-12,11.9714278 L-1.83320026e-12,3 L2,3 L2,10.8 C2,10.9104569 2.08954305,11 2.2,11 Z"},de={d:"M13,7 L8,7 L13,7 L13,4.98151367 C13,2.23029964 10.7614237,0 8,0 C5.23857625,0 3,2.23029964 3,4.98151367 L3,7 L3.75,7 L3,7 L4.5,7 L4.5,5.33193359 C4.5,3.21561511 5.54860291,1.5 8,1.5 C10.4513971,1.5 11.5,3.21561511 11.5,5.33193359 L11.5,7 L12.25,7 L3,7 C2.44771525,7 2,7.44771525 2,8 L2,15 C2,15.5522847 2.44771525,16 3,16 L13,16 C13.5522847,16 14,15.5522847 14,15 L14,8 C14,7.44771525 13.5522847,7 13,7 L3,7 L13,7 Z"},pe={d:"M6,10 L13,3 L15,5 L8,12 L6,14 L1,9 L3,7 L6,10 Z"},me={d:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z"},he={d:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"},ge=n(2),ye=n.n(ge);function ve(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Me=ye.a.bind(null,!0),Oe={},we=Array.isArray;function Se(e){return null!=e&&!Array.isArray(e)&&"object"===xe(e)}function ke(e){return void 0===e}function Ce(e,t){return"function"==typeof e[t]||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function Ee(e,t){var n,r=t.substring(1).split("/").slice(0,-1);return r.forEach((function(t,o){if(o!==r.length){n=+t;var i=isNaN(n)?{}:[];e[n||t]=ke(e[n||t])?i:e[t],e=e[n||t]}})),e}function Ae(e,t){var n=!0;if(Se(e)&&Se(t))return Object.keys(e).length===Object.keys(t).length&&(Object.keys(e).forEach((function(r){Ae(e[r],t[r])||(n=!1)})),n);if(we(e)&&we(t)){if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r+=1)if(!Ae(e[r],t[r]))return!1;return!0}return e===t}Oe.generate=function(e,t,n){n=n||"";var r=[];return Object.keys(t).forEach((function(o){var i=function(e){return e?Me({},{val:e}).val:e}(t[o]),a=e[o],l="".concat(n,"/").concat(o);Ae(i,a)||Ce(t,o)||(ke(a)?r.push({op:"add",path:l,value:i}):Se(i)&&Se(a)?r=r.concat(Oe.generate(a,i,l)):we(i)&&we(a)?r=r.concat(function(e,t,n){var r=[],o=e.slice(),i=-1;function a(e,t,n){if(e[n]&&ke(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var r=0,o=e.length;r<o;r+=1)if(e[r]&&e[r].qInfo.qId===t)return r;return-1}if(Ae(t,o))return r;if(!ke(t[0])&&ke(t[0].qInfo))return r.push({op:"replace",path:n,value:t}),r;for(var l=o.length-1;l>=0;l-=1)-1===(i=a(t,o[l].qInfo&&o[l].qInfo.qId,l))?(r.push({op:"remove",path:"".concat(n,"/").concat(l)}),o.splice(l,1)):r=r.concat(Oe.generate(o[l],t[i],"".concat(n,"/").concat(l)));for(var u=0,s=t.length;u<s;u+=1)-1===(i=a(o,t[u].qInfo&&t[u].qInfo.qId))?(r.push({op:"add",path:"".concat(n,"/").concat(u),value:t[u]}),o.splice(u,0,t[u])):i!==u&&(r.push({op:"move",path:"".concat(n,"/").concat(u),from:"".concat(n,"/").concat(i)}),o.splice(u,0,o.splice(i,1)[0]));return r}(a,i,l)):r.push({op:"replace",path:"".concat(n,"/").concat(o),value:i}))})),Object.keys(e).forEach((function(o){ke(t[o])&&!Ce(e,o)&&r.push({op:"remove",path:"".concat(n,"/").concat(o)})})),r},Oe.apply=function(e,t){t.forEach((function(t){var n,r=Ee(e,t.path),o=t.path.split("/").splice(-1)[0],i=o&&isNaN(+o)?r[o]:r[+o]||r,a=t.from?t.from.split("/").splice(-1)[0]:null;if("/"===t.path&&(r=null,i=e),"add"===t.op||"replace"===t.op)if(we(r))"-"===o&&(o=r.length),r.splice(+o,"add"===t.op?0:1,t.value);else if(we(i)&&we(t.value)){var l,u=t.value.slice();i.length=0,(l=i).push.apply(l,ve(u))}else if(Se(i)&&Se(t.value))n=i,Object.keys(n).forEach((function(e){Object.getOwnPropertyDescriptor(n,e).configurable&&!Ce(n,e)&&delete n[e]})),Me(i,t.value);else{if(!r)throw new Error("Patchee is not an object we can patch");r[o]=t.value}else if("move"===t.op){var s=Ee(e,t.from);we(r)?r.splice(+o,0,s.splice(+a,1)[0]):(r[o]=s[a],delete s[a])}else"remove"===t.op&&(we(r)?r.splice(+o,1):delete r[o])}))},Oe.clone=function(e){return Me({},e)},Oe.createPatch=function(e,t,n){var r={op:e.toLowerCase(),path:n};return"move"===r.op?r.from=t:void 0!==t&&(r.value=t),r},Oe.updateObject=function(e,t){Object.keys(e).length?Oe.apply(e,Oe.generate(e,t)):Me(e,t)};var qe=Oe;function De(e,t,n){(function(e){var t=e.model,n=e.properties;return t.modifiers?t.modifiers.apply({model:t,properties:n}):Promise.resolve()})({model:e,properties:n}).then((function(){e.colorSupport&&e.colorSupport.colorByUpdater(n,"qHyperCubeDef.");var r=qe.generate(t,n);r&&r.length&&(r=r.map((function(e){return{qOp:e.op,qValue:JSON.stringify(e.value),qPath:e.path}})),e.applyPatches(r,!0))}))}function Te(e,t,n,r,o){e.getEffectiveProperties().then((function(i){var a=ye()(!0,{},i),l=a.qHyperCubeDef[r][t],u=a.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n];u.qAttributeDimensions=l.qAttributeDimensions,o||(u.qAttributeExpressions=l.qAttributeExpressions,l.qAttributeExpressions=[]),l.qAttributeDimensions=[],a.qHyperCubeDef[r][t]=u,a.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n]=l,De(e,i,a)}))}function Ne(e){var t=e.dir,n=e.dock,r=e.altList,o=e.model,i=e.translator,a=e.app;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map((function(e){return function(e,t,n){if(!!e.qLibraryId)return t.getDimension(e.qLibraryId).then((function(e){return e.getLayout()})).catch((function(){return null})).then((function(e){return e?"H"===e.qDim.qGrouping||!e.qDim.qLabelExpression?e.qDim.title:e.qDim.qLabelExpression:n.get("Object.ErrorMessage.MissingDimension")}));var r=e.qDef.qLabelExpression;if(!!r)return t.evaluate(r);var o=e.qDef.qFieldLabels[0]||e.qDef.qFieldDefs[0];return Promise.resolve(o)}(e,a,i).then((function(t){return{id:e.qDef.cId,selected:!1,title:t}}))}));return Promise.all(e)},changeTo:function(e,t){Te(o,e,t,"qDimensions")}}}function Le(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/qHyperCubeDef";return{breadcrumbs:e.qGroupFallbackTitles.slice(0,e.qGroupPos),drilldown:"H"===e.qGrouping,index:t,locked:!!e.qLocked,text:"H"===e.qGrouping?e.qGroupFallbackTitles[e.qGroupPos]:e.qFallbackTitle,popoverText:(r=e,"H"===r.qGrouping?r.title||"":r.qFallbackTitle||""),drillUp:function(e){var r=t;n.drillUp(o,r,e)}}}function Ie(e){var t=e.dir,n=e.dock,r=e.altList,o=e.model,i=e.translator,a=e.app,l=e.skipAttributeExpressions;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map((function(e){return function(e,t,n){if(!!e.qLibraryId)return t.getMeasure(e.qLibraryId).then((function(e){return e.getLayout()})).catch((function(){return null})).then((function(e){return e?e.qMeasure.qLabelExpression?e.qMeasure.qLabelExpression:e.qMeasure.qLabel||e.qMeasure.qDef:n.get("Object.ErrorMessage.MissingMeasure")}));var r=e.qDef.qLabelExpression;if(!!r)return t.evaluate(r);var o=e.qDef.qLabel||e.qDef.qDef;return Promise.resolve(o)}(e,a,i).then((function(t){return{id:e.qDef.cId,selected:!1,title:t}}))}));return Promise.all(e)},changeTo:function(e,t){Te(o,e,t,"qMeasures",l)}}}function je(e,t){return{breadcrumbs:[],drilldown:!1,index:t,locked:!1,text:e.qFallbackTitle,popoverText:e.qFallbackTitle}}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?Be(e):t}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ke={bottom:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},top:{anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"}},left:{anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"}},right:{anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"}}},$e=function(e){var t=e.children,n=Ge(e,["children"]);return re.a.createElement(ae.Button,We({size:"small",disableRipple:!0,disableTouchRipple:!0},n),t)},Xe=function(){function e(e){var t=e.title,n=e.selected,r=e.onClick,o=Q.detectTextDirection(t);return re.a.createElement(ae.ListItem,{button:!0,onClick:r,style:{textAlign:"start"}},re.a.createElement(ae.ListItemIcon,{style:{minWidth:32}},re.a.createElement(ce,{d:n?pe.d:""})),re.a.createElement(ae.ListItemText,{primaryTypographyProps:{dir:o}},t))}function t(t){var n=t.alignTo,r=t.changeTo,o=t.current,i=t.dir,a=t.dock,l=t.list,u=t.onClose,s=t.show,c=l.map((function(t,n){return re.a.createElement(e,{key:t.id,title:t.title,onClick:function(){return r(n)}})}));return re.a.createElement(ae.Popover,We({anchorEl:n,open:s,onClose:u},Ke[a],{PaperProps:{style:{minWidth:"250px",maxHeight:"300px"}}}),re.a.createElement(ae.List,{dense:!0,dir:i,component:"nav"},re.a.createElement(e,{title:o,selected:!0,onClick:u}),c))}e.propTypes={title:ie.a.string.isRequired,selected:ie.a.bool,onClick:ie.a.func.isRequired},e.defaultProps={selected:!1},t.propTypes={alignTo:ie.a.any,changeTo:ie.a.func.isRequired,current:ie.a.string.isRequired,dir:ie.a.string.isRequired,dock:ie.a.string.isRequired,list:ie.a.array,onClose:ie.a.func.isRequired,show:ie.a.bool.isRequired},t.defaultProps={list:[],alignTo:null};var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(a,e);var n,r,o,i=Ue(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={open:!1,inSelection:e.selections&&e.selections.isActive()},t.openPopover=t.openPopover.bind(Be(t)),t.closePopover=t.closePopover.bind(Be(t)),t.changeTo=t.changeTo.bind(Be(t)),t.alignToRef=re.a.createRef(),t}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.selections;t&&(this.onSelectionsActivated=function(){return e.setState({inSelection:!0})},this.onSelectionsDeactivated=function(){return e.setState({inSelection:!1})},t.addListener("activated",this.onSelectionsActivated),t.addListener("deactivated",this.onSelectionsDeactivated),t.addListener("canceled",this.onSelectionsDeactivated))}},{key:"componentWillUnmount",value:function(){var e=this.props.selections;e&&(e.removeListener("activated",this.onSelectionsActivated),e.removeListener("deactivated",this.onSelectionsDeactivated),e.removeListener("canceled",this.onSelectionsDeactivated))}},{key:"changeTo",value:function(e){this.props.popover.changeTo(this.props.titleData.index,e),this.closePopover()}},{key:"openPopover",value:function(){var e=this;this.state.closeTime&&Date.now()-this.state.closeTime<20||this.props.popover.getAlternatives().then((function(t){e.setState({open:!0,alternatives:t})}))}},{key:"closePopover",value:function(){this.setState({open:!1,closeTime:Date.now()})}},{key:"render",value:function(){var e=this.props,n=e.titleData,r=e.popover,o=e.translator,i=e.disabled,a=e.isDimension,l=e.padding,u=e.minWidth,s=e.hasAlternative,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"normal"},this.props.style),f=n.breadcrumbs.length,d=i||this.state.inSelection,p=n.breadcrumbs.map((function(e,t){return re.a.createElement($e,{style:{display:"flex",alignItems:"center",color:d&&"rgba(89, 89, 89, 0.8)",pointerEvents:d?"none":"auto"},key:t,onClick:function(){return d?void 0:n.drillUp(f-t)},title:e},re.a.createElement("span",{style:c},e),re.a.createElement(ce,We({},he,{size:"small",style:{margin:"0 8px"}})))})),m=r&&!this.state.open?this.openPopover:this.closePopover,h=!r||i||this.state.inSelection,g={display:"flex",alignItems:"center",width:"100%",color:h&&"rgba(89, 89, 89, 0.8)",height:!a&&h&&"20px",lineHeight:!a&&h&&"20px",border:!a&&h&&"none"};l&&(g.padding=l),u&&(g.minWidth=u);var y=Q.detectTextDirection(n.text),v=re.a.createElement($e,{style:g,onClick:h?void 0:m,title:n.text,tabIndex:"-1"},n.locked&&re.a.createElement(ce,We({},de,{size:"small",title:o.get("Tooltip.selections.locked")})),re.a.createElement("span",{style:c,dir:y},n.text),r&&re.a.createElement(ce,We({},me,{size:"small",style:{margin:"0 8px"}})));return re.a.createElement(re.a.Fragment,null,n.drilldown&&re.a.createElement(ce,We({},fe,{size:"small",title:o.get("Tooltip.dimensions.drilldown"),style:{margin:"0 4px 0 0"}})),p,re.a.createElement("div",{ref:this.alignToRef,style:{overflow:"hidden",pointerEvents:s?"auto":"none"}},v),r&&re.a.createElement(t,{dock:r.dock,dir:r.dir,current:n.popoverText,alignTo:this.alignToRef.current,show:this.state.open,list:this.state.alternatives,onClose:this.closePopover,changeTo:this.changeTo}))}}])&&ze(n.prototype,r),o&&ze(n,o),a}(re.a.Component);function r(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]}function o(e){return!e.isDimension&&te.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.length")>0}return n.propTypes={disabled:ie.a.bool.isRequired,padding:ie.a.string,minWidth:ie.a.string,titleData:ie.a.shape({breadcrumbs:ie.a.arrayOf(ie.a.string).isRequired,drilldown:ie.a.bool.isRequired,index:ie.a.number.isRequired,locked:ie.a.bool.isRequired,text:ie.a.string.isRequired,popoverText:ie.a.string.isRequired,drillUp:ie.a.func}).isRequired,popover:ie.a.shape({dir:ie.a.string.isRequired,dock:ie.a.string.isRequired,changeTo:ie.a.func.isRequired,getAlternatives:ie.a.func.isRequired}),translator:ie.a.shape({get:ie.a.func.isRequired}).isRequired,selections:ie.a.shape({isActive:ie.a.func,addListener:ie.a.func,removeListener:ie.a.func}),style:ie.a.shape({fontSize:ie.a.string,color:ie.a.string,fontFamily:ie.a.string}).isRequired,isDimension:ie.a.bool.isRequired,hasAlternative:ie.a.bool.isRequired},n.defaultProps={popover:null,selections:null,padding:"",minWidth:""},{renderer:"react",disableTriggers:!0,preferredSize:function(){return this.settings.settings.isDimension||o(this.settings.settings)?28:20},render:function(){var e,t=this,i=this.settings,a=i.settings,l=a.hyperCube,u=a.hyperCubeDef,s=a.disabled,c=a.isDimension,f=a.model,d=a.translator,p=a.rtl,m=a.selections,h=a.app,g=a.padding,y=a.minWidth,v=a.skipAttributeExpressions,b=a.explicitItemInfos,x=i.layout.dock,M="top"!==x&&"bottom"!==x||!p?"ltr":"rtl",O=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center"};return"left"===e?(n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left"):"right"===e&&(n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left"),n}(x,this.rect),w=u&&u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef,S=w&&w[c?"qDimensions":"qMeasures"]||[],k=b||l[c?"qDimensionInfo":"qMeasureInfo"],C=c?Ne:Ie,E=c?Le:je,A=f&&f.colorSupport&&f.modifiers&&C({dir:p?"rtl":"ltr",dock:r(x),altList:S,model:f,translator:d,app:h,skipAttributeExpressions:v}),q=(e=this.settings.settings).isDimension&&te.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions.length")>0||o(this.settings.settings),D=k.map((function(e,r){var o=E(e,r,f),i=r===k.length-1;return re.a.createElement(re.a.Fragment,{key:e.cId},re.a.createElement(n,{popover:A,titleData:o,model:f,translator:d,selections:m,disabled:s(),style:t.style,isDimension:c,padding:g,minWidth:y,hasAlternative:q}),!i&&re.a.createElement("span",null,", "))}));return re.a.createElement("div",{style:O,dir:M},D)}}};function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(i,e);var t,n,r,o=Qe(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.spanStyle;return re.a.createElement(re.a.Fragment,null,re.a.createElement("span",{ref:this.alignToRef,style:n,title:t},t))}}])&&Je(t.prototype,n),r&&Je(t,r),i}(re.a.Component);return e.propTypes={label:ie.a.string.isRequired,spanStyle:ie.a.shape().isRequired},{renderer:"react",disableTriggers:!0,preferredSize:function(){return 22},render:function(){var t=this.settings,n=t.settings,r=n.label,o=n.rtl,i=t.layout.dock,a="top"!==i&&"bottom"!==i||!o?"ltr":"rtl",l=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center",color:"#7b7a78",fontStyle:"italic",fontSize:"13px"};switch(e){case"left":n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left";break;case"right":n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left";break;case"center":n.width="".concat(t.width,"px"),n.height="".concat(t.height,"px"),n.color="#595959",n.fontStyle="normal",n.fontSize="1.2em",n.textAlign="center";break;default:case"top":case"bottom":n.justifyContent="flex-start",n.alignItems="flex-start"}return n}(i,this.rect),u="center"===i?r:"* ".concat(r),s="center"!==i?{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}:{};return re.a.createElement("div",{style:l,dir:a},re.a.createElement(re.a.Fragment,null,re.a.createElement(e,{label:u,spanStyle:s})))}}}var rt=n(6),ot=n.n(rt);function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e){return(st="function"==typeof Symbol&&"symbol"===ut(Symbol.iterator)?function(e){return ut(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ut(e)})(e)}function ct(e){return(ct="function"==typeof Symbol&&"symbol"===st(Symbol.iterator)?function(e){return st(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":st(e)})(e)}function ft(e){return e&&"object"===ct(e)&&!Array.isArray(e)}function dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?lt({},e):e;return ft(e)&&ft(t)&&Object.keys(t).forEach((function(o){"__proto__"!==o&&(ft(t[o])&&o in e?r[o]=dt(e[o],t[o],n):r[o]=t[o])})),r}var pt=["xs","sm","md","lg","xl"];function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t,n){var r;return it({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return it({paddingLeft:t(2),paddingRight:t(2)},n,mt({},e.up("sm"),it({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},mt(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),mt(r,e.up("sm"),{minHeight:64}),r)},n)}var gt={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},yt={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},vt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},bt={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},xt={black:"#000",white:"#fff"};function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function Ot(e){if(e.type)return e;if("#"===e.charAt(0))return Ot(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb(".concat(n.map((function(e){return parseInt(e,16)})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function wt(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function St(e){var t="hsl"===(e=Ot(e)).type?Ot(function(e){var t=(e=Ot(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),wt({type:l,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function kt(e,t){if(e=Ot(e),t=Mt(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return wt(e)}function Ct(e,t){if(e=Ot(e),t=Mt(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return wt(e)}var Et={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xt.white,default:vt[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},At={text:{primary:xt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:vt[800],default:"#303030"},action:{active:xt.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function qt(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Ct(e.main,r):"dark"===t&&(e.dark=kt(e.main,1.5*r)))}function Dt(e){var t=e.primary,n=void 0===t?{light:gt[300],main:gt[500],dark:gt[700]}:t,r=e.secondary,o=void 0===r?{light:yt.A200,main:yt.A400,dark:yt.A700}:r,i=e.error,a=void 0===i?{light:bt[300],main:bt[500],dark:bt[700]}:i,l=e.type,u=void 0===l?"light":l,s=e.contrastThreshold,c=void 0===s?3:s,f=e.tonalOffset,d=void 0===f?.2:f,p=at(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function m(e){return function(e,t){var n=St(e),r=St(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,At.text.primary)>=c?At.text.primary:Et.text.primary}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=it({},e)).main&&e[t]&&(e.main=e[t]),qt(e,"light",n,d),qt(e,"dark",r,d),e.contrastText||(e.contrastText=m(e.main)),e}var g={dark:At,light:Et};return dt(it({common:xt,type:u,primary:h(n),secondary:h(o,"A400","A200","A700"),error:h(a),grey:vt,contrastThreshold:c,getContrastText:m,augmentColor:h,tonalOffset:d},g[u]),p,{clone:!1})}function Tt(e){return Math.round(1e5*e)/1e5}var Nt={textTransform:"uppercase"},Lt='"Roboto", "Helvetica", "Arial", sans-serif';function It(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,o=void 0===r?Lt:r,i=n.fontSize,a=void 0===i?14:i,l=n.fontWeightLight,u=void 0===l?300:l,s=n.fontWeightRegular,c=void 0===s?400:s,f=n.fontWeightMedium,d=void 0===f?500:f,p=n.fontWeightBold,m=void 0===p?700:p,h=n.htmlFontSize,g=void 0===h?16:h,y=n.allVariants,v=n.pxToRem,b=at(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=a/14,M=v||function(e){return"".concat(e/g*x,"rem")},O=function(e,t,n,r,i){return it({fontFamily:o,fontWeight:e,fontSize:M(t),lineHeight:n},o===Lt?{letterSpacing:"".concat(Tt(r/t),"em")}:{},{},i,{},y)},w={h1:O(u,96,1,-1.5),h2:O(u,60,1,-.5),h3:O(c,48,1.04,0),h4:O(c,34,1.17,.25),h5:O(c,24,1.33,0),h6:O(d,20,1.6,.15),subtitle1:O(c,16,1.75,.15),subtitle2:O(d,14,1.57,.1),body1:O(c,16,1.5,.15),body2:O(c,14,1.43,.15),button:O(d,14,1.75,.4,Nt),caption:O(c,12,1.66,.4),overline:O(c,12,2.66,1,Nt)};return dt(it({htmlFontSize:g,pxToRem:M,round:Tt,fontFamily:o,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:m},w),b,{clone:!1})}var jt=.2,Pt=.14,Rt=.12;function _t(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(jt,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(Pt,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(Rt,")")].join(",")}var zt=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],Ft={borderRadius:4};var Ut={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ht={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},Bt=function(e){return"".concat(Math.round(e),"ms")},Vt={easing:Ut,duration:Ht,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Ht.standard:n,o=t.easing,i=void 0===o?Ut.easeInOut:o,a=t.delay,l=void 0===a?0:a;at(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:Bt(r)," ").concat(i," ").concat("string"==typeof l?l:Bt(l))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Wt={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,i=e.palette,a=void 0===i?{}:i,l=e.shadows,u=e.spacing,s=e.typography,c=void 0===s?{}:s,f=at(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),d=Dt(a),p=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,i=e.step,a=void 0===i?5:i,l=at(e,["values","unit","step"]);function u(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function s(e,t){var r=pt.indexOf(t)+1;return r===pt.length?u(e):"@media (min-width:".concat(n[e]).concat(o,") and ")+"(max-width:".concat(n[pt[r]]-a/100).concat(o,")")}return it({keys:pt,values:n,up:u,down:function(e){var t=pt.indexOf(e)+1,r=n[pt[t]];return t===pt.length?u("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-a/100).concat(o,")")},between:s,only:function(e){return s(e,e)},width:function(e){return n[e]}},l)}(n),m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;e="function"==typeof t?t:function(e){return t*e};var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){var n=e(t);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(u);return it({breakpoints:p,direction:"ltr",mixins:ht(p,m,o),overrides:{},palette:d,props:{},shadows:l||zt,typography:It(d,c),spacing:m},dt({shape:Ft,transitions:Vt,zIndex:Wt},f))},Kt=n(7),$t=Gt({palette:{text:{primary:"rgba(89, 89, 89, 0.8)",secondary:"rgba(0, 0, 0, 0.55)",disabled:"rgba(0, 0, 0, 0.3)"},action:{disabled:"rgba(0, 0, 0, 0.3)"}},typography:{fontFamily:'"QlikView Sans", "Arial", sans-serif',button:{textTransform:"initial",fontWeight:400}},shape:{borderRadius:2},shadows:["none","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)"],props:{MuiButtonBase:{disableRipple:!0}}});function Xt(e,t){return re.a.createElement(Kt.StylesProvider,{generateClassName:t},re.a.createElement(Kt.ThemeProvider,{theme:$t},e))}var Zt=Object(Kt.createGenerateClassName)({productionPrefix:"q".concat("1b6f"),disableGlobal:!0,seed:""});function Jt(){return function(e){e.renderer("react",function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y,r=e.width,o=e.height,i=e.scaleRatio,a=e.margin,l={x:0,y:0,width:0,height:0,scaleRatio:{x:1,y:1},margin:{left:0,top:0}};return l.x=Number.isNaN(t)?l.x:t,l.y=Number.isNaN(n)?l.y:n,l.width=Number.isNaN(r)?l.width:r,l.height=Number.isNaN(o)?l.height:o,void 0!==i&&(l.scaleRatio.x=Number.isNaN(i.x)?l.scaleRatio.x:i.x,l.scaleRatio.y=Number.isNaN(i.y)?l.scaleRatio.y:i.y),void 0!==a&&(l.margin.left=Number.isNaN(a.left)?0:a.left,l.margin.top=Number.isNaN(a.top)?0:a.top),l}return function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.createElement,o=void 0===r?document.createElement.bind(document):r,i=e(),a={element:function(){return t},root:function(){return t},appendTo:function(e){return t||((t=o("div")).style.position="absolute",t.style["-webkit-font-smoothing"]="antialiased",t.style["-moz-osx-font-smoothing"]="antialiased",t.style.pointerEvents="none"),e.appendChild(t),t},render:function(e){if(!t)return!1;var n=i.scaleRatio.x,r=i.scaleRatio.y;return t.style.left="".concat(Math.round(i.margin.left+i.x*n),"px"),t.style.top="".concat(Math.round(i.margin.top+i.y*r),"px"),t.style.width="".concat(Math.round(i.width),"px"),t.style.height="".concat(Math.round(i.height),"px"),t.style.transform="scale(".concat(n,", ").concat(r,")"),t.style.transformOrigin="top left",ot.a.render(Xt(e,Zt),t),!0},itemsAt:function(){return[]},findShapes:function(){return[]},clear:function(){return t&&ot.a.unmountComponentAtNode(t),a},destroy:function(){t&&t.parentElement&&(ot.a.unmountComponentAtNode(t),t.parentElement.removeChild(t)),t=null},size:function(t){return t&&(i=e(t)),i}};return a}}()),e.component("data-title",Xe()),e.component("disclaimer",nt())}}var Yt=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Qt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function en(){}var tn="\\s*([+-]?\\d+)\\s*",nn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",on=/^#([0-9a-f]{3,8})$/,an=new RegExp("^rgb\\("+[tn,tn,tn]+"\\)$"),ln=new RegExp("^rgb\\("+[rn,rn,rn]+"\\)$"),un=new RegExp("^rgba\\("+[tn,tn,tn,nn]+"\\)$"),sn=new RegExp("^rgba\\("+[rn,rn,rn,nn]+"\\)$"),cn=new RegExp("^hsl\\("+[nn,rn,rn]+"\\)$"),fn=new RegExp("^hsla\\("+[nn,rn,rn,nn]+"\\)$"),dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pn(){return this.rgb().formatHex()}function mn(){return this.rgb().formatRgb()}function hn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=on.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?gn(t):3===n?new bn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?yn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?yn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=an.exec(e))?new bn(t[1],t[2],t[3],1):(t=ln.exec(e))?new bn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=un.exec(e))?yn(t[1],t[2],t[3],t[4]):(t=sn.exec(e))?yn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=cn.exec(e))?wn(t[1],t[2]/100,t[3]/100,1):(t=fn.exec(e))?wn(t[1],t[2]/100,t[3]/100,t[4]):dn.hasOwnProperty(e)?gn(dn[e]):"transparent"===e?new bn(NaN,NaN,NaN,0):null}function gn(e){return new bn(e>>16&255,e>>8&255,255&e,1)}function yn(e,t,n,r){return r<=0&&(e=t=n=NaN),new bn(e,t,n,r)}function vn(e){return e instanceof en||(e=hn(e)),e?new bn((e=e.rgb()).r,e.g,e.b,e.opacity):new bn}function bn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function xn(){return"#"+On(this.r)+On(this.g)+On(this.b)}function Mn(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function On(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function wn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new kn(e,t,n,r)}function Sn(e){if(e instanceof kn)return new kn(e.h,e.s,e.l,e.opacity);if(e instanceof en||(e=hn(e)),!e)return new kn;if(e instanceof kn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new kn(a,l,u,e.opacity)}function kn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Cn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Yt(en,hn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:pn,formatHex:pn,formatHsl:function(){return Sn(this).formatHsl()},formatRgb:mn,toString:mn}),Yt(bn,(function(e,t,n,r){return 1===arguments.length?vn(e):new bn(e,t,n,null==r?1:r)}),Qt(en,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xn,formatHex:xn,formatRgb:Mn,toString:Mn})),Yt(kn,(function(e,t,n,r){return 1===arguments.length?Sn(e):new kn(e,t,n,null==r?1:r)}),Qt(en,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new bn(Cn(e>=240?e-240:e+120,o,r),Cn(e,o,r),Cn(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var En=Math.PI/180,An=180/Math.PI,qn=.96422,Dn=1,Tn=.82521,Nn=4/29,Ln=6/29,In=3*Ln*Ln,jn=Ln*Ln*Ln;function Pn(e){if(e instanceof Rn)return new Rn(e.l,e.a,e.b,e.opacity);if(e instanceof Vn)return Wn(e);e instanceof bn||(e=vn(e));var t,n,r=Un(e.r),o=Un(e.g),i=Un(e.b),a=_n((.2225045*r+.7168786*o+.0606169*i)/Dn);return r===o&&o===i?t=n=a:(t=_n((.4360747*r+.3850649*o+.1430804*i)/qn),n=_n((.0139322*r+.0971045*o+.7141733*i)/Tn)),new Rn(116*a-16,500*(t-a),200*(a-n),e.opacity)}function Rn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function _n(e){return e>jn?Math.pow(e,1/3):e/In+Nn}function zn(e){return e>Ln?e*e*e:In*(e-Nn)}function Fn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Un(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Hn(e){if(e instanceof Vn)return new Vn(e.h,e.c,e.l,e.opacity);if(e instanceof Rn||(e=Pn(e)),0===e.a&&0===e.b)return new Vn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*An;return new Vn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Bn(e,t,n,r){return 1===arguments.length?Hn(e):new Vn(e,t,n,null==r?1:r)}function Vn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Wn(e){if(isNaN(e.h))return new Rn(e.l,0,0,e.opacity);var t=e.h*En;return new Rn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Gn(e){return Bn(e).l<70}function Kn(e,t){return{x:t.x+e.r*Math.sin(e.a),y:t.y-e.r*Math.cos(e.a)}}Yt(Rn,(function(e,t,n,r){return 1===arguments.length?Pn(e):new Rn(e,t,n,null==r?1:r)}),Qt(en,{brighter:function(e){return new Rn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Rn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new bn(Fn(3.1338561*(t=qn*zn(t))-1.6168667*(e=Dn*zn(e))-.4906146*(n=Tn*zn(n))),Fn(-.9787684*t+1.9161415*e+.033454*n),Fn(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Yt(Vn,Bn,Qt(en,{brighter:function(e){return new Vn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Vn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Wn(this).rgb()}}));var $n={require:["chart","settings"],defaultSettings:{settings:{},style:{}},render:function(){return function(e){var t=e.chart,n=e.settings,r=t.component(n.component);if(!r)return[];var o=t.findShapes(n.selector).filter((function(e){return e.key===n.component}));if(o.length<2)return[];if(r.settings.settings.slice.cornerRadius>0||r.settings.settings.slice.strokeWidth>0)return[];for(var i,a,l,u=[],s=o[o.length-1],c=0;c<o.length;c+=1){var f=o[c],d=s.attrs.fill,p=f.attrs.fill;if(i=d,a=void 0,l=void 0,a=Bn(p).l/100,l=Bn(i).l/100,(a>l?(a+.05)/(l+.05):(l+.05)/(a+.05))<=1.2){var m=f.desc.slice,h=m.start,g=m.offset,y=f.desc.slice,v=y.innerRadius,b=y.outerRadius;if(v=Math.max(v,s.desc.slice.innerRadius),(b=Math.min(b,s.desc.slice.outerRadius))>v){var x=Kn({r:b,a:h},g),M=Kn({r:v,a:h},g);u.push({type:"line",x1:x.x,y1:x.y,x2:M.x,y2:M.y,strokeWidth:1,opacity:.4,stroke:Gn(p)?"#ccc":"#333"})}}s=f}return u}({chart:this.chart,rect:this.rect,style:this.style,settings:this.settings.settings})}};function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yn(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",r=0;r<e.length;r++){var o=e[r];n+=0===r?"M".concat(o.x," ").concat(o.y):"L".concat(o.x," ").concat(o.y),n+=" "}return t&&(n+="Z"),n}function Qn(e){var t=e.size,n=e.angle,r={x:e.x,y:e.y},o=t/2,i=e.x-o,a=e.y-o,l=[{x:i,y:a+t},{x:i+o,y:a},{x:i+t,y:a+t},{x:i,y:a+t}];return l=l.map((function(e){return function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},i=Math.cos(t),a=Math.sin(t),l=(r=o,{x:(n=e).x-r.x,y:n.y-r.y});return function(e,t){return{x:e.x+t.x,y:e.y+t.y}}({x:i*l.x-a*l.y,y:a*l.x+i*l.y},o)}(e,n,r)})),{type:"path",fill:e.fill,d:Yn(l)}}var er={require:["chart"],defaultSettings:{settings:{},style:{}},render:function(){return function(e){var t=e.chart,n=e.settings;if(!t.component(n.component))return[];var r=t.findShapes(n.selector).filter((function(e){return e.key===n.component}));if(r.length<2)return[];for(var o,i,a=[],l=0;l<r.length;l+=1){var u=r[l];if(u.data.radius.value<0){var s=u.desc.slice,c=s.start,f=s.end,d=s.offset,p=(c+f)/2,m=(o={r:n.offset,a:p},{x:(i=d).x+o.r*Math.sin(o.a),y:i.y-o.r*Math.cos(o.a)}),h=Qn(Zn({size:n.size,fill:n.fill,angle:p+Math.PI},m));h.data=Zn(Zn({},u.data),{},{_share:u.desc.share,_fillColor:u.attrs.fill}),a.push(h)}}return a}({chart:this.chart,rect:this.rect,style:this.style,settings:this.settings.settings})}},tr=n(3);function nr(e,t){return{range:function(e){var n=e.resources,r=e.data,o=n.theme.palette("categorical",t);return r.items.map((function(e){return o[e.value%o.length]}))},valueAccessor:e.value}}function rr(e,t){return{range:function(e){var n=e.resources,r=e.data,o=n.theme.palette("categorical",t);return r.items.map((function(e){return o[e.row.value%o.length]}))},valueAccessor:e.value}}function or(e,t,n,r,o){var i=o.byRow,a=o.byElemNo;if(r&&(t.input.persistent||e.hc.qDimensionInfo.length>1||void 0===n.activeDimensionIndex&&e.hc.qSize.qcy>e.hc.qDataPages[0].qArea.qHeight))return a(r,r.raw().qCardinal);if(r){var l=t.pic.extract({field:r.key(),trackBy:r.value}).length;return i(r,l)}return{}}function ir(e,t){var n=e.hc.qDimensionInfo,r=t.input.byDimDef||{activeDimensionIndex:n.length-1};if(r.activeDimensionIndex>=0){var o=n[r.activeDimensionIndex];r=o.coloring&&o.coloring.colorMapRef?{type:"libraryItem",key:o.coloring.colorMapRef,activeDimensionIndex:r.activeDimensionIndex}:{activeDimensionIndex:r.activeDimensionIndex}}return r}function ar(e,t){var n;return t.activeDimensionIndex>=0?n=e.pic.fields().filter((function(e){return"dimension"===e.type()}))[t.activeDimensionIndex]:"libraryItem"===t.type?!1===(n=t.key?e.pic.field((function(e){return e.raw().colorMapRef===t.key})):void 0)&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))):"expression"===t.type&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))),n}var lr=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.getCDef,i=void 0===o?ir:o,a=r.getCByField,l=void 0===a?ar:a,u=r.getPersistence,s=void 0===u?or:u,c=i(t,n),f=l(n,c),d=f?f.raw():{},p=n&&n.pic?n.pic.raw():{};if(d.qError||d.qSize&&0===d.qSize.qcy&&!p.qHasOtherValues)return{invalid:!0};var m={mode:"field",fieldType:"dimension",type:"categorical",field:f?f.key():void 0};return("expression"===c.type||c.activeDimensionIndex<0)&&(m.label=c.label,"color.altLabel"===d.labelExpRef&&(m.label=n.input.altLabel)),!m.label&&f&&(m.label=f.title()),n.input.dimensionScheme&&(m.palettes={categorical:n.input.dimensionScheme}),n.input.useDimColVal&&"libraryItem"===c.type&&(m.auxiliary=c),ye()(m,s(t,n,c,f,{byRow:rr,byElemNo:nr})),m},ur=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function sr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cr(){}var fr="\\s*([+-]?\\d+)\\s*",dr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mr=/^#([0-9a-f]{3})$/,hr=/^#([0-9a-f]{6})$/,gr=new RegExp("^rgb\\("+[fr,fr,fr]+"\\)$"),yr=new RegExp("^rgb\\("+[pr,pr,pr]+"\\)$"),vr=new RegExp("^rgba\\("+[fr,fr,fr,dr]+"\\)$"),br=new RegExp("^rgba\\("+[pr,pr,pr,dr]+"\\)$"),xr=new RegExp("^hsl\\("+[dr,pr,pr]+"\\)$"),Mr=new RegExp("^hsla\\("+[dr,pr,pr,dr]+"\\)$"),Or={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wr(e){var t;return e=(e+"").trim().toLowerCase(),(t=mr.exec(e))?new Er((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=hr.exec(e))?Sr(parseInt(t[1],16)):(t=gr.exec(e))?new Er(t[1],t[2],t[3],1):(t=yr.exec(e))?new Er(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=vr.exec(e))?kr(t[1],t[2],t[3],t[4]):(t=br.exec(e))?kr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=xr.exec(e))?qr(t[1],t[2]/100,t[3]/100,1):(t=Mr.exec(e))?qr(t[1],t[2]/100,t[3]/100,t[4]):Or.hasOwnProperty(e)?Sr(Or[e]):"transparent"===e?new Er(NaN,NaN,NaN,0):null}function Sr(e){return new Er(e>>16&255,e>>8&255,255&e,1)}function kr(e,t,n,r){return r<=0&&(e=t=n=NaN),new Er(e,t,n,r)}function Cr(e,t,n,r){return 1===arguments.length?((o=e)instanceof cr||(o=wr(o)),o?new Er((o=o.rgb()).r,o.g,o.b,o.opacity):new Er):new Er(e,t,n,null==r?1:r);var o}function Er(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ar(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function qr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dr(e,t,n,r)}function Dr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Tr(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Nr(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}ur(cr,wr,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),ur(Er,Cr,sr(cr,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Ar(this.r)+Ar(this.g)+Ar(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),ur(Dr,(function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Dr)return new Dr(e.h,e.s,e.l,e.opacity);if(e instanceof cr||(e=wr(e)),!e)return new Dr;if(e instanceof Dr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new Dr(a,l,u,e.opacity)}(e):new Dr(e,t,n,null==r?1:r)}),sr(cr,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Dr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Dr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Er(Tr(e>=240?e-240:e+120,o,r),Tr(e,o,r),Tr(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Lr=function(e){return function(){return e}};function Ir(e,t){return function(n){return e+n*t}}function jr(e){return 1==(e=+e)?Pr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Lr(isNaN(t)?n:t)}}function Pr(e,t){var n=t-e;return n?Ir(e,n):Lr(isNaN(e)?t:e)}var Rr=function e(t){var n=jr(t);function r(e,t){var r=n((e=Cr(e)).r,(t=Cr(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Pr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function _r(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),l=new Array(o);for(n=0;n<o;++n)r=Cr(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}_r((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return Nr((n-r/t)*t,a,o,i,l)}})),_r((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return Nr((n-r/t)*t,o,i,a,l)}}));function zr(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ur=/^class(-pyramid)?/,Hr=function(e,t,n,r){var o=void 0!==n.min?n.min:r.min(),i=void 0!==n.max?n.max:r.max(),a=o,l=i,u=t.limits,s={},c="percent"===t.limitType?u.map((function(e){return o+(i-o)*e})):u,f=t.colors.map((function(t){return e.resolveUIColor(t)}));if(o=Math.min.apply(Math,[o].concat(zr(c))),i=Math.max.apply(Math,[i].concat(zr(c))),s.min=o,s.max=i,t.breakTypes&&-1===t.breakTypes.indexOf(!0))s.type="categorical",Object.assign(s,function(e){var t=e.min,n=e.max,r=e.limits,o=e.range,i=[],a=[];if(r.length)if(r[r.length-1]<t)a.push(t,n),i.push(o[o.length-1],o[o.length-1],o[o.length-1]);else if(r[0]>n)a.push(t,n),i.push(o[0],o[0],o[0]);else{if(r[0]>t)a.push(t),i.push(o[0]);else{a.push(t);for(var l=0;l<r.length;l++)if(t<r[l]){i.push(o[l]);break}}for(var u=0;u<r.length;u++)t<r[u]&&r[u]<n&&(a.push(r[u]),i.push(o[u]));if(r[r.length-1]<n)a.push(n),i.push(o[r.length]),i.push(o[r.length]);else{a.push(n);for(var s=0;s<r.length;s++)if(r[s]>n){i.push(o[s]),i.push(o[s]);break}}}else i.push(o[0]);return{min:t,max:n,range:i,domain:a}}({min:"percent"===t.limitType?o:a,max:"percent"===t.limitType?i:l,range:f,limits:"percent"===t.limitType?c:u}));else if(t.breakTypes){var d=t.breakTypes;s.type="continuous",s.domain=[o],s.range=[f[0]];for(var p=0;p<c.length;p+=1)if(d[p]){var m=f[p],h=f[p+1],g=Rr(m,h)(.5);s.range.push(g),s.domain.push(c[p]),p<c.length-1&&d[p+1]&&(s.range.push(f[p+1]),s.domain.push((c[p]+c[p+1])/2))}else s.range.push(f[p]),s.range.push(f[p+1]),s.domain.push(c[p]),s.domain.push(c[p]+Math.min(1e-6,(i-o)/1e6));s.range.push(f[f.length-1]),s.domain.push(i)}else s.domain=c,s.range=f;return s};var Br=function(e,t,n,r){var o,i,a=t.theme,l=t.hc,u=r.f,s={mode:"field",fieldType:"measure",field:u?u.key():void 0,reverse:n.input.reverseScheme||!1,type:"continuous",range:function(e){return e.resources.theme.palette("quant")}},c=[],f=!0;if(u){if(Number.isNaN(+u.min())||Number.isNaN(+u.max()))return{invalid:!0};(f=!("S"===(o=n.pic.raw()).qMode&&o.qDataPages[0]&&o.qSize.qcy>o.qDataPages[0].qArea.qHeight||"K"===o.qMode&&o.qStackedDataPages[0]&&o.qSize.qcy>o.qStackedDataPages[0].qArea.qHeight))&&(c=n.pic.extract({field:0,props:{num:{field:u.key()},exclude:{fields:l.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function(e){return Math.min.apply(Math,zr(e))<0}}}}).filter((function(e){return e.value>=0&&!e.exclude.value})).map((function(e){return e.num.value})).filter((function(e){return"number"==typeof e})))}if(!1===n.input.autoMinMax){if(s.min=n.input.measureMin,s.max=n.input.measureMax,s.max<s.min)return{invalid:!0}}else if(u&&!f)s.min=u.min(),s.max=u.max();else if(u){if(!c.length)return{invalid:!0};s.min=Math.min.apply(Math,zr(c)),s.max=Math.max.apply(Math,zr(c))}if(n.input.measureScheme&&(s.palettes={quant:n.input.measureScheme}),a){var d=a.getDataColorScales().filter((function(e){return e.key===n.input.measureScheme}))[0];s.type=d&&Ur.test(d.type)?"categorical":"continuous","categorical"===s.type&&(i=d.colors.some((function(e){return Array.isArray(e)}))?Math.max.apply(Math,zr(d.colors.map((function(e){return e?e.length:0})))):d.colors.length)}if("categorical"===s.type){for(var p=f?function e(t,n,r,o,i){var a,l,u,s=0,c=[],f=(t-n)/(o+1);if(0===f)return 1;for(a=0;a<r.length;a+=1)l=.99*(r[a]-n),u=r[a]>t?Math.floor(t/f):r[a]<n?0:Math.floor(l/f),Number.isNaN(u)||(c[u]?c[u]+=1:c[u]=1);for(a=0;a<c.length;a+=1)c[a]&&(s+=1);return s<=o||s>=i?Math.max(s,o):e(t,n,r,o+1,i)}(s.max,s.min,c,1,i):i,m=(s.max-s.min)/p,h=[],g=0;g<p+1;g+=1)h.push(s.min+m*g);s.domain=h,s.range=function(e){for(var t=e.resources.theme.palette("quant",p),n=Math.max(1,Math.floor(t.length/p)),r=[],o=0;o<p;o+=1)r.push(t[o*n]);return[r[0]].concat(r,[r[r.length-1]])}}return s};function Vr(e,t){var n;return t.activeMeasureIndex>=0?n=e.pic.fields().filter((function(e){return"measure"===e.type()}))[t.activeMeasureIndex]:"libraryItem"===t.type?n=e.pic.field((function(e){return e.raw().colorMapRef===t.key&&void 0!==t.key})):"expression"===t.type&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))),n||(n=e.pic.field((function(e){return void 0!==e.raw().matchMeasure})))&&(n=e.pic.fields().filter((function(e){return"measure"===e.type()}))[n.raw().matchMeasure]),n}var Wr=function(e,t,n){var r=t.theme,o=t.hc,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.getCField,l=void 0===a?Vr:a,u=n.input.byMeasureDef||{activeMeasureIndex:0},s=l(n,u),c=Br(0,{theme:r,hc:o},n,{f:s});if(c.invalid)return c;("expression"===u.type||u.activeMeasureIndex<0)&&(c.label=u.label,s&&"color.altLabel"===s.raw().labelExpRef&&(c.label=n.input.altLabel)),!c.label&&s&&(c.label=s.title());var f=u.activeMeasureIndex>=0?s:null;if(!f&&s&&void 0!==s.raw().matchMeasure&&s.raw().matchMeasure>-1&&(f=n.pic.fields().filter((function(e){return"measure"===e.type()}))[s.raw().matchMeasure]),n.input.useMeasureGradient&&"libraryItem"===u.type)if(f){var d=f.raw().coloring;d&&d.gradient&&ye()(c,Hr(e,d.gradient,c,f))}else c.auxiliary=u;return c},Gr=function(e,t,n,r){var o=t.hc,i=t.theme,a=t.translator,l=n.pic.field((function(e){return"colorByExpression"===e.raw().id}));if(!(l&&l.raw().qFallbackTitle&&Number.isFinite(l.raw().qMin)&&Number.isFinite(l.raw().qMax))&&!n.input.expressionIsColor)return{mode:"constant",type:"constant",primary:r.nil};if(n.input.expressionIsColor)return{mode:"field",fieldType:"expression",field:l?l.key():void 0,type:"color"};var u=Br(0,{hc:o,theme:i},n,{f:l});return u.invalid||(u.label=n.input.expressionLabel||a.get("Object.ChartTooltip.ColorExpression")),u},Kr=function(e,t,n,r){var o=t.hc,i=t.theme,a=t.translator,l=n.input.useBaseColors;if(("byMultiple"===n.input.mode||"primary"===n.input.mode&&"measure"===n.input.useBaseColors)&&o.qMeasureInfo.length>1&&(l="measure"),"measure"===l){var u=[],s=[];"measure"===n.input.useBaseColors&&o.qMeasureInfo.forEach((function(t,n){if(t.baseColor||t.coloring&&t.coloring.baseColor){u.push(n);var o=e.resolveUIColor(t.baseColor||t.coloring.baseColor);"none"===o?s.push(r.primary):s.push(o)}}));var c=n.input.dimensionScheme?{categorical:n.input.dimensionScheme}:void 0,f=i?i.getDataColorPalettes()[0]:void 0;return"measure"===n.input.useBaseColors&&f&&(c={categorical:f.key}),{mode:"measure",type:"categorical",palettes:c,label:a?a.get("Common.Measures"):void 0,explicit:u.length?{domain:u,range:s}:void 0}}if("dimension"===l){var d=[],p=[];return o.qDimensionInfo.forEach((function(t,n){if(t.baseColor||t.coloring&&t.coloring.baseColor){d.push(n);var o=e.resolveUIColor(t.baseColor||t.coloring.baseColor);"none"===o?p.push(r.primary):p.push(o)}})),{mode:"dimension",type:"categorical",field:d.length?d[0]:void 0,explicit:d.length?{domain:d,range:p}:void 0}}var m=r.primary;if(void 0!==n.input.paletteColor)n.input.paletteColor&&(m=e.resolveUIColor(n.input.paletteColor));else{var h=n.input.singleColor;"number"!=typeof h||Number.isNaN(h)||(m=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"][h])}return{mode:"constant",type:"constant",primary:m}};function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zr=function(e,t,n,r){var o=r.external,i=r.field,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){Xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);ye()(a,nr(i,i.raw().qCardinal));var l=o.theme?o.theme.getDataColorPalettes()[0]:null;return t.nul&&(a.nil=n.resolveUIColor(t.nul)),t.oth&&(a.others=n.resolveUIColor(t.oth)),t.usePal?(a.palettes={categorical:t.pal},l&&!t.pal&&(a.palettes.categorical=l.key,ye()(a,nr(i)))):!1===t.autoFill&&t.single?a.range=[n.resolveUIColor(t.single)]:t.autoFill&&(l&&(a.palettes={categorical:l.key}),ye()(a,nr(i))),t.colors&&t.colors.length&&(a.explicit=function(e,t,n){for(var r={},o=0;o<e.length;o+=1)r[e[o].value]=e[o].baseColor;var i=[];return{domain:function(e){var o=e.data,a=[];i=[];for(var l=0;l<o.items.length;l++){var u=o.items[l],s=(u.text||u).label;r[s]&&-1===a.indexOf(u.value)&&(a.push(u.value),i.push(t.resolveUIColor(r[s])))}return a.push(-3,-2),i.push(n.others),i.push(n.nil),a},range:function(){return i}}}(t.colors,n,a)),a};function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo=function(e){var t=Yr({hc:null,colorProps:null,layout:null,theme:null},e),n={},r={auto:function(){return{mode:"primary"}},getDimensionColorMap:function(){return Promise.reject()},getMeasure:function(){return Promise.reject()},getAttributeDimension:function(){return Promise.reject()}},o={auto:function(e){return e?(r.auto=e,o):r.auto},getDimensionColorMap:function(e){return e?(r.getDimensionColorMap=e,o):r.getDimensionColorMap},getAttributeDimension:function(e){return e?(r.getAttributeDimension=e,o):r.getAttributeDimension},getMeasure:function(e){return e?(r.getMeasure=e,o):r.getMeasure},set:function(e){if(!e.colorProps)throw new Error('Missing "colorProps"');if(ye()(t,e),(n={pic:t.picasso.data("q")({data:t.hc,config:{localeInfo:t.localeInfo}}),input:t.colorProps}).input.auto){var o=r.auto(e.layout);n.input=ye()(!0,{},n.input,o,{auto:!1});var i=t.theme?t.theme.getDataColorPalettes():[];i[0]&&(n.input.dimensionScheme=i[0].key);var a=0;n.input.byDimDef&&+n.input.byDimDef.activeDimensionIndex>=0&&(a=+n.input.byDimDef.activeDimensionIndex),t.hc&&t.hc.qDimensionInfo[a]&&t.hc.qDimensionInfo[a].coloring&&t.hc.qDimensionInfo[a].coloring.colorMapRef&&n.input.byDimDef&&(n.input.byDimDef.type="libraryItem",n.input.byDimDef.key=t.hc.qDimensionInfo[a].coloring.colorMapRef)}},palettes:function(){if(!n.palettes){var e=t.theme,r=[];(e&&e.getDataColorPickerPalettes()||[]).forEach((function(e){r.push({key:"ui",colors:e.colors})})),n.palettes=r}return n.palettes},getAuxiliaryData:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/qHyperCubeDef";if(!e.auxiliary&&!/qAttrDimInfo/.test(e.field))return Promise.resolve();var o=e.auxiliary||{},i=o.key;if("measure"===e.fieldType)return r.getMeasure(i,t).catch((function(){}));if("dimension"===e.fieldType){var a="".concat(n,"/").concat(e.field).replace("qDimensionInfo","qDimensions").replace("qAttrDimInfo","qAttributeDimensions");return Promise.all([/qAttrDimInfo/.test(e.field)?r.getAttributeDimension(a,t).catch((function(){})):Promise.resolve(),i?r.getDimensionColorMap(i,t).catch((function(){})):Promise.resolve()])}return Promise.resolve()},getAuxiliarySettings:function(e,r){var o=this;return e.auxiliary||/qAttrDimInfo/.test(e.field)?(this.palettes(),this.getAuxiliaryData(e,r).then((function(r){if(!r)return{};if("measure"===e.fieldType){if(r.coloring&&r.coloring.gradient){var i=n.pic.field(e.field);return Hr(o,r.coloring.gradient,e,i)}return{}}if("dimension"===e.fieldType){var a={nil:e.nil,others:e.others},l=r[0],u=r[1]?r[1].colorMap:null;if(l){var s=t.picasso.data("q")({data:{qDimensionInfo:[n.pic.field(e.field).raw(),n.pic.field(e.field).raw()],qMeasureInfo:[],qDataPages:l,qInterColumnSortOrder:[0,1],qMode:"S"}});a.legendDataset=s}return u?Zr(a,u,o,{external:t,field:n.pic.field(e.field)}):a}return{}}))):Promise.resolve()},resolveUIColor:function(e){if(e.index<0||void 0===e.index)return e.color;if(void 0===n.uiPalette&&(n.uiPalette=this.palettes().filter((function(e){return"ui"===e.key}))[0]||!1),!n.uiPalette)return e.color;var t="none"===n.uiPalette.colors[0]?e.index:e.index-1;return void 0===n.uiPalette.colors[t]?e.color:n.uiPalette.colors[t]},settings:function(){var e=this;if(this.palettes(),!n.settings){var r={primary:"steelblue",others:"#aaa",nil:"#ddd"},o=t.theme;o&&(r=Yr(Yr({},r),o.getDataColorSpecials())),n.settings=ye()(r,function(){if(n.input&&!n.input.auto){if("byMeasure"===n.input.mode)return Wr(e,t,n);if("byDimension"===n.input.mode)return lr(e,t,n);if("byExpression"===n.input.mode)return Gr(e,t,n,r);if("byMultiple"===n.input.mode||"primary"===n.input.mode)return Kr(e,t,n,r)}return{}}())}return n.settings}};return o},to=function(e,t){var n=e.fieldType,r={};if(t)if("measure"===n){var o=t.coloring;o&&(r.measureGradient=o.gradient)}else if("dimension"===n){var i=t[0],a=t[1];i&&(r.legendDataPage=i),a&&(r.dimValsData=a.colorMap)}return r},no=function(e,t){var n=t.layout,r=t.app;return n&&n.snapshotData?n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.dimValsData?Promise.resolve({colorMap:n.snapshotData.content.chartData.dimValsData}):Promise.reject():r&&r.getObject?r.getObject("ColorMapModel_".concat(e)).then((function(e){return e.getLayout()})):Promise.reject()},ro=function(e,t){var n=t.layout,r=t.app;return n&&n.snapshotData?n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.measureGradient?Promise.resolve({coloring:{gradient:n.snapshotData.content.chartData.measureGradient}}):Promise.reject():r&&r.getMeasure?r.getMeasure(e).then((function(e){return e.getMeasure()})):Promise.reject()},oo=function(e,t){var n=t.layout,r=t.model,o=t.app;if(n&&n.snapshotData)return n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.legendDataPage?Promise.resolve(n.snapshotData.content.chartData.legendDataPage):Promise.reject();if(r&&r.session&&o)return r.getHyperCubeData(e,[{qHeight:100,qLeft:0,qTop:0,qWidth:2}]);return Promise.reject()},io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auto,n=e.resources,r=eo(n).auto(t||function(){return{mode:"byDimension",persistent:!1,useDimColVal:!0,byDimDef:{activeDimensionIndex:0,type:"expression",label:""}}}).getDimensionColorMap((function(e,t){var n=t.layout,r=t.app;return no(e,{layout:n,app:r})})).getMeasure((function(e,t){var n=t.layout,r=t.app;return ro(e,{layout:n,app:r})})).getAttributeDimension((function(e,t){var n=t.layout,r=t.model,o=t.app;return oo(e,{layout:n,model:r,app:o})}));return r.getSnapshotData=to,r};function ao(e){return function(e){if(Array.isArray(e))return lo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fo(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mo(e){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(e){return function(t){return"object"===mo(t.datum[e])?t.datum[e].value:void 0}}function go(e){return-2===e.datum.value}function yo(e){return-3===e.datum.value}var vo=function(e){var t,n=e.coloring,r=e.scales,o=e.key,i=n.nil,a=n.others,l=n.primary,u=o,s=ho(o),c=ho("".concat(o,"IsAnOther"));return n.invalid?t=function(e){return yo(e)||c(e)?a:i}:r[u]?t=function(e){return yo(e)?a:go(e)||-2===s(e)&&"dimension"===n.fieldType||"NaN"===s(e)?i:c(e)?a:e.resources.scale(u)(s(e))||a}:"constant"===n.mode?t=function(e){return yo(e)||c(e)?a:go(e)?i:l}:"color"===n.type&&(t=function(e){return yo(e)||c(e)?a:go(e)?i:s(e)||a}),t},bo=function(e,t,n){var r=e&&e.dock||void 0;if("auto"!==r)return r||"right";if(t){var o=t.element.getBoundingClientRect();if(o.height>o.width)return"bottom"}return n?"left":"right"},xo=function(e,t,n){return!(n.invalid||"color"===n.type||"measure"===n.mode&&t.qMeasureInfo.length<=1||"dimension"===n.mode)&&!1!==e.show};function Mo(e,t){var n=e.styleReference,r=e.chart,o=e.rtl,i=t.legendProps,a=t.coloring,l=t.theme,u=t.hc;return{layout:{minimumLayoutMode:"MEDIUM",dock:bo(i,r,o)},show:xo(i,u,a),renderer:"svg",mounted:function(e){e.childNodes[0].style.pointerEvents="none",e.style.overflow="hidden"},settings:{title:{show:!1!==i.showTitle,wordBreak:"break-word",maxLines:2,lineHeight:1.2,text:a.label||"",fill:l?l.getStyle(n,"legend.title","color"):void 0,fontSize:l?l.getStyle(n,"legend.title","fontSize"):"16px",fontFamily:l?l.getStyle(n,"legend.title","fontFamily"):"QlikView Sans, sans-serif"}}}}function Oo(e,t,n){return"categorical"===t.coloring.type?function(e,t,n){var r=Mo(e,t);if(!r.show)return!1;var o=e.key,i=e.styleReference,a=e.viewState,l=e.rtl,u=e.settings,s=e.style,c=t.scaleKey,f=t.theme,d=t.scales,p={up:"M13.6,11 L2.4,11 C2.28954305,11 2.2,10.9104569 2.2,10.8 C2.2,10.756726 2.21403557,10.7146192 2.24,10.68 L7.84,3.21333333 C7.90627417,3.12496777 8.03163444,3.10705916 8.12,3.17333333 C8.13516113,3.18470418 8.14862915,3.1981722 8.16,3.21333333 L13.76,10.68 C13.8262742,10.7683656 13.8083656,10.8937258 13.72,10.96 C13.6853808,10.9859644 13.643274,11 13.6,11 Z",down:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z",left:"M11,2.4 L11,13.6 C11,13.7104569 10.9104569,13.8 10.8,13.8 C10.756726,13.8 10.7146192,13.7859644 10.68,13.76 L3.21333333,8.16 C3.12496777,8.09372583 3.10705916,7.96836556 3.17333333,7.88 C3.18470418,7.86483887 3.1981722,7.85137085 3.21333333,7.84 L10.68,2.24 C10.7683656,2.17372583 10.8937258,2.19163444 10.96,2.28 C10.9859644,2.31461923 11,2.35672596 11,2.4 Z",right:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"},m="".concat(c,"Legend");return ye()(!0,r,{type:"legend-cat",key:"".concat(o,"-cat"),scale:m in d?m:c,settings:{layout:{scrollOffset:function(){return a?a.get("legendScrollOffset"):void 0},size:-1!==["top","bottom"].indexOf(r.layout.dock)?2:1,direction:l?"rtl":"ltr",horizontal:20},item:{show:function(e){return-2!==e.datum.value},label:{fill:f?f.getStyle(i,"legend.label","color"):void 0,fontSize:f?f.getStyle(i,"legend.label","fontSize"):void 0,fontFamily:f?f.getStyle(i,"legend.label","fontFamily"):"QlikView Sans, sans-serif"}},navigation:{disabled:n,button:{content:function(e,t){var n=t.direction;return e("i",{style:{"pointer-events":"none",fontSize:"12px",display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizelegibility",margin:"0px"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},[e("path",{d:p[n]})])])}}}},brush:{consume:[{context:"selection",data:["",o],style:{inactive:{opacity:.3}}}]}},{settings:u,style:s})}(e,t,n):"continuous"===t.coloring.type&&function(e,t){var n=e.key,r=e.styleReference,o=e.rtl,i=e.settings,a=e.style,l=t.scaleKey,u=t.theme,s=Mo(e,t);return!!s.show&&ye()(!0,s,{type:"legend-seq",key:"".concat(n,"-seq"),settings:{fill:l,major:"".concat(l,"Range"),length:1,tick:{fill:u?u.getStyle(r,"legend.label","color"):void 0,fontSize:u?u.getStyle(r,"legend.label","fontSize"):void 0,fontFamily:u?u.getStyle(r,"legend.label","fontFamily"):"QlikView Sans, sans-serif"},title:{anchor:!o||"top"!==s.layout.dock&&"bottom"!==s.layout.dock?void 0:"right",padding:parseFloat(s.settings.title.fontSize)||16}}},{settings:i,style:a})}(e,t)}function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var So=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventName,r=t.key,o=t.requireFailure,i=t.recognizeWith,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.actions;return{key:"event:pan-".concat(r),type:"Pan",requireFailure:o,recognizeWith:i,options:{event:n,pointers:1,threshold:10,enable:function(e,t){return this.started===n||!t||!(l&&l.interact&&!l.interact.enabled())&&this.chart.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key==="".concat(r,"-cat")}))}},events:(e={},wo(e,"".concat(n,"start"),(function(e){e.preventDefault(),this.started!==n&&(this.started=n,this.chart.component("".concat(r,"-cat")).emit("panstart",e))})),wo(e,"".concat(n,"move"),(function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panmove",e)})),wo(e,"".concat(n,"end"),(function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panend",e),this.started=!1})),e)}},ko=function(e){var t=e.key,n=e.requireFailure,r=e.recognizeWith,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.actions;return{key:"event:tap-".concat(t),type:"Tap",requireFailure:n,recognizeWith:r,options:{event:"legendtap",interval:10,pointers:1,enable:function(e,n){if(!n)return!0;if(i&&i.interact&&!i.interact.enabled())return!1;if(!this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some((function(e){return e.key==="".concat(t,"-cat")})))return!1;var r=n.srcEvent.target;return!!(r&&r.hasAttribute("data-action")&&r.hasAttribute("data-component-key"))||!(!r||!r.childNodes[0]||"BUTTON"!==r.childNodes[0].nodeName)}},events:{legendtap:function(e){e.preventDefault();var t=e.srcEvent.target;t&&t.hasAttribute("data-action")&&t.hasAttribute("data-component-key")&&this.chart.component(t.getAttribute("data-component-key")).emit(t.getAttribute("data-action"))}}}},Co=function(e,t,n){var r=[],o=[],i=Oo(e,t,n&&n.navigationDisabled);return r.push(i),i&&"legend-cat"===i.type&&(o.push(ko(e,n)),o.push(So(e,n))),{interactions:o,components:r}};function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ao=function(e){return"rgba(".concat([(16711680&e)>>16,(65280&e)>>8,255&e,((4278190080&e)>>>24)/255].join(","),")")},qo=function(e){var t,n,r=e.hc,o=e.coloring,i=e.scales,a=e.key,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=a,s=o.nil;i[a]&&"field"===o.mode?t=i[a].data.field||o.field:"field"===o.mode&&o.field&&(t=o.field),t?(n={field:t,reduce:"first"},"color"===o.type&&(n.value=function(e){return"NaN"!==e.qNum?Ao(e.qNum):e.qText&&hn(e.qText)?e.qText:s})):"dimension"===o.mode?n=void 0!==o.field?o.field:r.qDimensionInfo.length-1:"measure"===o.mode&&(n=l);var c=Eo({},u,n);return r.qDimensionInfo.length>1&&(c["".concat(u,"IsAnOther")]={fields:r.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function(e){return-1!==e.indexOf(-3)}}),c};function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){No(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lo(e){var t=io({resources:e}),n={},r={},o=function(e){return r.settings||(e||console.warn("settings() called before auxiliarySettings()"),r.settings=t.settings()),r.settings},i={config:function(o){if(n=To({},o),r={},!n.key)throw new Error("Missing key");t.set(To(To({},e),n))},auto:function(e){return e?(t.auto(e),i):t.auto()},getAuxiliarySettings:function(e){return r.auxiliarySettings?Promise.resolve(r.auxiliarySettings):t.getAuxiliarySettings(o(!0),e).then((function(e){return r.auxiliarySettings=e||{},r.settings=To(To({},r.settings),r.auxiliarySettings),r.auxiliarySettings}))},getAuxiliaryData:function(){return t.getAuxiliaryData(o())},getSnapshotData:function(){var e=o();return t.getAuxiliaryData(e).then((function(n){return t.getSnapshotData(e,n)}))},resolveUIColor:function(e){return t.resolveUIColor(e)},settings:function(){var e=o();return{mode:e.mode,type:e.type,label:e.label,field:e.field,fieldType:e.fieldType,nil:e.nil,others:e.others,primary:e.primary}},palettes:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colorProps,n=e.coloring,r=e.theme,o=[];if(n&&n.palettes&&r){var i=n.palettes.categorical||t.dimensionScheme,a=r.getDataColorPalettes().filter((function(e){return e.key===i}))[0]||r.getDataColorPalettes()[0];i&&a&&o.push({key:"categorical",colors:a.colors});var l=n.palettes.metric||t.measureScheme,u=r.getDataColorScales().filter((function(e){return e.key===l}))[0];if(u){var s=u.colors[0]?u.colors:[[]].concat(ao(u.colors.slice(1)));s=Array.isArray(s[0])?s.map((function(e){return e.slice().reverse()})):s.slice().reverse(),o.push({key:"quant",colors:s})}}return o}({coloring:o(),colorProps:n.colorProps,theme:n.theme})},scales:function(){return r.scales=r.scales||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hc,n=e.coloring,r=e.rtl,o=e.key,i=e.source,a=e.picasso,l={},u=o;if(n){var s={override:!0,domain:n.explicit&&"function"==typeof n.explicit.domain?n.explicit.domain:[].concat(fo((n.explicit||{}).domain||[]),[-3,-2]),range:n.explicit&&"function"==typeof n.explicit.range?n.explicit.range:[].concat(fo((n.explicit||{}).range||[]),[n.others,n.nil])};if("field"===n.mode){if("dimension"===n.fieldType){var c,f=function(e){var t=e.hc,n=e.source,r=e.coloring,o={data:{extract:[{source:"dummy",field:0,filter:function(){return o.expando=t.qDataPages[0]?t.qDataPages[0].qArea.qTop:0,!1}},{source:n,field:r.field,trackBy:r.valueAccessor,reduce:"first",props:{row:{reduce:function(){return o.expando++}},text:{value:function(e){return e.qText},reduce:"first"}}}]},expando:0};return o}({hc:t,source:i,coloring:n}).data;if(n.legendDataset){var d=0,p={};a.data("q")({data:t}).extract({field:n.field,trackBy:n.valueAccessor,reduce:function(e){var t=e[0];return p[t]=d++,e[0]}}),c={source:"attrDim",extract:{field:"qDimensionInfo/0",filter:function(e){return e.qElemNumber>=0},props:{row:{value:function(e){return p[e.qElemNumber]}}}}}}var m={data:f,range:n.range,domain:n.domain,explicit:s,type:"categorical-color",label:function(e){return e.datum.text&&e.datum.text.value?e.datum.text.value:e.datum.label}};l[u]=m,c&&(l["".concat(u,"Legend")]=so(so({},m),{},{data:c})),t&&t.qHasOtherValues&&c&&((c||m.data).amend=[{label:t.qDimensionInfo[0].othersLabel,source:{key:"qHyperCube",field:"qDimensionInfo/0"},row:{value:-3},value:-3}])}else if("measure"===n.fieldType){var h={data:{field:n.field},min:n.min,max:n.max};l[u]=ye()({},h,{type:"categorical"===n.type?"threshold-color":"sequential-color",range:n.range,domain:n.domain,invert:n.reverse}),"sequential-color"===l[u].type&&(l["".concat(u,"Range")]=ye()({},h,{invert:!!r}))}else if("color"!==n.type)throw new Error("UNUSED FIELD")}else if("dimension"===n.mode){var g={data:t.qDimensionInfo.map((function(e,t){return t})),label:function(e){return t.qDimensionInfo[e.datum.value].qFallbackTitle},explicit:s,type:"categorical-color"};l[u]=g}else if("measure"===n.mode){var y={data:t.qMeasureInfo.map((function(e,t){return t})),label:function(e){return t.qMeasureInfo[e.datum.value].qFallbackTitle},explicit:s,type:"categorical-color"};l[u]=y}}return l}({hc:n.hc,coloring:o(),key:n.key,source:n.source,picasso:e.picasso}),r.scales},color:function(){return r.color=r.color||vo({coloring:o(),scales:this.scales(),key:n.key}),r.color},datumProps:function(e){return qo({coloring:o(),scales:this.scales(),key:n.key,hc:n.hc},e)},data:function(){var e=o(),t={key:"dummy",data:[["field"],["a"]]};return e.legendDataset?[t,{type:"q",key:"attrDim",data:e.legendDataset.raw(),config:{localeInfo:n.localeInfo}}]:[t]},legend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eventName,r=e.key,i=e.viewState,a=e.chart,l=e.rtl,u=e.styleReference,s=void 0===u?"object.legend":u,c=e.settings,f=void 0===c?{}:c,d=e.style,p=void 0===d?{}:d,m=arguments.length>1?arguments[1]:void 0;return Co({eventName:t,key:r,rtl:l,viewState:i,chart:a,styleReference:s,settings:f,style:p},{legendProps:n.legendProps,scaleKey:n.key,coloring:o(),theme:n.theme,hc:n.hc,scales:this.scales()},m)}};return i}function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Po(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n={},r={},o=!1,i={get:function(e){return t[e]},set:function(e,i){var a=t[e];!o&&n[e]?t[e]=n[e](i,a):t[e]=i,!o&&r[e]&&r[e](t[e],a)},preventSet:function(e,t){o=!0,i.set(e,t),o=!1},intercept:function(e,t){n[e]=t},onChanged:function(e,t){r[e]=t}};return i}var Ro={ENTER:"Enter",ESCAPE:"Escape",IE11_ESC:"Esc",SHIFT:"Shift"},_o=n(8),zo=n.n(_o),Fo=function(e){return Object.keys(zo.a.prototype).forEach((function(t){e[t]=zo.a.prototype[t]})),zo.a.init(e),e};function Uo(e){var t=e.chart,n=e.selections,r=e.toggleLassoAction,o=e.keyConstants;if(!n)return function(){};var i=function(e){n&&n.isActive()&&(e.key===o.ENTER?n.confirm():e.key!==o.ESCAPE&&e.key!==o.IE11_ESC||n.cancel())},a=!1,l=function(e){e.key===o.SHIFT&&e.shiftKey!==a&&(a=e.shiftKey,r())};document.addEventListener("keydown",l),document.addEventListener("keyup",l),document.addEventListener("keyup",i);t.brush("selection").on("start",(function(){n.begin("/qHyperCubeDef")}));var u=function(e){return t.brush("selection").brushes().forEach((function(n){("range"===n.type||e[0]&&e[0].key!==n.id)&&t.brush("selection").clear([])})),e.filter((function(e){return-2!==e.value}))},s=function(e){return t.brush("selection").brushes().filter((function(e){return"value"===e.type})).length&&t.brush("selection").clear([]),e};t.brush("selection").intercept("set-ranges",s),t.brush("selection").intercept("toggle-ranges",s),t.brush("selection").intercept("toggle-values",u),t.brush("selection").intercept("set-values",u),t.brush("selection").intercept("add-values",u),t.brush("selection").addKeyAlias("attrDim/qDimensionInfo/0","qHyperCube/qDimensionInfo/0/qAttrDimInfo/0");var c=function(){t.brush("selection").end(),r(!1)},f=function(){t.brush("selection").clear()},d=function(){t.brush("selection").end(),r(!1)};return n.on("deactivated",c),n.on("cleared",f),n.on("canceled",d),function(){n.removeListener("deactivated",c),n.removeListener("cleared",f),n.removeListener("canceled",d),document.removeEventListener("keydown",l),document.removeEventListener("keyup",l),document.removeEventListener("keyup",i)}}function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vo(e){var t=e.picasso,n=Object(tr.useOptions)(),r=Object(tr.useModel)(),o=Object(tr.useApp)(),i=Object(tr.useTranslator)(),a=Object(tr.useElement)(),l=Object(tr.useSelections)(),u=!!Object(tr.useLayout)().qSelectionInfo.qInSelections,s=Ho(Object(tr.useState)(),2),c=s[0],f=s[1],d=Ho(Object(tr.useState)(!1),2),p=d[0],m=d[1],h=Object(tr.useMemo)((function(){return function(e){return m((function(t){return void 0!==e?e:!t}))}}),[]);return Object(tr.useAction)((function(){return c&&(c.interactions.lasso.active=function(){return p}),{active:p,hidden:!u,action:function(){h()},icon:{shapes:[{type:"path",attrs:{d:"M15.9488039,5.20769129 C16.0487326,6.70662306 15.3492311,8.30548361 14.050157,9.30477145 C12.651154,10.5039169 10.8524359,10.8037032 8.85386017,10.4039881 L7.3549284,10.0042729 L5.75606786,9.70448659 C5.75606786,9.90434416 5.65613907,10.0042729 5.4562815,10.2041305 C5.05656637,10.6038456 4.55692244,10.8037032 4.05727852,10.8037032 C3.75749217,10.8037032 3.45770582,10.7037744 3.15791946,10.6038456 C3.05799068,10.903632 3.15791946,11.2034184 3.45770582,11.7030623 C5.05656637,14.0014243 3.85742095,15.9000712 3.75749217,16 L2.2585604,15.3004985 C2.2585604,15.2005697 2.95806189,14.0014243 1.95877405,12.6024213 C1.6589877,12.0028486 1.15934378,11.0035608 1.55905891,10.0042729 C1.6589877,9.80441537 1.75891648,9.6045578 1.95877405,9.40470024 C1.6589877,8.90505631 1.55905891,8.30548361 1.85884527,7.7059109 C1.55905891,7.40612455 1.25927256,7.1063382 1.15934378,6.70662306 C0.859557424,5.90719279 0.959486209,4.5081898 1.6589877,3.30904439 C1.95877405,2.6095429 2.55834676,2.0099702 3.15791946,1.51032628 C3.95734974,0.91075357 4.95663758,0.610967217 6.15578299,0.311180864 C9.05371774,-0.388320626 11.9516525,0.111323295 13.9502282,1.61025506 C15.1493736,2.50961412 15.8488751,3.80868831 15.9488039,5.20769129 Z M13.0508691,8.10562604 C13.8502994,7.40612455 14.3499433,6.40683671 14.3499433,5.30762008 C14.2500145,4.20840345 13.550513,3.40897318 12.9509403,2.90932926 C12.1515101,2.40968533 11.252151,2.0099702 10.1529344,1.81011263 C8.95378895,1.61025506 7.75464354,1.71018384 6.45556935,1.91004141 C4.75678001,2.30975655 3.65756338,3.00925804 3.05799068,4.10847467 C2.55834676,5.00783373 2.65827554,5.90719279 2.75820433,6.20697914 C2.75820433,6.30690792 2.85813311,6.40683671 3.05799068,6.40683671 C3.15791946,6.40683671 3.25784825,6.40683671 3.35777703,6.40683671 C3.45770582,6.40683671 3.45770582,6.40683671 3.45770582,6.40683671 L3.5576346,6.40683671 L3.65756338,6.40683671 C4.65685123,6.40683671 5.4562815,6.90648063 5.85599664,7.80583969 L5.85599664,8.00569726 C6.35564056,8.10562604 7.05514205,8.30548361 7.75464354,8.50534118 L9.25357531,8.90505631 C10.0530056,9.0049851 10.7525071,9.0049851 11.4520086,8.80512753 C12.0515813,8.70519875 12.5512252,8.40541239 13.0508691,8.10562604 Z"}}]}}}),[c,p,u]),Object(tr.useEffect)((function(){var e=t({renderer:{prio:[n.renderer||"canvas"]}}),u=e.chart({element:a,data:[],settings:{}}),s=Lo({picasso:e,model:r,app:o,translator:i}),c=Po({legendScrollOffset:0,rotation:0});c.intercept("rotation",(function(e){return(c.get("rotation")+e)%(2*Math.PI)})),c.onChanged("rotation",(function(){u.update({partialData:!0})}));var d,p=(Fo(d={}),d.lasso={active:function(){return!1}},d);p.on("selections-start",(function(){u.brush("selection").start()}));var m=Uo({chart:u,selections:l,toggleLassoAction:h,keyConstants:Ro});return f({chart:u,colorModel:s,viewState:c,interactions:p}),function(){u.destroy(),m(),p.removeAllListeners(),c.intercept("rotation",void 0),c.onChanged("rotation",void 0)}}),[]),c}function Wo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=function(){return e.apply(r,i)};clearTimeout(t),t=setTimeout(l,n)}}function Go(e){var t=c.CUSTOM.EXPRESSION,n=e.qDef,r=n.qNumFormat,o=n.qLabel,i=n.qLabelExpression,a=n.cId;return e.qLibraryId?{qLibraryId:e.qLibraryId,id:t,qNumFormat:r,qLabel:o,qLabelExpression:i,cId:a}:{qExpression:e.qDef.qDef,id:t,qNumFormat:r,qLabel:o,qLabelExpression:i,cId:a}}function Ko(e){var t,n=null===(t=e.qHyperCubeDef)||void 0===t?void 0:t.qDimensions;return n[n.length-1].qAttributeExpressions||[]}var $o={attrExpr:{migrateProperties:function(e){var t,n,r,o,i=ye()(!0,{},e),a=(null===(t=i.tooltip)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.qHyperCubeDef)||void 0===r?void 0:r.qMeasures)||[],l=Ko(i);return function(e,t){var n,r=null===(n=t.qHyperCubeDef)||void 0===n?void 0:n.qDimensions;r[r.length-1].qAttributeExpressions=e}(l=function(e,t){return t.concat(e.map((function(e){return Go(e)})))}(a,l),i),null===(o=i.tooltip)||void 0===o||delete o.data,i},getPatches:function(e){var t,n,r,o,i=(null===(t=e.tooltip)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.qHyperCubeDef)||void 0===r?void 0:r.qMeasures)||[],a=(null===(o=e.qHyperCubeDef)||void 0===o?void 0:o.qDimensions.length)-1;return function(e,t,n){var r=e.length,o=[];return t.forEach((function(e){var t=Go(e),i=JSON.stringify(t);o.push({qPath:"/qHyperCubeDef/qDimensions/".concat(n,"/qAttributeExpressions/").concat(r),qOp:"add",qValue:i}),r++})),o.push({qPath:"/tooltip/data",qOp:"remove"}),o}(Ko(e),i,a)},checkForBackwardCompatibility:function(e,t){return(e.qMeasureInfo||[]).length>0&&t.length>0},updateProperties:function(e,t,n){var r=this;return new Promise((function(o){var i,a,l,u=(null===(i=t.qHyperCube)||void 0===i?void 0:i.qDimensionInfo)||[],s=(null===(a=t.tooltip)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.qHyperCube)||{},c=t.qMeta.privileges.includes("update");n&&n.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&e&&e.getEffectiveProperties&&r.checkForBackwardCompatibility(s,u)&&e.getEffectiveProperties().then((function(t){if(c){var n=r.migrateProperties(t);e.setProperties(n).then((function(){e.app.clearUndoBuffer(),o(!0)}))}else{var i=r.getPatches(t);e.applyPatches(i,!0).then((function(){e.app.clearUndoBuffer(),o(!0)}))}})),o(!1)}))}}};function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zo(e){return e.filter((function(e){return"object"===Xo(e.data)&&Array.isArray(e.data.fields)})).every((function(e){return e.data.fields.every((function(e){var t=e.raw();return!(!t.qLocked&&t.qCardinal)}))}))}function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qo=[["FULL",{width:550,height:450}],["MEDIUM",{width:400,height:220}],["SMALL",{width:300,height:150}],["XSMALL",{width:150,height:75}],["SPARK",{width:0,height:0}]],ei={};Qo.forEach((function(e){var t=Jo(e,2),n=t[0],r=t[1],o=r.width,i=r.height;ei[n]={width:o,height:i}}));var ti={getLayoutModes:function(){return ei},getLayoutMode:function(e,t){var n;for(n=0;n<Qo.length;++n)if(e>=Qo[n][1].width&&t>=Qo[n][1].height)return Qo[n][0];return"SPARK"}};function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ii(e,t){return{layoutModes:ti.getLayoutModes(),center:void 0!==t.minCenterRatio?{minWidthRatio:t.minCenterRatio,minHeightRatio:t.minCenterRatio}:void 0,logicalSize:t.logicalSize?ri({align:.5,preserveAspectRatio:!0},t.logicalSize):void 0}}function ai(e){var t=e.scaleKey,n=e.legend,r=e.onEdited,o=(n.layout||{}).dock;return{type:"brush-range",key:"legendRangeBrush",layout:{dock:"@legend-seq"},on:r?{bubbleEnd:function(){r()}}:{},settings:{brush:"selection",scale:"".concat(t,"Range"),direction:"left"===o||"right"===o?"vertical":"horizontal",bubbles:{align:"left"===o||"top"===o?"end":"start",placement:"outside"},target:{selector:'[id="legend-seq-target"]',fillSelector:'[id="legend-seq-ticks"]',fill:"rgba(82,204,82,0.2)"}}}}function li(e,t,n,r){var o,i,a,l=(null===(o=t.qHyperCube)||void 0===o||null===(i=o[n])||void 0===i||null===(a=i[r])||void 0===a?void 0:a.qAttrExprInfo)||[],u=[],s=e.qSubNodes&&e.qSubNodes[r]?e.qSubNodes[r].qAttrExps:e.qAttrExps;return s?(l.forEach((function(e,t){var o=s.qValues&&s.qValues[t]?s.qValues[t]:void 0,i=void 0===o?"NaN":function(e,t){var n;switch(e.id){case c.CUSTOM.EXPRESSION:n="NaN"===t.qNum?void 0===t.qText?"NaN":t.qText:t.qNum;break;case c.CUSTOM.TITLE:case c.CUSTOM.DESCRIPTION:case c.CUSTOM.IMAGES:n=void 0===t.qText?e.qFallbackTitle:t.qText;break;default:n="NaN"}return n}(e,o);u.push({source:{key:"qHyperCube",field:"".concat(n,"/").concat(r,"/qAttrExprInfo/").concat(t)},label:i,value:"value"})})),u):u}var ui={getNode:function(e,t){var n=t.dimensionCount;if(n&&!(n<1)){var r=n-1;return{field:"".concat("qDimensionInfo","/").concat(r),value:function(t){return li(t,e,"qDimensionInfo",r)}}}}};function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var di=function(e,t,n){var r=e.layout;return t.encodings.slice.outerRadius?{scale:"radius",fn:function(e){var t=i,o=0,l=n?n.style.innerRadius:a;return r.donut.showAsDonut&&(t=i-l,o=l),e.scale(Math.max(0,e.datum.radius.value))*t+o}}:i},pi=function(e,t,n){if(!e.layout.donut.showAsDonut)return 0;var r=n?n.style.innerRadius:a;return t.encodings.slice.outerRadius?{scale:"radius",fn:function(e){var t=i-r,n=r;return e.scale(Math.min(0,e.datum.radius.value))*t+n}}:r},mi=function(e,t){var n=e.layout,r=t.colorModel.datumProps(),o=r[Object.keys(r)[0]],i=o&&o.field?o.field:void 0,a="qDimensionInfo/0"===i,l=i?t.ds.field(i).raw():null,s=l&&(l.label||l.title||l.qFallbackTitle)||"",c=t.encodings.slice.outerRadius,f=t.chart.formatter,d=te.getValue(n,"qHyperCube.qDimensionInfo",[]).length;function p(e,n){var r=t.ds.field(e).raw();return{field:e,label:r.isCustomFormatted||!r.qIsAutoFormat&&"U"!==r.qNumFormat.qType?function(e){return e.qText}:function(e){return f(n)(e.qNum)}}}var m=(n.components||[]).filter((function(e){return"slices"===e.key}))[0];return{type:"pie",key:"slices",data:{extract:{field:"qDimensionInfo/0",props:ci(ci({},r),{},{num:p(t.encodings.slice.arc,"arc"),fillTooltip:i?{field:i,label:s,value:function(e){return a?e.qText||"-":void 0!==e.qNum&&"NaN"!==e.qNum?e.qText?e.qText:e.qNum:e.qText||"-"}}:void 0,customTooltipAttrExps:0!==d?ui.getNode(n,{dimensionCount:d}):void 0,radius:c?p(c,"outerRadius"):void 0})}},brush:{consume:[{context:"selection",data:["","fill"],style:{inactive:{opacity:.3},active:{stroke:"rgba(52, 52, 52, 0.7)",strokeWidth:2}}},{context:"highlight",data:[""],style:{inactive:{fill:"#BFDAD9"},active:{fill:"#68B2AF"}}}]},settings:{startAngle:function(){return t.viewState.get("rotation")},endAngle:function(){return t.viewState.get("rotation")+2*Math.PI},slice:{arc:{ref:"num"},innerRadius:pi({layout:n},t,m),fill:t.colorModel.color(),strokeWidth:m?u.STROKE.WIDTH[m.style.strokeWidth.toUpperCase()]:u.STROKE.WIDTH.NONE,stroke:m?m.style.strokeColor.color:u.STROKE.COLOR,outerRadius:di({layout:n},t,m),cornerRadius:m?m.style.cornerRadius:0}}}},hi=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return e?e.getStyle(t,n,r):o};function gi(e,t,n){var o=e.layout,l=(o.components||[]).filter((function(e){return"slices"===e.key}))[0],u=l?l.style.innerRadius:a,s=t.encodings.slice.outerRadius;return!(!o.donut.showAsDonut||!s)&&{type:"pie",key:"zeroLine",data:{items:[1]},settings:{slice:{arc:1,fill:"transparent",innerRadius:0,strokeWidth:1,stroke:r.getThemeStyle(n.theme,"object.pieChart","label.name","color")||"#333",outerRadius:{scale:"radius",fn:function(e){var t=i-u,n=u;return e.scale(0)*t+n}}}}}}function yi(e,t,n){return!(e.layout.donut.showAsDonut||!t.encodings.slice.outerRadius)&&{type:"negative-indicators",key:"negative-indicators",layout:{displayOrder:2},settings:{component:"slices",selector:"path",offset:5,size:4,fill:r.getThemeStyle(n.theme,"object.pieChart","label.name","color")||"#333"},brush:{consume:[{context:"selection",style:{inactive:{opacity:.2}}}]}}}var vi=function(){return{key:"area",type:"brush-area",settings:{brush:{components:[{key:"slices",contexts:["selection"],action:"add"}]}},style:{area:{fill:"transparent",strokeWidth:2,stroke:"black",strokeDasharray:"5 5",opacity:.7}}}},bi=function(){return{key:"lasso",type:"brush-lasso",layout:{displayOrder:99},settings:{brush:{components:[{key:"slices",contexts:["selection"]}]},lasso:{fill:"rgba(0, 0, 0, 0)",stroke:"black",strokeWidth:2,opacity:.7,strokeDasharray:[]},snapIndicator:{threshold:75,strokeDasharray:"5, 5",stroke:"black",strokeWidth:2,opacity:.7},startPoint:{r:10,stroke:"rgba(77, 192, 78, 1)",strokeWidth:0,opacity:1}}}};function xi(e,t,n,r){var o=parseInt(hi(e,t,n,r),10);if(!isNaN(o))return o}var Mi=function(e){return function(t){return e.getContrastingColorTo(t.node.attrs.fill)}};function Oi(e,t){return{padding:10,placements:e.simplifiedPlacements.map((function(n){return function(e,t,n){return{position:e.position,justify:e.justify,fill:e.onBackground?hi(t,n,"label.value","color"):Mi(t),overflow:e.overflow,padding:e.padding}}(n,t,e.themeId)})),fontSize:xi(t,e.themeId,"label.value","fontSize"),fontFamily:hi(t,e.themeId,"label.value","fontFamily"),label:e.label}}var wi=r.getThemeStyle;function Si(e){var t=e.node.desc&&e.node.desc.share;return t?e.formatter("share")(t):""}function ki(e){return e.node.data.num.label}function Ci(e){return e.node.data.radius.label}function Ei(e,t,n){return e.dataPoint.auto?n?ki:Si:"share"===e.dataPoint.labelMode?Si:"value"===e.dataPoint.labelMode?t.encodings.slice.outerRadius&&"radius"===e.dataPoint.labelValueMode?Ci:ki:null}function Ai(e){var t=e.data;return t?t.label:""}function qi(e,t,n){var r=parseInt(wi(e,"object.pieChart",t,n),10);if(!isNaN(r))return r}var Di=function(e){return function(t){return e.getContrastingColorTo(t.node.attrs.fill)}};function Ti(e){var t=((e&&e.components?e.components:void 0)||[]).filter((function(e){return"slices"===e.key}))[0];return!t||t.style.innerRadius>l}function Ni(e){var t=e.node,n=e.data;return ye()({_share:t.desc.share,_fillColor:t.attrs.fill},n)}function Li(e,t,n){var r=[{padding:10,direction:t.encodings.slice.outerRadius?"rotate":"horizontal",placements:[{position:"outside",fill:wi(n.theme,"object.pieChart","label.name","color"),padding:t.encodings.slice.outerRadius?4:2}],fontSize:qi(n.theme,"label.name","fontSize"),fontFamily:wi(n.theme,"object.pieChart","label.name","fontFamily"),label:Ai,linkData:function(e){var t=e.node,n=e.data;return ye()({_share:t.desc.share,_fillColor:t.attrs.fill,_showTooltip:!0},n)}}];if(Ei(e,t,!1)){var o=function(e,t,n){return{label:Ei(e,t,!1),simplifiedPlacements:[{position:e.donut.showAsDonut&&Ti(e)?"inside":"into",onBackground:e.donut.showAsDonut&&Ti(e),padding:4}],theme:n.theme,themeId:"object.pieChart"}}(e,t,n),i=Oi(ye()(t,o),n.theme);i.linkData=Ni,r.push(i)}return{key:"pie-labels",type:"labels",layout:{displayOrder:2,minimumLayoutMode:"XSMALL"},settings:{sources:[{component:"slices",selector:"path",strategy:{type:"slice",settings:{labels:r}}}]},brush:{consume:[{context:"selection",data:["","fill"],style:{inactive:{opacity:.3}}}]}}}function Ii(e,t){var n=e.layout,r=e.context;return!1!==n.dataPoint.show&&(1===t.dataRowCount?function(e,t,n){var r=Ei(e,t,!0),o=Di(n.theme);return{key:"pie-labels",type:"labels",layout:{displayOrder:2,minimumLayoutMode:"XSMALL"},settings:{sources:[{component:"slices",selector:"path",strategy:{type:"rows",settings:{align:.5,justify:.5,padding:10,labels:[{fill:e.donut.showAsDonut?n.theme.getStyle("object.pieChart","label.name","color"):o,fontSize:qi(n.theme,"label.name","fontSize"),fontFamily:wi(n.theme,"object.pieChart","label.name","fontFamily"),label:Ai},{fill:e.donut.showAsDonut?n.theme.getStyle("object.pieChart","label.value","color"):o,fontSize:qi(n.theme,"label.value","fontSize"),fontFamily:wi(n.theme,"object.pieChart","label.value","fontFamily"),label:r}]}}}]}}}(n,t,r):Li(n,t,r))}function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _i="#la-vie-tooltip";function zi(){if(!document.querySelector(_i)){var e=document.createElement("div");e.id="la-vie-tooltip",e.style.overflow="hidden",e.style.position="fixed",e.style.pointerEvents="none",e.style.left="0px",e.style.top="0px",e.style.width="100%",e.style.height="100%",e.style.zIndex=1020,document.body.appendChild(e)}}function Fi(e){var t=e.key;return{show:!0,key:void 0===t?"tooltip":t,type:"tooltip",layout:{displayOrder:3},beforeMount:function(){zi()},beforeUpdate:function(){zi()},destroyed:function(){var e;(e=document.querySelector(_i))&&e.parentElement&&e.childElementCount<1&&e.parentElement.removeChild(e)},settings:{appendTo:function(){return document.querySelector(_i)},content:function(e){var t=e.h,n=e.data,r=e.style;return n[0].map((function(e){return t("tr",{},function(e,t){var n=t.h,r=t.style;return e.map((function(e){var t={style:Pi(Pi({},r.cell||{}),e.style||{}),class:e.class};return e.colspan&&(t.colspan=e.colspan),n("td",t,e.content)}))}(e,{h:t,style:r}))}))},direction:e.rtl?"rtl":"ltr"},style:{arrow:{color:"#404040"},content:{display:"table","border-spacing":"4px",background:"rgba(64, 64, 64, 0.9)",opacity:"1",fontSize:"13px",fontFamily:"QlikView Sans, sans-serif","empty-cells":"show"},cell:{"max-width":"180px","word-break":"break-word","word-wrap":"break-word","overflow-wrap":"break-word",hyphens:"auto"}}}}var Ui={getColorSymbol:function(e,t){return e.h("div",{style:{display:"inline-block",width:"10px",height:"10px","background-color":t.color.fill,margin:"0 8px"}})},getNodeFillColor:function(e){return e.attrs&&void 0!==e.attrs.fill?e.attrs.fill:e.children&&e.children[0]&&e.children[0].attrs&&void 0!==e.children[0].attrs.fill?e.children[0].attrs.fill:void 0},getColor:function(e,t,n){var r=t.data,o=e.resources.formatter,i=e.resources.dataset,a={};if(n.coloring.label&&(a.label="".concat(n.coloring.label)),"color"!==n.coloring.type&&r.fillTooltip){var l=o("fill"),u="measure"===n.coloring.fieldType;if(a.value=u&&l?l(r.fillTooltip.value):r.fillTooltip.label?r.fillTooltip.label:r.fillTooltip.value,!n.coloring.label){var s=i(r.fillTooltip.source.key).field(r.fillTooltip.source.field).title();a.label="".concat(s)}}return a.fill=void 0===r._fillColor?Ui.getNodeFillColor(t):r._fillColor,a},getMeasure:function(e,t){var n=e(t.source.key).field(t.source.field).title();return{label:"".concat(n),value:""===t.label||"NaN"===t.label?"-":t.label,field:t.source.field}},hideColorRow:function(e,t){return void 0===e.color.value||e.measures.some((function(e){return e.field===t.coloring.field}))},getTitleRow:function(e,t){var n=Q.detectTextDirection(e.title);return[{content:e.title,style:{"font-weight":"bold","text-align":t.rtl?"right":"left",direction:n},colspan:2},{}]},getDescriptionRow:function(e,t){var n=Q.detectTextDirection(e.value);return[{content:e.value,style:{"text-align":t.rtl?"right":"left",direction:n},colspan:2},{}]},getImageRow:function(e,t){var n=Q.detectTextDirection(e.src),r=[],o={style:{display:"block","margin-left":"auto","margin-right":"auto",overflow:"hidden",width:e.width,height:e.height}};if("original"===e.size||e.imageError){r.push(t.h("span",{style:{display:"inline-block",height:"100%","vertical-align":"middle"}}));var i=e.imageError?"".concat(e.src,"?").concat(Math.random()):e.src;r.push(t.h("img",{style:{"max-width":e.width,"max-height":e.height,"vertical-align":"middle"},src:i,referrerpolicy:"no-referrer"})),o.style["text-align"]="center",o.style["white-space"]="nowrap"}else o.style["background-size"]="contain",o.style["background-repeat"]="no-repeat",o.style["background-position"]="center",o.style["background-image"]="url('".concat(e.src,"')");return[{content:[t.h("div",o,r),""],style:{"text-align":t.rtl?"right":"left",direction:n,"max-width":e.width},colspan:2},{}]},getNMoreRow:function(e,t,n){var r=t?t.get("Object.ChartTooltip.NMore",e):"+".concat(e," more"),o=Q.detectTextDirection(r);return[{content:r,style:{"font-weight":"bold","text-align":n.rtl?"right":"left",direction:o},colspan:2},{}]},getSeparatorRow:function(){return[{content:"",style:{"background-image":"linear-gradient(transparent 8px, rgba(255, 255, 255, 0.4) 8px, rgba(255, 255, 255, 0.4) 9.2px, transparent 9.2px)",height:"17px"},colspan:2},{}]},getColorRow:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Q.detectTextDirection(t.color.label),o=n.rtl?[":",t.color.label]:[t.color.label,":"],i=Q.detectTextDirection(t.color.value),a=n.rtl?[t.color.value,Ui.getColorSymbol(e,t)]:[Ui.getColorSymbol(e,t),t.color.value];return[{content:o,style:{"text-align":n.rtl?"right":"left",direction:r}},{content:a,style:{"text-align":n.rtl?"left":"right",direction:i,"vertical-align":"middle"}}]},getMeasureRow:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Q.detectTextDirection(e.label),l=o.rtl?[":",e.label]:[e.label,":"],u=Q.detectTextDirection(e.value);return r=i?o.rtl?[e.value,Ui.getColorSymbol(t,n)]:[Ui.getColorSymbol(t,n),e.value]:[e.value],[{content:l,style:{"text-align":o.rtl?"right":"left",direction:a}},{content:r,style:{"text-align":o.rtl?"left":"right",direction:u,"vertical-align":"middle"}}]}},Hi=Ui;function Bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(n),!0).forEach((function(t){Wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gi={getCustomAttrExps:function(e,t,n,r){var o,i,a={customTooltipAttrExpsArr:[],customTooltipInfoAttrExpsArr:[]},l=(null===(o=t.data)||void 0===o||null===(i=o.customTooltipAttrExps)||void 0===i?void 0:i.value)||[];return Number.isNaN(l)?a:function(e,t,n,r,o){var i,a=(Wi(i={},c.CUSTOM.TITLE,!0),Wi(i,c.CUSTOM.DESCRIPTION,!0),i),l=_.getAttrExprData(e),u=l.attrExps,s=l.fieldPath;return 0===t.length||0===u.length||""===s||u.forEach((function(e,i){var l=t[i];if(e.id===c.CUSTOM.EXPRESSION&&l){var u,f=e.qFallbackTitle;u=!e.qIsAutoFormat&&l&&"NaN"!==l.value?n("qHyperCube").field("".concat(s,"/").concat(i)).formatter()(l.value):e.qIsAutoFormat&&l&&"NaN"!==l.value&&r?r(l.value):l.value,o.customTooltipAttrExpsArr.push({label:f,value:u})}else if(a[e.id]&&l){var d="-"!==l.value&&"NaN"!==l.value?l.value:l.label;d&&"undefined"!==d&&o.customTooltipInfoAttrExpsArr.push(Vi(Vi({},e.id===c.CUSTOM.TITLE&&{title:d}),{},{value:d,id:e.id}))}})),o}(n,l.map((function(t){return Hi.getMeasure(e,t)})),e,r,a)}};function Ki(e){return function(e,t,n,r){var o=[];return e.forEach((function(e){o.push(Gi.getCustomAttrExps(n,e,t,r))})),o}(e.nodes,e.layout,e.dataset,e.formatter).reduce((function(e,t){return{customTooltipAttrExpsArr:e.customTooltipAttrExpsArr.concat(t.customTooltipAttrExpsArr),customTooltipInfoAttrExpsArr:e.customTooltipInfoAttrExpsArr.concat(t.customTooltipInfoAttrExpsArr)}}),{customTooltipAttrExpsArr:[],customTooltipInfoAttrExpsArr:[]})}function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){Zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ji(e){return function(e){if(Array.isArray(e))return Yi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qi="#la-vie-tooltip",ea=3e4;function ta(e){var t=e.rtl,n=Fi({rtl:t});return ye()(!0,n,{destroyed:function(){var e;(e=document.querySelector(Qi))&&e.parentElement&&e.childElementCount<1&&e.parentElement.removeChild(e),s.destroySessionObject()},settings:{content:function(e){var n=e.h,r=e.data,o=e.style;return function(e,t,n){return null==t?e:[].concat(Ji(e),Ji(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.measures&&e.measures.length>0?e.measures.map((function(e){var n=[e.value];return[{content:e.label},{content:n,style:{"text-align":t?"left":"right"}}]})):[]}(t,n)),Ji(function(e){return e.limitation?[[{content:e.limitation,style:{"font-weight":"bold"},colspan:2},{}]]:[]}(t)))}(r[0].rows||[],r[0].customTooltipData,t).map((function(e){return n("tr",{},function(e,t){var n=t.h,r=t.style;return e.map((function(e){var t={style:Xi(Xi({},r.cell||{}),e.style||{}),class:e.class};return e.colspan&&(t.colspan=e.colspan),n("td",t,e.content)}))}(e,{h:n,style:o}))}))},duration:ea}})}function na(e){return function(e){if(Array.isArray(e))return ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ra(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oa(e){return te.getValue(e,"customTooltipModel.useCustomTooltip",!1)}function ia(e,t){return oa(t)&&te.getValue(e,"tooltip.hideBasic",0)}function aa(e,t){return e.h("div",{style:{display:"inline-block",width:"10px",height:"10px","background-color":t.color.fill,margin:"0 8px"}})}function la(e){return[{content:e.title,style:{"font-weight":"bold"},colspan:2},{}]}function ua(e,t,n){var r=[aa(e,t)];return r.push(t.color.value),[{content:t.color.label},{content:r,style:{"text-align":n?"left":"right"}}]}function sa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[e.value];return r&&i.unshift(aa(t,n)),[{content:"".concat(e.label,":")},{content:i,style:{"text-align":o?"left":"right"}}]}function ca(e,t,n,r){return ia(n,r)||void 0===e.share.value?[]:[{content:e.share.label},{content:e.share.value,style:{"text-align":t?"left":"right"}}]}function fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.flags&&t.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS"),o=!r&&oa(t)?ta({rtl:n.rtl}):Fi({rtl:n.rtl});return ye()(!0,o,{scale:"fill",settings:{filter:function(e){return e.filter((function(e){return e.data&&("path"===e.type&&("slices"===e.key||"negative-indicators"===e.key)||"text"===e.type&&e.data._showTooltip&&"pie-labels"===e.key)}))},extract:function(o){var i,a,l,u,s,f=e.layout,d=function(e,t,n){var r,o=e.node,i=e.node.data,a=e.resources.formatter,l=e.resources.dataset,u={};if("color"!==t.coloring.type&&i.fillTooltip){var s=a("fill"),f="measure"===t.coloring.fieldType;u.value=f&&s?s(i.fillTooltip.value):i.fillTooltip.value,u.label="".concat(i.fillTooltip.label,":")}function d(e){return{label:l(e.source.key).field(e.source.field).title(),value:e.label,field:e.source.field}}t.coloring.label&&(u.label="".concat(t.coloring.label,":")),u.fill=void 0===i._fillColor?o.attrs.fill:i._fillColor,o&&o.desc&&void 0!==o.desc.share?r=o.desc.share:o&&i&&void 0!==i._share&&(r=i._share);var p=[d(i.num)];t.encodings.slice.outerRadius&&p.push(d(i.radius));var m={title:i.label,color:u,share:{label:"".concat(t.translator&&t.translator.get("properties.dataPoints.labelmode.share")||"Share",":"),value:void 0!==r?a("share")(r):void 0},measures:p};if(t.flags&&t.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&oa(t)){var h=Ki({dataset:l,nodes:[o],layout:n,formatter:a("arc")});m.customTitle=h.customTooltipInfoAttrExpsArr.filter((function(e){return e.id===c.CUSTOM.TITLE})),m.customDescription=h.customTooltipInfoAttrExpsArr.filter((function(e){return e.id===c.CUSTOM.DESCRIPTION})),m.customMeasures=h.customTooltipAttrExpsArr,t.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&o.data.customTooltipImages&&(m.customImages=o.data.customTooltipImages)}return m}(o,t,f),p=[],m=ia(f,t)?[]:d.measures,h=r&&oa(t)&&(i=d.customTitle[0],a=d.customDescription[0],l=m,u=d.customMeasures,0===l.length&&0===u.length&&(""!==i&&void 0!==i||""!==a&&void 0!==a))?[]:la(d);(r&&oa(t)&&d.customTitle.length>0&&p.push(la(d.customTitle[0])),r&&oa(t)&&d.customDescription.length>0&&p.push(function(e){return[{content:e.value,colspan:2},{}]}(d.customDescription[0])),p=function(e,t,n){return ia(n,e)||t.measures.some((function(t){return t.field===e.coloring.field}))||void 0===t.color.value}(t,d,f)?p.concat([h].concat(na(m.map((function(e){return sa(e,o,d,e.field===t.coloring.field,n.rtl)}))),[ca(d,n.rtl,f,t)])):p.concat([h,ua(o,d,n.rtl)].concat(na(m.map((function(e){return sa(e,o,d,!1,n.rtl)}))),[ca(d,n.rtl,f,t)])),r&&oa(t)&&d.customMeasures.length>0)&&(s=p).push.apply(s,na(d.customMeasures.map((function(e){return sa(e,o,d,e.field===t.coloring.field,n.rtl)}))));if(d.customImages){var g,y=d.customImages.map((function(e){return Hi.getImageRow(e,o)}));(g=p).push.apply(g,na(y))}return!r&&oa(t)?{rows:p,customTooltipData:o.node.data.customTooltip}:p},placement:function(e){return"slices"===e.nodes[0].key?{type:"slice"}:{type:"bounds"}},direction:n.rtl?"rtl":"ltr"},style:{content:{fontFamily:n.theme.getStyle("object.pieChart","","fontFamily")}}})}function da(e){var t=e.srcEvent.target;return!(!t||!(t.hasAttribute("data-other-value")&&t.hasAttribute("data-idx")||"INPUT"===t.nodeName))}var pa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requireFailure,r=t.recognizeWith;return{type:"Pan",requireFailure:n,recognizeWith:r,options:{event:"legendRange",enable:function(t,n){if(this.started||!n)return!0;if(e.constraints.select||e.constraints.active)return!1;var r=(this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some((function(e){return"legend-seq"===e.type}))||da(n))&&!e.isLocked([this.chart.component("slices")]);return r||this.chart.component("legendRangeBrush").emit("rangeClear"),r}},events:{legendRangestart:function(t){t.preventDefault(),e.interactions.emit("selections-start"),this.chart.component("legendRangeBrush").emit("rangeStart",t),this.started=!0},legendRangemove:function(e){e.preventDefault(),this.chart.component("legendRangeBrush").emit("rangeMove",e)},legendRangeend:function(t){t.preventDefault(),this.chart.component("legendRangeBrush").emit("rangeEnd",t),e.onSelect(),this.started=!1}}}};function ma(e,t){var n,r,o=t.element.getBoundingClientRect();return e.center?(n=e.center.x,r=e.center.y):(n=e.clientX,r=e.clientY),{x:n-o.left,y:r-o.top}}function ha(e,t){var n=t.component("slices");if(!n)return!1;var r,o,a,l,u=ma(e,t),s=u.x,c=u.y,f=n.rect.x+n.rect.margin.left+n.rect.width/2,d=n.rect.y+n.rect.margin.top+n.rect.height/2,p=Math.min(n.rect.width,n.rect.height)/2*i;return r=f,o=d,a=s,l=c,Math.pow(r-a,2)+Math.pow(o-l,2)<=Math.pow(p,2)}var ga=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requireFailure,r=t.recognizeWith,o=e.customTooltipModel.utils,i=e.debouncer(o.displayTooltip,o.DEBOUNCE_THRESHOLD);return{type:"Tap",requireFailure:n,recognizeWith:r,options:{event:"tap",interval:10,pointers:1,enable:function(t,n){return!n||!e.constraints.select&&!e.constraints.active&&(this.components=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).filter((function(e){return"slices"===e.key||"legend-cat"===e.key||"pie-labels"===e.key})),this.components.length)}},events:{tap:function(t){t.preventDefault();var n=t.srcEvent.target;if(!n||"INPUT"!==n.nodeName&&!n.hasAttribute("data-other-value")){if(n&&n.hasAttribute("data-action")&&n.hasAttribute("data-component-key"))this.chart.component(n.getAttribute("data-component-key")).emit(n.getAttribute("data-action"));else if(!(n&&n.children&&n.children[0]&&"legend-cat"===n.children[0].getAttribute("data-component-key")||e.isLocked(this.components))){e.interactions.emit("selections-start");var r=ma(t,this.chart);this.components.some((function(e){return"legend-cat"===e.key}))&&(r={cx:r.x,cy:r.y,r:5});var a=this.chart.shapesAt(r,{components:[{key:"slices",propagation:"stop"},{key:"legend-cat",propagation:"stop"},{key:"pie-labels",propagation:"stop"}],propagation:"stop"}),l=this.chart.component("tooltip"),u="mouse"!==t.pointerType&&l&&l.show;if(a.length){if(this.chart.brushFromShapes(a,{components:[{key:a[0].key,action:t.srcEvent.ctrlKey?"set":"toggle",contexts:["selection"]}]}),e.onSelect(),u&&this.components.some((function(e){return"slices"===e.key}))){var s=e.customTooltipModel;if(e.flags&&e.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")||!s.useCustomTooltip)if(e.flags&&e.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&s.useCustomTooltip&&o.checkIfPromisesExist({customTooltipModel:s})){var c=o.getNodes(t,this.chart);i(t,l,{nodes:c,opts:e,customTooltipModel:s})}else l.emit("show",t,{nodes:a});else{var f=o.getNodes(t,this.chart);i(t,l,{nodes:f,dimsAndNodeFn:function(){return s.extractDimsAndNode(f)},customTooltipModel:s,opts:e})}}}else u&&l.emit("hide")}}else this.chart.component("legendRangeBrush").emit("bubbleStart",t)}}}},ya=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requireFailure,r=t.recognizeWith;return{type:"Pan",requireFailure:n,recognizeWith:r,options:{event:"lasso",enable:function(t,n){if(this.isStarted||!n)return!0;if(e.constraints.active||e.constraints.select||!e.interactions.lasso.active())return!1;var r=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y});return!e.isLocked(r)&&r.some((function(e){return"slices"===e.key}))}},events:{lassostart:function(t){t.preventDefault(),e.constraints.select||e.constraints.active||this.isStarted||(e.interactions.emit("selections-start"),this.chart.component("lasso").emit("lassoStart",t),this.isStarted=!0)},lassomove:function(e){e.preventDefault(),this.chart.component("lasso").emit("lassoMove",e)},lassoend:function(t){t.preventDefault(),this.isStarted=!1,this.chart.component("lasso").emit("lassoEnd",t),e.onSelect()}}}},va=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requireFailure,r=t.recognizeWith;return{type:"Tap",requireFailure:n,recognizeWith:r,options:{event:"areatap",pointers:2,enable:function(t,n){if(this.started||!n)return!0;if(e.constraints.active||e.constraints.select)return!1;var r=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y});return r.some((function(e){return"slices"===e.key}))&&!e.isLocked(r)}},events:{areatap:function(t){var n=this,r=this.chart.component("area");r&&!this.started&&(e.interactions.emit("selections-start"),r.emit("areaStart",t.pointers[0]),r.emit("areaMove",t.pointers[1]),this.started=!0,setTimeout((function(){r.emit("areaEnd"),e.onSelect(),n.started=!1}),100)),t.preventDefault()}}}};function ba(e,t){var n=e.chart.component("tooltip");n&&n.show&&(n.emit("hide"),t&&t({},n,{nodes:[]}))}function xa(e){var t=e.customTooltipModel.utils,n=e.debouncer(t.displayTooltip,t.DEBOUNCE_THRESHOLD);return{type:"native",key:"theusual",events:{wheel:function(t){var r=!1;if(!e.constraints.active&&ha(t,this.chart)){var o=Math.sign(-t.deltaY);e.viewState.set("rotation",o*(Math.PI/12)),r=!0}else if(!e.constraints.select&&!e.constraints.active){var i=this.chart.componentsFromPoint(t).filter((function(e){return"legend-cat"===e.key}))[0];i&&(r=!0,function(e,t){var n=(Math.abs(e.deltaX)>Math.abs(e.deltaY)?e.deltaX:e.deltaY)>=0?"next":"prev";t.emit(n)}(t,i))}r&&t.preventDefault(),ba(this,n)},mousemove:function(r){if(!e.constraints.passive){var o=this.chart.componentsFromPoint({x:r.clientX,y:r.clientY}),i=this.chart.component("tooltip");if(i&&i.show&&o.some((function(e){return"slices"===e.key}))){var a=e.customTooltipModel;if(e.flags&&e.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")||!a.useCustomTooltip)if(e.flags&&e.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&a.useCustomTooltip&&t.checkIfPromisesExist({customTooltipModel:a})){var l=t.getNodes(r,this.chart);n(r,i,{nodes:l,opts:e,customTooltipModel:a})}else i.emit("show",r);else{var u=t.getNodes(r,this.chart);n(r,i,{nodes:u,dimsAndNodeFn:function(){return a.extractDimsAndNode(u)},customTooltipModel:a,opts:e})}}else i&&i.show&&i.emit("hide")}},mouseup:function(e){2===e.button&&ba(this,n)},mouseleave:function(){ba(this,n)}}}}var Ma=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requireFailure,r=t.recognizeWith;return{type:"Pan",requireFailure:n,recognizeWith:r,options:{event:"rotate",pointers:1,threshold:10,enable:function(t,n){return!(!this.started&&n)||!e.constraints.active&&!e.interactions.lasso.active()&&ha(n,this.chart)}},events:{rotatestart:function(e){e.preventDefault();var t=this.chart.component("slices").rect,n=this.chart.element.getBoundingClientRect();this.pieCenter={x:n.left+t.x+t.width/2,y:n.top+t.y+t.height/2},this.prevAngle=Math.atan2(e.center.y-this.pieCenter.y,e.center.x-this.pieCenter.x),this.started=!0},rotatemove:function(t){t.preventDefault();var n=Math.atan2(t.center.y-this.pieCenter.y,t.center.x-this.pieCenter.x);e.viewState.set("rotation",n-this.prevAngle),this.prevAngle=n},rotateend:function(e){e.preventDefault(),this.started=!1},rotatecancel:function(e){e.preventDefault(),this.started=!1}}}},Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requireFailure,r=t.recognizeWith;return{type:"Pan",requireFailure:n,recognizeWith:r,options:{event:"legendPan",pointers:1,threshold:10,enable:function(t,n){return!(!this.isStarted&&n)||!e.constraints.active&&this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some((function(e){return"legend-cat"===e.type}))}},events:{legendPanstart:function(e){if(e.preventDefault(),!this.isStarted){this.components=this.chart.componentsFromPoint({x:e.center.x,y:e.center.y}),this.components.forEach((function(t){t.emit("panstart",e)})),this.isStarted=!0;var t=this.chart.component("tooltip");t&&t.show&&t.emit("hide")}},legendPanmove:function(e){this.components.forEach((function(t){t.emit("panmove",e)})),e.preventDefault()},legendPanend:function(e){e.preventDefault(),this.components.forEach((function(t){t.emit("panend",e)})),this.isStarted=!1}}}},wa=function(e){return{key:"hammered",type:"hammer",enable:!0,gestures:[pa(e,{}),va(e,{}),Ma(e,{}),ya(e,{}),Oa(e,{}),ga(e,{})]}};var Sa=function(e,t){var n=t.constraints;return n.active&&n.passive?[]:[wa(e),xa(e)]};function ka(e,t){var n=e.settings,r={share:{type:"d3-number",format:".1%"},arc:{data:{field:t.encodings.slice.arc}},fill:n.scales.fill&&n.scales.fill.data&&n.scales.fill.data.field?{data:{field:n.scales.fill.data.field}}:{}};return t.encodings.slice.outerRadius&&(r.outerRadius={data:{field:t.encodings.slice.outerRadius}}),r}var Ca=function(e,t,n){var r=e.layout;if(!r.dimensionTitle)return!1;var o=t.properties;return{key:"dimension-title",type:"data-title",layout:{minimumLayoutMode:"SMALL",dock:"top"},settings:{hyperCube:r.qHyperCube,hyperCubeDef:o&&o.qHyperCubeDef,isDimension:!0,disabled:function(){return n.constraints.active||!n.model},model:t.model,app:t.app,translator:t.translator,rtl:n.rtl,selections:t.selections},style:{fontFamily:n.theme.getStyle("object","axis.title","fontFamily"),fontSize:n.theme.getStyle("object","axis.title","fontSize"),color:n.theme.getStyle("object","axis.title","color")}}},Ea="center",Aa="bottom",qa={NoDataExist:{label:"NoDataExist",alignment:Ea,default:!0},OnlyNanData:{label:"OnlyNanData",alignment:Ea,default:!0},OnlyNegativeOrZeroValues:{label:"OnlyNegativeOrZeroValues",alignment:Ea,default:!1},LimitedData:{label:"LimitedData",alignment:Aa,default:!1},OnlyNanColor:{label:"OnlyNanColor",alignment:Aa,default:!1},NegativeOrZeroValues:{label:"NegativeOrZeroValues",alignment:Aa,default:!1},DataRangeIncludingZero:{label:"DataRangeIncludingZero",alignment:Aa,default:!1}},Da=function(e,t,n){if(!e)return!1;var r=t.translator,o=n.rtl;return{key:"disclaimer",type:"disclaimer",layout:{dock:qa[e].alignment},settings:{label:r.get("Object.Disclaimer.".concat(e)),rtl:o}}};function Ta(e,t,n){var r=function(e,t){var n={field:"qDimensionInfo/0",props:{num:{field:t.encodings.slice.arc}}};t.encodings.slice.outerRadius&&(n.props.radius={field:t.encodings.slice.outerRadius});var r=t.ds.extract(n);if(0===r.length)return"NoDataExist";var o=te.getValue(e,"qHyperCube.qSize.qcy");if(te.getValue(e,"qHyperCube.qDataPages.0.qArea.qHeight")<o)return"LimitedData";if(0===(r=t.encodings.slice.outerRadius?r.filter((function(e){return"NaN"!==e.num.value&&"NaN"!==e.radius.value})):r.filter((function(e){return"NaN"!==e.num.value}))).length)return"OnlyNanData";var i=r;return 0===(r=t.encodings.slice.outerRadius&&!e.donut.showAsDonut?r.filter((function(e){return e.num.value>0&&e.radius.value>0})):r.filter((function(e){return e.num.value>0}))).length?"OnlyNegativeOrZeroValues":i.length!==r.length&&"NegativeOrZeroValues"}(e.layout,t);return Da(r,t,n)}function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(e){return function(e){if(Array.isArray(e))return Pa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ra(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return ye()(n,t.colorModel.scales()),t.encodings.slice.outerRadius&&ye()(n,function(e,t){var n=e.layout,r={radius:{type:"linear",include:[0],data:{extract:{field:t.encodings.slice.outerRadius}}}};return n.donut.showAsDonut||(r.radius.min=0),r}({layout:e},t)),n}var _a=function(e){var t=e.layout,n=e.context,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Ra({layout:t},r),i={scales:o},a=[],l=Ta({layout:t},r,n);if(l&&"center"===l.layout.dock)return{components:[l]};var u=n.constraints.select||n.constraints.active,s=r.colorModel.legend({eventName:"legend",key:"legend",viewState:r.viewState,chart:r.chart,styleReference:"object.pieChart",rtl:n.rtl},{navigationDisabled:u});return o.fillRange&&s.components[0]&&("right"===s.components[0].layout.dock||"left"===s.components[0].layout.dock||n.rtl)&&(o.fillRange.invert=!0),a=(a=[mi({layout:t,settings:i},r),gi({layout:t},r,n),{type:"pie-dividers",key:"pie-dividers",layout:{displayOrder:2},settings:{component:"slices",selector:"path"},brush:{consume:[{context:"selection",style:{inactive:{opacity:.2}}}]}},yi({layout:t},r,n),Ca({layout:t},r,n)].concat(ja(s.components),[ai({settings:i,scaleKey:"fill",legend:s.components[0]||{},onEdited:r.onSelect}),bi(),vi(),Ii({layout:{dataPoint:ye()({},t.dataPoint,{show:!(t.effectPath&&t.snapshotData&&!1===t.dataPoint.show)}),donut:t.donut},context:n},r),fa({layout:t},La(La({},r),{},{coloring:r.colorModel.settings()}),n),(!1!==t.showDisclaimer||!r.flags.isEnabled("SHOW_DISCLAIMER"))&&l])).filter((function(e){return!1!==e})),{interactions:Sa(r,n),scales:o,components:a,palettes:r.colorModel.palettes(),formatters:ka({settings:i},r),strategy:ii(0,r)}};function za(e){return function(e){if(Array.isArray(e))return Ha(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||Ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(e,t){if(e){if("string"==typeof e)return Ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ha(e,t):void 0}}function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ba=function(e){for(var t=[],n={},r=0;r<e.length;r++)n=e[r],t.push(n.data.label);return{nodeDims:t,node:n}};function Va(e){var t=e.instance,n=e.picasso,r=e.flags,o=Object(tr.useOptions)(),i=Object(tr.useModel)(),a=Object(tr.useApp)(),l=Object(tr.useTranslator)(),u=Object(tr.useTheme)(),s=Object(tr.useSelections)(),c=Object(tr.useStaleLayout)(),f=Object(tr.useConstraints)(),d=Object(tr.useAppLayout)().qLocaleInfo,p=Fa(Object(tr.usePromise)((function(){return t?($o.attrExpr.updateProperties(i,c,r),t.colorModel.config({theme:u,colorProps:c.color,legendProps:c.legend,layout:c,localeInfo:d,hc:c.qHyperCube,key:"fill"}),Promise.all([t.colorModel.getAuxiliarySettings(),i&&!c.snapshotData?i.getEffectiveProperties():Promise.resolve({})])):Promise.resolve()}),[c,t]),1)[0];Object(tr.useEffect)((function(){if(t&&p){var e=t.chart,m=t.colorModel,h=t.viewState,g=t.interactions,y=o.viewState||{};c.snapshotData||(h.preventSet("legendScrollOffset",y.legendScrollOffset||0),h.preventSet("rotation",y.rotation||0)),function(e,t){e&&e.snapshotData&&e.snapshotData.content&&e.snapshotData.content.chartData&&(t.preventSet("legendScrollOffset",e.snapshotData.content.chartData.legendScrollOffset),t.preventSet("rotation",e.snapshotData.content.chartData.rotation))}(c,h);var v=n.data("q")({key:"qHyperCube",data:c.qHyperCube,config:{localeInfo:d}}),b=[{type:"q",key:"qHyperCube",data:c.qHyperCube,config:{localeInfo:d}}].concat(za(m.data())),x={slice:{arc:"qMeasureInfo/0"}};c.qHyperCube.qMeasureInfo.length>1&&(x.slice.outerRadius="qMeasureInfo/1");var M=function(e){var t=e.layout;return{layout:t,app:e.app,picasso:e.picasso,model:e.model,chart:e.chart,translator:e.translator,localeInfo:e.localeInfo,extractDimsAndNode:e.extractDimsAndNode,useCustomTooltip:t.tooltip&&!t.tooltip.auto,utils:_}}({layout:c,app:a,model:i,picasso:n,chart:e,translator:l,localeInfo:d,extractDimsAndNode:Ba}),O=function(e,t){return t.slice.outerRadius?e.extract({field:"qDimensionInfo/0",props:{num:{field:t.slice.arc},radius:{field:t.slice.outerRadius}}}).filter((function(e){return e.num.value>0&&"NaN"!==e.radius.value})).length:e.extract({field:"qDimensionInfo/0",props:{num:{field:t.slice.arc}}}).filter((function(e){return e.num.value>0})).length}(n.data("q")({data:c.qHyperCube,config:{localeInfo:d}}),x),w=s?function(){var t=e.brush("selection");G.a.selections(t,{},c).forEach((function(e){s.select(e)}))}:function(){},S=c.snapshotData&&!o.freeResize?{width:(c.snapshotData.content.size||c.snapshotData.object.size).w,height:(c.snapshotData.content.size||c.snapshotData.object.size).h}:void 0,k=function(){return _a({layout:c,context:{rtl:"rtl"===o.direction,theme:u,translator:l,constraints:f,model:i}},{picasso:n,ds:v,model:i,app:a,chart:e,onSelect:w,isLocked:s&&s.isLocked?s.isLocked:Zo,interactions:g,constraints:f,translator:l,viewState:h,dataRowCount:O,encodings:x,colorModel:m,customTooltipModel:M,debouncer:Wo,properties:p[1],logicalSize:S,flags:r})};t.generateSettings=k,e.update({data:b,settings:k()}),o.effect&&c.effectProperties?o.effect.update(c,e,{encodings:x}):c.effectPath||e.brush("highlight").end()}}),[t,p,o.direction,o.effectProperties,f,u.name(),l.language()])}var Wa=function(e,t){var n=e.component(t);return n&&n._DO_NOT_USE_getInfo&&n._DO_NOT_USE_getInfo().offset};function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xa="legend-cat";var Za=function(e){var t=e.instance,n=Object(tr.useElement)(),r=Object(tr.useStaleLayout)();Object(tr.onTakeSnapshot)((function(e){if(!(r.snapshotData&&r.snapshotData.content&&r.snapshotData.content.chartData)&&(function(e,t){var n=t.getBoundingClientRect();e.snapshotData=e.snapshotData||{},e.snapshotData.content=e.snapshotData.content||{},e.snapshotData.content.size=e.snapshotData.content.size||{w:n.width,h:n.height}}(e,n),t))return function(e){var t=e.layout,n=e.chart,r=e.viewState,o=e.colorModel;return t.snapshotData.content=t.snapshotData.content||{},t.snapshotData.content.chartData={legendScrollOffset:Wa(n,Xa),rotation:r.get("rotation")},o.getSnapshotData().then((function(e){t.snapshotData.content.chartData=Ka(Ka({},t.snapshotData.content.chartData),e)})).catch((function(){}))}({layout:e,chart:t.chart,colorModel:t.colorModel,viewState:t.viewState})})),Object(tr.useImperativeHandle)((function(){return{getViewState:function(){return{rotation:t.viewState.get("rotation"),legendScrollOffset:Wa(t.chart,"legend-cat")}}}}),[t])};function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(n),!0).forEach((function(t){Qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){!function(e){if(e&&e.get&&e.add){var t="Object.Disclaimer.LimitedData";if(e.get(t)!==t)return;Object.keys(o).forEach((function(t){e.add(o[t])}))}}(e.translator);var t,n,r,i=function(){var e=V()();return e.use(G.a),e.use($()(H.a)),e.use(Jt()),e.component("pie-dividers",$n),e.component("negative-indicators",er),e}();return{qae:{properties:Ya({},{version:"1.5.0",color:{auto:!0,autoMinMax:!0,byDimDef:void 0,byMeasureDef:void 0,colorExpression:void 0,dimensionScheme:"12",expressionIsColor:!0,expressionLabel:"",formatting:{numFormatFromTemplate:!0,isCustomFormatted:void 0},measureMin:void 0,measureMax:void 0,measureScheme:"sg",mode:"primary",paletteColor:{index:6},persistent:!1,reverseScheme:!1,singleColor:void 0,useBaseColors:"off",useDimColVal:!0,useMeasureGradient:!0},components:[{key:"slices",style:{strokeWidth:"none",strokeColor:{index:-1,color:u.STROKE.COLOR},cornerRadius:u.CORNER_RADIUS,innerRadius:u.INNER_RADIUS}}],dataPoint:{auto:!0,labelMode:"share",labelValueMode:"arc"},dimensionTitle:!0,donut:{showAsDonut:!1},footnote:"",legend:{dock:"auto",show:!0,showTitle:!0},qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:10,qHeight:500}],qSuppressMissing:!0,qSuppressZero:!1,qMode:"S"},showDetails:!1,showDisclaimer:!0,showTitles:!0,subtitle:"",title:"",tooltip:{auto:!0,hideBasic:!1,data:{qHyperCubeDef:void 0},imageComponents:void 0}}),data:{targets:[(t=e,n=t.translator,r=t.flags,{dimensions:{min:1,max:1,description:function(){return n.get("Visualizations.Descriptions.Slice")},add:function(e,t){F(e),z(t),r.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&_.addCallbackCustomTooltip(t)},move:function(e,t){F(e),z(t),r.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&_.moveCallbackCustomTooltip(t,e)},remove:function(e,t){r.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&_.removeCallbackCustomTooltip(t,e)},replace:function(e,t,n,o){F(e),z(o),r.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&_.replaceCallbackCustomTooltip(o,t)}},measures:{min:1,max:2,description:function(e,t){return n.get(0===t?"Visualizations.Descriptions.Angle":"Visualizations.Descriptions.Radius")},add:function(e,t){z(t)},remove:function(e,t){!function(e){if(e.qHyperCubeDef){var t=e.qHyperCubeDef.qMeasures;"byExpression"===e.color.mode&&0===t.length&&(e.color.mode="primary")}}(t)}}})]}},component:function(){var t=Vo({picasso:i});Va({instance:t,picasso:i,flags:e.flags}),function(e){var t=e.instance,n=Object(tr.useStaleLayout)(),r=Object(tr.useOptions)(),o=Object(tr.useRect)();Object(tr.useEffect)((function(){t&&t.generateSettings&&(t.chart.update({settings:t.generateSettings()}),r.effect&&r.effect.update(n,t.chart))}),[o.width,o.height])}({instance:t}),Za({instance:t})}}}}]).default}.apply(t,r),void 0!==o&&(e.exports=o))},FraZ:function(e,t,n){!function(t,r){e.exports=r(n("CIFd"))}(this,(function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s={version:"0.1.0",qHyperCubeDef:{qDimensions:[],qMeasures:[],qSuppressZero:!1,qSuppressMissing:!0,qInitialDataFetch:[{qWidth:500,qHeight:10}]},showTitles:!1,title:"",subtitle:"",footnote:"",showDetails:!1,showMeasureTitle:!0,showSecondMeasureTitle:!0,textAlign:"center",layoutBehavior:"responsive",fontSize:"M",useLink:!1,sheetLink:"",openUrlInNewTab:!0};function c(e){var n=e.sense&&e.sense.theme?e.sense.theme:{},r=function(){var e=n.getDataColorSpecials().primary,t=n.getDataColorPickerPalettes()[0],r="pyramid"===t.type?t.colors[t.colors.length-1]:t.colors,o=r.indexOf(e);return{index:-1===o?Math.min(6,r.length-1):o}},o=function(e){var r;return r="object"===t(e)?e.index?e:{index:e.color}:{index:e},n.getColorPickerColor(r)},i=function(e,t,n){var r,o=t.split("."),i=e;if(void 0===i)return n;for(r=0;r<o.length;++r){if(void 0===i[o[r]])return n;i=i[o[r]]}return i},a=function(e,t,n){if(t){for(var r=t.split("."),o=e,i=r[r.length-1],a=0;a<r.length-1;++a)void 0===o[r[a]]&&(o[r[a]]=Number.isNaN(+r[a+1])?{}:[]),o=o[r[a]];void 0!==n?o[i]=n:delete o[i]}};function l(e){return i(e,"qDef.conditionalColoring.useBaseColors",!0)}return{definition:{type:"items",component:"accordion",items:{data:{uses:"data",addTranslation:"Properties.AddData",items:{dimensions:{disabledRef:"",show:!1},measures:{disabledRef:"",items:{measureAxisMin:{type:"items",ref:"qDef.measureAxis.min",defaultValue:0},measureAxisMax:{type:"items",ref:"qDef.measureAxis.max",defaultValue:100},conditionalColoringUseConditionalColoring:{type:"items",ref:"qDef.conditionalColoring.useConditionalColoring",defaultValue:!1},conditionalColoringUseSingleColor:{type:"items",ref:"qDef.conditionalColoring.singleColor",defaultValue:3},conditionalColoringPaletteSingleColor:{type:"items",ref:"qDef.conditionalColoring.paletteSingleColor",defaultValue:r},limits:{type:"items",ref:"qDef.conditionalColoring.segments.limits",defaultValue:[]},paletteColors:{type:"items",ref:"qDef.conditionalColoring.segments.paletteColors",defaultValue:[{index:6}]}}}}},addons:{type:"items",component:"expandable-items",translation:"properties.addons",items:{dataHandling:{uses:"dataHandling",items:{suppressZero:null,calcCond:{uses:"calcCond"}}}}},settings:{type:"items",uses:"settings",component:"expandable-items",translation:"Common.Appearance",items:{presentation:{type:"items",grouped:!1,translation:"properties.presentation",items:{showMeasureTitle:{ref:"showMeasureTitle",component:"checkbox",translation:"properties.kpi.showFirstTitle",defaultValue:!0},showSecondMeasureTitle:{ref:"showSecondMeasureTitle",component:"checkbox",translation:"properties.kpi.showSecondTitle",defaultValue:!0,show:function(e){var t=i(e,"qHyperCubeDef.qMeasures");return t&&2===t.length}},textAlign:{ref:"textAlign",type:"string",component:"item-selection-list",translation:"properties.Alignment",horizontal:!0,items:[{component:"icon-item",icon:"align_left",labelPlacement:"bottom",value:"left",translation:"properties.dock.left"},{component:"icon-item",icon:"align_center",labelPlacement:"bottom",value:"center",translation:"Common.Center"},{component:"icon-item",icon:"align_right",labelPlacement:"bottom",value:"right",translation:"properties.dock.right"}],defaultValue:"center"},layoutBehavior:{type:"string",component:"dropdown",ref:"layoutBehavior",translation:"properties.kpi.layoutBehavior",defaultValue:"responsive",undefinedValue:"responsive",snapshot:{tid:"property-layoutBehavior"},options:[{value:"responsive",translation:"properties.responsive"},{value:"relative",translation:"properties.fluid"},{value:"fixed",translation:"properties.fixed"}],show:function(){return!0}},fontSize:{ref:"fontSize",type:"string",component:"dropdown",translation:"MediaTool.Toolbar.FontSize",options:[{value:"S",translation:"Common.Small"},{value:"M",translation:"Common.Medium"},{value:"L",translation:"Common.Large"}],defaultValue:"M"},linkToSheet:{type:"items",items:{useLink:{ref:"useLink",type:"boolean",component:"switch",translation:"properties.kpi.linkToSheet",defaultValue:!1,options:[{value:!0,translation:"properties.on"},{value:!1,translation:"properties.off"}]},kpiLink:{ref:"sheetLink",type:"string",component:"sheet-dropdown",show:function(e){return e.useLink}},openUrlInNewTab:{ref:"openUrlInNewTab",type:"boolean",component:"switch",translation:"properties.kpi.openUrlInNewTab",defaultValue:!0,options:[{value:!0,translation:"properties.on"},{value:!1,translation:"properties.off"}],show:function(e){return e.useLink}}}}}},color:{type:"items",grouped:!1,translation:"properties.color",items:{conditionalColoring:{type:"array",component:"measures-tab",ref:"qHyperCubeDef.qMeasures",items:{useConditionalColoring:{ref:"qDef.conditionalColoring.useConditionalColoring",component:"switch",type:"boolean",options:[{value:!0,translation:"properties.on"},{value:!1,translation:"properties.off"}],translation:"properties.kpi.conditionalColoring",defaultValue:!1,change:function(e){var t=i(e,"qDef.conditionalColoring"),n=i(e,"qDef.conditionalColoring.segments.paletteColors")||i(e,"qDef.conditionalColoring.segments.colors");t&&t.useConditionalColoring&&1===n.length?e.qDef.conditionalColoring.segments.paletteColors=[{index:-1,color:o(e.qDef.conditionalColoring.paletteSingleColor||e.qDef.conditionalColoring.singleColor)}]:e.qDef.conditionalColoring.paletteSingleColor={index:-1,color:o(n[0])}}},useBaseColor:{ref:"qDef.conditionalColoring.useBaseColors",type:"boolean",defaultValue:!0,translation:"properties.libraryColors",component:"switch",show:function(e,t){var n=i(t.properties,"color.useBaseColors"),r=i(e,"qDef.conditionalColoring.useBaseColors");return"off"===n?(a(t.properties,"color.useBaseColors"),a(e,"qDef.conditionalColoring.useBaseColors",!1)):void 0===r&&a(e,"qDef.conditionalColoring.useBaseColors",!0),!0},options:[{value:!1,translation:"properties.off"},{value:!0,translation:"properties.on"}]},percentageWarning:{component:"text",translation:"properties.kpi.librarySegmentWarning",style:"hint",show:function(e){var t=i(e,"qDef.conditionalColoring.useBaseColors"),n=i(e,"qDef.conditionalColoring.useConditionalColoring");return t&&n}},paletteSingleColor:{component:"color-picker",translation:"properties.color",ref:"qDef.conditionalColoring.paletteSingleColor",type:"object",dualOutput:!0,defaultValue:r,show:function(e){return!l(e)&&e.qDef.conditionalColoring&&!e.qDef.conditionalColoring.useConditionalColoring}},rangeLimits:{type:"items",items:{min:{ref:"qDef.measureAxis.min",translation:"properties.axis.min",type:"number"},max:{ref:"qDef.measureAxis.max",translation:"Common.Max",type:"number",defaultValue:100}},show:function(){return!1}},segmentInfo:{ref:"qDef.conditionalColoring.segments",type:"items",component:"color-scale-creator",conditionalColoringRef:{props:"qHyperCubeDef.qMeasures",layout:"qHyperCube.qMeasureInfo"},useGlyph:!0,useAutoMinMax:!0,show:function(e){return!l(e)&&e.qDef.conditionalColoring.useConditionalColoring},items:{limits:{ref:"qDef.conditionalColoring.segments.limits",type:"array",items:{value:{ref:"value",type:"number",expression:"optional",invalid:function(e){return Number.isNaN(+e.value)},defaultValue:1},gradient:{translation:"properties.gradient",ref:"gradient",type:"boolean",show:!1}}},paletteColors:{type:"array",ref:"qDef.conditionalColoring.segments.paletteColors",defaultValue:[{index:6}],items:{color:{ref:"color",type:"string",defaultValue:""},index:{ref:"index",type:"integer"},icon:{ref:"icon",type:"string",defaultValue:""}}}}}}}}}}}}},support:{cssScaling:!1,snapshot:!0,export:!0,exportData:!0,sharing:!1}}}function f(e){return{targets:[{path:"/qHyperCubeDef",dimensions:{min:0,max:0},measures:{min:1,max:2,description:function(t,n){var r=0===n?"Visualizations.Descriptions.KPI.FirstMeasure":"Visualizations.Descriptions.KPI.SecondMeasure";return e.translator.get(r)}}}]}}function d(e,t){var n=(d.canvas||(d.canvas=document.createElement("canvas"))).getContext("2d");return n.font=t,n.measureText(e)}var p=function(e){return 1.5*d("m",e).width},m=function(e,t){var n=d(e,t);return void 0!==e?Math.ceil(n.width):0},h={NONE:0,ADJUSTTOTEXT:1},g={NONE:0,SCALE:1,MAX:2},y={ROW:"row",COLUMN:"column"};function v(e,t,n){var r=e.ratio?e.ratio:1,o=t/n;return e.direction===y.ROW?r>o?y.COLUMN:y.ROW:r>o?y.ROW:y.COLUMN}function b(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0,a="10px ".concat(i.getStyle("object.kpi","label.value","fontFamily")),l=p(a)+1,u=r?r*m("M",a):m(e,a)*o,s=1.2*l,c=Math.min(t/u,n/s);return{fontSize:Math.max(9*c,10)}}var x={checkLayout:function e(t){if(!t.components||0===t.components.length)return t;var n,r,o,i,a,l=0,u=t.boundingBox.height,s=t.boundingBox.width,c=t.direction,f=v(t,u,s);for(t.components.forEach((function(e){e.direction=e.direction?e.direction:f,n=e.size.min?e.size.min:e.size?e.size:0,"function"==typeof e.isVisible&&!e.isVisible()||n*u<(e.size.treshold&&e.size.treshold.height?e.size.treshold.height:10)||s<(e.size.treshold&&e.size.treshold.width?e.size.treshold.width:10)?e.show=!1:(l+=n,e.show=!0)})),o=t.components.length-1;o>=0;o--)i=t.components[o],l<1?i.size.stretch&&(i.size.value=i.size.min+(1-l)):"number"==typeof i.size||(i.size.value=null);return t.components.forEach((function(e){r=e.size.value?e.size.value:e.size.min?e.size.min:e.size,a={},c===y.ROW?(a.height=u,a.width=s*r):(a.width=s,a.height=u*r),e.boundingBox=a})),t.components.forEach((function(t){e(t)})),t},getDirection:v,sizeComponent:function e(t,n,r,o,i,a,l){var u,s,c=t.boundingBox.width,f=t.boundingBox.height;t.components&&t.components.forEach((function(n){e(n,t,c,f,i,a,l)})),"function"==typeof t.getText&&(i===g.MAX?u=b(t.getText(),c,f,null,null,l):i===g.SCALE?u=function(e,t,n,r){if(!e.fontSizes)return{fontSize:"10px"};var o=e.getText(),i=e.fontSizes,a=i.min,l=i.max,u=b(o,t,n,i.maxNrChars,e.fontSizes.scale||1,r),s=Math.min((n-a.height)/(l.height-a.height),1),c=a.fontSize+s*(l.fontSize-a.fontSize);return{fontSize:Math.max(Math.min(u.fontSize,c),a.fontSize)}}(t,c,f,l):(s=t.fontSizes.maxNrChars,u={fontSize:Math.max(310/s,10)}),a===h.ADJUSTTOTEXT&&(t.boundingBox={height:u.height,width:u.width}),t.fontSizes||(t.fontSizes={}),t.fontSizes.fontSize="".concat(10*u.fontSize,"%"),t.fontSizes.scaledFontSize=u.fontSize)},TextScaleMode:g,ElementScaleMode:h,Direction:y,FixedMobileHeight:150};var M,O,w,S,k,C,E,A={},q=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function T(e,t){for(var n in t)e[n]=t[n];return e}function N(e){var t=e.parentNode;t&&t.removeChild(e)}function L(e,t,n){var r,o=arguments,i={};for(r in t)"key"!==r&&"ref"!==r&&(i[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);if(null!=n&&(i.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===i[r]&&(i[r]=e.defaultProps[r]);return I(e,i,t&&t.key,t&&t.ref)}function I(e,t,n,r){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return M.vnode&&M.vnode(o),o}function j(e){return e.children}function P(e,t){this.props=e,this.context=t}function R(e,t){if(null==t)return e.__?R(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?R(e):null}function _(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return _(e)}}function z(e){(!e.__d&&(e.__d=!0)&&O.push(e)&&!w++||k!==M.debounceRendering)&&((k=M.debounceRendering)||S)(F)}function F(){for(var e;w=O.length;)e=O.sort((function(e,t){return e.__v.__b-t.__v.__b})),O=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],r=G(a,o,T({},o),t.__n,void 0!==a.ownerSVGElement,null,n,null==i?R(o):i),K(n,o),r!=i&&_(o)))}))}function U(e,t,n,r,o,i,a,l,u){var s,c,f,d,p,m,h,g=n&&n.__k||q,y=g.length;if(l==A&&(l=null!=i?i[0]:y?R(n,0):null),s=0,t.__k=H(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(f=g[s])||f&&n.key==f.key&&n.type===f.type)g[s]=void 0;else for(c=0;c<y;c++){if((f=g[c])&&n.key==f.key&&n.type===f.type){g[c]=void 0;break}f=null}if(d=G(e,n,f=f||A,r,o,i,a,l,u),(c=n.ref)&&f.ref!=c&&(h||(h=[]),f.ref&&h.push(f.ref,null,n),h.push(c,n.__c||d,n)),null!=d){var v;if(null==m&&(m=d),void 0!==n.__d)v=n.__d,n.__d=void 0;else if(i==f||d!=l||null==d.parentNode){e:if(null==l||l.parentNode!==e)e.appendChild(d),v=null;else{for(p=l,c=0;(p=p.nextSibling)&&c<y;c+=2)if(p==d)break e;e.insertBefore(d,l),v=l}"option"==t.type&&(e.value="")}l=void 0!==v?v:d.nextSibling,"function"==typeof t.type&&(t.__d=l)}else l&&f.__e==l&&l.parentNode!=e&&(l=R(f))}return s++,n})),t.__e=m,null!=i&&"function"!=typeof t.type)for(s=i.length;s--;)null!=i[s]&&N(i[s]);for(s=y;s--;)null!=g[s]&&Z(g[s],g[s]);if(h)for(s=0;s<h.length;s++)X(h[s],h[++s],h[++s])}function H(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)H(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?I(null,e,null,null):null!=e.__e||null!=e.__c?I(e.type,e.props,e.key,null):e):e);return n}function B(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===D.test(t)?n+"px":null==n?"":n}function V(e,t,n,r,o){var i,a,l,u,s;if(o?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(a in r)n&&a in n||B(i,a,"");if(n)for(l in n)r&&n[l]===r[l]||B(i,l,n[l])}else"o"===t[0]&&"n"===t[1]?(u=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),n?(r||e.addEventListener(t,W,u),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,W,u)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function W(e){this.l[e.type](M.event?M.event(e):e)}function G(e,t,n,r,o,i,a,l,u){var s,c,f,d,p,m,h,g,y,v,b=t.type;if(void 0!==t.constructor)return null;(s=M.__b)&&s(t);try{e:if("function"==typeof b){if(g=t.props,y=(s=b.contextType)&&r[s.__c],v=s?y?y.props.value:s.__:r,n.__c?h=(c=t.__c=n.__c).__=c.__E:("prototype"in b&&b.prototype.render?t.__c=c=new b(g,v):(t.__c=c=new P(g,v),c.constructor=b,c.render=J),y&&y.sub(c),c.props=g,c.state||(c.state={}),c.context=v,c.__n=r,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=b.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=T({},c.__s)),T(c.__s,b.getDerivedStateFromProps(g,c.__s))),d=c.props,p=c.state,f)null==b.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==b.getDerivedStateFromProps&&g!==d&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,v),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,v)){for(c.props=g,c.state=c.__s,c.__d=!1,c.__v=t,t.__e=n.__e,t.__k=n.__k,c.__h.length&&a.push(c),s=0;s<t.__k.length;s++)t.__k[s]&&(t.__k[s].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,v),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(d,p,m)}))}c.context=v,c.props=g,c.state=c.__s,(s=M.__r)&&s(t),c.__d=!1,c.__v=t,c.__P=e,s=c.render(c.props,c.state,c.context),t.__k=null!=s&&s.type==j&&null==s.key?s.props.children:Array.isArray(s)?s:[s],null!=c.getChildContext&&(r=T(T({},r),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(m=c.getSnapshotBeforeUpdate(d,p)),U(e,t,n,r,o,i,a,l,u),c.base=t.__e,c.__h.length&&a.push(c),h&&(c.__E=c.__=null),c.__e=!1}else t.__e=$(n.__e,t,n,r,o,i,a,u);(s=M.diffed)&&s(t)}catch(e){M.__e(e,t,n)}return t.__e}function K(e,t){M.__c&&M.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){M.__e(e,t.__v)}}))}function $(e,t,n,r,o,i,a,l){var u,s,c,f,d,p=n.props,m=t.props;if(o="svg"===t.type||o,null!=i)for(u=0;u<i.length;u++)if(null!=(s=i[u])&&((null===t.type?3===s.nodeType:s.localName===t.type)||e==s)){e=s,i[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),i=null}if(null===t.type)p!==m&&e.data!=m&&(e.data=m);else if(t!==n){if(null!=i&&(i=q.slice.call(e.childNodes)),c=(p=n.props||A).dangerouslySetInnerHTML,f=m.dangerouslySetInnerHTML,!l){if(p===A)for(p={},d=0;d<e.attributes.length;d++)p[e.attributes[d].name]=e.attributes[d].value;(f||c)&&(f&&c&&f.__html==c.__html||(e.innerHTML=f&&f.__html||""))}(function(e,t,n,r,o){var i;for(i in n)i in t||V(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"value"===i||"checked"===i||n[i]===t[i]||V(e,i,t[i],n[i],r)})(e,m,p,o,l),t.__k=t.props.children,f||U(e,t,n,r,"foreignObject"!==t.type&&o,i,a,A,l),l||("value"in m&&void 0!==m.value&&m.value!==e.value&&(e.value=null==m.value?"":m.value),"checked"in m&&void 0!==m.checked&&m.checked!==e.checked&&(e.checked=m.checked))}return e}function X(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){M.__e(e,n)}}function Z(e,t,n){var r,o,i;if(M.unmount&&M.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||X(r,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){M.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Z(r[i],t,n);null!=o&&N(o)}function J(e,t,n){return this.constructor(e,n)}function Y(e,t,n){var r,o,i;M.__&&M.__(e,t),o=(r=n===C)?null:n&&n.__k||t.__k,e=L(j,null,[e]),i=[],G(t,(r?t:n||t).__k=e,o||A,A,void 0!==t.ownerSVGElement,n&&!r?[n]:o?null:q.slice.call(t.childNodes),i,n||A,r),K(i,e)}function Q(e,t){Y(e,t,C)}function ee(e,t){return t=T(T({},e.props),t),arguments.length>2&&(t.children=q.slice.call(arguments,2)),I(e.type,t,t.key||e.key,t.ref||e.ref)}M={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return z(n.__E=n)}catch(t){e=t}throw e}},P.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=T({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&T(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),z(this))},P.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),z(this))},P.prototype.render=j,O=[],w=0,S="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,C=A,E=0;var te,ne,re,oe=[],ie=M.__r,ae=M.diffed,le=M.__c,ue=M.unmount;function se(e){M.__h&&M.__h(ne);var t=ne.__H||(ne.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function ce(e,t,n){var r=se(te++);return r.__c||(r.__c=ne,r.__=[n?n(t):ye(void 0,t),function(t){var n=e(r.__[0],t);r.__[0]!==n&&(r.__[0]=n,r.__c.setState({}))}]),r.__}function fe(e,t){var n=se(te++);ge(n.__H,t)&&(n.__=e,n.__H=t,ne.__h.push(n))}function de(e,t){var n=se(te++);return ge(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function pe(){oe.some((function(e){if(e.__P)try{e.__H.__h.forEach(me),e.__H.__h.forEach(he),e.__H.__h=[]}catch(t){return M.__e(t,e.__v),!0}})),oe=[]}function me(e){e.t&&e.t()}function he(e){var t=e.__();"function"==typeof t&&(e.t=t)}function ge(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function ye(e,t){return"function"==typeof t?t(e):t}function ve(e,t){for(var n in t)e[n]=t[n];return e}function be(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}M.__r=function(e){ie&&ie(e),te=0,(ne=e.__c).__H&&(ne.__H.__h.forEach(me),ne.__H.__h.forEach(he),ne.__H.__h=[])},M.diffed=function(e){ae&&ae(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==oe.push(t)&&re===M.requestAnimationFrame||((re=M.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(pe))}},M.__c=function(e,t){t.some((function(e){try{e.__h.forEach(me),e.__h=e.__h.filter((function(e){return!e.__||he(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],M.__e(n,e.__v)}})),le&&le(e,t)},M.unmount=function(e){ue&&ue(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){M.__e(e,t.__v)}}};var xe=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(e,t){return be(this.props,e)||be(this.state,t)},r}(P);var Me=M.__b;M.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),Me&&Me(e)};var Oe=function(e,t){return e?H(e).reduce((function(e,n,r){return e.concat(t(n,r))}),[]):null},we={map:Oe,forEach:Oe,count:function(e){return e?H(e).length:0},only:function(e){if(1!==(e=H(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:H},Se=M.__e;function ke(e){return e&&((e=ve({},e)).__c=null,e.__k=e.__k&&e.__k.map(ke)),e}function Ce(e){this.__u=0,this.o=null,this.__b=null}function Ee(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function Ae(){this.i=null,this.l=null}M.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return r.__c(e,t.__c);Se(e,t,n)},(Ce.prototype=new P).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var r=Ee(n.__v),o=!1,i=function(){o||(o=!0,r?r(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){i(),t.__c&&t.__c()};var a=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(i,i)},Ce.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=ke(this.__b),this.__b=null),[L(P,null,t.u?null:e.children),t.u&&e.fallback]};var qe=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(Ae.prototype=new P).u=function(e){var t=this,n=Ee(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),qe(t,e,r)):o()};n?n(i):i()}},Ae.prototype.render=function(e){this.i=null,this.l=new Map;var t=H(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ae.prototype.componentDidUpdate=Ae.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){qe(e,n,t)}))};var De=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function Te(e){var t=this,n=e.container,r=L(De,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),Z(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,Y(r,n),t.__k=n.__k):(t.v=document.createTextNode(""),Q("",n),n.appendChild(t.v),t.p=!0,t.s=n,Y(r,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Z(t.h)),t.h=r,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Z(t.h)},null}var Ne=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;P.prototype.isReactComponent={};var Le="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function Ie(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return Y(e,t),"function"==typeof n&&n(),e?e.__c:null}var je=M.event;function Pe(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}M.event=function(e){je&&(e=je(e)),e.persist=function(){};var t=!1,n=!1,r=e.stopPropagation;e.stopPropagation=function(){r.call(e),t=!0};var o=e.preventDefault;return e.preventDefault=function(){o.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var Re={configurable:!0,get:function(){return this.class}},_e=M.vnode;function ze(e){return!!e&&e.$$typeof===Le}M.vnode=function(e){e.$$typeof=Le;var t=e.type,n=e.props;if(n.class!=n.className&&(Re.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",Re)),"function"!=typeof t){var r,o,i;for(i in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(H(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(r=Ne.test(i))break;if(r)for(i in o=e.props={},n)o[Ne.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=n[i]}!function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var o={};for(var i in r)/^on(Ani|Tra|Tou)/.test(i)&&(r[i.toLowerCase()]=r[i],delete r[i]),o[i.toLowerCase()]=i;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var a=o.oninput||"oninput";r[a]||(r[a]=r[o.onchange],delete r[o.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(Pe(t.prototype,"componentWillMount"),Pe(t.prototype,"componentWillReceiveProps"),Pe(t.prototype,"componentWillUpdate"),t.m=!0),_e&&_e(e)};var Fe={useState:function(e){return ce(ye,e)},useReducer:ce,useEffect:function(e,t){var n=se(te++);ge(n.__H,t)&&(n.__=e,n.__H=t,ne.__H.__h.push(n))},useLayoutEffect:fe,useRef:function(e){return de((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,n){fe((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:de,useCallback:function(e,t){return de((function(){return e}),t)},useContext:function(e){var t=ne.context[e.__c];if(!t)return e.__;var n=se(te++);return null==n.__&&(n.__=!0,t.sub(ne)),t.props.value},useDebugValue:function(e,t){M.useDebugValue&&M.useDebugValue(t?t(e):e)},version:"16.8.0",Children:we,render:Ie,hydrate:Ie,unmountComponentAtNode:function(e){return!!e.__k&&(Y(null,e),!0)},createPortal:function(e,t){return L(Te,{vnode:e,container:t})},createElement:L,createContext:function(e){var t={},n={__c:"__cC"+E++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=o,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,z(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n},createFactory:function(e){return L.bind(null,e)},cloneElement:function(e){return ze(e)?ee.apply(null,arguments):e},createRef:function(){return{}},Fragment:j,isValidElement:ze,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:P,PureComponent:xe,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:be(this.props,e)}function r(t){return this.shouldComponentUpdate=n,L(e,ve({},t))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r},forwardRef:function(e){function t(t){var n=ve({},t);return delete n.ref,e(n,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},unstable_batchedUpdates:function(e,t){return e(t)},Suspense:Ce,SuspenseList:Ae,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return L(n,o)}return o.displayName="Lazy",o.t=!0,o}};function Ue(){}function He(){}He.resetWarningCache=Ue;var Be=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:He,resetWarningCache:Ue};return n.PropTypes=n,n}()}));function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ge(e,t,n[t])}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function $e(e){return"large"===e?"20px":"small"===e?"12px":"inherit"===e?"null":"16px"}var Xe=function(e){var t=e.d,n=e.size,r=e.style,o=Ke(e,["d","size","style"]);return Fe.createElement("i",Ve({style:We({fontSize:$e(n),display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-.125em",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},r)},o),Fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},Fe.createElement("path",{d:t})))};var Ze={"lui-icon--tick":function(e){return Fe.createElement(Xe,Object.assign({d:"M6,10 L13,3 L15,5 L8,12 L6,14 L1,9 L3,7 L6,10 Z"},e))},"lui-icon--star":function(e){return Fe.createElement(Xe,Object.assign({d:"M15.5547828,6.35617376 L11.108898,9.91288163 C11.0434673,9.96522615 11.0176029,10.0528088 11.0441003,10.1323009 L12.7858364,15.3575093 C12.820766,15.462298 12.764134,15.575562 12.6593453,15.6104915 C12.5949847,15.6319451 12.5241365,15.6193092 12.4711608,15.5769286 L8.12493901,12.0999512 C8.05189528,12.0415162 7.94810472,12.0415162 7.87506099,12.0999512 L3.52883924,15.5769286 C3.44258685,15.6459305 3.31672838,15.6319462 3.24772647,15.5456939 C3.20534585,15.4927181 3.19271002,15.4218699 3.21416357,15.3575093 L4.95589969,10.1323009 C4.98239708,10.0528088 4.95653269,9.96522615 4.89110204,9.91288163 L0.445217202,6.35617376 C0.358964815,6.28717185 0.34498054,6.16131338 0.41398245,6.07506099 C0.451936887,6.02761794 0.509399467,6 0.570156212,6 L5.85584816,6 C5.94193424,6 6.01836201,5.94491398 6.04558482,5.86324555 L7.81026334,0.569209979 C7.84519289,0.464421315 7.95845689,0.407789318 8.06324555,0.442718872 C8.12296655,0.462625872 8.16982966,0.50948898 8.18973666,0.569209979 L9.95441518,5.86324555 C9.98163799,5.94491398 10.0580658,6 10.1441518,6 L15.4298438,6 C15.5403007,6 15.6298438,6.08954305 15.6298438,6.2 C15.6298438,6.26075674 15.6022258,6.31821932 15.5547828,6.35617376 Z"},e))},"lui-icon--triangle-top":function(e){return Fe.createElement(Xe,Object.assign({d:"M13.6,11 L2.4,11 C2.28954305,11 2.2,10.9104569 2.2,10.8 C2.2,10.756726 2.21403557,10.7146192 2.24,10.68 L7.84,3.21333333 C7.90627417,3.12496777 8.03163444,3.10705916 8.12,3.17333333 C8.13516113,3.18470418 8.14862915,3.1981722 8.16,3.21333333 L13.76,10.68 C13.8262742,10.7683656 13.8083656,10.8937258 13.72,10.96 C13.6853808,10.9859644 13.643274,11 13.6,11 Z"},e))},"lui-icon--triangle-bottom":function(e){return Fe.createElement(Xe,Object.assign({d:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z"},e))},"lui-icon--triangle-left":function(e){return Fe.createElement(Xe,Object.assign({d:"M11,2.4 L11,13.6 C11,13.7104569 10.9104569,13.8 10.8,13.8 C10.756726,13.8 10.7146192,13.7859644 10.68,13.76 L3.21333333,8.16 C3.12496777,8.09372583 3.10705916,7.96836556 3.17333333,7.88 C3.18470418,7.86483887 3.1981722,7.85137085 3.21333333,7.84 L10.68,2.24 C10.7683656,2.17372583 10.8937258,2.19163444 10.96,2.28 C10.9859644,2.31461923 11,2.35672596 11,2.4 Z"},e))},"lui-icon--triangle-right":function(e){return Fe.createElement(Xe,Object.assign({d:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"},e))},"lui-icon--plus":function(e){return Fe.createElement(Xe,Object.assign({d:"M9,9 L12.5,9 C12.75,9 13,8.7 13,8.4 L13,7.6 C13,7.3 12.75,7 12.5,7 L9,7 L9,3.5 C9,3.25 8.7,3 8.4,3 L7.7,3 C7.3,3 7,3.25 7,3.5 L7,7 L3.5,7 C3.25,7 3,7.3 3,7.6 L3,8.3 C3,8.7 3.25,9 3.5,9 L7,9 L7,12.5 C7,12.75 7.3,13 7.6,13 L8.4,13 C8.7,13 9,12.75 9,12.5 L9,9 Z M8,0 C12.4,0 16,3.6 16,8 C16,12.4 12.4,16 8,16 C3.6,16 0,12.4 0,8 C0,3.6 3.6,0 8,0 Z"},e))},"lui-icon--minus":function(e){return Fe.createElement(Xe,Object.assign({d:"M8,0 C12.4,0 16,3.6 16,8 C16,12.4 12.4,16 8,16 C3.6,16 0,12.4 0,8 C0,3.6 3.6,0 8,0 Z M12.5,9 C12.75,9 13,8.7 13,8.4 L13,7.6 C13,7.3 12.75,7 12.5,7 L3.5,7 C3.25,7 3,7.3 3,7.6 L3,8.3 C3,8.7 3.25,9 3.5,9 L12.5,9 Z"},e))},"lui-icon--warning-triangle":function(e){return Fe.createElement(Xe,Object.assign({d:"M15.7375198,13.5 C16.2375198,14.3 15.8375198,15 14.9375198,15 L1.03751982,15 C0.0375198248,15 -0.262480175,14.3 0.237519825,13.5 L7.03751982,1.6 C7.53751982,0.8 8.33751982,0.8 8.83751982,1.6 L15.7375198,13.5 Z M8.93751982,11.5 C8.93751982,11.2 8.73751982,11 8.43751982,11 L7.43751982,11 C7.13751982,11 6.93751982,11.2 6.93751982,11.5 L6.93751982,12.5 C6.93751982,12.8 7.13751982,13 7.43751982,13 L8.43751982,13 C8.73751982,13 8.93751982,12.8 8.93751982,12.5 L8.93751982,11.5 Z M8.93751982,5.5 C8.93751982,5.2 8.73751982,5 8.43751982,5 L7.43751982,5 C7.13751982,5 6.93751982,5.2 6.93751982,5.5 L6.93751982,9.5 C6.93751982,9.8 7.13751982,10 7.43751982,10 L8.43751982,10 C8.73751982,10 8.93751982,9.8 8.93751982,9.5 L8.93751982,5.5 Z"},e))},"lui-icon--hand":function(e){return Fe.createElement(Xe,Object.assign({d:"M13.9,7.4 C12.9,8.7 13.3,8.9 12.4,11.5 C11.9,13.3 11.2,14.4 10.7,15.1 C10.4,15.5 10.1,15.8 9.8,16 L4.2,16 C3.2,16 2.6,15.5 2.3,15 C2.1,14.7 2,14.4 2,14 L2,4.2 C2,3.8 2.3,3.5 2.7,3.5 C3.1,3.5 3.4,3.8 3.4,4.2 L3.4,7.8 L4.3,7.7 L4.3,1.6 C4.3,1.2 4.6,0.9 5,0.9 C5.4,0.9 5.7,1.2 5.7,1.6 L5.7,6.7 L6.8,6.5 L6.8,0.7 C6.7,0.3 7,0 7.4,0 C7.8,0 8.1,0.3 8.1,0.7 L8.1,6.6 L9.2,6.7 L9.2,1.6 C9.2,1.2 9.5,0.9 9.9,0.9 C10.3,0.9 10.6,1.2 10.6,1.6 L10.6,9.3 C10.6,9.3 10.6,9.3 10.6,9.3 C10.6,9.3 10.7,9.3 10.7,9.1 L11.3,7.7 C12.4,5.6 14.4,6.6 13.9,7.4 Z"},e))},"lui-icon--flag":function(e){return Fe.createElement(Xe,Object.assign({d:"M3,9 L3,15.5 C3,15.7761424 2.77614237,16 2.5,16 C2.22385763,16 2,15.7761424 2,15.5 L2,0.5 C2,0.223857625 2.22385763,5.07265313e-17 2.5,0 C2.77614237,-5.07265313e-17 3,0.223857625 3,0.5 L3,1 C4.62743495,1.42599508 5.84965717,1.63899261 6.66666667,1.63899261 C7.89218092,1.63899261 8.44059821,0.64422826 10.5376148,0.443223427 C11.8517998,0.317255166 12.9504722,0.473704875 13.8336319,0.912572557 L13.8335748,0.912687425 C13.9355292,0.96335152 14,1.06738112 14,1.18122992 L14.0001528,8.5254774 C14.0001528,8.69124724 13.8657698,8.82563025 13.7,8.82563025 C13.6598942,8.82563025 13.6201952,8.81759278 13.5832478,8.8019926 C12.6911212,8.42531264 11.675962,8.28656104 10.5377701,8.38573779 C8.55866392,8.55818792 8.45466035,9.4932868 6.66666667,9.63899261 C5.47467088,9.73612983 4.25244866,9.52313229 3,9 Z"},e))},"lui-icon--lightbulb":function(e){return Fe.createElement(Xe,Object.assign({d:"M5,13 L11,13 L11,14.5 C11,14.8 10.8,15 10.5,15 L10,15 L10,15.5 C10,15.8 9.8,16 9.5,16 L6.5,16 C6.2,16 6,15.8 6,15.5 L6,15 L5.5,15 C5.2,15 5,14.8 5,14.5 L5,13 Z M5,12 C5,10 2,9 2,5 C2,2 5,0 8,0 C11,0 14,2 14,5 C14,9 11,9 11,12 L8,12 L5,12 Z M4.5,5 C4.8,5 5,4.8 5,4.5 C5,4.2 5.2,3.8 5.5,3.5 C5.8,3.2 6.1,3 6.5,3 C6.8,3 7,2.8 7,2.5 C7,2.2 6.8,2 6.5,2 C5.9,2 5.3,2.3 4.8,2.8 C4.3,3.3 4,3.9 4,4.5 C4,4.8 4.2,5 4.5,5 Z"},e))},"lui-icon--stop":function(e){return Fe.createElement(Xe,Object.assign({d:"M13,14 L3,14 C2.44771525,14 2,13.5522847 2,13 L2,3 C2,2.44771525 2.44771525,2 3,2 L13,2 C13.5522847,2 14,2.44771525 14,3 L14,13 C14,13.5522847 13.5522847,14 13,14 Z"},e))},"lui-icon--pie-chart":function(e){return Fe.createElement(Xe,Object.assign({d:"M7,1 L7,8 L14,8 C14,11.8659932 10.8659932,15 7,15 C3.13400675,15 0,11.8659932 0,8 C0,4.13400675 3.13400675,1 7,1 Z M8,1.15888847e-31 C11.8659932,6.95889291e-16 15,3.13400675 15,7 L8,7 L8,-8.8817842e-16 Z"},e))},"lui-icon--add":function(e){return Fe.createElement(Xe,Object.assign({d:"M6.5,6.5 L6.5,2 C6.5,1.44771525 6.94771525,1 7.5,1 L8.5,1 C9.05228475,1 9.5,1.44771525 9.5,2 L9.5,6.5 L14,6.5 C14.5522847,6.5 15,6.94771525 15,7.5 L15,8.5 C15,9.05228475 14.5522847,9.5 14,9.5 L9.5,9.5 L9.5,14 C9.5,14.5522847 9.05228475,15 8.5,15 L7.5,15 C6.94771525,15 6.5,14.5522847 6.5,14 L6.5,9.5 L2,9.5 C1.44771525,9.5 1,9.05228475 1,8.5 L1,7.5 C1,6.94771525 1.44771525,6.5 2,6.5 L6.5,6.5 Z"},e))},"lui-icon--minus-2":function(e){return Fe.createElement(Xe,Object.assign({d:"M2,6.5 L14,6.5 C14.5522847,6.5 15,6.94771525 15,7.5 L15,8.5 C15,9.05228475 14.5522847,9.5 14,9.5 L2,9.5 C1.44771525,9.5 1,9.05228475 1,8.5 L1,7.5 C1,6.94771525 1.44771525,6.5 2,6.5 Z"},e))},"lui-icon--dot":function(e){return Fe.createElement(Xe,Object.assign({d:"M8,0 C12.4,0 16,3.6 16,8 C16,12.4 12.4,16 8,16 C3.6,16 0,12.4 0,8 C0,3.6 3.6,0 8,0 L8,0 Z"},e))}};function Je(e){var t=e.cssClass,n=Ze[t];return Fe.createElement(n,{size:"inherit",class:"value-icon"})}var Ye=Fe.useState,Qe=Fe.useEffect;function et(e){var t=e.endValue,n=e.duration,r=e.formatter,o=u(Ye(t),2),i=o[0],a=o[1],l=u(Ye(null),2),s=l[0],c=l[1],f=function e(t,r,o,i,l){if(!(i-l>=n))return a(r=t+(1-(l+n-i)/n)*o),window.requestAnimationFrame((function(n){return e(t,r,o,n,l)}));c(Math.random())};return Qe((function(){if(i!==t){var e=performance.now();f(i,i,t-i,e,e)}}),[t]),Qe((function(){null!==s&&a(t)}),[s]),r.format(i)}et.propTypes={endValue:Be.number.isRequired,duration:Be.number.isRequired,formatter:Be.object.isRequired};var tt=Object.prototype.hasOwnProperty,nt=Object.prototype.toString,rt=Object.defineProperty,ot=Object.getOwnPropertyDescriptor,it=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===nt.call(e)},at=function(e){if(!e||"[object Object]"!==nt.call(e))return!1;var t,n=tt.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&tt.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||tt.call(e,t)},lt=function(e,t){rt&&"__proto__"===t.name?rt(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},ut=function(e,t){if("__proto__"===t){if(!tt.call(e,t))return;if(ot)return ot(e,t).value}return e[t]},st=function e(){var t,n,r,o,i,a,l=arguments[0],u=1,s=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},u=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});u<s;++u)if(null!=(t=arguments[u]))for(n in t)r=ut(l,n),l!==(o=ut(t,n))&&(c&&o&&(at(o)||(i=it(o)))?(i?(i=!1,a=r&&it(r)?r:[]):a=r&&at(r)?r:{},lt(l,{name:n,newValue:e(c,a,o)})):void 0!==o&&lt(l,{name:n,newValue:o}));return l};function ct(e,t){if(!e||isNaN(+t))return t;var n=(t="-"==e.charAt(0)?-t:+t)<0?t=-t:0,r=e.match(/[^\d\-\+#]/g),o=r&&r[r.length-1]||".",i=r&&r[1]&&r[0]||",";e=e.split(o);t=t.toFixed(e[1]&&e[1].length),t="".concat(+t);var a=e[1]&&e[1].lastIndexOf("0"),l=t.split(".");(!l[1]||l[1]&&l[1].length<=a)&&(t=(+t).toFixed(a+1));var u=e[0].split(i);e[0]=u.join("");var s=e[0]&&e[0].indexOf("0");if(s>-1)for(;l[0].length<e[0].length-s;)l[0]="0".concat(l[0]);else 0==+l[0]&&(l[0]="");(t=t.split("."))[0]=l[0];var c=u[1]&&u[u.length-1].length;if(c){for(var f=t[0],d="",p=f.length%c,m=0,h=f.length;m<h;m++)d+=f.charAt(m),!((m-p+1)%c)&&m<h-c&&(d+=i);t[0]=d}return t[1]=e[1]&&t[1]?o+t[1]:"",(n?"-":"")+t[0]+t[1]}var ft=function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")},dt={3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",24:"Y","-3":"m","-6":"μ","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},pt=/%$/,mt=/^\(r(0[2-9]|[12]\d|3[0-6])\)/i,ht=/^\(oct\)/i,gt=/^\(dec\)/i,yt=/^\(hex\)/i,vt=/^\(bin\)/i,bt=/^\(rom\)/i,xt=/^(\(rom\)|\(bin\)|\(hex\)|\(dec\)|\(oct\)|\(r(0[2-9]|[12]\d|3[0-6])\))/i;function Mt(e,t,n,r){return e=e.toString(t),n[1]===n[1].toUpperCase()&&(e=e.toUpperCase()),e.length-e.indexOf(".")>10&&(e=e.slice(0,e.indexOf(".")+11)),e.replace(".",r||".")}function Ot(e,t,n){var r;return mt.test(t)?e=Mt(e,Number(/\d{2}/.exec(t)[0]),t,n):ht.test(t)?e=Mt(e,8,t,n):gt.test(t)?e=Mt(e,10,t,n):yt.test(t)?e=Mt(e,16,t,n):vt.test(t)?e=Mt(e,2,t,n):bt.test(t)&&(r="",e<0&&(r="-",e=-e),e=0===(e=Math.floor(e))?"0":e<=5e5?r+(e=function(e,t){var n,r="",o=Number(String(e).slice(-3)),i=(e-o)/1e3,a=[0,1,4,5,9,10,40,50,90,100,400,500,900].reverse(),l=["0","I","IV","V","IX","X","XL","L","XC","C","CD","D","CM"].reverse();for(;o>0;)for(n=0;n<a.length;n++)if(a[n]<=o){r+=l[n],o-=a[n];break}for(n=0;n<i;n++)r="M".concat(r);t[1]!==t[1].toUpperCase()&&(r=r.toLowerCase());return r}(e,t)):t+r+e.toExponential(0)),e}var wt=function(){function e(t,r,o,i,a){n(this,e),this.localeInfo=t,this.pattern=r,this.thousandDelimiter=o||",",this.decimalDelimiter=i||".",this.type=a||"numeric",this.abbreviations=function(e){if(!e||!e.qNumericalAbbreviation)return dt;var t={};return e.qNumericalAbbreviation.split(";").forEach((function(e){var n=e.split(":");2===n.length&&(t[n[0]]=n[1])})),t}(t),this.prepare()}return o(e,[{key:"clone",value:function(){var t=new e(this.localeInfo,this.pattern,this.thousandDelimiter,this.decimalDelimiter,this.type);return t.subtype=this.subtype,t}},{key:"format",value:function(e,t,n,r){return this.prepare(t,n,r),this.formatValue(e)}},{key:"prepare",value:function(e,t,n){if(void 0===e&&(e=this.pattern),void 0===t&&(t=this.thousandDelimiter),void 0===n&&(n=this.decimalDelimiter),e){this._prepared={positive:{d:n,t:t,abbreviate:!1,isFunctional:!1,prefix:"",postfix:""},negative:{d:n,t:t,abbreviate:!1,isFunctional:!1,prefix:"",postfix:""}};var r=this._prepared;e=e.split(";"),r.positive.pattern=e[0],r.negative.pattern=e[1],xt.test(e[0])&&(r.positive.isFunctional=!0),e[1]?xt.test(e[1])&&(r.negative.isFunctional=!0):r.negative=!1,r.positive.isFunctional&&(!r.negative||r.negative&&r.negative.isFunctional)||(St(r.positive,t,n),r.negative&&St(r.negative,t,n))}else this._prepared={pattern:!1}}},{key:"formatValue",value:function(e){var t,n,r,o,i,a,l,u=this._prepared,s="",c="";if(Number.isNaN(+e))return e;if(!1===u.pattern)return e.toString();e<0&&u.negative?(u=u.negative,e=-e):u=u.positive;var f=u.d,d=u.t;if(u.isFunctional)e=Ot(e,u.pattern,f);else{if(u.percentage&&(e*=100),u.abbreviate){var p,m,h=this.abbreviations,g=Object.keys(h).map((function(e){return parseInt(e,10)})).sort((function(e,t){return e>t?1:-1})),y=g[0];for(i=0,n=Number(Number(e).toExponential().split("e")[1]);y<=n&&i<g.length;)y=g[++i];i>0&&(p=g[i-1]),p&&n>0&&p>0?m=p:(n<0&&p<0||!p)&&(y<0&&y-n<=u.maxPrecision?m=y:p<=n&&!(y>0&&-n<=u.maxPrecision)&&(m=p)),m&&(s=h[m],e/=Math.pow(10,m))}if(r=Math.abs(e),t=u.temp,l=(a=u.numericPattern).split(f)[1],"I"===this.type&&(e=Math.round(e)),o=e,l||"#"!==a.slice(-1)[0])if(r>=1e15||r>0&&r<=1e-14)e=r?r.toExponential(15).replace(/\.?0+(?=e)/,""):"0";else{var v=Number(e.toFixed(Math.min(20,l?l.length:0)).split(".")[0]),b=a.split(f)[0];if(e=ct(b+=f,v)||"0",l){var x=Math.max(0,Math.min(14,l.length)),M=l.replace(/#+$/,"").length,O=Number((r%1).toPrecision(x)).toFixed(x);for(i=(O=O.slice(2).replace(/0+$/,"")).length;i<M;i++)O+="0";O&&(e+=f+O)}else 0===v&&(o=0)}else if(r>=Math.pow(10,t)||r<1||r<1e-4)0===e?e="0":r<1e-4||r>=1e20?(e=(e=o.toExponential(Math.max(1,Math.min(14,t))-1)).replace(/\.?0+(?=e)/,""),c=""):(e=e.toPrecision(Math.max(1,Math.min(14,t)))).indexOf(".")>=0&&(e=(e=e.replace(e.indexOf("e")<0?/0+$/:/\.?0+(?=e)/,"")).replace(".",f));else{for(a+=f,t=Math.max(0,Math.min(20,t-Math.ceil(Math.log(r)/Math.log(10)))),i=0;i<t;i++)a+="#";e=ct(a,e)}e=e.replace(u.numericRegex,(function(e){return e===d?u.groupTemp:e===f?u.decTemp:""})),o<0&&!/^-/.test(e)&&(e="-".concat(e))}return u.prefix+e+c+s+u.postfix}}]),e}();function St(e,t,n){var r,o,i=e.pattern;i.indexOf("A")>=0&&(i=i.replace("A",""),e.abbreviate=!0);var a=function(e,t){t&&(t=ft(t));e&&(e=ft(e));return new RegExp("(?:[#0]+".concat(e,")?[#0]+(?:").concat(t,"[#0]+)?"))}(t,n),l=i.match(a),u=(l=l?l[0]:"")?i.substr(0,i.indexOf(l)):i,s=l?i.substring(i.indexOf(l)+l.length):"";l||(l=i?"#":"##########"),t&&t===n&&(o=(r=l.split(n)).pop(),l=r.join("")+n+o,t="");var c=t;t=/,/.test(n)?"¤":",",c&&(l=l.replace(kt(c,"g"),t));var f=n;n=".",f&&(l=l.replace(kt(f,"g"),n));var d=l.match(/#/g);d=d?d.length:0;var p,m=i.split(f);m[1]&&(p=m[1].match(/#|0/g)),e.prefix=u||"",e.postfix=s||"",e.pattern=i,e.maxPrecision=p?p.length:2,e.percentage=pt.test(i),e.numericPattern=l||"",e.numericRegex=new RegExp("".concat(kt(t,null,!0),"|").concat(kt(n,null,!0)),"g"),e.groupTemp=c,e.decTemp=f,e.t=t,e.d=n,e.temp=d}function kt(e,t,n){var r=ft(e);return n?r:new RegExp(r||"",t)}wt.getStaticFormatter=function(){return{prepare:function(){},formatValue:function(e){return"".concat(e)}}};var Ct=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Et=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],At=["January","February","March","April","May","June","July","August","September","October","November","December"],qt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Dt(e,t){for(var n=e.length;n<t;n++)e="0".concat(e);return e}function Tt(e){var t=e.toString().split(".");return t[1]?t=Number("0.".concat(t[1])):0}function Nt(e){var t=e,n=24*Tt(t),r=60*Tt(n),o=60*Tt(r),i=1e3*Tt(o);return{d:Math.floor(t),h:Math.floor(n),m:Math.floor(r),s:Math.floor(o),f:Math.round(i)}}var Lt=function(){function e(t,r){n(this,e);var o=t||{};o.qCalendarStrings||(o.qCalendarStrings={qLongDayNames:Ct,qDayNames:Et,qLongMonthNames:At,qMonthNames:qt}),this.localeInfo=o,this.locale_days=o.qCalendarStrings.qLongDayNames.slice(),this.locale_days_abbr=o.qCalendarStrings.qDayNames.slice(),this.locale_months=o.qCalendarStrings.qLongMonthNames.slice(),this.locale_months_abbr=o.qCalendarStrings.qMonthNames.slice(),this.pattern=r}return o(e,[{key:"clone",value:function(){var t=new e(this.localeInfo,this.pattern);return t.subtype=this.subtype,t}},{key:"format",value:function(e,t){t||(t=this.pattern?this.pattern:"YYYY-MM-DD hh:mm:ss"),t=t.replace(/\[.+\]|\[|\]/g,"");var n,r=/t+/gi.test(t);e instanceof Date?n=function(e,t){var n=e.getHours(),r=e.getDay()-1;return t&&((n%=12)||(n=12)),r<0&&(r=6),{year:e.getFullYear(),month:e.getMonth(),day:r,date:e.getDate(),h:n,m:e.getMinutes(),s:e.getSeconds(),f:e.getMilliseconds(),t:e.getHours()>=12?"pm":"am"}}(e,r):(e<0&&(e=-e,t="-".concat(t)),n=function(e,t){var n,r=Nt(e),o=r.d,i=r.h,a=r.m,l=r.s,u=r.f,s=0;return/w+|t+/gi.test(t)&&(n=new Date(1899,11,30+Math.floor(e),0,0,86400*(e-Math.floor(e))),Number.isNaN(+n.getTime())&&(n=null)),/D+/gi.test(t)||(i+=24*o),/h+/gi.test(t)||(a+=60*i),/m+/gi.test(t)||(l+=60*a),/w+/gi.test(t)&&(s=n?n.getDay()-1:0)<0&&(s=6),{year:0,month:0,day:s,date:o,h:i,m:a,s:l,f:u,t:n?n.getHours()>=12?"pm":"am":""}}(e,t));var o=function(e,t){return{"Y+|y+":{Y:"".concat(Number("".concat(t.year).slice(-2))),YY:Dt("".concat(t.year).slice(-2),2),YYY:Dt("".concat(t.year).slice(-3),3),def:function(e){return Dt("".concat(t.year),e.length)}},"M+":{M:t.month+1,MM:Dt("".concat(t.month+1),2),MMM:e.locale_months_abbr[t.month],def:e.locale_months[t.month]},"W+|w+":{W:t.day,WW:Dt("".concat(t.day),2),WWW:e.locale_days_abbr[t.day],def:e.locale_days[t.day]},"D+|d+":{D:t.date,def:function(e){return Dt("".concat(t.date),e.length)}},"h+|H+":{h:t.h,def:function(e){return Dt("".concat(t.h),e.length)}},"m+":{m:t.m,def:function(e){return Dt("".concat(t.m),e.length)}},"s+|S+":{s:t.s,def:function(e){return Dt("".concat(t.s),e.length)}},"f+|F+":{def:function(e){var n="".concat(t.f),r=e.length-n.length;if(r>0)for(var o=0;o<r;o++)n+="0";else r<0&&(n=n.slice(0,e.length));return n}},"t{1,2}|T{1,2}":{def:function(e){var n=t.t;return e[0].toUpperCase()===e[0]&&(n=n.toUpperCase()),n.slice(0,e.length)}}}}(this,n),i=[];for(var a in o)i.push(a);var l=new RegExp(i.join("|"),"g");return t.replace(l,(function(e){var t,n,r;for(n in o)if((t=new RegExp(n)).test(e))break;if(!t)return"";for(var i in o[n])if(i===e||i.toLowerCase()===e){void 0===(r=o[n][i])&&(r=o[n][i.toLowerCase()]);break}return void 0===r&&(r=o[n].def),"function"==typeof r&&(r=r(e)),r}))}}]),e}();Lt.parseInterval=Nt;var It="U",jt="I",Pt="R",Rt="F",_t="M",zt="D",Ft="T",Ut="TS",Ht="IV",Bt=function(){function e(t,r,o,i,a){n(this,e);var l=t||{};this.localeInfo=l,this.pattern=r||"",this.decimalDelimiter="string"==typeof i?i:"string"==typeof l.qDecimalSep?l.qDecimalSep:".",this.thousandDelimiter="string"==typeof o?o:"string"==typeof l.qThousandSep&&this.decimalDelimiter!==l.qThousandSep?l.qThousandSep:"",this.type=a||It,a===It&&(this.pattern="#".concat(this.decimalDelimiter,"##A")),this._numberFormatter=new wt(t),this._dateFormatter=new Lt(t),this.prepare()}return o(e,[{key:"clone",value:function(){return new e(this.localeInfo,this.pattern,this.thousandDelimiter,this.decimalDelimiter,this.type)}},{key:"prepare",value:function(e,t,n){if(e||(e=this.pattern),!e)switch(this.type){case jt:e="##############";break;case Pt:e=Array(this.localeInfo.qnDec||11).join("#");break;case Rt:e="#".concat(this.localeInfo.qDecimalSep)||false;break;case _t:e=this.localeInfo.qMoneyFmt,n||(n=this.localeInfo.qMoneyDecimalSep||"."),t||n===this.localeInfo.qMoneyThousandSep||(t=this.localeInfo.qMoneyThousandSep);break;case zt:e=this.localeInfo.qDateFmt||"YYYY-MM-DD";break;case Ut:e=this.localeInfo.qTimestampFmt||"YYYY-MM-DD hh:mm:ss";break;case Ft:case Ht:e=this.localeInfo.qTimeFmt||"hh:mm:ss";break;default:e="##########"}this._numberFormatter.pattern=this.pattern,this._dateFormatter.pattern=this.pattern,this._numberFormatter.thousandDelimiter=this.thousandDelimiter,this._numberFormatter.decimalDelimiter=this.decimalDelimiter,this._numberFormatter.type=this.type,this._numberFormatter.prepare(e,t,n),this._prepared={pattern:e,t:t,d:n}}},{key:"formatValue",value:function(e,t){var n,r=this._prepared;if("NaN"===e||"number"==typeof e&&Number.isNaN(+e))return"-";if(Number.isNaN(+e)||"number"!=typeof e)return"".concat(e);switch(this.type){case zt:case Ft:case Ut:return n=new Date(1899,11,30+Math.floor(e),0,0,86400*(e-Math.floor(e))),Number.isNaN(+n.getTime())?this._numberFormatter.format(e,"0",r.t,r.d):this._dateFormatter.format(n,t||r.pattern);case Ht:return this._dateFormatter.format(e,r.pattern);default:return this._numberFormatter.formatValue(e)}}},{key:"format",value:function(e,t,n,r){return"NaN"===e||"number"==typeof e&&Number.isNaN(+e)?"-":Number.isNaN(+e)||"number"!=typeof e?"".concat(e):(this.prepare(t,n,r),this.formatValue(e))}},{key:"createPatternFromRange",value:function(e,t,n){var r,o,i="",a=Number(Number(e).toExponential().split("e")[1]),l=Number(Number(t).toExponential().split("e")[1]),u=Math.min(Math.abs(a),Math.abs(l)),s=Math.abs(t-e),c=Number(Number(s/50).toExponential().split("e")[1]);if(o=Math.abs(c),0===s)return"0".concat(this.decimalDelimiter,"##").concat(n?"A":"");if(c>=0?o=n?Math.max(2,u-c):0:o-=(n?u-u%3:0)*(l<0?1:-1),this.thousandDelimiter?i+="#".concat(this.thousandDelimiter,"##0"):i+="0",o)for(i+=this.decimalDelimiter,r=0;r<o;r++)i+="#";return i+(n?"A":"")}}]),e}();Bt.getSignificantIntegers=function(e){return function(e){if(Number.isNaN(+e)||!Number.isFinite(+e))return 1;var t=Number(e).toExponential().split("e"),n=1;"+"===t[1][0]&&(n+=Number(t[1]));return n}(e)},Bt.getSignificantDecimals=function(e){return function(e){if(Number.isNaN(+e)||!Number.isFinite(+e))return 0;var t,n=Number(e).toExponential().split("e"),r=0;"-"===n[1][0]?(r=Math.abs(Number(n[1])),(n=n[0].split("."))[1]&&(r+=n[1].length)):(t=Number(n[1]),n=n[0].split("."),r=n[1]?n[1].length-t:0);return r}(e)};var Vt=function(){function e(t,r){n(this,e),this.localeInfo=t;var o=this.getFormattersForMeasures(r),i=st(!0,[],o);if(i&&1===i.length&&r[0].isCustomFormatted)i=null;else{for(var a=0,l=0;l<i.length;l++)r[l].isCustomFormatted&&(i[l]=null,a++);a===i.length&&(i=null)}this.measureFormatters=i,this.combinedMeasuresFormatter=this.getFormatterFromFormatters(o)}return o(e,[{key:"createFormatter",value:function(){return new Bt(this.localeInfo)}},{key:"getLocaleInfo",value:function(){return this.localeInfo||{}}},{key:"getFormatters",value:function(){return this.measureFormatters||[]}},{key:"getMeasureFormatter",value:function(e){if(this.measureFormatters&&this.measureFormatters[e])return this.measureFormatters[e]}},{key:"getCombinedMeasuresFormatter",value:function(){return this.combinedMeasuresFormatter}},{key:"formatMeasure",value:function(e,t){var n=this.measureFormatters[t];return n?n.format(e):e}},{key:"getFormatterFromFormatters",value:function(e){var t,n,r,o,i,a=0,l=0,u=0,s=e?e.filter((function(e){return!!e.values&&!Number.isNaN(+e.values.range)})):[];return e&&e.length&&(e.forEach((function(e){return"U"===e.type||e.values&&Number.isNaN(+e.values.range)?l++:["D","T","TS","IV"].includes(e.type)?a=1:u=1,e.prepare(),e})),s.length&&(t=s.reduce((function(e,t){return Math.min(t.values.min,e)}),s[0].values.min),n=s.reduce((function(e,t){return Math.max(t.values.max,e)}),s[0].values.max),r=Math.abs(n-t)),a+u>1?(i=e.filter((function(e){return"datetime"!==e.type}))[0]||{},o=new Bt(this.localeInfo,i.pattern,i.thousandDelimiter,i.decimalDelimiter,"U"),Number.isNaN(+r)||(o.pattern=o.createPatternFromRange(t,n,!0))):a+u===1&&0===l?(i=e[0]||{},o=new Bt(this.localeInfo,i.pattern,i.thousandDelimiter,i.decimalDelimiter,i.type)):(i=(i=e.filter((function(e){return"U"!==e.type}))).length?i[0]:e[0]||{},o=new Bt(this.localeInfo,i.pattern,i.thousandDelimiter,i.decimalDelimiter,i.type),Number.isNaN(+r)||"U"!==i.type||(o.pattern=o.createPatternFromRange(t,n,!0))),o.prepare()),o||(o=new Bt(this.localeInfo,"0")),o}},{key:"getFormattersForMeasures",value:function(e,t){var n=[];return e&&e.length&&(n=(t?e.filter((function(e,n){return t.indexOf(n)>=0})):e).map((function(e){var t=function(e){return!!e.qIsAutoFormat&&["M","D","T","TS","IV"].indexOf(e.qNumFormat.qType)<0}(e),n=new Bt(this.localeInfo,e.qNumFormat.qFmt,e.qNumFormat.qThou,e.qNumFormat.qDec,t?"U":e.qNumFormat.qType),r=Math.abs(e.qMax-e.qMin),o=Number.isNaN(+r);return n.values={min:e.qMin,max:e.qMax,range:r},!o&&t&&(n.pattern=n.createPatternFromRange(e.qMin,e.qMax,!0)),n.prepare(),n}),this)),n}}]),e}();function Wt(e,t){if("U"===t.type){var n=t.clone();return n.pattern=function(e){var t="0",n=e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0;if(n){t+=".";for(var r=0;r<n;r++)t+="0"}return"".concat(t,"A")}(e),n.prepare(),n}return t}function Gt(e){var t=e.style,n=e.formattedValue,r=e.value,o=e.showGlyph,i=e.cssClass,a=e.titleStyle,l=e.measureTitle,u=e.formatter;return Fe.createElement("div",{className:"sn-kpi-ellips-text"},Fe.createElement("div",{className:"sn-kpi-value",style:t,tid:"kpi-value"},Fe.createElement("div",{className:"sn-kpi-ellips-text"},Fe.createElement("span",{title:n},function(e,t){return!Number.isNaN(+e)&&!!t}(n,u)?Fe.createElement(et,{endValue:r,duration:400,formatter:Wt(n,u)}):n)),o?Fe.createElement("div",{className:"sn-kpi-glyph-wrapper"},Fe.createElement(Je,{cssClass:i})):null),Fe.createElement("div",{className:"sn-kpi-title sn-kpi-ellips-text",style:a},l))}Gt.propTypes={style:Be.object.isRequired,formattedValue:Be.string.isRequired,value:Be.number.isRequired,showGlyph:Be.bool.isRequired,cssClass:Be.string.isRequired,titleStyle:Be.string.isRequired,measureTitle:Be.string.isRequired,formatter:Be.object.isRequired};function Kt(e){return Fe.createElement(Xe,Object.assign({d:"M15.7048288,0 L14.0038602,0 L9.30118227,0 C9.10106832,0 9.00101134,0.100056977 9.00101134,0.300170931 L9.00101134,1.70096861 C9.00101134,1.90108256 9.10106832,2.00113954 9.30118227,2.00113954 L12.6030625,2.00113954 L7.30004273,7.30415932 C7.19998576,7.4042163 7.19998576,7.70438723 7.30004273,7.80444421 L8.20055553,8.704957 C8.3006125,8.80501398 8.60078343,8.80501398 8.70084041,8.704957 L14.0038602,3.40193722 L14.0038602,6.70381746 C14.0038602,6.90393141 14.1039172,7.00398839 14.3040311,7.00398839 L15.7048288,7.00398839 C15.9049428,7.00398839 16.0049997,6.90393141 16.0049997,6.70381746 L16.0049997,2.00113954 L16.0049997,0.300170931 C16.0049997,0.100056977 15.9049428,0 15.7048288,0 Z M11.7,14 L2.3,14 C2.1,14 2,13.9 2,13.7 L2,4.3 C2,4.1 2.1,4 2.3,4 L7,4 L7,2 L0.9,2 C0.4,2 0,2.4 0,2.9 L0,15.2 C0,15.6 0.4,16 0.9,16 L13.1000004,16 C13.6000004,16 14,15.6999998 14,15.1999998 L14,9 L12,9 C12.0006896,12.1009211 12.0006896,13.6675878 12,13.7 C11.9989656,13.7486183 11.9,14 11.7,14 Z"},e))}function $t(e){var t=e.linkInteractionOn,n=e.textAlign,r=e.secondaryValues,o=e.baseLayoutInfo,i=e.renderState,a=e.onShowVerifyDialog,l=e.verifyDialogLayoutInfo,u=e.measureTitleStyle,s=e.measureTitle,c=e.sheetLinkTitle,f=e.mainValue,d=e.verifyDialogStyle,p=e.sheetIsMissing,m=e.linkToSheet,h=e.layout,g=h.sheetLink,y=h.openUrlInNewTab,v="sn-kpi ".concat(t?"sn-kpi-link":""),b="sn-kpi-measure-wrapper sn-kpi-".concat(n),x="sn-kpi-ellips-text";r.length&&o.components[1].components[1].components[0].show&&(x+=" sn-kpi-no-shrink");var M="sn-kpi-value-wrapper sn-kpi-".concat(n),O="sn-kpi-click-again-overlay ".concat(i.showVerify?"sn-kpi-show":"");return Fe.createElement("div",{className:v},Fe.createElement("div",{className:"sn-kpi-data",onClick:a},o.components[0].show&&Fe.createElement("div",{className:b,style:u},Fe.createElement("div",{className:"sn-kpi-measure-title sn-kpi-ellips-text",title:s},Fe.createElement("span",null,s),t?Fe.createElement(Kt,{size:"inherit",class:"sn-kpi-info-icon",title:c}):null)),Fe.createElement("div",{className:M},Fe.createElement("div",{className:x},Fe.createElement(Gt,f)),o.components[1].components[1].components[0]&&o.components[1].components[1].components[0].show?Fe.createElement("div",{className:"sn-kpi-secondary-wrapper sn-kpi-ellips-text"},r.map((function(e){return Fe.createElement(Gt,e)}))):null)),i.showVerify&&Fe.createElement("div",{className:O,style:d,onClick:function(){return m(g,y)}},!p&&Fe.createElement("span",null,l.components[0].getText()),Fe.createElement("span",{className:"sn-kpi-sheet-link-title sn-kpi-ellips-text"},c)))}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".qv-object-kpi .qv-inner-object,\n.qv-object-sn-kpi-chart .qv-inner-object {\n  padding: 0 !important;\n}\n.qv-object-kpi .qv-inner-object .qv-object-header.thin,\n.qv-object-sn-kpi-chart .qv-inner-object .qv-object-header.thin {\n  height: 0px !important;\n}\n.sn-kpi.sn-kpi-link {\n  cursor: pointer;\n  box-sizing: border-box;\n  border: 2px solid transparent;\n}\n.sn-kpi.sn-kpi-link:hover {\n  border: 2px solid #cccccc;\n  border-radius: 4px;\n}\n.sn-kpi.sn-kpi-link:active {\n  border: 2px solid #595959;\n}\n.sn-kpi {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  transform: translate3d(0, 0, 0);\n  user-select: none;\n}\n.sn-kpi .sn-kpi-data {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 0.76923077em;\n}\n.sn-kpi .sn-kpi-data > div {\n  display: flex;\n  flex-direction: row;\n}\n.sn-kpi .sn-kpi-secondary-wrapper {\n  display: flex;\n}\n.sn-kpi .sn-kpi-info-icon {\n  vertical-align: middle !important;\n  font-size: 0.66em;\n  margin-bottom: 0.17em;\n  margin-left: 8px;\n}\n.sn-kpi div {\n  flex: 0 1 auto;\n}\n.sn-kpi .qv-inner-object > div {\n  display: flex;\n  flex-direction: row;\n}\n.sn-kpi .sn-kpi-value-wrapper {\n  align-items: center;\n}\n.sn-kpi .sn-kpi-value-wrapper .sn-kpi-no-shrink {\n  flex: 0 0 auto;\n  max-width: 80%;\n}\n.sn-kpi .sn-kpi-value {\n  display: flex;\n}\n.sn-kpi .sn-kpi-ellips-text {\n  height: auto;\n  line-height: initial;\n  white-space: nowrap;\n  -webkit-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.sn-kpi .sn-kpi-glyph-wrapper {\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  font-size: 32%;\n  flex-direction: column;\n  flex: 1 0 auto;\n  padding: 0 0.25em;\n}\n.sn-kpi .sn-kpi-glyph-wrapper .sn-kpi-value-icon {\n  line-height: inherit !important;\n}\n.sn-kpi .sn-kpi-left {\n  justify-content: flex-start;\n}\n.sn-kpi .sn-kpi-center {\n  justify-content: center;\n}\n.sn-kpi .sn-kpi-right {\n  justify-content: flex-end;\n}\n.sn-kpi .sn-kpi-click-again-overlay {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.7);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  border-radius: 6px;\n  color: #fff;\n  display: flex;\n  visibility: hidden;\n  opacity: 0;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  font-size: 13px;\n  text-align: center;\n}\n.sn-kpi .sn-kpi-click-again-overlay .sn-kpi-sheet-link-title {\n  font-size: 1.7em;\n  max-width: 100%;\n}\n.sn-kpi .sn-kpi-click-again-overlay.sn-kpi-show {\n  visibility: visible;\n  animation: fadeInOpacity 0.3s linear forwards;\n}\n@-webkit-keyframes fadeInOpacity {\n  100% {\n    opacity: 1;\n  }\n}\n@-moz-keyframes fadeInOpacity {\n  100% {\n    opacity: 1;\n  }\n}\n@-ms-keyframes fadeInOpacity {\n  100% {\n    opacity: 1;\n  }\n}\n@-o-keyframes fadeInOpacity {\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes fadeInOpacity {\n  100% {\n    opacity: 1;\n  }\n}\n"),$t.propTypes={linkInteractionOn:Be.bool.isRequired,textAlign:Be.string.isRequired,secondaryValues:Be.array.isRequired,baseLayoutInfo:Be.object.isRequired,renderState:Be.object.isRequired,onShowVerifyDialog:Be.func.isRequired,showMeasureTitle:Be.bool.isRequired,verifyDialogLayoutInfo:Be.object.isRequired,measureTitleStyle:Be.object.isRequired,measureTitle:Be.string.isRequired,sheetLinkTitle:Be.string.isRequired,mainValue:Be.object.isRequired,verifyDialogStyle:Be.object.isRequired,sheetIsMissing:Be.bool.isRequired,linkToSheet:Be.func.isRequired,layout:Be.object.isRequired};var Xt=[{key:"m",value:"lui-icon--tick"},{key:"ï",value:"lui-icon--star"},{key:"R",value:"lui-icon--triangle-top"},{key:"S",value:"lui-icon--triangle-bottom"},{key:"T",value:"lui-icon--triangle-left"},{key:"U",value:"lui-icon--triangle-right"},{key:"P",value:"lui-icon--plus"},{key:"Q",value:"lui-icon--minus"},{key:"è",value:"lui-icon--warning-triangle"},{key:"¢",value:"lui-icon--hand"},{key:"©",value:"lui-icon--flag"},{key:"23F4",value:"lui-icon--lightbulb"},{key:"2013",value:"lui-icon--stop"},{key:"&",value:"lui-icon--pie-chart"},{key:"add",value:"lui-icon--add"},{key:"minus-2",value:"lui-icon--minus-2"},{key:"dot",value:"lui-icon--dot"}],Zt=function(e){var t,n=null;if(null!=e)if(0===e.length)n="";else for(t=0;t<Xt.length;t++)if(Xt[t].key===e){n=Xt[t].value;break}return n},Jt={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkgrey:{r:169,g:169,b:169},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},grey:{r:128,g:128,b:128},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightgrey:{r:211,g:211,b:211},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},transparent:{r:255,g:255,b:255,a:0},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}},Yt=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i,Qt=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d(\.\d+)?)\)$/i,en=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i,tn=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i,nn=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i,rn=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i,on=Math.floor,an=Math.round,ln=function(){function e(){n(this,e);var t,r,o,i,a,l,u,s,c,f,d,p,m=0,h=0,g=0,y=1;if(this._invalid=!1,arguments[0]instanceof e)m=arguments[0]._r,h=arguments[0]._g,g=arguments[0]._b,y=arguments[0]._a,this._invalid=arguments[0]._invalid;else if(arguments.length<3)if("string"==typeof arguments[0])if(p=arguments[0],d=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(p))m=parseInt(d[1],10),h=parseInt(d[2],10),g=parseInt(d[3],10);else if(d=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d+)?)\s*\)$/i.exec(p))m=parseInt(d[1],10),h=parseInt(d[2],10),g=parseInt(d[3],10),y=parseFloat(d[4]);else if(d=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(p))m=parseInt(d[1],16),h=parseInt(d[2],16),g=parseInt(d[3],16),y=1;else if(d=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(p))m=parseInt(d[1]+d[1],16),h=parseInt(d[2]+d[2],16),g=parseInt(d[3]+d[3],16),y=1;else if(d=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(p)){switch(t=parseFloat(d[1]),r=parseFloat(d[3]),i=parseFloat(d[5]),r=(r/=100)<0?0:r>1?1:r,u=(t=(t%=360)<0?0:t>360?360:t)/60,s=(l=(i=(i/=100)<0?0:i>1?1:i)<=.5?2*i*r:(2-2*i)*r)*(1-Math.abs(u%2-1)),c=[],u=Math.floor(u)){case 0:c=[l,s,0];break;case 1:c=[s,l,0];break;case 2:c=[0,l,s];break;case 3:c=[0,s,l];break;case 4:c=[s,0,l];break;case 5:c=[l,0,s];break;default:c=[0,0,0]}f=i-.5*l,m=c[0]+f,h=c[1]+f,g=c[2]+f,m=an(255*m),h=an(255*h),g=an(255*g),y=1}else if(d=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(p)){switch(t=parseFloat(d[1]),r=parseFloat(d[3]),i=parseFloat(d[5]),y=parseFloat(d[7]),r=(r/=100)<0?0:r>1?1:r,u=(t=(t%=360)<0?0:t>360?360:t)/60,s=(l=(i=(i/=100)<0?0:i>1?1:i)<=.5?2*i*r:(2-2*i)*r)*(1-Math.abs(u%2-1)),c=[],u=Math.floor(u)){case 0:c=[l,s,0];break;case 1:c=[s,l,0];break;case 2:c=[0,l,s];break;case 3:c=[0,s,l];break;case 4:c=[s,0,l];break;case 5:c=[l,0,s];break;default:c=[0,0,0]}f=i-.5*l,m=c[0]+f,h=c[1]+f,g=c[2]+f,m=an(255*m),h=an(255*h),g=an(255*g)}else if(d=/^hsv\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(p)){switch(t=parseFloat(d[1]),r=parseFloat(d[3]),a=parseFloat(d[5]),u=(t=(t%=360)<0?0:t>360?360:t)/60,s=(l=(a=(a/=100)<0?0:a>1?1:a)*(r=(r/=100)<0?0:r>1?1:r))*(1-Math.abs(u%2-1)),c=[],u=Math.floor(u)){case 0:c=[l,s,0];break;case 1:c=[s,l,0];break;case 2:c=[0,l,s];break;case 3:c=[0,s,l];break;case 4:c=[s,0,l];break;case 5:c=[l,0,s];break;default:c=[0,0,0]}f=a-l,m=c[0]+f,h=c[1]+f,g=c[2]+f,m=an(255*m),h=an(255*h),g=an(255*g),y=1}else Jt[p.toLowerCase()]?(o=p.toLowerCase(),m=Jt[o].r,h=Jt[o].g,g=Jt[o].b,y="number"==typeof Jt[o].a?Jt[o].a:1):this._invalid=!0;else"number"==typeof arguments[0]&&arguments[0]>=0&&"argb"===arguments[1]?(y=(4278190080&arguments[0])>>>24,y/=255,m=(16711680&arguments[0])>>16,h=(65280&arguments[0])>>8,g=255&arguments[0]):"number"==typeof arguments[0]&&arguments[0]>=0?(m=(16711680&arguments[0])>>16,h=(65280&arguments[0])>>8,g=255&arguments[0]):this._invalid=!0;else arguments.length>=3?(m=arguments[0],h=arguments[1],g=arguments[2],y=arguments.length>=4?arguments[3]:1):this._invalid=!0;Number.isNaN(+m+h+g+y)&&(this._invalid=!0),this._r=on(m),this._g=on(h),this._b=on(g),this._a=y,this._spaces={}}return o(e,[{key:"isInvalid",value:function(){return this._invalid}},{key:"setAlpha",value:function(e){this._a=e,this._spaces={}}},{key:"getAlpha",value:function(){return this._a}},{key:"toRGB",value:function(){return this._spaces.rgb||(this._spaces.rgb=e.toRGB(this)),this._spaces.rgb}},{key:"toRGBA",value:function(){return this._spaces.rgba||(this._spaces.rgba=e.toRGBA(this)),this._spaces.rgba}},{key:"toString",value:function(){return this._spaces.rgb||(this._spaces.rgb=e.toRGB(this)),this._spaces.rgb}},{key:"toHex",value:function(){return this._spaces.hex||(this._spaces.hex=e.toHex(this)),this._spaces.hex}},{key:"toHSL",value:function(t){return this._spaces.hsl||(this._spaces.hsl=e.toHSL(this,t)),this._spaces.hsl}},{key:"toHSLA",value:function(t){return this._spaces.hsla||(this._spaces.hsla=e.toHSLA(this,t)),this._spaces.hsla}},{key:"toHSV",value:function(){var e=this.toHSVComponents();return"hsv(".concat(e.h,",").concat(e.s,",").concat(e.v,")")}},{key:"toHSVComponents",value:function(){return this._spaces.hsvComp||(this._spaces.hsvComp=e.toHSVComponents(this)),this._spaces.hsvComp}},{key:"toNumber",value:function(){return this._spaces.num||(this._spaces.num=e.toNumber(this)),this._spaces.num}},{key:"isDark",value:function(){return this.isInvalid()||this.getLuminance()<125}},{key:"getLuminance",value:function(){return void 0===this._lumi&&(this._lumi=.299*this._r+.587*this._g+.114*this._b),this._lumi}},{key:"shiftLuminance",value:function(e){var t=this.toHSLA(),n=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(t),r=parseFloat(n[1]),o=parseFloat(n[3]),i=parseFloat(n[5]),a=parseFloat(n[7]);return i+=e,i=Math.max(0,Math.min(i,100)),"hsla(".concat(r,",").concat(o,",").concat(i,",").concat(a,")")}},{key:"isEqual",value:function(t){return t instanceof e||(t=new e(t)),this._r===t._r&&this._g===t._g&&this._b===t._b}},{key:"blend",value:function(e,t){var n=on(this._r+(e._r-this._r)*t),r=on(this._g+(e._g-this._g)*t),o=on(this._b+(e._b-this._b)*t),i=on(this._a+(e._a-this._a)*t);return"rgba(".concat([n,r,o,i].join(","),")")}},{key:"createShiftedColor",value:function(t){(void 0===t||Number.isNaN(+t))&&(t=1);var n=this.getLuminance(),r=this._g<126?1:1+this._g/512;return new e(this.shiftLuminance(20*(n*r<220?.8+1/(n+1)*4:-(.8+n/255*1))*t))}}]),e}();ln.toRGB=function(e){if(e instanceof ln)return"rgb(".concat([e._r,e._g,e._b].join(","),")");"string"==typeof e&&(e=ln.toNumber(e));var t=(65280&e)>>8,n=255&e;return"rgb(".concat((16711680&e)>>16,",").concat(t,",").concat(n,")")},ln.toRGBA=function(e,t){if(e instanceof ln)return"rgba(".concat([e._r,e._g,e._b,void 0!==t?t:e._a].join(","),")");"string"==typeof e&&(e=ln.toNumber(e));var n=(65280&e)>>8,r=255&e;return"rgba(".concat((16711680&e)>>16,",").concat(n,",").concat(r,",").concat(void 0!==t?t:e._a,")")},ln.toHex=function(e){var t,n,r;return e instanceof ln?(t=e._r.toString(16),n=e._g.toString(16),r=e._b.toString(16),1===t.length&&(t="0".concat(t)),1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),"#".concat([t,n,r].join(""))):("string"==typeof e&&(e=ln.toNumber(e)),t=((16711680&e)>>16).toString(16),n=((65280&e)>>8).toString(16),r=(255&e).toString(16),1===t.length&&(t="0".concat(t)),1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),"#".concat(t).concat(n).concat(r))},ln.toHSL=function(e,t){var n,r,o,i=0;"string"==typeof e&&(e=new ln(e));var a=e._r/255,l=e._g/255,u=e._b/255,s=Math.max(a,l,u),c=Math.min(a,l,u);if(r=t?.21*a+.72*l+.07*u:(s+c)/2,s===c)n=0,i=0;else{switch(o=s-c,n=r>.5?o/(2-s-c):o/(s+c),s){case a:i=(l-u)/o+(l<u?6:0);break;case l:i=(u-a)/o+2;break;case u:i=(a-l)/o+4}i/=6}return"hsl(".concat(360*i,",").concat(100*n,",").concat(100*r,")")},ln.toHSLA=function(e,t){var n,r,o,i=0;"string"==typeof e&&(e=new ln(e));var a=e._r/255,l=e._g/255,u=e._b/255,s=e._a,c=Math.max(a,l,u),f=Math.min(a,l,u);if(r=t?.21*a+.72*l+.07*u:(c+f)/2,c===f)n=0,i=0;else{switch(o=c-f,n=r>.5?o/(2-c-f):o/(c+f),c){case a:i=(l-u)/o+(l<u?6:0);break;case l:i=(u-a)/o+2;break;case u:i=(a-l)/o+4}i/=6}return"hsla(".concat(360*i,",").concat(100*n,",").concat(100*r,",").concat(s,")")},ln.toHSVComponents=function(e){var t,n,r=0;"string"==typeof e&&(e=new ln(e));var o=e._r/255,i=e._g/255,a=e._b/255,l=Math.max(o,i,a),u=Math.min(o,i,a),s=l;if(l===u)t=0,r=0;else{switch(t=0===(n=l-u)?0:n/s,l){case o:r=(i-a)/n+(i<a?6:0);break;case i:r=(a-o)/n+2;break;case a:r=(o-i)/n+4}r/=6}return{h:360*r%360,s:100*t,v:100*s}},ln.toNumber=function(){if(1===arguments.length&&arguments[0]instanceof ln)return(arguments[0]._r<<16)+(arguments[0]._g<<8)+arguments[0]._b;var e,t,n=0,r=0,o=0;return 1===arguments.length&&"string"==typeof arguments[0]&&(t=arguments[0],(e=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i.exec(t))?(n=parseInt(e[1],10),r=parseInt(e[2],10),o=parseInt(e[3],10)):(e=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(t))?(n=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16)):(e=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(t))&&(n=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16),o=parseInt(e[3]+e[3],16))),(n<<16)+(r<<8)+o},ln.blend=function(e,t,n){var r=(16711680&(e=ln.toNumber(e)))>>16,o=(65280&e)>>8,i=255&e;return(r+(((16711680&(t=ln.toNumber(t)))>>16)-r)*n<<16)+(o+(((65280&t)>>8)-o)*n<<8)+(i+((255&t)-i)*n)},ln.getBlend=function(e,t,n){var r=e._r+(t._r-e._r)*n,o=e._g+(t._g-e._g)*n,i=e._b+(t._b-e._b)*n,a=e._a+(t._a-e._a)*n;return new ln(r,o,i,a)},ln.isCSSColor=function(e){return!(arguments.length>1||"string"!=typeof e)&&(Yt.test(e)||Qt.test(e)||en.test(e)||tn.test(e)||nn.test(e)||rn.test(e)||Jt[e.toLowerCase()])},ln.getBestContrast=function(e,t,n){var r=e.getLuminance();return Math.abs(r-t.getLuminance())>Math.abs(r-n.getLuminance())?t:n},ln.getContrast=function(e,t){if(e&&t){var n=e.getLuminance()/100,r=t.getLuminance()/100;return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}},ln.isDark=function(){var e={getLuminance:ln.prototype.getLuminance,isInvalid:ln.prototype.isInvalid};return ln.prototype.init.apply(e,[].slice.call(arguments)),ln.prototype.isDark.call(e)},ln.useDarkLabel=function(e,t){return e._a>.5?!e.isDark():!t};var un={},sn={},cn=0,fn=Math.floor;function dn(e,t){return function(){var n=function(){};n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}}function pn(){cn++}var mn={retriveColor:function(){var e,t,n;if(arguments.length<3)"string"==typeof arguments[0]?e=arguments[0]:"number"==typeof arguments[0]&&arguments[0]>=0&&(e="".concat(arguments[0]));else if(arguments.length>=3)for(e=arguments[0],t=0;t>arguments.length;t++)e+=",".concat(arguments[t]);if(e&&un[e])return un[e];var r=(n=dn(ln,arguments)()).isInvalid()?"INVALID":"".concat(n._r,",").concat(n._g,",").concat(n._b,",").concat(n._a);if(sn[r])n=sn[r];else{if(cn>=5e3)return n;sn[r]=n,pn()}return e&&(un[e]=n),n},retriveBlend:function(e,t,n){var r,o=fn(e._r+(t._r-e._r)*n),i=fn(e._g+(t._g-e._g)*n),a=fn(e._b+(t._b-e._b)*n),l=fn(e._a+(t._a-e._a)*n),u="".concat(o,",").concat(i,",").concat(a,",").concat(l);if(sn[u])r=sn[u];else{if(r=dn(ln,[o,i,a,l])(),cn>=5e3)return r;sn[u]=r,pn()}return r}},hn=mn.retriveColor(13816530);function gn(e){return e=e||this._startLevel,Math.min(e,this._colorParts.length-1)}var yn=function(){function e(){n(this,e),this._colorParts=[],this._startLevel=0,this._reverse=!1,this._max=1,this._min=0,this._span=1,this._invalidSpan=!1}return o(e,[{key:"addColorPart",value:function(e,t,n){n=n||0,this._startLevel=Math.max(n,this._startLevel),this._colorParts[n]||(this._colorParts[n]=[]),this._colorParts[n].push([mn.retriveColor(e),mn.retriveColor(t)])}},{key:"setLimits",value:function(e){if(!e)return this._limits=null,void(this._expandedLimits=null);this._limits=e,this._expandedLimits=[0].concat(e,[1])}},{key:"setMaxMinValues",value:function(e,t){if(!(e>=t)||Number.isNaN(+e)||Number.isNaN(+t))throw new Error("Incorrect arguments to color-scale->setMaxMinValues");this._max=e,this._min=t,this._span=e-t}},{key:"getColor",value:function(e,t){var n=0===this._span?.5:(e-this._min)/this._span;if(Number.isNaN(+e)||Number.isNaN(+n))return hn;t=gn.apply(this,[t]);var r=function(e,t,n){var r;if(e=Math.min(Math.max(e,1e-12),.999999999999),n){for(var o=0;o<n.length&&n[o]<=e;)o++;r=n.length-(o+(e-n[o-1])/(n[o]-n[o-1]))}else r=t-e*t;return r}(n,this._colorParts[t].length,this._expandedLimits),o=Math.floor(r);o=o===r?o-1:o;var i=this._colorParts[t][o],a=i[0],l=i[1];if(e===this._min)return l;if(e===this._max)return a;var u=r-o;return mn.retriveBlend(a,l,u)}}]),e}();function vn(e,t){return ln.toHex(ln.blend(e,t,.5))}var bn={setupColors:function(e,t,n){if(e.length!==t.length+1||t.length!==n.length)return!1;var r,o=[e[0]],i=[],a=t.length;for(r=0;r<a;r++)t[r]?(o.push(vn(e[r],e[r+1])),o.push(vn(e[r],e[r+1])),i.push(n[r]),r!==a-1&&(o.push(e[r+1]),o.push(e[r+1]),i.push((n[r]+n[r+1])/2))):(o.push(e[r]),o.push(e[r+1]),i.push(n[r]),r!==a-1&&t[r+1]&&(o.push(e[r+1]),o.push(e[r+1]),i.push((n[r]+n[r+1])/2)));return o.push(e[r]),{colors:o.reverse(),limits:i}},createColorScale:function(e,t){var n,r,o,i=new yn;if(t){for(r=0;r<e.length;r++)if(o=e[r])for(n=0;n<o.length;n+=2)i.addColorPart(o[n],o[n+1],r)}else for(n=0;n<e.length;n+=2)i.addColorPart(e[n],e[n+1]);return i}},xn={blendValue:function(e,t,n,r,o){var i,a,l,u,s=0,c=function(e,t,n,r){var o=st(!0,{},e);o&&o.limits&&(o.limits=o.limits.concat().sort((function(e,t){return e.value-t.value})),o.limits.forEach((function(e){e.value=n===t?.5:(e.value-t)/(n-t)})));var i=o.paletteColors||o.colors;o&&i&&(o.localColors=i.concat().map((function(e,t){return{color:On(o,t,r)}})));return o}(e,n,r,o);if(t<=0)return c.localColors[0].color;if(t>=1)return c.localColors[c.localColors.length-1].color;for(l=0;l<c.localColors.length;l++){if(a=c.limits[l]?c.limits[l].value:1,t>=s&&t<a){i=Mn(c,l,t),u=new ln(c.localColors[l].color).blend(new ln(i.color),i.t);break}s=a}return u},getIcon:function(e,t){return e.paletteColors?e.paletteColors[t].icon:e.colors[t].icon},getSegmentIndex:function(e,t,n){if(Number.isNaN(+t))return 0;var r,o,i=function(e){return"number"==typeof e&&!Number.isNaN(parseFloat(e))&&Number.isFinite(+e)}(n)?Math.min(n,t):0,a=e.segments.limits.concat().sort((function(e,t){return e.value-t.value})),l=e.segments.paletteColors||e.segments.colors;for(o=0;o<l.length;o++){if(o===l.length-1)return o;if(r=a[o].value,t<r&&t>=i)return o;i=r}return 0},shouldBlend:function(e,t){if(0===e.limits.length)return;var n;n=0===t?e.limits[t].gradient:t===e.limits.length?e.limits[t-1].gradient:e.limits[t].gradient||e.limits[t-1].gradient;return n},resolveColorSegment:On,resolveColor:function(e,n){return n.getColorPickerColor("object"===t(e)?e:{index:e})},getAutoMinMax:function(e,t){var n,r=e.map((function(e){return e.hasOwnProperty("value")?e.value:e})),o=0,i=(r=r.sort((function(e,t){return e-t}))).some((function(e){return Number.isNaN(+e)})),a=Number.isNaN(+t)?Number.isNaN(+r[0])?.5:r[0]:t;if(0===r.length||i)o=0===a?0:.5*a;else{if(1!==r.length)return n=(n=r[r.length-1]-r[0])>0?n:1,{min:Math.min(a,r[0])-n/2,max:Math.max(a,r[r.length-1])+n/2};if(0!==(n=r[0]-a)&&!Number.isNaN(+n))return n>0?{min:a-.5*Math.abs(a),max:r[0]+2*n}:{min:r[0]+2*n,max:a+.5*Math.abs(a)};o=0===a?.5:Math.abs(.5*a)}return{min:a-o,max:a+o}},_getBlendInfo:Mn};function Mn(e,t,n){var r,o,i=e.limits.concat().sort((function(e,t){return e.value-t.value})),a=t>0?i[t-1]:{value:0,gradient:!1},l=e.localColors[t-(t>0?1:0)],u=i[t]?i[t]:{value:1,gradient:!1},s=e.localColors[t+(t<e.localColors.length-1?1:0)],c=n===u.value?1:(n-a.value)/(u.value-a.value);return a&&a.gradient&&u&&u.gradient?n-a.value<u.value-n?(r=l.color,o=.5-c):(r=s.color,o=c-.5):a&&a.gradient?(r=l.color,o=1-(.5+c/2)):u&&u.gradient?(r=s.color,o=c/2):(r=e.localColors[t].color,o=n),{color:r,t:o}}function On(e,t,n){return xn.resolveColor(function(e,t){return e.paletteColors?e.paletteColors[t]:e.colors[t].color}(e,t),n)}function wn(e,t){return void 0===t.useBaseColors?!e.color||"measure"===e.color.useBaseColors:t.useBaseColors}var Sn=function(e,t,n,r){var o,i,a=Math.abs(e),l=n.qHyperCube.qMeasureInfo[t].conditionalColoring;l||(l={useConditionalColoring:!1,singleColor:3,segments:{limits:[],colors:[{color:2}],paletteColors:[{index:6}]}});var u,s="",c=n.qHyperCube.qMeasureInfo[t].coloring?n.qHyperCube.qMeasureInfo[t].coloring.gradient:null,f=function(e,t){var n=e.qHyperCube.qMeasureInfo[t];return!!n&&(n.coloring&&n.coloring.baseColor&&n.coloring.baseColor.color?n.coloring.baseColor:!(!n.baseColor||!n.baseColor.color)&&n.baseColor)}(n,t);if(l.useConditionalColoring&&wn(n,l)&&c&&"absolute"===c.limitType){o=xn.getAutoMinMax(c.limits,e);var d=c.limits.map((function(e){return(e-o.min)/(o.max-o.min)})),p=c.colors.map(r.getColorPickerColor),m=bn.setupColors(p,c.breakTypes,d),h=bn.createColorScale(m.colors,!1);h.setLimits(m.limits),h.setMaxMinValues(o.max,o.min),u=h.getColor(e).toHex()}else if(wn(n,l)&&f)u=r.getColorPickerColor(f);else if(l.useConditionalColoring){var g=(o=n.qHyperCube.qMeasureInfo[t].measureAxis)&&!Number.isNaN(+o.min)?o.min:e-a,y=o&&!Number.isNaN(+o.max)?o.max:e+a;i=(e-g)/(y-g);var v=xn.getSegmentIndex(l,e,g);s=xn.getIcon(l.segments,v)||"",u=xn.shouldBlend(l.segments,v)?xn.blendValue(l.segments,i,g,y,r):xn.resolveColorSegment(l.segments,v,r)}else u=xn.resolveColor(l.paletteSingleColor||l.singleColor,r);return{color:u,icon:s,useCondColor:l.useConditionalColoring}};return function(t){var n=t.sense,r=n&&n.navigation;return{qae:{properties:s,data:f(t)},component:function(){var o=u(e.useState({}),2),i=o[0],a=o[1],s=u(e.useState(),2),c=s[0],f=s[1],d=e.useConstraints(),p=e.useTheme(),m=e.useOptions(),h=e.useElement(),g=e.useLayout(),y=e.useRect(),v=e.useTranslator(),b=e.useAppLayout(),M=e.useApp(),O=function(e,t){if(i[e]!==t){var n=Object.assign({},i);n[e]=t,a(n)}};e.useEffect((function(){return function(){var e;e=h,Fe.unmountComponentAtNode(e)}}),[]),e.useEffect((function(){var e=function(e,t,n,r,o){var i,a={backendApi:{},options:{}},l={};a.props=l;var u=function(){n("showVerify",!1)},s=e.getBoundingClientRect();return a.props.mainValueStyle={},a.props.measureTitleStyle={},a.props.viz={},a.props.secondaryValues=[],a.props.secondaryLayouts=[],a.props.showSecondaryValues=!1,a.props.mainValue={formattedValue:"",value:null,style:null},n("showVerify",!1),l.onShowVerifyDialog=function(){l.linkInteractionOn&&(n("showVerify",!0),l.updateVerifyDialogFontSize(),i=setTimeout(u,3e3))},l.linkToSheet=function(e,t){if(l.linkInteractionOn&&!l.sheetIsMissing&&l.renderState.showVerify){if(t&&o&&o.getUrlForSheet){var n=o.getUrlForSheet(e);window.open(n)}else o.goToSheet(e);clearTimeout(i),u()}},l.updateVerifyDialogFontSize=function(){if(l.renderState.showVerify){var e=l.verifyDialogLayoutInfo.components[0];x.checkLayout(l.verifyDialogLayoutInfo),x.sizeComponent(e,l.verifyDialogLayoutInfo,l.verifyDialogLayoutInfo.boundingBox.width,l.verifyDialogLayoutInfo.boundingBox.height,x.TextScaleMode.SCALE,x.ElementScaleMode.NONE,r),l.verifyDialogStyle={fontSize:e.fontSizes.fontSize}}},a.props.baseLayoutInfo={direction:x.Direction.COLUMN,ratio:1e9,boundingBox:{width:s.width,height:s.height},components:[{size:{min:.5,treshold:{width:50,height:12}},getText:function(){return l.measureTitle},fontSizes:{maxNrChars:15,min:{fontSize:10,height:12},max:{fontSize:40,height:80}},isVisible:function(){return l.showMeasureTitle}},{size:{min:.8,stretch:!0},ratio:1,components:[{size:{min:.5,stretch:!0},getText:function(){return a.props.mainValue.formattedValue+(a.props.mainValue.glyph?a.props.mainValue.glyph:"")},fontSizes:{maxNrChars:4,min:{fontSize:10,height:10},max:{fontSize:500,height:500}}},{size:.5,components:a.props.secondaryLayouts,isVisible:function(){return a.props.secondaryLayouts.length>0}}]}]},a.props.secondaryLayoutInfo={size:{min:1,treshold:{width:50,height:30}},direction:x.Direction.COLUMN,components:[{size:{min:.6,stretch:!0},fontSizes:{maxNrChars:8,min:{fontSize:10,height:20},max:{fontSize:500,height:500}}},{size:{min:.4},fontSizes:{maxNrChars:15,min:{fontSize:10,height:20},max:{fontSize:30,height:500}},isVisible:function(){return!1!==l.showSecondMeasureTitle}}]},a.props.verifyDialogLayoutInfo={size:{min:1,width:20,height:20},boundingBox:{width:0,height:0},components:[{size:{min:.2,treshold:{width:100,height:100}},getText:function(){return t.get("properties.kpi.verifyToGoSheet")},fontSizes:{maxNrChars:16,min:{fontSize:10,height:20},max:{fontSize:13,height:50}}}]},a}(h,v,O,p,r);e.localeInfo=b.qLocaleInfo,e.inClient=!!t.sense,f(e)}),[h,b,p.name()]),e.useEffect((function(){n&&h&&c&&g&&function(e,t,n){t.cellEl?t.cellEl.removeEventListener("keydown",t.handleKeyDown):t.cellEl=e.closest(".qv-gridcell"),t.handleKeyDown=function(e){var r=e.key;"Spacebar"!==r&&" "!==r&&"Enter"!==r||(t.props.renderState.showVerify?t.props.linkToSheet(n.sheetLink,n.openUrlInNewTab):t.props.onShowVerifyDialog())},t.cellEl&&t.cellEl.addEventListener("keydown",t.handleKeyDown)}(h,c,g)}),[h,c,g]),e.useEffect((function(){var e,t;c&&g&&(c.props.renderState=i,c.updateRenderState=O,c.navigation=!d.active,c.options=m,c.maxFontState=function(e,t,n,r){return e.backendApi.isSnapshot&&r&&!n.freeResize?r.snapshotData.isZoomed:n.isZoomed&&e.inClient}(c,0,m,g),c.formatters=function(e,t,n){for(var r,o,i=new Vt(n,t.qHyperCube.qMeasureInfo),a=[],l=0;l<e;l++)r=t.qHyperCube.qMeasureInfo[l],(o=i.getMeasureFormatter(l))&&"U"===o.type&&(o.pattern=o.createPatternFromRange(r.qMax,r.qMax,!0),Math.floor(Math.log(Math.abs(r.qMax))/Math.log(10))%3==2&&(o.pattern=o.pattern.substr(0,o.pattern.length-2),o.pattern+="A"),o.prepare()),a.push(o);return a}(g.qHyperCube.qMeasureInfo.length,g,c.localeInfo),function(e,t,n,r){if(!function(e){return!(!e||!e.qHyperCube||!e.qHyperCube.qMeasureInfo.length||e.qHyperCube.qMeasureInfo.some((function(e){return!!e.qError})))}(e))return!1;t.layout=e;var o,i,a,u,s,c,f={font:{baseFontSizeSmall:7,baseFontSizeMedium:4,baseFontSizeLarge:3},layout:{responsive:{S:7,M:4,L:3},relative:{S:10.5,M:6,L:3},fixed:{S:10.5,M:6,L:3}}},d=e.qHyperCube.qDataPages[0].qMatrix[0],p=e.qHyperCube.qMeasureInfo.length,m=t.inClient,h=t.formatters,g=p-1,y=t.props.secondaryValues,v=t.props.secondaryLayouts,b=t.props.sheet&&t.props.sheet.qMetaDef&&t.props.sheet.qMetaDef.title?t.props.sheet.qMetaDef.title:null,x=function(){return u},M=function(){return c};t.props.showMeasureTitle=e.showMeasureTitle,t.props.showSecondMeasureTitle=e.showSecondMeasureTitle,t.props.textAlign=e.textAlign||"center";var O,w,S,k,C=e.layoutBehavior||"responsive",E=t.props.baseLayoutInfo.components[0],A=t.props.baseLayoutInfo.components[1];"fixed"===C?(E.fontSizes.maxNrChars=3.75*f.layout[C][e.fontSize],A.components[0].fontSizes.maxNrChars=f.layout[C][e.fontSize]):"relative"===C?(E.fontSizes.maxNrChars=3.75*f.font.baseFontSizeMedium,A.components[0].fontSizes.maxNrChars=f.layout[C][e.fontSize]):(E.fontSizes.maxNrChars=3.75*f.font.baseFontSizeMedium,A.components[0].fontSizes.maxNrChars=0),A.components[0].fontSizes.scale="S"===e.fontSize?7/3:"L"===e.fontSize?1:Math.sqrt(7/3),t.props.useLink=e.useLink,!m||e.snapshotData||!t.props.useLink||!e.sheetLink||b&&e.sheetLink===b||function(e,t,n,r){n&&n.getObject(t).then((function(t){t.getLayout().then((function(t){var n=t&&t.labelExpression,r=t&&t.qMeta&&t.qMeta.title;e.props.sheetLinkTitle=n||r||"",e.props.sheetIsMissing=!1}))})).catch((function(){e.props.sheetLinkTitle=r.get("Bookmarks.SheetMissingDialogTitle"),e.props.sheetIsMissing=!0}))}(t,e.sheetLink,n,r),t.props.mainValue.value=e.qHyperCube.qDataPages[0].qMatrix[0][0].qNum,t.props.mainValue.formattedValue=h[0]&&"U"===h[0].type&&!Number.isNaN(+e.qHyperCube.qDataPages[0].qMatrix[0][0].qNum)?h[0].formatValue(t.props.mainValue.value):e.qHyperCube.qDataPages[0].qMatrix[0][0].qText,t.props.mainValue.formatter=h[0];for(var q=0;q<g;q++){a=d[q+1].qText,s=d[q+1].qNum,u=!h[q+1]||"U"!==h[q+1].type||Number.isNaN(+s)?a:h[q+1].formatValue(s),c=e.qHyperCube.qMeasureInfo[q+1].qFallbackTitle,y[q]||(O=x,w=M,S=t.props.secondaryLayoutInfo,k=void 0,(k=l({},S)).components[0].getText=O,k.components[1].getText=w,o={style:(i={layoutInfo:k,text:O()}).layoutInfo.components[0].fontSizes.value,titleStyle:i.layoutInfo.components[1].fontSizes.value},y.push(o),v.push(i.layoutInfo)),(o=y[q]).value=s,o.formattedValue=u,o.formatter=h[q+1],o.measureTitle=c;var D=v[q].components[0],T=v[q].components[1];"fixed"===C?(D.fontSizes.maxNrChars=2*f.layout[C][e.fontSize],T.fontSizes.maxNrChars=3.75*f.layout[C][e.fontSize]):(D.fontSizes.maxNrChars=2*f.layout[C][e.fontSize],T.fontSizes.maxNrChars=3.75*f.font.baseFontSizeMedium)}return y.length>g&&(v.splice(g,y.length-g),y.splice(g,y.length-g)),t.props.measureTitle=e.qHyperCube.qMeasureInfo[0].qFallbackTitle,t.props.showSecondaryValues=y.length>0,!0}(g,c,M,v)&&(!function(e,t,n){if(e.layout){var r,o,i=t.getBoundingClientRect(),a=e.layout,l=e.inClient;e.props.linkInteractionOn=l&&e.navigation&&e.layout.useLink&&!!e.layout.sheetLink,e.props.verifyDialogLayoutInfo.boundingBox.width=i.width,e.props.verifyDialogLayoutInfo.boundingBox.height=i.height,e.props.baseLayoutInfo.boundingBox=function(e,t){if(e.layout&&e.layout.snapshotData&&!e.options.freeResize&&e.layout.snapshotData.elementRatio)return{width:e.layout.snapshotData.object.size.w,height:e.layout.snapshotData.object.size.w*e.layout.snapshotData.elementRatio};var n=t.getBoundingClientRect();return{width:n.width,height:n.height}}(e,t),x.checkLayout(e.props.baseLayoutInfo),e.props.baseLayoutInfo.components.forEach((function(t){var r;r="fixed"===a.layoutBehavior?x.TextScaleMode.NONE:0===e.props.secondaryValues.length&&e.maxFontState?x.TextScaleMode.MAX:x.TextScaleMode.SCALE,x.sizeComponent(t,e.props.baseLayoutInfo,e.props.baseLayoutInfo.boundingBox.width,e.props.baseLayoutInfo.boundingBox.height,r,0===e.props.secondaryValues.length&&e.maxFontState?x.ElementScaleMode.ADJUSTTOTEXT:x.ElementScaleMode.NONE,n)})),o=Sn(e.props.mainValue.value,0,a,n),e.props.mainValue.cssClass=Zt(o.icon),e.props.mainValue.showGlyph=o.useCondColor&&o.icon&&""!==o.icon;var u=(r=e.props.baseLayoutInfo.components[1].components[0]).fontSizes.scaledFontSize;e.props.mainValue.style={color:o.color,fontSize:r.fontSizes.fontSize,fontFamily:n?n.getStyle("object.kpi","label.value","fontFamily"):""},r=e.props.baseLayoutInfo.components[0],e.props.measureTitleStyle={color:n?n.getStyle("object.kpi","label.name","color"):"#595959",fontSize:r.fontSizes.fontSize,fontFamily:n?n.getStyle("object.kpi","label.name","fontFamily"):""};for(var s=1;s<a.qHyperCube.qMeasureInfo.length;s++)r=e.props.baseLayoutInfo.components[1].components[1].components[s-1].components[0],o=Sn(e.props.secondaryValues[s-1].value,s,a,n),e.props.secondaryValues[s-1].style={color:o.color,fontSize:"".concat(10*Math.min(u/2,r.fontSizes.scaledFontSize),"%")},r=e.props.baseLayoutInfo.components[1].components[1].components[s-1].components[1],e.props.secondaryValues[s-1].titleStyle={fontSize:"".concat(10*Math.min(u/2,r.fontSizes.scaledFontSize),"%")},r.show||(e.props.secondaryValues[s-1].titleStyle.width=0),e.props.secondaryValues[s-1].cssClass=Zt(o.icon),e.props.secondaryValues[s-1].showGlyph=o.useCondColor&&o.icon&&""!==o.icon;e.props.updateVerifyDialogFontSize()}}(c,h,p),e=h,t=l({layout:g},c.props),Fe.render(Fe.createElement($t,t),e)))}),[i,g,c,y,d,p.name(),m]),e.useImperativeHandle((function(){return{getPreferredSize:function(){var e=h.getBoundingClientRect();return Promise.resolve({w:e.width(),h:x.FixedMobileHeight})}}})),e.onTakeSnapshot((function(e){var t=h.getBoundingClientRect();e.snapshotData.isZoomed=c.maxFontState,e.snapshotData.elementRatio=t.height/t.width}))},ext:c(t)}}}))},Jndb:function(e,t,n){var r,o;!(r=[n("mXGw"),n("mXtC"),n("8ZOk"),n("ztUU"),n("xARA"),n("y6H+"),n("AdBH"),n("QFtD")],o=function(e,t,n,r,o,i,a,l){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=o.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||o.call(e,t)},c=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},f=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(l)return l(e,t).value}return e[t]};e.exports=function e(){var t,n,o,i,a,l,d=arguments[0],p=1,m=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!==r(d)&&"function"!=typeof d)&&(d={});p<m;++p)if(null!=(t=arguments[p]))for(n in t)o=f(d,n),d!==(i=f(t,n))&&(h&&i&&(s(i)||(a=u(i)))?(a?(a=!1,l=o&&u(o)?o:[]):l=o&&s(o)?o:{},c(d,{name:n,newValue:e(h,l,i)})):void 0!==i&&c(d,{name:n,newValue:i}));return d}},function(t,n){t.exports=e},function(e,t,n){e.exports=n(27)()},,,function(e,n){e.exports=t},,,,function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},,,function(e){e.exports=JSON.parse('{"properties_dataPoints_labelmode_share":{"id":"properties.dataPoints.labelmode.share","locale":{"en-US":"Share","zh-TW":"佔有率","zh-CN":"份额","tr-TR":"Pay","sv-SE":"Andel","it-IT":"Percentuale","es-ES":"Cuota","de-DE":"Anteil","pl-PL":"Udział","nl-NL":"Aandeel","ko-KR":"공유","pt-BR":"Percentual","fr-FR":"Part","ja-JP":"割合","ru-RU":"Доля"}},"Tooltip_selections_locked":{"id":"Tooltip.selections.locked","locale":{"en-US":"Selections on this dimension are locked","zh-TW":"已鎖定此維度上的選項","zh-CN":"相关维度的选择已锁定","tr-TR":"Bu boyuttaki seçimler kilitli","sv-SE":"Urval i den här dimensionen är låsta","it-IT":"Le selezioni in questa dimensione sono bloccate","es-ES":"Las selecciones de esta dimensión están bloqueadas.","de-DE":"Auswahlen sind für diese Dimension gesperrt","pl-PL":"Selekcje dotyczące tego wymiaru są zablokowane","nl-NL":"Selecties voor deze dimensie zijn vergrendeld","ko-KR":"이 차원의 선택은 잠겨 있습니다.","pt-BR":"Seleções estão bloqueadas nesta dimensão","fr-FR":"Sélections verrouillées pour cette dimension","ja-JP":"この軸での選択はロックされています","ru-RU":"Выборки для данного измерения заблокированы"}},"Tooltip_dimensions_drilldown":{"id":"Tooltip.dimensions.drilldown","locale":{"en-US":"Drill-down dimension","zh-TW":"向下探查維度","zh-CN":"下钻维度","tr-TR":"Detaya inme boyutu","sv-SE":"Hierarkisk dimension","it-IT":"Dimensione di drill-down","es-ES":"Dimensión jerárquica","de-DE":"Drilldown-Dimension:","pl-PL":"Wymiar hierarchiczny","nl-NL":"Drill-downdimensie","ko-KR":"드릴다운 차원","pt-BR":"Dimensão da hierarquia","fr-FR":"Descendre dans la hiérarchie de la dimension","ja-JP":"軸のドリルダウン","ru-RU":"Измерение с детализацией"}},"Object_ErrorMessage_MissingDimension":{"id":"Object.ErrorMessage.MissingDimension","locale":{"en-US":"Dimension not found","zh-TW":"找不到維度","zh-CN":"未找到维度","tr-TR":"Boyut bulunamadı","sv-SE":"Dimensionen hittades inte","it-IT":"Dimensione non trovata","es-ES":"No se ha encontrado la dimensión","de-DE":"Dimension nicht gefunden","pl-PL":"Wymiar nie został znaleziony","nl-NL":"Dimensie niet gevonden","ko-KR":"차원을 찾지 못했습니다.","pt-BR":"Dimensão não encontrada","fr-FR":"Dimension introuvable","ja-JP":"軸が見つかりません","ru-RU":"Измерение не найдено"}},"Object_ErrorMessage_MissingMeasure":{"id":"Object.ErrorMessage.MissingMeasure","locale":{"en-US":"Measure not found","zh-TW":"找不到量值","zh-CN":"未找到度量","tr-TR":"Hesaplama bulunamadı","sv-SE":"Måttet hittades inte","it-IT":"Misura non trovata","es-ES":"No se ha encontrado la medida","de-DE":"Kennzahl nicht gefunden","pl-PL":"Miara nie została znaleziona","nl-NL":"Meting niet gevonden","ko-KR":"측정값을 찾지 못했습니다.","pt-BR":"Medida não encontrada","fr-FR":"Mesure introuvable","ja-JP":"メジャーが見つかりません","ru-RU":"Мера не найдена"}},"Object_Disclaimer_LimitedData":{"id":"Object.Disclaimer.LimitedData","locale":{"en-US":"Currently showing a limited data set.","zh-TW":"目前顯示的是有限的資料集。","zh-CN":"当前正显示有限的数据集。","tr-TR":"Şu anda sınırlı bir veri kümesi gösteriliyor.","sv-SE":"Just nu visas en begränsad uppsättning data.","it-IT":"Attualmente viene visualizzata una serie di dati limitata.","es-ES":"Mostrando actualmente un conjunto limitado de datos.","de-DE":"Zurzeit wird nur ein beschränkter Datensatz angezeigt.","pl-PL":"Aktualnie przedstawiany jest ograniczony zestaw danych.","nl-NL":"Momenteel wordt een beperkte gegevensverzameling getoond.","ko-KR":"현재 제한된 데이터 집합을 표시하고 있습니다.","pt-BR":"Mostrando um conjunto de dados limitado.","fr-FR":"Affichage d\'un ensemble de données limité pour l\'instant.","ja-JP":"現在、限定的なデータ セットを表示しています。","ru-RU":"В настоящее время отображается ограниченный набор данных."}},"Object_Disclaimer_OnlyNegativeOrZeroValues":{"id":"Object.Disclaimer.OnlyNegativeOrZeroValues","locale":{"en-US":"The chart is not displayed because it contains only negative or zero values.","zh-TW":"系統不會顯示圖表，因為該圖表僅包含負值或零值。","zh-CN":"未显示图表，因为它仅包含负值或零值。","tr-TR":"Yalnızca negatif veya sıfır değerlerini içermesi nedeniyle grafik görüntülenmiyor.","sv-SE":"Diagrammet visas inte eftersom det enbart innehåller negativa eller nollvärden","it-IT":"Il grafico non viene visualizzato poiché contiene solo valori negativi o uguali a zero.","es-ES":"El gráfico no se muestra porque sólo contiene valores negativos o valores cero.","de-DE":"Das Diagramm wird nicht angezeigt, da es nur negative oder 0-Werte enthält.","pl-PL":"Wykres nie jest wyświetlany, ponieważ zawiera wartości ujemne lub zerowe.","nl-NL":"De grafiek wordt niet weergegeven omdat het alleen negatieve waarden of nulwaarden bevat.","ko-KR":"음수 또는 zero 값만 포함되어 있으므로 차트가 표시되지 않습니다.","pt-BR":"O gráfico não foi exibido, porque contém apenas valores negativos ou zero.","fr-FR":"Le graphique n\'est pas affiché, car il contient uniquement des valeurs négatives ou égales à zéro.","ja-JP":"チャートは負の値またはゼロ値しか含まれていないため、表示されていません。","ru-RU":"Диаграмма не отображается, поскольку она содержит только отрицательные или нулевые значения."}},"Object_Disclaimer_NegativeOrZeroValues":{"id":"Object.Disclaimer.NegativeOrZeroValues","locale":{"en-US":"The data set contains negative or zero values that cannot be shown in this chart.","zh-TW":"資料集包含無法在此圖表中顯示的負值或零值。","zh-CN":"数据集中包含无法在此图表中显示的负值或零值。","tr-TR":"Veri kümesi, bu grafikte gösterilemeyen negatif veya sıfır değerlerini içeriyor.","sv-SE":"Datauppsättningen innehåller negativa värden eller nollvärden som inte kan visas i detta diagram.","it-IT":"La serie di dati contiene valori negativi o uguali a zero che non possono essere visualizzati in questo grafico.","es-ES":"El conjunto de datos contiene valores negativos o cero que no se pueden mostrar en este gráfico.","de-DE":"Die in den Datensätzen enthaltenen negativen oder 0-Werte können nicht in diesem Diagramm dargestellt werden.","pl-PL":"Zestaw danych zawiera wartości ujemne lub zerowe, których nie można przedstawić w tym wykresie.","nl-NL":"De gegevensverzameling bevat negatieve waarden of nulwaarden die niet kunnen worden weergegeven in deze grafiek.","ko-KR":"데이터 집합에 해당 차트에 표시할 수 없는 음수 값 또는 zero 값이 포함되어 있습니다.","pt-BR":"O conjunto de dados contém valores negativos ou iguais a zero que não podem ser mostrados neste gráfico.","fr-FR":"L\'ensemble de données contient des valeurs négatives ou égales à zéro impossibles à afficher dans ce graphique.","ja-JP":"データ セットには、本チャートに表示できない負の値またはゼロ値が含まれています。","ru-RU":"Набор данных содержит отрицательные или нулевые значения, которые невозможно показать в этой диаграмме."}},"Object_Disclaimer_DataRangeIncludingZero":{"id":"Object.Disclaimer.DataRangeIncludingZero","locale":{"en-US":"The logarithmic scale has been replaced by a linear scale because the data range includes zero.","zh-TW":"對數刻度已遭線性刻度取代，因為資料範圍包含零。","zh-CN":"对数刻度已替换为线性刻度，因为该数据范围包括零。","tr-TR":"Veri aralığı sıfır değerini içerdiğinden, logaritmik ölçek yerine doğrusal ölçek kullanıldı.","sv-SE":"Den logaritmiska skalan har ersatts av en linjär skala eftersom dataintervallet innehåller värdet noll.","it-IT":"La scala logaritmica è stata sostituita da una scala lineare perché l\'intervallo di dati include zero.","es-ES":"La escala logarítmica ha sido reemplazada por una escala lineal porque el rango de datos incluye cero.","de-DE":"Die logarithmische Skala wurde durch die lineare Skala ersetzt, weil der Datenbereich NULL enthält.","pl-PL":"Skala logarytmiczna została zastąpiona liniową, ponieważ zakres danych zawiera zero.","nl-NL":"De logaritmische schaal is vervangen door een lineaire schaal omdat het gegevensbereik nullen bevat.","ko-KR":"데이터 범위에 0이 포함되어 있으므로 로그 눈금이 선형 눈금으로 바뀌었습니다.","pt-BR":"A escala logarítmica foi substituída por uma escala linear, pois o intervalo de dados inclui zero.","fr-FR":"L\'échelle logarithmique a été remplacée par une échelle linéaire, car la plage de données comprend la valeur zéro.","ja-JP":"データ範囲にゼロが含まれるため、Log スケールは Linear スケールで置換されています。","ru-RU":"Логарифмический масштаб заменен линейным масштабом, поскольку диапазон данных включает ноль."}},"Object_Disclaimer_NoDataExist":{"id":"Object.Disclaimer.NoDataExist","locale":{"en-US":"The selections generated no data for this chart.","zh-TW":"此選項無法產生任何適用於此圖表的資料。","zh-CN":"选择未生成此图表的数据。","tr-TR":"Seçimler bu grafik için hiç veri oluşturmadı.","sv-SE":"Urvalen genererade inga data för detta diagram.","it-IT":"Le selezioni non hanno generato dati per questo grafico.","es-ES":"Las selecciones no han generado datos para este gráfico.","de-DE":"Die Auswahlen haben für dieses Diagramm keine Daten generiert.","pl-PL":"Selekcje nie spowodowały wygenerowania danych dla tego wykresu.","nl-NL":"De selecties hebben geen gegevens voor de grafiek gegenereerd.","ko-KR":"선택 내용으로 해당 차트에 대한 데이터가 생성되지 않았습니다.","pt-BR":"As seleções não geraram dados para este gráfico.","fr-FR":"Les sélections n\'ont pas généré de données pour ce graphique.","ja-JP":"このチャートには選択からデータが生成されませんでした。","ru-RU":"В результате выборок данные для этой диаграммы не созданы."}},"Object_Disclaimer_OnlyNanData":{"id":"Object.Disclaimer.OnlyNanData","locale":{"en-US":"The chart is not displayed because it contains only undefined values.","zh-TW":"系統不會顯示圖表，因為該圖表僅包含未定義的值。","zh-CN":"未显示图表，因为它仅包含未定义的值。","tr-TR":"Yalnızca tanımsız değerleri içermesi nedeniyle grafik görüntülenmiyor.","sv-SE":"Diagrammet visas inte eftersom det enbart innehåller odefinierade värden.","it-IT":"Il grafico non è visualizzato poiché contiene solo valori non definiti.","es-ES":"El gráfico no se muestra porque solo contiene valores indefinidos.","de-DE":"Das Diagramm wird nicht angezeigt, da es nur nicht definierte Werte enthält.","pl-PL":"Wykres nie jest wyświetlany, ponieważ zawiera wartości niezdefiniowane.","nl-NL":"De grafiek wordt niet weergegeven omdat deze alleen ongedefinieerde waarden bevat.","ko-KR":"정의되지 않은 값만 포함되어 있으므로 차트가 표시되지 않습니다.","pt-BR":"O gráfico não foi exibido, porque contém apenas valores não definidos.","fr-FR":"Le graphique n\'est pas affiché, car il contient uniquement des valeurs non définies.","ja-JP":"未定義の値しか含まれていないため、チャートは表示されていません。","ru-RU":"Диаграмма не отображается, поскольку она содержит только неопределенные значения."}},"Object_ChartTooltip_NMore":{"id":"Object.ChartTooltip.NMore","locale":{"en-US":"+{0} more","zh-TW":"再加 {0} 個","zh-CN":"+{0} 个","tr-TR":"+{0} öğe daha","sv-SE":"+{0} till","it-IT":"Altre +{0}","es-ES":"+{0} más","de-DE":"+{0} mehr","pl-PL":"+ {0} więcej","nl-NL":"+ {0} meer","ko-KR":"+추가 {0}개","pt-BR":"+{0} mais","fr-FR":"+ {0} de plus","ja-JP":"さらに {0}","ru-RU":"+ дополнительно: {0}"}},"Object_ChartTooltip_sumOfPositives":{"id":"Object.ChartTooltip.sumOfPositives","locale":{"en-US":"Sum of positives","zh-TW":"正數總和","zh-CN":"正值总和","tr-TR":"Pozitif değerlerin toplamı","sv-SE":"Summan av positiva","it-IT":"Somma valori positivi","es-ES":"Suma de positivos","de-DE":"Summe positiver Werte","pl-PL":"Suma dodatnich","nl-NL":"Som positieven","ko-KR":"양수 합계","pt-BR":"Soma de positivos","fr-FR":"Sommes des valeurs positives","ja-JP":"正の合計","ru-RU":"Сумма положительных значений"}},"Object_ChartTooltip_sumOfNegatives":{"id":"Object.ChartTooltip.sumOfNegatives","locale":{"en-US":"Sum of negatives","zh-TW":"負數總和","zh-CN":"负值总和","tr-TR":"Negatif değerlerin toplamı","sv-SE":"Summan av negativa","it-IT":"Somma valori negativi","es-ES":"Suma de negativos","de-DE":"Summe negativer Werte","pl-PL":"Suma ujemnych","nl-NL":"Som negatieven","ko-KR":"음수 합계","pt-BR":"Soma de negativos","fr-FR":"Somme des valeurs négatives","ja-JP":"負の合計","ru-RU":"Сумма отрицательных значений"}},"Object_ChartTooltip_ColorExpression":{"id":"Object.ChartTooltip.ColorExpression","locale":{"en-US":"Color expression","zh-TW":"色彩運算式","zh-CN":"颜色表达式","tr-TR":"Renk ifadesi","sv-SE":"Färguttryck","it-IT":"Espressione colore","es-ES":"Expresión de color","de-DE":"Farbformel","pl-PL":"Wyrażenie koloru","nl-NL":"Kleuruitdrukking","ko-KR":"색상 표현식","pt-BR":"Expressão de cor","fr-FR":"Expression de couleur","ja-JP":"カラー表現","ru-RU":"Выражение для цвета"}},"Object_Disclaimer_OnlyNanColor":{"id":"Object.Disclaimer.OnlyNanColor","locale":{"en-US":"The data used to color this visualization only contains undefined values.","zh-TW":"用以定義此視覺化的色彩的資料只包含未定義的值。","zh-CN":"用于将该可视化着色的数据仅包含未定义的值。","tr-TR":"Bu görselleştirmeyi renklendirmek için kullanılan veriler yalnızca tanımlanmamış değerler içeriyor.","sv-SE":"Data som används för att färgsätta denna visualisering innehåller enbart odefinierade värden.","it-IT":"I dati utilizzati per colorare questa visualizzazione contengono solo valori non definiti.","es-ES":"Los datos utilizados para colorear esta visualización solo contienen valores indefinidos.","de-DE":"Die verwendeten Daten für die Farbgebung dieser Visualisierung enthalten undefinierte Werte.","pl-PL":"Dane używane do kolorowania tej wizualizacji zawierają wyłącznie niezdefiniowane wartości.","nl-NL":"De gegevens die worden gebruikt om deze visualisatie kleur te geven bevatten uitsluitend ongedefinieerde waarden.","ko-KR":"이 시각화에 색을 지정하는 데 사용된 데이터에는 정의되지 않은 값만 포함되어 있습니다.","pt-BR":"Os dados usados para colorir esse visualização contém somente valores indefinidos.","fr-FR":"Les données utilisées pour colorer cette visualisation ne comportent que des valeurs non définies.","ja-JP":"このビジュアライゼーションの色の割り当てに使用したデータには、未定義の値が含まれています。","ru-RU":"Данные, используемые для выбора цвета визуализации, содержат только неопределенные значения."}},"properties_trendlines_types_average":{"id":"properties.trendlines.types.average","locale":{"en-US":"Average","zh-TW":"平均值","zh-CN":"平均值","tr-TR":"Ortalama","sv-SE":"Medel","it-IT":"Media","es-ES":"Media","de-DE":"Durchschnitt","pl-PL":"Średnia","nl-NL":"Gemiddelde","ko-KR":"평균","pt-BR":"Média","fr-FR":"Moyenne","ja-JP":"平均値","ru-RU":"Среднее"}},"properties_trendlines_types_linear":{"id":"properties.trendlines.types.linear","locale":{"en-US":"Linear","zh-TW":"線性","zh-CN":"线性","tr-TR":"Doğrusal","sv-SE":"Linjär","it-IT":"Lineare","es-ES":"Lineal","de-DE":"Linear","pl-PL":"Liniowa","nl-NL":"Lineair","ko-KR":"선형","pt-BR":"Linear","fr-FR":"Linéaire","ja-JP":"線形","ru-RU":"Линейный"}},"properties_trendlines_types_polynomial2":{"id":"properties.trendlines.types.polynomial2","locale":{"en-US":"Second degree polynomial","zh-TW":"第二度多項式","zh-CN":"二次多项式","tr-TR":"İkinci derece polinom","sv-SE":"Polynomial, andra graden","it-IT":"Polinomio di secondo grado","es-ES":"Polinómica de segundo grado","de-DE":"Polynom zweiten Grades","pl-PL":"Wielomianowa drugiego stopnia","nl-NL":"Tweedegraadspolynoom","ko-KR":"2차 다항식","pt-BR":"Polinômio de segundo grau","fr-FR":"Polynomial du 2ème degré","ja-JP":"2 番目の角度の多項式近似","ru-RU":"Полиномиальный второй степени"}},"properties_trendlines_types_polynomial3":{"id":"properties.trendlines.types.polynomial3","locale":{"en-US":"Third degree polynomial","zh-TW":"第三度多項式","zh-CN":"三次多项式","tr-TR":"Üçüncü derece polinom","sv-SE":"Polynomial, tredje graden","it-IT":"Polinomio di terzo grado","es-ES":"Polinómica de tercer grado","de-DE":"Polynom dritten Grades","pl-PL":"Wielomianowa trzeciego stopnia","nl-NL":"Derdegraadspolynoom","ko-KR":"3차 다항식","pt-BR":"Polinômio de terceiro grau","fr-FR":"Polynomial du 3ème degré","ja-JP":"3 番目の角度の多項式近似","ru-RU":"Полиномиальный третьей степени"}},"properties_trendlines_types_polynomial4":{"id":"properties.trendlines.types.polynomial4","locale":{"en-US":"Fourth degree polynomial","zh-TW":"第四度多項式","zh-CN":"四次多项式","tr-TR":"Dördüncü derece polinom","sv-SE":"Polynomial, fjärde graden","it-IT":"Polinomio di quarto grado","es-ES":"Polinómica de cuarto grado","de-DE":"Polynom vierten Grades","pl-PL":"Wielomianowa czwartego stopnia","nl-NL":"Vierdegraadspolynoom","ko-KR":"4차 다항식","pt-BR":"Polinômio de quarto grau","fr-FR":"Polynomial du 4ème degré","ja-JP":"4 番目の角度の多項式近似","ru-RU":"Полиномиальный четвертой степени"}},"properties_trendlines_types_exponential":{"id":"properties.trendlines.types.exponential","locale":{"en-US":"Exponential","zh-TW":"指數","zh-CN":"指数","tr-TR":"Üstel","sv-SE":"Exponentiell","it-IT":"Esponenziale","es-ES":"Exponencial","de-DE":"Exponentiell","pl-PL":"Wykładnicze","nl-NL":"Exponentieel","ko-KR":"지수","pt-BR":"Exponencial","fr-FR":"Exponentiel","ja-JP":"指数","ru-RU":"Экспоненциальный"}},"properties_trendlines_types_logarithmic":{"id":"properties.trendlines.types.logarithmic","locale":{"en-US":"Logarithmic","zh-TW":"對數","zh-CN":"对数","tr-TR":"Logaritmik","sv-SE":"Logaritmisk","it-IT":"Logaritmica","es-ES":"Logarítmica","de-DE":"Logarithmisch","pl-PL":"Logarytmiczna","nl-NL":"Logaritmisch","ko-KR":"로그","pt-BR":"Logarítmico","fr-FR":"Logarithmique","ja-JP":"対数","ru-RU":"Логарифмический"}},"properties_trendlines_types_power":{"id":"properties.trendlines.types.power","locale":{"en-US":"Power","zh-TW":"乘冪","zh-CN":"幂","tr-TR":"Üs","sv-SE":"Potens","it-IT":"Potenza","es-ES":"Potencia","de-DE":"Potenz","pl-PL":"Potęgowa","nl-NL":"Macht","ko-KR":"거듭제곱","pt-BR":"Potência","fr-FR":"Puissance","ja-JP":"累乗","ru-RU":"Силовой"}},"Common_Measures":{"id":"Common.Measures","locale":{"en-US":"Measures","de-DE":"Kennzahlen","fr-FR":"Mesures","it-IT":"Misure","ja-JP":"メジャー","ko-KR":"측정값","es-ES":"Medidas","nl-NL":"Metingen","pl-PL":"Miary","pt-BR":"Medidas","sv-SE":"Mått","tr-TR":"Hesaplamalar","zh-CN":"度量","zh-TW":"量值","ru-RU":"Меры"}}}')},,,,,,function(e){e.exports=JSON.parse('{"TRENDLINES":true,"TRENDLINES_LINECHART":true}')},function(e,t){e.exports=a},function(e,t){e.exports=l},,,,function(e,t,n){"use strict";var r=n(28);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(15);var o=n(21);function i(){var e={};return{get:function(t){return e[t]},set:function(t,n){return e[t]=n,n},has:function(t){return t in e},remove:function(t){delete e[t]},empty:function(){e={}}}}var a="REJECTED",l=function(){},u=1e4,s={MULTIPLIER:2,MINIMUM:20,MAXIMUM:200},c=600,f=50,d=10,p=100;var m={contains:function(e,t){if(!e)return!1;var n=e.qArea;return!!n&&n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight},patcher:function(e){var t=e.layoutModel,n=function(e){e.qArea.qHeight=e.qMatrix.length,e.qArea.qWidth=t.meta.size.x};return n.should=function(e){return 0===e.qArea.qHeight&&0===e.qArea.qWidth&&!!e.qMatrix.length},n},slicer:function(e,t){for(var n=Math.max(0,t.qHeight)-Math.abs(Math.min(0,t.qTop-e.qArea.qTop)),r=Math.max(0,t.qWidth)-Math.abs(Math.min(0,t.qLeft-e.qArea.qLeft)),o=Math.max(t.qTop,e.qArea.qTop),i=Math.max(t.qLeft,e.qArea.qLeft),a=Math.max(0,o-e.qArea.qTop),l=Math.min(o+n-e.qArea.qTop,e.qArea.qHeight),u=Math.max(0,i-e.qArea.qLeft),s=Math.min(i+r-e.qArea.qLeft,e.qArea.qWidth),c={qArea:{qHeight:l-a,qWidth:s-u,qTop:o,qLeft:i},qMatrix:[]},f=a;f<l;f++)c.qMatrix.push(e.qMatrix[f].slice(u,s));return c},cacheWarden:function(e){var t=e.bounds,n=void 0===t?{width:0,height:0}:t;return{release:function(e,t){var r=t.qTop-d<=e.qTop,o=t.qLeft+t.qWidth+d>=e.qLeft+e.qWidth,i=t.qTop+t.qHeight+d>=e.qTop+e.qHeight,a=t.qLeft-d<=e.qLeft;return r&&e.qTop>0||o&&e.qLeft+e.qWidth<n.width||i&&e.qTop+e.qHeight<n.height||a&&e.qLeft>0}}},request:function(e){var t=e.definitionPath;return function(e){return{method:"getHyperCubeData",args:[t,[e]]}}}};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={contains:function(e,t){if(!e)return!1;var n=e.qArea;return!!n&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight},patcher:function(e){var t=e.layoutModel,n=function(e){e.qArea.qHeight=e.qData[0].qSubNodes.length,e.qArea.qWidth=t.meta.size.x};return n.should=function(e){return 0===e.qArea.qHeight&&0===e.qArea.qWidth&&!!e.qData.length},n},slicer:function(e,t){for(var n=Math.max(0,t.qHeight)-Math.abs(Math.min(0,t.qTop-e.qArea.qTop)),r=Math.max(t.qTop,e.qArea.qTop),o=Math.max(t.qLeft,e.qArea.qLeft),i=Math.max(0,r-e.qArea.qTop),a=Math.min(r+n-e.qArea.qTop,e.qArea.qHeight),l=e.qData[0].qUp+e.qArea.qHeight+e.qData[0].qDown-r-(a-i),u={qArea:{qHeight:a-i,qWidth:e.qArea.qWidth,qTop:r,qLeft:o},qData:[g(g({},e.qData[0]),{},{qUp:r,qDown:l,qSubNodes:[]})]},s=i;s<a;s++)u.qData[0].qSubNodes.push(e.qData[0].qSubNodes[s]);return u},cacheWarden:function(e){var t=e.bounds,n=void 0===t?{height:0}:t;return{release:function(e,t){var r=t.qTop-d<=e.qTop,o=t.qTop+t.qHeight+d>=e.qTop+e.qHeight;return r&&e.qTop>0||o&&e.qTop+e.qHeight<n.height}}},request:function(e){var t=e.layoutModel,n=e.definitionPath,r=t.getLayoutValue("dimensionAxis.axisDisplayMode","auto");return function(e){var t={method:"getHyperCubeStackData",args:[n,[e]]};return"auto"===r&&t.args.push(c),t}}};var b={contains:function(){return!1},patcher:function(){var e=function(e){return e};return e.should=function(){return!1},e},slicer:function(e){return e},cacheWarden:function(){return{release:function(){return!0}}},request:function(e){var t=e.definitionPath;return function(e){return{method:"getHyperCubeTreeData",args:[t,[e]]}}}};var x="pages";function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O="discretePan",w=10;function S(e){var t,n=e.chart,r=e.actions,o=e.componentKey,i=e.dockModel,a=e.rtl,l=e.scroller;return{type:"Pan",key:"discrete:pan",options:{event:O,pointers:1,threshold:w,enable:function(e,t){return this.started===O||!t||!!r.scroll.enabled()&&n.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===o}))}},events:(t={},M(t,"".concat(O,"start"),(function(e){e.preventDefault(),this.started=O;var t="vertical"===i.major.orientation?e.deltaX:e.deltaY;this.previousTotalDelta=t<0?-w:w})),M(t,"".concat(O,"move"),(function(e){e.preventDefault();var t="vertical"===i.major.orientation,n=t?e.deltaX:e.deltaY,r=t&&a?-1:1,o=(n-this.previousTotalDelta)*r;this.previousTotalDelta=n,l.scroll(o)})),M(t,"".concat(O,"end"),(function(e){e.preventDefault(),this.started=!1})),M(t,"".concat(O,"cancel"),(function(e){e.preventDefault(),this.started=!1})),t)}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.chart,n=e.componentKey,r=e.actions,o=e.scroller;return function(e){if(r.scroll.enabled()&&k(t.componentsFromPoint({x:e.clientX,y:e.clientY}).filter((function(e){return e.key===n})),1)[0]){e.preventDefault();var i=Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX,a=Math.sign(-i)*p;o.scroll(a)}}}function A(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=0;return function(){t=this;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n=l;var s=Date.now()-i,c=function(){i=Date.now(),r=0,e.apply(t,n)};r||(s>=o?c():r=setTimeout(c,o-s))}}function q(e){var t=e.layoutModel,n=void 0===e.areaBuffer?function(e){var t=e.layoutModel,n=Math.floor(u/(t.meta.dimensionCount+t.meta.measureCount));return function(e){var t=e.width,r=e.height,o=Math.min(n,Math.max(s.MAXIMUM,r));return{width:t,height:Math.max(s.MINIMUM,Math.min(r*s.MULTIPLIER,o))}}}({layoutModel:t}):function(e){var t=e.layoutModel,n=Math.floor(u/(t.meta.dimensionCount+t.meta.measureCount));return function(e){var t=e.width,r=e.height;return{width:t,height:Math.min(n,r)}}}({layoutModel:t}),r={width:t.meta.size.x,height:t.meta.size.y};return function(e){var t=n({width:e.qWidth,height:e.qHeight}),o=t.width,i=t.height,a=i?Math.ceil((i-e.qHeight)/2):0,l=o?Math.ceil((o-e.qWidth)/2):0;return{qHeight:i?Math.min(i,r.height):e.qHeight,qWidth:o?Math.min(o,r.width):e.qWidth,qTop:i?Math.max(0,Math.min(e.qTop-a,r.height-i)):e.qTop,qLeft:o?Math.max(0,Math.min(e.qLeft-l,r.width-o)):e.qLeft}}}function D(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t,n,r=function(r){return new Promise((function(o,i){var l={request:r,resolve:o,reject:i,canceled:!1,cancel:function(){l.canceled=!0}};t?function(e){n&&n.reject(a),n=e}(l):function r(o){var i=(t=o).request,l=i.method,u=i.args;e[l].apply(e,D(u)).then((function(e){if(t.canceled||n)return t.reject(a),t=null,void(n&&(r(n),n=null));t.resolve(e[0]),t=null}))}(l)}))};return r.isProcessing=function(){return!!t},r.hasQueued=function(){return!!n},r.cancel=function(){r.isProcessing()&&t.cancel(),r.hasQueued()&&(n.reject(a),n=null)},r}var L={command:{update:function(){}}};function I(e){var t=e.dataStore,n=e.composition,r=e.enigmaModel,o=e.layoutModel,i=e.trendLineModel,u=void 0===i?L:i,s=e.definitionPath,c=e.areaBuffer,d=e.processDataPage,p=n.slicer,m=n.cacheWarden,h=n.request,g=function(e){var t=e.dataStore,n=e.slice,r=e.warden,o=e.expand,i=e.request,a=e.process,l=e.connectionless,u=e.processDataPage;return function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=s.onProcessing;if(t.contains(e)){var f=t.getCurrent();if(l)return Promise.resolve(n(f,e));var d=r.release(f.qArea,e),p=a.isProcessing();if(!d&&p&&a.cancel(),!d||p)return Promise.resolve(n(f,e))}if(l)return Promise.resolve(t.getCurrent());a.isProcessing()&&c&&c();var m=o(e);return a(i(m)).then((function(r){return u(r),t.add(r),n(r,e)}))}}({dataStore:t,slice:p,warden:m({bounds:{width:o.meta.size.x,height:o.meta.size.y}}),expand:q({layoutModel:o,areaBuffer:c}),request:h({layoutModel:o,definitionPath:s}),process:N(r),connectionless:o.meta.isSnapshot,processDataPage:d}),y=A((function(e,t){var n=t.onProcessing,r=t.onData;g(e,{onProcessing:n}).then((function(e){return r(e)})).catch((function(e){if(e!==a)throw e}))}),f);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onProcessing,r=void 0===n?l:n,i=t.onDataPage,a=void 0===i?l:i;y(e,{onProcessing:r,onData:function(e){o.setDataPages(e?[e]:[]),u.command.update(),a(e)}})}}var j={inTotal:function(e){return e.layoutModel.meta.size.x},area:function(e){return{qTop:0,qHeight:1,qLeft:0,qWidth:e.layoutModel.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=n.pixel,a=t.getDataPages()[0],l=i/o;return[l,r.inView>=r.inTotal?l+1:l+a.qArea.qWidth/r.inView]}};function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={inTotal:function(e){var t=e.layoutModel;if(t.meta.isSnapshot&&!t.getLayoutValue("reducedHyperCube")){var n=P(t.getDataPages(),1)[0];if(n)return n.qArea.qHeight}return t.meta.size.y},area:function(e){var t=e.layoutModel,n=e.itemOffset,r=e.inView,o=e.areaBuffer,i=void 0===o?4:o,a=Math.max(0,Math.floor(n)-i/2);return{qTop:a,qHeight:Math.min(t.meta.size.y-a,Math.max(0,Math.ceil(r+i))),qLeft:0,qWidth:t.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=n.pixel,a=t.getDataPages()[0],l=o/r.inView,u=(i+a.qArea.qTop*l)/o;return[u,r.inView>=r.inTotal?u+1:u+a.qArea.qHeight/r.inView]}};function z(e,t){for(var n=[],r=0;r<e.length;r++){var o=t(e[r]);-1===n.indexOf(o)&&n.push(o)}return n.length}function F(e){return z(e.qMatrix,(function(e){return e[0].qElemNumber}))-1}var U={inTotal:function(e){var t=e.layoutModel,n=t.meta.measureCount;return t.meta.size.y*n*(1+1/n)-1},area:function(e){var t=e.layoutModel,n=e.itemOffset,r=e.inView,o=e.areaBuffer,i=t.meta.measureCount,a=void 0===o?i:o,l=n/(i+1),u=Math.max(0,Math.floor((n-l-a/2)/i));return{qTop:u,qHeight:Math.min(t.meta.size.y-u,Math.max(0,Math.ceil((r+a)/i+1))),qLeft:0,qWidth:t.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=t.meta.measureCount,a=t.getDataPages()[0],l=o/r.inView,u=n.pixel,s=F(a),c=a.qArea.qHeight*i+s,f=(u+(a.qArea.qTop*i+a.qArea.qTop)*l)/o;return[f,r.inView>=r.inTotal?f+1:f+c/r.inView]}};var H=function(e,t){return t/(e.meta.size.y/e.query.getDimensionSize()+1)},B=function(e,t){for(var n={successful:!0,count:0},r=Math.abs(Math.floor(t)),o=[],i=0;i<=r;i++){if(!e[i])return n.successful=!1,n;var a=e[i][0].qElemNumber;-1===o.indexOf(a)&&(o.push(a),r--)}return n.count=o.length-1,n};function V(e){return{itemOffset:function(t,n){if(0!==t.qArea.qTop)return H(e,n);var r=B(t.qMatrix,n);return r.successful?r.count:H(e,n)},area:function(t,n,r){return 0!==t.qArea.qTop?H(e,n):z(t.qMatrix.slice(0,r.qTop+1),(function(e){return e[0].qElemNumber}))-1}}}var W={inTotal:function(e){var t=e.layoutModel;return t.meta.size.y+t.query.getDimensionSize()-1},area:function(e){var t=e.getDataPages,n=e.layoutModel,r=e.itemOffset,o=e.inView,i=V(n).itemOffset(t(),r),a=Math.max(0,Math.floor(r-i));return{qTop:a,qHeight:Math.min(n.meta.size.y-a,Math.max(0,Math.ceil(o+1))),qLeft:0,qWidth:n.meta.size.x}},scaleRange:function(e){var t=e.getDataPages,n=e.layoutModel,r=e.offsets,o=e.items,i=e.viewSize,a=e.upperBound,l=n.getDataPages()[0],u=i/o.inView,s=r.item,c=r.pixel,f=V(n).area(t(),s,l.qArea),d=F(l),p=l.qArea.qHeight+d,m=c===a?(o.inView-p)*u/i:(c+(l.qArea.qTop+f)*u)/i;return[m,o.inView>=o.inTotal?m+1:m+p/o.inView]}};function G(e){var t=e.rect,n=e.dockModel,r=e.itemWidths,o=e.dimensionAxis,i=e.inTotal,a=e.isMajorVisible,l=e.isMajorLabelless,u=e.maxDataRows,s=r[n.mode],c=s.DEFAULT,f=s.SQUEEZE,d=s.LABELLESS,p=o.axisDisplayMode,m=void 0===p?"auto":p,h=o.maxVisibleItems,g=void 0===h?10:h,y="vertical"===n.major.orientation?t.width:t.height,v=y/i>=f;switch(m){case"max":return Math.min(i,u);case"custom":return Math.min(g,u);case"auto":default:return!a||l?y/d:v?i:y/c}}function K(e){var t=e.chart,n=e.getRect,r=e.getDataPages,o=e.layoutModel,i=e.dockModel,a=e.getItemWidths,l=e.axisKey,s=e.areaBuffer,c=e.rtl,f=function(e){var t=e.layoutModel.meta,n=t.isDimensionless,r=t.isGrouped,o=t.isGroupedByMeasure;return n?j:r?o?U:W:_}({layoutModel:o}),d=f.inTotal,p=f.area,m=f.scaleRange,h=function(){return"vertical"===i.major.orientation?n().width:n().height},g=function(e){return e?h()/e:0},y=function(e,t){return-(e-t)*g(t)};return{getItems:function(){var e=o.getLayoutValue("dimensionAxis"),r=d({layoutModel:o}),s=t.component(l),c=!l||!s||s.isVisible();return{inTotal:r,inView:G({rect:n(),dockModel:i,itemWidths:a(),dimensionAxis:e,inTotal:r,isMajorVisible:c,isMajorLabelless:"none"===e.show||"title"===e.show,maxDataRows:Math.floor(u/(o.meta.dimensionCount+o.meta.measureCount))})}},getItemSize:function(e){var t=e.items.inView;return g(t)},getOffsets:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView,i=Math.min(0,Math.max(t,y(r,o)));return{pixel:i,item:o?Math.abs(o*i/h()):0}},getUpperBound:function(e){var t=e.items,n=t.inTotal,r=t.inView;return y(n,r)},getViewRange:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView;return function(e){var t=e.viewSize,n=e.inTotal,r=e.inView,o=e.pixelOffset,i=t/r*n,a=Math.abs(o)/i;return[a,a+t/i]}({viewSize:h(),inTotal:r,inView:o,pixelOffset:t})},getArea:function(e){var t=e.itemOffset,n=e.items;return p({getDataPages:r,layoutModel:o,itemOffset:t,inView:n.inView,areaBuffer:s})},getScaleRange:function(e){var t=e.offsets,n=e.items,a=m({getDataPages:r,layoutModel:o,offsets:t,items:n,viewSize:h(),upperBound:y(n.inTotal,n.inView)});return"vertical"===i.major.orientation&&c?function(e){return[1-e[1],1-e[0]]}(a):a},validate:{offset:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView;return t<=0&&t>=y(r,o)}},convert:{itemToPixelOffset:function(e){var t=e.itemOffset,n=e.items.inView,r=t*g(n);return Number.isFinite(r)?-r:0},relativeToPixelOffset:function(e){var t=e.relativeOffset,n=e.items,r=n.inTotal,o=n.inView;return-t*(g(o)*r)}}}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){var t=e.chart,n=e.componentKey,r=e.state,o=e.dataStore,i=e.pageData,a=e.layoutModel,l=e.dockModel,u=e.itemWidths,s=e.getRect,c=e.axisKey,f=e.areaBuffer,d=e.viewState,p=e.rtl;r.set("rect",{width:0,height:0}),r.set("itemWidths",{}),r.set("itemSize",0),r.set("items",{}),r.set("offsets",{}),r.set("finished",0),r.set("scaleRange",[0,1]);var m=K({chart:t,getRect:function(){return r.get("rect")},getDataPages:o.getCurrent,layoutModel:a,dockModel:l,getItemWidths:function(){return r.get("itemWidths")},axisKey:c,areaBuffer:f,rtl:p}),h=function(){var e=m.getItems();return r.set("items",e),e},g=function(e){var t=e.pixelOffset,n=e.items,o=m.getOffsets({pixelOffset:t,items:n});return r.set("offsets",o),o},y=function(e){var t=Date.now(),n=h(),o=g({pixelOffset:e,items:n}),l=m.getArea({itemOffset:o.item,items:n});if(function(e){var t=$(a.getDataPages(),1)[0].qArea;return!!t&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(l))(m.validate.offset({pixelOffset:e,items:n})||d.get("scrollOffset")!==o.item)&&(r.set("finished",t),r.set("scaleRange",m.getScaleRange({offsets:o,items:n})),d.preventSet("viewRange",m.getViewRange({pixelOffset:o.pixel,items:n})),d.set("scrollOffset",o.item));else{d.preventSet("viewRange",m.getViewRange({pixelOffset:o.pixel,items:n}));var u=function(){r.get("finished")>t||(r.set("finished",t),r.set("scaleRange",m.getScaleRange({offsets:o,items:n})),d.set("scrollOffset",o.item))};i(l,{onProcessing:u,onDataPage:u})}};return{enabled:function(){var e=r.get("items");return e.inTotal>e.inView},itemSize:function(){return r.get("itemSize")},scaleRange:function(){return r.get("scaleRange")},initialize:function(){var e=t.component(n);if(!e)return Promise.resolve();r.set("rect","function"==typeof s?s():e.rect),r.set("itemWidths","function"==typeof u?u():u);var o=h();r.set("itemSize",m.getItemSize({items:o}));var l=void 0===d.get("scrollOffset")?function(e){var t=e.items;return 1===a.getLayoutValue("scrollStartPos")?m.getUpperBound({items:t}):0}({items:o}):m.convert.itemToPixelOffset({itemOffset:d.get("scrollOffset"),items:o}),c=g({pixelOffset:l,items:o});d.preventSet("viewRange",m.getViewRange({pixelOffset:c.pixel,items:o}));var f=m.getArea({itemOffset:c.item,items:o});return new Promise((function(e){i(f,{onDataPage:function(){r.set("scaleRange",m.getScaleRange({offsets:c,items:o})),d.preventSet("scrollOffset",c.item),e()}})}))},scroll:function(e){var t=r.get("offsets").pixel+e;y(t)},scrollToRelative:function(e){var t=r.get("items"),n=m.convert.relativeToPixelOffset({relativeOffset:e,items:t});y(n)}}}function J(e,t,n){if(void 0===e||void 0===t)return n;for(var r=t.split("."),o=e,i=0;i<r.length;++i){var a=r[i];if(void 0===o[a])return n;o=o[a]}return o}function Y(e){var t=e.chart,n=e.actions,r=e.componentKey,o=e.enigmaModel,a=e.layoutModel,l=e.dockModel,u=e.trendLineModel,s=e.itemWidths,c=e.viewState,f=e.rtl,d=e.options,p=(d=void 0===d?{}:d).definitionPath,h=void 0===p?"/qHyperCubeDef":p,g=d.getRect,y=void 0===g?void 0:g,M=d.axisKey,O=void 0===M?void 0:M,w=d.areaBuffer,k=void 0===w?void 0:w,C=d.processDataPage,A=void 0===C?function(){}:C,q=i(),D=function(e){switch(e.qMode){case"S":default:return m;case"K":return v;case"T":return b}}({qMode:a.getHyperCubeValue("qMode")}),T=function(e){var t=e.state,n=e.contains;return t.set(x,[]),{add:function(e){var n=t.get(x);n.length=0,n.push(e)},getCurrent:function(){return t.get(x)[0]},getAll:function(){return t.get(x)},contains:function(e){return n(t.get(x)[0],e)}}}({state:q,contains:D.contains});!function(e){var t=e.layoutModel,n=e.dataStore,r=e.composition,o=t.getDataPages()[0];if(o){var i=r.patcher({layoutModel:t});i.should(o)&&i(o),n.add(o)}}({layoutModel:a,dataStore:T,composition:D});var N=function(e){var t=e.buffer;return void 0===t?void 0:2*Math.round(t/2)}({buffer:k}),L=I({dataStore:T,composition:D,enigmaModel:o,layoutModel:a,trendLineModel:u,definitionPath:h,areaBuffer:N,processDataPage:A}),j=Z({chart:t,componentKey:r,state:q,dataStore:T,pageData:L,layoutModel:a,dockModel:l,itemWidths:s,getRect:y,axisKey:O,areaBuffer:N,viewState:c,rtl:f}),P=function(e){var t=e.layoutModel,n=e.dataStore;return function(e){var r=J(e,"qHyperCube.".concat(t.refs.dataPages));r.length=0,r.push(n.getCurrent())}}({layoutModel:a,dataStore:T});return{interactions:function(e){var t=e.chart,n=e.actions,r=e.componentKey,o=e.dockModel,i=e.rtl,a=e.scroller;return{gestures:[S({chart:t,actions:n,componentKey:r,dockModel:o,rtl:i,scroller:a})],native:{type:"native",events:{wheel:E({chart:t,actions:n,componentKey:r,scroller:a})}}}}({chart:t,actions:n,componentKey:r,dockModel:l,rtl:f,scroller:j}),query:{getCanScroll:function(){return j.enabled()},getItemSize:function(){return j.itemSize()},getScaleRange:function(){return j.scaleRange()},getCurrentDataPage:function(){return T.getCurrent()}},command:{initialize:function(){return j.initialize()},scrollTo:function(e){return j.scrollToRelative(e)},setSnapshotData:function(e){return P(e)}}}}var Q=n(0),ee=n.n(Q),te=12,ne=2e3;function re(e){var t=e.model,n=e.layoutModel,r=e.definitionPath,o=void 0===r?"/qHyperCubeDef":r;return{fetch:function(e,n){var r={qStart:e,qEnd:n,qNbrPoints:this.computeNbrOfBins(),qMaxNbrTicks:300,qMaxNumberLines:this.computeMaxNumberLines()};return t.getHyperCubeContinuousData(o,r,!1)},shouldFetchReduced:function(){var e=n.getLayout().qHyperCube;return e.qSize.qcy*e.qMeasureInfo.length>=ne},computeNbrOfBins:function(){var e=n.getLayout().qHyperCube;if(!this.shouldFetchReduced())return ne;var t=e.qMeasureInfo.length||1,r=4+2*(t-1);return e.qDimensionInfo.length>1&&(t=Math.max(1,Math.min(te,n.query.getDimensionSize(1))),r=4),Math.ceil(ne/(t*r))},computeMaxNumberLines:function(){return n.getLayout().qHyperCube.qDimensionInfo.length>1&&!this.shouldFetchReduced()?n.query.getDimensionSize(1)+1:te}}}function oe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cache,t=void 0===e?{}:e;return{fetch:function(){return Promise.resolve(t.merged)}}}function ie(e){var t=e.layoutModel,n=e.viewCache;return{fetch:function(){var e=t.getHyperCube(),n=e.qAxisData,r=e.qDataPages;return Promise.resolve({qAxisData:n,qDataPages:r})},getSnapshotData:function(){var e=t.getLayoutValue("snapshotData.content.chartData",{});return"zoom"in e&&"min"in e.zoom&&"max"in e.zoom?{zoom:e.zoom}:function(e,t){var n=e.scrollOffset,r=void 0===n?0:n,o=e.viewRange,i=void 0===o?0:o,a=t+r,l=a+i;return 1===i&&0===r&&(a=t-.5,l=t+.5),{zoom:{min:a,max:l}}}(e,n.get("continuousMin"))}}}function ae(){var e=function(){},t=[],n={};return e.set=function(e,r){var o=t.indexOf(e);o>-1&&t.splice(o,1),t.push(e),n[e]=r},e.forEach=function(e){t.forEach((function(t,r){return e(n[t],r)}))},e.has=function(e){return e in n},e}function le(e,t,n){return n[0]&&n[0][1]&&n[0][1].qElemNumber>-1?function(e){for(var t=e.start,n=e.end,r=e.matrix,o=[],i=ae(),a=ae(),l=0;l<r.length;l++){var u=r[l],s=u[1].qElemNumber.toString();u[0].qNum<t?i.set(s,u):u[0].qNum>n&&(a.has(s)||a.set(s,u)),u[0].qNum>=t&&u[0].qNum<=n&&o.push(u)}return i.forEach((function(e,t){return o.splice(t,0,e)})),a.forEach((function(e){return o.push(e)})),o}({start:e,end:t,matrix:n}):function(e){for(var t,n,r=e.start,o=e.end,i=e.matrix,a=[],l=0;l<i.length;l++){var u=i[l];u[0].qNum<r?t=u:u[0].qNum>o&&(n||(n=u)),u[0].qNum>=r&&u[0].qNum<=o&&a.push(u)}return t&&a.unshift(t),n&&a.push(n),a}({start:e,end:t,matrix:n})}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){return se(se({},e),{},{qWidth:t[0]?t[0].length:0,qHeight:t.length})}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t,n){var r={qDataPages:(n.qDataPages||[]).map((function(n){var r=le(e,t,n.qMatrix),o=fe(n.qArea,r);return pe(pe({},n),{},{qArea:o,qMatrix:r})}))};return n.qAxisData&&n.qAxisData.qAxis&&(r.qAxisData=function(e,t,n){return{qAxis:n.qAxis.map((function(n){return{qName:n.qName,qTags:n.qTags,qTicks:n.qTicks.reduce((function(n,r){return(r.qStart>=e&&r.qStart<=t||r.qEnd>=e&&r.qEnd<=t||r.qStart<e&&r.qEnd>t)&&n.push(r),n}),[])}}))}}(e,t,n.qAxisData)),r}function ge(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){var n={};return n.qDataPages=(e.qDataPages||[]).map((function(e,n){var r=function(e,t){if(!t||!t.length||!t[0].length)return e;for(var n=t[0][0].qNum,r=t[t.length-1][0].qNum,o=[],i=[],a=0,l=e.length;a<l;a++){var u=e[a][0];u.qNum<n?o.push(e[a]):u.qNum>r&&i.push(e[a])}return[].concat(o,ge(t),i)}(e.qMatrix,t.qDataPages[n].qMatrix),o=fe(e.qArea,r);return Me(Me({},e),{},{qArea:o,qMatrix:r})})),e.qAxisData&&e.qAxisData.qAxis&&(n.qAxisData=function(e,t){if(!t||!t.qAxis.length||t.qAxis.every((function(e){return!e.qTicks.length})))return e;for(var n=t.qAxis.map((function(e){return e.qName})),r=t.qAxis.map((function(e){return{start:e.qTicks[0].qStart,end:e.qTicks[e.qTicks.length-1].qStart}})),o=t.qAxis.map((function(e){return{qName:e.qName,qTags:ve(e.qTags),qTicks:ve(e.qTicks)}})),i=0,a=e.qAxis.length;i<a;i++){var l=e.qAxis[i],u=n.indexOf(l.qName),s=[],c=[];if(u>-1){for(var f=r[u],d=f.start,p=f.end,m=0,h=l.qTicks.length;m<h;m++){var g=l.qTicks[m];g.qStart<d?s.push(g):g.qStart>p&&c.push(g)}o[u].qTicks=[].concat(s,ve(o[u].qTicks),c)}}return{qAxis:o}}(e.qAxisData,t.qAxisData)),n}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=Math.pow(2,.5),Ae=1/Ee,qe=1e-6,De=Math.pow(Ae,44);function Te(e){return e.qIsOtherCell}function Ne(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qDataPages,t=void 0===e?[]:e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.length?t[0].qMatrix:[];return n.isStackedByDimension?function(e){var t={};return e.forEach((function(e){if(!e.some(Te)){var n=e[0].qElemNumber;t[n]=void 0}})),Object.keys(t).length}(r):function(e){var t=0;return e.forEach((function(e){e.some(Te)||t++})),t}(r)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je={command:{processDataPage:function(){}}},Pe={command:{update:function(){}}};function Re(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=function(){return e.apply(r,i)};clearTimeout(t),t=setTimeout(l,n)}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe={created:function(){this.state={}},beforeUpdate:function(){this.state={}},beforeRender:function(e){var t=e.size;this.state.ticks=this.scale.ticks({distance:t.width}).filter((function(e){return!e.isMinor})),"linear"===this.scale.type&&function(e,t){for(var n=_e(e.domain(),2)[1],r=0;r<t.length;r++){var o=t[r],i=t[r+1];o.data={},i||1===o.end?i?(o.data.start=o.value,o.data.end=i.value,o.end=i.position):(o.data.start=o.value,o.data.end=o.value):(o.data.start=o.value,o.data.end=n,o.end=1)}}(this.scale,this.state.ticks)},render:function(){var e=this,t=this.scale.data().fields.length?this.scale.data().fields[0].id():"",n=this.state.ticks,r=n.map((function(n){return{type:"rect",fill:"none",data:{source:{field:t},value:[n.data.start,n.data.end]},x:n.start*e.rect.width,y:0,width:(n.end-n.start)*e.rect.width,height:e.rect.height}}));if(n.length&&n[0].start>0){var o=n[0];r.unshift({type:"rect",fill:"none",data:{source:{field:t},value:[this.scale.domain()[0],o.data.start]},x:0,y:0,width:o.start*this.rect.width,height:this.rect.height})}return r}},Ue="…";function He(e){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)%2==0)return e;var t=Math.round(e);return e-t>0?t+=.5:t-=.5,t}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e,t){var n=t.localProps.size,r=t.props.anchor,o=function(e){var t=e.props,n=e.localProps.size,r=e.style,o=e.renderer,i=t.label.padding,a=Math.max(0,Math.min(t.label.justify,1)),l=Math.max(0,Math.min(t.label.align,1)),u=function(e){return o.measureText({text:e,fontSize:r.label.fontSize,fontFamily:r.label.fontFamily})};return{resolve:function(e,t){var o="string"==typeof e.label?e.label:"",s=u(o),c=t.x,f=t.width;e.start===e.end&&(f=s.width+2*i,1===e.end&&(c-=f));var d={x:c+i,y:i,width:f-2*i,height:n.height-2*i},p=u("".concat(o[0]).concat(Ue)).width,m=Math.max(0,d.width-s.width),h=Math.max(0,d.height-s.height),g=a*m,y=l*h;return{show:d.width>=Math.min(p,s.width),text:o,dx:g,dy:y,rect:d,style:r.label,segment:{x:c+g,width:s.width+2*i}}}}}(t),i=function(e){var t=e.localProps.size,n=e.style,r=e.scale,o=e.props,i=Be(r.domain(),2),a=i[0],l=i[1],u=Math.max(0,Math.min(1,o.guideLine.major.justify));return{resolve:function(e,r){var o=u*r.width,i=He(r.x+o,n.majorGuideLine.strokeWidth);return{show:e.value>=a&&e.value<=l,x1:i,y1:0,x2:i,y2:He(t.height,n.majorGuideLine.strokeWidth),style:n.majorGuideLine}}}}(t),a=e.map((function(e){var t=function(e,t,n){var r=Math.abs(Math.max(e.start,0)-Math.min(e.end,1))*t.width;return{x:Math.max(e[n],0)*t.width,y:0,width:r,height:t.height}}(e,n,r);return{rect:t,label:o.resolve(e,t),guideLine:i.resolve(e,t)}}));return function(e,t){var n=e.length;if(!(n<2)){var r,o,i=e[n-1],a=t[n-1].label;if(i&&i.start===i.end)for(var l=n-2;l>-1;l--){var u=t[l].label;u.show=u.show&&(r=u.segment,o=a.segment,!(r.x<o.x?r.x+r.width>=o.x:o.x+o.width>=r.x))}}}(e,a),a}function Ge(e,t){var n,r,o,i,a=(r=(n=t).localProps.size,o=n.props,i=n.style,{resolve:function(e){var t=Math.max(r.height-o.guideLine.minor.size,0)*Math.max(0,Math.min(o.guideLine.minor.align,1)),n=He(e.position*r.width,i.minorGuideLine.strokeWidth);return{guideLine:{show:!0,x1:n,y1:He(t,i.minorGuideLine.strokeWidth),x2:n,y2:He(o.guideLine.minor.size+t,i.minorGuideLine.strokeWidth),style:i.minorGuideLine}}}});return t.props.guideLine.minor.show?e.map(a.resolve):[]}function Ke(e){return e.filter((function(e){return e.show})).map((function(e){return ee()({strokeWidth:1},e.style,{type:"line",x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2})}))}function $e(e){return function(e){if(Array.isArray(e))return Xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze={require:["renderer"],defaultSettings:{layout:{displayOrder:0,prioOrder:0},settings:{anchor:"start",label:{show:!0,padding:4,align:0,justify:0},line:{show:!0},guideLine:{major:{justify:0},minor:{show:!0,size:4,align:0}}},style:{label:"$label",line:"$guide-line",majorGuideLine:"$guide-line",minorGuideLine:"$guide-line"}},preferredSize:function(){return{size:30,edgeBleed:{left:1,right:1}}},init:function(){this.props=this.settings.settings,this.localProps={},this.state={major:[],minor:[]}},created:function(){this.init()},beforeUpdate:function(){this.init()},beforeRender:function(e){var t=e.size;this.localProps.size=t;var n=this.scale.ticks({distance:t.width}),r=n.filter((function(e){return!e.isMinor})),o=n.filter((function(e){return e.isMinor}));this.state.line=function(e){var t=e.localProps.size,n=e.style,r=e.props,o=He(1,n.line.strokeWidth);return{show:r.line.show,x1:He(0,n.line.strokeWidth),y1:o,x2:He(t.width,n.line.strokeWidth),y2:o,style:n.line}}(this),this.state.major=We(r,this),this.state.minor=Ge(o,this)},render:function(){return[].concat($e(Ke([this.state.line])),$e(this.state.major.map((function(e){return e.label})).filter((function(e){return e.show})).map((function(e){return ee()({},e.style,{type:"text",x:e.rect.x,y:e.rect.y,dx:e.dx,dy:e.dy,maxWidth:e.rect.width,text:e.text,title:e.text,baseline:"text-before-edge"})}))),$e(Ke(this.state.major.map((function(e){return e.guideLine})))),$e(Ke(this.state.minor.map((function(e){return e.guideLine})))))}},Je=Math.sqrt(50),Ye=Math.sqrt(10),Qe=Math.sqrt(2),et=function(e,t,n){var r,o,i,a,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=tt(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));++l<o;)i[l]=(e+l)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));++l<o;)i[l]=(e-l)/a;return r&&i.reverse(),i};function tt(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Je?10:i>=Ye?5:i>=Qe?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Je?10:i>=Ye?5:i>=Qe?2:1)}function nt(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Je?o*=10:i>=Ye?o*=5:i>=Qe&&(o*=2),t<e?-o:o}var rt=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},ot=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return rt(t(e),n)}),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}};var it=ot(rt),at=it.right,lt=(it.left,at),ut=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function st(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ct(){}var ft="\\s*([+-]?\\d+)\\s*",dt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mt=/^#([0-9a-f]{3})$/,ht=/^#([0-9a-f]{6})$/,gt=new RegExp("^rgb\\("+[ft,ft,ft]+"\\)$"),yt=new RegExp("^rgb\\("+[pt,pt,pt]+"\\)$"),vt=new RegExp("^rgba\\("+[ft,ft,ft,dt]+"\\)$"),bt=new RegExp("^rgba\\("+[pt,pt,pt,dt]+"\\)$"),xt=new RegExp("^hsl\\("+[dt,pt,pt]+"\\)$"),Mt=new RegExp("^hsla\\("+[dt,pt,pt,dt]+"\\)$"),Ot={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wt(e){var t;return e=(e+"").trim().toLowerCase(),(t=mt.exec(e))?new Et((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=ht.exec(e))?St(parseInt(t[1],16)):(t=gt.exec(e))?new Et(t[1],t[2],t[3],1):(t=yt.exec(e))?new Et(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=vt.exec(e))?kt(t[1],t[2],t[3],t[4]):(t=bt.exec(e))?kt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=xt.exec(e))?qt(t[1],t[2]/100,t[3]/100,1):(t=Mt.exec(e))?qt(t[1],t[2]/100,t[3]/100,t[4]):Ot.hasOwnProperty(e)?St(Ot[e]):"transparent"===e?new Et(NaN,NaN,NaN,0):null}function St(e){return new Et(e>>16&255,e>>8&255,255&e,1)}function kt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Et(e,t,n,r)}function Ct(e,t,n,r){return 1===arguments.length?((o=e)instanceof ct||(o=wt(o)),o?new Et((o=o.rgb()).r,o.g,o.b,o.opacity):new Et):new Et(e,t,n,null==r?1:r);var o}function Et(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function At(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function qt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dt(e,t,n,r)}function Dt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Tt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Nt(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}ut(ct,wt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),ut(Et,Ct,st(ct,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Et(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Et(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+At(this.r)+At(this.g)+At(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),ut(Dt,(function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Dt)return new Dt(e.h,e.s,e.l,e.opacity);if(e instanceof ct||(e=wt(e)),!e)return new Dt;if(e instanceof Dt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new Dt(a,l,u,e.opacity)}(e):new Dt(e,t,n,null==r?1:r)}),st(ct,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Dt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Dt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Et(Tt(e>=240?e-240:e+120,o,r),Tt(e,o,r),Tt(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Lt=function(e){return function(){return e}};function It(e,t){return function(n){return e+n*t}}function jt(e){return 1==(e=+e)?Pt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Lt(isNaN(t)?n:t)}}function Pt(e,t){var n=t-e;return n?It(e,n):Lt(isNaN(e)?t:e)}var Rt=function e(t){var n=jt(t);function r(e,t){var r=n((e=Ct(e)).r,(t=Ct(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Pt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function _t(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),l=new Array(o);for(n=0;n<o;++n)r=Ct(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}_t((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return Nt((n-r/t)*t,a,o,i,l)}})),_t((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return Nt((n-r/t)*t,o,i,a,l)}}));var zt=function(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=$t(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}},Ft=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},Ut=function(e,t){return t-=e=+e,function(n){return e+t*n}};function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Bt=function(e,t){var n,r={},o={};for(n in null!==e&&"object"===Ht(e)||(e={}),null!==t&&"object"===Ht(t)||(t={}),t)n in e?r[n]=$t(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}},Vt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wt=new RegExp(Vt.source,"g");var Gt=function(e,t){var n,r,o,i=Vt.lastIndex=Wt.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(n=Vt.exec(e))&&(r=Wt.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,u.push({i:a,x:Ut(n,r)})),i=Wt.lastIndex;return i<t.length&&(o=t.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)l[(n=u[r]).i]=n.x(e);return l.join("")})};function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $t=function(e,t){var n,r=Kt(t);return null==t||"boolean"===r?Lt(t):("number"===r?Ut:"string"===r?(n=wt(t))?(t=n,Rt):Gt:t instanceof wt?Rt:t instanceof Date?Ft:Array.isArray(t)?zt:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Bt:Ut)(e,t)},Xt=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},Zt=Array.prototype,Jt=Zt.map,Yt=Zt.slice,Qt=function(e){return function(){return e}},en=function(e){return+e},tn=[0,1];function nn(e){return e}function rn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Qt(isNaN(t)?NaN:.5)}function on(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function an(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=rn(o,r),i=n(a,i)):(r=rn(r,o),i=n(i,a)),function(e){return i(r(e))}}function ln(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=rn(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=lt(e,t,1,r)-1;return i[n](o[n](t))}}function un(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sn(){var e,t,n,r,o,i,a=tn,l=tn,u=$t,s=nn;function c(){return r=Math.min(a.length,l.length)>2?ln:an,o=i=null,f}function f(t){return isNaN(t=+t)?n:(o||(o=r(a.map(e),l,u)))(e(s(t)))}return f.invert=function(n){return s(t((i||(i=r(l,a.map(e),Ut)))(n)))},f.domain=function(e){return arguments.length?(a=Jt.call(e,en),s===nn||(s=on(a)),c()):a.slice()},f.range=function(e){return arguments.length?(l=Yt.call(e),c()):l.slice()},f.rangeRound=function(e){return l=Yt.call(e),u=Xt,c()},f.clamp=function(e){return arguments.length?(s=e?on(a):nn,f):s!==nn},f.interpolate=function(e){return arguments.length?(u=e,c()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function cn(e,t){return sn()(e,t)}function fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var dn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pn(e){return new mn(e)}function mn(e){if(!(t=dn.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}pn.prototype=mn.prototype,mn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var hn,gn,yn,vn,bn=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},xn=function(e){return(e=bn(Math.abs(e)))?e[1]:NaN},Mn=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(o>0){if(!+e[r])break e;o=0}}return o>0?e.slice(0,o)+e.slice(t+1):e},On=function(e,t){var n=bn(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},wn={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return On(100*e,t)},r:On,s:function(e,t){var n=bn(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(hn=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+bn(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Sn=function(e){return e},kn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];gn=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var o=e.length,i=[],a=0,l=t[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(e.substring(o-=l,o+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return i.reverse().join(n)}):Sn,o=e.currency,i=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):Sn,l=e.percent||"%";function u(e){var t=(e=pn(e)).fill,n=e.align,u=e.sign,s=e.symbol,c=e.zero,f=e.width,d=e.comma,p=e.precision,m=e.trim,h=e.type;"n"===h?(d=!0,h="g"):wn[h]||(null==p&&(p=12),m=!0,h="g"),(c||"0"===t&&"="===n)&&(c=!0,t="0",n="=");var g="$"===s?o[0]:"#"===s&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",y="$"===s?o[1]:/[%p]/.test(h)?l:"",v=wn[h],b=/[defgprs%]/.test(h);function x(e){var o,l,s,x=g,M=y;if("c"===h)M=v(e)+M,e="";else{var O=(e=+e)<0;if(e=v(Math.abs(e),p),m&&(e=Mn(e)),O&&0==+e&&(O=!1),x=(O?"("===u?u:"-":"-"===u||"("===u?"":u)+x,M=("s"===h?kn[8+hn/3]:"")+M+(O&&"("===u?")":""),b)for(o=-1,l=e.length;++o<l;)if(48>(s=e.charCodeAt(o))||s>57){M=(46===s?i+e.slice(o+1):e.slice(o))+M,e=e.slice(0,o);break}}d&&!c&&(e=r(e,1/0));var w=x.length+e.length+M.length,S=w<f?new Array(f-w+1).join(t):"";switch(d&&c&&(e=r(S+e,S.length?f-M.length:1/0),S=""),n){case"<":e=x+e+M+S;break;case"=":e=x+S+e+M;break;case"^":e=S.slice(0,w=S.length>>1)+x+e+M+S.slice(w);break;default:e=S+x+e+M}return a(e)}return p=null==p?6:/[gprs]/.test(h)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),x.toString=function(){return e+""},x}return{format:u,formatPrefix:function(e,t){var n=u(((e=pn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(xn(t)/3))),o=Math.pow(10,-r),i=kn[8+r/3];return function(e){return n(o*e)+i}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),yn=gn.format,vn=gn.formatPrefix;var Cn=function(e,t,n,r){var o,i=nt(e,t,n);switch((r=pn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xn(t)/3)))-xn(Math.abs(e)))}(i,a))||(r.precision=o),vn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xn(t)-xn(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-xn(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return yn(r)};function En(){var e=cn(nn,nn);return e.copy=function(){return un(e,En())},fn.apply(e,arguments),function(e){var t=e.domain;return e.ticks=function(e){var n=t();return et(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Cn(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o=t(),i=0,a=o.length-1,l=o[i],u=o[a];return u<l&&(r=l,l=u,u=r,r=i,i=a,a=r),(r=tt(l,u,n))>0?r=tt(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=tt(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,n)),r>0?(o[i]=Math.floor(l/r)*r,o[a]=Math.ceil(u/r)*r,t(o)):r<0&&(o[i]=Math.ceil(l*r)/r,o[a]=Math.floor(u*r)/r,t(o)),e},e}(e)}function An(e,t){return e&&t&&e.qTicks.length===t.qTicks.length&&e.qTicks.every((function(e,n){return e.qStart===t.qTicks[n].qStart&&e.qEnd===t.qTicks[n].qEnd}))}function qn(e){for(var t=e.qAxis,n=[],r=[],o=0;o<t.length;o++){var i=o+1,a=t[o],l=t[i];An(a,l)?(l.qTags.indexOf("$qualified")>-1?(n.push(i),r.push(o)):(n.push(o),r.push(i)),o++):(n.push(o),r.push(o))}return{qualified:n,nonQualified:r}}function Dn(e){var t=e.qualifiedMeta,n=e.nonQualifiedMeta;return{resolve:function(e){for(var r,o=NaN,i=NaN,a=NaN,l=!1,u=t.length-1;u>=0;u--){var s=t[u];if(s.queries.outer(e)){var c=n[u+1];if(o=s.index,r=u,s.attrs.isDayOrShorter()&&s.queries.canFitHalfDayTicks(e)){i="auto",l=!0;break}if(c&&c.queries.inner(e)){i=c.index;var f=n[u+2];f&&f.queries.minor(e)&&(a=f.index);break}}}if(!Number.isNaN(o)&&Number.isNaN(i)&&"auto"!==i){i=o,o=NaN;var d=n[r+1];d&&d.queries.minor(e)&&(a=d.index)}else Number.isNaN(o)&&(o="auto",i="auto");return{outer:o,inner:i,minor:a,isDayOrShorter:l}}}}function Tn(e){return function(e){if(Array.isArray(e))return Nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ln=16;function In(e){var t=e.qTicks,n=e.measureText,r=void 0===n?function(){return{width:0}}:n,o=e.cache,i=void 0===o?{}:o,a=e.scale,l=i;return{isDayOrShorter:function(){return l.isDayOrShorter=t.length>0&&Math.abs(t[0].qStart-t[0].qEnd)<=1,l.isDayOrShorter},count:function(){return t.length},maxRange:function(){return l.maxRange=t.length?Math.max.apply(Math,Tn(t.map((function(e){return Math.abs(a(e.qStart)-a(e.qEnd))})))):0,l.maxRange},rangeAndWidth:function(){var e=a.clamp();return a.clamp(!1),l.rangeAndWidth=t.map((function(e){return{range:Math.abs(a(e.qStart)-a(e.qEnd)),width:r("".concat(e.qText)).width+Ln}})),a.clamp(e),l.rangeAndWidth}}}var jn=6;function Pn(e){var t=e.attrs,n=e.reqAutoFitWidth;return{outer:function(e){return!t.rangeAndWidth().some((function(t){return t.width>t.range*e}))},inner:function(e){return!t.rangeAndWidth().some((function(t){return t.width>t.range*e}))},minor:function(e){return t.maxRange()*e>=jn},canFitHalfDayTicks:function(e){return e>=n*t.count()}}}function Rn(e){var t=e.qualified,n=e.nonQualified,r=e.qAxis,o=e.measureText,i=e.reqAutoFitWidth,a=e.scale,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{attributesFactory:In,queryFactory:Pn},u=l.attributesFactory,s=void 0===u?In:u,c=l.queryFactory,f=void 0===c?Pn:c;var d=r.map((function(e,t){return function(e,t){var n=e.qTicks,r=s({qTicks:n,measureText:o,scale:a});return{data:e,index:t,attrs:r,queries:f({attrs:r,reqAutoFitWidth:i})}}(e,t)})),p=t.map((function(e){return d[e]})),m=n.map((function(e){return d[e]}));return{qAxisMeta:d,qualifiedMeta:p,nonQualifiedMeta:m}}function _n(e){var t=e.qAxis,n=void 0===t?[]:t,r=e.measureText,o=void 0===r?function(){return{width:0}}:r,i=e.cache,a=void 0===i?{}:i,l=e.reqAutoFitWidth,u=void 0===l?0:l,s=e.scale,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{metaFactory:Rn,mapper:qn,resolver:Dn},f=c.metaFactory,d=void 0===f?Rn:f,p=c.mapper,m=void 0===p?qn:p,h=c.resolver,g=void 0===h?Dn:h,y=m({qAxis:n}),v=y.qualified,b=y.nonQualified,x=d({qAxis:n,qualified:v,nonQualified:b,measureText:o,reqAutoFitWidth:u,scale:s}),M=g({qualifiedMeta:x.qualifiedMeta,nonQualifiedMeta:x.nonQualifiedMeta});return{resolve:function(e){var t=a.key({distance:e});if(a.get(t))return a.get(t);if(function(e){return!Array.isArray(e)||0===e.length||e.every((function(e){return 0===e.qTicks.length}))}(n))return{outer:"auto",inner:"auto",minor:NaN,isDayOrShorter:!1};var r=M.resolve(e);return a.set(t,r),r}}}var zn=new Date,Fn=new Date;function Un(e,t,n,r){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,l=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return l;do{l.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return l},o.filter=function(n){return Un((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return zn.setTime(+t),Fn.setTime(+r),e(zn),e(Fn),Math.floor(n(zn,Fn))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var Hn=Un((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Hn.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Un((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Bn=Hn,Vn=(Hn.range,Un((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Wn=(Vn.range,6e4),Gn=6048e5;function Kn(e){return Un((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/Gn}))}var $n=Kn(0),Xn=Kn(1),Zn=Kn(2),Jn=Kn(3),Yn=Kn(4),Qn=Kn(5),er=Kn(6),tr=($n.range,Xn.range,Zn.range,Jn.range,Yn.range,Qn.range,er.range,Un((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/864e5}),(function(e){return e.getDate()-1}))),nr=tr,rr=(tr.range,Un((function(e){var t=e.getTimezoneOffset()*Wn%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),or=(rr.range,Un((function(e){e.setTime(Math.floor(e/Wn)*Wn)}),(function(e,t){e.setTime(+e+t*Wn)}),(function(e,t){return(t-e)/Wn}),(function(e){return e.getMinutes()}))),ir=(or.range,Un((function(e){e.setTime(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),ar=ir,lr=(ir.range,Un((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));lr.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Un((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):lr:null};var ur=lr;lr.range;function sr(e){return Un((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Gn}))}var cr=sr(0),fr=sr(1),dr=sr(2),pr=sr(3),mr=sr(4),hr=sr(5),gr=sr(6),yr=(cr.range,fr.range,dr.range,pr.range,mr.range,hr.range,gr.range,Un((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),vr=yr,br=(yr.range,Un((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));br.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Un((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var xr=br;br.range;function Mr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Or(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wr(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var Sr,kr,Cr={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,Ar=/^%/,qr=/[\\^$*+?|[\]().{}]/g;function Dr(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Tr(e){return e.replace(qr,"\\$&")}function Nr(e){return new RegExp("^(?:"+e.map(Tr).join("|")+")","i")}function Lr(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Ir(e,t,n){var r=Er.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jr(e,t,n){var r=Er.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Pr(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Rr(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _r(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zr(e,t,n){var r=Er.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Fr(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ur(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Hr(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Br(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Vr(e,t,n){var r=Er.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Wr(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Gr(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Kr(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function $r(e,t,n){var r=Er.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Xr(e,t,n){var r=Er.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zr(e,t,n){var r=Ar.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Jr(e,t,n){var r=Er.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yr(e,t,n){var r=Er.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function Qr(e,t){return Dr(e.getDate(),t,2)}function eo(e,t){return Dr(e.getHours(),t,2)}function to(e,t){return Dr(e.getHours()%12||12,t,2)}function no(e,t){return Dr(1+nr.count(Bn(e),e),t,3)}function ro(e,t){return Dr(e.getMilliseconds(),t,3)}function oo(e,t){return ro(e,t)+"000"}function io(e,t){return Dr(e.getMonth()+1,t,2)}function ao(e,t){return Dr(e.getMinutes(),t,2)}function lo(e,t){return Dr(e.getSeconds(),t,2)}function uo(e){var t=e.getDay();return 0===t?7:t}function so(e,t){return Dr($n.count(Bn(e),e),t,2)}function co(e,t){var n=e.getDay();return e=n>=4||0===n?Yn(e):Yn.ceil(e),Dr(Yn.count(Bn(e),e)+(4===Bn(e).getDay()),t,2)}function fo(e){return e.getDay()}function po(e,t){return Dr(Xn.count(Bn(e),e),t,2)}function mo(e,t){return Dr(e.getFullYear()%100,t,2)}function ho(e,t){return Dr(e.getFullYear()%1e4,t,4)}function go(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dr(t/60|0,"0",2)+Dr(t%60,"0",2)}function yo(e,t){return Dr(e.getUTCDate(),t,2)}function vo(e,t){return Dr(e.getUTCHours(),t,2)}function bo(e,t){return Dr(e.getUTCHours()%12||12,t,2)}function xo(e,t){return Dr(1+vr.count(xr(e),e),t,3)}function Mo(e,t){return Dr(e.getUTCMilliseconds(),t,3)}function Oo(e,t){return Mo(e,t)+"000"}function wo(e,t){return Dr(e.getUTCMonth()+1,t,2)}function So(e,t){return Dr(e.getUTCMinutes(),t,2)}function ko(e,t){return Dr(e.getUTCSeconds(),t,2)}function Co(e){var t=e.getUTCDay();return 0===t?7:t}function Eo(e,t){return Dr(cr.count(xr(e),e),t,2)}function Ao(e,t){var n=e.getUTCDay();return e=n>=4||0===n?mr(e):mr.ceil(e),Dr(mr.count(xr(e),e)+(4===xr(e).getUTCDay()),t,2)}function qo(e){return e.getUTCDay()}function Do(e,t){return Dr(fr.count(xr(e),e),t,2)}function To(e,t){return Dr(e.getUTCFullYear()%100,t,2)}function No(e,t){return Dr(e.getUTCFullYear()%1e4,t,4)}function Lo(){return"+0000"}function Io(){return"%"}function jo(e){return+e}function Po(e){return Math.floor(+e/1e3)}!function(e){Sr=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,s=Nr(o),c=Lr(o),f=Nr(i),d=Lr(i),p=Nr(a),m=Lr(a),h=Nr(l),g=Lr(l),y=Nr(u),v=Lr(u),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:Qr,e:Qr,f:oo,H:eo,I:to,j:no,L:ro,m:io,M:ao,p:function(e){return o[+(e.getHours()>=12)]},Q:jo,s:Po,S:lo,u:uo,U:so,V:co,w:fo,W:po,x:null,X:null,y:mo,Y:ho,Z:go,"%":Io},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:yo,e:yo,f:Oo,H:vo,I:bo,j:xo,L:Mo,m:wo,M:So,p:function(e){return o[+(e.getUTCHours()>=12)]},Q:jo,s:Po,S:ko,u:Co,U:Eo,V:Ao,w:qo,W:Do,x:null,X:null,y:To,Y:No,Z:Lo,"%":Io},M={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=m[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:Br,e:Br,f:Xr,H:Wr,I:Wr,j:Vr,L:$r,m:Hr,M:Gr,p:function(e,t,n){var r=s.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:Jr,s:Yr,S:Kr,u:jr,U:Pr,V:Rr,w:Ir,W:_r,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:Fr,Y:zr,Z:Ur,"%":Zr};function O(e,t){return function(n){var r,o,i,a=[],l=-1,u=0,s=e.length;for(n instanceof Date||(n=new Date(+n));++l<s;)37===e.charCodeAt(l)&&(a.push(e.slice(u,l)),null!=(o=Cr[r=e.charAt(++l)])?r=e.charAt(++l):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),u=l+1);return a.push(e.slice(u,l)),a.join("")}}function w(e,t){return function(n){var r,o,i=wr(1900);if(S(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=Or(wr(i.y))).getUTCDay(),r=o>4||0===o?fr.ceil(r):fr(r),r=vr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=t(wr(i.y))).getDay(),r=o>4||0===o?Xn.ceil(r):Xn(r),r=nr.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?Or(wr(i.y)).getUTCDay():t(wr(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Or(i)):t(i)}}function S(e,t,n,r){for(var o,i,a=0,l=t.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=M[o in Cr?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=O(n,b),b.X=O(r,b),b.c=O(t,b),x.x=O(n,x),x.X=O(r,x),x.c=O(t,x),{format:function(e){var t=O(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",Mr);return t.toString=function(){return e},t},utcFormat:function(e){var t=O(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e,Or);return t.toString=function(){return e},t}}}(e),Sr.format,Sr.parse,kr=Sr.utcFormat,Sr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ro=function(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e},_o=1e3,zo=60*_o,Fo=60*zo,Uo=24*Fo,Ho=7*Uo,Bo=30*Uo,Vo=365*Uo;function Wo(e){return new Date(e)}function Go(e){return e instanceof Date?+e:+new Date(+e)}function Ko(e,t,n,r,o,i,a,l,u){var s=cn(nn,nn),c=s.invert,f=s.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),h=u("%I %p"),g=u("%a %d"),y=u("%b %d"),v=u("%B"),b=u("%Y"),x=[[a,1,_o],[a,5,5*_o],[a,15,15*_o],[a,30,30*_o],[i,1,zo],[i,5,5*zo],[i,15,15*zo],[i,30,30*zo],[o,1,Fo],[o,3,3*Fo],[o,6,6*Fo],[o,12,12*Fo],[r,1,Uo],[r,2,2*Uo],[n,1,Ho],[t,1,Bo],[t,3,3*Bo],[e,1,Vo]];function M(l){return(a(l)<l?d:i(l)<l?p:o(l)<l?m:r(l)<l?h:t(l)<l?n(l)<l?g:y:e(l)<l?v:b)(l)}function O(t,n,r,o){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(r-n)/t,a=ot((function(e){return e[2]})).right(x,i);a===x.length?(o=nt(n/Vo,r/Vo,t),t=e):a?(o=(a=x[i/x[a-1][2]<x[a][2]/i?a-1:a])[1],t=a[0]):(o=Math.max(nt(n,r,t),1),t=l)}return null==o?t:t.every(o)}return s.invert=function(e){return new Date(c(e))},s.domain=function(e){return arguments.length?f(Jt.call(e,Go)):f().map(Wo)},s.ticks=function(e,t){var n,r=f(),o=r[0],i=r[r.length-1],a=i<o;return a&&(n=o,o=i,i=n),n=(n=O(e,o,i,t))?n.range(o,i+1):[],a?n.reverse():n},s.tickFormat=function(e,t){return null==t?M:u(t)},s.nice=function(e,t){var n=f();return(e=O(e,n[0],n[n.length-1],t))?f(Ro(n,e)):s},s.copy=function(){return un(s,Ko(e,t,n,r,o,i,a,l,u))},s}var $o=Un((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Xo=$o,Zo=($o.range,Un((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),Jo=Zo,Yo=(Zo.range,Un((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Wn)}),(function(e,t){return(t-e)/Wn}),(function(e){return e.getUTCMinutes()}))),Qo=Yo,ei=(Yo.range,function(){return fn.apply(Ko(xr,Xo,cr,vr,Jo,Qo,ar,ur,kr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),ti=86400,ni=864e5;function ri(e){return new Date(Date.UTC(1899,11,30+Math.floor(e),0,0,0,Math.round(ni*(e-Math.floor(e)))))}var oi=ri(0).getTime();function ii(e){return(e.getTime()-oi)/ti/1e3}var ai=new Date,li=new Date;function ui(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,l=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return l;do{l.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return l},o.filter=function(n){return ui((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return ai.setTime(+t),li.setTime(+r),e(ai),e(li),Math.floor(n(ai,li))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var si=6048e5,ci=ui((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})),fi=ci,di=(ci.range,ui((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),pi=di,mi=(di.range,ui((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}))),hi=mi,gi=(mi.range,ui((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),yi=gi;gi.range;function vi(e){return ui((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/si}))}var bi=vi(0),xi=vi(1),Mi=vi(2),Oi=vi(3),wi=vi(4),Si=vi(5),ki=vi(6),Ci=(bi.range,xi.range,Mi.range,Oi.range,wi.range,Si.range,ki.range,ui((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),Ei=Ci,Ai=(Ci.range,ui((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));Ai.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ui((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var qi=Ai,Di=(Ai.range,{second:1,minute:2,hour:3,day:4,month:5,year:6});function Ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Li(e){var t,n=e.timeScale,r=e.labels,o=e.distance,i=e.isDayOrShorter,a=e.cache,l=Ti(n.domain(),2),u=l[0],s=l[1],c=a.key({distance:o});a.get(c,1)?t=a.get(c,1):(t=function(e,t,n,r,o){var i=pi.count(e,t),a=hi.count(e,t),l=yi.count(e,t),u=fi.count(e,t),s=bi.count(e,t),c=Ei.count(e,t),f=qi.count(e,t),d=n/r.second.width-1,p=n/r.minute.width-1,m=n/r.date.width-1,h=n/r.year.width-1,g={type:"year",desc:"year",count:f,interval:qi.every(1),formatter:r.year.formatter};return i<=d?(g.type=Di.second,g.desc="second",g.count=i,g.interval=pi.every(1),g.formatter=r.second.formatter):i/2<=d?(g.type=Di.second,g.desc="every other second",g.count=i/2,g.interval=pi.every(2),g.formatter=r.second.formatter):i/5<=d?(g.type=Di.second,g.desc="every 5 second",g.count=i/5,g.interval=pi.every(5),g.formatter=r.second.formatter):i/15<=d?(g.type=Di.second,g.desc="every 15 second",g.count=i/15,g.interval=pi.every(15),g.formatter=r.second.formatter):i/30<=d?(g.type=Di.second,g.desc="every 30 second",g.count=i/30,g.interval=pi.every(30),g.formatter=r.second.formatter):a<=p?(g.type=Di.minute,g.desc="minute",g.count=a,g.interval=hi.every(1),g.formatter=r.minute.formatter):a/2<=p?(g.type=Di.minute,g.desc="every 2 minute",g.count=a/2,g.interval=hi.every(2),g.formatter=r.minute.formatter):a/5<=p?(g.type=Di.minute,g.desc="every 5 minute",g.count=a/5,g.interval=hi.every(5),g.formatter=r.minute.formatter):a/10<=p?(g.type=Di.minute,g.desc="every 10 minute",g.count=a/10,g.interval=hi.every(10),g.formatter=r.minute.formatter):a/15<=p?(g.type=Di.minute,g.desc="every 15 minute",g.count=a/15,g.interval=hi.every(15),g.formatter=r.minute.formatter):a/30<=p?(g.type=Di.minute,g.desc="every 30 minute",g.count=a/30,g.interval=hi.every(30),g.formatter=r.minute.formatter):l<=p?(g.type=Di.hour,g.desc="hour",g.count=l,g.interval=yi.every(1),g.formatter=r.minute.formatter):l/2<=p?(g.type=Di.hour,g.desc="every 2 hour",g.count=l/2,g.interval=yi.every(2),g.formatter=r.minute.formatter):l/3<=p?(g.type=Di.hour,g.desc="every 3 hour",g.count=l/3,g.interval=yi.every(3),g.formatter=r.minute.formatter):l/6<=p?(g.type=Di.hour,g.desc="every 6 hour",g.count=l/6,g.interval=yi.every(6),g.formatter=r.minute.formatter):l/12<=p||o?(g.type=Di.hour,g.desc="every 12 hour",g.count=l/12,g.interval=yi.every(12),g.formatter=r.minute.formatter):u<=m?(g.type=Di.day,g.desc="day",g.count=u,g.interval=fi.every(1),g.formatter=r.date.formatter):u/2<=m?(g.type=Di.day,g.desc="every 2 day",g.count=u/2,g.interval=fi.every(2),g.formatter=r.date.formatter):u/3<=m?(g.type=Di.day,g.desc="every 3 day",g.count=u/3,g.interval=fi.every(3),g.formatter=r.date.formatter):s<=m?(g.type=Di.day,g.desc="week",g.count=s,g.interval=bi.every(1),g.formatter=r.date.formatter):s/2<=m?(g.type=Di.day,g.desc="every 2 week",g.count=s/2,g.interval=bi.every(2),g.formatter=r.date.formatter):c<=m?(g.type=Di.month,g.desc="month",g.count=c,g.interval=Ei.every(1),g.formatter=r.date.formatter):c/3<=m?(g.type=Di.month,g.desc="quarter",g.count=c/3,g.interval=Ei.every(3),g.formatter=r.date.formatter):c/6<=m?(g.type=Di.month,g.desc="half year",g.count=c/6,g.interval=Ei.every(6),g.formatter=r.date.formatter):f<=h?(g.type=Di.year,g.desc="year",g.count=f,g.interval=qi.every(1),g.formatter=r.year.formatter):f/2<=h?(g.type=Di.year,g.desc="every 2 year",g.count=f/2,g.interval=qi.every(2),g.formatter=r.year.formatter):f/5<=h?(g.type=Di.year,g.desc="every 5 year",g.count=f/5,g.interval=qi.every(5),g.formatter=r.year.formatter):f/10<=h?(g.type=Di.year,g.desc="every 10 year",g.count=f/10,g.interval=qi.every(10),g.formatter=r.year.formatter):(g.type=Di.year,g.desc="every nth year",g.count=Math.floor(f/h),g.interval=qi.every(Math.floor(f/h)),g.formatter=r.year.formatter),g}(u,s,o,r.all(),i),a.set(c,t,1));var f=n.ticks(t.interval).map((function(e,n,r){var o=r[n+1]?r[n+1]-e:s-e;return{start:e,end:new Date(e.getTime()+o),formatter:t.formatter}})),d=[];if(t.type<=Di.hour){var p=r.getFormat("date"),m=n.ticks(fi.every(1));d=(m.length?m:[u]).map((function(e,t,n){var r=n[t+1]?n[t+1]-e:s-e;return{start:e,end:new Date(e.getTime()+r),formatter:p.formatter}}))}return{inner:f,outer:d}}function Ii(e){return function(e){if(Array.isArray(e))return ji(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ji(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pi=86400,Ri=1440,_i={};function zi(e,t,n,r){return{type:e,start:new Date(Date.UTC.apply(Date,Ii(t))),end:new Date(Date.UTC.apply(Date,Ii(n))),formatter:r}}function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bi(e,t,n){var r=t.ticks,o=r.generator,i=r.anchor,a=r.clamp,l=r.level,u=t.formatter.qNumFormat;e.clamp(a);var s=Ui(e.domain(),2),c=s[0],f=s[1],d=ei().domain([ri(c),ri(f)]);d.clamp(a),d.range(t.invert?[1,0]:[0,1]);var p,m="object"===Fi(o)?o.type:o;p="d3"===m?function(e,r){return Li({timeScale:d,labels:n,distance:e,isDayOrShorter:r,cache:t.cache})}:function(e){return function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(_i[[t,n,r,r,i]])return _i[[t,n,r,r,i]];var a,l,u,s={year:e.getFormat("year"),date:e.getFormat("date"),minute:e.getFormat("minute"),second:e.getFormat("second")},c=ri(n),f=c.getFullYear(),d=c.getMonth(),p=c.getDate(),m=r-n,h=t/(o-r),g=h/1440,y=h/Pi,v=366*h,b=3*h*30,x=s.second.width/y,M=s.minute.width/g,O=s.date.width/b,w=s.year.width/v,S=0,k=0,C=null,E=null,A=null,q=null,D=null,T=null,N={outer:[],inner:[]};for(x<1?(C=1,k=1/Pi):x<2?(C=2,k=1/Pi*2):x<5?(C=5,k=1/Pi*5):x<10?(C=10,k=1/Pi*10):x<30?(C=30,k=1/Pi*30):M<1?(E=1,k=1/Ri):M<2?(E=2,k=1/Ri*2):M<5?(E=5,k=1/Ri*5):M<10?(E=10,k=1/Ri*10):M<30?(E=30,k=1/Ri*30):M<60?(A=1,k=1/24):M<120?(A=2,k=2/24):M<360?(A=6,k=.25):M<720?(A=12,k=.5):O<1/90?(k=1,q=1):O<2/90?(k=2,q=2):O<7/90?(k=7,q=7):O<31/90?(D=1,k=31):O<1?(D=3,k=90):w<1?(T=1,k=366):w<2?(T=2,k=732):w<5?(T=5,k=1826.25):(T=10,k=3652.5),l=Math.floor((m+n%1)/k);S<o;){u=l+1,S=ii((a=T?zi("year",[f+l*T,0,1],[f+u*T,0,1],s.year.formatter):D?zi("month",[f,d+l*D,1],[f,d+u*D,1],s.date.formatter):q?zi("day",[f,d,p+l*q],[f,d,p+u*q],s.date.formatter):A?zi("hour",[f,d,p,0+l*A],[f,d,p,0+u*A],s.minute.formatter):E?zi("minute",[f,d,p,0,0+l*E],[f,d,p,0,0+u*E],s.minute.formatter):zi("second",[f,d,p,0,0,0+l*C],[f,d,p,0,0,0+u*C],s.second.formatter)).start),N.inner.push(a);var L=Math.floor(S);if(!(i||T||D||q)){var I={type:"day",start:ri(L),end:ri(L+1),formatter:s.date.formatter,qStart:L};N.outer[N.outer.length-1]&&N.outer[N.outer.length-1].qStart===I.qStart||N.outer.push(I)}l++}return N.min=r,N.max=o,_i[[t,n,r,r,i]]=N,N}(n,e,o.min,c,f,"T"===u.qType)};var h={transform:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isMinor,o=void 0!==r&&r;return t.map((function(t){var n;n="start"===i?t.qStart:"end"===i?t.qEnd:(t.qStart+t.qEnd)/2;var r=e.clamp();o&&e.clamp(!1);var a=e(n),l=e(t.qStart),u=e(t.qEnd);return e.clamp(r),{value:n,position:a,start:l,end:u,label:t.qText,isMinor:o,data:o?void 0:{start:t.qStart,end:t.qEnd,scaleStart:e.domain()[0]}}})).filter((function(e){return e.position>=0&&e.position<=1}))},generate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1?arguments[1]:void 0,r=p(t,n),o=r[l];return o.map((function(t){var n;return n="start"===i?ii(t.start):"end"===i?ii(t.end):(ii(t.start)+ii(t.end))/2,{position:d(t.start),start:d(t.start),end:d(t.end),value:n,label:t.formatter(n),isMinor:!1,data:{start:ii(t.start),end:ii(t.end),scaleStart:e.domain()[0]}}})).filter((function(e){return e.position>=0&&e.position<=1}))}};return h}var Vi=41000.2343433,Wi=/t+/i,Gi=16,Ki=60;function $i(e){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e){return function(e){if(Array.isArray(e))return Zi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ji={min:NaN,max:NaN,invert:!1,qAxis:[],field:void 0,formatter:{fn:function(){return function(e){return e}},measureText:function(){return{width:0,height:0}},localeInfo:{},qNumFormat:{}},ticks:{generator:"d3",level:"outer",anchor:void 0,clamp:!1},cache:{get:function(){return!1},set:function(){},key:function(){return""}}};function Yi(e,t){e.instance||(e.instance=t.copy(),e.instance.domain(t.domain()),e.instance.clamp(!0),e.instance.range(e.invert?[1,0]:[0,1]))}function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ea="continuousPan",ta=10;var na={model:function(e){var t,n,r,o=e.model,i=e.layoutModel,a=e.dataProcessorModel,l=void 0===a?je:a,u=e.trendLineModel,s=void 0===u?Pe:u,c=e.viewCache,f=e.viewState,d=e.definitionPath,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=p.engineFetcherFactory,h=void 0===m?re:m,g=p.snapshotFetcherFactory,y=void 0===g?ie:g,v=p.cacheFetcherFactory,b=void 0===v?oe:v,x=p.cache,M=void 0===x?{initial:{},merged:{}}:x,O=h({model:o,layoutModel:i,definitionPath:d}),w=y({layoutModel:i,viewCache:c}),S=b({cache:M}),k=function(e){throw 8===e.code&&"Start and End are outside data range"===e.parameter&&(e.isHandled=!0),e};return{update:function(e){var o,a,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.qMin,n=e.qMax;return{initialMin:t=Number.isNaN(+t)?0:t,initialMax:n=Number.isNaN(+n)?0:n}}(e.qHyperCube.qDimensionInfo[0]);if(n=l.initialMin,r=l.initialMax,c.set("continuousMin",n),c.set("continuousMax",r),c.set("minimiumZoomSpan",(o=n,a=r,Math.max(qe,(a-o)*De))),t=i.meta.isSnapshot?w:O,i.meta.isSnapshot){var u=w.getSnapshotData().zoom;n=u.min,r=u.max}f.preventSet("zoom",{min:n,max:r})},updateLayout:function(e){var t=e.qDataPages,n=e.qAxisData;return i.setHyperCubeValue("qDataPages",t),i.setHyperCubeValue("qAxisData",n),i.setHyperCubeValue("qMode","S"),s.command.update(),e},initialFetch:function(){var e=this;return t.fetch(n,r).then((function(e){var t=function(e){return{qDataPages:e.qDataPages.map((function(e){var t=fe(e.qArea,e.qMatrix);return ke(ke({},e),{},{qArea:t})})),qAxisData:e.qAxisData}}(e);return l.command.processDataPage({dataPage:t.qDataPages.length?t.qDataPages[0]:[]}),M.initial=t,M.merged=t,e})).then((function(e){return he(n,r,e)})).then((function(t){return e.updateLayout(t)})).catch(k)},fetch:function(e,n){return t.fetch(e,n).then((function(e){return we(M.initial,e)})).then((function(e){return l.command.processDataPage({dataPage:e.qDataPages.length?e.qDataPages[0]:[]}),M.merged=e,e})).then((function(t){return he(e,n,t)})).catch(k)},fetchFromCache:function(e,t){return S.fetch(e,t).then((function(n){return he(e,t,n)}))},fetchMinMaxData:function(){return Promise.resolve(M.initial.qDataPages)},getInitialCube:function(){var e=i.getHyperCube();return ee()({},e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},M.initial))},getInitialLayout:function(){var e=this.getInitialCube();return ee()({},i.getLayout(),{qHyperCube:e})},getDimensionCardinality:function(){return Ne(M.initial,i.meta)},setSnapshotData:function(e){var t=e.qHyperCube;t.qDataPages=M.merged.qDataPages,t.qAxisData=M.merged.qAxisData}}},event:{onZoomChange:function(e,t){var n=e.layoutModel,r=e.continuousDataModel;function o(e,n,o){return r[e](n,o).then((function(e){return r.updateLayout(e),t(),e}))}var i=Re((function(e,t){return o("fetch",e,t)}),50);return function(e,t){var r=e.min,a=e.max,l=t.min,u=t.max;return!n.meta.isContinuous||r===l&&a===u?Promise.resolve(null):o("fetchFromCache",r,a).then((function(e){return i(r,a),e}))}},onZoomIntercept:function(e){var t=e.viewCache,n=NaN,r=NaN,o=NaN;return function(e,i){return n=t.get("continuousMin"),r=t.get("continuousMax"),o=t.get("minimiumZoomSpan"),Math.abs(e.max-e.min)<o?i:{min:Math.min(e.max,Math.max(n,e.min)),max:Math.max(e.min,Math.min(r,e.max))}}},onZoom:function(e,t){var n=e.viewCache,r=e.viewState,o=e.chart,i=t.threshold,a=void 0===i?50:i,l=t.rtl,u=void 0!==l&&l,s=t.targetKey,c=n.get("continuousMin"),f=n.get("continuousMax");return A((function(e,t){var n=function(e){return o.componentsFromPoint(e).filter((function(e){return e.key===s}))[0]}(e);if(n){var i=function(e,t,n){var r=e.x;return r-=t.element.getBoundingClientRect().left,r-=n.rect.x,Math.max(0,Math.min(1,r/n.rect.width))}(e,o,n),a=u?1-i:i,l=r.get("zoom"),d=l.min,p=l.max,m=Math.abs(p-d),h=m-(t>0?Ae:Ee)*m,g=d+h*a,y=p-h*(1-a),v=g<c?c-g:0,b=y>f?y-f:0;r.set("zoom",{min:Math.max(g-b,c),max:Math.min(y+v,f)})}}),a)}},interactions:{areaPan:function(e){var t,n=e.targetKey,r=e.chart,o=e.actions,i=e.viewState,a=e.viewCache;return{type:"Pan",key:"continuous:pan",options:{event:ea,pointers:1,threshold:ta,enable:function(e,t){return this.started===ea||!t||!!o.scroll.enabled()&&r.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===n}))}},events:(t={},Qi(t,"".concat(ea,"start"),(function(e){e.preventDefault(),this.started=ea;var t=i.get("zoom"),o=t.min,a=t.max;this[ea]={min:o,max:a,size:r.component(n).rect.computedInner.width,span:a-o}})),Qi(t,"".concat(ea,"move"),(function(e){e.preventDefault();var t=this[ea],n=t.span,r=t.min,o=t.max,l=t.size,u=-e.deltaX/l;i.set("zoom",{min:Math.min(r+u*n,a.get("continuousMax")-n),max:Math.max(o+u*n,a.get("continuousMin")+n)})})),Qi(t,"".concat(ea,"end"),(function(e){e.preventDefault(),this.started=!1})),Qi(t,"".concat(ea,"cancel"),(function(e){e.preventDefault(),this.started=!1})),t)}}},picassoComponents:{axisOverlay:Fe,timeAxis:Ze},picassoScales:{time:function e(t){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(e,t,n){var r={};return Object.keys(t).forEach((function(o){var i=e[o],a=$i(i);"function"===a?r[o]=i(n):"object"!==a||Array.isArray(i)?r[o]="undefined"===a?t[o]:i:r[o]=ee()(!0,{},t[o],i)})),r}(t,Ji,o),a=i.qAxis,l=En(),u={instance:null,invert:!1},s=function(e,t){var n=+e.min,r=+e.max;return Number.isNaN(n)&&Number.isNaN(r)&&Array.isArray(t)&&t.length&&(n=Math.min.apply(Math,Xi(t[t.length-1].qTicks.map((function(e){return e.qStart})))),r=Math.max.apply(Math,Xi(t[t.length-1].qTicks.map((function(e){return e.qEnd}))))),n===r&&(n-=.5,r+=.5),{min:Number.isNaN(+n)?0:n,max:Number.isNaN(+r)?1:r}}(i,a),c=s.min,f=s.max,d=[],p=function(e){return Number.isNaN(+e)?NaN:l(e)};p.ticks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.distance,o=e.resolve,l=void 0===o?n.resolve:o,u=l(t),s=u[i.ticks.level];if(Number.isNaN(+s)||(d=r.transform(a[s].qTicks,{isMinor:!1})),!Number.isNaN(+u.minor)){var c=r.transform(a[u.minor].qTicks,{isMinor:!0});d=d.concat(c)}return"auto"===s&&(d=r.generate(t,u.isDayOrShorter)),d},p.invert=function(e){return l.invert(e)},p.domain=function(e){return Array.isArray(e)?l.domain(e):l.domain()},p.range=function(e){return Array.isArray(e)?l.range(e):l.range()},p.norm=function(e){return Yi(u,p),u.instance(e)},p.normInvert=function(e){return Yi(u,p),u.instance.invert(e)},p.copy=function(){return e(t,o)},p.clamp=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return l.clamp(e),l.clamp()},p.min=function(){return Math.min(c,f)},p.max=function(){return Math.max(c,f)},l.range(i.invert?[1,0]:[0,1]),l.domain([c,f]),u.invert=i.invert;var m=function(e){var t={},n=e.formatter,r=n.measureText,o=n.fn,i=n.localeInfo,a={second:{type:"second",pattern:"hh:mm:ss",width:Ki,formatter:void 0},minute:{type:"minute",pattern:"hh:mm",width:Ki,formatter:void 0},date:{type:"date",pattern:"YYYY-MM-DD",width:Ki,formatter:void 0},year:{type:"year",pattern:"YYYY",width:Ki,formatter:void 0}};return i&&Wi.test(i.qTimestampFmt)&&(a.minute.pattern+=" tt",a.second.pattern+=" tt"),a.date.pattern=i&&i.qDateFmt?i.qDateFmt:a.date.pattern,Object.keys(a).forEach((function(e){a[e].formatter=o(a[e].pattern),a[e].width=Math.max(a[e].width,r(a[e].formatter(Vi)).width+Gi)})),t.getFormat=function(e){return a[e]},t.all=function(){return a},t.getFormatFromTicks=function(e){var t=e.filter((function(e){return!e.isMinor})),n=t.length;if(!n)return a.date;var r=ri(t[0].data.start),o=ri(t[n-1].data.start);return fi.count(r,o)/n>=1?a.date:yi.count(r,o)/n>0?a.minute:hi.count(r,o)/n>0?a.second:a.date},t}(i);return r=Bi(l.copy(),i,m),n=_n({qAxis:a,measureText:i.formatter.measureText,reqAutoFitWidth:2*m.getFormat("minute").width,cache:i.cache,scale:p}),p.data=function(){return{fields:[{formatter:p.formatter,id:function(){return"qHyperCube/".concat(i.field)},key:function(){return i.field},raw:J(o,"fields.0.raw",(function(){return{}}))}]}},p.formatter=function(){return m.getFormatFromTicks(d).formatter},p}}},ra={extractData:function(e,t){var n=this;this.app=t.app;var r=e;return new Promise((function(e){t.model.getEffectiveProperties?t.model.getEffectiveProperties().then((function(o){n.setUpMeasures(r,o,t).then((function(r){var i=r.measures;n.updateSessionObject({measures:i},o,t).then((function(){n.sessionObj.getLayout().then((function(r){var o,i,a,l,u=t.picasso.data("q")({key:"qHyperCube",data:r.qHyperCube,config:{localeInfo:t.localeInfo}}),s=(null===(o=r.qHyperCube)||void 0===o||null===(i=o.qDataPages)||void 0===i||null===(a=i[0])||void 0===a||null===(l=a.qMatrix)||void 0===l?void 0:l[0])||[],c=n.prepareData(s,u);e(c)}))}))}))})):e({measures:[]})}))},setUpMeasures:function(e,t,n){var r=this,o=this.getChartDimensions(n.layout);return new Promise((function(i){var a=r.getPreparedMeasureList(t,o,{opts:n,dimFields:e});Promise.all(a).then((function(e){i({measures:e})}))}))},getChartDimensions:function(e){var t,n=this,r=[];return((null===(t=e.qHyperCube)||void 0===t?void 0:t.qDimensionInfo)||[]).forEach((function(e){r.push(n.extractChartDimensionFieldName(e))})),r},extractChartDimensionFieldName:function(e){var t=e.qGroupPos;return this.stripEqualSign(e.qGroupFieldDefs[t])},stripEqualSign:function(e){return"="===e.charAt(0)?e.substr(1):e},getPreparedMeasureList:function(e,t,n){var r,o,i,a=this,l=n.opts,u=n.dimFields,s=[];return((null===(r=e.tooltip)||void 0===r||null===(o=r.data)||void 0===o||null===(i=o.qHyperCubeDef)||void 0===i?void 0:i.qMeasures)||[]).forEach((function(e,n){s.push(a.extractMeasureInfo(e,n,{chartDimension:t,opts:l,dimFields:u}).then((function(e){return{qDef:e,qAttributeExpressions:[]}})))})),s},extractMeasureInfo:function(e,t,n){var r=this,o=n.chartDimension,i=n.opts,a=n.dimFields;return new Promise((function(n){if(e.qLibraryId)i.app.getMeasure(e.qLibraryId).then((function(e){e.getProperties().then((function(e){var t=JSON.parse(JSON.stringify(e.qMeasure));t.qDef=r.wrapWithSetExpression(t.qDef,o,a),t.qLabelExpression=t.qLabelExpression?r.wrapWithSetExpression(t.qLabelExpression,o,a):"",n(t)}))}));else{var l=JSON.parse(JSON.stringify(e.qDef));l.qDef=r.wrapWithSetExpression(l.qDef,o,a),l.qLabel=i.layout.tooltip.data.qHyperCube.qMeasureInfo[t].qFallbackTitle,l.qLabelExpression=l.qLabelExpression?r.wrapWithSetExpression(l.qLabelExpression,o,a):"",n(l)}}))},wrapWithSetExpression:function(e,t,n){if(t.length<1)return"".concat(e);var r="",o="";return t.forEach((function(e,i){r="".concat(r,"[").concat(e,"]={'").concat(n[i],"'}"),o="".concat(o,"[").concat(e,"]"),i+1!==t.length&&(r="".concat(r,","),o="".concat(o,","))})),"Aggr({<".concat(r,">}").concat(e,",").concat(o,")")},updateSessionObject:function(e,t,n){var r=this,o=e.measures,i=t.qStateName||"",a={qInfo:{qType:"CustomTooltip"},qHyperCubeDef:{qDimensions:[],qMeasures:o,qInterColumnSortOrder:[0],qInitialDataFetch:[{qWidth:15,qHeight:100}]},qStateName:i};return new Promise((function(e){r.sessionObj?r.sessionObj.getProperties().then((function(t){var n=t;n.qHyperCubeDef.qMeasures=o,n.qStateName=i,r.sessionObj.setProperties(n).then((function(){e()}))})):n.app.createSessionObject(a).then((function(t){r.sessionObj=t,e()}))}))},prepareData:function(e,t){return{measures:this.extractMeasures(e,t)}},extractMeasures:function(e,t){var n=[];return e.forEach((function(e,r){var o="NaN"!==e.qNum?t.field(r).formatter()(e.qNum):e.qText,i="".concat(t.field(r).title(),":");n.push({label:i,value:o})})),n},destroySessionObject:function(){this.app&&this.sessionObj&&this.app.destroyObject(this.sessionObj.id)}},oa={CUSTOM:{EXPRESSION:"customTooltipExpression",TITLE:"customTooltipTitle",DESCRIPTION:"customTooltipDescription",QUARANTINE:"customTooltip",IMAGES:"customTooltipImages"}};function ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function la(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function ua(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){la(i,r,o,a,l,"next",e)}function l(e){la(i,r,o,a,l,"throw",e)}a(void 0)}))}}function sa(e){var t=e.split("/");return"qmem:"===t[0]&&""===t[1]}function ca(e){var t,n,r,o,i;return e&&e.session&&e.session.options||e&&e.enigmaModel&&e.enigmaModel.session&&e.enigmaModel.session.sessionConfig?(n=(void 0!==(t=e.session.options||e.enigmaModel.session.sessionConfig).secure?t.secure:t.isSecure)?"https://":"http://",r=t.host||"localhost",o=t.port?":".concat(t.port):"","/"!==(i=t.prefix?t.prefix:"/")[i.length-1]&&(i="".concat(i,"/")),n+r+o+i):""}function fa(e,t){var n=e.replace(t,"").replace(/^\.\.\//i,"/");return"/"!==n[0]?"/".concat(n):n}function da(e,t){return t+("/"===e[0]?e.substr(1):e)}var pa={getImageSize:function(e,t){var n;function r(){n&&(clearTimeout(n),n=null)}function o(e){var t=e;t.onload=null,t.onerror=null,r()}var i={small:50,medium:200,large:340,original:340};return new Promise((function(a){var l=new Image;l.referrerPolicy="no-referrer",l.onload=function(){var e,n=l.height,u=l.width,s=i[t]*(n>u?1:n/u),c=i[t]*(u>n?1:u/n);!n||!u||0===n&&0===u?(e={height:20,width:20,imageError:!0},o(l)):"original"===t?(e={height:Math.min(s,n),width:Math.min(c,u)},r()):(e={height:s,width:c},r()),a(e)},l.onerror=function(){o(l),a({height:20,width:20,imageError:!0})},l.src=e,n=setTimeout((function(){o(l),a({height:20,width:20,imageError:!0})}),3e3)}))}};function ma(e,t,n){return ha.apply(this,arguments)}function ha(){return(ha=ua(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,l,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.ref.qStaticContentUrl.qUrl,(i=ca(r))&&(fa(o,i),o=da(o=(o=o.replace(/"/g,'\\"')).replace(/'/g,"\\'"),i)),e.next=5,pa.getImageSize(o,n);case 5:return a=e.sent,l=a.height,u=a.width,s=a.imageError,e.abrupt("return",{src:o,size:n,height:l,width:u,imageError:s});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e,t,n,r,o){return ya.apply(this,arguments)}function ya(){return(ya=ua(regeneratorRuntime.mark((function e(t,n,r,o,i){var a,l,u,s,c,f,d,p,m,h,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.ref,i&&i.label&&(l=i.label),!(n.isEnabled("IMAGE_BUNDLE_LOAD")&&(null==t?void 0:t.getImage)&&sa(l))){e.next=21;break}return e.prev=3,e.next=6,t.getImage(l);case 6:return u=e.sent,s="data:image/png;base64, ".concat(u),e.next=10,pa.getImageSize(s,o);case 10:c=e.sent,f=c.height,d=c.width,p=c.imageError,a={src:s,size:o,height:f,width:d,imageError:p},e.next=19;break;case 17:e.prev=17,e.t0=e.catch(3);case 19:e.next=28;break;case 21:return e.next=23,pa.getImageSize(l,o);case 23:m=e.sent,h=m.height,g=m.width,y=m.imageError,a={src:l,size:o,height:h,width:g,imageError:y};case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}function va(e,t,n,r){return ba.apply(this,arguments)}function ba(){return(ba=ua(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,f,d,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.label,l=n.qFallbackTitle,!sa(u="qmem://".concat(l,"/").concat(a))){e.next=21;break}return e.prev=4,e.next=7,t.getImage(u);case 7:if(!(s=e.sent)){e.next=17;break}return c="data:image/png;base64, ".concat(s),e.next=12,pa.getImageSize(c,r);case 12:f=e.sent,d=f.height,p=f.width,m=f.imageError,i={src:c,size:r,height:d,width:p,imageError:m};case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(4);case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function xa(e,t,n,r){return Ma.apply(this,arguments)}function Ma(){return(Ma=ua(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,f,d,p,m,h,g,y,v,b,x,M,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=n.app,d=n.flags,p=null===(i=t.layout)||void 0===i||null===(a=i.tooltip)||void 0===a?void 0:a.imageComponents){e.next=4;break}return e.abrupt("return",[]);case 4:m=ia(p,1),h=m[0],g=h.size||"small",y=h.type||"media",v=-1,b=0;case 9:if(!(b<r.length)){e.next=16;break}if(r[b].cId!==h.cId){e.next=13;break}return v=b,e.abrupt("break",16);case 13:b++,e.next=9;break;case 16:if(x=(null===(l=o.data)||void 0===l||null===(u=l.customTooltipAttrExps)||void 0===u?void 0:u.value)||[],-1!==v&&x[v]&&(M=x[v]),"media"!==y||!(null===(s=h.ref)||void 0===s||null===(c=s.qStaticContentUrl)||void 0===c?void 0:c.qUrl)){e.next=20;break}return e.abrupt("return",ma(h,g,f));case 20:if("url"!==y){e.next=22;break}return e.abrupt("return",ga(f,d,h,g,M));case 22:if(!(d.isEnabled("IMAGE_BUNDLE_LOAD")&&"field"===y&&M&&M.label)){e.next=25;break}return O=r[v],e.abrupt("return",va(f,O,g,M));case 25:return e.abrupt("return",[]);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oa=function(e){return ua(regeneratorRuntime.mark((function t(){var n,r,o,i,a,l,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.customTooltipModel,r=e.nodes,o=e.attrExps,i=e.opts,a=r,l=[],u=0;u<a.length;u++)l.push(xa(n,i,o,a[u]));return t.next=6,Promise.all(l);case 6:for(s=t.sent,c=0;c<a.length;c++)a[c].data.customTooltipImages=[s[c]];return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))()},wa=function(e){var t,n,r=null===(t=e.customTooltipModel.layout)||void 0===t||null===(n=t.tooltip)||void 0===n?void 0:n.imageComponents;return!!r&&r.length>0};function Sa(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}var ka={handlePromises:function(e){return(t=regeneratorRuntime.mark((function t(){var n,r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.customTooltipModel,r=e.nodes,o=e.attrExps,i=e.opts,a=r,t.next=4,Oa({customTooltipModel:n,nodes:r,attrExps:o,opts:i});case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Sa(i,r,o,a,l,"next",e)}function l(e){Sa(i,r,o,a,l,"throw",e)}a(void 0)}))})();var t},checkIfPromisesExist:function(e){var t=e.customTooltipModel;return wa({customTooltipModel:t})}};function Ca(e){return function(e){if(Array.isArray(e))return Ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ea(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aa(e){var t=e.qHyperCubeDef?e.qHyperCubeDef.qDimensions:e.qHyperCube.qDimensionInfo;if(t&&t.length>0)return t}function qa(){var e=oa.CUSTOM,t=e.EXPRESSION,n=e.TITLE,r=e.DESCRIPTION,o=e.IMAGES,i={};return i[t]=!0,i[n]=!0,i[r]=!0,i[o]=!0,i}function Da(e){var t=qa();return e.filter((function(e){return t[e.id]}))}var Ta={getNodes:function(e,t){var n=function(e,t){var n=0,r=0;e.center?(n+=e.center.x,r+=e.center.y):(n+=e.clientX,r+=e.clientY);var o=t.element.getBoundingClientRect();return{cx:n-o.left,cy:r-o.top}}(e,t);return t.shapesAt({x:n.cx,y:n.cy})},getDataNodes:function(e,t){var n,r=[],o={container:{bar:!0,"bullet-axis":!0},circle:{"point-component":!0}};return t.forEach((function(t){var i,a,l,u,s=null!==(i=null===(a=t.data)||void 0===a?void 0:a.selectionDimension)&&void 0!==i?i:t.data;if(!s||(null===(l=t.data)||void 0===l?void 0:l.customTooltipAttrExps)||o[t.type]){if((null===(u=t.data)||void 0===u?void 0:u.customTooltipAttrExps)&&!t.data.customTooltipImages){var c=t;c.data.customTooltipImages=[],r.push(c)}}else{n||(n=[],Object.keys(o).forEach((function(t){n=n.concat(e.findShapes(t).filter((function(e){return e.data&&e.data.customTooltipAttrExps&&!e.data.customTooltipImages&&o[t][e.key]})))})));var f=n.filter((function(e){var t,n,r=null!==(t=null!==(n=e.data.stack)&&void 0!==n?n:e.data.selectionOuterDimension)&&void 0!==t?t:e.data.selectionDimension;return r&&r.value===s.value&&r.label===s.label}));f.length>0&&(r=r.concat(f[0]))}})),r},displayTooltip:function(e,t,n){var r=n.nodes,o=n.model,i=n.opts,a=void 0===i?{}:i,l=n.dimsAndNodeFn,u=n.customTooltipModel,s=n.extractedNodes,c=void 0===s?[]:s;if(a.flags&&a.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")){var f=u.layout,d=u.chart,p=Ta.getAttrExprData(f).attrExps;ka.handlePromises({customTooltipModel:u,nodes:Ta.getDataNodes(d,c.length>0?c:r),attrExps:p,opts:a}).then((function(){t.emit("show",e,r.length?{nodes:r}:void 0)}))}else if(r.length>0&&"function"==typeof l){var m=l(),h=m.nodeDims,g=m.node;h&&g?function(e,t,n){return new Promise((function(r){var o=t;!function(e){return-3===e.data.value}(t)?function(e,t){var n=e.data,r=t.chart.brush("selection");return r.isActive()&&!r.containsMappedData(n)}(t,n)?(o.data.customTooltip={limitation:n.translator.get("properties.tooltip.notselectedmessage")},r(o)):ra.extractData(e,n).then((function(e){o.data.customTooltip=e,r(o)})):(o.data.customTooltip={},r(o))}))}(h,g,o).then((function(n){t.emit("show",e,{nodes:[n]})})):t.emit("show",e)}else t.emit("hide")},checkIfPromisesExist:function(e){var t=e.customTooltipModel;return ka.checkIfPromisesExist({customTooltipModel:t})},getAttrExps:function(e,t){var n,r=t,o=(null===(n=e.qHyperCubeDef)||void 0===n?void 0:n.qDimensions)?"qAttributeExpressions":"qAttrExprInfo";return r[o]||(r[o]=[]),r[o]},getAttrExprData:function(e){var t,n=[],r="",o=(null===(t=e.qHyperCube)||void 0===t?void 0:t.qDimensionInfo)||[];if(o.length>0){var i,a,l,u=o.length-1;n=(null===(i=e.qHyperCube)||void 0===i||null===(a=i.qDimensionInfo)||void 0===a||null===(l=a[u])||void 0===l?void 0:l.qAttrExprInfo)||[],r="qDimensionInfo/".concat(u,"/qAttrExprInfo")}return{attrExps:n,fieldPath:r}},quarantineCustomTooltipAttrs:function(e,t){var n,r;(null===(n=e.qLayoutExclude)||void 0===n||null===(r=n.quarantine)||void 0===r?void 0:r[oa.CUSTOM.QUARANTINE])||function(e,t){var n=t,r=n.qLayoutExclude;r||(n.qLayoutExclude={quarantine:{}},r=n.qLayoutExclude),r.quarantine||(r.quarantine={}),r.quarantine[oa.CUSTOM.QUARANTINE]=[],e.forEach((function(e){r.quarantine[oa.CUSTOM.QUARANTINE].push(e)})),n.qLayoutExclude=r}(Da(t.qAttributeExpressions||[]),e)},unquarantineCustomTooltipAttrs:function(e){var t,n,r=e;(null===(t=e.qLayoutExclude)||void 0===t||null===(n=t.quarantine)||void 0===n?void 0:n[oa.CUSTOM.QUARANTINE])&&delete r.qLayoutExclude.quarantine[oa.CUSTOM.QUARANTINE]},setAttrsFromQuarantine:function(e,t){var n=Aa(e);if(n){var r=void 0!==t?t:n.length-1;if(n[r]){var o=this.getAttrExps(e,n[r]);if(0===Da(o).length){var i,a,l=(null===(i=e.qLayoutExclude)||void 0===i||null===(a=i.quarantine)||void 0===a?void 0:a.customTooltip)||[],u=[].concat(Ca(o),Ca(l)),s=e;s.qHyperCubeDef?s.qHyperCubeDef.qDimensions[r].qAttributeExpressions=u:s.qHyperCube.qDimensionInfo[r].qAttrExprInfo=u}}}},moveCustomTooltipAttrs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=[],o=Aa(e)||[],i=[].concat(Ca(o),[t]);i.forEach((function(e){var t=Da(e.qAttributeExpressions||[]);t.length>0&&(r=t)}));var a=qa(),l=o.map((function(e){var t=e,n=e.qAttributeExpressions||[];return t.qAttributeExpressions=n.filter((function(e){return!a[e.id]})),t})),u=void 0!==n?n:l.length-1;l.length>0&&(l[u].qAttributeExpressions=l[u].qAttributeExpressions.concat(r));var s=e;e.qHyperCubeDef?s.qHyperCubeDef.qDimensions=l:s.qHyperCube.qDimensionInfo=l},addCallbackCustomTooltip:function(e){e.qHyperCubeDef.qDimensions.length>1?this.moveCustomTooltipAttrs(e):(this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e))},moveCallbackCustomTooltip:function(e,t){1===e.qHyperCubeDef.qDimensions.length&&(this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e)),e.qHyperCubeDef.qDimensions.length>1&&this.moveCustomTooltipAttrs(e,t)},removeCallbackCustomTooltip:function(e,t){e.qHyperCubeDef.qDimensions.length>0?this.moveCustomTooltipAttrs(e,t):this.quarantineCustomTooltipAttrs(e,t)},replaceCallbackCustomTooltip:function(e,t){e.qHyperCubeDef.qDimensions.length>1?this.moveCustomTooltipAttrs(e,t):(this.quarantineCustomTooltipAttrs(e,t),this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e))},shouldIgnoreDefaultRows:function(e){var t;return(null===(t=e.tooltip)||void 0===t?void 0:t.hideBasic)||0},DEBOUNCE_THRESHOLD:50},Na=Ta;function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n={},r={},o=!1,i={get:function(e){return t[e]},set:function(e,i){var a=t[e];!o&&n[e]?t[e]=n[e](i,a):t[e]=i,!o&&r[e]&&r[e](t[e],a)},preventSet:function(e,t){o=!0,i.set(e,t),o=!1},intercept:function(e,t){n[e]=t},onChanged:function(e,t){r[e]=t}};return i}var Pa=/^[A-Z][A-z0-9_]*$/i,Ra={setValue:function(e,t,n){if(!t)return!1;var r,o=t.split("."),i=o[o.length-1],a=e;for(r=0;r<o.length-1;++r)void 0===a[o[r]]&&(a[o[r]]=Number.isNaN(+o[r+1])?{}:[]),a=a[o[r]];if(void 0!==n){var l=a[i];return a[i]=n,{updated:n,previous:l}}return delete a[i],!1},getValue:function(e,t,n){var r,o=t.split("."),i=e;if(void 0===i)return n;for(r=0;r<o.length;++r){if(void 0===i[o[r]])return n;i=i[o[r]]}return i},moveArrayElement:function(e,t,n){if(n>=e.length)for(var r=n-e.length;1+r--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])},escapeField:function(e){return!e||"]"===e||Pa.test(e)?e:"[".concat(e.replace(/\]/g,"]]"),"]")},deleteUndefinedProperties:function(e){Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]}))}};function _a(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=null==e||null===(t=e.qDimensionInfo)||void 0===t?void 0:t[r],i=null==o||null===(n=o.qCardinalities)||void 0===n?void 0:n.qHypercubeCardinal,a=null==o?void 0:o.qStateCounts,l=a.qLocked,u=void 0===l?0:l,s=a.qOption,c=void 0===s?0:s,f=a.qSelected,d=void 0===f?0:f;return[void 0,0].includes(i)?u+c+d:i}function za(e,t){switch(t.qMode){case"S":default:return function(e,t){return{refs:{dataPages:"qDataPages"},size:{x:Ra.getValue(t,"qSize.qcx"),y:Ra.getValue(t,"qSize.qcy")}}}(0,t);case"K":return function(e,t){return{refs:{dataPages:"qStackedDataPages"},size:{x:Ra.getValue(t,"qSize.qcx"),y:_a(t)}}}(0,t);case"T":return{refs:{dataPages:"qTreeDataPages"},size:{x:0,y:0}}}}function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){Ha(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e){var t=e.source,n=e.hyperCubePath,r=void 0===n?"qHyperCube":n,o=e.metaAdditionsFn,i=ee()(!0,{},t),a=Ra.getValue(i,r),l=function(e,t){return{isQMode:function(e){return t.qMode===e},getDimensionSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _a(t,e)}}}(0,a),u=za(0,a),s=function(){return function(e){var t=e.layout,n=e.hyperCube,r=e.additionsFn,o=void 0===r?function(){return{}}:r,i=e.additionsProps,a=void 0===i?{}:i,l=n.qDimensionInfo.length,u=n.qMeasureInfo.length,s=Ua({dimensionCount:l,measureCount:u,hasMultipleDimensions:l>1,hasMultipleMeasures:u>1},a);return Ua(Ua({},s),o({layout:t,hyperCube:n,meta:s}))}({layout:i,hyperCube:a,additionsFn:o,additionsProps:{size:u.size}})},c={refs:Va({},u.refs),meta:s(),query:Va({},l),getLayout:function(){return i},getLayoutValue:function(e,t){return Ra.getValue(i,e,t)},setLayoutValue:function(e,t){Ra.setValue(i,e,t),u=za(0,a),c.meta=s()},getHyperCube:function(){return a},getHyperCubeValue:function(e,t){return Ra.getValue(a,e,t)},setHyperCubeValue:function(e,t){Ra.setValue(a,e,t),u=za(0,a),c.meta=s()},getDataPages:function(){return Ra.getValue(a,u.refs.dataPages)},setDataPages:function(e){Ra.setValue(a,u.refs.dataPages,e),c.meta=s()}};return c.query=Va({},l),c}var Ka={getDockValue:function(e){return"near"===e||"left"===e||"top"===e?0:1},getOppositeDock:function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";case"near":return"far";case"far":return"near";default:return"far"}},getHorizontalDock:function(e){return"near"===e||"left"===e?"left":"right"},getVerticalDock:function(e){return"near"===e||"bottom"===e?"bottom":"top"},getDock:function(e,t,n){return"vertical"===e||"y"===e?Ka.getVerticalDock(t):n?Ka.getOppositeDock(Ka.getHorizontalDock(t)):Ka.getHorizontalDock(t)},getInvertedOrientation:function(e){return"vertical"===e?"horizontal":"vertical"},getMinorScaleAxis:function(e){return"vertical"===e?"y":"x"},getMajorScaleAxis:function(e){return"vertical"===e?"x":"y"},getAlignment:function(e,t){switch(e){case"vertical":return"near"===t||"bottom"===t?1:0;default:return"near"===t||"left"===t?0:1}},getMeasureScaleInvert:function(e,t){return"vertical"===e||t},getDimensionScaleInvert:function(e,t){return"horizontal"===e&&t},getSize:function(e,t){var n=t.width,r=t.height;return"vertical"===e?n:r}},$a=Ka;function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ja=[["FULL",{width:550,height:450}],["MEDIUM",{width:400,height:220}],["SMALL",{width:300,height:150}],["XSMALL",{width:150,height:75}],["SPARK",{width:0,height:0}]],Ya={};Ja.forEach((function(e){var t=Xa(e,2),n=t[0],r=t[1],o=r.width,i=r.height;Ya[n]={width:o,height:i}}));var Qa={getLayoutModes:function(){return Ya},getLayoutMode:function(e,t){var n;for(n=0;n<Ja.length;++n)if(e>=Ja[n][1].width&&t>=Ja[n][1].height)return Ja[n][0];return"SPARK"}},el={VERTICAL:"vertical",HORIZONTAL:"horizontal"};function tl(e){var t=e.layoutModel,n=e.size,r=(n=void 0===n?{}:n).width,o=void 0===r?0:r,i=n.height,a=void 0===i?0:i,l=e.orientation,u=(l=void 0===l?{}:l).invert,s=void 0!==u&&u,c=l.fallback,f=void 0===c?"vertical":c,d=l.isVertical,p=void 0!==d&&d,m=e.rtl,h=e.measureAxes,g=void 0===h?[{ref:"measureAxis",name:"minor"}]:h,y=$a.getInvertedOrientation,v=$a.getDock,b=$a.getOppositeDock,x=$a.getSize,M=function(e){var t=e.layoutModel,n=e.invert,r=e.fallback,o=e.isVertical;if(t.meta.isContinuous||o)return el.VERTICAL;var i=t.getLayoutValue("orientation",r);return n?i===el.VERTICAL?el.HORIZONTAL:el.VERTICAL:i}({layoutModel:t,invert:s,fallback:f,isVertical:p}),O={update:function(e){var n,r;O.chartSize=e,O.major=(n=e,r=v(M,t.getLayoutValue("dimensionAxis.dock"),m),{orientation:M,dock:r,opposite:b(r),containerSize:x(M,n)}),O.mode=Qa.getLayoutMode(e.width,e.height),g.forEach((function(n){O[n.name]=function(e,n){var r=y(M),o=v(r,t.getLayoutValue("".concat(n,".dock")),m);return{orientation:r,dock:o,opposite:b(o),maxDock:v(M,"far",m),minDock:v(M,"near",m),containerSize:x(r,e)}}(e,n.ref)}))}};return O.update({width:o,height:a}),O}function nl(e,t){if(t)return t;var n=e?e.element.getBoundingClientRect():{};return{width:n.width,height:n.height}}var rl=["$date","$timestamp","$time"],ol=["D","TS","T"],il={hasTimeTag:function(e){return!!(e&&e.qTags&&e.qTags.some((function(e){return rl.some((function(t){return t===e}))})))},hasUnknownFormat:function(e){return!(!e||!e.qNumFormat||"U"!==e.qNumFormat.qType)},hasTimeFormat:function(e){return!!(e&&e.qNumFormat&&ol.some((function(t){return t===e.qNumFormat.qType})))},isTimeDimension:function(e,t){return!!(e&&t&&(il.hasTimeTag(t)&&il.hasUnknownFormat(t)||il.hasTimeFormat(t)))},isTime:function(e,t){return!!(t&&t.qHyperCube.qDimensionInfo&&t.qHyperCube.qDimensionInfo.length)&&e&&il.isTimeDimension(e,t.qHyperCube.qDimensionInfo[0])},canBeContinuousDimension:function(e){if(!e)return!1;var t=e.qTags||[];return!(!e.qContinuousAxes||!t.some((function(e){return"$numeric"===e})))},canBeContinuous:function(e){return!(!(e&&e.qHyperCube&&e.qHyperCube.qDimensionInfo)||e.qHyperCube.qDimensionInfo.length<1)&&il.canBeContinuousDimension(e.qHyperCube.qDimensionInfo[0])},maxNumberOfLines:12},al=il,ll=function(e){return Ra.getValue(e,"qHyperCube.qDimensionInfo",[])},ul=function(e){return Ra.getValue(e,"qHyperCube.qMeasureInfo",[])},sl=function(e){return Ra.getValue(e,"barGrouping.grouping")},cl={continuous:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!al.canBeContinuous(e)&&(Ra.getValue(e,"dimensionAxis.continuousAuto")?"function"==typeof t?t():t:!!e.preferContinuousAxis)},dimensionless:function(e){return!ll(e).length},grouped:function(e){return!this.dimensionless(e)&&"grouped"===sl(e)&&(ll(e).length>1||ul(e).length>1)&&!this.continuous(e)},groupedByDimension:function(e){return this.grouped(e)&&ll(e).length>1&&1===ul(e).length},groupedByMeasure:function(e){return this.grouped(e)&&1===ll(e).length&&ul(e).length>1},stacked:function(e){return(!this.dimensionless(e)&&"grouped"!==sl(e)||this.continuous(e))&&(ll(e).length>1||ul(e).length>1)},stackedByDimension:function(e){return this.stacked(e)&&ll(e).length>1&&1===ul(e).length},stackedByMeasure:function(e){return this.stacked(e)&&1===ll(e).length&&ul(e).length>1},simple:function(e){return 0===ll(e).length||1===ll(e).length&&1===ul(e).length},snapshot:function(e){return!!Ra.getValue(e,"snapshotData")}},fl=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.bandwidth();return n?"start"===t?o:"end"===t?o*(1-r):o*(2-r)/2:"start"===t?0:"end"===t?o*r:o*r/2},dl=function(e){return!1!==e.show&&0!==e.show&&"0"!==e.show},pl=function(e){return e.filter(dl)},ml=function(e){return dl(e)&&(!1!==e.showValue||!1!==e.showLabel)},hl=function(e){return e.filter(ml)},gl=function(e){var t=e.refLineLayout;return e.layoutModel.meta.canBeContinuous?t.refLineExpr.value:t.refLineExpr.stringValue},yl=function(e,t,n){var r=t.dimensionRefLineInfo;if(r[e])return r[e][n]},vl=function(e){var t=e.label,n=(e.dataPages||{}).qArea,r=void 0===n?{}:n,o=r.qTop,i=r.qHeight;return void 0!==o&&void 0!==i&&void 0!==t.valueInfo&&t.valueInfo.maxOrder<o},bl=function(e){var t=e.label,n=(e.dataPages||{}).qArea,r=void 0===n?{}:n,o=r.qTop,i=r.qHeight;return void 0!==o&&void 0!==i&&void 0!==t.valueInfo&&t.valueInfo.minOrder>=o+i},xl=function(e){var t=e.value,n=e.qMin;return"NaN"!==n&&t<n},Ml=function(e){var t=e.value,n=e.qMax;return"NaN"!==n&&t>n},Ol={isVisible:dl,getVisibleRefLines:pl,getMeasureRefLines:function(e){return pl(Ra.getValue(e,"refLine.refLines",[]))},getDimensionRefLines:function(e,t){return t?[]:pl(Ra.getValue(e,"refLine.dimRefLines",[]))},isLabelVisible:ml,getVisibleRefLineLabels:hl,getMeasureRefLineLabels:function(e){return hl(Ra.getValue(e,"refLine.refLines",[]))},getDimensionRefLineLabels:function(e,t){return t?[]:hl(Ra.getValue(e,"refLine.dimRefLines",[]))},getScaledPosition:function(e){var t=e.scale,n=e.size,r=e.value,o=e.valueInfo,i=e.align,a=e.invert,l=void 0!==a&&a,u=e.layoutModel;if(!e.isContinuous){var s,c=t.pxScale(n);if(u.meta.isGroupedByMeasure)return s=fl(c,i,l,u.meta.measureCount),c([r,0])+s;if(u.meta.isGroupedByDimension){if(!o)return NaN;var f,d=o.innerValues,p=o.numInnerValues,m=o.minOrder;return s=fl(c,i,l,p),d&&d.length&&(f=function(e){for(var t=e.pxScale,n=e.value,r=e.innerValues,o=e.invert,i=e.minOrder,a=function(e){var t=e.pxScale,n=e.invert;return t.bandwidth()*(n?-1:1)}({pxScale:t,invert:o}),l=0;l<r.length;l++){var u=r[l],s=u.id,c=u.order,f=t([n,s]);if(void 0!==f)return f-a*(c-i)}}({pxScale:c,value:r,innerValues:d,invert:l,minOrder:m})),(void 0===f?c(r):f)+s}return s=fl(c,i,l),c(r)+s}return t(r)},getDimensionValuesInfo:function(e){var t=e.layout,n=e.canBeContinuous,r=e.discreteModel,o=e.layoutModel.meta.isGroupedByDimension,i={},a=Ra.getValue(t,"qHyperCube"),l="K"===a.qMode,u=r?r.query.getCurrentDataPage():Ra.getValue(a,"S"===a.qMode?"qDataPages.0":"qStackedDataPages.0",[]),s=l?"qData.0.qSubNodes":"qMatrix",c=Ra.getValue(u,s,[]),f=function(e,t){return e?t?"qValue":"qNum":"qText"}(n,l),d=function(e){return e.qArea.qTop}(u);return l?function(){for(var e=0;e<c.length;e++){var t=c[e],n=e+d,r=t[f];i[r]||(i[r]={id:t.qElemNo,qText:t.qText,minOrder:n,maxOrder:n})}}():o?function(){for(var e,t=0;t<c.length;t++){var n=c[t][0],r=c[t][1],o=t+d,a=n[f];i[a]?(i[a].minOrder=Math.min(i[a].minOrder,o),i[a].maxOrder=Math.max(i[a].maxOrder,o),i[a].innerValues[i[a].innerValues.length]={id:r.qElemNumber,order:o}):i[a]={id:n.qElemNumber,qText:n.qText,minOrder:o,maxOrder:o,innerValues:[{id:r.qElemNumber,order:o}]},0===t?0===o&&(i[a].isMinOrderOk=!0):a!==e&&(i[a].isMinOrderOk=!0,i[e].isMaxOrderOk=!0),e=a}}():function(){for(var e=0;e<c.length;e++){var t=c[e][0],n=e+d,r=t[f];i[r]||(i[r]={id:t.qElemNumber,qText:t.qText,minOrder:n,maxOrder:n})}}(),i},getInputValue:gl,extractInfoFromInputValue:yl,resolveValue:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel,o=gl({refLineLayout:t,layoutModel:r});return yl(o,n,"id")},isDiscreteMinOutOfBounds:vl,isDiscreteMaxOutOfBounds:bl,isContinuousMinOutOfBounds:xl,isContinuousMaxOutOfBounds:Ml,isOutOfRange:function(e){var t=e.value,n=e.qMin,r=e.qMax;return xl({value:t,qMin:n})||Ml({value:t,qMax:r})},isOutOfDataPages:function(e){var t=e.label,n=e.dataPages;return t.valueInfo.isMinOrderOk&&bl({label:t,dataPages:n})||t.valueInfo.isMaxOrderOk&&vl({label:t,dataPages:n})},getInvert:function(e){var t=e.orientation,n=e.rtl,r=e.isContinuous;return"horizontal"===t?n:r}};function wl(e){var t=e.layoutModel,n=e.discreteModel,r=t.meta,o=r.isContinuous,i=r.canBeContinuous,a=r.isGroupedByDimension,l=t.getLayout(),u="K"===l.qHyperCube.qMode,s=cl.dimensionless(l),c=Ol.getMeasureRefLines(l),f=Ol.getDimensionRefLines(l,s),d=Ol.getMeasureRefLineLabels(l),p=Ol.getDimensionRefLineLabels(l,s),m={},h={},g=function(){return!(!f||!f.length)&&!f.every((function(e){var n=Ol.getInputValue({refLineLayout:e,layoutModel:t});return function(e){if(i){var n=t.getLayoutValue("qHyperCube.qDimensionInfo.0"),r=n.qMin,o=n.qMax;return Ol.isOutOfRange({value:e,qMin:r,qMax:o})}return!1}(n)||function(e){if(!h[e])return!1;if(!o&&a){var n={valueInfo:h[e]},r="S"===t.getHyperCubeValue("qMode")?"qDataPages.0":"qStackedDataPages.0",i=t.getHyperCubeValue(r);return Ol.isOutOfDataPages({label:n,dataPages:i})}return!0}(n)}))},y={isKMode:u,canBeContinuous:i,measureRefLines:c,dimensionRefLines:f,measureRefLineLabels:d,dimensionRefLineLabels:p,dimensionRefLineInfo:h,dimensionValuesInfo:m,update:function(){h=y.dimensionRefLineInfo,g()&&(m=Ol.getDimensionValuesInfo({layout:l,canBeContinuous:i,discreteModel:n,layoutModel:t}),y.dimensionValuesInfo=m,f.forEach((function(e){var n=Ol.getInputValue({refLineLayout:e,layoutModel:t});m[n]&&(h[n]?(h[n].innerValues=m[n].innerValues,h[n].minOrder=Math.min(h[n].minOrder,m[n].minOrder),h[n].maxOrder=Math.max(h[n].maxOrder,m[n].maxOrder),h[n].isMinOrderOk=h[n].isMinOrderOk||m[n].isMinOrderOk,h[n].isMaxOrderOk=h[n].isMaxOrderOk||m[n].isMaxOrderOk):h[n]={id:m[n].id,qText:m[n].qText,innerValues:m[n].innerValues,minOrder:m[n].minOrder,maxOrder:m[n].maxOrder,isMinOrderOk:m[n].isMinOrderOk,isMaxOrderOk:m[n].isMaxOrderOk},h[n].numInnerValues=(h[n].maxOrder||0)-(h[n].minOrder||0)+1)})))}};return y.update(),y}var Sl=function(e,t){var n=e.component(t);return n&&n._DO_NOT_USE_getInfo&&n._DO_NOT_USE_getInfo().offset};var kl=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Cl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function El(){}var Al="\\s*([+-]?\\d+)\\s*",ql="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tl=/^#([0-9a-f]{3,8})$/,Nl=new RegExp("^rgb\\("+[Al,Al,Al]+"\\)$"),Ll=new RegExp("^rgb\\("+[Dl,Dl,Dl]+"\\)$"),Il=new RegExp("^rgba\\("+[Al,Al,Al,ql]+"\\)$"),jl=new RegExp("^rgba\\("+[Dl,Dl,Dl,ql]+"\\)$"),Pl=new RegExp("^hsl\\("+[ql,Dl,Dl]+"\\)$"),Rl=new RegExp("^hsla\\("+[ql,Dl,Dl,ql]+"\\)$"),_l={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zl(){return this.rgb().formatHex()}function Fl(){return this.rgb().formatRgb()}function Ul(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Hl(t):3===n?new Wl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Bl(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Bl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Nl.exec(e))?new Wl(t[1],t[2],t[3],1):(t=Ll.exec(e))?new Wl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Il.exec(e))?Bl(t[1],t[2],t[3],t[4]):(t=jl.exec(e))?Bl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Pl.exec(e))?Xl(t[1],t[2]/100,t[3]/100,1):(t=Rl.exec(e))?Xl(t[1],t[2]/100,t[3]/100,t[4]):_l.hasOwnProperty(e)?Hl(_l[e]):"transparent"===e?new Wl(NaN,NaN,NaN,0):null}function Hl(e){return new Wl(e>>16&255,e>>8&255,255&e,1)}function Bl(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wl(e,t,n,r)}function Vl(e){return e instanceof El||(e=Ul(e)),e?new Wl((e=e.rgb()).r,e.g,e.b,e.opacity):new Wl}function Wl(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Gl(){return"#"+$l(this.r)+$l(this.g)+$l(this.b)}function Kl(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function $l(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Xl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jl(e,t,n,r)}function Zl(e){if(e instanceof Jl)return new Jl(e.h,e.s,e.l,e.opacity);if(e instanceof El||(e=Ul(e)),!e)return new Jl;if(e instanceof Jl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new Jl(a,l,u,e.opacity)}function Jl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Yl(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}kl(El,Ul,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:zl,formatHex:zl,formatHsl:function(){return Zl(this).formatHsl()},formatRgb:Fl,toString:Fl}),kl(Wl,(function(e,t,n,r){return 1===arguments.length?Vl(e):new Wl(e,t,n,null==r?1:r)}),Cl(El,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Wl(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Wl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gl,formatHex:Gl,formatRgb:Kl,toString:Kl})),kl(Jl,(function(e,t,n,r){return 1===arguments.length?Zl(e):new Jl(e,t,n,null==r?1:r)}),Cl(El,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Jl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Jl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Wl(Yl(e>=240?e-240:e+120,o,r),Yl(e,o,r),Yl(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Ql=Math.PI/180,eu=180/Math.PI,tu=.96422,nu=1,ru=.82521,ou=4/29,iu=6/29,au=3*iu*iu,lu=iu*iu*iu;function uu(e){if(e instanceof su)return new su(e.l,e.a,e.b,e.opacity);if(e instanceof gu)return yu(e);e instanceof Wl||(e=Vl(e));var t,n,r=pu(e.r),o=pu(e.g),i=pu(e.b),a=cu((.2225045*r+.7168786*o+.0606169*i)/nu);return r===o&&o===i?t=n=a:(t=cu((.4360747*r+.3850649*o+.1430804*i)/tu),n=cu((.0139322*r+.0971045*o+.7141733*i)/ru)),new su(116*a-16,500*(t-a),200*(a-n),e.opacity)}function su(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function cu(e){return e>lu?Math.pow(e,1/3):e/au+ou}function fu(e){return e>iu?e*e*e:au*(e-ou)}function du(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pu(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function mu(e){if(e instanceof gu)return new gu(e.h,e.c,e.l,e.opacity);if(e instanceof su||(e=uu(e)),0===e.a&&0===e.b)return new gu(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*eu;return new gu(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hu(e,t,n,r){return 1===arguments.length?mu(e):new gu(e,t,n,null==r?1:r)}function gu(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function yu(e){if(isNaN(e.h))return new su(e.l,0,0,e.opacity);var t=e.h*Ql;return new su(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}kl(su,(function(e,t,n,r){return 1===arguments.length?uu(e):new su(e,t,n,null==r?1:r)}),Cl(El,{brighter:function(e){return new su(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new su(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Wl(du(3.1338561*(t=tu*fu(t))-1.6168667*(e=nu*fu(e))-.4906146*(n=ru*fu(n))),du(-.9787684*t+1.9161415*e+.033454*n),du(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),kl(gu,hu,Cl(El,{brighter:function(e){return new gu(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new gu(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return yu(this).rgb()}}));var vu={AVERAGE:"AVERAGE",LINEAR:"LINEAR",POLYNOMIAL2:"POLYNOMIAL2",POLYNOMIAL3:"POLYNOMIAL3",POLYNOMIAL4:"POLYNOMIAL4",EXPONENTIAL:"EXPONENTIAL",LOG:"LOG",POWER:"POWER"};function bu(e){var t=e.dimValue,n=e.value,r=e.qTrendLine,o=r.qType,i=r.qCoeff,a={x:t,y:i[2]*Math.pow(n,2)+i[1]*n+i[0]};switch(o){default:case vu.POLYNOMIAL2:return a;case vu.POLYNOMIAL3:return a.y+=i[3]*Math.pow(n,3),a;case vu.POLYNOMIAL4:return a.y+=i[4]*Math.pow(n,4)+i[3]*Math.pow(n,3),a}}var xu={average:function(e){return{x:e.dimValue,y:e.qTrendLine.qCoeff[0]}},linear:function(e){var t=e.dimValue,n=e.value,r=e.qTrendLine;return{x:t,y:r.qCoeff[1]*n+r.qCoeff[0]}},polynomial2:bu,polynomial3:bu,polynomial4:bu,exponential:function(e){var t=e.dimValue,n=e.value,r=e.qTrendLine;return{x:t,y:Math.exp(r.qCoeff[0]+n*r.qCoeff[1])}},log:function(e){var t=e.dimValue,n=e.value,r=e.qTrendLine;return{x:t,y:r.qCoeff[1]+r.qCoeff[0]*Math.log(n)}},power:function(e){var t=e.dimValue,n=e.value,r=e.qTrendLine;return{x:t,y:Math.pow(10,r.qCoeff[0]+r.qCoeff[1]*Math.log(n)*Math.LOG10E)}}},Mu=500;function Ou(e,t){for(var n=xu[t.qType.toLowerCase()],r=Math.max(1,e/Mu),o=1/0,i=-1/0,a=0;a<e;a+=r){var l=n({dimValue:null,value:a+1,qTrendLine:t}).y;o=Math.min(l,o),i=Math.max(l,i)}return{min:o,max:i}}function wu(e){return function(e){if(Array.isArray(e))return Su(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Su(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ku=100;function Cu(e){return xu[e.qType.toLowerCase()]}function Eu(e,t){return e.meta.isContinuous?function(e,t){return{generate:function(e,n,r){var o=[],i=Cu(e),a=t.get("zoom"),l=a.min,u=a.max,s=(u-l)/ku;if(s>0){for(var c=function(t){var a=i({dimValue:t,value:t,qTrendLine:e});a.layerId=n,a.measureIndex=r,a.dimValue=t,o.push(a)},f=l,d=l;d<=u;d+=s)c(d),f=d;f!==u&&c(u)}return o},calculate:function(e,t){return Cu(e)({dimValue:t,value:t,qTrendLine:e})},findMinMax:function(e,t){var n=this.generate(t).map((function(e){return e.y}));return{min:Math.min.apply(Math,wu(n)),max:Math.max.apply(Math,wu(n))}}}}(0,t):e.query.isQMode("K")?function(e){return{generate:function(t,n,r){for(var o=[],i=e.getDataPages()[0],a=i.qData[0].qSubNodes,l=i.qArea.qTop,u=xu[t.qType.toLowerCase()],s=0;s<a.length;s++){var c=a[s],f=u({dimValue:c.qElemNo,value:s+l+1,qTrendLine:t});f.layerId=n,f.measureIndex=r,f.dimValue=c.qText,o.push(f)}return o},findMinMax:Ou}}(e):function(e){return{generate:function(t,n,r){for(var o=[],i=e.getDataPages()[0],a=i.qMatrix,l=i.qArea.qTop,u=xu[t.qType.toLowerCase()],s=0;s<a.length;s++){var c=a[s][0],f=s+l+1,d=u({dimValue:c.qElemNumber,value:f,qTrendLine:t});d.layerId=n,d.measureIndex=r,d.dimValue=c.qText,o.push(d)}return o},calculate:function(e,t,n){return(0,xu[e.qType.toLowerCase()])({dimValue:n,value:t,qTrendLine:e})},findMinMax:Ou}}(e)}var Au={TYPES:{AVERAGE:"properties.trendlines.types.average",LINEAR:"properties.trendlines.types.linear",POLYNOMIAL2:"properties.trendlines.types.polynomial2",POLYNOMIAL3:"properties.trendlines.types.polynomial3",POLYNOMIAL4:"properties.trendlines.types.polynomial4",EXPONENTIAL:"properties.trendlines.types.exponential",LOG:"properties.trendlines.types.logarithmic",POWER:"properties.trendlines.types.power"},STYLE:{DASHED:"properties.trendlines.style.dashed"},TYPE:"properties.trendlines.type",HEADER:"properties.trendlines",ADD_BUTTON:"properties.trendlines.button.add"},qu={color:"#f93f17",index:9};function Du(e){return function(e){if(Array.isArray(e))return Tu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nu=function(e){return hu(e).l<70},Lu={x:NaN,y:NaN,layerId:NaN,measureIndex:NaN},Iu=function(e){var t=e.layoutModel,n=e.viewState,r=e.colorModel,o=e.chart,a=e.env,l=e.keys.colorScale,u=e.isEnabled,s=void 0===u?function(){return!1}:u,c=a.translator,f=[Lu],d=[],p=[],m=Eu(t,n);return t.getLayoutValue("qHyperCube.qMeasureInfo",[]).forEach((function(e,t){Array.isArray(e.qTrendLines)&&(d.push.apply(d,Du(e.qTrendLines)),p.push.apply(p,Du(e.qTrendLines.map((function(){return t})))))})),{query:{hasTrendLines:function(){return!!d.length&&s()},getData:function(){return f},getStroke:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=i();return function(r){var o=t(r);return n.has(o)?n.get(o):n.set(o,e(r))}}((function(e){var t=(d[e]||{}).style,n=r.settings();if(t.autoColor){if("measure"===n.mode){var i=p[e],a=o.scale(l)(i);return Nu(a)?function(e){var t=hu(e);return t.l<30?t.l+=15:t.l<50?t.l+=10:t.l+=5,t.toString()}(a):function(e){var t=hu(e);return t.l-=5,t.toString()}(a)}return r.resolveUIColor(qu)}return t.paletteColor?r.resolveUIColor(t.paletteColor):"none"})),getLineDash:function(e){return(d[e]||{}).style.lineDash},getLabel:function(e){return(d[e]||{}).label},getType:function(e){var t=(d[e]||{}).qType;return c.get(Au.TYPES[t])},getMinMax:function(){var e=1/0,n=-1/0;return d.forEach((function(r){var o=m.findMinMax(t.meta.size.y,r);e=Math.min(o.min,e),n=Math.max(o.max,n)})),{min:e,max:n}},getCalculatedValue:function(e,t,n){var r=d[e];return m.calculate(r,t,n)}},command:{update:function(){f.length=0,d.forEach((function(e,t){var n=m.generate(e,t,p[t]);f.push.apply(f,Du(n))}))}}}},ju=n(9),Pu=n.n(ju),Ru=n(10),_u=n.n(Ru),zu=n(22),Fu=n.n(zu),Uu=n(23),Hu=n.n(Uu),Bu=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͽΆΈ-ϵϷ-҂Ҋ-։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ॿং-হঽ-ীে-ৌৎ-ৡ০-ৱ৴-৺ਃ-ਹਾ-ੀਖ਼-੯ੲ-ੴઃ-હઽ-ીૉ-ૌૐ-ૡ૦-૯ଂ-ହଽ-ାୀେ-ୌୗ-ୡ୦-୷ஃ-ிு-ௌௐ-௲ఁ-ఽు-ౄౘ-ౡ౦-౯౿-ಹಽ-ೋೕ-ೡ೦-ീെ-ൌൎ-ൡ൦-ෆා-ෑෘ-ะา-ำเ-ๆ๏-ະາ-ຳຽ-ໆ໐-༗༚-༴༶༸༾-ཬཿ྅ྈ-ྌ྾-࿅࿇-ာေးျ-ြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃ-ႄႇ-ႌႎ-ႜ႞-ፚ፠-ᎏᎠ-Ᏼᐁ-ᙿᚁ-ᚚᚠ-ᜑᜠ-ᜱ᜵-ᝑᝠ-ᝰក-ាើ-ៅះ-ៈ។-៚ៜ០-៩᠐-ᢨᢪ-ᤜᤣ-ᤦᤩ-ᤱᤳ-ᤸ᥆-᧚ᨀ-ᨖᨙ-ᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-᭪᭴-᭼ᮂ-ᮡᮦ-ᮧ᮪-ᯥᯧᯪ-ᯬᯮ᯲-ᰫᰴ-ᰵ᰻-᱿᳓᳡ᳩ-ᳬᳮ-ᶿḀ-ᾼιῂ-ῌῐ-Ίῠ-Ῥῲ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ-⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-ⳤⳫ-ⳮⴀ-⵰ⶀ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㍶㍻-㏝㏠-㏾㐀-䶵一-ꒌꓐ-ꘌꘐ-ꙮꚀ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꤥ꤮-ꥆꥒ-ꥼꦃ-ꦲꦴ-ꦵꦺ-ꦻꦽ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂ-ꯤꯦ-ꯧꯩ-꯬꯰-ﬗＡ-Ｚａ-ｚｦ-ￜ]"),Vu=new RegExp("[־׀׃׆א-״߀-ߪߴ-ߵߺ-ࠕࠚࠤࠨ࠰-ࡘ࡞‏יִײַ-ﬨשׁ-ﭏ]"),Wu=new RegExp("[؈؋؍؛-ي٭-ٯٱ-ەۥ-ۦۮ-ۯۺ-܍ܐܒ-ܯݍ-ޥޱﭐ-ﴽﵐ-﷼ﹰ-ﻼ]"),Gu={lrm:String.fromCharCode(8206),rlm:String.fromCharCode(8207),isLtrChar:function(e){return Bu.test(e)},isRtlChar:function(e){return Vu.test(e)||Wu.test(e)},detectTextDirection:function(e){var t,n,r=e?e.length:0;for(t=0;t<r;t++){if(n=e[t],Gu.isLtrChar(n))return"ltr";if(Gu.isRtlChar(n))return"rtl"}return"ltr"}},Ku=Gu,$u=n(1),Xu=n.n($u),Zu=n(2),Ju=n.n(Zu),Yu=n(5);function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ts(e){return"large"===e?"20px":"small"===e?"12px":"16px"}function ns(e){var t=e.d,n=e.size,r=e.style,o=void 0===r?{}:r,i=e.viewBox,a=void 0===i?"0 0 16 16":i,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){es(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:ts(n),display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-.125em",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},o);return Xu.a.createElement("i",{style:l},Xu.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:a,fill:"currentColor"},Xu.a.createElement("path",{d:t})))}var rs={d:"M15.9993744,3 L15.9993744,5 L4.99937445,5 L4.99937445,3 L15.9993744,3 Z M8.99937445,7 L15.9993744,7 L15.9993744,9 L8.99937445,9 L8.99937445,7 Z M11.9993744,11 L15.9993744,11 L15.9993744,13 L11.9993744,13 L11.9993744,11 Z M2.2,11 L7,11 L7,9.00369263 C7,8.89323568 7.08954305,8.80369263 7.2,8.80369263 C7.2549016,8.80369263 7.30738916,8.82626165 7.34515712,8.86610844 L10.1852182,11.8624926 C10.2583124,11.93961 10.258346,12.0604218 10.1852948,12.13758 L7.34523376,15.1373102 C7.2692928,15.2175206 7.14270711,15.2209817 7.06249671,15.1450407 C7.02260076,15.1072683 7,15.0547472 7,14.9998069 L7,12.9043747 C4.79351111,12.9043747 2.8018683,12.9266213 1.02507156,12.9711145 L1.02507252,12.9711526 C0.472939773,12.9849787 0.014139487,12.5485949 0.000313396522,11.9964622 C0.000104473692,11.988119 -1.32268838e-12,11.9797736 -1.3231638e-12,11.9714278 L-1.83320026e-12,3 L2,3 L2,10.8 C2,10.9104569 2.08954305,11 2.2,11 Z"},os={d:"M13,7 L8,7 L13,7 L13,4.98151367 C13,2.23029964 10.7614237,0 8,0 C5.23857625,0 3,2.23029964 3,4.98151367 L3,7 L3.75,7 L3,7 L4.5,7 L4.5,5.33193359 C4.5,3.21561511 5.54860291,1.5 8,1.5 C10.4513971,1.5 11.5,3.21561511 11.5,5.33193359 L11.5,7 L12.25,7 L3,7 C2.44771525,7 2,7.44771525 2,8 L2,15 C2,15.5522847 2.44771525,16 3,16 L13,16 C13.5522847,16 14,15.5522847 14,15 L14,8 C14,7.44771525 13.5522847,7 13,7 L3,7 L13,7 Z"},is={d:"M6,10 L13,3 L15,5 L8,12 L6,14 L1,9 L3,7 L6,10 Z"},as={d:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z"},ls={d:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"};function us(e){return function(e){if(Array.isArray(e))return ss(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ss(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cs(e){return(cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fs=ee.a.bind(null,!0),ds={},ps=Array.isArray;function ms(e){return null!=e&&!Array.isArray(e)&&"object"===cs(e)}function hs(e){return void 0===e}function gs(e,t){return"function"==typeof e[t]||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function ys(e,t){var n,r=t.substring(1).split("/").slice(0,-1);return r.forEach((function(t,o){if(o!==r.length){n=+t;var i=isNaN(n)?{}:[];e[n||t]=hs(e[n||t])?i:e[t],e=e[n||t]}})),e}function vs(e,t){var n=!0;if(ms(e)&&ms(t))return Object.keys(e).length===Object.keys(t).length&&(Object.keys(e).forEach((function(r){vs(e[r],t[r])||(n=!1)})),n);if(ps(e)&&ps(t)){if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r+=1)if(!vs(e[r],t[r]))return!1;return!0}return e===t}ds.generate=function(e,t,n){n=n||"";var r=[];return Object.keys(t).forEach((function(o){var i=function(e){return e?fs({},{val:e}).val:e}(t[o]),a=e[o],l="".concat(n,"/").concat(o);vs(i,a)||gs(t,o)||(hs(a)?r.push({op:"add",path:l,value:i}):ms(i)&&ms(a)?r=r.concat(ds.generate(a,i,l)):ps(i)&&ps(a)?r=r.concat(function(e,t,n){var r=[],o=e.slice(),i=-1;function a(e,t,n){if(e[n]&&hs(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var r=0,o=e.length;r<o;r+=1)if(e[r]&&e[r].qInfo.qId===t)return r;return-1}if(vs(t,o))return r;if(!hs(t[0])&&hs(t[0].qInfo))return r.push({op:"replace",path:n,value:t}),r;for(var l=o.length-1;l>=0;l-=1)-1===(i=a(t,o[l].qInfo&&o[l].qInfo.qId,l))?(r.push({op:"remove",path:"".concat(n,"/").concat(l)}),o.splice(l,1)):r=r.concat(ds.generate(o[l],t[i],"".concat(n,"/").concat(l)));for(var u=0,s=t.length;u<s;u+=1)-1===(i=a(o,t[u].qInfo&&t[u].qInfo.qId))?(r.push({op:"add",path:"".concat(n,"/").concat(u),value:t[u]}),o.splice(u,0,t[u])):i!==u&&(r.push({op:"move",path:"".concat(n,"/").concat(u),from:"".concat(n,"/").concat(i)}),o.splice(u,0,o.splice(i,1)[0]));return r}(a,i,l)):r.push({op:"replace",path:"".concat(n,"/").concat(o),value:i}))})),Object.keys(e).forEach((function(o){hs(t[o])&&!gs(e,o)&&r.push({op:"remove",path:"".concat(n,"/").concat(o)})})),r},ds.apply=function(e,t){t.forEach((function(t){var n,r=ys(e,t.path),o=t.path.split("/").splice(-1)[0],i=o&&isNaN(+o)?r[o]:r[+o]||r,a=t.from?t.from.split("/").splice(-1)[0]:null;if("/"===t.path&&(r=null,i=e),"add"===t.op||"replace"===t.op)if(ps(r))"-"===o&&(o=r.length),r.splice(+o,"add"===t.op?0:1,t.value);else if(ps(i)&&ps(t.value)){var l,u=t.value.slice();i.length=0,(l=i).push.apply(l,us(u))}else if(ms(i)&&ms(t.value))n=i,Object.keys(n).forEach((function(e){Object.getOwnPropertyDescriptor(n,e).configurable&&!gs(n,e)&&delete n[e]})),fs(i,t.value);else{if(!r)throw new Error("Patchee is not an object we can patch");r[o]=t.value}else if("move"===t.op){var s=ys(e,t.from);ps(r)?r.splice(+o,0,s.splice(+a,1)[0]):(r[o]=s[a],delete s[a])}else"remove"===t.op&&(ps(r)?r.splice(+o,1):delete r[o])}))},ds.clone=function(e){return fs({},e)},ds.createPatch=function(e,t,n){var r={op:e.toLowerCase(),path:n};return"move"===r.op?r.from=t:void 0!==t&&(r.value=t),r},ds.updateObject=function(e,t){Object.keys(e).length?ds.apply(e,ds.generate(e,t)):fs(e,t)};var bs=ds;function xs(e,t,n){(function(e){var t=e.model,n=e.properties;return t.modifiers?t.modifiers.apply({model:t,properties:n}):Promise.resolve()})({model:e,properties:n}).then((function(){e.colorSupport&&e.colorSupport.colorByUpdater(n,"qHyperCubeDef.");var r=bs.generate(t,n);r&&r.length&&(r=r.map((function(e){return{qOp:e.op,qValue:JSON.stringify(e.value),qPath:e.path}})),e.applyPatches(r,!0))}))}function Ms(e,t,n,r,o,i){e.getEffectiveProperties().then((function(a){var l=ee()(!0,{},a),u=l.qHyperCubeDef[r][t],s=l.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n];s.qAttributeDimensions=u.qAttributeDimensions,u.qAttributeDimensions=[],i||(s.qAttributeExpressions=u.qAttributeExpressions,u.qAttributeExpressions=[]),l.qHyperCubeDef[r][t]=s,l.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n]=u,o&&o(s,u),xs(e,a,l)}))}function Os(e){var t=e.dir,n=e.dock,r=e.altList,o=e.model,i=e.translator,a=e.app,l=e.onChange;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map((function(e){return function(e,t,n){if(!!e.qLibraryId)return t.getDimension(e.qLibraryId).then((function(e){return e.getLayout()})).catch((function(){return null})).then((function(e){return e?"H"===e.qDim.qGrouping||!e.qDim.qLabelExpression?e.qDim.title:e.qDim.qLabelExpression:n.get("Object.ErrorMessage.MissingDimension")}));var r=e.qDef.qLabelExpression;if(!!r)return t.evaluate(r);var o=e.qDef.qFieldLabels[0]||e.qDef.qFieldDefs[0];return Promise.resolve(o)}(e,a,i).then((function(t){return{id:e.qDef.cId,selected:!1,title:t}}))}));return Promise.all(e)},changeTo:function(e,t){Ms(o,e,t,"qDimensions",l)}}}function ws(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/qHyperCubeDef";return{breadcrumbs:e.qGroupFallbackTitles.slice(0,e.qGroupPos),drilldown:"H"===e.qGrouping,index:t,locked:!!e.qLocked,text:"H"===e.qGrouping?e.qGroupFallbackTitles[e.qGroupPos]:e.qFallbackTitle,popoverText:(r=e,"H"===r.qGrouping?r.title||"":r.qFallbackTitle||""),drillUp:function(e){n.drillUp(o,t,e)}}}function Ss(e){var t=e.altList,n=e.app,r=e.dir,o=e.dock,i=e.model,a=e.onChange,l=e.skipAttributeExpressions,u=e.translator;return 0===t.length?null:{dir:r,dock:o,getAlternatives:function(){var e=t.map((function(e){return function(e,t,n){if(!!e.qLibraryId)return t.getMeasure(e.qLibraryId).then((function(e){return e.getLayout()})).catch((function(){return null})).then((function(e){return e?e.qMeasure.qLabelExpression?e.qMeasure.qLabelExpression:e.qMeasure.qLabel||e.qMeasure.qDef:n.get("Object.ErrorMessage.MissingMeasure")}));var r=e.qDef.qLabelExpression;if(!!r)return t.evaluate(r);var o=e.qDef.qLabel||e.qDef.qDef;return Promise.resolve(o)}(e,n,u).then((function(t){return{id:e.qDef.cId,selected:!1,title:t}}))}));return Promise.all(e)},changeTo:function(e,t){Ms(i,e,t,"qMeasures",a,l)}}}function ks(e,t){return{breadcrumbs:[],drilldown:!1,index:t,locked:!1,text:e.qFallbackTitle,popoverText:e.qFallbackTitle}}function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t){return(Ds=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ts(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Is(e);if(t){var o=Is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ns(this,n)}}function Ns(e,t){return!t||"object"!==Cs(t)&&"function"!=typeof t?Ls(e):t}function Ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Is(e){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function js(){return(js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ps(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Rs={bottom:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},top:{anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"}},left:{anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"}},right:{anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"}}},_s=function(e){var t=e.children,n=Ps(e,["children"]);return Xu.a.createElement(Yu.Button,js({size:"small",disableRipple:!0,disableTouchRipple:!0},n),t)},zs=function(){function e(e){var t=e.title,n=e.selected,r=e.onClick,o=Ku.detectTextDirection(t);return Xu.a.createElement(Yu.ListItem,{button:!0,onClick:r,style:{textAlign:"start"}},Xu.a.createElement(Yu.ListItemIcon,{style:{minWidth:32}},Xu.a.createElement(ns,{d:n?is.d:""})),Xu.a.createElement(Yu.ListItemText,{primaryTypographyProps:{dir:o}},t))}function t(t){var n=t.alignTo,r=t.changeTo,o=t.current,i=t.dir,a=t.dock,l=t.list,u=t.onClose,s=t.show,c=l.map((function(t,n){return Xu.a.createElement(e,{key:t.id,title:t.title,onClick:function(){return r(n)}})}));return Xu.a.createElement(Yu.Popover,js({anchorEl:n,open:s,onClose:u},Rs[a],{PaperProps:{style:{minWidth:"250px",maxHeight:"300px"}}}),Xu.a.createElement(Yu.List,{dense:!0,dir:i,component:"nav"},Xu.a.createElement(e,{title:o,selected:!0,onClick:u}),c))}e.propTypes={title:Ju.a.string.isRequired,selected:Ju.a.bool,onClick:Ju.a.func.isRequired},e.defaultProps={selected:!1},t.propTypes={alignTo:Ju.a.any,changeTo:Ju.a.func.isRequired,current:Ju.a.string.isRequired,dir:Ju.a.string.isRequired,dock:Ju.a.string.isRequired,list:Ju.a.array,onClose:Ju.a.func.isRequired,show:Ju.a.bool.isRequired},t.defaultProps={list:[],alignTo:null};var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ds(e,t)}(a,e);var n,r,o,i=Ts(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={open:!1,inSelection:e.selections&&e.selections.isActive()},t.openPopover=t.openPopover.bind(Ls(t)),t.closePopover=t.closePopover.bind(Ls(t)),t.changeTo=t.changeTo.bind(Ls(t)),t.alignToRef=Xu.a.createRef(),t}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.selections;t&&(this.onSelectionsActivated=function(){return e.setState({inSelection:!0})},this.onSelectionsDeactivated=function(){return e.setState({inSelection:!1})},t.addListener("activated",this.onSelectionsActivated),t.addListener("deactivated",this.onSelectionsDeactivated),t.addListener("canceled",this.onSelectionsDeactivated))}},{key:"componentWillUnmount",value:function(){var e=this.props.selections;e&&(e.removeListener("activated",this.onSelectionsActivated),e.removeListener("deactivated",this.onSelectionsDeactivated),e.removeListener("canceled",this.onSelectionsDeactivated))}},{key:"changeTo",value:function(e){this.props.popover.changeTo(this.props.titleData.index,e),this.closePopover()}},{key:"openPopover",value:function(){var e=this;this.state.closeTime&&Date.now()-this.state.closeTime<20||this.props.popover.getAlternatives().then((function(t){e.setState({open:!0,alternatives:t})}))}},{key:"closePopover",value:function(){this.setState({open:!1,closeTime:Date.now()})}},{key:"render",value:function(){var e=this.props,n=e.titleData,r=e.popover,o=e.translator,i=e.disabled,a=e.isDimension,l=e.padding,u=e.minWidth,s=e.hasAlternative,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){As(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"normal"},this.props.style),f=n.breadcrumbs.length,d=i||this.state.inSelection,p=n.breadcrumbs.map((function(e,t){return Xu.a.createElement(_s,{style:{display:"flex",alignItems:"center",color:d&&"rgba(89, 89, 89, 0.8)",pointerEvents:d?"none":"auto"},key:t,onClick:function(){return d?void 0:n.drillUp(f-t)},title:e},Xu.a.createElement("span",{style:c},e),Xu.a.createElement(ns,js({},ls,{size:"small",style:{margin:"0 8px"}})))})),m=r&&!this.state.open?this.openPopover:this.closePopover,h=!r||i||this.state.inSelection,g={display:"flex",alignItems:"center",width:"100%",color:h&&"rgba(89, 89, 89, 0.8)",height:!a&&h&&"20px",lineHeight:!a&&h&&"20px",border:!a&&h&&"none"};l&&(g.padding=l),u&&(g.minWidth=u);var y=Ku.detectTextDirection(n.text),v=Xu.a.createElement(_s,{style:g,onClick:h?void 0:m,title:n.text,tabIndex:"-1"},n.locked&&Xu.a.createElement(ns,js({},os,{size:"small",title:o.get("Tooltip.selections.locked")})),Xu.a.createElement("span",{style:c,dir:y},n.text),r&&Xu.a.createElement(ns,js({},as,{size:"small",style:{margin:"0 8px"}})));return Xu.a.createElement(Xu.a.Fragment,null,n.drilldown&&Xu.a.createElement(ns,js({},rs,{size:"small",title:o.get("Tooltip.dimensions.drilldown"),style:{margin:"0 4px 0 0"}})),p,Xu.a.createElement("div",{ref:this.alignToRef,style:{overflow:"hidden",pointerEvents:s?"auto":"none"}},v),r&&Xu.a.createElement(t,{dock:r.dock,dir:r.dir,current:n.popoverText,alignTo:this.alignToRef.current,show:this.state.open,list:this.state.alternatives,onClose:this.closePopover,changeTo:this.changeTo}))}}])&&qs(n.prototype,r),o&&qs(n,o),a}(Xu.a.Component);function r(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]}function o(e){return!e.isDimension&&Ra.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.length")>0}return n.propTypes={disabled:Ju.a.bool.isRequired,padding:Ju.a.string,minWidth:Ju.a.string,titleData:Ju.a.shape({breadcrumbs:Ju.a.arrayOf(Ju.a.string).isRequired,drilldown:Ju.a.bool.isRequired,index:Ju.a.number.isRequired,locked:Ju.a.bool.isRequired,text:Ju.a.string.isRequired,popoverText:Ju.a.string.isRequired,drillUp:Ju.a.func}).isRequired,popover:Ju.a.shape({dir:Ju.a.string.isRequired,dock:Ju.a.string.isRequired,changeTo:Ju.a.func.isRequired,getAlternatives:Ju.a.func.isRequired}),translator:Ju.a.shape({get:Ju.a.func.isRequired}).isRequired,selections:Ju.a.shape({isActive:Ju.a.func,addListener:Ju.a.func,removeListener:Ju.a.func}),style:Ju.a.shape({fontSize:Ju.a.string,color:Ju.a.string,fontFamily:Ju.a.string}).isRequired,isDimension:Ju.a.bool.isRequired,hasAlternative:Ju.a.bool.isRequired},n.defaultProps={popover:null,selections:null,padding:"",minWidth:""},{renderer:"react",disableTriggers:!0,preferredSize:function(){return this.settings.settings.isDimension||o(this.settings.settings)?28:20},render:function(){var e,t=this,i=this.settings,a=i.settings,l=a.app,u=a.disabled,s=a.explicitItemInfos,c=a.hyperCube,f=a.hyperCubeDef,d=a.isDimension,p=a.minWidth,m=a.model,h=a.onChangeToAlternative,g=a.padding,y=a.rtl,v=a.selections,b=a.skipAttributeExpressions,x=a.translator,M=i.layout.dock,O="top"!==M&&"bottom"!==M||!y?"ltr":"rtl",w=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center"};return"left"===e?(n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left"):"right"===e&&(n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left"),n}(M,this.rect),S=f&&f.qLayoutExclude&&f.qLayoutExclude.qHyperCubeDef,k=S&&S[d?"qDimensions":"qMeasures"]||[],C=s||c[d?"qDimensionInfo":"qMeasureInfo"],E=d?Os:Ss,A=d?ws:ks,q=m&&m.colorSupport&&m.modifiers&&E({altList:k,app:l,dir:y?"rtl":"ltr",dock:r(M),model:m,onChange:h,skipAttributeExpressions:b,translator:x}),D=(e=this.settings.settings).isDimension&&Ra.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions.length")>0||o(this.settings.settings),T=C.map((function(e,r){var o="number"==typeof e.explicitColumn?e.explicitColumn:r,i=A(e,o,m),a=r===C.length-1;return Xu.a.createElement(Xu.a.Fragment,{key:e.cId},Xu.a.createElement(n,{popover:q,titleData:i,model:m,translator:x,selections:v,disabled:u(),style:t.style,isDimension:d,padding:g,minWidth:p,hasAlternative:D}),!a&&Xu.a.createElement("span",null,", "))}));return Xu.a.createElement("div",{style:w,dir:O},T)}}};function Fs(e){return(Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hs(e,t){return(Hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ws(e);if(t){var o=Ws(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vs(this,n)}}function Vs(e,t){return!t||"object"!==Fs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ws(e){return(Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gs(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hs(e,t)}(i,e);var t,n,r,o=Bs(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.spanStyle;return Xu.a.createElement(Xu.a.Fragment,null,Xu.a.createElement("span",{ref:this.alignToRef,style:n,title:t},t))}}])&&Us(t.prototype,n),r&&Us(t,r),i}(Xu.a.Component);return e.propTypes={label:Ju.a.string.isRequired,spanStyle:Ju.a.shape().isRequired},{renderer:"react",disableTriggers:!0,preferredSize:function(){return 22},render:function(){var t=this.settings,n=t.settings,r=n.label,o=n.rtl,i=t.layout.dock,a="top"!==i&&"bottom"!==i||!o?"ltr":"rtl",l=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center",color:"#7b7a78",fontStyle:"italic",fontSize:"13px"};switch(e){case"left":n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left";break;case"right":n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left";break;case"center":n.width="".concat(t.width,"px"),n.height="".concat(t.height,"px"),n.color="#595959",n.fontStyle="normal",n.fontSize="1.2em",n.textAlign="center";break;default:case"top":case"bottom":n.justifyContent="flex-start",n.alignItems="flex-start"}return n}(i,this.rect),u="center"===i?r:"* ".concat(r),s="center"!==i?{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}:{};return Xu.a.createElement("div",{style:l,dir:a},Xu.a.createElement(Xu.a.Fragment,null,Xu.a.createElement(e,{label:u,spanStyle:s})))}}}var Ks=n(11),$s=n.n(Ks);function Xs(){return(Xs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zs(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Js(){return(Js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qs(e){return(Qs="function"==typeof Symbol&&"symbol"===Ys(Symbol.iterator)?function(e){return Ys(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ys(e)})(e)}function ec(e){return(ec="function"==typeof Symbol&&"symbol"===Qs(Symbol.iterator)?function(e){return Qs(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Qs(e)})(e)}function tc(e){return e&&"object"===ec(e)&&!Array.isArray(e)}function nc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Js({},e):e;return tc(e)&&tc(t)&&Object.keys(t).forEach((function(o){"__proto__"!==o&&(tc(t[o])&&o in e?r[o]=nc(e[o],t[o],n):r[o]=t[o])})),r}var rc=["xs","sm","md","lg","xl"];function oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ic(e,t,n){var r;return Xs({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xs({paddingLeft:t(2),paddingRight:t(2)},n,oc({},e.up("sm"),Xs({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},oc(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),oc(r,e.up("sm"),{minHeight:64}),r)},n)}var ac={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},lc={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},uc={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},sc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},cc={black:"#000",white:"#fff"};function fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function dc(e){if(e.type)return e;if("#"===e.charAt(0))return dc(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb(".concat(n.map((function(e){return parseInt(e,16)})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function pc(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function mc(e){var t="hsl"===(e=dc(e)).type?dc(function(e){var t=(e=dc(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),pc({type:l,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function hc(e,t){if(e=dc(e),t=fc(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return pc(e)}function gc(e,t){if(e=dc(e),t=fc(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return pc(e)}var yc={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cc.white,default:uc[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},vc={text:{primary:cc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:uc[800],default:"#303030"},action:{active:cc.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function bc(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=gc(e.main,r):"dark"===t&&(e.dark=hc(e.main,1.5*r)))}function xc(e){var t=e.primary,n=void 0===t?{light:ac[300],main:ac[500],dark:ac[700]}:t,r=e.secondary,o=void 0===r?{light:lc.A200,main:lc.A400,dark:lc.A700}:r,i=e.error,a=void 0===i?{light:sc[300],main:sc[500],dark:sc[700]}:i,l=e.type,u=void 0===l?"light":l,s=e.contrastThreshold,c=void 0===s?3:s,f=e.tonalOffset,d=void 0===f?.2:f,p=Zs(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function m(e){return function(e,t){var n=mc(e),r=mc(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,vc.text.primary)>=c?vc.text.primary:yc.text.primary}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=Xs({},e)).main&&e[t]&&(e.main=e[t]),bc(e,"light",n,d),bc(e,"dark",r,d),e.contrastText||(e.contrastText=m(e.main)),e}var g={dark:vc,light:yc};return nc(Xs({common:cc,type:u,primary:h(n),secondary:h(o,"A400","A200","A700"),error:h(a),grey:uc,contrastThreshold:c,getContrastText:m,augmentColor:h,tonalOffset:d},g[u]),p,{clone:!1})}function Mc(e){return Math.round(1e5*e)/1e5}var Oc={textTransform:"uppercase"},wc='"Roboto", "Helvetica", "Arial", sans-serif';function Sc(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,o=void 0===r?wc:r,i=n.fontSize,a=void 0===i?14:i,l=n.fontWeightLight,u=void 0===l?300:l,s=n.fontWeightRegular,c=void 0===s?400:s,f=n.fontWeightMedium,d=void 0===f?500:f,p=n.fontWeightBold,m=void 0===p?700:p,h=n.htmlFontSize,g=void 0===h?16:h,y=n.allVariants,v=n.pxToRem,b=Zs(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=a/14,M=v||function(e){return"".concat(e/g*x,"rem")},O=function(e,t,n,r,i){return Xs({fontFamily:o,fontWeight:e,fontSize:M(t),lineHeight:n},o===wc?{letterSpacing:"".concat(Mc(r/t),"em")}:{},{},i,{},y)},w={h1:O(u,96,1,-1.5),h2:O(u,60,1,-.5),h3:O(c,48,1.04,0),h4:O(c,34,1.17,.25),h5:O(c,24,1.33,0),h6:O(d,20,1.6,.15),subtitle1:O(c,16,1.75,.15),subtitle2:O(d,14,1.57,.1),body1:O(c,16,1.5,.15),body2:O(c,14,1.43,.15),button:O(d,14,1.75,.4,Oc),caption:O(c,12,1.66,.4),overline:O(c,12,2.66,1,Oc)};return nc(Xs({htmlFontSize:g,pxToRem:M,round:Mc,fontFamily:o,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:m},w),b,{clone:!1})}var kc=.2,Cc=.14,Ec=.12;function Ac(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(kc,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(Cc,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(Ec,")")].join(",")}var qc=["none",Ac(0,2,1,-1,0,1,1,0,0,1,3,0),Ac(0,3,1,-2,0,2,2,0,0,1,5,0),Ac(0,3,3,-2,0,3,4,0,0,1,8,0),Ac(0,2,4,-1,0,4,5,0,0,1,10,0),Ac(0,3,5,-1,0,5,8,0,0,1,14,0),Ac(0,3,5,-1,0,6,10,0,0,1,18,0),Ac(0,4,5,-2,0,7,10,1,0,2,16,1),Ac(0,5,5,-3,0,8,10,1,0,3,14,2),Ac(0,5,6,-3,0,9,12,1,0,3,16,2),Ac(0,6,6,-3,0,10,14,1,0,4,18,3),Ac(0,6,7,-4,0,11,15,1,0,4,20,3),Ac(0,7,8,-4,0,12,17,2,0,5,22,4),Ac(0,7,8,-4,0,13,19,2,0,5,24,4),Ac(0,7,9,-4,0,14,21,2,0,5,26,4),Ac(0,8,9,-5,0,15,22,2,0,6,28,5),Ac(0,8,10,-5,0,16,24,2,0,6,30,5),Ac(0,8,11,-5,0,17,26,2,0,6,32,5),Ac(0,9,11,-5,0,18,28,2,0,7,34,6),Ac(0,9,12,-6,0,19,29,2,0,7,36,6),Ac(0,10,13,-6,0,20,31,3,0,8,38,7),Ac(0,10,13,-6,0,21,33,3,0,8,40,7),Ac(0,10,14,-6,0,22,35,3,0,8,42,7),Ac(0,11,14,-7,0,23,36,3,0,9,44,8),Ac(0,11,15,-7,0,24,38,3,0,9,46,8)],Dc={borderRadius:4};var Tc={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nc={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},Lc=function(e){return"".concat(Math.round(e),"ms")},Ic={easing:Tc,duration:Nc,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Nc.standard:n,o=t.easing,i=void 0===o?Tc.easeInOut:o,a=t.delay,l=void 0===a?0:a;Zs(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:Lc(r)," ").concat(i," ").concat("string"==typeof l?l:Lc(l))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},jc={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var Pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,i=e.palette,a=void 0===i?{}:i,l=e.shadows,u=e.spacing,s=e.typography,c=void 0===s?{}:s,f=Zs(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),d=xc(a),p=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,i=e.step,a=void 0===i?5:i,l=Zs(e,["values","unit","step"]);function u(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function s(e,t){var r=rc.indexOf(t)+1;return r===rc.length?u(e):"@media (min-width:".concat(n[e]).concat(o,") and ")+"(max-width:".concat(n[rc[r]]-a/100).concat(o,")")}return Xs({keys:rc,values:n,up:u,down:function(e){var t=rc.indexOf(e)+1,r=n[rc[t]];return t===rc.length?u("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-a/100).concat(o,")")},between:s,only:function(e){return s(e,e)},width:function(e){return n[e]}},l)}(n),m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;e="function"==typeof t?t:function(e){return t*e};var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){var n=e(t);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(u);return Xs({breakpoints:p,direction:"ltr",mixins:ic(p,m,o),overrides:{},palette:d,props:{},shadows:l||qc,typography:Sc(d,c),spacing:m},nc({shape:Dc,transitions:Ic,zIndex:jc},f))},Rc=n(12),_c=Pc({palette:{text:{primary:"rgba(89, 89, 89, 0.8)",secondary:"rgba(0, 0, 0, 0.55)",disabled:"rgba(0, 0, 0, 0.3)"},action:{disabled:"rgba(0, 0, 0, 0.3)"}},typography:{fontFamily:'"QlikView Sans", "Arial", sans-serif',button:{textTransform:"initial",fontWeight:400}},shape:{borderRadius:2},shadows:["none","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)"],props:{MuiButtonBase:{disableRipple:!0}}});function zc(e,t){return Xu.a.createElement(Rc.StylesProvider,{generateClassName:t},Xu.a.createElement(Rc.ThemeProvider,{theme:_c},e))}var Fc=Object(Rc.createGenerateClassName)({productionPrefix:"q".concat("dce7"),disableGlobal:!0,seed:""});function Uc(){return function(e){e.renderer("react",function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y,r=e.width,o=e.height,i=e.scaleRatio,a=e.margin,l={x:0,y:0,width:0,height:0,scaleRatio:{x:1,y:1},margin:{left:0,top:0}};return l.x=Number.isNaN(t)?l.x:t,l.y=Number.isNaN(n)?l.y:n,l.width=Number.isNaN(r)?l.width:r,l.height=Number.isNaN(o)?l.height:o,void 0!==i&&(l.scaleRatio.x=Number.isNaN(i.x)?l.scaleRatio.x:i.x,l.scaleRatio.y=Number.isNaN(i.y)?l.scaleRatio.y:i.y),void 0!==a&&(l.margin.left=Number.isNaN(a.left)?0:a.left,l.margin.top=Number.isNaN(a.top)?0:a.top),l}return function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.createElement,o=void 0===r?document.createElement.bind(document):r,i=e(),a={element:function(){return t},root:function(){return t},appendTo:function(e){return t||((t=o("div")).style.position="absolute",t.style["-webkit-font-smoothing"]="antialiased",t.style["-moz-osx-font-smoothing"]="antialiased",t.style.pointerEvents="none"),e.appendChild(t),t},render:function(e){if(!t)return!1;var n=i.scaleRatio.x,r=i.scaleRatio.y;return t.style.left="".concat(Math.round(i.margin.left+i.x*n),"px"),t.style.top="".concat(Math.round(i.margin.top+i.y*r),"px"),t.style.width="".concat(Math.round(i.width),"px"),t.style.height="".concat(Math.round(i.height),"px"),t.style.transform="scale(".concat(n,", ").concat(r,")"),t.style.transformOrigin="top left",$s.a.render(zc(e,Fc),t),!0},itemsAt:function(){return[]},findShapes:function(){return[]},clear:function(){return t&&$s.a.unmountComponentAtNode(t),a},destroy:function(){t&&t.parentElement&&($s.a.unmountComponentAtNode(t),t.parentElement.removeChild(t)),t=null},size:function(t){return t&&(i=e(t)),i}};return a}}()),e.component("data-title",zs()),e.component("disclaimer",Gs())}}var Hc,Bc={isInside:function(e,t,n,r){if(!r)return!0;var o=e.position-e.radius,i=e.position+e.radius;return o>=t&&i<=n},getCenterDistance:function(e,t){return Math.abs(e.center-t.center)},getGap:function(e,t){var n=e.position<t.position?e:t,r=e.position<t.position?t:e;return r.position-r.radius-(n.position+n.radius)},findSegmentPositionMeetMax:function(e,t){var n=Math.max(0,e.max-t);return e.center-n},findSegmentPositionMeetMin:function(e,t){var n=Math.max(0,t-e.min);return e.center+n},findSegmentPositionMeetMinThenMax:function(e,t,n){var r=Bc.findSegmentPositionMeetMin(e,t);return Bc.findSegmentPositionMeetMax({center:r,max:r+e.radius},n)},findSegmentPositionMeetMaxThenMin:function(e,t,n){var r=Bc.findSegmentPositionMeetMax(e,n);return Bc.findSegmentPositionMeetMin({center:r,min:r-e.radius},t)},layoutPositionFromMin:function(e,t,n){for(var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=e.length-1,l=t,u=0;u<a;u++)r=e[u],o=e[u+1],r.position=Bc.findSegmentPositionMeetMaxThenMin(r,l,(r.center+o.center-i)/2),l=r.position+r.radius+i/2;o.position=Bc.findSegmentPositionMeetMaxThenMin(o,l,n)},adjustPositionFromMax:function(e,t,n){var r,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=e.length-1,u=Math.max(0,e[l].position+e[l].radius-n);if(0!==u){var s,c=0;for(r=l;r>0&&(o=e[r],i=e[r-1],s=Math.max(0,Bc.getGap(i,o)-a),c+=s-=Math.max(0,c+s-u),o.move=s,!(c>=u));r--);for(c<u&&(s=Math.max(0,i.position-i.radius-t),c+=s-=Math.max(0,c+s-u),i.move=s),c=0,r=0;r<=l;r++)c+=(o=e[r]).move||0,o.move=c,o.position-=c}},layout:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e.length-1;if(!(o<0))if(0!==o)Bc.layoutPositionFromMin(e,t,n,r),Bc.adjustPositionFromMax(e,t,n,r);else{var i=e[0];i.position=Bc.findSegmentPositionMeetMaxThenMin(i,t,n)}}},Vc=Bc;function Wc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kc(){Hc=Hc||document.createElement("canvas").getContext("2d")}var $c={measureTextWidth:function(e){return Kc(),Hc.measureText(e).width},lineWrap:function(e,t,n,r){var o,i;Kc();var a,l,u=e?e.split(/\n+|\r+|\r\n/):[],s=[],c=e?e.split(/\s+/):[],f=u[0];if("number"!=typeof t||t<=0)return[e];if("number"==typeof r&&u.length>=r)return u.slice(0,r);for(n&&(Hc.font=n),i=0;i<u.length;i++){for(f=Wc(c=(u[i]||"").split(/\s+/),1)[0],l="",o=1;o<c.length;o++)if(a="".concat(f," ").concat(c[o]),$c.measureTextWidth(a)>t&&("number"!=typeof r||r>s.length)?(s.push(f),f=c[o]):f=a,"number"==typeof r&&s.length>=r){l=c.slice(o+1).join(" ");break}"number"!=typeof r||s.length<r?s.push(f):s[Math.max(0,s.length-1)]="".concat(s[Math.max(0,s.length-1)]||""," ").concat(f," ").concat(l)}return s},wordWrap:function(e,t,n,r,o){if(Kc(),!e||!e.length)return[];n&&(Hc.font=n);var i,a,l,u,s=[],c=e.slice();if(c.filter((function(e){return!!e})),"number"!=typeof t||t<0)return e.slice();for(u=0;u<c.length;u++)a=null,(l=c[u])&&(l.length<=1||$c.measureTextWidth(l)<=t?s.push(l):(i=$c.splitWord(l,t,void 0,r-s.length)).length<=1?s.push(i[0]):(a=i.pop(),s=s.concat(i),c[u+1]?$c.measureTextWidth("".concat(a," ").concat(c[u+1]))>t&&s.length+c.length-u<=r?c.splice(u+1,0,a):c[u+1]="".concat(a," ").concat(c[u+1]):c.push(a)));return s.forEach((function(e,t,n){n[t]=e?e.trim():e})),s.length>r?(s=s.splice(0,r))[s.length-1]=$c.truncate(s[s.length-1],t,n,o).text:(l=s[s.length-1])&&l.length>1&&$c.measureTextWidth(l)>t&&(s[s.length-1]=$c.truncate(l,t,n,o).text),s},truncate:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"…";Kc();var o,i,a,l=e,u=$c.measureTextWidth("i"),s=Math.ceil(t/u);if(n&&(Hc.font=n),e&&t){if($c.measureTextWidth(l)>t){for(o=Math.min(s,l.length);o>0;o--)if(i=l.substring(0,o-1).trim()+r,$c.measureTextWidth(i)<=t){a=l.substring(o-1),l=i;break}o||(a=l,l="…")}}else a=void 0;return{text:l,rest:a}},isNumber:function(e){return"number"==typeof e&&Number.isFinite(e)},explodeWord:function(e,t,n,r){var o;Kc();var i=e,a="",l=[];if($c.isNumber(n)&&n<=1)return[e];var u=Math.ceil(t/r);for(o=Math.min(e.length,u);o>0&&(i=e.substring(0,o)," "===e.substring(o-1,o)?i=e.substring(0,o-1):i+="-",a=e.substring(o),!($c.measureTextWidth(i)<=t));o--);return(!o&&!i||$c.measureTextWidth(i)>t)&&(i=e.substring(0,1),a=e.substring(1)),l.push(i),a?($c.measureTextWidth(a)>t?(a=$c.explodeWord(a,t,n-1,r),l=l.concat(a)):l.push(a),l.filter((function(e){return""!==e.trim()}))):l},splitWord:function(e,t,n,r){return Kc(),e&&t?(n&&(Hc.font=n),$c.explodeWord(e,t,r,Math.max(1,$c.measureTextWidth("i")))):[]},wrapText:function(e,t,n,r,o){var i;return Number.isNaN(t)?[e]:(i=r>1?$c.lineWrap(e,t,n,r):[e],i=$c.wordWrap(i,t,n,r,o))},getFontHeight:function(e){return Kc(),e&&(Hc.font=e),1.5*$c.measureTextWidth("m")},tokenize:function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;Kc(),t&&(Hc.font=t);var l=$c.getFontHeight(),u=a*l,s=[],c=0,f=[];if(i<l)return[];var d=i?Math.max(1,Math.floor(i/u)):r||1;return Array.isArray(r)?(r.forEach((function(e){c+=Number.isNaN(e)||e<=0?0:e})),r.forEach((function(e){s.push(Number.isNaN(e)||e<=0?d-c:e)}))):s=[Number.isNaN(r)||r<=0?d:Math.min(d,r)],Array.isArray(e)?e.forEach((function(e,n){f.length<d&&(f=f.concat($c.wrapText(e,o,t,s[n])))})):f=$c.wrapText(e,o,t,s[0],n),f}},Xc=$c,Zc="…";function Jc(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:70,r=0;r<e.length;r++){var o=e[r];o.lines=Xc.tokenize(o.title,t,"".concat(Zc," ").concat(o.valueString),3,n),o.maxNumLines=o.lines.length}}function Yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ef(e){var t=e.title,n=e.font,r=e.ellipsis,o=e.maxNumLines,i=void 0===o?5:o,a=e.maxWidth,l=void 0===a?200:a,u=Xc.tokenize(t,n,r,i,l),s=u.length,c="";if(s){c=Yc(u,1)[0];for(var f=1;f<s;f++)c="".concat(c,"\n").concat(u[f])}return c}function tf(e){var t=e.oobs,n=e.font,r=e.ellipsis,o=e.maxNumLines,i=void 0===o?5:o,a=e.maxWidth,l=void 0===a?200:a,u=t.map((function(e){return ef({title:e.title,font:n,ellipsis:"".concat(r," ").concat(e.valueString),maxNumLines:i,maxWidth:l})})),s=u.length,c="";if(s){c=Yc(u,1)[0];for(var f=1;f<s;f++)c="".concat(c,"\n\n").concat(u[f])}return c}function nf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";e.sort((function(e,n){return e[t]-n[t]}))}function rf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||af(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function of(e){return function(e){if(Array.isArray(e))return lf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||af(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function af(e,t){if(e){if("string"==typeof e)return lf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lf(e,t):void 0}}function lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uf=3,sf=2;function cf(e){var t=e.inputValue,n=e.inputValueLabel,r=e.localeInfo;if(void 0===t||void 0===n||t.toString()===n)return!1;if(!r)return!0;var o="+-".concat(r.qDecimalSep||"").concat(r.qThousandSep||"").replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");return n.replace(new RegExp("[0-9e".concat(o,"]"),"g"),"").length>0}var ff=function(e){var t=e.label,n=e.dataPages,r=e.qMin,o=e.qMax;if(void 0!==r&&void 0!==o){var i=t.inputValue;if(Ol.isContinuousMaxOutOfBounds({value:i,qMax:o}))return 1;if(Ol.isContinuousMinOutOfBounds({value:i,qMin:r}))return-1}return Ol.isDiscreteMaxOutOfBounds({label:t,dataPages:n})?1:Ol.isDiscreteMinOutOfBounds({label:t,dataPages:n})?-1:0},df={hasEngineFormat:cf,calculateLabelPositions:function(e){var t,n,r=e.labels,o=e.scale,i=e.size,a=e.layoutModel,l=e.orientation,u=e.rtl,s=e.isContinuous,c=e.isDimension,f=Ol.getInvert({orientation:l,rtl:u,isContinuous:s}),d="S"===a.getHyperCubeValue("qMode")?"qDataPages.0":"qStackedDataPages.0",p=a.getHyperCubeValue(d),m=a.meta.canBeContinuous;if(c&&m){var h=a.getLayoutValue("qHyperCube.qDimensionInfo.0");t=h.qMin,n=h.qMax}for(var g=0;g<r.length;g++){var y=r[g],v=y.value,b=y.align,x=y.valueInfo,M=ff({label:y,dataPages:p,qMin:t,qMax:n});y.scaledValue=1===M?f?-.1:1.1:-1===M?f?1.1:-.1:Ol.getScaledPosition({scale:o,size:i,value:v,valueInfo:x,align:b,invert:f,layoutModel:a,isContinuous:s}),y.center=y.scaledValue*i}},getTitle:function(e){return!1!==e.showValue?!1!==e.showLabel?"".concat(e.text," ").concat(e.valueString):e.valueString:!1!==e.showLabel?e.text:""},addLabelTitles:function(e){var t,n=e.labels,r=e.formatter,o=e.isContinuous,i=e.canBeContinuous,a=e.localeInfo;if(o)for(var l=0;l<n.length;l++){var u=n[l],s=u.value,c=u.inputValue,f=u.inputValueLabel;t=cf({inputValue:c,inputValueLabel:f,localeInfo:a})?f:r?r(s):s,u.valueString="".concat(Ku.lrm,"(").concat(t,")").concat(Ku.lrm),u.title=df.getTitle(u)}else if(i)for(var d=0;d<n.length;d++){var p=n[d],m=p.valueText,h=p.inputValue,g=p.inputValueLabel;t=cf({inputValue:h,inputValueLabel:g,localeInfo:a})?g:m,p.valueString="".concat(Ku.lrm,"(").concat(t,")").concat(Ku.lrm),p.title=df.getTitle(p)}else for(var y=0;y<n.length;y++){var v=n[y];t=v.valueText,v.valueString="".concat(Ku.lrm,"(").concat(t,")").concat(Ku.lrm),v.title=df.getTitle(v)}},measureLabelsWidth:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.totalWidth=t(r.title).width}},measureLabelMaxLineWidth:function(e,t){return Math.max.apply(Math,of(e.lines.map((function(e){return t(e).width}))))},getMaxTextWidth:function(e){var t=e.map((function(e){return e.totalWidth}));return Math.max.apply(Math,of(t))},addLabelsNeighborInfo:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e.length-1;if(!(o<0)){var i,a,l=rf(e,1);if((i=l[0]).cMin=t,0!==o){for(var u=0;u<o;u++)i=e[u],a=e[u+1],i.cMax=(i.center+a.center-r)/2,a.cMin=i.cMax+r;a.cMax=n}else i.cMax=n}},getTotalNumLines:function(e){var t=0;return e.forEach((function(e){t+=e.maxNumLines})),t},reduceLabelsHavingMaxNumLines:function(e,t,n){for(var r=t-1,o=e.filter((function(e){return e.maxNumLines===t})),i=Math.min(n,o.length),a=o.length-1;a>=o.length-i;a--)o[a].maxNumLines=r},reduceTotalMaxNumLines:function(e,t,n){var r=Math.floor(n/t),o=3;do{var i=df.getTotalNumLines(e)-r;if(i<=0)return;df.reduceLabelsHavingMaxNumLines(e,o,i),o--}while(o>1)},reduceMaxNumLines:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;r<e.length;r++){var o=e[r];o.maxNumLines=Math.max(1,Math.min(o.maxNumLines,Math.floor((Math.max(0,o.cMax-o.cMin)+n)/t)))}},addLabelsSize:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3?arguments[3]:void 0,o=0;o<e.length;o++){var i=e[o];i.width=Math.min(t,df.measureLabelMaxLineWidth(i,r)),i.height=i.lines.length*n}},addLabelSegments:function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.center,i=r[t],a=i/2;r.segment={center:o,range:i,min:o-a,max:o+a,radius:a}}},addLabelsInfo:function(e){var t=e.labels,n=e.scale,r=e.majorSize,o=e.lowerLimit,i=e.upperLimit,a=e.gap,l=e.font,u=e.maxLabelWidth,s=e.lineHeight,c=e.majorDimension,f=e.orientation,d=e.measureText,p=e.rtl,m=e.layoutModel,h=e.isContinuous,g=e.isDimension,y=t.map((function(e){return e})),v=r;df.calculateLabelPositions({labels:t,scale:n,size:v,layoutModel:m,orientation:f,rtl:p,isContinuous:h,isDimension:g}),nf(t,"center"),df.addLabelsNeighborInfo(t,o,i,a),Jc(t,l,u),df.reduceTotalMaxNumLines(y,s,i-(y.length-1)*a),"vertical"===f&&(df.reduceMaxNumLines(t,s,.05*a),function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:70,r=0;r<e.length;r++){var o=e[r];o.lines.length>o.maxNumLines&&(o.lines=Xc.tokenize(o.title,t,"".concat(Zc," ").concat(o.valueString),o.maxNumLines,n))}}(t,l,u)),df.addLabelsSize(t,u,s,d),df.addLabelSegments(t,c)},createLabels:function(e){var t=e.labels,n=e.style,r=e.maxLabelWidth,o=e.areaProps,i=e.area,a=e.lineHeight,l=void 0===a?15:a,u=e.font,s=o.majorAxis,c=o.minorAxis,f=i.minorCenter,d=n.fontSize,p=n.fontFamily,m=n.background,h=[];return t.forEach((function(e){var t=e.lines,n=t.length,o=t.map((function(t,o){var i={type:"text",text:t,title:ef({title:e.title,font:u,ellipsis:"".concat("…"," ").concat(e.valueString)}),dx:0,dy:0,maxWidth:r,width:r,fontSize:d,fontFamily:p,fill:e.fill,baseline:"central",anchor:"middle"};return i[c]=f,i[s]=e.segment.position,i.y+=(o-(n-1)/2)*l,i}));e.background&&h.push(function(e){var t=e.minorCenter,n=e.majorAxis,r=e.minorAxis,o=e.label,i=e.lineHeight,a=e.background,l=o.lines,u=a.borderRadius,s=void 0===u?uf:u,c=a.padding,f=void 0===c?{}:c,d=f.top,p=void 0===d?sf:d,m=f.bottom,h=void 0===m?sf:m,g=f.left,y=void 0===g?sf:g,v=f.right,b=void 0===v?sf:v,x=l.length,M={type:"rect",rx:s,ry:s,fill:o.background.fill,width:o.width+(y+b),height:o.height+(p+h)};return M[r]=t,M[n]=o.segment.position,M.x-=o.width/2+y,M.y-=x*i/2+p,M}({minorCenter:f,majorAxis:s,minorAxis:c,label:e,lineHeight:l,background:m})),h=h.concat(o)})),h}},pf=df;function mf(e){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hf(e,t,n){var r,o=mf(t);if("string"===o||"object"===o)r=e.formatter(t);else if(void 0!==n&&n.data){var i=n.data()&&n.data().fields;r=i&&i[0]?i[0].formatter():null}return r}function gf(e){return function(e){if(Array.isArray(e))return yf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vf=function(e){return{dock:e,orientation:"vertical",majorAxis:"y",minorAxis:"x",majorDimension:"height",minorDimension:"width",flipXY:!1}},bf=function(e){return{dock:e,orientation:"horizontal",majorAxis:"x",minorAxis:"y",majorDimension:"width",minorDimension:"height",flipXY:!0}};function xf(e,t,n){return"top"===e||"bottom"===e?function(e,t){var n=t.font,r=t.lineHeight,o=t.top,i=t.bottom,a=t.maxLabelWidth,l=1;return pf.getMaxTextWidth(e)>a&&(Jc(e,n,a),l=Math.max.apply(Math,gf(e.map((function(e){return e.lines.length}))))),l*r+o+i}(t,n):function(e,t){var n=t.left,r=t.right,o=t.maxLabelWidth;return Math.min(o,pf.getMaxTextWidth(e))+n+r}(t,n)}function Mf(e,t){return t?e.domain():[0,1]}function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wf={getDefaultSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,n=void 0===t?10:t,r=e.fill,o=void 0===r?"#999":r,i=e.alignment;return{show:!0,type:"n-polygon",fill:o,stroke:"#000",strokeWidth:0,size:n,sides:3,startAngle:-90,alignment:i}},createOob:function(e){var t,n=e.oob,r=e.dockValue,o=e.boxCenter,i=e.rendWidth,a=e.rendHeight,l="x",u="y",s=i,c=a,f=r<.5?90:-90;return e.flipXY&&(l="y",u="x",s=a,c=i,f=r<.5?180:0),(0,e.symbol)(ee()({},n,(Of(t={},l,o*s),Of(t,u,Math.max(n.size/2,Math.min(r*c,c-n.size/2))),Of(t,"startAngle",f),t)))}},Sf="…";function kf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"value",o=e.filter((function(e){return e[r]>=t}));o=o.filter((function(e){return e[r]<=n}));var i=e.filter((function(e){return e[r]<t})),a=e.filter((function(e){return e[r]>n}));return{filteredLabels:o,minOobs:i,maxOobs:a,numMinOobs:i.length,numMaxOobs:a.length}}function Cf(e){for(var t,n=0,r=1;r<10;r++)t=e(r),n=Math.max(n,Math.sqrt(t.width*t.width+t.height*t.height));return t=e("9+"),[n,Math.max(n,Math.sqrt(t.width*t.width+t.height*t.height))]}function Ef(e,t){return e>9?t[1]:t[0]}function Af(e){var t=e.alignment,n=e.dockValue,r=e.oobs,o=e.style,i=e.rect,a=e.symbol,l=e.position,u=e.areaProps,s=e.radius,c=e.font,f=r?r.length:0;if(f<1)return[];var d=u.flipXY,p=u.majorAxis,m=u.minorAxis,h=i[u.minorDimension],g=wf.createOob({oob:wf.getDefaultSettings({size:o.size,fill:o.fill,alignment:t}),dockValue:n,boxCenter:.5,rendWidth:i.width,rendHeight:i.height,flipXY:d,symbol:a}),y="c".concat(p),v="c".concat(m),b={type:"circle",r:s,stroke:"transparent",fill:o.text.background.fill,strokeWidth:0};b[v]=h/2,b[y]=l;var x={type:"text",text:f>9?"9+":f,title:tf({oobs:r,font:c,ellipsis:Sf}),dx:0,dy:0,maxWidth:h,width:h,fontSize:o.text.fontSize,fontFamily:o.text.fontFamily,fill:o.text.fill,baseline:"central",anchor:"middle"};return x[m]=h/2,x[p]=l,[g,b,x]}var qf=function(e){var t="normal ".concat(e.fontSize," '").concat(e.fontFamily,"'");return{font:t,lineHeight:Xc.getFontHeight(t)*(e.lineHeightMultiplicator||1),gap:e.gap||12,maxLabelWidth:e.maxWidth||75,top:e.padding.top||0,bottom:e.padding.bottom||0,left:e.padding.left||0,right:e.padding.right||0}};function Df(e){return function(e){if(Array.isArray(e))return Lf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Nf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||Nf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nf(e,t){if(e){if("string"==typeof e)return Lf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lf(e,t):void 0}}function Lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function If(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?If(Object(n),!0).forEach((function(t){Pf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):If(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rf=function(e){return e.map((function(e){return jf(jf({},e),{},{value:"function"==typeof e.value?e.value():e.value,valueText:"function"==typeof e.valueText?e.valueText():e.valueText,valueInfo:"function"==typeof e.valueInfo?e.valueInfo():e.valueInfo})}))},_f={require:["renderer","chart","symbol"],defaultSettings:{layout:{displayOrder:0,prioOrder:0}},preferredSize:function(){var e=this,t=this.scale,n=this.settings,r=n.style,o=n.layoutModel,i=n.isContinuous,a=n.localeInfo,l=!!i||o.meta.canBeContinuous,u=Rf(this.settings.labels),s=hf(this.chart,this.settings.formatter,t);pf.addLabelTitles({labels:u,formatter:s,isContinuous:i,canBeContinuous:l,localeInfo:a});var c,f=function(e){var t=e.labels,n=e.scale,r=e.isContinuous,o=e.canBeContinuous,i=e.layoutModel;if(r){var a=Tf(Mf(n,r),2);return kf(t,a[0],a[1])}if(o){var l=i.getLayoutValue("qHyperCube.qDimensionInfo.0"),u=l.qMin,s=l.qMax;if("NaN"!==u&&"NaN"!==s)return kf(t,u,s,"inputValue")}return{filteredLabels:t}}({labels:u,scale:t,isContinuous:i,canBeContinuous:l,layoutModel:o}),d=f.numMaxOobs,p=f.numMinOobs,m=f.filteredLabels;if(this.measureText=function(t){return e.renderer.measureText({text:t,fontSize:r.label.fontSize,fontFamily:r.label.fontFamily})},m&&m.length){var h=qf(r.label),g=this.settings.layout.dock;return pf.measureLabelsWidth(m,this.measureText),c=xf(g,m,h),c}var y=Cf(this.measureText),v=d?Ef(d,y):0,b=p?Ef(p,y):0;return c=Math.max(v,b),c},render:function(){var e=this.scale;if(e.domain().length){var t=this.symbol,n=this.settings,r=n.style,o=n.layoutModel,i=n.theme,a=n.isContinuous,l=n.isDimension,u=n.localeInfo,s=!!a||o.meta.canBeContinuous,c=Rf(this.settings.labels),f=this.settings.layout,d=f.dock,p=f.rtl,m=r.label.padding,h=function(e){return"left"===e||"right"===e?vf(e):bf(e)}(d),g=function(e,t,n){var r=e[t.minorDimension];return{minorSize:r,majorSize:e[t.majorDimension],minorCenter:"vertical"===t.orientation?(r-n.right-n.left)/2+n.left:(r-n.top-n.bottom)/2+n.top}}(this.rect,h,m),y=h.orientation,v=h.majorDimension,b=g.majorSize,x=qf(r.label),M=x.font,O=x.lineHeight,w=x.gap,S=x.maxLabelWidth,k=hf(this.chart,this.settings.formatter,e),C=b;pf.addLabelTitles({labels:c,formatter:k,isContinuous:a,canBeContinuous:s,localeInfo:u}),pf.calculateLabelPositions({labels:c,scale:e,size:C,layoutModel:o,orientation:y,rtl:p,isContinuous:a,isDimension:l});var E=Tf(Mf(e,a),2),A=function(e){var t=e.labels,n=e.minValue,r=e.maxValue,o=e.orientation,i=e.rtl,a=e.isContinuous,l=e.style,u=e.padding,s=e.measureText,c=e.prop,f=void 0===c?"value":c,d=kf(t,n,r,f),p=d.maxOobs,m=d.minOobs,h=d.filteredLabels,g="scaledValue"!==f&&Ol.getInvert({orientation:o,rtl:i,isContinuous:a}),y=function(e,t,n){return n?t:e}(m,p,g),v=function(e,t,n){return n?e:t}(m,p,g),b=y.length,x=v.length,M=Cf(s),O=Ef(b,M),w=Ef(x,M);return{filteredLabels:h,lowerOobs:y,upperOobs:v,lowerCircleSize:O,upperCircleSize:w,lowerOobSpace:function(e,t,n,r,o){return("vertical"===r?o.top:o.left)+(e>0?t+n:0)}(b,l.oob.size,O,o,u),upperOobSpace:function(e,t,n,r,o){return("vertical"===r?o.bottom:o.right)+(e>0?t+n:0)}(x,l.oob.size,w,o,u)}}({labels:c,minValue:E[0],maxValue:E[1],orientation:y,rtl:p,isContinuous:a,style:r,padding:m,measureText:this.measureText,prop:a?"value":"scaledValue"}),q=A.filteredLabels,D=A.lowerOobs,T=A.upperOobs,N=A.lowerCircleSize,L=A.upperCircleSize,I=A.lowerOobSpace,j=A.upperOobSpace,P=I,R=b-j;nf(D),nf(T);var _=Af({alignment:0,dockValue:0,oobs:D,style:r.oob,rect:this.rect,symbol:t,position:r.oob.size+N/2,areaProps:h,radius:N/2,font:M}),z=Af({alignment:1,dockValue:1,oobs:T,style:r.oob,rect:this.rect,symbol:t,position:b-(r.oob.size+L/2),areaProps:h,radius:L/2,font:M});pf.addLabelsInfo({labels:q,scale:e,majorSize:b,lowerLimit:P,upperLimit:R,font:M,lineHeight:O,gap:w,maxLabelWidth:S,majorDimension:v,orientation:y,measureText:this.measureText,rtl:p,layoutModel:o,isContinuous:a,isDimension:l}),Vc.layout(q.map((function(e){return e.segment})),P,R,r.label.gap);var F=q.filter((function(e){return Vc.isInside(e.segment,P,R,a)}));return pf.createLabels({labels:F,style:r.label,maxLabelWidth:S,areaProps:h,area:g,lineHeight:O,font:M,theme:i}).concat([].concat(Df(_),Df(z)))}}};function zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ff(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zf(Object(n),!0).forEach((function(t){Bf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vf={vertical:{major:"width",minor:"height",start:"left",end:"right",shadow:{startOffset:"12px 0",endOffset:"-12px 0"}},horizontal:{major:"height",minor:"width",start:"top",end:"bottom",shadow:{startOffset:"0 12px",endOffset:"0 -12px"}}},Wf=function(e){return"".concat(e," 12px -12px inset rgba(0, 0, 0, ").concat(.0625,")")},Gf={defaultSettings:{settings:{orientation:"vertical",rtl:!1,range:function(){return[0,1]}}},renderer:"dom",render:function(e){var t=this.settings.settings,n=t.range,r=t.orientation,o=t.rtl,i=Uf(n(),2),a=i[0],l=i[1],u=Math.abs(a)<1e-15,s=Math.abs(l-1)<1e-15,c=function(e){var t,n,r,o=Vf[e];return{base:(t={position:"absolute"},Bf(t,o.major,12),Bf(t,o.minor,"100%"),t),towardsStart:(n={},Bf(n,o.start,0),Bf(n,o.end,"auto"),Bf(n,"boxShadow",Wf(o.shadow.startOffset)),n),towardsEnd:(r={},Bf(r,o.start,"auto"),Bf(r,o.end,0),Bf(r,"boxShadow",Wf(o.shadow.endOffset)),r)}}(r),f="vertical"===r&&o,d=[];return u||d.push(e("div",{style:Ff(Ff({},c.base),f?c.towardsEnd:c.towardsStart),class:"scroll-hint--towards-start"})),s||d.push(e("div",{style:Ff(Ff({},c.base),f?c.towardsStart:c.towardsEnd),class:"scroll-hint--towards-end"})),d}},Kf="data-scrollbar-handle";function $f(e){var t=e.e;return(t.srcEvent||t).srcElement.getAttribute(Kf)||""}function Xf(e){return function(e){if(Array.isArray(e))return Zf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach((function(t){Qf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ed={background:"rgba(0, 0, 0, 0.1)"},td={top:-1,bottom:-1,width:6},nd={width:2,background:"#595959"},rd={before:ed,after:ed,thumb:{background:"transparent",border:"1px solid rgba(68, 68, 68, 0.4)"},startHandle:td,endHandle:td,startHandleBorder:nd,endHandleBorder:nd},od={background:"rgba(0, 0, 0, 0.1)"},id={top:-1,bottom:-1,width:6},ad={width:2,background:"#595959"},ld={before:od,after:od,thumb:{background:"#B0AFAE",border:"transparent"},startHandle:id,endHandle:id,startHandleBorder:ad,endHandleBorder:ad};function ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(n),!0).forEach((function(t){cd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fd={position:"absolute",top:0,right:0,bottom:0,left:0,boxSizing:"border-box"},dd={pointerEvents:"initial"},pd={pointerEvents:"none"};var md={RESIZE:"ew-resize",DEFAULT:"default"};function hd(){var e=this.rect,t=this.settings.settings,n="vertical"===t.orientation,r=n?e.computedInner.width:e.computedInner.height,o=t.range(),i=n&&t.rtl;return{size:r,start:(i?1-o[1]:o[0])*r,end:(i?1-o[0]:o[1])*r}}function gd(){var e=this.state.hover.start||this.state.hover.end||this.state.drag.start||this.state.drag.end;this.renderer.element().ownerDocument.body.style.cursor=e?md.RESIZE:md.DEFAULT}function yd(e,t,n){var r=this.settings.settings.size.thumb.min;if(n-t<r){var o=(r-(n-t))/2,i=Math.max(0,0-(t-o))-Math.max(0,n+o-e);return{size:e,start:t-o+i,end:n+o+i}}return{size:e,start:t,end:n}}function vd(e){var t=(e.srcEvent||e).srcElement;return this.renderer.element().contains(t)}function bd(){var e=hd.call(this),t=e.size,n=e.start,r=e.end;this.renderer.render(this.elements(this.h,yd.call(this,t,n,r)))}function xd(){var e=this.state,t=this.settings,n=this.style,r=t.settings.style;return e.style[r]||(e.style[r]=function(e){var t=e.id,n=e.style,r="slim"===t?ld:rd;return{container:sd({},fd),before:sd(sd(sd({},fd),r.before),n.before),after:sd(sd(sd({},fd),r.after),n.after),thumb:sd(sd(sd({},fd),r.thumb),n.thumb),startHandle:sd(sd(sd({},fd),dd),r.startHandle),endHandle:sd(sd(sd({},fd),dd),r.endHandle),startHandleBorder:sd(sd(sd({},fd),pd),r.startHandleBorder),endHandleBorder:sd(sd(sd({},fd),pd),r.endHandleBorder)}}({id:t.settings.style,style:n[r]})),e.style[r]}var Md={require:["renderer"],defaultSettings:{settings:{style:"standard",size:{area:{min:30,max:40,ratio:1/8},thumb:{min:4}},orientation:"vertical",rtl:!1,isContinuous:!1,range:function(){return[0,1]},injections:function(){return[]}},style:{standard:{before:{},thumb:{},after:{}},slim:{before:{},thumb:{},after:{}}}},renderer:"dom",on:{render:function(){bd.call(this)},lockState:function(){this.state.locked=!0},unlockState:function(){this.state.locked=!1},hover:function(e){if(!(this.state.locked||this.state.drag.start||this.state.drag.end||!vd.call(this,e)&&this.state.hover.isPristine())){this.state.hover.reset();var t=$f({e:e});t&&(this.state.hover[t]=!0),gd.call(this),bd.call(this)}},leave:function(){this.state.locked||(this.state.hover.reset(),gd.call(this),bd.call(this))},dragStart:function(e){if(!this.state.locked){this.state.drag.reset();var t=$f({e:e});t&&(this.state.drag[t]=!0),gd.call(this)}},dragEnd:function(){this.state.locked||(this.state.drag.reset(),gd.call(this),bd.call(this))}},preferredSize:function(e){var t=e.outer,n=this.settings.settings.size.area,r=n.min,o=n.max,i=n.ratio,a="vertical"===this.settings.settings.orientation?"height":"width";return Math.max(r,Math.min(o,t[a]*i))},created:function(){this.state={style:{},locked:!1,hover:{start:!1,end:!1,reset:function(){this.start=!1,this.end=!1},isPristine:function(){return!this.start&&!this.end}},drag:{start:!1,end:!1,reset:function(){this.start=!1,this.end=!1}}}},render:function(e){this.h=e;var t=hd.call(this),n=t.size,r=t.start,o=t.end;return this.elements(e,yd.call(this,n,r,o))},properties:function(){return"vertical"===this.settings.settings.orientation?{start:"left",end:"right"}:{start:"top",end:"bottom"}},elements:function(e,t){var n=this,r=t.size,o=t.start,i=t.end,a=this.settings.settings,l=a.injections().map((function(t){return t({h:e,rect:n.rect,orientation:a.orientation,minThumbSize:a.size.thumb.min})}));return function(e){var t,n=e.h,r=e.size,o=e.start,i=e.end,a=e.properties,l=e.startHandleActive,u=e.endHandleActive,s=e.style,c=e.continuous,f=e.invert,d=e.injections,p={before:Qf({},a.end,r-o),after:Qf({},a.start,i),startHandle:{left:-3},startHandleBorder:{left:1},endHandle:{right:-3,left:"auto"},endHandleBorder:{left:3}},m=n("div",{style:Yf(Yf({},s.before),f?p.after:p.before),class:"scrollbar--before"}),h=n("div",{style:Yf(Yf({},s.after),f?p.before:p.after),class:"scrollbar--after"}),g=[];if(c){var y=n("div",Qf({style:Yf(Yf({},s.startHandle),f?p.endHandle:p.startHandle),class:"scrollbar--start-handle"},Kf,"start"),l?n("div",{style:Yf(Yf({},s.startHandleBorder),f?p.endHandleBorder:p.startHandleBorder)}):void 0);g.push(y);var v=n("div",Qf({style:Yf(Yf({},s.endHandle),f?p.startHandle:p.endHandle),class:"scrollbar--end-handle"},Kf,"end"),u?n("div",{style:Yf(Yf({},s.endHandleBorder),f?p.startHandleBorder:p.endHandleBorder)}):void 0);g.push(v)}var b=n("div",{style:Yf(Yf({},s.thumb),{},(t={},Qf(t,a.start,o),Qf(t,a.end,r-i),t)),class:"scrollbar--thumb"},g);return n("div",{style:Yf({},s.container)},[m,b,h].concat(Xf(d)))}({h:e,size:r,start:o,end:i,properties:this.properties(),startHandleActive:this.state.hover.start||this.state.drag.start,endHandleActive:this.state.hover.end||this.state.drag.end,style:xd.call(this),continuous:a.isContinuous,invert:"vertical"===a.orientation&&a.rtl,injections:l})}},Od=function(e){var t=e.type,n=e.extremum,r=e.separateStacking,o=e.items,i="max"===t?function(e){return e>n}:function(e){return e<n},a=r?function(e){return i(e.point.value<0?e.start.value:e.end.value)}:function(e){return i(e.end.value)},l=o.filter(a),u=[],s=[];return l.forEach((function(e){var t=e.major.value;u[t]||(u[t]=!0,s.push(e))})),s};var wd={require:["resolver","symbol"],defaultSettings:{settings:{type:"max",extremum:function(){},primaryextremum:function(){},secondaryextremum:function(){},separateStacking:!1,orientation:"vertical",rtl:!1,lineSeries:[],major:{scale:"major-scale"},markerOffset:1,size:10},style:{fill:"#999"}},preferredSize:function(){return this.settings.settings.size},render:function(){var e=this,t=this.data.items;if(!t.length)return[];var n=this.settings.settings,r=n.type,o=n.separateStacking,i=n.orientation,a=n.rtl,l=n.markerOffset,u=n.size,s=n.major,c=n.lineSeries,f=this.settings.settings.extremum(),d=this.settings.settings.primaryextremum(),p=this.settings.settings.secondaryextremum();if(!c.length&&void 0===f)return[];if(c.length&&(void 0===d||void 0===p))return[];var m=function(e){var t=e.type,n=e.extremum,r=e.primaryextremum,o=e.secondaryextremum,i=e.separateStacking,a=e.items,l=e.lineSeries,u=[];return l.length?l.forEach((function(e){var n=e.isPrimary?r:o,i=a.filter((function(t){return t.typeIndex.value===e.typeIndex}));u.push(Od({type:t,extremum:n,items:i}))})):u.push(Od({type:t,extremum:n,separateStacking:i,items:a})),u.reduce((function(e,t){return e.concat(t)}),[])}({type:r,extremum:f,primaryextremum:d,secondaryextremum:p,separateStacking:o,items:t,lineSeries:c});if(!m.length)return[];var h="vertical"===i,g=this.rect[h?"width":"height"],y=this.resolver.resolve({data:{items:m},settings:{major:s},scaled:{major:g}}),v=("max"===r?90:-90)-(h?0:90)-(!h&&a?180:0),b=u/2*l,x=this.settings.style.fill;return y.items.map((function(t){return(0,(n={symbol:e.symbol,size:u,fill:x,startAngle:v,x:h?g*t.major:b,y:h?b:g*t.major,data:t.data}).symbol)({type:"n-polygon",show:!0,size:n.size,fill:n.fill,stroke:"#205891",strokeWidth:0,sides:3,startAngle:n.startAngle,width:.7,x:n.x,y:n.y,data:n.data});var n}))}},Sd={UNCLASSIFIED:"unclassified",EQUAL_EQUAL:"equal-equal",EQUAL_HIGHER:"equal-higher",EQUAL_LOWER:"equal-lower",EQUAL_VOID:"equal-void",HIGHER_EQUAL:"higher-equal",HIGHER_HIGHER_ACUTE:"higher-higher-acute",HIGHER_HIGHER_OBTUSE:"higher-higher-obtuse",HIGHER_LOWER_NEGATIVE:"higher-lower-negative",HIGHER_LOWER_POSITIVE:"higher-lower-positive",HIGHER_VOID:"higher-void",LOWER_EQUAL:"lower-equal",LOWER_HIGHER_NEGATIVE:"lower-higher-negative",LOWER_HIGHER_POSITIVE:"lower-higher-positive",LOWER_LOWER_ACUTE:"lower-lower-acute",LOWER_LOWER_OBTUSE:"lower-lower-obtuse",LOWER_VOID:"lower-void",VOID_EQUAL:"void-equal",VOID_HIGHER:"void-higher",VOID_LOWER:"void-lower",VOID_VOID:"void-void"};function kd(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)}function Cd(e,t,n){var r=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),i=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return Math.acos((o*o+r*r-i*i)/(2*o*r))*(180/Math.PI)}function Ed(e){var t=e.previous,n=e.current,r=e.next,o=t&&t.value,i=n&&n.value,a=r&&r.value;return t||r?t?r?o===i?i===a?Sd.EQUAL_EQUAL:i<a?Sd.EQUAL_HIGHER:Sd.EQUAL_LOWER:i===a?o>i?Sd.HIGHER_EQUAL:Sd.LOWER_EQUAL:o>i?i<a?Cd(t,n,r)>90?Sd.HIGHER_HIGHER_OBTUSE:Sd.HIGHER_HIGHER_ACUTE:kd(t,n)>kd(t,r)?Sd.HIGHER_LOWER_POSITIVE:Sd.HIGHER_LOWER_NEGATIVE:i>a?Cd(t,n,r)>90?Sd.LOWER_LOWER_OBTUSE:Sd.LOWER_LOWER_ACUTE:kd(t,n)>kd(t,r)?Sd.LOWER_HIGHER_POSITIVE:Sd.LOWER_HIGHER_NEGATIVE:o===i?Sd.EQUAL_VOID:o>i?Sd.HIGHER_VOID:Sd.LOWER_VOID:i===a?Sd.VOID_EQUAL:i<a?Sd.VOID_HIGHER:Sd.VOID_LOWER:Sd.VOID_VOID}function Ad(e){return function(e){if(Array.isArray(e))return qd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dd=1;function Td(e){var t=e.bounds,n=e.size,r=t.x,o=t.y,i=t.width,a=t.height;return Math.floor(r+i)>0&&Math.ceil(r)<n.width&&Math.floor(o+a/2)>=0&&Math.ceil(o+a/2)<=n.height}function Nd(e){return function(e){if(Array.isArray(e))return Ld(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ld(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ld(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Id={X:1,Y:0};function jd(e){var t=e.node,n=e.line,r=e.groupIndex,o=e.extract,i=e.style,a=e.measureText,l=e.size,u=e.vertical,s=e.rtl,c=e.meta,f=o.label(t.data);if("string"!=typeof f&&"number"!=typeof f||""===f)return!1;var d=a({fontFamily:i.fontFamily,fontSize:i.fontSize,text:f}),p=t.localBounds,m=t.attrs["stroke-width"],h=o.pointValue(t.data),g={x:p.x+p.width/2,y:p.y+p.height/2,width:d.width+2*Id.X,height:d.height+2*Id.Y},y="".concat(g.x,"-").concat(g.y),v=!u&&!s,b=u?l.height:l.width,x=(u?g.y:g.x)/b,M=(v?1-x:x)<=(b<=200?.25:.1),O={key:y,node:t,line:n,group:r,value:h,labelMeasurements:d,bounds:g,inside:Td({bounds:p,size:l}),border:m?m/2:0,classification:Sd.UNCLASSIFIED,setClassification:function(e){O.classification=e},preferences:[],setPreferences:function(e){var t;(t=O.preferences).push.apply(t,Nd(e))},placement:void 0,setPlacement:function(e){O.placement=e},duplicate:!1,setDuplicate:function(){O.duplicate=!0},extreme:c.getExtreme(y),minority:c.getMinority(y),elite:M};return O}function Pd(e){var t=e.nodes,n=e.extract,r=e.style,o=e.measureText,i=e.size,a=e.vertical,l=e.rtl,u=function(e){var t=e.nodes,n=e.size,r=e.vertical,o={top:[],right:[],bottom:[],left:[]},i=r?n.height:n.width,a=r?"y":"x",l=Ad([.2,.4,.6,.8,1].map((function(e){return{threshold:e*i,count:0,distribution:0}}))),u={},s=t.map((function(e){for(var n=e.localBounds,r={x:n.x+n.width/2,y:n.y+n.height/2},o="".concat(r.x,"-").concat(r.y),i=0;i<l.length;i++){var s=l[i];if(r[a]<s.threshold||i===l.length-1){s.count++,s.distribution=s.count/t.length,u[o]=i;break}}return{key:o,center:r}})),c=s.reduce((function(e,t){return(!e.top||t.center.y<e.top.center.y)&&(e.top=t),(!e.right||t.center.x>e.right.center.x)&&(e.right=t),(!e.bottom||t.center.y>e.bottom.center.y)&&(e.bottom=t),(!e.left||t.center.x<e.left.center.x)&&(e.left=t),e}),{});return o.top=s.filter((function(e){return e.center.y===c.top.center.y})).map((function(e){return e.key})),o.right=s.filter((function(e){return e.center.x===c.right.center.x})).map((function(e){return e.key})),o.bottom=s.filter((function(e){return e.center.y===c.bottom.center.y})).map((function(e){return e.key})),o.left=s.filter((function(e){return e.center.x===c.left.center.x})).map((function(e){return e.key})),{getExtrema:function(e){return{top:-1!==o.top.indexOf(e),right:-1!==o.right.indexOf(e),bottom:-1!==o.bottom.indexOf(e),left:-1!==o.left.indexOf(e)}},getExtreme:function(e){return[o.top,o.right,o.bottom,o.left].some((function(t){return-1!==t.indexOf(e)}))},getMinority:function(e){return l[u[e]].distribution<Dd}}}({nodes:t,size:i,vertical:a});return function(e){var t=e.nodes,n=e.by,r=e.lineIndex,o=t.reduce((function(e,t,o){var i=n(t.data);return e[i]||(e[i]={items:[],index:o}),e[i].items.push({node:t,line:t.data[r].value}),e}),{});return Object.keys(o).map((function(e){return o[e]})).sort((function(e,t){return e.index-t.index})).map((function(e){return e.items}))}({nodes:t,by:n.majorValue,lineIndex:n.lineIndex}).map((function(e,t){return e.map((function(e){return{line:e.line,item:jd({node:e.node,line:e.line,groupIndex:t,extract:n,style:r,measureText:o,size:i,vertical:a,rtl:l,meta:u})}})).filter((function(e){return e.item})).reduce((function(e,t){return e[t.line]=t.item,e}),{})})).filter((function(e){return Object.keys(e).length}))}var Rd,_d={TOP:"top",TOP_RIGHT:"top-right",RIGHT:"right",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left",LEFT:"left",TOP_LEFT:"top-left"};function zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fd=(zd(Rd={},Sd.EQUAL_EQUAL,[_d.TOP,_d.BOTTOM]),zd(Rd,Sd.EQUAL_HIGHER,[_d.BOTTOM,_d.BOTTOM_RIGHT]),zd(Rd,Sd.EQUAL_LOWER,[_d.TOP,_d.TOP_RIGHT]),zd(Rd,Sd.EQUAL_VOID,[_d.TOP,_d.BOTTOM]),zd(Rd,Sd.HIGHER_EQUAL,[_d.LEFT,_d.BOTTOM_LEFT,_d.TOP,_d.TOP_RIGHT]),zd(Rd,Sd.HIGHER_HIGHER_ACUTE,[_d.BOTTOM,_d.BOTTOM_LEFT,_d.LEFT,_d.TOP_RIGHT]),zd(Rd,Sd.HIGHER_HIGHER_OBTUSE,[_d.BOTTOM,_d.TOP]),zd(Rd,Sd.HIGHER_LOWER_NEGATIVE,[_d.TOP,_d.TOP_RIGHT,_d.RIGHT]),zd(Rd,Sd.HIGHER_LOWER_POSITIVE,[_d.BOTTOM,_d.BOTTOM_LEFT,_d.LEFT]),zd(Rd,Sd.HIGHER_VOID,[_d.TOP]),zd(Rd,Sd.LOWER_EQUAL,[_d.TOP]),zd(Rd,Sd.LOWER_HIGHER_NEGATIVE,[_d.TOP,_d.TOP_LEFT]),zd(Rd,Sd.LOWER_HIGHER_POSITIVE,[_d.BOTTOM_RIGHT]),zd(Rd,Sd.LOWER_LOWER_ACUTE,[_d.TOP,_d.TOP_LEFT,_d.LEFT,_d.TOP_RIGHT,_d.RIGHT]),zd(Rd,Sd.LOWER_LOWER_OBTUSE,[_d.TOP,_d.BOTTOM]),zd(Rd,Sd.LOWER_VOID,[_d.TOP]),zd(Rd,Sd.VOID_EQUAL,[_d.TOP]),zd(Rd,Sd.VOID_HIGHER,[_d.TOP,_d.BOTTOM]),zd(Rd,Sd.VOID_LOWER,[_d.TOP,_d.BOTTOM,_d.LEFT]),zd(Rd,Sd.VOID_VOID,[_d.TOP]),Rd);function Ud(e){return function(e){if(Array.isArray(e))return Hd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bd(e){var t=Pd({nodes:e.nodes,extract:e.extract,style:e.style,measureText:e.measureText,size:e.size,vertical:e.vertical,rtl:e.rtl}),n=Ud(t.reduce((function(e,t){return e.push.apply(e,Ud(Object.keys(t).map((function(e){return t[e]})))),e}),[])),r=n.reduce((function(e,t){return e[t.line]||(e[t.line]=0),e[t.line]++,e}),{}),o=Math.max.apply(Math,Ud(Object.keys(r).map((function(e){return r[e]})))),i=t.map((function(e){return Object.keys(e).map((function(t){return e[t]}))})),a={getItems:function(){return n},getMaxLineDensity:function(){return o},getLocalLines:function(e){var t=e.index,n=e.reach;return function(e){for(var t=e.groups,n=e.index,r=e.reach,o={},i=n-r;i<=n+r;i++){var a=t[i];if(a)for(var l=0;l<a.length;l++){var u=a[l],s=u.line;o[s]||(o[s]=[]),o[s].push(u.bounds)}}for(var c=Object.keys(o).map((function(e){return o[e]})),f=[],d=0;d<c.length;d++)for(var p=0;p<c[d].length-1;p++){var m=c[d][p],h=c[d][p+1],g={x1:m.x,y1:m.y,x2:h.x,y2:h.y};f.push(g)}return{lines:f}}({groups:i,index:t,reach:n}).lines}};return function(e){for(var t=e.groups,n=function(e){for(var n=Object.keys(t[e]).map((function(n){return t[e][n]})),r=0;r<n.length;r++){var o=n[r],i=Ed({previous:t[e-1]&&t[e-1][o.line],current:o,next:t[e+1]&&t[e+1][o.line]});o.setClassification(i)}},r=0;r<t.length;r++)n(r)}({groups:t}),a.getItems().forEach((function(e){return e.setPreferences(Fd[e.classification])})),a}function Vd(e){return function(e){if(Array.isArray(e))return Wd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gd(e){var t=e.line1,n=e.line2,r=(n.y2-n.y1)*(t.x2-t.x1)-(n.x2-n.x1)*(t.y2-t.y1);if(0===r)return!1;var o=((n.x2-n.x1)*(t.y1-n.y1)-(n.y2-n.y1)*(t.x1-n.x1))/r,i=((t.x2-t.x1)*(t.y1-n.y1)-(t.y2-t.y1)*(t.x1-n.x1))/r;return o>=0&&o<=1&&i>=0&&i<=1}function Kd(e){var t=e.candidate,n=e.lines,r=e.rects;return!!n.some((function(e){return function(e){var t=e.line,n=e.rect,r={x:n.x,y:n.y},o={x:n.x+n.width,y:n.y},i={x:n.x+n.width,y:n.y+n.height},a={x:n.x,y:n.y+n.height},l={x1:o.x,y1:o.y,x2:i.x,y2:i.y},u={x1:i.x,y1:i.y,x2:a.x,y2:a.y},s={x1:a.x,y1:a.y,x2:r.x,y2:r.y};return Gd({line1:t,line2:{x1:r.x,y1:r.y,x2:o.x,y2:o.y}})||Gd({line1:t,line2:l})||Gd({line1:t,line2:u})||Gd({line1:t,line2:s})}({line:e,rect:t})}))||r.some((function(e){return function(e){var t=e.rect1,n=e.rect2;return!(n.x>t.x+t.width||n.x+n.width<t.x||n.y>t.y+t.height||n.y+n.height<t.y)}({rect1:e,rect2:t})}))}function $d(e){var t=e.size,n=e.lines,r=e.placements;return function(e){var o=e.item,i=e.placement;return!!function(e){var t=e.item,n=e.placement,r=e.size;return n.x>=0-r.edgeBleed.left&&n.x<=r.width-t.bounds.width+r.edgeBleed.right&&n.y>=0-r.edgeBleed.top&&n.y<=r.height-t.bounds.height}({item:o,placement:i,size:t})&&!Kd({candidate:{x:i.x,y:i.y,width:o.bounds.width,height:o.bounds.height},lines:n,rects:r})}}function Xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zd=function(e){var t=e.item;return{x:t.bounds.x-t.bounds.width/2,y:t.bounds.y-t.bounds.height-t.node.localBounds.height/2-t.border}},Jd=function(e){var t=e.item;return{x:t.bounds.x,y:t.bounds.y-t.bounds.height-t.node.localBounds.height/2-t.border}},Yd=function(e){var t=e.item;return{x:t.bounds.x+t.node.localBounds.width/2+t.border,y:t.bounds.y-t.bounds.height/2}},Qd=function(e){var t=e.item;return{x:t.bounds.x,y:t.bounds.y+t.node.localBounds.height/2+t.border}},ep=function(e){var t=e.item;return{x:t.bounds.x-t.bounds.width/2,y:t.bounds.y+t.node.localBounds.height/2+t.border}},tp=function(e){var t=e.item;return{x:t.bounds.x-t.bounds.width,y:t.bounds.y+t.node.localBounds.height/2+t.border}},np=function(e){var t=e.item;return{x:t.bounds.x-t.bounds.width-t.node.localBounds.width/2-t.border,y:t.bounds.y-t.bounds.height/2}},rp=function(e){var t=e.item;return{x:t.bounds.x-t.bounds.width,y:t.bounds.y-t.bounds.height-t.node.localBounds.height/2-t.border}};function op(e){var t=e.cx,n=e.cy,r=e.r,o=e.degrees*(Math.PI/180);return{x:Math.round(t+r*Math.sin(o)),y:Math.round(n+r*-Math.cos(o))}}function ip(e){var t=e.coordinates,n=e.degrees,r=e.item,o={x:t.x,y:t.y};return n<=90?o.y-=r.bounds.height:n>180&&n<=270?o.x-=r.bounds.width:n>270&&(o.y-=r.bounds.height,o.x-=r.bounds.width),o}var ap=15;function lp(e){for(var t=e.item,n=e.validator,r=function(e){return[e.item.node.localBounds.height/2*Math.sqrt(2)]}({item:t}),o=t.bounds.x,i=t.bounds.y,a=0;a<r.length;a++){for(var l=r[a],u=40;u<=180;u+=ap){var s=ip({coordinates:op({cx:o,cy:i,r:l,degrees:u}),degrees:u,item:t});if(n({item:t,placement:s}))return s}for(var c=320;c>180;c-=ap){var f=ip({coordinates:op({cx:o,cy:i,r:l,degrees:c}),degrees:c,item:t});if(n({item:t,placement:f}))return f}}return!1}function up(e){return function(e){if(Array.isArray(e))return sp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cp=void 0;function fp(e){for(var t,n=e.item,r=e.validator,o=[].concat(up(n.preferences),up(Object.keys(_d).map((function(e){return _d[e]})).filter((function(e){return-1===n.preferences.indexOf(e)})))),i=(Xd(t={},_d.TOP,Zd),Xd(t,_d.TOP_RIGHT,Jd),Xd(t,_d.RIGHT,Yd),Xd(t,_d.BOTTOM_RIGHT,Qd),Xd(t,_d.BOTTOM,ep),Xd(t,_d.BOTTOM_LEFT,tp),Xd(t,_d.LEFT,np),Xd(t,_d.TOP_LEFT,rp),t),a=0;a<o.length;a++){var l=i[o[a]]({item:n});if(r({item:n,placement:l}))return l}return(n.extreme||n.elite)&&lp({item:n,validator:r})||cp}function dp(e){return function(e){if(Array.isArray(e))return pp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mp(e){var t=e.model,n=e.itemSize,r=e.connect,o=e.size,i={},a=function(e){return e.model.getItems().length>1e3}({model:t}),l=function(e){var t=e.model,n=e.itemSize,r=e.connect,o=e.size,i=t.getItems(),a=Math.max.apply(Math,Vd(i.map((function(e){return e.labelMeasurements.width})))),l=n||o.width/i.length,u=Math.ceil(a/l)+1;return r?Math.max(u,t.getMaxLineDensity()):u}({model:t,itemSize:n,connect:r,size:o}),u=t.getItems(),s=dp(u.map((function(e){return{x:e.node.localBounds.x-e.border+1,y:e.node.localBounds.y-e.border+1,height:e.node.localBounds.height+2*e.border-2,width:e.node.localBounds.width+2*e.border-2}})));u.forEach((function(e){var n=e.node.data;if(!(!e.inside||n.null&&n.null.value||n.interpolated&&n.interpolated.value)&&(!a||e.minority)){var r=e.key;if(i[r])e.setDuplicate();else{i[r]=!0;var u=fp({item:e,validator:$d({size:o,lines:t.getLocalLines({index:e.group,reach:l}),placements:s})});u&&(u.height=e.bounds.height,u.width=e.bounds.width,s.push(u),e.setPlacement(u))}}}))}var hp={require:["chart","renderer"],defaultSettings:{settings:{orientation:"vertical",rtl:!1,itemSize:function(){},connect:!1,label:function(){},pointValue:function(){},majorValue:function(){},target:{labelSpace:"label-space-component",point:"point-component",allPoints:[]},lineIndex:"line"},style:{fontFamily:"QlikView Sans, sans-serif",fontSize:"12px",fill:"#333"}},preferredSize:function(){var e={edgeBleed:{top:0,right:0,left:0}},t=this.chart.component(this.settings.settings.target.labelSpace);if(!t||!t.rect)return e;var n=this.settings.settings,r=n.orientation,o=n.rtl,i="vertical"===r;if(t.show(o)){var a=t.settings.settings.size;e.edgeBleed.top=i?a:0,e.edgeBleed[o?"left":"right"]=i?0:a}return e},render:function(){var e=this;if(!this.chart.component(this.settings.settings.target.point))return[];var t=this.settings.settings.target.allPoints.length?function(t){return e.settings.settings.target.allPoints.includes(t.key)}:function(t){return t.key===e.settings.settings.target.point},n=this.chart.findShapes("circle").filter(t);if(!n.length)return[];var r=this.settings.settings,o={label:r.label,pointValue:r.pointValue,majorValue:r.majorValue,lineIndex:r.lineIndex},i=this.rect,a={height:i.height,width:i.width,edgeBleed:i.edgeBleed},l=this.style,u=Bd({nodes:n,extract:o,style:l,measureText:this.renderer.measureText,size:a,vertical:"vertical"===r.orientation,rtl:r.rtl});return{model:u}.model.getItems().sort((function(e,t){return e.extreme===t.extreme?0:e.extreme&&!t.extreme?-1:1})),mp({model:u,itemSize:r.itemSize(),connect:r.connect,size:a}),u.getItems().filter((function(t){return t.placement&&t.node.key===e.settings.settings.target.point})).map((function(e){return{type:"text",x:e.placement.x+e.placement.width/2,y:e.placement.y+e.labelMeasurements.height/2,fontSize:l.fontSize,fontFamily:l.fontFamily,fill:l.fill,text:o.label(e.node.data),baseline:"central",anchor:"middle"}}))}},gp={defaultSettings:{settings:{size:10}},preferredSize:function(){return this.settings.settings.size},render:function(){return[]}},yp={DATA:{MAIN:"qHyperCube",LEGEND:"legend-data",REDUCED:"reduced-data"},SCALE:{MAIN:{MINOR:"main-minor",MAJOR:"main-major",MAJOR_INNER:"main-major-inner",COLOR:"color"},REDUCED:{MINOR:"reduced-minor",MAJOR:"reduced-major",COLOR:"reduced-color"}},COMPONENT:{LINE:"line-component",POINT:"point-component",GHOST_POINT:"ghost-point-component",MAJOR_AXIS:"major-axis-component",MAJOR_AXIS_CONTINUOUS:"major-axis-continuous-component",MAJOR_AXIS_TIME_INNER:"major-axis-time-inner-component",MAJOR_AXIS_TIME_OUTER:"major-axis-time-outer-component",MINOR_AXIS:"minor-axis-component",MAJOR_AXIS_OVERLAY_CONTINUOUS:"major-axis-overlay-continuous-component",MAJOR_AXIS_OVERLAY_TIME_INNER:"major-axis-overlay-time-inner-component",MAJOR_AXIS_OVERLAY_TIME_OUTER:"major-axis-overlay-time-outer-component",REDUCED_LINE:"reduced-line-component",POINT_TOOLTIP:"tooltip",LABEL_SPACE:"label-space-component",LEGEND_TOOLTIP:"legend-tooltip",MAJOR_AXIS_TITLE:"major-axis-title",MINOR_AXIS_TITLE:"minor-axis-title",GRID_LINE:"grid-line",ZERO_LINE:"zero-line",REFERENCE_LINE:"reference-line",MEASURE_REFERENCE_LINE_LABEL:"mes-reference-line-label",DIMENSION_REFERENCE_LINE_LABEL:"dim-reference-line-label",LEGEND:"legend-color",LEGEND_CATEGORICAL:"legend-color-cat",OUT_OF_MAX_BOUNDS:"out-of-max-bounds-marker",OUT_OF_MIN_BOUNDS:"out-of-min-bounds-marker",TREND_LINES_TOOLTIP:"trend-lines-tooltip",TREND_LINES_TOOLTIP_OVERLAY:"trend-lines-tooltip-overlay"},COLLECTION:{MAIN:"main-collection",REDUCED:"reduced-collection"},FORMATTER:{MINOR:"minor",COLOR:"color"}};function vp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e){var t={paths:e.chart.findShapes("path").filter((function(e){return e.key===yp.COMPONENT.LINE})),linePaths:[],areaPaths:[],lineMap:{},areaMap:{}};return t.paths.reduce((function(e,n){return(Object.hasOwnProperty.call(n.attrs,"stroke-linejoin")?t.linePaths:t.areaPaths).push(n),e}),t),{getLine:function(e){if(!t.lineMap[e]){var n=vp(t.linePaths.filter((function(t){return t.data&&t.data.line.value===e})),1)[0];t.lineMap[e]=n}return t.lineMap[e]},getArea:function(e){if(!t.areaMap[e]){var n=vp(t.areaPaths.filter((function(t){return t.data&&t.data.line.value===e})),1)[0];t.areaMap[e]=n}return t.areaMap[e]}}}function Mp(e){var t=e.brush.brush.values();return function(e){var n=e.value;return-1!==t.indexOf(n)}}function Op(e){var t=e.brush,n=e.chart,r=t.brush.ranges();if(!r.length)return!1;var o=n&&n.scale(yp.SCALE.MAIN.MAJOR),i=o&&o.max&&o.max(),a="qHyperCube/qDimensionInfo/0:numeric"===t.id?function(e,t){return t===i?e<=t:e<t}:function(e,t){return e<=t};return function(e){var t=e.value;return r.some((function(e){return e.min<=t&&a(t,e.max)}))}}function wp(e){var t=e.brush,n=e.legendRange,r=e.minorRange,o=e.legendTap,i=e.items,a=e.selectionValues,l=e.colorByData,u=e.chart,s=t.brushes();if(!s.length)return[];var c=s[0],f=[n?function(e){return e.color.value}:a[c.id]].filter(Boolean);if(l&&r&&f.push((function(e){return e.color.value})),!l&&o&&(f=[function(e){return e.color.value}]),!f.length)return[];var d=function(e){var t=e.brush,n=e.chart;return("value"===t.type?Mp:Op)({brush:t,chart:n})}({brush:c,chart:u});return d?i.reduce((function(e,t,n){return f.some((function(e){return d({value:e(t)})}))&&e.push({item:t,index:n}),e}),[]):[]}function Sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cp(e){return e.d.replace("Z","").split(/(?=[LMC])/).map((function(e){var t=e.substring(0,1),n={letter:t,x:0,y:0,raw:e},r=e.substring(1).split(",");if("M"===t||"L"===t){var o=Sp(r,1);n.x=o[0];var i=Sp(r,2);n.y=i[1]}else if("C"===t){var a=Sp(r,5);n.x=a[4];var l=Sp(r,6);n.y=l[5]}return n}))}function Ep(e){return function(e){if(Array.isArray(e))return Ap(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qp(e){return function(e){if(Array.isArray(e))return Dp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tp(e){var t=e.chart,n=e.selected,r=e.connection,o=e.gradient,i=e.fallback,a=e.isArea,l=t.scale(yp.SCALE.MAIN.COLOR),u=n.filter((function(e){return-1!==r.indexOf(e.index)})).map((function(e){return e.item.end.value})),s=Math.min.apply(Math,qp(u)),c=Math.max.apply(Math,qp(u)),f=a?Math.min(0,s):s,d=a?Math.max(0,c):c,p=d-f,m=0===p?1:p,h=l.domain().map((function(e){return{color:l(Math.min(d,Math.max(f,e)))||i,offset:Math.min(1,Math.max(0,(e-f)/m))}})),g=h.map((function(e){return e.offset})),y=g.lastIndexOf(0),v=g.indexOf(1),b=h.slice(-1===y?0:y,-1===v?h.length:v+1);return{type:"gradient",x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2,stops:b}}function Np(e){return function(e){if(Array.isArray(e))return Lp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ip(e){for(var t=e.chart,n=e.selected,r=e.connection,o=e.gradient,i=e.fallback,a=e.isArea,l=t.scale(yp.SCALE.MAIN.COLOR),u=n.filter((function(e){return-1!==r.indexOf(e.index)})).map((function(e){return e.item.end.value})),s=Math.min.apply(Math,Np(u)),c=Math.max.apply(Math,Np(u)),f=a?Math.min(0,s):s,d=(a?Math.max(0,c):c)-f,p=0===d?1:d,m=l.domain(),h=[],g=0;g<m.length-1;g++){var y=m[g],v=l(y)||i;h.push({color:v,offset:Math.min(1,Math.max(0,(y-f)/p))});var b=m[g+1];h.push({color:v,offset:Math.min(1,Math.max(0,(b-f)/p))})}var x=h.map((function(e){return e.offset})),M=x.lastIndexOf(0),O=x.indexOf(1),w=h.slice(-1===M?0:M,-1===O?h.length:O+1);return{type:"gradient",x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2,stops:w}}function jp(e){var t=e.property,n=e.chart,r=e.connection,o=e.attrs,i=e.colorSettings,a=e.colorByData,l=e.isColorCode,u=e.selected,s=e.hasMultipleMeasures,c=e.orientation,f=e.rtl,d=e.isArea,p=o[t];if("gradient"!==p.type)return p;var m=i.type,h=i.nil;return s||!a?function(e){for(var t=e.chart,n=e.selected,r=e.connection,o=e.gradient,i=e.fallback,a=e.orientation,l=e.isColorCode,u=e.rtl,s=t.scale(yp.SCALE.MAIN.MAJOR),c=t.scale(yp.SCALE.MAIN.COLOR),f=n.filter((function(e){return-1!==r.indexOf(e.index)})),d=("vertical"===a&&u?f.reverse():f).map((function(e){return e.item})),p=d.map((function(e){return s(e.major.value)})),m=Math.min.apply(Math,Ep(p)),h=Math.max.apply(Math,Ep(p))-m,g=0===h?1:h,y=p.map((function(e,t){return 0===t?0:t===p.length-1?1:(e-m)/g})),v=[],b=0;b<d.length;b++){var x=d[b],M=l?x.color.value:c(x.color.value)||i,O=y[b];v.push({color:M,offset:0===b?0:Math.max(0,v[v.length-1].offset)}),v.push({color:M,offset:b===d.length-1?1:Math.max(0,parseFloat((O+(y[b+1]-O)/2).toFixed(5)))})}return{type:"gradient",x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2,stops:v}}({chart:n,selected:u,connection:r,gradient:p,fallback:h,orientation:c,isColorCode:l,rtl:f}):("continuous"===m?Tp:Ip)({chart:n,selected:u,connection:r,gradient:p,fallback:h,isArea:d})}function Pp(e){var t=e.chart,n=e.pathModel,r=e.colorSettings,o=e.colorByData,i=e.isColorCode,a=e.hasMultipleMeasures,l=e.orientation,u=e.lineKey,s=e.selected,c=e.connections,f=e.rtl,d=e.count,p=n.getLine(u).attrs,m=Cp({d:p.d}),h=c.map((function(e){return function(e){var t=e.chart,n=e.colorSettings,r=e.colorByData,o=e.isColorCode,i=e.hasMultipleMeasures,a=e.orientation,l=e.selected,u=e.connection,s=e.commands,c=e.attrs,f=e.rtl,d=e.count;return{path:u.map((function(e,t){var n=s[e];return 0!==t||"M"===n.letter?n.raw:"M".concat(n.x,",").concat(n.y)})).join(""),attrs:c,stroke:jp({property:"stroke",chart:t,connection:u,attrs:c,selected:l,colorSettings:n,colorByData:r,isColorCode:o,hasMultipleMeasures:i,orientation:a,rtl:f,count:d,isArea:!1})}}({chart:t,colorSettings:r,colorByData:o,isColorCode:i,hasMultipleMeasures:a,orientation:l,selected:s,connection:e,commands:m,attrs:p,rtl:f,count:d})}));return{commands:m,lines:h}}function Rp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zp(e){var t=e.chart,n=e.pathModel,r=e.colorSettings,o=e.colorByData,i=e.isColorCode,a=e.hasMultipleMeasures,l=e.orientation,u=e.isStacked,s=e.lineKey,c=e.selected,f=e.connections,d=e.commands,p=e.rtl,m=e.count,h=n.getArea(s);if(!h)return[];var g,y=h.attrs,v="vertical"===l,b=t.component(yp.COMPONENT.LINE).rect.computedInner[v?"height":"width"]*t.scale(yp.SCALE.MAIN.MINOR)(0),x=[];return f.forEach((function(e){e.forEach((function(t,n){var r=d[t],o={x:r.x,y:r.y,raw:r.raw};if(0===n||"M"===r.letter||e[n-1]!==e[n]-1)x.push({lines:[o],first:{x:o.x,y:o.y},connection:[e[n]]});else{var i=x[x.length-1];i.lines.push(o),i.connection.push(e[n])}}))})),u&&(g=Cp({d:y.d}).reduce((function(e,t,n){return 0===n||"M"===t.letter?e.push([t]):e[e.length-1].push(t),e}),[])),x.map((function(e){var n=e.lines,s=n.map((function(e,t){return 0===t?"M".concat(e.x,",").concat(e.y):e.raw}));if(u){var f=e.connection[0],d=g.reduce((function(e,t){return e.found||(e.counted+=t.length/2,f<e.counted&&(e.areaCommand=t,e.found=!0)),e}),{counted:0,found:!1}),h=g.indexOf(d.areaCommand),x=g.reduce((function(e,t,n){return n<h&&(e+=t.length/2),e}),0),M=d.areaCommand,O=M.slice(M.length/2,M.length).reverse();e.connection.map((function(e){return O[e-x].raw})).reverse().forEach((function(e,t){if(0===t&&"C"===e.charAt(0)){var n={x:0,y:0},r=Rp(e.substring(1).split(","),6);n.x=r[4],n.y=r[5],s.push("L".concat(n.x,",").concat(n.y))}else s.push(e)}))}else{var w=n[n.length-1],S=v?w.x:b,k=v?b:w.y;s.push("L".concat(S,",").concat(k));var C=v?e.first.x:b,E=v?b:e.first.y;s.push("L".concat(C,",").concat(E))}return s.push("Z"),{path:"M".concat(s.join("").substring(1)),attrs:y,fill:jp({property:"fill",chart:t,connection:e.connection,attrs:y,selected:c,colorSettings:r,colorByData:o,isColorCode:i,hasMultipleMeasures:a,orientation:l,rtl:p,count:m,isArea:!0})}}))}function Fp(e){return function(e){if(Array.isArray(e))return Up(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Up(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hp(e){var t=e.chart,n=e.pathModel,r=e.brush,o=e.legendRange,i=e.minorRange,a=e.legendTap,l=e.items,u=e.selectionValues,s=e.colorSettings,c=e.colorByData,f=e.isColorCode,d=e.hasMultipleMeasures,p=e.isStacked,m=e.orientation,h=e.rtl,g=function(e){var t=e.items.reduce((function(e,t,n){var r=t.line.value;return e[r]||(e[r]={key:r,items:[],index:n}),e[r].items.push(t),e}),{});return Object.keys(t).map((function(e){return t[e]})).sort((function(e,t){return e.index-t.index})).map((function(e){return{lineKey:e.key,items:e.items}}))}({items:l.filter((function(e){return"NaN"!==e.end.value&&!Number.isNaN(e.end.value)}))}).reduce((function(e,l){var g,y,v=wp({brush:r,legendRange:o,minorRange:i,legendTap:a,items:l.items,selectionValues:u,colorByData:c,chart:t});if(v.length<2)return e;var b=function(e){return e.selected.reduce((function(e,t){var n=t.index;if(e.length){var r=e[e.length-1];n===r[r.length-1]+1?r.push(n):e.push([n])}else e.push([n]);return e}),[]).filter((function(e){return e.length>1}))}({selected:v});if(!b.length)return e;var x=function(e){var t=e.chart,n=e.pathModel,r=e.colorSettings,o=e.colorByData,i=e.isColorCode,a=e.hasMultipleMeasures,l=e.orientation,u=e.isStacked,s=e.lineKey,c=e.selected,f=e.connections,d=e.rtl,p=e.count,m=Pp({chart:t,pathModel:n,colorSettings:r,colorByData:o,isColorCode:i,hasMultipleMeasures:a,orientation:l,lineKey:s,selected:c,connections:f,rtl:d,count:p}),h=m.commands;return{lines:m.lines,areas:zp({chart:t,pathModel:n,colorSettings:r,colorByData:o,isColorCode:i,hasMultipleMeasures:a,orientation:l,isStacked:u,lineKey:s,selected:c,connections:f,commands:h,rtl:d,count:p})}}({chart:t,pathModel:n,colorSettings:s,colorByData:c,isColorCode:f,hasMultipleMeasures:d,orientation:m,isStacked:p,lineKey:l.lineKey,selected:v,connections:b,rtl:h,count:l.items.length}),M=x.lines,O=x.areas;return(g=e.lines).push.apply(g,Fp(M)),(y=e.areas).push.apply(y,Fp(O)),e}),{lines:[],areas:[]}),y=g.lines,v=g.areas,b=[];return y.forEach((function(e){return b.push({type:"path",d:e.path,stroke:e.stroke,strokeLinejoin:e.attrs["stroke-linejoin"],strokeWidth:e.attrs["stroke-width"],strokeDasharray:e.attrs["stroke-dasharray"]})})),v.forEach((function(e){return b.push({type:"path",d:e.path,fill:e.fill,opacity:e.attrs.opacity})})),b}var Bp={require:["chart","renderer"],defaultSettings:{settings:{registerOnStart:void 0,selectionValues:{},colorSettings:void 0,colorByData:!1,isColorCode:!1,hasMultipleMeasures:!1,isStacked:!1,orientation:"vertical",rtl:!1}},addListener:function(e,t){this.state.brush.addListener(e,t),this.state.listeners.push({type:e,fn:t})},removeListeners:function(){var e=this;this.state.listeners.forEach((function(t){return e.state.brush.removeListener(t.type,t.fn)})),this.state.listeners.length=0},created:function(){var e=this;this.state={pathModel:xp({chart:this.chart}),brush:this.chart.brush("selection"),listeners:[],legendRange:!1,minorRange:!1,legendTap:!1,unregisterOnStart:this.settings.settings.registerOnStart({listener:function(t,n){e.state.legendRange="legendRange"===t,e.state.minorRange="minorRange"===t,e.state.legendTap="tap"===t&&n[0].key===yp.COMPONENT.LEGEND_CATEGORICAL}})}},mounted:function(){var e=this;this.addListener("update",(function(){var t=Hp({chart:e.chart,pathModel:e.state.pathModel,brush:e.state.brush,legendRange:e.state.legendRange,minorRange:e.state.minorRange,legendTap:e.state.legendTap,items:e.data.items,selectionValues:e.settings.settings.selectionValues,colorSettings:e.settings.settings.colorSettings,colorByData:e.settings.settings.colorByData,isColorCode:e.settings.settings.isColorCode,hasMultipleMeasures:e.settings.settings.hasMultipleMeasures,isStacked:e.settings.settings.isStacked,orientation:e.settings.settings.orientation,rtl:e.settings.settings.rtl});e.renderer.render(t)})),this.addListener("end",(function(){e.renderer.render([])}))},render:function(){return this.state.pathModel=xp({chart:this.chart}),Hp({chart:this.chart,pathModel:this.state.pathModel,brush:this.state.brush,legendRange:this.state.legendRange,minorRange:this.state.minorRange,legendTap:this.state.legendTap,items:this.data.items,selectionValues:this.settings.settings.selectionValues,colorSettings:this.settings.settings.colorSettings,colorByData:this.settings.settings.colorByData,isColorCode:this.settings.settings.isColorCode,hasMultipleMeasures:this.settings.settings.hasMultipleMeasures,isStacked:this.settings.settings.isStacked,orientation:this.settings.settings.orientation,rtl:this.settings.settings.rtl})},destroyed:function(){this.state.unregisterOnStart&&this.state.unregisterOnStart(),this.removeListeners()}};function Vp(e){var t=e.x,n=e.y,r=e.size,o=e.stroke,i=e.strokeWidth,a=e.fill;return{type:"container",children:[{type:"line",stroke:o||a,strokeWidth:i,x1:t-r/2,y1:n,x2:t+r/2,y2:n},{type:"circle",strokeWidth:0,fill:a,cx:t,cy:n,r:.25*r}]}}function Wp(e){return Math.log(e)}function Gp(e){return Math.exp(e)}function Kp(e){return-Math.log(-e)}function $p(e){return-Math.exp(-e)}function Xp(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Zp(e){return function(t){return-e(-t)}}function Jp(e){var t,n,r=e(Wp,Gp),o=r.domain,i=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(i),n=function(e){return 10===e?Xp:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(i),o()[0]<0?(t=Zp(t),n=Zp(n),e(Kp,$p)):e(Wp,Gp),r}return r.base=function(e){return arguments.length?(i=+e,a()):i},r.domain=function(e){return arguments.length?(o(e),a()):o()},r.ticks=function(e){var r,a=o(),l=a[0],u=a[a.length-1];(r=u<l)&&(d=l,l=u,u=d);var s,c,f,d=t(l),p=t(u),m=null==e?10:+e,h=[];if(!(i%1)&&p-d<m){if(d=Math.round(d)-1,p=Math.round(p)+1,l>0){for(;d<p;++d)for(c=1,s=n(d);c<i;++c)if(!((f=s*c)<l)){if(f>u)break;h.push(f)}}else for(;d<p;++d)for(c=i-1,s=n(d);c>=1;--c)if(!((f=s*c)<l)){if(f>u)break;h.push(f)}}else h=et(d,p,Math.min(p-d,m)).map(n);return r?h.reverse():h},r.tickFormat=function(e,o){if(null==o&&(o=10===i?".0e":","),"function"!=typeof o&&(o=yn(o)),e===1/0)return o;null==e&&(e=10);var a=Math.max(1,i*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*i<i-.5&&(r*=i),r<=a?o(e):""}},r.nice=function(){return o(Ro(o(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function Yp(e){return(Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(e){var t=e.settings,n=void 0===t?{}:t,r=e.defaultSettings,o=void 0===r?{}:r,i={};return Object.keys(o).forEach((function(e){var t=Yp(n[e]);i[e]="function"===t?n[e]():"undefined"===t?o[e]:n[e]})),i}var em={min:NaN,max:NaN},tm={values:void 0};function nm(e,t){e.instance||(e.instance=t.copy(),e.instance.domain([t.start(),t.end()]),e.instance.clamp(!0),e.instance.range(e.invert?[1,0]:[0,1]))}function rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function e(){var t=Jp(sn()).domain([1,10]);return t.copy=function(){return un(t,e()).base(t.base())},fn.apply(t,arguments),t}(),o={instance:null,invert:!1},i=Qp({settings:e,defaultSettings:em}),a=i.min,l=i.max,u=Qp({settings:e.ticks,defaultSettings:tm}).values;function s(e){return"number"!=typeof e||Number.isNaN(e)?NaN:r(e)}return s.invert=function(e){return r.invert(e)},s.clamp=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.clamp(e),s},s.start=function(){return s.domain()[0]},s.end=function(){return s.domain()[this.domain().length-1]},s.min=function(){return Math.min(this.start(),this.end())},s.max=function(){return Math.max(this.start(),this.end())},s.copy=function(){var o=rm(e,t,n);return o.domain(s.domain()),o.range(s.range()),o.clamp(r.clamp()),o},s.norm=function(e){return nm(o,s),o.instance(e)},s.normInvert=function(e){return nm(o,s),o.instance.invert(e)},s.data=function(){return t},s.ticks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.formatter,n=u||r.nice().ticks(5);return n.map((function(e){var n=s(e);return{position:n,start:n,end:n,value:e,label:t?t(e):e}}))},s.domain=function(e){return void 0!==e?(r.domain(e),s):r.domain()},s.range=function(e){return void 0!==e?(r.range(e),s):r.range()},s.domain([a||1,l]),s.range(e.invert?[1,0]:[0,1]),o.invert=e.invert,r.base(10),s}var om={require:["resolver"],defaultSettings:{settings:{orientation:"vertical"}},render:function(){var e=this.data.items;if(!e.length)return[];var t=[],n=[];e.forEach((function(e){var r=e.major.value;t[r]||(t[r]=!0,n.push(e))}));var r="vertical"===this.settings.settings.orientation,o=this.rect[r?"width":"height"];return this.resolver.resolve({data:{items:n},settings:{major:{scale:yp.SCALE.MAIN.MAJOR}},scaled:{major:o}}).items.map((function(e){return{type:"circle",fill:"none",cx:r?o*e.major:0,cy:r?0:o*e.major,r:1,data:e.data}}))}};function im(e){return function(e){if(Array.isArray(e))return am(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return am(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return am(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function am(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lm(e,t){return{range:function(e){var n=e.resources,r=e.data,o=n.theme.palette("categorical",t);return r.items.map((function(e){return o[e.value%o.length]}))},valueAccessor:e.value}}function um(e,t){return{range:function(e){var n=e.resources,r=e.data,o=n.theme.palette("categorical",t);return r.items.map((function(e){return o[e.row.value%o.length]}))},valueAccessor:e.value}}function sm(e,t,n,r,o){var i=o.byRow,a=o.byElemNo;if(r&&(t.input.persistent||e.hc.qDimensionInfo.length>1||void 0===n.activeDimensionIndex&&e.hc.qSize.qcy>e.hc.qDataPages[0].qArea.qHeight))return a(r,r.raw().qCardinal);if(r){var l=t.pic.extract({field:r.key(),trackBy:r.value}).length;return i(r,l)}return{}}function cm(e,t){var n=e.hc.qDimensionInfo,r=t.input.byDimDef||{activeDimensionIndex:n.length-1};if(r.activeDimensionIndex>=0){var o=n[r.activeDimensionIndex];r=o.coloring&&o.coloring.colorMapRef?{type:"libraryItem",key:o.coloring.colorMapRef,activeDimensionIndex:r.activeDimensionIndex}:{activeDimensionIndex:r.activeDimensionIndex}}return r}function fm(e,t){var n;return t.activeDimensionIndex>=0?n=e.pic.fields().filter((function(e){return"dimension"===e.type()}))[t.activeDimensionIndex]:"libraryItem"===t.type?!1===(n=t.key?e.pic.field((function(e){return e.raw().colorMapRef===t.key})):void 0)&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))):"expression"===t.type&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))),n}var dm=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.getCDef,i=void 0===o?cm:o,a=r.getCByField,l=void 0===a?fm:a,u=r.getPersistence,s=void 0===u?sm:u,c=i(t,n),f=l(n,c),d=f?f.raw():{},p=n&&n.pic?n.pic.raw():{};if(d.qError||d.qSize&&0===d.qSize.qcy&&!p.qHasOtherValues)return{invalid:!0};var m={mode:"field",fieldType:"dimension",type:"categorical",field:f?f.key():void 0,isFieldLocked:d.qLocked};return("expression"===c.type||c.activeDimensionIndex<0)&&(m.label=c.label,"color.altLabel"===d.labelExpRef&&(m.label=n.input.altLabel)),!m.label&&f&&(m.label=f.title()),n.input.dimensionScheme&&(m.palettes={categorical:n.input.dimensionScheme}),n.input.useDimColVal&&"libraryItem"===c.type&&(m.auxiliary=c),ee()(m,s(t,n,c,f,{byRow:um,byElemNo:lm})),m},pm=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function mm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hm(){}var gm="\\s*([+-]?\\d+)\\s*",ym="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vm="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bm=/^#([0-9a-f]{3})$/,xm=/^#([0-9a-f]{6})$/,Mm=new RegExp("^rgb\\("+[gm,gm,gm]+"\\)$"),Om=new RegExp("^rgb\\("+[vm,vm,vm]+"\\)$"),wm=new RegExp("^rgba\\("+[gm,gm,gm,ym]+"\\)$"),Sm=new RegExp("^rgba\\("+[vm,vm,vm,ym]+"\\)$"),km=new RegExp("^hsl\\("+[ym,vm,vm]+"\\)$"),Cm=new RegExp("^hsla\\("+[ym,vm,vm,ym]+"\\)$"),Em={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Am(e){var t;return e=(e+"").trim().toLowerCase(),(t=bm.exec(e))?new Nm((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=xm.exec(e))?qm(parseInt(t[1],16)):(t=Mm.exec(e))?new Nm(t[1],t[2],t[3],1):(t=Om.exec(e))?new Nm(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=wm.exec(e))?Dm(t[1],t[2],t[3],t[4]):(t=Sm.exec(e))?Dm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=km.exec(e))?Im(t[1],t[2]/100,t[3]/100,1):(t=Cm.exec(e))?Im(t[1],t[2]/100,t[3]/100,t[4]):Em.hasOwnProperty(e)?qm(Em[e]):"transparent"===e?new Nm(NaN,NaN,NaN,0):null}function qm(e){return new Nm(e>>16&255,e>>8&255,255&e,1)}function Dm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Nm(e,t,n,r)}function Tm(e,t,n,r){return 1===arguments.length?((o=e)instanceof hm||(o=Am(o)),o?new Nm((o=o.rgb()).r,o.g,o.b,o.opacity):new Nm):new Nm(e,t,n,null==r?1:r);var o}function Nm(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Lm(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Im(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jm(e,t,n,r)}function jm(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Pm(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Rm(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}pm(hm,Am,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),pm(Nm,Tm,mm(hm,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Nm(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Nm(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Lm(this.r)+Lm(this.g)+Lm(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),pm(jm,(function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof jm)return new jm(e.h,e.s,e.l,e.opacity);if(e instanceof hm||(e=Am(e)),!e)return new jm;if(e instanceof jm)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new jm(a,l,u,e.opacity)}(e):new jm(e,t,n,null==r?1:r)}),mm(hm,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new jm(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new jm(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Nm(Pm(e>=240?e-240:e+120,o,r),Pm(e,o,r),Pm(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var _m=function(e){return function(){return e}};function zm(e,t){return function(n){return e+n*t}}function Fm(e){return 1==(e=+e)?Um:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):_m(isNaN(t)?n:t)}}function Um(e,t){var n=t-e;return n?zm(e,n):_m(isNaN(e)?t:e)}var Hm=function e(t){var n=Fm(t);function r(e,t){var r=n((e=Tm(e)).r,(t=Tm(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Um(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Bm(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),l=new Array(o);for(n=0;n<o;++n)r=Tm(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}Bm((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return Rm((n-r/t)*t,a,o,i,l)}})),Bm((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return Rm((n-r/t)*t,o,i,a,l)}}));function Vm(e){return function(e){if(Array.isArray(e))return Wm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gm=/^class(-pyramid)?/,Km=function(e,t,n,r){var o=void 0!==n.min?n.min:r.min(),i=void 0!==n.max?n.max:r.max(),a=o,l=i,u=t.limits,s={},c="percent"===t.limitType?u.map((function(e){return o+(i-o)*e})):u,f=t.colors.map((function(t){return e.resolveUIColor(t)}));if(o=Math.min.apply(Math,[o].concat(Vm(c))),i=Math.max.apply(Math,[i].concat(Vm(c))),s.min=o,s.max=i,t.breakTypes&&-1===t.breakTypes.indexOf(!0))s.type="categorical",Object.assign(s,function(e){var t=e.min,n=e.max,r=e.limits,o=e.range,i=[],a=[];if(r.length)if(r[r.length-1]<t)a.push(t,n),i.push(o[o.length-1],o[o.length-1],o[o.length-1]);else if(r[0]>n)a.push(t,n),i.push(o[0],o[0],o[0]);else{if(r[0]>t)a.push(t),i.push(o[0]);else{a.push(t);for(var l=0;l<r.length;l++)if(t<r[l]){i.push(o[l]);break}}for(var u=0;u<r.length;u++)t<r[u]&&r[u]<n&&(a.push(r[u]),i.push(o[u]));if(r[r.length-1]<n)a.push(n),i.push(o[r.length]),i.push(o[r.length]);else{a.push(n);for(var s=0;s<r.length;s++)if(r[s]>n){i.push(o[s]),i.push(o[s]);break}}}else i.push(o[0]);return{min:t,max:n,range:i,domain:a}}({min:"percent"===t.limitType?o:a,max:"percent"===t.limitType?i:l,range:f,limits:"percent"===t.limitType?c:u}));else if(t.breakTypes){var d=t.breakTypes;s.type="continuous",s.domain=[o],s.range=[f[0]];for(var p=0;p<c.length;p+=1)if(d[p]){var m=f[p],h=f[p+1],g=Hm(m,h)(.5);s.range.push(g),s.domain.push(c[p]),p<c.length-1&&d[p+1]&&(s.range.push(f[p+1]),s.domain.push((c[p]+c[p+1])/2))}else s.range.push(f[p]),s.range.push(f[p+1]),s.domain.push(c[p]),s.domain.push(c[p]+Math.min(1e-6,(i-o)/1e6));s.range.push(f[f.length-1]),s.domain.push(i)}else s.domain=c,s.range=f;return s};function $m(e){return!("S"===e.qMode&&e.qDataPages[0]&&e.qSize.qcy>e.qDataPages[0].qArea.qHeight)&&!("K"===e.qMode&&e.qStackedDataPages[0]&&e.qSize.qcy>e.qStackedDataPages[0].qArea.qHeight)&&!("T"===e.qMode&&e.qSize.qcy>function e(t){var n=0;return t.qNodes.forEach((function(t){n+=t.qNodes.length?e(t):1})),n}(e.qTreeDataPages[0]))}var Xm=function(e,t,n,r){var o,i=t.theme,a=t.hc,l=r.f,u={mode:"field",fieldType:"measure",field:l?l.key():void 0,reverse:n.input.reverseScheme||!1,type:"continuous",range:function(e){return e.resources.theme.palette("quant")}},s=[],c=!0;if(l){if(Number.isNaN(+l.min())||Number.isNaN(+l.max()))return{invalid:!0};(c=$m(n.pic.raw()))&&(s=n.pic.extract({field:0,props:{num:{field:l.key()},exclude:{fields:a.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function(e){return Math.min.apply(Math,Vm(e))<0}}}}).filter((function(e){return e.value>=0&&!e.exclude.value})).map((function(e){return e.num.value})).filter((function(e){return"number"==typeof e})))}if(!1===n.input.autoMinMax){if(u.min=n.input.measureMin,u.max=n.input.measureMax,u.max<u.min)return{invalid:!0}}else if(l&&!c)u.min=l.min(),u.max=l.max();else if(l){if(!s.length)return{invalid:!0};u.min=Math.min.apply(Math,Vm(s)),u.max=Math.max.apply(Math,Vm(s))}if(n.input.measureScheme&&(u.palettes={quant:n.input.measureScheme}),i){var f=i.getDataColorScales().filter((function(e){return e.key===n.input.measureScheme}))[0];u.type=f&&Gm.test(f.type)?"categorical":"continuous","categorical"===u.type&&(o=f.colors.some((function(e){return Array.isArray(e)}))?Math.max.apply(Math,Vm(f.colors.map((function(e){return e?e.length:0})))):f.colors.length)}if("categorical"===u.type){for(var d=c?function e(t,n,r,o,i){var a,l,u,s=0,c=[],f=(t-n)/(o+1);if(0===f)return 1;for(a=0;a<r.length;a+=1)l=.99*(r[a]-n),u=r[a]>t?Math.floor(t/f):r[a]<n?0:Math.floor(l/f),Number.isNaN(u)||(c[u]?c[u]+=1:c[u]=1);for(a=0;a<c.length;a+=1)c[a]&&(s+=1);return s<=o||s>=i?Math.max(s,o):e(t,n,r,o+1,i)}(u.max,u.min,s,1,o):o,p=(u.max-u.min)/d,m=[],h=0;h<d+1;h+=1)m.push(u.min+p*h);u.domain=m,u.range=function(e){for(var t=e.resources.theme.palette("quant",d),n=Math.max(1,Math.floor(t.length/d)),r=[],o=0;o<d;o+=1)r.push(t[o*n]);return[r[0]].concat(r,[r[r.length-1]])}}return u};function Zm(e,t){var n;return t.activeMeasureIndex>=0?n=e.pic.fields().filter((function(e){return"measure"===e.type()}))[t.activeMeasureIndex]:"libraryItem"===t.type?n=e.pic.field((function(e){return e.raw().colorMapRef===t.key&&void 0!==t.key})):"expression"===t.type&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))),n||(n=e.pic.field((function(e){return void 0!==e.raw().matchMeasure})))&&(n=e.pic.fields().filter((function(e){return"measure"===e.type()}))[n.raw().matchMeasure]),n}var Jm=function(e,t,n){var r=t.theme,o=t.hc,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.getCField,l=void 0===a?Zm:a,u=n.input.byMeasureDef||{activeMeasureIndex:0},s=l(n,u),c=Xm(0,{theme:r,hc:o},n,{f:s});if(c.invalid)return c;("expression"===u.type||u.activeMeasureIndex<0)&&(c.label=u.label,s&&"color.altLabel"===s.raw().labelExpRef&&(c.label=n.input.altLabel)),!c.label&&s&&(c.label=s.title());var f=u.activeMeasureIndex>=0?s:null;if(!f&&s&&void 0!==s.raw().matchMeasure&&s.raw().matchMeasure>-1&&(f=n.pic.fields().filter((function(e){return"measure"===e.type()}))[s.raw().matchMeasure]),n.input.useMeasureGradient&&"libraryItem"===u.type)if(f){var d=f.raw().coloring;d&&d.gradient&&ee()(c,Km(e,d.gradient,c,f))}else c.auxiliary=u;return c},Ym=function(e,t,n,r){var o=t.hc,i=t.theme,a=t.translator,l=n.pic.field((function(e){return"colorByExpression"===e.raw().id}));if(!(l&&l.raw().qFallbackTitle&&Number.isFinite(l.raw().qMin)&&Number.isFinite(l.raw().qMax))&&!n.input.expressionIsColor)return{mode:"constant",type:"constant",primary:r.nil};if(n.input.expressionIsColor)return{mode:"field",fieldType:"expression",field:l?l.key():void 0,type:"color"};var u=Xm(0,{hc:o,theme:i},n,{f:l});return u.invalid||(u.label=n.input.expressionLabel||a.get("Object.ChartTooltip.ColorExpression")),u},Qm=function(e,t,n,r){var o=t.hc,i=t.theme,a=t.translator,l=n.input.useBaseColors;if(("byMultiple"===n.input.mode||"primary"===n.input.mode&&"measure"===n.input.useBaseColors)&&o.qMeasureInfo.length>1&&(l="measure"),"measure"===l){var u=[],s=[];"measure"===n.input.useBaseColors&&o.qMeasureInfo.forEach((function(t,n){if(t.baseColor||t.coloring&&t.coloring.baseColor){u.push(n);var o=e.resolveUIColor(t.baseColor||t.coloring.baseColor);"none"===o?s.push(r.primary):s.push(o)}}));var c=n.input.dimensionScheme?{categorical:n.input.dimensionScheme}:void 0,f=i?i.getDataColorPalettes()[0]:void 0;return"measure"===n.input.useBaseColors&&f&&(c={categorical:f.key}),{mode:"measure",type:"categorical",palettes:c,label:a?a.get("Common.Measures"):void 0,explicit:u.length?{domain:u,range:s}:void 0}}if("dimension"===l){var d=[],p=[];return o.qDimensionInfo.forEach((function(t,n){if(t.baseColor||t.coloring&&t.coloring.baseColor){d.push(n);var o=e.resolveUIColor(t.baseColor||t.coloring.baseColor);"none"===o?p.push(r.primary):p.push(o)}})),{mode:"dimension",type:"categorical",field:d.length?d[0]:void 0,explicit:d.length?{domain:d,range:p}:void 0}}var m=r.primary;if(void 0!==n.input.paletteColor)n.input.paletteColor&&(m=e.resolveUIColor(n.input.paletteColor));else{var h=n.input.singleColor;"number"!=typeof h||Number.isNaN(h)||(m=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"][h])}return{mode:"constant",type:"constant",primary:m}};function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function th(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nh=function(e,t,n,r){var o=r.external,i=r.field,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach((function(t){th(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);ee()(a,lm(i,i.raw().qCardinal));var l=o.theme?o.theme.getDataColorPalettes()[0]:null;return t.nul&&(a.nil=n.resolveUIColor(t.nul)),t.oth&&(a.others=n.resolveUIColor(t.oth)),t.usePal?(a.palettes={categorical:t.pal},l&&!t.pal&&(a.palettes.categorical=l.key,ee()(a,lm(i)))):!1===t.autoFill&&t.single?a.range=[n.resolveUIColor(t.single)]:t.autoFill&&(l&&(a.palettes={categorical:l.key}),ee()(a,lm(i))),t.colors&&t.colors.length&&(a.explicit=function(e,t,n){for(var r={},o=0;o<e.length;o+=1)r[e[o].value]=e[o].baseColor;var i=[];return{domain:function(e){var o=e.data,a=[];i=[];for(var l=0;l<o.items.length;l++){var u=o.items[l],s=(u.text||u).label;r[s]&&-1===a.indexOf(u.value)&&(a.push(u.value),i.push(t.resolveUIColor(r[s])))}return a.push(-3,-2),i.push(n.others),i.push(n.nil),a},range:function(){return i}}}(t.colors,n,a)),a};function rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rh(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ah=function(e){var t=oh({hc:null,colorProps:null,layout:null,theme:null},e),n={},r={auto:function(){return{mode:"primary"}},getDimensionColorMap:function(){return Promise.reject()},getMeasure:function(){return Promise.reject()},getAttributeDimension:function(){return Promise.reject()}},o={auto:function(e){return e?(r.auto=e,o):r.auto},getDimensionColorMap:function(e){return e?(r.getDimensionColorMap=e,o):r.getDimensionColorMap},getAttributeDimension:function(e){return e?(r.getAttributeDimension=e,o):r.getAttributeDimension},getMeasure:function(e){return e?(r.getMeasure=e,o):r.getMeasure},set:function(e){if(!e.colorProps)throw new Error('Missing "colorProps"');if(ee()(t,e),(n={pic:t.picasso.data("q")({data:t.hc,config:{localeInfo:t.localeInfo}}),input:t.colorProps}).input.auto){var o=r.auto(e.layout);n.input=ee()(!0,{},n.input,o,{auto:!1});var i=t.theme?t.theme.getDataColorPalettes():[];i[0]&&(n.input.dimensionScheme=i[0].key);var a=0;n.input.byDimDef&&+n.input.byDimDef.activeDimensionIndex>=0&&(a=+n.input.byDimDef.activeDimensionIndex),t.hc&&t.hc.qDimensionInfo[a]&&t.hc.qDimensionInfo[a].coloring&&t.hc.qDimensionInfo[a].coloring.colorMapRef&&n.input.byDimDef&&(n.input.byDimDef.type="libraryItem",n.input.byDimDef.key=t.hc.qDimensionInfo[a].coloring.colorMapRef)}},palettes:function(){if(!n.palettes){var e=t.theme,r=[];(e&&e.getDataColorPickerPalettes()||[]).forEach((function(e){r.push({key:"ui",colors:e.colors})})),n.palettes=r}return n.palettes},getAuxiliaryData:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/qHyperCubeDef";if(!e.auxiliary&&!/qAttrDimInfo/.test(e.field))return Promise.resolve();var o=e.auxiliary||{},i=o.key;if("measure"===e.fieldType)return r.getMeasure(i,t).catch((function(){}));if("dimension"===e.fieldType){var a="".concat(n,"/").concat(e.field).replace("qDimensionInfo","qDimensions").replace("qAttrDimInfo","qAttributeDimensions");return Promise.all([/qAttrDimInfo/.test(e.field)?r.getAttributeDimension(a,t).catch((function(){})):Promise.resolve(),i?r.getDimensionColorMap(i,t).catch((function(){})):Promise.resolve()])}return Promise.resolve()},getAuxiliarySettings:function(e,r){var o=this;return e.auxiliary||/qAttrDimInfo/.test(e.field)?(this.palettes(),this.getAuxiliaryData(e,r).then((function(r){if(!r)return{};if("measure"===e.fieldType){if(r.coloring&&r.coloring.gradient){var i=n.pic.field(e.field);return Km(o,r.coloring.gradient,e,i)}return{}}if("dimension"===e.fieldType){var a={nil:e.nil,others:e.others},l=r[0],u=r[1]?r[1].colorMap:null;if(l){var s=t.picasso.data("q")({data:{qDimensionInfo:[n.pic.field(e.field).raw(),n.pic.field(e.field).raw()],qMeasureInfo:[],qDataPages:l,qInterColumnSortOrder:[0,1],qMode:"S"}});a.legendDataset=s}return u?nh(a,u,o,{external:t,field:n.pic.field(e.field)}):a}return{}}))):Promise.resolve()},resolveUIColor:function(e){if(e.index<0||void 0===e.index)return e.color;if(void 0===n.uiPalette&&(n.uiPalette=this.palettes().filter((function(e){return"ui"===e.key}))[0]||!1),!n.uiPalette)return e.color;var t="none"===n.uiPalette.colors[0]?e.index:e.index-1;return void 0===n.uiPalette.colors[t]?e.color:n.uiPalette.colors[t]},settings:function(){var e=this;if(this.palettes(),!n.settings){var r={primary:"steelblue",others:"#aaa",nil:"#ddd"},o=t.theme;o&&(r=oh(oh({},r),o.getDataColorSpecials())),n.settings=ee()(r,function(){if(n.input&&!n.input.auto){if("byMeasure"===n.input.mode)return Jm(e,t,n);if("byDimension"===n.input.mode)return dm(e,t,n);if("byExpression"===n.input.mode)return Ym(e,t,n,r);if("byMultiple"===n.input.mode||"primary"===n.input.mode)return Qm(e,t,n,r)}return{}}())}return n.settings}};return o},lh=function(e,t){var n=e.fieldType,r={};if(t)if("measure"===n){var o=t.coloring;o&&(r.measureGradient=o.gradient)}else if("dimension"===n){var i=t[0],a=t[1];i&&(r.legendDataPage=i),a&&(r.dimValsData=a.colorMap)}return r},uh=function(e,t){var n=t.layout,r=t.app;return n&&n.snapshotData?n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.dimValsData?Promise.resolve({colorMap:n.snapshotData.content.chartData.dimValsData}):Promise.reject():r&&r.getObject?r.getObject("ColorMapModel_".concat(e)).then((function(e){return e.getLayout()})):Promise.reject()},sh=function(e,t){var n=t.layout,r=t.app;return n&&n.snapshotData?n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.measureGradient?Promise.resolve({coloring:{gradient:n.snapshotData.content.chartData.measureGradient}}):Promise.reject():r&&r.getMeasure?r.getMeasure(e).then((function(e){return e.getMeasure()})):Promise.reject()},ch=function(e,t){var n=t.layout,r=t.model,o=t.app;if(n&&n.snapshotData)return n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.legendDataPage?Promise.resolve(n.snapshotData.content.chartData.legendDataPage):Promise.reject();if(r&&r.session&&o)return r.getHyperCubeData(e,[{qHeight:100,qLeft:0,qTop:0,qWidth:2}]);return Promise.reject()},fh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auto,n=e.resources,r=ah(n).auto(t||function(){return{mode:"byDimension",persistent:!1,useDimColVal:!0,byDimDef:{activeDimensionIndex:0,type:"expression",label:""}}}).getDimensionColorMap((function(e,t){var n=t.layout,r=t.app;return uh(e,{layout:n,app:r})})).getMeasure((function(e,t){var n=t.layout,r=t.app;return sh(e,{layout:n,app:r})})).getAttributeDimension((function(e,t){var n=t.layout,r=t.model,o=t.app;return ch(e,{layout:n,model:r,app:o})}));return r.getSnapshotData=lh,r};function dh(e){return function(e){if(Array.isArray(e))return ph(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ph(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ph(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ph(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mh(Object(n),!0).forEach((function(t){gh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yh(e){return function(e){if(Array.isArray(e))return vh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bh(e){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xh(e){return function(t){return"object"===bh(t.datum[e])?t.datum[e].value:void 0}}function Mh(e){return"object"===bh(e.datum.isNull)?e.datum.isNull.value:-2===e.datum.value}function Oh(e){return-3===e.datum.value}var wh=function(e){var t,n=e.coloring,r=e.scales,o=e.key,i=n.nil,a=n.others,l=n.primary,u=o,s=xh(o),c=xh("".concat(o,"IsAnOther"));return n.invalid?t=function(e){return Oh(e)||c(e)?a:i}:r[u]?t=function(e){return Oh(e)?a:Mh(e)||-2===s(e)&&"dimension"===n.fieldType||"NaN"===s(e)?i:c(e)?a:e.resources.scale(u)(s(e))||a}:"constant"===n.mode?t=function(e){return Oh(e)||c(e)?a:Mh(e)?i:l}:"color"===n.type&&(t=function(e){return Oh(e)||c(e)?a:Mh(e)?i:s(e)||a}),t},Sh=function(e,t,n){var r=e&&e.dock||void 0;if("auto"!==r)return r||"right";if(t){var o=t.element.getBoundingClientRect();if(o.height>o.width)return"bottom"}return n?"left":"right"},kh=function(e,t,n){return!(n.invalid||"color"===n.type||"measure"===n.mode&&t.qMeasureInfo.length<=1||"dimension"===n.mode)&&!1!==e.show};function Ch(e,t){var n=e.styleReference,r=e.chart,o=e.rtl,i=t.legendProps,a=t.coloring,l=t.theme,u=t.hc;return{layout:{minimumLayoutMode:"MEDIUM",dock:Sh(i,r,o)},show:kh(i,u,a),renderer:"svg",mounted:function(e){e.childNodes[0].style.pointerEvents="none",e.style.overflow="hidden"},settings:{title:{show:!1!==i.showTitle,wordBreak:"break-word",maxLines:2,lineHeight:1.2,text:a.label||"",fill:l?l.getStyle(n,"legend.title","color"):void 0,fontSize:l?l.getStyle(n,"legend.title","fontSize"):"16px",fontFamily:l?l.getStyle(n,"legend.title","fontFamily"):"QlikView Sans, sans-serif"}}}}function Eh(e,t,n){return"categorical"===t.coloring.type?function(e,t,n){var r=Ch(e,t);if(!r.show)return!1;var o=e.key,i=e.styleReference,a=e.viewState,l=e.rtl,u=e.settings,s=e.style,c=t.scaleKey,f=t.theme,d=t.scales,p={up:"M13.6,11 L2.4,11 C2.28954305,11 2.2,10.9104569 2.2,10.8 C2.2,10.756726 2.21403557,10.7146192 2.24,10.68 L7.84,3.21333333 C7.90627417,3.12496777 8.03163444,3.10705916 8.12,3.17333333 C8.13516113,3.18470418 8.14862915,3.1981722 8.16,3.21333333 L13.76,10.68 C13.8262742,10.7683656 13.8083656,10.8937258 13.72,10.96 C13.6853808,10.9859644 13.643274,11 13.6,11 Z",down:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z",left:"M11,2.4 L11,13.6 C11,13.7104569 10.9104569,13.8 10.8,13.8 C10.756726,13.8 10.7146192,13.7859644 10.68,13.76 L3.21333333,8.16 C3.12496777,8.09372583 3.10705916,7.96836556 3.17333333,7.88 C3.18470418,7.86483887 3.1981722,7.85137085 3.21333333,7.84 L10.68,2.24 C10.7683656,2.17372583 10.8937258,2.19163444 10.96,2.28 C10.9859644,2.31461923 11,2.35672596 11,2.4 Z",right:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"},m="".concat(c,"Legend");return ee()(!0,r,{type:"legend-cat",key:"".concat(o,"-cat"),scale:m in d?m:c,settings:{layout:{scrollOffset:function(){return a?a.get("legendScrollOffset"):void 0},size:-1!==["top","bottom"].indexOf(r.layout.dock)?2:1,direction:l?"rtl":"ltr",horizontal:20},item:{show:function(e){return-2!==e.datum.value},label:{fill:f?f.getStyle(i,"legend.label","color"):void 0,fontSize:f?f.getStyle(i,"legend.label","fontSize"):void 0,fontFamily:f?f.getStyle(i,"legend.label","fontFamily"):"QlikView Sans, sans-serif"}},navigation:{disabled:n,button:{content:function(e,t){var n=t.direction;return e("i",{style:{"pointer-events":"none",fontSize:"12px",display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizelegibility",margin:"0px"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},[e("path",{d:p[n]})])])}}}},brush:{consume:[{context:"selection",data:["",o],style:{inactive:{opacity:.3}}}]}},{settings:u,style:s})}(e,t,n):"continuous"===t.coloring.type&&function(e,t){var n=e.key,r=e.styleReference,o=e.rtl,i=e.settings,a=e.style,l=t.scaleKey,u=t.theme,s=Ch(e,t);return!!s.show&&ee()(!0,s,{type:"legend-seq",key:"".concat(n,"-seq"),settings:{fill:l,major:"".concat(l,"Range"),length:1,tick:{fill:u?u.getStyle(r,"legend.label","color"):void 0,fontSize:u?u.getStyle(r,"legend.label","fontSize"):void 0,fontFamily:u?u.getStyle(r,"legend.label","fontFamily"):"QlikView Sans, sans-serif"},title:{anchor:!o||"top"!==s.layout.dock&&"bottom"!==s.layout.dock?void 0:"right",padding:parseFloat(s.settings.title.fontSize)||16}}},{settings:i,style:a})}(e,t)}function Ah(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qh=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventName,r=t.key,o=t.requireFailure,i=t.recognizeWith,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.actions;return{key:"event:pan-".concat(r),type:"Pan",requireFailure:o,recognizeWith:i,options:{event:n,pointers:1,threshold:10,enable:function(e,t){return this.started===n||!t||!(l&&l.interact&&!l.interact.enabled())&&this.chart.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key==="".concat(r,"-cat")}))}},events:(e={},Ah(e,"".concat(n,"start"),(function(e){e.preventDefault(),this.started!==n&&(this.started=n,this.chart.component("".concat(r,"-cat")).emit("panstart",e))})),Ah(e,"".concat(n,"move"),(function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panmove",e)})),Ah(e,"".concat(n,"end"),(function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panend",e),this.started=!1})),e)}},Dh=function(e){var t=e.key,n=e.requireFailure,r=e.recognizeWith,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.actions;return{key:"event:tap-".concat(t),type:"Tap",requireFailure:n,recognizeWith:r,options:{event:"legendtap",interval:10,pointers:1,enable:function(e,n){if(!n)return!0;if(i&&i.interact&&!i.interact.enabled())return!1;if(!this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some((function(e){return e.key==="".concat(t,"-cat")})))return!1;var r=n.srcEvent.target;return!!(r&&r.hasAttribute("data-action")&&r.hasAttribute("data-component-key"))||!(!r||!r.childNodes[0]||"BUTTON"!==r.childNodes[0].nodeName)}},events:{legendtap:function(e){e.preventDefault();var t=e.srcEvent.target;t&&t.hasAttribute("data-action")&&t.hasAttribute("data-component-key")&&this.chart.component(t.getAttribute("data-component-key")).emit(t.getAttribute("data-action"))}}}},Th=function(e,t,n){var r=[],o=[],i=Eh(e,t,n&&n.navigationDisabled);return r.push(i),i&&"legend-cat"===i.type&&(o.push(Dh(e,n)),o.push(qh(e,n))),{interactions:o,components:r}};function Nh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lh=function(e){return"rgba(".concat([(16711680&e)>>16,(65280&e)>>8,255&e,((4278190080&e)>>>24)/255].join(","),")")},Ih=function(e){var t,n,r=e.hc,o=e.coloring,i=e.scales,a=e.key,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=a,s=o.nil;i[a]&&"field"===o.mode?t=i[a].data.field||o.field:"field"===o.mode&&o.field&&(t=o.field),t?(n={field:t,reduce:"first"},"color"===o.type&&(n.value=function(e){return"NaN"!==e.qNum?Lh(e.qNum):e.qText&&Ul(e.qText)?e.qText:s})):"dimension"===o.mode?n=void 0!==o.field?o.field:r.qDimensionInfo.length-1:"measure"===o.mode&&(n=l);var c=Nh({},u,n);return r.qDimensionInfo.length>1&&(c["".concat(u,"IsAnOther")]={fields:r.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function(e){return-1!==e.indexOf(-3)}}),c};function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jh(Object(n),!0).forEach((function(t){Rh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _h(e){var t=fh({resources:e}),n={},r={},o=function(e){return r.settings||(e||console.warn("settings() called before auxiliarySettings()"),r.settings=t.settings()),r.settings},i={config:function(o){if(n=Ph({},o),r={},!n.key)throw new Error("Missing key");t.set(Ph(Ph({},e),n))},auto:function(e){return e?(t.auto(e),i):t.auto()},getAuxiliarySettings:function(e){return r.auxiliarySettings?Promise.resolve(r.auxiliarySettings):t.getAuxiliarySettings(o(!0),e).then((function(e){return r.auxiliarySettings=e||{},r.settings=Ph(Ph({},r.settings),r.auxiliarySettings),r.auxiliarySettings}))},getAuxiliaryData:function(){return t.getAuxiliaryData(o())},getSnapshotData:function(){var e=o();return t.getAuxiliaryData(e).then((function(n){return t.getSnapshotData(e,n)}))},resolveUIColor:function(e){return t.resolveUIColor(e)},settings:function(){var e=o();return{mode:e.mode,type:e.type,label:e.label,field:e.field,fieldType:e.fieldType,nil:e.nil,others:e.others,primary:e.primary}},isSelectionLocked:function(e){var t=e.isMeasureSelectionLocked;return function(e,t){var n=t.isMeasureSelectionLocked;return"field"!==e.mode||("dimension"===e.fieldType?e.isFieldLocked:"measure"!==e.fieldType||n)}(o(),{isMeasureSelectionLocked:t})},palettes:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colorProps,n=e.coloring,r=e.theme,o=[];if(n&&n.palettes&&r){var i=n.palettes.categorical||t.dimensionScheme,a=r.getDataColorPalettes().filter((function(e){return e.key===i}))[0]||r.getDataColorPalettes()[0];i&&a&&o.push({key:"categorical",colors:a.colors});var l=n.palettes.metric||t.measureScheme,u=r.getDataColorScales().filter((function(e){return e.key===l}))[0];if(u){var s=u.colors[0]?u.colors:[[]].concat(dh(u.colors.slice(1)));s=Array.isArray(s[0])?s.map((function(e){return e.slice().reverse()})):s.slice().reverse(),o.push({key:"quant",colors:s})}}return o}({coloring:o(),colorProps:n.colorProps,theme:n.theme})},scales:function(){return r.scales=r.scales||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hc,n=e.coloring,r=e.rtl,o=e.key,i=e.source,a=e.picasso,l={},u=o;if(n){var s={override:!0,domain:n.explicit&&"function"==typeof n.explicit.domain?n.explicit.domain:[].concat(yh((n.explicit||{}).domain||[]),[-3,-2]),range:n.explicit&&"function"==typeof n.explicit.range?n.explicit.range:[].concat(yh((n.explicit||{}).range||[]),[n.others,n.nil])};if("field"===n.mode){if("dimension"===n.fieldType){var c,f=function(e){var t=e.hc,n=e.source,r=e.coloring,o={data:{extract:[{source:"dummy",field:0,filter:function(){return o.expando=t.qDataPages[0]?t.qDataPages[0].qArea.qTop:0,!1}},{source:n,field:r.field,trackBy:r.valueAccessor,reduce:"first",props:{row:{reduce:function(){return o.expando++}},text:{value:function(e){return e.qText},reduce:"first"}}}]},expando:0};return o}({hc:t,source:i,coloring:n}).data;if(n.legendDataset){var d=0,p={};a.data("q")({data:t}).extract({field:n.field,trackBy:n.valueAccessor,reduce:function(e){var t=e[0];return p[t]=d++,e[0]}}),c={source:"attrDim",extract:{field:"qDimensionInfo/0",filter:function(e){return e.qElemNumber>=0},props:{row:{value:function(e){return p[e.qElemNumber]}}}}}}var m={data:f,range:n.range,domain:n.domain,explicit:s,type:"categorical-color",label:function(e){return e.datum.text&&e.datum.text.value?e.datum.text.value:e.datum.label}};l[u]=m,c&&(l["".concat(u,"Legend")]=hh(hh({},m),{},{data:c})),t&&t.qHasOtherValues&&c&&((c||m.data).amend=[{label:t.qDimensionInfo[0].othersLabel,source:{key:"qHyperCube",field:"qDimensionInfo/0"},row:{value:-3},value:-3}])}else if("measure"===n.fieldType){var h={data:{field:n.field},min:n.min,max:n.max};l[u]=ee()({},h,{type:"categorical"===n.type?"threshold-color":"sequential-color",range:n.range,domain:n.domain,invert:n.reverse}),"sequential-color"===l[u].type&&(l["".concat(u,"Range")]=ee()({},h,{invert:!!r}))}else if("color"!==n.type)throw new Error("UNUSED FIELD")}else if("dimension"===n.mode){var g={data:t.qDimensionInfo.map((function(e,t){return t})),label:function(e){return t.qDimensionInfo[e.datum.value].qFallbackTitle},explicit:s,type:"categorical-color"};l[u]=g}else if("measure"===n.mode){var y={data:t.qMeasureInfo.map((function(e,t){return t})),label:function(e){return t.qMeasureInfo[e.datum.value].qFallbackTitle},explicit:s,type:"categorical-color"};l[u]=y}}return l}({hc:n.hc,coloring:o(),key:n.key,source:n.source,picasso:e.picasso}),r.scales},color:function(){return r.color=r.color||wh({coloring:o(),scales:this.scales(),key:n.key}),r.color},datumProps:function(e){return Ih({coloring:o(),scales:this.scales(),key:n.key,hc:n.hc},e)},data:function(){var e=o(),t={key:"dummy",data:[["field"],["a"]]};return e.legendDataset?[t,{type:"q",key:"attrDim",data:e.legendDataset.raw(),config:{localeInfo:n.localeInfo}}]:[t]},legend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eventName,r=e.key,i=e.viewState,a=e.chart,l=e.rtl,u=e.styleReference,s=void 0===u?"object.legend":u,c=e.settings,f=void 0===c?{}:c,d=e.style,p=void 0===d?{}:d,m=arguments.length>1?arguments[1]:void 0;return Th({eventName:t,key:r,rtl:l,viewState:i,chart:a,styleReference:s,settings:f,style:p},{legendProps:n.legendProps,scaleKey:n.key,coloring:o(),theme:n.theme,hc:n.hc,scales:this.scales()},m)}};return i}var zh=function(e){return e.baseColor||e.coloring&&e.coloring.baseColor};function Fh(e){if(e.qHyperCube.qDimensionInfo.length>1)return{mode:"byDimension",useDimColVal:!0,useBaseColors:"dimension",byDimDef:{activeDimensionIndex:1}};if(e.qHyperCube.qMeasureInfo.length>1)return{mode:"primary",useBaseColors:"measure",paletteColor:null};var t=e.qHyperCube.qDimensionInfo.some(zh),n=e.qHyperCube.qMeasureInfo.some(zh);return{mode:"primary",useBaseColors:t?"dimension":n?"measure":"off",paletteColor:null}}var Uh=function(e){return e.baseColor||e.coloring&&e.coloring.baseColor};function Hh(e){var t=e.qHyperCube.qDimensionInfo.some(Uh),n=e.qHyperCube.qMeasureInfo.some(Uh),r=e.color.useBaseColors;return"measure"===r&&!n||"dimension"===r&&!t?"off":r}function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bh(Object(n),!0).forEach((function(t){Wh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $h=[{key:"NoDataExist",alignment:"center",condition:function(e){var t=e.layoutModel.meta.size;return t.x*t.y==0}},{key:"OnlyNanData",alignment:"center",condition:function(e){var t=e.layoutModel;if(!t.meta.isContinuous)return!1;var n=t.getHyperCubeValue("qDimensionInfo.0");return n&&(n.qMax<n.qMin||"NaN"===n.qMax)}},{key:"LimitedData",alignment:"bottom",condition:function(e){var t=e.layoutModel,n=e.flags;if(!1===t.getLayout().showDisclaimer&&n.isEnabled("SHOW_DISCLAIMER"))return!1;var r=t.meta,o=r.isTwoDimensional,i=r.isContinuous,a=r.size;if(!o)return!1;if(i)return a.y>2e3;if(!t.query.isQMode("K"))return!1;var l=Gh(t.getDataPages(),1),u=Gh(l[0].qData,1)[0];return!!u&&u.qSubNodes.some((function(e){return e.qDown>0}))}},{key:"DataRangeIncludingZero",alignment:"bottom",condition:function(e){var t=e.layoutModel,n=e.extremumModel,r=e.flags;if(!1===t.getLayout().showDisclaimer&&r.isEnabled("SHOW_DISCLAIMER"))return!1;var o=t.getLayoutValue("measureAxis.logarithmic",!1),i=n.query.getExtrema();return o&&i.meta.includesZero}}];function Xh(e){var t=e.layoutModel,n=e.extremumModel,r=e.flags,o={disclaimer:void 0};return{query:{getHasSuppressingDisclaimer:function(){return!(!o.disclaimer||"center"!==o.disclaimer.alignment)},getDisclaimer:function(){return o.disclaimer}},command:{initialize:function(){o.disclaimer=function(e){for(var t,n=e.layoutModel,r=e.extremumModel,o=e.flags,i=0;i<$h.length;i++){var a=$h[i];if(a.condition({layoutModel:n,extremumModel:r,flags:o})){t=a;break}}return t}({layoutModel:t,extremumModel:n,flags:r})}}}}function Zh(e){return function(e){if(Array.isArray(e))return Jh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yh=function(e){return"number"==typeof e&&!Number.isNaN(e)};function Qh(e){return function(e){if(Array.isArray(e))return eg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return eg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tg(e){var t=e.layoutModel,n=t.meta,r=n.isStacked,o=n.isOneDimensional;return r?o?function(e){var t=e.dataPage,n=e.count,r=t.qMatrix,o={min:NaN,max:NaN};return r.forEach((function(e){var t=0,r=0;e.slice(-n).forEach((function(e){"NaN"!==e.qNum&&(e.qNum>=0?r+=e.qNum:t+=e.qNum)})),o.min=Number.isNaN(o.min)?t:Math.min(t,o.min),o.max=Number.isNaN(o.max)?r:Math.max(r,o.max)})),o}:function(e){var t=e.dataPage,n=e.count,r={min:NaN,max:NaN};if(t.qData){var o=t.qData;return r.min=Math.min.apply(Math,Qh(o[0].qSubNodes.map((function(e){return e.qMinNeg})))),r.max=Math.max.apply(Math,Qh(o[0].qSubNodes.map((function(e){return e.qMaxPos})))),r}var i=t.qMatrix,a={};return i.forEach((function(e){var t=e[0].qElemNumber;a[t]||(a[t]={key:t,min:0,max:0}),e.slice(n).forEach((function(e){"NaN"!==e.qNum&&(e.qNum>=0?a[t].max+=e.qNum:a[t].min+=e.qNum)}))})),Object.keys(a).forEach((function(e){r.min=Number.isNaN(r.min)?a[e].min:Math.min(a[e].min,r.min),r.max=Number.isNaN(r.max)?a[e].max:Math.max(a[e].max,r.max)})),r}:function(e){var t=e.layoutModel;return function(){var e=t.getHyperCubeValue("qMeasureInfo");return{min:Math.min.apply(Math,Zh(e.filter((function(e){return Yh(e.qMin)})).map((function(e){return e.qMin})))),max:Math.max.apply(Math,Zh(e.filter((function(e){return Yh(e.qMax)})).map((function(e){return e.qMax}))))}}}({layoutModel:t})}function ng(e){var t=e.continuous,n=e.layoutModel,r=e.reducedModel,o=e.trendLineModel,i={min:NaN,max:NaN,implicit:{min:NaN,max:NaN},explicit:{min:NaN,max:NaN},meta:{hasExplicit:!1,hasExplicitMin:!1,hasExplicitMax:!1,includesZero:!1}},a=n.meta.isArea,l=n.getLayoutValue("measureAxis.logarithmic",!1),u=tg({layoutModel:n});return{query:{getExtrema:function(){return i}},command:{initialize:function(){var e=function(e){var t={min:NaN,max:NaN},n=e.layoutModel.getLayoutValue;if(n("measureAxis.autoMinMax",!1))return t;var r=n("measureAxis.minMax");return"min"!==r&&"minMax"!==r||(t.min=+n("measureAxis.min")),"max"!==r&&"minMax"!==r||(t.max=+n("measureAxis.max")),t}({layoutModel:n}),s=e.min,c=e.max;return i.explicit.min=s,i.explicit.max=c,i.meta.hasExplicitMin=!Number.isNaN(s),i.meta.hasExplicitMax=!Number.isNaN(c),i.meta.hasExplicit=i.meta.hasExplicitMin||i.meta.hasExplicitMax,function(e){var t=e.continuous,n=e.layoutModel,r=e.reducedModel,o=n.meta,i=o.isDiscrete,a=o.isStacked,l=o.measureCount,u=o.dimensionCount,s=o.hasMultipleDimensions;if(i){var c=r.query.getCube();return c.qDataPages.length?Promise.resolve({dataPage:c.qDataPages[0],count:l}):Promise.resolve({dataPage:c.qStackedDataPages[0]})}return t.fetchMinMaxData().then((function(e){return{dataPage:e[0],count:a&&s?u:l}}))}({continuous:t,layoutModel:n,reducedModel:r}).then((function(e){var t=e.dataPage,n=e.count,r=u({dataPage:t,count:n}),s=r.min,c=r.max,f=Number.isFinite(s)?s:0,d=Number.isFinite(c)?c:0;if(o.query.hasTrendLines()){var p=o.query.getMinMax(),m=p.min,h=p.max;f=Number.isFinite(m)?Math.min(f,m):f,d=Number.isFinite(h)?Math.max(d,h):d}i.implicit.min=a&&!l?Math.min(0,f):f,i.implicit.max=a&&!l?Math.max(0,d):d,i.min=Number.isNaN(i.explicit.min)?i.implicit.min:i.explicit.min,i.max=Number.isNaN(i.explicit.max)?i.implicit.max:i.explicit.max,i.meta.hasExplicitMin&&!i.meta.hasExplicitMax&&(i.max=Math.max(i.min,i.max)),i.meta.hasExplicitMax&&!i.meta.hasExplicitMin&&(i.min=Math.min(i.min,i.max)),i.meta.includesZero=!!((0-i.min)*(0-i.max)<=0)}))}}}}function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rg(Object(n),!0).forEach((function(t){ig(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ig(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ag(e,t,n,r){var o,i,a,l=(null===(o=t.qHyperCube)||void 0===o||null===(i=o[n])||void 0===i||null===(a=i[r])||void 0===a?void 0:a.qAttrExprInfo)||[],u=[],s=e.qSubNodes&&e.qSubNodes[r]?e.qSubNodes[r].qAttrExps:e.qAttrExps;return s?(l.forEach((function(e,t){var o=s.qValues&&s.qValues[t]?s.qValues[t]:void 0,i=void 0===o?"NaN":function(e,t){var n;switch(e.id){case oa.CUSTOM.EXPRESSION:n="NaN"===t.qNum?void 0===t.qText?"NaN":t.qText:t.qNum;break;case oa.CUSTOM.TITLE:case oa.CUSTOM.DESCRIPTION:case oa.CUSTOM.IMAGES:n=void 0===t.qText?e.qFallbackTitle:t.qText;break;default:n="NaN"}return n}(e,o);u.push({source:{key:"qHyperCube",field:"".concat(n,"/").concat(r,"/qAttrExprInfo/").concat(t)},label:i,value:"value"})})),u):u}var lg={getNode:function(e,t){var n=t.dimensionCount;if(n&&!(n<1)){var r=n-1;return{field:"".concat("qDimensionInfo","/").concat(r),value:function(t){return ag(t,e,"qDimensionInfo",r)}}}}};function ug(e){var t=e.dataset,n=e.minor,r=t.field(n),o=r.raw();if(!(!o.isCustomFormatted&&(o.qIsAutoFormat||"U"===o.qNumFormat.qType)))return function(e){return e.qText};var i=r.formatter();return function(e){var t=e.qNum,n=e.qValue,r=e.interpolated;return void 0===t||"NaN"===t||r?void 0===n||"NaN"===n||r?"-":i(n):i(t)}}function sg(e){var t=e.colorModel,n=e.index,r={},o=t.main.model().datumProps(n);Object.keys(o).forEach((function(e){void 0!==o[e]&&(r[e]=o[e])}));var i=o[yp.SCALE.MAIN.COLOR];return i&&i.field&&(r.colorTooltip={field:i.field,value:function(e){return void 0!==e.qNum&&"NaN"!==e.qNum?e.qNum:e.qText||"-"}}),r}function cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cg(Object(n),!0).forEach((function(t){dg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pg(e){var t=e.layoutModel,n=e.colorModel,r=e.chartModel,o=e.fieldModel,i=e.extremumModel,a=e.tickModel,l=t.meta,u=l.isContinuous,s=l.isStacked,c=l.isZero,f=o.main,d=f.minors,p=f.outer,m=f.outerNumeric,h=t.getLayoutValue("separateStacking",!0),g=i.query.getExtrema(),y=t.getLayoutValue("measureAxis.logarithmic",!1)&&!g.meta.includesZero,v={key:yp.COLLECTION.MAIN,data:{extract:d.map((function(e,o){return{field:p,props:fg(fg({major:{field:u?m:p},end:{field:e,label:ug({dataset:r.query.getDataset(),minor:e})},selectionDimension:{field:p},line:o},sg({colorModel:n,index:o})),{},{customTooltipAttrExps:lg.getNode(t.getLayout(),t.meta),null:{field:e,value:function(e){return"NaN"===e.qNum}},interpolated:{field:e,value:function(e){return!!e.interpolated}},id:{value:function(e){return"r".concat(e.qRow,"e").concat(e.qElemNumber,"m").concat(o)}}})}}))}};if(c){var b=y?function(e){return"NaN"!==e.qNum?e.qNum:g.min<0?a.query.getMax():a.query.getMin()}:function(e){return"NaN"!==e.qNum?e.qNum:0};d.forEach((function(e,t){v.data.extract[t].props.end.value=b}))}return s&&(v.data.stack={stackKey:function(e){return e.major.value},value:function(e){return e.end.value},offset:h?"diverging":"none"},d.forEach((function(e,t){var n=v.data.extract[t].props;n.point={field:n.end.field,label:n.end.label},n.end.value&&(n.point.value=n.end.value)}))),v}function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(n),!0).forEach((function(t){gg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bg(e){var t=e.layoutModel,n=e.colorModel,r=e.chartModel,o=e.fieldModel,i=e.extremumModel,a=e.tickModel,l=t.meta,u=l.isContinuous,s=l.isStacked,c=l.isZero,f=t.getLayoutValue("separateStacking",!0),d=u?"qNum":"qValue",p=i.query.getExtrema(),m=t.getLayoutValue("measureAxis.logarithmic",!1)&&!p.meta.includesZero,h=o.main,g=h.outer,y=h.outerNumeric,v=h.inner,b=yg(h.minors,1)[0],x={key:yp.COLLECTION.MAIN,data:{extract:{field:v,props:hg({major:{field:u?y:g},end:{field:b,label:ug({dataset:r.query.getDataset(),minor:b}),reduceLabel:"first"},selectionDimension:{field:v},selectionOuterDimension:{field:g},line:{field:v},customTooltipAttrExps:lg.getNode(t.getLayout(),t.meta),null:{field:b,value:function(e){return"NaN"===e[d]},reduce:"first"},interpolated:{field:b,value:function(e){return!!e.interpolated},reduce:"first"}},sg({colorModel:n}))}}};c&&(x.data.extract.props.end.value=m?function(e){return"NaN"!==e[d]?e[d]:p.min<0?a.query.getMax():a.query.getMin()}:function(e){return"NaN"!==e[d]?e[d]:0});if(s){x.data.stack={stackKey:function(e){return e.major.value},value:function(e){return e.end.value},offset:f?"diverging":"none"};var M=x.data.extract.props;M.point={field:M.end.field,label:M.end.label,reduceLabel:M.end.reduceLabel},M.end.value&&(M.point.value=M.end.value)}return x}var xg={MINI_CHART:{value:"miniChart",translation:"properties.scrollbar.miniChart"},BAR:{value:"bar",translation:"properties.scrollbar.bar"},NONE:{value:"none",translation:"properties.scrollbar.none"}},Mg={OPTIONS:xg,DEFAULT:xg.MINI_CHART},Og=function(e){return{miniChart:e===Mg.OPTIONS.MINI_CHART.value,bar:e===Mg.OPTIONS.BAR.value,none:e===Mg.OPTIONS.NONE.value}},wg=function(e){var t=e.layoutModel,n=t.getLayoutValue("scrollbar");if(n)return Og(n);var r=t.getLayoutValue("showMiniChartForContinuousAxis");if(void 0===r)return Og(Mg.DEFAULT.value);var o=t.getLayoutValue("dimensionAxis.continuousAuto"),i=t.getLayoutValue("preferContinuousAxis");return Og(!r&&(o||!o&&i)?Mg.OPTIONS.NONE.value:Mg.OPTIONS.MINI_CHART.value)};function Sg(e){var t=e.layoutModel,n=e.override,r=void 0===n?void 0:n,o=wg({layoutModel:t});return r&&r.predicate({layoutModel:t,scrollbar:o})&&(o.miniChart=r.value===Mg.OPTIONS.MINI_CHART.value,o.bar=r.value===Mg.OPTIONS.BAR.value,o.none=r.value===Mg.OPTIONS.NONE.value),o}function kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kg(Object(n),!0).forEach((function(t){Eg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ag(e){var t=e.layoutModel,n=e.reducedModel,r=e.colorModel,o=e.fieldModel,i=e.extremumModel,a=e.tickModel,l=t.meta,u=l.isStacked,s=l.isZero,c=o.reduced,f=c.minors,d=c.outer,p=n.query.getIsReduced(),m=t.getLayoutValue("separateStacking",!0),h=i.query.getExtrema(),g=t.getLayoutValue("measureAxis.logarithmic",!1)&&!h.meta.includesZero,y={key:yp.COLLECTION.REDUCED,data:{extract:f.map((function(e,t){var n=p?{}:r.main.model().datumProps(t);return{source:yp.DATA.REDUCED,field:d,props:Cg({major:{field:d},end:{field:e},line:t},n)}}))}};if(s){var v=g?function(e){return"NaN"!==e.qNum?e.qNum:h.min<0?a.query.getMax():a.query.getMin()}:function(e){return"NaN"!==e.qNum?e.qNum:0};f.forEach((function(e,t){y.data.extract[t].props.end.value=v}))}return u&&(y.data.stack={stackKey:function(e){return e.major.value},value:function(e){return e.end.value},offset:m?"diverging":"none"},f.forEach((function(e,t){var n=y.data.extract[t].props;n.point={field:n.end.field}}))),y}function qg(e){var t=e.layoutModel,n=e.fieldModel;if(!t.meta.isStacked)return!1;var r=t.getLayoutValue("separateStacking",!0),o=n.reduced,i=o.inner,a=o.minors;return{key:yp.COLLECTION.REDUCED,data:{extract:a.map((function(e){return{source:yp.DATA.REDUCED,field:i,props:{major:{field:i},end:{field:e},point:{field:e}}}})),stack:{stackKey:function(e){return e.major.value},value:function(e){return e.end.value},offset:r?"diverging":"none"}}}}function Dg(e){var t=e.colorModel,n=e.main,r=ee()(!0,{},n);return r.key=yp.COLLECTION.REDUCED,r.data.extract.forEach((function(e,n){e.source=yp.DATA.REDUCED,Object.assign(e.props,t.reduced.model().datumProps(n))})),r}function Tg(e){var t=e.main,n=ee()(!0,{},t);return n.key=yp.COLLECTION.REDUCED,n.data.extract.source=yp.DATA.REDUCED,n}function Ng(e){var t=e.layoutModel,n=e.reducedModel,r=e.colorModel,o=e.fieldModel,i=e.extremumModel,a=e.tickModel,l=e.main;return!!Sg({layoutModel:t}).miniChart&&(t.meta.isDiscrete?function(e){var t=e.layoutModel,n=e.reducedModel,r=e.colorModel,o=e.fieldModel,i=e.extremumModel,a=e.tickModel;return(t.meta.isOneDimensional?Ag:qg)({layoutModel:t,reducedModel:n,colorModel:r,fieldModel:o,extremumModel:i,tickModel:a})}({layoutModel:t,reducedModel:n,colorModel:r,fieldModel:o,extremumModel:i,tickModel:a}):function(e){var t=e.layoutModel,n=e.colorModel,r=e.main;return(t.meta.isOneDimensional?Dg:Tg)({colorModel:n,main:r})}({layoutModel:t,colorModel:r,main:l}))}function Lg(e){var t=e.layoutModel,n=e.reducedModel,r=e.colorModel,o=e.fieldModel,i=e.chartModel,a=e.extremumModel,l=e.tickModel,u=function(e){var t=e.layoutModel,n=e.colorModel,r=e.chartModel,o=e.fieldModel,i=e.extremumModel,a=e.tickModel;return(t.meta.isOneDimensional?pg:bg)({layoutModel:t,colorModel:n,chartModel:r,fieldModel:o,extremumModel:i,tickModel:a})}({layoutModel:t,colorModel:r,fieldModel:o,chartModel:i,extremumModel:a,tickModel:l});return[u,Ng({layoutModel:t,reducedModel:n,colorModel:r,fieldModel:o,extremumModel:a,tickModel:l,main:u})].filter(Boolean)}function Ig(e){var t=e.viewState,n=e.viewCache,r=e.layoutModel,o=e.dockModel,i=e.rtl;return!r.meta.isSnapshot&&{key:"scroll-hint",type:"scroll-hint",settings:{orientation:o.major.orientation,rtl:i,range:function(){return function(e){var t=e.layoutModel,n=e.viewState,r=e.viewCache;return t.meta.isContinuous?function(e,t){var n=e.get("zoom"),r=t.get("continuousMin"),o=t.get("continuousMax");return[(n.min-r)/(o-r),(n.max-r)/(o-r)]}(n,r):function(e){return e.get("viewRange")}(n)}({layoutModel:r,viewState:t,viewCache:n})}}}}function jg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rg(e,t){if(!e||!Object.keys(e).length)return t;var n=ee()(!0,{},e);return Array.isArray(t.consume)&&(n.consume=function(e,t){if(!Array.isArray(e))return t;var n=ee()(!0,[],e);return t.forEach((function(e){var t=jg(n.filter((function(t){return t.context===e.context})),1)[0];t?ee()(!0,t,e):n.push(e)})),n}(e.consume,t.consume)),n}var _g={extend:function(e,t){var n=e;return t.filter(Boolean).forEach((function(t){var r=e.filter((function(e){return e.key&&e.key===t.key}))[0];if(r){var o=ee()(!0,{},r.brush);ee()(!0,r,t),t.brush&&(r.brush=Rg(o,t.brush))}else n.push(t)})),n}};var zg={source:"trend",extract:{field:"x",props:{minor:{field:"y"},layer:{field:"layerId"},measureIndex:{field:"measureIndex"},dimValue:{field:"dimValue"}}}},Fg=function(e){var t=e.meta;return t.isContinuous?function(e){return(0,e.scale)(e.datum.value)}:t.isGroupedByMeasure?function(e){var t=e.scale,n=e.datum;return t([n.value,n.measureIndex.value])+t.bandwidth()/2}:function(e){var t=e.scale;return t(e.datum.value)+t.bandwidth()/2}},Ug=function(e,t){var n=e.majorScale,r=e.minorScale,o=e.tooltipOverlay,i=void 0===o?"trend-lines-tooltip-overlay":o,a=t.layoutModel,l=t.dockModel,u=Fg(a),s="vertical"===l.major.orientation,c={scale:n,fn:u},f={scale:r,ref:"minor"};return{key:i,type:"point",layout:{dock:"center"},data:zg,settings:{x:s?c:f,y:s?f:c,opacity:0,size:1,sizeLimits:{maxPx:8,minPx:8}}}},Hg=function(e,t){var n=e.majorScale,r=e.minorScale,o=t.trendLineModel,i=t.layoutModel,a=t.dockModel,l=Fg(i);return{key:"trend-lines",type:"line",layout:{dock:"center"},data:zg,settings:{connect:!0,orientation:a.minor.orientation,coordinates:{major:{scale:n,fn:l},minor:{scale:r},layerId:{ref:"layer"}},layers:{curve:"monotone",line:{strokeWidth:2,stroke:function(e){var t=e.datum;return o.query.getStroke(t.layer.value)},strokeDasharray:function(e){var t=e.datum;return o.query.getLineDash(t.layer.value)}}}}}},Bg=function(e,t){var n=t.layoutModel,r=t.trendLineModel,o=t.dockModel;return r.query.hasTrendLines()?[Hg(e,{trendLineModel:r,layoutModel:n,dockModel:o}),Ug(e,{layoutModel:n,dockModel:o})]:[]};function Vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vg(Object(n),!0).forEach((function(t){Gg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kg="#la-vie-tooltip";function $g(){if(!document.querySelector(Kg)){var e=document.createElement("div");e.id="la-vie-tooltip",e.style.overflow="hidden",e.style.position="fixed",e.style.pointerEvents="none",e.style.left="0px",e.style.top="0px",e.style.width="100%",e.style.height="100%",e.style.zIndex=1020,document.body.appendChild(e)}}function Xg(e){var t=e.key;return{show:!0,key:void 0===t?"tooltip":t,type:"tooltip",layout:{displayOrder:3},beforeMount:function(){$g()},beforeUpdate:function(){$g()},destroyed:function(){var e;(e=document.querySelector(Kg))&&e.parentElement&&e.childElementCount<1&&e.parentElement.removeChild(e)},settings:{appendTo:function(){return document.querySelector(Kg)},content:function(e){var t=e.h,n=e.data,r=e.style;return n[0].map((function(e){return t("tr",{},function(e,t){var n=t.h,r=t.style;return e.map((function(e){var t={style:Wg(Wg({},r.cell||{}),e.style||{}),class:e.class};return e.colspan&&(t.colspan=e.colspan),n("td",t,e.content)}))}(e,{h:t,style:r}))}))},direction:e.rtl?"rtl":"ltr"},style:{arrow:{color:"#404040"},content:{display:"table","border-spacing":"4px",background:"rgba(64, 64, 64, 0.9)",opacity:"1",fontSize:"13px",fontFamily:"QlikView Sans, sans-serif","empty-cells":"show"},cell:{"max-width":"180px","word-break":"break-word","word-wrap":"break-word","overflow-wrap":"break-word",hyphens:"auto"}}}}function Zg(e,t){var n=t.query,r=n.getLabel,o=n.getType,i=n.getLineDash,a=n.getStroke;return function(t){var n=t.node,l=t.resources,u={type:"icon",style:{stroke:a(n.data.layer.value),"min-width":"16px","vertical-align":"middle","stroke-dasharray":i(n.data.layer.value)}},s={content:[{content:r(n.data.layer.value),style:{"font-weight":"bold"}},{content:o(n.data.layer.value)}],style:{"min-width":"136px"}};return{title:n.data.dimValue.label,row:[u,s,{content:l.formatter(e.formatter)(n.data.minor.value)}]}}}function Jg(e){return function(e){if(Array.isArray(e))return Yg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qg(Object(n),!0).forEach((function(t){ty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ny=16,ry=2;function oy(e,t){return Array.isArray(t.content)?e("div",{style:{display:"flex","flex-direction":"column"}},t.content.map((function(t){return e("span",{style:t.style,direction:Ku.detectTextDirection(t.content)},t.content)}))):"icon"===t.type?function(e){var t=e("line",{x1:"0px",y1:"".concat(ny,"px"),x2:"".concat(ny,"px"),y2:"0px","stroke-width":"3px"});return e("svg",{xlms:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 ".concat(ny," ").concat(ny)},t)}(e):t.content}function iy(e,t){return function(n){var r=n.h,o=n.data,i=n.style,a=o[0].title,l=o.filter((function(e){return e.title===a})),u=[function(e,t){var n=e("td",{colspan:3,style:{"font-weight":"bold"},direction:Ku.detectTextDirection(t)},t);return e("tr",{},n)}(r,a)];if(l.slice(0,ry).forEach((function(e){u.push(r("tr",{},function(e,t){var n=t.h,r=t.style;return e.map((function(e){var t={style:ey(ey({direction:"string"==typeof e.content?Ku.detectTextDirection(e.content):void 0},r.cell||{}),e.style||{}),class:e.class};e.colspan&&(t.colspan=e.colspan);var o=oy(n,e);return n("td",t,o)}))}(e.row,{h:r,style:i})))})),o.length>ry){var s=o.length-ry;u.push.apply(u,Jg(function(e,t,n,r){var o=t?t.get("Object.ChartTooltip.NMore",r):"+".concat(r," more"),i=Ku.detectTextDirection(o);return[e("tr",{},e("td",{style:{"background-image":"linear-gradient(transparent 8px, rgba(255, 255, 255, 0.4) 8px, rgba(255, 255, 255, 0.4) 9.2px, transparent 9.2px)",height:"17px"},colspan:3},"")),e("tr",{},e("td",{style:{"font-weight":"bold","text-align":n?"right":"left",direction:i},colspan:3},o))]}(r,e,t,s)))}return u}}function ay(e,t){var n=t.trendLineModel,r=t.translator,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n.query.hasTrendLines())return!1;var i=o.rtl,a=Xg({key:e.tooltip,rtl:i});return ee()(!0,a,{settings:{extract:Zg(e,n),content:iy(r,i),placement:"pointer",direction:o.rtl?"rtl":"ltr"}})}var ly={AXIS:{MAJOR:{vertical:{width:"XSMALL",height:"SMALL"},horizontal:{width:"SMALL",height:"XSMALL"}},MINOR:"XSMALL"},AXIS_TITLE:{MAJOR:{vertical:{width:"XSMALL",height:"MEDIUM"},horizontal:{width:"MEDIUM",height:"XSMALL"}},MINOR:"SMALL"},GRID_LINE:"XSMALL",VALUE_LABEL:"XSMALL",LABEL_SPACE:"XSMALL",OUT_OF_BOUNDS_MARKER:"XSMALL",REDUCED_LINE:"XSMALL",REFERENCE_LINE:"SPARK"};function uy(e){var t=e.layoutModel,n=e.dockModel,r=e.themeModel,o=t.getLayoutValue("measureAxis");if(!o)return!1;var i=o.show;if("none"===i)return!1;var a=r.query.getStyle();return{type:"axis",key:yp.COMPONENT.MINOR_AXIS,scale:yp.SCALE.MAIN.MINOR,layout:{dock:n.minor.dock,minimumLayoutMode:ly.AXIS.MINOR},settings:{labels:{show:"title"!==i,fontFamily:a.axis.label.name.fontFamily,fontSize:a.axis.label.name.fontSize,fill:a.axis.label.name.color},line:{stroke:a.axis.line.major.color},ticks:{stroke:a.axis.line.major.color},minorTicks:{stroke:a.axis.line.minor.color}}}}var sy={stringWidthOverMWidth:function(e){return(12*Math.min(e,3)+Math.max(e-3,0)*(166/26))/11},getCharacterRatios:function(e){if(!e)return{latin:0,cjk:0};var t=e.match(/[\u4E00-\u9FFF]/g),n=e.match(/[\u3040-\u309F]/g),r=e.match(/[\u30A0-\u30FF]/g),o=(t=t?t.length:0)+(n=n?n.length:0)+(r=r?r.length:0);return{latin:e.length-o,cjk:o}},getTotalCharacterRatios:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"qText";if(!e)return{latinRatio:1,cjkRatio:0};var r,o={latin:0,cjk:0};void 0===t?e.forEach((function(e){r=sy.getCharacterRatios(e[n]),o.latin+=r.latin,o.cjk+=r.cjk})):e.forEach((function(e){r=sy.getCharacterRatios(e[t][n]),o.latin+=r.latin,o.cjk+=r.cjk}));var i=Math.max(1,o.latin+o.cjk);return o.latinRatio=o.latin/i,o.cjkRatio=o.cjk/i,o},getAdjustedMaxGlyphCount:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"qText",o=sy.getTotalCharacterRatios(t,n,r),i=o.latinRatio*e,a=o.cjkRatio*e,l=Math.ceil(sy.stringWidthOverMWidth(i)+a*(12/11));return l}},cy=sy;function fy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function py(e){var t=e.context,n=e.layoutModel,r=e.dockModel,o=e.themeModel,i=n.getLayoutValue("dimensionAxis"),a=i.show,l=i.label,u=n.getLayoutValue("gridLine",{}),s=u.auto,c=u.spacing,f=r.major.orientation,d="vertical"===f,p=o.query.getStyle(),m=function(e){var t=e.layoutModel,n=t.getHyperCubeValue("qDimensionInfo.0.qApprMaxGlyphCount"),r=fy(t.getDataPages(),1)[0],o=t.query.isQMode("K"),i=o?r.qData[0].qSubNodes:r.qMatrix,a=o?void 0:0;return cy.getAdjustedMaxGlyphCount(n,i,a,"qText")}({layoutModel:n}),h=d?l:"auto";return{type:"axis",key:yp.COMPONENT.MAJOR_AXIS,scale:yp.SCALE.MAIN.MAJOR,layout:{dock:r.major.dock,minimumLayoutMode:ly.AXIS.MAJOR[f]},settings:{labels:{show:"title"!==a,mode:h,tiltAngle:t.rtl?-40:40,maxEdgeBleed:50,maxLengthPx:"horizontal"===h?void 0:r.minor.containerSize/4,maxGlyphCount:m,tiltThreshold:m>3&&m<13?1:void 0,fontFamily:p.axis.label.name.fontFamily,fontSize:p.axis.label.name.fontSize,fill:p.axis.label.name.color},line:{show:!s&&0===c,stroke:p.axis.line.major.color},paddingEnd:4},brush:{consume:[{context:"selection",data:["selectionDimension","selectionInnerDimension"],style:{inactive:{opacity:.5}}}]}}}function my(e){var t=e.layoutModel,n=e.dockModel,r=e.themeModel,o=t.getLayoutValue("dimensionAxis").show,i=t.getLayoutValue("gridLine",{}),a=i.auto,l=i.spacing,u=n.major.orientation,s=r.query.getStyle();return{type:"axis",key:yp.COMPONENT.MAJOR_AXIS_CONTINUOUS,scale:yp.SCALE.MAIN.MAJOR,layout:{dock:n.major.dock,minimumLayoutMode:ly.AXIS.MAJOR[u]},settings:{labels:{show:"title"!==o,align:0,offset:4,fontFamily:s.axis.label.name.fontFamily,fontSize:s.axis.label.name.fontSize,fill:s.axis.label.name.color},line:{show:!a&&0===l},ticks:{show:!0,stroke:s.axis.line.major.color},minorTicks:{show:!1}}}}function hy(e){var t=e.context,n=e.layoutModel,r=e.dockModel,o=e.themeModel,i=n.getLayoutValue("dimensionAxis");if(!i||"none"===i.show)return[];var a=n.meta,l=a.isDiscrete,u=a.isTime;return l?[py({context:t,layoutModel:n,dockModel:r,themeModel:o})]:u?function(e){var t=e.context,n=e.dockModel,r=e.themeModel,o=e.layoutModel,i=t.rtl,a=o.getLayoutValue("gridLine",{}),l=a.auto,u=a.spacing,s=n.major.orientation,c="bottom"===n.major.dock?0:1,f=r.query.getStyle(),d=i?1:0,p={type:"time-axis",renderer:"svg",layout:{dock:n.major.dock,minimumLayoutMode:ly.AXIS.MAJOR[s]},preferredSize:function(){return{size:2*parseFloat(f.axis.label.name.fontSize),edgeBleed:{left:1,right:1}}},settings:{anchor:i?"end":"start",label:{align:c,justify:d},guideLine:{major:{justify:d},minor:{align:c}}},style:{label:{fontFamily:f.axis.label.name.fontFamily,fontSize:f.axis.label.name.fontSize,fill:f.axis.label.name.color},majorGuideLine:{stroke:f.axis.line.major.color},minorGuideLine:{stroke:f.axis.line.minor.color}}};return[ee()(!0,{},p,{key:yp.COMPONENT.MAJOR_AXIS_TIME_INNER,scale:yp.SCALE.MAIN.MAJOR_INNER,settings:{guideLine:{minor:{show:!0}},line:{show:!l&&0===u}},style:{line:{stroke:f.axis.line.major.color},majorGuideLine:{stroke:f.axis.line.minor.color},minorGuideLine:{stroke:f.axis.line.major.color}}}),ee()(!0,{},p,{key:yp.COMPONENT.MAJOR_AXIS_TIME_OUTER,scale:yp.SCALE.MAIN.MAJOR,settings:{guideLine:{minor:{show:!1}},line:{show:!1}}})]}({context:t,layoutModel:n,dockModel:r,themeModel:o}):[my({layoutModel:n,dockModel:r,themeModel:o})]}function gy(e){return function(e){if(Array.isArray(e))return yy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vy(e){var t=e.model,n=e.app,r=e.translator,o=e.permissions,i=e.rtl,a=e.properties,l=e.layoutModel,u=e.dockModel,s=e.themeModel,c=l.getLayoutValue("measureAxis");if(!c)return!1;var f=c.show;if("all"!==f&&"title"!==f)return!1;var d=s.query.getStyle(),p={type:"data-title",key:yp.COMPONENT.MINOR_AXIS_TITLE,layout:{dock:u.minor.dock,minimumLayoutMode:ly.AXIS_TITLE.MINOR},settings:{hyperCube:l.getHyperCube(),hyperCubeDef:a&&a.qHyperCubeDef,isDimension:!1,disabled:function(){return-1===o.indexOf("fetch")||-1===o.indexOf("interact")},model:t,app:n,translator:r,rtl:i,selections:void 0},style:{fontFamily:d.axis.title.fontFamily,fontSize:d.axis.title.fontSize,color:d.axis.title.color}};return l.meta.hasMultipleMeasures&&(p.settings.padding="0",p.settings.minWidth="auto"),p}function by(e){var t=e.model,n=e.app,r=e.translator,o=e.permissions,i=e.rtl,a=e.properties,l=e.layoutModel,u=e.dockModel,s=e.themeModel,c=l.getLayoutValue("dimensionAxis");if(!c)return!1;var f=c.show;if("all"!==f&&"title"!==f)return!1;var d=u.major.orientation,p=s.query.getStyle(),m={type:"data-title",key:yp.COMPONENT.MAJOR_AXIS_TITLE,layout:{dock:u.major.dock,minimumLayoutMode:ly.AXIS_TITLE.MAJOR[d]},settings:{hyperCube:l.getHyperCube(),hyperCubeDef:a&&a.qHyperCubeDef,isDimension:!0,disabled:function(){return-1===o.indexOf("fetch")||-1===o.indexOf("interact")},model:t,app:n,translator:r,rtl:i,selections:void 0},style:{fontFamily:p.axis.title.fontFamily,fontSize:p.axis.title.fontSize,color:p.axis.title.color}};return l.meta.isTwoDimensional&&(m.settings.padding="0",m.settings.minWidth="auto"),m}function xy(e){var t=e.context,n=e.selectionModel,r=e.layoutModel,o=e.colorModel,i=e.dockModel,a=t.rtl,l=r.meta,u=l.isContinuous,s=l.isOneDimensional,c=l.hasMultipleMeasures,f=l.isStacked,d=r.getLayoutValue("color",{});return{type:"brush-highlighter",key:"brush-highlighter",data:{collection:yp.COLLECTION.MAIN},settings:{registerOnStart:n.command.onSelectStart,selectionValues:{"qHyperCube/qDimensionInfo/0":u?function(e){return s?e.value:e.selectionOuterDimension.value}:function(e){return e.major.value},"qHyperCube/qDimensionInfo/0:numeric":function(e){return e.major.value},"qHyperCube/qDimensionInfo/1":s?function(e){return e.major.value}:function(e){return e.line.value},"qHyperCube/qMeasureInfo/0":function(e){return e.end.value},"qHyperCube/qDimensionInfo/0/qAttrExprInfo/0":function(e){return e.end.value}},colorSettings:o.main.settings(),colorByData:!d.auto&&"byMeasure"===d.mode&&d.byMeasureDef&&void 0!==d.byMeasureDef.activeMeasureIndex,isColorCode:!d.auto&&"byExpression"===d.mode&&d.expressionIsColor,hasMultipleMeasures:c,isStacked:f,orientation:i.major.orientation,rtl:a}}}function My(e){var t=e.dockModel;return{type:"ghost-point",key:yp.COMPONENT.GHOST_POINT,data:{collection:yp.COLLECTION.MAIN},layout:{dock:"@".concat(yp.COMPONENT.POINT)},settings:{orientation:t.major.orientation}}}var Oy={NONE:0,WIDE:1,MEDIUM:2,NARROW:3};function wy(e){var t=e.layoutModel,n=e.dockModel,r=e.themeModel,o=t.getLayoutValue("gridLine",{}),i=o.auto,a=o.spacing;if(!i&&a===Oy.NONE)return!1;var l,u,s,c=r.query.getStyle();return l={key:yp.COMPONENT.GRID_LINE,type:"grid-line",layout:{minimumLayoutMode:ly.GRID_LINE},preferredSize:function(){return{size:0,edgeBleed:{left:1,right:1,top:1,bottom:1}}},ticks:{show:!(!i&&a===Oy.WIDE)||function(e,t){return t%2==0},stroke:c.grid.line.major.color},minorTicks:{show:!i&&a===Oy.NARROW,stroke:c.grid.line.minor.color}},u="vertical"===n.major.orientation?"y":"x",s=yp.SCALE.MAIN.MINOR,u in l?Object.defineProperty(l,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[u]=s,l}function Sy(e){var t=e.layoutModel,n=e.extremumModel,r=e.dockModel,o=e.tickModel,i=e.themeModel,a=e.gridLine,l=n.query.getExtrema();if(!a||t.getLayoutValue("measureAxis.logarithmic",!1)&&!l.meta.includesZero)return!1;var u,s,c,f=i.query.getStyle();return{key:yp.COMPONENT.ZERO_LINE,type:"ref-line",layout:{minimumLayoutMode:ly.GRID_LINE},show:function(){return o.query.getMin()<=0&&o.query.getMax()>=0},scale:yp.SCALE.MAIN.MINOR,lines:(u={},s="vertical"===r.minor.orientation?"x":"y",c=[{value:0,scale:yp.SCALE.MAIN.MINOR,line:{stroke:f.grid.line.highContrast.color}}],s in u?Object.defineProperty(u,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[s]=c,u)}}function ky(e){return function(e){if(Array.isArray(e))return Cy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ey(e){var t=e.layoutModel,n=e.extremumModel,r=e.dockModel,o=e.tickModel,i=e.themeModel,a=wy({layoutModel:t,dockModel:r,themeModel:i});return[a,Sy({layoutModel:t,extremumModel:n,dockModel:r,tickModel:o,themeModel:i,gridLine:a})].concat(ky(function(e){var t=e.layoutModel,n=e.themeModel,r=t.meta,o=r.isContinuous,i=r.isTime;if(!o)return[!1];var a=n.query.getStyle(),l={type:"grid-line",layout:{minimumLayoutMode:ly.GRID_LINE},ticks:{stroke:a.grid.line.major.color},minorTicks:{show:!1,stroke:a.grid.line.minor.color}};return i?[ee()(!0,{},l,{key:"time-inner-grid",x:{scale:yp.SCALE.MAIN.MAJOR_INNER},ticks:{stroke:a.grid.line.minor.color}}),ee()(!0,{},l,{key:"time-outer-grid",x:{scale:yp.SCALE.MAIN.MAJOR}})]:[ee()(!0,{},l,{key:"continuous-grid",x:{scale:yp.SCALE.MAIN.MAJOR},minorTicks:{show:!0}})]}({layoutModel:t,themeModel:i})))}function Ay(e){var t=e.context,n=e.chart,r=e.layoutModel,o=e.extremumModel,i=e.dockModel,a=r.getLayoutValue("dataPoint",{});if(!a.show||!a.showLabels)return!1;var l="vertical"===i.major.orientation;if("none"!==r.getLayoutValue("dimensionAxis",{}).show){var u=i.major.dock;if(l&&"top"===u)return!1;if(!l&&u===(t.rtl?"left":"right"))return!1}var s=t.rtl?"left":"right";return{type:"label-space",key:yp.COMPONENT.LABEL_SPACE,layout:{minimumLayoutMode:ly.LABEL_SPACE,dock:l?"top":s},settings:{size:l?21:42},show:function(e){var t=n.component(yp.COMPONENT.LINE);if(!t||!t.rect)return!1;var r=(l?17:34)/t.rect[l?"height":"width"],i=o.query.getExtrema(),a=n.scale(yp.SCALE.MAIN.MINOR)(i.implicit.max);return(l||e?a:1-a)<r}}}function qy(){var e={medians:{}},t=function(t){var n,r,o=t.id;return void 0===e.medians[o]&&(e.medians[o]=(n=t.data,r=n.map((function(e){return e.end.value})).sort((function(e,t){return t-e})),Math.abs(r[Math.floor(r.length/2)]))),e.medians[o]};return function(e,n){return t(n)-t(e)}}function Dy(e){return function(e){if(Array.isArray(e))return Ty(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ty(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ny(e){return function(e){if(Array.isArray(e))return Ly(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ly(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iy(e){var t=e.isVertical,n=e.isArea,r=e.isContinuous,o=e.isReduced,i=e.rtl;return function(e){var a=e.datum.points,l=(0,e.resources.scale)(r&&o?yp.SCALE.REDUCED.COLOR:yp.SCALE.MAIN.COLOR),u=a.map((function(e){return e.end.value})).filter((function(e){return"NaN"!==e&&!Number.isNaN(e)})),s=Math.min.apply(Math,Ny(u)),c=Math.max.apply(Math,Ny(u)),f=n?Math.min(0,s):s,d=n?Math.max(0,c):c,p=d-f,m=0===p?1:p,h=l.domain().map((function(e){return{color:l(Math.min(d,Math.max(f,e))),offset:Math.min(1,Math.max(0,(e-f)/m))}}));return{type:"gradient",x1:!t&&i?1:0,x2:t||i?0:1,y1:t?1:0,y2:0,stops:h}}}function jy(e){return function(e){if(Array.isArray(e))return Py(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Py(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ry(e){var t=e.isVertical,n=e.isArea,r=e.isContinuous,o=e.isReduced,i=e.fallback,a=e.rtl;return function(e){for(var l=e.datum.points,u=(0,e.resources.scale)(r&&o?yp.SCALE.REDUCED.COLOR:yp.SCALE.MAIN.COLOR),s=l.map((function(e){return e.end.value})).filter((function(e){return"NaN"!==e&&!Number.isNaN(e)})),c=Math.min.apply(Math,jy(s)),f=Math.max.apply(Math,jy(s)),d=n?Math.min(0,c):c,p=(n?Math.max(0,f):f)-d,m=0===p?1:p,h=u.domain(),g=[],y=0;y<h.length-1;y++){var v=h[y],b=u(v)||i;g.push({color:b,offset:Math.min(1,Math.max(0,(v-d)/m))});var x=h[y+1];g.push({color:b,offset:Math.min(1,Math.max(0,(x-d)/m))})}return{type:"gradient",x1:!t&&a?1:0,x2:t||a?0:1,y1:t?1:0,y2:0,stops:g}}}function _y(e){var t=e.context,n=e.layoutModel,r=e.colorModel,o=e.dockModel,i=e.isArea,a=e.isReduced,l=t.rtl,u=n.meta,s=u.isTwoDimensional,c=u.hasMultipleMeasures,f=u.isContinuous,d=u.isStacked&&n.getLayoutValue("separateStacking",!0)?"point":"end",p=r.main,m=p.settings,h=p.model,g=m(),y=g.mode,v=g.type,b=g.nil,x="vertical"===o.major.orientation;if(!y||"constant"===v)return h().color();var M=n.getLayoutValue("color",{}),O=!M.auto&&"byExpression"===M.mode,w=!!M.colorExpression;if(O&&!w)return b;if(s&&!O)return h().color();var S=!M.auto&&"byMeasure"===M.mode&&M.byMeasureDef&&void 0!==M.byMeasureDef.activeMeasureIndex;return c||!S?function(e){var t=e.property,n=e.isVertical,r=e.isColor,o=e.fallback,i=e.rtl,a=e.isContinuous,l=e.isReduced;return function(e){for(var u=e.datum,s=e.resources.scale,c=s(l?yp.SCALE.REDUCED.MAJOR:yp.SCALE.MAIN.MAJOR),f=s(a&&l?yp.SCALE.REDUCED.COLOR:yp.SCALE.MAIN.COLOR),d=n&&i?Dy(u.points).reverse():u.points,p=d.reduce((function(e,n,r){var o="NaN"===n[t].value||Number.isNaN(n[t].value),i=d[r+1],a=i&&"NaN"!==i[t].value&&!Number.isNaN(i[t].value);return o?e.length&&a&&e.push(n):e.push(n),e}),[]),m=p.map((function(e){return c(e.major.value)})),h=Math.min.apply(Math,Dy(m)),g=Math.max.apply(Math,Dy(m))-h,y=0===g?1:g,v=m.map((function(e,t){return 0===t?0:t===m.length-1?1:(e-h)/y})),b=[],x=0;x<p.length;x++){var M=p[x],O=M.color&&M.color.value,w=r?O||o:f(O)||o,S=0===x,k=x===p.length-1,C=v[x];if("NaN"===M[t].value||Number.isNaN(M[t].value))b[x-1].virtual||b.push({virtual:!0});else{var E=p[x-1];E&&"NaN"!==E[t].value&&!Number.isNaN(E[t].value)?b.push({color:w,offset:S?0:Math.max(0,parseFloat((C-(C-v[x-1])/2).toFixed(5)))}):b.push({color:w,offset:C});var A=p[x+1];A&&"NaN"!==A[t].value&&!Number.isNaN(A[t].value)?b.push({color:w,offset:k?1:Math.max(0,parseFloat((C+(v[x+1]-C)/2).toFixed(5)))}):b.push({color:w,offset:C})}}var q=b.reduce((function(e,t,n){if(t.virtual){var r=b[n-1],o=b[n+1],i=r.offset+(o.offset-r.offset)/2;e.push({color:r.color,offset:i},{color:o.color,offset:i})}else e.push(t);return e}),[]);return{type:"gradient",x1:0,x2:n?1:0,y1:0,y2:n?0:1,stops:q}}}({property:d,isVertical:x,isColor:O&&M.expressionIsColor,fallback:b,rtl:l,isContinuous:f,isReduced:a}):("continuous"===v?Iy:Ry)({isVertical:x,isArea:i,isContinuous:f,isReduced:a,fallback:b,rtl:l})}var zy=function(e){return void 0===e.strokeLinejoin};function Fy(e){var t=e.context,n=e.layoutModel,r=e.colorModel,o=e.extremumModel,i=e.dockModel,a=e.styleModel,l=e.tickModel,u=n.meta,s=u.isStacked,c=u.isArea,f=u.isConnect,d=n.getLayoutValue("measureAxis.logarithmic",!1),p=n.getLayoutValue("separateStacking",!0),m=qy(),h=r.main.settings().fieldType,g={key:yp.COMPONENT.LINE,type:"line",data:{collection:yp.COLLECTION.MAIN},settings:{coordinates:{minor:{scale:yp.SCALE.MAIN.MINOR,fn:function(e){if(s&&p){var t=e.datum.point.value<0?e.datum.start.value:e.datum.end.value;return e.scale(t)}return e.scale(e.datum.end.value)}},major:{scale:yp.SCALE.MAIN.MAJOR,ref:"major"},layerId:{ref:"line"}},orientation:i.minor.orientation,layers:{sort:m,curve:a.query.line.getCurve(),line:{stroke:_y({context:t,layoutModel:n,colorModel:r,dockModel:i}),strokeWidth:a.query.line.getStrokeWidth(),strokeDasharray:a.query.line.getStrokeDasharray(),strokeLinejoin:"round",showMinor0:!1}},connect:f},brush:{consume:[{context:"selection",data:["selectionDimension"],filter:function(e){return!zy(e)},style:{active:{opacity:.5},inactive:{opacity:.5}}}]}};return(d||s)&&(g.settings.coordinates.minor0={scale:yp.SCALE.MAIN.MINOR,fn:function(e){if(s){if(p){var t=e.datum.point.value<0?e.datum.end.value:e.datum.start.value;return e.scale(t)}return e.scale(e.datum.start.value)}var n=o.query.getExtrema().meta.includesZero?0:l.query.getMin();return e.scale(n)}}),c&&(g.settings.layers.area={fill:_y({context:t,layoutModel:n,colorModel:r,dockModel:i,isArea:!0}),opacity:"measure"===h||"expression"===h?.6:.3},g.brush.consume.push({context:"selection",data:["selectionDimension"],filter:function(e){return zy(e)},style:{active:{opacity:.15},inactive:{opacity:.15}}})),g}function Uy(e){var t=e.context,n=e.layoutModel,r=e.extremumModel,o=e.dockModel,i=e.themeModel,a=e.tickModel,l=n.meta,u=l.isZero,s=l.isStacked,c=r.query.getExtrema();if(!c.meta.hasExplicitMin&&!u)return!1;var f=n.getLayoutValue("separateStacking",!0),d=Number(c.implicit.min.toFixed(13)),p=t.rtl,m=o.major,h=m.dock,g=m.orientation,y=i.query.getStyle(),v=n.getLayoutValue("measureAxis.logarithmic",!1)&&!c.meta.includesZero;return{type:"out-of-bounds-marker",key:yp.COMPONENT.OUT_OF_MIN_BOUNDS,layout:{dock:h,minimumLayoutMode:ly.OUT_OF_BOUNDS_MARKER},data:{collection:yp.COLLECTION.MAIN},settings:{type:"min",extremum:function(){return a.query.getMin()},separateStacking:s&&f,orientation:g,rtl:p,major:{scale:yp.SCALE.MAIN.MAJOR}},show:function(){var e=a.query.getMin();return!(d>=e&&!u)&&!(u&&(v||e<=0)&&d>=e)},style:{fill:y.outOfRange.color}}}function Hy(e){var t=e.context,n=e.layoutModel,r=e.extremumModel,o=e.dockModel,i=e.themeModel,a=e.tickModel,l=n.meta,u=l.isZero,s=l.isStacked,c=r.query.getExtrema();if(!c.meta.hasExplicitMax&&!u)return!1;var f=n.getLayoutValue("separateStacking",!0),d=Number(c.implicit.max.toFixed(13)),p=t.rtl,m=o.major,h=m.opposite,g=m.orientation,y=i.query.getStyle(),v=n.getLayoutValue("measureAxis.logarithmic",!1)&&!c.meta.includesZero;return{type:"out-of-bounds-marker",key:yp.COMPONENT.OUT_OF_MAX_BOUNDS,layout:{dock:h,minimumLayoutMode:ly.OUT_OF_BOUNDS_MARKER},data:{collection:yp.COLLECTION.MAIN},settings:{type:"max",extremum:function(){return a.query.getMax()},separateStacking:s&&f,orientation:g,rtl:p,major:{scale:yp.SCALE.MAIN.MAJOR}},show:function(){var e=a.query.getMax();return!(d<=e&&!u)&&!(u&&(v||e>=0)&&d<=e)},style:{fill:y.outOfRange.color}}}var By=Ol.getInputValue,Vy=Ol.extractInfoFromInputValue,Wy={resolveValue:Ol.resolveValue,resolveInnerValues:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel;if(r.meta.isGroupedByDimension){var o=By({refLineLayout:t,layoutModel:r});return Vy(o,n,"innerValues")}},resolveNumInnerValues:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel;if(r.query.isQMode("K"))return 0;var o=By({refLineLayout:t,layoutModel:r});return Vy(o,n,"numInnerValues")||0},resolveValueText:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel,o=n.dimensionValuesInfo,i=r.meta.canBeContinuous,a=By({refLineLayout:t,layoutModel:r});return o[a]&&i?o[a].qText:a},resolveValueInfo:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel,o=By({refLineLayout:t,layoutModel:r});return n.dimensionRefLineInfo[o]}},Gy=function(e){var t,n,r=e.refLineLayout,o=e.refLineModel,i=e.layoutModel,a=e.colorModel,l=e.dockModel,u=e.chart,s=e.scale,c=e.axis,f=e.isDimension,d=e.align,p=e.invert,m=e.component,h=e.isContinuous,g={dir:c,line:{strokeWidth:(null==r||null===(t=r.style)||void 0===t?void 0:t.lineThickness)||2,strokeDasharray:null==r||null===(n=r.style)||void 0===n?void 0:n.lineType,stroke:a.resolveUIColor(r.paletteColor||{index:r.color})}};return!f||i.meta.isContinuous?(g.scale=s,g.value=r.refLineExpr.value):g.value=function(){return Ol.getScaledPosition({scale:u.scale(s),value:Wy.resolveValue({refLineLayout:r,refLineModel:o,layoutModel:i}),valueInfo:Wy.resolveValueInfo({refLineLayout:r,refLineModel:o,layoutModel:i}),size:u.component(m).rect["vertical"===l.major.orientation?"width":"height"],align:d,invert:p,layoutModel:i,isContinuous:h})},g};function Ky(e){var t=e.refLineModel,n=void 0===t?{}:t,r=e.layoutModel,o=e.dockModel,i=e.colorModel,a=e.chart,l=e.rtl,u=e.minimumLayoutMode,s=e.minorScale,c=e.majorScale,f=e.mainComponentKey,d=e.key,p=r.meta.isContinuous,m=n.measureRefLines,h=void 0===m?[]:m,g=n.dimensionRefLines,y=void 0===g?[]:g;if(!h.length&&!y.length)return!1;var v={key:d,type:"ref-line",layout:{minimumLayoutMode:u},lines:{y:[],x:[]},style:{oob:{show:!1}},preferredSize:function(){return{size:0,edgeBleed:{left:1,right:1,top:1,bottom:1}}}},b=$a.getMinorScaleAxis(o.major.orientation),x=s;h.forEach((function(e){v.lines[b].push(Gy({refLineLayout:e,refLineModel:n,layoutModel:r,colorModel:i,chart:a,scale:x,axis:b,isContinuous:!0}))}));var M="vertical"===o.major.orientation&&l;return b=$a.getMajorScaleAxis(o.major.orientation),x=c,y.forEach((function(e){var t=e.align;v.lines[b].push(Gy({refLineLayout:e,refLineModel:n,layoutModel:r,colorModel:i,chart:a,scale:x,axis:b,isDimension:!0,align:t,invert:M,dockModel:o,component:f,isContinuous:p}))})),v}var $y=function(e){var t=e.layoutModel,n=e.style,r=e.labels,o=e.scale,i=e.formatter,a=e.dock,l=e.key,u=e.rtl;return{key:l,type:"reference-line-labels",renderer:"svg",labels:r,formatter:i,scale:o,layoutModel:t,layout:{dock:a,rtl:u},theme:e.theme,isContinuous:e.isContinuous,isDimension:e.isDimension,localeInfo:e.localeInfo,style:{label:{fontFamily:n.referenceLine.label.name.fontFamily,fontSize:n.referenceLine.label.name.fontSize,padding:{top:2,bottom:2,left:u?2:4,right:u?4:2},background:{padding:{top:1,bottom:1,left:2,right:2}},maxWidth:100,gap:"left"===a||"right"===a?10:16},oob:{size:8,fill:n.referenceLine.outOfBounds.backgroundColor,text:{fontFamily:n.referenceLine.outOfBounds.fontFamily,fontSize:n.referenceLine.outOfBounds.fontSize,fill:n.referenceLine.outOfBounds.color,background:{fill:n.referenceLine.outOfBounds.backgroundColor}}}}}},Xy=function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel,o=e.colorModel,i=e.scale,a=e.theme,l=e.isContinuous,u=o.resolveUIColor(t.paletteColor||{index:t.color}),s={align:t.align,text:t.label,fill:t.coloredBackground?a.getContrastingColorTo(u):u,showValue:!1!==t.showValue,showLabel:!1!==t.showLabel,inputValue:t.refLineExpr.value,inputValueLabel:t.refLineExpr.label};return t.coloredBackground&&(s.background={fill:u}),l?(s.scale=i,s.value=t.refLineExpr.value):(s.value=function(){return Wy.resolveValue({refLineLayout:t,refLineModel:n,layoutModel:r})},s.valueText=function(){return Wy.resolveValueText({refLineLayout:t,refLineModel:n,layoutModel:r})},s.valueInfo=function(){return Wy.resolveValueInfo({refLineLayout:t,refLineModel:n,layoutModel:r})}),s};function Zy(e){return function(e){if(Array.isArray(e))return Jy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yy(e){var t=e.context,n=e.refLineModel,r=e.layoutModel,o=e.colorModel,i=e.dockModel,a=e.themeModel,l=e.chart,u=t.rtl,s=t.theme,c=t.localeInfo,f=a.query.getStyle(),d=o.main.model();return[Ky({refLineModel:n,layoutModel:r,colorModel:d,dockModel:i,chart:l,rtl:u,key:yp.COMPONENT.REFERENCE_LINE,mainComponentKey:yp.COMPONENT.LINE,minorScale:yp.SCALE.MAIN.MINOR,majorScale:yp.SCALE.MAIN.MAJOR,minimumLayoutMode:ly.REFERENCE_LINE})].concat(Zy(function(e){var t=e.refLineModel,n=void 0===t?{}:t,r=e.layoutModel,o=e.dockModel,i=e.colorModel,a=e.style,l=e.rtl,u=e.minorScale,s=e.majorScale,c=e.minorRefKey,f=e.majorRefKey,d=e.minorFormatter,p=e.theme,m=e.localeInfo,h=n.measureRefLineLabels,g=void 0===h?[]:h,y=n.dimensionRefLineLabels,v=void 0===y?[]:y;if(!g.length&&!v.length)return[];var b,x=[],M=u,O=!0;return g.length&&(b=g.map((function(e){return Xy({refLineLayout:e,refLineModel:n,layoutModel:r,colorModel:i,scale:M,theme:p,isContinuous:O})})),x.push($y({rtl:l,style:a,dock:o.minor.opposite,key:c,labels:b,scale:M,formatter:d,layoutModel:r,theme:p,isContinuous:O,localeInfo:m}))),v.length&&(O=r.meta.isContinuous,M=s,b=v.map((function(e){return Xy({refLineLayout:e,refLineModel:n,layoutModel:r,colorModel:i,scale:M,theme:p,isContinuous:O})})),x.push($y({rtl:l,style:a,dock:o.major.opposite,key:f,labels:b,scale:M,layoutModel:r,theme:p,isContinuous:O,isDimension:!0,localeInfo:m}))),x}({refLineModel:n,layoutModel:r,colorModel:d,dockModel:i,style:f,rtl:u,minorScale:yp.SCALE.MAIN.MINOR,majorScale:yp.SCALE.MAIN.MAJOR,minorRefKey:yp.COMPONENT.MEASURE_REFERENCE_LINE_LABEL,majorRefKey:yp.COMPONENT.DIMENSION_REFERENCE_LINE_LABEL,minorFormatter:yp.FORMATTER.MINOR,theme:s,localeInfo:c})))}var Qy={LINE:{CURVE:{LINEAR:"linear",MONOTONE:"monotone",STEP:"step"},WIDTH:{FULL:{DEFAULT:2,ACTIVE:2},LESS:{DEFAULT:1,ACTIVE:1}},TYPE:{SOLID:void 0,DASHED:"5, 5"}},POINT:{SIZE:{DEFAULT:6,ACTIVE:4}}};function ev(e){var t=e.layoutModel,n=t.meta.isConnect,r=function(e){var t=e.layoutModel.meta.isDiscrete;return function(e){var n=e.item;if(n.dummy)return t;var r=n.end.value;return"NaN"===r||Number.isNaN(r)}}({layoutModel:t}),o=n?function(e,t){return 0!==e&&t.slice(0,e).reverse().some((function(e){return!r({item:e})}))}:function(e,t){return 0!==e&&!r({item:t[e-1]})},i=n?function(e,t){return e!==t.length-1&&t.slice(e+1,t.length).some((function(e){return!r({item:e})}))}:function(e,t){return e!==t.length-1&&!r({item:t[e+1]})};return function(e){var t=e.index,n=e.items;return{before:o(t,n),after:i(t,n)}}}function tv(e){var t=e.layoutModel,n={key:void 0,map:void 0},r=ev({layoutModel:t});return function(e){var o=e.item,i=e.items;n.key!==i&&(n.key=i,n.map=function(e){var t=e.layoutModel,n=e.items,r=t.meta.isOneDimensional,o=n.reduce((function(e,t){var n=t.line.value;return e[n]||(e[n]={items:[],keys:[]}),e[n].items.push(t),e[n].keys.push("".concat(t.major.value,"-").concat(t.line.value)),e}),{});if(r||1===Object.keys(o).length)return o;var i=n.map((function(e){return e.major.value})),a=i.filter((function(e,t){return i.indexOf(e)===t})),l=Object.keys(o),u={};return a.forEach((function(e){l.forEach((function(t){u[t]||(u[t]={items:[],keys:[]});var n=o[t].items.filter((function(t){return t.major.value===e}))[0];u[t].items.push(n||{dummy:!0}),u[t].keys.push(n?"".concat(n.major.value,"-").concat(n.line.value):"dummy")}))})),u}({layoutModel:t,items:i}));var a=o.line.value,l=n.map[a],u="".concat(o.major.value,"-").concat(o.line.value),s=l.keys.indexOf(u),c=r({index:s,items:l.items}),f=c.before,d=c.after;return!f&&!d}}function nv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rv={MIN:3,MAX:20};function ov(e){var t,n=e.selectionModel,r=e.layoutModel,o=e.colorModel,i=e.dockModel,a=e.styleModel,l=e.tickModel,u=r.meta,s=u.isContinuous,c=u.isStacked,f=r.getLayoutValue("separateStacking",!0),d=r.getLayoutValue("dataPoint.show",!1),p=o.main.model().color(),m="vertical"===i.major.orientation,h="SPARK"===i.mode,g=tv({layoutModel:r});return{key:yp.COMPONENT.POINT,type:"point",data:{collection:yp.COLLECTION.MAIN},preferredSize:function(){return{edgeBleed:{top:m?Qy.POINT.SIZE.DEFAULT/2:0}}},settings:(t={},nv(t,m?"y":"x",{scale:yp.SCALE.MAIN.MINOR,fn:function(e){if(c&&f){var t=e.datum.point.value<0?e.datum.start.value:e.datum.end.value;return e.scale(t)}return e.scale(e.datum.end.value)}}),nv(t,m?"x":"y",{scale:yp.SCALE.MAIN.MAJOR,ref:"major"}),nv(t,"sizeLimits",{minPx:rv.MIN,maxPx:rv.MAX}),nv(t,"size",(function(e){var t=e.datum.line.value,n=a.query.point.getSize(t);return"".concat(n,"px")})),nv(t,"fill",p),nv(t,"opacity",(function(e){var t=l.query.getMin(),n=l.query.getMax(),r=e.datum,o=(c&&f&&r.point&&r.point.value<0?r.start:r.end).value;return r.null.value||r.interpolated.value?0:o<t||o>n?.01:h?g({item:r,items:e.data.items})?1:0:d||g({item:r,items:e.data.items})?1:0})),t),brush:{consume:[{context:"selection",data:["selectionDimension","selectionOuterDimension","end",yp.SCALE.MAIN.COLOR,"major"],filter:function(e){return!e.data.null.value&&!e.data.interpolated.value},style:{active:{r:function(e){return e.r+Qy.POINT.SIZE.ACTIVE/2},opacity:function(e){if(.01===e.opacity)return 0;if(!s||d)return 1;var t=n.query.getSelectionInfo(),r=t.event,o=t.components;return"continuousRange"===r?0:"tap"!==r?1:[yp.COMPONENT.MAJOR_AXIS_OVERLAY_CONTINUOUS,yp.COMPONENT.MAJOR_AXIS_OVERLAY_TIME_INNER,yp.COMPONENT.MAJOR_AXIS_OVERLAY_TIME_OUTER].some((function(e){return o.indexOf(e)>=0}))?0:1},strokeWidth:1.5,stroke:"#FFFFFF"},inactive:{opacity:function(e){return 1===e.opacity?.5:0}}}}]}}}function iv(e){var t=e.context,n=e.discrete,r=e.layoutModel,o=e.dockModel,i=e.themeModel,a=r.getLayoutValue("dataPoint");if(!a)return!1;if(!a.show||!a.showLabels)return!1;var l=t.rtl,u=r.meta,s=u.isDiscrete,c=u.isStacked,f=u.isOneDimensional,d=u.isConnect,p=s?function(){return n.query.getItemSize()}:function(){},m=c?function(e){return e.point.label}:function(e){return e.end.label},h=f?function(e){return e.value}:function(e){return e.major.value},g=i.query.getStyle();return{type:"point-label",key:"point-label",layout:{minimumLayoutMode:ly.VALUE_LABEL},settings:{orientation:o.major.orientation,rtl:l,itemSize:p,connect:d||!s&&!f,label:m,pointValue:function(e){return e.end.value},majorValue:h},style:{fontFamily:g.label.value.fontFamily,fontSize:g.label.value.fontSize,fill:g.label.value.color}}}function av(e){var t=e.layoutModel;return!(!t.meta.isContinuous||!Sg({layoutModel:t}).miniChart)&&{type:"range",key:"range-brush-highlighter",layout:{dock:"@scrollbar"},settings:{scale:yp.SCALE.REDUCED.MAJOR,brush:"selection",fill:"#6CB33F",opacity:.2}}}function lv(e){var t=e.context,n=e.discrete,r=e.continuous,o=e.layoutModel,i=e.colorModel,a=e.extremumModel,l=e.dockModel,u=e.styleModel,s=e.tickModel;if(!Sg({layoutModel:o}).miniChart)return!1;var c=o.meta,f=c.isDiscrete,d=c.isTwoDimensional,p=c.isStacked,m=c.isSnapshot,h=c.isArea,g=c.isConnect;if(f&&d&&!p)return!1;if(m&&p&&!o.getLayoutValue("reducedHyperCube"))return!1;var y=f?function(){return n.query.getCanScroll()}:function(){return r.getDimensionCardinality()>1},v=o.getLayoutValue("measureAxis.logarithmic",!1),b=o.getLayoutValue("separateStacking",!0),x=i.main.settings().fieldType,M=l.minor.orientation,O=u.query.line.getStrokeDasharray(),w={key:yp.COMPONENT.REDUCED_LINE,type:"line",data:{collection:yp.COLLECTION.REDUCED},layout:{dock:"@scrollbar",minimumLayoutMode:ly.REDUCED_LINE},show:y,settings:{coordinates:{minor:{scale:yp.SCALE.REDUCED.MINOR,fn:function(e){if(p&&b){var t=e.datum.point.value<0?e.datum.start.value:e.datum.end.value;return e.scale(t)}return e.scale(e.datum.end.value)}},major:{scale:yp.SCALE.REDUCED.MAJOR,ref:"major"},layerId:{ref:"line"}},orientation:M,layers:{curve:u.query.line.getCurve(),line:{stroke:_y({context:t,layoutModel:o,colorModel:i,dockModel:l,isReduced:!0}),strokeWidth:1,strokeDasharray:function(){var e=O.apply(void 0,arguments);return void 0===e?void 0:"1, 1"},strokeLinejoin:"round",showMinor0:!1}},connect:!d&&g}};return(v||p)&&(w.settings.coordinates.minor0={scale:yp.SCALE.REDUCED.MINOR,fn:function(e){if(p){if(b){var t=e.datum.point.value<0?e.datum.end.value:e.datum.start.value;return e.scale(t)}return e.scale(e.datum.start.value)}var n=a.query.getExtrema().meta.includesZero?0:s.query.getMin();return e.scale(n)}}),h&&(w.settings.layers.area={fill:_y({context:t,layoutModel:o,colorModel:i,dockModel:l,isArea:!0,isReduced:!0}),opacity:"measure"===x||"expression"===x?.6:.3}),w}function uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uv(Object(n),!0).forEach((function(t){cv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fv(e){var t=e.layoutModel,n=e.discrete;return function(e){var r=e.h,o=e.rect,i=e.orientation,a=e.minThumbSize,l=n.query.getCurrentDataPage(),u=t.meta.size.y,s="vertical"===i,c=o[s?"width":"height"],f=l.qArea.qTop/u*c,d=l.qArea.qHeight/u*c;if(d<a){var p=(a-d)/2;f=f-p+(Math.max(0,0-(f-p))-Math.max(0,f+d+p-c)),d=a}return r("div",{style:sv({position:"absolute",right:0,bottom:0,background:"red",opacity:.2},s?{top:0,left:f,width:d}:{top:f,left:0,height:d})})}}function dv(e){var t=e.layoutModel,n=e.viewState,r=e.viewCache;return t.meta.isContinuous?function(e,t){var n=e.get("zoom"),r=t.get("continuousMin"),o=t.get("continuousMax");return[(n.min-r)/(o-r),(n.max-r)/(o-r)]}(n,r):function(e){return e.get("viewRange")}(n)}function pv(e){var t=e.context,n=e.viewState,r=e.viewCache,o=e.discrete,i=e.continuous,a=e.layoutModel,l=e.dockModel,u=t.rtl,s=a.meta,c=s.isDiscrete,f=s.isTwoDimensional,d=s.isStacked;return!(s.isSnapshot&&d&&!a.getLayoutValue("reducedHyperCube"))&&function(e){var t=e.layoutModel,n=e.dockModel,r=e.discrete,o=e.continuousDataModel,i=e.viewState,a=e.viewCache,l=e.themeModel,u=void 0===l?{}:l,s=e.rtl,c=e.scrollbarOverride,f=e.visualizeCache,d=void 0!==f&&f,p=Sg({layoutModel:t,override:c});if(p.none)return!1;var m={key:"scrollbar",type:"scrollbar",layout:{dock:"vertical"===n.major.orientation?n.minor.minDock:n.minor.maxDock,minimumLayoutMode:"XSMALL"},show:function(){return t.meta.isContinuous?o.getDimensionCardinality()>1:r.query.getCanScroll()},settings:{orientation:n.major.orientation,rtl:s,isContinuous:t.meta.isContinuous,range:function(){return dv({layoutModel:t,viewState:i,viewCache:a})}}};return p.bar&&(m.settings.style="slim",m.settings.size={area:{max:8,min:8}},t.meta.isContinuous||(m.settings.size.thumb={min:4})),u.color&&(m.style={standard:{thumb:{"border-color":u.color,opacity:.4},before:{background:u.color,opacity:.1},after:{background:u.color,opacity:.1}}}),t.meta.isDiscrete&&d&&(m.settings.injections=function(){return[fv({layoutModel:t,discrete:r})]}),m}({viewState:n,viewCache:r,discrete:o,continuousDataModel:i,layoutModel:a,dockModel:l,rtl:u,scrollbarOverride:{predicate:function(e){var t=e.scrollbar;return c&&f&&!d&&t.miniChart},value:Mg.OPTIONS.BAR.value}})}function mv(e){var t=e.nodes,n=[];return t.reduce((function(e,t){return!t.data||t.data.null.value||t.data.interpolated.value||-1===n.indexOf(t.data.end.value)&&(n.push(t.data.end.value),e.push(t)),e}),[]).sort((function(e,t){return t.data.end.value-e.data.end.value}))}function hv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yv(e){var t=e.chart,n=hv(e.nodes,1)[0],r=t.findShapes("circle").filter((function(e){return e.key===yp.COMPONENT.POINT&&e.data.major.value===n.data.value})).sort((function(e,t){return t.data.end.value-e.data.end.value}))[0];return r?[r]:[]}function vv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xv(e){var t=vv(e.nodes,1)[0];return t?[t]:[]}function Mv(e){var t=e.chart,n=e.nodes;return n.length?function(e){switch(e.key){case yp.COMPONENT.POINT:return mv;case yp.COMPONENT.MAJOR_AXIS:return yv;case yp.COMPONENT.OUT_OF_MAX_BOUNDS:case yp.COMPONENT.OUT_OF_MIN_BOUNDS:return xv;default:return function(){return[]}}}({key:n[0].key})({chart:t,nodes:n}):[]}function Ov(e){var t=e.node,n=e.chart,r=t.localBounds,o=n.component(yp.COMPONENT.POINT).rect,i=o.scaleRatio,a=o.computedInner,l=r.width*i.x,u=r.height*i.y,s=r.x*i.x+l/2+a.x,c=r.y*i.y+u/2+a.y;return n.shapesAt({cx:s,cy:c,r:Math.max(l,u)},{components:[{key:yp.COMPONENT.POINT}]}).filter((function(e){return!e.data.null.value&&!e.data.interpolated.value}))}function wv(e){var t=e.node;return e.chart.findShapes("circle").filter((function(e){return e.key===yp.COMPONENT.POINT&&e.data.major.value===t.data.major.value}))}function Sv(e){var t=e.node;return e.chart.findShapes("circle").filter((function(e){return e.key===yp.COMPONENT.POINT&&e.data.major.value===t.data.major.value}))}function kv(e){var t=e.chart;return function(e){var n=e.source,r=e.node;return function(e){switch(e.source){case yp.COMPONENT.POINT:return Ov;case yp.COMPONENT.MAJOR_AXIS:return wv;case yp.COMPONENT.OUT_OF_MAX_BOUNDS:case yp.COMPONENT.OUT_OF_MIN_BOUNDS:return Sv;default:return function(){return[]}}}({source:n})({node:r,chart:t})}}function Cv(e){return function(e){if(Array.isArray(e))return Ev(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Av={getColorSymbol:function(e,t){return e.h("div",{style:{display:"inline-block",width:"10px",height:"10px","background-color":t.color.fill,margin:"0 8px"}})},getNodeFillColor:function(e){return e.attrs&&void 0!==e.attrs.fill?e.attrs.fill:e.children&&e.children[0]&&e.children[0].attrs&&void 0!==e.children[0].attrs.fill?e.children[0].attrs.fill:void 0},getColor:function(e,t,n){var r=t.data,o=e.resources.formatter,i=e.resources.dataset,a={};if(n.coloring.label&&(a.label="".concat(n.coloring.label)),"color"!==n.coloring.type&&r.fillTooltip){var l=o("fill"),u="measure"===n.coloring.fieldType;if(a.value=u&&l?l(r.fillTooltip.value):r.fillTooltip.label?r.fillTooltip.label:r.fillTooltip.value,!n.coloring.label){var s=i(r.fillTooltip.source.key).field(r.fillTooltip.source.field).title();a.label="".concat(s)}}return a.fill=void 0===r._fillColor?Av.getNodeFillColor(t):r._fillColor,a},getMeasure:function(e,t){var n=e(t.source.key).field(t.source.field).title();return{label:"".concat(n),value:""===t.label||"NaN"===t.label?"-":t.label,field:t.source.field}},hideColorRow:function(e,t){return void 0===e.color.value||e.measures.some((function(e){return e.field===t.coloring.field}))},getTitleRow:function(e,t){var n=Ku.detectTextDirection(e.title);return[{content:e.title,style:{"font-weight":"bold","text-align":t.rtl?"right":"left",direction:n},colspan:2},{}]},getDescriptionRow:function(e,t){var n=Ku.detectTextDirection(e.value);return[{content:e.value,style:{"text-align":t.rtl?"right":"left",direction:n},colspan:2},{}]},getImageRow:function(e,t){var n=Ku.detectTextDirection(e.src),r=[],o={style:{display:"block","margin-left":"auto","margin-right":"auto",overflow:"hidden",width:e.width,height:e.height}};if("original"===e.size||e.imageError){r.push(t.h("span",{style:{display:"inline-block",height:"100%","vertical-align":"middle"}}));var i=e.imageError?"".concat(e.src,"?").concat(Math.random()):e.src;r.push(t.h("img",{style:{"max-width":e.width,"max-height":e.height,"vertical-align":"middle"},src:i,referrerpolicy:"no-referrer"})),o.style["text-align"]="center",o.style["white-space"]="nowrap"}else o.style["background-size"]="contain",o.style["background-repeat"]="no-repeat",o.style["background-position"]="center",o.style["background-image"]="url('".concat(e.src,"')");return[{content:[t.h("div",o,r),""],style:{"text-align":t.rtl?"right":"left",direction:n,"max-width":e.width},colspan:2},{}]},getNMoreRow:function(e,t,n){var r=t?t.get("Object.ChartTooltip.NMore",e):"+".concat(e," more"),o=Ku.detectTextDirection(r);return[{content:r,style:{"font-weight":"bold","text-align":n.rtl?"right":"left",direction:o},colspan:2},{}]},getSeparatorRow:function(){return[{content:"",style:{"background-image":"linear-gradient(transparent 8px, rgba(255, 255, 255, 0.4) 8px, rgba(255, 255, 255, 0.4) 9.2px, transparent 9.2px)",height:"17px"},colspan:2},{}]},getColorRow:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ku.detectTextDirection(t.color.label),o=n.rtl?[":",t.color.label]:[t.color.label,":"],i=Ku.detectTextDirection(t.color.value),a=n.rtl?[t.color.value,Av.getColorSymbol(e,t)]:[Av.getColorSymbol(e,t),t.color.value];return[{content:o,style:{"text-align":n.rtl?"right":"left",direction:r}},{content:a,style:{"text-align":n.rtl?"left":"right",direction:i,"vertical-align":"middle"}}]},getMeasureRow:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Ku.detectTextDirection(e.label),l=o.rtl?[":",e.label]:[e.label,":"],u=Ku.detectTextDirection(e.value);return r=i?o.rtl?[e.value,Av.getColorSymbol(t,n)]:[Av.getColorSymbol(t,n),e.value]:[e.value],[{content:l,style:{"text-align":o.rtl?"right":"left",direction:a}},{content:r,style:{"text-align":o.rtl?"left":"right",direction:u,"vertical-align":"middle"}}]}},qv=Av;function Dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dv(Object(n),!0).forEach((function(t){Nv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lv={getCustomAttrExps:function(e,t,n,r){var o,i,a={customTooltipAttrExpsArr:[],customTooltipInfoAttrExpsArr:[]},l=(null===(o=t.data)||void 0===o||null===(i=o.customTooltipAttrExps)||void 0===i?void 0:i.value)||[];return Number.isNaN(l)?a:function(e,t,n,r,o){var i,a=(Nv(i={},oa.CUSTOM.TITLE,!0),Nv(i,oa.CUSTOM.DESCRIPTION,!0),i),l=Na.getAttrExprData(e),u=l.attrExps,s=l.fieldPath;return 0===t.length||0===u.length||""===s||u.forEach((function(e,i){var l=t[i];if(e.id===oa.CUSTOM.EXPRESSION&&l){var u,c=e.qFallbackTitle;u=!e.qIsAutoFormat&&l&&"NaN"!==l.value?n("qHyperCube").field("".concat(s,"/").concat(i)).formatter()(l.value):e.qIsAutoFormat&&l&&"NaN"!==l.value&&r?r(l.value):l.value,o.customTooltipAttrExpsArr.push({label:c,value:u})}else if(a[e.id]&&l){var f="-"!==l.value&&"NaN"!==l.value?l.value:l.label;f&&"undefined"!==f&&o.customTooltipInfoAttrExpsArr.push(Tv(Tv({},e.id===oa.CUSTOM.TITLE&&{title:f}),{},{value:f,id:e.id}))}})),o}(n,l.map((function(t){return qv.getMeasure(e,t)})),e,r,a)}};function Iv(e){return function(e,t,n,r){var o=[];return e.forEach((function(e){o.push(Lv.getCustomAttrExps(n,e,t,r))})),o}(e.nodes,e.layout,e.dataset,e.formatter).reduce((function(e,t){return{customTooltipAttrExpsArr:e.customTooltipAttrExpsArr.concat(t.customTooltipAttrExpsArr),customTooltipInfoAttrExpsArr:e.customTooltipInfoAttrExpsArr.concat(t.customTooltipInfoAttrExpsArr)}}),{customTooltipAttrExpsArr:[],customTooltipInfoAttrExpsArr:[]})}function jv(e){var t=e.layoutModel,n=e.colorModel,r=e.rtl,o=Ku.detectTextDirection,i=n.main.settings();return function(e){var n=e.context,a=e.nodes,l=function(e){var t=e.layoutModel,n=e.nodes,r=t.meta.isOneDimensional?function(e){return e.data[yp.SCALE.MAIN.COLOR].value===e.data.end.value}:function(e){return e.data[yp.SCALE.MAIN.COLOR].value===e.data.line.value};return n.filter((function(e){return e.data[yp.SCALE.MAIN.COLOR]&&r(e)}))[0]||n[0]}({layoutModel:t,nodes:a}),u=function(e){var t=e.colorSettings,n=e.context,r=e.node.data.colorTooltip;if("color"!==t.type&&r){var o=n.resources.formatter(yp.FORMATTER.COLOR),i=r.value,a=r.label;if(o&&"measure"===t.fieldType)return Number.isNaN(i)?"-":o(r.value);var l=a||i;return Number.isNaN(l)||"NaN"===l?"-":l}}({colorSettings:i,context:n,node:l});if(void 0===u)return!1;var s=function(e){var t=e.colorSettings,n=e.context,r=e.node;if(t.label)return t.label;var o=r.data.colorTooltip;if("color"!==t.type&&o){var i=n.resources.dataset,a=o.source,l=a.key,u=a.field;return i(l).field(u).title()}}({colorSettings:i,context:n,node:l}),c=function(e){var t=e.node,n=t.data,r=t.attrs;return n._fillColor?n._fillColor:r&&r.fill?r.fill:void 0}({node:l}),f=n.h("div",{style:{display:"inline-block",width:10,height:10,"background-color":c,margin:"0 8px"}});return{label:r?[":",s]:[s,":"],value:r?[u,f]:[f,u],labelDirection:o(s),valueDirection:o(u)}}}function Pv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _v(e){var t=e.resources,n=e.layoutModel,r=e.colorModel,o=e.fieldModel,i=e.rtl,a=e.customTooltipModel,l=Ku.detectTextDirection,u=jv({layoutModel:n,colorModel:r,rtl:i}),s=function(e){var t=e.layoutModel,n=e.fieldModel,r=e.rtl,o=Ku.detectTextDirection,i=t.meta,a=i.isOneDimensional,l=i.isStacked,u=n.main.minors;return function(e){var t=e.node,n=e.dataset,i=t.data,s=i.end,c=i.line,f=i.point,d=l?i.source.key:s.source.key,p=l?u[a?c.value:0]:s.source.field,m=(l?f:s).label,h=n(d).field(p).title();return{label:r?[":",h]:[h,":"],value:""===m||"NaN"===m?"-":m,labelDirection:o(h),valueDirection:o(m)}}}({layoutModel:n,colorModel:r,fieldModel:o,rtl:i});return function(e){var r=e.context,o=e.nodes,c=n.meta.isOneDimensional,f=o[0].data,d=r.resources.dataset,p=r.resources.formatter(yp.FORMATTER.MINOR),m=u({context:r,nodes:o}),h=c?f.label:"".concat(f.label,", ").concat(f.major.label),g={title:{label:h,direction:l(h)},color:m},y=o.map((function(e){return s({node:e,dataset:d})}));if(g.measures=m?y.filter((function(e){return e.label[0]!==m.label[0]||e.value!==m.value[1]})):y,t.flags&&t.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&a.useCustomTooltip){var v=n.getLayout();v.tooltip.hideBasic&&(g.measures=[],g.color=void 0);var b=Iv({nodes:o,layout:v,dataset:d,formatter:p}),x=b.customTooltipInfoAttrExpsArr,M=b.customTooltipAttrExpsArr,O=Pv(x.filter((function(e){return e.id===oa.CUSTOM.TITLE})).map((function(e){var t=e;return t.direction=l(g.customTitle),t})),1);g.customTitle=O[0];var w=Pv(x.filter((function(e){return e.id===oa.CUSTOM.DESCRIPTION})).map((function(e){var t=e;return t.direction=l(g.customDescription),t})),1);if(g.customDescription=w[0],g.customMeasures=M.map((function(e){var t=e;return t.label=i?[":",t.label]:[t.label,":"],t.value=""===t.value||"NaN"===t.value?"-":t.value,t.valueDirection=l(e.value),t.labelDirection=l(e.label),e})),t.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")){var S=[];o.forEach((function(e){var t,n;(null===(t=e.data)||void 0===t||null===(n=t.customTooltipImages)||void 0===n?void 0:n.length)>0&&!Array.isArray(e.data.customTooltipImages[0])&&(S=S.concat(e.data.customTooltipImages))})),S.length>0&&(g.customImages=S)}}return g}}var zv=7,Fv=function(e,t){return e+1+(void 0===t.color?0:1)+t.measures.length+(t.customImages&&t.customImages.length>0?zv:0)};function Uv(e){return function(e){if(Array.isArray(e))return Hv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bv(e){var t=e.resources,n=e.chart,r=e.layoutModel,o=e.colorModel,i=e.fieldModel,a=e.rtl,l=e.customTooltipModel,u=kv({chart:n}),s=function(e){return e.layoutModel.meta.isOneDimensional?function(e){var t=e.nodes.reduce((function(e,t){var n=t.data.major.value;return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.keys(t).map((function(e){return t[e]}))}:function(e){return Cv(e.nodes.map((function(e){return[e]})))}}({layoutModel:r}),c=function(e){var t=e.resources,n=e.layoutModel,r=e.colorModel,o=e.fieldModel,i=e.rtl,a=e.customTooltipModel,l=_v({resources:t,layoutModel:n,colorModel:r,fieldModel:o,rtl:i,customTooltipModel:a});return function(e){var t=e.context;return e.groups.map((function(e){var n=l({context:t,nodes:e}),r=n.title,o=n.color,a=n.measures,u=n.customTitle,s=n.customDescription,c=n.customMeasures,f=n.customImages,d={title:[{content:r.label,style:{"font-weight":"bold","text-align":i?"right":"left",direction:r.direction},colspan:2}],color:void 0,measures:[]};return o&&(d.color=[{content:o.label,style:{"text-align":i?"right":"left",direction:o.labelDirection}},{content:o.value,style:{"text-align":i?"left":"right","vertical-align":"middle",direction:o.valueDirection}}]),d.measures=a.map((function(e){return[{content:e.label,style:{"text-align":i?"right":"left",direction:e.labelDirection}},{content:e.value,style:{"text-align":i?"left":"right","vertical-align":"middle",direction:e.valueDirection}}]})),(u||s)&&0===c.length&&0===a.length&&(d.title=[]),u&&(d.customTitle=[{content:u.title,style:{"font-weight":"bold","text-align":i?"right":"left",direction:u.direction},colspan:2}]),s&&(d.customDescription=[{content:s.value,style:{"text-align":i?"right":"left",direction:s.direction},colspan:2}]),c&&(d.customMeasures=c.map((function(e){return[{content:e.label,style:{"text-align":i?"right":"left",direction:e.labelDirection}},{content:e.value,style:{"text-align":i?"left":"right","vertical-align":"middle",direction:e.valueDirection}}]}))),f&&(d.customImages=f.map((function(e){return qv.getImageRow(e,t)}))),d}))}}({resources:t,layoutModel:r,colorModel:o,fieldModel:i,rtl:a,customTooltipModel:l});return function(e){var n=e.context,r=e.source,o=n.node,i=u({source:r,node:o}),l=s({nodes:i}),f=function(e){var t=e.sections,n={visible:[],hidden:[]};return t.reduce((function(e,t){return(e<zv?n.visible:n.hidden).push(t),Fv(e,t)}),0),n}({sections:c({context:n,groups:l})}),d=f.visible,p=f.hidden,m=d.reduce((function(e,t){var n=t.title,r=t.color,o=t.measures,i=t.customTitle,a=t.customDescription,l=t.customMeasures,u=t.customImages;return i&&e.push(i),a&&e.push(a),e.push(n),r&&e.push(r),e.push.apply(e,Uv(o)),l&&e.push.apply(e,Uv(l)),u&&e.push.apply(e,Uv(u)),e}),[]);return p.length&&m.push(function(e){var t=e.count,n=e.resources,r=e.rtl,o=Ku.detectTextDirection,i=n.translator,a=i?i.get("Object.ChartTooltip.NMore",t):"+".concat(t," more");return[{content:a,style:{"font-weight":"bold","text-align":r?"right":"left",direction:o(a)},colspan:2}]}({count:p.length,resources:t,rtl:a})),m}}function Vv(e){var t=e.resources,n=e.chart,r=e.layoutModel,o=e.colorModel,i=e.fieldModel,a=e.themeModel,l=e.rtl,u=e.customTooltipModel,s={source:void 0},c=Xg({key:yp.COMPONENT.POINT_TOOLTIP,rtl:l}),f=Bv({resources:t,chart:n,layoutModel:r,colorModel:o,fieldModel:i,rtl:l,customTooltipModel:u}),d=a.query.getStyle();return ee()(!0,c,{settings:{filter:function(e){return s.source=(e[0]||{}).key,Mv({chart:n,nodes:e})},extract:function(e){return f({context:e,source:s.source})},placement:"bounds"},style:{content:{fontFamily:d.fontFamily}}})}function Wv(e){var t=e.colorModel,n=e.themeModel,r=e.rtl;if("categorical"!==t.main.model().settings().type)return!1;var o=Xg({key:yp.COMPONENT.LEGEND_TOOLTIP,rtl:r}),i=n.query.getStyle();return ee()(!0,o,{settings:{filter:function(e){return function(e){return e.nodes.filter((function(e){return e.data&&e.key===yp.COMPONENT.LEGEND_CATEGORICAL}))}({nodes:e})},extract:function(e){return function(e){return[[{content:e.context.node.data.label,style:{"font-weight":"bold","text-align":"left"},colspan:2}]]}({context:e})},placement:"pointer"},scale:yp.SCALE.MAIN.COLOR,style:{content:{fontFamily:i.fontFamily}}})}function Gv(e){return function(e){if(Array.isArray(e))return Kv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Kv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $v(e){var t=e.context,n=e.resources,r=e.properties,o=e.extensions,i=e.chart,a=e.viewState,l=e.viewCache,u=e.discrete,s=e.continuous,c=e.selectionModel,f=e.layoutModel,d=e.colorModel,p=e.fieldModel,m=e.extremumModel,h=e.disclaimerModel,g=e.dockModel,y=e.themeModel,v=e.styleModel,b=e.tickModel,x=e.legend,M=e.selectables,O=e.trendLineModel,w=e.customTooltipModel,S=e.refLineModel,k=function(e){var t=e.context,n=e.resources,r=e.disclaimerModel.query.getDisclaimer();if(!r)return!1;var o=t.rtl,i=n.translator;return{key:"disclaimer",type:"disclaimer",layout:{dock:r.alignment},settings:{label:i.get("Object.Disclaimer.".concat(r.key)),rtl:o}}}({context:t,resources:n,disclaimerModel:h});if(h.query.getHasSuppressingDisclaimer())return[k];var C=[].concat(Gv(Ey({layoutModel:f,extremumModel:m,dockModel:g,themeModel:y,tickModel:b})),Gv(function(e){var t=e.context,n=e.layoutModel,r=e.extremumModel,o=e.dockModel,i=e.themeModel,a=e.tickModel;return[Uy({context:t,layoutModel:n,extremumModel:r,dockModel:o,themeModel:i,tickModel:a}),Hy({context:t,layoutModel:n,extremumModel:r,dockModel:o,themeModel:i,tickModel:a})]}({context:t,layoutModel:f,extremumModel:m,dockModel:g,themeModel:y,tickModel:b})),[Fy({context:t,layoutModel:f,colorModel:d,extremumModel:m,dockModel:g,styleModel:v,tickModel:b}),xy({context:t,selectionModel:c,layoutModel:f,colorModel:d,dockModel:g}),ov({selectionModel:c,layoutModel:f,colorModel:d,dockModel:g,styleModel:v,tickModel:b}),Ay({context:t,chart:i,layoutModel:f,extremumModel:m,dockModel:g})],Gv(Yy({context:t,refLineModel:S,layoutModel:f,colorModel:d,dockModel:g,themeModel:y,chart:i})),Gv(function(e){var t=e.context,n=e.layoutModel,r=e.dockModel,o=e.themeModel;return[].concat(gy(hy({context:t,layoutModel:n,dockModel:r,themeModel:o})),[uy({layoutModel:n,dockModel:r,themeModel:o})])}({context:t,layoutModel:f,dockModel:g,themeModel:y})),[My({dockModel:g})],Gv(function(e){var t=e.layoutModel,n=e.dockModel,r=t.meta,o=r.isContinuous,i=r.isTime,a=t.getLayoutValue("dimensionAxis");if(!a||"none"===a.show||"title"===a.show)return[!1];if(!o)return[!1];var l=ly.AXIS.MAJOR[n.major.orientation];return i?[{type:"axis-overlay",key:yp.COMPONENT.MAJOR_AXIS_OVERLAY_TIME_INNER,scale:yp.SCALE.MAIN.MAJOR_INNER,layout:{dock:"@".concat(yp.COMPONENT.MAJOR_AXIS_TIME_INNER),minimumLayoutMode:l}},{type:"axis-overlay",key:yp.COMPONENT.MAJOR_AXIS_OVERLAY_TIME_OUTER,scale:yp.SCALE.MAIN.MAJOR,layout:{dock:"@".concat(yp.COMPONENT.MAJOR_AXIS_TIME_OUTER),minimumLayoutMode:l}}]:[{type:"axis-overlay",key:yp.COMPONENT.MAJOR_AXIS_OVERLAY_CONTINUOUS,scale:yp.SCALE.MAIN.MAJOR,layout:{dock:"@".concat(yp.COMPONENT.MAJOR_AXIS_CONTINUOUS),minimumLayoutMode:l}}]}({layoutModel:f,dockModel:g})),Gv(function(e){var t=e.context,n=e.resources,r=e.properties,o=e.layoutModel,i=e.dockModel,a=e.themeModel,l={model:n.model,app:n.app,translator:n.translator,permissions:t.permissions,rtl:t.rtl,properties:r,layoutModel:o,dockModel:i,themeModel:a};return[vy(l),by(l)]}({context:t,resources:n,properties:r,layoutModel:f,dockModel:g,themeModel:y})),[Ig({viewState:a,viewCache:l,layoutModel:f,dockModel:g,rtl:t.rtl}),av({layoutModel:f}),iv({context:t,discrete:u,layoutModel:f,dockModel:g,themeModel:y}),lv({context:t,discrete:u,continuous:s,layoutModel:f,colorModel:d,extremumModel:m,dockModel:g,styleModel:v,tickModel:b}),pv({context:t,viewState:a,viewCache:l,discrete:u,continuous:s,layoutModel:f,dockModel:g})],Gv(function(e){var t=e.context,n=e.resources,r=e.chart,o=e.layoutModel,i=e.colorModel,a=e.fieldModel,l=e.customTooltipModel,u=e.themeModel,s=t.rtl;return[Vv({resources:n,chart:r,layoutModel:o,colorModel:i,fieldModel:a,themeModel:u,rtl:s,customTooltipModel:l}),Wv({colorModel:i,themeModel:u,rtl:s})]}({context:t,resources:n,chart:i,layoutModel:f,colorModel:d,fieldModel:p,customTooltipModel:w,themeModel:y})),Gv(Bg({majorScale:yp.SCALE.MAIN.MAJOR,minorScale:yp.SCALE.MAIN.MINOR},{layoutModel:f,trendLineModel:O,dockModel:g})),[ay({tooltip:yp.COMPONENT.TREND_LINES_TOOLTIP,formatter:yp.FORMATTER.MINOR,majorScale:yp.SCALE.MAIN.MAJOR},{trendLineModel:O,translator:n.translator},t),k],Gv(x.components),Gv(M.components)),E=_g.extend(C.filter(Boolean),o);return function(e){if(e&&0!==e.length)for(var t=0;t<e.length;t++)e[t].layout=e[t].layout||{},e[t].layout.displayOrder=t}(E),E}function Xv(e){var t,n,r,o=e.scales,i=e.fieldModel,a=(t={},n=yp.FORMATTER.MINOR,r={data:{fields:i.main.minors}},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),l=o[yp.SCALE.MAIN.COLOR],u=l&&l.data&&l.data.field;return u&&(a[yp.FORMATTER.COLOR]={data:{field:u}}),a}function Zv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yv(e){var t=e.componentKey,n=e.chart,r=e.viewState,o=e.viewCache,i=e.layoutModel,a=e.dockModel,l=e.rtl;return function(e){var u=e.center,s=u.x,c=u.y,f=n.element.getBoundingClientRect(),d=n.component(t),p="vertical"===a.major.orientation,m=p?s-f.left-d.rect.computedInner.x:c-f.top-d.rect.computedInner.y,h=p?d.rect.computedInner.width:d.rect.computedInner.height,g=p&&l?h-m:m,y=Math.max(0,Math.min(g/h,1)),v=Zv(dv({layoutModel:i,viewState:r,viewCache:o}),2),b=v[0],x=y<b,M=y>v[1],O=!x&&!M;return{pixel:g,relative:y,thumb:O?g-b*h:0,beforeThumb:x,afterThumb:M,onThumb:O}}}function Qv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tb(e){var t=e.componentKey,n=e.chart,r=e.viewState,o=e.viewCache,i=e.layoutModel,a=e.dockModel;return function(){var e=n.component(t),l=a.major.orientation,u=e.rect.computedInner,s=u.width,c=u.height,f="vertical"===l?s:c,d=Qv(dv({layoutModel:i,viewState:r,viewCache:o}),2),p=d[0];return{size:f,thumbSize:(d[1]-p)*f}}}function nb(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel,l=e.dockModel,u=e.discrete,s=e.rtl,c=Yv({componentKey:t,chart:n,viewState:o,viewCache:i,layoutModel:a,dockModel:l,rtl:s}),f=tb({componentKey:t,chart:n,viewState:o,viewCache:i,layoutModel:a,dockModel:l});return{type:"Tap",options:{event:"scrollbarTap",enable:function(e,o){return!o||!!r.scroll.enabled()&&n.componentsFromPoint({x:o.center.x,y:o.center.y}).some((function(e){return e.key===t}))}},events:{scrollbarTap:function(e){e.preventDefault();var r=c(e);if(a.meta.isContinuous){var l=o.get("zoom"),s=l.max-l.min,d=i.get("continuousMin"),p=i.get("continuousMax"),m=d+(p-d)*r.relative;o.set("zoom",{min:Math.min(m-s/2,p-s),max:Math.max(m+s/2,d+s)})}else{var h=f(),g=r.pixel-h.thumbSize/2,y=Math.max(0,g/h.size);u.command.scrollTo(y)}n.component(t).emit("render")}}}}function rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ob(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ib(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ib(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ib(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ab="scrollbarResize",lb=function(e){var t=ob(e.changedPointers,1)[0];return t&&("pointerdown"===t.type||"mousedown"===t.type)};function ub(e){var t,n=e.componentKey,r=e.chart,o=e.actions,i=e.viewState,a=e.viewCache,l=e.layoutModel,u=e.dockModel,s=e.rtl,c=Yv({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u,rtl:s});return{type:"Pan",key:"event:".concat(ab),options:{event:ab,threshold:0,enable:function(e,t){return!(!l.meta.isContinuous||!o.scroll.enabled())&&(!t||(this[ab]=this[ab]||{},lb(t)&&$f({e:t})&&(this[ab].panningEvent=t.srcEvent),!!this[ab].panningEvent))}},events:(t={},rb(t,"".concat(ab,"start"),(function(e){e.preventDefault(),this[ab]=this[ab]||{},this[ab].panningEvent&&r.component(n).emit("dragStart",this[ab].panningEvent)})),rb(t,"".concat(ab,"move"),(function(e){if(e.preventDefault(),this[ab]=this[ab]||{},this[ab].panningEvent){var t=i.get("zoom"),o=a.get("continuousMin"),l=a.get("continuousMax"),u=a.get("minimiumZoomSpan"),s=(l-o)*c(e).relative+o,f=$f({e:this[ab].panningEvent}),d="start"===f?Math.min(s,t.max):t.min,p="end"===f?Math.max(s,t.min):t.max;d===p&&(d-="start"===f?u:0,p+="end"===f?u:0),i.set("zoom",{min:d,max:p}),r.component(n).emit("render")}})),rb(t,"".concat(ab,"end"),(function(e){e.preventDefault(),this[ab]=this[ab]||{},delete this[ab].panningEvent,r.component(n).emit("dragEnd")})),rb(t,"".concat(ab,"cancel"),(function(e){e.preventDefault(),this[ab]=this[ab]||{},delete this[ab].panningEvent,r.component(n).emit("dragEnd")})),t)}}function sb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cb="scrollbarPan";function fb(e){var t,n=e.componentKey,r=e.chart,o=e.actions,i=e.viewState,a=e.viewCache,l=e.layoutModel,u=e.dockModel,s=e.discrete,c=e.rtl,f=Yv({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u,rtl:c}),d=tb({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u});return{type:"Pan",key:"event:".concat(cb),options:{event:cb,threshold:0,enable:function(e,t){return this[cb]=this[cb]||{},!(t&&!this[cb].isPanning)||!!o.scroll.enabled()&&(!t||t.target===r.element)&&r.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===n}))}},events:(t={},sb(t,"".concat(cb,"start"),(function(e){e.preventDefault();var t=f(e);if(this[cb]=this[cb]||{},this[cb].isPanning=!0,r.component(n).emit("lockState"),l.meta.isContinuous){var o=i.get("zoom"),u=o.max-o.min,s=a.get("continuousMin"),c=a.get("continuousMax"),p=s+(c-s)*t.relative;p<o.min?i.set("zoom",{min:Math.min(p,c-u),max:Math.max(p+u,s+u)}):p>o.max&&i.set("zoom",{min:Math.min(p-u,c-u),max:Math.max(p,s+u)}),this[cb].relative=t.relative,this[cb].zoom=i.get("zoom"),this[cb].zoom.span=this[cb].zoom.max-this[cb].zoom.min,this[cb].zoom.fullSpan=c-s}else if(t.onThumb)this[cb].offset=t.thumb;else{var m=d();this[cb].offset=t.beforeThumb?0:m.thumbSize}})),sb(t,"".concat(cb,"move"),(function(e){e.preventDefault();var t=f(e);if(this[cb]=this[cb]||{},l.meta.isContinuous){var o=t.relative-this[cb].relative,u=this[cb].zoom,c=u.fullSpan,p=u.span,m=u.min,h=u.max,g=a.get("continuousMin"),y=a.get("continuousMax");i.set("zoom",{min:Math.min(m+o*c,y-p),max:Math.max(h+o*c,g+p)})}else{var v=t.pixel-(this[cb].offset||0),b=d(),x=Math.max(0,v/b.size);s.command.scrollTo(x)}r.component(n).emit("render")})),sb(t,"".concat(cb,"end"),(function(e){e.preventDefault(),this[cb]=this[cb]||{},this[cb].isPanning=!1,r.component(n).emit("unlockState")})),sb(t,"".concat(cb,"cancel"),(function(e){e.preventDefault(),this[cb]=this[cb]||{},this[cb].isPanning=!1,r.component(n).emit("unlockState")})),t)}}function db(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel,l=e.dockModel,u=e.discrete,s=e.rtl;return[nb({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,discrete:u,rtl:s}),ub({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,rtl:s}),fb({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,discrete:u,rtl:s})]}function pb(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.layoutModel,i=function(e,i){if(o.meta.isContinuous){var a=n.component(t);a&&a.emit&&r.scroll.enabled()&&a.emit(e,i)}};return{type:"native",events:{mousemove:function(e){return i("hover",e)},mouseleave:function(){return i("leave")}}}}function mb(e){return function(e){if(Array.isArray(e))return hb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yb="continuousPan",vb=10;function bb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xb="continuousPinchZoom";function Mb(e,t){var n=t.element.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function Ob(e,t){var n=t.chart,r=t.viewState,o=t.trendLineModel,i=t.layoutModel,a=t.rtl,l=i.meta.isContinuous,u={components:[{key:e.tooltipOverlay}],propagation:"stop"},s=function(e){var t=Mb(e,n);return n.shapesAt(t,u)};if(l){var c=o.query.getCalculatedValue;u={components:[{key:"trend-lines"}],propagation:"stop"},s=function(e,t){var o,i=Mb(e,n),l=n.shapesAt({cx:(o=i).x,cy:o.y,r:3},u);if(l.length){var s=function(e,t,n,r){var o=(e.x-t.rect.computed.x)/t.rect.computed.width;o=r?1-o:o;var i=n.get("zoom"),a=i.min;return a+(i.max-a)*o}(i,t,r,a);l.forEach((function(e){e.data.dimValue.value=s,e.data.minor.value=c(e.data.layer.value,s).y}))}return l}}return function(t){var r=n.component(e.tooltip);if(r&&function(t){return n.componentsFromPoint({x:t.clientX,y:t.clientY}).some((function(t){return t.key===e.tooltipOverlay}))}(t)){var o=s(t,r);return o.length?(r.emit("show",t,{nodes:o}),!0):(r.emit("hide"),!1)}return!1}}function wb(e){return function(e){if(Array.isArray(e))return Cb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||kb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||kb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kb(e,t){if(e){if("string"==typeof e)return Cb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cb(e,t):void 0}}function Cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Eb=[yp.COMPONENT.POINT,yp.COMPONENT.MAJOR_AXIS,yp.COMPONENT.OUT_OF_MAX_BOUNDS,yp.COMPONENT.OUT_OF_MIN_BOUNDS];function Ab(e){var t=e.chart,n=e.actions,r=e.viewState,o=e.viewCache,i=e.layoutModel,a=e.trendLineModel,l=e.rtl,u=e.resources,s=e.customTooltipModel,c=s.utils,f=Re(c.displayTooltip,c.DEBOUNCE_THRESHOLD),d=function(){return t.component(yp.COMPONENT.POINT_TOOLTIP)},p=function(){return t.component(yp.COMPONENT.LEGEND_TOOLTIP)},m=function(){var e=t.component(yp.COMPONENT.TREND_LINES_TOOLTIP);e&&e.show&&e.emit("hide")},h=function(){var e;(e=d())&&e.show&&(e.emit("hide"),f&&f({},e,{nodes:[]})),function(){var e=p();e&&e.show&&e.emit("hide")}(),m()},g=i.meta.isContinuous,y=g?na.event.onZoom({chart:t,viewState:r,viewCache:o},{rtl:l,threshold:50,targetKey:yp.COMPONENT.LINE}):void 0,v=Ob({tooltip:yp.COMPONENT.TREND_LINES_TOOLTIP,tooltipOverlay:yp.COMPONENT.TREND_LINES_TOOLTIP_OVERLAY},{chart:t,viewState:r,trendLineModel:a,layoutModel:i,rtl:l});return{type:"native",events:{wheel:function(e){var r={x:e.clientX,y:e.clientY},o=t.componentsFromPoint(r);g&&n.scroll.enabled()&&Sb(o.filter((function(e){return e.key===yp.COMPONENT.LINE})),1)[0]&&(y(r,Math.sign(-e.deltaY)),e.preventDefault());if(n.interact.enabled()){var i=Sb(o.filter((function(e){return e.key===yp.COMPONENT.LEGEND_CATEGORICAL})),1)[0];if(i){var a=Math.abs(e.deltaX>Math.abs(e.deltaY))?e.deltaX:e.deltaY;i.emit(a>=0?"next":"prev"),e.preventDefault()}}h()},mousemove:function(e){if(n.tooltip.enabled()&&!v(e)){var r=t.componentsFromPoint({x:e.clientX,y:e.clientY}),o=d();if(o&&o.show)if(r.some((function(e){return-1!==Eb.indexOf(e.key)}))){var i=[],a=function(e){var t=e.chart,n=e.e,r=t.element.getBoundingClientRect(),o=r.left,i=r.top;return{x:(n.center?n.center.x:n.clientX)-o,y:(n.center?n.center.y:n.clientY)-i}}({chart:t,e:e}),l=a.x,m=a.y;if(r.some((function(e){return e.key===yp.COMPONENT.POINT}))&&i.push.apply(i,wb(t.shapesAt({cx:l,cy:m,r:3},{components:[{key:yp.COMPONENT.POINT}]}))),u.flags&&u.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&s.useCustomTooltip&&c.checkIfPromisesExist({customTooltipModel:s})){var h=[];if(0===i.length)h=c.getNodes(e,this.chart);else{var g=kv({chart:t}),y=(i[0]||{}).key;i.forEach((function(e){h=h.concat(g({source:y,node:e}))}))}f(e,o,{nodes:i,extractedNodes:h,opts:u,customTooltipModel:s})}else o.emit("show",e,i.length?{nodes:i}:void 0)}else o.emit("hide");var b=p();b&&b.show&&(r.some((function(e){return e.key===yp.COMPONENT.LEGEND_CATEGORICAL}))?b.emit("show",e):b.emit("hide"))}},mouseup:function(e){2===e.button&&h()},mouseleave:function(){h()}}}}function qb(e){return function(e){if(Array.isArray(e))return Db(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Db(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Db(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Db(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tb(e){var t,n=e.gestures,r=void 0===n?[]:n,o=e.chart,i=e.actions,a=e.viewState,l=e.viewCache,u=e.discrete,s=e.layoutModel,c=e.dockModel,f=e.trendLineModel,d=e.rtl,p=e.resources,m=e.customTooltipModel,h=s.meta,g=h.isDiscrete,y=h.isContinuous,v=function(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel;return{gestures:mb(db({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:e.dockModel,discrete:e.discrete,rtl:e.rtl})),native:pb({componentKey:t,chart:n,actions:r,layoutModel:a})}}({componentKey:"scrollbar",chart:o,actions:i,viewState:a,viewCache:l,discrete:u,layoutModel:s,dockModel:c,rtl:d}),b={type:"hammer",enable:!0,gestures:[].concat(qb(qb(r).sort((function(e,t){return(t.prio||0)-(e.prio||0)}))),qb(v.gestures))},x=[Ab({chart:o,viewState:a,viewCache:l,actions:i,layoutModel:s,trendLineModel:f,rtl:d,resources:p,customTooltipModel:m}),v.native];g&&((t=b.gestures).push.apply(t,qb(u.interactions.gestures)),x.push(u.interactions.native));return y&&b.gestures.push(function(e){var t,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache;return{type:"Pan",key:"continuous:pan",options:{event:yb,pointers:1,threshold:vb,enable:function(e,t){return this.started===yb||!t||!!r.scroll.enabled()&&n.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===yp.COMPONENT.LINE}))}},events:(t={},gb(t,"".concat(yb,"start"),(function(e){e.preventDefault(),this.started=yb;var t=o.get("zoom"),r=t.min,i=t.max;this[yb]={min:r,max:i,size:n.component(yp.COMPONENT.LINE).rect.computedInner.width,span:i-r}})),gb(t,"".concat(yb,"move"),(function(e){e.preventDefault();var t=this[yb],n=t.span,r=t.min,a=t.max,l=t.size,u=-e.deltaX/l;o.set("zoom",{min:Math.min(r+u*n,i.get("continuousMax")-n),max:Math.max(a+u*n,i.get("continuousMin")+n)})})),gb(t,"".concat(yb,"end"),(function(e){e.preventDefault(),this.started=!1})),gb(t,"".concat(yb,"cancel"),(function(e){e.preventDefault(),this.started=!1})),t)}}({chart:o,actions:i,viewState:a,viewCache:l}),function(e){var t,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.rtl,l={last:0,diff:0},u=na.event.onZoom({viewCache:i,viewState:o,chart:n},{threshold:100,rtl:a,targetKey:yp.COMPONENT.LINE});return{type:"Pinch",key:"continuous:pinch-zoom",options:{event:xb,pointers:2,threshold:0,enable:function(e,t){return!t||!!r.scroll.enabled()&&n.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===yp.COMPONENT.LINE}))}},events:(t={},bb(t,"".concat(xb,"start"),(function(e){l.last=e.scale,e.preventDefault()})),bb(t,"".concat(xb,"move"),(function(e){var t=e.scale-l.last;Math.abs(t)>.01&&u(e.center,t>0?1:-1),l.last=e.scale,e.preventDefault()})),t)}}({chart:o,actions:i,viewState:a,viewCache:l,rtl:d})),[b].concat(x)}function Nb(e){return function(e){if(Array.isArray(e))return Lb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ib(e){var t=e.context,n=e.fieldModel,r=e.dockModel,o=e.tickModel,i=t.rtl;return{type:"logarithmic",data:{source:"qHyperCube",fields:n.main.minors},invert:"vertical"===r.major.orientation||i,ticks:{values:o.query.getValues},min:o.query.getMin,max:o.query.getMax}}function jb(e){var t=e.context,n=e.fieldModel,r=e.dockModel,o=e.tickModel,i=t.rtl;return{data:{source:"qHyperCube",fields:n.main.minors},invert:"vertical"===r.major.orientation||i,ticks:{values:o.query.getValues},minorTicks:{count:1},min:o.query.getMin,max:o.query.getMax}}function Pb(e){var t,n,r,o=e.context,i=e.discrete,a=e.fieldModel,l=e.dockModel,u=o.rtl,s=a.main,c=s.outer,f=s.inner,d=l.major.orientation;return t={},n=yp.SCALE.MAIN.MAJOR,r={data:{extract:{field:c,props:{selectionDimension:{field:c},selectionInnerDimension:{field:f}}}},invert:"vertical"===d&&u,range:i.query.getScaleRange},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Rb(e){var t,n,r,o=e.context,i=e.viewState,a=e.fieldModel,l=e.dockModel,u=o.rtl,s=l.major.orientation;return t={},n=yp.SCALE.MAIN.MAJOR,r={type:"linear",invert:"vertical"===s&&u,data:{extract:{field:a.main.outerNumeric}},ticks:{forceBounds:!0,count:i.get("zoom").min===i.get("zoom").max?1:void 0},minorTicks:{count:1},min:function(){return i.get("zoom").min},max:function(){return i.get("zoom").max}},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _b(e){return function(e){if(Array.isArray(e))return zb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fb(e){var t=e.viewState,n=e.viewCache,r=e.layoutModel;return n.set("qTimeAxisCache",[]),{get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=n.get("qTimeAxisCache");return r[t]&&r[t][0]===e?r[t][1]:void 0},set:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=n.get("qTimeAxisCache");o[r]=[e,t]},key:function(e){var o=e.distance,i=t.get("zoom"),a=i.min,l=(i.max-a)/(n.get("continuousMax")-n.get("continuousMin")),u=r.getHyperCubeValue("qAxisData.qAxis",[]).map((function(e){return e.qName}));return[o,l.toString().length>12?l.toPrecision(12):l].concat(_b(u)).toString()}}}function Ub(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hb(e){var t=e.context,n=e.picasso,r=e.viewState,o=e.viewCache,i=e.discrete,a=e.layoutModel,l=e.fieldModel,u=e.dockModel,s=e.themeModel,c=a.meta,f=c.isDiscrete,d=c.isTime;return f?Pb({context:t,discrete:i,fieldModel:l,dockModel:u}):d?function(e){var t,n=e.context,r=e.picasso,o=e.viewState,i=e.viewCache,a=e.layoutModel,l=e.fieldModel,u=e.themeModel,s=n.localeInfo,c=n.rtl,f=r.renderer("svg")().measureText,d=l.main.outerNumeric,p=u.query.getStyle(),m={type:"time",data:{field:d},qAxis:function(){return a.getHyperCubeValue("qAxisData.qAxis",[])},field:d,min:function(){return o.get("zoom").min},max:function(){return o.get("zoom").max},invert:!!c,formatter:{fn:r.formatter("q-time"),localeInfo:s,qNumFormat:a.getHyperCubeValue("qDimensionInfo.0",{}).qNumFormat,measureText:function(e){return f({text:e,fontFamily:p.axis.label.name.fontFamily,fontSize:p.axis.label.name.fontSize})}},ticks:{generator:{type:"d3"},anchor:"start",clamp:!0},cache:Fb({viewState:o,viewCache:i,layoutModel:a})};return Ub(t={},yp.SCALE.MAIN.MAJOR,ee()(!0,{},m,{ticks:{level:"outer"}})),Ub(t,yp.SCALE.MAIN.MAJOR_INNER,ee()(!0,{},m,{ticks:{level:"inner"}})),t}({context:t,picasso:n,viewState:r,viewCache:o,layoutModel:a,fieldModel:l,themeModel:s}):Rb({context:t,viewState:r,fieldModel:l,dockModel:u})}function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wb(e){var t=e.context,n=e.picasso,r=e.viewState,o=e.viewCache,i=e.discrete,a=e.layoutModel,l=e.fieldModel,u=e.extremumModel,s=e.dockModel,c=e.themeModel,f=e.tickModel;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach((function(t){Vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(Vb({},yp.SCALE.MAIN.MINOR,function(e){var t=e.context,n=e.layoutModel,r=e.fieldModel,o=e.extremumModel,i=e.dockModel,a=e.tickModel,l=n.getLayoutValue("measureAxis.logarithmic",!1),u=o.query.getExtrema();return(l&&!u.meta.includesZero?Ib:jb)({context:t,fieldModel:r,extremumModel:o,dockModel:i,tickModel:a})}({context:t,layoutModel:a,fieldModel:l,extremumModel:u,dockModel:s,tickModel:f})),Hb({context:t,picasso:n,viewState:r,viewCache:o,discrete:i,layoutModel:a,fieldModel:l,dockModel:s,themeModel:c}))}function Gb(e){var t=e.viewCache,n=e.layoutModel,r=e.fieldModel,o=e.major;return n.meta.isDiscrete?function(e){var t=e.layoutModel,n=e.fieldModel,r=e.major,o=t.meta,i=o.isTwoDimensional,a=o.isStacked,l=n.reduced,u=l.outer,s=l.inner,c=r.invert;return{data:{extract:{source:yp.DATA.REDUCED,field:i&&a?s:u}},invert:c}}({layoutModel:n,fieldModel:r,major:o}):function(e){var t=e.viewCache,n=e.major;return ee()(!0,{},n,{min:function(){return t.get("continuousMin")},max:function(){return t.get("continuousMax")}})}({viewCache:t,major:o})}function Kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kb(Object(n),!0).forEach((function(t){Xb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yb(Object(n),!0).forEach((function(t){ex(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ex(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tx(e){var t=e.context,n=e.picasso,r=e.viewState,o=e.viewCache,i=e.discrete,a=e.layoutModel,l=e.colorModel,u=e.fieldModel,s=e.extremumModel,c=e.dockModel,f=e.themeModel,d=e.tickModel,p=e.legend,m=Wb({context:t,picasso:n,viewState:r,viewCache:o,discrete:i,layoutModel:a,fieldModel:u,extremumModel:s,dockModel:c,themeModel:f,tickModel:d});return Qb(Qb(Qb({},m),function(e){var t,n=e.viewCache,r=e.layoutModel,o=e.fieldModel,i=e.minor,a=e.major;return Xb(t={},yp.SCALE.REDUCED.MINOR,$b($b({},i),{},{data:void 0})),Xb(t,yp.SCALE.REDUCED.MAJOR,Gb({viewCache:n,layoutModel:r,fieldModel:o,major:a})),t}({viewCache:o,layoutModel:a,fieldModel:u,minor:m[yp.SCALE.MAIN.MINOR],major:m[yp.SCALE.MAIN.MAJOR]})),function(e){var t=e.context,n=e.layoutModel,r=e.colorModel,o=e.legend,i=[r.main.model().scales()];n.meta.isContinuous&&i.push(r.reduced.model().scales());var a=Object.assign.apply(Object,[{}].concat(i)),l=a["".concat(yp.SCALE.MAIN.COLOR,"Range")],u=Zb(o.components,1)[0],s=u&&u.layout.dock;return l&&("right"===s||"left"===s||t.rtl)&&(l.invert=!0),a}({context:t,layoutModel:a,colorModel:l,legend:p}))}var nx=function(e,t){var n,r,o,i,a=e.targets,l=e.requireFailure,u=e.recognizeWith,s=e.components,c=e.eventName,f=void 0===c?"tap":c,d=t.customTooltipModel?t.customTooltipModel.utils:void 0,p=d?t.debouncer(d.displayTooltip,d.DEBOUNCE_THRESHOLD):void 0;return{key:"event:tap",type:"Tap",requireFailure:l,recognizeWith:u,options:{event:f,interval:10,pointers:1,enable:function(e,r){return!r||!(!t.actions.select.enabled()&&!t.actions.tooltip.enabled())&&(n=this.chart.componentsFromPoint({x:r.center.x,y:r.center.y}).filter((function(e){return-1!==a.indexOf(e.key)}))).length>0}},events:(r={},o=f,i=function(e){e.preventDefault();var r,o,i,l,u,c=(r=e,o=this.chart,u=o.element.getBoundingClientRect(),r.center?(i=r.center.x,l=r.center.y):(i=r.clientX,l=r.clientY),{x:i-u.left,y:l-u.top}),m=t.hitRadius?t.hitRadius(n):0,h=m>0?{cx:c.x,cy:c.y,r:m}:c,g=t.shapesAt?t.shapesAt(h):this.chart.shapesAt(h,{components:a.map((function(e){return{key:e,propagation:"stop"}})),propagation:"stop"}),y=this.chart.component("tooltip"),v="mouse"!==e.pointerType&&y&&y.show;if(!t.isLocked(n)&&!t.tooltipOnly&&t.actions.select.enabled()){var b=this.chart.componentsFromPoint({x:e.center.x,y:e.center.y}),x=b.some((function(e){return"legend-cat"===e.type}));if(!g.length&&x||(this.chart.brushSelectionIncludeMax=!1,t.actions.select.brushSelectionIncludeMax=!1,t.actions.select.emit("start",f,b)),g.length&&s){this.chart.brushSelectionIncludeMax=!1,t.actions.select.brushSelectionIncludeMax=!1;var M="function"==typeof s?s(e,g):s;this.chart.brushFromShapes(g,{components:M}),t.actions.select.emit("end",f)}}if(y&&t.actions.tooltip.enabled())if(g.length){var O=t.customTooltipModel;if((!t.flags||t.flags&&!t.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS"))&&O&&O.useCustomTooltip){var w=d.getNodes(e,this.chart);p(e,y,{nodes:w,dimsAndNodeFn:function(){return O.extractDimsAndNode(w)},customTooltipModel:O,opts:t})}else if(t.flags&&t.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&O.useCustomTooltip&&d.checkIfPromisesExist({customTooltipModel:O})){var S=d.getNodes(e,this.chart);p(e,y,{nodes:S,opts:t,customTooltipModel:O})}else y.emit("show",e,{nodes:g})}else v&&y.emit("hide")},o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)}},rx=function(e,t){if(!e.targets)throw new Error("Missing 'targets' property");return{interactions:[nx(e,t)],components:[]}};function ox(e){var t=e.chart,n=e.selectionModel,r=e.layoutModel,o=e.colorModel,i=r.meta.isOneDimensional;return function(e){n.query.getIsLockedSelection(e);var r=e[0].key,a=n.query.getIsOuterDimensionLocked();if(r===yp.COMPONENT.LEGEND_CATEGORICAL)return o.main.model().isSelectionLocked({isMeasureSelectionLocked:a});if(i)return a;var l=n.query.getIsInnerDimensionLocked();if(a&&l)return!0;if(a){if(r===yp.COMPONENT.MAJOR_AXIS)return!0;if(r===yp.COMPONENT.POINT){var u=t.component(yp.COMPONENT.LINE).data.items,s=u[0].line.value;return u.every((function(e){return e.line.value===s}))}}return!1}}function ix(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ax(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ax(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ax(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ux=function(e,t){var n=e.key,r=e.requireFailure,o=e.recognizeWith,i=e.eventName,a=void 0===i?"tap":i;return{prio:1,key:"event:".concat(n,"-tap"),type:"Tap",requireFailure:r,recognizeWith:o,options:{event:"".concat(a,"-").concat(n,"-tap"),interval:10,pointers:1,enable:function(e,r){return!!r&&!!t.actions.select.enabled()&&(!(!r.target||"INPUT"!==r.target.nodeName)||!(!r.target||!r.target.hasAttribute("data-other-value"))&&(r.target.getAttribute("data-key")||"").split("-bubble")[0]===n)}},events:lx({},"".concat(a,"-").concat(n,"-tap"),(function(e){(e.target.getAttribute("data-key")||"").split("-bubble")[0]&&(e.preventDefault(),this.chart.component(n).emit("bubbleStart",e))}))}};function sx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cx=function(e,t,n){var r,o=e.eventName,i=e.key,a=e.fillTargets,l=void 0===a?[]:a,u=e.requireFailure,s=e.recognizeWith;return{key:"event:".concat(i),type:"Pan",requireFailure:u,recognizeWith:s,options:{event:o,enable:function(e,n){if(this.started===o||!n)return!0;if(!t.actions.select.enabled())return!1;var r=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).filter((function(e){return-1!==l.indexOf(e.key)}));return 0===r.length&&function(e,t){var n=e.srcEvent.target;return!(!n||0!==(n.getAttribute("data-key")||"").indexOf("".concat(t,"-")))}(n,i)?(this.started=o,!0):r.length>0}},events:(r={},sx(r,"".concat(o,"start"),(function(e){void 0===this.chart.brushSelectionIncludeMax&&(this.chart.brushSelectionIncludeMax=!0,t.actions.select.brushSelectionIncludeMax=!0),e.preventDefault(),t.actions.select.emit("start",o),this.chart.component(i).emit("".concat(n,"Start"),e),this.started=o})),sx(r,"".concat(o,"move"),(function(e){e.preventDefault(),this.chart.component(i).emit("".concat(n,"Move"),e)})),sx(r,"".concat(o,"end"),(function(e){void 0===this.chart.brushSelectionIncludeMax&&(this.chart.brushSelectionIncludeMax=!0,t.actions.select.brushSelectionIncludeMax=!0),e.preventDefault(),this.chart.component(i).emit("".concat(n,"End"),e),t.actions.select.emit("end",o),this.started=!1})),r)}},fx=function(e,t){var n=function(e){var t=e.key,n=e.targets,r=e.fillTargets,o=e.targetSelector,i=e.targetFillSelector,a=e.dock,l=e.scale,u=e.bubblesPlacement,s=void 0===u?"inside":u,c=e.observeBrush,f=void 0!==c&&c,d=e.multiple,p=void 0!==d&&d,m=e.toLabel,h=e.onEdited;return{key:t,type:"brush-range",layout:{dock:n.map((function(e){return"@".concat(e)})).join(",")},on:h?{bubbleEnd:function(){h()}}:{},settings:{brush:f?{context:"selection",observe:!0}:"selection",scale:l,multiple:p,direction:"left"===a||"right"===a?"vertical":"horizontal",bubbles:{align:"left"===a||"top"===a?"end":"start",placement:s,label:m},target:{components:r,selector:o,fillSelector:i,fill:"rgba(82,204,82,0.2)"}}}}(e),r=cx(e,t,"range");return{interactions:[e.onEdited?ux(e,t):null,r].filter(Boolean),components:[n]}};function dx(e){return function(e){if(Array.isArray(e))return px(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return px(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function px(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mx=function(e,t){var n=function(e){var t=e.key,n=e.targets,r=e.components,o=e.fillTargets,i=e.dock;return{key:t,type:"brush-area-dir",layout:{dock:n.map((function(e){return"@".concat(e)})).join(",")},settings:{multiple:!0,brush:{components:r},direction:"left"===i||"right"===i?"vertical":"horizontal",bubbles:{align:"left"===i||"top"===i?"end":"start",placement:"inside"},target:{components:o,fill:"rgba(82,204,82,0.2)"}}}}(e);return{interactions:[cx(e,t,"area")],components:[n]}};function hx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yx(e){return function(e){if(Array.isArray(e))return vx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bx={components:[],interactions:[]};function xx(e){var t=e.chart,n=e.actions,r=e.selectionModel,o=e.layoutModel,i=e.dockModel,a=e.scales,l=e.legend,u=function(e){var t=e.actions,n=e.selectionModel,r=e.layoutModel,o=e.dockModel,i=r.meta,a=i.isOneDimensional,l=i.isStacked;return!(!a||l||n.query.getIsOuterDimensionLocked())&&fx({eventName:"minorRange",key:"minor-range-brush",targets:[yp.COMPONENT.MINOR_AXIS,yp.COMPONENT.POINT],fillTargets:[yp.COMPONENT.MINOR_AXIS],dock:o.minor.dock,scale:yp.SCALE.MAIN.MINOR,onEdited:function(){t.select.emit("end","minorRange")}},{actions:t})}({actions:n,selectionModel:r,layoutModel:o,dockModel:i})||bx,s=function(e){var t=e.actions,n=e.selectionModel,r=e.layoutModel,o=e.dockModel,i=r.meta,a=i.isDiscrete,l=i.isTwoDimensional;return!(!a||n.query.getIsOuterDimensionLocked())&&mx({eventName:"discreteRange",key:"discrete-range-brush",components:[{key:yp.COMPONENT.GHOST_POINT,contexts:["selection"],action:"set",data:[l?"selectionOuterDimension":"selectionDimension"]}],targets:[yp.COMPONENT.MAJOR_AXIS,yp.COMPONENT.POINT],fillTargets:[yp.COMPONENT.MAJOR_AXIS],dock:o.major.dock},{actions:t})}({actions:n,selectionModel:r,layoutModel:o,dockModel:i})||bx,c=function(e){var t=e.chart,n=e.actions,r=e.selectionModel,o=e.layoutModel,i=e.dockModel,a=o.meta,l=a.isContinuous,u=a.isTime,s=a.isTwoDimensional;return!(!l||s&&r.query.getIsOuterDimensionLocked())&&fx({eventName:"continuousRange",key:"continuous-range-brush",targets:u?[yp.COMPONENT.MAJOR_AXIS_TIME_INNER,yp.COMPONENT.MAJOR_AXIS_TIME_OUTER,yp.COMPONENT.POINT]:[yp.COMPONENT.MAJOR_AXIS_CONTINUOUS,yp.COMPONENT.POINT],fillTargets:u?[yp.COMPONENT.MAJOR_AXIS_TIME_INNER,yp.COMPONENT.MAJOR_AXIS_TIME_OUTER]:[yp.COMPONENT.MAJOR_AXIS_CONTINUOUS],dock:i.major.dock,scale:u?yp.SCALE.MAIN.MAJOR_INNER:yp.SCALE.MAIN.MAJOR,observeBrush:!0,multiple:!0,toLabel:function(e){var n=e.datum,r=e.data,o=e.scale,i=u?o.formatter():t.formatter(yp.FORMATTER.MINOR),a=t.scale(yp.SCALE.MAIN.MAJOR).max(),l=t.brushSelectionIncludeMax&&n===a;return"".concat(n!==Math.max.apply(Math,dx(r))||l?"":"<").concat(i(n))}},{actions:n})}({chart:t,actions:n,selectionModel:r,layoutModel:o,dockModel:i})||bx,f=function(e){var t=e.actions,n=e.selectionModel,r=e.layoutModel,o=e.scales,i=hx(e.legend.components,1)[0];if(!i)return!1;var a=r.meta.isTwoDimensional,l=i.type,u=i.key,s=o.colorRange;return!(a||n.query.getIsOuterDimensionLocked()||"legend-seq"!==l||!s||s.min>=s.max)&&fx({eventName:"legendRange",key:"legend-range-brush",targets:[u],fillTargets:[u],targetSelector:'[id="legend-seq-target"]',targetFillSelector:'[id="legend-seq-ticks"]',dock:i.layout.dock,scale:"colorRange",bubblesPlacement:"outside",onEdited:function(){t.select.emit("end","legendRange")}},{actions:t})}({actions:n,selectionModel:r,layoutModel:o,scales:a,legend:l})||bx;return{components:[].concat(yx(u.components),yx(s.components),yx(c.components),yx(f.components)),interactions:[].concat(yx(u.interactions),yx(s.interactions),yx(c.interactions),yx(f.interactions))}}var Mx=function(e){return{key:e.key,type:"brush-lasso",layout:{displayOrder:99},settings:{brush:{components:e.components},lasso:{fill:"rgba(0, 0, 0, 0)",stroke:"black",strokeWidth:2,opacity:.7,strokeDasharray:[]},snapIndicator:{threshold:75,strokeDasharray:"5, 5",stroke:"black",strokeWidth:2,opacity:.7},startPoint:{r:10,stroke:"rgba(77, 192, 78, 1)",strokeWidth:0,opacity:1}}}},Ox=function(e,t){var n=e.key,r=e.componentTargetKey,o=e.requireFailure,i=e.recognizeWith;return{key:"event:".concat(n),type:"Pan",requireFailure:o,recognizeWith:i,options:{event:"lasso",enable:function(e,n){return"lasso"===this.started||!n||!!(t.actions.select.enabled()&&t.actions.lasso.enabled()&&t.actions.lasso.active())&&this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).filter((function(e){return e.key===r})).length>0}},events:{lassostart:function(e){e.preventDefault(),"lasso"!==this.started&&(t.actions.select.emit("start","lasso"),this.chart.component(n).emit("lassoStart",e),this.started="lasso")},lassomove:function(e){e.preventDefault(),this.chart.component(n).emit("lassoMove",e)},lassoend:function(e){e.preventDefault(),this.started=!1,this.chart.component(n).emit("lassoEnd",e),t.actions.select.emit("end","lasso")}}}};function wx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kx=function(e,t){if(!e.componentTargetKey)throw new Error("Missing 'componentTargetKey' property");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wx(Object(n),!0).forEach((function(t){Sx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:"lasso"},e),r=Mx(n,t);return{interactions:[Ox(n,t)],components:[r]}};function Cx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ex(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ax={components:[],interactions:[]};function qx(e){var t=e.actions,n=e.selectionModel,r=e.layoutModel,o=r.meta.isOneDimensional,i=n.query.getIsOuterDimensionLocked();if(o&&i)return Ax;var a=n.query.getIsInnerDimensionLocked();if(!o&&i&&a)return Ax;var l=!o&&function(e){var t=e.layoutModel,n=t.meta.isDiscrete,r=Cx(t.getDataPages(),1)[0];return!!r&&(n?r.qData&&r.qData.length&&r.qData[0].qSubNodes.every((function(e){return 1===e.qSubNodes.length})):r.qMatrix&&r.qMatrix.every((function(e){return e[1].qElemNumber===r.qMatrix[0][1].qElemNumber})))}({layoutModel:r});if(l&&i)return Ax;var u={key:yp.COMPONENT.POINT,action:"add",contexts:["selection"]};return u.data=o?["selectionDimension"]:[a||l?"selectionOuterDimension":"selectionDimension"],kx({key:"lasso",componentTargetKey:yp.COMPONENT.POINT,components:[u]},{actions:t})}function Dx(e){return function(e){if(Array.isArray(e))return Tx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nx(e){var t=e.chart,n=e.actions,r=e.selectionModel,o=e.layoutModel,i=e.colorModel,a=e.chartModel,l=e.dockModel,u=e.scales,s=e.legend,c=function(e){var t=e.chart,n=e.actions,r=e.selectionModel,o=e.layoutModel,i=e.colorModel,a=e.customTooltipModel,l=e.resources,u=o.meta.isTwoDimensional,s=[yp.COMPONENT.MAJOR_AXIS,yp.COMPONENT.POINT,yp.COMPONENT.MAJOR_AXIS_OVERLAY_CONTINUOUS,yp.COMPONENT.MAJOR_AXIS_OVERLAY_TIME_INNER,yp.COMPONENT.MAJOR_AXIS_OVERLAY_TIME_OUTER,yp.COMPONENT.LEGEND_CATEGORICAL];return rx({targets:s,components:function(e,n){var o=ix(n,1)[0],i=o.key,a={key:i,action:e.srcEvent.ctrlKey?"set":"toggle",contexts:["selection"]};if(i===yp.COMPONENT.LEGEND_CATEGORICAL)return[a];var l=i===yp.COMPONENT.POINT;if(l&&(o.data.null.value||o.data.interpolated.value))return!1;var s=r.query.getIsInnerDimensionLocked();if(-1!==[yp.COMPONENT.MAJOR_AXIS_OVERLAY_CONTINUOUS,yp.COMPONENT.MAJOR_AXIS_OVERLAY_TIME_INNER,yp.COMPONENT.MAJOR_AXIS_OVERLAY_TIME_OUTER].indexOf(i)||(a.data=[i===yp.COMPONENT.POINT&&s?"selectionOuterDimension":"selectionDimension"]),!u||!l)return[a];var c=t.component(i).data.items,f=c[0].line.value;return c.every((function(e){return e.line.value===f}))&&(a.data=["selectionOuterDimension"]),[a]}},{debouncer:Re,flags:l.flags,customTooltipModel:a,actions:n,isLocked:ox({chart:t,selectionModel:r,layoutModel:o,colorModel:i}),hitRadius:function(e){return e.some((function(e){return e.key===yp.COMPONENT.POINT}))?3:0},shapesAt:function(e){var n=t.shapesAt(e,{components:s.map((function(e){return{key:e}}))}).filter((function(e){return!(e.data.null&&e.data.null.value&&e.data.interpolated&&e.data.interpolated.value)}));return n.length?[n[0]]:[]}})}({chart:t,actions:n,selectionModel:r,layoutModel:o,colorModel:i,chartModel:a,customTooltipModel:e.customTooltipModel,resources:e.resources}),f=xx({chart:t,actions:n,selectionModel:r,layoutModel:o,dockModel:l,scales:u,legend:s}),d=qx({actions:n,selectionModel:r,layoutModel:o});return{components:[].concat(Dx(c.components),Dx(f.components),Dx(d.components)),gestures:[].concat(Dx(c.interactions),Dx(f.interactions),Dx(d.interactions))}}function Lx(e){return function(e){if(Array.isArray(e))return Ix(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ix(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ix(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jx(e){var t,n=e.context,r=e.resources,o=e.properties,i=e.extensions,a=e.picasso,l=e.chart,u=e.actions,s=e.viewState,c=e.viewCache,f=e.discrete,d=e.continuous,p=e.selectionModel,m=e.layoutModel,h=e.disclaimerModel,g=e.reducedModel,y=e.colorModel,v=e.fieldModel,b=e.chartModel,x=e.extremumModel,M=e.dockModel,O=e.themeModel,w=e.styleModel,S=e.tickModel,k=e.trendLineModel,C=e.customTooltipModel,E=e.refLineModel,A=n.rtl,q=function(e){var t=e.context,n=e.chart,r=e.actions,o=e.viewState,i=e.layoutModel,a=e.colorModel,l=i.getLayoutValue("dataPoint.show",!1),u=a.main.model(),s={eventName:"legend-c",key:yp.COMPONENT.LEGEND,viewState:o,chart:n,styleReference:"object.lineChart",rtl:t.rtl};"categorical"===u.settings().type&&(s.settings={item:{shape:{stroke:{scale:yp.SCALE.MAIN.COLOR}}}},s.style={item:{shape:{type:l?"line-point":"line",size:12,strokeWidth:2}}});var c=u.legend(s,{actions:r,navigationDisabled:!r.interact.enabled()});return{components:Nb(c.components),gestures:Nb(c.interactions)}}({context:n,chart:l,actions:u,viewState:s,layoutModel:m,colorModel:y}),D=tx({context:n,picasso:a,viewState:s,viewCache:c,discrete:f,layoutModel:m,colorModel:y,fieldModel:v,extremumModel:x,dockModel:M,themeModel:O,tickModel:S,legend:q}),T=Nx({chart:l,actions:u,selectionModel:p,layoutModel:m,colorModel:y,chartModel:b,dockModel:M,scales:D,legend:q,customTooltipModel:C,resources:r}),N=$v({context:n,resources:r,properties:o,extensions:i,chart:l,viewState:s,viewCache:c,discrete:f,continuous:d,selectionModel:p,layoutModel:m,disclaimerModel:h,colorModel:y,fieldModel:v,extremumModel:x,dockModel:M,themeModel:O,styleModel:w,tickModel:S,legend:q,selectables:T,trendLineModel:k,customTooltipModel:C,refLineModel:E});return{collections:Lg({layoutModel:m,reducedModel:g,colorModel:y,fieldModel:v,chartModel:b,extremumModel:x,tickModel:S}),scales:D,components:N,interactions:Tb({gestures:[].concat(Lx(q.gestures),Lx(T.gestures)),chart:l,actions:u,viewState:s,viewCache:c,discrete:f,layoutModel:m,dockModel:M,trendLineModel:k,rtl:A,resources:r,customTooltipModel:C}),palettes:y.main.model().palettes(),formatters:Xv({scales:D,fieldModel:v}),strategy:(m.getLayout(),t={logicalSize:n.logicalSize,minCenterRatio:0},{layoutModes:Qa.getLayoutModes(),center:void 0!==t.minCenterRatio?{minWidthRatio:t.minCenterRatio,minHeightRatio:t.minCenterRatio}:void 0,logicalSize:t.logicalSize?og({align:.5,preserveAspectRatio:!0},t.logicalSize):void 0})}}function Px(e){var t=e.layoutModel.meta,n=t.isStacked,r=t.isConnect,o=function(){return n&&r};return{shouldProcess:function(){return o()},shouldProcessInitialPage:function(){return o()},processDataPage:function(e){return function(e){var t=e.dataPage.qMatrix.reduce((function(e,t,n){for(var r=1;r<t.length;r++)0===n&&(e[r]=[]),e[r].push(t[r]);return e}),{}),n=function(e){return"NaN"===e.qNum};Object.keys(t).forEach((function(e){for(var r=t[e],o=[{startValue:NaN,endValue:NaN,nodes:[]}],i=0;i<r.length;i++){var a=r[i],l=0===i,u=o[o.length-1];if(n(a)){if(!l&&(!u.nodes.length||Number.isNaN(u.startValue))){var s=r[i-1];u.startValue=s.qIsNull?NaN:s.qNum}o[o.length-1].nodes.push(a)}else u.nodes.length&&(u.endValue=n(a)?NaN:a.qNum,o.push({startValue:NaN,endValue:NaN,nodes:[]}))}o.forEach((function(e){if(!Number.isNaN(e.startValue)&&!Number.isNaN(e.endValue))for(var t=(e.endValue-e.startValue)/(e.nodes.length+1),n=0;n<e.nodes.length;n++){var r=e.startValue+t*(n+1),o=e.nodes[n];o.interpolated=!0,o.qText="".concat(r),o.qNum=r,delete o.qIsNull}}))}))}({dataPage:e.dataPage})}}}function Rx(e){return function(e){if(Array.isArray(e))return _x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zx(e){return{id:e,parents:[],children:[],parentsDict:{},childrenDict:{}}}function Fx(e,t){e.forEach((function(e){return e.rank=t}))}function Ux(e){var t=[],n={};return e.forEach((function(e){e.children.forEach((function(e){n[e.id]||(t.push(e),n[e.id]=!0)}))})),t}function Hx(e){for(var t=function(e){var t={},n=[];function r(e,r){t[e]||(t[e]=zx(e),n.push(t[e])),void 0!==r&&(t[r]||(t[r]=zx(r),n.push(t[r])),t[e].childrenDict[t[r].id]||(t[e].children.push(t[r]),t[e].childrenDict[t[r].id]=!0),t[r].parentsDict[t[e].id]||(t[r].parents.push(t[e]),t[r].parentsDict[t[e].id]=!0))}return e.forEach((function(e){for(var t=0;t<e.length-1;t++)r(e[t],e[t+1]);r(e[e.length-1])})),n}(e),n=function(e){return e.filter((function(e){return 0===e.parents.length}))}(t),r=0;n.length;)Fx(n,r),r++,n=Ux(n);var o=function(e){var t=[];return e.forEach((function(e){var n=e.rank;void 0===t[n]&&(t[n]=[]),t[n].push(e.id)})),t}(t),i=[];return o.forEach((function(e){i.push.apply(i,Rx(e))})),i}function Bx(e){for(var t=e.dataPage.qData[0].qSubNodes,n={},r=0;r<t.length;r++)for(var o=t[r].qSubNodes,i=0;i<o.length;i++){var a=o[i].qElemNo;n[a]||(n[a]={id:a,text:o[i].qText},o[i].qAttrDims&&(n[a].qAttrDims=o[i].qAttrDims))}return Hx(t.map((function(e){return e.qSubNodes.map((function(e){return e.qElemNo}))}))).map((function(e){return n[e]}))}function Vx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gx(e){var t=e.qElemNo,n=e.qText,r=e.qAttrDims,o=e.referenceNode,i=Vx(o.qSubNodes,1)[0],a={qElemNo:t,qText:n,qRow:o.qRow,qType:"N",qValue:"NaN",qUp:0,qDown:0,qMaxPos:"NaN",qMinNeg:0,qSubNodes:[{qElemNo:0,qText:"-",qRow:i.qRow,qType:"U",qValue:"NaN",qUp:0,qDown:0,qMaxPos:0,qMinNeg:0,qSubNodes:[]}]};return r&&(a.qAttrDims=r),i.qAttrExps&&(a.qSubNodes[0].qAttrExps={qValues:[{qNum:"NaN"}]}),a}function Kx(e){var t=e.layoutModel.meta,n=t.isZero,r=t.isStacked,o=t.isConnect,i=function(){return n||r&&o},a=function(e){var t,i=e.dataPage;(null==i||null===(t=i.qData)||void 0===t?void 0:t.length)&&(n?function(e){var t,n,r=e.dataPage;if((null==r||null===(t=r.qData)||void 0===t?void 0:t.length)||(null==r||null===(n=r.qMatrix)||void 0===n?void 0:n.length)){var o=Bx({dataPage:r});r.qData[0].qSubNodes.forEach((function(e){if(e.qSubNodes.length!==o.length)for(var t=e.qSubNodes[0],n=0;n<o.length;n++)e.qSubNodes[n]&&e.qSubNodes[n].qElemNo===o[n].id||e.qSubNodes.splice(n,0,Gx({qElemNo:o[n].id,qText:o[n].text,qAttrDims:o[n].qAttrDims,referenceNode:t}))}))}}({dataPage:i}):r&&o&&function(e){var t=e.dataPage,n=Bx({dataPage:t}),r=n.map((function(){return[{startValue:NaN,endValue:NaN,nodes:[]}]})),o=t.qData[0].qSubNodes,i=function(e){return"NaN"===e.qValue};o.forEach((function(e,t){for(var a=0;a<n.length;a++){var l=e.qSubNodes;if(!l[a]||l[a].qElemNo!==n[a].id){var u=l[0],s=Gx({qElemNo:n[a].id,qText:n[a].text,qAttrDims:n[a].qAttrDims,referenceNode:u});l.splice(a,0,s)}var c=l[a],f=r[a][r[a].length-1],d=0===t;if(i(c.qSubNodes[0])){if(!d&&(!f.nodes.length||Number.isNaN(f.startValue))){var p=o[t-1].qSubNodes[a];f.startValue=i(p.qSubNodes[0])?NaN:p.qSubNodes[0].qValue}f.nodes.push(c)}else f.nodes.length&&(f.endValue=i(c.qSubNodes[0])?NaN:c.qSubNodes[0].qValue,r[a].push({startValue:NaN,endValue:NaN,nodes:[]}))}})),r.forEach((function(e){e.forEach((function(e){if(!Number.isNaN(e.startValue)&&!Number.isNaN(e.endValue))for(var t=(e.endValue-e.startValue)/(e.nodes.length+1),n=0;n<e.nodes.length;n++){var r=e.startValue+t*(n+1),o=e.nodes[n];o[r<0?"qMinNeg":"qMaxPos"]=r;var i=o.qSubNodes[0];i.qType="V",i.qText="".concat(r),i.qValue=r,i.interpolated=!0}}))}))}({dataPage:i}))};return{shouldProcess:function(){return i()},shouldProcessInitialPage:function(){return i()},processDataPage:function(e){var t=e.dataPage;return a({dataPage:t})}}}function $x(e){var t=e.layoutModel;return(t.meta.isOneDimensional?Px:Kx)({layoutModel:t})}function Xx(e){var t=e.layoutModel.meta,n=t.isStacked,r=t.isConnect;return{shouldProcess:function(){return n&&r},shouldProcessInitialPage:function(){return!1},processDataPage:function(e){return function(e){var t=e.dataPage.qMatrix.reduce((function(e,t,n){for(var r=1;r<t.length;r++)0===n&&(e[r]=[]),e[r].push({node:t[r],num:t[0].qNum});return e}),{}),n=function(e){return"NaN"===e.qNum};Object.keys(t).forEach((function(e){for(var r=t[e],o=[{startValue:NaN,startNum:NaN,endValue:NaN,endNum:NaN,nodes:[]}],i=0;i<r.length;i++){var a=r[i].node,l=0===i,u=o[o.length-1];if(n(a)){if(!l&&(!u.nodes.length||Number.isNaN(u.startValue))){var s=r[i-1].node;u.startValue=n(s)?NaN:s.qNum,u.startNum=n(s)?NaN:r[i-1].num}o[o.length-1].nodes.push(r[i])}else u.nodes.length&&(u.endValue=n(a)?NaN:a.qNum,u.endNum=n(a)?NaN:r[i].num,o.push({startValue:NaN,startNum:NaN,endValue:NaN,endNum:NaN,nodes:[]}))}o.forEach((function(e){if(!Number.isNaN(e.startValue)&&!Number.isNaN(e.endValue))for(var t=e.endValue-e.startValue,n=e.endNum-e.startNum,r=0;r<e.nodes.length;r++){var o=(e.nodes[r].num-e.startNum)/n*t+e.startValue,i=e.nodes[r].node;i.qText="".concat(o),i.qNum=o,i.interpolated=!0}}))}))}({dataPage:e.dataPage})}}}function Zx(e){for(var t,n=e.dataPage.qMatrix,r={},o={},i={},a=[],l={},u=[],s=0;s<n.length;s++){var c=n[s][1].qElemNumber;if(!r[c]){var f=Object.keys(r).length;r[c]=!0,o[c]={text:n[s][1].qText,qAttrDims:n[s][1].qAttrDims,qElemNumber:n[s][1].qElemNumber,index:f},i[f]={text:n[s][1].qText,qAttrDims:n[s][1].qAttrDims,qElemNumber:n[s][1].qElemNumber},a.push({qText:n[s][1].qText,qAttrDims:n[s][1].qAttrDims,qElemNumber:n[s][1].qElemNumber})}var d=n[s][0].qElemNumber;l[d]||(l[d]=!0,u.push([])),u[u.length-1].push(n[s])}a.sort((function(e,t){return e.qElemNumber-t.qElemNumber})),u.forEach((function(e){e.length!==a.length&&a.forEach((function(t,n){if(!e[n]||e[n][1].qElemNumber!==a[n].qElemNumber){var r=e[0],o=[{qText:r[0].qText,qNum:r[0].qNum,qElemNumber:r[0].qElemNumber},{qText:a[n].qText,qElemNumber:a[n].qElemNumber},{qText:"-",qNum:"NaN"}],i=a[n].qAttrDims;i&&(o[1].qAttrDims=i),r[2].qAttrExps&&(o[2].qAttrExps={qValues:[{qNum:"NaN"}]}),e.splice(n,0,o)}}))})),(t=[]).concat.apply(t,u).forEach((function(e,t){e!==n[t]&&n.splice(t,0,e)}))}function Jx(e){var t=e.layoutModel.meta,n=t.isGap,r=t.isZero,o=t.isStacked,i=t.isConnect,a=function(e){var t=e.dataPage;n||r?Zx({dataPage:t}):o&&i&&function(e){var t=e.dataPage;Zx({dataPage:t});var n=t.qMatrix.reduce((function(e,t){return e[t[1].qElemNumber]||(e[t[1].qElemNumber]=[]),e[t[1].qElemNumber].push(t),e}),{}),r=function(e){return"NaN"===e[2].qNum};Object.keys(n).forEach((function(e){for(var t=n[e],o=[{startValue:NaN,startNum:NaN,endValue:NaN,endNum:NaN,nodes:[]}],i=0;i<t.length;i++){var a=t[i],l=0===i,u=o[o.length-1];if(r(a)){if(!l&&(!u.nodes.length||Number.isNaN(u.startValue))){var s=t[i-1];u.startValue=r(s)?NaN:s[2].qNum,u.startNum=r(s)?NaN:s[0].qNum}o[o.length-1].nodes.push(t[i])}else u.nodes.length&&(u.endValue=r(a)?NaN:a[2].qNum,u.endNum=r(a)?NaN:a[0].qNum,o.push({startValue:NaN,startNum:NaN,endValue:NaN,endNum:NaN,nodes:[]}))}o.forEach((function(e){if(!Number.isNaN(e.startValue)&&!Number.isNaN(e.endValue))for(var t=e.endValue-e.startValue,n=e.endNum-e.startNum,r=0;r<e.nodes.length;r++){var o=(e.nodes[r][0].qNum-e.startNum)/n*t+e.startValue,i=e.nodes[r];i[2].qText="".concat(o),i[2].qNum=o,i[2].interpolated=!0}}))}))}({dataPage:t})};return{shouldProcess:function(){return n||r||o&&i},shouldProcessInitialPage:function(){return!1},processDataPage:function(e){var t=e.dataPage;return a({dataPage:t})}}}function Yx(e){var t=e.layoutModel;return(t.meta.isOneDimensional?Xx:Jx)({layoutModel:t})}function Qx(e){var t=e.layoutModel,n=function(e){var t=e.layoutModel;return(t.meta.isDiscrete?$x:Yx)({layoutModel:t})}({layoutModel:t}),r={shouldProcess:n.shouldProcess()};if(n.shouldProcessInitialPage()){var o=t.getDataPages();n.processDataPage({dataPage:o&&o.length?o[0]:[]})}return{query:{getShouldProcess:function(){return r.shouldProcess}},command:{processDataPage:function(e){var t=e.dataPage;r.shouldProcess&&n.processDataPage({dataPage:t})}}}}function eM(e){var t=e.layoutModel.meta,n=t.dimensionCount,r=t.measureCount,o=t.isStacked,i=2===n&&o?1:0;return{qTop:0,qLeft:i,qWidth:n+r+i,qHeight:Math.min(2e3,1e4/(r+1))}}function tM(e){return function(e){if(Array.isArray(e))return nM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rM(Object(n),!0).forEach((function(t){iM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aM(e){var t=e.enigmaModel,n=e.layoutModel,r=n.meta,o=r.isSnapshot,i=r.isContinuous;return o?function(e){var t=e.layoutModel;return function(){return Promise.resolve({reducedCube:t.getLayoutValue("reducedHyperCube")||t.getHyperCube()})}}({layoutModel:n}):i?function(e){var t=e.layoutModel;return function(){var e=t.getHyperCube();return Promise.resolve({reducedCube:oM(oM({},e),{},{qDataPages:tM(e.qDataPages)})})}}({layoutModel:n}):function(e){var t=e.enigmaModel,n=e.layoutModel;return function(){return function(e,t,n){return e.getHyperCubeReducedData(n.path,[n.rect],n.zoomLevel,n.filter).then((function(e){var n,r=t.getHyperCubeValue("qMode"),o=t.getHyperCubeValue("qDimensionInfo"),i="K"===r&&o.length>1&&(null===(n=e[0])||void 0===n?void 0:n.qIsReduced),a=e.slice(),l=t.getHyperCubeValue("qMeasureInfo");return{reducedCube:{qDataPages:a,qDimensionInfo:o.slice(),qEffectiveInterColumnSortOrder:[1,0],qMeasureInfo:i?[l[0],l[0]]:l.slice(),qStackedDataPages:[],qMode:"S",qHasOtherValues:t.getHyperCubeValue("qHasOtherValues"),qSize:t.getHyperCubeValue("qSize")}}}))}(t,n,{path:"/qHyperCubeDef",rect:eM({layoutModel:n}),zoomLevel:-1,filter:"D1"})}}({enigmaModel:t,layoutModel:n})}var lM="Enter",uM="Escape",sM="Esc",cM=[],fM=0,dM=function(e){var t=cM.filter((function(e){return e.selections&&e.selections.isActive()}));t.length&&(e.key===lM?t.forEach((function(e){return e.selections.confirm()})):e.key!==uM&&e.key!==sM||t.forEach((function(e){return e.selections.cancel()})))},pM=function(){document.addEventListener("keyup",dM)},mM=function(){document.removeEventListener("keyup",dM)},hM=function(e,t){Object.keys(t).forEach((function(n){e.on(n,t[n])}))},gM=function(e,t){Object.keys(t).forEach((function(n){e.removeListener(n,t[n])}))};function yM(e,t,n){if(t&&void 0!==n&&"selectHyperCubeContinuousRange"===e.method){var r=e.params;if(r&&r[1]&&r[1][0]){var o=r[1][0],i=o.qDimIx,a=o.qRange;"undefined"!==i&&a&&!1===a.qMaxInclEq&&a.qMax>=n&&(a.qMaxInclEq=!0)}}}var vM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selections,n=e.brush,r=e.majorScale,o=e.actions,i=e.picassoQ,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.path,u=void 0===l?"/qHyperCubeDef":l;if(!t)return{layout:function(){},allowSimultaneous:function(){},release:function(){}};var s=++fM,c=null,f=[],d={};t.on=t.on.bind(t),t.isActive=t.isActive.bind(t),t.addListener=t.addListener.bind(t),t.removeListener=t.removeListener.bind(t);var p=function(e){return n.brushes().forEach((function(t){("range"===t.type||e[0]&&e[0].key!==t.id&&0!==f.indexOf(e[0].key))&&n.clear([])})),e.filter((function(e){return-2!==e.value}))},m=function(e){return n.brushes().filter((function(e){return"value"===e.type})).length?(n.clear([]),e):(n.brushes().forEach((function(t){var r=t.id===e[0].key||-1!==f.indexOf(t.id)&&-1!==f.indexOf(e[0].key);"range"!==t.type||r||n.clear([])})),e)};n.intercept("set-ranges",m),n.intercept("toggle-ranges",m),n.intercept("toggle-values",p),n.intercept("set-values",p),n.intercept("add-values",p),n.on("start",(function(){return t.begin(u)}));var h={activate:function(){},deactivated:function(){return n.end()},cleared:function(){return n.clear()},canceled:function(){return n.end()}};hM(t,h);var g=r&&r.max();return o&&o.select?(o.select.on("start",(function(){var e;(n.start(),"function"==typeof o.select.getBrushOptions)&&(d=(e=o.select).getBrushOptions.apply(e,arguments))})),o.select.on("end",(function(){i.selections(n,d,c).forEach((function(e){yM(e,o.select.brushSelectionIncludeMax,g),t.select(e)}))}))):n.on("update",(function(){i.selections(n,d,c).forEach((function(e){return t.select(e)}))})),0===cM.length&&pM(),cM.push({key:s,selections:t}),{layout:function(e){c=e},allowSimultaneous:function(e){f=e},release:function(){c=null;var e=cM.indexOf(cM.filter((function(e){return e.key===s}))[0]);-1!==e&&cM.splice(e,1),cM.length||mM(),gM(t,h)}}},bM={ENTER:"Enter",ESCAPE:"Escape",IE11_ESC:"Esc",SHIFT:"Shift"},xM="minorRange";var MM="discreteRange";var OM="legendRange";function wM(e){var t=e.current,n=e.chart,r=e.document;!function(e){var t=e.current,n=e.chart,r=e.document;if(t!==xM&&r.querySelector("[data-key='minor-range-brush-edge-0']")){var o=n.component("minor-range-brush");if(o){o.emit("rangeClear");var i=o.settings.settings,a=i.scale,l=i.brush,u=n.scale(a).data().fields.map((function(e){return e.id()})),s=n.brush(l),c=s.brushes().filter((function(e){return"range"===e.type&&u.some((function(t){return t===e.id}))}));s&&c.length&&c.forEach((function(e){s.removeRanges(e.brush.ranges().map((function(t){return{key:e.id,range:t}})))}))}}}({current:t,chart:n,document:r}),function(e){var t=e.current,n=e.chart,r=e.document;if(t!==MM&&r.querySelector("[data-key='discrete-range-brush-edge-0']")){var o=n.component("discrete-range-brush");o&&(o.emit("areaClear"),n.brush("selection").clear())}}({current:t,chart:n,document:r}),function(e){var t=e.current,n=e.chart,r=e.document;if(t!==OM&&r.querySelector("[data-key='legend-range-brush-edge-0']")){var o=n.component("legend-range-brush");o&&(o.emit("rangeClear"),n.brush("selection").clear())}}({current:t,chart:n,document:r})}function SM(e){return function(e){if(Array.isArray(e))return kM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CM(e){var t=e.layoutModel,n=e.dockModel,r=Qy.LINE,o=Qy.POINT,i=function(e){var t=e.layoutModel,n=t.meta.isOneDimensional,r=(t.getLayoutValue("components",[]).filter((function(e){return"line"===e.key}))[0]||{}).style;return function(e){var o=e.property,i=e.defaultValue,a=e.index,l=r&&Object.hasOwnProperty.call(r,o)?r[o]:i;if(void 0===a)return l;var u=(t.getHyperCubeValue(function(e){return"qMeasureInfo.".concat(e,".styling")}(n?a:0),[]).filter((function(e){return"line"===e.key}))[0]||{}).style;return u&&Object.hasOwnProperty.call(u,o)?u[o]:l}}({layoutModel:t});return{query:{line:{getCurve:function(){return function(e,t){return i({property:"lineCurve",defaultValue:r.CURVE.LINEAR,index:t})}},getStrokeWidth:function(){return function(e,t){return i({property:"lineThickness",defaultValue:"FULL"===n.mode?r.WIDTH.FULL.DEFAULT:r.WIDTH.LESS.DEFAULT,index:t})}},getStrokeDasharray:function(){return function(e,t){var n=i({property:"lineType",defaultValue:r.TYPE.SOLID,index:t});return n&&r.TYPE[n.toUpperCase()]}}},point:{getSize:function(e){return i({property:"dataPointSize",defaultValue:o.SIZE.DEFAULT,index:e})}}}}}function EM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return AM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qM(e){var t=e.theme,n={};return[["","","color"],["object.lineChart","","fontFamily"],["object","axis.title","fontFamily","QlikView Sans, sans-serif"],["object","axis.title","fontSize","13px"],["object","axis.title","color"],["object","axis.label.name","fontFamily","QlikView Sans, sans-serif"],["object","axis.label.name","fontSize","12px"],["object","axis.label.name","color","#595959"],["object","axis.line.major","color","#cccccc"],["object","axis.line.minor","color","#e6e6e6"],["object","grid.line.major","color","#cccccc"],["object","grid.line.minor","color","#e6e6e6"],["object","grid.line.highContrast","color","#e6e6e6"],["object","referenceLine.label.name","fontFamily","QlikView Sans, sans-serif"],["object","referenceLine.label.name","fontSize","12px"],["object","referenceLine.outOfBounds","fontFamily","QlikView Sans, sans-serif"],["object","referenceLine.outOfBounds","fontSize","12px"],["object","referenceLine.outOfBounds","color","#e6e6e6"],["object","referenceLine.outOfBounds","backgroundColor","#737373"],["object.lineChart","outOfRange","color","#999"],["object.lineChart","label.value","fontFamily","QlikView Sans, sans-serif"],["object.lineChart","label.value","fontSize","12px"],["object.lineChart","label.value","color","#595959"]].forEach((function(e){var r=EM(e,5),o=r[0],i=r[1],a=r[2],l=r[3],u=r[4],s=(void 0===u?function(e){return e}:u)(function(e){var t=e.theme,n=e.base,r=e.path,o=e.attribute,i=e.defaultValue,a=void 0===i?void 0:i;if(!t||!1===n)return a;var l=t.getStyle(n,r,o);return void 0===l?a:l}({theme:t,base:o,path:i,attribute:a,defaultValue:l}));ee()(!0,n,function(e){var t=e.path,n=e.attribute,r=e.value,o={},i=t.split(".").filter((function(e){return e.length})),a=o;return i.forEach((function(e){a[e]={},a=a[e]})),void 0!==r&&(a[n]=r),o}({path:i,attribute:a,value:s}))})),n}var DM=.2;function TM(e){var t=e.extrema,n=e.ticks,r=t.meta.hasExplicit?2:3;return n.filter((function(e){return function(e){return!t.meta.hasExplicitMin||e>=t.explicit.min}(e)&&function(e){return!t.meta.hasExplicitMax||e<=t.explicit.max}(e)})).length>=r}function NM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PM(e){var t=e.min,n=e.max,r=e.count,o=e.threshold,i=e.disable,a=function(e,t,n){var r=En().domain([e,t]);return r.nice(n),r}(t,n,r),l=function(e){var t=e.min,n=e.max,r=e.threshold,o=e.scale,i={start:!0,stop:!0};if(e.disable)return i;var a=NM(o.domain(),2),l=a[0],u=a[1];return 0!==t&&0!==l&&(i.start=o(t)>r),0!==n&&0!==u&&(i.stop=o(n)<1-r),i}({min:t,max:n,threshold:o,scale:a,disable:i});if(!l.start||!l.stop){var u=IM(a.domain(),2),s=u[0],c=u[1],f=a.ticks(r),d=f.length>=4?f[1]-f[0]:.1*s,p=f.length>=4?f[f.length-1]-f[f.length-2]:.1*c;a.domain([l.start?s:s-d,l.stop?c:c+p]),a.nice(r)}return a}var RM=50,_M=100,zM=200,FM=125,UM=function(e){switch(e){case.5:return RM;case 1:return _M;case 2:return zM;default:return e*FM}};function HM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||VM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BM(e){return function(e){if(Array.isArray(e))return WM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||VM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VM(e,t){if(e){if("string"==typeof e)return WM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WM(e,t):void 0}}function WM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GM(e){for(var t=e.chart,n=e.layoutModel,r=e.dockModel,o=e.measureText,i=e.size,a=e.min,l=e.max,u=function(e){var t=e.layoutModel,n=e.size,r=t.getLayoutValue("measureAxis.spacing",1),o=UM(r);return Math.max(1,Math.round(n/o))}({layoutModel:n,size:i}),s=PM({min:a,max:l,count:u,threshold:.05,disable:!0}),c=s.domain(),f={roundedMin:c[0],roundedMax:c[1],ticks:s.ticks(u)},d="vertical"===r.major.orientation?"height":"width",p=function(e){return o(e)[d]},m=t.formatter(yp.FORMATTER.MINOR),h=function(){var e=f.ticks.map(m);return!e.some((function(t,n){return e.indexOf(t)!==n}))&&function(e){var t=i/f.ticks.length;return Math.max.apply(Math,BM(e.map(p)))<=t}(e)},g=u-1;g>0&&!h();g--){s.domain([a,l]),s.nice(g);var y=HM(s.domain(),2);f.roundedMin=y[0],f.roundedMax=y[1],f.ticks=s.ticks(g)}return f}var KM=.3;function $M(e){var t=e.tick,n=e.index,r=e.ticks;return 0===n||n===r.length-1||0===t}function XM(e){var t=e.index,n=e.ticks;return 0===t||t===n.length-1||t===Math.floor((n.length-1)/2)}function ZM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return JM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YM=10;function QM(e){var t=e.chart,n=e.extrema,r={roundedMin:0,roundedMax:0,ticks:[]},o=PM({min:e.min,max:e.max,count:YM,threshold:.15,disable:!0}),i=ZM(o.domain(),2);r.roundedMin=i[0],r.roundedMax=i[1];var a=o.ticks(YM),l=function(e){var t=e.ticks,n=Math.round(t.length*KM),r=n,o=t.length-n;return t.slice(r,o).some((function(e){return 0===e}))}({ticks:a}),u=l?$M:XM;r.ticks=a.filter((function(e,t,n){return u({tick:e,index:t,ticks:n})})),r.ticks.length%2==0&&!l&&!n.meta.hasExplicit&&a.length>1&&(r.ticks=[a[0],(a[0]+a[a.length-1])/2,a[a.length-1]]);var s=t.formatter(yp.FORMATTER.MINOR),c=r.ticks.map(s);return c.some((function(e,t){return c.indexOf(e)!==t}))&&(r.ticks=[r.ticks[0],r.ticks[r.ticks.length-1]]),r}function eO(e){return function(e){if(Array.isArray(e))return tO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nO(e){return function(e){if(Array.isArray(e))return rO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oO(e){var t=e.chart,n=e.layoutModel,r=e.dockModel,o=e.extrema,i=function(e){var t=e.chart,n=e.layoutModel,r=e.dockModel,o=e.extrema,i=e.measureText,a=e.size,l=e.min,u=e.max;if("SPARK"===r.mode)return function(e){return{roundedMin:e.min,roundedMax:e.max,ticks:[]}}({min:l,max:u});var s=GM({chart:t,layoutModel:n,dockModel:r,measureText:i,size:a,min:l,max:u});return TM({extrema:o,ticks:s.ticks})?s:QM({chart:t,extrema:o,min:l,max:u})}({chart:t,layoutModel:n,dockModel:r,extrema:o,measureText:e.measureText,size:e.size,min:e.min,max:e.max}),a=i.ticks,l=i.roundedMin,u=i.roundedMax,s=function(e){for(var t=e.ticks,n=e.count,r=[],o=0;o<t.length-1;o++)for(var i=t[o],a=(t[o+1]-i)/(n+1),l=1;l<=n;l++)r.push(i+a*l);return r}({ticks:a,count:1});return{min:l,max:u,values:[].concat(nO(function(e){var t=e.ticks,n=e.extrema,r=eO(t);return n.meta.hasExplicit&&t.length?(n.meta.hasExplicitMin&&!t.some((function(e){return e===n.explicit.min}))&&(r.unshift(n.explicit.min),r=r.filter((function(e){return e>=n.explicit.min}))),n.meta.hasExplicitMax&&!t.some((function(e){return e===n.explicit.max}))&&(r.push(n.explicit.max),r=r.filter((function(e){return e<=n.explicit.max}))),r):r}({ticks:a,extrema:o}).map((function(e){return{value:e,isMinor:!1}}))),nO(s.map((function(e){return{value:e,isMinor:!0}})))).sort((function(e,t){return e.value-t.value}))}}function iO(e){var t=e.chart,n=e.layoutModel,r=e.dockModel,o=e.measureText,i=e.extrema,a=e.size,l=function(e){var t=e.extrema,n=t.min,r=t.max;return n!==r?{min:n,max:r}:0===n||1===n?{min:n-1,max:r+1}:{min:n-n*DM*Math.sign(n),max:r+r*DM*Math.sign(r)}}({extrema:i});return oO({chart:t,layoutModel:n,dockModel:r,extrema:i,measureText:o,size:a,min:l.min,max:l.max})}var aO=Math.log(10);function lO(e){return Math.pow(10,e)}var uO={pow10:lO,log:function(e,t){return e<=0||t<=0?NaN:Math.log(e)/Math.log(t)},log10:function(e){return e<=0?NaN:Math.log(e)/aO},eliminateFloatingError:function(e){var t=Math.round(e);return Math.abs(e-t)<1e-12?t:e},getNiceNumber:function(e){if(0===e)return 0;var t=Math.floor(Math.log(Math.abs(e))/aO),n=e/lO(t);return(n<=1?1:n<=2?2:n<=5?5:10)*lO(t)*(e<0?-1:1)},getSmallNiceNumber:function(e){var t,n;if(0===e)return 0;var r=e/lO(t=Math.floor(Math.log(Math.abs(e))/aO));return r<1?(n=5,t--):n=r<2?1:r<5?2:5,n*lO(t)*(e<0?-1:1)},getMagnitude:function(e){return 0===e?0:lO(Math.floor(Math.log(Math.abs(e))/aO))},getFraction:function(e){return 0===e?0:e/lO(Math.floor(Math.log(Math.abs(e))/aO))},getGoodNumber:function(e){var t;if(0===e)return 0;var n=Math.floor(Math.log(Math.abs(e))/aO),r=e/lO(n);return 7!==(t=Math.ceil(r))&&9!==t||t++,r>1&&r<=1.5?t=1.5:r>2&&r<=2.5&&(t=2.5),t*lO(n)*(e<0?-1:1)},getValueWithOffset:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e+Math.abs(e)*t},isNumber:function(e){return"number"==typeof e&&!Number.isNaN(e)}};function sO(e){0===e.max&&(e.max=0),0===e.min&&(e.min=0),0===e.tickBaseValue&&(e.tickBaseValue=0)}function cO(e){var t,n=0===e.explicitMax?1:uO.getMagnitude(e.explicitMax),r=e.explicitMax;t=e.maxNumIntervals<2?r-n:r-2*n;var o=r-(t=Math.ceil(t/n)*n);e.tickDataSpacing=Math.max(o/e.maxNumIntervals,e.minTickDataSpacing),e.tickSpacing=Math.max(n/10,uO.getNiceNumber(e.tickDataSpacing)),e.max=r,e.min=t,e.range=o,e.maxNumIntervals<1&&(e.tickBaseValue=e.min)}function fO(e){var t,n=0===e.explicitMin?1:uO.getMagnitude(e.explicitMin),r=e.explicitMin;t=e.maxNumIntervals<2?r+n:r+2*n;var o=(t=Math.floor(t/n)*n)-r;e.tickDataSpacing=Math.max(o/e.maxNumIntervals,e.minTickDataSpacing),e.tickSpacing=Math.max(n/10,uO.getNiceNumber(e.tickDataSpacing)),e.max=t,e.min=r,e.range=o,e.maxNumIntervals<1&&(e.tickBaseValue=e.max-e.tickSpacing)}function dO(e){if(0===e.usedDataMax)e.maxNumIntervals<2?(e.min=0,e.max=1):(e.min=-1,e.max=1),e.range=e.max-e.min,e.tickDataSpacing=Math.max(e.range/e.maxNumIntervals,e.minTickDataSpacing),e.tickSpacing=Math.max(.1,uO.getNiceNumber(e.tickDataSpacing)),e.tickMinIndex=Math.ceil(e.min/e.tickSpacing),e.tickMaxIndex=Math.floor(e.max/e.tickSpacing);else{var t=(n=Math.abs(e.usedDataMax),r=e.maxNumIntervals,a=uO.getMagnitude(n),l=n/a,u=Math.floor(l),s=Math.round(l),c=0,r<2?(o=u*a,i=(u+1)*a,r<1&&(c=o)):(o=(s-1)*a,i=(s+1)*a),{min:o,max:i,tickBaseValue:c,magnitude:a});e.usedDataMax>0?(e.max=t.max,e.min=t.min,e.tickBaseValue=t.tickBaseValue):(e.max=-t.min,e.min=-t.max,e.tickBaseValue=-t.tickBaseValue),e.range=e.max-e.min,e.tickDataSpacing=Math.max(e.range/e.maxNumIntervals,e.minTickDataSpacing),e.tickSpacing=Math.max(t.magnitude/10,uO.getNiceNumber(e.tickDataSpacing)),e.tickMinIndex=Math.floor((e.min-e.tickBaseValue)/e.tickSpacing),e.tickMaxIndex=Math.floor((e.max-e.tickBaseValue)/e.tickSpacing)}var n,r,o,i,a,l,u,s,c}function pO(e){null!==e.explicitMin&&null!==e.explicitMax?function(e){e.tickBaseValue=e.usedDataMin,e.min=e.usedDataMin,e.max=e.usedDataMin,e.range=0,e.tickSpacing=0===e.usedDataMin?1:Math.abs(e.usedDataMin),e.tickDataSpacing=e.tickSpacing,e.tickMinIndex=0,e.tickMaxIndex=0}(e):null===e.explicitMin&&null===e.explicitMax?dO(e):null===e.explicitMin&&null!==e.explicitMax?function(e){0===e.explicitMax?(e.max=0,e.min=-1,e.range=e.max-e.min,e.tickSpacing=Math.max(.1,uO.getNiceNumber(e.range/e.maxNumIntervals))):cO(e)}(e):function(e){0===e.explicitMin?(e.max=1,e.min=0,e.range=e.max-e.min,e.tickSpacing=Math.max(.1,uO.getNiceNumber(e.range/e.maxNumIntervals))):fO(e)}(e)}function mO(e){var t=e.tickModel,n=e.minIsStrict,r=e.maxIsStrict;void 0===n&&(n=null!==t.explicitMin),void 0===r&&(r=null!==t.explicitMax),t.tickMinIndex=n?Math.ceil(t.usedDataMin/t.tickSpacing):Math.floor(t.usedDataMin/t.tickSpacing),t.tickMaxIndex=r?Math.floor(t.usedDataMax/t.tickSpacing):Math.ceil(t.usedDataMax/t.tickSpacing),t.min=n?t.usedDataMin:t.tickMinIndex*t.tickSpacing,t.max=r?t.usedDataMax:t.tickMaxIndex*t.tickSpacing,t.range=t.max-t.min}function hO(e){var t=e.tickModel,n=e.minIsStrict,r=e.maxIsStrict,o=e.usingGoodNumber;t.tickSpacing=o?uO.getGoodNumber(t.tickDataSpacing):uO.getNiceNumber(t.tickDataSpacing),mO({tickModel:t,minIsStrict:n,maxIsStrict:r})}function gO(e){var t,n;hO({tickModel:e});var r=e.tickMaxIndex-e.tickMinIndex;if(t=(e.plotMaxCanBeTuned?e.usedDataMax:e.max)-(e.plotMinCanBeTuned?e.usedDataMin:e.min),e.spaceUseFactor=t/e.range,(n=e.size*e.tickSpacing/e.range<e.minTickSpacingInPixel||e.spaceOptimizingEnabled&&e.spaceUseFactor<e.spaceUseLimit)&&e.maxNumIntervals>=5){for(;e.tickDataSpacing<=e.absMax&&n;)e.tickDataSpacing=Math.max(1.1*e.tickSpacing,e.minTickDataSpacing),hO({tickModel:e}),t=(e.plotMaxCanBeTuned?e.usedDataMax:e.max)-(e.plotMinCanBeTuned?e.usedDataMin:e.min),e.spaceUseFactor=t/e.range,n=e.size*e.tickSpacing/e.range<e.minTickSpacingInPixel||e.spaceOptimizingEnabled&&e.spaceUseFactor<e.spaceUseLimit;if(!n)return}for(e.tickDataSpacing=Math.max(e.usedDataRange/e.maxNumIntervals,e.minTickDataSpacing),(n||r<=2&&e.maxNumIntervals>=2*r)&&hO({tickModel:e,usingGoodNumber:!0}),t=(e.plotMaxCanBeTuned?e.usedDataMax:e.max)-(e.plotMinCanBeTuned?e.usedDataMin:e.min),e.spaceUseFactor=t/e.range,n=e.size*e.tickSpacing/e.range<e.minTickSpacingInPixel||e.spaceOptimizingEnabled&&e.spaceUseFactor<e.spaceUseLimit;e.tickDataSpacing<=e.absMax&&n;)e.tickDataSpacing=Math.max(1.1*e.tickSpacing,e.minTickDataSpacing),hO({tickModel:e,usingGoodNumber:!0}),t=(e.plotMaxCanBeTuned?e.usedDataMax:e.max)-(e.plotMinCanBeTuned?e.usedDataMin:e.min),e.spaceUseFactor=t/e.range,n=e.size*e.tickSpacing/e.range<e.minTickSpacingInPixel||e.spaceOptimizingEnabled&&e.spaceUseFactor<e.spaceUseLimit}function yO(e){var t=e.tickModel;e.useGoodNumber?(t.tickSpacing=uO.getGoodNumber(t.absMax),t.tickBaseValue=-t.tickSpacing,t.min=null===t.explicitMin?-t.tickSpacing:t.explicitMin,t.max=null===t.explicitMax?t.tickSpacing:t.explicitMax,t.tickMinIndex=null===t.explicitMin?0:1,t.tickMaxIndex=(t.explicitMax,1),t.tickSpacing*=2):(t.max=t.usedDataMax,t.min=t.usedDataMin,t.range=t.max-t.min,t.tickMinIndex=0,t.tickMaxIndex=0,t.tickSpacing=uO.getNiceNumber(t.absMax),t.tickSpacing===t.absMax&&(t.tickSpacing=uO.getNiceNumber(1.1*t.absMax)))}function vO(e){var t;e.tickSpacing=uO.getNiceNumber(e.tickDataSpacing),e.min=e.usedDataMin,e.max=e.usedDataMax,e.range=e.max-e.min,e.tickMinIndex=0,e.tickMaxIndex=0,(e.usedDataMax<0||e.usedDataMin>0)&&(t=uO.getSmallNiceNumber(e.range),e.tickBaseValue=Math.ceil(e.min/t)*t)}function bO(e){var t=e.usedDataMax>=-e.usedDataMin,n=t||null!==e.explicitMin,r=!t||null!==e.explicitMax;hO({tickModel:e,minIsStrict:n,maxIsStrict:r,usingGoodNumber:!0});for(var o=(e.absMax+(1-e.spaceUseLimit)*e.absMin)/e.spaceUseLimit*1.0001;e.tickDataSpacing<=o&&e.size*e.tickSpacing/e.range<e.minTickSpacingInPixel;)e.tickDataSpacing=Math.max(1.1*e.tickSpacing,e.minTickDataSpacing),hO({tickModel:e,minIsStrict:n,maxIsStrict:r,usingGoodNumber:!0});var i=(e.plotMaxCanBeTuned?e.usedDataMax:e.max)-(e.plotMinCanBeTuned?e.usedDataMin:e.min);e.spaceUseFactor=i/e.range,e.spaceOptimizingEnabled&&e.spaceUseFactor<e.spaceUseLimit&&yO({tickModel:e})}function xO(e){var t,n;if(e.values=[],e.secondaryValues=[],function(e){e.niceNumberEnabled&&e.max!==e.min&&0!==e.size?(e.minTickValue=e.tickBaseValue+e.tickMinIndex*e.tickSpacing,e.maxTickValue=e.tickBaseValue+e.tickMaxIndex*e.tickSpacing):(e.minTickValue=e.min,e.maxTickValue=e.max)}(e),0!==e.size)if(e.niceNumberEnabled){t=e.tickBaseValue;var r=e.tickMaxIndex-e.tickMinIndex;if(r<1)e.values.push(t);else{for(n=0;n<=r;n++)e.values.push(t+(n+e.tickMinIndex)*e.tickSpacing);for(t=e.tickBaseValue+e.tickSpacing/2,n=0;n<r;n++)e.secondaryValues.push(t+(n+e.tickMinIndex)*e.tickSpacing)}}else{for(e.numIntervals=Math.floor(e.maxNumIntervals),e.tickDataSpacing=Math.max(e.usedDataRange/e.numIntervals,e.minTickDataSpacing),t=e.usedDataMin,n=0;n<=e.numIntervals;n++)e.values.push(t+n*e.tickDataSpacing);for(t=e.usedDataMin+e.tickDataSpacing/2,n=0;n<e.numIntervals;n++)e.secondaryValues.push(t+n*e.tickDataSpacing)}}function MO(e){var t,n,r,o=[.5],i=e.values[0];for(r=0;r<o.length;r++)if(t=i-e.tickSpacing*o[r],n=e.max-t,e.size*e.tickSpacing/n>3*e.fontHeight)return e.min=t,e.range=n,void e.values.splice(0,0,t)}function OO(e){var t,n,r,o=[.5],i=e.values[e.values.length-1];for(r=0;r<o.length;r++)if(n=(t=i+e.tickSpacing*o[r])-e.min,e.size*e.tickSpacing/n>3*e.fontHeight)return e.max=t,e.range=n,void e.values.push(t)}var wO={calculateTicks:function(e){var t,n=e.size,r=e.dataMin,o=e.dataMax,i=e.explicitMin,a=e.explicitMax,l=e.minTickSpacingInPixel,u=e.fontHeight,s=e.niceNumberEnabled,c=void 0===s||s,f=e.spaceOptimizingEnabled,d=void 0===f||f,p=e.spaceUseLimit,m=void 0===p?.6:p,h=e.tickMinMaxCoverDataMinMax,g=void 0===h||h,y=e.minTickDataSpacing,v=!1;Number.isNaN(+i)&&(i=null),Number.isNaN(+a)&&(a=null),r>o&&(t=r,r=o,o=t),null!==i&&null!==a&&i>a&&(t=i,i=a,a=t),y=y||0;var b=null!==i,x=null!==a,M=b?i:r,O=x?a:o,w=O-M,S=n/l,k=S+1,C=Math.max(w/S,y),E={size:n,dataMin:r,dataMax:o,explicitMin:i,explicitMax:a,minIsStrict:b,maxIsStrict:x,usedDataMin:M,usedDataMax:O,usedDataRange:w,minTickDataSpacing:y,minTickSpacingInPixel:l,maxNumIntervals:S,maxNumTicks:k,tickDataSpacing:C,fontHeight:u,niceNumberEnabled:c,spaceOptimizingEnabled:d,tickBaseValue:0};return E.absMax=Math.max(Math.abs(O),Math.abs(M)),E.absMin=Math.min(Math.abs(O),Math.abs(M)),E.spaceUseLimit=m,E.plotMaxCanBeTuned=null===a&&O>0,E.plotMinCanBeTuned=null===i&&M<0,c&&0!==n?(null!==E.explicitMax&&E.explicitMax<E.usedDataMin||null!==E.explicitMin&&E.explicitMin>E.usedDataMax?(v=!0,function(e){null!==e.explicitMax&&e.explicitMax<e.usedDataMin?cO(e):null!==e.explicitMin&&e.explicitMin>e.usedDataMax&&fO(e)}(E)):0===E.usedDataRange?pO(E):E.maxNumIntervals<1?vO(E):(E.usedDataMax>0&&E.usedDataMin<0?1===E.maxNumIntervals?yO({tickModel:E,useGoodNumber:!0}):E.maxNumIntervals>=5?gO(E):E.maxNumIntervals<2?bO(E):function(e){gO(e);var t=(e.plotMaxCanBeTuned?e.usedDataMax:e.max)-(e.plotMinCanBeTuned?e.usedDataMin:e.min);e.spaceUseFactor=t/e.range,e.spaceOptimizingEnabled&&e.spaceUseFactor<e.spaceUseLimit&&(e.tickDataSpacing=Math.max(e.usedDataRange/e.maxNumIntervals,e.minTickDataSpacing),bO(e))}(E):gO(E),E.tickMaxIndex<E.tickMinIndex?(E.tickDataSpacing=Math.max(E.usedDataRange/E.maxNumIntervals,E.minTickDataSpacing),vO(E)):function(e){var t=uO.getNiceNumber(e.tickSpacing);if(e.tickSpacing!==t&&0===e.tickBaseValue){var n=e.tickSpacing,r=e.tickMinIndex,o=e.tickMaxIndex,i=o-r,a=e.min,l=e.max;e.tickSpacing=t,mO({tickModel:e});var u=(e.plotMaxCanBeTuned?e.usedDataMax:e.max)-(e.plotMinCanBeTuned?e.usedDataMin:e.min);e.spaceUseFactor=u/e.range;var s=e.size*e.tickSpacing/e.range<e.minTickSpacingInPixel||e.spaceOptimizingEnabled&&e.spaceUseFactor<e.spaceUseLimit,c=e.tickMaxIndex-e.tickMinIndex;!s&&(c===i||c>=10||c>=3&&1.5*c>=i)||(e.tickSpacing=n,e.tickMinIndex=r,e.tickMaxIndex=o,e.min=a,e.max=l,e.range=e.max-e.min)}}(E)),xO(E),g&&E.maxNumIntervals>=1&&!v&&(function(e){var t,n=e.min,r=e.max,o=e.tickMinIndex,i=e.tickMaxIndex,a=e.tickSpacing,l=e.tickMaxIndex-e.tickMinIndex,u=2*e.fontHeight,s=e.values?e.values.length:0,c=e.values[0],f=e.values[s-1],d=!0,p=l;if(null===e.explicitMin&&c>e.dataMin&&p++,null===e.explicitMax&&f<e.dataMax&&p++,p!==l){for(t=0;d&&t<10;)e.tickSpacing=uO.getSmallNiceNumber(.99*e.tickSpacing),mO({tickModel:e}),e.tickMaxIndex-e.tickMinIndex>p&&(d=!1),t++;for(d=!0,t=0;e.tickSpacing<a&&d&&t<10;)e.tickSpacing=uO.getGoodNumber(1.1*e.tickSpacing),mO({tickModel:e}),e.tickMaxIndex-e.tickMinIndex===p&&e.size*e.tickSpacing/e.range>u&&(d=!1),t++;d?(e.min=n,e.max=r,e.tickMinIndex=o,e.tickMaxIndex=i,e.tickSpacing=a):xO(e)}}(E),function(e){var t=e.values?e.values.length:0,n=e.values[0],r=e.values[t-1];null===e.explicitMin&&n>e.dataMin&&null===e.explicitMax&&r<e.dataMax?Math.abs(e.dataMin)<=Math.abs(e.dataMax)?(MO(e),OO(e)):(OO(e),MO(e)):null===e.explicitMin&&n>e.dataMin?MO(e):null===e.explicitMax&&r<e.dataMax&&OO(e)}(E)),sO(E),E):(E.min=M,E.max=O,E.tickSpacing=C,xO(E),sO(E),E)}};function SO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var CO=Math.log(10),EO=1e-12,AO=Math.log(3)/CO,qO=[[2,4,6],[2,4],[3]],DO=[,[,,[[1,2]],[[1,2,3],[1,3]],[[1,2,4],[1,4]],[[1,2,4],[1,5]],[[1,2,4,6],[2,4,6],[1,3,6],[1,6]],[[1,2,4,6],[2,4,6],[1,3,6],[1,7]],[[1,2,4,8],[2,4,8],[1,8]],[[1,2,4,8],[2,4,8],[1,3,9],[1,9]],[[1,2,4,6,10],[1,2,4,10],[1,3,10],[3,10],[1,10]]],[,,,[[2,3]],[[2,3,4],[2,4]],[[2,3,4],[2,4],[2,5]],[[2,4,6],[2,6]],[[2,4,6],[2,6],[2,7]],[[2,4,8],[2,8]],[[2,4,8],[2,8],[2,9]],[[2,4,6,10],[2,4,10],[5,10],[3,10]]],[,,,,[[3,4]],[[3,4,5],[3,5]],[[3,4,5,6],[3,6]],[[3,4,5,6],[3,5,7],[3,7]],[[3,4,5,6,8],[3,5,7],[4,8],[3,8]],[[3,4,5,6,8],[3,4,6,9],[3,4,6,8],[3,6,9],[4,8],[3,9]],[[4,6,10],[5,10],[3,10]]],[,,,,,[[4,5]],[[4,5,6],[4,6]],[[4,5,6,7],[4,5,6],[4,6]],[[4,5,6,7,8],[4,5,6,7],[4,6,8],[4,8]],[[4,5,6,7,8],[4,6,9],[4,6,8],[4,8]],[[4,6,10],[5,7,9],[5,10],[4,10]]],[,,,,,,[[5,6]],[[5,6,7],[5,7]],[[5,6,7,8],[5,6,7],[6,8]],[[5,6,7,8,9],[5,6,7,8],[5,7,9],[5,9]],[[6,8,10],[5,10]]],[,,,,,,,[[6,7]],[[6,7,8],[6,8]],[[6,7,8,9],[6,7,8],[6,9]],[[6,7,8,9,10],[6,8,10],[6,10]]],[,,,,,,,,[[7,8]],[[7,8,9],[7,9]],[[7,8,9,10],[8,10],[7,10],[7,9]]],[,,,,,,,,,[[8,9]],[[8,9,10],[8,10]]],[,,,,,,,,,,[[9,10]]]],TO=[,[,,[1,2],[1,3],[1,4],[1,5,1,6],[1,6],[1,10,1,8,1,7],[1,8,1,10],[1,10,1,9]],[,,,[2,3],[2,4],[2,6,2,5],[2,6,2,8],[2,8,2,7],[2,8,1,10],[1,10,2,10,2,9],[1,10,2,10]],[,,,,[3,4,2,4],[3,6,3,5],[3,6,2,6],[2,8,3,8,3,7],[2,8,3,8,3,9],[2,10,3,10,3,9]],[,,,,,[4,5,4,6,3,5],[4,6],[4,8,4,7],[4,8],[4,10,4,9,3,9],[4,10]],[,,,,,[5,6,4,6],[5,7,4,8],[4,8,5,8,5,10],[5,10,4,10,5,9],[5,10,4,10]],[,,,,,,[6,7,6,8],[6,8],[6,10,5,10,6,9],[6,10,5,10]],[,,,,,,,[7,8,6,8],[7,9,6,10],[6,10,7,10]],[,,,,,,,,[8,10,8,9],[8,10]],[,,,,,,,,,[9,10]]];function NO(e,t,n){var r,o=e?e.length:0,i=void 0===t?Number.MAX_VALUE:e[0]/t;for(r=1;r<o;r++)i=Math.min(i,e[r]/e[r-1]);void 0!==n&&(i=Math.min(i,n/e[o-1])),e.splice(0,0,i)}function LO(e,t,n){var r,o=e?e.length:0;for(r=0;r<o;r++)NO(e[r],t,n)}function IO(e){var t,n,r,o,i,a=!0,l=0;t=e.tickDataSpacingLog;for(;a&&l<5;)t=0===l?Math.ceil(e.tickDataSpacingLog):Math.ceil(1.01*t),n=e.minIsStrict?Math.ceil(e.usedDataMinLog/t):Math.floor(e.usedDataMinLog/t),r=e.maxIsStrict?Math.floor(e.usedDataMaxLog/t):Math.ceil(e.usedDataMaxLog/t),o=e.minIsStrict?e.explicitPlotMinLog:n*t,a=t/((i=e.maxIsStrict?e.explicitPlotMaxLog:r*t)-o)*e.size<e.minTickSpacingInPixel,l++;return a&&(t=Math.ceil(e.tickDataSpacingLog),n=e.minIsStrict?Math.ceil(e.usedDataMinLog/t):Math.floor(e.usedDataMinLog/t),r=e.maxIsStrict?Math.floor(e.usedDataMaxLog/t):Math.ceil(e.usedDataMaxLog/t),o=e.minIsStrict?e.explicitPlotMinLog:n*t,i=e.maxIsStrict?e.explicitPlotMaxLog:r*t),{plotMinLog:o,plotMaxLog:i,tickMinIndex:n,tickMaxIndex:r,tickDataSpacingNNLog:t,tickBaseValueLog:0,success:!a}}function jO(e){var t=function(e){var t,n,r,o,i,a=!0,l=0;t=e.tickDataSpacingLog,n=0;for(var u=e.usedDataMinLogFloor;a&&l<5;)t=0===l?Math.ceil(e.tickDataSpacingLog):Math.ceil(1.01*t),n=e.minIsStrict?Math.ceil((e.usedDataMinLog-u)/t):Math.floor((e.usedDataMinLog-u)/t),r=e.maxIsStrict?Math.floor((e.usedDataMaxLog-u)/t):Math.ceil((e.usedDataMaxLog-u)/t),o=e.minIsStrict?e.explicitPlotMinLog:n*t+u,a=t/((i=e.maxIsStrict?e.explicitPlotMaxLog:r*t+u)-o)*e.size<e.minTickSpacingInPixel,l++;return a&&(t=0===l?Math.ceil(e.tickDataSpacingLog):Math.ceil(1.01*t),n=e.minIsStrict?Math.ceil((e.usedDataMinLog-u)/t):Math.floor((e.usedDataMinLog-u)/t),r=e.maxIsStrict?Math.floor((e.usedDataMaxLog-u)/t):Math.ceil((e.usedDataMaxLog-u)/t),o=e.minIsStrict?e.explicitPlotMinLog:n*t+u,i=e.maxIsStrict?e.explicitPlotMaxLog:r*t+u),{plotMinLog:o,plotMaxLog:i,tickMinIndex:n,tickMaxIndex:r,tickDataSpacingNNLog:t,tickBaseValueLog:u,success:!a}}(e);if(!t.success)return IO(e);var n=e.usedDataMaxLog-e.usedDataMinLog,r=n/(t.plotMaxLog-t.plotMinLog);if(1===r)return t;var o=IO(e);if(!o.success)return t;var i=n/(o.plotMaxLog-o.plotMinLog),a=o.tickMaxIndex-o.tickMinIndex,l=t.tickMaxIndex-t.tickMinIndex;return l>a||l===a&&r>i||l===a&&r===i&&t.plotMinLog<o.plotMinLog?t:o}function PO(e,t,n,r,o){var i=uO.getNiceNumber(1.1*o),a=e?Math.ceil(n/i):Math.floor(n/i),l=t?Math.floor(r/i):Math.ceil(r/i);return{min:e||0===a?n:a*i,max:t?r:l*i,tickSpacing:i,tickBaseValue:0}}function RO(e,t,n,r,o){var i,a;i=function(e,t){var n;for(n=0;n<e.length;n++)if(e[n]>=t)return n-1;return null}(e,t),a=function(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n]<=t)return n+1;return null}(e,n),null!==i&&!r&&void 0!==e[i+1]&&e[i+1]>t&&(i-=1),null!==a&&!o&&a>0&&void 0!==e[a-1]&&e[a-1]<n&&(a+=1),null!==a&&a<e.length&&e.splice(a,e.length-a),null!==i&&i>=0&&e.splice(0,i+1)}function _O(e,t,n,r,o){var i,a=Number.MAX_VALUE,l=-Number.MAX_VALUE,u=uO.log10(r),s=uO.log10(n),c=u-s,f=t.map(uO.log10),d=t?t.length:0;(null===o||Number.isNaN(+o))&&(o=1.71);for(var p=1;p<d;p++)i=f[p]-f[p-1],a=Math.min(a,i),l=Math.max(l,i);return l=Math.max(l,Math.abs(f[0]-s)),l=Math.max(l,Math.abs(u-f[d-1])),a/c*e.size>=e.minTickSpacingInPixel-EO&&l/a<=o&&t.length-1<=e.maxNumIntervals}function zO(e,t){for(var n,r=Number.MAX_VALUE,o=-Number.MAX_VALUE,i=t.values,a=i.map(uO.log10),l=i?i.length:0,u=1;u<l;u++)n=a[u]-a[u-1],r=Math.min(r,n),o=Math.max(o,n);t.maxTickSpacing=o,t.minTickSpacing=r,t.tickSpacingRatio=o/r,t.spaceUseFactor=e.usedDataRange/(t.max-t.min),t.factor=t.spaceUseFactor/(t.tickSpacingRatio*t.tickSpacingRatio)}function FO(e,t,n,r,o){var i,a,l,u,s=(r+n)/2;return void 0===o?(i=Math.round(s))>=n&&i<=r?uO.pow10(i):(a=Math.floor(s))>=n&&a<=r?uO.pow10(a):(l=Math.ceil(s))>=n&&l<=r?uO.pow10(l):(u=uO.getSmallNiceNumber(Math.max(1,t-e)),Math.ceil(e/u)*u):(a=uO.pow10(Math.floor(s)),l=uO.pow10(Math.ceil(s)),Math.abs(a-o)<Math.abs(l-o)?a:l)}function UO(e,t,n,r,o,i){var a,l=o?Math.ceil((e-n)/r):Math.floor((e-n)/r),u=i?Math.floor((t-n)/r):Math.ceil((t-n)/r),s=[];for(a=l;a<=u;a++)a*r+n>0&&s.push(a*r+n);return s}function HO(e){e.sort((function(e,t){return e-t}))}function BO(e,t,n,r){var o,i=t.length;if(r){for(o=i-1;o>=0;o--)if(Math.abs(t[o]-n[o]*e.dataMinMagnitude)>EO)return!1;return!0}for(o=0;o<i;o++)if(Math.abs(t[o]-n[o]*e.dataMinMagnitude)>EO)return!1;return!0}function VO(e){var t,n,r,o;if(e.maxIsStrict&&e.explicitMax<=e.usedDataMin?(e.dataMinLog=Math.ceil(e.explicitPlotMaxLog-(e.maxNumIntervals<2?1:2)),e.dataMin=uO.pow10(e.dataMinLog)):e.minIsStrict&&e.explicitMin>=e.usedDataMax?(e.dataMaxLog=Math.floor(e.explicitPlotMinLog+(e.maxNumIntervals<2?1:2)),e.dataMax=uO.pow10(e.dataMaxLog)):e.usedDataMin===e.usedDataMax&&(t=e.usedDataMin,e.dataMinLog=Math.floor(e.dataMinLog),e.dataMaxLog=e.dataMinLog+1,e.dataMin=uO.pow10(e.dataMinLog),e.dataMax=uO.pow10(e.dataMaxLog)),e.usedDataMin=e.minIsStrict?e.explicitMin:e.dataMin,e.usedDataMax=e.maxIsStrict?e.explicitMax:e.dataMax,e.usedDataMinLog=e.minIsStrict?e.explicitPlotMinLog:e.dataMinLog,e.usedDataMaxLog=e.maxIsStrict?e.explicitPlotMaxLog:e.dataMaxLog,e.maxNumIntervals<1)return{values:[FO(e.usedDataMin,e.usedDataMax,e.usedDataMinLog,e.usedDataMaxLog,t)],min:e.usedDataMin,max:e.usedDataMax};e.tickDataSpacingLog=(e.usedDataMaxLog-e.usedDataMinLog)/e.maxNumIntervals,e.usedDataMinLogFloor=Math.floor(e.usedDataMinLog),e.usedDataMaxLogFloor=Math.floor(e.usedDataMaxLog),e.dataMinMagnitude=uO.pow10(e.usedDataMinLogFloor),e.fractionMinLog=e.usedDataMin/e.dataMinMagnitude,e.fractionMaxLog=e.usedDataMax/e.dataMinMagnitude;var i=Math.ceil(e.usedDataMaxLog);if(e.usedDataMinLog===e.usedDataMinLogFloor&&e.usedDataMaxLog===i&&e.maxNumIntervals>=2&&e.maxNumIntervals<3&&e.tickDataSpacingLog>1&&e.tickDataSpacingLog-Math.floor(e.tickDataSpacingLog)<AO){var a=Math.floor((e.usedDataMinLogFloor+i)/2);RO(r=[uO.pow10(e.usedDataMinLogFloor),3*uO.pow10(a),uO.pow10(i)],e.usedDataMin,e.usedDataMax,e.minIsStrict,e.maxIsStrict);var l=e.minIsStrict?e.explicitMin:r[0],u=e.maxIsStrict?e.explicitMax:r[r.length-1];if(r.length>=2&&_O(e,r,l,u))return{values:r,min:l,max:u}}var s=jO(e);if(!s.success)return{values:[FO(e.usedDataMin,e.usedDataMax,e.usedDataMinLog,e.usedDataMaxLog)],min:e.usedDataMin,max:e.usedDataMax};var c=s.tickMinIndex,f=s.tickMaxIndex,d=s.tickDataSpacingNNLog,p=s.tickBaseValueLog;e.minIsStrict&&c--,e.maxIsStrict&&f++;var m=[];for(n=c;n<=f;n++)m.push(uO.pow10(n*d+p));var h=uO.pow10(e.tickDataSpacingLog),g=function(e){return e.usedDataMax>=10*e.usedDataMin?1:e.usedDataMaxLogFloor===e.usedDataMinLogFloor?e.maxIsStrict&&e.minIsStrict?2:3:1}(e);return 2===g?function(e,t,n){var r,o,i=!0,a=Math.ceil(e.fractionMinLog),l=Math.floor(e.fractionMaxLog),u=0;if(t[a]&&t[a][l])for(var s=t[a][l],c=s.length;u<c&&i;){if(n<=s[u][0]+EO&&s[u].length-2<=e.maxNumIntervals){for(o=[],r=1;r<s[u].length;r++)o.push(s[u][r]*e.dataMinMagnitude);i=!_O(e,o,e.usedDataMin,e.usedDataMax)}i&&u++}return i&&(o=[FO(e.usedDataMin,e.usedDataMax,e.usedDataMinLog,e.usedDataMaxLog)]),{values:o,min:e.minIsStrict?e.explicitMin:o[0],max:e.maxIsStrict?e.explicitMax:o[o.length-1]}}(e,DO,h):3===g?function(e,t,n){var r,o,i,a,l,u,s,c,f,d,p,m,h,g,y,v=e.minIsStrict?Math.ceil(e.fractionMinLog):Math.floor(e.fractionMinLog),b=e.maxIsStrict?Math.floor(e.fractionMaxLog):Math.ceil(e.fractionMaxLog),x={};if(TO[v]&&TO[v][b])for(s=TO[v][b],c=Array.isArray(s)?s.length/2:0,x.values=[],r=0;r<c;r++)if(f=s[2*r],d=s[2*r+1],t[f]&&t[f][d])for(m=(p=t[f][d]).length,o=0;o<m;o++)if(h=n<=p[o][0]+EO&&p[o].length-2<=e.maxNumIntervals,g=p[o][1]*e.dataMinMagnitude,y=p[o][p[o].length-1]*e.dataMinMagnitude,h=e.minIsStrict?h&&g>=e.usedDataMin:h&&g<=e.usedDataMin,h=e.maxIsStrict?h&&y<=e.usedDataMax:h&&y>=e.usedDataMax){for(a=[],i=1;i<p[o].length;i++)a.push(p[o][i]*e.dataMinMagnitude);if(RO(a,e.usedDataMin,e.usedDataMax,e.minIsStrict,e.maxIsStrict),_O(e,a,l=e.minIsStrict?e.explicitMin:a[0],u=e.maxIsStrict?e.explicitMax:a[a.length-1])){x.values.length<a.length&&(x={values:a,min:l,max:u});break}}x.values&&0!==x.values.length||(x.values=[FO(e.usedDataMin,e.usedDataMax,e.usedDataMinLog,e.usedDataMaxLog)]);var M=x.values;return x.min=e.minIsStrict?e.explicitMin:M[0],x.max=e.maxIsStrict?e.explicitMax:M[M.length-1],x}(e,DO,h):(function(e,t){var n,r,o=t.values,i=o.length;if(!(i<2||i>4)){if(r=5*e.dataMinMagnitude,(e.minIsStrict&&e.usedDataMin<=r||!e.minIsStrict&&e.usedDataMin>=r)&&(BO(e,o,[6,10,20,40])||BO(e,o,[4,10,20,40])))return n=SO(o,1)[0],o[0]=r,t.min=e.minIsStrict?e.explicitMin:o[0],void(_O(e,o,t.min,t.max)||(o[0]=n,t.min=e.minIsStrict?e.explicitMin:o[0]));r=80*e.dataMinMagnitude,(e.maxIsStrict&&e.usedDataMax>=r||!e.maxIsStrict&&e.usedDataMax<=r)&&BO(e,o,[10,20,40,60],!0)&&(n=o[i-1],o[i-1]=r,t.max=e.maxIsStrict?e.explicitMax:o[i-1],_O(e,o,t.min,t.max)||(o[i-1]=n,t.max=e.maxIsStrict?e.explicitMax:o[i-1]))}}(e,o=function(e,t,n,r,o,i,a,l){var u,s,c,f,d,p=0,m=[];for(p=0;p<t.length;p++)if(n<=t[p][0]+EO){for(c=r.concat(),u=o;u<i;u++)for(s=1;s<t[p].length;s++)c.push(t[p][s]*uO.pow10(u*a+l));HO(c),RO(c,e.usedDataMin,e.usedDataMax,e.minIsStrict,e.maxIsStrict),_O(e,c,f=e.minIsStrict?e.explicitMin:c[0],d=e.maxIsStrict?e.explicitMax:c[c.length-1])&&m.push({values:c,min:f,max:d})}if(0===m.length)return RO(c=r,e.usedDataMin,e.usedDataMax,e.minIsStrict,e.maxIsStrict),{values:c,min:f=e.minIsStrict?e.explicitMin:c[0],max:d=e.maxIsStrict?e.explicitMax:c[c.length-1]};if(1===m.length)return m[0];var h=r.length-1;for(p=0;p<m.length;p++){var g=m[p].values.length-1;if(m[p].values[0]===r[0]&&m[p].values[g]===r[h])return m[p]}return m[0]}(e,qO,h,m,c,f,d,p)),o)}!function(){var e,t;for(LO(qO,1,10),e=0;e<DO.length;e++)if(DO[e])for(t=0;t<DO[e].length;t++)Array.isArray(DO[e][t])&&LO(DO[e][t])}();var WO={calculateTicksLogPositive:function(e){var t,n=e.size,r=e.dataMin,o=e.dataMax,i=e.explicitMin,a=e.explicitMax,l=e.minTickSpacingInPixel,u=e.fontHeight,s=e.niceNumberEnabled,c=e.spaceOptimizingEnabled;Number.isNaN(+i)&&(i=null),Number.isNaN(+a)&&(a=null),r>o&&(t=r,r=o,o=t),null!==i&&null!==a&&i>a&&(t=i,i=a,a=t);var f=null!==i,d=null!==a,p=f?i:r,m=d?a:o,h=n/l,g={size:n,dataMin:r,dataMax:o,explicitMin:i,explicitMax:a,minIsStrict:f,maxIsStrict:d,usedDataMin:p,usedDataMax:m,usedDataRange:m-p,minTickSpacingInPixel:l,maxNumIntervals:h,maxNumTicks:h+1,fontHeight:u,niceNumberEnabled:s,spaceOptimizingEnabled:c};if(g.explicitPlotMinLog=g.minIsStrict?uO.eliminateFloatingError(uO.log10(i)):null,g.explicitPlotMaxLog=g.maxIsStrict?uO.eliminateFloatingError(uO.log10(a)):null,g.dataMinLog=uO.eliminateFloatingError(uO.log10(r)),g.dataMaxLog=uO.eliminateFloatingError(uO.log10(o)),!s||0===n)return function(e){e.min=e.usedDataMin,e.max=e.usedDataMax;for(var t=Math.floor(e.maxNumIntervals),n=(e.dataMaxLog-e.dataMinLog)/t,r=[e.usedDataMin],o=0;o<t;o++)r.push(uO.pow10(e.dataMinLog+(o+1)*n));return{values:r,min:e.min,max:e.max}}(g);if(g.minIsStrict&&g.maxIsStrict&&g.explicitMin===g.explicitMax)return{values:[g.explicitMin],min:g.explicitMin,max:g.explicitMax};var y=VO(g);if(g.usedDataMax>=10*g.usedDataMin)return y;var v=function(e){var t,n,r,o=e.dataMin,i=e.dataMax,a=e.explicitMin,l=e.explicitMax,u=e.minIsStrict,s=e.maxIsStrict,c=e.usedDataMin,f=e.usedDataMax,d=wO.calculateTicks(e),p=1;0===d.min&&(d.min=u?a:o);var m=d.values;for(t=u?a:Math.min(o,m[0]),n=s?l:Math.max(m[m.length-1],i);!_O(e,m,t,n)&&p<=20;)m=UO(c,f,(d=PO(u||d.tickSpacing>c,s,c,f,d.tickSpacing)).tickBaseValue,d.tickSpacing,u,s),t=u?a:Math.min(o,m[0]),n=s?l:Math.max(m[m.length-1],i),p++;return _O(e,m,t,n)?(r=uO.getFraction(m[0])/2,2===m.length&&m[1]/m[0]==2&&m[0]/2>=t&&r===Math.floor(r)&&(m.splice(0,0,m[0]/2),r=uO.getFraction(m[0])/2,m[0]/2>=t&&r===Math.floor(r)&&m.splice(0,0,m[0]/2))):m=[],d.values=m,d.numLoops=p,d}(g);return v.values.length<2?y:y.values.length<2?v:v.values.length===y.values.length?(zO(g,v),zO(g,y),v.factor>y.factor?v:y):v.values.length-1>=1.5*(y.values.length-1)&&v.values.length>y.values.length?v:y},calculateTicks:function(e){var t,n,r,o,i,a,l,u=e.size,s=e.dataMin,c=e.dataMax,f=e.explicitMin,d=e.explicitMax,p=e.minTickSpacingInPixel,m=e.fontHeight,h=e.niceNumberEnabled,g=void 0===h||h,y=e.spaceOptimizingEnabled,v=void 0===y||y;if(Number.isNaN(+f)&&(f=null),Number.isNaN(+d)&&(d=null),s>c&&(t=s,s=c,c=t),null!==f&&null!==d&&f>d&&(t=f,f=d,d=t),s*c<=0&&(s=null===f?s:f,c=null===d?c:d),s>0&&c>0&&(null===f||f>0)&&(null===d||d>0))return(n=WO.calculateTicksLogPositive({size:u,dataMin:s,dataMax:c,explicitMin:f,explicitMax:d,minTickSpacingInPixel:p,fontHeight:m,niceNumberEnabled:g,spaceOptimizingEnabled:v})).sign=1,n;if(s<0&&c<0&&(null===f||f<0)&&(null===d||d<0)){for(r=WO.calculateTicksLogPositive({size:u,dataMin:-c,dataMax:-s,explicitMin:null===d?null:-d,explicitMax:null===f?null:-f,minTickSpacingInPixel:p,fontHeight:m,niceNumberEnabled:g,spaceOptimizingEnabled:v}),(n={}).min=-r.max,n.max=-r.min,a=(i=r.values)?i.length:0,o=new Array(a),l=0;l<a;l++)o[l]=-i[a-1-l];return n.values=o,n.sign=-1,n}return{values:[],min:null===f?s:f,max:null===d?c:d}}},GO=WO;function KO(e){return function(e){if(Array.isArray(e))return $O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XO(e){var t=e.chart,n=e.layoutModel,r=e.dockModel,o=e.measureText,i=e.extrema,a=e.size,l=e.fontHeight,u=i.min,s=i.max,c=t.formatter("minor"),f="horizontal"===r.minor.orientation?4*l:Math.max(96,function(e){var t=e.min,n=e.max,r=e.measureText,o=e.formatter;return o?Math.max.apply(Math,KO([t,n,(n-t)/2].map((function(e){return r(o(e)).width})))):0}({min:u,max:s,measureText:o,formatter:c})),d=n.getLayoutValue("measureAxis.spacing",1);return Math.max(2,Math.floor(a/(f*d))+1)}function ZO(e){var t=e.chart,n=e.layoutModel,r=e.dockModel,o=e.measureText,i=e.extrema,a=e.size,l=o("M").height,u=XO({chart:t,layoutModel:n,dockModel:r,measureText:o,extrema:i,size:a,fontHeight:l}),s=function(e){var t=e.layoutModel,n=e.extrema,r=t.meta.isArea,o=n.implicit,i=o.min,a=o.max,l={min:i,max:a};return r?(i>=1?l.min=1:i>0&&(l.min=Math.pow(10,Math.floor(Math.log(i)/Math.log(10)))),a<=-1?l.max=-1:a<0&&(l.max=-Math.pow(10,Math.floor(Math.log(Math.abs(a))/Math.log(10)))),l):l}({layoutModel:n,extrema:i}),c=s.min,f=s.max;return GO.calculateTicks({size:a,dataMin:c,dataMax:f,explicitMin:i.explicit.min,explicitMax:i.explicit.max,minTickSpacingInPixel:a/(u-1),fontHeight:l})}function JO(e){var t=e.chart,n=e.layoutModel,r=e.chartModel,o=e.extremumModel,i=e.dockModel,a=e.themeModel,l=n.getLayoutValue("measureAxis.logarithmic",!1),u=Pu.a.renderer("svg")().measureText;return function(){var e=a.query.getStyle(),s=function(e){var t=e.chart,n=e.chartModel,r=e.dockModel,o=n.query.getIsUpdateDataless()?r.chartSize:t.component(yp.COMPONENT.LINE).rect;return"vertical"===r.major.orientation?o.height:o.width}({chart:t,chartModel:r,dockModel:i}),c=o.query.getExtrema();return(l&&!c.meta.includesZero?ZO:iO)({chart:t,layoutModel:n,dockModel:i,measureText:function(t){return u({text:t,fontFamily:e.axis.label.name.fontFamily,fontSize:e.axis.label.name.fontSize})},extrema:c,size:s})}}var YO={dimensions:{min:1,max:function(e){return e>=2?1:2}},measures:{min:1,max:function(e){return e>=2?1:15}}};function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(n),!0).forEach((function(t){tw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nw(e){var t=e.layout,n=e.meta,r=al.canBeContinuous(t),o=n.hasMultipleDimensions,i=n.hasMultipleMeasures,a=n.dimensionCount,l=cl.continuous(t,(function(){return al.isTime(!0,t)})),u=!(!t.lineType||"area"!==t.lineType),s=u&&t.stackedArea&&(o||i),c=t.nullMode||"gap";return{canBeContinuous:r,isDiscrete:!l,isArea:u,isStacked:s,isContinuous:l,isTime:al.isTime(l,t),isSnapshot:cl.snapshot(t),isOneDimensional:1===a,isTwoDimensional:2===a,isGap:"gap"===c,isConnect:"connect"===c,isZero:"zero"===c}}var rw={SPARK:{DEFAULT:7,SQUEEZE:7,LABELLESS:7},XSMALL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},SMALL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},MEDIUM:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},FULL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20}};function ow(e){var t=e.layout,n=e.options,r=void 0===n?{}:n;return!(!t||!t.snapshotData||r.freeResize)&&{width:t.snapshotData.content.size.w,height:t.snapshotData.content.size.h}}function iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iw(Object(n),!0).forEach((function(t){lw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){!function(e){if(e&&e.get&&e.add){var t="Object.Disclaimer.LimitedData";if(e.get(t)!==t)return;Object.keys(r).forEach((function(t){e.add(r[t])}))}}(e.translator),function(e){e&&!e.flags&&(e.flags={getFlag:function(e){return!!o[e]}})}(e);var t,n=function(){var e=Pu()();return e.use(_u.a),e.use(Fu()(Hu.a)),e.use(Uc()),e.component("time-axis",na.picassoComponents.timeAxis),e.component("axis-overlay",na.picassoComponents.axisOverlay),e.component("reference-line-labels",_f),e.component("scrollbar",Md),e.component("scroll-hint",Gf),e.component("brush-highlighter",Bp),e.component("out-of-bounds-marker",wd),e.component("point-label",hp),e.component("ghost-point",om),e.component("label-space",gp),e.scale("time",na.picassoScales.time),e.scale("logarithmic",rm),e.symbol("line-point",Vp),e}(),a=(t=[{key:"interact",isEnabled:!0,enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=-1!==e.indexOf("interact")}},{key:"tooltip",isActive:!0,isEnabled:!0,action:function(e){this.isActive=!!e},active:function(){return this.isActive},enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=-1!==e.indexOf("passive")}},{key:"scroll",isActive:!0,isEnabled:!0,action:function(){this.isActive=!this.isActive},active:function(){return this.isActive},enabled:function(e){var t=e.layoutModel,n=e.discrete;return this.isEnabled&&(t.meta.isContinuous||n.query.getCanScroll())},update:function(e){this.isEnabled=-1!==e.indexOf("interact")&&-1!==e.indexOf("fetch")}},{key:"select",isActive:!1,isEnabled:!0,action:function(){this.isActive=!this.isActive},active:function(){return this.isActive},enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=-1!==e.indexOf("interact")&&-1!==e.indexOf("select")}}],{get:function(){return t},update:function(e){var n=e.actions,r=e.permissions;t.forEach((function(e){return n[e.key].update(r)}))}});return{qae:(e.flags,{properties:{version:"1.5.0",color:{auto:!0,autoMinMax:!0,byDimDef:void 0,byMeasureDef:void 0,colorExpression:void 0,dimensionScheme:"12",expressionIsColor:!0,expressionLabel:"",formatting:{numFormatFromTemplate:!0,isCustomFormatted:void 0},measureMin:void 0,measureMax:void 0,measureScheme:"sg",mode:"primary",paletteColor:{index:6},persistent:!1,reverseScheme:!1,singleColor:void 0,useBaseColors:"off",useDimColVal:!0,useMeasureGradient:!0},components:[],dataPoint:{show:!1,showLabels:!1},dimensionAxis:{axisDisplayMode:"auto",continuousAuto:!0,dock:"near",label:"auto",maxVisibleItems:10,show:"all"},footnote:"",gridLine:{auto:!0,spacing:2},legend:{dock:"auto",show:!0,showTitle:!0},lineType:"line",measureAxis:{autoMinMax:!0,dock:"near",logarithmic:!1,max:10,min:0,minMax:"min",show:"all",spacing:1},orientation:"horizontal",preferContinuousAxis:!0,qHyperCubeDef:{qAlwaysFullyExpanded:!0,qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:17,qHeight:500}],qSuppressMissing:!0,qSuppressZero:!1},refLine:{refLines:[],dimRefLines:[]},scrollbar:"miniChart",scrollStartPos:0,separateStacking:!0,showDetails:!1,showDisclaimer:!0,showMiniChartForContinuousAxis:!0,stackedArea:!1,nullMode:"gap",showTitles:!0,subtitle:"",title:"",tooltip:{auto:!0,hideBasic:!1,title:"",description:"",imageComponents:void 0}},data:{targets:[ew({path:"/qHyperCubeDef"},YO)]}}),selectionToolbar:{items:[{key:"lasso",label:"Lasso",icon:"lasso",activated:!1,action:function(){this.activated=!this.activated},enabled:function(){return!0},active:function(){return this.activated}}]},actions:a.get(),component:{created:function(e){var t=e.options;this.options=t,this.picasso=n({renderer:{prio:[t.renderer||"canvas"]},style:{"$font-family":"QlikView Sans, sans-serif"}}),this.viewState=ja({scrollOffset:void 0,viewRange:[0,1]}),this.viewCache=i()},mounted:function(e){this.chart=this.picasso.chart({element:e,data:[],settings:{}}),this.selectionModel=function(e){var t=e.chart,n=e.actions,r=e.selections,o=e.document,i={keyDown:!1,canSelect:!1,isOuterDimensionLocked:!1,isInnerDimensionLocked:!1,selectionInfo:{event:void 0,components:[]},onStartListeners:[]},a=t&&t.scale(yp.SCALE.MAIN.MAJOR),l=vM({brush:t.brush("selection"),majorScale:a,actions:n,selections:r,picassoQ:_u.a});t.brush("selection").configure({ranges:[{key:"qHyperCube/qDimensionInfo/0:numeric",includeMax:!1}]}),l.allowSimultaneous(SM(Array(15)).map((function(e,t){return"qHyperCube/qMeasureInfo/".concat(t)})));var u=function(e){i.keyDown||e.key!==bM.SHIFT||(n.lasso.action(),i.keyDown=!0)},s=function(e){e.key===bM.SHIFT&&(n.lasso.action(),i.keyDown=!1)};o.addEventListener("keydown",u),o.addEventListener("keyup",s);var c=function(e,n){i.selectionInfo.event=e,i.selectionInfo.components=n&&n.length?n.map((function(e){return e.key})).filter(Boolean):[],wM({current:e,chart:t,document:o})};n.select.on("start",c);var f=function(){t.brushSelectionIncludeMax=void 0,n.lasso.active()&&n.lasso.action()},d=function(){return wM({chart:t,document:o})};return r&&(r.on("deactivated",f),r.on("canceled",f),r.on("canceled",d),r.on("cleared",d)),{query:{getCanSelect:function(){return i.canSelect},getIsOuterDimensionLocked:function(){return i.isOuterDimensionLocked},getIsInnerDimensionLocked:function(){return i.isInnerDimensionLocked},getIsLockedSelection:r&&r.isLocked?r.isLocked:function(){return!1},getSelectionInfo:function(){return i.selectionInfo}},command:{setLayout:function(e){var t=e.layout;l.layout(t);var n=t.qHyperCube.qDimensionInfo;i.canSelect=n.some((function(e){return!e.qLocked})),i.isOuterDimensionLocked=!(!n.length||!n[0].qLocked),i.isInnerDimensionLocked=!(2!==n.length||!n[1].qLocked)},updateBrushAliases:function(e){var n=e.colorField,r=e.isUsingLegendCube,o=t.brush("selection");/qAttrDimInfo/.test(n)?(o.removeKeyAlias("".concat(yp.DATA.LEGEND,"/").concat(n)),o.removeKeyAlias("attrDim/qDimensionInfo/0"),o.addKeyAlias("attrDim/qDimensionInfo/0","qHyperCube/".concat(n))):r&&o.addKeyAlias("".concat(yp.DATA.LEGEND,"/").concat(n),"qHyperCube/".concat(n))},onSelectStart:function(e){var t=e.listener;return n.select.on("start",t),i.onStartListeners.push(t),function(){n.select.removeListener("start",t);var e=i.onStartListeners.indexOf(t);-1!==e&&i.onStartListeners.splice(e,1)}},destroy:function(){l.release(),o.removeEventListener("keydown",u),o.removeEventListener("keyup",s),n.select.removeListener("start",c),r&&(r.removeListener("deactivated",f),r.removeListener("canceled",f),r.removeListener("canceled",d),r.removeListener("cleared",d)),i.onStartListeners.forEach((function(e){return n.select.removeListener("start",e)})),i.onStartListeners.length=0}}}}({chart:this.chart,actions:this.actions,selections:this.selections,document:document})},render:function(t){var r,o,i,l,u,s,c,f=this,d=t.layout,p=t.context,m=t.opts,h=void 0===m?{}:m,g=h.registerComponents,y=h.components;this.context=aw(aw({},p),{},{logicalSize:ow({layout:d,options:this.options})}),Array.isArray(g)&&g.forEach((function(e){return n.component(e.type,e.component)})),a.update({actions:this.actions,permissions:this.context.permissions}),this.layoutModel=Ga({source:d,metaAdditionsFn:nw}),this.dataProcessorModel=Qx({layoutModel:this.layoutModel}),this.reducedModel=(r={enigmaModel:this.model,layoutModel:this.layoutModel,dataProcessorModel:this.dataProcessorModel},o=r.enigmaModel,i=r.layoutModel,l=r.dataProcessorModel,u={cube:void 0,on:!1},s=aM({enigmaModel:o,layoutModel:i}),c=function(e){var t=e.layoutModel.meta,n=t.isSnapshot,r=t.isTwoDimensional,o=t.isStacked,i=function(e){e.qDimensionInfo.unshift({key:"dummy-patch-dimension"})};return i.should=function(e){return!!(n&&r&&o&&1===e.qDimensionInfo.length)},i}({layoutModel:i}),{query:{getCube:function(){return u.cube},getIsReduced:function(){return u.on}},command:{initialize:function(){return s().then((function(e){var t=e.reducedCube;c.should(t)&&c(t),u.cube=t,u.on=!!(u.cube&&u.cube.qDataPages[0]&&u.cube.qDataPages[0].qIsReduced),i.meta.isDiscrete&&i.meta.isOneDimensional&&u.cube.qDataPages[0]&&l.command.processDataPage({dataPage:u.cube.qDataPages[0]})}))},setSnapshotData:function(e){e.reducedHyperCube=u.cube}}}),this.legendModel=function(e){var t=e.layoutModel,n={layoutModel:void 0},r=t.meta,o=r.isDiscrete,i=r.hasMultipleDimensions,a=t.getLayoutValue("color",{}),l=a.auto?i:"byDimension"===a.mode&&a.byDimDef&&a.byDimDef.activeDimensionIndex>-1;return o&&l&&(n.layoutModel=Ga({source:t.getLayout()})),{query:{getHasCube:function(){return!!n.layoutModel},getCube:function(){return n.layoutModel?n.layoutModel.getHyperCube():void 0},getDataPages:function(){return n.layoutModel?n.layoutModel.getDataPages():void 0}},command:{setDataPages:function(e){n.layoutModel&&n.layoutModel.setDataPages(e)}}}}({layoutModel:this.layoutModel});var v=this.layoutModel.meta,b=v.isDiscrete,x=v.isContinuous,M=v.isTwoDimensional;x&&(this.continuous=na.model({model:this.model,viewState:this.viewState,viewCache:this.viewCache,layoutModel:this.layoutModel,dataProcessorModel:this.dataProcessorModel}),this.continuous.update(this.layoutModel.getLayout())),this.colorModel=function(e){var t=e.app,n=e.model,r=e.translator,o=e.picasso,i=e.localeInfo,a=e.theme,l=e.continuous,u=e.layoutModel,s=e.reducedModel,c=e.legendModel,f=u.meta,d=f.isContinuous,p=f.isStacked,m=_h({model:n,app:t,translator:r,picasso:o}).auto(Fh),h=d?_h({model:n,app:t,translator:r,picasso:o}).auto(Fh):void 0;return{initialize:function(){var e=s.query.getIsReduced(),t=d||p||e,n=!d&&c.query.getHasCube(),r=n?c.query.getCube():u.getHyperCube(),o=n?yp.DATA.LEGEND:void 0,f=u.getLayout();m.config({layout:f,hc:t?r:s.query.getCube(),colorProps:Vh(Vh({},f.color),{},{useBaseColors:Hh(f)}),legendProps:f.legend,source:t?o:yp.DATA.REDUCED,key:yp.SCALE.MAIN.COLOR,localeInfo:i,theme:a});var g=[m.getAuxiliarySettings()];if(d){var y=l.getInitialLayout();h.config({layout:y,hc:l.getInitialCube(),colorProps:Vh(Vh({},y.color),{},{useBaseColors:Hh(y)}),source:yp.DATA.REDUCED,key:yp.SCALE.REDUCED.COLOR,theme:a}),g.push(h.getAuxiliarySettings())}return Promise.all(g)},main:{model:function(){return m},settings:function(){return m.settings()}},reduced:{model:function(){return h}}}}({app:this.app,model:this.model,translator:e.translator,picasso:this.picasso,localeInfo:this.context.localeInfo,theme:this.context.theme,continuous:this.continuous,layoutModel:this.layoutModel,reducedModel:this.reducedModel,legendModel:this.legendModel}),this.trendLineModel=Iu({layoutModel:this.layoutModel,viewState:this.viewState,colorModel:this.colorModel.main.model(),chart:this.chart,env:e,keys:{colorScale:yp.SCALE.MAIN.COLOR},isEnabled:function(){return f.layoutModel.meta.dimensionCount<2}}),this.trendLineModel.command.update(),this.fieldModel=function(e){var t=e.layoutModel,n=t.meta,r=n.isOneDimensional,o=n.isContinuous,i="qDimensionInfo/0",a="".concat(i,":numeric"),l="qDimensionInfo/".concat(r?0:1),u=t.getHyperCubeValue("qMeasureInfo").map((function(e,t){return"qMeasureInfo/".concat(t)}));return{main:{outer:i,inner:l,outerNumeric:a,minors:u},reduced:{outer:i,inner:l,minors:r?u:["qMeasureInfo/0","qMeasureInfo/1"]},virtuals:o?[{key:a,from:i,override:{value:function(e){return e.qNum}}}]:void 0}}({layoutModel:this.layoutModel}),this.chartModel=function(e){var t=e.picasso,n=e.chart,r=e.localeInfo,o=e.continuous,i=e.layoutModel,a=e.reducedModel,l=e.legendModel,u=e.colorModel,s=e.fieldModel,c=e.trendLineModel,f=[yp.COMPONENT.REDUCED_LINE,yp.COMPONENT.MAJOR_AXIS_TITLE,yp.COMPONENT.MINOR_AXIS_TITLE,yp.COMPONENT.GRID_LINE,yp.COMPONENT.ZERO_LINE,yp.COMPONENT.MEASURE_REFERENCE_LINE_LABEL],d={isUpdateDataless:!1,isUsingLegendCube:!1},p=i.meta,m=p.isContinuous,h=p.isStacked,g=s.virtuals,y=[],v={main:y,reduced:y,legend:y,dataset:t.data("q")({key:yp.DATA.MAIN,data:i.getHyperCube(),config:{localeInfo:r,virtualFields:g}})};return{query:{getIsUpdateDataless:function(){return d.isUpdateDataless},getIsUsingLegendCube:function(){return d.isUsingLegendCube},getDataset:function(){return v.dataset}},command:{update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings;n.update({settings:t})},updateDataless:function(e){var t=e.generateSettings;d.isUpdateDataless=!0;var s=t();v.main=i.getDataPages(),i.setDataPages([]);var f=i.meta.isContinuous?o.getInitialCube():a.query.getCube(),p=i.getHyperCube()===f;p||(v.reduced=f.qDataPages,f.qDataPages=y);var b=!m&&(h||a.query.getIsReduced())&&l.query.getHasCube();b&&(v.legend=l.query.getDataPages(),l.command.setDataPages([]));var x=[{type:"q",key:yp.DATA.MAIN,data:i.getHyperCube(),config:{localeInfo:r,virtualFields:g}},{type:"q",key:yp.DATA.REDUCED,data:f,config:{localeInfo:r,virtualFields:g}}].concat(im(u.main.model().data()));b&&(d.isUsingLegendCube=!0,x.push({type:"q",key:yp.DATA.LEGEND,data:l.query.getCube(),config:{localeInfo:r,virtualFields:g}})),c.query.hasTrendLines()&&x.push({key:"trend",data:c.query.getData()}),n.update({data:x,settings:s}),i.setDataPages(v.main),v.main=y,p||(f.qDataPages=v.reduced,v.reduced=y),b&&(l.command.setDataPages(v.legend),v.legend=y),d.isUpdateDataless=!1},updatePartial:function(){n.update({partialData:!0,excludeFromUpdate:f})}}}}({picasso:this.picasso,chart:this.chart,localeInfo:this.context.localeInfo,continuous:this.continuous,layoutModel:this.layoutModel,reducedModel:this.reducedModel,legendModel:this.legendModel,colorModel:this.colorModel,fieldModel:this.fieldModel,trendLineModel:this.trendLineModel}),this.extremumModel=ng({continuous:this.continuous,layoutModel:this.layoutModel,reducedModel:this.reducedModel,trendLineModel:this.trendLineModel}),this.disclaimerModel=Xh({layoutModel:this.layoutModel,extremumModel:this.extremumModel,flags:e.flags}),this.dockModel=tl({layoutModel:this.layoutModel,size:nl(this.chart,this.context.logicalSize),orientation:{invert:!0,fallback:"horizontal"},rtl:this.context.rtl}),this.themeModel=function(e){var t={resolved:qM({theme:e.theme})};return{query:{getStyle:function(){return t.resolved}},command:{setTheme:function(e){t.resolved=qM({theme:e})}}}}({theme:this.context.theme}),this.styleModel=CM({layoutModel:this.layoutModel,dockModel:this.dockModel}),this.tickModel=function(e){var t=e.chart,n=e.layoutModel,r=e.chartModel,o=e.extremumModel,i=e.dockModel,a=e.themeModel,l={locked:!1,resolved:void 0},u=o.query.getExtrema,s=JO({chart:t,layoutModel:n,chartModel:r,extremumModel:o,dockModel:i,themeModel:a}),c=function(){return l.locked&&l.resolved||(l.resolved=s()),l.resolved};return{query:{getValues:function(){return c().values},getMin:function(){return u().meta.hasExplicitMin?u().explicit.min:c().min},getMax:function(){return u().meta.hasExplicitMax?u().explicit.max:c().max}},command:{lock:function(){l.locked=!0},unlock:function(){l.locked=!1}}}}({chart:this.chart,layoutModel:this.layoutModel,chartModel:this.chartModel,extremumModel:this.extremumModel,dockModel:this.dockModel,themeModel:this.themeModel}),this.selectionModel.command.setLayout({layout:this.layoutModel.getLayout()}),this.customTooltipModel=function(e){var t=e.layout;return{layout:t,app:e.app,picasso:e.picasso,model:e.model,chart:e.chart,translator:e.translator,localeInfo:e.localeInfo,extractDimsAndNode:e.extractDimsAndNode,useCustomTooltip:t.tooltip&&!t.tooltip.auto,utils:Na}}({layout:d,app:this.app,model:this.model,picasso:this.picasso,chart:this.chart,translator:e.translator,localeInfo:p.localeInfo}),b&&(this.discrete=Y({chart:this.chart,actions:this.actions,componentKey:yp.COMPONENT.LINE,enigmaModel:this.model,layoutModel:this.layoutModel,dockModel:this.dockModel,trendLineModel:this.trendLineModel,itemWidths:rw,viewState:this.viewState,rtl:this.context.rtl,options:{axisKey:yp.COMPONENT.MAJOR_AXIS,areaBuffer:M||this.dataProcessorModel.query.getShouldProcess()?40:12,processDataPage:function(e){return f.dataProcessorModel.command.processDataPage({dataPage:e})}}}),this.viewState.onChanged("scrollOffset",(function(){f.legendModel.command.setDataPages([f.discrete.query.getCurrentDataPage()]),f.refLineModel&&f.refLineModel.update(),f.chartModel.command.updatePartial()}))),this.refLineModel=wl({layoutModel:this.layoutModel,discreteModel:this.discrete}),x&&(this.viewState.intercept("zoom",na.event.onZoomIntercept({viewCache:this.viewCache})),this.viewState.onChanged("zoom",na.event.onZoomChange({layoutModel:this.layoutModel,continuousDataModel:this.continuous},this.chartModel.command.updatePartial))),function(e){var t=e.layoutModel,n=e.viewState,r=e.viewStateOptions,o=void 0===r?{}:r,i=t.meta.isSnapshot?t.getLayoutValue("snapshotData.content.chartData",{}):o;n.preventSet("scrollOffset",i.scrollOffset),n.preventSet("legendScrollOffset",i.legendScrollOffset||0),i.zoom&&n.preventSet("zoom",i.zoom)}({layoutModel:this.layoutModel,viewState:this.viewState,viewStateOptions:this.options.viewStateOptions});var O=[];return O.push(function(e){var t=e.layout,n=e.model;return cl.snapshot(t)?Promise.resolve(null):n.getEffectiveProperties().then((function(e){return{properties:e}}))}({layout:this.layoutModel.getLayout(),model:this.model,env:e})),x&&O.push(this.continuous.initialFetch()),O.push(this.reducedModel.command.initialize()),Promise.all(O).then((function(e){return f.colorModel.initialize().then((function(){return e}))})).then((function(e){return f.extremumModel.command.initialize().then((function(){return e}))})).then((function(t){return f.generateSettings=function(){return jx({context:f.context,resources:{app:f.app,model:f.model,translator:e.translator,flags:e.flags},properties:t[0]&&t[0].properties||void 0,extensions:(y||[]).slice(),picasso:f.picasso,chart:f.chart,actions:f.actions,viewState:f.viewState,viewCache:f.viewCache,discrete:f.discrete,continuous:f.continuous,selectionModel:f.selectionModel,layoutModel:f.layoutModel,reducedModel:f.reducedModel,colorModel:f.colorModel,fieldModel:f.fieldModel,chartModel:f.chartModel,extremumModel:f.extremumModel,disclaimerModel:f.disclaimerModel,dockModel:f.dockModel,themeModel:f.themeModel,styleModel:f.styleModel,tickModel:f.tickModel,trendLineModel:f.trendLineModel,customTooltipModel:f.customTooltipModel,refLineModel:f.refLineModel})},f.disclaimerModel.command.initialize(),f.chartModel.command.updateDataless({generateSettings:f.generateSettings}),f.selectionModel.command.updateBrushAliases({colorField:f.colorModel.main.model().settings().field,isUsingLegendCube:f.chartModel.query.getIsUsingLegendCube()}),Promise.all(b?[f.discrete.command.initialize()]:[]).then((function(){f.chartModel.command.update(),f.chartModel.command.update(),f.tickModel.command.lock()}))}))},resize:function(e){var t=this,n=e.context;this.context=Object.assign(this.context||{},n),a.update({actions:this.actions,permissions:this.context.permissions}),this.dockModel.update(nl(this.chart,this.context.logicalSize)),this.themeModel.command.setTheme(this.context.theme),this.tickModel.command.unlock(),this.chartModel.command.updateDataless({generateSettings:this.generateSettings});var r=[];return this.layoutModel.meta.isDiscrete&&r.push(this.discrete.command.initialize()),Promise.all(r).then((function(){t.chartModel.command.update(),t.chartModel.command.update(),t.tickModel.command.lock()}))},setSnapshotData:function(e){var t=this.dockModel.chartSize,n=t.width,r=t.height;return e.snapshotData=e.snapshotData||{},e.snapshotData.content={size:{w:n,h:r}},this.layoutModel.meta.isSnapshot?Promise.resolve():(e.snapshotData.content.chartData={scrollOffset:this.viewState.get("scrollOffset"),zoom:this.viewState.get("zoom"),legendScrollOffset:Sl(this.chart,yp.COMPONENT.LEGEND_CATEGORICAL)},this.layoutModel.meta.isDiscrete?(this.discrete.command.setSnapshotData(e),this.reducedModel.command.setSnapshotData(e)):this.continuous.setSnapshotData(e),this.colorModel.main.model().getSnapshotData().then((function(t){e.snapshotData.content.chartData=aw(aw({},e.snapshotData.content.chartData),t)})).catch((function(){})))},getViewState:function(){return{scrollOffset:this.viewState.get("scrollOffset"),zoom:this.viewState.get("zoom"),legendScrollOffset:Sl(this.chart,yp.COMPONENT.LEGEND_CATEGORICAL)}},willUnmount:function(){this.chart&&this.chart.destroy(),this.selectionModel&&this.selectionModel.command.destroy()},destroy:function(){}}}}}]).default}.apply(t,r),void 0!==o&&(e.exports=o))},"Wv+9":function(e,t,n){"use strict";var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="string"==typeof t||"number"==typeof t?[t]:t;return e.replace(/\{(\d+)\}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initial,n=void 0===t?"en-US":t,o=e.fallback,i=void 0===o?"en-US":o,a={},l=n,u={language:function(e){return e&&(l=e),l},add:function(e){var t=e.id,n=e.locale;Object.keys(n).forEach((function(e){a[e]||(a[e]={}),a[e][t]=n[e]}))},get:function(e,t){var n;return n=a[l]&&void 0!==a[l][e]?a[l][e]:a[i]&&void 0!==a[i][e]?a[i][e]:e,void 0!==t?r(n,t):n}};return u}t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initial,n=void 0===t?"en-US":t,r=e.fallback,i=void 0===r?"en-US":r,a=o({initial:n,fallback:i});return{translator:a}}},gtgq:function(e,t,n){"use strict";n.r(t);var r={};function o(){o.init.call(this)}r.isObject=function(e){return"object"==typeof e&&null!==e},r.isNumber=function(e){return"number"==typeof e},r.isUndefined=function(e){return void 0===e},r.isFunction=function(e){return"function"==typeof e};var i=o;o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if(!r.isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},o.prototype.emit=function(e){var t,n,o,i,a,l;if(this._events||(this._events={}),"error"===e&&!this._events.error)throw(t=arguments[1])instanceof Error?t:Error('Uncaught, unspecified "error" event.');if(n=this._events[e],r.isUndefined(n))return!1;if(r.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,i=new Array(o-1),a=1;a<o;a++)i[a-1]=arguments[a];n.apply(this,i)}else if(r.isObject(n)){for(o=arguments.length,i=new Array(o-1),a=1;a<o;a++)i[a-1]=arguments[a];for(o=(l=n.slice()).length,a=0;a<o;a++)l[a].apply(this,i)}return!0},o.prototype.addListener=function(e,t){var n;if(!r.isFunction(t))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r.isFunction(t.listener)?t.listener:t),this._events[e]?r.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r.isObject(this._events[e])&&!this._events[e].warned)&&(n=r.isUndefined(this._maxListeners)?o.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,r.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),r.isFunction(console.trace)&&console.trace());return this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){if(!r.isFunction(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},o.prototype.removeListener=function(e,t){var n,o,i,a;if(!r.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,o=-1,n===t||r.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r.isObject(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},o.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r.isFunction(n))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},o.prototype.listeners=function(e){return this._events&&this._events[e]?r.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},o.listenerCount=function(e,t){return e._events&&e._events[t]?r.isFunction(e._events[t])?1:e._events[t].length:0};var a=Object.prototype.hasOwnProperty,l=Object.prototype.toString,u=Object.defineProperty,s=Object.getOwnPropertyDescriptor,c=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===l.call(e)},f=function(e){if(!e||"[object Object]"!==l.call(e))return!1;var t,n=a.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&a.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||a.call(e,t)},d=function(e,t){u&&"__proto__"===t.name?u(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},p=function(e,t){if("__proto__"===t){if(!a.call(e,t))return;if(s)return s(e,t).value}return e[t]},m=function e(){var t,n,r,o,i,a,l=arguments[0],u=1,s=arguments.length,m=!1;for("boolean"==typeof l&&(m=l,l=arguments[1]||{},u=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});u<s;++u)if(null!=(t=arguments[u]))for(n in t)r=p(l,n),l!==(o=p(t,n))&&(m&&o&&(f(o)||(i=c(o)))?(i?(i=!1,a=r&&c(r)?r:[]):a=r&&f(r)?r:{},d(l,{name:n,newValue:e(m,a,o)})):void 0!==o&&d(l,{name:n,newValue:o}));return l},h={fontSize:"13px",fontFamily:"'Source Sans Pro', 'Arial', 'sans-serif'",backgroundColor:"transparent",dataColors:{primaryColor:"#26a0a7",othersColor:"#a5a5a5",errorColor:"#ff4444",nullColor:"#d2d2d2"},scales:[{name:"Sequential Gradient",translation:"properties.colorScheme.sequential",type:"gradient",propertyValue:"sg",scale:["#26a0a7","#c7ea8b"]},{name:"Sequential Classes",translation:"properties.colorScheme.sequentialC",propertyValue:"sc",type:"class",scale:["#26a0a7","#c7ea8b"]},{name:"Diverging gradient",translation:"properties.colorScheme.diverging",propertyValue:"dg",type:"gradient",scale:["#26a0a7","#c3ea8c","#ec983d"]},{name:"Diverging Classes",translation:"properties.colorScheme.divergingC",propertyValue:"dc",type:"class",scale:["#26a0a7","#c3ea8c","#ec983d"]}],palettes:{data:[{name:"12 Colors",translation:"properties.colorNumberOfColors.12",propertyValue:"12",type:"pyramid",scale:[["#26A0A7"],["#26A0A7","#EC983D"],["#26A0A7","#CBE989","#EC983D"],["#26A0A7","#79D69F","#F9EC86","#EC983D"],["#26A0A7","#79D69F","#CBE989","#F9EC86","#EC983D"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#EC983D"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#EC983D","#D76C6C"],["#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C"],["#138185","#26A0A7","#65D3DA","#79D69F","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C","#A54343"],["#138185","#26A0A7","#65D3DA","#79D69F","#70BA6E","#CBE989","#EBF898","#F9EC86","#FAD144","#EC983D","#D76C6C","#A54343"]]}],ui:[{name:"Palette",colors:["#b0afae","#7b7a78","#a54343","#d76c6c","#ec983d","#ecc43d","#f9ec86","#cbe989","#70ba6e","#578b60","#79d69f","#26a0a7","#138185","#65d3da","#ffffff","#000000"]}]}},g={_variables:{"@B20":"#333333","@B35":"#595959","@B45":"#737373","@B50":"#808080","@B60":"#999999","@B80":"#cccccc","@B90":"#e6e6e6","@B98":"#fbfbfb","@B100":"#ffffff","@H1":"24px","@H2":"18px","@H3":"14px","@H4":"13px","@H5":"12px","@H6":"10px"},type:"light",color:"@B35"},y={_variables:{"@B20":"#333333","@B35":"#595959","@B45":"#737373","@B50":"#808080","@B60":"#999999","@B80":"#cccccc","@B90":"#e6e6e6","@B98":"#fbfbfb","@B100":"#ffffff","@H1":"24px","@H2":"18px","@H3":"14px","@H4":"13px","@H5":"12px","@H6":"10px"},type:"dark",color:"@B98"};function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n,r,o=[];if(e)for(var i=e.length;i>=0;){for(r=(n=t.slice()).length;r>=0;)o.push(n.concat(e)),n.pop(),r--;e.pop(),i--}else for(r=(n=t.slice()).length;r>=0;)o.push(n.concat()),n.pop(),r--;return o}function S(e,t){for(var n=e,r=0;r<t.length;r++){if(!n[t[r]])return null;n=n[t[r]]}return n}function k(e,t,n,r){var o;o=w(""===e?null:e.split("."),n);return function(e,t,n){for(var r=0;r<e.length;r++){var o=S(n,e[r]);if(null!==o&&o[t])return o[t]}}(o,t,r)}function C(e,t){var n=e.split(".");return{getStyle:function(e,r){return k(e,r,n.concat(),t)}}}function E(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function A(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function q(){}C.resolveRawTheme=function(e){var t=m(!0,{},e);return function e(t,n){Object.keys(t).forEach((function(r){"object"===v(t[r])&&null!==t[r]?e(t[r],n):"string"==typeof t[r]&&"@"===t[r].charAt(0)&&(t[r]=n[t[r]])}))}(t,t._variables),t};var D="\\s*([+-]?\\d+)\\s*",T="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",N="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L=/^#([0-9a-f]{3,8})$/,I=new RegExp("^rgb\\("+[D,D,D]+"\\)$"),j=new RegExp("^rgb\\("+[N,N,N]+"\\)$"),P=new RegExp("^rgba\\("+[D,D,D,T]+"\\)$"),R=new RegExp("^rgba\\("+[N,N,N,T]+"\\)$"),_=new RegExp("^hsl\\("+[T,N,N]+"\\)$"),z=new RegExp("^hsla\\("+[T,N,N,T]+"\\)$"),F={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function U(){return this.rgb().formatHex()}function H(){return this.rgb().formatRgb()}function B(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=L.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?V(t):3===n?new K(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new K(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new K(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=I.exec(e))?new K(t[1],t[2],t[3],1):(t=j.exec(e))?new K(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=P.exec(e))?W(t[1],t[2],t[3],t[4]):(t=R.exec(e))?W(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_.exec(e))?J(t[1],t[2]/100,t[3]/100,1):(t=z.exec(e))?J(t[1],t[2]/100,t[3]/100,t[4]):F.hasOwnProperty(e)?V(F[e]):"transparent"===e?new K(NaN,NaN,NaN,0):null}function V(e){return new K(e>>16&255,e>>8&255,255&e,1)}function W(e,t,n,r){return r<=0&&(e=t=n=NaN),new K(e,t,n,r)}function G(e){return e instanceof q||(e=B(e)),e?new K((e=e.rgb()).r,e.g,e.b,e.opacity):new K}function K(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function $(){return"#"+Z(this.r)+Z(this.g)+Z(this.b)}function X(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Z(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function J(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Q(e,t,n,r)}function Y(e){if(e instanceof Q)return new Q(e.h,e.s,e.l,e.opacity);if(e instanceof q||(e=B(e)),!e)return new Q;if(e instanceof Q)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new Q(a,l,u,e.opacity)}function Q(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ee(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function te(e){var t=B(e).rgb(),n=b([t.r,t.g,t.b].map((function(e){return e/255})),3),r=b([n[0],n[1],n[2]].map((function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),3);return+(.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(5)}function ne(e,t){return+((Math.max(e,t)+.05)/(Math.min(e,t)+.05)).toFixed(5)}E(q,B,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:U,formatHex:U,formatHsl:function(){return Y(this).formatHsl()},formatRgb:H,toString:H}),E(K,(function(e,t,n,r){return 1===arguments.length?G(e):new K(e,t,n,null==r?1:r)}),A(q,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new K(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new K(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$,formatHex:$,formatRgb:X,toString:X})),E(Q,(function(e,t,n,r){return 1===arguments.length?Y(e):new Q(e,t,n,null==r?1:r)}),A(q,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Q(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Q(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new K(ee(e>=240?e-240:e+120,o,r),ee(e,o,r),ee(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));t["default"]=function(){var e,t,n,r={},o={getDataColorScales:function(){return t.dataScales()},getDataColorPalettes:function(){return t.dataPalettes()},getDataColorPickerPalettes:function(){return t.uiPalettes()},getDataColorSpecials:function(){return t.dataColors()},getColorPickerColor:function(){var e;return(e=t).uiColor.apply(e,arguments)},getContrastingColorTo:function(e){return n.getBestContrastColor(e)},getStyle:function(t,n,o){return r[t]||(r[t]=C(t,e)),r[t].getStyle(n,o,!1)}},a={setTheme:function(i,a){var l,u;e=function(e,t){var n="dark"===e.type?y:g,r=m(!0,{},h,n),o=m(!0,{},r,{scales:null,palettes:{data:null,ui:null}},e);return o.palettes.data||(o.palettes.data=r.palettes.data),o.palettes.ui||(o.palettes.ui=r.palettes.ui),o.scales||(o.scales=r.scales),t(o)}(i,C.resolveRawTheme),r={},l=e,t={dataScales:function(){var e=[];return l.scales.forEach((function(t){e.push({key:t.propertyValue,name:t.name,translation:t.translation,scheme:!0,type:t.type,colors:t.scale})})),e},dataPalettes:function(){var e=[];return l.palettes.data.forEach((function(t){e.push({key:t.propertyValue,name:t.name,translation:t.translation,type:t.type,colors:t.scale})})),e},uiPalettes:function(){var e=[];return l.palettes.ui.forEach((function(t){e.push({key:"ui",name:t.name,translation:t.translation,type:"row",colors:t.colors})})),e},dataColors:function(){return{primary:l.dataColors.primaryColor,nil:l.dataColors.nullColor,others:l.dataColors.othersColor}},uiColor:function(e){return e.index<0||void 0===e.index?e.color:(void 0===u&&(u=this.uiPalettes()[0]||!1),u?void 0===u.colors[e.index]?e.color:u.colors[e.index]:e.color)}};var s=o.getStyle("","","color"),c=te(s);n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["#333333","#ffffff"],t={},n=0,r=e.map(te);return{getBestContrastColor:function(o){if(!t[o]){n>1e3&&(t={},n=0);var i=te(o),a=r.map((function(e){return ne(i,e)})),l=e[a.indexOf(Math.max.apply(Math,x(a)))];t[o]=l,n++}return t[o]}}}([s,c<.2?"#ffffff":"#333333"]),o.emit("changed"),o.name=function(){return a}}};return Object.keys(i.prototype).forEach((function(e){o[e]=i.prototype[e]})),i.init(o),a.setTheme({},"light"),{externalAPI:o,internalAPI:a}}},md98:function(e,t,n){"use strict";n.r(t);var r=n("CIFd");var o={showTitles:false,title:"",subtitle:"",footnote:"",useEnabledCondition:false,enabledCondition:1,navigation:{action:"none"},style:{label:"Button",font:{size:.5,useColorExpression:false,color:{index:-1,color:null},colorExpression:"",style:{bold:true,italic:false,underline:false},align:"center"},background:{useColorExpression:false,color:{index:-1,color:null},colorExpression:"",useImage:false,url:{qStaticContentUrlDef:{qUrl:""}},size:"auto",position:"centerCenter"},border:{useBorder:false,radius:0,width:0,useColorExpression:false,color:{index:-1,color:null},colorExpression:""},icon:{useIcon:false,iconType:"",position:"left"}},actions:[]};var i={targets:[]};function a(e,t,n,r,o,i,a){try{var l=e[i](a);var u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,u,"next",e)}function u(e){a(i,r,o,l,u,"throw",e)}l(void 0)}))}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),true).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){var e=l(regeneratorRuntime.mark((function e(t,n,r){var o,i,a;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:o=n.split(";");if(!r){l.next=8;break}i="";o.forEach((function(e){i+="Num('".concat(e,"')&';'&")}));l.next=6;return t.evaluate(i.slice(0,-5));case 6:a=l.sent;o=a.split(";");case 8:return l.abrupt("return",o.map((function(e){return Number.isNaN(+e)?{qText:e}:{qIsNumeric:true,qNumber:Number(e)}})));case 9:case"end":return l.stop()}}),e)})));return function t(n,r,o){return e.apply(this,arguments)}}();var d=[{value:"applyBookmark",translation:"Object.ActionButton.ApplyBookmark",group:"bookmark",getActionCall:function e(t){var n=t.app,r=t.bookmark;return l(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return n.getBookmarkList();case 2:t=i.sent;o=t.find((function(e){return e.qData.title===r}));i.t0=r;if(!i.t0){i.next=8;break}i.next=8;return n.applyBookmark(o&&o.qInfo&&o.qInfo.qId||r);case 8:case"end":return i.stop()}}),e)})))},requiredInput:["bookmark"]},{value:"back",translation:"Object.ActionButton.MoveBackward",group:"selection",getActionCall:function e(t){var n=t.app;return l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.back();case 2:case"end":return t.stop()}}),e)})))},requiredInput:[]},{value:"forward",translation:"Object.ActionButton.MoveForward",group:"selection",getActionCall:function e(t){var n=t.app;return l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.forward();case 2:case"end":return t.stop()}}),e)})))},requiredInput:[]},{value:"clearAll",translation:"Object.ActionButton.ClearAll",group:"selection",getActionCall:function e(t){var n=t.app,r=t.softLock;return l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.clearAll(r);case 2:case"end":return t.stop()}}),e)})))},requiredInput:["softLock"]},{value:"clearAllButThis",translation:"Object.ActionButton.ClearAllButThis",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,i=t.softLock;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!o){a.next=6;break}a.next=3;return n.getField(o,r);case 3:t=a.sent;a.next=6;return t.clearAllButThis(i);case 6:case"end":return a.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"clearField",translation:"Object.ActionButton.ClearSelectionInField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!o){i.next=6;break}i.next=3;return n.getField(o,r);case 3:t=i.sent;i.next=6;return t.clear();case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field"]},{value:"selectAll",translation:"Object.ActionButton.SelectAllInField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,i=t.softLock;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!o){a.next=6;break}a.next=3;return n.getField(o,r);case 3:t=a.sent;a.next=6;return t.selectAll(i);case 6:case"end":return a.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"selectValues",translation:"Object.ActionButton.SelectValuesInField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,i=t.value,a=t.softLock;return l(regeneratorRuntime.mark((function e(){var t,l,u;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:if(!(o&&i)){s.next=12;break}s.next=3;return n.getField(o,r);case 3:t=s.sent;s.next=6;return n.getFieldDescription(o);case 6:l=s.sent;s.next=9;return f(n,i,l.qTags.includes("$date"));case 9:u=s.sent;s.next=12;return t.selectValues(u,false,a);case 12:case"end":return s.stop()}}),e)})))},requiredInput:["field","value","softLock"]},{value:"selectMatchingValues",translation:"Object.ActionButton.SelectMatchingValues",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,i=t.value,a=t.softLock;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:if(!(o&&i)){l.next=6;break}l.next=3;return n.getField(o,r);case 3:t=l.sent;l.next=6;return t.select(i,false,a);case 6:case"end":return l.stop()}}),e)})))},requiredInput:["field","value","softLock"]},{value:"selectAlternative",translation:"Object.ActionButton.SelectAlternatives",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,i=t.softLock;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!o){a.next=6;break}a.next=3;return n.getField(o,r);case 3:t=a.sent;a.next=6;return t.selectAlternative(i);case 6:case"end":return a.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"selectExcluded",translation:"Object.ActionButton.SelectExcluded",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,i=t.softLock;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!o){a.next=6;break}a.next=3;return n.getField(o,r);case 3:t=a.sent;a.next=6;return t.selectExcluded(i);case 6:case"end":return a.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"selectPossible",translation:"Object.ActionButton.SelectPossibleValues",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,i=t.softLock;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!o){a.next=6;break}a.next=3;return n.getField(o,r);case 3:t=a.sent;a.next=6;return t.selectPossible(i);case 6:case"end":return a.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"toggleSelect",translation:"Object.ActionButton.ToggleFieldSelection",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,i=t.value,a=t.softLock;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:if(!(o&&i)){l.next=6;break}l.next=3;return n.getField(o,r);case 3:t=l.sent;l.next=6;return t.toggleSelect(i,a);case 6:case"end":return l.stop()}}),e)})))},requiredInput:["field","value","softLock"]},{value:"lockAll",translation:"Object.ActionButton.LockAllSelections",group:"selection",getActionCall:function e(t){var n=t.app;return l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.lockAll();case 2:case"end":return t.stop()}}),e)})))},requiredInput:[]},{value:"lockField",translation:"Object.ActionButton.LockField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!o){i.next=6;break}i.next=3;return n.getField(o,r);case 3:t=i.sent;i.next=6;return t.lock();case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field"]},{value:"unlockAll",translation:"Object.ActionButton.UnlockAllSelections",group:"selection",getActionCall:function e(t){var n=t.app;return l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.unlockAll();case 2:case"end":return t.stop()}}),e)})))},requiredInput:[]},{value:"unlockField",translation:"Object.ActionButton.UnlockAField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!o){i.next=6;break}i.next=3;return n.getField(o,r);case 3:t=i.sent;i.next=6;return t.unlock();case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field"]},{value:"setVariable",translation:"Object.ActionButton.SetVariable",group:"variables",getActionCall:function e(t){var n=t.app,r=t.variable,o=t.value;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!(r&&o)){i.next=11;break}i.prev=1;i.next=4;return n.getVariableByName(r);case 4:t=i.sent;i.next=7;return t.setStringValue(o);case 7:i.next=11;break;case 9:i.prev=9;i.t0=i["catch"](1);case 11:case"end":return i.stop()}}),e,null,[[1,9]])})))},requiredInput:["variable","value"]},{value:"doReload",translation:"Object.ActionButton.DoReload",group:"reload",getActionCall:function e(t){var n=t.app,r=t.partial;return l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return n.doReload(0,!!r,false);case 2:t=o.sent;if(!t){o.next=6;break}o.next=6;return n.doSave();case 6:case"end":return o.stop()}}),e)})))},requiredInput:["partial"]}];function p(e,t){var n=d.find((function(t){return e.actionType===t.value}));return n&&n.requiredInput&&-1!==n.requiredInput.indexOf(t)}function m(e){if(e&&e.length>=2&&"/"===e[0]&&"/"===e[1])return true;var t=e?+e:-1;if(Number.isNaN(+t))return"true"===e.toLowerCase();return 0!==t}var h={evaluateCondition:m};var g=function e(){try{return window.self!==window.top}catch(e){return true}};var y=function(){var e=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return t.getSheetList();case 2:n=r.sent;return r.abrupt("return",n.sort((function(e,t){return e.qData.rank-t.qData.rank})));case 4:case"end":return r.stop()}}),e)})));return function t(n){return e.apply(this,arguments)}}();var v=function(){var e=l(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return t.getSheetList();case 2:n=o.sent;r=n.filter((function(e){return h.evaluateCondition(e.qData.showCondition)}));return o.abrupt("return",r.sort((function(e,t){return e.qData.rank-t.qData.rank})));case 5:case"end":return o.stop()}}),e)})));return function t(n){return e.apply(this,arguments)}}();var b=[{translation:"Object.ActionButton.NoNavigation",value:"none"},{translation:"Object.ActionButton.GoToNextSheet",value:"nextSheet",navigationCall:function(){var e=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:n=t.senseNavigation;r.next=3;return n.nextSheet();case 3:case"end":return r.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),requiredInput:[]},{translation:"Object.ActionButton.GoToPreviousSheet",value:"prevSheet",navigationCall:function(){var e=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:n=t.senseNavigation;r.next=3;return n.prevSheet();case 3:case"end":return r.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),requiredInput:[]},{translation:"Object.ActionButton.GoToLastSheet",value:"lastSheet",navigationCall:function(){var e=l(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:n=t.app,r=t.enableSheetShow,o=t.senseNavigation;if(!r){a.next=7;break}a.next=4;return v(n);case 4:a.t0=a.sent;a.next=10;break;case 7:a.next=9;return y(n);case 9:a.t0=a.sent;case 10:i=a.t0;a.next=13;return o.goToSheet(i[i.length-1].qInfo.qId);case 13:case"end":return a.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),requiredInput:[]},{translation:"Object.ActionButton.GoToFirstSheet",value:"firstSheet",navigationCall:function(){var e=l(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:n=t.app,r=t.enableSheetShow,o=t.senseNavigation;if(!r){a.next=7;break}a.next=4;return v(n);case 4:a.t0=a.sent;a.next=10;break;case 7:a.next=9;return y(n);case 9:a.t0=a.sent;case 10:i=a.t0;a.next=13;return o.goToSheet(i[0].qInfo.qId);case 13:case"end":return a.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),requiredInput:[]},{translation:"Object.ActionButton.GoToASheet",value:"goToSheet",navigationCall:function(){var e=l(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n=t.senseNavigation,r=t.sheet;o.t0=r;if(!o.t0){o.next=5;break}o.next=5;return n.goToSheet(r);case 5:case"end":return o.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),requiredInput:["sheet"]},{translation:"Object.ActionButton.GoToSheetById",value:"goToSheetById",navigationCall:function(){var e=l(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n=t.senseNavigation,r=t.sheet;o.t0=r;if(!o.t0){o.next=5;break}o.next=5;return n.goToSheet(r);case 5:case"end":return o.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),requiredInput:["sheetId"]},{translation:"Object.ActionButton.GoToStory",value:"goToStory",navigationCall:function(){var e=l(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n=t.senseNavigation,r=t.story;o.t0=r;if(!o.t0){o.next=5;break}o.next=5;return n.goToStory(r);case 5:case"end":return o.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),requiredInput:["story"]},{translation:"Object.ActionButton.OpenWebsiteEmail",value:"openWebsite",navigationCall:function(){var e=l(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:n=t.websiteUrl,r=t.sameWindow;try{if(n){o=n.match(/^(https?:\/\/|mailto:)/)?n:"http://".concat(n);i="";r&&(i=g()?"_parent":"_self");window.open(o,i)}}catch(e){}case 2:case"end":return a.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),requiredInput:["websiteUrl"]}];var x=function e(t,n){var r=b.find((function(e){return t.navigation.action===e.value}));return r&&r.requiredInput&&-1!==r.requiredInput.indexOf(n)};function M(e,t,n){var r=t.split(".");var o;if(void 0===e)return n;for(o=0;o<r.length;++o){if("undefined"===typeof e[r[o]])return n;e=e[r[o]]}return e}var O={getValue:M};function w(e,t){var n={actionType:e.actionType,bookmark:e.selectedBookmark,field:e.selectedField,variable:e.variable,value:e.value,softLock:e.softLock,cId:e.cId};switch(e.actionType){case"clearOther":n.actionType="clearAllButThis";break;case"unlockAllAndClearAll":n.actionType="clearAll";n.softLock=true;break;case"selectField":n.actionType="selectMatchingValues";break;case"selectAndLockField":t.actions.push(c(c({},n),{},{cId:null,actionType:"selectMatchingValues"}));n.actionType="lockField";break}return t.actions.push(n)}function S(e){switch(e){case"gotoSheet":return"goToSheet";case"gotoSheetById":return"goToSheetById";case"gotoStory":return"goToStory";case"switchToEdit":return"none";default:return e}}var k=function e(t,n){var r={qChildren:[]};var o=c({actions:[],props:{useEnabledCondition:null,fullWidth:"auto"},qLayoutExclude:{disabled:{}}},n);t&&"qlik-button-for-navigation"===t.properties.visualization&&Object.keys(t.properties).forEach((function(e){var n;switch(e){case"props":n=t.properties[e];o.style.label=n.buttonLabel;o.style.icon.useIcon=n.buttonShowIcon;o.style.icon.iconType=n.buttonIconLui;o.style.font.align=n.buttonTextAlign;o.useEnabledCondition=n.useEnabledCondition;o.enabledCondition=n.enabledCondition;n.actionItems&&n.actionItems.forEach((function(e){w(e,o)}));o.navigation={action:S(n.navigationAction),sheet:"gotoSheetById"===n.navigationAction?n.sheetId:n.selectedSheet,story:n.selectedStory,websiteUrl:n.websiteUrl,sameWindow:n.sameWindow};break;case"qStateName":case"showTitles":case"title":case"subtitle":case"footnote":o[e]=t.properties[e];break}}));r.qProperty=o;return r};var C=[{value:"image",icon:"image",label:"Image"},{value:"back",icon:"back",label:"Back"},{value:"forward",icon:"forward",label:"Forward"},{value:"history",icon:"history",label:"History"},{value:"help",icon:"help",label:"Help"},{value:"info",icon:"info",label:"Info"},{value:"text",icon:"text",label:"Text"},{value:"group",icon:"group",label:"Group"},{value:"search",icon:"search",label:"Search"},{value:"zoom-in",icon:"zoom-in",label:"Zoom in"},{value:"zoom-out",icon:"zoom-out",label:"Zoom out"},{value:"export",icon:"export",label:"Export"},{value:"import",icon:"import",label:"Import"},{value:"field",icon:"field",label:"Field"},{value:"lock",icon:"lock",label:"Lock"},{value:"unlock",icon:"unlock",label:"Unlock"},{value:"database",icon:"database",label:"Database"},{value:"calendar",icon:"calendar",label:"Calendar"},{value:"bookmark",icon:"bookmark",label:"Bookmark"},{value:"library",icon:"library",label:"Library"},{value:"star",icon:"star",label:"Star"},{value:"print",icon:"print",label:"Print"},{value:"remove",icon:"remove",label:"Remove"},{value:"handle",icon:"handle",label:"Handle"},{value:"handle-horizontal",icon:"handle-horizontal",label:"Handle horizontal"},{value:"menu",icon:"menu",label:"Menu"},{value:"list",icon:"list",label:"List"},{value:"unordered-list",icon:"unordered-list",label:"Unordered list"},{value:"clock",icon:"clock",label:"Clock"},{value:"puzzle",icon:"puzzle",label:"Puzzle"},{value:"filterpane",icon:"filterpane",label:"Filterpane"},{value:"plus",icon:"plus",label:"Plus"},{value:"minus",icon:"minus",label:"Minus"},{value:"triangle-top",icon:"triangle-top",label:"Triangle top"},{value:"triangle-bottom",icon:"triangle-bottom",label:"Triangle bottom"},{value:"triangle-left",icon:"triangle-left",label:"Triangle left"},{value:"triangle-right",icon:"triangle-right",label:"Triangle right"},{value:"tick",icon:"tick",label:"Tick"},{value:"cogwheel",icon:"cogwheel",label:"Cogwheel"},{value:"settings",icon:"settings",label:"Settings"},{value:"cut",icon:"cut",label:"Cut"},{value:"copy",icon:"copy",label:"Copy"},{value:"paste",icon:"paste",label:"Paste"},{value:"camera",icon:"camera",label:"Camera"},{value:"slide-show",icon:"slide-show",label:"Slide show"},{value:"palette",icon:"palette",label:"Palette"},{value:"shapes",icon:"shapes",label:"Shapes"},{value:"effects",icon:"effects",label:"Effects"},{value:"file",icon:"file",label:"File"},{value:"expand",icon:"expand",label:"Expand"},{value:"collapse",icon:"collapse",label:"Collapse"},{value:"bin",icon:"bin",label:"Bin"},{value:"link",icon:"link",label:"Link"},{value:"pivot",icon:"pivot",label:"Pivot"},{value:"reload",icon:"reload",label:"Reload"},{value:"add",icon:"add",label:"Add"},{value:"edit",icon:"edit",label:"Edit"},{value:"key",icon:"key",label:"Key"},{value:"box",icon:"box",label:"Box"},{value:"home",icon:"home",label:"Home"},{value:"person",icon:"person",label:"Person"},{value:"grid",icon:"grid",label:"Grid"},{value:"cloud",icon:"cloud",label:"Cloud"},{value:"more",icon:"more",label:"More"},{value:"folder",icon:"folder",label:"Folder"},{value:"drop",icon:"drop",label:"Drop"},{value:"play",icon:"play",label:"Play"},{value:"tag",icon:"tag",label:"Tag"},{value:"close",icon:"close",label:"Close"},{value:"warning",icon:"warning",label:"Warning"},{value:"warning-triangle",icon:"warning-triangle",label:"Warning triangle"},{value:"share",icon:"share",label:"Share"},{value:"top",icon:"top",label:"Top"},{value:"low-resolution",icon:"low-resolution",label:"Low resolution"},{value:"high-resolution",icon:"high-resolution",label:"High resolution"},{value:"view",icon:"view",label:"View"},{value:"control",icon:"control",label:"Control"},{value:"code",icon:"code",label:"Code"},{value:"upload",icon:"upload",label:"Upload"},{value:"repair",icon:"repair",label:"Repair"},{value:"split",icon:"split",label:"Split"},{value:"up-down",icon:"up-down",label:"Up down"},{value:"disconnect",icon:"disconnect",label:"Disconnect"},{value:"photo-library",icon:"photo-library",label:"Photo library"},{value:"application",icon:"application",label:"Application"},{value:"new-tab",icon:"new-tab",label:"New tab"},{value:"ascending",icon:"ascending",label:"Ascending"},{value:"descending",icon:"descending",label:"Descending"},{value:"arrow-up",icon:"arrow-up",label:"Arrow up"},{value:"arrow-down",icon:"arrow-down",label:"Arrow down"},{value:"arrow-right",icon:"arrow-right",label:"Arrow right"},{value:"arrow-left",icon:"arrow-left",label:"Arrow left"},{value:"sync",icon:"sync",label:"Sync"},{value:"draggable",icon:"draggable",label:"Draggable"},{value:"book",icon:"book",label:"Book"},{value:"measure",icon:"measure",label:"Measure"},{value:"download",icon:"download",label:"Download"},{value:"more-rounded",icon:"more-rounded",label:"More rounded"},{value:"align-object-left",icon:"align-object-left",label:"Align object-left"},{value:"align-object-center",icon:"align-object-center",label:"Align object-center"},{value:"align-object-right",icon:"align-object-right",label:"Align object-right"},{value:"submit",icon:"submit",label:"Submit"},{value:"operators",icon:"operators",label:"Operators"},{value:"general-data-class",icon:"general-data-class",label:"General data-class"},{value:"building",icon:"building",label:"Building"},{value:"bell",icon:"bell",label:"Bell"},{value:"unlink",icon:"unlink",label:"Unlink"},{value:"lightbulb",icon:"lightbulb",label:"Lightbulb"},{value:"log-in",icon:"log-in",label:"Log in"},{value:"log-out",icon:"log-out",label:"Log out"},{value:"previous",icon:"previous",label:"Previous"},{value:"goto",icon:"goto",label:"Goto"},{value:"save",icon:"save",label:"Save"},{value:"pause",icon:"pause",label:"Pause"},{value:"stop",icon:"stop",label:"Stop"},{value:"step-in",icon:"step-in",label:"Step in"},{value:"comment",icon:"comment",label:"Comment"},{value:"indent",icon:"indent",label:"Indent"},{value:"undent",icon:"undent",label:"Undent"},{value:"filter",icon:"filter",label:"Filter"},{value:"clear-filter",icon:"clear-filter",label:"Clear filter"},{value:"insert",icon:"insert",label:"Insert"},{value:"direction-left",icon:"direction-left",label:"Direction left"},{value:"swap",icon:"swap",label:"Swap"},{value:"bubbles",icon:"bubbles",label:"Bubbles"},{value:"sheet",icon:"sheet",label:"Sheet"},{value:"object",icon:"object",label:"Object"},{value:"clear-selections",icon:"clear-selections",label:"Clear selections"},{value:"selections-tool",icon:"selections-tool",label:"Selections tool"},{value:"selections-reload",icon:"selections-reload",label:"Selections reload"},{value:"selections-back",icon:"selections-back",label:"Selections back"},{value:"selections-forward",icon:"selections-forward",label:"Selections forward"},{value:"expression",icon:"expression",label:"Expression"},{value:"select-alternative",icon:"select-alternative",label:"Select alternative"},{value:"select-possible",icon:"select-possible",label:"Select possible"},{value:"select-excluded",icon:"select-excluded",label:"Select excluded"},{value:"select-all",icon:"select-all",label:"Select all"},{value:"bar-chart",icon:"bar-chart",label:"Bar chart"},{value:"bar-chart-horizontal",icon:"bar-chart-horizontal",label:"Bar chart-horizontal"},{value:"line-chart",icon:"line-chart",label:"Line chart"},{value:"pie-chart",icon:"pie-chart",label:"Pie chart"},{value:"gauge-chart",icon:"gauge-chart",label:"Gauge chart"},{value:"kpi",icon:"kpi",label:"Kpi"},{value:"scatter-chart",icon:"scatter-chart",label:"Scatter chart"},{value:"map",icon:"map",label:"Map"},{value:"table",icon:"table",label:"Table"},{value:"pivot-table",icon:"pivot-table",label:"Pivot table"},{value:"treemap",icon:"treemap",label:"Treemap"},{value:"combo-chart",icon:"combo-chart",label:"Combo chart"},{value:"boxplot",icon:"boxplot",label:"Boxplot"},{value:"distributionplot",icon:"distributionplot",label:"Distributionplot"},{value:"histogram",icon:"histogram",label:"Histogram"},{value:"direct-discovery",icon:"direct-discovery",label:"Direct discovery"},{value:"data-model",icon:"data-model",label:"Data model"},{value:"script",icon:"script",label:"Script"},{value:"script-ok",icon:"script-ok",label:"Script ok"},{value:"debug",icon:"debug",label:"Debug"},{value:"auto-layout",icon:"auto-layout",label:"Auto layout"}];var E=[{value:false,translation:"properties.colorMode.primary"},{value:true,translation:"properties.colorMode.byExpression"}];var A=[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}];function q(e){var t=e.translator,n=e.enableReloadAction;return{definition:{type:"items",component:"accordion",items:{actions:{type:"items",translation:"Object.ActionButton.ActionsAndNavigation",grouped:true,items:{actions:{type:"array",translation:"Object.ActionButton.Actions",ref:"actions",itemTitleRef:function e(n){if(n.actionLabel)return n.actionLabel;var r=n.actionType?"Object.ActionButton.InvalidAction":"Object.ActionButton.NewAction";var o=d.find((function(e){return n.actionType===e.value}));return t.get(o&&o.translation||r)},allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"Object.ActionButton.AddAction",items:{label:{component:"string",ref:"actionLabel",translation:"Common.Label",expression:"optional",defaultValue:""},actionType:{type:"string",ref:"actionType",component:"expression-with-dropdown",translation:"Object.ActionButton.Action",defaultValue:"",options:function e(){return d.filter((function(e){return n||"doReload"!==e.value}))},dropdownOnly:true},bookmark:{type:"string",ref:"bookmark",component:"expression-with-dropdown",translation:"ExpressionEditor.SetExpresions.Bookmark",defaultValue:"",dropdownOnly:true,options:function(){var e=l(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.app.getBookmarkList();case 2:r=t.sent;return t.abrupt("return",r.map((function(e){return{label:e.qData.title,value:e.qInfo.qId}})));case 4:case"end":return t.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),show:function e(t){return p(t,"bookmark")}},field:{type:"string",ref:"field",component:"expression-with-dropdown",translation:"Common.Field",defaultValue:"",dropdownOnly:true,options:function(){var e=l(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.app.getFieldList();case 2:r=t.sent;return t.abrupt("return",r.map((function(e){return{label:e.qName,value:e.qName}})));case 4:case"end":return t.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),show:function e(t){return p(t,"field")}},variable:{type:"string",ref:"variable",component:"expression-with-dropdown",translation:"Common.Variable",defaultValue:"",expressionType:"StringExpression",options:function(){var e=l(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return n.app.getVariableList();case 2:r=o.sent;return o.abrupt("return",r.filter((function(e){return!e.qIsReserved||e.qIsReserved&&t.showSystemVariables})).map((function(e){return{label:e.qName,value:e.qName}})));case 4:case"end":return o.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),show:function e(t){return p(t,"variable")}},showSystemVariables:{type:"boolean",ref:"showSystemVariables",translation:"ExpressionEditor.SystemVariables",defaultValue:false,show:function e(t){return p(t,"variable")}},softLock:{type:"boolean",ref:"softLock",translation:"Object.ActionButton.Softlock",defaultValue:false,show:function e(t){return p(t,"softLock")}},value:{type:"string",ref:"value",component:"string",translation:"properties.value",expression:"optional",show:function e(t){return p(t,"value")}},partial:{type:"boolean",ref:"partial",translation:"Object.ActionButton.Partial",defaultValue:false,show:function e(t){return p(t,"partial")}}}},navigation:{translation:"Object.ActionButton.Navigation",type:"items",items:{action:{ref:"navigation.action",translation:"Object.ActionButton.Navigation",component:"expression-with-dropdown",defaultValue:null,options:b,dropdownOnly:true},sheetId:{type:"string",ref:"navigation.sheet",translation:"properties.sheet",expression:"optional",show:function e(t){return x(t,"sheetId")}},sheet:{type:"string",ref:"navigation.sheet",translation:"properties.sheet",component:"expression-with-dropdown",expressionType:"StringExpression",show:function e(t){return x(t,"sheet")},options:function(){var e=l(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.app.getSheetList();case 2:r=t.sent;return t.abrupt("return",r.map((function(e){return{value:e.qInfo.qId,label:e.qMeta.title,showCondition:e.qData.showCondition}})));case 4:case"end":return t.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},story:{type:"string",ref:"navigation.story",translation:"properties.story",component:"expression-with-dropdown",expressionType:"StringExpression",show:function e(t){return x(t,"story")},options:function(){var e=l(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.app.getStoryList();case 2:r=t.sent;return t.abrupt("return",r.map((function(e){return{value:e.qInfo.qId,label:e.qMeta.title}})));case 4:case"end":return t.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},websiteUrl:{type:"string",expression:"optional",ref:"navigation.websiteUrl",translation:"properties.website",show:function e(t){return x(t,"websiteUrl")}},sameWindow:{type:"boolean",ref:"navigation.sameWindow",translation:"properties.sameWindow",show:function e(t){return x(t,"websiteUrl")},defaultValue:false}}}}},enableCondition:{type:"items",translation:"properties.enableConditionSection",items:{useCondition:{type:"boolean",component:"switch",translation:"properties.enableToggle",ref:"useEnabledCondition",options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}]},condition:{ref:"enabledCondition",translation:"properties.enableCondition",type:"integer",expression:"optional",show:function e(t){return t.useEnabledCondition}}}},settings:{component:"expandable-items",translation:"Common.Appearance",uses:"settings",items:{general:{type:"items",translation:"properties.general",items:{showTitles:{},details:{show:false},label:{component:"string",ref:"style.label",translation:"Common.Label",expression:"optional"}}},font:{grouped:true,type:"items",translation:"properties.font",items:{sizeAndColor:{type:"items",items:{fontSize:{component:"slider",type:"number",ref:"style.font.size",translation:"properties.fontSize",min:.2,max:1,step:.01},useFontColorExpression:{ref:"style.font.useColorExpression",type:"boolean",translation:"properties.fontColor",component:"dropdown",options:E},colorPicker:{component:"color-picker",type:"object",ref:"style.font.color",translation:"properties.color",dualOutput:true,show:function e(t){return!O.getValue(t,"style.font.useColorExpression")}},colorExpression:{component:"string",type:"string",ref:"style.font.colorExpression",translation:"Common.Expression",expression:"optional",show:function e(t){return O.getValue(t,"style.font.useColorExpression")}}}},stylingAndAlign:{type:"items",items:{fontStyling:{component:"item-selection-list",type:"string",ref:"style.font.style",translation:"properties.textStyle",horizontal:true,multipleSelect:true,items:[{component:"icon-item",icon:"bold",value:"bold",translation:"Common.bold",labelPlacement:"bottom"},{component:"icon-item",icon:"italic",value:"italic",translation:"Common.italic",labelPlacement:"bottom"},{component:"icon-item",icon:"underline",value:"underline",translation:"Common.underline",labelPlacement:"bottom"}]},textAlign:{component:"item-selection-list",type:"string",ref:"style.font.align",translation:"properties.Alignment",horizontal:true,items:[{component:"icon-item",icon:"align_left",value:"left",translation:"properties.dock.left",labelPlacement:"bottom"},{component:"icon-item",icon:"align_center",value:"center",translation:"Common.Center",labelPlacement:"bottom"},{component:"icon-item",icon:"align_right",value:"right",translation:"properties.dock.right",labelPlacement:"bottom"}]}}}}},background:{grouped:true,type:"items",translation:"properties.background",items:{backgroundColor:{type:"items",items:{useColorExpression:{ref:"style.background.useColorExpression",type:"boolean",translation:"AppDetails.SheetBackgroundColor",component:"dropdown",options:E},colorPicker:{component:"color-picker",type:"object",ref:"style.background.color",translation:"properties.color",dualOutput:true,show:function e(t){return!O.getValue(t,"style.background.useColorExpression")}},colorExpression:{component:"string",type:"string",ref:"style.background.colorExpression",translation:"Common.Expression",expression:"optional",show:function e(t){return O.getValue(t,"style.background.useColorExpression")}}}},backgroundImage:{type:"items",items:{useBackgroundImage:{ref:"style.background.useImage",type:"boolean",translation:"properties.backgroundImage.use",component:"switch",options:A},backgroundUrl:{ref:"style.background.url.qStaticContentUrlDef.qUrl",layoutRef:"style.background.url.qStaticContentUrl.qUrl",schemaIgnore:true,translation:"Common.Image",tooltip:{select:"properties.media.select",remove:"properties.media.removeBackground"},type:"string",component:"media",show:function e(t){return O.getValue(t,"style.background.useImage")}},backgroundSize:{ref:"style.background.size",translation:"properties.backgroundImage.size",type:"string",component:"dropdown",options:[{value:"auto",translation:"properties.backgroundImage.originalSize"},{value:"alwaysFit",translation:"properties.backgroundImage.sizeAlwaysFit"},{value:"fitWidth",translation:"properties.backgroundImage.sizeFitWidth"},{value:"fitHeight",translation:"properties.backgroundImage.sizeFitHeight"},{value:"fill",translation:"properties.backgroundImage.sizeStretch"},{value:"alwaysFill",translation:"properties.backgroundImage.sizeAlwaysFill"}],show:function e(t){return O.getValue(t,"style.background.useImage")&&!!O.getValue(t,"style.background.url.qStaticContentUrlDef.qUrl")}},backgroundPosition:{ref:"style.background.position",translation:"Common.Position",type:"string",component:"align-matrix",show:function e(t){return O.getValue(t,"style.background.useImage")&&O.getValue(t,"style.background.url.qStaticContentUrlDef.qUrl")&&"fill"!==O.getValue(t,"style.background.size")},currentSize:function e(t){return O.getValue(t,"style.background.size")}}}}}},border:{type:"items",grouped:true,translation:"properties.border",items:{borderSettings:{type:"items",items:{useBorder:{ref:"style.border.useBorder",type:"boolean",translation:"properties.border.use",component:"switch",options:A},borderRadius:{component:"slider",show:function e(t){return O.getValue(t,"style.border.useBorder")},translation:"properties.border.radius",type:"number",ref:"style.border.radius",min:0,max:1,step:.01},borderWidth:{component:"slider",show:function e(t){return O.getValue(t,"style.border.useBorder")},type:"number",ref:"style.border.width",translation:"properties.border.width",min:0,max:.5,step:.005},colorDropdown:{type:"string",show:function e(t){return O.getValue(t,"style.border.useBorder")},component:"dropdown",translation:"properties.border.color",ref:"style.border.useColorExpression",options:E},colorPicker:{component:"color-picker",type:"object",ref:"style.border.color",translation:"properties.color",dualOutput:true,show:function e(t){return O.getValue(t,"style.border.useBorder")&&!O.getValue(t,"style.border.useColorExpression")}},colorExpression:{component:"string",type:"string",ref:"style.border.colorExpression",translation:"Common.Expression",show:function e(t){return O.getValue(t,"style.border.useBorder")&&O.getValue(t,"style.border.useColorExpression")},expression:"optional"}}}}},icon:{type:"items",grouped:true,translation:"properties.icon",items:{iconSettings:{type:"items",items:{useIcon:{ref:"style.icon.useIcon",type:"boolean",translation:"properties.icon.use",component:"switch",options:A},iconType:{ref:"style.icon.iconType",component:"expression-with-dropdown",translation:"properties.icon",defaultValue:"",options:C,expressionType:"StringExpression",show:function e(t){return O.getValue(t,"style.icon.useIcon")}},iconPosition:{ref:"style.icon.position",component:"dropdown",translation:"Common.Position",options:[{translation:"properties.dock.left",value:"left"},{translation:"properties.dock.right",value:"right"}],show:function e(t){return O.getValue(t,"style.icon.useIcon")}}}}}}}}}},importProperties:k,exportProperties:null,support:{export:!1,exportData:!1,snapshot:!1,viewData:!1,quickMobile:!0}}}var D={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkgrey:{r:169,g:169,b:169},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},grey:{r:128,g:128,b:128},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightgrey:{r:211,g:211,b:211},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},transparent:{r:255,g:255,b:255,a:0},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};var T={resolveExpression:function e(t){var n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(t);if(n)return"rgb(".concat(n[1],",").concat(n[2],",").concat(n[3],")");n=/^argb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(t);if(n){var r=Math.round(n[1]/255*100)/100;return"rgba(".concat(n[2],",").concat(n[3],",").concat(n[4],",").concat(r,")")}n=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(t);if(n)return t;var o=t&&D[t.toLowerCase()];if(o){var i=void 0!==o.a?o.a:1;return"rgba(".concat(o.r,",").concat(o.g,",").concat(o.b,",").concat(i,")")}return"none"},getFadedColor:function e(t){var n=.15;var r;var o;var i;var a;if(t.length>7){r=t.split(",");var l=-1!==r[0].indexOf("a");o=l?parseInt(r[0].slice(5),10):parseInt(r[0].slice(4),10);a=parseInt(r[1],10);i=parseInt(r[2],10);return"".concat((l?"rgba(":"rgb(")+(Math.round((0-o)*n)+o),",").concat(Math.round((0-a)*n)+a,",").concat(Math.round((0-i)*n)+i).concat(l?",".concat(r[3]):")")}r=parseInt(t.slice(1),16);o=r>>16;a=r>>8&255;i=255&r;return"#".concat((16777216+65536*(Math.round((0-o)*n)+o)+256*(Math.round((0-a)*n)+a)+(Math.round((0-i)*n)+i)).toString(16).slice(1))}};var N=function e(t){t.replace(/^\.\.\//i,"/");t=t.replace(/"/g,'\\"');t=t.replace(/'/g,"\\'");var n=document.createElement("a");n.href="../";var r=n.href;t=r+("/"===t[0]?t.substr(1):t);return t};var L={getImageUrl:N};var I={auto:"auto auto",alwaysFit:"contain",fitWidth:"100% auto",fitHeight:"auto 100%",fill:"100% 100%",alwaysFill:"cover"};var j={topLeft:"0% 0%",centerLeft:"50% 0%",bottomLeft:"100% 0%",topCenter:"0% 50%",centerCenter:"50% 50%",bottomCenter:"100% 50%",topRight:"0% 100%",centerRight:"50% 100%",bottomRight:"100% 100%"};var P=function e(t,n){return"".concat(t,": ").concat(n,";")};var R=function e(t,n,r){var o=t.useColorExpression,i=t.colorExpression,a=t.color;var l;o?l=T.resolveExpression(i):"string"===typeof a?l=a:a&&(l=r.getColorPickerColor(a));return l&&"none"!==l?l:n};var _={getStyles:function e(t){var n=t.style,r=t.disabled,o=t.theme,i=t.element;var a="width: 100%;height: 100%;transition: transform .1s ease-in-out;";var l=n.font,u=n.background,s=n.border;var c=o.getDataColorSpecials().primary;a+=r?P("opacity",.4):P("cursor","pointer");a+=P("color",R(l,"#ffffff",o));l.style.bold&&(a+=P("font-weight","bold"));l.style.italic&&(a+=P("font-style","italic"));var f=R(u,c,o);a+=P("background-color",f);if(u.useImage&&u.url.qStaticContentUrl){var d=u.url.qStaticContentUrl.qUrl;if(d){d=L.getImageUrl(d);a+=P("background-image","url('".concat(d,"')"));a+=P("background-size",I[u.size]);a+=P("background-position",j[u.position]);a+=P("background-repeat","no-repeat")}}if(s.useBorder){var p=Math.min(i.offsetWidth,i.offsetHeight);var m=R(s,T.getFadedColor(f),o);var h=s.width*p/2;a+=P("border","".concat(h,"px solid ").concat(m));a+=P("border-radius","".concat(s.radius*p/2,"px"))}else a+="border: none;";return a},createLabelAndIcon:function e(t){var n=t.button,r=t.theme,o=t.style,i=t.isSense;var a=o.icon,l=o.font,u=o.label;var s=document.createElement("text");s.style.whiteSpace="nowrap";s.style.fontFamily=r.getStyle("","","fontFamily");var c=document.createElement("span");c.textContent=u;c.style.whiteSpace="nowrap";c.style.textOverflow="ellipsis";c.style.overflow="visible";l.style.underline&&(c.style.textDecoration="underline");s.appendChild(c);var f=i&&a.useIcon&&""!==a.iconType;if(f){var d=document.createElement("span");var p=C.find((function(e){return e.label===a.iconType||e.value===a.iconType}));d.style.textDecoration="none";d.style.fontSize="inherit";d.setAttribute("class","lui-icon lui-icon--".concat(p?p.value:""));"left"===a.position?s.insertBefore(d,c):s.appendChild(d)}n.innerHTML="";n.appendChild(s);s.style.fontSize="".concat(n.clientHeight,"px");var m=n.clientHeight/s.offsetHeight*n.clientHeight;s.style.fontSize="".concat(m,"px");s.offsetWidth>n.clientWidth&&(m*=n.clientWidth/s.offsetWidth);if(l.style.italic)if(f){s.style.fontSize="".concat(Math.max(m*l.size*.84,8),"px");s.children[0].style.marginRight="".concat(.04*s.offsetWidth,"px");s.children[1].style.marginRight="".concat(.04*s.offsetWidth,"px")}else{s.style.fontSize="".concat(Math.max(m*l.size*.9,8),"px");s.children[0].style.marginRight="".concat(.02*s.offsetWidth,"px")}else if(f){s.style.fontSize="".concat(Math.max(m*l.size*.88,8),"px");s.children[0].style.marginRight="".concat(.04*s.offsetWidth,"px")}else s.style.fontSize="".concat(Math.max(m*l.size*.92,8),"px");"8px"===s.style.fontSize&&s.children.forEach((function(e){e.style.overflow="hidden"}));s.style.margin="0 3%";s.style.display="flex";s.style.alignItems="center";s.style.justifyContent="left"===l.align?"flex-start":"right"===l.align?"flex-end":"center"}};var z=function(){var e=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:n=0;case 1:if(!(n<t.length)){r.next=7;break}r.next=4;return t[n]();case 4:n++;r.next=1;break;case 7:case"end":return r.stop()}}),e)})));return function t(n){return e.apply(this,arguments)}}();function F(e){var t=e.layout,n=e.theme,r=e.app,o=e.constraints,i=e.senseNavigation,a=e.element,u=e.enableSheetShow;var s=!!i;var f=a.firstElementChild;var p=t.style,m=t.qStateName;var h=t.useEnabledCondition&&0===t.enabledCondition;var g=!h&&!o.active;var y=_.getStyles({style:p,disabled:h,theme:n,element:a});f.setAttribute("style",y);_.createLabelAndIcon({button:f,theme:n,style:p,isSense:s});f.onclick=l(regeneratorRuntime.mark((function e(){var n,o,a,l;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:if(!g){s.next=14;break}n=[];o=t.actions;o.forEach((function(e){var t=d.find((function(t){return t.value===e.actionType}));t&&n.push(t.getActionCall(c({app:r,qStateName:m},e)))}));f.setAttribute("disabled",true);s.next=7;return z(n);case 7:if(!(i&&!i.getCurrentStoryId())){s.next=13;break}a=t.navigation;l=a&&b.find((function(e){return e.value===a.action}));if(!(i&&l&&"function"===typeof l.navigationCall)){s.next=13;break}s.next=13;return l.navigationCall(c({app:r,enableSheetShow:u,senseNavigation:i},a));case 13:f.removeAttribute("disabled");case 14:case"end":return s.stop()}}),e)})));var v=function e(){if(g){var t=f.offsetWidth,n=f.offsetHeight;f.style.transform=n>t?"scale(".concat(.98,", ",1-t/n*.02,")"):"scale(".concat(1-n/t*.02,", ",.98,")")}};var x=function e(){var t=f.style.transform;g&&""!==t&&"scale(1)"!==t&&(f.style.transform="scale(1)")};f.onmousedown=function(e){0===e.button&&v()};f.onmouseup=x;f.onmouseleave=x;f.ontouchstart=v;f.ontouchend=x;f.ontouchcancel=x;return function(){f.onclick=void 0;f.onmousedown=void 0;f.onmouseup=void 0;f.onmouseleave=void 0;f.ontouchstart=void 0;f.ontouchend=void 0;f.ontouchcancel=void 0}}function U(e){var t=e.sense,n=e.translator,a=e.flags;var l=t&&t.navigation;var u=a.isEnabled;var s=u("SHEET_SHOW_CONDITION");var c=u("ACTION_BUTTON_RELOAD");o.style.label=t?n.get("Object.ActionButton"):"Button";return{qae:{properties:o,data:i},component:function e(){var t=Object(r["useElement"])();var n=Object(r["useTheme"])();Object(r["useMemo"])((function(){var e=document.createElement("button");e.appendChild(document.createElement("text"));t.appendChild(e)}),[]);var o=Object(r["useStaleLayout"])();var i=Object(r["useApp"])();var a=Object(r["useConstraints"])();var u=F({element:t,layout:o,constraints:a,theme:n,app:i,senseNavigation:l,enableSheetShow:s});Object(r["useEffect"])((function(){return function(){u()}}),[t])},ext:q({translator:n,enableReloadAction:c})}}t["default"]=U},vJtD:function(e,t,n){var r,o;!(r=[n("mXGw"),n("mXtC"),n("8ZOk"),n("ztUU"),n("xARA"),n("y6H+"),n("AdBH"),n("QFtD")],o=function(e,t,n,r,o,i,a,l){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=o.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||o.call(e,t)},c=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},f=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(l)return l(e,t).value}return e[t]};e.exports=function e(){var t,n,o,i,a,l,d=arguments[0],p=1,m=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!==r(d)&&"function"!=typeof d)&&(d={});p<m;++p)if(null!=(t=arguments[p]))for(n in t)o=f(d,n),d!==(i=f(t,n))&&(h&&i&&(s(i)||(a=u(i)))?(a?(a=!1,l=o&&u(o)?o:[]):l=o&&s(o)?o:{},c(d,{name:n,newValue:e(h,l,i)})):void 0!==i&&c(d,{name:n,newValue:i}));return d}},function(t,n){t.exports=e},function(e,t,n){e.exports=n(26)()},,,function(e,n){e.exports=t},,function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},,,function(e){e.exports=JSON.parse('{"properties_dataPoints_labelmode_share":{"id":"properties.dataPoints.labelmode.share","locale":{"en-US":"Share","zh-TW":"佔有率","zh-CN":"份额","tr-TR":"Pay","sv-SE":"Andel","it-IT":"Percentuale","es-ES":"Cuota","de-DE":"Anteil","pl-PL":"Udział","nl-NL":"Aandeel","ko-KR":"공유","pt-BR":"Percentual","fr-FR":"Part","ja-JP":"割合","ru-RU":"Доля"}},"Tooltip_selections_locked":{"id":"Tooltip.selections.locked","locale":{"en-US":"Selections on this dimension are locked","zh-TW":"已鎖定此維度上的選項","zh-CN":"相关维度的选择已锁定","tr-TR":"Bu boyuttaki seçimler kilitli","sv-SE":"Urval i den här dimensionen är låsta","it-IT":"Le selezioni in questa dimensione sono bloccate","es-ES":"Las selecciones de esta dimensión están bloqueadas.","de-DE":"Auswahlen sind für diese Dimension gesperrt","pl-PL":"Selekcje dotyczące tego wymiaru są zablokowane","nl-NL":"Selecties voor deze dimensie zijn vergrendeld","ko-KR":"이 차원의 선택은 잠겨 있습니다.","pt-BR":"Seleções estão bloqueadas nesta dimensão","fr-FR":"Sélections verrouillées pour cette dimension","ja-JP":"この軸での選択はロックされています","ru-RU":"Выборки для данного измерения заблокированы"}},"Tooltip_dimensions_drilldown":{"id":"Tooltip.dimensions.drilldown","locale":{"en-US":"Drill-down dimension","zh-TW":"向下探查維度","zh-CN":"下钻维度","tr-TR":"Detaya inme boyutu","sv-SE":"Hierarkisk dimension","it-IT":"Dimensione di drill-down","es-ES":"Dimensión jerárquica","de-DE":"Drilldown-Dimension:","pl-PL":"Wymiar hierarchiczny","nl-NL":"Drill-downdimensie","ko-KR":"드릴다운 차원","pt-BR":"Dimensão da hierarquia","fr-FR":"Descendre dans la hiérarchie de la dimension","ja-JP":"軸のドリルダウン","ru-RU":"Измерение с детализацией"}},"Object_ErrorMessage_MissingDimension":{"id":"Object.ErrorMessage.MissingDimension","locale":{"en-US":"Dimension not found","zh-TW":"找不到維度","zh-CN":"未找到维度","tr-TR":"Boyut bulunamadı","sv-SE":"Dimensionen hittades inte","it-IT":"Dimensione non trovata","es-ES":"No se ha encontrado la dimensión","de-DE":"Dimension nicht gefunden","pl-PL":"Wymiar nie został znaleziony","nl-NL":"Dimensie niet gevonden","ko-KR":"차원을 찾지 못했습니다.","pt-BR":"Dimensão não encontrada","fr-FR":"Dimension introuvable","ja-JP":"軸が見つかりません","ru-RU":"Измерение не найдено"}},"Object_ErrorMessage_MissingMeasure":{"id":"Object.ErrorMessage.MissingMeasure","locale":{"en-US":"Measure not found","zh-TW":"找不到量值","zh-CN":"未找到度量","tr-TR":"Hesaplama bulunamadı","sv-SE":"Måttet hittades inte","it-IT":"Misura non trovata","es-ES":"No se ha encontrado la medida","de-DE":"Kennzahl nicht gefunden","pl-PL":"Miara nie została znaleziona","nl-NL":"Meting niet gevonden","ko-KR":"측정값을 찾지 못했습니다.","pt-BR":"Medida não encontrada","fr-FR":"Mesure introuvable","ja-JP":"メジャーが見つかりません","ru-RU":"Мера не найдена"}},"Object_Disclaimer_LimitedData":{"id":"Object.Disclaimer.LimitedData","locale":{"en-US":"Currently showing a limited data set.","zh-TW":"目前顯示的是有限的資料集。","zh-CN":"当前正显示有限的数据集。","tr-TR":"Şu anda sınırlı bir veri kümesi gösteriliyor.","sv-SE":"Just nu visas en begränsad uppsättning data.","it-IT":"Attualmente viene visualizzata una serie di dati limitata.","es-ES":"Mostrando actualmente un conjunto limitado de datos.","de-DE":"Zurzeit wird nur ein beschränkter Datensatz angezeigt.","pl-PL":"Aktualnie przedstawiany jest ograniczony zestaw danych.","nl-NL":"Momenteel wordt een beperkte gegevensverzameling getoond.","ko-KR":"현재 제한된 데이터 집합을 표시하고 있습니다.","pt-BR":"Mostrando um conjunto de dados limitado.","fr-FR":"Affichage d\'un ensemble de données limité pour l\'instant.","ja-JP":"現在、限定的なデータ セットを表示しています。","ru-RU":"В настоящее время отображается ограниченный набор данных."}},"Object_Disclaimer_OnlyNegativeOrZeroValues":{"id":"Object.Disclaimer.OnlyNegativeOrZeroValues","locale":{"en-US":"The chart is not displayed because it contains only negative or zero values.","zh-TW":"系統不會顯示圖表，因為該圖表僅包含負值或零值。","zh-CN":"未显示图表，因为它仅包含负值或零值。","tr-TR":"Yalnızca negatif veya sıfır değerlerini içermesi nedeniyle grafik görüntülenmiyor.","sv-SE":"Diagrammet visas inte eftersom det enbart innehåller negativa eller nollvärden","it-IT":"Il grafico non viene visualizzato poiché contiene solo valori negativi o uguali a zero.","es-ES":"El gráfico no se muestra porque sólo contiene valores negativos o valores cero.","de-DE":"Das Diagramm wird nicht angezeigt, da es nur negative oder 0-Werte enthält.","pl-PL":"Wykres nie jest wyświetlany, ponieważ zawiera wartości ujemne lub zerowe.","nl-NL":"De grafiek wordt niet weergegeven omdat het alleen negatieve waarden of nulwaarden bevat.","ko-KR":"음수 또는 zero 값만 포함되어 있으므로 차트가 표시되지 않습니다.","pt-BR":"O gráfico não foi exibido, porque contém apenas valores negativos ou zero.","fr-FR":"Le graphique n\'est pas affiché, car il contient uniquement des valeurs négatives ou égales à zéro.","ja-JP":"チャートは負の値またはゼロ値しか含まれていないため、表示されていません。","ru-RU":"Диаграмма не отображается, поскольку она содержит только отрицательные или нулевые значения."}},"Object_Disclaimer_NegativeOrZeroValues":{"id":"Object.Disclaimer.NegativeOrZeroValues","locale":{"en-US":"The data set contains negative or zero values that cannot be shown in this chart.","zh-TW":"資料集包含無法在此圖表中顯示的負值或零值。","zh-CN":"数据集中包含无法在此图表中显示的负值或零值。","tr-TR":"Veri kümesi, bu grafikte gösterilemeyen negatif veya sıfır değerlerini içeriyor.","sv-SE":"Datauppsättningen innehåller negativa värden eller nollvärden som inte kan visas i detta diagram.","it-IT":"La serie di dati contiene valori negativi o uguali a zero che non possono essere visualizzati in questo grafico.","es-ES":"El conjunto de datos contiene valores negativos o cero que no se pueden mostrar en este gráfico.","de-DE":"Die in den Datensätzen enthaltenen negativen oder 0-Werte können nicht in diesem Diagramm dargestellt werden.","pl-PL":"Zestaw danych zawiera wartości ujemne lub zerowe, których nie można przedstawić w tym wykresie.","nl-NL":"De gegevensverzameling bevat negatieve waarden of nulwaarden die niet kunnen worden weergegeven in deze grafiek.","ko-KR":"데이터 집합에 해당 차트에 표시할 수 없는 음수 값 또는 zero 값이 포함되어 있습니다.","pt-BR":"O conjunto de dados contém valores negativos ou iguais a zero que não podem ser mostrados neste gráfico.","fr-FR":"L\'ensemble de données contient des valeurs négatives ou égales à zéro impossibles à afficher dans ce graphique.","ja-JP":"データ セットには、本チャートに表示できない負の値またはゼロ値が含まれています。","ru-RU":"Набор данных содержит отрицательные или нулевые значения, которые невозможно показать в этой диаграмме."}},"Object_Disclaimer_DataRangeIncludingZero":{"id":"Object.Disclaimer.DataRangeIncludingZero","locale":{"en-US":"The logarithmic scale has been replaced by a linear scale because the data range includes zero.","zh-TW":"對數刻度已遭線性刻度取代，因為資料範圍包含零。","zh-CN":"对数刻度已替换为线性刻度，因为该数据范围包括零。","tr-TR":"Veri aralığı sıfır değerini içerdiğinden, logaritmik ölçek yerine doğrusal ölçek kullanıldı.","sv-SE":"Den logaritmiska skalan har ersatts av en linjär skala eftersom dataintervallet innehåller värdet noll.","it-IT":"La scala logaritmica è stata sostituita da una scala lineare perché l\'intervallo di dati include zero.","es-ES":"La escala logarítmica ha sido reemplazada por una escala lineal porque el rango de datos incluye cero.","de-DE":"Die logarithmische Skala wurde durch die lineare Skala ersetzt, weil der Datenbereich NULL enthält.","pl-PL":"Skala logarytmiczna została zastąpiona liniową, ponieważ zakres danych zawiera zero.","nl-NL":"De logaritmische schaal is vervangen door een lineaire schaal omdat het gegevensbereik nullen bevat.","ko-KR":"데이터 범위에 0이 포함되어 있으므로 로그 눈금이 선형 눈금으로 바뀌었습니다.","pt-BR":"A escala logarítmica foi substituída por uma escala linear, pois o intervalo de dados inclui zero.","fr-FR":"L\'échelle logarithmique a été remplacée par une échelle linéaire, car la plage de données comprend la valeur zéro.","ja-JP":"データ範囲にゼロが含まれるため、Log スケールは Linear スケールで置換されています。","ru-RU":"Логарифмический масштаб заменен линейным масштабом, поскольку диапазон данных включает ноль."}},"Object_Disclaimer_NoDataExist":{"id":"Object.Disclaimer.NoDataExist","locale":{"en-US":"The selections generated no data for this chart.","zh-TW":"此選項無法產生任何適用於此圖表的資料。","zh-CN":"选择未生成此图表的数据。","tr-TR":"Seçimler bu grafik için hiç veri oluşturmadı.","sv-SE":"Urvalen genererade inga data för detta diagram.","it-IT":"Le selezioni non hanno generato dati per questo grafico.","es-ES":"Las selecciones no han generado datos para este gráfico.","de-DE":"Die Auswahlen haben für dieses Diagramm keine Daten generiert.","pl-PL":"Selekcje nie spowodowały wygenerowania danych dla tego wykresu.","nl-NL":"De selecties hebben geen gegevens voor de grafiek gegenereerd.","ko-KR":"선택 내용으로 해당 차트에 대한 데이터가 생성되지 않았습니다.","pt-BR":"As seleções não geraram dados para este gráfico.","fr-FR":"Les sélections n\'ont pas généré de données pour ce graphique.","ja-JP":"このチャートには選択からデータが生成されませんでした。","ru-RU":"В результате выборок данные для этой диаграммы не созданы."}},"Object_Disclaimer_OnlyNanData":{"id":"Object.Disclaimer.OnlyNanData","locale":{"en-US":"The chart is not displayed because it contains only undefined values.","zh-TW":"系統不會顯示圖表，因為該圖表僅包含未定義的值。","zh-CN":"未显示图表，因为它仅包含未定义的值。","tr-TR":"Yalnızca tanımsız değerleri içermesi nedeniyle grafik görüntülenmiyor.","sv-SE":"Diagrammet visas inte eftersom det enbart innehåller odefinierade värden.","it-IT":"Il grafico non è visualizzato poiché contiene solo valori non definiti.","es-ES":"El gráfico no se muestra porque solo contiene valores indefinidos.","de-DE":"Das Diagramm wird nicht angezeigt, da es nur nicht definierte Werte enthält.","pl-PL":"Wykres nie jest wyświetlany, ponieważ zawiera wartości niezdefiniowane.","nl-NL":"De grafiek wordt niet weergegeven omdat deze alleen ongedefinieerde waarden bevat.","ko-KR":"정의되지 않은 값만 포함되어 있으므로 차트가 표시되지 않습니다.","pt-BR":"O gráfico não foi exibido, porque contém apenas valores não definidos.","fr-FR":"Le graphique n\'est pas affiché, car il contient uniquement des valeurs non définies.","ja-JP":"未定義の値しか含まれていないため、チャートは表示されていません。","ru-RU":"Диаграмма не отображается, поскольку она содержит только неопределенные значения."}},"Object_ChartTooltip_NMore":{"id":"Object.ChartTooltip.NMore","locale":{"en-US":"+{0} more","zh-TW":"再加 {0} 個","zh-CN":"+{0} 个","tr-TR":"+{0} öğe daha","sv-SE":"+{0} till","it-IT":"Altre +{0}","es-ES":"+{0} más","de-DE":"+{0} mehr","pl-PL":"+ {0} więcej","nl-NL":"+ {0} meer","ko-KR":"+추가 {0}개","pt-BR":"+{0} mais","fr-FR":"+ {0} de plus","ja-JP":"さらに {0}","ru-RU":"+ дополнительно: {0}"}},"Object_ChartTooltip_sumOfPositives":{"id":"Object.ChartTooltip.sumOfPositives","locale":{"en-US":"Sum of positives","zh-TW":"正數總和","zh-CN":"正值总和","tr-TR":"Pozitif değerlerin toplamı","sv-SE":"Summan av positiva","it-IT":"Somma valori positivi","es-ES":"Suma de positivos","de-DE":"Summe positiver Werte","pl-PL":"Suma dodatnich","nl-NL":"Som positieven","ko-KR":"양수 합계","pt-BR":"Soma de positivos","fr-FR":"Sommes des valeurs positives","ja-JP":"正の合計","ru-RU":"Сумма положительных значений"}},"Object_ChartTooltip_sumOfNegatives":{"id":"Object.ChartTooltip.sumOfNegatives","locale":{"en-US":"Sum of negatives","zh-TW":"負數總和","zh-CN":"负值总和","tr-TR":"Negatif değerlerin toplamı","sv-SE":"Summan av negativa","it-IT":"Somma valori negativi","es-ES":"Suma de negativos","de-DE":"Summe negativer Werte","pl-PL":"Suma ujemnych","nl-NL":"Som negatieven","ko-KR":"음수 합계","pt-BR":"Soma de negativos","fr-FR":"Somme des valeurs négatives","ja-JP":"負の合計","ru-RU":"Сумма отрицательных значений"}},"Object_ChartTooltip_ColorExpression":{"id":"Object.ChartTooltip.ColorExpression","locale":{"en-US":"Color expression","zh-TW":"色彩運算式","zh-CN":"颜色表达式","tr-TR":"Renk ifadesi","sv-SE":"Färguttryck","it-IT":"Espressione colore","es-ES":"Expresión de color","de-DE":"Farbformel","pl-PL":"Wyrażenie koloru","nl-NL":"Kleuruitdrukking","ko-KR":"색상 표현식","pt-BR":"Expressão de cor","fr-FR":"Expression de couleur","ja-JP":"カラー表現","ru-RU":"Выражение для цвета"}},"Object_Disclaimer_OnlyNanColor":{"id":"Object.Disclaimer.OnlyNanColor","locale":{"en-US":"The data used to color this visualization only contains undefined values.","zh-TW":"用以定義此視覺化的色彩的資料只包含未定義的值。","zh-CN":"用于将该可视化着色的数据仅包含未定义的值。","tr-TR":"Bu görselleştirmeyi renklendirmek için kullanılan veriler yalnızca tanımlanmamış değerler içeriyor.","sv-SE":"Data som används för att färgsätta denna visualisering innehåller enbart odefinierade värden.","it-IT":"I dati utilizzati per colorare questa visualizzazione contengono solo valori non definiti.","es-ES":"Los datos utilizados para colorear esta visualización solo contienen valores indefinidos.","de-DE":"Die verwendeten Daten für die Farbgebung dieser Visualisierung enthalten undefinierte Werte.","pl-PL":"Dane używane do kolorowania tej wizualizacji zawierają wyłącznie niezdefiniowane wartości.","nl-NL":"De gegevens die worden gebruikt om deze visualisatie kleur te geven bevatten uitsluitend ongedefinieerde waarden.","ko-KR":"이 시각화에 색을 지정하는 데 사용된 데이터에는 정의되지 않은 값만 포함되어 있습니다.","pt-BR":"Os dados usados para colorir esse visualização contém somente valores indefinidos.","fr-FR":"Les données utilisées pour colorer cette visualisation ne comportent que des valeurs non définies.","ja-JP":"このビジュアライゼーションの色の割り当てに使用したデータには、未定義の値が含まれています。","ru-RU":"Данные, используемые для выбора цвета визуализации, содержат только неопределенные значения."}},"properties_trendlines_types_average":{"id":"properties.trendlines.types.average","locale":{"en-US":"Average","zh-TW":"平均值","zh-CN":"平均值","tr-TR":"Ortalama","sv-SE":"Medel","it-IT":"Media","es-ES":"Media","de-DE":"Durchschnitt","pl-PL":"Średnia","nl-NL":"Gemiddelde","ko-KR":"평균","pt-BR":"Média","fr-FR":"Moyenne","ja-JP":"平均値","ru-RU":"Среднее"}},"properties_trendlines_types_linear":{"id":"properties.trendlines.types.linear","locale":{"en-US":"Linear","zh-TW":"線性","zh-CN":"线性","tr-TR":"Doğrusal","sv-SE":"Linjär","it-IT":"Lineare","es-ES":"Lineal","de-DE":"Linear","pl-PL":"Liniowa","nl-NL":"Lineair","ko-KR":"선형","pt-BR":"Linear","fr-FR":"Linéaire","ja-JP":"線形","ru-RU":"Линейный"}},"properties_trendlines_types_polynomial2":{"id":"properties.trendlines.types.polynomial2","locale":{"en-US":"Second degree polynomial","zh-TW":"第二度多項式","zh-CN":"二次多项式","tr-TR":"İkinci derece polinom","sv-SE":"Polynomial, andra graden","it-IT":"Polinomio di secondo grado","es-ES":"Polinómica de segundo grado","de-DE":"Polynom zweiten Grades","pl-PL":"Wielomianowa drugiego stopnia","nl-NL":"Tweedegraadspolynoom","ko-KR":"2차 다항식","pt-BR":"Polinômio de segundo grau","fr-FR":"Polynomial du 2ème degré","ja-JP":"2 番目の角度の多項式近似","ru-RU":"Полиномиальный второй степени"}},"properties_trendlines_types_polynomial3":{"id":"properties.trendlines.types.polynomial3","locale":{"en-US":"Third degree polynomial","zh-TW":"第三度多項式","zh-CN":"三次多项式","tr-TR":"Üçüncü derece polinom","sv-SE":"Polynomial, tredje graden","it-IT":"Polinomio di terzo grado","es-ES":"Polinómica de tercer grado","de-DE":"Polynom dritten Grades","pl-PL":"Wielomianowa trzeciego stopnia","nl-NL":"Derdegraadspolynoom","ko-KR":"3차 다항식","pt-BR":"Polinômio de terceiro grau","fr-FR":"Polynomial du 3ème degré","ja-JP":"3 番目の角度の多項式近似","ru-RU":"Полиномиальный третьей степени"}},"properties_trendlines_types_polynomial4":{"id":"properties.trendlines.types.polynomial4","locale":{"en-US":"Fourth degree polynomial","zh-TW":"第四度多項式","zh-CN":"四次多项式","tr-TR":"Dördüncü derece polinom","sv-SE":"Polynomial, fjärde graden","it-IT":"Polinomio di quarto grado","es-ES":"Polinómica de cuarto grado","de-DE":"Polynom vierten Grades","pl-PL":"Wielomianowa czwartego stopnia","nl-NL":"Vierdegraadspolynoom","ko-KR":"4차 다항식","pt-BR":"Polinômio de quarto grau","fr-FR":"Polynomial du 4ème degré","ja-JP":"4 番目の角度の多項式近似","ru-RU":"Полиномиальный четвертой степени"}},"properties_trendlines_types_exponential":{"id":"properties.trendlines.types.exponential","locale":{"en-US":"Exponential","zh-TW":"指數","zh-CN":"指数","tr-TR":"Üstel","sv-SE":"Exponentiell","it-IT":"Esponenziale","es-ES":"Exponencial","de-DE":"Exponentiell","pl-PL":"Wykładnicze","nl-NL":"Exponentieel","ko-KR":"지수","pt-BR":"Exponencial","fr-FR":"Exponentiel","ja-JP":"指数","ru-RU":"Экспоненциальный"}},"properties_trendlines_types_logarithmic":{"id":"properties.trendlines.types.logarithmic","locale":{"en-US":"Logarithmic","zh-TW":"對數","zh-CN":"对数","tr-TR":"Logaritmik","sv-SE":"Logaritmisk","it-IT":"Logaritmica","es-ES":"Logarítmica","de-DE":"Logarithmisch","pl-PL":"Logarytmiczna","nl-NL":"Logaritmisch","ko-KR":"로그","pt-BR":"Logarítmico","fr-FR":"Logarithmique","ja-JP":"対数","ru-RU":"Логарифмический"}},"properties_trendlines_types_power":{"id":"properties.trendlines.types.power","locale":{"en-US":"Power","zh-TW":"乘冪","zh-CN":"幂","tr-TR":"Üs","sv-SE":"Potens","it-IT":"Potenza","es-ES":"Potencia","de-DE":"Potenz","pl-PL":"Potęgowa","nl-NL":"Macht","ko-KR":"거듭제곱","pt-BR":"Potência","fr-FR":"Puissance","ja-JP":"累乗","ru-RU":"Силовой"}},"Common_Measures":{"id":"Common.Measures","locale":{"en-US":"Measures","de-DE":"Kennzahlen","fr-FR":"Mesures","it-IT":"Misure","ja-JP":"メジャー","ko-KR":"측정값","es-ES":"Medidas","nl-NL":"Metingen","pl-PL":"Miary","pt-BR":"Medidas","sv-SE":"Mått","tr-TR":"Hesaplamalar","zh-CN":"度量","zh-TW":"量值","ru-RU":"Меры"}}}')},,,,,,,function(e){e.exports=JSON.parse('{"TRENDLINES":true,"TRENDLINES_LINECHART":true}')},function(e,t){e.exports=a},function(e,t){e.exports=l},,,,function(e,t,n){"use strict";var r=n(27);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);function i(){var e={};return{get:function(t){return e[t]},set:function(t,n){return e[t]=n,n},has:function(t){return t in e},remove:function(t){delete e[t]},empty:function(){e={}}}}var a="REJECTED",l=function(){},u=1e4,s={MULTIPLIER:2,MINIMUM:20,MAXIMUM:200},c=600,f=50,d=10,p=100;var m={contains:function(e,t){if(!e)return!1;var n=e.qArea;return!!n&&n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight},patcher:function(e){var t=e.layoutModel,n=function(e){e.qArea.qHeight=e.qMatrix.length,e.qArea.qWidth=t.meta.size.x};return n.should=function(e){return 0===e.qArea.qHeight&&0===e.qArea.qWidth&&!!e.qMatrix.length},n},slicer:function(e,t){for(var n=Math.max(0,t.qHeight)-Math.abs(Math.min(0,t.qTop-e.qArea.qTop)),r=Math.max(0,t.qWidth)-Math.abs(Math.min(0,t.qLeft-e.qArea.qLeft)),o=Math.max(t.qTop,e.qArea.qTop),i=Math.max(t.qLeft,e.qArea.qLeft),a=Math.max(0,o-e.qArea.qTop),l=Math.min(o+n-e.qArea.qTop,e.qArea.qHeight),u=Math.max(0,i-e.qArea.qLeft),s=Math.min(i+r-e.qArea.qLeft,e.qArea.qWidth),c={qArea:{qHeight:l-a,qWidth:s-u,qTop:o,qLeft:i},qMatrix:[]},f=a;f<l;f++)c.qMatrix.push(e.qMatrix[f].slice(u,s));return c},cacheWarden:function(e){var t=e.bounds,n=void 0===t?{width:0,height:0}:t;return{release:function(e,t){var r=t.qTop-d<=e.qTop,o=t.qLeft+t.qWidth+d>=e.qLeft+e.qWidth,i=t.qTop+t.qHeight+d>=e.qTop+e.qHeight,a=t.qLeft-d<=e.qLeft;return r&&e.qTop>0||o&&e.qLeft+e.qWidth<n.width||i&&e.qTop+e.qHeight<n.height||a&&e.qLeft>0}}},request:function(e){var t=e.definitionPath;return function(e){return{method:"getHyperCubeData",args:[t,[e]]}}}};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={contains:function(e,t){if(!e)return!1;var n=e.qArea;return!!n&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight},patcher:function(e){var t=e.layoutModel,n=function(e){e.qArea.qHeight=e.qData[0].qSubNodes.length,e.qArea.qWidth=t.meta.size.x};return n.should=function(e){return 0===e.qArea.qHeight&&0===e.qArea.qWidth&&!!e.qData.length},n},slicer:function(e,t){for(var n=Math.max(0,t.qHeight)-Math.abs(Math.min(0,t.qTop-e.qArea.qTop)),r=Math.max(t.qTop,e.qArea.qTop),o=Math.max(t.qLeft,e.qArea.qLeft),i=Math.max(0,r-e.qArea.qTop),a=Math.min(r+n-e.qArea.qTop,e.qArea.qHeight),l=e.qData[0].qUp+e.qArea.qHeight+e.qData[0].qDown-r-(a-i),u={qArea:{qHeight:a-i,qWidth:e.qArea.qWidth,qTop:r,qLeft:o},qData:[g(g({},e.qData[0]),{},{qUp:r,qDown:l,qSubNodes:[]})]},s=i;s<a;s++)u.qData[0].qSubNodes.push(e.qData[0].qSubNodes[s]);return u},cacheWarden:function(e){var t=e.bounds,n=void 0===t?{height:0}:t;return{release:function(e,t){var r=t.qTop-d<=e.qTop,o=t.qTop+t.qHeight+d>=e.qTop+e.qHeight;return r&&e.qTop>0||o&&e.qTop+e.qHeight<n.height}}},request:function(e){var t=e.layoutModel,n=e.definitionPath,r=t.getLayoutValue("dimensionAxis.axisDisplayMode","auto");return function(e){var t={method:"getHyperCubeStackData",args:[n,[e]]};return"auto"===r&&t.args.push(c),t}}};var b={contains:function(){return!1},patcher:function(){var e=function(e){return e};return e.should=function(){return!1},e},slicer:function(e){return e},cacheWarden:function(){return{release:function(){return!0}}},request:function(e){var t=e.definitionPath;return function(e){return{method:"getHyperCubeTreeData",args:[t,[e]]}}}};var x="pages";function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O="discretePan",w=10;function S(e){var t,n=e.chart,r=e.actions,o=e.componentKey,i=e.dockModel,a=e.rtl,l=e.scroller;return{type:"Pan",key:"discrete:pan",options:{event:O,pointers:1,threshold:w,enable:function(e,t){return this.started===O||!t||!!r.scroll.enabled()&&n.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===o}))}},events:(t={},M(t,"".concat(O,"start"),(function(e){e.preventDefault(),this.started=O;var t="vertical"===i.major.orientation?e.deltaX:e.deltaY;this.previousTotalDelta=t<0?-w:w})),M(t,"".concat(O,"move"),(function(e){e.preventDefault();var t="vertical"===i.major.orientation,n=t?e.deltaX:e.deltaY,r=t&&a?-1:1,o=(n-this.previousTotalDelta)*r;this.previousTotalDelta=n,l.scroll(o)})),M(t,"".concat(O,"end"),(function(e){e.preventDefault(),this.started=!1})),M(t,"".concat(O,"cancel"),(function(e){e.preventDefault(),this.started=!1})),t)}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.chart,n=e.componentKey,r=e.actions,o=e.scroller;return function(e){if(r.scroll.enabled()&&k(t.componentsFromPoint({x:e.clientX,y:e.clientY}).filter((function(e){return e.key===n})),1)[0]){e.preventDefault();var i=Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX,a=Math.sign(-i)*p;o.scroll(a)}}}function A(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=0;return function(){t=this;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n=l;var s=Date.now()-i,c=function(){i=Date.now(),r=0,e.apply(t,n)};r||(s>=o?c():r=setTimeout(c,o-s))}}function q(e){var t=e.layoutModel,n=void 0===e.areaBuffer?function(e){var t=e.layoutModel,n=Math.floor(u/(t.meta.dimensionCount+t.meta.measureCount));return function(e){var t=e.width,r=e.height,o=Math.min(n,Math.max(s.MAXIMUM,r));return{width:t,height:Math.max(s.MINIMUM,Math.min(r*s.MULTIPLIER,o))}}}({layoutModel:t}):function(e){var t=e.layoutModel,n=Math.floor(u/(t.meta.dimensionCount+t.meta.measureCount));return function(e){var t=e.width,r=e.height;return{width:t,height:Math.min(n,r)}}}({layoutModel:t}),r={width:t.meta.size.x,height:t.meta.size.y};return function(e){var t=n({width:e.qWidth,height:e.qHeight}),o=t.width,i=t.height,a=i?Math.ceil((i-e.qHeight)/2):0,l=o?Math.ceil((o-e.qWidth)/2):0;return{qHeight:i?Math.min(i,r.height):e.qHeight,qWidth:o?Math.min(o,r.width):e.qWidth,qTop:i?Math.max(0,Math.min(e.qTop-a,r.height-i)):e.qTop,qLeft:o?Math.max(0,Math.min(e.qLeft-l,r.width-o)):e.qLeft}}}function D(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t,n,r=function(r){return new Promise((function(o,i){var l={request:r,resolve:o,reject:i,canceled:!1,cancel:function(){l.canceled=!0}};t?function(e){n&&n.reject(a),n=e}(l):function r(o){var i=(t=o).request,l=i.method,u=i.args;e[l].apply(e,D(u)).then((function(e){if(t.canceled||n)return t.reject(a),t=null,void(n&&(r(n),n=null));t.resolve(e[0]),t=null}))}(l)}))};return r.isProcessing=function(){return!!t},r.hasQueued=function(){return!!n},r.cancel=function(){r.isProcessing()&&t.cancel(),r.hasQueued()&&(n.reject(a),n=null)},r}var L={command:{update:function(){}}};function I(e){var t=e.dataStore,n=e.composition,r=e.enigmaModel,o=e.layoutModel,i=e.trendLineModel,u=void 0===i?L:i,s=e.definitionPath,c=e.areaBuffer,d=e.processDataPage,p=n.slicer,m=n.cacheWarden,h=n.request,g=function(e){var t=e.dataStore,n=e.slice,r=e.warden,o=e.expand,i=e.request,a=e.process,l=e.connectionless,u=e.processDataPage;return function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=s.onProcessing;if(t.contains(e)){var f=t.getCurrent();if(l)return Promise.resolve(n(f,e));var d=r.release(f.qArea,e),p=a.isProcessing();if(!d&&p&&a.cancel(),!d||p)return Promise.resolve(n(f,e))}if(l)return Promise.resolve(t.getCurrent());a.isProcessing()&&c&&c();var m=o(e);return a(i(m)).then((function(r){return u(r),t.add(r),n(r,e)}))}}({dataStore:t,slice:p,warden:m({bounds:{width:o.meta.size.x,height:o.meta.size.y}}),expand:q({layoutModel:o,areaBuffer:c}),request:h({layoutModel:o,definitionPath:s}),process:N(r),connectionless:o.meta.isSnapshot,processDataPage:d}),y=A((function(e,t){var n=t.onProcessing,r=t.onData;g(e,{onProcessing:n}).then((function(e){return r(e)})).catch((function(e){if(e!==a)throw e}))}),f);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onProcessing,r=void 0===n?l:n,i=t.onDataPage,a=void 0===i?l:i;y(e,{onProcessing:r,onData:function(e){o.setDataPages(e?[e]:[]),u.command.update(),a(e)}})}}var j={inTotal:function(e){return e.layoutModel.meta.size.x},area:function(e){return{qTop:0,qHeight:1,qLeft:0,qWidth:e.layoutModel.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=n.pixel,a=t.getDataPages()[0],l=i/o;return[l,r.inView>=r.inTotal?l+1:l+a.qArea.qWidth/r.inView]}};function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={inTotal:function(e){var t=e.layoutModel;if(t.meta.isSnapshot&&!t.getLayoutValue("reducedHyperCube")){var n=P(t.getDataPages(),1)[0];if(n)return n.qArea.qHeight}return t.meta.size.y},area:function(e){var t=e.layoutModel,n=e.itemOffset,r=e.inView,o=e.areaBuffer,i=void 0===o?4:o,a=Math.max(0,Math.floor(n)-i/2);return{qTop:a,qHeight:Math.min(t.meta.size.y-a,Math.max(0,Math.ceil(r+i))),qLeft:0,qWidth:t.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=n.pixel,a=t.getDataPages()[0],l=o/r.inView,u=(i+a.qArea.qTop*l)/o;return[u,r.inView>=r.inTotal?u+1:u+a.qArea.qHeight/r.inView]}};function z(e,t){for(var n=[],r=0;r<e.length;r++){var o=t(e[r]);-1===n.indexOf(o)&&n.push(o)}return n.length}function F(e){return z(e.qMatrix,(function(e){return e[0].qElemNumber}))-1}var U={inTotal:function(e){var t=e.layoutModel,n=t.meta.measureCount;return t.meta.size.y*n*(1+1/n)-1},area:function(e){var t=e.layoutModel,n=e.itemOffset,r=e.inView,o=e.areaBuffer,i=t.meta.measureCount,a=void 0===o?i:o,l=n/(i+1),u=Math.max(0,Math.floor((n-l-a/2)/i));return{qTop:u,qHeight:Math.min(t.meta.size.y-u,Math.max(0,Math.ceil((r+a)/i+1))),qLeft:0,qWidth:t.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=t.meta.measureCount,a=t.getDataPages()[0],l=o/r.inView,u=n.pixel,s=F(a),c=a.qArea.qHeight*i+s,f=(u+(a.qArea.qTop*i+a.qArea.qTop)*l)/o;return[f,r.inView>=r.inTotal?f+1:f+c/r.inView]}};var H=function(e,t){return t/(e.meta.size.y/e.query.getDimensionSize()+1)},B=function(e,t){for(var n={successful:!0,count:0},r=Math.abs(Math.floor(t)),o=[],i=0;i<=r;i++){if(!e[i])return n.successful=!1,n;var a=e[i][0].qElemNumber;-1===o.indexOf(a)&&(o.push(a),r--)}return n.count=o.length-1,n};function V(e){return{itemOffset:function(t,n){if(0!==t.qArea.qTop)return H(e,n);var r=B(t.qMatrix,n);return r.successful?r.count:H(e,n)},area:function(t,n,r){return 0!==t.qArea.qTop?H(e,n):z(t.qMatrix.slice(0,r.qTop+1),(function(e){return e[0].qElemNumber}))-1}}}var W={inTotal:function(e){var t=e.layoutModel;return t.meta.size.y+t.query.getDimensionSize()-1},area:function(e){var t=e.getDataPages,n=e.layoutModel,r=e.itemOffset,o=e.inView,i=V(n).itemOffset(t(),r),a=Math.max(0,Math.floor(r-i));return{qTop:a,qHeight:Math.min(n.meta.size.y-a,Math.max(0,Math.ceil(o+1))),qLeft:0,qWidth:n.meta.size.x}},scaleRange:function(e){var t=e.getDataPages,n=e.layoutModel,r=e.offsets,o=e.items,i=e.viewSize,a=e.upperBound,l=n.getDataPages()[0],u=i/o.inView,s=r.item,c=r.pixel,f=V(n).area(t(),s,l.qArea),d=F(l),p=l.qArea.qHeight+d,m=c===a?(o.inView-p)*u/i:(c+(l.qArea.qTop+f)*u)/i;return[m,o.inView>=o.inTotal?m+1:m+p/o.inView]}};function G(e){var t=e.rect,n=e.dockModel,r=e.itemWidths,o=e.dimensionAxis,i=e.inTotal,a=e.isMajorVisible,l=e.isMajorLabelless,u=e.maxDataRows,s=r[n.mode],c=s.DEFAULT,f=s.SQUEEZE,d=s.LABELLESS,p=o.axisDisplayMode,m=void 0===p?"auto":p,h=o.maxVisibleItems,g=void 0===h?10:h,y="vertical"===n.major.orientation?t.width:t.height,v=y/i>=f;switch(m){case"max":return Math.min(i,u);case"custom":return Math.min(g,u);case"auto":default:return!a||l?y/d:v?i:y/c}}function K(e){var t=e.chart,n=e.getRect,r=e.getDataPages,o=e.layoutModel,i=e.dockModel,a=e.getItemWidths,l=e.axisKey,s=e.areaBuffer,c=e.rtl,f=function(e){var t=e.layoutModel.meta,n=t.isDimensionless,r=t.isGrouped,o=t.isGroupedByMeasure;return n?j:r?o?U:W:_}({layoutModel:o}),d=f.inTotal,p=f.area,m=f.scaleRange,h=function(){return"vertical"===i.major.orientation?n().width:n().height},g=function(e){return e?h()/e:0},y=function(e,t){return-(e-t)*g(t)};return{getItems:function(){var e=o.getLayoutValue("dimensionAxis"),r=d({layoutModel:o}),s=t.component(l),c=!l||!s||s.isVisible();return{inTotal:r,inView:G({rect:n(),dockModel:i,itemWidths:a(),dimensionAxis:e,inTotal:r,isMajorVisible:c,isMajorLabelless:"none"===e.show||"title"===e.show,maxDataRows:Math.floor(u/(o.meta.dimensionCount+o.meta.measureCount))})}},getItemSize:function(e){var t=e.items.inView;return g(t)},getOffsets:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView,i=Math.min(0,Math.max(t,y(r,o)));return{pixel:i,item:o?Math.abs(o*i/h()):0}},getUpperBound:function(e){var t=e.items,n=t.inTotal,r=t.inView;return y(n,r)},getViewRange:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView;return function(e){var t=e.viewSize,n=e.inTotal,r=e.inView,o=e.pixelOffset,i=t/r*n,a=Math.abs(o)/i;return[a,a+t/i]}({viewSize:h(),inTotal:r,inView:o,pixelOffset:t})},getArea:function(e){var t=e.itemOffset,n=e.items;return p({getDataPages:r,layoutModel:o,itemOffset:t,inView:n.inView,areaBuffer:s})},getScaleRange:function(e){var t=e.offsets,n=e.items,a=m({getDataPages:r,layoutModel:o,offsets:t,items:n,viewSize:h(),upperBound:y(n.inTotal,n.inView)});return"vertical"===i.major.orientation&&c?function(e){return[1-e[1],1-e[0]]}(a):a},validate:{offset:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView;return t<=0&&t>=y(r,o)}},convert:{itemToPixelOffset:function(e){var t=e.itemOffset,n=e.items.inView,r=t*g(n);return Number.isFinite(r)?-r:0},relativeToPixelOffset:function(e){var t=e.relativeOffset,n=e.items,r=n.inTotal,o=n.inView;return-t*(g(o)*r)}}}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){var t=e.chart,n=e.componentKey,r=e.state,o=e.dataStore,i=e.pageData,a=e.layoutModel,l=e.dockModel,u=e.itemWidths,s=e.getRect,c=e.axisKey,f=e.areaBuffer,d=e.viewState,p=e.rtl;r.set("rect",{width:0,height:0}),r.set("itemWidths",{}),r.set("itemSize",0),r.set("items",{}),r.set("offsets",{}),r.set("finished",0),r.set("scaleRange",[0,1]);var m=K({chart:t,getRect:function(){return r.get("rect")},getDataPages:o.getCurrent,layoutModel:a,dockModel:l,getItemWidths:function(){return r.get("itemWidths")},axisKey:c,areaBuffer:f,rtl:p}),h=function(){var e=m.getItems();return r.set("items",e),e},g=function(e){var t=e.pixelOffset,n=e.items,o=m.getOffsets({pixelOffset:t,items:n});return r.set("offsets",o),o},y=function(e){var t=Date.now(),n=h(),o=g({pixelOffset:e,items:n}),l=m.getArea({itemOffset:o.item,items:n});if(function(e){var t=$(a.getDataPages(),1)[0].qArea;return!!t&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(l))(m.validate.offset({pixelOffset:e,items:n})||d.get("scrollOffset")!==o.item)&&(r.set("finished",t),r.set("scaleRange",m.getScaleRange({offsets:o,items:n})),d.preventSet("viewRange",m.getViewRange({pixelOffset:o.pixel,items:n})),d.set("scrollOffset",o.item));else{d.preventSet("viewRange",m.getViewRange({pixelOffset:o.pixel,items:n}));var u=function(){r.get("finished")>t||(r.set("finished",t),r.set("scaleRange",m.getScaleRange({offsets:o,items:n})),d.set("scrollOffset",o.item))};i(l,{onProcessing:u,onDataPage:u})}};return{enabled:function(){var e=r.get("items");return e.inTotal>e.inView},itemSize:function(){return r.get("itemSize")},scaleRange:function(){return r.get("scaleRange")},initialize:function(){var e=t.component(n);if(!e)return Promise.resolve();r.set("rect","function"==typeof s?s():e.rect),r.set("itemWidths","function"==typeof u?u():u);var o=h();r.set("itemSize",m.getItemSize({items:o}));var l=void 0===d.get("scrollOffset")?function(e){var t=e.items;return 1===a.getLayoutValue("scrollStartPos")?m.getUpperBound({items:t}):0}({items:o}):m.convert.itemToPixelOffset({itemOffset:d.get("scrollOffset"),items:o}),c=g({pixelOffset:l,items:o});d.preventSet("viewRange",m.getViewRange({pixelOffset:c.pixel,items:o}));var f=m.getArea({itemOffset:c.item,items:o});return new Promise((function(e){i(f,{onDataPage:function(){r.set("scaleRange",m.getScaleRange({offsets:c,items:o})),d.preventSet("scrollOffset",c.item),e()}})}))},scroll:function(e){var t=r.get("offsets").pixel+e;y(t)},scrollToRelative:function(e){var t=r.get("items"),n=m.convert.relativeToPixelOffset({relativeOffset:e,items:t});y(n)}}}function J(e,t,n){if(void 0===e||void 0===t)return n;for(var r=t.split("."),o=e,i=0;i<r.length;++i){var a=r[i];if(void 0===o[a])return n;o=o[a]}return o}function Y(e){var t=e.chart,n=e.actions,r=e.componentKey,o=e.enigmaModel,a=e.layoutModel,l=e.dockModel,u=e.trendLineModel,s=e.itemWidths,c=e.viewState,f=e.rtl,d=e.options,p=(d=void 0===d?{}:d).definitionPath,h=void 0===p?"/qHyperCubeDef":p,g=d.getRect,y=void 0===g?void 0:g,M=d.axisKey,O=void 0===M?void 0:M,w=d.areaBuffer,k=void 0===w?void 0:w,C=d.processDataPage,A=void 0===C?function(){}:C,q=i(),D=function(e){switch(e.qMode){case"S":default:return m;case"K":return v;case"T":return b}}({qMode:a.getHyperCubeValue("qMode")}),T=function(e){var t=e.state,n=e.contains;return t.set(x,[]),{add:function(e){var n=t.get(x);n.length=0,n.push(e)},getCurrent:function(){return t.get(x)[0]},getAll:function(){return t.get(x)},contains:function(e){return n(t.get(x)[0],e)}}}({state:q,contains:D.contains});!function(e){var t=e.layoutModel,n=e.dataStore,r=e.composition,o=t.getDataPages()[0];if(o){var i=r.patcher({layoutModel:t});i.should(o)&&i(o),n.add(o)}}({layoutModel:a,dataStore:T,composition:D});var N=function(e){var t=e.buffer;return void 0===t?void 0:2*Math.round(t/2)}({buffer:k}),L=I({dataStore:T,composition:D,enigmaModel:o,layoutModel:a,trendLineModel:u,definitionPath:h,areaBuffer:N,processDataPage:A}),j=Z({chart:t,componentKey:r,state:q,dataStore:T,pageData:L,layoutModel:a,dockModel:l,itemWidths:s,getRect:y,axisKey:O,areaBuffer:N,viewState:c,rtl:f}),P=function(e){var t=e.layoutModel,n=e.dataStore;return function(e){var r=J(e,"qHyperCube.".concat(t.refs.dataPages));r.length=0,r.push(n.getCurrent())}}({layoutModel:a,dataStore:T});return{interactions:function(e){var t=e.chart,n=e.actions,r=e.componentKey,o=e.dockModel,i=e.rtl,a=e.scroller;return{gestures:[S({chart:t,actions:n,componentKey:r,dockModel:o,rtl:i,scroller:a})],native:{type:"native",events:{wheel:E({chart:t,actions:n,componentKey:r,scroller:a})}}}}({chart:t,actions:n,componentKey:r,dockModel:l,rtl:f,scroller:j}),query:{getCanScroll:function(){return j.enabled()},getItemSize:function(){return j.itemSize()},getScaleRange:function(){return j.scaleRange()},getCurrentDataPage:function(){return T.getCurrent()}},command:{initialize:function(){return j.initialize()},scrollTo:function(e){return j.scrollToRelative(e)},setSnapshotData:function(e){return P(e)}}}}var Q=12,ee=2e3;function te(e){var t=e.model,n=e.layoutModel,r=e.definitionPath,o=void 0===r?"/qHyperCubeDef":r;return{fetch:function(e,n){var r={qStart:e,qEnd:n,qNbrPoints:this.computeNbrOfBins(),qMaxNbrTicks:300,qMaxNumberLines:this.computeMaxNumberLines()};return t.getHyperCubeContinuousData(o,r,!1)},shouldFetchReduced:function(){var e=n.getLayout().qHyperCube;return e.qSize.qcy*e.qMeasureInfo.length>=ee},computeNbrOfBins:function(){var e=n.getLayout().qHyperCube;if(!this.shouldFetchReduced())return ee;var t=e.qMeasureInfo.length||1,r=4+2*(t-1);return e.qDimensionInfo.length>1&&(t=Math.max(1,Math.min(Q,n.query.getDimensionSize(1))),r=4),Math.ceil(ee/(t*r))},computeMaxNumberLines:function(){return n.getLayout().qHyperCube.qDimensionInfo.length>1&&!this.shouldFetchReduced()?n.query.getDimensionSize(1)+1:Q}}}function ne(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cache,t=void 0===e?{}:e;return{fetch:function(){return Promise.resolve(t.merged)}}}function re(e){var t=e.layoutModel,n=e.viewCache;return{fetch:function(){var e=t.getHyperCube(),n=e.qAxisData,r=e.qDataPages;return Promise.resolve({qAxisData:n,qDataPages:r})},getSnapshotData:function(){var e=t.getLayoutValue("snapshotData.content.chartData",{});return"zoom"in e&&"min"in e.zoom&&"max"in e.zoom?{zoom:e.zoom}:function(e,t){var n=e.scrollOffset,r=void 0===n?0:n,o=e.viewRange,i=void 0===o?0:o,a=t+r,l=a+i;return 1===i&&0===r&&(a=t-.5,l=t+.5),{zoom:{min:a,max:l}}}(e,n.get("continuousMin"))}}}function oe(){var e=function(){},t=[],n={};return e.set=function(e,r){var o=t.indexOf(e);o>-1&&t.splice(o,1),t.push(e),n[e]=r},e.forEach=function(e){t.forEach((function(t,r){return e(n[t],r)}))},e.has=function(e){return e in n},e}function ie(e,t,n){return n[0]&&n[0][1]&&n[0][1].qElemNumber>-1?function(e){for(var t=e.start,n=e.end,r=e.matrix,o=[],i=oe(),a=oe(),l=0;l<r.length;l++){var u=r[l],s=u[1].qElemNumber.toString();u[0].qNum<t?i.set(s,u):u[0].qNum>n&&(a.has(s)||a.set(s,u)),u[0].qNum>=t&&u[0].qNum<=n&&o.push(u)}return i.forEach((function(e,t){return o.splice(t,0,e)})),a.forEach((function(e){return o.push(e)})),o}({start:e,end:t,matrix:n}):function(e){for(var t,n,r=e.start,o=e.end,i=e.matrix,a=[],l=0;l<i.length;l++){var u=i[l];u[0].qNum<r?t=u:u[0].qNum>o&&(n||(n=u)),u[0].qNum>=r&&u[0].qNum<=o&&a.push(u)}return t&&a.unshift(t),n&&a.push(n),a}({start:e,end:t,matrix:n})}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return le(le({},e),{},{qWidth:t[0]?t[0].length:0,qHeight:t.length})}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t,n){var r={qDataPages:(n.qDataPages||[]).map((function(n){var r=ie(e,t,n.qMatrix),o=se(n.qArea,r);return fe(fe({},n),{},{qArea:o,qMatrix:r})}))};return n.qAxisData&&n.qAxisData.qAxis&&(r.qAxisData=function(e,t,n){return{qAxis:n.qAxis.map((function(n){return{qName:n.qName,qTags:n.qTags,qTicks:n.qTicks.reduce((function(n,r){return(r.qStart>=e&&r.qStart<=t||r.qEnd>=e&&r.qEnd<=t||r.qStart<e&&r.qEnd>t)&&n.push(r),n}),[])}}))}}(e,t,n.qAxisData)),r}function me(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){var n={};return n.qDataPages=(e.qDataPages||[]).map((function(e,n){var r=function(e,t){if(!t||!t.length||!t[0].length)return e;for(var n=t[0][0].qNum,r=t[t.length-1][0].qNum,o=[],i=[],a=0,l=e.length;a<l;a++){var u=e[a][0];u.qNum<n?o.push(e[a]):u.qNum>r&&i.push(e[a])}return[].concat(o,me(t),i)}(e.qMatrix,t.qDataPages[n].qMatrix),o=se(e.qArea,r);return be(be({},e),{},{qArea:o,qMatrix:r})})),e.qAxisData&&e.qAxisData.qAxis&&(n.qAxisData=function(e,t){if(!t||!t.qAxis.length||t.qAxis.every((function(e){return!e.qTicks.length})))return e;for(var n=t.qAxis.map((function(e){return e.qName})),r=t.qAxis.map((function(e){return{start:e.qTicks[0].qStart,end:e.qTicks[e.qTicks.length-1].qStart}})),o=t.qAxis.map((function(e){return{qName:e.qName,qTags:ge(e.qTags),qTicks:ge(e.qTicks)}})),i=0,a=e.qAxis.length;i<a;i++){var l=e.qAxis[i],u=n.indexOf(l.qName),s=[],c=[];if(u>-1){for(var f=r[u],d=f.start,p=f.end,m=0,h=l.qTicks.length;m<h;m++){var g=l.qTicks[m];g.qStart<d?s.push(g):g.qStart>p&&c.push(g)}o[u].qTicks=[].concat(s,ge(o[u].qTicks),c)}}return{qAxis:o}}(e.qAxisData,t.qAxisData)),n}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=Math.pow(2,.5),Ce=1/ke,Ee=1e-6,Ae=Math.pow(Ce,44);function qe(e){return e.qIsOtherCell}function De(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qDataPages,t=void 0===e?[]:e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.length?t[0].qMatrix:[];return n.isStackedByDimension?function(e){var t={};return e.forEach((function(e){if(!e.some(qe)){var n=e[0].qElemNumber;t[n]=void 0}})),Object.keys(t).length}(r):function(e){var t=0;return e.forEach((function(e){e.some(qe)||t++})),t}(r)}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={command:{update:function(){}}};function Ie(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=function(){return e.apply(r,i)};clearTimeout(t),t=setTimeout(l,n)}}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re={created:function(){this.state={}},beforeUpdate:function(){this.state={}},beforeRender:function(e){var t=e.size;this.state.ticks=this.scale.ticks({distance:t.width}).filter((function(e){return!e.isMinor})),"linear"===this.scale.type&&function(e,t){for(var n=je(e.domain(),2)[1],r=0;r<t.length;r++){var o=t[r],i=t[r+1];o.data={},i||1===o.end?i?(o.data.start=o.value,o.data.end=i.value,o.end=i.position):(o.data.start=o.value,o.data.end=o.value):(o.data.start=o.value,o.data.end=n,o.end=1)}}(this.scale,this.state.ticks)},render:function(){var e=this,t=this.scale.data().fields.length?this.scale.data().fields[0].id():"",n=this.state.ticks,r=n.map((function(n){return{type:"rect",fill:"none",data:{source:{field:t},value:[n.data.start,n.data.end]},x:n.start*e.rect.width,y:0,width:(n.end-n.start)*e.rect.width,height:e.rect.height}}));if(n.length&&n[0].start>0){var o=n[0];r.unshift({type:"rect",fill:"none",data:{source:{field:t},value:[this.scale.domain()[0],o.data.start]},x:0,y:0,width:o.start*this.rect.width,height:this.rect.height})}return r}},_e="…";function ze(e){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)%2==0)return e;var t=Math.round(e);return e-t>0?t+=.5:t-=.5,t}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e,t){var n=t.localProps.size,r=t.props.anchor,o=function(e){var t=e.props,n=e.localProps.size,r=e.style,o=e.renderer,i=t.label.padding,a=Math.max(0,Math.min(t.label.justify,1)),l=Math.max(0,Math.min(t.label.align,1)),u=function(e){return o.measureText({text:e,fontSize:r.label.fontSize,fontFamily:r.label.fontFamily})};return{resolve:function(e,t){var o="string"==typeof e.label?e.label:"",s=u(o),c=t.x,f=t.width;e.start===e.end&&(f=s.width+2*i,1===e.end&&(c-=f));var d={x:c+i,y:i,width:f-2*i,height:n.height-2*i},p=u("".concat(o[0]).concat(_e)).width,m=Math.max(0,d.width-s.width),h=Math.max(0,d.height-s.height),g=a*m,y=l*h;return{show:d.width>=Math.min(p,s.width),text:o,dx:g,dy:y,rect:d,style:r.label,segment:{x:c+g,width:s.width+2*i}}}}}(t),i=function(e){var t=e.localProps.size,n=e.style,r=e.scale,o=e.props,i=Fe(r.domain(),2),a=i[0],l=i[1],u=Math.max(0,Math.min(1,o.guideLine.major.justify));return{resolve:function(e,r){var o=u*r.width,i=ze(r.x+o,n.majorGuideLine.strokeWidth);return{show:e.value>=a&&e.value<=l,x1:i,y1:0,x2:i,y2:ze(t.height,n.majorGuideLine.strokeWidth),style:n.majorGuideLine}}}}(t),a=e.map((function(e){var t=function(e,t,n){var r=Math.abs(Math.max(e.start,0)-Math.min(e.end,1))*t.width;return{x:Math.max(e[n],0)*t.width,y:0,width:r,height:t.height}}(e,n,r);return{rect:t,label:o.resolve(e,t),guideLine:i.resolve(e,t)}}));return function(e,t){var n=e.length;if(!(n<2)){var r,o,i=e[n-1],a=t[n-1].label;if(i&&i.start===i.end)for(var l=n-2;l>-1;l--){var u=t[l].label;u.show=u.show&&(r=u.segment,o=a.segment,!(r.x<o.x?r.x+r.width>=o.x:o.x+o.width>=r.x))}}}(e,a),a}function Be(e,t){var n,r,o,i,a=(r=(n=t).localProps.size,o=n.props,i=n.style,{resolve:function(e){var t=Math.max(r.height-o.guideLine.minor.size,0)*Math.max(0,Math.min(o.guideLine.minor.align,1)),n=ze(e.position*r.width,i.minorGuideLine.strokeWidth);return{guideLine:{show:!0,x1:n,y1:ze(t,i.minorGuideLine.strokeWidth),x2:n,y2:ze(o.guideLine.minor.size+t,i.minorGuideLine.strokeWidth),style:i.minorGuideLine}}}});return t.props.guideLine.minor.show?e.map(a.resolve):[]}function Ve(e){return e.filter((function(e){return e.show})).map((function(e){return o()({strokeWidth:1},e.style,{type:"line",x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2})}))}function We(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke={require:["renderer"],defaultSettings:{layout:{displayOrder:0,prioOrder:0},settings:{anchor:"start",label:{show:!0,padding:4,align:0,justify:0},line:{show:!0},guideLine:{major:{justify:0},minor:{show:!0,size:4,align:0}}},style:{label:"$label",line:"$guide-line",majorGuideLine:"$guide-line",minorGuideLine:"$guide-line"}},preferredSize:function(){return{size:30,edgeBleed:{left:1,right:1}}},init:function(){this.props=this.settings.settings,this.localProps={},this.state={major:[],minor:[]}},created:function(){this.init()},beforeUpdate:function(){this.init()},beforeRender:function(e){var t=e.size;this.localProps.size=t;var n=this.scale.ticks({distance:t.width}),r=n.filter((function(e){return!e.isMinor})),o=n.filter((function(e){return e.isMinor}));this.state.line=function(e){var t=e.localProps.size,n=e.style,r=e.props,o=ze(1,n.line.strokeWidth);return{show:r.line.show,x1:ze(0,n.line.strokeWidth),y1:o,x2:ze(t.width,n.line.strokeWidth),y2:o,style:n.line}}(this),this.state.major=He(r,this),this.state.minor=Be(o,this)},render:function(){return[].concat(We(Ve([this.state.line])),We(this.state.major.map((function(e){return e.label})).filter((function(e){return e.show})).map((function(e){return o()({},e.style,{type:"text",x:e.rect.x,y:e.rect.y,dx:e.dx,dy:e.dy,maxWidth:e.rect.width,text:e.text,title:e.text,baseline:"text-before-edge"})}))),We(Ve(this.state.major.map((function(e){return e.guideLine})))),We(Ve(this.state.minor.map((function(e){return e.guideLine})))))}},$e=Math.sqrt(50),Xe=Math.sqrt(10),Ze=Math.sqrt(2),Je=function(e,t,n){var r,o,i,a,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=Ye(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));++l<o;)i[l]=(e+l)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));++l<o;)i[l]=(e-l)/a;return r&&i.reverse(),i};function Ye(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=$e?10:i>=Xe?5:i>=Ze?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=$e?10:i>=Xe?5:i>=Ze?2:1)}function Qe(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=$e?o*=10:i>=Xe?o*=5:i>=Ze&&(o*=2),t<e?-o:o}var et=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},tt=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return et(t(e),n)}),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}};var nt=tt(et),rt=nt.right,ot=(nt.left,rt),it=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function at(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function lt(){}var ut="\\s*([+-]?\\d+)\\s*",st="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ct="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ft=/^#([0-9a-f]{3})$/,dt=/^#([0-9a-f]{6})$/,pt=new RegExp("^rgb\\("+[ut,ut,ut]+"\\)$"),mt=new RegExp("^rgb\\("+[ct,ct,ct]+"\\)$"),ht=new RegExp("^rgba\\("+[ut,ut,ut,st]+"\\)$"),gt=new RegExp("^rgba\\("+[ct,ct,ct,st]+"\\)$"),yt=new RegExp("^hsl\\("+[st,ct,ct]+"\\)$"),vt=new RegExp("^hsla\\("+[st,ct,ct,st]+"\\)$"),bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xt(e){var t;return e=(e+"").trim().toLowerCase(),(t=ft.exec(e))?new St((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=dt.exec(e))?Mt(parseInt(t[1],16)):(t=pt.exec(e))?new St(t[1],t[2],t[3],1):(t=mt.exec(e))?new St(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ht.exec(e))?Ot(t[1],t[2],t[3],t[4]):(t=gt.exec(e))?Ot(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=yt.exec(e))?Ct(t[1],t[2]/100,t[3]/100,1):(t=vt.exec(e))?Ct(t[1],t[2]/100,t[3]/100,t[4]):bt.hasOwnProperty(e)?Mt(bt[e]):"transparent"===e?new St(NaN,NaN,NaN,0):null}function Mt(e){return new St(e>>16&255,e>>8&255,255&e,1)}function Ot(e,t,n,r){return r<=0&&(e=t=n=NaN),new St(e,t,n,r)}function wt(e,t,n,r){return 1===arguments.length?((o=e)instanceof lt||(o=xt(o)),o?new St((o=o.rgb()).r,o.g,o.b,o.opacity):new St):new St(e,t,n,null==r?1:r);var o}function St(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function kt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ct(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Et(e,t,n,r)}function Et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function At(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function qt(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}it(lt,xt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),it(St,wt,at(lt,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+kt(this.r)+kt(this.g)+kt(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),it(Et,(function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(e instanceof lt||(e=xt(e)),!e)return new Et;if(e instanceof Et)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new Et(a,l,u,e.opacity)}(e):new Et(e,t,n,null==r?1:r)}),at(lt,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Et(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Et(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new St(At(e>=240?e-240:e+120,o,r),At(e,o,r),At(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Dt=function(e){return function(){return e}};function Tt(e,t){return function(n){return e+n*t}}function Nt(e){return 1==(e=+e)?Lt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Dt(isNaN(t)?n:t)}}function Lt(e,t){var n=t-e;return n?Tt(e,n):Dt(isNaN(e)?t:e)}var It=function e(t){var n=Nt(t);function r(e,t){var r=n((e=wt(e)).r,(t=wt(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Lt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function jt(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),l=new Array(o);for(n=0;n<o;++n)r=wt(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}jt((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return qt((n-r/t)*t,a,o,i,l)}})),jt((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return qt((n-r/t)*t,o,i,a,l)}}));var Pt=function(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=Wt(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}},Rt=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},_t=function(e,t){return t-=e=+e,function(n){return e+t*n}};function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ft=function(e,t){var n,r={},o={};for(n in null!==e&&"object"===zt(e)||(e={}),null!==t&&"object"===zt(t)||(t={}),t)n in e?r[n]=Wt(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}},Ut=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ht=new RegExp(Ut.source,"g");var Bt=function(e,t){var n,r,o,i=Ut.lastIndex=Ht.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(n=Ut.exec(e))&&(r=Ht.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,u.push({i:a,x:_t(n,r)})),i=Ht.lastIndex;return i<t.length&&(o=t.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)l[(n=u[r]).i]=n.x(e);return l.join("")})};function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Wt=function(e,t){var n,r=Vt(t);return null==t||"boolean"===r?Dt(t):("number"===r?_t:"string"===r?(n=xt(t))?(t=n,It):Bt:t instanceof xt?It:t instanceof Date?Rt:Array.isArray(t)?Pt:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Ft:_t)(e,t)},Gt=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},Kt=Array.prototype,$t=Kt.map,Xt=Kt.slice,Zt=function(e){return function(){return e}},Jt=function(e){return+e},Yt=[0,1];function Qt(e){return e}function en(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Zt(isNaN(t)?NaN:.5)}function tn(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function nn(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=en(o,r),i=n(a,i)):(r=en(r,o),i=n(i,a)),function(e){return i(r(e))}}function rn(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=en(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=ot(e,t,1,r)-1;return i[n](o[n](t))}}function on(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function an(e,t){return function(){var e,t,n,r,o,i,a=Yt,l=Yt,u=Wt,s=Qt;function c(){return r=Math.min(a.length,l.length)>2?rn:nn,o=i=null,f}function f(t){return isNaN(t=+t)?n:(o||(o=r(a.map(e),l,u)))(e(s(t)))}return f.invert=function(n){return s(t((i||(i=r(l,a.map(e),_t)))(n)))},f.domain=function(e){return arguments.length?(a=$t.call(e,Jt),s===Qt||(s=tn(a)),c()):a.slice()},f.range=function(e){return arguments.length?(l=Xt.call(e),c()):l.slice()},f.rangeRound=function(e){return l=Xt.call(e),u=Gt,c()},f.clamp=function(e){return arguments.length?(s=e?tn(a):Qt,f):s!==Qt},f.interpolate=function(e){return arguments.length?(u=e,c()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}()(e,t)}function ln(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var un=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sn(e){return new cn(e)}function cn(e){if(!(t=un.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}sn.prototype=cn.prototype,cn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var fn,dn,pn,mn,hn=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},gn=function(e){return(e=hn(Math.abs(e)))?e[1]:NaN},yn=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(o>0){if(!+e[r])break e;o=0}}return o>0?e.slice(0,o)+e.slice(t+1):e},vn=function(e,t){var n=hn(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},bn={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return vn(100*e,t)},r:vn,s:function(e,t){var n=hn(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(fn=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+hn(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},xn=function(e){return e},Mn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];dn=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var o=e.length,i=[],a=0,l=t[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(e.substring(o-=l,o+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return i.reverse().join(n)}):xn,o=e.currency,i=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):xn,l=e.percent||"%";function u(e){var t=(e=sn(e)).fill,n=e.align,u=e.sign,s=e.symbol,c=e.zero,f=e.width,d=e.comma,p=e.precision,m=e.trim,h=e.type;"n"===h?(d=!0,h="g"):bn[h]||(null==p&&(p=12),m=!0,h="g"),(c||"0"===t&&"="===n)&&(c=!0,t="0",n="=");var g="$"===s?o[0]:"#"===s&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",y="$"===s?o[1]:/[%p]/.test(h)?l:"",v=bn[h],b=/[defgprs%]/.test(h);function x(e){var o,l,s,x=g,M=y;if("c"===h)M=v(e)+M,e="";else{var O=(e=+e)<0;if(e=v(Math.abs(e),p),m&&(e=yn(e)),O&&0==+e&&(O=!1),x=(O?"("===u?u:"-":"-"===u||"("===u?"":u)+x,M=("s"===h?Mn[8+fn/3]:"")+M+(O&&"("===u?")":""),b)for(o=-1,l=e.length;++o<l;)if(48>(s=e.charCodeAt(o))||s>57){M=(46===s?i+e.slice(o+1):e.slice(o))+M,e=e.slice(0,o);break}}d&&!c&&(e=r(e,1/0));var w=x.length+e.length+M.length,S=w<f?new Array(f-w+1).join(t):"";switch(d&&c&&(e=r(S+e,S.length?f-M.length:1/0),S=""),n){case"<":e=x+e+M+S;break;case"=":e=x+S+e+M;break;case"^":e=S.slice(0,w=S.length>>1)+x+e+M+S.slice(w);break;default:e=S+x+e+M}return a(e)}return p=null==p?6:/[gprs]/.test(h)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),x.toString=function(){return e+""},x}return{format:u,formatPrefix:function(e,t){var n=u(((e=sn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(gn(t)/3))),o=Math.pow(10,-r),i=Mn[8+r/3];return function(e){return n(o*e)+i}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),pn=dn.format,mn=dn.formatPrefix;var On=function(e,t,n,r){var o,i=Qe(e,t,n);switch((r=sn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gn(t)/3)))-gn(Math.abs(e)))}(i,a))||(r.precision=o),mn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gn(t)-gn(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-gn(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return pn(r)};function wn(){var e=an(Qt,Qt);return e.copy=function(){return on(e,wn())},ln.apply(e,arguments),function(e){var t=e.domain;return e.ticks=function(e){var n=t();return Je(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return On(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o=t(),i=0,a=o.length-1,l=o[i],u=o[a];return u<l&&(r=l,l=u,u=r,r=i,i=a,a=r),(r=Ye(l,u,n))>0?r=Ye(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=Ye(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,n)),r>0?(o[i]=Math.floor(l/r)*r,o[a]=Math.ceil(u/r)*r,t(o)):r<0&&(o[i]=Math.ceil(l*r)/r,o[a]=Math.floor(u*r)/r,t(o)),e},e}(e)}function Sn(e,t){return e&&t&&e.qTicks.length===t.qTicks.length&&e.qTicks.every((function(e,n){return e.qStart===t.qTicks[n].qStart&&e.qEnd===t.qTicks[n].qEnd}))}function kn(e){for(var t=e.qAxis,n=[],r=[],o=0;o<t.length;o++){var i=o+1,a=t[o],l=t[i];Sn(a,l)?(l.qTags.indexOf("$qualified")>-1?(n.push(i),r.push(o)):(n.push(o),r.push(i)),o++):(n.push(o),r.push(o))}return{qualified:n,nonQualified:r}}function Cn(e){var t=e.qualifiedMeta,n=e.nonQualifiedMeta;return{resolve:function(e){for(var r,o=NaN,i=NaN,a=NaN,l=!1,u=t.length-1;u>=0;u--){var s=t[u];if(s.queries.outer(e)){var c=n[u+1];if(o=s.index,r=u,s.attrs.isDayOrShorter()&&s.queries.canFitHalfDayTicks(e)){i="auto",l=!0;break}if(c&&c.queries.inner(e)){i=c.index;var f=n[u+2];f&&f.queries.minor(e)&&(a=f.index);break}}}if(!Number.isNaN(o)&&Number.isNaN(i)&&"auto"!==i){i=o,o=NaN;var d=n[r+1];d&&d.queries.minor(e)&&(a=d.index)}else Number.isNaN(o)&&(o="auto",i="auto");return{outer:o,inner:i,minor:a,isDayOrShorter:l}}}}function En(e){return function(e){if(Array.isArray(e))return An(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qn=16;function Dn(e){var t=e.qTicks,n=e.measureText,r=void 0===n?function(){return{width:0}}:n,o=e.cache,i=void 0===o?{}:o,a=e.scale,l=i;return{isDayOrShorter:function(){return l.isDayOrShorter=t.length>0&&Math.abs(t[0].qStart-t[0].qEnd)<=1,l.isDayOrShorter},count:function(){return t.length},maxRange:function(){return l.maxRange=t.length?Math.max.apply(Math,En(t.map((function(e){return Math.abs(a(e.qStart)-a(e.qEnd))})))):0,l.maxRange},rangeAndWidth:function(){var e=a.clamp();return a.clamp(!1),l.rangeAndWidth=t.map((function(e){return{range:Math.abs(a(e.qStart)-a(e.qEnd)),width:r("".concat(e.qText)).width+qn}})),a.clamp(e),l.rangeAndWidth}}}var Tn=6;function Nn(e){var t=e.attrs,n=e.reqAutoFitWidth;return{outer:function(e){return!t.rangeAndWidth().some((function(t){return t.width>t.range*e}))},inner:function(e){return!t.rangeAndWidth().some((function(t){return t.width>t.range*e}))},minor:function(e){return t.maxRange()*e>=Tn},canFitHalfDayTicks:function(e){return e>=n*t.count()}}}function Ln(e){var t=e.qualified,n=e.nonQualified,r=e.qAxis,o=e.measureText,i=e.reqAutoFitWidth,a=e.scale,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{attributesFactory:Dn,queryFactory:Nn},u=l.attributesFactory,s=void 0===u?Dn:u,c=l.queryFactory,f=void 0===c?Nn:c;var d=r.map((function(e,t){return function(e,t){var n=e.qTicks,r=s({qTicks:n,measureText:o,scale:a});return{data:e,index:t,attrs:r,queries:f({attrs:r,reqAutoFitWidth:i})}}(e,t)})),p=t.map((function(e){return d[e]})),m=n.map((function(e){return d[e]}));return{qAxisMeta:d,qualifiedMeta:p,nonQualifiedMeta:m}}function In(e){var t=e.qAxis,n=void 0===t?[]:t,r=e.measureText,o=void 0===r?function(){return{width:0}}:r,i=e.cache,a=void 0===i?{}:i,l=e.reqAutoFitWidth,u=void 0===l?0:l,s=e.scale,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{metaFactory:Ln,mapper:kn,resolver:Cn},f=c.metaFactory,d=void 0===f?Ln:f,p=c.mapper,m=void 0===p?kn:p,h=c.resolver,g=void 0===h?Cn:h,y=m({qAxis:n}),v=y.qualified,b=y.nonQualified,x=d({qAxis:n,qualified:v,nonQualified:b,measureText:o,reqAutoFitWidth:u,scale:s}),M=g({qualifiedMeta:x.qualifiedMeta,nonQualifiedMeta:x.nonQualifiedMeta});return{resolve:function(e){var t=a.key({distance:e});if(a.get(t))return a.get(t);if(function(e){return!Array.isArray(e)||0===e.length||e.every((function(e){return 0===e.qTicks.length}))}(n))return{outer:"auto",inner:"auto",minor:NaN,isDayOrShorter:!1};var r=M.resolve(e);return a.set(t,r),r}}}var jn=new Date,Pn=new Date;function Rn(e,t,n,r){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,l=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return l;do{l.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return l},o.filter=function(n){return Rn((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return jn.setTime(+t),Pn.setTime(+r),e(jn),e(Pn),Math.floor(n(jn,Pn))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var _n=Rn((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));_n.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Rn((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var zn=_n,Fn=(_n.range,Rn((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Un=(Fn.range,6e4),Hn=6048e5;function Bn(e){return Rn((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Un)/Hn}))}var Vn=Bn(0),Wn=Bn(1),Gn=Bn(2),Kn=Bn(3),$n=Bn(4),Xn=Bn(5),Zn=Bn(6),Jn=(Vn.range,Wn.range,Gn.range,Kn.range,$n.range,Xn.range,Zn.range,Rn((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Un)/864e5}),(function(e){return e.getDate()-1}))),Yn=Jn,Qn=(Jn.range,Rn((function(e){var t=e.getTimezoneOffset()*Un%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),er=(Qn.range,Rn((function(e){e.setTime(Math.floor(e/Un)*Un)}),(function(e,t){e.setTime(+e+t*Un)}),(function(e,t){return(t-e)/Un}),(function(e){return e.getMinutes()}))),tr=(er.range,Rn((function(e){e.setTime(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),nr=tr,rr=(tr.range,Rn((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));rr.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Rn((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):rr:null};var or=rr;rr.range;function ir(e){return Rn((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Hn}))}var ar=ir(0),lr=ir(1),ur=ir(2),sr=ir(3),cr=ir(4),fr=ir(5),dr=ir(6),pr=(ar.range,lr.range,ur.range,sr.range,cr.range,fr.range,dr.range,Rn((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),mr=pr,hr=(pr.range,Rn((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));hr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Rn((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var gr=hr;hr.range;function yr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function br(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var xr,Mr,Or={"-":"",_:" ",0:"0"},wr=/^\s*\d+/,Sr=/^%/,kr=/[\\^$*+?|[\]().{}]/g;function Cr(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Er(e){return e.replace(kr,"\\$&")}function Ar(e){return new RegExp("^(?:"+e.map(Er).join("|")+")","i")}function qr(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Dr(e,t,n){var r=wr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Tr(e,t,n){var r=wr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Nr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Lr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ir(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jr(e,t,n){var r=wr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Pr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _r(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function zr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Fr(e,t,n){var r=wr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ur(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Hr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Br(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Vr(e,t,n){var r=wr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Wr(e,t,n){var r=wr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gr(e,t,n){var r=Sr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Kr(e,t,n){var r=wr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $r(e,t,n){var r=wr.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function Xr(e,t){return Cr(e.getDate(),t,2)}function Zr(e,t){return Cr(e.getHours(),t,2)}function Jr(e,t){return Cr(e.getHours()%12||12,t,2)}function Yr(e,t){return Cr(1+Yn.count(zn(e),e),t,3)}function Qr(e,t){return Cr(e.getMilliseconds(),t,3)}function eo(e,t){return Qr(e,t)+"000"}function to(e,t){return Cr(e.getMonth()+1,t,2)}function no(e,t){return Cr(e.getMinutes(),t,2)}function ro(e,t){return Cr(e.getSeconds(),t,2)}function oo(e){var t=e.getDay();return 0===t?7:t}function io(e,t){return Cr(Vn.count(zn(e),e),t,2)}function ao(e,t){var n=e.getDay();return e=n>=4||0===n?$n(e):$n.ceil(e),Cr($n.count(zn(e),e)+(4===zn(e).getDay()),t,2)}function lo(e){return e.getDay()}function uo(e,t){return Cr(Wn.count(zn(e),e),t,2)}function so(e,t){return Cr(e.getFullYear()%100,t,2)}function co(e,t){return Cr(e.getFullYear()%1e4,t,4)}function fo(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cr(t/60|0,"0",2)+Cr(t%60,"0",2)}function po(e,t){return Cr(e.getUTCDate(),t,2)}function mo(e,t){return Cr(e.getUTCHours(),t,2)}function ho(e,t){return Cr(e.getUTCHours()%12||12,t,2)}function go(e,t){return Cr(1+mr.count(gr(e),e),t,3)}function yo(e,t){return Cr(e.getUTCMilliseconds(),t,3)}function vo(e,t){return yo(e,t)+"000"}function bo(e,t){return Cr(e.getUTCMonth()+1,t,2)}function xo(e,t){return Cr(e.getUTCMinutes(),t,2)}function Mo(e,t){return Cr(e.getUTCSeconds(),t,2)}function Oo(e){var t=e.getUTCDay();return 0===t?7:t}function wo(e,t){return Cr(ar.count(gr(e),e),t,2)}function So(e,t){var n=e.getUTCDay();return e=n>=4||0===n?cr(e):cr.ceil(e),Cr(cr.count(gr(e),e)+(4===gr(e).getUTCDay()),t,2)}function ko(e){return e.getUTCDay()}function Co(e,t){return Cr(lr.count(gr(e),e),t,2)}function Eo(e,t){return Cr(e.getUTCFullYear()%100,t,2)}function Ao(e,t){return Cr(e.getUTCFullYear()%1e4,t,4)}function qo(){return"+0000"}function Do(){return"%"}function To(e){return+e}function No(e){return Math.floor(+e/1e3)}!function(e){xr=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,s=Ar(o),c=qr(o),f=Ar(i),d=qr(i),p=Ar(a),m=qr(a),h=Ar(l),g=qr(l),y=Ar(u),v=qr(u),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:Xr,e:Xr,f:eo,H:Zr,I:Jr,j:Yr,L:Qr,m:to,M:no,p:function(e){return o[+(e.getHours()>=12)]},Q:To,s:No,S:ro,u:oo,U:io,V:ao,w:lo,W:uo,x:null,X:null,y:so,Y:co,Z:fo,"%":Do},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:po,e:po,f:vo,H:mo,I:ho,j:go,L:yo,m:bo,M:xo,p:function(e){return o[+(e.getUTCHours()>=12)]},Q:To,s:No,S:Mo,u:Oo,U:wo,V:So,w:ko,W:Co,x:null,X:null,y:Eo,Y:Ao,Z:qo,"%":Do},M={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=m[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:zr,e:zr,f:Wr,H:Ur,I:Ur,j:Fr,L:Vr,m:_r,M:Hr,p:function(e,t,n){var r=s.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:Kr,s:$r,S:Br,u:Tr,U:Nr,V:Lr,w:Dr,W:Ir,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:Pr,Y:jr,Z:Rr,"%":Gr};function O(e,t){return function(n){var r,o,i,a=[],l=-1,u=0,s=e.length;for(n instanceof Date||(n=new Date(+n));++l<s;)37===e.charCodeAt(l)&&(a.push(e.slice(u,l)),null!=(o=Or[r=e.charAt(++l)])?r=e.charAt(++l):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),u=l+1);return a.push(e.slice(u,l)),a.join("")}}function w(e,t){return function(n){var r,o,i=br(1900);if(S(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=vr(br(i.y))).getUTCDay(),r=o>4||0===o?lr.ceil(r):lr(r),r=mr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=t(br(i.y))).getDay(),r=o>4||0===o?Wn.ceil(r):Wn(r),r=Yn.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?vr(br(i.y)).getUTCDay():t(br(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,vr(i)):t(i)}}function S(e,t,n,r){for(var o,i,a=0,l=t.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=M[o in Or?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=O(n,b),b.X=O(r,b),b.c=O(t,b),x.x=O(n,x),x.X=O(r,x),x.c=O(t,x),{format:function(e){var t=O(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",yr);return t.toString=function(){return e},t},utcFormat:function(e){var t=O(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e,vr);return t.toString=function(){return e},t}}}(e),xr.format,xr.parse,Mr=xr.utcFormat,xr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Lo=function(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e},Io=1e3,jo=60*Io,Po=60*jo,Ro=24*Po,_o=7*Ro,zo=30*Ro,Fo=365*Ro;function Uo(e){return new Date(e)}function Ho(e){return e instanceof Date?+e:+new Date(+e)}function Bo(e,t,n,r,o,i,a,l,u){var s=an(Qt,Qt),c=s.invert,f=s.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),h=u("%I %p"),g=u("%a %d"),y=u("%b %d"),v=u("%B"),b=u("%Y"),x=[[a,1,Io],[a,5,5*Io],[a,15,15*Io],[a,30,30*Io],[i,1,jo],[i,5,5*jo],[i,15,15*jo],[i,30,30*jo],[o,1,Po],[o,3,3*Po],[o,6,6*Po],[o,12,12*Po],[r,1,Ro],[r,2,2*Ro],[n,1,_o],[t,1,zo],[t,3,3*zo],[e,1,Fo]];function M(l){return(a(l)<l?d:i(l)<l?p:o(l)<l?m:r(l)<l?h:t(l)<l?n(l)<l?g:y:e(l)<l?v:b)(l)}function O(t,n,r,o){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(r-n)/t,a=tt((function(e){return e[2]})).right(x,i);a===x.length?(o=Qe(n/Fo,r/Fo,t),t=e):a?(o=(a=x[i/x[a-1][2]<x[a][2]/i?a-1:a])[1],t=a[0]):(o=Math.max(Qe(n,r,t),1),t=l)}return null==o?t:t.every(o)}return s.invert=function(e){return new Date(c(e))},s.domain=function(e){return arguments.length?f($t.call(e,Ho)):f().map(Uo)},s.ticks=function(e,t){var n,r=f(),o=r[0],i=r[r.length-1],a=i<o;return a&&(n=o,o=i,i=n),n=(n=O(e,o,i,t))?n.range(o,i+1):[],a?n.reverse():n},s.tickFormat=function(e,t){return null==t?M:u(t)},s.nice=function(e,t){var n=f();return(e=O(e,n[0],n[n.length-1],t))?f(Lo(n,e)):s},s.copy=function(){return on(s,Bo(e,t,n,r,o,i,a,l,u))},s}var Vo=Rn((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Wo=Vo,Go=(Vo.range,Rn((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),Ko=Go,$o=(Go.range,Rn((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Un)}),(function(e,t){return(t-e)/Un}),(function(e){return e.getUTCMinutes()}))),Xo=$o,Zo=($o.range,function(){return ln.apply(Bo(gr,Wo,ar,mr,Ko,Xo,nr,or,Mr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),Jo=86400,Yo=864e5;function Qo(e){return new Date(Date.UTC(1899,11,30+Math.floor(e),0,0,0,Math.round(Yo*(e-Math.floor(e)))))}var ei=Qo(0).getTime();function ti(e){return(e.getTime()-ei)/Jo/1e3}var ni=new Date,ri=new Date;function oi(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,l=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return l;do{l.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return l},o.filter=function(n){return oi((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return ni.setTime(+t),ri.setTime(+r),e(ni),e(ri),Math.floor(n(ni,ri))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var ii=6048e5,ai=oi((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})),li=ai,ui=(ai.range,oi((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),si=ui,ci=(ui.range,oi((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}))),fi=ci,di=(ci.range,oi((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),pi=di;di.range;function mi(e){return oi((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/ii}))}var hi=mi(0),gi=mi(1),yi=mi(2),vi=mi(3),bi=mi(4),xi=mi(5),Mi=mi(6),Oi=(hi.range,gi.range,yi.range,vi.range,bi.range,xi.range,Mi.range,oi((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),wi=Oi,Si=(Oi.range,oi((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));Si.every=function(e){return isFinite(e=Math.floor(e))&&e>0?oi((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ki=Si,Ci=(Si.range,{second:1,minute:2,hour:3,day:4,month:5,year:6});function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ai(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qi(e){var t,n=e.timeScale,r=e.labels,o=e.distance,i=e.isDayOrShorter,a=e.cache,l=Ei(n.domain(),2),u=l[0],s=l[1],c=a.key({distance:o});a.get(c,1)?t=a.get(c,1):(t=function(e,t,n,r,o){var i=si.count(e,t),a=fi.count(e,t),l=pi.count(e,t),u=li.count(e,t),s=hi.count(e,t),c=wi.count(e,t),f=ki.count(e,t),d=n/r.second.width-1,p=n/r.minute.width-1,m=n/r.date.width-1,h=n/r.year.width-1,g={type:"year",desc:"year",count:f,interval:ki.every(1),formatter:r.year.formatter};return i<=d?(g.type=Ci.second,g.desc="second",g.count=i,g.interval=si.every(1),g.formatter=r.second.formatter):i/2<=d?(g.type=Ci.second,g.desc="every other second",g.count=i/2,g.interval=si.every(2),g.formatter=r.second.formatter):i/5<=d?(g.type=Ci.second,g.desc="every 5 second",g.count=i/5,g.interval=si.every(5),g.formatter=r.second.formatter):i/15<=d?(g.type=Ci.second,g.desc="every 15 second",g.count=i/15,g.interval=si.every(15),g.formatter=r.second.formatter):i/30<=d?(g.type=Ci.second,g.desc="every 30 second",g.count=i/30,g.interval=si.every(30),g.formatter=r.second.formatter):a<=p?(g.type=Ci.minute,g.desc="minute",g.count=a,g.interval=fi.every(1),g.formatter=r.minute.formatter):a/2<=p?(g.type=Ci.minute,g.desc="every 2 minute",g.count=a/2,g.interval=fi.every(2),g.formatter=r.minute.formatter):a/5<=p?(g.type=Ci.minute,g.desc="every 5 minute",g.count=a/5,g.interval=fi.every(5),g.formatter=r.minute.formatter):a/10<=p?(g.type=Ci.minute,g.desc="every 10 minute",g.count=a/10,g.interval=fi.every(10),g.formatter=r.minute.formatter):a/15<=p?(g.type=Ci.minute,g.desc="every 15 minute",g.count=a/15,g.interval=fi.every(15),g.formatter=r.minute.formatter):a/30<=p?(g.type=Ci.minute,g.desc="every 30 minute",g.count=a/30,g.interval=fi.every(30),g.formatter=r.minute.formatter):l<=p?(g.type=Ci.hour,g.desc="hour",g.count=l,g.interval=pi.every(1),g.formatter=r.minute.formatter):l/2<=p?(g.type=Ci.hour,g.desc="every 2 hour",g.count=l/2,g.interval=pi.every(2),g.formatter=r.minute.formatter):l/3<=p?(g.type=Ci.hour,g.desc="every 3 hour",g.count=l/3,g.interval=pi.every(3),g.formatter=r.minute.formatter):l/6<=p?(g.type=Ci.hour,g.desc="every 6 hour",g.count=l/6,g.interval=pi.every(6),g.formatter=r.minute.formatter):l/12<=p||o?(g.type=Ci.hour,g.desc="every 12 hour",g.count=l/12,g.interval=pi.every(12),g.formatter=r.minute.formatter):u<=m?(g.type=Ci.day,g.desc="day",g.count=u,g.interval=li.every(1),g.formatter=r.date.formatter):u/2<=m?(g.type=Ci.day,g.desc="every 2 day",g.count=u/2,g.interval=li.every(2),g.formatter=r.date.formatter):u/3<=m?(g.type=Ci.day,g.desc="every 3 day",g.count=u/3,g.interval=li.every(3),g.formatter=r.date.formatter):s<=m?(g.type=Ci.day,g.desc="week",g.count=s,g.interval=hi.every(1),g.formatter=r.date.formatter):s/2<=m?(g.type=Ci.day,g.desc="every 2 week",g.count=s/2,g.interval=hi.every(2),g.formatter=r.date.formatter):c<=m?(g.type=Ci.month,g.desc="month",g.count=c,g.interval=wi.every(1),g.formatter=r.date.formatter):c/3<=m?(g.type=Ci.month,g.desc="quarter",g.count=c/3,g.interval=wi.every(3),g.formatter=r.date.formatter):c/6<=m?(g.type=Ci.month,g.desc="half year",g.count=c/6,g.interval=wi.every(6),g.formatter=r.date.formatter):f<=h?(g.type=Ci.year,g.desc="year",g.count=f,g.interval=ki.every(1),g.formatter=r.year.formatter):f/2<=h?(g.type=Ci.year,g.desc="every 2 year",g.count=f/2,g.interval=ki.every(2),g.formatter=r.year.formatter):f/5<=h?(g.type=Ci.year,g.desc="every 5 year",g.count=f/5,g.interval=ki.every(5),g.formatter=r.year.formatter):f/10<=h?(g.type=Ci.year,g.desc="every 10 year",g.count=f/10,g.interval=ki.every(10),g.formatter=r.year.formatter):(g.type=Ci.year,g.desc="every nth year",g.count=Math.floor(f/h),g.interval=ki.every(Math.floor(f/h)),g.formatter=r.year.formatter),g}(u,s,o,r.all(),i),a.set(c,t,1));var f=n.ticks(t.interval).map((function(e,n,r){var o=r[n+1]?r[n+1]-e:s-e;return{start:e,end:new Date(e.getTime()+o),formatter:t.formatter}})),d=[];if(t.type<=Ci.hour){var p=r.getFormat("date"),m=n.ticks(li.every(1));d=(m.length?m:[u]).map((function(e,t,n){var r=n[t+1]?n[t+1]-e:s-e;return{start:e,end:new Date(e.getTime()+r),formatter:p.formatter}}))}return{inner:f,outer:d}}function Di(e){return function(e){if(Array.isArray(e))return Ti(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ti(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ni=86400,Li=1440,Ii={};function ji(e,t,n,r){return{type:e,start:new Date(Date.UTC.apply(Date,Di(t))),end:new Date(Date.UTC.apply(Date,Di(n))),formatter:r}}function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zi(e,t,n){var r=t.ticks,o=r.generator,i=r.anchor,a=r.clamp,l=r.level,u=t.formatter.qNumFormat;e.clamp(a);var s=Ri(e.domain(),2),c=s[0],f=s[1],d=Zo().domain([Qo(c),Qo(f)]);d.clamp(a),d.range(t.invert?[1,0]:[0,1]);var p,m="object"===Pi(o)?o.type:o;p="d3"===m?function(e,r){return qi({timeScale:d,labels:n,distance:e,isDayOrShorter:r,cache:t.cache})}:function(e){return function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(Ii[[t,n,r,r,i]])return Ii[[t,n,r,r,i]];var a,l,u,s={year:e.getFormat("year"),date:e.getFormat("date"),minute:e.getFormat("minute"),second:e.getFormat("second")},c=Qo(n),f=c.getFullYear(),d=c.getMonth(),p=c.getDate(),m=r-n,h=t/(o-r),g=h/1440,y=h/Ni,v=366*h,b=3*h*30,x=s.second.width/y,M=s.minute.width/g,O=s.date.width/b,w=s.year.width/v,S=0,k=0,C=null,E=null,A=null,q=null,D=null,T=null,N={outer:[],inner:[]};for(x<1?(C=1,k=1/Ni):x<2?(C=2,k=1/Ni*2):x<5?(C=5,k=1/Ni*5):x<10?(C=10,k=1/Ni*10):x<30?(C=30,k=1/Ni*30):M<1?(E=1,k=1/Li):M<2?(E=2,k=1/Li*2):M<5?(E=5,k=1/Li*5):M<10?(E=10,k=1/Li*10):M<30?(E=30,k=1/Li*30):M<60?(A=1,k=1/24):M<120?(A=2,k=2/24):M<360?(A=6,k=.25):M<720?(A=12,k=.5):O<1/90?(k=1,q=1):O<2/90?(k=2,q=2):O<7/90?(k=7,q=7):O<31/90?(D=1,k=31):O<1?(D=3,k=90):w<1?(T=1,k=366):w<2?(T=2,k=732):w<5?(T=5,k=1826.25):(T=10,k=3652.5),l=Math.floor((m+n%1)/k);S<o;){u=l+1,S=ti((a=T?ji("year",[f+l*T,0,1],[f+u*T,0,1],s.year.formatter):D?ji("month",[f,d+l*D,1],[f,d+u*D,1],s.date.formatter):q?ji("day",[f,d,p+l*q],[f,d,p+u*q],s.date.formatter):A?ji("hour",[f,d,p,0+l*A],[f,d,p,0+u*A],s.minute.formatter):E?ji("minute",[f,d,p,0,0+l*E],[f,d,p,0,0+u*E],s.minute.formatter):ji("second",[f,d,p,0,0,0+l*C],[f,d,p,0,0,0+u*C],s.second.formatter)).start),N.inner.push(a);var L=Math.floor(S);if(!(i||T||D||q)){var I={type:"day",start:Qo(L),end:Qo(L+1),formatter:s.date.formatter,qStart:L};N.outer[N.outer.length-1]&&N.outer[N.outer.length-1].qStart===I.qStart||N.outer.push(I)}l++}return N.min=r,N.max=o,Ii[[t,n,r,r,i]]=N,N}(n,e,o.min,c,f,"T"===u.qType)};var h={transform:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isMinor,o=void 0!==r&&r;return t.map((function(t){var n;n="start"===i?t.qStart:"end"===i?t.qEnd:(t.qStart+t.qEnd)/2;var r=e.clamp();o&&e.clamp(!1);var a=e(n),l=e(t.qStart),u=e(t.qEnd);return e.clamp(r),{value:n,position:a,start:l,end:u,label:t.qText,isMinor:o,data:o?void 0:{start:t.qStart,end:t.qEnd,scaleStart:e.domain()[0]}}})).filter((function(e){return e.position>=0&&e.position<=1}))},generate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1?arguments[1]:void 0,r=p(t,n),o=r[l];return o.map((function(t){var n;return n="start"===i?ti(t.start):"end"===i?ti(t.end):(ti(t.start)+ti(t.end))/2,{position:d(t.start),start:d(t.start),end:d(t.end),value:n,label:t.formatter(n),isMinor:!1,data:{start:ti(t.start),end:ti(t.end),scaleStart:e.domain()[0]}}})).filter((function(e){return e.position>=0&&e.position<=1}))}};return h}var Fi=41000.2343433,Ui=/t+/i,Hi=16,Bi=60;function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e){return function(e){if(Array.isArray(e))return Gi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ki={min:NaN,max:NaN,invert:!1,qAxis:[],field:void 0,formatter:{fn:function(){return function(e){return e}},measureText:function(){return{width:0,height:0}},localeInfo:{},qNumFormat:{}},ticks:{generator:"d3",level:"outer",anchor:void 0,clamp:!1},cache:{get:function(){return!1},set:function(){},key:function(){return""}}};function $i(e,t){e.instance||(e.instance=t.copy(),e.instance.domain(t.domain()),e.instance.clamp(!0),e.instance.range(e.invert?[1,0]:[0,1]))}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zi="continuousPan",Ji=10;var Yi={model:function(e){var t,n,r,i=e.model,a=e.layoutModel,l=e.trendLineModel,u=void 0===l?Le:l,s=e.viewCache,c=e.viewState,f=e.definitionPath,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=d.engineFetcherFactory,m=void 0===p?te:p,h=d.snapshotFetcherFactory,g=void 0===h?re:h,y=d.cacheFetcherFactory,v=void 0===y?ne:y,b=d.cache,x=void 0===b?{initial:{},merged:{}}:b,M=m({model:i,layoutModel:a,definitionPath:f}),O=g({layoutModel:a,viewCache:s}),w=v({cache:x}),S=function(e){throw 8===e.code&&"Start and End are outside data range"===e.parameter&&(e.isHandled=!0),e};return{update:function(e){var o,i,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.qMin,n=e.qMax;return{initialMin:t=Number.isNaN(+t)?0:t,initialMax:n=Number.isNaN(+n)?0:n}}(e.qHyperCube.qDimensionInfo[0]);if(n=l.initialMin,r=l.initialMax,s.set("continuousMin",n),s.set("continuousMax",r),s.set("minimiumZoomSpan",(o=n,i=r,Math.max(Ee,(i-o)*Ae))),t=a.meta.isSnapshot?O:M,a.meta.isSnapshot){var u=O.getSnapshotData().zoom;n=u.min,r=u.max}c.preventSet("zoom",{min:n,max:r})},updateLayout:function(e){var t=e.qDataPages,n=e.qAxisData;return a.setHyperCubeValue("qDataPages",t),a.setHyperCubeValue("qAxisData",n),a.setHyperCubeValue("qMode","S"),u.command.update(),e},initialFetch:function(){var e=this;return t.fetch(n,r).then((function(e){var t=function(e){return{qDataPages:e.qDataPages.map((function(e){var t=se(e.qArea,e.qMatrix);return we(we({},e),{},{qArea:t})})),qAxisData:e.qAxisData}}(e);return x.initial=t,x.merged=t,e})).then((function(e){return pe(n,r,e)})).then((function(t){return e.updateLayout(t)})).catch(S)},fetch:function(e,n){return t.fetch(e,n).then((function(e){return Me(x.initial,e)})).then((function(e){return x.merged=e,e})).then((function(t){return pe(e,n,t)})).catch(S)},fetchFromCache:function(e,t){return w.fetch(e,t).then((function(n){return pe(e,t,n)}))},fetchMinMaxData:function(){return Promise.resolve(x.initial.qDataPages)},getInitialCube:function(){var e=a.getHyperCube();return o()({},e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},x.initial))},getInitialLayout:function(){var e=this.getInitialCube();return o()({},a.getLayout(),{qHyperCube:e})},getDimensionCardinality:function(){return De(x.initial,a.meta)},setSnapshotData:function(e){var t=e.qHyperCube;t.qDataPages=x.merged.qDataPages,t.qAxisData=x.merged.qAxisData}}},event:{onZoomChange:function(e,t){var n=e.layoutModel,r=e.continuousDataModel;function o(e,n,o){return r[e](n,o).then((function(e){return r.updateLayout(e),t(),e}))}var i=Ie((function(e,t){return o("fetch",e,t)}),50);return function(e,t){var r=e.min,a=e.max,l=t.min,u=t.max;return!n.meta.isContinuous||r===l&&a===u?Promise.resolve(null):o("fetchFromCache",r,a).then((function(e){return i(r,a),e}))}},onZoomIntercept:function(e){var t=e.viewCache,n=NaN,r=NaN,o=NaN;return function(e,i){return n=t.get("continuousMin"),r=t.get("continuousMax"),o=t.get("minimiumZoomSpan"),Math.abs(e.max-e.min)<o?i:{min:Math.min(e.max,Math.max(n,e.min)),max:Math.max(e.min,Math.min(r,e.max))}}},onZoom:function(e,t){var n=e.viewCache,r=e.viewState,o=e.chart,i=t.threshold,a=void 0===i?50:i,l=t.rtl,u=void 0!==l&&l,s=t.targetKey,c=n.get("continuousMin"),f=n.get("continuousMax");return A((function(e,t){var n=function(e){return o.componentsFromPoint(e).filter((function(e){return e.key===s}))[0]}(e);if(n){var i=function(e,t,n){var r=e.x;return r-=t.element.getBoundingClientRect().left,r-=n.rect.x,Math.max(0,Math.min(1,r/n.rect.width))}(e,o,n),a=u?1-i:i,l=r.get("zoom"),d=l.min,p=l.max,m=Math.abs(p-d),h=m-(t>0?Ce:ke)*m,g=d+h*a,y=p-h*(1-a),v=g<c?c-g:0,b=y>f?y-f:0;r.set("zoom",{min:Math.max(g-b,c),max:Math.min(y+v,f)})}}),a)}},interactions:{areaPan:function(e){var t,n=e.targetKey,r=e.chart,o=e.actions,i=e.viewState,a=e.viewCache;return{type:"Pan",key:"continuous:pan",options:{event:Zi,pointers:1,threshold:Ji,enable:function(e,t){return this.started===Zi||!t||!!o.scroll.enabled()&&r.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===n}))}},events:(t={},Xi(t,"".concat(Zi,"start"),(function(e){e.preventDefault(),this.started=Zi;var t=i.get("zoom"),o=t.min,a=t.max;this[Zi]={min:o,max:a,size:r.component(n).rect.computedInner.width,span:a-o}})),Xi(t,"".concat(Zi,"move"),(function(e){e.preventDefault();var t=this[Zi],n=t.span,r=t.min,o=t.max,l=t.size,u=-e.deltaX/l;i.set("zoom",{min:Math.min(r+u*n,a.get("continuousMax")-n),max:Math.max(o+u*n,a.get("continuousMin")+n)})})),Xi(t,"".concat(Zi,"end"),(function(e){e.preventDefault(),this.started=!1})),Xi(t,"".concat(Zi,"cancel"),(function(e){e.preventDefault(),this.started=!1})),t)}}},picassoComponents:{axisOverlay:Re,timeAxis:Ke},picassoScales:{time:function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e,t,n){var r={};return Object.keys(t).forEach((function(i){var a=e[i],l=Vi(a);"function"===l?r[i]=a(n):"object"!==l||Array.isArray(a)?r[i]="undefined"===l?t[i]:a:r[i]=o()(!0,{},t[i],a)})),r}(t,Ki,i),l=a.qAxis,u=wn(),s={instance:null,invert:!1},c=function(e,t){var n=+e.min,r=+e.max;return Number.isNaN(n)&&Number.isNaN(r)&&Array.isArray(t)&&t.length&&(n=Math.min.apply(Math,Wi(t[t.length-1].qTicks.map((function(e){return e.qStart})))),r=Math.max.apply(Math,Wi(t[t.length-1].qTicks.map((function(e){return e.qEnd}))))),n===r&&(n-=.5,r+=.5),{min:Number.isNaN(+n)?0:n,max:Number.isNaN(+r)?1:r}}(a,l),f=c.min,d=c.max,p=[],m=function(e){return Number.isNaN(+e)?NaN:u(e)};m.ticks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.distance,o=e.resolve,i=void 0===o?n.resolve:o,u=i(t),s=u[a.ticks.level];if(Number.isNaN(+s)||(p=r.transform(l[s].qTicks,{isMinor:!1})),!Number.isNaN(+u.minor)){var c=r.transform(l[u.minor].qTicks,{isMinor:!0});p=p.concat(c)}return"auto"===s&&(p=r.generate(t,u.isDayOrShorter)),p},m.invert=function(e){return u.invert(e)},m.domain=function(e){return Array.isArray(e)?u.domain(e):u.domain()},m.range=function(e){return Array.isArray(e)?u.range(e):u.range()},m.norm=function(e){return $i(s,m),s.instance(e)},m.normInvert=function(e){return $i(s,m),s.instance.invert(e)},m.copy=function(){return e(t,i)},m.clamp=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return u.clamp(e),u.clamp()},m.min=function(){return Math.min(f,d)},m.max=function(){return Math.max(f,d)},u.range(a.invert?[1,0]:[0,1]),u.domain([f,d]),s.invert=a.invert;var h=function(e){var t={},n=e.formatter,r=n.measureText,o=n.fn,i=n.localeInfo,a={second:{type:"second",pattern:"hh:mm:ss",width:Bi,formatter:void 0},minute:{type:"minute",pattern:"hh:mm",width:Bi,formatter:void 0},date:{type:"date",pattern:"YYYY-MM-DD",width:Bi,formatter:void 0},year:{type:"year",pattern:"YYYY",width:Bi,formatter:void 0}};return i&&Ui.test(i.qTimestampFmt)&&(a.minute.pattern+=" tt",a.second.pattern+=" tt"),a.date.pattern=i&&i.qDateFmt?i.qDateFmt:a.date.pattern,Object.keys(a).forEach((function(e){a[e].formatter=o(a[e].pattern),a[e].width=Math.max(a[e].width,r(a[e].formatter(Fi)).width+Hi)})),t.getFormat=function(e){return a[e]},t.all=function(){return a},t.getFormatFromTicks=function(e){var t=e.filter((function(e){return!e.isMinor})),n=t.length;if(!n)return a.date;var r=Qo(t[0].data.start),o=Qo(t[n-1].data.start);return li.count(r,o)/n>=1?a.date:pi.count(r,o)/n>0?a.minute:fi.count(r,o)/n>0?a.second:a.date},t}(a);return r=zi(u.copy(),a,h),n=In({qAxis:l,measureText:a.formatter.measureText,reqAutoFitWidth:2*h.getFormat("minute").width,cache:a.cache,scale:m}),m.data=function(){return{fields:[{formatter:m.formatter,id:function(){return"qHyperCube/".concat(a.field)},key:function(){return a.field},raw:J(i,"fields.0.raw",(function(){return{}}))}]}},m.formatter=function(){return h.getFormatFromTicks(p).formatter},m}}},Qi=n(13);var ea=n(20);function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ra(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n={},r={},o=!1,i={get:function(e){return t[e]},set:function(e,i){var a=t[e];!o&&n[e]?t[e]=n[e](i,a):t[e]=i,!o&&r[e]&&r[e](t[e],a)},preventSet:function(e,t){o=!0,i.set(e,t),o=!1},intercept:function(e,t){n[e]=t},onChanged:function(e,t){r[e]=t}};return i}var oa={CUSTOM:{EXPRESSION:"customTooltipExpression",TITLE:"customTooltipTitle",DESCRIPTION:"customTooltipDescription",QUARANTINE:"customTooltip",IMAGES:"customTooltipImages"}};function ia(e){var t=oa.CUSTOM.EXPRESSION,n=e.qDef,r=n.qNumFormat,o=n.qLabel,i=n.qLabelExpression,a=n.cId;return e.qLibraryId?{qLibraryId:e.qLibraryId,id:t,qNumFormat:r,qLabel:o,qLabelExpression:i,cId:a}:{qExpression:e.qDef.qDef,id:t,qNumFormat:r,qLabel:o,qLabelExpression:i,cId:a}}function aa(e){var t,n=null===(t=e.qHyperCubeDef)||void 0===t?void 0:t.qDimensions;return n[n.length-1].qAttributeExpressions||[]}var la={attrExpr:{migrateProperties:function(e){var t,n,r,i,a=o()(!0,{},e),l=(null===(t=a.tooltip)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.qHyperCubeDef)||void 0===r?void 0:r.qMeasures)||[],u=aa(a);return function(e,t){var n,r=null===(n=t.qHyperCubeDef)||void 0===n?void 0:n.qDimensions;r[r.length-1].qAttributeExpressions=e}(u=function(e,t){return t.concat(e.map((function(e){return ia(e)})))}(l,u),a),null===(i=a.tooltip)||void 0===i||delete i.data,a},getPatches:function(e){var t,n,r,o,i=(null===(t=e.tooltip)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.qHyperCubeDef)||void 0===r?void 0:r.qMeasures)||[],a=(null===(o=e.qHyperCubeDef)||void 0===o?void 0:o.qDimensions.length)-1;return function(e,t,n){var r=e.length,o=[];return t.forEach((function(e){var t=ia(e),i=JSON.stringify(t);o.push({qPath:"/qHyperCubeDef/qDimensions/".concat(n,"/qAttributeExpressions/").concat(r),qOp:"add",qValue:i}),r++})),o.push({qPath:"/tooltip/data",qOp:"remove"}),o}(aa(e),i,a)},checkForBackwardCompatibility:function(e,t){return(e.qMeasureInfo||[]).length>0&&t.length>0},updateProperties:function(e,t,n){var r=this;return new Promise((function(o){var i,a,l,u=(null===(i=t.qHyperCube)||void 0===i?void 0:i.qDimensionInfo)||[],s=(null===(a=t.tooltip)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.qHyperCube)||{},c=t.qMeta.privileges.includes("update");n&&n.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&e&&e.getEffectiveProperties&&r.checkForBackwardCompatibility(s,u)&&e.getEffectiveProperties().then((function(t){if(c){var n=r.migrateProperties(t);e.setProperties(n).then((function(){e.app.clearUndoBuffer(),o(!0)}))}else{var i=r.getPatches(t);e.applyPatches(i,!0).then((function(){e.app.clearUndoBuffer(),o(!0)}))}})),o(!1)}))}}},ua={extractData:function(e,t){var n=this;this.app=t.app;var r=e;return new Promise((function(e){t.model.getEffectiveProperties?t.model.getEffectiveProperties().then((function(o){n.setUpMeasures(r,o,t).then((function(r){var i=r.measures;n.updateSessionObject({measures:i},o,t).then((function(){n.sessionObj.getLayout().then((function(r){var o,i,a,l,u=t.picasso.data("q")({key:"qHyperCube",data:r.qHyperCube,config:{localeInfo:t.localeInfo}}),s=(null===(o=r.qHyperCube)||void 0===o||null===(i=o.qDataPages)||void 0===i||null===(a=i[0])||void 0===a||null===(l=a.qMatrix)||void 0===l?void 0:l[0])||[],c=n.prepareData(s,u);e(c)}))}))}))})):e({measures:[]})}))},setUpMeasures:function(e,t,n){var r=this,o=this.getChartDimensions(n.layout);return new Promise((function(i){var a=r.getPreparedMeasureList(t,o,{opts:n,dimFields:e});Promise.all(a).then((function(e){i({measures:e})}))}))},getChartDimensions:function(e){var t,n=this,r=[];return((null===(t=e.qHyperCube)||void 0===t?void 0:t.qDimensionInfo)||[]).forEach((function(e){r.push(n.extractChartDimensionFieldName(e))})),r},extractChartDimensionFieldName:function(e){var t=e.qGroupPos;return this.stripEqualSign(e.qGroupFieldDefs[t])},stripEqualSign:function(e){return"="===e.charAt(0)?e.substr(1):e},getPreparedMeasureList:function(e,t,n){var r,o,i,a=this,l=n.opts,u=n.dimFields,s=[];return((null===(r=e.tooltip)||void 0===r||null===(o=r.data)||void 0===o||null===(i=o.qHyperCubeDef)||void 0===i?void 0:i.qMeasures)||[]).forEach((function(e,n){s.push(a.extractMeasureInfo(e,n,{chartDimension:t,opts:l,dimFields:u}).then((function(e){return{qDef:e,qAttributeExpressions:[]}})))})),s},extractMeasureInfo:function(e,t,n){var r=this,o=n.chartDimension,i=n.opts,a=n.dimFields;return new Promise((function(n){if(e.qLibraryId)i.app.getMeasure(e.qLibraryId).then((function(e){e.getProperties().then((function(e){var t=JSON.parse(JSON.stringify(e.qMeasure));t.qDef=r.wrapWithSetExpression(t.qDef,o,a),t.qLabelExpression=t.qLabelExpression?r.wrapWithSetExpression(t.qLabelExpression,o,a):"",n(t)}))}));else{var l=JSON.parse(JSON.stringify(e.qDef));l.qDef=r.wrapWithSetExpression(l.qDef,o,a),l.qLabel=i.layout.tooltip.data.qHyperCube.qMeasureInfo[t].qFallbackTitle,l.qLabelExpression=l.qLabelExpression?r.wrapWithSetExpression(l.qLabelExpression,o,a):"",n(l)}}))},wrapWithSetExpression:function(e,t,n){if(t.length<1)return"".concat(e);var r="",o="";return t.forEach((function(e,i){r="".concat(r,"[").concat(e,"]={'").concat(n[i],"'}"),o="".concat(o,"[").concat(e,"]"),i+1!==t.length&&(r="".concat(r,","),o="".concat(o,","))})),"Aggr({<".concat(r,">}").concat(e,",").concat(o,")")},updateSessionObject:function(e,t,n){var r=this,o=e.measures,i=t.qStateName||"",a={qInfo:{qType:"CustomTooltip"},qHyperCubeDef:{qDimensions:[],qMeasures:o,qInterColumnSortOrder:[0],qInitialDataFetch:[{qWidth:15,qHeight:100}]},qStateName:i};return new Promise((function(e){r.sessionObj?r.sessionObj.getProperties().then((function(t){var n=t;n.qHyperCubeDef.qMeasures=o,n.qStateName=i,r.sessionObj.setProperties(n).then((function(){e()}))})):n.app.createSessionObject(a).then((function(t){r.sessionObj=t,e()}))}))},prepareData:function(e,t){return{measures:this.extractMeasures(e,t)}},extractMeasures:function(e,t){var n=[];return e.forEach((function(e,r){var o="NaN"!==e.qNum?t.field(r).formatter()(e.qNum):e.qText,i="".concat(t.field(r).title(),":");n.push({label:i,value:o})})),n},destroySessionObject:function(){this.app&&this.sessionObj&&this.app.destroyObject(this.sessionObj.id)}};function sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ca(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fa(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function da(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fa(i,r,o,a,l,"next",e)}function l(e){fa(i,r,o,a,l,"throw",e)}a(void 0)}))}}function pa(e){var t=e.split("/");return"qmem:"===t[0]&&""===t[1]}function ma(e){var t,n,r,o,i;return e&&e.session&&e.session.options||e&&e.enigmaModel&&e.enigmaModel.session&&e.enigmaModel.session.sessionConfig?(n=(void 0!==(t=e.session.options||e.enigmaModel.session.sessionConfig).secure?t.secure:t.isSecure)?"https://":"http://",r=t.host||"localhost",o=t.port?":".concat(t.port):"","/"!==(i=t.prefix?t.prefix:"/")[i.length-1]&&(i="".concat(i,"/")),n+r+o+i):""}function ha(e,t){var n=e.replace(t,"").replace(/^\.\.\//i,"/");return"/"!==n[0]?"/".concat(n):n}function ga(e,t){return t+("/"===e[0]?e.substr(1):e)}var ya={getImageSize:function(e,t){var n;function r(){n&&(clearTimeout(n),n=null)}function o(e){var t=e;t.onload=null,t.onerror=null,r()}var i={small:50,medium:200,large:340,original:340};return new Promise((function(a){var l=new Image;l.referrerPolicy="no-referrer",l.onload=function(){var e,n=l.height,u=l.width,s=i[t]*(n>u?1:n/u),c=i[t]*(u>n?1:u/n);!n||!u||0===n&&0===u?(e={height:20,width:20,imageError:!0},o(l)):"original"===t?(e={height:Math.min(s,n),width:Math.min(c,u)},r()):(e={height:s,width:c},r()),a(e)},l.onerror=function(){o(l),a({height:20,width:20,imageError:!0})},l.src=e,n=setTimeout((function(){o(l),a({height:20,width:20,imageError:!0})}),3e3)}))}};function va(e,t,n){return ba.apply(this,arguments)}function ba(){return(ba=da(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,l,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.ref.qStaticContentUrl.qUrl,(i=ma(r))&&(ha(o,i),o=ga(o=(o=o.replace(/"/g,'\\"')).replace(/'/g,"\\'"),i)),e.next=5,ya.getImageSize(o,n);case 5:return a=e.sent,l=a.height,u=a.width,s=a.imageError,e.abrupt("return",{src:o,size:n,height:l,width:u,imageError:s});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(e,t,n,r,o){return Ma.apply(this,arguments)}function Ma(){return(Ma=da(regeneratorRuntime.mark((function e(t,n,r,o,i){var a,l,u,s,c,f,d,p,m,h,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.ref,i&&i.label&&(l=i.label),!(n.isEnabled("IMAGE_BUNDLE_LOAD")&&(null==t?void 0:t.getImage)&&pa(l))){e.next=21;break}return e.prev=3,e.next=6,t.getImage(l);case 6:return u=e.sent,s="data:image/png;base64, ".concat(u),e.next=10,ya.getImageSize(s,o);case 10:c=e.sent,f=c.height,d=c.width,p=c.imageError,a={src:s,size:o,height:f,width:d,imageError:p},e.next=19;break;case 17:e.prev=17,e.t0=e.catch(3);case 19:e.next=28;break;case 21:return e.next=23,ya.getImageSize(l,o);case 23:m=e.sent,h=m.height,g=m.width,y=m.imageError,a={src:l,size:o,height:h,width:g,imageError:y};case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}function Oa(e,t,n,r){return wa.apply(this,arguments)}function wa(){return(wa=da(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,f,d,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.label,l=n.qFallbackTitle,!pa(u="qmem://".concat(l,"/").concat(a))){e.next=21;break}return e.prev=4,e.next=7,t.getImage(u);case 7:if(!(s=e.sent)){e.next=17;break}return c="data:image/png;base64, ".concat(s),e.next=12,ya.getImageSize(c,r);case 12:f=e.sent,d=f.height,p=f.width,m=f.imageError,i={src:c,size:r,height:d,width:p,imageError:m};case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(4);case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function Sa(e,t,n,r){return ka.apply(this,arguments)}function ka(){return(ka=da(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,f,d,p,m,h,g,y,v,b,x,M,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=n.app,d=n.flags,p=null===(i=t.layout)||void 0===i||null===(a=i.tooltip)||void 0===a?void 0:a.imageComponents){e.next=4;break}return e.abrupt("return",[]);case 4:m=sa(p,1),h=m[0],g=h.size||"small",y=h.type||"media",v=-1,b=0;case 9:if(!(b<r.length)){e.next=16;break}if(r[b].cId!==h.cId){e.next=13;break}return v=b,e.abrupt("break",16);case 13:b++,e.next=9;break;case 16:if(x=(null===(l=o.data)||void 0===l||null===(u=l.customTooltipAttrExps)||void 0===u?void 0:u.value)||[],-1!==v&&x[v]&&(M=x[v]),"media"!==y||!(null===(s=h.ref)||void 0===s||null===(c=s.qStaticContentUrl)||void 0===c?void 0:c.qUrl)){e.next=20;break}return e.abrupt("return",va(h,g,f));case 20:if("url"!==y){e.next=22;break}return e.abrupt("return",xa(f,d,h,g,M));case 22:if(!(d.isEnabled("IMAGE_BUNDLE_LOAD")&&"field"===y&&M&&M.label)){e.next=25;break}return O=r[v],e.abrupt("return",Oa(f,O,g,M));case 25:return e.abrupt("return",[]);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ca=function(e){return da(regeneratorRuntime.mark((function t(){var n,r,o,i,a,l,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.customTooltipModel,r=e.nodes,o=e.attrExps,i=e.opts,a=r,l=[],u=0;u<a.length;u++)l.push(Sa(n,i,o,a[u]));return t.next=6,Promise.all(l);case 6:for(s=t.sent,c=0;c<a.length;c++)a[c].data.customTooltipImages=[s[c]];return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))()},Ea=function(e){var t,n,r=null===(t=e.customTooltipModel.layout)||void 0===t||null===(n=t.tooltip)||void 0===n?void 0:n.imageComponents;return!!r&&r.length>0};function Aa(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}var qa={handlePromises:function(e){return(t=regeneratorRuntime.mark((function t(){var n,r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.customTooltipModel,r=e.nodes,o=e.attrExps,i=e.opts,a=r,t.next=4,Ca({customTooltipModel:n,nodes:r,attrExps:o,opts:i});case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Aa(i,r,o,a,l,"next",e)}function l(e){Aa(i,r,o,a,l,"throw",e)}a(void 0)}))})();var t},checkIfPromisesExist:function(e){var t=e.customTooltipModel;return Ea({customTooltipModel:t})}};function Da(e){return function(e){if(Array.isArray(e))return Ta(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Na(e){var t=e.qHyperCubeDef?e.qHyperCubeDef.qDimensions:e.qHyperCube.qDimensionInfo;if(t&&t.length>0)return t}function La(){var e=oa.CUSTOM,t=e.EXPRESSION,n=e.TITLE,r=e.DESCRIPTION,o=e.IMAGES,i={};return i[t]=!0,i[n]=!0,i[r]=!0,i[o]=!0,i}function Ia(e){var t=La();return e.filter((function(e){return t[e.id]}))}var ja={getNodes:function(e,t){var n=function(e,t){var n=0,r=0;e.center?(n+=e.center.x,r+=e.center.y):(n+=e.clientX,r+=e.clientY);var o=t.element.getBoundingClientRect();return{cx:n-o.left,cy:r-o.top}}(e,t);return t.shapesAt({x:n.cx,y:n.cy})},getDataNodes:function(e,t){var n,r=[],o={container:{bar:!0,"bullet-axis":!0},circle:{"point-component":!0}};return t.forEach((function(t){var i,a,l,u,s=null!==(i=null===(a=t.data)||void 0===a?void 0:a.selectionDimension)&&void 0!==i?i:t.data;if(!s||(null===(l=t.data)||void 0===l?void 0:l.customTooltipAttrExps)||o[t.type]){if((null===(u=t.data)||void 0===u?void 0:u.customTooltipAttrExps)&&!t.data.customTooltipImages){var c=t;c.data.customTooltipImages=[],r.push(c)}}else{n||(n=[],Object.keys(o).forEach((function(t){n=n.concat(e.findShapes(t).filter((function(e){return e.data&&e.data.customTooltipAttrExps&&!e.data.customTooltipImages&&o[t][e.key]})))})));var f=n.filter((function(e){var t,n,r=null!==(t=null!==(n=e.data.stack)&&void 0!==n?n:e.data.selectionOuterDimension)&&void 0!==t?t:e.data.selectionDimension;return r&&r.value===s.value&&r.label===s.label}));f.length>0&&(r=r.concat(f[0]))}})),r},displayTooltip:function(e,t,n){var r=n.nodes,o=n.model,i=n.opts,a=void 0===i?{}:i,l=n.dimsAndNodeFn,u=n.customTooltipModel,s=n.extractedNodes,c=void 0===s?[]:s;if(a.flags&&a.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")){var f=u.layout,d=u.chart,p=ja.getAttrExprData(f).attrExps;qa.handlePromises({customTooltipModel:u,nodes:ja.getDataNodes(d,c.length>0?c:r),attrExps:p,opts:a}).then((function(){t.emit("show",e,r.length?{nodes:r}:void 0)}))}else if(r.length>0&&"function"==typeof l){var m=l(),h=m.nodeDims,g=m.node;h&&g?function(e,t,n){return new Promise((function(r){var o=t;!function(e){return-3===e.data.value}(t)?function(e,t){var n=e.data,r=t.chart.brush("selection");return r.isActive()&&!r.containsMappedData(n)}(t,n)?(o.data.customTooltip={limitation:n.translator.get("properties.tooltip.notselectedmessage")},r(o)):ua.extractData(e,n).then((function(e){o.data.customTooltip=e,r(o)})):(o.data.customTooltip={},r(o))}))}(h,g,o).then((function(n){t.emit("show",e,{nodes:[n]})})):t.emit("show",e)}else t.emit("hide")},checkIfPromisesExist:function(e){var t=e.customTooltipModel;return qa.checkIfPromisesExist({customTooltipModel:t})},getAttrExps:function(e,t){var n,r=t,o=(null===(n=e.qHyperCubeDef)||void 0===n?void 0:n.qDimensions)?"qAttributeExpressions":"qAttrExprInfo";return r[o]||(r[o]=[]),r[o]},getAttrExprData:function(e){var t,n=[],r="",o=(null===(t=e.qHyperCube)||void 0===t?void 0:t.qDimensionInfo)||[];if(o.length>0){var i,a,l,u=o.length-1;n=(null===(i=e.qHyperCube)||void 0===i||null===(a=i.qDimensionInfo)||void 0===a||null===(l=a[u])||void 0===l?void 0:l.qAttrExprInfo)||[],r="qDimensionInfo/".concat(u,"/qAttrExprInfo")}return{attrExps:n,fieldPath:r}},quarantineCustomTooltipAttrs:function(e,t){var n,r;(null===(n=e.qLayoutExclude)||void 0===n||null===(r=n.quarantine)||void 0===r?void 0:r[oa.CUSTOM.QUARANTINE])||function(e,t){var n=t,r=n.qLayoutExclude;r||(n.qLayoutExclude={quarantine:{}},r=n.qLayoutExclude),r.quarantine||(r.quarantine={}),r.quarantine[oa.CUSTOM.QUARANTINE]=[],e.forEach((function(e){r.quarantine[oa.CUSTOM.QUARANTINE].push(e)})),n.qLayoutExclude=r}(Ia(t.qAttributeExpressions||[]),e)},unquarantineCustomTooltipAttrs:function(e){var t,n,r=e;(null===(t=e.qLayoutExclude)||void 0===t||null===(n=t.quarantine)||void 0===n?void 0:n[oa.CUSTOM.QUARANTINE])&&delete r.qLayoutExclude.quarantine[oa.CUSTOM.QUARANTINE]},setAttrsFromQuarantine:function(e,t){var n=Na(e);if(n){var r=void 0!==t?t:n.length-1;if(n[r]){var o=this.getAttrExps(e,n[r]);if(0===Ia(o).length){var i,a,l=(null===(i=e.qLayoutExclude)||void 0===i||null===(a=i.quarantine)||void 0===a?void 0:a.customTooltip)||[],u=[].concat(Da(o),Da(l)),s=e;s.qHyperCubeDef?s.qHyperCubeDef.qDimensions[r].qAttributeExpressions=u:s.qHyperCube.qDimensionInfo[r].qAttrExprInfo=u}}}},moveCustomTooltipAttrs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=[],o=Na(e)||[],i=[].concat(Da(o),[t]);i.forEach((function(e){var t=Ia(e.qAttributeExpressions||[]);t.length>0&&(r=t)}));var a=La(),l=o.map((function(e){var t=e,n=e.qAttributeExpressions||[];return t.qAttributeExpressions=n.filter((function(e){return!a[e.id]})),t})),u=void 0!==n?n:l.length-1;l.length>0&&(l[u].qAttributeExpressions=l[u].qAttributeExpressions.concat(r));var s=e;e.qHyperCubeDef?s.qHyperCubeDef.qDimensions=l:s.qHyperCube.qDimensionInfo=l},addCallbackCustomTooltip:function(e){e.qHyperCubeDef.qDimensions.length>1?this.moveCustomTooltipAttrs(e):(this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e))},moveCallbackCustomTooltip:function(e,t){1===e.qHyperCubeDef.qDimensions.length&&(this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e)),e.qHyperCubeDef.qDimensions.length>1&&this.moveCustomTooltipAttrs(e,t)},removeCallbackCustomTooltip:function(e,t){e.qHyperCubeDef.qDimensions.length>0?this.moveCustomTooltipAttrs(e,t):this.quarantineCustomTooltipAttrs(e,t)},replaceCallbackCustomTooltip:function(e,t){e.qHyperCubeDef.qDimensions.length>1?this.moveCustomTooltipAttrs(e,t):(this.quarantineCustomTooltipAttrs(e,t),this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e))},shouldIgnoreDefaultRows:function(e){var t;return(null===(t=e.tooltip)||void 0===t?void 0:t.hideBasic)||0},DEBOUNCE_THRESHOLD:50},Pa=ja;var Ra=/^[A-Z][A-z0-9_]*$/i,_a={setValue:function(e,t,n){if(!t)return!1;var r,o=t.split("."),i=o[o.length-1],a=e;for(r=0;r<o.length-1;++r)void 0===a[o[r]]&&(a[o[r]]=Number.isNaN(+o[r+1])?{}:[]),a=a[o[r]];if(void 0!==n){var l=a[i];return a[i]=n,{updated:n,previous:l}}return delete a[i],!1},getValue:function(e,t,n){var r,o=t.split("."),i=e;if(void 0===i)return n;for(r=0;r<o.length;++r){if(void 0===i[o[r]])return n;i=i[o[r]]}return i},moveArrayElement:function(e,t,n){if(n>=e.length)for(var r=n-e.length;1+r--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])},escapeField:function(e){return!e||"]"===e||Ra.test(e)?e:"[".concat(e.replace(/\]/g,"]]"),"]")},deleteUndefinedProperties:function(e){Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]}))}};function za(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=null==e||null===(t=e.qDimensionInfo)||void 0===t?void 0:t[r],i=null==o||null===(n=o.qCardinalities)||void 0===n?void 0:n.qHypercubeCardinal,a=null==o?void 0:o.qStateCounts,l=a.qLocked,u=void 0===l?0:l,s=a.qOption,c=void 0===s?0:s,f=a.qSelected,d=void 0===f?0:f;return[void 0,0].includes(i)?u+c+d:i}function Fa(e,t){switch(t.qMode){case"S":default:return function(e,t){return{refs:{dataPages:"qDataPages"},size:{x:_a.getValue(t,"qSize.qcx"),y:_a.getValue(t,"qSize.qcy")}}}(0,t);case"K":return function(e,t){return{refs:{dataPages:"qStackedDataPages"},size:{x:_a.getValue(t,"qSize.qcx"),y:za(t)}}}(0,t);case"T":return{refs:{dataPages:"qTreeDataPages"},size:{x:0,y:0}}}}function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){Ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(n),!0).forEach((function(t){Ga(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e){var t=e.source,n=e.hyperCubePath,r=void 0===n?"qHyperCube":n,i=e.metaAdditionsFn,a=o()(!0,{},t),l=_a.getValue(a,r),u=function(e,t){return{isQMode:function(e){return t.qMode===e},getDimensionSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return za(t,e)}}}(0,l),s=Fa(0,l),c=function(){return function(e){var t=e.layout,n=e.hyperCube,r=e.additionsFn,o=void 0===r?function(){return{}}:r,i=e.additionsProps,a=void 0===i?{}:i,l=n.qDimensionInfo.length,u=n.qMeasureInfo.length,s=Ha({dimensionCount:l,measureCount:u,hasMultipleDimensions:l>1,hasMultipleMeasures:u>1},a);return Ha(Ha({},s),o({layout:t,hyperCube:n,meta:s}))}({layout:a,hyperCube:l,additionsFn:i,additionsProps:{size:s.size}})},f={refs:Wa({},s.refs),meta:c(),query:Wa({},u),getLayout:function(){return a},getLayoutValue:function(e,t){return _a.getValue(a,e,t)},setLayoutValue:function(e,t){_a.setValue(a,e,t),s=Fa(0,l),f.meta=c()},getHyperCube:function(){return l},getHyperCubeValue:function(e,t){return _a.getValue(l,e,t)},setHyperCubeValue:function(e,t){_a.setValue(l,e,t),s=Fa(0,l),f.meta=c()},getDataPages:function(){return _a.getValue(l,s.refs.dataPages)},setDataPages:function(e){_a.setValue(l,s.refs.dataPages,e),f.meta=c()}};return f.query=Wa({},u),f}var $a={getDockValue:function(e){return"near"===e||"left"===e||"top"===e?0:1},getOppositeDock:function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";case"near":return"far";case"far":return"near";default:return"far"}},getHorizontalDock:function(e){return"near"===e||"left"===e?"left":"right"},getVerticalDock:function(e){return"near"===e||"bottom"===e?"bottom":"top"},getDock:function(e,t,n){return"vertical"===e||"y"===e?$a.getVerticalDock(t):n?$a.getOppositeDock($a.getHorizontalDock(t)):$a.getHorizontalDock(t)},getInvertedOrientation:function(e){return"vertical"===e?"horizontal":"vertical"},getMinorScaleAxis:function(e){return"vertical"===e?"y":"x"},getMajorScaleAxis:function(e){return"vertical"===e?"x":"y"},getAlignment:function(e,t){switch(e){case"vertical":return"near"===t||"bottom"===t?1:0;default:return"near"===t||"left"===t?0:1}},getMeasureScaleInvert:function(e,t){return"vertical"===e||t},getDimensionScaleInvert:function(e,t){return"horizontal"===e&&t},getSize:function(e,t){var n=t.width,r=t.height;return"vertical"===e?n:r}},Xa=$a;function Za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ja(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ya=[["FULL",{width:550,height:450}],["MEDIUM",{width:400,height:220}],["SMALL",{width:300,height:150}],["XSMALL",{width:150,height:75}],["SPARK",{width:0,height:0}]],Qa={};Ya.forEach((function(e){var t=Za(e,2),n=t[0],r=t[1],o=r.width,i=r.height;Qa[n]={width:o,height:i}}));var el={getLayoutModes:function(){return Qa},getLayoutMode:function(e,t){var n;for(n=0;n<Ya.length;++n)if(e>=Ya[n][1].width&&t>=Ya[n][1].height)return Ya[n][0];return"SPARK"}},tl={VERTICAL:"vertical",HORIZONTAL:"horizontal"};function nl(e){var t=e.layoutModel,n=e.size,r=(n=void 0===n?{}:n).width,o=void 0===r?0:r,i=n.height,a=void 0===i?0:i,l=e.orientation,u=(l=void 0===l?{}:l).invert,s=void 0!==u&&u,c=l.fallback,f=void 0===c?"vertical":c,d=l.isVertical,p=void 0!==d&&d,m=e.rtl,h=e.measureAxes,g=void 0===h?[{ref:"measureAxis",name:"minor"}]:h,y=Xa.getInvertedOrientation,v=Xa.getDock,b=Xa.getOppositeDock,x=Xa.getSize,M=function(e){var t=e.layoutModel,n=e.invert,r=e.fallback,o=e.isVertical;if(t.meta.isContinuous||o)return tl.VERTICAL;var i=t.getLayoutValue("orientation",r);return n?i===tl.VERTICAL?tl.HORIZONTAL:tl.VERTICAL:i}({layoutModel:t,invert:s,fallback:f,isVertical:p}),O={update:function(e){var n,r;O.chartSize=e,O.major=(n=e,r=v(M,t.getLayoutValue("dimensionAxis.dock"),m),{orientation:M,dock:r,opposite:b(r),containerSize:x(M,n)}),O.mode=el.getLayoutMode(e.width,e.height),g.forEach((function(n){O[n.name]=function(e,n){var r=y(M),o=v(r,t.getLayoutValue("".concat(n,".dock")),m);return{orientation:r,dock:o,opposite:b(o),maxDock:v(M,"far",m),minDock:v(M,"near",m),containerSize:x(r,e)}}(e,n.ref)}))}};return O.update({width:o,height:a}),O}function rl(e,t){if(t)return t;var n=e?e.element.getBoundingClientRect():{};return{width:n.width,height:n.height}}var ol=["$date","$timestamp","$time"],il=["D","TS","T"],al={hasTimeTag:function(e){return!!(e&&e.qTags&&e.qTags.some((function(e){return ol.some((function(t){return t===e}))})))},hasUnknownFormat:function(e){return!(!e||!e.qNumFormat||"U"!==e.qNumFormat.qType)},hasTimeFormat:function(e){return!!(e&&e.qNumFormat&&il.some((function(t){return t===e.qNumFormat.qType})))},isTimeDimension:function(e,t){return!!(e&&t&&(al.hasTimeTag(t)&&al.hasUnknownFormat(t)||al.hasTimeFormat(t)))},isTime:function(e,t){return!!(t&&t.qHyperCube.qDimensionInfo&&t.qHyperCube.qDimensionInfo.length)&&e&&al.isTimeDimension(e,t.qHyperCube.qDimensionInfo[0])},canBeContinuousDimension:function(e){if(!e)return!1;var t=e.qTags||[];return!(!e.qContinuousAxes||!t.some((function(e){return"$numeric"===e})))},canBeContinuous:function(e){return!(!(e&&e.qHyperCube&&e.qHyperCube.qDimensionInfo)||e.qHyperCube.qDimensionInfo.length<1)&&al.canBeContinuousDimension(e.qHyperCube.qDimensionInfo[0])},maxNumberOfLines:12},ll=al,ul=function(e){return _a.getValue(e,"qHyperCube.qDimensionInfo",[])},sl=function(e){return _a.getValue(e,"qHyperCube.qMeasureInfo",[])},cl=function(e){return _a.getValue(e,"barGrouping.grouping")},fl={continuous:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!ll.canBeContinuous(e)&&(_a.getValue(e,"dimensionAxis.continuousAuto")?"function"==typeof t?t():t:!!e.preferContinuousAxis)},dimensionless:function(e){return!ul(e).length},grouped:function(e){return!this.dimensionless(e)&&"grouped"===cl(e)&&(ul(e).length>1||sl(e).length>1)&&!this.continuous(e)},groupedByDimension:function(e){return this.grouped(e)&&ul(e).length>1&&1===sl(e).length},groupedByMeasure:function(e){return this.grouped(e)&&1===ul(e).length&&sl(e).length>1},stacked:function(e){return(!this.dimensionless(e)&&"grouped"!==cl(e)||this.continuous(e))&&(ul(e).length>1||sl(e).length>1)},stackedByDimension:function(e){return this.stacked(e)&&ul(e).length>1&&1===sl(e).length},stackedByMeasure:function(e){return this.stacked(e)&&1===ul(e).length&&sl(e).length>1},simple:function(e){return 0===ul(e).length||1===ul(e).length&&1===sl(e).length},snapshot:function(e){return!!_a.getValue(e,"snapshotData")}},dl=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.bandwidth();return n?"start"===t?o:"end"===t?o*(1-r):o*(2-r)/2:"start"===t?0:"end"===t?o*r:o*r/2},pl=function(e){return!1!==e.show&&0!==e.show&&"0"!==e.show},ml=function(e){return e.filter(pl)},hl=function(e){return pl(e)&&(!1!==e.showValue||!1!==e.showLabel)},gl=function(e){return e.filter(hl)},yl=function(e){var t=e.refLineLayout;return e.layoutModel.meta.canBeContinuous?t.refLineExpr.value:t.refLineExpr.stringValue},vl=function(e,t,n){var r=t.dimensionRefLineInfo;if(r[e])return r[e][n]},bl=function(e){var t=e.label,n=(e.dataPages||{}).qArea,r=void 0===n?{}:n,o=r.qTop,i=r.qHeight;return void 0!==o&&void 0!==i&&void 0!==t.valueInfo&&t.valueInfo.maxOrder<o},xl=function(e){var t=e.label,n=(e.dataPages||{}).qArea,r=void 0===n?{}:n,o=r.qTop,i=r.qHeight;return void 0!==o&&void 0!==i&&void 0!==t.valueInfo&&t.valueInfo.minOrder>=o+i},Ml=function(e){var t=e.value,n=e.qMin;return"NaN"!==n&&t<n},Ol=function(e){var t=e.value,n=e.qMax;return"NaN"!==n&&t>n},wl={isVisible:pl,getVisibleRefLines:ml,getMeasureRefLines:function(e){return ml(_a.getValue(e,"refLine.refLines",[]))},getDimensionRefLines:function(e,t){return t?[]:ml(_a.getValue(e,"refLine.dimRefLines",[]))},isLabelVisible:hl,getVisibleRefLineLabels:gl,getMeasureRefLineLabels:function(e){return gl(_a.getValue(e,"refLine.refLines",[]))},getDimensionRefLineLabels:function(e,t){return t?[]:gl(_a.getValue(e,"refLine.dimRefLines",[]))},getScaledPosition:function(e){var t=e.scale,n=e.size,r=e.value,o=e.valueInfo,i=e.align,a=e.invert,l=void 0!==a&&a,u=e.layoutModel;if(!e.isContinuous){var s,c=t.pxScale(n);if(u.meta.isGroupedByMeasure)return s=dl(c,i,l,u.meta.measureCount),c([r,0])+s;if(u.meta.isGroupedByDimension){if(!o)return NaN;var f,d=o.innerValues,p=o.numInnerValues,m=o.minOrder;return s=dl(c,i,l,p),d&&d.length&&(f=function(e){for(var t=e.pxScale,n=e.value,r=e.innerValues,o=e.invert,i=e.minOrder,a=function(e){var t=e.pxScale,n=e.invert;return t.bandwidth()*(n?-1:1)}({pxScale:t,invert:o}),l=0;l<r.length;l++){var u=r[l],s=u.id,c=u.order,f=t([n,s]);if(void 0!==f)return f-a*(c-i)}}({pxScale:c,value:r,innerValues:d,invert:l,minOrder:m})),(void 0===f?c(r):f)+s}return s=dl(c,i,l),c(r)+s}return t(r)},getDimensionValuesInfo:function(e){var t=e.layout,n=e.canBeContinuous,r=e.discreteModel,o=e.layoutModel.meta.isGroupedByDimension,i={},a=_a.getValue(t,"qHyperCube"),l="K"===a.qMode,u=r?r.query.getCurrentDataPage():_a.getValue(a,"S"===a.qMode?"qDataPages.0":"qStackedDataPages.0",[]),s=l?"qData.0.qSubNodes":"qMatrix",c=_a.getValue(u,s,[]),f=function(e,t){return e?t?"qValue":"qNum":"qText"}(n,l),d=function(e){return e.qArea.qTop}(u);return l?function(){for(var e=0;e<c.length;e++){var t=c[e],n=e+d,r=t[f];i[r]||(i[r]={id:t.qElemNo,qText:t.qText,minOrder:n,maxOrder:n})}}():o?function(){for(var e,t=0;t<c.length;t++){var n=c[t][0],r=c[t][1],o=t+d,a=n[f];i[a]?(i[a].minOrder=Math.min(i[a].minOrder,o),i[a].maxOrder=Math.max(i[a].maxOrder,o),i[a].innerValues[i[a].innerValues.length]={id:r.qElemNumber,order:o}):i[a]={id:n.qElemNumber,qText:n.qText,minOrder:o,maxOrder:o,innerValues:[{id:r.qElemNumber,order:o}]},0===t?0===o&&(i[a].isMinOrderOk=!0):a!==e&&(i[a].isMinOrderOk=!0,i[e].isMaxOrderOk=!0),e=a}}():function(){for(var e=0;e<c.length;e++){var t=c[e][0],n=e+d,r=t[f];i[r]||(i[r]={id:t.qElemNumber,qText:t.qText,minOrder:n,maxOrder:n})}}(),i},getInputValue:yl,extractInfoFromInputValue:vl,resolveValue:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel,o=yl({refLineLayout:t,layoutModel:r});return vl(o,n,"id")},isDiscreteMinOutOfBounds:bl,isDiscreteMaxOutOfBounds:xl,isContinuousMinOutOfBounds:Ml,isContinuousMaxOutOfBounds:Ol,isOutOfRange:function(e){var t=e.value,n=e.qMin,r=e.qMax;return Ml({value:t,qMin:n})||Ol({value:t,qMax:r})},isOutOfDataPages:function(e){var t=e.label,n=e.dataPages;return t.valueInfo.isMinOrderOk&&xl({label:t,dataPages:n})||t.valueInfo.isMaxOrderOk&&bl({label:t,dataPages:n})},getInvert:function(e){var t=e.orientation,n=e.rtl,r=e.isContinuous;return"horizontal"===t?n:r}};function Sl(e){var t=e.layoutModel,n=e.discreteModel,r=t.meta,o=r.isContinuous,i=r.canBeContinuous,a=r.isGroupedByDimension,l=t.getLayout(),u="K"===l.qHyperCube.qMode,s=fl.dimensionless(l),c=wl.getMeasureRefLines(l),f=wl.getDimensionRefLines(l,s),d=wl.getMeasureRefLineLabels(l),p=wl.getDimensionRefLineLabels(l,s),m={},h={},g=function(){return!(!f||!f.length)&&!f.every((function(e){var n=wl.getInputValue({refLineLayout:e,layoutModel:t});return function(e){if(i){var n=t.getLayoutValue("qHyperCube.qDimensionInfo.0"),r=n.qMin,o=n.qMax;return wl.isOutOfRange({value:e,qMin:r,qMax:o})}return!1}(n)||function(e){if(!h[e])return!1;if(!o&&a){var n={valueInfo:h[e]},r="S"===t.getHyperCubeValue("qMode")?"qDataPages.0":"qStackedDataPages.0",i=t.getHyperCubeValue(r);return wl.isOutOfDataPages({label:n,dataPages:i})}return!0}(n)}))},y={isKMode:u,canBeContinuous:i,measureRefLines:c,dimensionRefLines:f,measureRefLineLabels:d,dimensionRefLineLabels:p,dimensionRefLineInfo:h,dimensionValuesInfo:m,update:function(){h=y.dimensionRefLineInfo,g()&&(m=wl.getDimensionValuesInfo({layout:l,canBeContinuous:i,discreteModel:n,layoutModel:t}),y.dimensionValuesInfo=m,f.forEach((function(e){var n=wl.getInputValue({refLineLayout:e,layoutModel:t});m[n]&&(h[n]?(h[n].innerValues=m[n].innerValues,h[n].minOrder=Math.min(h[n].minOrder,m[n].minOrder),h[n].maxOrder=Math.max(h[n].maxOrder,m[n].maxOrder),h[n].isMinOrderOk=h[n].isMinOrderOk||m[n].isMinOrderOk,h[n].isMaxOrderOk=h[n].isMaxOrderOk||m[n].isMaxOrderOk):h[n]={id:m[n].id,qText:m[n].qText,innerValues:m[n].innerValues,minOrder:m[n].minOrder,maxOrder:m[n].maxOrder,isMinOrderOk:m[n].isMinOrderOk,isMaxOrderOk:m[n].isMaxOrderOk},h[n].numInnerValues=(h[n].maxOrder||0)-(h[n].minOrder||0)+1)})))}};return y.update(),y}function kl(e){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cl(e){return e.filter((function(e){return"object"===kl(e.data)&&Array.isArray(e.data.fields)})).every((function(e){return e.data.fields.every((function(e){var t=e.raw();return!(!t.qLocked&&t.qCardinal)}))}))}var El=function(e,t){var n=e.component(t);return n&&n._DO_NOT_USE_getInfo&&n._DO_NOT_USE_getInfo().offset};function Al(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=i();return function(r){var o=t(r);return n.has(o)?n.get(o):n.set(o,e(r))}}var ql=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Dl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tl(){}var Nl="\\s*([+-]?\\d+)\\s*",Ll="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Il="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jl=/^#([0-9a-f]{3,8})$/,Pl=new RegExp("^rgb\\("+[Nl,Nl,Nl]+"\\)$"),Rl=new RegExp("^rgb\\("+[Il,Il,Il]+"\\)$"),_l=new RegExp("^rgba\\("+[Nl,Nl,Nl,Ll]+"\\)$"),zl=new RegExp("^rgba\\("+[Il,Il,Il,Ll]+"\\)$"),Fl=new RegExp("^hsl\\("+[Ll,Il,Il]+"\\)$"),Ul=new RegExp("^hsla\\("+[Ll,Il,Il,Ll]+"\\)$"),Hl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bl(){return this.rgb().formatHex()}function Vl(){return this.rgb().formatRgb()}function Wl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Gl(t):3===n?new Xl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Kl(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Kl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Pl.exec(e))?new Xl(t[1],t[2],t[3],1):(t=Rl.exec(e))?new Xl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_l.exec(e))?Kl(t[1],t[2],t[3],t[4]):(t=zl.exec(e))?Kl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Fl.exec(e))?Ql(t[1],t[2]/100,t[3]/100,1):(t=Ul.exec(e))?Ql(t[1],t[2]/100,t[3]/100,t[4]):Hl.hasOwnProperty(e)?Gl(Hl[e]):"transparent"===e?new Xl(NaN,NaN,NaN,0):null}function Gl(e){return new Xl(e>>16&255,e>>8&255,255&e,1)}function Kl(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xl(e,t,n,r)}function $l(e){return e instanceof Tl||(e=Wl(e)),e?new Xl((e=e.rgb()).r,e.g,e.b,e.opacity):new Xl}function Xl(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Zl(){return"#"+Yl(this.r)+Yl(this.g)+Yl(this.b)}function Jl(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Yl(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ql(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tu(e,t,n,r)}function eu(e){if(e instanceof tu)return new tu(e.h,e.s,e.l,e.opacity);if(e instanceof Tl||(e=Wl(e)),!e)return new tu;if(e instanceof tu)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new tu(a,l,u,e.opacity)}function tu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function nu(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}ql(Tl,Wl,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Bl,formatHex:Bl,formatHsl:function(){return eu(this).formatHsl()},formatRgb:Vl,toString:Vl}),ql(Xl,(function(e,t,n,r){return 1===arguments.length?$l(e):new Xl(e,t,n,null==r?1:r)}),Dl(Tl,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Xl(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Xl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zl,formatHex:Zl,formatRgb:Jl,toString:Jl})),ql(tu,(function(e,t,n,r){return 1===arguments.length?eu(e):new tu(e,t,n,null==r?1:r)}),Dl(Tl,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new tu(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new tu(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Xl(nu(e>=240?e-240:e+120,o,r),nu(e,o,r),nu(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var ru=Math.PI/180,ou=180/Math.PI,iu=.96422,au=1,lu=.82521,uu=4/29,su=6/29,cu=3*su*su,fu=su*su*su;function du(e){if(e instanceof pu)return new pu(e.l,e.a,e.b,e.opacity);if(e instanceof xu)return Mu(e);e instanceof Xl||(e=$l(e));var t,n,r=yu(e.r),o=yu(e.g),i=yu(e.b),a=mu((.2225045*r+.7168786*o+.0606169*i)/au);return r===o&&o===i?t=n=a:(t=mu((.4360747*r+.3850649*o+.1430804*i)/iu),n=mu((.0139322*r+.0971045*o+.7141733*i)/lu)),new pu(116*a-16,500*(t-a),200*(a-n),e.opacity)}function pu(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function mu(e){return e>fu?Math.pow(e,1/3):e/cu+uu}function hu(e){return e>su?e*e*e:cu*(e-uu)}function gu(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function yu(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vu(e){if(e instanceof xu)return new xu(e.h,e.c,e.l,e.opacity);if(e instanceof pu||(e=du(e)),0===e.a&&0===e.b)return new xu(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ou;return new xu(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function bu(e,t,n,r){return 1===arguments.length?vu(e):new xu(e,t,n,null==r?1:r)}function xu(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Mu(e){if(isNaN(e.h))return new pu(e.l,0,0,e.opacity);var t=e.h*ru;return new pu(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ql(pu,(function(e,t,n,r){return 1===arguments.length?du(e):new pu(e,t,n,null==r?1:r)}),Dl(Tl,{brighter:function(e){return new pu(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new pu(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Xl(gu(3.1338561*(t=iu*hu(t))-1.6168667*(e=au*hu(e))-.4906146*(n=lu*hu(n))),gu(-.9787684*t+1.9161415*e+.033454*n),gu(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),ql(xu,bu,Dl(Tl,{brighter:function(e){return new xu(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new xu(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Mu(this).rgb()}}));var Ou={isDark:function(e){return bu(e).l<70}};var wu={AVERAGE:"AVERAGE",LINEAR:"LINEAR",POLYNOMIAL2:"POLYNOMIAL2",POLYNOMIAL3:"POLYNOMIAL3",POLYNOMIAL4:"POLYNOMIAL4",EXPONENTIAL:"EXPONENTIAL",LOG:"LOG",POWER:"POWER"};function Su(e){var t=e.dimValue,n=e.value,r=e.qTrendLine,o=r.qType,i=r.qCoeff,a={x:t,y:i[2]*Math.pow(n,2)+i[1]*n+i[0]};switch(o){default:case wu.POLYNOMIAL2:return a;case wu.POLYNOMIAL3:return a.y+=i[3]*Math.pow(n,3),a;case wu.POLYNOMIAL4:return a.y+=i[4]*Math.pow(n,4)+i[3]*Math.pow(n,3),a}}var ku={average:function(e){return{x:e.dimValue,y:e.qTrendLine.qCoeff[0]}},linear:function(e){var t=e.dimValue,n=e.value,r=e.qTrendLine;return{x:t,y:r.qCoeff[1]*n+r.qCoeff[0]}},polynomial2:Su,polynomial3:Su,polynomial4:Su,exponential:function(e){var t=e.dimValue,n=e.value,r=e.qTrendLine;return{x:t,y:Math.exp(r.qCoeff[0]+n*r.qCoeff[1])}},log:function(e){var t=e.dimValue,n=e.value,r=e.qTrendLine;return{x:t,y:r.qCoeff[1]+r.qCoeff[0]*Math.log(n)}},power:function(e){var t=e.dimValue,n=e.value,r=e.qTrendLine;return{x:t,y:Math.pow(10,r.qCoeff[0]+r.qCoeff[1]*Math.log(n)*Math.LOG10E)}}},Cu=500;function Eu(e,t){for(var n=ku[t.qType.toLowerCase()],r=Math.max(1,e/Cu),o=1/0,i=-1/0,a=0;a<e;a+=r){var l=n({dimValue:null,value:a+1,qTrendLine:t}).y;o=Math.min(l,o),i=Math.max(l,i)}return{min:o,max:i}}function Au(e){return function(e){if(Array.isArray(e))return qu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Du=100;function Tu(e){return ku[e.qType.toLowerCase()]}function Nu(e,t){return e.meta.isContinuous?function(e,t){return{generate:function(e,n,r){var o=[],i=Tu(e),a=t.get("zoom"),l=a.min,u=a.max,s=(u-l)/Du;if(s>0){for(var c=function(t){var a=i({dimValue:t,value:t,qTrendLine:e});a.layerId=n,a.measureIndex=r,a.dimValue=t,o.push(a)},f=l,d=l;d<=u;d+=s)c(d),f=d;f!==u&&c(u)}return o},calculate:function(e,t){return Tu(e)({dimValue:t,value:t,qTrendLine:e})},findMinMax:function(e,t){var n=this.generate(t).map((function(e){return e.y}));return{min:Math.min.apply(Math,Au(n)),max:Math.max.apply(Math,Au(n))}}}}(0,t):e.query.isQMode("K")?function(e){return{generate:function(t,n,r){for(var o=[],i=e.getDataPages()[0],a=i.qData[0].qSubNodes,l=i.qArea.qTop,u=ku[t.qType.toLowerCase()],s=0;s<a.length;s++){var c=a[s],f=u({dimValue:c.qElemNo,value:s+l+1,qTrendLine:t});f.layerId=n,f.measureIndex=r,f.dimValue=c.qText,o.push(f)}return o},findMinMax:Eu}}(e):function(e){return{generate:function(t,n,r){for(var o=[],i=e.getDataPages()[0],a=i.qMatrix,l=i.qArea.qTop,u=ku[t.qType.toLowerCase()],s=0;s<a.length;s++){var c=a[s][0],f=s+l+1,d=u({dimValue:c.qElemNumber,value:f,qTrendLine:t});d.layerId=n,d.measureIndex=r,d.dimValue=c.qText,o.push(d)}return o},calculate:function(e,t,n){return(0,ku[e.qType.toLowerCase()])({dimValue:n,value:t,qTrendLine:e})},findMinMax:Eu}}(e)}var Lu={TYPES:{AVERAGE:"properties.trendlines.types.average",LINEAR:"properties.trendlines.types.linear",POLYNOMIAL2:"properties.trendlines.types.polynomial2",POLYNOMIAL3:"properties.trendlines.types.polynomial3",POLYNOMIAL4:"properties.trendlines.types.polynomial4",EXPONENTIAL:"properties.trendlines.types.exponential",LOG:"properties.trendlines.types.logarithmic",POWER:"properties.trendlines.types.power"},STYLE:{DASHED:"properties.trendlines.style.dashed"},TYPE:"properties.trendlines.type",HEADER:"properties.trendlines",ADD_BUTTON:"properties.trendlines.button.add"},Iu={color:"#f93f17",index:9};function ju(e){return function(e){if(Array.isArray(e))return Pu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ru=Ou.isDark,_u={x:NaN,y:NaN,layerId:NaN,measureIndex:NaN},zu=function(e){var t=e.layoutModel,n=e.viewState,r=e.colorModel,o=e.chart,i=e.env,a=e.keys.colorScale,l=e.isEnabled,u=void 0===l?function(){return!1}:l,s=i.translator,c=[_u],f=[],d=[],p=Nu(t,n);return t.getLayoutValue("qHyperCube.qMeasureInfo",[]).forEach((function(e,t){Array.isArray(e.qTrendLines)&&(f.push.apply(f,ju(e.qTrendLines)),d.push.apply(d,ju(e.qTrendLines.map((function(){return t})))))})),{query:{hasTrendLines:function(){return!!f.length&&u()},getData:function(){return c},getStroke:Al((function(e){var t=(f[e]||{}).style,n=r.settings();if(t.autoColor){if("measure"===n.mode){var i=d[e],l=o.scale(a)(i);return Ru(l)?function(e){var t=bu(e);return t.l<30?t.l+=15:t.l<50?t.l+=10:t.l+=5,t.toString()}(l):function(e){var t=bu(e);return t.l-=5,t.toString()}(l)}return r.resolveUIColor(Iu)}return t.paletteColor?r.resolveUIColor(t.paletteColor):"none"})),getLineDash:function(e){return(f[e]||{}).style.lineDash},getLabel:function(e){return(f[e]||{}).label},getType:function(e){var t=(f[e]||{}).qType;return s.get(Lu.TYPES[t])},getMinMax:function(){var e=1/0,n=-1/0;return f.forEach((function(r){var o=p.findMinMax(t.meta.size.y,r);e=Math.min(o.min,e),n=Math.max(o.max,n)})),{min:e,max:n}},getCalculatedValue:function(e,t,n){var r=f[e];return p.calculate(r,t,n)}},command:{update:function(){c.length=0,f.forEach((function(e,t){var n=p.generate(e,t,d[t]);c.push.apply(c,ju(n))}))}}}},Fu={SPARK:{DEFAULT:7,SQUEEZE:7,LABELLESS:7},XSMALL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},SMALL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},MEDIUM:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},FULL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20}},Uu={SCALE:{MAIN:{MINOR:"minor",MAJOR:"major",MAJOR_INNER:"majorInner",MAJOR_NUM:"majorNum",COLOR:"fill"},REDUCED:{MINOR:"miniMinor",MAJOR:"miniMajor",COLOR:"reducedFill"}},COMPONENT:{BAR:"bar",GHOST_BAR_OOB:"ghost-bar",STACK:"stack",BAR_AXIS:"bar-axis",GROUP_AXIS:"group-axis",BAR_OOB_MAX:"bar-oob-max",BAR_OOB_MIN:"bar-oob-min",STACK_TOTAL_BAR:"stack-total-bar",BASE_TOOLTIP:"tooltip",LEGEND_CAT_TOOLTIP:"legend-cat-tooltip",LEGEND_COLOR_CAT:"legend-color-cat",REFERENCE_LINE:"reference-line",MEASURE_REFERENCE_LINE_LABEL:"mes-reference-line-label",DIMENSION_REFERENCE_LINE_LABEL:"dim-reference-line-label",TREND_LINES_TOOLTIP:"trend-lines-tooltip",TREND_LINES_TOOLTIP_OVERLAY:"trend-lines-tooltip-overlay"},COLLECTION:{MAIN:"main-collection",MINI:"mini-collection",MINI_STACK:"mini-stack-collection",MINI_CONTINUOUS:"mini-continuous-collection",STACK_TOTAL:"stack-total-collection"},FORMATTER:{MINOR:"bar",COLOR:"fill"}};function Hu(e,t){return{range:function(e){var n=e.resources,r=e.data,o=n.theme.palette("categorical",t);return r.items.map((function(e){return o[e.value%o.length]}))},valueAccessor:e.value}}function Bu(e,t){return{range:function(e){var n=e.resources,r=e.data,o=n.theme.palette("categorical",t);return r.items.map((function(e){return o[e.row.value%o.length]}))},valueAccessor:e.value}}function Vu(e,t,n,r,o){var i=o.byRow,a=o.byElemNo;if(r&&(t.input.persistent||e.hc.qDimensionInfo.length>1||void 0===n.activeDimensionIndex&&e.hc.qSize.qcy>e.hc.qDataPages[0].qArea.qHeight))return a(r,r.raw().qCardinal);if(r){var l=t.pic.extract({field:r.key(),trackBy:r.value}).length;return i(r,l)}return{}}function Wu(e,t){var n=e.hc.qDimensionInfo,r=t.input.byDimDef||{activeDimensionIndex:n.length-1};if(r.activeDimensionIndex>=0){var o=n[r.activeDimensionIndex];r=o.coloring&&o.coloring.colorMapRef?{type:"libraryItem",key:o.coloring.colorMapRef,activeDimensionIndex:r.activeDimensionIndex}:{activeDimensionIndex:r.activeDimensionIndex}}return r}function Gu(e,t){var n;return t.activeDimensionIndex>=0?n=e.pic.fields().filter((function(e){return"dimension"===e.type()}))[t.activeDimensionIndex]:"libraryItem"===t.type?!1===(n=t.key?e.pic.field((function(e){return e.raw().colorMapRef===t.key})):void 0)&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))):"expression"===t.type&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))),n}var Ku=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.getCDef,a=void 0===i?Wu:i,l=r.getCByField,u=void 0===l?Gu:l,s=r.getPersistence,c=void 0===s?Vu:s,f=a(t,n),d=u(n,f),p=d?d.raw():{},m=n&&n.pic?n.pic.raw():{};if(p.qError||p.qSize&&0===p.qSize.qcy&&!m.qHasOtherValues)return{invalid:!0};var h={mode:"field",fieldType:"dimension",type:"categorical",field:d?d.key():void 0};return("expression"===f.type||f.activeDimensionIndex<0)&&(h.label=f.label,"color.altLabel"===p.labelExpRef&&(h.label=n.input.altLabel)),!h.label&&d&&(h.label=d.title()),n.input.dimensionScheme&&(h.palettes={categorical:n.input.dimensionScheme}),n.input.useDimColVal&&"libraryItem"===f.type&&(h.auxiliary=f),o()(h,c(t,n,f,d,{byRow:Bu,byElemNo:Hu})),h},$u=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Xu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zu(){}var Ju="\\s*([+-]?\\d+)\\s*",Yu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",es=/^#([0-9a-f]{3})$/,ts=/^#([0-9a-f]{6})$/,ns=new RegExp("^rgb\\("+[Ju,Ju,Ju]+"\\)$"),rs=new RegExp("^rgb\\("+[Qu,Qu,Qu]+"\\)$"),os=new RegExp("^rgba\\("+[Ju,Ju,Ju,Yu]+"\\)$"),is=new RegExp("^rgba\\("+[Qu,Qu,Qu,Yu]+"\\)$"),as=new RegExp("^hsl\\("+[Yu,Qu,Qu]+"\\)$"),ls=new RegExp("^hsla\\("+[Yu,Qu,Qu,Yu]+"\\)$"),us={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ss(e){var t;return e=(e+"").trim().toLowerCase(),(t=es.exec(e))?new ps((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=ts.exec(e))?cs(parseInt(t[1],16)):(t=ns.exec(e))?new ps(t[1],t[2],t[3],1):(t=rs.exec(e))?new ps(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=os.exec(e))?fs(t[1],t[2],t[3],t[4]):(t=is.exec(e))?fs(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=as.exec(e))?hs(t[1],t[2]/100,t[3]/100,1):(t=ls.exec(e))?hs(t[1],t[2]/100,t[3]/100,t[4]):us.hasOwnProperty(e)?cs(us[e]):"transparent"===e?new ps(NaN,NaN,NaN,0):null}function cs(e){return new ps(e>>16&255,e>>8&255,255&e,1)}function fs(e,t,n,r){return r<=0&&(e=t=n=NaN),new ps(e,t,n,r)}function ds(e,t,n,r){return 1===arguments.length?((o=e)instanceof Zu||(o=ss(o)),o?new ps((o=o.rgb()).r,o.g,o.b,o.opacity):new ps):new ps(e,t,n,null==r?1:r);var o}function ps(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ms(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hs(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gs(e,t,n,r)}function gs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ys(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function vs(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}$u(Zu,ss,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),$u(ps,ds,Xu(Zu,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ps(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ps(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+ms(this.r)+ms(this.g)+ms(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),$u(gs,(function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof gs)return new gs(e.h,e.s,e.l,e.opacity);if(e instanceof Zu||(e=ss(e)),!e)return new gs;if(e instanceof gs)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new gs(a,l,u,e.opacity)}(e):new gs(e,t,n,null==r?1:r)}),Xu(Zu,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new gs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new gs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ps(ys(e>=240?e-240:e+120,o,r),ys(e,o,r),ys(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var bs=function(e){return function(){return e}};function xs(e,t){return function(n){return e+n*t}}function Ms(e){return 1==(e=+e)?Os:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):bs(isNaN(t)?n:t)}}function Os(e,t){var n=t-e;return n?xs(e,n):bs(isNaN(e)?t:e)}var ws=function e(t){var n=Ms(t);function r(e,t){var r=n((e=ds(e)).r,(t=ds(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Os(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Ss(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),l=new Array(o);for(n=0;n<o;++n)r=ds(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}Ss((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return vs((n-r/t)*t,a,o,i,l)}})),Ss((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return vs((n-r/t)*t,o,i,a,l)}}));function ks(e){return function(e){if(Array.isArray(e))return Cs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Es=/^class(-pyramid)?/,As=function(e,t,n,r){var o=void 0!==n.min?n.min:r.min(),i=void 0!==n.max?n.max:r.max(),a=o,l=i,u=t.limits,s={},c="percent"===t.limitType?u.map((function(e){return o+(i-o)*e})):u,f=t.colors.map((function(t){return e.resolveUIColor(t)}));if(o=Math.min.apply(Math,[o].concat(ks(c))),i=Math.max.apply(Math,[i].concat(ks(c))),s.min=o,s.max=i,t.breakTypes&&-1===t.breakTypes.indexOf(!0))s.type="categorical",Object.assign(s,function(e){var t=e.min,n=e.max,r=e.limits,o=e.range,i=[],a=[];if(r.length)if(r[r.length-1]<t)a.push(t,n),i.push(o[o.length-1],o[o.length-1],o[o.length-1]);else if(r[0]>n)a.push(t,n),i.push(o[0],o[0],o[0]);else{if(r[0]>t)a.push(t),i.push(o[0]);else{a.push(t);for(var l=0;l<r.length;l++)if(t<r[l]){i.push(o[l]);break}}for(var u=0;u<r.length;u++)t<r[u]&&r[u]<n&&(a.push(r[u]),i.push(o[u]));if(r[r.length-1]<n)a.push(n),i.push(o[r.length]),i.push(o[r.length]);else{a.push(n);for(var s=0;s<r.length;s++)if(r[s]>n){i.push(o[s]),i.push(o[s]);break}}}else i.push(o[0]);return{min:t,max:n,range:i,domain:a}}({min:"percent"===t.limitType?o:a,max:"percent"===t.limitType?i:l,range:f,limits:"percent"===t.limitType?c:u}));else if(t.breakTypes){var d=t.breakTypes;s.type="continuous",s.domain=[o],s.range=[f[0]];for(var p=0;p<c.length;p+=1)if(d[p]){var m=f[p],h=f[p+1],g=ws(m,h)(.5);s.range.push(g),s.domain.push(c[p]),p<c.length-1&&d[p+1]&&(s.range.push(f[p+1]),s.domain.push((c[p]+c[p+1])/2))}else s.range.push(f[p]),s.range.push(f[p+1]),s.domain.push(c[p]),s.domain.push(c[p]+Math.min(1e-6,(i-o)/1e6));s.range.push(f[f.length-1]),s.domain.push(i)}else s.domain=c,s.range=f;return s};var qs=function(e,t,n,r){var o,i,a=t.theme,l=t.hc,u=r.f,s={mode:"field",fieldType:"measure",field:u?u.key():void 0,reverse:n.input.reverseScheme||!1,type:"continuous",range:function(e){return e.resources.theme.palette("quant")}},c=[],f=!0;if(u){if(Number.isNaN(+u.min())||Number.isNaN(+u.max()))return{invalid:!0};(f=!("S"===(o=n.pic.raw()).qMode&&o.qDataPages[0]&&o.qSize.qcy>o.qDataPages[0].qArea.qHeight||"K"===o.qMode&&o.qStackedDataPages[0]&&o.qSize.qcy>o.qStackedDataPages[0].qArea.qHeight))&&(c=n.pic.extract({field:0,props:{num:{field:u.key()},exclude:{fields:l.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function(e){return Math.min.apply(Math,ks(e))<0}}}}).filter((function(e){return e.value>=0&&!e.exclude.value})).map((function(e){return e.num.value})).filter((function(e){return"number"==typeof e})))}if(!1===n.input.autoMinMax){if(s.min=n.input.measureMin,s.max=n.input.measureMax,s.max<s.min)return{invalid:!0}}else if(u&&!f)s.min=u.min(),s.max=u.max();else if(u){if(!c.length)return{invalid:!0};s.min=Math.min.apply(Math,ks(c)),s.max=Math.max.apply(Math,ks(c))}if(n.input.measureScheme&&(s.palettes={quant:n.input.measureScheme}),a){var d=a.getDataColorScales().filter((function(e){return e.key===n.input.measureScheme}))[0];s.type=d&&Es.test(d.type)?"categorical":"continuous","categorical"===s.type&&(i=d.colors.some((function(e){return Array.isArray(e)}))?Math.max.apply(Math,ks(d.colors.map((function(e){return e?e.length:0})))):d.colors.length)}if("categorical"===s.type){for(var p=f?function e(t,n,r,o,i){var a,l,u,s=0,c=[],f=(t-n)/(o+1);if(0===f)return 1;for(a=0;a<r.length;a+=1)l=.99*(r[a]-n),u=r[a]>t?Math.floor(t/f):r[a]<n?0:Math.floor(l/f),Number.isNaN(u)||(c[u]?c[u]+=1:c[u]=1);for(a=0;a<c.length;a+=1)c[a]&&(s+=1);return s<=o||s>=i?Math.max(s,o):e(t,n,r,o+1,i)}(s.max,s.min,c,1,i):i,m=(s.max-s.min)/p,h=[],g=0;g<p+1;g+=1)h.push(s.min+m*g);s.domain=h,s.range=function(e){for(var t=e.resources.theme.palette("quant",p),n=Math.max(1,Math.floor(t.length/p)),r=[],o=0;o<p;o+=1)r.push(t[o*n]);return[r[0]].concat(r,[r[r.length-1]])}}return s};function Ds(e,t){var n;return t.activeMeasureIndex>=0?n=e.pic.fields().filter((function(e){return"measure"===e.type()}))[t.activeMeasureIndex]:"libraryItem"===t.type?n=e.pic.field((function(e){return e.raw().colorMapRef===t.key&&void 0!==t.key})):"expression"===t.type&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))),n||(n=e.pic.field((function(e){return void 0!==e.raw().matchMeasure})))&&(n=e.pic.fields().filter((function(e){return"measure"===e.type()}))[n.raw().matchMeasure]),n}var Ts=function(e,t,n){var r=t.theme,i=t.hc,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.getCField,u=void 0===l?Ds:l,s=n.input.byMeasureDef||{activeMeasureIndex:0},c=u(n,s),f=qs(0,{theme:r,hc:i},n,{f:c});if(f.invalid)return f;("expression"===s.type||s.activeMeasureIndex<0)&&(f.label=s.label,c&&"color.altLabel"===c.raw().labelExpRef&&(f.label=n.input.altLabel)),!f.label&&c&&(f.label=c.title());var d=s.activeMeasureIndex>=0?c:null;if(!d&&c&&void 0!==c.raw().matchMeasure&&c.raw().matchMeasure>-1&&(d=n.pic.fields().filter((function(e){return"measure"===e.type()}))[c.raw().matchMeasure]),n.input.useMeasureGradient&&"libraryItem"===s.type)if(d){var p=d.raw().coloring;p&&p.gradient&&o()(f,As(e,p.gradient,f,d))}else f.auxiliary=s;return f},Ns=function(e,t,n,r){var o=t.hc,i=t.theme,a=t.translator,l=n.pic.field((function(e){return"colorByExpression"===e.raw().id}));if(!(l&&l.raw().qFallbackTitle&&Number.isFinite(l.raw().qMin)&&Number.isFinite(l.raw().qMax))&&!n.input.expressionIsColor)return{mode:"constant",type:"constant",primary:r.nil};if(n.input.expressionIsColor)return{mode:"field",fieldType:"expression",field:l?l.key():void 0,type:"color"};var u=qs(0,{hc:o,theme:i},n,{f:l});return u.invalid||(u.label=n.input.expressionLabel||a.get("Object.ChartTooltip.ColorExpression")),u},Ls=function(e,t,n,r){var o=t.hc,i=t.theme,a=t.translator,l=n.input.useBaseColors;if(("byMultiple"===n.input.mode||"primary"===n.input.mode&&"measure"===n.input.useBaseColors)&&o.qMeasureInfo.length>1&&(l="measure"),"measure"===l){var u=[],s=[];"measure"===n.input.useBaseColors&&o.qMeasureInfo.forEach((function(t,n){if(t.baseColor||t.coloring&&t.coloring.baseColor){u.push(n);var o=e.resolveUIColor(t.baseColor||t.coloring.baseColor);"none"===o?s.push(r.primary):s.push(o)}}));var c=n.input.dimensionScheme?{categorical:n.input.dimensionScheme}:void 0,f=i?i.getDataColorPalettes()[0]:void 0;return"measure"===n.input.useBaseColors&&f&&(c={categorical:f.key}),{mode:"measure",type:"categorical",palettes:c,label:a?a.get("Common.Measures"):void 0,explicit:u.length?{domain:u,range:s}:void 0}}if("dimension"===l){var d=[],p=[];return o.qDimensionInfo.forEach((function(t,n){if(t.baseColor||t.coloring&&t.coloring.baseColor){d.push(n);var o=e.resolveUIColor(t.baseColor||t.coloring.baseColor);"none"===o?p.push(r.primary):p.push(o)}})),{mode:"dimension",type:"categorical",field:d.length?d[0]:void 0,explicit:d.length?{domain:d,range:p}:void 0}}var m=r.primary;if(void 0!==n.input.paletteColor)n.input.paletteColor&&(m=e.resolveUIColor(n.input.paletteColor));else{var h=n.input.singleColor;"number"!=typeof h||Number.isNaN(h)||(m=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"][h])}return{mode:"constant",type:"constant",primary:m}};function Is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ps=function(e,t,n,r){var i=r.external,a=r.field,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(n),!0).forEach((function(t){js(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);o()(l,Hu(a,a.raw().qCardinal));var u=i.theme?i.theme.getDataColorPalettes()[0]:null;return t.nul&&(l.nil=n.resolveUIColor(t.nul)),t.oth&&(l.others=n.resolveUIColor(t.oth)),t.usePal?(l.palettes={categorical:t.pal},u&&!t.pal&&(l.palettes.categorical=u.key,o()(l,Hu(a)))):!1===t.autoFill&&t.single?l.range=[n.resolveUIColor(t.single)]:t.autoFill&&(u&&(l.palettes={categorical:u.key}),o()(l,Hu(a))),t.colors&&t.colors.length&&(l.explicit=function(e,t,n){for(var r={},o=0;o<e.length;o+=1)r[e[o].value]=e[o].baseColor;var i=[];return{domain:function(e){var o=e.data,a=[];i=[];for(var l=0;l<o.items.length;l++){var u=o.items[l],s=(u.text||u).label;r[s]&&-1===a.indexOf(u.value)&&(a.push(u.value),i.push(t.resolveUIColor(r[s])))}return a.push(-3,-2),i.push(n.others),i.push(n.nil),a},range:function(){return i}}}(t.colors,n,l)),l};function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fs=function(e){var t=_s({hc:null,colorProps:null,layout:null,theme:null},e),n={},r={auto:function(){return{mode:"primary"}},getDimensionColorMap:function(){return Promise.reject()},getMeasure:function(){return Promise.reject()},getAttributeDimension:function(){return Promise.reject()}},i={auto:function(e){return e?(r.auto=e,i):r.auto},getDimensionColorMap:function(e){return e?(r.getDimensionColorMap=e,i):r.getDimensionColorMap},getAttributeDimension:function(e){return e?(r.getAttributeDimension=e,i):r.getAttributeDimension},getMeasure:function(e){return e?(r.getMeasure=e,i):r.getMeasure},set:function(e){if(!e.colorProps)throw new Error('Missing "colorProps"');if(o()(t,e),(n={pic:t.picasso.data("q")({data:t.hc,config:{localeInfo:t.localeInfo}}),input:t.colorProps}).input.auto){var i=r.auto(e.layout);n.input=o()(!0,{},n.input,i,{auto:!1});var a=t.theme?t.theme.getDataColorPalettes():[];a[0]&&(n.input.dimensionScheme=a[0].key);var l=0;n.input.byDimDef&&+n.input.byDimDef.activeDimensionIndex>=0&&(l=+n.input.byDimDef.activeDimensionIndex),t.hc&&t.hc.qDimensionInfo[l]&&t.hc.qDimensionInfo[l].coloring&&t.hc.qDimensionInfo[l].coloring.colorMapRef&&n.input.byDimDef&&(n.input.byDimDef.type="libraryItem",n.input.byDimDef.key=t.hc.qDimensionInfo[l].coloring.colorMapRef)}},palettes:function(){if(!n.palettes){var e=t.theme,r=[];(e&&e.getDataColorPickerPalettes()||[]).forEach((function(e){r.push({key:"ui",colors:e.colors})})),n.palettes=r}return n.palettes},getAuxiliaryData:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/qHyperCubeDef";if(!e.auxiliary&&!/qAttrDimInfo/.test(e.field))return Promise.resolve();var o=e.auxiliary||{},i=o.key;if("measure"===e.fieldType)return r.getMeasure(i,t).catch((function(){}));if("dimension"===e.fieldType){var a="".concat(n,"/").concat(e.field).replace("qDimensionInfo","qDimensions").replace("qAttrDimInfo","qAttributeDimensions");return Promise.all([/qAttrDimInfo/.test(e.field)?r.getAttributeDimension(a,t).catch((function(){})):Promise.resolve(),i?r.getDimensionColorMap(i,t).catch((function(){})):Promise.resolve()])}return Promise.resolve()},getAuxiliarySettings:function(e,r){var o=this;return e.auxiliary||/qAttrDimInfo/.test(e.field)?(this.palettes(),this.getAuxiliaryData(e,r).then((function(r){if(!r)return{};if("measure"===e.fieldType){if(r.coloring&&r.coloring.gradient){var i=n.pic.field(e.field);return As(o,r.coloring.gradient,e,i)}return{}}if("dimension"===e.fieldType){var a={nil:e.nil,others:e.others},l=r[0],u=r[1]?r[1].colorMap:null;if(l){var s=t.picasso.data("q")({data:{qDimensionInfo:[n.pic.field(e.field).raw(),n.pic.field(e.field).raw()],qMeasureInfo:[],qDataPages:l,qInterColumnSortOrder:[0,1],qMode:"S"}});a.legendDataset=s}return u?Ps(a,u,o,{external:t,field:n.pic.field(e.field)}):a}return{}}))):Promise.resolve()},resolveUIColor:function(e){if(e.index<0||void 0===e.index)return e.color;if(void 0===n.uiPalette&&(n.uiPalette=this.palettes().filter((function(e){return"ui"===e.key}))[0]||!1),!n.uiPalette)return e.color;var t="none"===n.uiPalette.colors[0]?e.index:e.index-1;return void 0===n.uiPalette.colors[t]?e.color:n.uiPalette.colors[t]},settings:function(){var e=this;if(this.palettes(),!n.settings){var r={primary:"steelblue",others:"#aaa",nil:"#ddd"},i=t.theme;i&&(r=_s(_s({},r),i.getDataColorSpecials())),n.settings=o()(r,function(){if(n.input&&!n.input.auto){if("byMeasure"===n.input.mode)return Ts(e,t,n);if("byDimension"===n.input.mode)return Ku(e,t,n);if("byExpression"===n.input.mode)return Ns(e,t,n,r);if("byMultiple"===n.input.mode||"primary"===n.input.mode)return Ls(e,t,n,r)}return{}}())}return n.settings}};return i},Us=function(e,t){var n=e.fieldType,r={};if(t)if("measure"===n){var o=t.coloring;o&&(r.measureGradient=o.gradient)}else if("dimension"===n){var i=t[0],a=t[1];i&&(r.legendDataPage=i),a&&(r.dimValsData=a.colorMap)}return r},Hs=function(e,t){var n=t.layout,r=t.app;return n&&n.snapshotData?n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.dimValsData?Promise.resolve({colorMap:n.snapshotData.content.chartData.dimValsData}):Promise.reject():r&&r.getObject?r.getObject("ColorMapModel_".concat(e)).then((function(e){return e.getLayout()})):Promise.reject()},Bs=function(e,t){var n=t.layout,r=t.app;return n&&n.snapshotData?n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.measureGradient?Promise.resolve({coloring:{gradient:n.snapshotData.content.chartData.measureGradient}}):Promise.reject():r&&r.getMeasure?r.getMeasure(e).then((function(e){return e.getMeasure()})):Promise.reject()},Vs=function(e,t){var n=t.layout,r=t.model,o=t.app;if(n&&n.snapshotData)return n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.legendDataPage?Promise.resolve(n.snapshotData.content.chartData.legendDataPage):Promise.reject();if(r&&r.session&&o)return r.getHyperCubeData(e,[{qHeight:100,qLeft:0,qTop:0,qWidth:2}]);return Promise.reject()},Ws=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auto,n=e.resources,r=Fs(n).auto(t||function(){return{mode:"byDimension",persistent:!1,useDimColVal:!0,byDimDef:{activeDimensionIndex:0,type:"expression",label:""}}}).getDimensionColorMap((function(e,t){var n=t.layout,r=t.app;return Hs(e,{layout:n,app:r})})).getMeasure((function(e,t){var n=t.layout,r=t.app;return Bs(e,{layout:n,app:r})})).getAttributeDimension((function(e,t){var n=t.layout,r=t.model,o=t.app;return Vs(e,{layout:n,model:r,app:o})}));return r.getSnapshotData=Us,r};function Gs(e){return function(e){if(Array.isArray(e))return Ks(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ks(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Js(e){return function(e){if(Array.isArray(e))return Ys(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ys(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qs(e){return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e){return function(t){return"object"===Qs(t.datum[e])?t.datum[e].value:void 0}}function tc(e){return-2===e.datum.value}function nc(e){return-3===e.datum.value}var rc=function(e){var t,n=e.coloring,r=e.scales,o=e.key,i=n.nil,a=n.others,l=n.primary,u=o,s=ec(o),c=ec("".concat(o,"IsAnOther"));return n.invalid?t=function(e){return nc(e)||c(e)?a:i}:r[u]?t=function(e){return nc(e)?a:tc(e)||-2===s(e)&&"dimension"===n.fieldType||"NaN"===s(e)?i:c(e)?a:e.resources.scale(u)(s(e))||a}:"constant"===n.mode?t=function(e){return nc(e)||c(e)?a:tc(e)?i:l}:"color"===n.type&&(t=function(e){return nc(e)||c(e)?a:tc(e)?i:s(e)||a}),t},oc=function(e,t,n){var r=e&&e.dock||void 0;if("auto"!==r)return r||"right";if(t){var o=t.element.getBoundingClientRect();if(o.height>o.width)return"bottom"}return n?"left":"right"},ic=function(e,t,n){return!(n.invalid||"color"===n.type||"measure"===n.mode&&t.qMeasureInfo.length<=1||"dimension"===n.mode)&&!1!==e.show};function ac(e,t){var n=e.styleReference,r=e.chart,o=e.rtl,i=t.legendProps,a=t.coloring,l=t.theme,u=t.hc;return{layout:{minimumLayoutMode:"MEDIUM",dock:oc(i,r,o)},show:ic(i,u,a),renderer:"svg",mounted:function(e){e.childNodes[0].style.pointerEvents="none",e.style.overflow="hidden"},settings:{title:{show:!1!==i.showTitle,wordBreak:"break-word",maxLines:2,lineHeight:1.2,text:a.label||"",fill:l?l.getStyle(n,"legend.title","color"):void 0,fontSize:l?l.getStyle(n,"legend.title","fontSize"):"16px",fontFamily:l?l.getStyle(n,"legend.title","fontFamily"):"QlikView Sans, sans-serif"}}}}function lc(e,t,n){return"categorical"===t.coloring.type?function(e,t,n){var r=ac(e,t);if(!r.show)return!1;var i=e.key,a=e.styleReference,l=e.viewState,u=e.rtl,s=e.settings,c=e.style,f=t.scaleKey,d=t.theme,p=t.scales,m={up:"M13.6,11 L2.4,11 C2.28954305,11 2.2,10.9104569 2.2,10.8 C2.2,10.756726 2.21403557,10.7146192 2.24,10.68 L7.84,3.21333333 C7.90627417,3.12496777 8.03163444,3.10705916 8.12,3.17333333 C8.13516113,3.18470418 8.14862915,3.1981722 8.16,3.21333333 L13.76,10.68 C13.8262742,10.7683656 13.8083656,10.8937258 13.72,10.96 C13.6853808,10.9859644 13.643274,11 13.6,11 Z",down:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z",left:"M11,2.4 L11,13.6 C11,13.7104569 10.9104569,13.8 10.8,13.8 C10.756726,13.8 10.7146192,13.7859644 10.68,13.76 L3.21333333,8.16 C3.12496777,8.09372583 3.10705916,7.96836556 3.17333333,7.88 C3.18470418,7.86483887 3.1981722,7.85137085 3.21333333,7.84 L10.68,2.24 C10.7683656,2.17372583 10.8937258,2.19163444 10.96,2.28 C10.9859644,2.31461923 11,2.35672596 11,2.4 Z",right:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"},h="".concat(f,"Legend");return o()(!0,r,{type:"legend-cat",key:"".concat(i,"-cat"),scale:h in p?h:f,settings:{layout:{scrollOffset:function(){return l?l.get("legendScrollOffset"):void 0},size:-1!==["top","bottom"].indexOf(r.layout.dock)?2:1,direction:u?"rtl":"ltr",horizontal:20},item:{show:function(e){return-2!==e.datum.value},label:{fill:d?d.getStyle(a,"legend.label","color"):void 0,fontSize:d?d.getStyle(a,"legend.label","fontSize"):void 0,fontFamily:d?d.getStyle(a,"legend.label","fontFamily"):"QlikView Sans, sans-serif"}},navigation:{disabled:n,button:{content:function(e,t){var n=t.direction;return e("i",{style:{"pointer-events":"none",fontSize:"12px",display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizelegibility",margin:"0px"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},[e("path",{d:m[n]})])])}}}},brush:{consume:[{context:"selection",data:["",i],style:{inactive:{opacity:.3}}}]}},{settings:s,style:c})}(e,t,n):"continuous"===t.coloring.type&&function(e,t){var n=e.key,r=e.styleReference,i=e.rtl,a=e.settings,l=e.style,u=t.scaleKey,s=t.theme,c=ac(e,t);return!!c.show&&o()(!0,c,{type:"legend-seq",key:"".concat(n,"-seq"),settings:{fill:u,major:"".concat(u,"Range"),length:1,tick:{fill:s?s.getStyle(r,"legend.label","color"):void 0,fontSize:s?s.getStyle(r,"legend.label","fontSize"):void 0,fontFamily:s?s.getStyle(r,"legend.label","fontFamily"):"QlikView Sans, sans-serif"},title:{anchor:!i||"top"!==c.layout.dock&&"bottom"!==c.layout.dock?void 0:"right",padding:parseFloat(c.settings.title.fontSize)||16}}},{settings:a,style:l})}(e,t)}function uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sc=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventName,r=t.key,o=t.requireFailure,i=t.recognizeWith,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.actions;return{key:"event:pan-".concat(r),type:"Pan",requireFailure:o,recognizeWith:i,options:{event:n,pointers:1,threshold:10,enable:function(e,t){return this.started===n||!t||!(l&&l.interact&&!l.interact.enabled())&&this.chart.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key==="".concat(r,"-cat")}))}},events:(e={},uc(e,"".concat(n,"start"),(function(e){e.preventDefault(),this.started!==n&&(this.started=n,this.chart.component("".concat(r,"-cat")).emit("panstart",e))})),uc(e,"".concat(n,"move"),(function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panmove",e)})),uc(e,"".concat(n,"end"),(function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panend",e),this.started=!1})),e)}},cc=function(e){var t=e.key,n=e.requireFailure,r=e.recognizeWith,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.actions;return{key:"event:tap-".concat(t),type:"Tap",requireFailure:n,recognizeWith:r,options:{event:"legendtap",interval:10,pointers:1,enable:function(e,n){if(!n)return!0;if(i&&i.interact&&!i.interact.enabled())return!1;if(!this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some((function(e){return e.key==="".concat(t,"-cat")})))return!1;var r=n.srcEvent.target;return!!(r&&r.hasAttribute("data-action")&&r.hasAttribute("data-component-key"))||!(!r||!r.childNodes[0]||"BUTTON"!==r.childNodes[0].nodeName)}},events:{legendtap:function(e){e.preventDefault();var t=e.srcEvent.target;t&&t.hasAttribute("data-action")&&t.hasAttribute("data-component-key")&&this.chart.component(t.getAttribute("data-component-key")).emit(t.getAttribute("data-action"))}}}},fc=function(e,t,n){var r=[],o=[],i=lc(e,t,n&&n.navigationDisabled);return r.push(i),i&&"legend-cat"===i.type&&(o.push(cc(e,n)),o.push(sc(e,n))),{interactions:o,components:r}};function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pc=function(e){return"rgba(".concat([(16711680&e)>>16,(65280&e)>>8,255&e,((4278190080&e)>>>24)/255].join(","),")")},mc=function(e){var t,n,r=e.hc,o=e.coloring,i=e.scales,a=e.key,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=a,s=o.nil;i[a]&&"field"===o.mode?t=i[a].data.field||o.field:"field"===o.mode&&o.field&&(t=o.field),t?(n={field:t,reduce:"first"},"color"===o.type&&(n.value=function(e){return"NaN"!==e.qNum?pc(e.qNum):e.qText&&Wl(e.qText)?e.qText:s})):"dimension"===o.mode?n=void 0!==o.field?o.field:r.qDimensionInfo.length-1:"measure"===o.mode&&(n=l);var c=dc({},u,n);return r.qDimensionInfo.length>1&&(c["".concat(u,"IsAnOther")]={fields:r.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function(e){return-1!==e.indexOf(-3)}}),c};function hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(n),!0).forEach((function(t){yc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vc(e){var t=Ws({resources:e}),n={},r={},i=function(e){return r.settings||(e||console.warn("settings() called before auxiliarySettings()"),r.settings=t.settings()),r.settings},a={config:function(o){if(n=gc({},o),r={},!n.key)throw new Error("Missing key");t.set(gc(gc({},e),n))},auto:function(e){return e?(t.auto(e),a):t.auto()},getAuxiliarySettings:function(e){return r.auxiliarySettings?Promise.resolve(r.auxiliarySettings):t.getAuxiliarySettings(i(!0),e).then((function(e){return r.auxiliarySettings=e||{},r.settings=gc(gc({},r.settings),r.auxiliarySettings),r.auxiliarySettings}))},getAuxiliaryData:function(){return t.getAuxiliaryData(i())},getSnapshotData:function(){var e=i();return t.getAuxiliaryData(e).then((function(n){return t.getSnapshotData(e,n)}))},resolveUIColor:function(e){return t.resolveUIColor(e)},settings:function(){var e=i();return{mode:e.mode,type:e.type,label:e.label,field:e.field,fieldType:e.fieldType,nil:e.nil,others:e.others,primary:e.primary}},palettes:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colorProps,n=e.coloring,r=e.theme,o=[];if(n&&n.palettes&&r){var i=n.palettes.categorical||t.dimensionScheme,a=r.getDataColorPalettes().filter((function(e){return e.key===i}))[0]||r.getDataColorPalettes()[0];i&&a&&o.push({key:"categorical",colors:a.colors});var l=n.palettes.metric||t.measureScheme,u=r.getDataColorScales().filter((function(e){return e.key===l}))[0];if(u){var s=u.colors[0]?u.colors:[[]].concat(Gs(u.colors.slice(1)));s=Array.isArray(s[0])?s.map((function(e){return e.slice().reverse()})):s.slice().reverse(),o.push({key:"quant",colors:s})}}return o}({coloring:i(),colorProps:n.colorProps,theme:n.theme})},scales:function(){return r.scales=r.scales||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hc,n=e.coloring,r=e.rtl,i=e.key,a=e.source,l=e.picasso,u={},s=i;if(n){var c={override:!0,domain:n.explicit&&"function"==typeof n.explicit.domain?n.explicit.domain:[].concat(Js((n.explicit||{}).domain||[]),[-3,-2]),range:n.explicit&&"function"==typeof n.explicit.range?n.explicit.range:[].concat(Js((n.explicit||{}).range||[]),[n.others,n.nil])};if("field"===n.mode){if("dimension"===n.fieldType){var f,d=function(e){var t=e.hc,n=e.source,r=e.coloring,o={data:{extract:[{source:"dummy",field:0,filter:function(){return o.expando=t.qDataPages[0]?t.qDataPages[0].qArea.qTop:0,!1}},{source:n,field:r.field,trackBy:r.valueAccessor,reduce:"first",props:{row:{reduce:function(){return o.expando++}},text:{value:function(e){return e.qText},reduce:"first"}}}]},expando:0};return o}({hc:t,source:a,coloring:n}).data;if(n.legendDataset){var p=0,m={};l.data("q")({data:t}).extract({field:n.field,trackBy:n.valueAccessor,reduce:function(e){var t=e[0];return m[t]=p++,e[0]}}),f={source:"attrDim",extract:{field:"qDimensionInfo/0",filter:function(e){return e.qElemNumber>=0},props:{row:{value:function(e){return m[e.qElemNumber]}}}}}}var h={data:d,range:n.range,domain:n.domain,explicit:c,type:"categorical-color",label:function(e){return e.datum.text&&e.datum.text.value?e.datum.text.value:e.datum.label}};u[s]=h,f&&(u["".concat(s,"Legend")]=Xs(Xs({},h),{},{data:f})),t&&t.qHasOtherValues&&f&&((f||h.data).amend=[{label:t.qDimensionInfo[0].othersLabel,source:{key:"qHyperCube",field:"qDimensionInfo/0"},row:{value:-3},value:-3}])}else if("measure"===n.fieldType){var g={data:{field:n.field},min:n.min,max:n.max};u[s]=o()({},g,{type:"categorical"===n.type?"threshold-color":"sequential-color",range:n.range,domain:n.domain,invert:n.reverse}),"sequential-color"===u[s].type&&(u["".concat(s,"Range")]=o()({},g,{invert:!!r}))}else if("color"!==n.type)throw new Error("UNUSED FIELD")}else if("dimension"===n.mode){var y={data:t.qDimensionInfo.map((function(e,t){return t})),label:function(e){return t.qDimensionInfo[e.datum.value].qFallbackTitle},explicit:c,type:"categorical-color"};u[s]=y}else if("measure"===n.mode){var v={data:t.qMeasureInfo.map((function(e,t){return t})),label:function(e){return t.qMeasureInfo[e.datum.value].qFallbackTitle},explicit:c,type:"categorical-color"};u[s]=v}}return u}({hc:n.hc,coloring:i(),key:n.key,source:n.source,picasso:e.picasso}),r.scales},color:function(){return r.color=r.color||rc({coloring:i(),scales:this.scales(),key:n.key}),r.color},datumProps:function(e){return mc({coloring:i(),scales:this.scales(),key:n.key,hc:n.hc},e)},data:function(){var e=i(),t={key:"dummy",data:[["field"],["a"]]};return e.legendDataset?[t,{type:"q",key:"attrDim",data:e.legendDataset.raw(),config:{localeInfo:n.localeInfo}}]:[t]},legend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eventName,r=e.key,o=e.viewState,a=e.chart,l=e.rtl,u=e.styleReference,s=void 0===u?"object.legend":u,c=e.settings,f=void 0===c?{}:c,d=e.style,p=void 0===d?{}:d,m=arguments.length>1?arguments[1]:void 0;return fc({eventName:t,key:r,rtl:l,viewState:o,chart:a,styleReference:s,settings:f,style:p},{legendProps:n.legendProps,scaleKey:n.key,coloring:i(),theme:n.theme,hc:n.hc,scales:this.scales()},m)}};return a}function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){Mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oc=function(e){var t=e.color.useBaseColors,n=e.qHyperCube.qDimensionInfo.filter((function(e){return e.baseColor||e.coloring&&e.coloring.baseColor})).length>0,r=e.qHyperCube.qMeasureInfo.filter((function(e){return e.baseColor||e.coloring&&e.coloring.baseColor})).length>0;return"measure"===t&&!r||"dimension"===t&&!n?"off":t},wc=function(e){if(e.qHyperCube.qDimensionInfo.length>1)return{mode:"byDimension",useDimColVal:!0,useBaseColors:"dimension",byDimDef:{activeDimensionIndex:1}};if(e.qHyperCube.qMeasureInfo.length>1)return{mode:"primary",useBaseColors:"measure",paletteColor:null};var t=e.qHyperCube.qDimensionInfo.filter((function(e){return e.baseColor||e.coloring&&e.coloring.baseColor})).length>0,n=e.qHyperCube.qMeasureInfo.filter((function(e){return e.baseColor||e.coloring&&e.coloring.baseColor})).length>0;return{mode:"primary",useBaseColors:t?"dimension":n?"measure":"off",paletteColor:null}};var Sc=n(7),kc=n.n(Sc),Cc=n(8),Ec=n.n(Cc),Ac=n(21),qc=n.n(Ac),Dc=n(22),Tc=n.n(Dc),Nc=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͽΆΈ-ϵϷ-҂Ҋ-։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ॿং-হঽ-ীে-ৌৎ-ৡ০-ৱ৴-৺ਃ-ਹਾ-ੀਖ਼-੯ੲ-ੴઃ-હઽ-ીૉ-ૌૐ-ૡ૦-૯ଂ-ହଽ-ାୀେ-ୌୗ-ୡ୦-୷ஃ-ிு-ௌௐ-௲ఁ-ఽు-ౄౘ-ౡ౦-౯౿-ಹಽ-ೋೕ-ೡ೦-ീെ-ൌൎ-ൡ൦-ෆා-ෑෘ-ะา-ำเ-ๆ๏-ະາ-ຳຽ-ໆ໐-༗༚-༴༶༸༾-ཬཿ྅ྈ-ྌ྾-࿅࿇-ာေးျ-ြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃ-ႄႇ-ႌႎ-ႜ႞-ፚ፠-ᎏᎠ-Ᏼᐁ-ᙿᚁ-ᚚᚠ-ᜑᜠ-ᜱ᜵-ᝑᝠ-ᝰក-ាើ-ៅះ-ៈ។-៚ៜ០-៩᠐-ᢨᢪ-ᤜᤣ-ᤦᤩ-ᤱᤳ-ᤸ᥆-᧚ᨀ-ᨖᨙ-ᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-᭪᭴-᭼ᮂ-ᮡᮦ-ᮧ᮪-ᯥᯧᯪ-ᯬᯮ᯲-ᰫᰴ-ᰵ᰻-᱿᳓᳡ᳩ-ᳬᳮ-ᶿḀ-ᾼιῂ-ῌῐ-Ίῠ-Ῥῲ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ-⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-ⳤⳫ-ⳮⴀ-⵰ⶀ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㍶㍻-㏝㏠-㏾㐀-䶵一-ꒌꓐ-ꘌꘐ-ꙮꚀ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꤥ꤮-ꥆꥒ-ꥼꦃ-ꦲꦴ-ꦵꦺ-ꦻꦽ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂ-ꯤꯦ-ꯧꯩ-꯬꯰-ﬗＡ-Ｚａ-ｚｦ-ￜ]"),Lc=new RegExp("[־׀׃׆א-״߀-ߪߴ-ߵߺ-ࠕࠚࠤࠨ࠰-ࡘ࡞‏יִײַ-ﬨשׁ-ﭏ]"),Ic=new RegExp("[؈؋؍؛-ي٭-ٯٱ-ەۥ-ۦۮ-ۯۺ-܍ܐܒ-ܯݍ-ޥޱﭐ-ﴽﵐ-﷼ﹰ-ﻼ]"),jc={lrm:String.fromCharCode(8206),rlm:String.fromCharCode(8207),isLtrChar:function(e){return Nc.test(e)},isRtlChar:function(e){return Lc.test(e)||Ic.test(e)},detectTextDirection:function(e){var t,n,r=e?e.length:0;for(t=0;t<r;t++){if(n=e[t],jc.isLtrChar(n))return"ltr";if(jc.isRtlChar(n))return"rtl"}return"ltr"}},Pc=jc,Rc=n(1),_c=n.n(Rc),zc=n(2),Fc=n.n(zc),Uc=n(5);function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vc(e){return"large"===e?"20px":"small"===e?"12px":"16px"}function Wc(e){var t=e.d,n=e.size,r=e.style,o=void 0===r?{}:r,i=e.viewBox,a=void 0===i?"0 0 16 16":i,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){Bc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:Vc(n),display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-.125em",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},o);return _c.a.createElement("i",{style:l},_c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:a,fill:"currentColor"},_c.a.createElement("path",{d:t})))}var Gc={d:"M15.9993744,3 L15.9993744,5 L4.99937445,5 L4.99937445,3 L15.9993744,3 Z M8.99937445,7 L15.9993744,7 L15.9993744,9 L8.99937445,9 L8.99937445,7 Z M11.9993744,11 L15.9993744,11 L15.9993744,13 L11.9993744,13 L11.9993744,11 Z M2.2,11 L7,11 L7,9.00369263 C7,8.89323568 7.08954305,8.80369263 7.2,8.80369263 C7.2549016,8.80369263 7.30738916,8.82626165 7.34515712,8.86610844 L10.1852182,11.8624926 C10.2583124,11.93961 10.258346,12.0604218 10.1852948,12.13758 L7.34523376,15.1373102 C7.2692928,15.2175206 7.14270711,15.2209817 7.06249671,15.1450407 C7.02260076,15.1072683 7,15.0547472 7,14.9998069 L7,12.9043747 C4.79351111,12.9043747 2.8018683,12.9266213 1.02507156,12.9711145 L1.02507252,12.9711526 C0.472939773,12.9849787 0.014139487,12.5485949 0.000313396522,11.9964622 C0.000104473692,11.988119 -1.32268838e-12,11.9797736 -1.3231638e-12,11.9714278 L-1.83320026e-12,3 L2,3 L2,10.8 C2,10.9104569 2.08954305,11 2.2,11 Z"},Kc={d:"M13,7 L8,7 L13,7 L13,4.98151367 C13,2.23029964 10.7614237,0 8,0 C5.23857625,0 3,2.23029964 3,4.98151367 L3,7 L3.75,7 L3,7 L4.5,7 L4.5,5.33193359 C4.5,3.21561511 5.54860291,1.5 8,1.5 C10.4513971,1.5 11.5,3.21561511 11.5,5.33193359 L11.5,7 L12.25,7 L3,7 C2.44771525,7 2,7.44771525 2,8 L2,15 C2,15.5522847 2.44771525,16 3,16 L13,16 C13.5522847,16 14,15.5522847 14,15 L14,8 C14,7.44771525 13.5522847,7 13,7 L3,7 L13,7 Z"},$c={d:"M6,10 L13,3 L15,5 L8,12 L6,14 L1,9 L3,7 L6,10 Z"},Xc={d:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z"},Zc={d:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"};function Jc(e){return function(e){if(Array.isArray(e))return Yc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qc(e){return(Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ef=o.a.bind(null,!0),tf={},nf=Array.isArray;function rf(e){return null!=e&&!Array.isArray(e)&&"object"===Qc(e)}function of(e){return void 0===e}function af(e,t){return"function"==typeof e[t]||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function lf(e,t){var n,r=t.substring(1).split("/").slice(0,-1);return r.forEach((function(t,o){if(o!==r.length){n=+t;var i=isNaN(n)?{}:[];e[n||t]=of(e[n||t])?i:e[t],e=e[n||t]}})),e}function uf(e,t){var n=!0;if(rf(e)&&rf(t))return Object.keys(e).length===Object.keys(t).length&&(Object.keys(e).forEach((function(r){uf(e[r],t[r])||(n=!1)})),n);if(nf(e)&&nf(t)){if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r+=1)if(!uf(e[r],t[r]))return!1;return!0}return e===t}tf.generate=function(e,t,n){n=n||"";var r=[];return Object.keys(t).forEach((function(o){var i=function(e){return e?ef({},{val:e}).val:e}(t[o]),a=e[o],l="".concat(n,"/").concat(o);uf(i,a)||af(t,o)||(of(a)?r.push({op:"add",path:l,value:i}):rf(i)&&rf(a)?r=r.concat(tf.generate(a,i,l)):nf(i)&&nf(a)?r=r.concat(function(e,t,n){var r=[],o=e.slice(),i=-1;function a(e,t,n){if(e[n]&&of(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var r=0,o=e.length;r<o;r+=1)if(e[r]&&e[r].qInfo.qId===t)return r;return-1}if(uf(t,o))return r;if(!of(t[0])&&of(t[0].qInfo))return r.push({op:"replace",path:n,value:t}),r;for(var l=o.length-1;l>=0;l-=1)-1===(i=a(t,o[l].qInfo&&o[l].qInfo.qId,l))?(r.push({op:"remove",path:"".concat(n,"/").concat(l)}),o.splice(l,1)):r=r.concat(tf.generate(o[l],t[i],"".concat(n,"/").concat(l)));for(var u=0,s=t.length;u<s;u+=1)-1===(i=a(o,t[u].qInfo&&t[u].qInfo.qId))?(r.push({op:"add",path:"".concat(n,"/").concat(u),value:t[u]}),o.splice(u,0,t[u])):i!==u&&(r.push({op:"move",path:"".concat(n,"/").concat(u),from:"".concat(n,"/").concat(i)}),o.splice(u,0,o.splice(i,1)[0]));return r}(a,i,l)):r.push({op:"replace",path:"".concat(n,"/").concat(o),value:i}))})),Object.keys(e).forEach((function(o){of(t[o])&&!af(e,o)&&r.push({op:"remove",path:"".concat(n,"/").concat(o)})})),r},tf.apply=function(e,t){t.forEach((function(t){var n,r=lf(e,t.path),o=t.path.split("/").splice(-1)[0],i=o&&isNaN(+o)?r[o]:r[+o]||r,a=t.from?t.from.split("/").splice(-1)[0]:null;if("/"===t.path&&(r=null,i=e),"add"===t.op||"replace"===t.op)if(nf(r))"-"===o&&(o=r.length),r.splice(+o,"add"===t.op?0:1,t.value);else if(nf(i)&&nf(t.value)){var l,u=t.value.slice();i.length=0,(l=i).push.apply(l,Jc(u))}else if(rf(i)&&rf(t.value))n=i,Object.keys(n).forEach((function(e){Object.getOwnPropertyDescriptor(n,e).configurable&&!af(n,e)&&delete n[e]})),ef(i,t.value);else{if(!r)throw new Error("Patchee is not an object we can patch");r[o]=t.value}else if("move"===t.op){var s=lf(e,t.from);nf(r)?r.splice(+o,0,s.splice(+a,1)[0]):(r[o]=s[a],delete s[a])}else"remove"===t.op&&(nf(r)?r.splice(+o,1):delete r[o])}))},tf.clone=function(e){return ef({},e)},tf.createPatch=function(e,t,n){var r={op:e.toLowerCase(),path:n};return"move"===r.op?r.from=t:void 0!==t&&(r.value=t),r},tf.updateObject=function(e,t){Object.keys(e).length?tf.apply(e,tf.generate(e,t)):ef(e,t)};var sf=tf;function cf(e,t,n){(function(e){var t=e.model,n=e.properties;return t.modifiers?t.modifiers.apply({model:t,properties:n}):Promise.resolve()})({model:e,properties:n}).then((function(){e.colorSupport&&e.colorSupport.colorByUpdater(n,"qHyperCubeDef.");var r=sf.generate(t,n);r&&r.length&&(r=r.map((function(e){return{qOp:e.op,qValue:JSON.stringify(e.value),qPath:e.path}})),e.applyPatches(r,!0))}))}function ff(e,t,n,r,i){e.getEffectiveProperties().then((function(a){var l=o()(!0,{},a),u=l.qHyperCubeDef[r][t],s=l.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n];s.qAttributeDimensions=u.qAttributeDimensions,i||(s.qAttributeExpressions=u.qAttributeExpressions,u.qAttributeExpressions=[]),u.qAttributeDimensions=[],l.qHyperCubeDef[r][t]=s,l.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n]=u,cf(e,a,l)}))}function df(e){var t=e.dir,n=e.dock,r=e.altList,o=e.model,i=e.translator,a=e.app;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map((function(e){return function(e,t,n){if(!!e.qLibraryId)return t.getDimension(e.qLibraryId).then((function(e){return e.getLayout()})).catch((function(){return null})).then((function(e){return e?"H"===e.qDim.qGrouping||!e.qDim.qLabelExpression?e.qDim.title:e.qDim.qLabelExpression:n.get("Object.ErrorMessage.MissingDimension")}));var r=e.qDef.qLabelExpression;if(!!r)return t.evaluate(r);var o=e.qDef.qFieldLabels[0]||e.qDef.qFieldDefs[0];return Promise.resolve(o)}(e,a,i).then((function(t){return{id:e.qDef.cId,selected:!1,title:t}}))}));return Promise.all(e)},changeTo:function(e,t){ff(o,e,t,"qDimensions")}}}function pf(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/qHyperCubeDef";return{breadcrumbs:e.qGroupFallbackTitles.slice(0,e.qGroupPos),drilldown:"H"===e.qGrouping,index:t,locked:!!e.qLocked,text:"H"===e.qGrouping?e.qGroupFallbackTitles[e.qGroupPos]:e.qFallbackTitle,popoverText:(r=e,"H"===r.qGrouping?r.title||"":r.qFallbackTitle||""),drillUp:function(e){var r=t;n.drillUp(o,r,e)}}}function mf(e){var t=e.dir,n=e.dock,r=e.altList,o=e.model,i=e.translator,a=e.app,l=e.skipAttributeExpressions;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map((function(e){return function(e,t,n){if(!!e.qLibraryId)return t.getMeasure(e.qLibraryId).then((function(e){return e.getLayout()})).catch((function(){return null})).then((function(e){return e?e.qMeasure.qLabelExpression?e.qMeasure.qLabelExpression:e.qMeasure.qLabel||e.qMeasure.qDef:n.get("Object.ErrorMessage.MissingMeasure")}));var r=e.qDef.qLabelExpression;if(!!r)return t.evaluate(r);var o=e.qDef.qLabel||e.qDef.qDef;return Promise.resolve(o)}(e,a,i).then((function(t){return{id:e.qDef.cId,selected:!1,title:t}}))}));return Promise.all(e)},changeTo:function(e,t){ff(o,e,t,"qMeasures",l)}}}function hf(e,t){return{breadcrumbs:[],drilldown:!1,index:t,locked:!1,text:e.qFallbackTitle,popoverText:e.qFallbackTitle}}function gf(e){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xf(e,t){return(xf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sf(e);if(t){var o=Sf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Of(this,n)}}function Of(e,t){return!t||"object"!==gf(t)&&"function"!=typeof t?wf(e):t}function wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sf(e){return(Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kf(){return(kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ef={bottom:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},top:{anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"}},left:{anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"}},right:{anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"}}},Af=function(e){var t=e.children,n=Cf(e,["children"]);return _c.a.createElement(Uc.Button,kf({size:"small",disableRipple:!0,disableTouchRipple:!0},n),t)},qf=function(){function e(e){var t=e.title,n=e.selected,r=e.onClick,o=Pc.detectTextDirection(t);return _c.a.createElement(Uc.ListItem,{button:!0,onClick:r,style:{textAlign:"start"}},_c.a.createElement(Uc.ListItemIcon,{style:{minWidth:32}},_c.a.createElement(Wc,{d:n?$c.d:""})),_c.a.createElement(Uc.ListItemText,{primaryTypographyProps:{dir:o}},t))}function t(t){var n=t.alignTo,r=t.changeTo,o=t.current,i=t.dir,a=t.dock,l=t.list,u=t.onClose,s=t.show,c=l.map((function(t,n){return _c.a.createElement(e,{key:t.id,title:t.title,onClick:function(){return r(n)}})}));return _c.a.createElement(Uc.Popover,kf({anchorEl:n,open:s,onClose:u},Ef[a],{PaperProps:{style:{minWidth:"250px",maxHeight:"300px"}}}),_c.a.createElement(Uc.List,{dense:!0,dir:i,component:"nav"},_c.a.createElement(e,{title:o,selected:!0,onClick:u}),c))}e.propTypes={title:Fc.a.string.isRequired,selected:Fc.a.bool,onClick:Fc.a.func.isRequired},e.defaultProps={selected:!1},t.propTypes={alignTo:Fc.a.any,changeTo:Fc.a.func.isRequired,current:Fc.a.string.isRequired,dir:Fc.a.string.isRequired,dock:Fc.a.string.isRequired,list:Fc.a.array,onClose:Fc.a.func.isRequired,show:Fc.a.bool.isRequired},t.defaultProps={list:[],alignTo:null};var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xf(e,t)}(a,e);var n,r,o,i=Mf(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={open:!1,inSelection:e.selections&&e.selections.isActive()},t.openPopover=t.openPopover.bind(wf(t)),t.closePopover=t.closePopover.bind(wf(t)),t.changeTo=t.changeTo.bind(wf(t)),t.alignToRef=_c.a.createRef(),t}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.selections;t&&(this.onSelectionsActivated=function(){return e.setState({inSelection:!0})},this.onSelectionsDeactivated=function(){return e.setState({inSelection:!1})},t.addListener("activated",this.onSelectionsActivated),t.addListener("deactivated",this.onSelectionsDeactivated),t.addListener("canceled",this.onSelectionsDeactivated))}},{key:"componentWillUnmount",value:function(){var e=this.props.selections;e&&(e.removeListener("activated",this.onSelectionsActivated),e.removeListener("deactivated",this.onSelectionsDeactivated),e.removeListener("canceled",this.onSelectionsDeactivated))}},{key:"changeTo",value:function(e){this.props.popover.changeTo(this.props.titleData.index,e),this.closePopover()}},{key:"openPopover",value:function(){var e=this;this.state.closeTime&&Date.now()-this.state.closeTime<20||this.props.popover.getAlternatives().then((function(t){e.setState({open:!0,alternatives:t})}))}},{key:"closePopover",value:function(){this.setState({open:!1,closeTime:Date.now()})}},{key:"render",value:function(){var e=this.props,n=e.titleData,r=e.popover,o=e.translator,i=e.disabled,a=e.isDimension,l=e.padding,u=e.minWidth,s=e.hasAlternative,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yf(Object(n),!0).forEach((function(t){vf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"normal"},this.props.style),f=n.breadcrumbs.length,d=i||this.state.inSelection,p=n.breadcrumbs.map((function(e,t){return _c.a.createElement(Af,{style:{display:"flex",alignItems:"center",color:d&&"rgba(89, 89, 89, 0.8)",pointerEvents:d?"none":"auto"},key:t,onClick:function(){return d?void 0:n.drillUp(f-t)},title:e},_c.a.createElement("span",{style:c},e),_c.a.createElement(Wc,kf({},Zc,{size:"small",style:{margin:"0 8px"}})))})),m=r&&!this.state.open?this.openPopover:this.closePopover,h=!r||i||this.state.inSelection,g={display:"flex",alignItems:"center",width:"100%",color:h&&"rgba(89, 89, 89, 0.8)",height:!a&&h&&"20px",lineHeight:!a&&h&&"20px",border:!a&&h&&"none"};l&&(g.padding=l),u&&(g.minWidth=u);var y=Pc.detectTextDirection(n.text),v=_c.a.createElement(Af,{style:g,onClick:h?void 0:m,title:n.text,tabIndex:"-1"},n.locked&&_c.a.createElement(Wc,kf({},Kc,{size:"small",title:o.get("Tooltip.selections.locked")})),_c.a.createElement("span",{style:c,dir:y},n.text),r&&_c.a.createElement(Wc,kf({},Xc,{size:"small",style:{margin:"0 8px"}})));return _c.a.createElement(_c.a.Fragment,null,n.drilldown&&_c.a.createElement(Wc,kf({},Gc,{size:"small",title:o.get("Tooltip.dimensions.drilldown"),style:{margin:"0 4px 0 0"}})),p,_c.a.createElement("div",{ref:this.alignToRef,style:{overflow:"hidden",pointerEvents:s?"auto":"none"}},v),r&&_c.a.createElement(t,{dock:r.dock,dir:r.dir,current:n.popoverText,alignTo:this.alignToRef.current,show:this.state.open,list:this.state.alternatives,onClose:this.closePopover,changeTo:this.changeTo}))}}])&&bf(n.prototype,r),o&&bf(n,o),a}(_c.a.Component);function r(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]}function o(e){return!e.isDimension&&_a.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.length")>0}return n.propTypes={disabled:Fc.a.bool.isRequired,padding:Fc.a.string,minWidth:Fc.a.string,titleData:Fc.a.shape({breadcrumbs:Fc.a.arrayOf(Fc.a.string).isRequired,drilldown:Fc.a.bool.isRequired,index:Fc.a.number.isRequired,locked:Fc.a.bool.isRequired,text:Fc.a.string.isRequired,popoverText:Fc.a.string.isRequired,drillUp:Fc.a.func}).isRequired,popover:Fc.a.shape({dir:Fc.a.string.isRequired,dock:Fc.a.string.isRequired,changeTo:Fc.a.func.isRequired,getAlternatives:Fc.a.func.isRequired}),translator:Fc.a.shape({get:Fc.a.func.isRequired}).isRequired,selections:Fc.a.shape({isActive:Fc.a.func,addListener:Fc.a.func,removeListener:Fc.a.func}),style:Fc.a.shape({fontSize:Fc.a.string,color:Fc.a.string,fontFamily:Fc.a.string}).isRequired,isDimension:Fc.a.bool.isRequired,hasAlternative:Fc.a.bool.isRequired},n.defaultProps={popover:null,selections:null,padding:"",minWidth:""},{renderer:"react",disableTriggers:!0,preferredSize:function(){return this.settings.settings.isDimension||o(this.settings.settings)?28:20},render:function(){var e,t=this,i=this.settings,a=i.settings,l=a.hyperCube,u=a.hyperCubeDef,s=a.disabled,c=a.isDimension,f=a.model,d=a.translator,p=a.rtl,m=a.selections,h=a.app,g=a.padding,y=a.minWidth,v=a.skipAttributeExpressions,b=a.explicitItemInfos,x=i.layout.dock,M="top"!==x&&"bottom"!==x||!p?"ltr":"rtl",O=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center"};return"left"===e?(n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left"):"right"===e&&(n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left"),n}(x,this.rect),w=u&&u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef,S=w&&w[c?"qDimensions":"qMeasures"]||[],k=b||l[c?"qDimensionInfo":"qMeasureInfo"],C=c?df:mf,E=c?pf:hf,A=f&&f.colorSupport&&f.modifiers&&C({dir:p?"rtl":"ltr",dock:r(x),altList:S,model:f,translator:d,app:h,skipAttributeExpressions:v}),q=(e=this.settings.settings).isDimension&&_a.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions.length")>0||o(this.settings.settings),D=k.map((function(e,r){var o=E(e,r,f),i=r===k.length-1;return _c.a.createElement(_c.a.Fragment,{key:e.cId},_c.a.createElement(n,{popover:A,titleData:o,model:f,translator:d,selections:m,disabled:s(),style:t.style,isDimension:c,padding:g,minWidth:y,hasAlternative:q}),!i&&_c.a.createElement("span",null,", "))}));return _c.a.createElement("div",{style:O,dir:M},D)}}};function Df(e){return(Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nf(e,t){return(Nf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jf(e);if(t){var o=jf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return If(this,n)}}function If(e,t){return!t||"object"!==Df(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jf(e){return(jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pf(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nf(e,t)}(i,e);var t,n,r,o=Lf(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.spanStyle;return _c.a.createElement(_c.a.Fragment,null,_c.a.createElement("span",{ref:this.alignToRef,style:n,title:t},t))}}])&&Tf(t.prototype,n),r&&Tf(t,r),i}(_c.a.Component);return e.propTypes={label:Fc.a.string.isRequired,spanStyle:Fc.a.shape().isRequired},{renderer:"react",disableTriggers:!0,preferredSize:function(){return 22},render:function(){var t=this.settings,n=t.settings,r=n.label,o=n.rtl,i=t.layout.dock,a="top"!==i&&"bottom"!==i||!o?"ltr":"rtl",l=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center",color:"#7b7a78",fontStyle:"italic",fontSize:"13px"};switch(e){case"left":n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left";break;case"right":n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left";break;case"center":n.width="".concat(t.width,"px"),n.height="".concat(t.height,"px"),n.color="#595959",n.fontStyle="normal",n.fontSize="1.2em",n.textAlign="center";break;default:case"top":case"bottom":n.justifyContent="flex-start",n.alignItems="flex-start"}return n}(i,this.rect),u="center"===i?r:"* ".concat(r),s="center"!==i?{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}:{};return _c.a.createElement("div",{style:l,dir:a},_c.a.createElement(_c.a.Fragment,null,_c.a.createElement(e,{label:u,spanStyle:s})))}}}var Rf=n(9),_f=n.n(Rf);function zf(){return(zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ff(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Uf(){return(Uf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hf(e){return(Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bf(e){return(Bf="function"==typeof Symbol&&"symbol"===Hf(Symbol.iterator)?function(e){return Hf(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Hf(e)})(e)}function Vf(e){return(Vf="function"==typeof Symbol&&"symbol"===Bf(Symbol.iterator)?function(e){return Bf(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Bf(e)})(e)}function Wf(e){return e&&"object"===Vf(e)&&!Array.isArray(e)}function Gf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Uf({},e):e;return Wf(e)&&Wf(t)&&Object.keys(t).forEach((function(o){"__proto__"!==o&&(Wf(t[o])&&o in e?r[o]=Gf(e[o],t[o],n):r[o]=t[o])})),r}var Kf=["xs","sm","md","lg","xl"];function $f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xf(e,t,n){var r;return zf({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zf({paddingLeft:t(2),paddingRight:t(2)},n,$f({},e.up("sm"),zf({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},$f(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),$f(r,e.up("sm"),{minHeight:64}),r)},n)}var Zf={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Jf={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Yf={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Qf={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ed={black:"#000",white:"#fff"};function td(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function nd(e){if(e.type)return e;if("#"===e.charAt(0))return nd(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb(".concat(n.map((function(e){return parseInt(e,16)})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function rd(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function od(e){var t="hsl"===(e=nd(e)).type?nd(function(e){var t=(e=nd(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),rd({type:l,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function id(e,t){if(e=nd(e),t=td(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return rd(e)}function ad(e,t){if(e=nd(e),t=td(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return rd(e)}var ld={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ed.white,default:Yf[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},ud={text:{primary:ed.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Yf[800],default:"#303030"},action:{active:ed.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function sd(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ad(e.main,r):"dark"===t&&(e.dark=id(e.main,1.5*r)))}function cd(e){var t=e.primary,n=void 0===t?{light:Zf[300],main:Zf[500],dark:Zf[700]}:t,r=e.secondary,o=void 0===r?{light:Jf.A200,main:Jf.A400,dark:Jf.A700}:r,i=e.error,a=void 0===i?{light:Qf[300],main:Qf[500],dark:Qf[700]}:i,l=e.type,u=void 0===l?"light":l,s=e.contrastThreshold,c=void 0===s?3:s,f=e.tonalOffset,d=void 0===f?.2:f,p=Ff(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function m(e){return function(e,t){var n=od(e),r=od(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ud.text.primary)>=c?ud.text.primary:ld.text.primary}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=zf({},e)).main&&e[t]&&(e.main=e[t]),sd(e,"light",n,d),sd(e,"dark",r,d),e.contrastText||(e.contrastText=m(e.main)),e}var g={dark:ud,light:ld};return Gf(zf({common:ed,type:u,primary:h(n),secondary:h(o,"A400","A200","A700"),error:h(a),grey:Yf,contrastThreshold:c,getContrastText:m,augmentColor:h,tonalOffset:d},g[u]),p,{clone:!1})}function fd(e){return Math.round(1e5*e)/1e5}var dd={textTransform:"uppercase"},pd='"Roboto", "Helvetica", "Arial", sans-serif';function md(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,o=void 0===r?pd:r,i=n.fontSize,a=void 0===i?14:i,l=n.fontWeightLight,u=void 0===l?300:l,s=n.fontWeightRegular,c=void 0===s?400:s,f=n.fontWeightMedium,d=void 0===f?500:f,p=n.fontWeightBold,m=void 0===p?700:p,h=n.htmlFontSize,g=void 0===h?16:h,y=n.allVariants,v=n.pxToRem,b=Ff(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=a/14,M=v||function(e){return"".concat(e/g*x,"rem")},O=function(e,t,n,r,i){return zf({fontFamily:o,fontWeight:e,fontSize:M(t),lineHeight:n},o===pd?{letterSpacing:"".concat(fd(r/t),"em")}:{},{},i,{},y)},w={h1:O(u,96,1,-1.5),h2:O(u,60,1,-.5),h3:O(c,48,1.04,0),h4:O(c,34,1.17,.25),h5:O(c,24,1.33,0),h6:O(d,20,1.6,.15),subtitle1:O(c,16,1.75,.15),subtitle2:O(d,14,1.57,.1),body1:O(c,16,1.5,.15),body2:O(c,14,1.43,.15),button:O(d,14,1.75,.4,dd),caption:O(c,12,1.66,.4),overline:O(c,12,2.66,1,dd)};return Gf(zf({htmlFontSize:g,pxToRem:M,round:fd,fontFamily:o,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:m},w),b,{clone:!1})}var hd=.2,gd=.14,yd=.12;function vd(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(hd,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(gd,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(yd,")")].join(",")}var bd=["none",vd(0,2,1,-1,0,1,1,0,0,1,3,0),vd(0,3,1,-2,0,2,2,0,0,1,5,0),vd(0,3,3,-2,0,3,4,0,0,1,8,0),vd(0,2,4,-1,0,4,5,0,0,1,10,0),vd(0,3,5,-1,0,5,8,0,0,1,14,0),vd(0,3,5,-1,0,6,10,0,0,1,18,0),vd(0,4,5,-2,0,7,10,1,0,2,16,1),vd(0,5,5,-3,0,8,10,1,0,3,14,2),vd(0,5,6,-3,0,9,12,1,0,3,16,2),vd(0,6,6,-3,0,10,14,1,0,4,18,3),vd(0,6,7,-4,0,11,15,1,0,4,20,3),vd(0,7,8,-4,0,12,17,2,0,5,22,4),vd(0,7,8,-4,0,13,19,2,0,5,24,4),vd(0,7,9,-4,0,14,21,2,0,5,26,4),vd(0,8,9,-5,0,15,22,2,0,6,28,5),vd(0,8,10,-5,0,16,24,2,0,6,30,5),vd(0,8,11,-5,0,17,26,2,0,6,32,5),vd(0,9,11,-5,0,18,28,2,0,7,34,6),vd(0,9,12,-6,0,19,29,2,0,7,36,6),vd(0,10,13,-6,0,20,31,3,0,8,38,7),vd(0,10,13,-6,0,21,33,3,0,8,40,7),vd(0,10,14,-6,0,22,35,3,0,8,42,7),vd(0,11,14,-7,0,23,36,3,0,9,44,8),vd(0,11,15,-7,0,24,38,3,0,9,46,8)],xd={borderRadius:4};var Md={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Od={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},wd=function(e){return"".concat(Math.round(e),"ms")},Sd={easing:Md,duration:Od,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Od.standard:n,o=t.easing,i=void 0===o?Md.easeInOut:o,a=t.delay,l=void 0===a?0:a;Ff(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:wd(r)," ").concat(i," ").concat("string"==typeof l?l:wd(l))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},kd={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var Cd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,i=e.palette,a=void 0===i?{}:i,l=e.shadows,u=e.spacing,s=e.typography,c=void 0===s?{}:s,f=Ff(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),d=cd(a),p=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,i=e.step,a=void 0===i?5:i,l=Ff(e,["values","unit","step"]);function u(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function s(e,t){var r=Kf.indexOf(t)+1;return r===Kf.length?u(e):"@media (min-width:".concat(n[e]).concat(o,") and ")+"(max-width:".concat(n[Kf[r]]-a/100).concat(o,")")}return zf({keys:Kf,values:n,up:u,down:function(e){var t=Kf.indexOf(e)+1,r=n[Kf[t]];return t===Kf.length?u("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-a/100).concat(o,")")},between:s,only:function(e){return s(e,e)},width:function(e){return n[e]}},l)}(n),m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;e="function"==typeof t?t:function(e){return t*e};var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){var n=e(t);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(u);return zf({breakpoints:p,direction:"ltr",mixins:Xf(p,m,o),overrides:{},palette:d,props:{},shadows:l||bd,typography:md(d,c),spacing:m},Gf({shape:xd,transitions:Sd,zIndex:kd},f))},Ed=n(10),Ad=Cd({palette:{text:{primary:"rgba(89, 89, 89, 0.8)",secondary:"rgba(0, 0, 0, 0.55)",disabled:"rgba(0, 0, 0, 0.3)"},action:{disabled:"rgba(0, 0, 0, 0.3)"}},typography:{fontFamily:'"QlikView Sans", "Arial", sans-serif',button:{textTransform:"initial",fontWeight:400}},shape:{borderRadius:2},shadows:["none","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)"],props:{MuiButtonBase:{disableRipple:!0}}});function qd(e,t){return _c.a.createElement(Ed.StylesProvider,{generateClassName:t},_c.a.createElement(Ed.ThemeProvider,{theme:Ad},e))}var Dd=Object(Ed.createGenerateClassName)({productionPrefix:"q".concat("599e"),disableGlobal:!0,seed:""});function Td(){return function(e){e.renderer("react",function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y,r=e.width,o=e.height,i=e.scaleRatio,a=e.margin,l={x:0,y:0,width:0,height:0,scaleRatio:{x:1,y:1},margin:{left:0,top:0}};return l.x=Number.isNaN(t)?l.x:t,l.y=Number.isNaN(n)?l.y:n,l.width=Number.isNaN(r)?l.width:r,l.height=Number.isNaN(o)?l.height:o,void 0!==i&&(l.scaleRatio.x=Number.isNaN(i.x)?l.scaleRatio.x:i.x,l.scaleRatio.y=Number.isNaN(i.y)?l.scaleRatio.y:i.y),void 0!==a&&(l.margin.left=Number.isNaN(a.left)?0:a.left,l.margin.top=Number.isNaN(a.top)?0:a.top),l}return function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.createElement,o=void 0===r?document.createElement.bind(document):r,i=e(),a={element:function(){return t},root:function(){return t},appendTo:function(e){return t||((t=o("div")).style.position="absolute",t.style["-webkit-font-smoothing"]="antialiased",t.style["-moz-osx-font-smoothing"]="antialiased",t.style.pointerEvents="none"),e.appendChild(t),t},render:function(e){if(!t)return!1;var n=i.scaleRatio.x,r=i.scaleRatio.y;return t.style.left="".concat(Math.round(i.margin.left+i.x*n),"px"),t.style.top="".concat(Math.round(i.margin.top+i.y*r),"px"),t.style.width="".concat(Math.round(i.width),"px"),t.style.height="".concat(Math.round(i.height),"px"),t.style.transform="scale(".concat(n,", ").concat(r,")"),t.style.transformOrigin="top left",_f.a.render(qd(e,Dd),t),!0},itemsAt:function(){return[]},findShapes:function(){return[]},clear:function(){return t&&_f.a.unmountComponentAtNode(t),a},destroy:function(){t&&t.parentElement&&(_f.a.unmountComponentAtNode(t),t.parentElement.removeChild(t)),t=null},size:function(t){return t&&(i=e(t)),i}};return a}}()),e.component("data-title",qf()),e.component("disclaimer",Pf())}}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach((function(t){Pd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Id(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rd,_d={vertical:{major:"width",minor:"height",start:"left",end:"right",shadow:{startOffset:"12px 0",endOffset:"-12px 0"}},horizontal:{major:"height",minor:"width",start:"top",end:"bottom",shadow:{startOffset:"0 12px",endOffset:"0 -12px"}}},zd=function(e){return"".concat(e," 12px -12px inset rgba(0, 0, 0, ").concat(.0625,")")},Fd={defaultSettings:{settings:{orientation:"vertical",rtl:!1,range:function(){return[0,1]}}},renderer:"dom",render:function(e){var t=this.settings.settings,n=t.range,r=t.orientation,o=t.rtl,i=Id(n(),2),a=i[0],l=i[1],u=Math.abs(a)<1e-15,s=Math.abs(l-1)<1e-15,c=function(e){var t,n,r,o=_d[e];return{base:(t={position:"absolute"},Pd(t,o.major,12),Pd(t,o.minor,"100%"),t),towardsStart:(n={},Pd(n,o.start,0),Pd(n,o.end,"auto"),Pd(n,"boxShadow",zd(o.shadow.startOffset)),n),towardsEnd:(r={},Pd(r,o.start,"auto"),Pd(r,o.end,0),Pd(r,"boxShadow",zd(o.shadow.endOffset)),r)}}(r),f="vertical"===r&&o,d=[];return u||d.push(e("div",{style:Ld(Ld({},c.base),f?c.towardsEnd:c.towardsStart),class:"scroll-hint--towards-start"})),s||d.push(e("div",{style:Ld(Ld({},c.base),f?c.towardsStart:c.towardsEnd),class:"scroll-hint--towards-end"})),d}},Ud={isInside:function(e,t,n,r){if(!r)return!0;var o=e.position-e.radius,i=e.position+e.radius;return o>=t&&i<=n},getCenterDistance:function(e,t){return Math.abs(e.center-t.center)},getGap:function(e,t){var n=e.position<t.position?e:t,r=e.position<t.position?t:e;return r.position-r.radius-(n.position+n.radius)},findSegmentPositionMeetMax:function(e,t){var n=Math.max(0,e.max-t);return e.center-n},findSegmentPositionMeetMin:function(e,t){var n=Math.max(0,t-e.min);return e.center+n},findSegmentPositionMeetMinThenMax:function(e,t,n){var r=Ud.findSegmentPositionMeetMin(e,t);return Ud.findSegmentPositionMeetMax({center:r,max:r+e.radius},n)},findSegmentPositionMeetMaxThenMin:function(e,t,n){var r=Ud.findSegmentPositionMeetMax(e,n);return Ud.findSegmentPositionMeetMin({center:r,min:r-e.radius},t)},layoutPositionFromMin:function(e,t,n){for(var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=e.length-1,l=t,u=0;u<a;u++)r=e[u],o=e[u+1],r.position=Ud.findSegmentPositionMeetMaxThenMin(r,l,(r.center+o.center-i)/2),l=r.position+r.radius+i/2;o.position=Ud.findSegmentPositionMeetMaxThenMin(o,l,n)},adjustPositionFromMax:function(e,t,n){var r,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=e.length-1,u=Math.max(0,e[l].position+e[l].radius-n);if(0!==u){var s,c=0;for(r=l;r>0&&(o=e[r],i=e[r-1],s=Math.max(0,Ud.getGap(i,o)-a),c+=s-=Math.max(0,c+s-u),o.move=s,!(c>=u));r--);for(c<u&&(s=Math.max(0,i.position-i.radius-t),c+=s-=Math.max(0,c+s-u),i.move=s),c=0,r=0;r<=l;r++)c+=(o=e[r]).move||0,o.move=c,o.position-=c}},layout:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e.length-1;if(!(o<0))if(0!==o)Ud.layoutPositionFromMin(e,t,n,r),Ud.adjustPositionFromMax(e,t,n,r);else{var i=e[0];i.position=Ud.findSegmentPositionMeetMaxThenMin(i,t,n)}}},Hd=Ud;function Bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wd(){Rd=Rd||document.createElement("canvas").getContext("2d")}var Gd={measureTextWidth:function(e){return Wd(),Rd.measureText(e).width},lineWrap:function(e,t,n,r){var o,i;Wd();var a,l,u=e?e.split(/\n+|\r+|\r\n/):[],s=[],c=e?e.split(/\s+/):[],f=u[0];if("number"!=typeof t||t<=0)return[e];if("number"==typeof r&&u.length>=r)return u.slice(0,r);for(n&&(Rd.font=n),i=0;i<u.length;i++){for(f=Bd(c=(u[i]||"").split(/\s+/),1)[0],l="",o=1;o<c.length;o++)if(a="".concat(f," ").concat(c[o]),Gd.measureTextWidth(a)>t&&("number"!=typeof r||r>s.length)?(s.push(f),f=c[o]):f=a,"number"==typeof r&&s.length>=r){l=c.slice(o+1).join(" ");break}"number"!=typeof r||s.length<r?s.push(f):s[Math.max(0,s.length-1)]="".concat(s[Math.max(0,s.length-1)]||""," ").concat(f," ").concat(l)}return s},wordWrap:function(e,t,n,r,o){if(Wd(),!e||!e.length)return[];n&&(Rd.font=n);var i,a,l,u,s=[],c=e.slice();if(c.filter((function(e){return!!e})),"number"!=typeof t||t<0)return e.slice();for(u=0;u<c.length;u++)a=null,(l=c[u])&&(l.length<=1||Gd.measureTextWidth(l)<=t?s.push(l):(i=Gd.splitWord(l,t,void 0,r-s.length)).length<=1?s.push(i[0]):(a=i.pop(),s=s.concat(i),c[u+1]?Gd.measureTextWidth("".concat(a," ").concat(c[u+1]))>t&&s.length+c.length-u<=r?c.splice(u+1,0,a):c[u+1]="".concat(a," ").concat(c[u+1]):c.push(a)));return s.forEach((function(e,t,n){n[t]=e?e.trim():e})),s.length>r?(s=s.splice(0,r))[s.length-1]=Gd.truncate(s[s.length-1],t,n,o).text:(l=s[s.length-1])&&l.length>1&&Gd.measureTextWidth(l)>t&&(s[s.length-1]=Gd.truncate(l,t,n,o).text),s},truncate:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"…";Wd();var o,i,a,l=e,u=Gd.measureTextWidth("i"),s=Math.ceil(t/u);if(n&&(Rd.font=n),e&&t){if(Gd.measureTextWidth(l)>t){for(o=Math.min(s,l.length);o>0;o--)if(i=l.substring(0,o-1).trim()+r,Gd.measureTextWidth(i)<=t){a=l.substring(o-1),l=i;break}o||(a=l,l="…")}}else a=void 0;return{text:l,rest:a}},isNumber:function(e){return"number"==typeof e&&Number.isFinite(e)},explodeWord:function(e,t,n,r){var o;Wd();var i=e,a="",l=[];if(Gd.isNumber(n)&&n<=1)return[e];var u=Math.ceil(t/r);for(o=Math.min(e.length,u);o>0&&(i=e.substring(0,o)," "===e.substring(o-1,o)?i=e.substring(0,o-1):i+="-",a=e.substring(o),!(Gd.measureTextWidth(i)<=t));o--);return(!o&&!i||Gd.measureTextWidth(i)>t)&&(i=e.substring(0,1),a=e.substring(1)),l.push(i),a?(Gd.measureTextWidth(a)>t?(a=Gd.explodeWord(a,t,n-1,r),l=l.concat(a)):l.push(a),l.filter((function(e){return""!==e.trim()}))):l},splitWord:function(e,t,n,r){return Wd(),e&&t?(n&&(Rd.font=n),Gd.explodeWord(e,t,r,Math.max(1,Gd.measureTextWidth("i")))):[]},wrapText:function(e,t,n,r,o){var i;return Number.isNaN(t)?[e]:(i=r>1?Gd.lineWrap(e,t,n,r):[e],i=Gd.wordWrap(i,t,n,r,o))},getFontHeight:function(e){return Wd(),e&&(Rd.font=e),1.5*Gd.measureTextWidth("m")},tokenize:function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;Wd(),t&&(Rd.font=t);var l=Gd.getFontHeight(),u=a*l,s=[],c=0,f=[];if(i<l)return[];var d=i?Math.max(1,Math.floor(i/u)):r||1;return Array.isArray(r)?(r.forEach((function(e){c+=Number.isNaN(e)||e<=0?0:e})),r.forEach((function(e){s.push(Number.isNaN(e)||e<=0?d-c:e)}))):s=[Number.isNaN(r)||r<=0?d:Math.min(d,r)],Array.isArray(e)?e.forEach((function(e,n){f.length<d&&(f=f.concat(Gd.wrapText(e,o,t,s[n])))})):f=Gd.wrapText(e,o,t,s[0],n),f}},Kd=Gd,$d="…";function Xd(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:70,r=0;r<e.length;r++){var o=e[r];o.lines=Kd.tokenize(o.title,t,"".concat($d," ").concat(o.valueString),3,n),o.maxNumLines=o.lines.length}}function Zd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yd(e){var t=e.title,n=e.font,r=e.ellipsis,o=e.maxNumLines,i=void 0===o?5:o,a=e.maxWidth,l=void 0===a?200:a,u=Kd.tokenize(t,n,r,i,l),s=u.length,c="";if(s){c=Zd(u,1)[0];for(var f=1;f<s;f++)c="".concat(c,"\n").concat(u[f])}return c}function Qd(e){var t=e.oobs,n=e.font,r=e.ellipsis,o=e.maxNumLines,i=void 0===o?5:o,a=e.maxWidth,l=void 0===a?200:a,u=t.map((function(e){return Yd({title:e.title,font:n,ellipsis:"".concat(r," ").concat(e.valueString),maxNumLines:i,maxWidth:l})})),s=u.length,c="";if(s){c=Zd(u,1)[0];for(var f=1;f<s;f++)c="".concat(c,"\n\n").concat(u[f])}return c}function ep(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";e.sort((function(e,n){return e[t]-n[t]}))}function tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||rp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function np(e){return function(e){if(Array.isArray(e))return op(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||rp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rp(e,t){if(e){if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?op(e,t):void 0}}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ip=3,ap=2;function lp(e){var t=e.inputValue,n=e.inputValueLabel,r=e.localeInfo;if(void 0===t||void 0===n||t.toString()===n)return!1;if(!r)return!0;var o="+-".concat(r.qDecimalSep||"").concat(r.qThousandSep||"").replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");return n.replace(new RegExp("[0-9e".concat(o,"]"),"g"),"").length>0}var up=function(e){var t=e.label,n=e.dataPages,r=e.qMin,o=e.qMax;if(void 0!==r&&void 0!==o){var i=t.inputValue;if(wl.isContinuousMaxOutOfBounds({value:i,qMax:o}))return 1;if(wl.isContinuousMinOutOfBounds({value:i,qMin:r}))return-1}return wl.isDiscreteMaxOutOfBounds({label:t,dataPages:n})?1:wl.isDiscreteMinOutOfBounds({label:t,dataPages:n})?-1:0},sp={hasEngineFormat:lp,calculateLabelPositions:function(e){var t,n,r=e.labels,o=e.scale,i=e.size,a=e.layoutModel,l=e.orientation,u=e.rtl,s=e.isContinuous,c=e.isDimension,f=wl.getInvert({orientation:l,rtl:u,isContinuous:s}),d="S"===a.getHyperCubeValue("qMode")?"qDataPages.0":"qStackedDataPages.0",p=a.getHyperCubeValue(d),m=a.meta.canBeContinuous;if(c&&m){var h=a.getLayoutValue("qHyperCube.qDimensionInfo.0");t=h.qMin,n=h.qMax}for(var g=0;g<r.length;g++){var y=r[g],v=y.value,b=y.align,x=y.valueInfo,M=up({label:y,dataPages:p,qMin:t,qMax:n});y.scaledValue=1===M?f?-.1:1.1:-1===M?f?1.1:-.1:wl.getScaledPosition({scale:o,size:i,value:v,valueInfo:x,align:b,invert:f,layoutModel:a,isContinuous:s}),y.center=y.scaledValue*i}},getTitle:function(e){return!1!==e.showValue?!1!==e.showLabel?"".concat(e.text," ").concat(e.valueString):e.valueString:!1!==e.showLabel?e.text:""},addLabelTitles:function(e){var t,n=e.labels,r=e.formatter,o=e.isContinuous,i=e.canBeContinuous,a=e.localeInfo;if(o)for(var l=0;l<n.length;l++){var u=n[l],s=u.value,c=u.inputValue,f=u.inputValueLabel;t=lp({inputValue:c,inputValueLabel:f,localeInfo:a})?f:r?r(s):s,u.valueString="".concat(Pc.lrm,"(").concat(t,")").concat(Pc.lrm),u.title=sp.getTitle(u)}else if(i)for(var d=0;d<n.length;d++){var p=n[d],m=p.valueText,h=p.inputValue,g=p.inputValueLabel;t=lp({inputValue:h,inputValueLabel:g,localeInfo:a})?g:m,p.valueString="".concat(Pc.lrm,"(").concat(t,")").concat(Pc.lrm),p.title=sp.getTitle(p)}else for(var y=0;y<n.length;y++){var v=n[y];t=v.valueText,v.valueString="".concat(Pc.lrm,"(").concat(t,")").concat(Pc.lrm),v.title=sp.getTitle(v)}},measureLabelsWidth:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.totalWidth=t(r.title).width}},measureLabelMaxLineWidth:function(e,t){return Math.max.apply(Math,np(e.lines.map((function(e){return t(e).width}))))},getMaxTextWidth:function(e){var t=e.map((function(e){return e.totalWidth}));return Math.max.apply(Math,np(t))},addLabelsNeighborInfo:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e.length-1;if(!(o<0)){var i,a,l=tp(e,1);if((i=l[0]).cMin=t,0!==o){for(var u=0;u<o;u++)i=e[u],a=e[u+1],i.cMax=(i.center+a.center-r)/2,a.cMin=i.cMax+r;a.cMax=n}else i.cMax=n}},getTotalNumLines:function(e){var t=0;return e.forEach((function(e){t+=e.maxNumLines})),t},reduceLabelsHavingMaxNumLines:function(e,t,n){for(var r=t-1,o=e.filter((function(e){return e.maxNumLines===t})),i=Math.min(n,o.length),a=o.length-1;a>=o.length-i;a--)o[a].maxNumLines=r},reduceTotalMaxNumLines:function(e,t,n){var r=Math.floor(n/t),o=3;do{var i=sp.getTotalNumLines(e)-r;if(i<=0)return;sp.reduceLabelsHavingMaxNumLines(e,o,i),o--}while(o>1)},reduceMaxNumLines:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;r<e.length;r++){var o=e[r];o.maxNumLines=Math.max(1,Math.min(o.maxNumLines,Math.floor((Math.max(0,o.cMax-o.cMin)+n)/t)))}},addLabelsSize:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3?arguments[3]:void 0,o=0;o<e.length;o++){var i=e[o];i.width=Math.min(t,sp.measureLabelMaxLineWidth(i,r)),i.height=i.lines.length*n}},addLabelSegments:function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.center,i=r[t],a=i/2;r.segment={center:o,range:i,min:o-a,max:o+a,radius:a}}},addLabelsInfo:function(e){var t=e.labels,n=e.scale,r=e.majorSize,o=e.lowerLimit,i=e.upperLimit,a=e.gap,l=e.font,u=e.maxLabelWidth,s=e.lineHeight,c=e.majorDimension,f=e.orientation,d=e.measureText,p=e.rtl,m=e.layoutModel,h=e.isContinuous,g=e.isDimension,y=t.map((function(e){return e})),v=r;sp.calculateLabelPositions({labels:t,scale:n,size:v,layoutModel:m,orientation:f,rtl:p,isContinuous:h,isDimension:g}),ep(t,"center"),sp.addLabelsNeighborInfo(t,o,i,a),Xd(t,l,u),sp.reduceTotalMaxNumLines(y,s,i-(y.length-1)*a),"vertical"===f&&(sp.reduceMaxNumLines(t,s,.05*a),function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:70,r=0;r<e.length;r++){var o=e[r];o.lines.length>o.maxNumLines&&(o.lines=Kd.tokenize(o.title,t,"".concat($d," ").concat(o.valueString),o.maxNumLines,n))}}(t,l,u)),sp.addLabelsSize(t,u,s,d),sp.addLabelSegments(t,c)},createLabels:function(e){var t=e.labels,n=e.style,r=e.maxLabelWidth,o=e.areaProps,i=e.area,a=e.lineHeight,l=void 0===a?15:a,u=e.font,s=o.majorAxis,c=o.minorAxis,f=i.minorCenter,d=n.fontSize,p=n.fontFamily,m=n.background,h=[];return t.forEach((function(e){var t=e.lines,n=t.length,o=t.map((function(t,o){var i={type:"text",text:t,title:Yd({title:e.title,font:u,ellipsis:"".concat("…"," ").concat(e.valueString)}),dx:0,dy:0,maxWidth:r,width:r,fontSize:d,fontFamily:p,fill:e.fill,baseline:"central",anchor:"middle"};return i[c]=f,i[s]=e.segment.position,i.y+=(o-(n-1)/2)*l,i}));e.background&&h.push(function(e){var t=e.minorCenter,n=e.majorAxis,r=e.minorAxis,o=e.label,i=e.lineHeight,a=e.background,l=o.lines,u=a.borderRadius,s=void 0===u?ip:u,c=a.padding,f=void 0===c?{}:c,d=f.top,p=void 0===d?ap:d,m=f.bottom,h=void 0===m?ap:m,g=f.left,y=void 0===g?ap:g,v=f.right,b=void 0===v?ap:v,x=l.length,M={type:"rect",rx:s,ry:s,fill:o.background.fill,width:o.width+(y+b),height:o.height+(p+h)};return M[r]=t,M[n]=o.segment.position,M.x-=o.width/2+y,M.y-=x*i/2+p,M}({minorCenter:f,majorAxis:s,minorAxis:c,label:e,lineHeight:l,background:m})),h=h.concat(o)})),h}},cp=sp;function fp(e){return(fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t,n){var r,o=fp(t);if("string"===o||"object"===o)r=e.formatter(t);else if(void 0!==n&&n.data){var i=n.data()&&n.data().fields;r=i&&i[0]?i[0].formatter():null}return r}function pp(e){return function(e){if(Array.isArray(e))return mp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hp=function(e){return{dock:e,orientation:"vertical",majorAxis:"y",minorAxis:"x",majorDimension:"height",minorDimension:"width",flipXY:!1}},gp=function(e){return{dock:e,orientation:"horizontal",majorAxis:"x",minorAxis:"y",majorDimension:"width",minorDimension:"height",flipXY:!0}};function yp(e,t,n){return"top"===e||"bottom"===e?function(e,t){var n=t.font,r=t.lineHeight,o=t.top,i=t.bottom,a=t.maxLabelWidth,l=1;return cp.getMaxTextWidth(e)>a&&(Xd(e,n,a),l=Math.max.apply(Math,pp(e.map((function(e){return e.lines.length}))))),l*r+o+i}(t,n):function(e,t){var n=t.left,r=t.right,o=t.maxLabelWidth;return Math.min(o,cp.getMaxTextWidth(e))+n+r}(t,n)}function vp(e,t){return t?e.domain():[0,1]}function bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xp={getDefaultSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,n=void 0===t?10:t,r=e.fill,o=void 0===r?"#999":r,i=e.alignment;return{show:!0,type:"n-polygon",fill:o,stroke:"#000",strokeWidth:0,size:n,sides:3,startAngle:-90,alignment:i}},createOob:function(e){var t,n=e.oob,r=e.dockValue,i=e.boxCenter,a=e.rendWidth,l=e.rendHeight,u="x",s="y",c=a,f=l,d=r<.5?90:-90;return e.flipXY&&(u="y",s="x",c=l,f=a,d=r<.5?180:0),(0,e.symbol)(o()({},n,(bp(t={},u,i*c),bp(t,s,Math.max(n.size/2,Math.min(r*f,f-n.size/2))),bp(t,"startAngle",d),t)))}},Mp="…";function Op(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"value",o=e.filter((function(e){return e[r]>=t}));o=o.filter((function(e){return e[r]<=n}));var i=e.filter((function(e){return e[r]<t})),a=e.filter((function(e){return e[r]>n}));return{filteredLabels:o,minOobs:i,maxOobs:a,numMinOobs:i.length,numMaxOobs:a.length}}function wp(e){for(var t,n=0,r=1;r<10;r++)t=e(r),n=Math.max(n,Math.sqrt(t.width*t.width+t.height*t.height));return t=e("9+"),[n,Math.max(n,Math.sqrt(t.width*t.width+t.height*t.height))]}function Sp(e,t){return e>9?t[1]:t[0]}function kp(e){var t=e.alignment,n=e.dockValue,r=e.oobs,o=e.style,i=e.rect,a=e.symbol,l=e.position,u=e.areaProps,s=e.radius,c=e.font,f=r?r.length:0;if(f<1)return[];var d=u.flipXY,p=u.majorAxis,m=u.minorAxis,h=i[u.minorDimension],g=xp.createOob({oob:xp.getDefaultSettings({size:o.size,fill:o.fill,alignment:t}),dockValue:n,boxCenter:.5,rendWidth:i.width,rendHeight:i.height,flipXY:d,symbol:a}),y="c".concat(p),v="c".concat(m),b={type:"circle",r:s,stroke:"transparent",fill:o.text.background.fill,strokeWidth:0};b[v]=h/2,b[y]=l;var x={type:"text",text:f>9?"9+":f,title:Qd({oobs:r,font:c,ellipsis:Mp}),dx:0,dy:0,maxWidth:h,width:h,fontSize:o.text.fontSize,fontFamily:o.text.fontFamily,fill:o.text.fill,baseline:"central",anchor:"middle"};return x[m]=h/2,x[p]=l,[g,b,x]}var Cp=function(e){var t="normal ".concat(e.fontSize," '").concat(e.fontFamily,"'");return{font:t,lineHeight:Kd.getFontHeight(t)*(e.lineHeightMultiplicator||1),gap:e.gap||12,maxLabelWidth:e.maxWidth||75,top:e.padding.top||0,bottom:e.padding.bottom||0,left:e.padding.left||0,right:e.padding.right||0}};function Ep(e){return function(e){if(Array.isArray(e))return Dp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||qp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||qp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qp(e,t){if(e){if("string"==typeof e)return Dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dp(e,t):void 0}}function Dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tp(Object(n),!0).forEach((function(t){Lp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ip=function(e){return e.map((function(e){return Np(Np({},e),{},{value:"function"==typeof e.value?e.value():e.value,valueText:"function"==typeof e.valueText?e.valueText():e.valueText,valueInfo:"function"==typeof e.valueInfo?e.valueInfo():e.valueInfo})}))},jp={require:["renderer","chart","symbol"],defaultSettings:{layout:{displayOrder:0,prioOrder:0}},preferredSize:function(){var e=this,t=this.scale,n=this.settings,r=n.style,o=n.layoutModel,i=n.isContinuous,a=n.localeInfo,l=!!i||o.meta.canBeContinuous,u=Ip(this.settings.labels),s=dp(this.chart,this.settings.formatter,t);cp.addLabelTitles({labels:u,formatter:s,isContinuous:i,canBeContinuous:l,localeInfo:a});var c,f=function(e){var t=e.labels,n=e.scale,r=e.isContinuous,o=e.canBeContinuous,i=e.layoutModel;if(r){var a=Ap(vp(n,r),2);return Op(t,a[0],a[1])}if(o){var l=i.getLayoutValue("qHyperCube.qDimensionInfo.0"),u=l.qMin,s=l.qMax;if("NaN"!==u&&"NaN"!==s)return Op(t,u,s,"inputValue")}return{filteredLabels:t}}({labels:u,scale:t,isContinuous:i,canBeContinuous:l,layoutModel:o}),d=f.numMaxOobs,p=f.numMinOobs,m=f.filteredLabels;if(this.measureText=function(t){return e.renderer.measureText({text:t,fontSize:r.label.fontSize,fontFamily:r.label.fontFamily})},m&&m.length){var h=Cp(r.label),g=this.settings.layout.dock;return cp.measureLabelsWidth(m,this.measureText),c=yp(g,m,h),c}var y=wp(this.measureText),v=d?Sp(d,y):0,b=p?Sp(p,y):0;return c=Math.max(v,b),c},render:function(){var e=this.scale;if(e.domain().length){var t=this.symbol,n=this.settings,r=n.style,o=n.layoutModel,i=n.theme,a=n.isContinuous,l=n.isDimension,u=n.localeInfo,s=!!a||o.meta.canBeContinuous,c=Ip(this.settings.labels),f=this.settings.layout,d=f.dock,p=f.rtl,m=r.label.padding,h=function(e){return"left"===e||"right"===e?hp(e):gp(e)}(d),g=function(e,t,n){var r=e[t.minorDimension];return{minorSize:r,majorSize:e[t.majorDimension],minorCenter:"vertical"===t.orientation?(r-n.right-n.left)/2+n.left:(r-n.top-n.bottom)/2+n.top}}(this.rect,h,m),y=h.orientation,v=h.majorDimension,b=g.majorSize,x=Cp(r.label),M=x.font,O=x.lineHeight,w=x.gap,S=x.maxLabelWidth,k=dp(this.chart,this.settings.formatter,e),C=b;cp.addLabelTitles({labels:c,formatter:k,isContinuous:a,canBeContinuous:s,localeInfo:u}),cp.calculateLabelPositions({labels:c,scale:e,size:C,layoutModel:o,orientation:y,rtl:p,isContinuous:a,isDimension:l});var E=Ap(vp(e,a),2),A=function(e){var t=e.labels,n=e.minValue,r=e.maxValue,o=e.orientation,i=e.rtl,a=e.isContinuous,l=e.style,u=e.padding,s=e.measureText,c=e.prop,f=void 0===c?"value":c,d=Op(t,n,r,f),p=d.maxOobs,m=d.minOobs,h=d.filteredLabels,g="scaledValue"!==f&&wl.getInvert({orientation:o,rtl:i,isContinuous:a}),y=function(e,t,n){return n?t:e}(m,p,g),v=function(e,t,n){return n?e:t}(m,p,g),b=y.length,x=v.length,M=wp(s),O=Sp(b,M),w=Sp(x,M);return{filteredLabels:h,lowerOobs:y,upperOobs:v,lowerCircleSize:O,upperCircleSize:w,lowerOobSpace:function(e,t,n,r,o){return("vertical"===r?o.top:o.left)+(e>0?t+n:0)}(b,l.oob.size,O,o,u),upperOobSpace:function(e,t,n,r,o){return("vertical"===r?o.bottom:o.right)+(e>0?t+n:0)}(x,l.oob.size,w,o,u)}}({labels:c,minValue:E[0],maxValue:E[1],orientation:y,rtl:p,isContinuous:a,style:r,padding:m,measureText:this.measureText,prop:a?"value":"scaledValue"}),q=A.filteredLabels,D=A.lowerOobs,T=A.upperOobs,N=A.lowerCircleSize,L=A.upperCircleSize,I=A.lowerOobSpace,j=A.upperOobSpace,P=I,R=b-j;ep(D),ep(T);var _=kp({alignment:0,dockValue:0,oobs:D,style:r.oob,rect:this.rect,symbol:t,position:r.oob.size+N/2,areaProps:h,radius:N/2,font:M}),z=kp({alignment:1,dockValue:1,oobs:T,style:r.oob,rect:this.rect,symbol:t,position:b-(r.oob.size+L/2),areaProps:h,radius:L/2,font:M});cp.addLabelsInfo({labels:q,scale:e,majorSize:b,lowerLimit:P,upperLimit:R,font:M,lineHeight:O,gap:w,maxLabelWidth:S,majorDimension:v,orientation:y,measureText:this.measureText,rtl:p,layoutModel:o,isContinuous:a,isDimension:l}),Hd.layout(q.map((function(e){return e.segment})),P,R,r.label.gap);var F=q.filter((function(e){return Hd.isInside(e.segment,P,R,a)}));return cp.createLabels({labels:F,style:r.label,maxLabelWidth:S,areaProps:h,area:g,lineHeight:O,font:M,theme:i}).concat([].concat(Ep(_),Ep(z)))}}},Pp="data-scrollbar-handle";function Rp(e){var t=e.e;return(t.srcEvent||t).srcElement.getAttribute(Pp)||""}function _p(e){return function(e){if(Array.isArray(e))return zp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fp(Object(n),!0).forEach((function(t){Hp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bp={background:"rgba(0, 0, 0, 0.1)"},Vp={top:-1,bottom:-1,width:6},Wp={width:2,background:"#595959"},Gp={before:Bp,after:Bp,thumb:{background:"transparent",border:"1px solid rgba(68, 68, 68, 0.4)"},startHandle:Vp,endHandle:Vp,startHandleBorder:Wp,endHandleBorder:Wp},Kp={background:"rgba(0, 0, 0, 0.1)"},$p={top:-1,bottom:-1,width:6},Xp={width:2,background:"#595959"},Zp={before:Kp,after:Kp,thumb:{background:"#B0AFAE",border:"transparent"},startHandle:$p,endHandle:$p,startHandleBorder:Xp,endHandleBorder:Xp};function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jp(Object(n),!0).forEach((function(t){Qp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var em={position:"absolute",top:0,right:0,bottom:0,left:0,boxSizing:"border-box"},tm={pointerEvents:"initial"},nm={pointerEvents:"none"};var rm={RESIZE:"ew-resize",DEFAULT:"default"};function om(){var e=this.rect,t=this.settings.settings,n="vertical"===t.orientation,r=n?e.computedInner.width:e.computedInner.height,o=t.range(),i=n&&t.rtl;return{size:r,start:(i?1-o[1]:o[0])*r,end:(i?1-o[0]:o[1])*r}}function im(){var e=this.state.hover.start||this.state.hover.end||this.state.drag.start||this.state.drag.end;this.renderer.element().ownerDocument.body.style.cursor=e?rm.RESIZE:rm.DEFAULT}function am(e,t,n){var r=this.settings.settings.size.thumb.min;if(n-t<r){var o=(r-(n-t))/2,i=Math.max(0,0-(t-o))-Math.max(0,n+o-e);return{size:e,start:t-o+i,end:n+o+i}}return{size:e,start:t,end:n}}function lm(e){var t=(e.srcEvent||e).srcElement;return this.renderer.element().contains(t)}function um(){var e=om.call(this),t=e.size,n=e.start,r=e.end;this.renderer.render(this.elements(this.h,am.call(this,t,n,r)))}function sm(){var e=this.state,t=this.settings,n=this.style,r=t.settings.style;return e.style[r]||(e.style[r]=function(e){var t=e.id,n=e.style,r="slim"===t?Zp:Gp;return{container:Yp({},em),before:Yp(Yp(Yp({},em),r.before),n.before),after:Yp(Yp(Yp({},em),r.after),n.after),thumb:Yp(Yp(Yp({},em),r.thumb),n.thumb),startHandle:Yp(Yp(Yp({},em),tm),r.startHandle),endHandle:Yp(Yp(Yp({},em),tm),r.endHandle),startHandleBorder:Yp(Yp(Yp({},em),nm),r.startHandleBorder),endHandleBorder:Yp(Yp(Yp({},em),nm),r.endHandleBorder)}}({id:t.settings.style,style:n[r]})),e.style[r]}var cm={require:["renderer"],defaultSettings:{settings:{style:"standard",size:{area:{min:30,max:40,ratio:1/8},thumb:{min:4}},orientation:"vertical",rtl:!1,isContinuous:!1,range:function(){return[0,1]},injections:function(){return[]}},style:{standard:{before:{},thumb:{},after:{}},slim:{before:{},thumb:{},after:{}}}},renderer:"dom",state:{style:{},locked:!1,hover:{start:!1,end:!1,reset:function(){this.start=!1,this.end=!1},isPristine:function(){return!this.start&&!this.end}},drag:{start:!1,end:!1,reset:function(){this.start=!1,this.end=!1}}},on:{render:function(){um.call(this)},lockState:function(){this.state.locked=!0},unlockState:function(){this.state.locked=!1},hover:function(e){if(!(this.state.locked||this.state.drag.start||this.state.drag.end||!lm.call(this,e)&&this.state.hover.isPristine())){this.state.hover.reset();var t=Rp({e:e});t&&(this.state.hover[t]=!0),im.call(this),um.call(this)}},leave:function(){this.state.locked||(this.state.hover.reset(),im.call(this),um.call(this))},dragStart:function(e){if(!this.state.locked){this.state.drag.reset();var t=Rp({e:e});t&&(this.state.drag[t]=!0),im.call(this)}},dragEnd:function(){this.state.locked||(this.state.drag.reset(),im.call(this),um.call(this))}},preferredSize:function(e){var t=e.outer,n=this.settings.settings.size.area,r=n.min,o=n.max,i=n.ratio,a="vertical"===this.settings.settings.orientation?"height":"width";return Math.max(r,Math.min(o,t[a]*i))},render:function(e){this.h=e;var t=om.call(this),n=t.size,r=t.start,o=t.end;return this.elements(e,am.call(this,n,r,o))},properties:function(){return"vertical"===this.settings.settings.orientation?{start:"left",end:"right"}:{start:"top",end:"bottom"}},elements:function(e,t){var n=this,r=t.size,o=t.start,i=t.end,a=this.settings.settings,l=a.injections().map((function(t){return t({h:e,rect:n.rect,orientation:a.orientation,minThumbSize:a.size.thumb.min})}));return function(e){var t,n=e.h,r=e.size,o=e.start,i=e.end,a=e.properties,l=e.startHandleActive,u=e.endHandleActive,s=e.style,c=e.continuous,f=e.invert,d=e.injections,p={before:Hp({},a.end,r-o),after:Hp({},a.start,i),startHandle:{left:-3},startHandleBorder:{left:1},endHandle:{right:-3,left:"auto"},endHandleBorder:{left:3}},m=n("div",{style:Up(Up({},s.before),f?p.after:p.before),class:"scrollbar--before"}),h=n("div",{style:Up(Up({},s.after),f?p.before:p.after),class:"scrollbar--after"}),g=[];if(c){var y=n("div",Hp({style:Up(Up({},s.startHandle),f?p.endHandle:p.startHandle),class:"scrollbar--start-handle"},Pp,"start"),l?n("div",{style:Up(Up({},s.startHandleBorder),f?p.endHandleBorder:p.startHandleBorder)}):void 0);g.push(y);var v=n("div",Hp({style:Up(Up({},s.endHandle),f?p.startHandle:p.endHandle),class:"scrollbar--end-handle"},Pp,"end"),u?n("div",{style:Up(Up({},s.endHandleBorder),f?p.startHandleBorder:p.endHandleBorder)}):void 0);g.push(v)}var b=n("div",{style:Up(Up({},s.thumb),{},(t={},Hp(t,a.start,o),Hp(t,a.end,r-i),t)),class:"scrollbar--thumb"},g);return n("div",{style:Up({},s.container)},[m,b,h].concat(_p(d)))}({h:e,size:r,start:o,end:i,properties:this.properties(),startHandleActive:this.state.hover.start||this.state.drag.start,endHandleActive:this.state.hover.end||this.state.drag.end,style:sm.call(this),continuous:a.isContinuous,invert:"vertical"===a.orientation&&a.rtl,injections:l})}};function fm(e){var t,n=e.i,r=e.width,i=e.height,a=e.resolved,l=e.keys,u=e.flipXY,s=e.calcKey,c=void 0===s?"box":s,f=null,d=null;void 0!==a.major.settings.binStart?(f=a.major.items[n].binStart,d=a.major.items[n].binEnd,t=a.major.settings.binStart.scale):f=(t=a.major.settings.major.scale)?a.major.items[n].major:0;var p=0;t?t.bandwidth?f-=(p=t.bandwidth())/2:p=d-f:p=1;var m=o()({},{major:f,majorEnd:d},a.minor.items[n]);l.forEach((function(e){m[e]=a[e].items[n]}));var h=u?i:r,g=function(e){var t=e.bandwidth,n=e.width,r=e.minWidthPx,o=e.maxWidthPx,i=e.maxMajorWidth,a=t>=0?1:-1,l=Math.min(a*t*n,Number.isNaN(Number(o))?i:o/i);return(l=Number.isNaN(Number(r))?l:Math.max(r/i,l))*a}({bandwidth:p,width:m[c].width,minWidthPx:m[c].minWidthPx,maxWidthPx:m[c].maxWidthPx,maxMajorWidth:h}),y=(p-g)/2,v=y+m.major+g/2;return{item:m,boxCenter:v,boxWidth:g,boxPadding:y,rendWidth:r,rendHeight:i}}function dm(e){return(dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pm(e){var t,n=e.keys,r=e.data,i=e.defaultSettings,a=e.style,l=e.settings,u=e.width,s=e.height,c=e.resolver,f=o()(!0,{},i||{},a||{}),d={major:"horizontal"===l.orientation?s:u,minor:"horizontal"===l.orientation?u:s},p=l.major;t="object"===dm(p)&&"object"===dm(p.ref)&&void 0!==p.ref.start&&void 0!==p.ref.end?c.resolve({data:r,defaults:{start:0,end:1},scaled:d,settings:o()(!0,{},{binStart:{scale:l.major.scale,ref:l.major.ref.start},binEnd:{scale:l.major.scale,ref:l.major.ref.end}})}):"object"===dm(p)&&void 0!==p.binStart&&void 0!==p.binEnd?c.resolve({data:r,defaults:{start:0,end:1},scaled:d,settings:o()(!0,{},{binStart:{scale:l.major.scale,ref:"binStart"},binEnd:{scale:l.major.scale,ref:"binEnd"}},l.major)}):c.resolve({data:r,scaled:d,defaults:{major:.5},settings:{major:l.major}});for(var m,h=l.minor||{},g={major:t,minor:c.resolve({data:r,defaults:{start:0,end:1},scaled:d,settings:o()(!0,{},{start:{scale:h.scale,ref:"start"},end:{scale:h.scale,ref:"end"},min:{scale:h.scale,ref:"min"},max:{scale:h.scale,ref:"max"},med:{scale:h.scale,ref:"med"}},h)})},y=0,v=n.length;y<v;y++)g[m=n[y]]=c.resolve({data:r,defaults:f[m],settings:l[m],scaled:d});return g}function mm(e){return function(e){if(Array.isArray(e))return hm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ym={size:25,hat:{show:!0,fill:"#999",stroke:"#000",strokeWidth:0,strokeLinejoin:"miter",width:1,maxWidthPx:void 0,minWidthPx:1,minHeightPx:1,alignment:0}},vm=["hat"];function bm(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",r=0;r<e.length;r++){var o=e[r];n+=0===r?"M".concat(o.x," ").concat(o.y):"L".concat(o.x," ").concat(o.y),n+=" "}return t&&(n+="Z"),n}function xm(e){var t,n,r,i,a,l,u,s,c,f,d=e.item,p=e.boxWidth,m=e.boxPadding,h=e.rendWidth,g=e.rendHeight,y=e.flipXY,v="x",b="y",x=h,M=g,O=d.hat.alignment||0;y&&(v="y",b="x",x=g,M=h,O=1-O);var w=(m+d.major)*x,S=[(t={},gm(t,v,w),gm(t,b,0+M),t),(n={},gm(n,v,w+p*O*x),gm(n,b,8),n),(r={},gm(r,v,w+p*x),gm(r,b,0+M),r),(i={},gm(i,v,w+p*x),gm(i,b,0+M+10),i),(a={},gm(a,v,w),gm(a,b,0+M+10),a)],k=o()({},d.hat,{type:"path",d:bm(S)});return S=[(l={},gm(l,v,w),gm(l,b,0),l),(u={},gm(u,v,w+p*(1-O)*x),gm(u,b,0+M-8),u),(s={},gm(s,v,w+p*x),gm(s,b,0),s),(c={},gm(c,v,w+p*x),gm(c,b,-10),c),(f={},gm(f,v,w),gm(f,b,-10),f)],[k,o()({},d.hat,{type:"path",d:bm(S)})]}var Mm={require:["chart","resolver","symbol"],defaultSettings:{settings:{size:25},data:{},style:{hat:"$shape"}},created:function(){this.state={}},preferredSize:function(){return this.settings.settings.size},render:function(){var e=this.rect,t=e.width,n=e.height,r="horizontal"===this.settings.settings.orientation,o=this.data,i=this.style,a=this.resolver,l=pm({keys:vm,data:o,defaultSettings:ym,style:i,settings:this.settings.settings,width:t,height:n,resolver:a}),u=l.settings;return function(e){for(var t=e.width,n=e.height,r=e.flipXY,o=e.resolved,i=e.keys,a=e._calcItemRenderingOpts,l=void 0===a?fm:a,u=[],s=o.major.items,c=0,f=s.length;c<f;c++){var d=l({i:c,width:t,height:n,resolved:o,keys:i,flipXY:r,calcKey:"hat"}),p=d.item,m=d.boxWidth,h=d.boxPadding,g=d.rendWidth,y=d.rendHeight,v=s[c].data,b=[];p.hat.show&&b.push.apply(b,mm(xm({item:p,boxWidth:m,boxPadding:h,rendWidth:g,rendHeight:y,flipXY:r})));var x={type:"container",data:v,collider:{type:"bounds"},children:b};u.push(x)}return u}({items:l.items,settings:u,width:t,height:n,flipXY:r,resolved:l,keys:vm})}};function Om(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wm={getDefaultSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,n=void 0===t?10:t,r=e.fill,o=void 0===r?"#999":r,i=e.alignment;return{show:!0,type:"n-polygon",fill:o,stroke:"#000",strokeWidth:0,size:n,sides:3,startAngle:-90,alignment:i}},createOob:function(e){var t,n=e.oob,r=e.dockValue,i=e.boxCenter,a=e.rendWidth,l=e.rendHeight,u="x",s="y",c=a,f=l,d=r<.5?90:-90;return e.flipXY&&(u="y",s="x",c=l,f=a,d=r<.5?180:0),(0,e.symbol)(o()({},n,(Om(t={},u,i*c),Om(t,s,Math.max(n.size/2,Math.min(r*f,f-n.size/2))),Om(t,"startAngle",d),t)))}},Sm=["oob"];var km={require:["chart","resolver","symbol"],defaultSettings:{settings:{size:10},data:{},style:{}},created:function(){this.state={}},preferredSize:function(){return this.settings.settings.size},render:function(){var e=this.rect,t=e.width,n=e.height,r=this.settings.settings.dockValue,o="horizontal"===this.settings.settings.orientation,i=this.data,a=this.style,l=this.resolver,u=this.symbol,s=pm({keys:Sm,data:i,defaultSettings:{oob:wm.getDefaultSettings()},style:a,settings:this.settings.settings,width:t,height:n,resolver:l}),c=s.settings;return function(e){for(var t=e.width,n=e.height,r=e.flipXY,o=e.resolved,i=e.keys,a=e.symbol,l=e.dockValue,u=e._calcItemRenderingOpts,s=void 0===u?fm:u,c=[],f=o.major.items,d=0,p=f.length;d<p;d++){var m=s({i:d,width:t,height:n,resolved:o,keys:i,flipXY:r,calcKey:"oob"}),h=m.item,g=m.boxCenter,y=m.rendWidth,v=m.rendHeight,b=f[d].data,x=[];if(h.oob.show){x.push(wm.createOob({oob:h.oob,dockValue:l,boxCenter:g,rendWidth:y,rendHeight:v,flipXY:r,symbol:a}));var M={type:"container",data:b,collider:{type:"bounds"},children:x};c.push(M)}}return c}({items:s.items,settings:c,width:t,height:n,flipXY:o,resolved:s,keys:Sm,symbol:u,dockValue:r})}};var Cm=function(e){var t=e.scale("band");e.scale("group-by-measure",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t(e,n,r),i=o.domain(),a=o.ticks(),l=[],u=e.measureCount;return i.forEach((function(e,t){for(var n=0;n<u;++n)l.push(String([e,n]));l.push("SPACER_".concat(t,"_SPACER"))})),l.splice(-1),o.domain(l),function e(t,n,r,o){var i=function(e){var n=String(e);return t(n)};return i.ticks=function(){return n.map((function(e){var n=i([e.data.value,o?r-1:0]),a=i([e.data.value,o?0:r-1])+t.bandwidth();return{position:(n+a)/2,label:e.label,data:e.data,start:n,end:a}}))},i.bandwidth=function(){return t.bandwidth()},i.data=function(){return t.data()},i.domain=function(){return t.domain()},i.pxScale=function(o){var i=t.pxScale(o);return i===t?this:e(i,n,r)},i}(o,a,u,e.invert)}))};var Em=function(){return{version:"1.6.0",barGrouping:{grouping:"grouped"},color:{auto:!0,autoMinMax:!0,byDimDef:void 0,byMeasureDef:void 0,colorExpression:void 0,dimensionScheme:"12",expressionIsColor:!0,expressionLabel:"",formatting:{numFormatFromTemplate:!0,isCustomFormatted:void 0},measureMin:void 0,measureMax:void 0,measureScheme:"sg",mode:"primary",paletteColor:{index:6},persistent:!1,reverseScheme:!1,singleColor:void 0,useBaseColors:"off",useDimColVal:!0,useMeasureGradient:!0},components:[],dataPoint:{showLabels:!1,showSegmentLabels:!1,showTotalLabels:!0},dimensionAxis:{axisDisplayMode:"auto",continuousAuto:!0,dock:"near",label:"auto",maxVisibleItems:10,show:"all"},footnote:"",gridLine:{auto:!0,spacing:2},legend:{dock:"auto",show:!0,showTitle:!0},measureAxis:{autoMinMax:!0,dock:"near",max:10,min:0,minMax:"min",show:"all",spacing:1},orientation:"vertical",preferContinuousAxis:!0,qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:17,qHeight:500}],qSuppressMissing:!0,qSuppressZero:!1},refLine:{refLines:[],dimRefLines:[]},scrollbar:"miniChart",scrollStartPos:0,showDetails:!1,showDisclaimer:!0,showMiniChartForContinuousAxis:!0,showTitles:!0,subtitle:"",title:"",tooltip:{auto:!0,hideBasic:!1,data:{qHyperCubeDef:void 0},imageComponents:void 0}}},Am={dimensions:{min:0,max:function(e){return e>1?1:2}},measures:{min:1,max:function(e){return e>1?1:15}}};function qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qm(Object(n),!0).forEach((function(t){Tm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/qHyperCubeDef";return{properties:Em(),data:{targets:[Dm({path:e},Am)]}}}function Lm(e){return function(e){if(Array.isArray(e))return Im(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Im(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Im(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jm(e){var t=e.layout,n=ll.canBeContinuous(t),r=fl.continuous(t),o=fl.dimensionless(t);return{canBeContinuous:n,isDiscrete:!r,isContinuous:r,isTime:ll.isTime(r,t),isDimensionless:o,isSimple:fl.simple(t),isGrouped:fl.grouped(t),isGroupedByMeasure:fl.groupedByMeasure(t),isGroupedByDimension:fl.groupedByDimension(t),isStacked:fl.stacked(t),isStackedByDimension:fl.stackedByDimension(t),isStackedByMeasure:fl.stackedByMeasure(t),isSnapshot:fl.snapshot(t)}}var Pm={extractDimsAndNode:function(e){var t,n=[];return e.forEach((function(e){if(e.key===Uu.COMPONENT.BAR){t=e;var r=_a.getValue(e,"data.selectionDimension",!1);r&&(n.push(r.label),r.label!==e.data.label&&n.push(e.data.label))}})),{nodeDims:n,node:t}}};function Rm(e){var t=e.layout,n=e.options,r=void 0===n?{}:n;return!(!t||!t.snapshotData||r.freeResize)&&{width:t.snapshotData.content.size.w,height:t.snapshotData.content.size.h}}var _m=Math.log(10);function zm(e){return Math.pow(10,e)}var Fm={pow10:zm,log:function(e,t){return e<=0||t<=0?NaN:Math.log(e)/Math.log(t)},log10:function(e){return e<=0?NaN:Math.log(e)/_m},eliminateFloatingError:function(e){var t=Math.round(e);return Math.abs(e-t)<1e-12?t:e},getNiceNumber:function(e){if(0===e)return 0;var t=Math.floor(Math.log(Math.abs(e))/_m),n=e/zm(t);return(n<=1?1:n<=2?2:n<=5?5:10)*zm(t)*(e<0?-1:1)},getSmallNiceNumber:function(e){var t,n;if(0===e)return 0;var r=e/zm(t=Math.floor(Math.log(Math.abs(e))/_m));return r<1?(n=5,t--):n=r<2?1:r<5?2:5,n*zm(t)*(e<0?-1:1)},getMagnitude:function(e){return 0===e?0:zm(Math.floor(Math.log(Math.abs(e))/_m))},getFraction:function(e){return 0===e?0:e/zm(Math.floor(Math.log(Math.abs(e))/_m))},getGoodNumber:function(e){var t;if(0===e)return 0;var n=Math.floor(Math.log(Math.abs(e))/_m),r=e/zm(n);return 7!==(t=Math.ceil(r))&&9!==t||t++,r>1&&r<=1.5?t=1.5:r>2&&r<=2.5&&(t=2.5),t*zm(n)*(e<0?-1:1)},getValueWithOffset:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e+Math.abs(e)*t},isNumber:function(e){return"number"==typeof e&&!Number.isNaN(e)}};function Um(e){return e.qIsOtherCell||-3===e.qElemNumber||-3===e.qElemNo}function Hm(e){return e.some(Um)}function Bm(e,t){var n=NaN,r=NaN;return e.forEach((function(e){Hm(e)||e.slice(-t).forEach((function(e){n=Number.isNaN(n)?e.qNum:Math.min(e.qNum,n),r=Number.isNaN(r)?e.qNum:Math.max(e.qNum,r)}))})),{min:n,max:r}}function Vm(e){var t=NaN,n=NaN;if(!e.getLayoutValue("measureAxis.autoMinMax",!1)){var r=e.getLayoutValue("measureAxis.minMax");"min"!==r&&"minMax"!==r||(t=+e.getLayoutValue("measureAxis.min")),"max"!==r&&"minMax"!==r||(n=+e.getLayoutValue("measureAxis.max"))}return{min:t,max:n,isExplicitMin:!Number.isNaN(t),isExplicitMax:!Number.isNaN(n)}}function Wm(e,t){var n=NaN,r=NaN;return e.forEach((function(e){if(!Hm(e)){var o=0,i=0;e.slice(-t).forEach((function(e){"NaN"!==e.qNum&&(e.qNum>=0?i+=e.qNum:o+=e.qNum)})),n=Number.isNaN(n)?o:Math.min(o,n),r=Number.isNaN(r)?i:Math.max(i,r)}})),{min:n,max:r}}function Gm(e,t){var n={};e.forEach((function(e){if(!Hm(e)){var r=e[0].qElemNumber;n[r]=n[r]?n[r]:{min:0,max:0,cId:r},e.slice(t).forEach((function(e){"NaN"!==e.qNum&&(e.qNum>=0?n[r].max+=e.qNum:n[r].min+=e.qNum)}))}}));var r=NaN,o=NaN;return Object.keys(n).forEach((function(e){r=Number.isNaN(r)?n[e].min:Math.min(n[e].min,r),o=Number.isNaN(o)?n[e].max:Math.max(n[e].max,o)})),{min:r,max:o}}function Km(e){return function(e){if(Array.isArray(e))return $m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xm(e){return"number"==typeof e&&!Number.isNaN(e)}function Zm(e){var t=e.getHyperCubeValue("qMeasureInfo");return{min:Math.min.apply(Math,Km(t.filter((function(e){return Xm(e.qMin)})).map((function(e){return e.qMin})))),max:Math.max.apply(Math,Km(t.filter((function(e){return Xm(e.qMax)})).map((function(e){return e.qMax}))))}}function Jm(e){return function(e){if(Array.isArray(e))return Ym(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ym(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ym(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qm(e,t,n){for(var r=e.length-1;r>-1;r--)if(t(e[r]))return e[r];return n}function eh(e){return function(e){if(Array.isArray(e))return th(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return th(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return th(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nh(e){return!Number.isNaN(+e.qNum)}function rh(e){return e.qNum}function oh(e){return function(e){if(Array.isArray(e))return ih(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ih(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ih(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ih(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ah(e){return!Number.isNaN(+e.qNum)}function lh(e){return e.qNum}function uh(e,t){return e.push.apply(e,oh(t)),e}function sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ch(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fh(e){return function(e){if(Array.isArray(e))return dh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ph=Fm.getValueWithOffset,mh=Fm.isNumber,hh=5,gh=.2;function yh(e,t){return Math.abs(e/t)<hh||0===t}function vh(e){var t=e.layoutModel,n=e.trendLineModel,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.stackedByMeasureExtractor,i=void 0===o?Wm:o,a=r.stackedByDimensionExtractor,l=void 0===a?Gm:a,u=r.straightExtractor,s=void 0===u?Bm:u,c=r.measureInfoExtractor,f=void 0===c?Zm:c,d=r.explicitExtractor,p=void 0===d?Vm:d,m=t.meta;return{extract:function(e){var t,r,o=e.qDataPages,i=e.qStackedDataPages,a=e.others,l=e.count;if(Array.isArray(i)){var u=this.extractFromStacked(i);t=u.min,r=u.max}else{var s=this.extractFromStraight(o,l);t=s.min,r=s.max}if(n.query.hasTrendLines()){var c=n.query.getMinMax(),f=c.min,d=c.max;t=Number.isFinite(f)?Math.min(t,f):t,r=Number.isFinite(d)?Math.max(r,d):r}var p=this.extractOthers(a),m=p.min,h=p.max,g=this.extractExplicit(),y=[0,t,r].filter((function(e){return mh(e)})),v=Math.min.apply(Math,fh(y)),b=Math.max.apply(Math,fh(y));v=yh(m,v)?Math.min(v,m):v,b=yh(h,b)?Math.max(b,h):b;var x=[g.explicitMin,g.explicitMax,v,b].filter((function(e){return mh(e)}));return(t=Number.isNaN(g.explicitMin)?Math.min.apply(Math,fh(x)):g.explicitMin)===(r=Number.isNaN(g.explicitMax)?Math.max.apply(Math,fh(x)):g.explicitMax)&&(Number.isNaN(g.explicitMin)?t=ph(t,-gh):Number.isNaN(g.explicitMax)&&(r=ph(r,gh))),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(n),!0).forEach((function(t){ch(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({min:t,max:r,implicitMin:v,implicitMax:b,otherMin:m,otherMax:h,hasOtherMin:m<t,hasOtherMax:h>r},g)},extractExplicit:function(){var e=p(t),n=e.min,r=e.max,o=e.isExplicitMin,i=e.isExplicitMax;return{hasExplicitMinMax:o||i,hasExplicitMin:o,hasExplicitMax:i,explicitMin:n,explicitMax:r}},extractFromStacked:function(e){var t,n=e.length?e[0].qData:[];return(t=n).length?{min:Math.min.apply(Math,Jm(t[0].qSubNodes.map((function(e){return e.qMinNeg})))),max:Math.max.apply(Math,Jm(t[0].qSubNodes.map((function(e){return e.qMaxPos}))))}:{min:0,max:0}},extractFromStraight:function(e,n){var r=e.length?e[0].qMatrix:[];return m.isStackedByMeasure?i(r,n):m.isStackedByDimension?l(r,n):t.getHyperCubeValue("qHasOtherValues")?s(r,n):f(t)},extractOthers:function(e){return m.isStackedByDimension?(t=e,{min:(n=Qm(_a.getValue(t,"0.qData.0.qSubNodes",[]),Um,{qMaxPos:0,qMinNeg:0})).qMinNeg,max:n.qMaxPos}):m.isGroupedByDimension?(r=e,o=_a.getValue(r,"0.qMatrix",[]).filter(Hm).reduce(uh,[]).filter(ah).map(lh),{min:Math.min.apply(Math,[0].concat(oh(o))),max:Math.max.apply(Math,[0].concat(oh(o)))}):function(e){var t=Qm(_a.getValue(e,"0.qMatrix",[]),Hm,[]).filter(nh).map(rh);return{min:Math.min.apply(Math,[0].concat(eh(t))),max:Math.max.apply(Math,[0].concat(eh(t)))}}(e);var t,n,r,o}}}function bh(e){var t,n,r,o,i,a,l,u,s,c=(n=(t=e).reducedDataModel,r=t.layoutModel,o=t.continuousDataModel,i=r.meta,a=r.query,l=r.getHyperCubeValue,u=function(e){return!e.length&&a.isQMode("K")},s=function(e){var t=l("qStackedDataPages",[]);return{qStackedDataPages:t,others:e?t:[]}},{resolve:function(){var e=l("qMeasureInfo").length,t=l("qDimensionInfo").length,r=l("qHasOtherValues");if(!i.isStacked&&!r)return Promise.resolve({qDataPages:[{}],count:e});if(i.isContinuous){var c=i.isStackedByDimension?t:e;return o.fetchMinMaxData().then((function(e){return{qDataPages:e,count:c}}))}var f=i.isStackedByDimension?1:e;return n.fetchMinMaxData().then((function(e){if(u(e))return s(r);var t=[];return r&&(t=a.isQMode("K")?l("qStackedDataPages",[]):l("qDataPages",[])),{qDataPages:e,count:f,others:t}}))}}),f=vh(e);return c.resolve().then((function(e){return f.extract(e)}))}function xh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oh(e,t){if(!e||!Object.keys(e).length)return t;var n=o()(!0,{},e);return Array.isArray(t.consume)&&(n.consume=function(e,t){if(!Array.isArray(e))return t;var n=o()(!0,[],e);return t.forEach((function(e){var t=xh(n.filter((function(t){return t.context===e.context})),1)[0];t?o()(!0,t,e):n.push(e)})),n}(e.consume,t.consume)),n}var wh={extend:function(e,t){var n=e;return t.filter(Boolean).forEach((function(t){var r=e.filter((function(e){return e.key&&e.key===t.key}))[0];if(r){var i=o()(!0,{},r.brush);o()(!0,r,t),t.brush&&(r.brush=Oh(i,t.brush))}else n.push(t)})),n}};function Sh(e){var t=e.viewState,n=e.viewCache,r=e.layoutModel,o=e.dockModel,i=e.rtl;return!r.meta.isSnapshot&&{key:"scroll-hint",type:"scroll-hint",settings:{orientation:o.major.orientation,rtl:i,range:function(){return function(e){var t=e.layoutModel,n=e.viewState,r=e.viewCache;return t.meta.isContinuous?function(e,t){var n=e.get("zoom"),r=t.get("continuousMin"),o=t.get("continuousMax");return[(n.min-r)/(o-r),(n.max-r)/(o-r)]}(n,r):function(e){return e.get("viewRange")}(n)}({layoutModel:r,viewState:t,viewCache:n})}}}}function kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kh(Object(n),!0).forEach((function(t){Eh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ah(e,t){return{layoutModes:el.getLayoutModes(),center:void 0!==t.minCenterRatio?{minWidthRatio:t.minCenterRatio,minHeightRatio:t.minCenterRatio}:void 0,logicalSize:t.logicalSize?Ch({align:.5,preserveAspectRatio:!0},t.logicalSize):void 0}}function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qh(Object(n),!0).forEach((function(t){Th(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Th(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nh(e){var t=e.layoutModel,n=e.discrete;return function(e){var r=e.h,o=e.rect,i=e.orientation,a=e.minThumbSize,l=n.query.getCurrentDataPage(),u=t.meta.size.y,s="vertical"===i,c=o[s?"width":"height"],f=l.qArea.qTop/u*c,d=l.qArea.qHeight/u*c;if(d<a){var p=(a-d)/2;f=f-p+(Math.max(0,0-(f-p))-Math.max(0,f+d+p-c)),d=a}return r("div",{style:Dh({position:"absolute",right:0,bottom:0,background:"red",opacity:.2},s?{top:0,left:f,width:d}:{top:f,left:0,height:d})})}}function Lh(e){var t=e.layoutModel,n=e.viewState,r=e.viewCache;return t.meta.isContinuous?function(e,t){var n=e.get("zoom"),r=t.get("continuousMin"),o=t.get("continuousMax");return[(n.min-r)/(o-r),(n.max-r)/(o-r)]}(n,r):function(e){return e.get("viewRange")}(n)}var Ih={MINI_CHART:{value:"miniChart",translation:"properties.scrollbar.miniChart"},BAR:{value:"bar",translation:"properties.scrollbar.bar"},NONE:{value:"none",translation:"properties.scrollbar.none"}},jh={OPTIONS:Ih,DEFAULT:Ih.MINI_CHART},Ph=function(e){return{miniChart:e===jh.OPTIONS.MINI_CHART.value,bar:e===jh.OPTIONS.BAR.value,none:e===jh.OPTIONS.NONE.value}},Rh=function(e){var t=e.layoutModel,n=t.getLayoutValue("scrollbar");if(n)return Ph(n);var r=t.getLayoutValue("showMiniChartForContinuousAxis");if(void 0===r)return Ph(jh.DEFAULT.value);var o=t.getLayoutValue("dimensionAxis.continuousAuto"),i=t.getLayoutValue("preferContinuousAxis");return Ph(!r&&(o||!o&&i)?jh.OPTIONS.NONE.value:jh.OPTIONS.MINI_CHART.value)};function _h(e){var t=e.layoutModel,n=e.override,r=void 0===n?void 0:n,o=Rh({layoutModel:t});return r&&r.predicate({layoutModel:t,scrollbar:o})&&(o.miniChart=r.value===jh.OPTIONS.MINI_CHART.value,o.bar=r.value===jh.OPTIONS.BAR.value,o.none=r.value===jh.OPTIONS.NONE.value),o}function zh(e){var t=e.layoutModel,n=e.dockModel,r=e.discrete,o=e.continuousDataModel,i=e.viewState,a=e.viewCache,l=e.themeModel,u=void 0===l?{}:l,s=e.rtl,c=e.scrollbarOverride,f=e.visualizeCache,d=void 0!==f&&f,p=_h({layoutModel:t,override:c});if(p.none)return!1;var m={key:"scrollbar",type:"scrollbar",layout:{dock:"vertical"===n.major.orientation?n.minor.minDock:n.minor.maxDock,minimumLayoutMode:"XSMALL"},show:function(){return t.meta.isContinuous?o.getDimensionCardinality()>1:r.query.getCanScroll()},settings:{orientation:n.major.orientation,rtl:s,isContinuous:t.meta.isContinuous,range:function(){return Lh({layoutModel:t,viewState:i,viewCache:a})}}};return p.bar&&(m.settings.style="slim",m.settings.size={area:{max:8,min:8}},t.meta.isContinuous||(m.settings.size.thumb={min:4})),u.color&&(m.style={standard:{thumb:{"border-color":u.color,opacity:.4},before:{background:u.color,opacity:.1},after:{background:u.color,opacity:.1}}}),t.meta.isDiscrete&&d&&(m.settings.injections=function(){return[Nh({layoutModel:t,discrete:r})]}),m}var Fh={source:"trend",extract:{field:"x",props:{minor:{field:"y"},layer:{field:"layerId"},measureIndex:{field:"measureIndex"},dimValue:{field:"dimValue"}}}},Uh=function(e){var t=e.meta;return t.isContinuous?function(e){return(0,e.scale)(e.datum.value)}:t.isGroupedByMeasure?function(e){var t=e.scale,n=e.datum;return t([n.value,n.measureIndex.value])+t.bandwidth()/2}:function(e){var t=e.scale;return t(e.datum.value)+t.bandwidth()/2}},Hh=function(e,t){var n=e.majorScale,r=e.minorScale,o=e.tooltipOverlay,i=void 0===o?"trend-lines-tooltip-overlay":o,a=t.layoutModel,l=t.dockModel,u=Uh(a),s="vertical"===l.major.orientation,c={scale:n,fn:u},f={scale:r,ref:"minor"};return{key:i,type:"point",layout:{dock:"center"},data:Fh,settings:{x:s?c:f,y:s?f:c,opacity:0,size:1,sizeLimits:{maxPx:8,minPx:8}}}},Bh=function(e,t){var n=e.majorScale,r=e.minorScale,o=t.trendLineModel,i=t.layoutModel,a=t.dockModel,l=Uh(i);return{key:"trend-lines",type:"line",layout:{dock:"center"},data:Fh,settings:{connect:!0,orientation:a.minor.orientation,coordinates:{major:{scale:n,fn:l},minor:{scale:r},layerId:{ref:"layer"}},layers:{curve:"monotone",line:{strokeWidth:2,stroke:function(e){var t=e.datum;return o.query.getStroke(t.layer.value)},strokeDasharray:function(e){var t=e.datum;return o.query.getLineDash(t.layer.value)}}}}}},Vh=function(e,t){var n=t.layoutModel,r=t.trendLineModel,o=t.dockModel;return r.query.hasTrendLines()?[Bh(e,{trendLineModel:r,layoutModel:n,dockModel:o}),Hh(e,{layoutModel:n,dockModel:o})]:[]};function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wh(Object(n),!0).forEach((function(t){Kh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $h="#la-vie-tooltip";function Xh(){if(!document.querySelector($h)){var e=document.createElement("div");e.id="la-vie-tooltip",e.style.overflow="hidden",e.style.position="fixed",e.style.pointerEvents="none",e.style.left="0px",e.style.top="0px",e.style.width="100%",e.style.height="100%",e.style.zIndex=1020,document.body.appendChild(e)}}function Zh(e){var t=e.key;return{show:!0,key:void 0===t?"tooltip":t,type:"tooltip",layout:{displayOrder:3},beforeMount:function(){Xh()},beforeUpdate:function(){Xh()},destroyed:function(){var e;(e=document.querySelector($h))&&e.parentElement&&e.childElementCount<1&&e.parentElement.removeChild(e)},settings:{appendTo:function(){return document.querySelector($h)},content:function(e){var t=e.h,n=e.data,r=e.style;return n[0].map((function(e){return t("tr",{},function(e,t){var n=t.h,r=t.style;return e.map((function(e){var t={style:Gh(Gh({},r.cell||{}),e.style||{}),class:e.class};return e.colspan&&(t.colspan=e.colspan),n("td",t,e.content)}))}(e,{h:t,style:r}))}))},direction:e.rtl?"rtl":"ltr"},style:{arrow:{color:"#404040"},content:{display:"table","border-spacing":"4px",background:"rgba(64, 64, 64, 0.9)",opacity:"1",fontSize:"13px",fontFamily:"QlikView Sans, sans-serif","empty-cells":"show"},cell:{"max-width":"180px","word-break":"break-word","word-wrap":"break-word","overflow-wrap":"break-word",hyphens:"auto"}}}}function Jh(e,t){var n=t.query,r=n.getLabel,o=n.getType,i=n.getLineDash,a=n.getStroke;return function(t){var n=t.node,l=t.resources,u={type:"icon",style:{stroke:a(n.data.layer.value),"min-width":"16px","vertical-align":"middle","stroke-dasharray":i(n.data.layer.value)}},s={content:[{content:r(n.data.layer.value),style:{"font-weight":"bold"}},{content:o(n.data.layer.value)}],style:{"min-width":"136px"}};return{title:n.data.dimValue.label,row:[u,s,{content:l.formatter(e.formatter)(n.data.minor.value)}]}}}function Yh(e){return function(e){if(Array.isArray(e))return Qh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach((function(t){ng(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ng(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rg=16,og=2;function ig(e,t){return Array.isArray(t.content)?e("div",{style:{display:"flex","flex-direction":"column"}},t.content.map((function(t){return e("span",{style:t.style,direction:Pc.detectTextDirection(t.content)},t.content)}))):"icon"===t.type?function(e){var t=e("line",{x1:"0px",y1:"".concat(rg,"px"),x2:"".concat(rg,"px"),y2:"0px","stroke-width":"3px"});return e("svg",{xlms:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 ".concat(rg," ").concat(rg)},t)}(e):t.content}function ag(e,t){return function(n){var r=n.h,o=n.data,i=n.style,a=o[0].title,l=o.filter((function(e){return e.title===a})),u=[function(e,t){var n=e("td",{colspan:3,style:{"font-weight":"bold"},direction:Pc.detectTextDirection(t)},t);return e("tr",{},n)}(r,a)];if(l.slice(0,og).forEach((function(e){u.push(r("tr",{},function(e,t){var n=t.h,r=t.style;return e.map((function(e){var t={style:tg(tg({direction:"string"==typeof e.content?Pc.detectTextDirection(e.content):void 0},r.cell||{}),e.style||{}),class:e.class};e.colspan&&(t.colspan=e.colspan);var o=ig(n,e);return n("td",t,o)}))}(e.row,{h:r,style:i})))})),o.length>og){var s=o.length-og;u.push.apply(u,Yh(function(e,t,n,r){var o=t?t.get("Object.ChartTooltip.NMore",r):"+".concat(r," more"),i=Pc.detectTextDirection(o);return[e("tr",{},e("td",{style:{"background-image":"linear-gradient(transparent 8px, rgba(255, 255, 255, 0.4) 8px, rgba(255, 255, 255, 0.4) 9.2px, transparent 9.2px)",height:"17px"},colspan:3},"")),e("tr",{},e("td",{style:{"font-weight":"bold","text-align":n?"right":"left",direction:i},colspan:3},o))]}(r,e,t,s)))}return u}}function lg(e,t){var n=t.trendLineModel,r=t.translator,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n.query.hasTrendLines())return!1;var a=i.rtl,l=Zh({key:e.tooltip,rtl:a});return o()(!0,l,{settings:{extract:Jh(e,n),content:ag(r,a),placement:"pointer",direction:i.rtl?"rtl":"ltr"}})}function ug(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sg=function(e,t){var n=e.key,r=e.requireFailure,o=e.recognizeWith,i=e.eventName,a=void 0===i?"tap":i;return{prio:1,key:"event:".concat(n,"-tap"),type:"Tap",requireFailure:r,recognizeWith:o,options:{event:"".concat(a,"-").concat(n,"-tap"),interval:10,pointers:1,enable:function(e,r){return!!r&&!!t.actions.select.enabled()&&(!(!r.target||"INPUT"!==r.target.nodeName)||!(!r.target||!r.target.hasAttribute("data-other-value"))&&(r.target.getAttribute("data-key")||"").split("-bubble")[0]===n)}},events:ug({},"".concat(a,"-").concat(n,"-tap"),(function(e){(e.target.getAttribute("data-key")||"").split("-bubble")[0]&&(e.preventDefault(),this.chart.component(n).emit("bubbleStart",e))}))}};function cg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fg=function(e,t,n){var r,o=e.eventName,i=e.key,a=e.fillTargets,l=void 0===a?[]:a,u=e.requireFailure,s=e.recognizeWith;return{key:"event:".concat(i),type:"Pan",requireFailure:u,recognizeWith:s,options:{event:o,enable:function(e,n){if(this.started===o||!n)return!0;if(!t.actions.select.enabled())return!1;var r=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).filter((function(e){return-1!==l.indexOf(e.key)}));return 0===r.length&&function(e,t){var n=e.srcEvent.target;return!(!n||0!==(n.getAttribute("data-key")||"").indexOf("".concat(t,"-")))}(n,i)?(this.started=o,!0):r.length>0}},events:(r={},cg(r,"".concat(o,"start"),(function(e){void 0===this.chart.brushSelectionIncludeMax&&(this.chart.brushSelectionIncludeMax=!0,t.actions.select.brushSelectionIncludeMax=!0),e.preventDefault(),t.actions.select.emit("start",o),this.chart.component(i).emit("".concat(n,"Start"),e),this.started=o})),cg(r,"".concat(o,"move"),(function(e){e.preventDefault(),this.chart.component(i).emit("".concat(n,"Move"),e)})),cg(r,"".concat(o,"end"),(function(e){void 0===this.chart.brushSelectionIncludeMax&&(this.chart.brushSelectionIncludeMax=!0,t.actions.select.brushSelectionIncludeMax=!0),e.preventDefault(),this.chart.component(i).emit("".concat(n,"End"),e),t.actions.select.emit("end",o),this.started=!1})),r)}},dg=function(e,t){var n=function(e){var t=e.key,n=e.targets,r=e.fillTargets,o=e.targetSelector,i=e.targetFillSelector,a=e.dock,l=e.scale,u=e.bubblesPlacement,s=void 0===u?"inside":u,c=e.observeBrush,f=void 0!==c&&c,d=e.multiple,p=void 0!==d&&d,m=e.toLabel,h=e.onEdited;return{key:t,type:"brush-range",layout:{dock:n.map((function(e){return"@".concat(e)})).join(",")},on:h?{bubbleEnd:function(){h()}}:{},settings:{brush:f?{context:"selection",observe:!0}:"selection",scale:l,multiple:p,direction:"left"===a||"right"===a?"vertical":"horizontal",bubbles:{align:"left"===a||"top"===a?"end":"start",placement:s,label:m},target:{components:r,selector:o,fillSelector:i,fill:"rgba(82,204,82,0.2)"}}}}(e),r=fg(e,t,"range");return{interactions:[e.onEdited?sg(e,t):null,r].filter(Boolean),components:[n]}},pg={refLines:{minimumLayoutMode:"SPARK"},measureAxisTitle:{minimumLayoutMode:"XSMALL"},dimensionAxisTitle:{minimumLayoutMode:"XSMALL"},measureAxis:{minimumLayoutMode:"XSMALL"},dimensionAxis:{minimumLayoutMode:"XSMALL"},gridLines:{minimumLayoutMode:"XSMALL"},refLinesLabels:{minimumLayoutMode:"SMALL"},verticalDimensionAxis:{minimumLayoutMode:{width:"XSMALL",height:"SMALL"}},horizontalDimensionAxis:{minimumLayoutMode:{width:"SMALL",height:"XSMALL"}},verticalDimensionAxisTitle:{minimumLayoutMode:{width:"XSMALL",height:"MEDIUM"}},horizontalDimensionAxisTitle:{minimumLayoutMode:{width:"MEDIUM",height:"XSMALL"}}},mg="inner-time-axis",hg="outer-time-axis";var gg={stringWidthOverMWidth:function(e){return(12*Math.min(e,3)+Math.max(e-3,0)*(166/26))/11},getCharacterRatios:function(e){if(!e)return{latin:0,cjk:0};var t=e.match(/[\u4E00-\u9FFF]/g),n=e.match(/[\u3040-\u309F]/g),r=e.match(/[\u30A0-\u30FF]/g),o=(t=t?t.length:0)+(n=n?n.length:0)+(r=r?r.length:0);return{latin:e.length-o,cjk:o}},getTotalCharacterRatios:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"qText";if(!e)return{latinRatio:1,cjkRatio:0};var r,o={latin:0,cjk:0};void 0===t?e.forEach((function(e){r=gg.getCharacterRatios(e[n]),o.latin+=r.latin,o.cjk+=r.cjk})):e.forEach((function(e){r=gg.getCharacterRatios(e[t][n]),o.latin+=r.latin,o.cjk+=r.cjk}));var i=Math.max(1,o.latin+o.cjk);return o.latinRatio=o.latin/i,o.cjkRatio=o.cjk/i,o},getAdjustedMaxGlyphCount:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"qText",o=gg.getTotalCharacterRatios(t,n,r),i=o.latinRatio*e,a=o.cjkRatio*e,l=Math.ceil(gg.stringWidthOverMWidth(i)+a*(12/11));return l}},yg=gg,vg={getMaxGlyphCount:function(e,t){return e.qDimensionInfo[t].qApprMaxGlyphCount},getDimensionSize:function(e){var t,n=null==e||null===(t=e.qCardinalities)||void 0===t?void 0:t.qHypercubeCardinal,r=(null==e?void 0:e.qStateCounts)||{},o=r.qLocked,i=void 0===o?0:o,a=r.qOption,l=void 0===a?0:a,u=r.qSelected,s=void 0===u?0:u;return[void 0,0].includes(n)?i+l+s:n}},bg={getMajorAxisMaxGlyphCount:function(e,t){var n=0;if(e.qDimensionInfo.length){var r=t?0:e.qDimensionInfo.length-1;n=vg.getMaxGlyphCount(e,r)}else e.qMeasureInfo.forEach((function(e){n=Math.max(n,e.qFallbackTitle.length)}));return n},getAxisData:function(e,t){return e.qDimensionInfo.length?_a.getValue(e,t?"qStackedDataPages.0.qData.0.qSubNodes":"qDataPages.0.qMatrix"):e.qMeasureInfo},getBarAxisMaxGlyphCount:function(e,t){if(e){var n=bg.getAxisData(e,t),r=!e.qDimensionInfo.length,o=r||t?void 0:e.qDimensionInfo.length-1,i=bg.getMajorAxisMaxGlyphCount(e,t),a=r?"qFallbackTitle":"qText";return yg.getAdjustedMaxGlyphCount(i,n,o,a)}},getGroupAxisMaxGlyphCount:function(e){if(e){var t=bg.getAxisData(e),n=vg.getMaxGlyphCount(e,0);return yg.getAdjustedMaxGlyphCount(n,t,0)}}},xg=bg,Mg={LOWERGLYPHCOUNT:3,UPPERGLYPHCOUNT:13};function Og(e){return function(e){if(Array.isArray(e))return wg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sg(e,t,n,r){var i=t.layoutModel.meta,a=[],l=!("none"===e.measureAxis.show),u=!("title"===e.measureAxis.show);return i.isContinuous?a.push.apply(a,Og(function(e,t,n,r){var i=t.layoutModel.meta,a=t.themeModel,l=a.axis,u=a.grid,s=t.layoutModel.getLayoutValue("gridLine",{}),c=s.auto,f=s.spacing,d=[],p="none"!==e.dimensionAxis.show&&"title"!==e.dimensionAxis.show,m=pg["".concat(t.dockModel.major.orientation,"DimensionAxis")].minimumLayoutMode,h={type:"grid-line",x:{},layout:{minimumLayoutMode:pg.gridLines.minimumLayoutMode},ticks:{stroke:u.line.major.color},minorTicks:{show:!1,stroke:u.line.minor.color}},g=!!e.showMiniChartForContinuousAxis&&{type:"range",key:"range-brush-highlighter",layout:{dock:"@scrollbar"},settings:{scale:t.reducedDataModel.scales.major,brush:"selection",fill:"#6CB33F",opacity:.2}};if(i.isTime){if(p){var y=n.rtl?"end":"start",v=n.rtl?1:0,b="bottom"===t.dockModel.major.dock?0:1,x={label:{fill:l.label.name.color,fontSize:l.label.name.fontSize,fontFamily:l.label.name.fontFamily},majorGuideLine:{stroke:l.line.major.color},minorGuideLine:{stroke:l.line.minor.color}},M={type:"time-axis",renderer:"svg",layout:{dock:t.dockModel.major.dock,minimumLayoutMode:m},preferredSize:function(){return{size:2*parseFloat(l.label.name.fontSize),edgeBleed:{left:1,right:1}}},settings:{anchor:y,label:{align:b,justify:v},guideLine:{major:{justify:v},minor:{align:b}}},style:x};d.push(o()(!0,{},M,{key:mg,scale:Uu.SCALE.MAIN.MAJOR_INNER,settings:{guideLine:{minor:{show:!0}},line:{show:!c&&0===f}},style:o()(!0,{},x,{line:{stroke:l.line.major.color},majorGuideLine:{stroke:l.line.minor.color},minorGuideLine:{stroke:l.line.major.color}})})),d.push(o()(!0,{},M,{key:hg,scale:Uu.SCALE.MAIN.MAJOR,settings:{guideLine:{minor:{show:!1}},line:{show:!1}}})),d.push({type:"axis-overlay",key:"outer-axis-overlay",scale:Uu.SCALE.MAIN.MAJOR,layout:{dock:"@".concat(hg),minimumLayoutMode:m}}),d.push({type:"axis-overlay",key:"inner-axis-overlay",scale:Uu.SCALE.MAIN.MAJOR_INNER,layout:{dock:"@".concat(mg),minimumLayoutMode:m}}),d.push(g)}return d.push(o()(!0,{},h,{key:"inner-time-grid",x:{scale:Uu.SCALE.MAIN.MAJOR_INNER},ticks:{stroke:u.line.minor.color}})),d.push(o()(!0,{},h,{key:"outer-time-grid",x:{scale:Uu.SCALE.MAIN.MAJOR}})),d}i.isContinuous&&(p&&(d.push({type:"axis",key:"continuous-axis",scale:Uu.SCALE.MAIN.MAJOR,layout:{dock:t.dockModel.major.dock,minimumLayoutMode:m},settings:{labels:{align:0,offset:4,fill:l.label.name.color,fontSize:l.label.name.fontSize,fontFamily:l.label.name.fontFamily},ticks:{show:!0,stroke:l.line.major.color},line:{show:!r},minorTicks:{show:!1}}}),d.push({type:"axis-overlay",key:"inner-axis-overlay",scale:Uu.SCALE.MAIN.MAJOR,layout:{dock:"@".concat("continuous-axis"),minimumLayoutMode:m}}),d.push(g)),d.push(o()(!0,{},h,{key:"continuous-grid",x:{scale:Uu.SCALE.MAIN.MAJOR},minorTicks:{show:!0}})));return d}(e,t,n,r))):a.push.apply(a,Og(function(e,t,n,r){if("none"===e.dimensionAxis.show)return[];var i=t.layoutModel.meta,a=[],l=function(e,t){return!t.layoutModel.meta.isGroupedByDimension||!e.legend.show||t.colorModel.settings().field!==t.viewModel.fields.major}(e,t),u=function(e,t){return!!t.layoutModel.meta.isGroupedByDimension&&(!e.legend.show||t.colorModel.settings().field!==t.viewModel.fields.majorGroup)}(e,t),s="vertical"===t.dockModel.major.orientation,c=s?e.dimensionAxis.label:"auto",f="horizontal"===c?void 0:t.dockModel.minor.containerSize/4,d={type:"axis",layout:{dock:t.dockModel.major.dock,minimumLayoutMode:pg["".concat(t.dockModel.major.orientation,"DimensionAxis")].minimumLayoutMode},settings:{labels:{show:!("title"===e.dimensionAxis.show),mode:c,tiltAngle:n.rtl?-40:40,maxEdgeBleed:50,maxLengthPx:f,fill:t.themeModel.axis.label.name.color,fontSize:t.themeModel.axis.label.name.fontSize,fontFamily:t.themeModel.axis.label.name.fontFamily},line:{show:!r,stroke:t.themeModel.axis.line.major.color}},brush:{consume:[{context:"selection",data:["selectionDimension"],style:{inactive:{opacity:.3}}}]}};u&&a.push(o()(!0,{},d,{key:"group-axis",scale:Uu.SCALE.MAIN.MAJOR_INNER,settings:{paddingEnd:l?10:4,labels:{mode:l?"horizontal":d.settings.labels.mode,maxGlyphCount:xg.getGroupAxisMaxGlyphCount(e.qHyperCube),maxLengthPx:f},line:{show:(s||!l)&&d.settings.line.show}}}));var p=xg.getBarAxisMaxGlyphCount(e.qHyperCube,i.isStackedByDimension);return l&&a.push(o()(!0,{},d,{key:Uu.COMPONENT.BAR_AXIS,scale:Uu.SCALE.MAIN.MAJOR,settings:{paddingEnd:4,labels:{maxGlyphCount:p,maxLengthPx:f,tiltThreshold:p>Mg.LOWERGLYPHCOUNT&&p<Mg.UPPERGLYPHCOUNT?1:void 0},line:{show:!(s&&u)&&d.settings.line.show}}})),s||2!==a.length?a:[a[1],a[0]]}(e,t,n,r))),l&&a.push({type:"axis",key:"y-axis",formatter:Uu.FORMATTER.MINOR,layout:{dock:t.dockModel.minor.dock,minimumLayoutMode:pg.measureAxis.minimumLayoutMode},scale:Uu.SCALE.MAIN.MINOR,settings:{labels:{show:u,fill:t.themeModel.axis.label.name.color,fontSize:t.themeModel.axis.label.name.fontSize,fontFamily:t.themeModel.axis.label.name.fontFamily},line:{stroke:t.themeModel.axis.line.major.color},ticks:{stroke:t.themeModel.axis.line.major.color},minorTicks:{stroke:t.themeModel.axis.line.minor.color}}}),a}var kg={BAR:{WIDTH:.7,STROKE:{COLOR:"#205891",WIDTH:{NONE:0,SMALL:1,MEDIUM:2,LARGE:4}}}},Cg=.7,Eg=.9;function Ag(e){var t=e.layoutModel,n=e.discrete,r=e.componentKey,o=t.meta,i=o.isContinuous,a=o.isGrouped;if(i)return 1;var l=(t.getLayoutValue("components",[])||[]).filter((function(e){return e.key===r}))[0];if(l){var u=l.style;return u.strokeWidth&&"none"!==u.strokeWidth?function(){var e=kg.BAR.STROKE.WIDTH[u.strokeWidth.toUpperCase()]/n.query.getItemSize(),t=u.width+e;return t>1?u.width-(t-1):u.width}:u.width}return a?Eg:Cg}var qg=2,Dg={FULL:16,MEDIUM:14,SMALL:12,XSMALL:8,SPARK:4};function Tg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){var o=r.data,i=e.chart.component(t).rect;if(!o.items.length||!i)return qg;var a=e.viewState.get("zoom"),l=a.min,u=a.max;if(n[[l,u]])return n[[l,u]];var s=Dg[el.getLayoutMode(i.width,Number.MAX_VALUE)];n={};var c=Math.abs(u-l),f=Math.abs(e.viewCache.get("continuousMax")-e.viewCache.get("continuousMin"));if(0===f)return s;var d,p=Math.min(c/f/.2,1),m=qg*(1-(d=1-p))+s*d;return n[[l,u]]=Math.max(qg,Math.min(s,m)),n[[l,u]]}}var Ng=function(e,t){var n,r,o=t.componentKey,i=t.collectionKey,a=e.layoutModel.meta;a.isGroupedByDimension?n=function(e){var t=e.scale,n=e.datum;return t([n.group.value,n.value])+t.bandwidth([n.group.value,n.value])/2}:a.isGroupedByMeasure&&(n=function(e){var t=e.scale,n=e.datum;return t([n.value,n.measureIndex.value])+t.bandwidth()/2});var l=qg;a.isContinuous?(r={start:"timeStart",end:"timeEnd"},l=Tg(e,o)):a.isStacked&&(r="stack");var u=a.isStackedByDimension&&e.layoutModel.getHyperCubeValue("qStackedDataPages.0.qArea.qHeight",NaN)>1;var s=e.layoutModel.getLayoutValue("components",null),c=s?s.filter((function(e){return e.key===o}))[0]:null;return{key:o,type:"box",data:{collection:i},preferredSize:a.isContinuous?function(){return{size:0,edgeBleed:{left:1,right:1}}}:void 0,brush:{consume:[{context:"selection",data:["selectionDimension","end","fill","timeEnd"],style:{active:{strokeWidth:a.isContinuous||u?0:2,stroke:"#000"},inactive:{opacity:.3}}}]},settings:{major:{scale:Uu.SCALE.MAIN.MAJOR,fn:n,ref:r},minor:{scale:Uu.SCALE.MAIN.MINOR},orientation:e.dockModel.major.orientation,box:{width:Ag({layoutModel:e.layoutModel,discrete:e.discrete,componentKey:o}),minWidthPx:l,fill:e.colorModel.color(),minHeightPx:function(e){return a.isStacked||0===e.datum.end.value&&"-"===e.datum.end.label?0:.3},strokeWidth:c?kg.BAR.STROKE.WIDTH[c.style.strokeWidth.toUpperCase()]:kg.BAR.STROKE.WIDTH.NONE,stroke:c?c.style.strokeColor.color:kg.BAR.STROKE.COLOR},oob:{show:!1},whisker:{show:!1},median:{show:!1},line:{show:!1}}}};function Lg(e,t){var n=t.hasExplicitMax,r=t.explicitMax;return!!n&&e>r&&r<=0}function Ig(e,t){var n=t.hasExplicitMin,r=t.explicitMin;return!!n&&e<r&&r>=0}function jg(e,t){var n=t.hasExplicitMax,r=t.explicitMax;return!!n&&e>r&&r>0}function Pg(e,t){var n=t.hasExplicitMin,r=t.explicitMin;return!!n&&e<r&&r<0}var Rg={MAX:"max",MIN:"min"},_g={min:"Min",max:"Max"};function zg(e,t,n){return void 0===n?Lg(e,t)||Ig(e,t):n===Rg.MAX?Lg(e,t):Ig(e,t)}function Fg(e){var t=e.minorMinMax,n=e.type;return!(function(e){var t=e.minorMinMax,n=e.type;return!t["hasExplicit".concat(_g[n])]}({minorMinMax:t,type:n})||function(e){var t=e.minorMinMax,n=e.type,r=n===Rg.MAX?t.implicitMax:t.implicitMin;return!zg(Number(r.toFixed(13)),t,n)}({minorMinMax:t,type:n}))}function Ug(e,t){var n=t.barComponent,r=t.type,i=t.isStacked,a=e.viewCache,l=e.dockModel,u=a.get("minorMinMax");if(!u.hasExplicitMinMax)return!1;var s=r===Rg.MAX?u.implicitMax:u.implicitMin;if(!zg(Number(s.toFixed(13)),u,r))return!1;var c=r===Rg.MAX?l.minor.maxDock:l.minor.minDock,f="end";return i&&(f=r===Rg.MAX?"sumOfPositives":"sumOfNegatives"),{type:"box-out-of-bounds",key:"bar-oob-".concat(r),layout:{dock:c},data:n.data,brush:n.brush,settings:{orientation:n.settings.orientation,major:n.settings.major,minor:n.settings.minor,dockValue:Xa.getDockValue(c),oob:o()({},n.settings.box,{fill:e.themeModel.outOfRange.color,alignment:1,opacity:1,show:function(e){return(!i||0!==e.datum[f].value)&&zg(e.datum[f].value,u,r)}})}}}function Hg(e){return Math.min(Math.max(0,e),1)}var Bg=function(e,t){var n,r=t.chart,o=t.type,i=t.componentKey,a=t.collectionKey,l=e.layoutModel,u=e.dockModel,s=e.viewCache,c=l.meta.isStacked,f=s.get("minorMinMax"),d=e.layoutModel.meta;if(!Fg({minorMinMax:f,type:o}))return!1;d.isGroupedByDimension?n=function(e){var t=e.scale,n=e.datum;return t([n.group.value,n.value])+t.bandwidth([n.group.value,n.value])/2}:d.isGroupedByMeasure&&(n=function(e){var t=e.scale,n=e.datum;return t([n.value,n.measureIndex.value])+t.bandwidth()/2});return{type:"box",key:"".concat(Uu.COMPONENT.GHOST_BAR_OOB,"-").concat(o),data:{collection:a},settings:{orientation:u.major.orientation,major:{scale:Uu.SCALE.MAIN.MAJOR,fn:n},minor:{scale:Uu.SCALE.MAIN.MINOR,start:function(e){var t,n;return Hg(r.scale(Uu.SCALE.MAIN.MINOR)((null==e||null===(t=e.datum)||void 0===t||null===(n=t.start)||void 0===n?void 0:n.value)||0))},end:function(e){var t=r.scale(Uu.SCALE.MAIN.MINOR),n="end";c&&(n="max"===o?"sumOfPositives":"sumOfNegatives");var i=e.datum[n]?e.datum[n].value:t[o]();return Hg(t(i))}},box:{width:Ag({layoutModel:e.layoutModel,discrete:e.discrete,componentKey:i}),minWidthPx:2,fill:"none",stroke:"transparent",show:function(e){var t=r.scale(Uu.SCALE.MAIN.MINOR),n="end";c&&(n="max"===o?"sumOfPositives":"sumOfNegatives");var i=e.datum[n]?e.datum[n].value:t.max();return"max"===o?i>t.max():i<t.min()}},oob:{show:!1},whisker:{show:!1},median:{show:!1},line:{show:!1}}}};function Vg(e){return function(t){return Ou.isDark(t.node.attrs.fill)?e.lightColor:e.darkColor}}function Wg(e){var t="vertical"===e.dockModel.major.orientation;return{placements:e.simplifiedPlacements.map((function(n){return function(e,t,n){var r=e.padding||{left:n?0:4,right:n?0:4,top:n?4:0,bottom:n?4:0};return{position:e.position,justify:e.justify,fill:e.onBackground?t.color:Vg(t),overflow:e.overflow,background:e.background,padding:r}}(n,e.style,t)})),label:e.label}}function Gg(e,t){if(t){if(function(e,t){return Lg(e,t)}(e,t))return-1;if(function(e,t){return Ig(e,t)}(e,t))return 1}return function(e,t){if(t&&0===e){var n=t.min,r=t.max;return 0===r&&0===n?1:r<=0?-1:n>=0||r>=-n?1:-1}return e>=0?1:-1}(e,t)}var Kg="vertical",$g="horizontal";function Xg(e,t,n,r){var o=Gg(e,r),i="up";return t===Kg&&o<0?i="down":t===$g&&(i=o>=0&&!n||o<0&&n?"right":"left"),i}function Zg(e,t){var n=e.dataPoint;if(!n.showLabels)return!1;var r=t.layoutModel.meta,o=r.isStacked,i=r.isContinuous;return!o||!i&&!!n.showSegmentLabels}function Jg(e,t){var n=e.dataPoint;if(!n.showLabels)return!1;var r=t.layoutModel.meta,o=r.isStacked,i=r.isContinuous;return!!o&&(!!i||!1!==n.showTotalLabels)}function Yg(e,t,n,r){var o=[];return void 0!==e&&(o[e]={position:"outside",onBackground:!0,justify:0,overflow:r}),void 0!==t&&(o[t]={position:"inside",onBackground:!1,justify:n}),o}function Qg(e,t,n){var r=e.layout,i=e.component,a=e.minorScale;if(!Zg(r,t))return!1;var l,u=t.viewModel,s=t.ds,c=t.viewCache,f=t.layoutModel,d=t.dockModel,p=t.themeModel,m=f.meta,h=c.get("minorMinMax");!m.isStacked&&(l=m.isStacked?1:0);var g=0===l?1:0,y=m.isStacked?.5:1,v=u.fields.minor[0],b=void 0===v?void 0:s.field(v).formatter(),x=-1;var M={label:m.isStacked?m.isStackedByMeasure||!b?function(e){return e.data.segment.label}:function(e){return Math.abs(e.data.segment.value)>x?b(e.data.segment.value):""}:function(e){return e.data.end.label},simplifiedPlacements:Yg(l,g,y,m.isContinuous),style:p.label.value},O=[Wg(o()(t,M))],w={key:"bar-labels",type:"labels",layout:{minimumLayoutMode:"XSMALL"},settings:{sources:[{component:i,selector:"rect",strategy:{type:"bar",settings:{direction:function(e){return Xg(e.data.end.value,d.major.orientation,n.rtl,h)},labels:O,fontSize:p.label.value.fontSize,fontFamily:p.label.value.fontFamily}}}]}};return m.isStackedByDimension&&b&&(w.beforeRender=function(){x=function(e,t,n){var r="horizontal"===t.dockModel.minor.orientation?"height":"width",o=t.chart.component(e),i=o&&o.rect?o.rect[r]:1,a=n?n.min():0;return 9.999*((n?n.max():0)-a)/i}(i,t,a)}),w}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(n),!0).forEach((function(t){ny(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ny(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ry(e){return function(e){if(Array.isArray(e))return oy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iy="#la-vie-tooltip",ay=3e4;function ly(e){var t=e.rtl,n=Zh({rtl:t});return o()(!0,n,{destroyed:function(){var e;(e=document.querySelector(iy))&&e.parentElement&&e.childElementCount<1&&e.parentElement.removeChild(e),ua.destroySessionObject()},settings:{content:function(e){var n=e.h,r=e.data,o=e.style;return function(e,t,n){return null==t?e:[].concat(ry(e),ry(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.measures&&e.measures.length>0?e.measures.map((function(e){var n=[e.value];return[{content:e.label},{content:n,style:{"text-align":t?"left":"right"}}]})):[]}(t,n)),ry(function(e){return e.limitation?[[{content:e.limitation,style:{"font-weight":"bold"},colspan:2},{}]]:[]}(t)))}(r[0].rows||[],r[0].customTooltipData,t).map((function(e){return n("tr",{},function(e,t){var n=t.h,r=t.style;return e.map((function(e){var t={style:ty(ty({},r.cell||{}),e.style||{}),class:e.class};return e.colspan&&(t.colspan=e.colspan),n("td",t,e.content)}))}(e,{h:n,style:o}))}))},duration:ay}})}var uy={getColorSymbol:function(e,t){return e.h("div",{style:{display:"inline-block",width:"10px",height:"10px","background-color":t.color.fill,margin:"0 8px"}})},getNodeFillColor:function(e){return e.attrs&&void 0!==e.attrs.fill?e.attrs.fill:e.children&&e.children[0]&&e.children[0].attrs&&void 0!==e.children[0].attrs.fill?e.children[0].attrs.fill:void 0},getColor:function(e,t,n){var r=t.data,o=e.resources.formatter,i=e.resources.dataset,a={};if(n.coloring.label&&(a.label="".concat(n.coloring.label)),"color"!==n.coloring.type&&r.fillTooltip){var l=o("fill"),u="measure"===n.coloring.fieldType;if(a.value=u&&l?l(r.fillTooltip.value):r.fillTooltip.label?r.fillTooltip.label:r.fillTooltip.value,!n.coloring.label){var s=i(r.fillTooltip.source.key).field(r.fillTooltip.source.field).title();a.label="".concat(s)}}return a.fill=void 0===r._fillColor?uy.getNodeFillColor(t):r._fillColor,a},getMeasure:function(e,t){var n=e(t.source.key).field(t.source.field).title();return{label:"".concat(n),value:""===t.label||"NaN"===t.label?"-":t.label,field:t.source.field}},hideColorRow:function(e,t){return void 0===e.color.value||e.measures.some((function(e){return e.field===t.coloring.field}))},getTitleRow:function(e,t){var n=Pc.detectTextDirection(e.title);return[{content:e.title,style:{"font-weight":"bold","text-align":t.rtl?"right":"left",direction:n},colspan:2},{}]},getDescriptionRow:function(e,t){var n=Pc.detectTextDirection(e.value);return[{content:e.value,style:{"text-align":t.rtl?"right":"left",direction:n},colspan:2},{}]},getImageRow:function(e,t){var n=Pc.detectTextDirection(e.src),r=[],o={style:{display:"block","margin-left":"auto","margin-right":"auto",overflow:"hidden",width:e.width,height:e.height}};if("original"===e.size||e.imageError){r.push(t.h("span",{style:{display:"inline-block",height:"100%","vertical-align":"middle"}}));var i=e.imageError?"".concat(e.src,"?").concat(Math.random()):e.src;r.push(t.h("img",{style:{"max-width":e.width,"max-height":e.height,"vertical-align":"middle"},src:i,referrerpolicy:"no-referrer"})),o.style["text-align"]="center",o.style["white-space"]="nowrap"}else o.style["background-size"]="contain",o.style["background-repeat"]="no-repeat",o.style["background-position"]="center",o.style["background-image"]="url('".concat(e.src,"')");return[{content:[t.h("div",o,r),""],style:{"text-align":t.rtl?"right":"left",direction:n,"max-width":e.width},colspan:2},{}]},getNMoreRow:function(e,t,n){var r=t?t.get("Object.ChartTooltip.NMore",e):"+".concat(e," more"),o=Pc.detectTextDirection(r);return[{content:r,style:{"font-weight":"bold","text-align":n.rtl?"right":"left",direction:o},colspan:2},{}]},getSeparatorRow:function(){return[{content:"",style:{"background-image":"linear-gradient(transparent 8px, rgba(255, 255, 255, 0.4) 8px, rgba(255, 255, 255, 0.4) 9.2px, transparent 9.2px)",height:"17px"},colspan:2},{}]},getColorRow:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Pc.detectTextDirection(t.color.label),o=n.rtl?[":",t.color.label]:[t.color.label,":"],i=Pc.detectTextDirection(t.color.value),a=n.rtl?[t.color.value,uy.getColorSymbol(e,t)]:[uy.getColorSymbol(e,t),t.color.value];return[{content:o,style:{"text-align":n.rtl?"right":"left",direction:r}},{content:a,style:{"text-align":n.rtl?"left":"right",direction:i,"vertical-align":"middle"}}]},getMeasureRow:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Pc.detectTextDirection(e.label),l=o.rtl?[":",e.label]:[e.label,":"],u=Pc.detectTextDirection(e.value);return r=i?o.rtl?[e.value,uy.getColorSymbol(t,n)]:[uy.getColorSymbol(t,n),e.value]:[e.value],[{content:l,style:{"text-align":o.rtl?"right":"left",direction:a}},{content:r,style:{"text-align":o.rtl?"left":"right",direction:u,"vertical-align":"middle"}}]}},sy=uy;function cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cy(Object(n),!0).forEach((function(t){dy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var py={getCustomAttrExps:function(e,t,n,r){var o,i,a={customTooltipAttrExpsArr:[],customTooltipInfoAttrExpsArr:[]},l=(null===(o=t.data)||void 0===o||null===(i=o.customTooltipAttrExps)||void 0===i?void 0:i.value)||[];return Number.isNaN(l)?a:function(e,t,n,r,o){var i,a=(dy(i={},oa.CUSTOM.TITLE,!0),dy(i,oa.CUSTOM.DESCRIPTION,!0),i),l=Pa.getAttrExprData(e),u=l.attrExps,s=l.fieldPath;return 0===t.length||0===u.length||""===s||u.forEach((function(e,i){var l=t[i];if(e.id===oa.CUSTOM.EXPRESSION&&l){var u,c=e.qFallbackTitle;u=!e.qIsAutoFormat&&l&&"NaN"!==l.value?n("qHyperCube").field("".concat(s,"/").concat(i)).formatter()(l.value):e.qIsAutoFormat&&l&&"NaN"!==l.value&&r?r(l.value):l.value,o.customTooltipAttrExpsArr.push({label:c,value:u})}else if(a[e.id]&&l){var f="-"!==l.value&&"NaN"!==l.value?l.value:l.label;f&&"undefined"!==f&&o.customTooltipInfoAttrExpsArr.push(fy(fy({},e.id===oa.CUSTOM.TITLE&&{title:f}),{},{value:f,id:e.id}))}})),o}(n,l.map((function(t){return sy.getMeasure(e,t)})),e,r,a)}};function my(e){return function(e,t,n,r){var o=[];return e.forEach((function(e){o.push(py.getCustomAttrExps(n,e,t,r))})),o}(e.nodes,e.layout,e.dataset,e.formatter).reduce((function(e,t){return{customTooltipAttrExpsArr:e.customTooltipAttrExpsArr.concat(t.customTooltipAttrExpsArr),customTooltipInfoAttrExpsArr:e.customTooltipInfoAttrExpsArr.concat(t.customTooltipInfoAttrExpsArr)}}),{customTooltipAttrExpsArr:[],customTooltipInfoAttrExpsArr:[]})}var hy={combineBounds:function(e){var t=Number.MAX_VALUE,n=-Number.MAX_VALUE,r=Number.MAX_VALUE,o=-Number.MAX_VALUE;return e.forEach((function(e){e&&(t=Math.min(t,e.x,e.x+e.width),n=Math.max(n,e.x,e.x+e.width),r=Math.min(r,e.y,e.y+e.height),o=Math.max(o,e.y,e.y+e.height))})),{x:t,y:r,width:n-t,height:o-r}}};function gy(e){return function(e){if(Array.isArray(e))return yy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vy={isSameMeasureAndColorRow:function(e,t,n){return t&&e&&t[0].content[0]===e[0].content[0]&&t[0].content[1]===e[0].content[1]&&t[1].content[n.rtl?0:1]===e[1].content[0]},getTitle:function(e,t){var n,r=e.data;return t.isStackedByDimension?n=r.stack?r.stack.label:void 0:t.isGroupedByDimension&&(n=r.group?r.group.label:void 0),void 0!==n?"".concat(r.label,", ").concat(n):r.label},getMeasure:function(e,t,n,r,o){if(n.isStacked&&("bar-oob-max"===t.key||"bar-oob-min"===t.key))return!1;var i=t.data,a=n.isStacked?r.viewModel.fields.minor[n.isStackedByDimension?0:i.measureIndex.value]:void 0,l=n.isStacked?{source:{key:i.source.key,field:a},label:n.isStackedByDimension&&o?o(i.segment.value):i.segment.label}:i.end;return sy.getMeasure(e,l)},getMeasures:function(e,t,n,r,o){var i=e.resources.dataset;return t.map((function(e){return vy.getMeasure(i,e,n,r,o)})).filter(Boolean)},getCustomTooltipAttrExps:function(e,t,n,r){var o=e.resources.dataset;return my({nodes:t,layout:n.layoutModel.getLayout(),dataset:o,formatter:r})},extractBarTooltipData:function(e,t,n,r,o){var i={title:vy.getTitle(t,n),color:sy.getColor(e,t,r),measures:vy.getMeasures(e,t.childrenNodes?t.childrenNodes:[t],n,r,o)};if(r.flags&&r.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&vy.useCustomTooltip(r)){var a=vy.getCustomTooltipAttrExps(e,t.childrenNodes?t.childrenNodes:[t],r,o);if(i.customMeasures=a.customTooltipAttrExpsArr,i.customTitle=a.customTooltipInfoAttrExpsArr.filter((function(e){return e.id===oa.CUSTOM.TITLE})),i.customDescription=a.customTooltipInfoAttrExpsArr.filter((function(e){return e.id===oa.CUSTOM.DESCRIPTION})),r.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")){var l=[];(t.childrenNodes?t.childrenNodes:[t]).forEach((function(e){var t;(null===(t=e.data.customTooltipImages)||void 0===t?void 0:t.length)>0&&!Array.isArray(e.data.customTooltipImages[0])&&(l=l.concat(e.data.customTooltipImages))})),l.length>0&&(i.customImages=l)}}return i},getTotalStackTitle:function(e,t){return e>0?t?t.get("Object.ChartTooltip.sumOfPositives"):"Sum of positives":e<0?t?t.get("Object.ChartTooltip.sumOfNegatives"):"Sum of negatives":""},extractStackTotalBarTooltipData:function(e,t,n){return{title:e.data.label,measures:[e.data.sumOfPositives.value,e.data.sumOfNegatives.value].filter((function(e){return 0!==e})).map((function(e){return{label:"".concat(vy.getTotalStackTitle(e,t)),value:n?n(e):e}}))}},extractTooltipData:function(e,t){var n=t.chart.formatter(Uu.FORMATTER.MINOR),r=t.layoutModel.meta,o=e.node.childrenNodes?e.node.childrenNodes:[e.node],i=Math.max(0,o.length-6);o.length=Math.min(o.length,6);var a=e.node.stackTotalBarNodes,l=a&&a.length?a.map((function(e){return vy.extractStackTotalBarTooltipData(e,t.translator,n)})):[];return{barTooltipData:o.map((function(o){return vy.extractBarTooltipData(e,o,r,t,n)})),stackTotalBarTooltipData:l,numInvisibleNodesPhase1:i}},extractBarNodeData:function(e,t,n,r,o,i,a){var l=!o&&sy.getTitleRow(t,r),u=sy.hideColorRow(t,n),s=!i&&!u&&sy.getColorRow(e,t,r),c=t.measures.map((function(o){return!a&&sy.getMeasureRow(o,e,t,r,u&&o.field===n.coloring.field)})).filter((function(e){return!vy.isSameMeasureAndColorRow(e,s,r)}));if(n.flags&&n.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&vy.useCustomTooltip(n)){var f=t.customMeasures.map((function(n){return sy.getMeasureRow(n,e,t,r,!1)})),d=t.customTitle[0]?sy.getTitleRow(t.customTitle[0],r):[],p=t.customDescription[0]?sy.getDescriptionRow(t.customDescription[0],r):[],m=[d,p,l=!vy.shouldIgnoreTitleRowForCtt(d,p,c,f)&&l,s].concat(gy(c),gy(f));if(n.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&t.customImages){var h=t.customImages.map((function(t){return sy.getImageRow(t,e)}));m.push.apply(m,gy(h))}return m.filter(Boolean)}return[l,s].concat(gy(c)).filter(Boolean)},extractStackTotalBarNodeData:function(e,t,n){var r=!!t.measures.length&&sy.getTitleRow(t,n),o=t.measures.map((function(r){return sy.getMeasureRow(r,e,t,n,!1)}));return[r].concat(gy(o)).filter(Boolean)},useCustomTooltip:function(e){return _a.getValue(e,"customTooltipModel.useCustomTooltip",!1)},shouldIgnoreTitleRow:function(e,t){return e.isDimensionless||t>0&&!e.isGroupedByDimension&&!e.isStackedByDimension},shouldIgnoreTitleRowForCtt:function(e,t,n,r){return!1===n[0]&&0===r.length&&(e.length>0||t.length>0)},shouldIgnoreColorRow:function(e,t){return t>0&&(e.isGroupedByMeasure||e.isStackedByMeasure)},shouldIgnoreMeasureRow:function(e,t,n){return e&&t.measures.some((function(e){return e.field===n.coloring.field}))},shouldIgnoreDefaultRows:function(e,t){return vy.useCustomTooltip(t)&&_a.getValue(e,"tooltip.hideBasic",0)},extractBarsData:function(e,t,n,r){var o,i,a=t.layoutModel.meta,l=t.layoutModel.getLayout(),u=r.length,s=[],c=vy.shouldIgnoreDefaultRows(l,t);for(o=0;o<u;o++){i=r[o];var f=vy.shouldIgnoreTitleRow(a,o),d=c||vy.shouldIgnoreColorRow(a,o),p=c||vy.shouldIgnoreMeasureRow(d,i,t);if((s=s.concat(vy.extractBarNodeData(e,i,t,n,f,d,p))).length>=6||i.customImages)return{barsData:s,numInvisibleNodesPhase2:u-(o+1)}}return{barsData:s,numInvisibleNodesPhase2:0}},extractStackTotalBarsData:function(e,t,n){var r=[];return n.some((function(e){return e.measures.length}))&&n.forEach((function(n){r=r.concat(vy.extractStackTotalBarNodeData(e,n,t))})),r},extractData:function(e,t,n){var r=vy.useCustomTooltip(t),o=vy.extractTooltipData(e,t),i=o.barTooltipData,a=o.numInvisibleNodesPhase1,l=o.stackTotalBarTooltipData,u=vy.extractStackTotalBarsData(e,n,l);u.length&&u.push(sy.getSeparatorRow());var s=vy.extractBarsData(e,t,n,i),c=s.barsData,f=s.numInvisibleNodesPhase2,d=u.concat(c),p=a+f;return p&&d.push(sy.getNMoreRow(p,t.translator,n)),r&&e.node.data.customTooltip?{rows:d,customTooltipData:e.node.data.customTooltip}:d},calculateBoundsFromBars:function(e){var t=e.filter((function(e){var t=e.bounds;return t.width>0&&t.height>0})),n=t.length?t:e;return hy.combineBounds(n.map((function(e){return e.bounds})))},calculateBoundsFromScale:function(e){var t,n,r,o=e.opts,i=e.barKey,a=e.scale,l=e.majorScale,u=e.data,s=e.groupProp,c=o.chart.component(i).rect,f=o.dockModel.major.orientation,d="vertical"===f?"width":"height",p=o.chart.scale(a).pxScale(c[d]);if(o.layoutModel.meta.isGroupedByMeasure){var m=o.viewModel.fields.minor.length;t=u.value,n=a===l&&void 0!==t?(p([t,0])+p([t,m-1]))/2:0,r=a===l&&void 0!==t?p.bandwidth([t,0]):0}else{var h=u.value;t=u[s]?u[s].value:void 0,n=p(a===l&&void 0!==t?[t,h]:h),r=a===l&&void 0!==t?p.bandwidth([t,h]):p.bandwidth(h)}var g=(n+r/2)*c[d],y={width:0,height:0};return"vertical"===f?(y.x=g,y.y=c.height):(y.y=g,y.x=0),y},calculateTotalBounds:function(e){var t=e.opts,n=e.labels,r=e.bars,o=e.barKey,i=e.barAxisKey,a=e.majorScale,l=e.majorInnerScale,u=e.groupProp,s=r.filter((function(e){return e.children&&e.children.length}));return s.length?vy.calculateBoundsFromBars(s):vy.calculateBoundsFromScale({opts:t,barKey:o,scale:n[0].key===i?a:l,majorScale:a,data:n[0].data,groupProp:u})},filterNodesOnKeys:function(e,t){return e.filter((function(e){return e.data&&t.indexOf(e.key)>-1}))},isBarMatchingLabel:function(e,t){return t.data.value===e.data.value},isBarMatchingLabelOnProp:function(e,t,n){return t.data.value===(e.data[n]?e.data[n].value:e.data.value)},findBarsMatchingLabels:function(e,t,n,r){return e.filter((function(e){return t.some((function(t){return n(e,t,r)}))}))},findBarsFromGroupLabelsInGroupedByDim:function(e,t,n){var r=vy.isBarMatchingLabelOnProp;return vy.findBarsMatchingLabels(e,t,r,n)},findBarsFromBarLabelsInGroupedByDim:function(e,t,n){return e.filter((function(e){return t.some((function(t){return t.data.group&&t.data.group.value===e.data[n].value&&t.data.value===e.data.value}))}))},findBarsFromLabelsInSingleDim:function(e,t){var n=vy.isBarMatchingLabel;return vy.findBarsMatchingLabels(e,t,n)},findBarsFromLabelsInGroupedByDim:function(e,t,n,r){var o=t.filter((function(e){return e.key===n})),i=t.filter((function(e){return e.key!==n})),a=vy.findBarsFromBarLabelsInGroupedByDim(e,o,r),l=vy.findBarsFromGroupLabelsInGroupedByDim(e,i,r);return a.concat(l)},findStackTotalBarsFromLabelsInStackedByDim:function(e,t){var n=vy.isBarMatchingLabel;return vy.findBarsMatchingLabels(e,t,n)},findStackTotalBarsFromLabelsInStackedByMeasure:function(e,t){var n=vy.isBarMatchingLabel;return vy.findBarsMatchingLabels(e,t,n)},findBarsFromLabelsInStackedByDim:function(e,t,n){var r=vy.isBarMatchingLabelOnProp;return vy.findBarsMatchingLabels(e,t,r,n)},findBarsFromLabelsInStackedByMeasure:function(e,t){return vy.findBarsFromLabelsInSingleDim(e,t)},findBarsFromLabels:function(e){var t=e.labels,n=e.opts,r=e.filterKeys,o=e.barAxisKey,i=e.groupProp,a=e.stackProp,l=n.layoutModel.meta,u=vy.filterNodesOnKeys(n.chart.findShapes("container"),r);return l.isStackedByDimension?vy.findBarsFromLabelsInStackedByDim(u,t,a):l.isStackedByMeasure?vy.findBarsFromLabelsInStackedByMeasure(u,t):l.isGroupedByDimension?vy.findBarsFromLabelsInGroupedByDim(u,t,o,i):vy.findBarsFromLabelsInSingleDim(u,t)},findStackTotalBarsFromLabels:function(e){var t=e.labels,n=e.opts,r=e.stackTotalBarKey,o=n.layoutModel.meta;if(o.isStacked){var i=vy.filterNodesOnKeys(n.chart.findShapes("container"),[r]);return o.isStackedByDimension?vy.findStackTotalBarsFromLabelsInStackedByDim(i,t):vy.findStackTotalBarsFromLabelsInStackedByMeasure(i,t)}return[]},isSingleBarMode:function(e,t){var n=e.isSimple||1===t.length;return n&&t[0].children&&t[0].children.length},filterNodesOnLabels:function(e){var t=e.labels,n=e.opts,r=e.barKey,o=e.stackTotalBarKey,i=e.barAxisKey,a=e.barOobMaxKey,l=e.barOobMinKey,u=e.groupProp,s=e.stackProp,c=e.majorScale,f=e.majorInnerScale,d=e.filterFn,p=n.layoutModel.meta;if(t.length){var m=vy.findBarsFromLabels({labels:t,opts:n,filterKeys:[r],stackTotalBarKey:o,barAxisKey:i,barOobMaxKey:a,barOobMinKey:l,groupProp:u,stackProp:s});if(d&&(m=m.filter(d)),vy.isSingleBarMode(p,m))return[m[0]];if(m.length){var h=vy.findBarsFromLabels({labels:t,opts:n,filterKeys:[r,a,l],stackTotalBarKey:o,barAxisKey:i,barOobMaxKey:a,barOobMinKey:l,groupProp:u,stackProp:s});d&&(h=h.filter(d));var g=vy.calculateTotalBounds({opts:n,labels:t,bars:h,barKey:r,barAxisKey:i,groupProp:u,majorScale:c,majorInnerScale:f}),y=vy.findStackTotalBarsFromLabels({labels:t,opts:n,stackTotalBarKey:o});return[{key:r,bounds:g,childrenNodes:m,data:m.map((function(e){return e.data})),stackTotalBarNodes:y}]}return[]}return[]},filterNodesForOob:function(e,t,n){return e.key===t&&0===e.children.length||e.key===n},filterNodes:function(e){var t=e.nodes,n=e.opts,r=e.barKey,o=e.stackTotalBarKey,i=e.barAxisKey,a=e.groupAxisKey,l=e.barOobMaxKey,u=e.barOobMinKey,s=e.groupProp,c=e.stackProp,f=e.majorScale,d=e.majorInnerScale,p=vy.filterNodesOnKeys(t,[i,a]),m=p&&p.length?[p[0]]:[],h=vy.filterNodesOnLabels({labels:m,opts:n,barKey:r,stackTotalBarKey:o,barAxisKey:i,barOobMaxKey:l,barOobMinKey:u,groupProp:s,stackProp:c,majorScale:f,majorInnerScale:d});if(h&&h.length)return h;var g=n.layoutModel.meta;if(g.isStackedByMeasure){m=(p=vy.filterNodesOnKeys(t,[l,u]))&&p.length?[p[0]]:[];var y=vy.filterNodesOnLabels({labels:p,opts:n,barKey:r,stackTotalBarKey:o,barAxisKey:i,barOobMaxKey:l,barOobMinKey:u,groupProp:s,stackProp:c,majorScale:f,majorInnerScale:d,filterFn:function(e){return vy.filterNodesForOob(e,r,l)}});if(y&&y.length)return y[0].stackTotalBarNodes=void 0,y}if(g.isStackedByDimension){m=(p=vy.filterNodesOnKeys(t,[l,u]))&&p.length?[p[0]]:[];var v=vy.filterNodesOnLabels({labels:p,opts:n,barKey:r,stackTotalBarKey:o,barAxisKey:i,barOobMaxKey:l,barOobMinKey:u,groupProp:s,stackProp:c,majorScale:f,majorInnerScale:d,filterFn:function(e){return vy.filterNodesForOob(e,r,l)}});if(v&&v.length)return v[0].stackTotalBarNodes=void 0,v}var b=vy.filterNodesOnKeys(t,[r,l,u]);return b.length?[b[0]]:[]}},by=vy;function xy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.customTooltipModel&&t.customTooltipModel.useCustomTooltip&&!t.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS")?ly({rtl:n.rtl,app:t.app,model:t.model}):Zh({key:Uu.COMPONENT.BASE_TOOLTIP,rtl:n.rtl});return o()(!0,r,{scale:Uu.SCALE.MAIN.COLOR,settings:{filter:function(e){return by.filterNodes({nodes:e,opts:t,barKey:Uu.COMPONENT.BAR,stackTotalBarKey:Uu.COMPONENT.STACK_TOTAL_BAR,barAxisKey:Uu.COMPONENT.BAR_AXIS,groupAxisKey:Uu.COMPONENT.GROUP_AXIS,barOobMaxKey:Uu.COMPONENT.BAR_OOB_MAX,barOobMinKey:Uu.COMPONENT.BAR_OOB_MIN,groupProp:"group",stackProp:"stack",majorScale:"major",majorInnerScale:"majorInner"})},extract:function(e){return by.extractData(e,t,n)},placement:"bounds"},style:{content:{fontFamily:t.themeModel.fontFamily}}})}var My={extractData:function(e,t){return[sy.getTitleRow({title:e.node.data.label},t)]},filterNodes:function(e,t){var n=e.filter((function(e){return e.data&&e.key===t}));return n.length?[n[0]]:[]}};function Oy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("categorical"!==t.colorModel.settings().type)return!1;var r=Zh({key:Uu.COMPONENT.LEGEND_CAT_TOOLTIP,rtl:n.rtl});return o()(!0,r,{scale:Uu.SCALE.MAIN.COLOR,settings:{filter:function(e){return My.filterNodes(e,Uu.COMPONENT.LEGEND_COLOR_CAT)},extract:function(e){return My.extractData(e,n)},placement:"pointer",direction:n.rtl?"rtl":"ltr"},style:{content:{fontFamily:t.themeModel.fontFamily}}})}var wy="center",Sy="bottom",ky={NoDataExist:{label:"NoDataExist",alignment:wy,default:!0},OnlyNanData:{label:"OnlyNanData",alignment:wy,default:!0},OnlyNegativeOrZeroValues:{label:"OnlyNegativeOrZeroValues",alignment:wy,default:!1},LimitedData:{label:"LimitedData",alignment:Sy,default:!1},OnlyNanColor:{label:"OnlyNanColor",alignment:Sy,default:!1},NegativeOrZeroValues:{label:"NegativeOrZeroValues",alignment:Sy,default:!1},DataRangeIncludingZero:{label:"DataRangeIncludingZero",alignment:Sy,default:!1}},Cy=function(e,t,n){if(!e)return!1;var r=t.translator,o=n.rtl;return{key:"disclaimer",type:"disclaimer",layout:{dock:ky[e].alignment},settings:{label:r.get("Object.Disclaimer.".concat(e)),rtl:o}}};function Ey(e,t,n){var r=function(e,t){if(e.qHyperCube.qSize.qcx*e.qHyperCube.qSize.qcy==0)return"NoDataExist";var n=!1;if(t.layoutModel.meta.isContinuous&&2===e.qHyperCube.qDimensionInfo.length){var r=e.qHyperCube.qDimensionInfo[1];n=vg.getDimensionSize(r)>ll.maxNumberOfLines}return!!n&&"LimitedData"}(e.layout,t);return Cy(r,t,n)}function Ay(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qy(e,t){var n,r=t.fill;return Ay(n={},Uu.FORMATTER.MINOR,{data:{fields:e.viewModel.fields.minor}}),Ay(n,Uu.FORMATTER.COLOR,r&&r.data&&r.data.field?{data:{field:r.data.field}}:{}),n}var Dy={NONE:0,WIDE:1,MEDIUM:2,NARROW:3};function Ty(e){return e.getLayoutValue("gridLine.auto")}function Ny(e){return!Ty(e)&&e.getLayoutValue("gridLine.spacing")===Dy.WIDE}function Ly(e){return!Ty(e)&&e.getLayoutValue("gridLine.spacing")===Dy.NARROW}var Iy=function(e,t){var n=t.themeModel,r=t.layoutModel,o=t.dockModel;if(!Ty(r)&&function(e){return!e.getLayoutValue("gridLine.spacing")}(r))return!1;var i=n.grid,a={key:"grid-line",type:"grid-line",layout:{minimumLayoutMode:pg.measureAxis.minimumLayoutMode},preferredSize:function(){return{size:0,edgeBleed:{left:1,right:1,top:1,bottom:1}}},ticks:{show:!Ny(r)||function(e,t){return t%2==0},stroke:i.line.major.color},minorTicks:{show:Ly(r),stroke:i.line.minor.color}};return a[Xa.getMinorScaleAxis(o.major.orientation)]=Uu.SCALE.MAIN.MINOR,a},jy=function(e){var t=e.dockModel,n=e.themeModel,r=e.viewCache.get("minorMinMax");if(r.min>0||r.max<0)return!1;var o={};return o["vertical"===t.minor.orientation?"x":"y"]=[{value:0,scale:Uu.SCALE.MAIN.MINOR,line:{stroke:n.grid.line.highContrast.color}}],{key:"high-contrast-grid-line",type:"ref-line",scale:Uu.SCALE.MAIN.MINOR,lines:o}};function Py(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ry(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ry(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _y(e){var t=e.componentKey,n=e.chart,r=e.viewState,o=e.viewCache,i=e.layoutModel,a=e.dockModel,l=e.rtl;return function(e){var u=e.center,s=u.x,c=u.y,f=n.element.getBoundingClientRect(),d=n.component(t),p="vertical"===a.major.orientation,m=p?s-f.left-d.rect.computedInner.x:c-f.top-d.rect.computedInner.y,h=p?d.rect.computedInner.width:d.rect.computedInner.height,g=p&&l?h-m:m,y=Math.max(0,Math.min(g/h,1)),v=Py(Lh({layoutModel:i,viewState:r,viewCache:o}),2),b=v[0],x=y<b,M=y>v[1],O=!x&&!M;return{pixel:g,relative:y,thumb:O?g-b*h:0,beforeThumb:x,afterThumb:M,onThumb:O}}}function zy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uy(e){var t=e.componentKey,n=e.chart,r=e.viewState,o=e.viewCache,i=e.layoutModel,a=e.dockModel;return function(){var e=n.component(t),l=a.major.orientation,u=e.rect.computedInner,s=u.width,c=u.height,f="vertical"===l?s:c,d=zy(Lh({layoutModel:i,viewState:r,viewCache:o}),2),p=d[0];return{size:f,thumbSize:(d[1]-p)*f}}}function Hy(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel,l=e.dockModel,u=e.discrete,s=e.rtl,c=_y({componentKey:t,chart:n,viewState:o,viewCache:i,layoutModel:a,dockModel:l,rtl:s}),f=Uy({componentKey:t,chart:n,viewState:o,viewCache:i,layoutModel:a,dockModel:l});return{type:"Tap",options:{event:"scrollbarTap",enable:function(e,o){return!o||!!r.scroll.enabled()&&n.componentsFromPoint({x:o.center.x,y:o.center.y}).some((function(e){return e.key===t}))}},events:{scrollbarTap:function(e){e.preventDefault();var r=c(e);if(a.meta.isContinuous){var l=o.get("zoom"),s=l.max-l.min,d=i.get("continuousMin"),p=i.get("continuousMax"),m=d+(p-d)*r.relative;o.set("zoom",{min:Math.min(m-s/2,p-s),max:Math.max(m+s/2,d+s)})}else{var h=f(),g=r.pixel-h.thumbSize/2,y=Math.max(0,g/h.size);u.command.scrollTo(y)}n.component(t).emit("render")}}}}function By(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gy="scrollbarResize",Ky=function(e){var t=Vy(e.changedPointers,1)[0];return t&&("pointerdown"===t.type||"mousedown"===t.type)};function $y(e){var t,n=e.componentKey,r=e.chart,o=e.actions,i=e.viewState,a=e.viewCache,l=e.layoutModel,u=e.dockModel,s=e.rtl,c=_y({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u,rtl:s});return{type:"Pan",key:"event:".concat(Gy),options:{event:Gy,threshold:0,enable:function(e,t){return!(!l.meta.isContinuous||!o.scroll.enabled())&&(!t||(this[Gy]=this[Gy]||{},Ky(t)&&Rp({e:t})&&(this[Gy].panningEvent=t.srcEvent),!!this[Gy].panningEvent))}},events:(t={},By(t,"".concat(Gy,"start"),(function(e){e.preventDefault(),this[Gy]=this[Gy]||{},this[Gy].panningEvent&&r.component(n).emit("dragStart",this[Gy].panningEvent)})),By(t,"".concat(Gy,"move"),(function(e){if(e.preventDefault(),this[Gy]=this[Gy]||{},this[Gy].panningEvent){var t=i.get("zoom"),o=a.get("continuousMin"),l=a.get("continuousMax"),u=a.get("minimiumZoomSpan"),s=(l-o)*c(e).relative+o,f=Rp({e:this[Gy].panningEvent}),d="start"===f?Math.min(s,t.max):t.min,p="end"===f?Math.max(s,t.min):t.max;d===p&&(d-="start"===f?u:0,p+="end"===f?u:0),i.set("zoom",{min:d,max:p}),r.component(n).emit("render")}})),By(t,"".concat(Gy,"end"),(function(e){e.preventDefault(),this[Gy]=this[Gy]||{},delete this[Gy].panningEvent,r.component(n).emit("dragEnd")})),By(t,"".concat(Gy,"cancel"),(function(e){e.preventDefault(),this[Gy]=this[Gy]||{},delete this[Gy].panningEvent,r.component(n).emit("dragEnd")})),t)}}function Xy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zy="scrollbarPan";function Jy(e){var t,n=e.componentKey,r=e.chart,o=e.actions,i=e.viewState,a=e.viewCache,l=e.layoutModel,u=e.dockModel,s=e.discrete,c=e.rtl,f=_y({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u,rtl:c}),d=Uy({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u});return{type:"Pan",key:"event:".concat(Zy),options:{event:Zy,threshold:0,enable:function(e,t){return this[Zy]=this[Zy]||{},!(t&&!this[Zy].isPanning)||!!o.scroll.enabled()&&(!t||t.target===r.element)&&r.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===n}))}},events:(t={},Xy(t,"".concat(Zy,"start"),(function(e){e.preventDefault();var t=f(e);if(this[Zy]=this[Zy]||{},this[Zy].isPanning=!0,r.component(n).emit("lockState"),l.meta.isContinuous){var o=i.get("zoom"),u=o.max-o.min,s=a.get("continuousMin"),c=a.get("continuousMax"),p=s+(c-s)*t.relative;p<o.min?i.set("zoom",{min:Math.min(p,c-u),max:Math.max(p+u,s+u)}):p>o.max&&i.set("zoom",{min:Math.min(p-u,c-u),max:Math.max(p,s+u)}),this[Zy].relative=t.relative,this[Zy].zoom=i.get("zoom"),this[Zy].zoom.span=this[Zy].zoom.max-this[Zy].zoom.min,this[Zy].zoom.fullSpan=c-s}else if(t.onThumb)this[Zy].offset=t.thumb;else{var m=d();this[Zy].offset=t.beforeThumb?0:m.thumbSize}})),Xy(t,"".concat(Zy,"move"),(function(e){e.preventDefault();var t=f(e);if(this[Zy]=this[Zy]||{},l.meta.isContinuous){var o=t.relative-this[Zy].relative,u=this[Zy].zoom,c=u.fullSpan,p=u.span,m=u.min,h=u.max,g=a.get("continuousMin"),y=a.get("continuousMax");i.set("zoom",{min:Math.min(m+o*c,y-p),max:Math.max(h+o*c,g+p)})}else{var v=t.pixel-(this[Zy].offset||0),b=d(),x=Math.max(0,v/b.size);s.command.scrollTo(x)}r.component(n).emit("render")})),Xy(t,"".concat(Zy,"end"),(function(e){e.preventDefault(),this[Zy]=this[Zy]||{},this[Zy].isPanning=!1,r.component(n).emit("unlockState")})),Xy(t,"".concat(Zy,"cancel"),(function(e){e.preventDefault(),this[Zy]=this[Zy]||{},this[Zy].isPanning=!1,r.component(n).emit("unlockState")})),t)}}function Yy(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel,l=e.dockModel,u=e.discrete,s=e.rtl;return[Hy({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,discrete:u,rtl:s}),$y({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,rtl:s}),Jy({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,discrete:u,rtl:s})]}function Qy(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.layoutModel,i=function(e,i){if(o.meta.isContinuous){var a=n.component(t);a&&a.emit&&r.scroll.enabled()&&a.emit(e,i)}};return{type:"native",events:{mousemove:function(e){return i("hover",e)},mouseleave:function(){return i("leave")}}}}function ev(e){return function(e){if(Array.isArray(e))return tv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nv(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel;return{gestures:ev(Yy({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:e.dockModel,discrete:e.discrete,rtl:e.rtl})),native:Qy({componentKey:t,chart:n,actions:r,layoutModel:a})}}var rv=function(e){return{type:"Pan",key:"panorama",options:{event:"areaPan",pointers:1,threshold:10,enable:function(t,n){return"areaPan"===this.started||!n||!!e.actions.scroll.enabled()&&e.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some((function(e){return e.key===Uu.COMPONENT.BAR}))}},events:{areaPanstart:function(t){t.preventDefault(),this.started="areaPan";var n=e.viewState.get("zoom");this.areaPan={min:n.min,max:n.max,size:e.chart.component(Uu.COMPONENT.BAR).rect.computedInner.width,span:n.max-n.min}},areaPanmove:function(t){t.preventDefault();var n=this.areaPan,r=n.span,o=n.min,i=n.max,a=n.size,l=-t.deltaX/a;e.viewState.set("zoom",{min:Math.min(o+l*r,e.viewCache.get("continuousMax")-r),max:Math.max(i+l*r,e.viewCache.get("continuousMin")+r)})},areaPanend:function(e){e.preventDefault(),this.started=!1},areaPancancel:function(e){e.preventDefault(),this.started=!1}}}};function ov(e,t){if(e.layoutModel.meta.isDiscrete)return{};var n=e.viewCache,r=e.viewState,o=e.chart,i=t.rtl,a=Yi.event.onZoom({viewCache:n,viewState:r,chart:o},{threshold:100,rtl:i,targetKey:Uu.COMPONENT.BAR}),l={last:0,diff:0};return{type:"Pinch",key:"continuous-pinch-zoom",options:{event:"zoom",pointers:2,threshold:0,enable:function(t,n){return!n||!!e.actions.scroll.enabled()&&e.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some((function(e){return e.key===Uu.COMPONENT.BAR}))}},events:{zoomstart:function(e){l.last=e.scale,e.preventDefault()},zoommove:function(e){var t=e.scale-l.last;(function(e){return Math.abs(e)>.01})(t)&&a(e.center,t>0?1:-1),e.preventDefault(),l.last=e.scale}}}}function iv(e,t){var n=t.element.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function av(e,t){var n=t.chart,r=t.viewState,o=t.trendLineModel,i=t.layoutModel,a=t.rtl,l=i.meta.isContinuous,u={components:[{key:e.tooltipOverlay}],propagation:"stop"},s=function(e){var t=iv(e,n);return n.shapesAt(t,u)};if(l){var c=o.query.getCalculatedValue;u={components:[{key:"trend-lines"}],propagation:"stop"},s=function(e,t){var o,i=iv(e,n),l=n.shapesAt({cx:(o=i).x,cy:o.y,r:3},u);if(l.length){var s=function(e,t,n,r){var o=(e.x-t.rect.computed.x)/t.rect.computed.width;o=r?1-o:o;var i=n.get("zoom"),a=i.min;return a+(i.max-a)*o}(i,t,r,a);l.forEach((function(e){e.data.dimValue.value=s,e.data.minor.value=c(e.data.layer.value,s).y}))}return l}}return function(t){var r=n.component(e.tooltip);if(r&&function(t){return n.componentsFromPoint({x:t.clientX,y:t.clientY}).some((function(t){return t.key===e.tooltipOverlay}))}(t)){var o=s(t,r);return o.length?(r.emit("show",t,{nodes:o}),!0):(r.emit("hide"),!1)}return!1}}function lv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sv(e,t){var n=e.chart,r=n.component(Uu.COMPONENT.BASE_TOOLTIP);r&&r.show&&(r.emit("hide"),t&&t({},r,{nodes:[]}));var o=n.component(Uu.COMPONENT.LEGEND_CAT_TOOLTIP);o&&o.show&&o.emit("hide");var i=n.component(Uu.COMPONENT.TREND_LINES_TOOLTIP);i&&i.show&&i.emit("hide")}function cv(e,t){var n=e.viewCache,r=e.viewState,o=e.chart,i=e.trendLineModel,a=e.layoutModel,l=t.rtl,u=e.layoutModel.meta.isContinuous?Yi.event.onZoom({viewCache:n,viewState:r,chart:o},{rtl:l,threshold:50,targetKey:Uu.COMPONENT.BAR}):void 0,s=av({tooltip:Uu.COMPONENT.TREND_LINES_TOOLTIP,tooltipOverlay:Uu.COMPONENT.TREND_LINES_TOOLTIP_OVERLAY},{chart:o,viewState:r,trendLineModel:i,layoutModel:a,rtl:l}),c=[Uu.COMPONENT.BAR,Uu.COMPONENT.BAR_AXIS,Uu.COMPONENT.GROUP_AXIS,Uu.COMPONENT.BAR_OOB_MAX,Uu.COMPONENT.BAR_OOB_MIN],f=e.customTooltipModel.utils,d=e.debouncer(f.displayTooltip,f.DEBOUNCE_THRESHOLD);return{type:"native",events:{wheel:function(t){var n,r=!1;if(e.actions.scroll.enabled()){var o={x:t.clientX,y:t.clientY};(n=lv(e.chart.componentsFromPoint(o).filter((function(e){return e.key===Uu.COMPONENT.BAR})),1)[0])&&(e.layoutModel.meta.isContinuous&&u(o,Math.sign(-t.deltaY)),r=!0)}!r&&e.actions.interact.enabled()&&(n=lv(e.chart.componentsFromPoint(t).filter((function(e){return e.key===Uu.COMPONENT.LEGEND_COLOR_CAT})),1)[0])&&(r=!0,function(e,t){var n=(Math.abs(e.deltaX)>Math.abs(e.deltaY)?e.deltaX:e.deltaY)>=0?"next":"prev";t.emit(n)}(t,n));r&&t.preventDefault(),sv(e,d)},mousemove:function(t){if(e.actions.tooltip.enabled()){if(s(t))return;var n=this.chart.componentsFromPoint({x:t.clientX,y:t.clientY}),r=this.chart.component(Uu.COMPONENT.BASE_TOOLTIP);if(r&&r.show&&n.some((function(e){return c.indexOf(e.key)>-1}))){var o=e.customTooltipModel;if((!e.flags||e.flags&&!e.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS"))&&o.useCustomTooltip){var i=f.getNodes(t,this.chart);d(t,r,{nodes:i,dimsAndNodeFn:function(){return o.extractDimsAndNode(i)},customTooltipModel:o,opts:e})}else if(e.flags&&e.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&o.useCustomTooltip&&f.checkIfPromisesExist({customTooltipModel:o})){var a=f.getNodes(t,this.chart);d(t,r,{nodes:a,opts:e,customTooltipModel:o})}else r.emit("show",t)}else r&&r.show&&r.emit("hide");var l=this.chart.component(Uu.COMPONENT.LEGEND_CAT_TOOLTIP);l&&l.show&&n.some((function(e){return e.key===Uu.COMPONENT.LEGEND_COLOR_CAT}))?l.emit("show",t):l&&l.show&&l.emit("hide")}},mouseup:function(e){2===e.button&&sv(this,d)},mouseleave:function(){sv(this,d)}}}}function fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fv(Object(n),!0).forEach((function(t){pv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mv(e){return function(e){if(Array.isArray(e))return hv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gv=function(e,t){return{type:"hammer",enable:!0,gestures:[].concat(mv((t.hammer||{}).gestures||[]),mv(nv(dv(dv({},e),{},{componentKey:"scrollbar",rtl:t.rtl})).gestures),mv(e.layoutModel.meta.isDiscrete?e.discrete.interactions.gestures:[rv(e,t.rtl),ov(e,t)]))}};var yv=function(e,t){var n=t.permissions;if(n){if(-1===n.indexOf("passive")&&-1===n.indexOf("interact"))return[]}else if(!e.actions.interact.enabled())return[];var r=[gv(e,t),cv(e,t),nv(dv(dv({},e),{},{componentKey:"scrollbar",rtl:t.rtl})).native];return e.layoutModel.meta.isDiscrete&&r.push(e.discrete.interactions.native),r},vv=function(e,t,n,r,o){var i=o.ds,a=o.colorModel;if("measure"===a.settings().mode||"field"===a.settings().mode||/qAttrDimInfo/.test(a.settings().field))return r.map((function(r){return o=r.label,e.measureText({text:o,fontSize:t,fontFamily:n});var o})).reduce((function(e,t){return t&&t.width>e.width?t:e}),{width:0});var l=i.field(a.settings().field).raw().qApprMaxGlyphCount;l=yg.getAdjustedMaxGlyphCount(l,r,void 0,"label");var u=new Array(l+1).join("m");return e.measureText({text:u,fontSize:t,fontFamily:n})},bv=function(e,t){var n,r,o,i,a,l,u=["top","bottom"].indexOf(e.layout.dock)>-1,s=_a.getValue(t,"properties.legend.showTitle"),c=t.chart.theme().style("$font-family"),f=t.picasso.renderer(e.renderer)(),d=function(e,t,n,r){return e.measureText({text:r,fontSize:t,fontFamily:n})}(f,_a.getValue(e,"settings.title.fontSize","16px"),c,t.colorModel.settings().label),p=u&&!s?0:Math.min(134,d.width),m=(n=e.scale,o=(r=t).ds,i=r.picasso,a=r.colorModel,l=a.data().map((function(e){return e.key})).indexOf("attrDim"),"field"===a.settings().mode&&"measure"===a.settings().fieldType?function(e,t){for(var n=[],r=e.field(t.data.field).formatter(),o=t.domain,i=1;i<o.length;i++)n.push({label:"".concat(r(o[i-1])," - < ").concat(r(o[i]))});return n}(o,a.scales()[n]):"measure"===a.settings().mode?o.fields().filter((function(e){return"measure"===e.type()})).map((function(e){return{label:e.title()}})):l>-1?i.data("q")({data:a.data()[l].data}).extract({field:"qDimensionInfo/0"}):o.field(a.settings().field).items()),h=vv(f,_a.getValue(e,"settings.item.label.fontSize","12px"),c,m,t),g=Math.min(114,h.width),y=Math.min(150,Math.max(p+16,g+24+12)),v=y-12-24,b={key:e.key,preferredSize:function(){return y},settings:{title:{maxWidth:function(){return y-16}},item:{label:{maxWidth:function(){return v},wordBreak:"break-word",maxLines:2}}}};return u&&(v=136,b={key:e.key,settings:{item:{label:{maxWidth:function(){return v}}}},beforeRender:function(e){var t=e.size,n=_a.getValue(t,"computedInner.width",0);v=(n-p-16)/m.length-12-16,v=Math.max(v,136)}}),b};function xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xv(Object(n),!0).forEach((function(t){Ov(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ov(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wv=function(e,t,n){var r=n.collectionKey;if(!_h({layoutModel:t.layoutModel}).miniChart)return!1;if(t.reducedDataModel.mode.isContinuous)return function(e,t,n){var r=t.reducedDataModel,i=t.miniColorModel,a=t.continuousDataModel;return{type:"box",key:"mini-marker",layout:{dock:"@scrollbar"},show:function(){return a.getDimensionCardinality()>1},data:{collection:n.collectionKey},settings:{box:o()(!0,{},e.settings.box,{minWidthPx:2,fill:i.color(),strokeWidth:0}),major:o()(!0,{},e.settings.major,{scale:r.scales.major}),minor:e.settings.minor,orientation:e.settings.orientation,oob:{show:!1},whisker:{show:!1},median:{show:!1},line:{show:!1}}}}(e,t,{collectionKey:r});var i,a=t.reducedDataModel,l=a.mode,u=a.scales;return l.isGroupedByDimension&&!l.isReduced?i=function(e){var t=e.scale,n=e.datum;return t([n.group.value,n.value])+t.bandwidth([n.group.value,n.value])/2}:l.isGroupedByMeasure&&(i=function(e){var t=e.scale,n=e.datum;return t([n.value,n.measureIndex.value])+t.bandwidth()/2}),{type:"box",key:"mini-marker",layout:{dock:"@scrollbar"},show:function(){return t.discrete.query.getCanScroll()},data:{collection:r},settings:{box:Mv(Mv({},e.settings.box),{},{fill:l.isReduced||l.isStackedByDimension?t.colorModel.settings().others:t.colorModel.color(),strokeWidth:0}),major:{scale:u.major,fn:i},minor:{scale:u.minor},orientation:e.settings.orientation,oob:{show:!1},whisker:{show:!1},median:{show:!1},line:{show:!1}}}},Sv=kc.a.renderer("svg")().measureText;function kv(e){return function(e){if(Array.isArray(e))return Cv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ev(e,t,n){return{reducedMinor:function(e){var t=o()(!0,{},e);return delete t.data,t}(t.minor),reducedMajor:function(e,t,n){var r=n.majorScaleInvert,i=n.maxPxStep,a=n.align,l=n.getProp,u={invert:r,data:{extract:e.mode.isDimensionless?e.fields.minor.map((function(e,t){return{field:e,value:t}})):{source:"miniCube",field:"qDimensionInfo/0"}},type:e.mode.isDimensionless?"band":void 0,maxPxStep:i,align:a};return e.mode.isStackedByDimension?u.data.extract.field="qDimensionInfo/1":e.mode.isGroupedByDimension?e.mode.isReduced||(u.data={source:"miniCube",hierarchy:{value:function(e){return e.qElemNumber}}}):e.mode.isGroupedByMeasure?(u=o()(!0,{},t)).data.extract.source="miniCube":e.mode.isContinuous&&(u=o()(!0,{},t,{min:function(){return l("continuousMin")},max:function(){return l("continuousMax")}})),u}(e,t.major,n)}}var Av=125,qv={NARROW:50,MEDIUM:100,WIDE:200};function Dv(e,t){var n=function(e){var t=e.getLayoutValue("measureAxis.spacing",1);switch(t){case.5:return qv.NARROW;case 1:return qv.MEDIUM;case 2:return qv.WIDE;default:return t*Av}}(t);return Math.max(1,Math.round(e/n))}function Tv(e){return function(e){if(Array.isArray(e))return Iv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Lv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||Lv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lv(e,t){if(e){if("string"==typeof e)return Iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iv(e,t):void 0}}function Iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jv=10;function Pv(e,t,n){return 0===t||t===Math.floor((n.length-1)/2)||t===n.length-1}function Rv(e,t,n){return 0===t||0===e||t===n.length-1}function _v(e){for(var t=1;t<e.length;t++)if(e[t]===e[t-1])return!0;return!1}function zv(e,t,n,r,o){e.domain([t,n]),e.nice(jv);var i=Nv(e.domain(),2),a=i[0],l=i[1],u=e.ticks(jv),s=function(e){return e.length%2==0}(u),c=function(e){var t=Math.round(.3*e.length),n=t,r=e.length-t;return e.slice(n,r).some((function(e){return 0===e}))}(u),f=c?Rv:Pv;u=u.filter(f),s&&!c&&!r&&u.length>1&&(u=[u[0],(u[0]+u[u.length-1])/2,u[u.length-1]]);var d=o?o.formatter(Uu.FORMATTER.MINOR):void 0;return _v(d?u.map(d):u)&&(u=[u[0],u[u.length-1]]),{roundedMin:a,roundedMax:l,ticks:u}}function Fv(e,t,n,r,o,i,a,l){var u=i.formatter(Uu.FORMATTER.MINOR),s="vertical"===a.major.orientation?"height":"width",c=function(e){return Sv({text:e,fontSize:l.axis.label.name.fontSize,fontFamily:l.axis.label.name.fontFamily})[s]},f=Nv(e.domain(),2),d=f[0],p=f[1],m=e.ticks(r);function h(){var e=m.map(u);return!_v(e)&&function(e){var t=o/m.length;return Math.max.apply(Math,Tv(e.map(c)))<=t}(e)}for(var g=r-1;g>0&&!h();g--){e.domain([t,n]),e.nice(g);var y=Nv(e.domain(),2);d=y[0],p=y[1],m=e.ticks(g)}return{roundedMin:d,roundedMax:p,ticks:m}}function Uv(e){return function(e){if(Array.isArray(e))return Hv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bv=function(e,t){return e.value-t.value},Vv=function(e){return{value:e,isMinor:!1}},Wv=function(e){return{value:e,isMinor:!0}};function Gv(e,t,n){var r=Number.isNaN(t)&&Number.isNaN(n)?3:2;return e.filter((function(e){return function(e){return Number.isNaN(t)||e>=t}(e)&&function(e){return Number.isNaN(n)||e<=n}(e)})).length<=r}function Kv(e){var t=e.chart,n=e.viewCache,r=e.dockModel,o=e.layoutModel,i=e.themeModel,a=n.get("minorMinMax"),l=a.explicitMin,u=a.explicitMax,s=a.hasExplicitMin,c=a.hasExplicitMax,f=function(e){var t=e.get("minorMinMax"),n=t.min,r=t.max;return n===r&&0===n&&(n-=1,r+=1),{min:n,max:r}}(n),d=f.min,p=f.max,m=Al((function(){var e,a,f=function(e,t,n){var r;return r=e?n.chartSize:t.component(Uu.COMPONENT.BAR).rect,"vertical"===n.major.orientation?r.height:r.width}(n.get("isPreRender"),t,r),m=Dv(f,o),h=function(e,t,n){var r=wn().domain([e,t]);return r.nice(n),r}(d,p,m),g=[];if("SPARK"===r.mode){var y=function(e,t){return{roundedMin:e,roundedMax:t}}(d,p);e=y.roundedMin,a=y.roundedMax}else{var v=Fv(h,d,p,m,f,t,r,i);if(e=v.roundedMin,a=v.roundedMax,Gv(g=v.ticks,l,u)){var b=zv(h,d,p,s||c,t);e=b.roundedMin,a=b.roundedMax,g=b.ticks}}var x=function(e,t){for(var n=[],r=0;r<e.length-1;r++)for(var o=e[r],i=(e[r+1]-o)/(t+1),a=1;a<=t;a++)n.push(o+i*a);return n}(g,1);return g=function(e,t,n){return e&&n.length&&!n.some((function(e){return e===t}))?(n.unshift(t),n.filter((function(e){return e>=t}))):n}(s,l,g),{roundedMin:e,roundedMax:a,ticks:function(e,t){return[].concat(Uv(e.map(Vv)),Uv(t.map(Wv))).sort(Bv)}(g=function(e,t,n){return e&&n.length&&!n.some((function(e){return e===t}))?(n.push(t),n.filter((function(e){return e<=t}))):n}(c,u,g),x)}}),(function(){return n.get("isPreRender")}));return{values:function(){return m().ticks},min:function(){return s?l:m().roundedMin},max:function(){return c?u:m().roundedMax}}}function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(n),!0).forEach((function(t){Zv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jv(e,t,n){var r=t.picasso,o=t.discrete,i=t.layoutModel,a=t.dockModel,l=t.viewModel,u=t.viewCache,s=t.reducedDataModel,c=t.colorModel,f=t.miniColorModel,d=t.themeModel,p=t.viewState,m=t.chart,h=n.localeInfo,g=n.rtl,y=i.meta,v=l.fields,b=function(){if("custom"!==i.getLayoutValue("dimensionAxis.axisDisplayMode"))return Math.min(200,a.chartSize["vertical"===a.major.orientation?"height":"width"]/4)},x="none"===i.getLayoutValue("measureAxis.show")?.5:Xa.getAlignment(a.minor.orientation,a.minor.dock),M={},O=Xa.getDimensionScaleInvert(a.minor.orientation,g),w=c.scales(),S=f.scales();if(Object.assign(M,w,{reducedFill:S.reducedFill}),M[Uu.SCALE.MAIN.MINOR]=function(e,t){var n=e.chart,r=e.viewModel.fields,o=e.dockModel,i=e.viewCache,a=e.layoutModel,l=e.themeModel,u=t.rtl,s=Kv({chart:n,dockModel:o,viewCache:i,layoutModel:a,themeModel:l}),c={invert:Xa.getMeasureScaleInvert(o.major.orientation,u),ticks:{values:s.values},minorTicks:{count:1},min:s.min,max:s.max};return a.meta.isStacked||(c.data={source:"qHyperCube",fields:r.minor}),c}({chart:m,viewModel:l,dockModel:a,viewCache:u,layoutModel:i,themeModel:d},{rtl:g}),y.isGroupedByDimension)[Uu.SCALE.MAIN.MAJOR_INNER,Uu.SCALE.MAIN.MAJOR].forEach((function(e,t){M[e]={invert:O,data:{source:"qHyperCube",hierarchy:{label:function(e){return e.qText?e.qText:""},value:function(e){return e.qElemNumber},props:Xv(Xv({},l.selectionDimensionProp(t)),{},{group:y.isGroupedByDimension?{field:v.majorGroup}:void 0})}},label:function(e){return e.datum.label},ticks:{depth:t+1},maxPxStep:b,align:x}}));else if(y.isGroupedByMeasure)M[Uu.SCALE.MAIN.MAJOR]={type:"group-by-measure",invert:O,data:{extract:{source:"qHyperCube",field:"qDimensionInfo/0",props:Xv({},l.selectionDimensionProp(0))}},measureCount:e.qHyperCube.qMeasureInfo.length,maxPxStep:b,align:x};else if(y.isTime){var k=function(e,t){var n=e.layoutModel,r=e.viewModel,o=e.viewCache,i=e.picasso,a=e.viewState,l=e.localeInfo,u=e.themeModel,s=function(){return n.getHyperCubeValue("qAxisData.qAxis",[])},c=i.formatter("q-time"),f=function(e){return Sv({text:e,fontSize:u.axis.label.name.fontSize,fontFamily:u.axis.label.name.fontFamily})};o.set("qTimeAxisCache",[]);var d={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=o.get("qTimeAxisCache");return n[t]&&n[t][0]===e?n[t][1]:void 0},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=o.get("qTimeAxisCache");r[n]=[e,t]},key:function(e){var t=e.distance,n=a.get("zoom"),r=n.min,i=(n.max-r)/(o.get("continuousMax")-o.get("continuousMin")),l=s().map((function(e){return e.qName}));return[t,i.toString().length>12?i.toPrecision(12):i].concat(kv(l)).toString()}};return{innerTime:{data:{field:r.fields.majorNumeric},type:"q-time-axis",qAxis:s,field:r.fields.majorNumeric,min:function(){return a.get("zoom").min},max:function(){return a.get("zoom").max},invert:!!t,formatter:{fn:c,localeInfo:l,qNumFormat:n.getHyperCubeValue("qDimensionInfo",[{}]).qNumFormat,measureText:f},ticks:{generator:{type:"d3"},level:"inner",anchor:"start",clamp:!0},cache:d},outerTime:{data:{field:r.fields.majorNumeric},type:"q-time-axis",qAxis:s,field:r.fields.majorNumeric,min:function(){return a.get("zoom").min},max:function(){return a.get("zoom").max},invert:!!t,formatter:{fn:c,localeInfo:l,qNumFormat:n.getHyperCubeValue("qDimensionInfo",[{}]).qNumFormat,measureText:f},ticks:{generator:{type:"d3"},level:"outer",anchor:"start",clamp:!0},cache:d}}}({picasso:r,localeInfo:h,viewState:p,viewModel:l,viewCache:u,themeModel:d,layoutModel:i},g),C=k.innerTime,E=k.outerTime;M[Uu.SCALE.MAIN.MAJOR_INNER]=C,M[Uu.SCALE.MAIN.MAJOR]=E}else y.isContinuous?M[Uu.SCALE.MAIN.MAJOR]={type:"linear",invert:O,data:{extract:{key:"qHyperCube",field:v.majorNumeric}},ticks:{forceBounds:!0,count:p.get("zoom").min===p.get("zoom").max?1:void 0},minorTicks:{count:1},min:function(){return p.get("zoom").min},max:function(){return p.get("zoom").max}}:M[Uu.SCALE.MAIN.MAJOR]={invert:O,data:{extract:y.isDimensionless?v.minor.map((function(t,n){return{field:t,label:function(){return e.qHyperCube.qMeasureInfo[n].qFallbackTitle},value:n}})):{source:"qHyperCube",field:"qDimensionInfo/0",props:Xv({},l.selectionDimensionProp(0))}},type:y.isDimensionless?"band":void 0,maxPxStep:b,align:x};var A=Ev(s,{major:M[Uu.SCALE.MAIN.MAJOR],minor:M[Uu.SCALE.MAIN.MINOR]},{majorScaleInvert:O,maxPxStep:b,align:x,getProp:u.get}),q=A.reducedMinor,D=A.reducedMajor;return y.isDiscrete&&(M[Uu.SCALE.MAIN.MAJOR].range=o.query.getScaleRange,y.isGroupedByDimension&&(M[Uu.SCALE.MAIN.MAJOR_INNER].range=o.query.getScaleRange)),M[s.scales.major]=D,M[s.scales.minor]=q,M}var Yv=function(e,t){var n,r,o,i,a=e.targets,l=e.requireFailure,u=e.recognizeWith,s=e.components,c=e.eventName,f=void 0===c?"tap":c,d=t.customTooltipModel?t.customTooltipModel.utils:void 0,p=d?t.debouncer(d.displayTooltip,d.DEBOUNCE_THRESHOLD):void 0;return{key:"event:tap",type:"Tap",requireFailure:l,recognizeWith:u,options:{event:f,interval:10,pointers:1,enable:function(e,r){return!r||!(!t.actions.select.enabled()&&!t.actions.tooltip.enabled())&&(n=this.chart.componentsFromPoint({x:r.center.x,y:r.center.y}).filter((function(e){return-1!==a.indexOf(e.key)}))).length>0}},events:(r={},o=f,i=function(e){e.preventDefault();var r,o,i,l,u,c=(r=e,o=this.chart,u=o.element.getBoundingClientRect(),r.center?(i=r.center.x,l=r.center.y):(i=r.clientX,l=r.clientY),{x:i-u.left,y:l-u.top}),m=t.hitRadius?t.hitRadius(n):0,h=m>0?{cx:c.x,cy:c.y,r:m}:c,g=t.shapesAt?t.shapesAt(h):this.chart.shapesAt(h,{components:a.map((function(e){return{key:e,propagation:"stop"}})),propagation:"stop"}),y=this.chart.component("tooltip"),v="mouse"!==e.pointerType&&y&&y.show;if(!t.isLocked(n)&&!t.tooltipOnly&&t.actions.select.enabled()){var b=this.chart.componentsFromPoint({x:e.center.x,y:e.center.y}),x=b.some((function(e){return"legend-cat"===e.type}));if(!g.length&&x||(this.chart.brushSelectionIncludeMax=!1,t.actions.select.brushSelectionIncludeMax=!1,t.actions.select.emit("start",f,b)),g.length&&s){this.chart.brushSelectionIncludeMax=!1,t.actions.select.brushSelectionIncludeMax=!1;var M="function"==typeof s?s(e,g):s;this.chart.brushFromShapes(g,{components:M}),t.actions.select.emit("end",f)}}if(y&&t.actions.tooltip.enabled())if(g.length){var O=t.customTooltipModel;if((!t.flags||t.flags&&!t.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS"))&&O&&O.useCustomTooltip){var w=d.getNodes(e,this.chart);p(e,y,{nodes:w,dimsAndNodeFn:function(){return O.extractDimsAndNode(w)},customTooltipModel:O,opts:t})}else if(t.flags&&t.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&O.useCustomTooltip&&d.checkIfPromisesExist({customTooltipModel:O})){var S=d.getNodes(e,this.chart);p(e,y,{nodes:S,opts:t,customTooltipModel:O})}else y.emit("show",e,{nodes:g})}else v&&y.emit("hide")},o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)}},Qv=function(e,t){if(!e.targets)throw new Error("Missing 'targets' property");return{interactions:[Yv(e,t)],components:[]}},eb=function(e){return{key:e.key,type:"brush-lasso",layout:{displayOrder:99},settings:{brush:{components:e.components},lasso:{fill:"rgba(0, 0, 0, 0)",stroke:"black",strokeWidth:2,opacity:.7,strokeDasharray:[]},snapIndicator:{threshold:75,strokeDasharray:"5, 5",stroke:"black",strokeWidth:2,opacity:.7},startPoint:{r:10,stroke:"rgba(77, 192, 78, 1)",strokeWidth:0,opacity:1}}}},tb=function(e,t){var n=e.key,r=e.componentTargetKey,o=e.requireFailure,i=e.recognizeWith;return{key:"event:".concat(n),type:"Pan",requireFailure:o,recognizeWith:i,options:{event:"lasso",enable:function(e,n){return"lasso"===this.started||!n||!!(t.actions.select.enabled()&&t.actions.lasso.enabled()&&t.actions.lasso.active())&&this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).filter((function(e){return e.key===r})).length>0}},events:{lassostart:function(e){e.preventDefault(),"lasso"!==this.started&&(t.actions.select.emit("start","lasso"),this.chart.component(n).emit("lassoStart",e),this.started="lasso")},lassomove:function(e){e.preventDefault(),this.chart.component(n).emit("lassoMove",e)},lassoend:function(e){e.preventDefault(),this.started=!1,this.chart.component(n).emit("lassoEnd",e),t.actions.select.emit("end","lasso")}}}};function nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ob=function(e,t){if(!e.componentTargetKey)throw new Error("Missing 'componentTargetKey' property");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nb(Object(n),!0).forEach((function(t){rb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:"lasso"},e),r=eb(n,t);return{interactions:[tb(n,t)],components:[r]}};var ib=function(e,t){var n=function(e){var t=e.key,n=e.targets,r=e.components,o=e.fillTargets,i=e.dock;return{key:t,type:"brush-area-dir",layout:{dock:n.map((function(e){return"@".concat(e)})).join(",")},settings:{multiple:!0,brush:{components:r},direction:"left"===i||"right"===i?"vertical":"horizontal",bubbles:{align:"left"===i||"top"===i?"end":"start",placement:"inside"},target:{components:o,fill:"rgba(82,204,82,0.2)"}}}}(e);return{interactions:[fg(e,t,"area")],components:[n]}};function ab(e){return function(e){if(Array.isArray(e))return lb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(n),!0).forEach((function(t){cb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fb(e){return function(e){if(Array.isArray(e))return db(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return db(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return db(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function db(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pb(e,t){if(void 0===t){var n=function(e){var t=e.colorModel.settings();if("field"===t.mode&&"dimension"===t.fieldType&&t.legendDataset&&!t.legendDataset.field(0).raw().qLocked){var n=Qv({targets:["legend-color-cat"],components:function(e,t){return[{key:t[0].key,action:e.srcEvent.ctrlKey?"set":"toggle",contexts:["selection"]}]}},e);return{gestures:n.interactions,components:n.components}}return{gestures:[],components:[]}}(e),r=function(e){var t=e.layoutModel.meta.isStackedByDimension&&e.layoutModel.getHyperCubeValue("qStackedDataPages.0.qArea.qHeight",NaN)>1;return Qv({targets:[t?Uu.COMPONENT.STACK_TOTAL_BAR:Uu.COMPONENT.BAR,"bar-axis","group-axis","outer-axis-overlay","inner-axis-overlay"]},sb(sb({},e),{},{tooltipOnly:!0}))}(e);return{components:[].concat(fb(n.components),fb(r.components)),gestures:[].concat(fb(n.gestures),fb(r.interactions))}}var o=function(e){var t=e.colorModel.settings(),n=function(e,t){return!("field"!==e.mode||!("dimension"===e.fieldType&&e.field&&!t.field(e.field).raw().qLocked||"measure"===e.fieldType&&"categorical"===e.type))}(t,e.ds),r=e.layoutModel.meta.isStackedByDimension&&e.layoutModel.getHyperCubeValue("qStackedDataPages.0.qArea.qHeight",NaN)>1;return Qv({targets:[r?Uu.COMPONENT.STACK_TOTAL_BAR:Uu.COMPONENT.BAR,Uu.COMPONENT.BAR_AXIS,"group-axis","outer-axis-overlay","inner-axis-overlay",!("field"!==t.mode||!n)&&"legend-color-cat"].filter(Boolean),components:function(e,t){return-1!==[Uu.COMPONENT.BAR,Uu.COMPONENT.BAR_AXIS,"group-axis"].indexOf(t[0].key)?[{key:t[0].key,action:e.srcEvent.ctrlKey?"set":"toggle",contexts:["selection"],data:["selectionDimension"]}]:[{key:t[0].key,action:e.srcEvent.ctrlKey?"set":"toggle",contexts:["selection"]}]}},sb({},e))}(e),i=function(e){var t=e.layoutModel.meta.isStackedByDimension&&e.layoutModel.getHyperCubeValue("qStackedDataPages.0.qArea.qHeight",NaN)>1;return ob({key:"lasso",componentTargetKey:Uu.COMPONENT.BAR,components:[t?{key:Uu.COMPONENT.STACK_TOTAL_BAR,contexts:["selection"],action:"add"}:{key:Uu.COMPONENT.BAR,contexts:["selection"],action:"add",data:["selectionDimension"]}]},e)}(e),a=function(e){return e.layoutModel.meta.isStacked?{components:[],interactions:[]}:dg({eventName:"measureRange",key:"measureRangeBrush",targets:["y-axis",Uu.COMPONENT.BAR],fillTargets:["y-axis"],dock:e.dockModel.minor.dock,scale:Uu.SCALE.MAIN.MINOR,onEdited:function(){e.actions.select.emit("end","measureRange")}},e)}(e),l=function(e){return e.layoutModel.meta.isContinuous?dg({eventName:"continuousRange",key:"continuousRangeBrush",targets:e.layoutModel.meta.isTime?["outer-time-axis","inner-time-axis",Uu.COMPONENT.BAR]:["continuous-axis",Uu.COMPONENT.BAR],fillTargets:e.layoutModel.meta.isTime?["outer-time-axis","inner-time-axis"]:["continuous-axis"],observeBrush:!0,multiple:!0,dock:e.dockModel.major.dock,scale:e.layoutModel.meta.isTime?Uu.SCALE.MAIN.MAJOR_INNER:Uu.SCALE.MAIN.MAJOR,toLabel:function(t){var n=t.datum,r=t.data,o=t.scale,i=e.layoutModel.meta.isTime?o.formatter():e.chart.formatter(Uu.FORMATTER.MINOR),a=e.chart&&e.chart.brushSelectionIncludeMax;return"".concat(n!==Math.max.apply(Math,ab(r))||a?"":"<").concat(i(n))}},e):{components:[],interactions:[]}}(e),u=function(e){return ib({eventName:"discreteRange",components:[{key:Uu.COMPONENT.BAR,contexts:["selection"],action:"set",data:["selectionDimension"]}],key:"discreteRangeBrush",targets:["group-axis",Uu.COMPONENT.BAR_AXIS,Uu.COMPONENT.BAR],fillTargets:["group-axis",Uu.COMPONENT.BAR_AXIS],dock:e.dockModel.major.dock},e)}(e);return{components:[].concat(fb(o.components),fb(i.components),fb(a.components),fb(u.components),fb(l.components)),gestures:[].concat(fb(i.interactions),fb(o.interactions),fb(a.interactions),fb(u.interactions),fb(l.interactions))}}var mb=function(e){return Number(e.map((function(e){return e.qMaxPos})).reduce((function(e,t){return e+t}),0).toFixed(13))},hb=function(e){return Number(e.map((function(e){return e.qMinNeg})).reduce((function(e,t){return e+t}),0).toFixed(13))};function gb(e){var t=e.layoutModel,n=e.viewModel,r=e.dockModel,o=t.meta;if(!o.isStackedByDimension||o.isContinuous)return!1;var i=n.fields,a=t.getLayoutValue("components",null),l=a?a.filter((function(e){return"bar"===e.key}))[0]:null;return{key:"shadow-bar",type:"box",data:{extract:[{field:i.majorStack,filter:function(e){return 0!==e.qDown||0!==e.qUp},props:{start:{value:function(e){return mb(e.qSubNodes)}},end:{value:function(e){return Number(e.qMaxPos.toFixed(13))}}}},{field:i.majorStack,filter:function(e){return 0!==e.qDown||0!==e.qUp},props:{start:{value:function(e){return hb(e.qSubNodes)}},end:{value:function(e){return Number(e.qMinNeg.toFixed(13))}}}}]},settings:{major:{scale:Uu.SCALE.MAIN.MAJOR},minor:{scale:Uu.SCALE.MAIN.MINOR},orientation:r.major.orientation,box:{width:l&&l.style.width>0?l.style.width:.7,fill:function(){return{type:"pattern",fill:"rgba(165, 165, 165, 0.8)",width:4,height:4,shapes:[{type:"rect",x:0,y:3,width:1,height:1},{type:"rect",x:1,y:2,width:1,height:1},{type:"rect",x:2,y:1,width:1,height:1},{type:"rect",x:3,y:0,width:1,height:1}]}}},oob:{show:!1},whisker:{show:!1},median:{show:!1},line:{show:!1}}}}var yb={min:"Min",max:"Max"};function vb(e,t,n){var r=n?e.implicitMax:e.implicitMin;return!function(e,t,n){return void 0===n?jg(e,t)||Pg(e,t):n===Rg.MAX?jg(e,t):Pg(e,t)}(Number(r.toFixed(13)),e,t)}function bb(e,t){var n=t.barComponent,r=t.type,i=t.isStacked,a=e.viewCache,l=e.layoutModel,u=e.dockModel,s=a.get("minorMinMax"),c=r===Rg.MAX;if(function(e,t){return!e["hasOther".concat(yb[t])]}(s,r)){if(function(e,t){return!e["hasExplicit".concat(yb[t])]}(s,r))return!1;if(vb(s,r,c))return!1}if(function(e,t,n){var r=n?function(e){return e<0}:function(e){return e>0};return e["hasExplicit".concat(yb[t])]&&r(e["explicit".concat(yb[t])])}(s,r,c))return!1;var f="end";i&&(f=c?"sumOfPositives":"sumOfNegatives");var d,p,m=(d=function(){return e.chart.scale(Uu.SCALE.MAIN.MINOR)[r]()},function(){return void 0===p&&(p=d()),p}),h=c?function(e){return e.datum[f].value>m()}:function(e){return e.datum[f].value<m()},g=Uu.COMPONENT.BAR,y=e.layoutModel.getLayoutValue("components",[]),v=y?y.filter((function(e){return e.key===g}))[0]:null;return{type:"box-sliced-hat",key:"sliced-hat-".concat(r),layout:{dock:c?u.minor.maxDock:u.minor.minDock},data:n.data,brush:n.brush,settings:{orientation:n.settings.orientation,major:n.settings.major,minor:n.settings.minor,hat:o()({},n.settings.box,{fill:l.meta.isStacked?"#999":n.settings.box.fill,alignment:1,opacity:1,show:h,width:Ag({layoutModel:e.layoutModel,discrete:e.discrete,componentKey:g}),strokeWidth:v?kg.BAR.STROKE.WIDTH[v.style.strokeWidth.toUpperCase()]:kg.BAR.STROKE.WIDTH.NONE,stroke:v?v.style.strokeColor.color:kg.BAR.STROKE.COLOR})}}}var xb=.7;function Mb(e,t){var n;return n=e.isContinuous?1:xb,!e.isContinuous&&t&&t.style.width>0?t.style.width:n}var Ob=function(e,t){var n=t.componentKey,r=t.collectionKey,o=e.layoutModel.meta;if(!o.isStacked)return!1;var i=2;o.isContinuous&&(i=Tg(e,n));var a=e.layoutModel.getLayoutValue("components",null),l=a?a.filter((function(e){return e.key===n}))[0]:null,u={key:n,type:"box",data:{collection:r},settings:{major:{scale:Uu.SCALE.MAIN.MAJOR},minor:{scale:Uu.SCALE.MAIN.MINOR,start:{ref:"sumOfNegatives"},end:{ref:"sumOfPositives"}},orientation:e.dockModel.major.orientation,box:{width:Mb(o,l),minWidthPx:i,opacity:0,fill:"none"},oob:{show:!1},whisker:{show:!1},median:{show:!1},line:{show:!1}},brush:{consume:[{context:"selection",data:[""],style:{active:{strokeWidth:2,stroke:"#000",opacity:1},inactive:{opacity:.3}}}]}};return o.isContinuous&&(u.settings.major.ref={start:"timeStart",end:"timeEnd"}),u};function wb(e,t,n,r){var o,i,a,l=(null===(o=t.qHyperCube)||void 0===o||null===(i=o[n])||void 0===i||null===(a=i[r])||void 0===a?void 0:a.qAttrExprInfo)||[],u=[],s=e.qSubNodes&&e.qSubNodes[r]?e.qSubNodes[r].qAttrExps:e.qAttrExps;return s?(l.forEach((function(e,t){var o=s.qValues&&s.qValues[t]?s.qValues[t]:void 0,i=void 0===o?"NaN":function(e,t){var n;switch(e.id){case oa.CUSTOM.EXPRESSION:n="NaN"===t.qNum?void 0===t.qText?"NaN":t.qText:t.qNum;break;case oa.CUSTOM.TITLE:case oa.CUSTOM.DESCRIPTION:case oa.CUSTOM.IMAGES:n=void 0===t.qText?e.qFallbackTitle:t.qText;break;default:n="NaN"}return n}(e,o);u.push({source:{key:"qHyperCube",field:"".concat(n,"/").concat(r,"/qAttrExprInfo/").concat(t)},label:i,value:"value"})})),u):u}var Sb={getNode:function(e,t){var n=t.dimensionCount;if(n&&!(n<1)){var r=n-1;return{field:"".concat("qDimensionInfo","/").concat(r),value:function(t){return wb(t,e,"qDimensionInfo",r)}}}}};function kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kb(Object(n),!0).forEach((function(t){Eb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ab(e){return void 0!==e.qNum&&"NaN"!==e.qNum?e.qNum:0}function qb(e,t,n){var r=t.collectionKey,o=e.layoutModel.meta,i=e.viewModel.fields;function a(t){var n=e.ds.field(t).raw(),r=e.ds.field(t).formatter(),i=!n.isCustomFormatted&&(n.qIsAutoFormat||"U"===n.qNumFormat.qType);var a={field:t,reduceLabel:"none"};return o.isStackedByDimension||(a.value=Ab,a.label=function(e){return i?function(e){return void 0!==e.qNum&&"NaN"!==e.qNum?r(e.qNum):"-"}(e):e.qText}),a}var l={key:r,data:{extract:i.minor.map((function(t,r){var l=e.colorModel.datumProps(r),u=e.miniColorModel.datumProps(r),s=l[Object.keys(l)[0]],c=s&&s.field?s.field:void 0,f=c?{field:c,reduceLabel:"none",value:function(e){return void 0!==e.qNum&&"NaN"!==e.qNum?e.qNum:e.qText||"-"}}:void 0,d={field:o.isDimensionless?t:i.major,props:Cb(Cb(Cb(Cb({},e.viewModel.selectionDimensionProp()),{},{start:0,end:a(t),segment:o.isStacked?a(t):void 0,group:o.isGroupedByDimension?{field:i.majorGroup}:void 0,stack:o.isStacked?{field:i.majorStack}:void 0,measureIndex:o.isGroupedByDimension||o.isStackedByDimension?void 0:r,timeStart:o.isContinuous?{field:i.majorNumeric}:void 0,timeEnd:o.isContinuous?{field:i.majorNumeric}:void 0,fillTooltip:f},l),u),{},{id:{value:function(e){return"r".concat(e.qRow,"e").concat(e.qElemNumber,"m").concat(r)}},customTooltipAttrExps:0!==o.dimensionCount?Sb.getNode(e.layoutModel.getLayout(),o):void 0})};return o.isDimensionless&&(d.value=r),void 0!==n&&(d.source=n),_a.deleteUndefinedProperties(d.props),d}))}};return o.isStacked&&(l.data.stack={stackKey:function(e){return e.stack.value},value:function(e){return e.end.value},offset:"diverging"}),l}function Db(e,t){var n=e.layoutModel,r=e.viewModel,o=t.collectionKey,i=n.meta,a=r.fields;return!!i.isStacked&&{key:o,data:{extract:i.isStackedByMeasure?function(e,t){var n={field:0,props:{sumOfPositives:{fields:t.minor.map((function(e){return{field:e}})),value:function(e){return e.reduce((function(e,t){return t>0?e+t:e}),0)},reduceLabel:"none"},sumOfNegatives:{fields:t.minor.map((function(e){return{field:e}})),value:function(e){return e.reduce((function(e,t){return t<0?e+t:e}),0)},reduceLabel:"none"}}};if(e.isContinuous){var r={field:t.major,value:function(e){return e.qNum},reduceLabel:"none"};n.props.timeStart=r,n.props.timeEnd=r,n.value=function(e){return e.qNum}}return n}(i,a):function(e,t){if(!e.isContinuous)return{field:t.majorStack,reduceLabel:"none",props:{sumOfPositives:{value:function(e){return Number(e.qMaxPos.toFixed(13))}},sumOfNegatives:{value:function(e){return Number(e.qMinNeg.toFixed(13))}}}};var n={field:t.majors[0],value:function(e){return e.qNum},reduceLabel:"none"};return{field:t.majorStack,trackBy:function(e){return e.qNum},reduce:function(e){return e[0]},props:{sumOfPositives:{field:t.minor[0],reduceLabel:"none",reduce:function(e){return e.reduce((function(e,t){return t>0?e+t:e}),0)}},sumOfNegatives:{field:t.minor[0],reduceLabel:"none",reduce:function(e){return e.reduce((function(e,t){return t<0?e+t:e}),0)}},timeStart:n,timeEnd:n}}}(i,a)}}}var Tb="main-collection",Nb="stack-total-collection",Lb=function(e){var t=[qb(e,{collectionKey:Tb})];return e.layoutModel.meta.isStacked&&t.push(Db(e,{collectionKey:Nb})),t};function Ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pb(e,t){var n=t.collectionKey,r=e.colorModel,o=e.reducedDataModel,i=o.fields,a=o.mode;return{key:n,data:{extract:i.minor.map((function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ib(Object(n),!0).forEach((function(t){jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({end:{field:e,reduceLabel:"none"}},a.isStackedByMeasure&&!a.isReduced?r.datumProps(t):{});return a.isContinuous&&(n.timeStart={field:i.major,value:function(e){return e.qNum}},n.timeEnd=n.timeStart),{source:"miniCube",field:i.major,props:n}})),stack:{stackKey:function(e){return e.value},value:function(e){return e.end.value},offset:"diverging"}}}}function Rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zb(e,t){var n=t.collectionKey,r=e.colorModel,o=e.reducedDataModel,i=o.fields,a=o.mode;return{key:n,data:{extract:i.minor.map((function(e,t){var n=a.isReduced?{}:r.datumProps(t),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rb(Object(n),!0).forEach((function(t){_b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({end:{field:e},start:0,group:{field:i.majorGroup},measureIndex:t},n),l={source:"miniCube",field:a.isDimensionless?e:i.major,props:o};return a.isDimensionless&&(l.value=t),l}))}}}var Fb="mini-collection",Ub="mini-stack-collection",Hb="mini-continuous-collection",Bb="miniCube",Vb=function(e,t){var n=[];return _h({layoutModel:t.layoutModel}).miniChart&&(t.reducedDataModel.mode.isContinuous?n.push(qb(t,{collectionKey:Hb},Bb)):t.layoutModel.meta.isStacked?n.push(Pb(t,{collectionKey:Ub})):n.push(zb(t,{collectionKey:Fb}))),n},Wb=function(e,t){var n=Lb(t),r=Vb(e,t);return n.concat(r)};function Gb(e,t,n){var r=[{position:e,onBackground:!0,justify:0,overflow:n}];return t&&r.push({position:"inside",onBackground:!1,justify:"outside"===e?1:0,background:{fill:"#e6e6e6",padding:{left:2,right:2,top:2,bottom:2}}}),r}function Kb(e,t){var n=e.layout,r=e.component,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Jg(n,t))return!1;var a=t.layoutModel.meta,l=!Zg(n,t);function u(e){if(0===e)return"";var n=t.chart.formatter(Uu.FORMATTER.MINOR);return n?n(e):e}var s={label:function(e){return u(e.data.sumOfPositives.value)},simplifiedPlacements:Gb("outside",l,a.isContinuous),style:t.themeModel.label.value},c={label:function(e){return u(e.data.sumOfNegatives.value)},simplifiedPlacements:Gb("opposite",l,a.isContinuous),style:t.themeModel.label.value};return{key:"stack-total-labels",type:"labels",layout:{displayOrder:2,minimumLayoutMode:"XSMALL"},settings:{sources:[{component:r,selector:"rect",strategy:{type:"bar",settings:{direction:function(e){return Xg(e.data.sumOfPositives.value,t.dockModel.major.orientation,i.rtl)},labels:[Wg(o()(t,s)),Wg(o()(t,c))],fontSize:t.themeModel.label.value.fontSize,fontFamily:t.themeModel.label.value.fontFamily}}}]}}}function $b(e,t,n){var r=[{position:e,justify:0,overflow:n,background:{padding:{left:1,right:1,top:1,bottom:1}}}];return t&&r.push({position:"inside",onBackground:!1,justify:1,background:{padding:{left:2,right:2,top:2,bottom:2}}}),r}function Xb(e,t){var n=e.layout,r=e.type,i=t.layoutModel,a=t.viewCache,l=i.meta,u=l.isStacked;if(!u&&!Zg(n,t)||u&&!Jg(n,t))return!1;var s=a.get("minorMinMax");if(!s.hasExplicitMinMax||r===Rg.MAX&&0===s.max||r===Rg.MIN&&0===s.min)return!1;if(!zg(r===Rg.MAX?s.implicitMax:s.implicitMin,s,r))return!1;var c=function(e){return e.data.end.label};l.isStacked&&(c=r===Rg.MAX?function(e){if(zg(e.data.sumOfNegatives.value,s,r)){var n=0===e.data.sumOfNegatives.value?e.data.sumOfPositives.value:e.data.sumOfNegatives.value,o=t.chart.formatter(Uu.FORMATTER.MINOR);return o?o(n):n}return""}:function(e){if(zg(e.data.sumOfPositives.value,s,r)){var n=0===e.data.sumOfPositives.value?e.data.sumOfNegatives.value:e.data.sumOfPositives.value,o=t.chart.formatter(Uu.FORMATTER.MINOR);return o?o(n):n}return""});var f={color:"#595959",lightColor:"#E6E6E6",darkColor:"#595959",fontSize:13,fontFamily:"'Source Sans Pro', 'Arial', 'sans-serif'"},d={label:c,simplifiedPlacements:$b("outside",!0,l.isContinuous),style:f},p={label:c,simplifiedPlacements:$b("opposite",!0,l.isContinuous),style:f},m=[Wg(o()(t,d)),Wg(o()(t,p))],h="vertical"===t.dockModel.major.orientation?"down":"right",g=[{component:"".concat(Uu.COMPONENT.GHOST_BAR_OOB,"-").concat(r),selector:"rect",strategy:{type:"bar",settings:{direction:h,labels:m,fontSize:t.themeModel.label.value.fontSize,fontFamily:t.themeModel.label.value.fontFamily}}}];return{key:"bar-oob-labels-".concat(r),type:"labels",layout:{minimumLayoutMode:"XSMALL"},settings:{sources:g}}}function Zb(e){return"all"===e||"title"===e}function Jb(e,t,n){if(!Zb(e.dimensionAxis.show)||t.layoutModel.meta.isDimensionless)return!1;var r=t.properties,o={hyperCube:e.qHyperCube,hyperCubeDef:r&&r.qHyperCubeDef,isDimension:!0,disabled:function(){return!(-1!==n.permissions.indexOf("fetch")&&-1!==n.permissions.indexOf("interact"))},model:t.model,app:t.app,translator:t.translator,rtl:n.rtl,selections:t.selections};return t.layoutModel.meta.hasMultipleDimensions&&(o.padding="0",o.minWidth="auto"),{key:"dimension-title",type:"data-title",layout:{minimumLayoutMode:pg["".concat(t.dockModel.major.orientation,"DimensionAxisTitle")].minimumLayoutMode,dock:t.dockModel.major.dock},settings:o,style:{fontFamily:t.themeModel.axis.title.fontFamily,fontSize:t.themeModel.axis.title.fontSize,color:t.themeModel.axis.title.color}}}function Yb(e,t,n){if(!Zb(e.measureAxis.show))return!1;var r=t.layoutModel,o=t.properties,i=r.getLayoutValue("qUndoExclude")?"qUndoExclude.qHyperCubeDef":"qHyperCubeDef",a={hyperCube:r.getHyperCube(),hyperCubeDef:_a.getValue(o,i),isDimension:!1,disabled:function(){return!t.actions.select.enabled()},model:t.model,app:t.app,translator:t.translator,rtl:n.rtl,selections:t.selections};return t.layoutModel.meta.hasMultipleMeasures&&(a.padding="0",a.minWidth="auto"),{key:"measure-title",type:"data-title",layout:{minimumLayoutMode:"SMALL",dock:t.dockModel.minor.dock},settings:a,style:{fontFamily:t.themeModel.axis.title.fontFamily,fontSize:t.themeModel.axis.title.fontSize,color:t.themeModel.axis.title.color}}}var Qb=wl.getInputValue,ex=wl.extractInfoFromInputValue,tx={resolveValue:wl.resolveValue,resolveInnerValues:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel;if(r.meta.isGroupedByDimension){var o=Qb({refLineLayout:t,layoutModel:r});return ex(o,n,"innerValues")}},resolveNumInnerValues:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel;if(r.query.isQMode("K"))return 0;var o=Qb({refLineLayout:t,layoutModel:r});return ex(o,n,"numInnerValues")||0},resolveValueText:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel,o=n.dimensionValuesInfo,i=r.meta.canBeContinuous,a=Qb({refLineLayout:t,layoutModel:r});return o[a]&&i?o[a].qText:a},resolveValueInfo:function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel,o=Qb({refLineLayout:t,layoutModel:r});return n.dimensionRefLineInfo[o]}},nx=function(e){var t,n,r=e.refLineLayout,o=e.refLineModel,i=e.layoutModel,a=e.colorModel,l=e.dockModel,u=e.chart,s=e.scale,c=e.axis,f=e.isDimension,d=e.align,p=e.invert,m=e.component,h=e.isContinuous,g={dir:c,line:{strokeWidth:(null==r||null===(t=r.style)||void 0===t?void 0:t.lineThickness)||2,strokeDasharray:null==r||null===(n=r.style)||void 0===n?void 0:n.lineType,stroke:a.resolveUIColor(r.paletteColor||{index:r.color})}};return!f||i.meta.isContinuous?(g.scale=s,g.value=r.refLineExpr.value):g.value=function(){return wl.getScaledPosition({scale:u.scale(s),value:tx.resolveValue({refLineLayout:r,refLineModel:o,layoutModel:i}),valueInfo:tx.resolveValueInfo({refLineLayout:r,refLineModel:o,layoutModel:i}),size:u.component(m).rect["vertical"===l.major.orientation?"width":"height"],align:d,invert:p,layoutModel:i,isContinuous:h})},g};function rx(e){var t=e.refLineModel,n=void 0===t?{}:t,r=e.layoutModel,o=e.dockModel,i=e.colorModel,a=e.chart,l=e.rtl,u=e.minimumLayoutMode,s=e.minorScale,c=e.majorScale,f=e.mainComponentKey,d=e.key,p=r.meta.isContinuous,m=n.measureRefLines,h=void 0===m?[]:m,g=n.dimensionRefLines,y=void 0===g?[]:g;if(!h.length&&!y.length)return!1;var v={key:d,type:"ref-line",layout:{minimumLayoutMode:u},lines:{y:[],x:[]},style:{oob:{show:!1}},preferredSize:function(){return{size:0,edgeBleed:{left:1,right:1,top:1,bottom:1}}}},b=Xa.getMinorScaleAxis(o.major.orientation),x=s;h.forEach((function(e){v.lines[b].push(nx({refLineLayout:e,refLineModel:n,layoutModel:r,colorModel:i,chart:a,scale:x,axis:b,isContinuous:!0}))}));var M="vertical"===o.major.orientation&&l;return b=Xa.getMajorScaleAxis(o.major.orientation),x=c,y.forEach((function(e){var t=e.align;v.lines[b].push(nx({refLineLayout:e,refLineModel:n,layoutModel:r,colorModel:i,chart:a,scale:x,axis:b,isDimension:!0,align:t,invert:M,dockModel:o,component:f,isContinuous:p}))})),v}var ox=function(e){var t=e.layoutModel,n=e.style,r=e.labels,o=e.scale,i=e.formatter,a=e.dock,l=e.key,u=e.rtl;return{key:l,type:"reference-line-labels",renderer:"svg",labels:r,formatter:i,scale:o,layoutModel:t,layout:{dock:a,rtl:u},theme:e.theme,isContinuous:e.isContinuous,isDimension:e.isDimension,localeInfo:e.localeInfo,style:{label:{fontFamily:n.referenceLine.label.name.fontFamily,fontSize:n.referenceLine.label.name.fontSize,padding:{top:2,bottom:2,left:u?2:4,right:u?4:2},background:{padding:{top:1,bottom:1,left:2,right:2}},maxWidth:100,gap:"left"===a||"right"===a?10:16},oob:{size:8,fill:n.referenceLine.outOfBounds.backgroundColor,text:{fontFamily:n.referenceLine.outOfBounds.fontFamily,fontSize:n.referenceLine.outOfBounds.fontSize,fill:n.referenceLine.outOfBounds.color,background:{fill:n.referenceLine.outOfBounds.backgroundColor}}}}}},ix=function(e){var t=e.refLineLayout,n=e.refLineModel,r=e.layoutModel,o=e.colorModel,i=e.scale,a=e.theme,l=e.isContinuous,u=o.resolveUIColor(t.paletteColor||{index:t.color}),s={align:t.align,text:t.label,fill:t.coloredBackground?a.getContrastingColorTo(u):u,showValue:!1!==t.showValue,showLabel:!1!==t.showLabel,inputValue:t.refLineExpr.value,inputValueLabel:t.refLineExpr.label};return t.coloredBackground&&(s.background={fill:u}),l?(s.scale=i,s.value=t.refLineExpr.value):(s.value=function(){return tx.resolveValue({refLineLayout:t,refLineModel:n,layoutModel:r})},s.valueText=function(){return tx.resolveValueText({refLineLayout:t,refLineModel:n,layoutModel:r})},s.valueInfo=function(){return tx.resolveValueInfo({refLineLayout:t,refLineModel:n,layoutModel:r})}),s};function ax(e){return function(e){if(Array.isArray(e))return lx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ux(e){var t=e.context,n=e.refLineModel,r=e.layoutModel,o=e.colorModel,i=e.dockModel,a=e.themeModel,l=e.chart,u=t.rtl,s=t.theme,c=t.localeInfo;return[rx({refLineModel:n,layoutModel:r,colorModel:o,dockModel:i,chart:l,rtl:u,key:Uu.COMPONENT.REFERENCE_LINE,mainComponentKey:Uu.COMPONENT.BAR,minorScale:Uu.SCALE.MAIN.MINOR,majorScale:Uu.SCALE.MAIN.MAJOR,minimumLayoutMode:pg.refLines.minimumLayoutMode})].concat(ax(function(e){var t=e.refLineModel,n=void 0===t?{}:t,r=e.layoutModel,o=e.dockModel,i=e.colorModel,a=e.style,l=e.rtl,u=e.minorScale,s=e.majorScale,c=e.minorRefKey,f=e.majorRefKey,d=e.minorFormatter,p=e.theme,m=e.localeInfo,h=n.measureRefLineLabels,g=void 0===h?[]:h,y=n.dimensionRefLineLabels,v=void 0===y?[]:y;if(!g.length&&!v.length)return[];var b,x=[],M=u,O=!0;return g.length&&(b=g.map((function(e){return ix({refLineLayout:e,refLineModel:n,layoutModel:r,colorModel:i,scale:M,theme:p,isContinuous:O})})),x.push(ox({rtl:l,style:a,dock:o.minor.opposite,key:c,labels:b,scale:M,formatter:d,layoutModel:r,theme:p,isContinuous:O,localeInfo:m}))),v.length&&(O=r.meta.isContinuous,M=s,b=v.map((function(e){return ix({refLineLayout:e,refLineModel:n,layoutModel:r,colorModel:i,scale:M,theme:p,isContinuous:O})})),x.push(ox({rtl:l,style:a,dock:o.major.opposite,key:f,labels:b,scale:M,layoutModel:r,theme:p,isContinuous:O,isDimension:!0,localeInfo:m}))),x}({refLineModel:n,layoutModel:r,colorModel:o,dockModel:i,style:a,rtl:u,minorScale:Uu.SCALE.MAIN.MINOR,majorScale:Uu.SCALE.MAIN.MAJOR,minorRefKey:Uu.COMPONENT.MEASURE_REFERENCE_LINE_LABEL,majorRefKey:Uu.COMPONENT.DIMENSION_REFERENCE_LINE_LABEL,minorFormatter:Uu.FORMATTER.MINOR,theme:s,localeInfo:c})))}function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(n),!0).forEach((function(t){fx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dx(e){return function(e){if(Array.isArray(e))return px(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return px(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function px(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mx=function(e,t,n){var r=t.layoutModel,o=t.dockModel,i=t.colorModel,a=t.chart,l=t.actions,u=t.discrete,s=t.continuousDataModel,c=t.reducedDataModel,f=t.viewModel,d=t.viewState,p=t.viewCache,m=t.themeModel,h=t.refLineModel,g=t.extendComponents.slice(),y=Ey({layout:e},t,n);if(y&&"center"===y.layout.dock)return{components:[y]};var v=Jv(e,t,n),b=!(!l||!l.interact||l.interact.enabled()),x=i.legend({eventName:"legend-c",key:"legend-color",viewState:d,chart:a,styleReference:"object.barChart",rtl:n.rtl},{actions:l,navigationDisabled:b});if(x.components[0]){var M=x.components[0];if(v.fillRange&&("right"===M.layout.dock||"left"===M.layout.dock||n.rtl)&&(v.fillRange.invert=!0),"legend-seq"===M.type&&void 0!==f.selectionDimensionIdx&&v.fillRange&&v.fillRange.min<v.fillRange.max){var O,w,S=dg({eventName:"legendRange",key:"legendRangeBrush",targets:[M.key],fillTargets:[M.key],targetSelector:'[id="legend-seq-target"]',targetFillSelector:'[id="legend-seq-ticks"]',dock:M.layout.dock,scale:"fillRange",bubblesPlacement:"outside",onEdited:function(){l.select.emit("end","legendRange")}},t);(O=x.components).push.apply(O,dx(S.components)),(w=x.interactions).unshift.apply(w,dx(S.interactions))}if("legend-cat"===M.type){var k=bv(M,t);g.unshift(k)}}else v.fillRange&&n.rtl&&(v.fillRange.invert=!0);var C,E=Ng(t,{componentKey:Uu.COMPONENT.BAR,collectionKey:Uu.COLLECTION.MAIN}),A=Ob(t,{componentKey:Uu.COMPONENT.STACK_TOTAL_BAR,collectionKey:Uu.COLLECTION.STACK_TOTAL}),q=pb(t,f.selectionDimensionIdx),D=r.meta.isStacked;C=c.mode.isContinuous?Uu.COLLECTION.MINI_CONTINUOUS:D?Uu.COLLECTION.MINI_STACK:Uu.COLLECTION.MINI;var T=D?A:E,N=function(e,t){var n=[Iy(e,t)];return n[0]&&n.push(jy(t)),n}(e,t),L=wh.extend([].concat(dx(N),[bb(t,{barComponent:T,type:"max",isStacked:D}),bb(t,{barComponent:T,type:"min",isStacked:D}),Ug(t,{barComponent:T,type:"max",isStacked:D}),Ug(t,{barComponent:T,type:"min",isStacked:D}),Bg(t,{chart:a,barComponent:T,type:"max",scales:v,collectionKey:D?Uu.COLLECTION.STACK_TOTAL:Uu.COLLECTION.MAIN}),Bg(t,{chart:a,barComponent:T,type:"min",scales:v,collectionKey:D?Uu.COLLECTION.STACK_TOTAL:Uu.COLLECTION.MAIN})],dx(Sg(e,t,n,!!N[0])),[E,A,gb({layoutModel:r,viewModel:f,layout:e,dockModel:o}),Jb(e,t,n),Yb(e,t,n)],dx(ux({context:n,refLineModel:h,layoutModel:r,colorModel:i,dockModel:o,themeModel:m,chart:a})),[Sh({viewState:d,viewCache:p,layoutModel:r,dockModel:o,rtl:n.rtl}),wv(E,t,{collectionKey:C}),zh({layoutModel:r,dockModel:o,discrete:u,continuousDataModel:s,viewState:d,viewCache:p,themeModel:m,rtl:n.rtl})],dx(Vh({majorScale:Uu.SCALE.MAIN.MAJOR,minorScale:Uu.SCALE.MAIN.MINOR,tooltipOverlay:Uu.COMPONENT.TREND_LINES_TOOLTIP_OVERLAY},t)),dx(x.components),[Qg({layout:e,component:Uu.COMPONENT.BAR,minorScale:v.minor},t,n),Kb({layout:e,component:Uu.COMPONENT.STACK_TOTAL_BAR},t,n),Xb({layout:e,component:"bar-oob-max",type:"max"},t),Xb({layout:e,component:"bar-oob-min",type:"min"},t)],dx(q.components),[xy({layout:e},cx(cx({},t),{},{coloring:i.settings()}),n),Oy({layout:e},cx(cx({},t),{},{coloring:i.settings()}),n),(!1!==e.showDisclaimer||!t.flags.isEnabled("SHOW_DISCLAIMER"))&&y,lg({tooltip:Uu.COMPONENT.TREND_LINES_TOOLTIP,formatter:Uu.FORMATTER.MINOR,majorScale:Uu.SCALE.MAIN.MAJOR},t,n)]).filter(Boolean),g);!function(e){if(e&&0!==e.length)for(var t=0;t<e.length;t++)e[t].layout=e[t].layout||{},e[t].layout.displayOrder=t}(L);var I=[].concat(dx(x.interactions),dx(q.gestures)).sort((function(e,t){return(t.prio||0)-(e.prio||0)}));return{interactions:yv(t,{rtl:n.rtl,permissions:n.permissions,hammer:{gestures:I}}),scales:v,palettes:i.palettes(),components:L,strategy:Ah(0,{logicalSize:n.logicalSize,minCenterRatio:0}),formatters:qy(t,v),collections:Wb(e,t)}};function hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hx(Object(n),!0).forEach((function(t){yx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vx(e){var t=e.enigma,n=e.layoutModel,r=e.viewModel,i=e.definitionPath,a=e.reducedHyperCubePath,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/qHyperCubeDef";return{fetch:function(){return function(e,t,n){return e.getHyperCubeReducedData(n.path,[n.rect],n.zoomLevel,n.filter).then((function(e){var n,r=t.getHyperCubeValue("qMode"),o=t.getHyperCubeValue("qDimensionInfo"),i="K"===r&&o.length>1&&(null===(n=e[0])||void 0===n?void 0:n.qIsReduced),a=e.slice(),l=t.getHyperCubeValue("qMeasureInfo");return{reducedCube:{qDataPages:a,qDimensionInfo:o.slice(),qEffectiveInterColumnSortOrder:[1,0],qMeasureInfo:i?[l[0],l[0]]:l.slice(),qStackedDataPages:[],qMode:"S",qHasOtherValues:t.getHyperCubeValue("qHasOtherValues"),qSize:t.getHyperCubeValue("qSize")}}}))}(e,t,this.settings())},settings:function(){var e=t.getHyperCubeValue("qDimensionInfo"),r=t.meta.isStacked&&e.length>1?1:0,o=t.getHyperCubeValue("qMeasureInfo");return{path:n,rect:{qTop:0,qLeft:r,qWidth:e.length+o.length+r,qHeight:Math.min(2e3,1e4/(o.length+1))},zoomLevel:-1,filter:"D1"}}}}(t,n,i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"reducedHyperCube";return{fetch:function(){return Promise.resolve({reducedCube:e.getLayoutValue(t)||e.getHyperCube()})}}}(n,a),c=function(e){return{fetch:function(){var t=e.getHyperCube(),n=gx(gx({},t),{},{qDataPages:t.qDataPages.slice()});return Promise.resolve({reducedCube:n})}}}(n),f=function(e){var t=e.layoutModel.meta,n=t.isSnapshot,r=t.isStackedByDimension,o=function(e){e.qDimensionInfo.unshift({key:"dummy-patch-dimension"})};return o.should=function(e){return n&&r&&1===e.qDimensionInfo.length},o}({layoutModel:n}),d={mode:{isReduced:!1}};return{fetch:function(){if(n.meta.isSnapshot)return s.fetch();if(n.meta.isContinuous)return c.fetch();if(!n.meta.isStacked&&n.getHyperCubeValue("qSize.qcy",NaN)===n.getHyperCubeValue("qDataPages.0.qArea.qHeight",NaN))return c.fetch();return u.fetch()},model:function(){return d},update:function(e){var t;f.should(e)&&f(e),d.mode=o()(d.mode,n.meta),d.mode.isReduced=e.qDataPages[0]&&e.qDataPages[0].qIsReduced,d.mode.isStackedByDimension=d.mode.isStacked&&2===(t=e).qDimensionInfo.length&&2===t.qMeasureInfo.length,d.mode.isStackedByMeasure=d.mode.isStacked&&function(e){return e.qMeasureInfo.length>1&&1===e.qDimensionInfo.length}(e),d.fields={major:d.mode.isStackedByDimension?"qDimensionInfo/".concat(e.qDimensionInfo.length-1):r.fields.major,majorGroup:r.fields.majorGroup,minor:d.mode.isStackedByDimension?e.qMeasureInfo.map((function(e,t){return"qMeasureInfo/".concat(t)})):r.fields.minor},d.scales={major:Uu.SCALE.REDUCED.MAJOR,minor:Uu.SCALE.REDUCED.MINOR},d.cube=e,l.qDataPages=e.qDataPages},fetchMinMaxData:function(){if(l.qDataPages)return Promise.resolve(l.qDataPages);var e=u.settings(),r="K"===n.getHyperCubeValue("qMode")?1:e.rect.qHeight;return e=o()(!0,{},e,{rect:{qHeight:r}}),t.getHyperCubeReducedData(e.path,[e.rect],e.zoomLevel,e.filter).then((function(e){return e}))},setSnapshotData:function(e){e.reducedHyperCube=d.cube}}}var bx="Enter",xx="Escape",Mx="Esc",Ox=[],wx=0,Sx=function(e){var t=Ox.filter((function(e){return e.selections&&e.selections.isActive()}));t.length&&(e.key===bx?t.forEach((function(e){return e.selections.confirm()})):e.key!==xx&&e.key!==Mx||t.forEach((function(e){return e.selections.cancel()})))},kx=function(){document.addEventListener("keyup",Sx)},Cx=function(){document.removeEventListener("keyup",Sx)},Ex=function(e,t){Object.keys(t).forEach((function(n){e.on(n,t[n])}))},Ax=function(e,t){Object.keys(t).forEach((function(n){e.removeListener(n,t[n])}))};function qx(e,t,n){if(t&&void 0!==n&&"selectHyperCubeContinuousRange"===e.method){var r=e.params;if(r&&r[1]&&r[1][0]){var o=r[1][0],i=o.qDimIx,a=o.qRange;"undefined"!==i&&a&&!1===a.qMaxInclEq&&a.qMax>=n&&(a.qMaxInclEq=!0)}}}var Dx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selections,n=e.brush,r=e.majorScale,o=e.actions,i=e.picassoQ,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.path,u=void 0===l?"/qHyperCubeDef":l;if(!t)return{layout:function(){},allowSimultaneous:function(){},release:function(){}};var s=++wx,c=null,f=[],d={};t.on=t.on.bind(t),t.isActive=t.isActive.bind(t),t.addListener=t.addListener.bind(t),t.removeListener=t.removeListener.bind(t);var p=function(e){return n.brushes().forEach((function(t){("range"===t.type||e[0]&&e[0].key!==t.id&&0!==f.indexOf(e[0].key))&&n.clear([])})),e.filter((function(e){return-2!==e.value}))},m=function(e){return n.brushes().filter((function(e){return"value"===e.type})).length?(n.clear([]),e):(n.brushes().forEach((function(t){var r=t.id===e[0].key||-1!==f.indexOf(t.id)&&-1!==f.indexOf(e[0].key);"range"!==t.type||r||n.clear([])})),e)};n.intercept("set-ranges",m),n.intercept("toggle-ranges",m),n.intercept("toggle-values",p),n.intercept("set-values",p),n.intercept("add-values",p),n.on("start",(function(){return t.begin(u)}));var h={activate:function(){},deactivated:function(){return n.end()},cleared:function(){return n.clear()},canceled:function(){return n.end()}};Ex(t,h);var g=r&&r.max();return o&&o.select?(o.select.on("start",(function(){var e;(n.start(),"function"==typeof o.select.getBrushOptions)&&(d=(e=o.select).getBrushOptions.apply(e,arguments))})),o.select.on("end",(function(){i.selections(n,d,c).forEach((function(e){qx(e,o.select.brushSelectionIncludeMax,g),t.select(e)}))}))):n.on("update",(function(){i.selections(n,d,c).forEach((function(e){return t.select(e)}))})),0===Ox.length&&kx(),Ox.push({key:s,selections:t}),{layout:function(e){c=e},allowSimultaneous:function(e){f=e},release:function(){c=null;var e=Ox.indexOf(Ox.filter((function(e){return e.key===s}))[0]);-1!==e&&Ox.splice(e,1),Ox.length||Cx(),Ax(t,h)}}},Tx={ENTER:"Enter",ESCAPE:"Escape",IE11_ESC:"Esc",SHIFT:"Shift"};function Nx(e){return function(e){if(Array.isArray(e))return Lx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ix="QlikView Sans, sans-serif";function jx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Px(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Px(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rx=function(e){for(var t=e.qDimensionInfo.length,n=0;n<t;n++){var r=e.qDimensionInfo[n];if(!(r.qLocked||r.qStateCounts.qOption+r.qStateCounts.qSelected<=1&&n<t-1))return n}};function _x(e){return function(e){if(Array.isArray(e))return zx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fx(Object(n),!0).forEach((function(t){Hx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){!function(e){if(e&&e.get&&e.add){var t="Object.Disclaimer.LimitedData";if(e.get(t)!==t)return;Object.keys(Qi).forEach((function(t){e.add(Qi[t])}))}}(e.translator),function(e){e&&!e.flags&&(e.flags={getFlag:function(e){return!!ea[e]}})}(e);var t,n=function(){var e=kc()();return e.use(Ec.a),e.use(qc()(Tc.a)),e.use(Td()),e.use(Cm),e.component("box-sliced-hat",Mm),e.component("box-out-of-bounds",km),e.component("scrollbar",cm),e.component("scroll-hint",Fd),e.component("reference-line-labels",jp),e.component("axis-overlay",Yi.picassoComponents.axisOverlay),e.component("time-axis",Yi.picassoComponents.timeAxis),e.scale("q-time-axis",Yi.picassoScales.time),e}(),r=(t=[{key:"interact",isEnabled:!0,enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=-1!==e.indexOf("interact")}},{key:"tooltip",isActive:!0,isEnabled:!0,action:function(e){this.isActive=!!e},active:function(){return this.isActive},enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=-1!==e.indexOf("passive")}},{key:"scroll",isActive:!0,isEnabled:!0,action:function(){this.isActive=!this.isActive},active:function(){return this.isActive},enabled:function(e){var t=e.layoutModel,n=e.discrete;return this.isEnabled&&(t.meta.isContinuous||n.query.getCanScroll())},update:function(e){this.isEnabled=-1!==e.indexOf("interact")&&-1!==e.indexOf("fetch")}},{key:"select",isActive:!1,isEnabled:!0,action:function(){this.isActive=!this.isActive},active:function(){return this.isActive},enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=-1!==e.indexOf("interact")&&-1!==e.indexOf("select")}}],{get:function(){return t},update:function(e,n){return t.forEach((function(t){return e[t.key].update(n)}))}});return{qae:Nm(),selectionToolbar:{items:[{key:"lasso",label:"Lasso",icon:"lasso",activated:!1,action:function(){this.activated=!this.activated},enabled:function(){return!0},active:function(){return this.activated}}]},actions:r.get(),component:{created:function(t){var r,o,a,l=t.options;this.resources=e,this.options=l,this.picasso=n({renderer:{prio:[l.renderer||"canvas"]},style:{"$font-family":"QlikView Sans, sans-serif"}}),this.color=(r={picasso:this.picasso,model:this.model,app:this.app,translator:e.translator},o=vc(r).auto(wc),a={scales:function(){return{}},color:function(){return function(e){return e}},datumProps:function(){return{}},getAuxiliarySettings:function(){}},{update:function(e){o.config(xc(xc({colorProps:xc(xc({},e.layout.color),{},{useBaseColors:Oc(e.layout)}),legendProps:e.layout.legend},e),{},{key:Uu.SCALE.MAIN.COLOR,source:e.source}))},settings:function(){return o.settings()},model:function(){return o},mini:{update:function(e){(a=vc(r).auto(wc)).config(xc(xc({colorProps:xc(xc({},e.layout.color),{},{useBaseColors:Oc(e.layout)})},e),{},{key:Uu.SCALE.REDUCED.COLOR,source:e.source}))},model:function(){return a}}}),this.viewState=ra({scrollOffset:void 0,viewRange:[0,1],zoom:{min:0,max:0},legendScrollOffset:0}),this.viewCache=i()},mounted:function(e){this.element=e,this.chart=this.picasso.chart({element:e,data:[],settings:{}}),this.selectionsSetup=function(e){var t=e.chart,n=e.actions,r=e.selections,o=e.document,i=t.scale(Uu.SCALE.MAIN.MAJOR),a=Dx({selections:r,brush:t.brush("selection"),majorScale:i,actions:n,picassoQ:Ec.a});t.brush("selection").configure({ranges:[{key:"qHyperCube/qDimensionInfo/0:numeric",includeMax:!1}]}),a.allowSimultaneous(Nx(Array(15)).map((function(e,t){return"qHyperCube/qMeasureInfo/".concat(t)})));var l=!1,u=function(e){e.key===Tx.SHIFT&&e.shiftKey!==l&&(l=e.shiftKey,n.lasso.action())};o.addEventListener("keydown",u),o.addEventListener("keyup",u);var s=function(e,n){var r=t.component("measureRangeBrush"),i=t.component("legendRangeBrush"),a=t.component("discreteRangeBrush"),l=t.component("continuousRangeBrush"),u="tap"===e&&n.some((function(e){return"inner-time-axis"===e.key||"outer-time-axis"===e.key||"continuous-axis"}));if("measureRange"!==e&&r&&o.querySelector("[data-key='measureRangeBrush-edge-0']")){r.emit("rangeClear");var s=r.settings.settings,c=s.scale,f=s.brush,d=t.scale(c).data().fields.map((function(e){return e.id()})),p=t.brush(f),m=p.brushes().filter((function(e){return"range"===e.type&&d.some((function(t){return t===e.id}))}));p&&m.length&&m.forEach((function(e){p.removeRanges(e.brush.ranges().map((function(t){return{key:e.id,range:t}})))}))}if("legendRange"!==e&&i&&o.querySelector("[data-key='legendRangeBrush-edge-0']")){i.emit("rangeClear");var h=t.scale(i.settings.settings.scale).data().fields[0].id(),g=t.brush(i.settings.settings.brush).brushes().filter((function(e){return"range"===e.type&&e.id===h}))[0];g&&g.brush.clear()}if("discreteRange"!==e&&a&&a.emit("areaClear"),"continuousRange"!==e&&l&&!u){l.emit("rangeClear");var y=l.settings.settings,v=y.scale,b=y.brush,x=t.scale(v).data().fields.map((function(e){return e.id()})),M=t.brush(b.context),O=M.brushes().filter((function(e){return"range"===e.type&&x.some((function(t){return t===e.id}))}));M&&O.length&&O.forEach((function(e){M.removeRanges(e.brush.ranges().map((function(t){return{key:e.id,range:t}})))}))}};n.select.on("start",s);var c=function(){t.brushSelectionIncludeMax=void 0,n.lasso.active()&&n.lasso.action()},f=function(){var e=t.component("measureRangeBrush"),n=t.component("discreteRangeBrush"),r=t.component("legendRangeBrush"),o=t.component("continuousRangeBrush");e&&e.emit&&e.emit("rangeClear"),n&&n.emit&&n.emit("areaClear"),r&&r.emit&&r.emit("rangeClear"),o&&o.emit&&o.emit("rangeClear")};return r&&(r.on("deactivated",c),r.on("canceled",c),r.on("cleared",f),r.on("canceled",f)),{update:function(e){a.layout(e)},release:function(){o.removeEventListener("keydown",u),o.removeEventListener("keyup",u),a.release(),n.select.removeListener("start",s),r&&(r.removeListener("deactivated",c),r.removeListener("canceled",c),r.removeListener("cleared",f),r.removeListener("canceled",f))}}}({chart:this.chart,actions:this.actions,selections:this.selections,document:document})},render:function(t){var i,a,l,u,s,c,f=this,d=t.layout,p=t.context,m=t.opts,h=void 0===m?{}:m,g=function(e){return e.color.auto?e.qHyperCube.qDimensionInfo.length>1:"byDimension"===e.color.mode&&e.color.byDimDef&&e.color.byDimDef.activeDimensionIndex>-1}(d)?Ka({source:d}):void 0;Array.isArray(h.registerComponents)&&h.registerComponents.forEach((function(e){return n.component(e.type,e.component)})),r.update(this.actions,p.permissions),this.context=Ux(Ux({},p),{},{logicalSize:Rm({layout:d,options:this.options})}),this.extendComponents=h.components||[],this.layoutModel=Ka({source:d,metaAdditionsFn:jm}),this.viewModel=(i=this.layoutModel,(a={}).fields=function(e){var t=e.meta,n={majorGroup:t.isGroupedByDimension?"qDimensionInfo/0":void 0,majorStack:t.isStacked?"qDimensionInfo/0":void 0,major:t.isDimensionless?void 0:"qDimensionInfo/".concat(t.dimensionCount-1),majors:e.getHyperCubeValue("qDimensionInfo").map((function(e,t){return"qDimensionInfo/".concat(t)})),minor:e.getHyperCubeValue("qMeasureInfo").map((function(e,t){return"qMeasureInfo/".concat(t)}))};return n.majorNumeric="".concat(t.isStackedByDimension?n.majorStack:n.major,":numeric"),n}(i),a.selectionDimensionIdx=Rx(i.getHyperCube()),a.selectionDimensionProp=function(e){return void 0===a.selectionDimensionIdx||void 0!==e&&a.selectionDimensionIdx!==e?{}:{selectionDimension:{field:a.selectionDimensionIdx}}},a),this.dockModel=nl({layoutModel:this.layoutModel,rtl:p.rtl,size:rl(this.chart,this.context.logicalSize)}),this.themeModel=(c={},{update:function(e){var t;l={object:[["","","color"],["object.barChart","","fontFamily"],["object.barChart","outOfRange","color","#999"],["object.barChart","axis.title","color"],["object.barChart","axis.title","fontSize","13px"],["object.barChart","axis.title","fontFamily",Ix],["object.barChart","axis.label.name","color","#595959"],["object.barChart","axis.label.name","fontSize","12px"],["object.barChart","axis.label.name","fontFamily",Ix],["object.barChart","axis.line.major","color","#cccccc"],["object.barChart","axis.line.minor","color","#e6e6e6"],["object","grid.line.major","color","#cccccc"],["object","grid.line.minor","color","#e6e6e6"],["object","grid.line.highContrast","color","#e6e6e6"],["object","referenceLine.label.name","color","#333333"],["object","referenceLine.label.name","fontSize","12px"],["object","referenceLine.label.name","fontFamily",Ix],["object","referenceLine.outOfBounds","color","#e6e6e6"],["object","referenceLine.outOfBounds","backgroundColor","#737373"],["object","referenceLine.outOfBounds","fontFamily",Ix],["object","referenceLine.outOfBounds","fontSize","12px"],["object.barChart","label.value","color","#333333"],[!1,"label.value","lightColor","#E6E6E6"],[!1,"label.value","darkColor","#595959"],["object.barChart","label.value","fontSize","11px",function(e){return parseInt(e,10)}],["object.barChart","label.value","fontFamily",Ix]]},t=u=e||u,s={resolve:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(!1===e||!t)return o;var i=t.getStyle(e,n,r);return void 0===i?o:i}}},model:function(){return l.object.forEach((function(e){var t=jx(e,5),n=t[0],r=t[1],i=t[2],a=t[3],l=t[4],f=(void 0===l?function(e){return e}:l)(s.resolve(n,r,i,a),u);o()(!0,c,function(e,t,n){var r=e.split(".").filter((function(e){return e.length})),o={},i=o;return r.forEach((function(e){i[e]={},i=i[e]})),void 0!==n&&(i[t]=n),o}(r,i,f))})),c}}),this.themeModel.update(p.theme,this.dockModel.mode),this.trendLineModel=zu({layoutModel:this.layoutModel,viewState:this.viewState,colorModel:this.color.model(),chart:this.chart,env:e,keys:{colorScale:Uu.SCALE.MAIN.COLOR},isEnabled:function(){return!f.layoutModel.meta.isGroupedByDimension&&(!f.layoutModel.meta.isStackedByDimension||e.flags.isEnabled("TRENDLINES_STACKED_DIM"))&&!f.layoutModel.meta.isDimensionless}}),this.trendLineModel.command.update(),la.attrExpr.updateProperties(this.model,d,e.flags),this.customTooltipModel=function(e){var t=e.layout;return{layout:t,app:e.app,picasso:e.picasso,model:e.model,chart:e.chart,translator:e.translator,localeInfo:e.localeInfo,extractDimsAndNode:e.extractDimsAndNode,useCustomTooltip:t.tooltip&&!t.tooltip.auto,utils:Pa}}({layout:d,app:this.app,model:this.model,picasso:this.picasso,chart:this.chart,translator:e.translator,localeInfo:p.localeInfo,extractDimsAndNode:Pm.extractDimsAndNode}),this.layoutModel.meta.isDiscrete&&(this.discrete=Y({chart:this.chart,actions:this.actions,componentKey:Uu.COMPONENT.BAR,enigmaModel:this.model,layoutModel:this.layoutModel,dockModel:this.dockModel,trendLineModel:this.trendLineModel,itemWidths:Fu,viewState:this.viewState,rtl:this.context.rtl,options:{axisKey:Uu.COMPONENT.BAR_AXIS}})),this.refLineModel=Sl({layoutModel:this.layoutModel,discreteModel:this.discrete}),this.continuousDataModel=Yi.model(this),this.reducedDataModel=vx({enigma:this.model,layoutModel:this.layoutModel,viewModel:this.viewModel});var y=function(){return f.chart.update({partialData:!0,excludeFromUpdate:["mini-marker","dim-title","measure-title","ref-line","grid-line"]})},v=function(){return!f.layoutModel.meta.isContinuous&&(f.reducedDataModel.model().mode.isReduced||f.layoutModel.meta.isStacked)&&g};this.viewState.onChanged("scrollOffset",(function(){g&&g.setDataPages([f.discrete.query.getCurrentDataPage()]),f.refLineModel&&f.refLineModel.update(),y()})),this.viewState.onChanged("legendScrollOffset",y),this.viewState.intercept("zoom",Yi.event.onZoomIntercept(this)),this.viewState.onChanged("zoom",Yi.event.onZoomChange(this,y)),this.selectionsSetup.update(this.layoutModel.getLayout()),function(e){var t=e.layoutModel,n=e.viewState,r=e.viewStateOptions,o=void 0===r?{}:r,i=t.meta.isSnapshot?t.getLayoutValue("snapshotData.content.chartData",{}):o;n.preventSet("scrollOffset",i.scrollOffset),n.preventSet("legendScrollOffset",i.legendScrollOffset||0)}({layoutModel:this.layoutModel,viewState:this.viewState,viewStateOptions:this.options.viewStateOptions});var b=[];return this.layoutModel.meta.isContinuous&&(this.continuousDataModel.update(this.layoutModel.getLayout()),b.push(this.continuousDataModel.initialFetch())),b.push(this.reducedDataModel.fetch().then((function(e){var t=e.reducedCube;f.reducedDataModel.update(t)}))),b.push(function(e){var t=e.layout,n=e.model;return fl.snapshot(t)?Promise.resolve(null):n.getEffectiveProperties().then((function(e){return{properties:e}}))}({layout:this.layoutModel.getLayout(),model:this.model,env:e})),Promise.all(b).then((function(e){var t=f.layoutModel.meta.isContinuous||f.reducedDataModel.model().mode.isReduced||f.layoutModel.meta.isStacked,n=v()?g.getHyperCube():void 0,r=n?"legendCube":void 0;return f.color.update({theme:p.theme,hc:t?n||f.layoutModel.getHyperCube():f.reducedDataModel.model().cube,layout:f.layoutModel.getLayout(),source:t?r:"miniCube",localeInfo:p.localeInfo}),f.layoutModel.meta.isContinuous&&f.color.mini.update({theme:p.theme,hc:f.continuousDataModel.getInitialCube(),layout:f.continuousDataModel.getInitialLayout(),source:"miniCube"}),Promise.all([f.color.model().getAuxiliarySettings(),f.color.mini.model().getAuxiliarySettings()]).then((function(){return e}))})).then((function(e){return bh(f).then((function(t){return f.viewCache.set("minorMinMax",t),e}))})).then((function(e){var t=f.layoutModel.getHyperCube(),n=f.layoutModel.meta.isContinuous?f.continuousDataModel.getInitialCube():f.reducedDataModel.model().cube,r={localeInfo:p.localeInfo},i=o.a.apply(void 0,[{}].concat(_x(e),[r])),a=f.color.model().settings(),l=v(),u=l?g.getHyperCube():void 0;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.colorField,r=t.useLegendCube;/qAttrDimInfo/.test(n)?(e.removeKeyAlias("attrDim/qDimensionInfo/0"),e.removeKeyAlias("legendCube/".concat(n)),e.addKeyAlias("attrDim/qDimensionInfo/0","qHyperCube/".concat(n))):r&&e.addKeyAlias("legendCube/".concat(n),"qHyperCube/".concat(n)),e.addKeyAlias("miniCube/qDimensionInfo/0","qHyperCube/qDimensionInfo/0"),e.addKeyAlias("miniCube/qDimensionInfo/1","qHyperCube/qDimensionInfo/1")}(f.chart.brush("selection"),{colorField:a.field,useLegendCube:l}),f.dataPreparator=function(e){var t=e.mainCube,n=e.miniCube,r=e.legendCube,o=e.localeInfo,i=e.layoutModel,a=e.viewModel,l=e.trendLineModel,u=i.refs.dataPages.split(".").pop(),s=[],c=[],f=i.meta.isContinuous?[{key:a.fields.majorNumeric,from:i.meta.isStackedByDimension?a.fields.majorStack:a.fields.major,override:{value:function(e){return e.qNum}}}]:void 0;return{prepPicassoDataSet:function(){return{key:"qHyperCube",data:t,config:{localeInfo:o,virtualFields:f}}},prepPicassoData:function(e){var i=[{type:"q",key:"qHyperCube",data:t,config:{localeInfo:o,virtualFields:f}},{type:"q",key:"miniCube",data:n,config:{localeInfo:o,virtualFields:f}}].concat(Lm(e));return r&&i.push({type:"q",key:"legendCube",data:r,config:{localeInfo:o,virtualFields:f}}),l.query.hasTrendLines()&&i.push({key:"trend",data:l.query.getData()}),i},extractDataPages:function(){s=t[u],c=n.qDataPages,t[u]=[],n.qDataPages=[]},insertDataPages:function(){t[u]=s,n.qDataPages=c}}}({mainCube:t,miniCube:n,legendCube:u,localeInfo:p.localeInfo,layoutModel:f.layoutModel,viewModel:f.viewModel,trendLineModel:f.trendLineModel}),f.paint(i)}))},resize:function(e){var t=this,n=e.context;if(this.context=Ux(Ux({},this.context),n),r.update(this.actions,this.context.permissions),this.dockModel.update(rl(this.chart,this.context.logicalSize)),this.themeModel.update(n.theme),this.chart){this.dataPreparator.extractDataPages(),this.viewCache.set("isPreRender",!0),this.chart.update({settings:this.generate()}),this.viewCache.set("isPreRender",!1),this.dataPreparator.insertDataPages();var o=[];this.layoutModel.meta.isDiscrete&&o.push(this.discrete.command.initialize()),Promise.all(o).then((function(){return t.chart.update()}))}},paint:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.picasso.data("q")(this.dataPreparator.prepPicassoDataSet()),i=this.dataPreparator.prepPicassoData(this.color.model().data()),a=this.selections;this.generate=function(){var i=o()({picasso:t.picasso,ds:r,localeInfo:t.context.localeInfo,model:t.model,app:t.app,chart:t.chart,actions:t.actions,selections:a,isLocked:a&&a.isLocked?a.isLocked:Cl,translator:e.translator,viewCache:t.viewCache,viewState:t.viewState,layoutModel:t.layoutModel,dockModel:t.dockModel,viewModel:t.viewModel,colorModel:t.color.model(),miniColorModel:t.color.mini.model(),themeModel:t.themeModel.model(),trendLineModel:t.trendLineModel,discrete:t.discrete,continuousDataModel:t.continuousDataModel,reducedDataModel:t.reducedDataModel.model(),extendComponents:t.extendComponents,customTooltipModel:t.customTooltipModel,flags:t.resources.flags,debouncer:Ie,refLineModel:t.refLineModel},n);return mx(t.layoutModel.getLayout(),i,t.context)},this.viewCache.set("isPreRender",!0);var l=this.generate();this.dataPreparator.extractDataPages(),this.chart.update({data:i,settings:l}),this.viewCache.set("isPreRender",!1),this.dataPreparator.insertDataPages();var u=[];return 1!==l.components.length&&this.layoutModel.meta.isDiscrete&&u.push(this.discrete.command.initialize()),Promise.all(u).then((function(){t.chart.update()}))},setSnapshotData:function(e){var t=this.dockModel.chartSize,n=t.width,r=t.height;return e.snapshotData=e.snapshotData||{},e.snapshotData.content={size:{w:n,h:r}},this.layoutModel.meta.isSnapshot?Promise.resolve():(e.snapshotData.content.chartData={scrollOffset:this.viewState.get("scrollOffset"),zoom:this.viewState.get("zoom"),legendScrollOffset:El(this.chart,"legend-color-cat")},this.layoutModel.meta.isDiscrete?(this.discrete.command.setSnapshotData(e),this.reducedDataModel.setSnapshotData(e)):this.continuousDataModel.setSnapshotData(e),this.color.model().getSnapshotData().then((function(t){e.snapshotData.content.chartData=Ux(Ux({},e.snapshotData.content.chartData),t)})).catch((function(){})))},getViewState:function(){return{scrollOffset:this.viewState.get("scrollOffset"),legendScrollOffset:El(this.chart,"legend-color-cat")}},willUnmount:function(){this.selectionsSetup.release(),this.chart.destroy()},destroy:function(){}}}}}]).default}.apply(t,r),void 0!==o&&(e.exports=o))},xv2G:function(e,t,n){"use strict";n.r(t);var r=n("8ZOk");var o=n.n(r);var i=n("ztUU");var a=n.n(i);var l=n("CIFd");function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return u(e)}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),true).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return h(e)||y(e,t)||v(e,t)||M()}function p(e){return m(e)||g(e)||v(e)||x()}function m(e){if(Array.isArray(e))return b(e)}function h(e){if(Array.isArray(e))return e}function g(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function y(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var o=false;var i=void 0;try{for(var a=e[Symbol.iterator](),l;!(r=(l=a.next()).done);r=true){n.push(l.value);if(t&&n.length===t)break}}catch(e){o=true;i=e}finally{try{r||null==a["return"]||a["return"]()}finally{if(o)throw i}}return n}function v(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O=/\/(qDimensions|qMeasures)\/(\d+)\/(qAttributeDimensions|qAttributeExpressions)\/(\d+)/;function w(e,t){var n=[];var r=t.qDimensions?[["qDimensions","qMeasures"],["qAttributeDimensions","qAttributeExpressions"]]:[["qDimensionInfo","qMeasureInfo"],["qAttrDimInfo","qAttrExprInfo"]];r[0].forEach((function(o){var i=t[o]||[];var a=function t(a){e("object"===u(i[a].qDef)?i[a].qDef:i[a])&&n.push({path:"/".concat(o,"/").concat(a),definition:i[a]});r[1].forEach((function(t){var r=i[a][t]||[];for(var l=0;l<r.length;l++)e("object"===u(r[l].qDef)?r[l].qDef:r[l])&&n.push({path:"/".concat(o,"/").concat(a,"/").concat(t,"/").concat(l),definition:r[l]})}))};for(var l=0;l<i.length;l++)a(l)}));return n}function S(e,t){var n="object"===u(e.qDef)?e.qDef:e;n.roles||(n.roles=[]);var r=n.roles.filter((function(e){return e.role===t})).length>0;r||n.roles.push({role:t})}function k(e,t){var n="object"===u(e.qDef)?e.qDef:e;if(!n.roles)return;for(var r=0;r<n.roles.length;r++)if(n.roles[r].role===t){n.roles.splice(r,1);return}}function C(e,t){var n=w((function(e){return e.roles&&e.roles.filter((function(e){return e.role===t})).length>0}),e);n.sort().reverse().forEach((function(n){var r=O.exec(n.path);r?e[r[1]][+r[2]][r[3]].splice(+r[4],1):k(n.definition,t)}))}var E=/\/(qDimensions|qMeasures)\/(\d+)/;var A=/\/(qDimensions|qMeasures)\/(\d+)\/(qAttributeDimensions|qAttributeExpressions)\/(\d+)/;var q={type:void 0,typeValue:void 0,label:void 0,persistent:false,scheme:""};function D(e,t,n){var r=e.qHyperCubeDef.qDimensions;var o="/qDimensions/".concat(Math.max(0,r.length-1));var i=t||{type:"index",typeValue:Math.max(0,r.length-1)};"index"===i.type&&i.typeValue>r.length-1&&(i.typeValue=Math.max(0,r.length-1));var a;a="index"===i.type?"/qDimensions/".concat(i.typeValue):"".concat(o,"/qAttributeDimensions/0");if(n&&r.length){var l=A.exec(a);if(l){var u="libraryId"===i.type?{qLibraryId:i.typeValue,libraryId:i.typeValue}:{qDef:i.typeValue};e.qHyperCubeDef[l[1]][+l[2]][l[3]]||(e.qHyperCubeDef[l[1]][+l[2]][l[3]]=[]);e.qHyperCubeDef[l[1]][+l[2]][l[3]].splice(+l[4],0,f(f({},u),{},{qAttribute:true,qSortBy:{qSortByAscii:1},roles:[{role:"color"}]}))}else{var s=E.exec(a);s&&S(e.qHyperCubeDef[s[1]][+s[2]],"color")}}e.cellColor.byDimension=f(f(f({},q),e.cellColor.byDimension||{}),i||{})}function T(e){var t=e.layout,n=e.theme,r=e.definition,o=e.fieldPath;if(r.qError||r.qSize&&0===r.qSize.qcy)return f({invalid:true},n.getDataColorSpecials());var i=n.getDataColorPalettes();var a=t.cellColor&&t.cellColor.byDimension||{};return f(f({mode:"field",field:o,fieldType:"dimension",persistent:a.persistent,type:"categorical",palette:i.filter((function(e){return e.key===a.scheme}))[0]||i[0]},n.getDataColorSpecials()),{},{label:"expression"===a.type&&a.label||r.qFallbackTitle,locked:r.qLocked||false})}var N=/(qDimensions|qDimensionInfo)\/\d+(\/(qAttributeDimensions|qAttrDimInfo)\/\d+)?$/;var L=/(qMeasures|qMeasureInfo)\/\d+(\/(qAttributeExpressions|qAttrExprInfo)\/\d+)?$/;var I={show:"auto",showTitle:true};function j(e){if(N.test(e))return"dimension";if(L.test(e))return"measure";return}function P(e){e.cellColor.mode="auto"}function R(e){var t=e.properties,n=e.layout,r=e.theme;return{update:function e(){if(!t||!t.qHyperCubeDef)return;var n=t.qHyperCubeDef;var r=w((function(e){return e.roles&&e.roles.filter((function(e){return"color"===e.role})).length>0}),n)[0];var o=t.cellColor.mode;if("auto"===o&&r)this.colorBy({mode:"auto"},false);else if("byDimension"===o){var i=t.cellColor.byDimension||{};this.colorBy({mode:"byDimension",modeConfig:i},true)}},colorBy:function e(n){var r=n.mode,o=n.modeConfig;var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||!t.qHyperCubeDef)return;i&&C(t.qHyperCubeDef,"color");t.cellColor||(t.cellColor={});if("auto"===r){P(t);delete t.cellColor.byDimension}else"byDimension"===r&&D(t,o,i)},getSettings:function e(){var o=n?n.qHyperCube:t.qHyperCubeDef;var i=n?n.cellColor:t.cellColor;var a=w((function(e){return e.roles&&e.roles.filter((function(e){return"color"===e.role})).length>0}),o)[0];var l=a?a.path.replace(/^\//,""):"qDimensionInfo/1";var u=a?a.definition:null;if(!a||"auto"===i.mode){l="qDimensionInfo/1";u=n?n.qHyperCube.qDimensionInfo[1]:t.qHyperCubeDef.qDimensions[0]}var s=j(l);if("dimension"===s)return T({layout:n,theme:r,definition:u,fieldPath:l});return{invalid:true}},getLegendSettings:function e(){return f(f(f({},I),n.cellColor.legend),{},{dock:"right"})}}}var _={version:"1.0.0",qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:3,qHeight:3333}],qSuppressZero:true,qSuppressMissing:true,qCalcCondition:void 0},showTitles:true,title:"",subtitle:"",footnote:"",cellColor:{mode:"auto",legend:I}};var z=function(e){var t=e.translator;return{targets:[{path:"/qHyperCubeDef",dimensions:{min:2,max:2,description:function e(n,r){return 0===r?t.get("Column"):t.get("Cells")}},measures:{min:1,max:1,description:function e(){return t.get("Size")}}}]}};var F={ENTER:"Enter",ESCAPE:"Escape",IE11_ESC:"Esc",SHIFT:"Shift"};var U=[];var H=0;var B=function e(t){var n=U.filter((function(e){return e.selections&&e.selections.isActive()}));if(!n.length)return;t.key===F.ENTER?n.forEach((function(e){return e.selections.confirm()})):t.key!==F.ESCAPE&&t.key!==F.IE11_ESC||n.forEach((function(e){return e.selections.cancel()}))};var V=function e(){document.addEventListener("keyup",B)};var W=function e(){document.removeEventListener("keyup",B)};var G=function e(t,n){Object.keys(n).forEach((function(e){t.on(e,n[e])}))};var K=function e(t,n){Object.keys(n).forEach((function(e){t.removeListener(e,n[e])}))};function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selections,n=e.brush,r=e.picassoQ;var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.path,a=void 0===i?"/qHyperCubeDef":i;if(!t)return{layout:function e(){},release:function e(){}};var l=++H;var u=null;var s=function e(t){var r=n.brushes();r.forEach((function(e){("range"===e.type||t[0]&&t[0].key!==e.id)&&n.clear([])}));return t.filter((function(e){return-2!==e.value}))};var c=function e(t){var r=n.brushes().filter((function(e){return"value"===e.type}));if(r.length){n.clear([]);return t}return t};n.intercept("set-ranges",c);n.intercept("toggle-ranges",c);n.intercept("toggle-values",s);n.intercept("set-values",s);n.intercept("add-values",s);n.on("start",(function(){return t.begin(a)}));var f={activate:function e(){},deactivated:function e(){return n.end()},cleared:function e(){return n.clear()},canceled:function e(){return n.end()}};G(t,f);n.on("update",(function(){var e=r.selections(n,{},u);e.forEach((function(e){return t.select(e)}))}));0===U.length&&V();U.push({key:l,selections:t});return{layout:function e(t){u=t},release:function e(){u=null;var n=U.indexOf(U.filter((function(e){return e.key===l}))[0]);-1!==n&&U.splice(n,1);U.length||W();K(t,f)}}}function X(){return[{key:"y-axis",type:"axis",layout:{minimumLayoutMode:"WIDTH_MEDIUM",dock:"left"},scale:"y",formatter:{type:"d3-number",format:".0%"}},{key:"x-axis",type:"axis",layout:{minimumLayoutMode:"HEIGHT_MEDIUM",dock:"bottom"},scale:"m",formatter:{type:"d3-number",format:".0%"}}]}var Z={SPAN_COLLECTION:"span",CELL_COLLECTION:"cells",SERIES:"series",CELL_COLOR:"ferj"};function J(e){var t=e.constraints,n=e.contraster,r=e.colorFill,o=e.hc,i=e.formatPercentage;var a=o.qDimensionInfo[1].qLocked;return[{type:"box",key:"cells",data:{collection:Z.CELL_COLLECTION},brush:t.select||t.active?{}:{trigger:a?[]:[{contexts:["selection"]}],consume:[{context:"selection",style:{inactive:{opacity:.4}}}]},settings:{major:{ref:Z.SERIES,binStart:{scale:"m",fn:function e(t){var n=t.resources.scale("b");return t.resources.scale("m")(n.datum(t.datum.series.value).start.value)}},binEnd:{fn:function e(t){var n=t.resources.scale("b");return t.resources.scale("m")(n.datum(t.datum.series.value).end.value)}}},minor:{scale:"y",ref:"end"},box:{fill:r}}},{type:"labels",key:"cell-labels",dock:"@cells",displayOrder:2,brush:{consume:[{context:"selection",style:{inactive:{opacity:.6}}}]},settings:{sources:[{component:"cells",selector:"rect",strategy:{type:"rows",settings:{fill:function e(t){return n.getBestContrastColor(t.node.attrs.fill)},labels:[{linkData:function e(t){var n=t.node;return n.data},label:function e(t){if(!t.data)return"";return"".concat(t.data.label," (").concat(i(t.data.end.value-t.data.start.value),")")}},{linkData:function e(t){var n=t.node;return n.data},label:function e(t){var n=t.formatter,r=t.data;return r?"".concat(n("metric")(r.metric.value)):""}}]}}}]}}]}function Y(e){var t=e.constraints,n=e.style,r=e.hc,o=e.formatPercentage;var i=r.qDimensionInfo[0].qLocked;return[{type:"box",key:"column-boxes",layout:{dock:"top",minimumLayoutMode:"HEIGHT_SMALL"},preferredSize:function e(){var t=n&&n["$font-size"]?parseInt(n["$font-size"],10):12;return 4*t},data:{collection:Z.SPAN_COLLECTION},brush:t.select||t.active?{}:{trigger:i?[]:[{contexts:["selection"]}],consume:[{context:"selection",style:{inactive:{opacity:.4}}}]},settings:{major:{binStart:{scale:"m",fn:function e(t){var n=t.resources.scale("b");return t.resources.scale("m")(n.datum(t.datum.value).start.value)}},binEnd:{fn:function e(t){var n=t.resources.scale("b");return t.resources.scale("m")(n.datum(t.datum.value).end.value)}}},minor:{start:0,end:1},box:{fill:"rgba(100, 0, 0, 0.0)",strokeWidth:0}}},{type:"labels",key:"column-labels",dock:"@column-boxes",displayOrder:2,brush:{consume:[{context:"selection",style:{inactive:{opacity:.6}}}]},settings:{sources:[{component:"column-boxes",selector:"rect",strategy:{type:"rows",settings:{labels:[{linkData:function e(t){var n=t.node;return n.data},label:function e(t){if(!t.data)return"";return"".concat(t.data.series.label," (").concat(o(t.data.end.value-t.data.start.value),")")}},{linkData:function e(t){var n=t.node;return n.data},label:function e(t){return t.data?"".concat(t.data.metric.label):""}}]}}}]}}]}var Q="nebulajs-sn-mekko-tooltip";function ee(){if(!document.querySelector("#".concat(Q))){var e=document.createElement("div");e.id=Q;e.style.overflow="hidden";e.style.position="fixed";e.style.pointerEvents="none";e.style.left="0px";e.style.top="0px";e.style.width="100%";e.style.height="100%";e.style.zIndex=1020;document.body.appendChild(e)}}function te(){var e=document.querySelector("#".concat(Q));e&&e.parentElement&&e.childElementCount<1&&e.parentElement.removeChild(e)}var ne=function e(t){var n=t.h,r=t.data;var o=[];r.forEach((function(e){var t=n("th",{attrs:{colspan:3},style:{fontWeight:600,"text-align":"left",padding:"2px 4px"}},e.title);o.push(t);e.props.forEach((function(e){var t=[n("td",{style:{padding:"2px 4px"}},"".concat(e.label,":")),n("td",{style:{margin:"2px 4px"}},[n("span",{style:{"background-color":e.color||"transparent",display:"inline-block",width:"0.75em",height:"0.75em"}})]),n("td",{style:{"text-align":"right",padding:"2px 4px"}},e.value)];o.push(n("tr",{},t))}))}));return n("div",{style:{display:"table"}},o)};function re(e,t,n){return[{type:"tooltip",key:"tool",layout:{displayOrder:99},beforeMount:function e(){ee()},beforeUpdate:function e(){},destroyed:function e(){te()},settings:{appendTo:function e(){return document.querySelector("#".concat(Q))},filter:function e(t){return t.filter((function(e){return"cells"===e.key||"column-boxes"===e.key}))},extract:function r(o){var i=o.node,a=o.resources;var l=n(i.data.end.value-i.data.start.value);var u=t.get("Share");var s="Share"!==u?u:"Share";var c=a.dataset().field("qMeasureInfo/0");var f=-1!==["R","U"].indexOf(c.raw().qNumFormat.qType);var d;if("field"===e.mode&&e.field&&"cells"===i.key){var p=a.dataset(i.data[Z.CELL_COLOR].source.key).field(i.data[Z.CELL_COLOR].source.field);d={label:e.label?e.label:p.title(),value:i.data[Z.CELL_COLOR].label||"-",color:i.children[0].attrs.fill}}return{contentFn:ne,title:"cells"===i.key?"".concat(i.data.series.label,", ").concat(i.data.label):i.data.label,props:[{label:s,value:l},{label:c.title(),value:f?c.formatter()(i.data.metric.value):i.data.metric.label},d].filter(Boolean)}},content:ne}}]}var oe={HasNoData:{label:"The selections generated no data for this chart.",type:"disrupt"},HasOnlyNaNValues:{label:"The chart is not displayed because it contains only undefined values.",type:"disrupt"},HasOnlyNegativeOrZeroValues:{label:"The chart is not displayed because it contains only negative or zero values.",type:"disrupt"},HasLimitedDataset:{label:"Currently showing a limited data set.",type:"note"},HasZeroOrNegativeValues:{label:"The data set contains negative or zero values that cannot be shown in this chart.",type:"note"}};function ie(e){if(e.qSize.qcy<=0)return oe.HasNoData;if("NaN"===e.qMeasureInfo[0].qMax)return oe.HasOnlyNaNValues;if(e.qMeasureInfo[0].qMax<=0)return oe.HasOnlyNegativeOrZeroValues;if(e.qDataPages[0].qArea.qHeight<e.qSize.qcy)return oe.HasLimitedDataset;if(e.qMeasureInfo[0].qMin<=0)return oe.HasZeroOrNegativeValues;return}function ae(e,t){switch(e){case oe.HasNoData:return t.get("Disclaimer.NoDataExist");case oe.HasOnlyNaNValues:return t.get("Disclaimer.OnlyNaNData");case oe.HasOnlyNegativeOrZeroValues:return t.get("Disclaimer.OnlyNegativeOrZeroValues");case oe.HasLimitedDataset:return t.get("Disclaimer.LimitedData");case oe.HasZeroOrNegativeValues:return t.get("Disclaimer.NegativeOrZeroValues");default:return""}}function le(e,t){if(!e)return[];var n=ae(e,t);if("disrupt"===e.type)return[{key:"disclaimer",type:"disclaimer",dock:"center",settings:{text:n||e.label}}];return[{key:"disclaimer",type:"disclaimer",dock:"bottom",style:{text:{"@extend":"$label",fontSize:"12px",lineHeight:"16px",fontStyle:"italic"}},settings:{text:"* ".concat(n!==e.translation?n:e.label),anchor:"left"}}]}function ue(){return{y:{data:{collections:{key:Z.CELL_COLLECTION}},invert:true},b:{data:{collection:{key:Z.SPAN_COLLECTION}},type:"band"},m:{data:{collection:{key:Z.SPAN_COLLECTION}},max:1}}}function se(e){var t;var n=e.key,r=e.field,o=e.trackBy,i=e.reduce,a=e.stackKey,l=void 0===a?function(e){return e.series.value}:a,u=e.props,c=void 0===u?{}:u;return{key:n,data:{extract:{field:r,props:f((t={},s(t,Z.SERIES,{field:"qDimensionInfo/0"}),s(t,"metric",{field:"qMeasureInfo/0",reduce:"sum"}),s(t,"end",{field:"qMeasureInfo/0",reduce:"sum"}),t),c),trackBy:o,reduce:i},stack:{stackKey:l,value:function e(t){return t.end.value},offset:"expand"}}}}function ce(){return{key:"tooltip",type:"native",events:{mousemove:function e(t){var n=this.chart.element.getBoundingClientRect();var r={x:t.clientX-n.left,y:t.clientY-n.top};var o=[];o=this.chart.shapesAt(r,{components:[{key:"cells"},{key:"column-boxes"}],propagation:"stop"});this.chart.component("tool").emit("show",t,{nodes:o})},mouseleave:function e(){this.chart.component("tool").emit("hide")}}}}function fe(e){var t=e.layout,n=e.constraints,r=e.theme,o=e.contraster,i=e.restricted,a=e.picassoColoring,l=e.translator,u=e.formatPercentage;var s;if(r)try{s={"$font-family":r.getStyle("","","fontFamily")||"'QlikView Sans', sans-serif","$font-color":r.getStyle("","","color"),"$font-size":r.getStyle("","","fontSize"),"$font-size--l":r.getStyle("object","legend.title","fontSize"),"$guide-color":r.getStyle("object","axis.line.major","color")}}catch(e){}if(i&&"disrupt"===i.type)return f({components:le(i,l)},s?{style:s}:{});var c=a.datumProps();var d=a.color();var m=a.legend({key:"color-legend",eventName:"ev"});var h=!n.passive;return{strategy:{layoutModes:{MEDIUM:{width:300,height:200},HEIGHT_MEDIUM:{width:100,height:400},HEIGHT_SMALL:{width:50,height:200},WIDTH_MEDIUM:{width:400,height:100},WIDTH_SMALL:{width:300,height:100}}},collections:[se({key:Z.SPAN_COLLECTION,field:"qDimensionInfo/0",trackBy:function e(t){return t.qElemNumber},reduce:"first",stackKey:function e(){return-1}}),se({key:Z.CELL_COLLECTION,field:"qDimensionInfo/1",props:f({},c)})],scales:f(f({},ue()),a.scales()),formatters:{metric:{data:{field:"qMeasureInfo/0"}}},palettes:a.palettes(),components:[].concat(p(m.components),p(X()),p(J({constraints:n,contraster:o,colorFill:d,hc:t.qHyperCube,formatPercentage:u})),p(Y({constraints:n,style:s,hc:t.qHyperCube,formatPercentage:u})),p(h?re(a.settings(),l,u):[]),p(le(i,l))),interactions:[].concat(p(m.interactions),[!!h&&ce()]).filter(Boolean),style:s}}var de=/^\s*#([A-Fa-f0-9]{2})([A-f0-A-Fa-f0-9]{2})([A-Fa-f0-9]{2})\s*$/i;var pe=/^\s*#([A-Fa-f0-9])([A-Fa-f0-9])([A-Fa-f0-9])\s*$/i;function me(e){var t;var n;var r;var o;if(t=de.exec(e)||pe.exec(e)){var i=t.slice(1).map((function(e){return parseInt(1===e.length?e+e:e,16)}));var a=d(i,3);n=a[0];r=a[1];o=a[2]}else if(t=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(e)){var l=t.map((function(e){return parseInt(e,10)}));var u=d(l,4);n=u[1];r=u[2];o=u[3]}else{if(!(t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d+)?)\s*\)$/i.exec(e)))return 0;var s=t.map((function(e){return parseInt(e,10)}));var c=d(s,4);n=c[1];r=c[2];o=c[3]}var f=[n,r,o].map((function(e){return e/255})),p=d(f,3),m=p[0],h=p[1],g=p[2];var y=[m,h,g].map((function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),v=d(y,3),b=v[0],x=v[1],M=v[2];return.2126*b+.7152*x+.0722*M}var he=1e3;function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dark,n=void 0===t?"#404040":t,r=e.light,o=void 0===r?"#ffffff":r;var i={};var a=0;var l=me(n);var u=me(o);return{getBestContrastColor:function e(t){if(!i[t]){if(a>he){i={};a=0}var r=me(t);var s=(Math.max(r,u)+.05)/(Math.min(r,u)+.05);var c=(Math.max(r,l)+.05)/(Math.min(r,l)+.05);i[t]=s>c?o:n;a++}return i[t]}}}var ye={type:"items",component:"expandable-items",translation:"properties.addons",items:{dataHandling:{uses:"dataHandling",items:{suppressZero:null,calcCond:{uses:"calcCond"}}}}};function ve(e){return{definition:{type:"items",component:"accordion",items:{data:{uses:"data",items:{dimensions:{disabledRef:""},measures:{disabledRef:""}}},sorting:{uses:"sorting"},addons:ye,settings:{uses:"settings",items:{colorsAndLegend:{type:"items",translation:"properties.colorsAndLegend",items:{coloring:{type:"items",items:{auto:{ref:"cellColor.mode",type:"string",translation:"properties.colors",component:"switch",schemaIgnore:true,trueOption:{translation:"Common.Auto",value:"auto"},falseOption:{translation:"Common.Custom",value:"byDimension"},change:function e(t,n,r){var o=R({properties:r});o.colorBy({mode:"auto"===t.cellColor.mode?"auto":"byDimension"})}},dimensionDropdown:{component:"color-by-dropdown",libraryItemType:"dimension",ref:"cellColor.byDimension",defaultValue:{},show:function e(t){return"byDimension"===t.cellColor.mode},change:function e(){},convertFunctions:{get:function e(t,n,r){var o=r.properties.cellColor.byDimension||{};if("index"===o.type)return{activeDimensionIndex:o.typeValue};if("libraryId"===o.type)return{type:"libraryItem",key:o.typeValue};return{type:"expression",key:o.typeValue}},set:function e(t,n,r,o){var i=R({properties:o.properties});t.activeDimensionIndex>=0?i.colorBy({mode:"byDimension",modeConfig:{type:"index",typeValue:t.activeDimensionIndex}}):"libraryItem"===t.type?i.colorBy({mode:"byDimension",modeConfig:{type:"libraryId",typeValue:t.key}}):i.colorBy({mode:"byDimension",modeConfig:{type:"expression",typeValue:t.key}})}}},colorByDimensionLabel:{type:"string",ref:"cellColor.byDimension.label",schemaIgnore:true,translation:"Common.Label",expression:"optional",show:function e(t){return"byDimension"===t.cellColor.mode&&t.cellColor.byDimension&&"expression"===t.cellColor.byDimension.type}},persistentColors:{ref:"cellColor.byDimension.persistent",translation:"properties.colorPersistence",type:"boolean",schemaIgnore:true,show:function e(t){return"byDimension"===t.cellColor.mode}},colorSchemeDimension:{ref:"cellColor.byDimension.scheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",schemaIgnore:true,show:function e(t){return"byDimension"===t.cellColor.mode},defaultValue:function t(){var n=e.sense.theme.getDataColorPalettes()[0];return n?n.key:""},items:function t(){return e.sense.theme.getDataColorPalettes().map((function(e){return{component:"color-scale",type:"classes",translation:e.translation,value:e.key,colors:"pyramid"===e.type?e.colors[e.colors.length-1]:e.colors}}))}}}},legend:{show:true,type:"items",items:{show:{ref:"cellColor.legend.show",type:"_mixed_",translation:"properties.legend.show",component:"switch",schemaIgnore:true,trueOption:{value:"auto",translation:"Common.Auto"},falseOption:{value:false,translation:"properties.off"}},showTitle:{ref:"cellColor.legend.showTitle",translation:"properties.legend.showTitle",type:"boolean",schemaIgnore:true,show:function e(t){return false!==t.cellColor.legend.show}}}}}}}}}},support:{export:true,exportData:true,snapshot:true,viewData:true}}}function be(e,t){var n=f({type:"text",text:t.text,x:0,y:0,dx:0,dy:0,anchor:"left",baseline:"alphabetical"},e.style.text);var r=e.renderer.measureText(n);var o=/px$/.test(e.style.text.lineHeight)?parseInt(e.style.text.lineHeight,10):r.height;return{textRect:r,struct:n,preferredSize:o}}var xe={require:["renderer","chart"],defaultSettings:{layout:{dock:"bottom",displayOrder:0,prioOrder:0},settings:{},style:{text:"$title"}},created:function e(){this.state=be(this,this.settings.settings)},beforeUpdate:function e(t){this.state=be(this,t.settings.settings)},preferredSize:function e(){return this.state.preferredSize},render:function e(){var t=this.rect,n=this.state;var r=this.settings.dock;var o=f({},n.struct);o.dy=-n.textRect.height/6;var i=(n.preferredSize-n.textRect.height)/2;o.y=i+t.height/2+n.textRect.height/3;o.maxWidth=t.width;if("center"===r){o.anchor="middle";o.x=t.width/2}var a=[o];return a}};function Me(e){e.component("disclaimer",xe)}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coloring;var n=[];t.palette&&n.push({key:"categorical",colors:t.palette.colors});return n}function we(e,t){return{range:function e(n){var r=n.resources,o=n.data;var i=r.theme.palette("categorical",t);return o.items.map((function(e){return i[e.value%i.length]}))},valueAccessor:e.value}}function Se(e,t){return{range:function e(n){var r=n.resources,o=n.data;var i=r.theme.palette("categorical",t);return o.items.map((function(e){return i[e.row.value%i.length]}))},valueAccessor:e.value}}function ke(e){var t=e.coloring,n=e.hc,r=e.picasso,o=e.localeInfo;var i=t.persistent;var a=r.data("q")({data:n,config:{localeInfo:o}});var l=a.field(t.field);if(!l)return{};if(i)return we(l,l.raw().qCardinal);var u=a.extract({field:l.key(),trackBy:l.value}).length;return Se(l,u)}function Ce(e){var t=e.hc,n=e.source,r=e.coloring,o=e.persistence;var i={data:{extract:[{source:"dummy",field:0,filter:function e(){i.expando=t.qDataPages[0]?t.qDataPages[0].qArea.qTop:0;return false}},{source:n,field:r.field,trackBy:o.valueAccessor,reduce:"first",props:{row:{reduce:function e(){return i.expando++}},text:{value:function e(t){return t.qText},reduce:"first"}}}]},expando:0};return i}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hc,n=e.coloring,r=e.key,o=e.source,i=e.picasso;var a={};var l=r;if(n){var u={override:true,domain:n.explicit&&"function"===typeof n.explicit.domain?n.explicit.domain:[].concat(p((n.explicit||{}).domain||[]),[-3,-2]),range:n.explicit&&"function"===typeof n.explicit.range?n.explicit.range:[].concat(p((n.explicit||{}).range||[]),[n.others,n.nil])};if("field"===n.mode){if("dimension"!==n.fieldType)throw new Error("UNUSED FIELD");var s=ke({hc:t,coloring:n,picasso:i});var c=Ce({hc:t,source:o,coloring:n,persistence:s}),f=c.data;var d={data:f,range:s.range||n.range,domain:n.domain,explicit:u,type:"categorical-color",label:function e(t){return t.datum.text&&t.datum.text.value?t.datum.text.value:t.datum.label}};a[l]=d}}return a}function Ae(e){return function(t){return"object"===u(t.datum[e])?t.datum[e].value:void 0}}function qe(e){return-2===e.datum.value}function De(e){return-3===e.datum.value}function Te(e){var t=e.coloring,n=e.scales,r=e.key;var o=t.nil,i=t.others,a=t.primary;var l;var u=r;var s=Ae(r);var c=Ae("".concat(r,"IsAnOther"));t.invalid?l=function e(t){return De(t)||c(t)?i:o}:n[u]?l=function e(n){if(De(n))return i;if(qe(n)||-2===s(n)&&"dimension"===t.fieldType||"NaN"===s(n))return o;if(c(n))return i;return n.resources.scale(u)(s(n))||i}:"constant"===t.mode?l=function e(t){return De(t)||c(t)?i:qe(t)?o:a}:"color"===t.type&&(l=function e(t){return De(t)||c(t)?i:qe(t)?o:s(t)||i});return l}var Ne=function e(t,n,r){if(r.invalid||"color"===r.type||"measure"===r.mode&&n.qMeasureInfo.length<=1||"dimension"===r.mode)return false;return false!==t.show};function Le(e,t){var n=e.key;var r=t.scaleKey,o=t.scales,i=t.coloring,a=t.hc,l=t.constraints;var u="".concat(r,"Legend");return{type:"legend-cat",key:"".concat(n,"-cat"),scale:u in o?u:r,show:Ne(t.legendConfig,a,i),layout:{minimumLayoutMode:"MEDIUM",dock:t.legendConfig.dock},settings:{item:{show:function e(t){return-2!==t.datum.value}},title:{wordBreak:"break-word",maxLines:2,text:i.label||"",show:false!==t.legendConfig.showTitle},navigation:{disabled:l.active}},brush:{trigger:i.locked||l.active||l.select?[]:[{contexts:["selection"],data:["",n]}],consume:[{context:"selection",data:["",n],style:{inactive:{opacity:.3}}}]}}}function Ie(e,t){if("categorical"===t.coloring.type)return Le(e,t);return false}function je(e,t){var n=t.chart,r=t.key;var o="touchend"===e.type?e.changedTouches[0]:e;var i={x:o.clientX,y:o.clientY};var a=n.componentsFromPoint(i).some((function(e){return e.key==="".concat(r,"-cat")}));if(!a||!e.target)return;var l=e.target;if(l.hasAttribute("data-action")&&l.hasAttribute("data-component-key")){e.preventDefault();n.component(l.getAttribute("data-component-key")).emit(l.getAttribute("data-action"));return}l.childNodes[0]&&"BUTTON"===l.childNodes[0].nodeName&&e.preventDefault()}function Pe(e){var t=e.key;return{key:"event:tap-".concat(t),type:"native",events:{click:function e(n){je(n,{chart:this.chart,key:t})},touchend:function e(n){je(n,{chart:this.chart,key:t})}}}}function Re(e,t){var n=[];var r=[];var o=Ie(e,t);n.push(o);o&&"legend-cat"===o.type&&r.push(Pe(e));return{interactions:r,components:n}}var _e=function e(t){return"rgba(".concat([(16711680&t)>>16,(65280&t)>>8,255&t,((4278190080&t)>>>24)/255].join(","),")")};function ze(e){var t=e.hc,n=e.coloring,r=e.scales,o=e.key;var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var a;var l;var u=o;var c=n.nil;r[o]&&"field"===n.mode?a=r[o].data.field||n.field:"field"===n.mode&&n.field&&(a=n.field);if(a){l={field:a,reduce:"first"};"color"===n.type&&(l.value=function(e){if("NaN"!==e.qNum)return _e(e.qNum);return e.qText&&e.qText?e.qText:c})}else"dimension"===n.mode?l="undefined"!==typeof n.field?n.field:t.qDimensionInfo.length-1:"measure"===n.mode&&(l=i);var f=s({},u,l);t.qDimensionInfo.length>1&&(f["".concat(u,"IsAnOther")]={fields:t.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function e(t){return-1!==t.indexOf(-3)}});return f}function Fe(e){var t={};var n={};var r;var o=function e(){n.settings||(n.settings=r.getSettings());return n.settings};var i={config:function e(o){t=f({},o);n={};r=t.chartColorModel;if(!t.key)throw new Error("Missing key")},resolveUIColor:function e(t){return r.resolveUIColor(t)},settings:function e(){var t=o();return{mode:t.mode,type:t.type,label:t.label,field:t.field,fieldType:t.fieldType,nil:t.nil,others:t.others,primary:t.primary}},palettes:function e(){return Oe({coloring:o()})},scales:function r(){n.scales=n.scales||Ee({hc:t.hc,coloring:o(),key:t.key,source:t.source,picasso:e.picasso});return n.scales},color:function e(){n.color=n.color||Te({coloring:o(),scales:this.scales(),key:t.key});return n.color},datumProps:function e(n){return ze({coloring:o(),scales:this.scales(),key:t.key,hc:t.hc},n)},data:function e(){return[{key:"dummy",data:[["field"],["a"]]}]},legend:function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.eventName,a=n.key;return Re({eventName:i,key:a},{legendConfig:r.getLegendSettings(),scaleKey:t.key,coloring:o(),hc:t.hc,scales:this.scales(),constraints:t.constraints})}};return i}var Ue={Disclaimer_LimitedData:{id:"Disclaimer.LimitedData",locale:{"de-DE":"Zurzeit wird nur ein beschränkter Datensatz angezeigt.","en-US":"Currently showing a limited data set.","es-ES":"Mostrando actualmente un conjunto limitado de datos.","fr-FR":"Affichage d'un ensemble de données limité pour l'instant.","it-IT":"Attualmente viene visualizzata una serie di dati limitata.","ja-JP":"現在、限定的なデータ セットを表示しています。","ko-KR":"현재 제한된 데이터 집합을 표시하고 있습니다.","nl-NL":"Momenteel wordt een beperkte gegevensverzameling getoond.","pl-PL":"Aktualnie przedstawiany jest ograniczony zestaw danych.","pt-BR":"Mostrando um conjunto de dados limitado.","ru-RU":"В настоящее время отображается ограниченный набор данных.","sv-SE":"Just nu visas en begränsad uppsättning data.","tr-TR":"Şu anda sınırlı bir veri kümesi gösteriliyor.","zh-CN":"当前正显示有限的数据集。","zh-TW":"目前顯示的是有限的資料集。"}},Disclaimer_NegativeOrZeroValues:{id:"Disclaimer.NegativeOrZeroValues",locale:{"de-DE":"Die in den Datensätzen enthaltenen negativen oder 0-Werte können nicht in diesem Diagramm dargestellt werden.","en-US":"The data set contains negative or zero values that cannot be shown in this chart.","es-ES":"El conjunto de datos contiene valores negativos o cero que no se pueden mostrar en este gráfico.","fr-FR":"L'ensemble de données contient des valeurs négatives ou égales à zéro impossibles à afficher dans ce graphique.","it-IT":"La serie di dati contiene valori negativi o uguali a zero che non possono essere visualizzati in questo grafico.","ja-JP":"データ セットには、本チャートに表示できない負の値またはゼロ値が含まれています。","ko-KR":"데이터 집합에 해당 차트에 표시할 수 없는 음수 값 또는 zero 값이 포함되어 있습니다.","nl-NL":"De gegevensverzameling bevat negatieve waarden of nulwaarden die niet kunnen worden weergegeven in deze grafiek.","pl-PL":"Zestaw danych zawiera wartości ujemne lub zerowe, których nie można przedstawić w tym wykresie.","pt-BR":"O conjunto de dados contém valores negativos ou iguais a zero que não podem ser mostrados neste gráfico.","ru-RU":"Набор данных содержит отрицательные или нулевые значения, которые невозможно показать в этой диаграмме.","sv-SE":"Datauppsättningen innehåller negativa värden eller nollvärden som inte kan visas i detta diagram.","tr-TR":"Veri kümesi, bu grafikte gösterilemeyen negatif veya sıfır değerlerini içeriyor.","zh-CN":"数据集中包含无法在此图表中显示的负值或零值。","zh-TW":"資料集包含無法在此圖表中顯示的負值或零值。"}},Disclaimer_NoDataExist:{id:"Disclaimer.NoDataExist",locale:{"de-DE":"Die Auswahlen haben für dieses Diagramm keine Daten generiert.","en-US":"The selections generated no data for this chart.","es-ES":"Las selecciones no han generado datos para este gráfico.","fr-FR":"Les sélections n'ont pas généré de données pour ce graphique.","it-IT":"Le selezioni non hanno generato dati per questo grafico.","ja-JP":"このチャートには選択からデータが生成されませんでした。","ko-KR":"선택 내용으로 해당 차트에 대한 데이터가 생성되지 않았습니다.","nl-NL":"De selecties hebben geen gegevens voor de grafiek gegenereerd.","pl-PL":"Selekcje nie spowodowały wygenerowania danych dla tego wykresu.","pt-BR":"As seleções não geraram dados para este gráfico.","ru-RU":"В результате выборок данные для этой диаграммы не созданы.","sv-SE":"Urvalen genererade inga data för detta diagram.","tr-TR":"Seçimler bu grafik için hiç veri oluşturmadı.","zh-CN":"选择未生成此图表的数据。","zh-TW":"此選項無法產生任何適用於此圖表的資料。"}},Disclaimer_OnlyNaNData:{id:"Disclaimer.OnlyNaNData",locale:{"de-DE":"Das Diagramm wird nicht angezeigt, da es nur nicht definierte Werte enthält.","en-US":"The chart is not displayed because it contains only undefined values.","es-ES":"El gráfico no se muestra porque solo contiene valores indefinidos.","fr-FR":"Le graphique n'est pas affiché, car il contient uniquement des valeurs non définies.","it-IT":"Il grafico non è visualizzato poiché contiene solo valori non definiti.","ja-JP":"未定義の値しか含まれていないため、チャートは表示されていません。","ko-KR":"정의되지 않은 값만 포함되어 있으므로 차트가 표시되지 않습니다.","nl-NL":"De grafiek wordt niet weergegeven omdat deze alleen ongedefinieerde waarden bevat.","pl-PL":"Wykres nie jest wyświetlany, ponieważ zawiera wartości niezdefiniowane.","pt-BR":"O gráfico não foi exibido, porque contém apenas valores não definidos.","ru-RU":"Диаграмма не отображается, поскольку она содержит только неопределенные значения.","sv-SE":"Diagrammet visas inte eftersom det enbart innehåller odefinierade värden.","tr-TR":"Yalnızca tanımsız değerleri içermesi nedeniyle grafik görüntülenmiyor.","zh-CN":"未显示图表，因为它仅包含未定义的值。","zh-TW":"系統不會顯示圖表，因為該圖表僅包含未定義的值。"}},Disclaimer_OnlyNegativeOrZeroValues:{id:"Disclaimer.OnlyNegativeOrZeroValues",locale:{"de-DE":"Das Diagramm wird nicht angezeigt, da es nur negative oder 0-Werte enthält.","en-US":"The chart is not displayed because it contains only negative or zero values.","es-ES":"El gráfico no se muestra porque sólo contiene valores negativos o valores cero.","fr-FR":"Le graphique n'est pas affiché, car il contient uniquement des valeurs négatives ou égales à zéro.","it-IT":"Il grafico non viene visualizzato poiché contiene solo valori negativi o uguali a zero.","ja-JP":"チャートは負の値またはゼロ値しか含まれていないため、表示されていません。","ko-KR":"음수 또는 zero 값만 포함되어 있으므로 차트가 표시되지 않습니다.","nl-NL":"De grafiek wordt niet weergegeven omdat het alleen negatieve waarden of nulwaarden bevat.","pl-PL":"Wykres nie jest wyświetlany, ponieważ zawiera wartości ujemne lub zerowe.","pt-BR":"O gráfico não foi exibido, porque contém apenas valores negativos ou zero.","ru-RU":"Диаграмма не отображается, поскольку она содержит только отрицательные или нулевые значения.","sv-SE":"Diagrammet visas inte eftersom det enbart innehåller negativa eller nollvärden","tr-TR":"Yalnızca negatif veya sıfır değerlerini içermesi nedeniyle grafik görüntülenmiyor.","zh-CN":"未显示图表，因为它仅包含负值或零值。","zh-TW":"系統不會顯示圖表，因為該圖表僅包含負值或零值。"}},Cells:{id:"Cells",locale:{"de-DE":"Zellen","en-US":"Cells","es-ES":"Celdas","fr-FR":"Cellules","it-IT":"Celle","ja-JP":"セル","ko-KR":"셀","nl-NL":"Cellen","pl-PL":"Komórki","pt-BR":"Células","ru-RU":"Ячейки","sv-SE":"Celler","tr-TR":"Hücreler","zh-CN":"单元格","zh-TW":"儲存格"}},Column:{id:"Column",locale:{"de-DE":"Spalte","en-US":"Column","es-ES":"Columna","fr-FR":"Colonne","it-IT":"Colonna","ja-JP":"列","ko-KR":"열","nl-NL":"Kolom","pl-PL":"Kolumna","pt-BR":"Coluna","ru-RU":"Столбец","sv-SE":"Kolumn","tr-TR":"Sütun","zh-CN":"列","zh-TW":"資料行"}},Size:{id:"Size",locale:{"de-DE":"Größe","en-US":"Size","es-ES":"Tamaño","fr-FR":"Taille","it-IT":"Dimensione","ja-JP":"サイズ","ko-KR":"크기","nl-NL":"Grootte","pl-PL":"Rozmiar","pt-BR":"Tamanho","ru-RU":"Размер","sv-SE":"Storlek","tr-TR":"Boyut","zh-CN":"大小","zh-TW":"大小"}},Share:{id:"Share",locale:{"de-DE":"Anteil","en-US":"Share","es-ES":"Cuota","fr-FR":"Part","it-IT":"Percentuale","ja-JP":"割合","ko-KR":"공유","nl-NL":"Aandeel","pl-PL":"Udział","pt-BR":"Percentual","ru-RU":"Доля","sv-SE":"Andel","tr-TR":"Pay","zh-CN":"份额","zh-TW":"佔有率"}}};function He(e){var t=o()();t.use(a.a);t.use(Me);Object.keys(Ue).forEach((function(t){e.translator.add(Ue[t])}));return{qae:{properties:{initial:_,onChange:function e(t){R({properties:t}).update()}},data:z(e)},component:function e(){var n=Object(l["useStaleLayout"])();var r=Object(l["useElement"])();var o=Object(l["useSelections"])();var i=Object(l["useAppLayout"])();var u=Object(l["useRect"])();var s=Object(l["useState"])(),c=d(s,2),m=c[0],h=c[1];var g=Object(l["useConstraints"])();var y=Object(l["useTranslator"])();var v=i.qLocaleInfo;var b=Object(l["useTheme"])();var x=Object(l["useOptions"])(),M=x.renderer;Object(l["useEffect"])((function(){var e=t({renderer:{prio:[M||"canvas"]}}).chart({element:r,data:[],settings:{}});var n=$({selections:o,brush:e.brush("selection"),picassoQ:a.a});h(e);return function(){n.release();e.destroy()}}),[]);var O=Object(l["useState"])((function(){return ge()})),w=d(O,1),S=w[0];var k=Object(l["useState"])((function(){return Fe({picasso:t})})),C=d(k,1),E=C[0];Object(l["useEffect"])((function(){if(!m)return;var e=n.qHyperCube;var t=ie(e);if(t===oe.HasZeroOrNegativeValues){var r=e.qDataPages[0].qMatrix.filter((function(e){return e[2].qNum>0}));e=f(f({},n.qHyperCube),{},{qDataPages:[{qArea:f(f({},e.qDataPages[0].qArea),{},{qHeight:r.height}),qMatrix:r}],qSize:{qcx:n.qHyperCube.qSize.qcx,qcy:r.height}})}var o=R({layout:n,theme:b});E.config({key:Z.CELL_COLOR,source:"qHyperCube",hc:e,chartColorModel:o,constraints:g});var i=function e(t){return"".concat((100*t).toFixed(1),"%").replace(".",v?v.qDecimalSep:".")};m.update({data:[{type:"q",key:"qHyperCube",data:e,config:{localeInfo:v}}].concat(p(E.data())),settings:fe({layout:n,theme:b,contraster:S,picassoColoring:E,restricted:t,translator:y,constraints:g,formatPercentage:i})})}),[n,m,g,b.name(),y.language()]);Object(l["useEffect"])((function(){m&&m.update()}),[u.width,u.height])},ext:ve(e)}}t["default"]=He},z0E8:function(e,t,n){var r,o;!(r=[n("mXGw"),n("CIFd"),n("mXtC"),n("8ZOk"),n("ztUU"),n("xARA"),n("y6H+"),n("AdBH"),n("QFtD")],o=function(e,t,n,r,o,i,a,l,u){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=o.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||o.call(e,t)},c=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},f=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(l)return l(e,t).value}return e[t]};e.exports=function e(){var t,n,o,i,a,l,d=arguments[0],p=1,m=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!==r(d)&&"function"!=typeof d)&&(d={});p<m;++p)if(null!=(t=arguments[p]))for(n in t)o=f(d,n),d!==(i=f(t,n))&&(h&&i&&(s(i)||(a=u(i)))?(a?(a=!1,l=o&&u(o)?o:[]):l=o&&s(o)?o:{},c(d,{name:n,newValue:e(h,l,i)})):void 0!==i&&c(d,{name:n,newValue:i}));return d}},function(t,n){t.exports=e},function(e,t,n){e.exports=n(22)()},function(e,n){e.exports=t},,function(e,t){e.exports=n},,function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r={};function o(){o.init.call(this)}r.isObject=function(e){return"object"===n(e)&&null!==e},r.isNumber=function(e){return"number"==typeof e},r.isUndefined=function(e){return void 0===e},r.isFunction=function(e){return"function"==typeof e},e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if(!r.isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},o.prototype.emit=function(e){var t,n,o,i,a,l;if(this._events||(this._events={}),"error"===e&&!this._events.error)throw(t=arguments[1])instanceof Error?t:Error('Uncaught, unspecified "error" event.');if(n=this._events[e],r.isUndefined(n))return!1;if(r.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,i=new Array(o-1),a=1;a<o;a++)i[a-1]=arguments[a];n.apply(this,i)}else if(r.isObject(n)){for(o=arguments.length,i=new Array(o-1),a=1;a<o;a++)i[a-1]=arguments[a];for(o=(l=n.slice()).length,a=0;a<o;a++)l[a].apply(this,i)}return!0},o.prototype.addListener=function(e,t){var n;if(!r.isFunction(t))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r.isFunction(t.listener)?t.listener:t),this._events[e]?r.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r.isObject(this._events[e])&&!this._events[e].warned)&&(n=r.isUndefined(this._maxListeners)?o.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,r.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),r.isFunction(console.trace)&&console.trace());return this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){if(!r.isFunction(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},o.prototype.removeListener=function(e,t){var n,o,i,a;if(!r.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,o=-1,n===t||r.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r.isObject(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},o.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r.isFunction(n))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},o.prototype.listeners=function(e){return this._events&&this._events[e]?r.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},o.listenerCount=function(e,t){return e._events&&e._events[t]?r.isFunction(e._events[t])?1:e._events[t].length:0}},,,,,,function(e,t){e.exports=l},function(e,t){e.exports=u},,,,function(e,t,n){"use strict";var r=n(23);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Em}));var r=n(7),o=n.n(r),i=n(8),a=n.n(i),l=n(17),u=n.n(l),s=n(18),c=n.n(s),f=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͽΆΈ-ϵϷ-҂Ҋ-։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ॿং-হঽ-ীে-ৌৎ-ৡ০-ৱ৴-৺ਃ-ਹਾ-ੀਖ਼-੯ੲ-ੴઃ-હઽ-ીૉ-ૌૐ-ૡ૦-૯ଂ-ହଽ-ାୀେ-ୌୗ-ୡ୦-୷ஃ-ிு-ௌௐ-௲ఁ-ఽు-ౄౘ-ౡ౦-౯౿-ಹಽ-ೋೕ-ೡ೦-ീെ-ൌൎ-ൡ൦-ෆා-ෑෘ-ะา-ำเ-ๆ๏-ະາ-ຳຽ-ໆ໐-༗༚-༴༶༸༾-ཬཿ྅ྈ-ྌ྾-࿅࿇-ာေးျ-ြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃ-ႄႇ-ႌႎ-ႜ႞-ፚ፠-ᎏᎠ-Ᏼᐁ-ᙿᚁ-ᚚᚠ-ᜑᜠ-ᜱ᜵-ᝑᝠ-ᝰក-ាើ-ៅះ-ៈ។-៚ៜ០-៩᠐-ᢨᢪ-ᤜᤣ-ᤦᤩ-ᤱᤳ-ᤸ᥆-᧚ᨀ-ᨖᨙ-ᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-᭪᭴-᭼ᮂ-ᮡᮦ-ᮧ᮪-ᯥᯧᯪ-ᯬᯮ᯲-ᰫᰴ-ᰵ᰻-᱿᳓᳡ᳩ-ᳬᳮ-ᶿḀ-ᾼιῂ-ῌῐ-Ίῠ-Ῥῲ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ-⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-ⳤⳫ-ⳮⴀ-⵰ⶀ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㍶㍻-㏝㏠-㏾㐀-䶵一-ꒌꓐ-ꘌꘐ-ꙮꚀ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꤥ꤮-ꥆꥒ-ꥼꦃ-ꦲꦴ-ꦵꦺ-ꦻꦽ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂ-ꯤꯦ-ꯧꯩ-꯬꯰-ﬗＡ-Ｚａ-ｚｦ-ￜ]"),d=new RegExp("[־׀׃׆א-״߀-ߪߴ-ߵߺ-ࠕࠚࠤࠨ࠰-ࡘ࡞‏יִײַ-ﬨשׁ-ﭏ]"),p=new RegExp("[؈؋؍؛-ي٭-ٯٱ-ەۥ-ۦۮ-ۯۺ-܍ܐܒ-ܯݍ-ޥޱﭐ-ﴽﵐ-﷼ﹰ-ﻼ]"),m={lrm:String.fromCharCode(8206),rlm:String.fromCharCode(8207),isLtrChar:function(e){return f.test(e)},isRtlChar:function(e){return d.test(e)||p.test(e)},detectTextDirection:function(e){var t,n,r=e?e.length:0;for(t=0;t<r;t++){if(n=e[t],m.isLtrChar(n))return"ltr";if(m.isRtlChar(n))return"rtl"}return"ltr"}},h=m,g=/^[A-Z][A-z0-9_]*$/i,y={setValue:function(e,t,n){if(!t)return!1;var r,o=t.split("."),i=o[o.length-1],a=e;for(r=0;r<o.length-1;++r)void 0===a[o[r]]&&(a[o[r]]=Number.isNaN(+o[r+1])?{}:[]),a=a[o[r]];if(void 0!==n){var l=a[i];return a[i]=n,{updated:n,previous:l}}return delete a[i],!1},getValue:function(e,t,n){var r,o=t.split("."),i=e;if(void 0===i)return n;for(r=0;r<o.length;++r){if(void 0===i[o[r]])return n;i=i[o[r]]}return i},moveArrayElement:function(e,t,n){if(n>=e.length)for(var r=n-e.length;1+r--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])},escapeField:function(e){return!e||"]"===e||g.test(e)?e:"[".concat(e.replace(/\]/g,"]]"),"]")},deleteUndefinedProperties:function(e){Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]}))}},v=n(1),b=n.n(v),x=n(2),M=n.n(x),O=n(5);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return"large"===e?"20px":"small"===e?"12px":"16px"}function C(e){var t=e.d,n=e.size,r=e.style,o=void 0===r?{}:r,i=e.viewBox,a=void 0===i?"0 0 16 16":i,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:k(n),display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-.125em",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},o);return b.a.createElement("i",{style:l},b.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:a,fill:"currentColor"},b.a.createElement("path",{d:t})))}var E={d:"M15.9993744,3 L15.9993744,5 L4.99937445,5 L4.99937445,3 L15.9993744,3 Z M8.99937445,7 L15.9993744,7 L15.9993744,9 L8.99937445,9 L8.99937445,7 Z M11.9993744,11 L15.9993744,11 L15.9993744,13 L11.9993744,13 L11.9993744,11 Z M2.2,11 L7,11 L7,9.00369263 C7,8.89323568 7.08954305,8.80369263 7.2,8.80369263 C7.2549016,8.80369263 7.30738916,8.82626165 7.34515712,8.86610844 L10.1852182,11.8624926 C10.2583124,11.93961 10.258346,12.0604218 10.1852948,12.13758 L7.34523376,15.1373102 C7.2692928,15.2175206 7.14270711,15.2209817 7.06249671,15.1450407 C7.02260076,15.1072683 7,15.0547472 7,14.9998069 L7,12.9043747 C4.79351111,12.9043747 2.8018683,12.9266213 1.02507156,12.9711145 L1.02507252,12.9711526 C0.472939773,12.9849787 0.014139487,12.5485949 0.000313396522,11.9964622 C0.000104473692,11.988119 -1.32268838e-12,11.9797736 -1.3231638e-12,11.9714278 L-1.83320026e-12,3 L2,3 L2,10.8 C2,10.9104569 2.08954305,11 2.2,11 Z"},A={d:"M13,7 L8,7 L13,7 L13,4.98151367 C13,2.23029964 10.7614237,0 8,0 C5.23857625,0 3,2.23029964 3,4.98151367 L3,7 L3.75,7 L3,7 L4.5,7 L4.5,5.33193359 C4.5,3.21561511 5.54860291,1.5 8,1.5 C10.4513971,1.5 11.5,3.21561511 11.5,5.33193359 L11.5,7 L12.25,7 L3,7 C2.44771525,7 2,7.44771525 2,8 L2,15 C2,15.5522847 2.44771525,16 3,16 L13,16 C13.5522847,16 14,15.5522847 14,15 L14,8 C14,7.44771525 13.5522847,7 13,7 L3,7 L13,7 Z"},q={d:"M6,10 L13,3 L15,5 L8,12 L6,14 L1,9 L3,7 L6,10 Z"},D={d:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z"},T={d:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"},N=n(0),L=n.n(N);function I(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R=L.a.bind(null,!0),_={},z=Array.isArray;function F(e){return null!=e&&!Array.isArray(e)&&"object"===P(e)}function U(e){return void 0===e}function H(e,t){return"function"==typeof e[t]||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function B(e,t){var n,r=t.substring(1).split("/").slice(0,-1);return r.forEach((function(t,o){if(o!==r.length){n=+t;var i=isNaN(n)?{}:[];e[n||t]=U(e[n||t])?i:e[t],e=e[n||t]}})),e}function V(e,t){var n=!0;if(F(e)&&F(t))return Object.keys(e).length===Object.keys(t).length&&(Object.keys(e).forEach((function(r){V(e[r],t[r])||(n=!1)})),n);if(z(e)&&z(t)){if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r+=1)if(!V(e[r],t[r]))return!1;return!0}return e===t}_.generate=function(e,t,n){n=n||"";var r=[];return Object.keys(t).forEach((function(o){var i=function(e){return e?R({},{val:e}).val:e}(t[o]),a=e[o],l="".concat(n,"/").concat(o);V(i,a)||H(t,o)||(U(a)?r.push({op:"add",path:l,value:i}):F(i)&&F(a)?r=r.concat(_.generate(a,i,l)):z(i)&&z(a)?r=r.concat(function(e,t,n){var r=[],o=e.slice(),i=-1;function a(e,t,n){if(e[n]&&U(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var r=0,o=e.length;r<o;r+=1)if(e[r]&&e[r].qInfo.qId===t)return r;return-1}if(V(t,o))return r;if(!U(t[0])&&U(t[0].qInfo))return r.push({op:"replace",path:n,value:t}),r;for(var l=o.length-1;l>=0;l-=1)-1===(i=a(t,o[l].qInfo&&o[l].qInfo.qId,l))?(r.push({op:"remove",path:"".concat(n,"/").concat(l)}),o.splice(l,1)):r=r.concat(_.generate(o[l],t[i],"".concat(n,"/").concat(l)));for(var u=0,s=t.length;u<s;u+=1)-1===(i=a(o,t[u].qInfo&&t[u].qInfo.qId))?(r.push({op:"add",path:"".concat(n,"/").concat(u),value:t[u]}),o.splice(u,0,t[u])):i!==u&&(r.push({op:"move",path:"".concat(n,"/").concat(u),from:"".concat(n,"/").concat(i)}),o.splice(u,0,o.splice(i,1)[0]));return r}(a,i,l)):r.push({op:"replace",path:"".concat(n,"/").concat(o),value:i}))})),Object.keys(e).forEach((function(o){U(t[o])&&!H(e,o)&&r.push({op:"remove",path:"".concat(n,"/").concat(o)})})),r},_.apply=function(e,t){t.forEach((function(t){var n,r=B(e,t.path),o=t.path.split("/").splice(-1)[0],i=o&&isNaN(+o)?r[o]:r[+o]||r,a=t.from?t.from.split("/").splice(-1)[0]:null;if("/"===t.path&&(r=null,i=e),"add"===t.op||"replace"===t.op)if(z(r))"-"===o&&(o=r.length),r.splice(+o,"add"===t.op?0:1,t.value);else if(z(i)&&z(t.value)){var l,u=t.value.slice();i.length=0,(l=i).push.apply(l,I(u))}else if(F(i)&&F(t.value))n=i,Object.keys(n).forEach((function(e){Object.getOwnPropertyDescriptor(n,e).configurable&&!H(n,e)&&delete n[e]})),R(i,t.value);else{if(!r)throw new Error("Patchee is not an object we can patch");r[o]=t.value}else if("move"===t.op){var s=B(e,t.from);z(r)?r.splice(+o,0,s.splice(+a,1)[0]):(r[o]=s[a],delete s[a])}else"remove"===t.op&&(z(r)?r.splice(+o,1):delete r[o])}))},_.clone=function(e){return R({},e)},_.createPatch=function(e,t,n){var r={op:e.toLowerCase(),path:n};return"move"===r.op?r.from=t:void 0!==t&&(r.value=t),r},_.updateObject=function(e,t){Object.keys(e).length?_.apply(e,_.generate(e,t)):R(e,t)};var W=_;function G(e,t,n){(function(e){var t=e.model,n=e.properties;return t.modifiers?t.modifiers.apply({model:t,properties:n}):Promise.resolve()})({model:e,properties:n}).then((function(){e.colorSupport&&e.colorSupport.colorByUpdater(n,"qHyperCubeDef.");var r=W.generate(t,n);r&&r.length&&(r=r.map((function(e){return{qOp:e.op,qValue:JSON.stringify(e.value),qPath:e.path}})),e.applyPatches(r,!0))}))}function K(e,t,n,r,o){e.getEffectiveProperties().then((function(i){var a=L()(!0,{},i),l=a.qHyperCubeDef[r][t],u=a.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n];u.qAttributeDimensions=l.qAttributeDimensions,o||(u.qAttributeExpressions=l.qAttributeExpressions,l.qAttributeExpressions=[]),l.qAttributeDimensions=[],a.qHyperCubeDef[r][t]=u,a.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n]=l,G(e,i,a)}))}function $(e){var t=e.dir,n=e.dock,r=e.altList,o=e.model,i=e.translator,a=e.app;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map((function(e){return function(e,t,n){if(!!e.qLibraryId)return t.getDimension(e.qLibraryId).then((function(e){return e.getLayout()})).catch((function(){return null})).then((function(e){return e?"H"===e.qDim.qGrouping||!e.qDim.qLabelExpression?e.qDim.title:e.qDim.qLabelExpression:n.get("Object.ErrorMessage.MissingDimension")}));var r=e.qDef.qLabelExpression;if(!!r)return t.evaluate(r);var o=e.qDef.qFieldLabels[0]||e.qDef.qFieldDefs[0];return Promise.resolve(o)}(e,a,i).then((function(t){return{id:e.qDef.cId,selected:!1,title:t}}))}));return Promise.all(e)},changeTo:function(e,t){K(o,e,t,"qDimensions")}}}function X(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/qHyperCubeDef";return{breadcrumbs:e.qGroupFallbackTitles.slice(0,e.qGroupPos),drilldown:"H"===e.qGrouping,index:t,locked:!!e.qLocked,text:"H"===e.qGrouping?e.qGroupFallbackTitles[e.qGroupPos]:e.qFallbackTitle,popoverText:(r=e,"H"===r.qGrouping?r.title||"":r.qFallbackTitle||""),drillUp:function(e){var r=t;n.drillUp(o,r,e)}}}function Z(e){var t=e.dir,n=e.dock,r=e.altList,o=e.model,i=e.translator,a=e.app,l=e.skipAttributeExpressions;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map((function(e){return function(e,t,n){if(!!e.qLibraryId)return t.getMeasure(e.qLibraryId).then((function(e){return e.getLayout()})).catch((function(){return null})).then((function(e){return e?e.qMeasure.qLabelExpression?e.qMeasure.qLabelExpression:e.qMeasure.qLabel||e.qMeasure.qDef:n.get("Object.ErrorMessage.MissingMeasure")}));var r=e.qDef.qLabelExpression;if(!!r)return t.evaluate(r);var o=e.qDef.qLabel||e.qDef.qDef;return Promise.resolve(o)}(e,a,i).then((function(t){return{id:e.qDef.cId,selected:!1,title:t}}))}));return Promise.all(e)},changeTo:function(e,t){K(o,e,t,"qMeasures",l)}}}function J(e,t){return{breadcrumbs:[],drilldown:!1,index:t,locked:!1,text:e.qFallbackTitle,popoverText:e.qFallbackTitle}}function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var se={bottom:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},top:{anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"}},left:{anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"}},right:{anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"}}},ce=function(e){var t=e.children,n=ue(e,["children"]);return b.a.createElement(O.Button,le({size:"small",disableRipple:!0,disableTouchRipple:!0},n),t)},fe=function(){function e(e){var t=e.title,n=e.selected,r=e.onClick,o=h.detectTextDirection(t);return b.a.createElement(O.ListItem,{button:!0,onClick:r,style:{textAlign:"start"}},b.a.createElement(O.ListItemIcon,{style:{minWidth:32}},b.a.createElement(C,{d:n?q.d:""})),b.a.createElement(O.ListItemText,{primaryTypographyProps:{dir:o}},t))}function t(t){var n=t.alignTo,r=t.changeTo,o=t.current,i=t.dir,a=t.dock,l=t.list,u=t.onClose,s=t.show,c=l.map((function(t,n){return b.a.createElement(e,{key:t.id,title:t.title,onClick:function(){return r(n)}})}));return b.a.createElement(O.Popover,le({anchorEl:n,open:s,onClose:u},se[a],{PaperProps:{style:{minWidth:"250px",maxHeight:"300px"}}}),b.a.createElement(O.List,{dense:!0,dir:i,component:"nav"},b.a.createElement(e,{title:o,selected:!0,onClick:u}),c))}e.propTypes={title:M.a.string.isRequired,selected:M.a.bool,onClick:M.a.func.isRequired},e.defaultProps={selected:!1},t.propTypes={alignTo:M.a.any,changeTo:M.a.func.isRequired,current:M.a.string.isRequired,dir:M.a.string.isRequired,dock:M.a.string.isRequired,list:M.a.array,onClose:M.a.func.isRequired,show:M.a.bool.isRequired},t.defaultProps={list:[],alignTo:null};var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(a,e);var n,r,o,i=re(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={open:!1,inSelection:e.selections&&e.selections.isActive()},t.openPopover=t.openPopover.bind(ie(t)),t.closePopover=t.closePopover.bind(ie(t)),t.changeTo=t.changeTo.bind(ie(t)),t.alignToRef=b.a.createRef(),t}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.selections;t&&(this.onSelectionsActivated=function(){return e.setState({inSelection:!0})},this.onSelectionsDeactivated=function(){return e.setState({inSelection:!1})},t.addListener("activated",this.onSelectionsActivated),t.addListener("deactivated",this.onSelectionsDeactivated),t.addListener("canceled",this.onSelectionsDeactivated))}},{key:"componentWillUnmount",value:function(){var e=this.props.selections;e&&(e.removeListener("activated",this.onSelectionsActivated),e.removeListener("deactivated",this.onSelectionsDeactivated),e.removeListener("canceled",this.onSelectionsDeactivated))}},{key:"changeTo",value:function(e){this.props.popover.changeTo(this.props.titleData.index,e),this.closePopover()}},{key:"openPopover",value:function(){var e=this;this.state.closeTime&&Date.now()-this.state.closeTime<20||this.props.popover.getAlternatives().then((function(t){e.setState({open:!0,alternatives:t})}))}},{key:"closePopover",value:function(){this.setState({open:!1,closeTime:Date.now()})}},{key:"render",value:function(){var e=this.props,n=e.titleData,r=e.popover,o=e.translator,i=e.disabled,a=e.isDimension,l=e.padding,u=e.minWidth,s=e.hasAlternative,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"normal"},this.props.style),f=n.breadcrumbs.length,d=i||this.state.inSelection,p=n.breadcrumbs.map((function(e,t){return b.a.createElement(ce,{style:{display:"flex",alignItems:"center",color:d&&"rgba(89, 89, 89, 0.8)",pointerEvents:d?"none":"auto"},key:t,onClick:function(){return d?void 0:n.drillUp(f-t)},title:e},b.a.createElement("span",{style:c},e),b.a.createElement(C,le({},T,{size:"small",style:{margin:"0 8px"}})))})),m=r&&!this.state.open?this.openPopover:this.closePopover,g=!r||i||this.state.inSelection,y={display:"flex",alignItems:"center",width:"100%",color:g&&"rgba(89, 89, 89, 0.8)",height:!a&&g&&"20px",lineHeight:!a&&g&&"20px",border:!a&&g&&"none"};l&&(y.padding=l),u&&(y.minWidth=u);var v=h.detectTextDirection(n.text),x=b.a.createElement(ce,{style:y,onClick:g?void 0:m,title:n.text,tabIndex:"-1"},n.locked&&b.a.createElement(C,le({},A,{size:"small",title:o.get("Tooltip.selections.locked")})),b.a.createElement("span",{style:c,dir:v},n.text),r&&b.a.createElement(C,le({},D,{size:"small",style:{margin:"0 8px"}})));return b.a.createElement(b.a.Fragment,null,n.drilldown&&b.a.createElement(C,le({},E,{size:"small",title:o.get("Tooltip.dimensions.drilldown"),style:{margin:"0 4px 0 0"}})),p,b.a.createElement("div",{ref:this.alignToRef,style:{overflow:"hidden",pointerEvents:s?"auto":"none"}},x),r&&b.a.createElement(t,{dock:r.dock,dir:r.dir,current:n.popoverText,alignTo:this.alignToRef.current,show:this.state.open,list:this.state.alternatives,onClose:this.closePopover,changeTo:this.changeTo}))}}])&&te(n.prototype,r),o&&te(n,o),a}(b.a.Component);function r(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]}function o(e){return!e.isDimension&&y.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.length")>0}return n.propTypes={disabled:M.a.bool.isRequired,padding:M.a.string,minWidth:M.a.string,titleData:M.a.shape({breadcrumbs:M.a.arrayOf(M.a.string).isRequired,drilldown:M.a.bool.isRequired,index:M.a.number.isRequired,locked:M.a.bool.isRequired,text:M.a.string.isRequired,popoverText:M.a.string.isRequired,drillUp:M.a.func}).isRequired,popover:M.a.shape({dir:M.a.string.isRequired,dock:M.a.string.isRequired,changeTo:M.a.func.isRequired,getAlternatives:M.a.func.isRequired}),translator:M.a.shape({get:M.a.func.isRequired}).isRequired,selections:M.a.shape({isActive:M.a.func,addListener:M.a.func,removeListener:M.a.func}),style:M.a.shape({fontSize:M.a.string,color:M.a.string,fontFamily:M.a.string}).isRequired,isDimension:M.a.bool.isRequired,hasAlternative:M.a.bool.isRequired},n.defaultProps={popover:null,selections:null,padding:"",minWidth:""},{renderer:"react",disableTriggers:!0,preferredSize:function(){return this.settings.settings.isDimension||o(this.settings.settings)?28:20},render:function(){var e,t=this,i=this.settings,a=i.settings,l=a.hyperCube,u=a.hyperCubeDef,s=a.disabled,c=a.isDimension,f=a.model,d=a.translator,p=a.rtl,m=a.selections,h=a.app,g=a.padding,v=a.minWidth,x=a.skipAttributeExpressions,M=a.explicitItemInfos,O=i.layout.dock,w="top"!==O&&"bottom"!==O||!p?"ltr":"rtl",S=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center"};return"left"===e?(n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left"):"right"===e&&(n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left"),n}(O,this.rect),k=u&&u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef,C=k&&k[c?"qDimensions":"qMeasures"]||[],E=M||l[c?"qDimensionInfo":"qMeasureInfo"],A=c?$:Z,q=c?X:J,D=f&&f.colorSupport&&f.modifiers&&A({dir:p?"rtl":"ltr",dock:r(O),altList:C,model:f,translator:d,app:h,skipAttributeExpressions:x}),T=(e=this.settings.settings).isDimension&&y.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions.length")>0||o(this.settings.settings),N=E.map((function(e,r){var o=q(e,r,f),i=r===E.length-1;return b.a.createElement(b.a.Fragment,{key:e.cId},b.a.createElement(n,{popover:D,titleData:o,model:f,translator:d,selections:m,disabled:s(),style:t.style,isDimension:c,padding:g,minWidth:v,hasAlternative:T}),!i&&b.a.createElement("span",null,", "))}));return b.a.createElement("div",{style:S,dir:w},N)}}};function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(i,e);var t,n,r,o=he(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.spanStyle;return b.a.createElement(b.a.Fragment,null,b.a.createElement("span",{ref:this.alignToRef,style:n,title:t},t))}}])&&pe(t.prototype,n),r&&pe(t,r),i}(b.a.Component);return e.propTypes={label:M.a.string.isRequired,spanStyle:M.a.shape().isRequired},{renderer:"react",disableTriggers:!0,preferredSize:function(){return 22},render:function(){var t=this.settings,n=t.settings,r=n.label,o=n.rtl,i=t.layout.dock,a="top"!==i&&"bottom"!==i||!o?"ltr":"rtl",l=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center",color:"#7b7a78",fontStyle:"italic",fontSize:"13px"};switch(e){case"left":n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left";break;case"right":n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left";break;case"center":n.width="".concat(t.width,"px"),n.height="".concat(t.height,"px"),n.color="#595959",n.fontStyle="normal",n.fontSize="1.2em",n.textAlign="center";break;default:case"top":case"bottom":n.justifyContent="flex-start",n.alignItems="flex-start"}return n}(i,this.rect),u="center"===i?r:"* ".concat(r),s="center"!==i?{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}:{};return b.a.createElement("div",{style:l,dir:a},b.a.createElement(b.a.Fragment,null,b.a.createElement(e,{label:u,spanStyle:s})))}}}var be=n(9),xe=n.n(be);function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e){return(ke="function"==typeof Symbol&&"symbol"===Se(Symbol.iterator)?function(e){return Se(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Se(e)})(e)}function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"===ke(Symbol.iterator)?function(e){return ke(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ke(e)})(e)}function Ee(e){return e&&"object"===Ce(e)&&!Array.isArray(e)}function Ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?we({},e):e;return Ee(e)&&Ee(t)&&Object.keys(t).forEach((function(o){"__proto__"!==o&&(Ee(t[o])&&o in e?r[o]=Ae(e[o],t[o],n):r[o]=t[o])})),r}var qe=["xs","sm","md","lg","xl"];function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t,n){var r;return Me({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me({paddingLeft:t(2),paddingRight:t(2)},n,De({},e.up("sm"),Me({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},De(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),De(r,e.up("sm"),{minHeight:64}),r)},n)}var Ne={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Le={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Ie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},je={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Pe={black:"#000",white:"#fff"};function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function _e(e){if(e.type)return e;if("#"===e.charAt(0))return _e(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb(".concat(n.map((function(e){return parseInt(e,16)})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function ze(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Fe(e){var t="hsl"===(e=_e(e)).type?_e(function(e){var t=(e=_e(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),ze({type:l,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Ue(e,t){if(e=_e(e),t=Re(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ze(e)}function He(e,t){if(e=_e(e),t=Re(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return ze(e)}var Be={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pe.white,default:Ie[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},Ve={text:{primary:Pe.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Ie[800],default:"#303030"},action:{active:Pe.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function We(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=He(e.main,r):"dark"===t&&(e.dark=Ue(e.main,1.5*r)))}function Ge(e){var t=e.primary,n=void 0===t?{light:Ne[300],main:Ne[500],dark:Ne[700]}:t,r=e.secondary,o=void 0===r?{light:Le.A200,main:Le.A400,dark:Le.A700}:r,i=e.error,a=void 0===i?{light:je[300],main:je[500],dark:je[700]}:i,l=e.type,u=void 0===l?"light":l,s=e.contrastThreshold,c=void 0===s?3:s,f=e.tonalOffset,d=void 0===f?.2:f,p=Oe(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function m(e){return function(e,t){var n=Fe(e),r=Fe(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Ve.text.primary)>=c?Ve.text.primary:Be.text.primary}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=Me({},e)).main&&e[t]&&(e.main=e[t]),We(e,"light",n,d),We(e,"dark",r,d),e.contrastText||(e.contrastText=m(e.main)),e}var g={dark:Ve,light:Be};return Ae(Me({common:Pe,type:u,primary:h(n),secondary:h(o,"A400","A200","A700"),error:h(a),grey:Ie,contrastThreshold:c,getContrastText:m,augmentColor:h,tonalOffset:d},g[u]),p,{clone:!1})}function Ke(e){return Math.round(1e5*e)/1e5}var $e={textTransform:"uppercase"},Xe='"Roboto", "Helvetica", "Arial", sans-serif';function Ze(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,o=void 0===r?Xe:r,i=n.fontSize,a=void 0===i?14:i,l=n.fontWeightLight,u=void 0===l?300:l,s=n.fontWeightRegular,c=void 0===s?400:s,f=n.fontWeightMedium,d=void 0===f?500:f,p=n.fontWeightBold,m=void 0===p?700:p,h=n.htmlFontSize,g=void 0===h?16:h,y=n.allVariants,v=n.pxToRem,b=Oe(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=a/14,M=v||function(e){return"".concat(e/g*x,"rem")},O=function(e,t,n,r,i){return Me({fontFamily:o,fontWeight:e,fontSize:M(t),lineHeight:n},o===Xe?{letterSpacing:"".concat(Ke(r/t),"em")}:{},{},i,{},y)},w={h1:O(u,96,1,-1.5),h2:O(u,60,1,-.5),h3:O(c,48,1.04,0),h4:O(c,34,1.17,.25),h5:O(c,24,1.33,0),h6:O(d,20,1.6,.15),subtitle1:O(c,16,1.75,.15),subtitle2:O(d,14,1.57,.1),body1:O(c,16,1.5,.15),body2:O(c,14,1.43,.15),button:O(d,14,1.75,.4,$e),caption:O(c,12,1.66,.4),overline:O(c,12,2.66,1,$e)};return Ae(Me({htmlFontSize:g,pxToRem:M,round:Ke,fontFamily:o,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:m},w),b,{clone:!1})}var Je=.2,Ye=.14,Qe=.12;function et(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(Je,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(Ye,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(Qe,")")].join(",")}var tt=["none",et(0,2,1,-1,0,1,1,0,0,1,3,0),et(0,3,1,-2,0,2,2,0,0,1,5,0),et(0,3,3,-2,0,3,4,0,0,1,8,0),et(0,2,4,-1,0,4,5,0,0,1,10,0),et(0,3,5,-1,0,5,8,0,0,1,14,0),et(0,3,5,-1,0,6,10,0,0,1,18,0),et(0,4,5,-2,0,7,10,1,0,2,16,1),et(0,5,5,-3,0,8,10,1,0,3,14,2),et(0,5,6,-3,0,9,12,1,0,3,16,2),et(0,6,6,-3,0,10,14,1,0,4,18,3),et(0,6,7,-4,0,11,15,1,0,4,20,3),et(0,7,8,-4,0,12,17,2,0,5,22,4),et(0,7,8,-4,0,13,19,2,0,5,24,4),et(0,7,9,-4,0,14,21,2,0,5,26,4),et(0,8,9,-5,0,15,22,2,0,6,28,5),et(0,8,10,-5,0,16,24,2,0,6,30,5),et(0,8,11,-5,0,17,26,2,0,6,32,5),et(0,9,11,-5,0,18,28,2,0,7,34,6),et(0,9,12,-6,0,19,29,2,0,7,36,6),et(0,10,13,-6,0,20,31,3,0,8,38,7),et(0,10,13,-6,0,21,33,3,0,8,40,7),et(0,10,14,-6,0,22,35,3,0,8,42,7),et(0,11,14,-7,0,23,36,3,0,9,44,8),et(0,11,15,-7,0,24,38,3,0,9,46,8)],nt={borderRadius:4};var rt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ot={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},it=function(e){return"".concat(Math.round(e),"ms")},at={easing:rt,duration:ot,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?ot.standard:n,o=t.easing,i=void 0===o?rt.easeInOut:o,a=t.delay,l=void 0===a?0:a;Oe(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:it(r)," ").concat(i," ").concat("string"==typeof l?l:it(l))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},lt={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,i=e.palette,a=void 0===i?{}:i,l=e.shadows,u=e.spacing,s=e.typography,c=void 0===s?{}:s,f=Oe(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),d=Ge(a),p=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,i=e.step,a=void 0===i?5:i,l=Oe(e,["values","unit","step"]);function u(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function s(e,t){var r=qe.indexOf(t)+1;return r===qe.length?u(e):"@media (min-width:".concat(n[e]).concat(o,") and ")+"(max-width:".concat(n[qe[r]]-a/100).concat(o,")")}return Me({keys:qe,values:n,up:u,down:function(e){var t=qe.indexOf(e)+1,r=n[qe[t]];return t===qe.length?u("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-a/100).concat(o,")")},between:s,only:function(e){return s(e,e)},width:function(e){return n[e]}},l)}(n),m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;e="function"==typeof t?t:function(e){return t*e};var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){var n=e(t);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(u);return Me({breakpoints:p,direction:"ltr",mixins:Te(p,m,o),overrides:{},palette:d,props:{},shadows:l||tt,typography:Ze(d,c),spacing:m},Ae({shape:nt,transitions:at,zIndex:lt},f))},st=n(10),ct=ut({palette:{text:{primary:"rgba(89, 89, 89, 0.8)",secondary:"rgba(0, 0, 0, 0.55)",disabled:"rgba(0, 0, 0, 0.3)"},action:{disabled:"rgba(0, 0, 0, 0.3)"}},typography:{fontFamily:'"QlikView Sans", "Arial", sans-serif',button:{textTransform:"initial",fontWeight:400}},shape:{borderRadius:2},shadows:["none","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)"],props:{MuiButtonBase:{disableRipple:!0}}});function ft(e,t){return b.a.createElement(st.StylesProvider,{generateClassName:t},b.a.createElement(st.ThemeProvider,{theme:ct},e))}var dt=Object(st.createGenerateClassName)({productionPrefix:"q".concat("aedd"),disableGlobal:!0,seed:""});function pt(){return function(e){e.renderer("react",function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y,r=e.width,o=e.height,i=e.scaleRatio,a=e.margin,l={x:0,y:0,width:0,height:0,scaleRatio:{x:1,y:1},margin:{left:0,top:0}};return l.x=Number.isNaN(t)?l.x:t,l.y=Number.isNaN(n)?l.y:n,l.width=Number.isNaN(r)?l.width:r,l.height=Number.isNaN(o)?l.height:o,void 0!==i&&(l.scaleRatio.x=Number.isNaN(i.x)?l.scaleRatio.x:i.x,l.scaleRatio.y=Number.isNaN(i.y)?l.scaleRatio.y:i.y),void 0!==a&&(l.margin.left=Number.isNaN(a.left)?0:a.left,l.margin.top=Number.isNaN(a.top)?0:a.top),l}return function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.createElement,o=void 0===r?document.createElement.bind(document):r,i=e(),a={element:function(){return t},root:function(){return t},appendTo:function(e){return t||((t=o("div")).style.position="absolute",t.style["-webkit-font-smoothing"]="antialiased",t.style["-moz-osx-font-smoothing"]="antialiased",t.style.pointerEvents="none"),e.appendChild(t),t},render:function(e){if(!t)return!1;var n=i.scaleRatio.x,r=i.scaleRatio.y;return t.style.left="".concat(Math.round(i.margin.left+i.x*n),"px"),t.style.top="".concat(Math.round(i.margin.top+i.y*r),"px"),t.style.width="".concat(Math.round(i.width),"px"),t.style.height="".concat(Math.round(i.height),"px"),t.style.transform="scale(".concat(n,", ").concat(r,")"),t.style.transformOrigin="top left",xe.a.render(ft(e,dt),t),!0},itemsAt:function(){return[]},findShapes:function(){return[]},clear:function(){return t&&xe.a.unmountComponentAtNode(t),a},destroy:function(){t&&t.parentElement&&(xe.a.unmountComponentAtNode(t),t.parentElement.removeChild(t)),t=null},size:function(t){return t&&(i=e(t)),i}};return a}}()),e.component("data-title",fe()),e.component("disclaimer",ve())}}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt={vertical:{major:"width",minor:"height",start:"left",end:"right",shadow:{startOffset:"12px 0",endOffset:"-12px 0"}},horizontal:{major:"height",minor:"width",start:"top",end:"bottom",shadow:{startOffset:"0 12px",endOffset:"0 -12px"}}},xt=function(e){return"".concat(e," 12px -12px inset rgba(0, 0, 0, ").concat(.0625,")")},Mt={defaultSettings:{settings:{orientation:"vertical",rtl:!1,range:function(){return[0,1]}}},renderer:"dom",render:function(e){var t=this.settings.settings,n=t.range,r=t.orientation,o=t.rtl,i=gt(n(),2),a=i[0],l=i[1],u=Math.abs(a)<1e-15,s=Math.abs(l-1)<1e-15,c=function(e){var t,n,r,o=bt[e];return{base:(t={position:"absolute"},vt(t,o.major,12),vt(t,o.minor,"100%"),t),towardsStart:(n={},vt(n,o.start,0),vt(n,o.end,"auto"),vt(n,"boxShadow",xt(o.shadow.startOffset)),n),towardsEnd:(r={},vt(r,o.start,"auto"),vt(r,o.end,0),vt(r,"boxShadow",xt(o.shadow.endOffset)),r)}}(r),f="vertical"===r&&o,d=[];return u||d.push(e("div",{style:ht(ht({},c.base),f?c.towardsEnd:c.towardsStart),class:"scroll-hint--towards-start"})),s||d.push(e("div",{style:ht(ht({},c.base),f?c.towardsStart:c.towardsEnd),class:"scroll-hint--towards-end"})),d}},Ot="data-scrollbar-handle";function wt(e){var t=e.e;return(t.srcEvent||t).srcElement.getAttribute(Ot)||""}function St(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qt={background:"rgba(0, 0, 0, 0.1)"},Dt={top:-1,bottom:-1,width:6},Tt={width:2,background:"#595959"},Nt={before:qt,after:qt,thumb:{background:"transparent",border:"1px solid rgba(68, 68, 68, 0.4)"},startHandle:Dt,endHandle:Dt,startHandleBorder:Tt,endHandleBorder:Tt},Lt={background:"rgba(0, 0, 0, 0.1)"},It={top:-1,bottom:-1,width:6},jt={width:2,background:"#595959"},Pt={before:Lt,after:Lt,thumb:{background:"#B0AFAE",border:"transparent"},startHandle:It,endHandle:It,startHandleBorder:jt,endHandleBorder:jt};function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft={position:"absolute",top:0,right:0,bottom:0,left:0,boxSizing:"border-box"},Ut={pointerEvents:"initial"},Ht={pointerEvents:"none"};var Bt={RESIZE:"ew-resize",DEFAULT:"default"};function Vt(){var e=this.rect,t=this.settings.settings,n="vertical"===t.orientation,r=n?e.computedInner.width:e.computedInner.height,o=t.range(),i=n&&t.rtl;return{size:r,start:(i?1-o[1]:o[0])*r,end:(i?1-o[0]:o[1])*r}}function Wt(){var e=this.state.hover.start||this.state.hover.end||this.state.drag.start||this.state.drag.end;this.renderer.element().ownerDocument.body.style.cursor=e?Bt.RESIZE:Bt.DEFAULT}function Gt(e,t,n){var r=this.settings.settings.size.thumb.min;if(n-t<r){var o=(r-(n-t))/2,i=Math.max(0,0-(t-o))-Math.max(0,n+o-e);return{size:e,start:t-o+i,end:n+o+i}}return{size:e,start:t,end:n}}function Kt(e){var t=(e.srcEvent||e).srcElement;return this.renderer.element().contains(t)}function $t(){var e=Vt.call(this),t=e.size,n=e.start,r=e.end;this.renderer.render(this.elements(this.h,Gt.call(this,t,n,r)))}function Xt(){var e=this.state,t=this.settings,n=this.style,r=t.settings.style;return e.style[r]||(e.style[r]=function(e){var t=e.id,n=e.style,r="slim"===t?Pt:Nt;return{container:_t({},Ft),before:_t(_t(_t({},Ft),r.before),n.before),after:_t(_t(_t({},Ft),r.after),n.after),thumb:_t(_t(_t({},Ft),r.thumb),n.thumb),startHandle:_t(_t(_t({},Ft),Ut),r.startHandle),endHandle:_t(_t(_t({},Ft),Ut),r.endHandle),startHandleBorder:_t(_t(_t({},Ft),Ht),r.startHandleBorder),endHandleBorder:_t(_t(_t({},Ft),Ht),r.endHandleBorder)}}({id:t.settings.style,style:n[r]})),e.style[r]}var Zt={require:["renderer"],defaultSettings:{settings:{style:"standard",size:{area:{min:30,max:40,ratio:1/8},thumb:{min:4}},orientation:"vertical",rtl:!1,isContinuous:!1,range:function(){return[0,1]},injections:function(){return[]}},style:{standard:{before:{},thumb:{},after:{}},slim:{before:{},thumb:{},after:{}}}},renderer:"dom",state:{style:{},locked:!1,hover:{start:!1,end:!1,reset:function(){this.start=!1,this.end=!1},isPristine:function(){return!this.start&&!this.end}},drag:{start:!1,end:!1,reset:function(){this.start=!1,this.end=!1}}},on:{render:function(){$t.call(this)},lockState:function(){this.state.locked=!0},unlockState:function(){this.state.locked=!1},hover:function(e){if(!(this.state.locked||this.state.drag.start||this.state.drag.end||!Kt.call(this,e)&&this.state.hover.isPristine())){this.state.hover.reset();var t=wt({e:e});t&&(this.state.hover[t]=!0),Wt.call(this),$t.call(this)}},leave:function(){this.state.locked||(this.state.hover.reset(),Wt.call(this),$t.call(this))},dragStart:function(e){if(!this.state.locked){this.state.drag.reset();var t=wt({e:e});t&&(this.state.drag[t]=!0),Wt.call(this)}},dragEnd:function(){this.state.locked||(this.state.drag.reset(),Wt.call(this),$t.call(this))}},preferredSize:function(e){var t=e.outer,n=this.settings.settings.size.area,r=n.min,o=n.max,i=n.ratio,a="vertical"===this.settings.settings.orientation?"height":"width";return Math.max(r,Math.min(o,t[a]*i))},render:function(e){this.h=e;var t=Vt.call(this),n=t.size,r=t.start,o=t.end;return this.elements(e,Gt.call(this,n,r,o))},properties:function(){return"vertical"===this.settings.settings.orientation?{start:"left",end:"right"}:{start:"top",end:"bottom"}},elements:function(e,t){var n=this,r=t.size,o=t.start,i=t.end,a=this.settings.settings,l=a.injections().map((function(t){return t({h:e,rect:n.rect,orientation:a.orientation,minThumbSize:a.size.thumb.min})}));return function(e){var t,n=e.h,r=e.size,o=e.start,i=e.end,a=e.properties,l=e.startHandleActive,u=e.endHandleActive,s=e.style,c=e.continuous,f=e.invert,d=e.injections,p={before:At({},a.end,r-o),after:At({},a.start,i),startHandle:{left:-3},startHandleBorder:{left:1},endHandle:{right:-3,left:"auto"},endHandleBorder:{left:3}},m=n("div",{style:Et(Et({},s.before),f?p.after:p.before),class:"scrollbar--before"}),h=n("div",{style:Et(Et({},s.after),f?p.before:p.after),class:"scrollbar--after"}),g=[];if(c){var y=n("div",At({style:Et(Et({},s.startHandle),f?p.endHandle:p.startHandle),class:"scrollbar--start-handle"},Ot,"start"),l?n("div",{style:Et(Et({},s.startHandleBorder),f?p.endHandleBorder:p.startHandleBorder)}):void 0);g.push(y);var v=n("div",At({style:Et(Et({},s.endHandle),f?p.startHandle:p.endHandle),class:"scrollbar--end-handle"},Ot,"end"),u?n("div",{style:Et(Et({},s.endHandleBorder),f?p.startHandleBorder:p.endHandleBorder)}):void 0);g.push(v)}var b=n("div",{style:Et(Et({},s.thumb),{},(t={},At(t,a.start,o),At(t,a.end,r-i),t)),class:"scrollbar--thumb"},g);return n("div",{style:Et({},s.container)},[m,b,h].concat(St(d)))}({h:e,size:r,start:o,end:i,properties:this.properties(),startHandleActive:this.state.hover.start||this.state.drag.start,endHandleActive:this.state.hover.end||this.state.drag.end,style:Xt.call(this),continuous:a.isContinuous,invert:"vertical"===a.orientation&&a.rtl,injections:l})}};function Jt(e){var t,n=e.i,r=e.width,o=e.height,i=e.resolved,a=e.keys,l=e.flipXY,u=e.calcKey,s=void 0===u?"box":u,c=null,f=null;void 0!==i.major.settings.binStart?(c=i.major.items[n].binStart,f=i.major.items[n].binEnd,t=i.major.settings.binStart.scale):c=(t=i.major.settings.major.scale)?i.major.items[n].major:0;var d=0;t?t.bandwidth?c-=(d=t.bandwidth())/2:d=f-c:d=1;var p=L()({},{major:c,majorEnd:f},i.minor.items[n]);a.forEach((function(e){p[e]=i[e].items[n]}));var m=l?o:r,h=function(e){var t=e.bandwidth,n=e.width,r=e.minWidthPx,o=e.maxWidthPx,i=e.maxMajorWidth,a=t>=0?1:-1,l=Math.min(a*t*n,Number.isNaN(Number(o))?i:o/i);return(l=Number.isNaN(Number(r))?l:Math.max(r/i,l))*a}({bandwidth:d,width:p[s].width,minWidthPx:p[s].minWidthPx,maxWidthPx:p[s].maxWidthPx,maxMajorWidth:m}),g=(d-h)/2,y=g+p.major+h/2;return{item:p,boxCenter:y,boxWidth:h,boxPadding:g,rendWidth:r,rendHeight:o}}function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e){var t,n=e.keys,r=e.data,o=e.defaultSettings,i=e.style,a=e.settings,l=e.width,u=e.height,s=e.resolver,c=L()(!0,{},o||{},i||{}),f={major:"horizontal"===a.orientation?u:l,minor:"horizontal"===a.orientation?l:u},d=a.major;t="object"===Yt(d)&&"object"===Yt(d.ref)&&void 0!==d.ref.start&&void 0!==d.ref.end?s.resolve({data:r,defaults:{start:0,end:1},scaled:f,settings:L()(!0,{},{binStart:{scale:a.major.scale,ref:a.major.ref.start},binEnd:{scale:a.major.scale,ref:a.major.ref.end}})}):"object"===Yt(d)&&void 0!==d.binStart&&void 0!==d.binEnd?s.resolve({data:r,defaults:{start:0,end:1},scaled:f,settings:L()(!0,{},{binStart:{scale:a.major.scale,ref:"binStart"},binEnd:{scale:a.major.scale,ref:"binEnd"}},a.major)}):s.resolve({data:r,scaled:f,defaults:{major:.5},settings:{major:a.major}});for(var p,m=a.minor||{},h={major:t,minor:s.resolve({data:r,defaults:{start:0,end:1},scaled:f,settings:L()(!0,{},{start:{scale:m.scale,ref:"start"},end:{scale:m.scale,ref:"end"},min:{scale:m.scale,ref:"min"},max:{scale:m.scale,ref:"max"},med:{scale:m.scale,ref:"med"}},m)})},g=0,y=n.length;g<y;g++)h[p=n[g]]=s.resolve({data:r,defaults:c[p],settings:a[p],scaled:f});return h}function en(e){return function(e){if(Array.isArray(e))return tn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn={size:25,hat:{show:!0,fill:"#999",stroke:"#000",strokeWidth:0,strokeLinejoin:"miter",width:1,maxWidthPx:void 0,minWidthPx:1,minHeightPx:1,alignment:0}},on=["hat"];function an(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",r=0;r<e.length;r++){var o=e[r];n+=0===r?"M".concat(o.x," ").concat(o.y):"L".concat(o.x," ").concat(o.y),n+=" "}return t&&(n+="Z"),n}function ln(e){var t,n,r,o,i,a,l,u,s,c,f=e.item,d=e.boxWidth,p=e.boxPadding,m=e.rendWidth,h=e.rendHeight,g=e.flipXY,y="x",v="y",b=m,x=h,M=f.hat.alignment||0;g&&(y="y",v="x",b=h,x=m,M=1-M);var O=(p+f.major)*b,w=[(t={},nn(t,y,O),nn(t,v,0+x),t),(n={},nn(n,y,O+d*M*b),nn(n,v,8),n),(r={},nn(r,y,O+d*b),nn(r,v,0+x),r),(o={},nn(o,y,O+d*b),nn(o,v,0+x+10),o),(i={},nn(i,y,O),nn(i,v,0+x+10),i)],S=L()({},f.hat,{type:"path",d:an(w)});return w=[(a={},nn(a,y,O),nn(a,v,0),a),(l={},nn(l,y,O+d*(1-M)*b),nn(l,v,0+x-8),l),(u={},nn(u,y,O+d*b),nn(u,v,0),u),(s={},nn(s,y,O+d*b),nn(s,v,-10),s),(c={},nn(c,y,O),nn(c,v,-10),c)],[S,L()({},f.hat,{type:"path",d:an(w)})]}var un={require:["chart","resolver","symbol"],defaultSettings:{settings:{size:25},data:{},style:{hat:"$shape"}},created:function(){this.state={}},preferredSize:function(){return this.settings.settings.size},render:function(){var e=this.rect,t=e.width,n=e.height,r="horizontal"===this.settings.settings.orientation,o=this.data,i=this.style,a=this.resolver,l=Qt({keys:on,data:o,defaultSettings:rn,style:i,settings:this.settings.settings,width:t,height:n,resolver:a}),u=l.settings;return function(e){for(var t=e.width,n=e.height,r=e.flipXY,o=e.resolved,i=e.keys,a=e._calcItemRenderingOpts,l=void 0===a?Jt:a,u=[],s=o.major.items,c=0,f=s.length;c<f;c++){var d=l({i:c,width:t,height:n,resolved:o,keys:i,flipXY:r,calcKey:"hat"}),p=d.item,m=d.boxWidth,h=d.boxPadding,g=d.rendWidth,y=d.rendHeight,v=s[c].data,b=[];p.hat.show&&b.push.apply(b,en(ln({item:p,boxWidth:m,boxPadding:h,rendWidth:g,rendHeight:y,flipXY:r})));var x={type:"container",data:v,collider:{type:"bounds"},children:b};u.push(x)}return u}({items:l.items,settings:u,width:t,height:n,flipXY:r,resolved:l,keys:on})}};function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cn={getDefaultSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,n=void 0===t?10:t,r=e.fill,o=void 0===r?"#999":r,i=e.alignment;return{show:!0,type:"n-polygon",fill:o,stroke:"#000",strokeWidth:0,size:n,sides:3,startAngle:-90,alignment:i}},createOob:function(e){var t,n=e.oob,r=e.dockValue,o=e.boxCenter,i=e.rendWidth,a=e.rendHeight,l="x",u="y",s=i,c=a,f=r<.5?90:-90;return e.flipXY&&(l="y",u="x",s=a,c=i,f=r<.5?180:0),(0,e.symbol)(L()({},n,(sn(t={},l,o*s),sn(t,u,Math.max(n.size/2,Math.min(r*c,c-n.size/2))),sn(t,"startAngle",f),t)))}},fn=["oob"];var dn={require:["chart","resolver","symbol"],defaultSettings:{settings:{size:10},data:{},style:{}},created:function(){this.state={}},preferredSize:function(){return this.settings.settings.size},render:function(){var e=this.rect,t=e.width,n=e.height,r=this.settings.settings.dockValue,o="horizontal"===this.settings.settings.orientation,i=this.data,a=this.style,l=this.resolver,u=this.symbol,s=Qt({keys:fn,data:i,defaultSettings:{oob:cn.getDefaultSettings()},style:a,settings:this.settings.settings,width:t,height:n,resolver:l}),c=s.settings;return function(e){for(var t=e.width,n=e.height,r=e.flipXY,o=e.resolved,i=e.keys,a=e.symbol,l=e.dockValue,u=e._calcItemRenderingOpts,s=void 0===u?Jt:u,c=[],f=o.major.items,d=0,p=f.length;d<p;d++){var m=s({i:d,width:t,height:n,resolved:o,keys:i,flipXY:r,calcKey:"oob"}),h=m.item,g=m.boxCenter,y=m.rendWidth,v=m.rendHeight,b=f[d].data,x=[];if(h.oob.show){x.push(cn.createOob({oob:h.oob,dockValue:l,boxCenter:g,rendWidth:y,rendHeight:v,flipXY:r,symbol:a}));var M={type:"container",data:b,collider:{type:"bounds"},children:x};c.push(M)}}return c}({items:s.items,settings:c,width:t,height:n,flipXY:o,resolved:s,keys:fn,symbol:u,dockValue:r})}};function pn(e,t,n){var r=t.box,o=r.width,i=r.maxWidthPx,a=r.minWidthPx,l=e>=0?1:-1,u=Math.min(l*e*o,Number.isNaN(+i)?n:i/n);return(u=Number.isNaN(+a)?u:Math.max(a/n,u))*l}var mn=function(e){function t(t){if(e[t.type]&&e[t.type].condition(t)){var n=e[t.type],r=void 0===n.conditionAppend||n.conditionAppend(t);n.items.forEach((function(e){var n=Math.round(t[e.key]),o=t[e.key]-n;t[e.key]=n,r&&"append"===e.type&&(o>0?t[e.key]+=.5:t[e.key]-=.5)}))}}return void 0===e&&((e={}).line={append:["x1","x2","y1","y2"],round:[],condition:function(e){return e.x1===e.x2||e.y1===e.y2},conditionAppend:function(e){return e.strokeWidth%2!=0}},e.rect={append:["x","y"],round:["width","height"],condition:function(){return!0},conditionAppend:function(e){return e.strokeWidth%2!=0}}),Object.keys(e).forEach((function(t){var n=e[t];n.items=[],n.append.forEach((function(e){n.items.push({key:e,type:"append"})})),n.round.forEach((function(e){n.items.push({key:e,type:"round"})}))})),t.multiple=function(e){return e.forEach((function(e){return t(e)}))},t}();function hn(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e){var t={type:"line",x1:0,x2:0,y1:0,y2:0,collider:{type:null}};return"top"===e.align||"bottom"===e.align?(t.x1=e.innerRect.x-e.outerRect.x,t.x2=e.innerRect.width+e.innerRect.x,t.y1=t.y2="top"===e.align?e.innerRect.height-e.padding:e.padding):(t.x1=t.x2="left"===e.align?e.innerRect.width-e.padding:e.padding,t.y1=e.innerRect.y-e.outerRect.y,t.y2=e.innerRect.height+e.innerRect.y),function(e,t){L()(e,t.style);var n=e.strokeWidth/2;"top"===t.align?(e.y1-=n,e.y2-=n):"bottom"===t.align?(e.y1+=n,e.y2+=n):"left"===t.align?(e.x1-=n,e.x2-=n):"right"===t.align&&(e.x1+=n,e.x2+=n)}(t,e),t}function bn(e,t,n){var r=n.angle*(Math.PI/180),o=Math.max(n.stepSize/2,t.boundingRect.height/2),i="start"===t.anchor,a="end"===t.anchor&&r<0,l="start"===t.anchor&&r>=0,u=t.boundingRect.y+(l||a?t.boundingRect.height:0),s=[{x:t.x-o,y:u},{x:t.x+o,y:u}].map((function(e){return function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},i=Math.cos(t),a=Math.sin(t),l=(r=o,{x:(n=e).x-r.x,y:n.y-r.y});return function(e,t){return{x:e.x+t.x,y:e.y+t.y}}({x:i*l.x-a*l.y,y:a*l.x+i*l.y},o)}(e,r,{x:t.x,y:t.y})})),c={x:i?t.boundingRect.x+t.boundingRect.width+10:t.boundingRect.x-10,y:t.boundingRect.y+t.boundingRect.height},f={x:i?t.boundingRect.x+t.boundingRect.width+10:t.boundingRect.x-10,y:t.boundingRect.y},d=r>=0?[c,f]:[f,c];s.push.apply(s,d),t.collider={type:"polygon",vertices:s}}function xn(e,t,n){n.layered||!n.stepSize?function(e,t){t.collider={type:"polygon",vertices:[{x:t.boundingRect.x,y:t.boundingRect.y},{x:t.boundingRect.x+t.boundingRect.width,y:t.boundingRect.y},{x:t.boundingRect.x+t.boundingRect.width,y:t.boundingRect.y+t.boundingRect.height},{x:t.boundingRect.x,y:t.boundingRect.y+t.boundingRect.height}]}}(0,t):n.tilted?bn(0,t,n):function(e,t,n){if("bottom"===n.align||"top"===n.align){var r=e.position*n.innerRect.width+(n.innerRect.x-n.outerRect.x-n.stepSize/2);t.collider={type:"rect",x:r,y:0,width:r<0?n.stepSize+r:n.stepSize,height:n.innerRect.height}}else{var o=e.position*n.innerRect.height+(n.innerRect.y-n.outerRect.y-n.stepSize/2);t.collider={type:"rect",x:0,y:o,width:n.innerRect.width,height:o<0?n.stepSize+o:n.stepSize}}var i=t.collider;i.x=Math.max(i.x,0),i.y=Math.max(i.y,0);var a=i.x+i.width-(n.outerRect.x+n.outerRect.width);i.width=a>0?i.width-a:i.width;var l=i.y+i.height-(n.outerRect.y+n.outerRect.height);i.height=l>0?i.height-l:i.height}(e,t,n)}function Mn(e,t){var n=Number.isNaN(+e.style.align)?.5:Math.min(Math.max(e.style.align,0),1),r=0;if(e.tilted)r=e.stepSize*n;else{var o=t?e.textRect.height:e.textRect.width;r=Math.max(0,e.stepSize-o)*n}return r}function On(e,t){var n,r={type:"text",text:(n=e.label,"string"==typeof n||"number"==typeof n?n:"-"),x:0,y:0,maxWidth:t.maxWidth,maxHeight:t.maxHeight};return"top"===t.align||"bottom"===t.align?(r.x=e.start*t.innerRect.width+(t.innerRect.x-t.outerRect.x)+Mn(t,!1),r.y="top"===t.align?t.innerRect.height:0,r.anchor=t.stepSize?"start":"middle",r.baseline="top"===t.align?"text-after-edge":"text-before-edge",r.x+=Number.isNaN(+t.style.offset)?0:+t.style.offset):(r.y=e.start*t.innerRect.height+(t.innerRect.y-t.outerRect.y)+Mn(t,!0),r.x="left"===t.align?t.innerRect.width:0,r.anchor="left"===t.align?"end":"start",r.baseline=t.stepSize?"text-before-edge":"central",r.y+=Number.isNaN(+t.style.offset)?0:+t.style.offset),function(e,t){["fill","fontSize","fontFamily"].forEach((function(n){e[n]=t.style[n]}))}(r,t),function(e,t){if(!t.tilted&&!t.stepSize)if("top"===t.align||"bottom"===t.align){var n=t.outerRect.width,r=Math.min(t.maxWidth/2,t.textRect.width/2),o=e.x-r,i=e.x+r;o<0?(e.anchor="start",e.x=t.innerRect.x-t.outerRect.x):i>n&&(e.anchor="end",e.x=t.innerRect.width+t.innerRect.x)}else{var a=t.outerRect.height,l=t.maxHeight/2,u=e.y-l,s=e.y+l;u<0?(e.y=t.innerRect.y-t.outerRect.y,e.baseline="text-before-edge"):s>a&&(e.y=t.innerRect.height+(t.innerRect.y-t.outerRect.y),e.baseline="text-after-edge")}}(r,t),function(e,t){"top"===t.align?e.y-=t.padding:"bottom"===t.align?e.y+=t.padding:"left"===t.align?e.x-=t.padding:"right"===t.align&&(e.x+=t.padding)}(r,t),function(e,t){if(t.tilted){var n=-t.angle,r=n*(Math.PI/180);"bottom"===t.align?(e.x-=t.maxHeight*Math.sin(r)/2,e.y-=t.maxHeight,e.y+=t.maxHeight*Math.cos(r)/2):e.x-=t.maxHeight*Math.sin(r)/3,e.transform="rotate(".concat(n,", ").concat(e.x,", ").concat(e.y,")"),e.anchor="bottom"===t.align==t.angle<0?"start":"end";var o=Math.cos(r)*t.maxWidth;if("bottom"===t.align==t.angle<0){var i=t.outerRect.width-t.paddingEnd;e.x+o>i&&(e.maxWidth=(i-e.x-10)/Math.cos(r))}else{var a=t.paddingEnd;e.x-o<a&&(e.maxWidth=(e.x-a-10)/Math.cos(r))}}}(r,t),function(e,t){e.boundingRect=t.textBounds(e)}(r,t),xn(e,r,t),r}function wn(e,t){var n={type:"line",x1:0,x2:0,y1:0,y2:0,collider:{type:null}};return"top"===t.align||"bottom"===t.align?(n.x1=n.x2=e.position*t.innerRect.width+(t.innerRect.x-t.outerRect.x),n.y1="top"===t.align?t.innerRect.height:0,n.y2="top"===t.align?n.y1-t.tickSize:n.y1+t.tickSize):(n.y1=n.y2=e.position*t.innerRect.height+(t.innerRect.y-t.outerRect.y),n.x1="left"===t.align?t.innerRect.width:0,n.x2="left"===t.align?n.x1-t.tickSize:n.x1+t.tickSize),function(e,t){L()(e,t.style)}(n,t),function(e,t){"top"===t.align?(e.y1-=t.padding,e.y2-=t.padding):"bottom"===t.align?(e.y1+=t.padding,e.y2+=t.padding):"left"===t.align?(e.x1-=t.padding,e.x2-=t.padding):"right"===t.align&&(e.x1+=t.padding,e.x2+=t.padding)}(n,t),function(e,t){var n=e.strokeWidth/2;e.x1===t.innerRect.width?(e.x1-=n,e.x2-=n):0===e.x1?(e.x1+=n,e.x2+=n):e.y1===t.innerRect.height?(e.y1-=n,e.y2-=n):0===e.y1&&(e.y1+=n,e.y2+=n)}(n,t),n}function Sn(e){var t=e.value,n=e.maxValue,r=e.minValue,o=e.range,i=e.modifier;return Number.isNaN(+o)||Number.isNaN(+i)||(t=o*i),t>n&&(t=n),t<r&&(t=r),t}var kn=2,Cn=function(e,t,n){return e.width*Math.abs(t.position-n.position)},En=function(e){var t=e.innerRect,n=e.outerRect,r=e.tick,o=e.nextWidth,i=t.x-n.x,a=t.width*r.position+i,l=2*Math.min(o,a),u=0===r.position?t.width/2-kn:0;return Math.max(o,l,u)},An=function(e){var t=e.innerRect,n=e.outerRect,r=e.tick,o=e.prevWidth,i=t.x-n.x,a=n.width-t.width-i,l=t.width-t.width*r.position+a,u=2*Math.min(o,l),s=1===r.position?t.width/2-kn:0;return Math.max(o,u,s)};function qn(e){return function(e){if(Array.isArray(e))return Dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tn(e,t){return{x:t.x-e,y:t.y-e,width:t.width+e,height:t.height+e}}function Nn(e){var t=0;return t+=e.paddingStart,t+=e.line.show?e.line.strokeWidth:0,t+(e.ticks.show?e.ticks.margin:0)}function Ln(e){var t=0;return t+=e.ticks.show?e.ticks.tickSize:0,t+(Nn(e)+e.labels.margin)}function In(e,t){return e.map((function(e){return wn(e,t)}))}function jn(e,t){return t?Math.abs(t.end-t.start):e.bandwidth()}function Pn(e){var t=e.textMetrics,n=e.settings,r=e.innerRect,o=e.scale,i=e.tilted,a=e.layered,l=e.tick,u=t.height,s=jn(o,l),c={width:0,height:u};if("left"===n.align||"right"===n.align)c.width=r.width-Ln(n)-n.paddingEnd;else if(a)c.width=s*r.width*2;else if(i){var f=Math.abs(n.labels.tiltAngle)*(Math.PI/180);c.width=(r.height-Ln(n)-n.paddingEnd-u*Math.cos(f))/Math.sin(f)}else c.width=s*r.width;return c.width=Sn({value:c.width,maxValue:n.labels.maxLengthPx,minValue:n.labels.minLengthPx}),c}function Rn(e){var t=e.textMetrics,n=e.settings,r=e.innerRect,o=e.outerRect,i=e.tilted,a=e.layered,l=e.tick,u=e.index,s=e.major,c=t.height,f={width:0,height:c};if("left"===n.align||"right"===n.align)f.width=r.width-Ln(n)-n.paddingEnd;else if(i){var d=Math.abs(n.labels.tiltAngle)*(Math.PI/180);f.width=(r.height-Ln(n)-n.paddingEnd-c*Math.cos(d))/Math.sin(d)}else f.width=function(e){var t=e.layered,n=e.major,r=e.innerRect,o=e.outerRect,i=e.tick,a=e.index,l=t?2:1,u=n[a-l],s=n[a+l],c=u?Cn(r,i,u)/2-kn:1/0,f=s?Cn(r,i,s)/2-kn:1/0;return n.length<2?r.width:u?s?2*Math.min(c,f):An({innerRect:r,outerRect:o,tick:i,prevWidth:c}):En({innerRect:r,outerRect:o,tick:i,nextWidth:f})}({layered:a,major:s,innerRect:r,outerRect:o,tick:l,index:u});return f.width=Sn({value:f.width,maxValue:n.labels.maxLengthPx,minValue:n.labels.minLengthPx}),f}function _n(e){var t;function n(){return t=Rn,n}function r(){return t=Pn,r}function o(e){var n,r=e.settings,o=e.scale,i=e.innerRect,a=e.outerRect,l=e.measureText,u=e.ticks,s=e.state,c=e.textBounds,f=[],d=function(e){return e.filter((function(e){return!e.isMinor}))}(u),p=function(e){return e.filter((function(e){return e.isMinor}))}(u),m={innerRect:i,align:r.align,outerRect:a},h="tilted"===s.labels.activeMode,g="layered"===s.labels.activeMode;if(r.line.show&&(m.style=r.line,m.padding=r.paddingStart,f.push(vn(m))),r.ticks.show&&(m.style=r.ticks,m.tickSize=r.ticks.tickSize,m.padding=Nn(r),n=In(d,m)),r.labels.show){var y=Ln(r);m.style=r.labels,m.padding=y,m.tilted=h,m.layered=g,m.angle=r.labels.tiltAngle,m.paddingEnd=r.paddingEnd,m.textBounds=c;var v=function(e,n){var s,c;m.textRect=(s={tick:e,measureText:l,style:m.style},c=s.style,(0,s.measureText)({text:s.tick.label,fontSize:c.fontSize,fontFamily:c.fontFamily}));var f=t({textMetrics:m.textRect,settings:r,innerRect:i,outerRect:a,scale:o,tilted:h,layered:g,tick:e,major:d,index:n});m.maxWidth=f.width,m.maxHeight=f.height,m.stepSize=function(e){var t=e.innerRect,n=e.scale,r=e.settings,o=e.tick;return("top"===r.align||"bottom"===r.align?t.width:t.height)*jn(n,o)}({innerRect:i,scale:o,ticks:u,settings:r,tick:e})},b=[];b=!g||"top"!==r.align&&"bottom"!==r.align?function(e,t,n){return e.map((function(e,r){n(e,r);var o=On(e,t);return o.data=e.data,o}))}(d,m,v):function(e,t,n,r){var o=t.padding,i=Ln(n);return e.map((function(e,a){r(e,a);var l=i+t.maxHeight+n.labels.margin;t.layer=a%2,t.padding=a%2==0?o:l;var u=On(e,t);return u.data=e.data,u}))}(d,m,r,v),r.labels.filterOverlapping&&function(e,t,n){var r=function(t,n){return function(e,t){return e.x<=t.x+t.width&&t.x<=e.x+e.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height}(Tn(1,e[t].boundingRect),Tn(1,e[n].boundingRect))};if(n&&n.tilted){var o=Math.abs(n.angle);r=function(t,n){var r=1/Math.abs(e[t].x-e[n].x),i=Math.sin(o*(Math.PI/180))/r;return e[t].boundingRect.height>i}}for(var i=0;i<=e.length-1;i++)for(var a=i+1;a<=Math.min(i+5,i+(e.length-1));a++)e[i]&&e[a]&&r(i,a)&&(a===e.length-1?(e.splice(i,1),t&&t.splice(i,1)):(e.splice(a,1),t&&t.splice(a,1)),a--,i--)}(b,n,m),f.push.apply(f,qn(b))}return r.minorTicks&&r.minorTicks.show&&p.length>0&&(m.style=r.minorTicks,m.tickSize=r.minorTicks.tickSize,m.padding=function(e){return e.line.strokeWidth+e.minorTicks.margin}(r),f.push.apply(f,qn(In(p,m)))),n&&f.push.apply(f,qn(n)),f}return n.build=o,r.build=o,e?r():n()}var zn={labels:{show:!0,tiltAngle:40,tiltThreshold:.7,maxEdgeBleed:1/0,margin:4,maxLengthPx:150,minLengthPx:0,mode:"auto",maxGlyphCount:NaN,align:.5,offset:0,filterOverlapping:!1},ticks:{show:!1,margin:0,tickSize:4},line:{show:!1},paddingStart:0,paddingEnd:10,align:"auto"},Fn={labels:{show:!0,margin:4,maxLengthPx:150,minLengthPx:0,align:.5,offset:0,filterOverlapping:!0},ticks:{show:!0,margin:0,tickSize:8},minorTicks:{show:!1,tickSize:3,margin:0},line:{show:!0},paddingStart:0,paddingEnd:10,align:"auto"};var Un={box:{width:1,maxWidthPx:void 0,minWidthPx:1,minHeightPx:1},line:{show:!0,stroke:"#000",strokeWidth:1}},Hn=Object.keys(Un),Bn={require:["chart","renderer","resolver"],defaultSettings:{settings:{},data:{},style:{box:"$shape",labels:"$label",ticks:"$guide-line",minorTicks:"$guide-line--minor",line:"$guide-line"}},created:function(){this.state={isDiscrete:!1,isHorizontal:!1,labels:{activeMode:"horizontal"},ticks:[],innerRect:{width:0,height:0,x:0,y:0},outerRect:{width:0,height:0,x:0,y:0},defaultDock:"left",concreteNodeBuilder:void 0,settings:void 0},this.setState(this.settings)},setState:function(){var e,t,n,r;this.state.isDiscrete=!1,this.state.settings=function(e){var t=e.state,n=e.style,r=e.settings,o=L()(!0,{},t.isDiscrete?zn:Fn,n),i=L()(!0,{},o,r.settings);i.dock="center",i.align=function(e,t){var n=["top","bottom"],r=["left","right"];return-1!==n.indexOf(e)&&-1===r.indexOf(t)||-1!==r.indexOf(e)&&-1===n.indexOf(t)?e:t}(r.settings.align,"center"),i.labels.tiltAngle=Math.max(-90,Math.min(i.labels.tiltAngle,90));var a=i.paddingStart,l=i.paddingEnd;return i.paddingStart="function"==typeof a?a.call(null):a,i.paddingEnd="function"==typeof l?l.call(null):l,i}(this),this.state.concreteNodeBuilder=_n(this.state.isDiscrete),this.state.isHorizontal="top"===this.state.settings.align||"bottom"===this.state.settings.align,this.state.labels.activeMode=(e=this.state,t=this.state.settings,n=this.state.isDiscrete,r=t.labels.mode,n&&e.isHorizontal?"auto"===r?e.labels.activeMode:-1!==["layered","tilted"].indexOf(t.labels.mode)&&-1!==["top","bottom"].indexOf(t.dock)?r:"horizontal":"horizontal")},beforeUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings;this.setState(t)},resize:function(e){var t=e.inner,n=e.outer,r=L()({},t,function(e){var t=e.align,n=e.inner;return"left"===t?{x:n.width+n.x}:"right"===t||"bottom"===t?n:{y:n.y+n.height}}({align:this.state.settings.align,inner:t})),o=n||r;return L()(this.state.innerRect,r),L()(this.state.outerRect,o),n},render:function(e){var t=this,n=e.data,r=this.rect,o=r.width,i=r.height,a="horizontal"===this.settings.settings.orientation,l=this.style,u=this.resolver,s=this.state,c=this.renderer,f=Hn.filter((function(e){return!t.settings.settings[e]||!1!==t.settings.settings[e].show})),d={};return f.forEach((function(e){return d[e]=Un[e]})),function(e){var t=e.width,n=e.height,r=e.flipXY,o=e.resolved,i=e.keys,a=e.state,l=e.renderer,u=[],s=o.major.items;if(!s.length)return u;var c,f,d,p,m=t,h=n,g=r?n:t,y=o.major.settings,v=0,b=0,x=0,M=0,O=i?i.length:0,w=a.settings.align,S=r?"y":"x",k=r?"x":"y",C=r?"height":"width",E=r?"width":"height",A=r?h:m,q=r?m:h;function D(){var e=a.innerRect.height,t=d,n=t.scale,r=t.formatter,o=n.ticks({distance:e,formatter:r});o=o.filter((function(e){return e.position>=0&&e.position<=1}));var i=[],u=a.concreteNodeBuilder.build,s={};s[k]=0,s[E]=q,s[S]=A*("left"===w||"top"===w?d.major-x:d.major+v-p),s[C]=M*A;var c=u({settings:a.settings,scale:n,innerRect:s,outerRect:s,measureText:l.measureText,textBounds:l.textBounds,ticks:o,state:a});return c.forEach((function(e){"line"===e.type&&(e["".concat(S,"1")]+=s[S],e["".concat(S,"2")]+=s[S]),"text"===e.type&&(e[S]+=s[S],e.boundingRect[S]+=s[S])})),i.push.apply(i,hn(c)),mn.multiple(i),i}for(var T=0,N=s.length;T<N;T++){var I;c=[],f=null;var j=s[T],P=j.data,R=null,_=null;void 0!==y.binStart?(R=j.binStart,_=j.binEnd,f=y.binStart.scale):R=(f=y.major.scale)?j.major:0,v=0,f?f.bandwidth?R-=(v=f.bandwidth())/2:v=_-R:v=1,d=L()({},{major:R,majorEnd:_},o.minor.items[T]);for(var z=0;z<O;z++)d[i[z]]=o[i[z]].items[T];p=pn(v,d,g),b="function"==typeof f.step?f.step():v,x=b-v,M=p;var F=D();(I=c).push.apply(I,hn(F));var U={type:"container",data:P,collider:{type:"bounds"},children:c};u.push(U)}return u}({width:o,height:i,flipXY:a,resolved:function(e){var t,n=e.keys,r=e.data,o=e.defaultSettings,i=e.style,a=e.settings,l=e.width,u=e.height,s=e.resolver,c=L()(!0,{},o||{},i||{}),f={major:"horizontal"===a.orientation?u:l,minor:"horizontal"===a.orientation?l:u},d=a.major;t="object"===yn(d)&&"object"===yn(d.ref)&&void 0!==d.ref.start&&void 0!==d.ref.end?s.resolve({data:r,defaults:{start:0,end:1},scaled:f,settings:L()(!0,{},{binStart:{scale:a.major.scale,ref:a.major.ref.start},binEnd:{scale:a.major.scale,ref:a.major.ref.end}})}):"object"===yn(d)&&void 0!==d.binStart&&void 0!==d.binEnd?s.resolve({data:r,defaults:{start:0,end:1},scaled:f,settings:L()(!0,{},{binStart:{scale:a.major.scale,ref:"binStart"},binEnd:{scale:a.major.scale,ref:"binEnd"}},a.major)}):s.resolve({data:r,scaled:f,defaults:{major:.5},settings:{major:a.major}});var p=a.minor||{},m={};["start","end","min","max","med"].forEach((function(e){(p[e]||r.items&&r.items.length&&r.items[0][e])&&(m[e]={scale:p.scale,ref:e})}));for(var h,g={major:t,minor:s.resolve({data:r,defaults:{start:0,end:1},scaled:f,settings:L()(!0,{},m,p)})},y=0,v=n.length;y<v;y++)a[h]&&!1===a[h].show||(g[h=n[y]]=s.resolve({data:r,defaults:c[h],settings:a[h],scaled:f}));return g}({keys:f,data:n,defaultSettings:d,style:l,settings:this.settings.settings,width:o,height:i,resolver:u}),keys:f,state:s,renderer:c})}};var Vn=n(3);function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n={},r={},o=!1,i={get:function(e){return t[e]},set:function(e,i){var a=t[e];!o&&n[e]?t[e]=n[e](i,a):t[e]=i,!o&&r[e]&&r[e](t[e],a)},preventSet:function(e,t){o=!0,i.set(e,t),o=!1},intercept:function(e,t){n[e]=t},onChanged:function(e,t){r[e]=t}};return i}function $n(){var e={};return{get:function(t){return e[t]},set:function(t,n){return e[t]=n,n},has:function(t){return t in e},remove:function(t){delete e[t]},empty:function(){e={}}}}var Xn=n(11),Zn=n.n(Xn);function Jn(){var e={},t={interact:{key:"interact",isEnabled:!0,enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=!e.active}},tooltip:{key:"tooltip",isActive:!0,isEnabled:!0,action:function(e){this.isActive=!!e},active:function(){return this.isActive},enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=!e.passive}},scroll:{key:"scroll",isActive:!0,isEnabled:!0,action:function(){this.isActive=!this.isActive},active:function(){return this.isActive},enabled:function(){var t=e.discrete;return this.isEnabled&&(!t||t.query.getCanScroll())},update:function(e){this.isEnabled=!e.active}},select:{key:"select",isActive:!1,isEnabled:!0,action:function(){this.isActive=!this.isActive},active:function(){return this.isActive},enabled:function(){return this.isEnabled},update:function(e){this.isEnabled=!e.select&&!e.active}}};return Object.keys(t).filter((function(e){return"setContext"!==e})).forEach((function(e){return n=t[e],Object.keys(Zn.a.prototype).forEach((function(e){n[e]=Zn.a.prototype[e]})),Zn.a.init(n),n;var n})),t.setContext=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(e,t)},t.setContext.update=function(){},t}var Yn={shapes:[{type:"path",attrs:{d:"M15.9488039,5.20769129 C16.0487326,6.70662306 15.3492311,8.30548361 14.050157,9.30477145 C12.651154,10.5039169 10.8524359,10.8037032 8.85386017,10.4039881 L7.3549284,10.0042729 L5.75606786,9.70448659 C5.75606786,9.90434416 5.65613907,10.0042729 5.4562815,10.2041305 C5.05656637,10.6038456 4.55692244,10.8037032 4.05727852,10.8037032 C3.75749217,10.8037032 3.45770582,10.7037744 3.15791946,10.6038456 C3.05799068,10.903632 3.15791946,11.2034184 3.45770582,11.7030623 C5.05656637,14.0014243 3.85742095,15.9000712 3.75749217,16 L2.2585604,15.3004985 C2.2585604,15.2005697 2.95806189,14.0014243 1.95877405,12.6024213 C1.6589877,12.0028486 1.15934378,11.0035608 1.55905891,10.0042729 C1.6589877,9.80441537 1.75891648,9.6045578 1.95877405,9.40470024 C1.6589877,8.90505631 1.55905891,8.30548361 1.85884527,7.7059109 C1.55905891,7.40612455 1.25927256,7.1063382 1.15934378,6.70662306 C0.859557424,5.90719279 0.959486209,4.5081898 1.6589877,3.30904439 C1.95877405,2.6095429 2.55834676,2.0099702 3.15791946,1.51032628 C3.95734974,0.91075357 4.95663758,0.610967217 6.15578299,0.311180864 C9.05371774,-0.388320626 11.9516525,0.111323295 13.9502282,1.61025506 C15.1493736,2.50961412 15.8488751,3.80868831 15.9488039,5.20769129 Z M13.0508691,8.10562604 C13.8502994,7.40612455 14.3499433,6.40683671 14.3499433,5.30762008 C14.2500145,4.20840345 13.550513,3.40897318 12.9509403,2.90932926 C12.1515101,2.40968533 11.252151,2.0099702 10.1529344,1.81011263 C8.95378895,1.61025506 7.75464354,1.71018384 6.45556935,1.91004141 C4.75678001,2.30975655 3.65756338,3.00925804 3.05799068,4.10847467 C2.55834676,5.00783373 2.65827554,5.90719279 2.75820433,6.20697914 C2.75820433,6.30690792 2.85813311,6.40683671 3.05799068,6.40683671 C3.15791946,6.40683671 3.25784825,6.40683671 3.35777703,6.40683671 C3.45770582,6.40683671 3.45770582,6.40683671 3.45770582,6.40683671 L3.5576346,6.40683671 L3.65756338,6.40683671 C4.65685123,6.40683671 5.4562815,6.90648063 5.85599664,7.80583969 L5.85599664,8.00569726 C6.35564056,8.10562604 7.05514205,8.30548361 7.75464354,8.50534118 L9.25357531,8.90505631 C10.0530056,9.0049851 10.7525071,9.0049851 11.4520086,8.80512753 C12.0515813,8.70519875 12.5512252,8.40541239 13.0508691,8.10562604 Z"}}]},Qn="Enter",er="Escape",tr="Esc",nr=[],rr=0,or=function(e){var t=nr.filter((function(e){return e.selections&&e.selections.isActive()}));t.length&&(e.key===Qn?t.forEach((function(e){return e.selections.confirm()})):e.key!==er&&e.key!==tr||t.forEach((function(e){return e.selections.cancel()})))},ir=function(){document.addEventListener("keyup",or)},ar=function(){document.removeEventListener("keyup",or)},lr=function(e,t){Object.keys(t).forEach((function(n){e.on(n,t[n])}))},ur=function(e,t){Object.keys(t).forEach((function(n){e.removeListener(n,t[n])}))};function sr(e,t,n){if(t&&void 0!==n&&"selectHyperCubeContinuousRange"===e.method){var r=e.params;if(r&&r[1]&&r[1][0]){var o=r[1][0],i=o.qDimIx,a=o.qRange;"undefined"!==i&&a&&!1===a.qMaxInclEq&&a.qMax>=n&&(a.qMaxInclEq=!0)}}}var cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selections,n=e.brush,r=e.majorScale,o=e.actions,i=e.picassoQ,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.path,u=void 0===l?"/qHyperCubeDef":l;if(!t)return{layout:function(){},allowSimultaneous:function(){},release:function(){}};var s=++rr,c=null,f=[],d={};t.on=t.on.bind(t),t.isActive=t.isActive.bind(t),t.addListener=t.addListener.bind(t),t.removeListener=t.removeListener.bind(t);var p=function(e){return n.brushes().forEach((function(t){("range"===t.type||e[0]&&e[0].key!==t.id&&0!==f.indexOf(e[0].key))&&n.clear([])})),e.filter((function(e){return-2!==e.value}))},m=function(e){return n.brushes().filter((function(e){return"value"===e.type})).length?(n.clear([]),e):(n.brushes().forEach((function(t){var r=t.id===e[0].key||-1!==f.indexOf(t.id)&&-1!==f.indexOf(e[0].key);"range"!==t.type||r||n.clear([])})),e)};n.intercept("set-ranges",m),n.intercept("toggle-ranges",m),n.intercept("toggle-values",p),n.intercept("set-values",p),n.intercept("add-values",p),n.on("start",(function(){return t.begin(u)}));var h={activate:function(){},deactivated:function(){return n.end()},cleared:function(){return n.clear()},canceled:function(){return n.end()}};lr(t,h);var g=r&&r.max();return o&&o.select?(o.select.on("start",(function(){var e;(n.start(),"function"==typeof o.select.getBrushOptions)&&(d=(e=o.select).getBrushOptions.apply(e,arguments))})),o.select.on("end",(function(){i.selections(n,d,c).forEach((function(e){sr(e,o.select.brushSelectionIncludeMax,g),t.select(e)}))}))):n.on("update",(function(){i.selections(n,d,c).forEach((function(e){return t.select(e)}))})),0===nr.length&&ir(),nr.push({key:s,selections:t}),{layout:function(e){c=e},allowSimultaneous:function(e){f=e},release:function(){c=null;var e=nr.indexOf(nr.filter((function(e){return e.key===s}))[0]);-1!==e&&nr.splice(e,1),nr.length||ar(),ur(t,h)}}},fr={ENTER:"Enter",ESCAPE:"Escape",IE11_ESC:"Esc",SHIFT:"Shift"},dr="discreteRange";var pr="minorRange";function mr(e){var t=e.current,n=e.chart,r=e.document;!function(e){var t=e.current,n=e.chart,r=e.document;if(t!==dr&&r.querySelector("[data-key='discrete-range-brush-edge-0']")){var o=n.component("discrete-range-brush");o&&(o.emit("areaClear"),n.brush("selection").clear())}}({current:t,chart:n,document:r}),function(e){var t=e.current,n=e.chart,r=e.document;if(t!==pr&&r.querySelector("[data-key='minor-range-brush-edge-0']")){var o=n.component("minor-range-brush");if(o){o.emit("rangeClear");var i=o.settings.settings,a=i.scale,l=i.brush,u=n.scale(a).data().fields.map((function(e){return e.id()})),s=n.brush(l),c=s.brushes().filter((function(e){return"range"===e.type&&u.some((function(t){return t===e.id}))}));s&&c.length&&c.forEach((function(e){s.removeRanges(e.brush.ranges().map((function(t){return{key:e.id,range:t}})))}))}}}({current:t,chart:n,document:r})}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){yr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(e){var t=e.mappingModel,n=e.extremumModel,r=e.tickModel,o=e.scaleModel;t.command.update(),n.command.update(),r.command.update(),o.command.update()}function Mr(e){var t=e.picasso,n=Object(Vn.useElement)(),r=Object(Vn.useOptions)().renderer,o=Object(Vn.useSelections)(),i=vr(Object(Vn.useState)(),2),l=i[0],u=i[1],s=Object(Vn.useLayout)().qSelectionInfo.qInSelections,c=void 0!==s&&s,f=vr(Object(Vn.useState)(!1),2),d=f[0],p=f[1],m=vr(Object(Vn.useState)(!1),2),h=m[0],g=m[1],y=Object(Vn.useMemo)((function(){return function(e){return p((function(t){return void 0!==e?e:!t}))}}),[]);return Object(Vn.useEffect)((function(){var e=t({renderer:{prio:[r||"canvas"]}}),i=e.chart({element:n,data:[],settings:{}}),l=Jn(),s=function(e){var t=e.chart,n=e.actions,r=e.selections,o=e.document,i={keyDown:!1,canSelect:!1,dimensionLocked:!1,selectionInfo:{event:void 0,components:[]}},l=cr({brush:t.brush("selection"),actions:n,selections:r,picassoQ:a.a});t.brush("selection").configure({ranges:[{key:"qHyperCube/qDimensionInfo/0:numeric",includeMax:!1}]});var u=function(e){i.keyDown||e.key!==fr.SHIFT||(n.lasso.action(),i.keyDown=!0)},s=function(e){e.key===fr.SHIFT&&(n.lasso.action(),i.keyDown=!1)};o.addEventListener("keydown",u),o.addEventListener("keyup",s);var c=function(e,n){i.selectionInfo.event=e,i.selectionInfo.components=n&&n.length?n.map((function(e){return e.key})).filter(Boolean):[],mr({current:e,chart:t,document:o})};n.select.on("start",c);var f=function(){n.lasso.active()&&n.lasso.action()},d=function(){return mr({chart:t,document:o})};return r&&(r.on("deactivated",f),r.on("canceled",f),r.on("canceled",d),r.on("cleared",d)),{query:{getCanSelect:function(){return i.canSelect},getIsDimensionLocked:function(){return i.dimensionLocked},getIsLockedSelection:r&&r.isLocked?r.isLocked:function(){return!1},getSelectionInfo:function(){return i.selectionInfo}},command:{setLayout:function(e){var t=e.layout;l.layout(t);var n=t.qHyperCube.qDimensionInfo;i.canSelect=0===n.length||n.some((function(e){return!e.qLocked})),i.dimensionLocked=!(!n.length||!n[0].qLocked)},destroy:function(){l.release(),o.removeEventListener("keydown",u),o.removeEventListener("keyup",s),n.select.removeListener("start",c),r&&(r.removeListener("deactivated",f),r.removeListener("canceled",f),r.removeListener("canceled",d),r.removeListener("cleared",d))}}}}({chart:i,actions:l,selections:o,document:document}),c=Kn({scrollOffset:void 0,viewRange:[0,1]}),f=$n();return u({picassoInstance:e,chart:i,actions:l,models:{selectionModel:s},store:{},viewState:c,viewCache:f,updateModels:xr}),function(){i.destroy()}}),[]),Object(Vn.useAction)((function(){var e=(l||{}).actions,t={action:function(){y()},hidden:!c};return e&&(e.lasso=gr(gr({},t),{},{active:function(){return d},update:function(e){g(!e.select&&!e.active)},enabled:function(){return h}})),gr(gr({},t),{},{active:d,icon:Yn})}),[l,d,h,c]),l}function Or(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=null==e||null===(t=e.qDimensionInfo)||void 0===t?void 0:t[r],i=null==o||null===(n=o.qCardinalities)||void 0===n?void 0:n.qHypercubeCardinal,a=null==o?void 0:o.qStateCounts,l=a.qLocked,u=void 0===l?0:l,s=a.qOption,c=void 0===s?0:s,f=a.qSelected,d=void 0===f?0:f;return[void 0,0].includes(i)?u+c+d:i}function wr(e,t){switch(t.qMode){case"S":default:return function(e,t){return{refs:{dataPages:"qDataPages"},size:{x:y.getValue(t,"qSize.qcx"),y:y.getValue(t,"qSize.qcy")}}}(0,t);case"K":return function(e,t){return{refs:{dataPages:"qStackedDataPages"},size:{x:y.getValue(t,"qSize.qcx"),y:Or(t)}}}(0,t);case"T":return{refs:{dataPages:"qTreeDataPages"},size:{x:0,y:0}}}}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){Cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dr(e){var t=e.source,n=e.hyperCubePath,r=void 0===n?"qHyperCube":n,o=e.metaAdditionsFn,i=L()(!0,{},t),a=y.getValue(i,r),l=function(e,t){return{isQMode:function(e){return t.qMode===e},getDimensionSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Or(t,e)}}}(0,a),u=wr(0,a),s=function(){return function(e){var t=e.layout,n=e.hyperCube,r=e.additionsFn,o=void 0===r?function(){return{}}:r,i=e.additionsProps,a=void 0===i?{}:i,l=n.qDimensionInfo.length,u=n.qMeasureInfo.length,s=kr({dimensionCount:l,measureCount:u,hasMultipleDimensions:l>1,hasMultipleMeasures:u>1},a);return kr(kr({},s),o({layout:t,hyperCube:n,meta:s}))}({layout:i,hyperCube:a,additionsFn:o,additionsProps:{size:u.size}})},c={refs:Ar({},u.refs),meta:s(),query:Ar({},l),getLayout:function(){return i},getLayoutValue:function(e,t){return y.getValue(i,e,t)},setLayoutValue:function(e,t){y.setValue(i,e,t),u=wr(0,a),c.meta=s()},getHyperCube:function(){return a},getHyperCubeValue:function(e,t){return y.getValue(a,e,t)},setHyperCubeValue:function(e,t){y.setValue(a,e,t),u=wr(0,a),c.meta=s()},getDataPages:function(){return y.getValue(a,u.refs.dataPages)},setDataPages:function(e){y.setValue(a,u.refs.dataPages,e),c.meta=s()}};return c.query=Ar({},l),c}var Tr={getDockValue:function(e){return"near"===e||"left"===e||"top"===e?0:1},getOppositeDock:function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";case"near":return"far";case"far":return"near";default:return"far"}},getHorizontalDock:function(e){return"near"===e||"left"===e?"left":"right"},getVerticalDock:function(e){return"near"===e||"bottom"===e?"bottom":"top"},getDock:function(e,t,n){return"vertical"===e||"y"===e?Tr.getVerticalDock(t):n?Tr.getOppositeDock(Tr.getHorizontalDock(t)):Tr.getHorizontalDock(t)},getInvertedOrientation:function(e){return"vertical"===e?"horizontal":"vertical"},getMinorScaleAxis:function(e){return"vertical"===e?"y":"x"},getMajorScaleAxis:function(e){return"vertical"===e?"x":"y"},getAlignment:function(e,t){switch(e){case"vertical":return"near"===t||"bottom"===t?1:0;default:return"near"===t||"left"===t?0:1}},getMeasureScaleInvert:function(e,t){return"vertical"===e||t},getDimensionScaleInvert:function(e,t){return"horizontal"===e&&t},getSize:function(e,t){var n=t.width,r=t.height;return"vertical"===e?n:r}},Nr=Tr;function Lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jr=[["FULL",{width:550,height:450}],["MEDIUM",{width:400,height:220}],["SMALL",{width:300,height:150}],["XSMALL",{width:150,height:75}],["SPARK",{width:0,height:0}]],Pr={};jr.forEach((function(e){var t=Lr(e,2),n=t[0],r=t[1],o=r.width,i=r.height;Pr[n]={width:o,height:i}}));var Rr={getLayoutModes:function(){return Pr},getLayoutMode:function(e,t){var n;for(n=0;n<jr.length;++n)if(e>=jr[n][1].width&&t>=jr[n][1].height)return jr[n][0];return"SPARK"}},_r={VERTICAL:"vertical",HORIZONTAL:"horizontal"};function zr(e){var t=e.layoutModel,n=e.size,r=(n=void 0===n?{}:n).width,o=void 0===r?0:r,i=n.height,a=void 0===i?0:i,l=e.orientation,u=(l=void 0===l?{}:l).invert,s=void 0!==u&&u,c=l.fallback,f=void 0===c?"vertical":c,d=l.isVertical,p=void 0!==d&&d,m=e.rtl,h=e.measureAxes,g=void 0===h?[{ref:"measureAxis",name:"minor"}]:h,y=Nr.getInvertedOrientation,v=Nr.getDock,b=Nr.getOppositeDock,x=Nr.getSize,M=function(e){var t=e.layoutModel,n=e.invert,r=e.fallback,o=e.isVertical;if(t.meta.isContinuous||o)return _r.VERTICAL;var i=t.getLayoutValue("orientation",r);return n?i===_r.VERTICAL?_r.HORIZONTAL:_r.VERTICAL:i}({layoutModel:t,invert:s,fallback:f,isVertical:p}),O={update:function(e){var n,r;O.chartSize=e,O.major=(n=e,r=v(M,t.getLayoutValue("dimensionAxis.dock"),m),{orientation:M,dock:r,opposite:b(r),containerSize:x(M,n)}),O.mode=Rr.getLayoutMode(e.width,e.height),g.forEach((function(n){O[n.name]=function(e,n){var r=y(M),o=v(r,t.getLayoutValue("".concat(n,".dock")),m);return{orientation:r,dock:o,opposite:b(o),maxDock:v(M,"far",m),minDock:v(M,"near",m),containerSize:x(r,e)}}(e,n.ref)}))}};return O.update({width:o,height:a}),O}var Fr=["$date","$timestamp","$time"],Ur=["D","TS","T"],Hr={hasTimeTag:function(e){return!!(e&&e.qTags&&e.qTags.some((function(e){return Fr.some((function(t){return t===e}))})))},hasUnknownFormat:function(e){return!(!e||!e.qNumFormat||"U"!==e.qNumFormat.qType)},hasTimeFormat:function(e){return!!(e&&e.qNumFormat&&Ur.some((function(t){return t===e.qNumFormat.qType})))},isTimeDimension:function(e,t){return!!(e&&t&&(Hr.hasTimeTag(t)&&Hr.hasUnknownFormat(t)||Hr.hasTimeFormat(t)))},isTime:function(e,t){return!!(t&&t.qHyperCube.qDimensionInfo&&t.qHyperCube.qDimensionInfo.length)&&e&&Hr.isTimeDimension(e,t.qHyperCube.qDimensionInfo[0])},canBeContinuousDimension:function(e){if(!e)return!1;var t=e.qTags||[];return!(!e.qContinuousAxes||!t.some((function(e){return"$numeric"===e})))},canBeContinuous:function(e){return!(!(e&&e.qHyperCube&&e.qHyperCube.qDimensionInfo)||e.qHyperCube.qDimensionInfo.length<1)&&Hr.canBeContinuousDimension(e.qHyperCube.qDimensionInfo[0])},maxNumberOfLines:12},Br=Hr,Vr=function(e){return y.getValue(e,"qHyperCube.qDimensionInfo",[])},Wr=function(e){return y.getValue(e,"qHyperCube.qMeasureInfo",[])},Gr=function(e){return y.getValue(e,"barGrouping.grouping")},Kr={continuous:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!Br.canBeContinuous(e)&&(y.getValue(e,"dimensionAxis.continuousAuto")?"function"==typeof t?t():t:!!e.preferContinuousAxis)},dimensionless:function(e){return!Vr(e).length},grouped:function(e){return!this.dimensionless(e)&&"grouped"===Gr(e)&&(Vr(e).length>1||Wr(e).length>1)&&!this.continuous(e)},groupedByDimension:function(e){return this.grouped(e)&&Vr(e).length>1&&1===Wr(e).length},groupedByMeasure:function(e){return this.grouped(e)&&1===Vr(e).length&&Wr(e).length>1},stacked:function(e){return(!this.dimensionless(e)&&"grouped"!==Gr(e)||this.continuous(e))&&(Vr(e).length>1||Wr(e).length>1)},stackedByDimension:function(e){return this.stacked(e)&&Vr(e).length>1&&1===Wr(e).length},stackedByMeasure:function(e){return this.stacked(e)&&1===Vr(e).length&&Wr(e).length>1},simple:function(e){return 0===Vr(e).length||1===Vr(e).length&&1===Wr(e).length},snapshot:function(e){return!!y.getValue(e,"snapshotData")}};function $r(e){var t=e.layout,n=e.model;return Kr.snapshot(t)?Promise.resolve(null):n.getEffectiveProperties().then((function(e){return{properties:e}}))}function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e){return e.filter((function(e){return"object"===Xr(e.data)&&Array.isArray(e.data.fields)})).every((function(e){return e.data.fields.every((function(e){var t=e.raw();return!(!t.qLocked&&t.qCardinal)}))}))}function Jr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=function(){return e.apply(r,i)};clearTimeout(t),t=setTimeout(l,n)}}var Yr="REJECTED",Qr=function(){},eo=1e4,to={MULTIPLIER:2,MINIMUM:20,MAXIMUM:200},no=600,ro=50,oo=10,io=100;var ao={contains:function(e,t){if(!e)return!1;var n=e.qArea;return!!n&&n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight},patcher:function(e){var t=e.layoutModel,n=function(e){e.qArea.qHeight=e.qMatrix.length,e.qArea.qWidth=t.meta.size.x};return n.should=function(e){return 0===e.qArea.qHeight&&0===e.qArea.qWidth&&!!e.qMatrix.length},n},slicer:function(e,t){for(var n=Math.max(0,t.qHeight)-Math.abs(Math.min(0,t.qTop-e.qArea.qTop)),r=Math.max(0,t.qWidth)-Math.abs(Math.min(0,t.qLeft-e.qArea.qLeft)),o=Math.max(t.qTop,e.qArea.qTop),i=Math.max(t.qLeft,e.qArea.qLeft),a=Math.max(0,o-e.qArea.qTop),l=Math.min(o+n-e.qArea.qTop,e.qArea.qHeight),u=Math.max(0,i-e.qArea.qLeft),s=Math.min(i+r-e.qArea.qLeft,e.qArea.qWidth),c={qArea:{qHeight:l-a,qWidth:s-u,qTop:o,qLeft:i},qMatrix:[]},f=a;f<l;f++)c.qMatrix.push(e.qMatrix[f].slice(u,s));return c},cacheWarden:function(e){var t=e.bounds,n=void 0===t?{width:0,height:0}:t;return{release:function(e,t){var r=t.qTop-oo<=e.qTop,o=t.qLeft+t.qWidth+oo>=e.qLeft+e.qWidth,i=t.qTop+t.qHeight+oo>=e.qTop+e.qHeight,a=t.qLeft-oo<=e.qLeft;return r&&e.qTop>0||o&&e.qLeft+e.qWidth<n.width||i&&e.qTop+e.qHeight<n.height||a&&e.qLeft>0}}},request:function(e){var t=e.definitionPath;return function(e){return{method:"getHyperCubeData",args:[t,[e]]}}}};function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){so(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var co={contains:function(e,t){if(!e)return!1;var n=e.qArea;return!!n&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight},patcher:function(e){var t=e.layoutModel,n=function(e){e.qArea.qHeight=e.qData[0].qSubNodes.length,e.qArea.qWidth=t.meta.size.x};return n.should=function(e){return 0===e.qArea.qHeight&&0===e.qArea.qWidth&&!!e.qData.length},n},slicer:function(e,t){for(var n=Math.max(0,t.qHeight)-Math.abs(Math.min(0,t.qTop-e.qArea.qTop)),r=Math.max(t.qTop,e.qArea.qTop),o=Math.max(t.qLeft,e.qArea.qLeft),i=Math.max(0,r-e.qArea.qTop),a=Math.min(r+n-e.qArea.qTop,e.qArea.qHeight),l=e.qData[0].qUp+e.qArea.qHeight+e.qData[0].qDown-r-(a-i),u={qArea:{qHeight:a-i,qWidth:e.qArea.qWidth,qTop:r,qLeft:o},qData:[uo(uo({},e.qData[0]),{},{qUp:r,qDown:l,qSubNodes:[]})]},s=i;s<a;s++)u.qData[0].qSubNodes.push(e.qData[0].qSubNodes[s]);return u},cacheWarden:function(e){var t=e.bounds,n=void 0===t?{height:0}:t;return{release:function(e,t){var r=t.qTop-oo<=e.qTop,o=t.qTop+t.qHeight+oo>=e.qTop+e.qHeight;return r&&e.qTop>0||o&&e.qTop+e.qHeight<n.height}}},request:function(e){var t=e.layoutModel,n=e.definitionPath,r=t.getLayoutValue("dimensionAxis.axisDisplayMode","auto");return function(e){var t={method:"getHyperCubeStackData",args:[n,[e]]};return"auto"===r&&t.args.push(no),t}}};var fo={contains:function(){return!1},patcher:function(){var e=function(e){return e};return e.should=function(){return!1},e},slicer:function(e){return e},cacheWarden:function(){return{release:function(){return!0}}},request:function(e){var t=e.definitionPath;return function(e){return{method:"getHyperCubeTreeData",args:[t,[e]]}}}};var po="pages";function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ho="discretePan",go=10;function yo(e){var t,n=e.chart,r=e.actions,o=e.componentKey,i=e.dockModel,a=e.rtl,l=e.scroller;return{type:"Pan",key:"discrete:pan",options:{event:ho,pointers:1,threshold:go,enable:function(e,t){return this.started===ho||!t||!!r.scroll.enabled()&&n.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===o}))}},events:(t={},mo(t,"".concat(ho,"start"),(function(e){e.preventDefault(),this.started=ho;var t="vertical"===i.major.orientation?e.deltaX:e.deltaY;this.previousTotalDelta=t<0?-go:go})),mo(t,"".concat(ho,"move"),(function(e){e.preventDefault();var t="vertical"===i.major.orientation,n=t?e.deltaX:e.deltaY,r=t&&a?-1:1,o=(n-this.previousTotalDelta)*r;this.previousTotalDelta=n,l.scroll(o)})),mo(t,"".concat(ho,"end"),(function(e){e.preventDefault(),this.started=!1})),mo(t,"".concat(ho,"cancel"),(function(e){e.preventDefault(),this.started=!1})),t)}}function vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e){var t=e.chart,n=e.componentKey,r=e.actions,o=e.scroller;return function(e){if(r.scroll.enabled()&&vo(t.componentsFromPoint({x:e.clientX,y:e.clientY}).filter((function(e){return e.key===n})),1)[0]){e.preventDefault();var i=Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX,a=Math.sign(-i)*io;o.scroll(a)}}}function Mo(e){var t=e.layoutModel,n=void 0===e.areaBuffer?function(e){var t=e.layoutModel,n=Math.floor(eo/(t.meta.dimensionCount+t.meta.measureCount));return function(e){var t=e.width,r=e.height,o=Math.min(n,Math.max(to.MAXIMUM,r));return{width:t,height:Math.max(to.MINIMUM,Math.min(r*to.MULTIPLIER,o))}}}({layoutModel:t}):function(e){var t=e.layoutModel,n=Math.floor(eo/(t.meta.dimensionCount+t.meta.measureCount));return function(e){var t=e.width,r=e.height;return{width:t,height:Math.min(n,r)}}}({layoutModel:t}),r={width:t.meta.size.x,height:t.meta.size.y};return function(e){var t=n({width:e.qWidth,height:e.qHeight}),o=t.width,i=t.height,a=i?Math.ceil((i-e.qHeight)/2):0,l=o?Math.ceil((o-e.qWidth)/2):0;return{qHeight:i?Math.min(i,r.height):e.qHeight,qWidth:o?Math.min(o,r.width):e.qWidth,qTop:i?Math.max(0,Math.min(e.qTop-a,r.height-i)):e.qTop,qLeft:o?Math.max(0,Math.min(e.qLeft-l,r.width-o)):e.qLeft}}}function Oo(e){return function(e){if(Array.isArray(e))return wo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function So(e){var t,n,r=function(r){return new Promise((function(o,i){var a={request:r,resolve:o,reject:i,canceled:!1,cancel:function(){a.canceled=!0}};t?function(e){n&&n.reject(Yr),n=e}(a):function r(o){var i=(t=o).request,a=i.method,l=i.args;e[a].apply(e,Oo(l)).then((function(e){if(t.canceled||n)return t.reject(Yr),t=null,void(n&&(r(n),n=null));t.resolve(e[0]),t=null}))}(a)}))};return r.isProcessing=function(){return!!t},r.hasQueued=function(){return!!n},r.cancel=function(){r.isProcessing()&&t.cancel(),r.hasQueued()&&(n.reject(Yr),n=null)},r}var ko={command:{update:function(){}}};function Co(e){var t=e.dataStore,n=e.composition,r=e.enigmaModel,o=e.layoutModel,i=e.trendLineModel,a=void 0===i?ko:i,l=e.definitionPath,u=e.areaBuffer,s=e.processDataPage,c=n.slicer,f=n.cacheWarden,d=n.request,p=function(e){var t=e.dataStore,n=e.slice,r=e.warden,o=e.expand,i=e.request,a=e.process,l=e.connectionless,u=e.processDataPage;return function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=s.onProcessing;if(t.contains(e)){var f=t.getCurrent();if(l)return Promise.resolve(n(f,e));var d=r.release(f.qArea,e),p=a.isProcessing();if(!d&&p&&a.cancel(),!d||p)return Promise.resolve(n(f,e))}if(l)return Promise.resolve(t.getCurrent());a.isProcessing()&&c&&c();var m=o(e);return a(i(m)).then((function(r){return u(r),t.add(r),n(r,e)}))}}({dataStore:t,slice:c,warden:f({bounds:{width:o.meta.size.x,height:o.meta.size.y}}),expand:Mo({layoutModel:o,areaBuffer:u}),request:d({layoutModel:o,definitionPath:l}),process:So(r),connectionless:o.meta.isSnapshot,processDataPage:s}),m=function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=0;return function(){t=this;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n=l;var s=Date.now()-i,c=function(){i=Date.now(),r=0,e.apply(t,n)};r||(s>=o?c():r=setTimeout(c,o-s))}}((function(e,t){var n=t.onProcessing,r=t.onData;p(e,{onProcessing:n}).then((function(e){return r(e)})).catch((function(e){if(e!==Yr)throw e}))}),ro);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onProcessing,r=void 0===n?Qr:n,i=t.onDataPage,l=void 0===i?Qr:i;m(e,{onProcessing:r,onData:function(e){o.setDataPages(e?[e]:[]),a.command.update(),l(e)}})}}var Eo={inTotal:function(e){return e.layoutModel.meta.size.x},area:function(e){return{qTop:0,qHeight:1,qLeft:0,qWidth:e.layoutModel.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=n.pixel,a=t.getDataPages()[0],l=i/o;return[l,r.inView>=r.inTotal?l+1:l+a.qArea.qWidth/r.inView]}};function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Do={inTotal:function(e){var t=e.layoutModel;if(t.meta.isSnapshot&&!t.getLayoutValue("reducedHyperCube")){var n=Ao(t.getDataPages(),1)[0];if(n)return n.qArea.qHeight}return t.meta.size.y},area:function(e){var t=e.layoutModel,n=e.itemOffset,r=e.inView,o=e.areaBuffer,i=void 0===o?4:o,a=Math.max(0,Math.floor(n)-i/2);return{qTop:a,qHeight:Math.min(t.meta.size.y-a,Math.max(0,Math.ceil(r+i))),qLeft:0,qWidth:t.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=n.pixel,a=t.getDataPages()[0],l=o/r.inView,u=(i+a.qArea.qTop*l)/o;return[u,r.inView>=r.inTotal?u+1:u+a.qArea.qHeight/r.inView]}};function To(e,t){for(var n=[],r=0;r<e.length;r++){var o=t(e[r]);-1===n.indexOf(o)&&n.push(o)}return n.length}function No(e){return To(e.qMatrix,(function(e){return e[0].qElemNumber}))-1}var Lo={inTotal:function(e){var t=e.layoutModel,n=t.meta.measureCount;return t.meta.size.y*n*(1+1/n)-1},area:function(e){var t=e.layoutModel,n=e.itemOffset,r=e.inView,o=e.areaBuffer,i=t.meta.measureCount,a=void 0===o?i:o,l=n/(i+1),u=Math.max(0,Math.floor((n-l-a/2)/i));return{qTop:u,qHeight:Math.min(t.meta.size.y-u,Math.max(0,Math.ceil((r+a)/i+1))),qLeft:0,qWidth:t.meta.size.x}},scaleRange:function(e){var t=e.layoutModel,n=e.offsets,r=e.items,o=e.viewSize,i=t.meta.measureCount,a=t.getDataPages()[0],l=o/r.inView,u=n.pixel,s=No(a),c=a.qArea.qHeight*i+s,f=(u+(a.qArea.qTop*i+a.qArea.qTop)*l)/o;return[f,r.inView>=r.inTotal?f+1:f+c/r.inView]}};var Io=function(e,t){return t/(e.meta.size.y/e.query.getDimensionSize()+1)},jo=function(e,t){for(var n={successful:!0,count:0},r=Math.abs(Math.floor(t)),o=[],i=0;i<=r;i++){if(!e[i])return n.successful=!1,n;var a=e[i][0].qElemNumber;-1===o.indexOf(a)&&(o.push(a),r--)}return n.count=o.length-1,n};function Po(e){return{itemOffset:function(t,n){if(0!==t.qArea.qTop)return Io(e,n);var r=jo(t.qMatrix,n);return r.successful?r.count:Io(e,n)},area:function(t,n,r){return 0!==t.qArea.qTop?Io(e,n):To(t.qMatrix.slice(0,r.qTop+1),(function(e){return e[0].qElemNumber}))-1}}}var Ro={inTotal:function(e){var t=e.layoutModel;return t.meta.size.y+t.query.getDimensionSize()-1},area:function(e){var t=e.getDataPages,n=e.layoutModel,r=e.itemOffset,o=e.inView,i=Po(n).itemOffset(t(),r),a=Math.max(0,Math.floor(r-i));return{qTop:a,qHeight:Math.min(n.meta.size.y-a,Math.max(0,Math.ceil(o+1))),qLeft:0,qWidth:n.meta.size.x}},scaleRange:function(e){var t=e.getDataPages,n=e.layoutModel,r=e.offsets,o=e.items,i=e.viewSize,a=e.upperBound,l=n.getDataPages()[0],u=i/o.inView,s=r.item,c=r.pixel,f=Po(n).area(t(),s,l.qArea),d=No(l),p=l.qArea.qHeight+d,m=c===a?(o.inView-p)*u/i:(c+(l.qArea.qTop+f)*u)/i;return[m,o.inView>=o.inTotal?m+1:m+p/o.inView]}};function _o(e){var t=e.rect,n=e.dockModel,r=e.itemWidths,o=e.dimensionAxis,i=e.inTotal,a=e.isMajorVisible,l=e.isMajorLabelless,u=e.maxDataRows,s=r[n.mode],c=s.DEFAULT,f=s.SQUEEZE,d=s.LABELLESS,p=o.axisDisplayMode,m=void 0===p?"auto":p,h=o.maxVisibleItems,g=void 0===h?10:h,y="vertical"===n.major.orientation?t.width:t.height,v=y/i>=f;switch(m){case"max":return Math.min(i,u);case"custom":return Math.min(g,u);case"auto":default:return!a||l?y/d:v?i:y/c}}function zo(e){var t=e.chart,n=e.getRect,r=e.getDataPages,o=e.layoutModel,i=e.dockModel,a=e.getItemWidths,l=e.axisKey,u=e.areaBuffer,s=e.rtl,c=function(e){var t=e.layoutModel.meta,n=t.isDimensionless,r=t.isGrouped,o=t.isGroupedByMeasure;return n?Eo:r?o?Lo:Ro:Do}({layoutModel:o}),f=c.inTotal,d=c.area,p=c.scaleRange,m=function(){return"vertical"===i.major.orientation?n().width:n().height},h=function(e){return e?m()/e:0},g=function(e,t){return-(e-t)*h(t)};return{getItems:function(){var e=o.getLayoutValue("dimensionAxis"),r=f({layoutModel:o}),u=t.component(l),s=!l||!u||u.isVisible();return{inTotal:r,inView:_o({rect:n(),dockModel:i,itemWidths:a(),dimensionAxis:e,inTotal:r,isMajorVisible:s,isMajorLabelless:"none"===e.show||"title"===e.show,maxDataRows:Math.floor(eo/(o.meta.dimensionCount+o.meta.measureCount))})}},getItemSize:function(e){var t=e.items.inView;return h(t)},getOffsets:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView,i=Math.min(0,Math.max(t,g(r,o)));return{pixel:i,item:o?Math.abs(o*i/m()):0}},getUpperBound:function(e){var t=e.items,n=t.inTotal,r=t.inView;return g(n,r)},getViewRange:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView;return function(e){var t=e.viewSize,n=e.inTotal,r=e.inView,o=e.pixelOffset,i=t/r*n,a=Math.abs(o)/i;return[a,a+t/i]}({viewSize:m(),inTotal:r,inView:o,pixelOffset:t})},getArea:function(e){var t=e.itemOffset,n=e.items;return d({getDataPages:r,layoutModel:o,itemOffset:t,inView:n.inView,areaBuffer:u})},getScaleRange:function(e){var t=e.offsets,n=e.items,a=p({getDataPages:r,layoutModel:o,offsets:t,items:n,viewSize:m(),upperBound:g(n.inTotal,n.inView)});return"vertical"===i.major.orientation&&s?function(e){return[1-e[1],1-e[0]]}(a):a},validate:{offset:function(e){var t=e.pixelOffset,n=e.items,r=n.inTotal,o=n.inView;return t<=0&&t>=g(r,o)}},convert:{itemToPixelOffset:function(e){var t=e.itemOffset,n=e.items.inView,r=t*h(n);return Number.isFinite(r)?-r:0},relativeToPixelOffset:function(e){var t=e.relativeOffset,n=e.items,r=n.inTotal,o=n.inView;return-t*(h(o)*r)}}}}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ho(e){var t=e.chart,n=e.componentKey,r=e.state,o=e.dataStore,i=e.pageData,a=e.layoutModel,l=e.dockModel,u=e.itemWidths,s=e.getRect,c=e.axisKey,f=e.areaBuffer,d=e.viewState,p=e.rtl;r.set("rect",{width:0,height:0}),r.set("itemWidths",{}),r.set("itemSize",0),r.set("items",{}),r.set("offsets",{}),r.set("finished",0),r.set("scaleRange",[0,1]);var m=zo({chart:t,getRect:function(){return r.get("rect")},getDataPages:o.getCurrent,layoutModel:a,dockModel:l,getItemWidths:function(){return r.get("itemWidths")},axisKey:c,areaBuffer:f,rtl:p}),h=function(){var e=m.getItems();return r.set("items",e),e},g=function(e){var t=e.pixelOffset,n=e.items,o=m.getOffsets({pixelOffset:t,items:n});return r.set("offsets",o),o},y=function(e){var t=Date.now(),n=h(),o=g({pixelOffset:e,items:n}),l=m.getArea({itemOffset:o.item,items:n});if(function(e){var t=Fo(a.getDataPages(),1)[0].qArea;return!!t&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(l))(m.validate.offset({pixelOffset:e,items:n})||d.get("scrollOffset")!==o.item)&&(r.set("finished",t),r.set("scaleRange",m.getScaleRange({offsets:o,items:n})),d.preventSet("viewRange",m.getViewRange({pixelOffset:o.pixel,items:n})),d.set("scrollOffset",o.item));else{d.preventSet("viewRange",m.getViewRange({pixelOffset:o.pixel,items:n}));var u=function(){r.get("finished")>t||(r.set("finished",t),r.set("scaleRange",m.getScaleRange({offsets:o,items:n})),d.set("scrollOffset",o.item))};i(l,{onProcessing:u,onDataPage:u})}};return{enabled:function(){var e=r.get("items");return e.inTotal>e.inView},itemSize:function(){return r.get("itemSize")},scaleRange:function(){return r.get("scaleRange")},initialize:function(){var e=t.component(n);if(!e)return Promise.resolve();r.set("rect","function"==typeof s?s():e.rect),r.set("itemWidths","function"==typeof u?u():u);var o=h();r.set("itemSize",m.getItemSize({items:o}));var l=void 0===d.get("scrollOffset")?function(e){var t=e.items;return 1===a.getLayoutValue("scrollStartPos")?m.getUpperBound({items:t}):0}({items:o}):m.convert.itemToPixelOffset({itemOffset:d.get("scrollOffset"),items:o}),c=g({pixelOffset:l,items:o});d.preventSet("viewRange",m.getViewRange({pixelOffset:c.pixel,items:o}));var f=m.getArea({itemOffset:c.item,items:o});return new Promise((function(e){i(f,{onDataPage:function(){r.set("scaleRange",m.getScaleRange({offsets:c,items:o})),d.preventSet("scrollOffset",c.item),e()}})}))},scroll:function(e){var t=r.get("offsets").pixel+e;y(t)},scrollToRelative:function(e){var t=r.get("items"),n=m.convert.relativeToPixelOffset({relativeOffset:e,items:t});y(n)}}}function Bo(e,t,n){if(void 0===e||void 0===t)return n;for(var r=t.split("."),o=e,i=0;i<r.length;++i){var a=r[i];if(void 0===o[a])return n;o=o[a]}return o}function Vo(e){var t=e.chart,n=e.actions,r=e.componentKey,o=e.enigmaModel,i=e.layoutModel,a=e.dockModel,l=e.trendLineModel,u=e.itemWidths,s=e.viewState,c=e.rtl,f=e.options,d=(f=void 0===f?{}:f).definitionPath,p=void 0===d?"/qHyperCubeDef":d,m=f.getRect,h=void 0===m?void 0:m,g=f.axisKey,y=void 0===g?void 0:g,v=f.areaBuffer,b=void 0===v?void 0:v,x=f.processDataPage,M=void 0===x?function(){}:x,O=$n(),w=function(e){switch(e.qMode){case"S":default:return ao;case"K":return co;case"T":return fo}}({qMode:i.getHyperCubeValue("qMode")}),S=function(e){var t=e.state,n=e.contains;return t.set(po,[]),{add:function(e){var n=t.get(po);n.length=0,n.push(e)},getCurrent:function(){return t.get(po)[0]},getAll:function(){return t.get(po)},contains:function(e){return n(t.get(po)[0],e)}}}({state:O,contains:w.contains});!function(e){var t=e.layoutModel,n=e.dataStore,r=e.composition,o=t.getDataPages()[0];if(o){var i=r.patcher({layoutModel:t});i.should(o)&&i(o),n.add(o)}}({layoutModel:i,dataStore:S,composition:w});var k=function(e){var t=e.buffer;return void 0===t?void 0:2*Math.round(t/2)}({buffer:b}),C=Co({dataStore:S,composition:w,enigmaModel:o,layoutModel:i,trendLineModel:l,definitionPath:p,areaBuffer:k,processDataPage:M}),E=Ho({chart:t,componentKey:r,state:O,dataStore:S,pageData:C,layoutModel:i,dockModel:a,itemWidths:u,getRect:h,axisKey:y,areaBuffer:k,viewState:s,rtl:c}),A=function(e){var t=e.layoutModel,n=e.dataStore;return function(e){var r=Bo(e,"qHyperCube.".concat(t.refs.dataPages));r.length=0,r.push(n.getCurrent())}}({layoutModel:i,dataStore:S});return{interactions:function(e){var t=e.chart,n=e.actions,r=e.componentKey,o=e.dockModel,i=e.rtl,a=e.scroller;return{gestures:[yo({chart:t,actions:n,componentKey:r,dockModel:o,rtl:i,scroller:a})],native:{type:"native",events:{wheel:xo({chart:t,actions:n,componentKey:r,scroller:a})}}}}({chart:t,actions:n,componentKey:r,dockModel:a,rtl:c,scroller:E}),query:{getCanScroll:function(){return E.enabled()},getItemSize:function(){return E.itemSize()},getScaleRange:function(){return E.scaleRange()},getCurrentDataPage:function(){return S.getCurrent()}},command:{initialize:function(){return E.initialize()},scrollTo:function(e){return E.scrollToRelative(e)},setSnapshotData:function(e){return A(e)}}}}var Wo={extractData:function(e,t){var n=this;this.app=t.app;var r=e;return new Promise((function(e){t.model.getEffectiveProperties?t.model.getEffectiveProperties().then((function(o){n.setUpMeasures(r,o,t).then((function(r){var i=r.measures;n.updateSessionObject({measures:i},o,t).then((function(){n.sessionObj.getLayout().then((function(r){var o,i,a,l,u=t.picasso.data("q")({key:"qHyperCube",data:r.qHyperCube,config:{localeInfo:t.localeInfo}}),s=(null===(o=r.qHyperCube)||void 0===o||null===(i=o.qDataPages)||void 0===i||null===(a=i[0])||void 0===a||null===(l=a.qMatrix)||void 0===l?void 0:l[0])||[],c=n.prepareData(s,u);e(c)}))}))}))})):e({measures:[]})}))},setUpMeasures:function(e,t,n){var r=this,o=this.getChartDimensions(n.layout);return new Promise((function(i){var a=r.getPreparedMeasureList(t,o,{opts:n,dimFields:e});Promise.all(a).then((function(e){i({measures:e})}))}))},getChartDimensions:function(e){var t,n=this,r=[];return((null===(t=e.qHyperCube)||void 0===t?void 0:t.qDimensionInfo)||[]).forEach((function(e){r.push(n.extractChartDimensionFieldName(e))})),r},extractChartDimensionFieldName:function(e){var t=e.qGroupPos;return this.stripEqualSign(e.qGroupFieldDefs[t])},stripEqualSign:function(e){return"="===e.charAt(0)?e.substr(1):e},getPreparedMeasureList:function(e,t,n){var r,o,i,a=this,l=n.opts,u=n.dimFields,s=[];return((null===(r=e.tooltip)||void 0===r||null===(o=r.data)||void 0===o||null===(i=o.qHyperCubeDef)||void 0===i?void 0:i.qMeasures)||[]).forEach((function(e,n){s.push(a.extractMeasureInfo(e,n,{chartDimension:t,opts:l,dimFields:u}).then((function(e){return{qDef:e,qAttributeExpressions:[]}})))})),s},extractMeasureInfo:function(e,t,n){var r=this,o=n.chartDimension,i=n.opts,a=n.dimFields;return new Promise((function(n){if(e.qLibraryId)i.app.getMeasure(e.qLibraryId).then((function(e){e.getProperties().then((function(e){var t=JSON.parse(JSON.stringify(e.qMeasure));t.qDef=r.wrapWithSetExpression(t.qDef,o,a),t.qLabelExpression=t.qLabelExpression?r.wrapWithSetExpression(t.qLabelExpression,o,a):"",n(t)}))}));else{var l=JSON.parse(JSON.stringify(e.qDef));l.qDef=r.wrapWithSetExpression(l.qDef,o,a),l.qLabel=i.layout.tooltip.data.qHyperCube.qMeasureInfo[t].qFallbackTitle,l.qLabelExpression=l.qLabelExpression?r.wrapWithSetExpression(l.qLabelExpression,o,a):"",n(l)}}))},wrapWithSetExpression:function(e,t,n){if(t.length<1)return"".concat(e);var r="",o="";return t.forEach((function(e,i){r="".concat(r,"[").concat(e,"]={'").concat(n[i],"'}"),o="".concat(o,"[").concat(e,"]"),i+1!==t.length&&(r="".concat(r,","),o="".concat(o,","))})),"Aggr({<".concat(r,">}").concat(e,",").concat(o,")")},updateSessionObject:function(e,t,n){var r=this,o=e.measures,i=t.qStateName||"",a={qInfo:{qType:"CustomTooltip"},qHyperCubeDef:{qDimensions:[],qMeasures:o,qInterColumnSortOrder:[0],qInitialDataFetch:[{qWidth:15,qHeight:100}]},qStateName:i};return new Promise((function(e){r.sessionObj?r.sessionObj.getProperties().then((function(t){var n=t;n.qHyperCubeDef.qMeasures=o,n.qStateName=i,r.sessionObj.setProperties(n).then((function(){e()}))})):n.app.createSessionObject(a).then((function(t){r.sessionObj=t,e()}))}))},prepareData:function(e,t){return{measures:this.extractMeasures(e,t)}},extractMeasures:function(e,t){var n=[];return e.forEach((function(e,r){var o="NaN"!==e.qNum?t.field(r).formatter()(e.qNum):e.qText,i="".concat(t.field(r).title(),":");n.push({label:i,value:o})})),n},destroySessionObject:function(){this.app&&this.sessionObj&&this.app.destroyObject(this.sessionObj.id)}},Go={CUSTOM:{EXPRESSION:"customTooltipExpression",TITLE:"customTooltipTitle",DESCRIPTION:"customTooltipDescription",QUARANTINE:"customTooltip",IMAGES:"customTooltipImages"}};function Ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Zo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xo(i,r,o,a,l,"next",e)}function l(e){Xo(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Jo(e){var t=e.split("/");return"qmem:"===t[0]&&""===t[1]}function Yo(e){var t,n,r,o,i;return e&&e.session&&e.session.options||e&&e.enigmaModel&&e.enigmaModel.session&&e.enigmaModel.session.sessionConfig?(n=(void 0!==(t=e.session.options||e.enigmaModel.session.sessionConfig).secure?t.secure:t.isSecure)?"https://":"http://",r=t.host||"localhost",o=t.port?":".concat(t.port):"","/"!==(i=t.prefix?t.prefix:"/")[i.length-1]&&(i="".concat(i,"/")),n+r+o+i):""}function Qo(e,t){var n=e.replace(t,"").replace(/^\.\.\//i,"/");return"/"!==n[0]?"/".concat(n):n}function ei(e,t){return t+("/"===e[0]?e.substr(1):e)}var ti={getImageSize:function(e,t){var n;function r(){n&&(clearTimeout(n),n=null)}function o(e){var t=e;t.onload=null,t.onerror=null,r()}var i={small:50,medium:200,large:340,original:340};return new Promise((function(a){var l=new Image;l.referrerPolicy="no-referrer",l.onload=function(){var e,n=l.height,u=l.width,s=i[t]*(n>u?1:n/u),c=i[t]*(u>n?1:u/n);!n||!u||0===n&&0===u?(e={height:20,width:20,imageError:!0},o(l)):"original"===t?(e={height:Math.min(s,n),width:Math.min(c,u)},r()):(e={height:s,width:c},r()),a(e)},l.onerror=function(){o(l),a({height:20,width:20,imageError:!0})},l.src=e,n=setTimeout((function(){o(l),a({height:20,width:20,imageError:!0})}),3e3)}))}};function ni(e,t,n){return ri.apply(this,arguments)}function ri(){return(ri=Zo(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,l,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.ref.qStaticContentUrl.qUrl,(i=Yo(r))&&(Qo(o,i),o=ei(o=(o=o.replace(/"/g,'\\"')).replace(/'/g,"\\'"),i)),e.next=5,ti.getImageSize(o,n);case 5:return a=e.sent,l=a.height,u=a.width,s=a.imageError,e.abrupt("return",{src:o,size:n,height:l,width:u,imageError:s});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oi(e,t,n,r,o){return ii.apply(this,arguments)}function ii(){return(ii=Zo(regeneratorRuntime.mark((function e(t,n,r,o,i){var a,l,u,s,c,f,d,p,m,h,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.ref,i&&i.label&&(l=i.label),!(n.isEnabled("IMAGE_BUNDLE_LOAD")&&(null==t?void 0:t.getImage)&&Jo(l))){e.next=21;break}return e.prev=3,e.next=6,t.getImage(l);case 6:return u=e.sent,s="data:image/png;base64, ".concat(u),e.next=10,ti.getImageSize(s,o);case 10:c=e.sent,f=c.height,d=c.width,p=c.imageError,a={src:s,size:o,height:f,width:d,imageError:p},e.next=19;break;case 17:e.prev=17,e.t0=e.catch(3);case 19:e.next=28;break;case 21:return e.next=23,ti.getImageSize(l,o);case 23:m=e.sent,h=m.height,g=m.width,y=m.imageError,a={src:l,size:o,height:h,width:g,imageError:y};case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}function ai(e,t,n,r){return li.apply(this,arguments)}function li(){return(li=Zo(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,f,d,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.label,l=n.qFallbackTitle,!Jo(u="qmem://".concat(l,"/").concat(a))){e.next=21;break}return e.prev=4,e.next=7,t.getImage(u);case 7:if(!(s=e.sent)){e.next=17;break}return c="data:image/png;base64, ".concat(s),e.next=12,ti.getImageSize(c,r);case 12:f=e.sent,d=f.height,p=f.width,m=f.imageError,i={src:c,size:r,height:d,width:p,imageError:m};case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(4);case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function ui(e,t,n,r){return si.apply(this,arguments)}function si(){return(si=Zo(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,l,u,s,c,f,d,p,m,h,g,y,v,b,x,M,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=n.app,d=n.flags,p=null===(i=t.layout)||void 0===i||null===(a=i.tooltip)||void 0===a?void 0:a.imageComponents){e.next=4;break}return e.abrupt("return",[]);case 4:m=Ko(p,1),h=m[0],g=h.size||"small",y=h.type||"media",v=-1,b=0;case 9:if(!(b<r.length)){e.next=16;break}if(r[b].cId!==h.cId){e.next=13;break}return v=b,e.abrupt("break",16);case 13:b++,e.next=9;break;case 16:if(x=(null===(l=o.data)||void 0===l||null===(u=l.customTooltipAttrExps)||void 0===u?void 0:u.value)||[],-1!==v&&x[v]&&(M=x[v]),"media"!==y||!(null===(s=h.ref)||void 0===s||null===(c=s.qStaticContentUrl)||void 0===c?void 0:c.qUrl)){e.next=20;break}return e.abrupt("return",ni(h,g,f));case 20:if("url"!==y){e.next=22;break}return e.abrupt("return",oi(f,d,h,g,M));case 22:if(!(d.isEnabled("IMAGE_BUNDLE_LOAD")&&"field"===y&&M&&M.label)){e.next=25;break}return O=r[v],e.abrupt("return",ai(f,O,g,M));case 25:return e.abrupt("return",[]);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ci=function(e){return Zo(regeneratorRuntime.mark((function t(){var n,r,o,i,a,l,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.customTooltipModel,r=e.nodes,o=e.attrExps,i=e.opts,a=r,l=[],u=0;u<a.length;u++)l.push(ui(n,i,o,a[u]));return t.next=6,Promise.all(l);case 6:for(s=t.sent,c=0;c<a.length;c++)a[c].data.customTooltipImages=[s[c]];return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))()},fi=function(e){var t,n,r=null===(t=e.customTooltipModel.layout)||void 0===t||null===(n=t.tooltip)||void 0===n?void 0:n.imageComponents;return!!r&&r.length>0};function di(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}var pi={handlePromises:function(e){return(t=regeneratorRuntime.mark((function t(){var n,r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.customTooltipModel,r=e.nodes,o=e.attrExps,i=e.opts,a=r,t.next=4,ci({customTooltipModel:n,nodes:r,attrExps:o,opts:i});case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){di(i,r,o,a,l,"next",e)}function l(e){di(i,r,o,a,l,"throw",e)}a(void 0)}))})();var t},checkIfPromisesExist:function(e){var t=e.customTooltipModel;return fi({customTooltipModel:t})}};function mi(e){return function(e){if(Array.isArray(e))return hi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gi(e){var t=e.qHyperCubeDef?e.qHyperCubeDef.qDimensions:e.qHyperCube.qDimensionInfo;if(t&&t.length>0)return t}function yi(){var e=Go.CUSTOM,t=e.EXPRESSION,n=e.TITLE,r=e.DESCRIPTION,o=e.IMAGES,i={};return i[t]=!0,i[n]=!0,i[r]=!0,i[o]=!0,i}function vi(e){var t=yi();return e.filter((function(e){return t[e.id]}))}var bi={getNodes:function(e,t){var n=function(e,t){var n=0,r=0;e.center?(n+=e.center.x,r+=e.center.y):(n+=e.clientX,r+=e.clientY);var o=t.element.getBoundingClientRect();return{cx:n-o.left,cy:r-o.top}}(e,t);return t.shapesAt({x:n.cx,y:n.cy})},getDataNodes:function(e,t){var n,r=[],o={container:{bar:!0,"bullet-axis":!0},circle:{"point-component":!0}};return t.forEach((function(t){var i,a,l,u,s=null!==(i=null===(a=t.data)||void 0===a?void 0:a.selectionDimension)&&void 0!==i?i:t.data;if(!s||(null===(l=t.data)||void 0===l?void 0:l.customTooltipAttrExps)||o[t.type]){if((null===(u=t.data)||void 0===u?void 0:u.customTooltipAttrExps)&&!t.data.customTooltipImages){var c=t;c.data.customTooltipImages=[],r.push(c)}}else{n||(n=[],Object.keys(o).forEach((function(t){n=n.concat(e.findShapes(t).filter((function(e){return e.data&&e.data.customTooltipAttrExps&&!e.data.customTooltipImages&&o[t][e.key]})))})));var f=n.filter((function(e){var t,n,r=null!==(t=null!==(n=e.data.stack)&&void 0!==n?n:e.data.selectionOuterDimension)&&void 0!==t?t:e.data.selectionDimension;return r&&r.value===s.value&&r.label===s.label}));f.length>0&&(r=r.concat(f[0]))}})),r},displayTooltip:function(e,t,n){var r=n.nodes,o=n.model,i=n.opts,a=void 0===i?{}:i,l=n.dimsAndNodeFn,u=n.customTooltipModel,s=n.extractedNodes,c=void 0===s?[]:s;if(a.flags&&a.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")){var f=u.layout,d=u.chart,p=bi.getAttrExprData(f).attrExps;pi.handlePromises({customTooltipModel:u,nodes:bi.getDataNodes(d,c.length>0?c:r),attrExps:p,opts:a}).then((function(){t.emit("show",e,r.length?{nodes:r}:void 0)}))}else if(r.length>0&&"function"==typeof l){var m=l(),h=m.nodeDims,g=m.node;h&&g?function(e,t,n){return new Promise((function(r){var o=t;!function(e){return-3===e.data.value}(t)?function(e,t){var n=e.data,r=t.chart.brush("selection");return r.isActive()&&!r.containsMappedData(n)}(t,n)?(o.data.customTooltip={limitation:n.translator.get("properties.tooltip.notselectedmessage")},r(o)):Wo.extractData(e,n).then((function(e){o.data.customTooltip=e,r(o)})):(o.data.customTooltip={},r(o))}))}(h,g,o).then((function(n){t.emit("show",e,{nodes:[n]})})):t.emit("show",e)}else t.emit("hide")},checkIfPromisesExist:function(e){var t=e.customTooltipModel;return pi.checkIfPromisesExist({customTooltipModel:t})},getAttrExps:function(e,t){var n,r=t,o=(null===(n=e.qHyperCubeDef)||void 0===n?void 0:n.qDimensions)?"qAttributeExpressions":"qAttrExprInfo";return r[o]||(r[o]=[]),r[o]},getAttrExprData:function(e){var t,n=[],r="",o=(null===(t=e.qHyperCube)||void 0===t?void 0:t.qDimensionInfo)||[];if(o.length>0){var i,a,l,u=o.length-1;n=(null===(i=e.qHyperCube)||void 0===i||null===(a=i.qDimensionInfo)||void 0===a||null===(l=a[u])||void 0===l?void 0:l.qAttrExprInfo)||[],r="qDimensionInfo/".concat(u,"/qAttrExprInfo")}return{attrExps:n,fieldPath:r}},quarantineCustomTooltipAttrs:function(e,t){var n,r;(null===(n=e.qLayoutExclude)||void 0===n||null===(r=n.quarantine)||void 0===r?void 0:r[Go.CUSTOM.QUARANTINE])||function(e,t){var n=t,r=n.qLayoutExclude;r||(n.qLayoutExclude={quarantine:{}},r=n.qLayoutExclude),r.quarantine||(r.quarantine={}),r.quarantine[Go.CUSTOM.QUARANTINE]=[],e.forEach((function(e){r.quarantine[Go.CUSTOM.QUARANTINE].push(e)})),n.qLayoutExclude=r}(vi(t.qAttributeExpressions||[]),e)},unquarantineCustomTooltipAttrs:function(e){var t,n,r=e;(null===(t=e.qLayoutExclude)||void 0===t||null===(n=t.quarantine)||void 0===n?void 0:n[Go.CUSTOM.QUARANTINE])&&delete r.qLayoutExclude.quarantine[Go.CUSTOM.QUARANTINE]},setAttrsFromQuarantine:function(e,t){var n=gi(e);if(n){var r=void 0!==t?t:n.length-1;if(n[r]){var o=this.getAttrExps(e,n[r]);if(0===vi(o).length){var i,a,l=(null===(i=e.qLayoutExclude)||void 0===i||null===(a=i.quarantine)||void 0===a?void 0:a.customTooltip)||[],u=[].concat(mi(o),mi(l)),s=e;s.qHyperCubeDef?s.qHyperCubeDef.qDimensions[r].qAttributeExpressions=u:s.qHyperCube.qDimensionInfo[r].qAttrExprInfo=u}}}},moveCustomTooltipAttrs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=[],o=gi(e)||[],i=[].concat(mi(o),[t]);i.forEach((function(e){var t=vi(e.qAttributeExpressions||[]);t.length>0&&(r=t)}));var a=yi(),l=o.map((function(e){var t=e,n=e.qAttributeExpressions||[];return t.qAttributeExpressions=n.filter((function(e){return!a[e.id]})),t})),u=void 0!==n?n:l.length-1;l.length>0&&(l[u].qAttributeExpressions=l[u].qAttributeExpressions.concat(r));var s=e;e.qHyperCubeDef?s.qHyperCubeDef.qDimensions=l:s.qHyperCube.qDimensionInfo=l},addCallbackCustomTooltip:function(e){e.qHyperCubeDef.qDimensions.length>1?this.moveCustomTooltipAttrs(e):(this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e))},moveCallbackCustomTooltip:function(e,t){1===e.qHyperCubeDef.qDimensions.length&&(this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e)),e.qHyperCubeDef.qDimensions.length>1&&this.moveCustomTooltipAttrs(e,t)},removeCallbackCustomTooltip:function(e,t){e.qHyperCubeDef.qDimensions.length>0?this.moveCustomTooltipAttrs(e,t):this.quarantineCustomTooltipAttrs(e,t)},replaceCallbackCustomTooltip:function(e,t){e.qHyperCubeDef.qDimensions.length>1?this.moveCustomTooltipAttrs(e,t):(this.quarantineCustomTooltipAttrs(e,t),this.setAttrsFromQuarantine(e),this.unquarantineCustomTooltipAttrs(e))},shouldIgnoreDefaultRows:function(e){var t;return(null===(t=e.tooltip)||void 0===t?void 0:t.hideBasic)||0},DEBOUNCE_THRESHOLD:50},xi=bi;var Mi=Math.sqrt(50),Oi=Math.sqrt(10),wi=Math.sqrt(2),Si=function(e,t,n){var r,o,i,a,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=ki(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));++l<o;)i[l]=(e+l)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));++l<o;)i[l]=(e-l)/a;return r&&i.reverse(),i};function ki(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Mi?10:i>=Oi?5:i>=wi?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Mi?10:i>=Oi?5:i>=wi?2:1)}var Ci=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var Ei=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Ci(t(e),n)}),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}(Ci),Ai=Ei.right,qi=(Ei.left,Ai),Di=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Ti(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ni(){}var Li="\\s*([+-]?\\d+)\\s*",Ii="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ji="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pi=/^#([0-9a-f]{3})$/,Ri=/^#([0-9a-f]{6})$/,_i=new RegExp("^rgb\\("+[Li,Li,Li]+"\\)$"),zi=new RegExp("^rgb\\("+[ji,ji,ji]+"\\)$"),Fi=new RegExp("^rgba\\("+[Li,Li,Li,Ii]+"\\)$"),Ui=new RegExp("^rgba\\("+[ji,ji,ji,Ii]+"\\)$"),Hi=new RegExp("^hsl\\("+[Ii,ji,ji]+"\\)$"),Bi=new RegExp("^hsla\\("+[Ii,ji,ji,Ii]+"\\)$"),Vi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wi(e){var t;return e=(e+"").trim().toLowerCase(),(t=Pi.exec(e))?new Xi((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Ri.exec(e))?Gi(parseInt(t[1],16)):(t=_i.exec(e))?new Xi(t[1],t[2],t[3],1):(t=zi.exec(e))?new Xi(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Fi.exec(e))?Ki(t[1],t[2],t[3],t[4]):(t=Ui.exec(e))?Ki(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Hi.exec(e))?Ji(t[1],t[2]/100,t[3]/100,1):(t=Bi.exec(e))?Ji(t[1],t[2]/100,t[3]/100,t[4]):Vi.hasOwnProperty(e)?Gi(Vi[e]):"transparent"===e?new Xi(NaN,NaN,NaN,0):null}function Gi(e){return new Xi(e>>16&255,e>>8&255,255&e,1)}function Ki(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xi(e,t,n,r)}function $i(e,t,n,r){return 1===arguments.length?((o=e)instanceof Ni||(o=Wi(o)),o?new Xi((o=o.rgb()).r,o.g,o.b,o.opacity):new Xi):new Xi(e,t,n,null==r?1:r);var o}function Xi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Zi(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ji(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yi(e,t,n,r)}function Yi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Qi(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ea(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}Di(Ni,Wi,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Di(Xi,$i,Ti(Ni,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Xi(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Xi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Zi(this.r)+Zi(this.g)+Zi(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Di(Yi,(function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Yi)return new Yi(e.h,e.s,e.l,e.opacity);if(e instanceof Ni||(e=Wi(e)),!e)return new Yi;if(e instanceof Yi)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new Yi(a,l,u,e.opacity)}(e):new Yi(e,t,n,null==r?1:r)}),Ti(Ni,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Yi(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Yi(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Xi(Qi(e>=240?e-240:e+120,o,r),Qi(e,o,r),Qi(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var ta=function(e){return function(){return e}};function na(e,t){return function(n){return e+n*t}}function ra(e){return 1==(e=+e)?oa:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ta(isNaN(t)?n:t)}}function oa(e,t){var n=t-e;return n?na(e,n):ta(isNaN(e)?t:e)}var ia=function e(t){var n=ra(t);function r(e,t){var r=n((e=$i(e)).r,(t=$i(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=oa(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function aa(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),l=new Array(o);for(n=0;n<o;++n)r=$i(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}aa((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return ea((n-r/t)*t,a,o,i,l)}})),aa((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return ea((n-r/t)*t,o,i,a,l)}}));var la=function(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=ga(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}},ua=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},sa=function(e,t){return t-=e=+e,function(n){return e+t*n}};function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fa=function(e,t){var n,r={},o={};for(n in null!==e&&"object"===ca(e)||(e={}),null!==t&&"object"===ca(t)||(t={}),t)n in e?r[n]=ga(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}},da=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pa=new RegExp(da.source,"g");var ma=function(e,t){var n,r,o,i=da.lastIndex=pa.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(n=da.exec(e))&&(r=pa.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,u.push({i:a,x:sa(n,r)})),i=pa.lastIndex;return i<t.length&&(o=t.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)l[(n=u[r]).i]=n.x(e);return l.join("")})};function ha(e){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ga=function(e,t){var n,r=ha(t);return null==t||"boolean"===r?ta(t):("number"===r?sa:"string"===r?(n=Wi(t))?(t=n,ia):ma:t instanceof Wi?ia:t instanceof Date?ua:Array.isArray(t)?la:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?fa:sa)(e,t)},ya=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},va=Array.prototype,ba=va.map,xa=va.slice,Ma=function(e){return function(){return e}},Oa=function(e){return+e},wa=[0,1];function Sa(e){return e}function ka(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ma(isNaN(t)?NaN:.5)}function Ca(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function Ea(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=ka(o,r),i=n(a,i)):(r=ka(r,o),i=n(i,a)),function(e){return i(r(e))}}function Aa(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=ka(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=qi(e,t,1,r)-1;return i[n](o[n](t))}}function qa(e,t){return function(){var e,t,n,r,o,i,a=wa,l=wa,u=ga,s=Sa;function c(){return r=Math.min(a.length,l.length)>2?Aa:Ea,o=i=null,f}function f(t){return isNaN(t=+t)?n:(o||(o=r(a.map(e),l,u)))(e(s(t)))}return f.invert=function(n){return s(t((i||(i=r(l,a.map(e),sa)))(n)))},f.domain=function(e){return arguments.length?(a=ba.call(e,Oa),s===Sa||(s=Ca(a)),c()):a.slice()},f.range=function(e){return arguments.length?(l=xa.call(e),c()):l.slice()},f.rangeRound=function(e){return l=xa.call(e),u=ya,c()},f.clamp=function(e){return arguments.length?(s=e?Ca(a):Sa,f):s!==Sa},f.interpolate=function(e){return arguments.length?(u=e,c()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}()(e,t)}function Da(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var Ta=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Na(e){return new La(e)}function La(e){if(!(t=Ta.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}Na.prototype=La.prototype,La.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ia,ja,Pa,Ra,_a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},za=function(e){return(e=_a(Math.abs(e)))?e[1]:NaN},Fa=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(o>0){if(!+e[r])break e;o=0}}return o>0?e.slice(0,o)+e.slice(t+1):e},Ua=function(e,t){var n=_a(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},Ha={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Ua(100*e,t)},r:Ua,s:function(e,t){var n=_a(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(Ia=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+_a(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Ba=function(e){return e},Va=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];ja=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var o=e.length,i=[],a=0,l=t[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(e.substring(o-=l,o+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return i.reverse().join(n)}):Ba,o=e.currency,i=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):Ba,l=e.percent||"%";function u(e){var t=(e=Na(e)).fill,n=e.align,u=e.sign,s=e.symbol,c=e.zero,f=e.width,d=e.comma,p=e.precision,m=e.trim,h=e.type;"n"===h?(d=!0,h="g"):Ha[h]||(null==p&&(p=12),m=!0,h="g"),(c||"0"===t&&"="===n)&&(c=!0,t="0",n="=");var g="$"===s?o[0]:"#"===s&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",y="$"===s?o[1]:/[%p]/.test(h)?l:"",v=Ha[h],b=/[defgprs%]/.test(h);function x(e){var o,l,s,x=g,M=y;if("c"===h)M=v(e)+M,e="";else{var O=(e=+e)<0;if(e=v(Math.abs(e),p),m&&(e=Fa(e)),O&&0==+e&&(O=!1),x=(O?"("===u?u:"-":"-"===u||"("===u?"":u)+x,M=("s"===h?Va[8+Ia/3]:"")+M+(O&&"("===u?")":""),b)for(o=-1,l=e.length;++o<l;)if(48>(s=e.charCodeAt(o))||s>57){M=(46===s?i+e.slice(o+1):e.slice(o))+M,e=e.slice(0,o);break}}d&&!c&&(e=r(e,1/0));var w=x.length+e.length+M.length,S=w<f?new Array(f-w+1).join(t):"";switch(d&&c&&(e=r(S+e,S.length?f-M.length:1/0),S=""),n){case"<":e=x+e+M+S;break;case"=":e=x+S+e+M;break;case"^":e=S.slice(0,w=S.length>>1)+x+e+M+S.slice(w);break;default:e=S+x+e+M}return a(e)}return p=null==p?6:/[gprs]/.test(h)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),x.toString=function(){return e+""},x}return{format:u,formatPrefix:function(e,t){var n=u(((e=Na(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(za(t)/3))),o=Math.pow(10,-r),i=Va[8+r/3];return function(e){return n(o*e)+i}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Pa=ja.format,Ra=ja.formatPrefix;var Wa=function(e,t,n,r){var o,i=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Mi?o*=10:i>=Oi?o*=5:i>=wi&&(o*=2),t<e?-o:o}(e,t,n);switch((r=Na(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(za(t)/3)))-za(Math.abs(e)))}(i,a))||(r.precision=o),Ra(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,za(t)-za(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-za(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return Pa(r)};function Ga(){var e=qa(Sa,Sa);return e.copy=function(){return t=e,Ga().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},Da.apply(e,arguments),function(e){var t=e.domain;return e.ticks=function(e){var n=t();return Si(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Wa(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o=t(),i=0,a=o.length-1,l=o[i],u=o[a];return u<l&&(r=l,l=u,u=r,r=i,i=a,a=r),(r=ki(l,u,n))>0?r=ki(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=ki(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,n)),r>0?(o[i]=Math.floor(l/r)*r,o[a]=Math.ceil(u/r)*r,t(o)):r<0&&(o[i]=Math.ceil(l*r)/r,o[a]=Math.floor(u*r)/r,t(o)),e},e}(e)}var Ka=50,$a=100,Xa=200,Za=125,Ja=function(e){switch(e){case.5:return Ka;case 1:return $a;case 2:return Xa;default:return e*Za}};var Ya=.2;function Qa(e){var t=e.extrema,n=e.ticks,r=t.meta.hasExplicit?2:3;return n.filter((function(e){return function(e){return!t.meta.hasExplicitMin||e>=t.explicit.min}(e)&&function(e){return!t.meta.hasExplicitMax||e<=t.explicit.max}(e)})).length>r}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||nl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e){return function(e){if(Array.isArray(e))return rl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||nl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nl(e,t){if(e){if("string"==typeof e)return rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rl(e,t):void 0}}function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ol=.3;function il(e){var t=e.tick,n=e.index,r=e.ticks;return 0===n||n===r.length-1||0===t}function al(e){var t=e.index,n=e.ticks;return 0===t||t===n.length-1||t===Math.floor((n.length-1)/2)}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ul(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ul(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sl=10;function cl(e){var t=e.extrema,n=e.min,r=e.max,o=e.scale,i={roundedMin:0,roundedMax:0,ticks:[]};o.domain([n,r]),o.nice(sl);var a=ll(o.domain(),2);i.roundedMin=a[0],i.roundedMax=a[1];var l=o.ticks(sl),u=function(e){var t=e.ticks,n=Math.round(t.length*ol),r=n,o=t.length-n;return t.slice(r,o).some((function(e){return 0===e}))}({ticks:l}),s=u?il:al;return i.ticks=l.filter((function(e,t,n){return s({tick:e,index:t,ticks:n})})),i.ticks.length%2==0&&!u&&!t.meta.hasExplicit&&l.length>1&&(i.ticks=[l[0],(l[0]+l[l.length-1])/2,l[l.length-1]]),i}function fl(e){var t=e.dockModel,n=e.extrema,r=e.measureText,o=e.size,i=e.min,a=e.max,l=e.scale,u=e.count,s=e.formatter;if("SPARK"===t.mode)return function(e){return{roundedMin:e.min,roundedMax:e.max,ticks:[]}}({min:i,max:a});var c=function(e){for(var t,n=e.dockModel,r=e.measureText,o=e.size,i=e.min,a=e.max,l=e.scale,u=e.count,s=e.formatter,c=l.domain(),f={roundedMin:c[0],roundedMax:c[1],ticks:l.ticks(u)},d="vertical"===n.major.orientation?"height":"width",p=function(e){return r(e)[d]},m=u-1;m>0&&(t=void 0,t=o/f.ticks.length,!(Math.max.apply(Math,tl(f.ticks.map(s).map(p)))<=t));m--){l.domain([i,a]),l.nice(m);var h=el(l.domain(),2);f.roundedMin=h[0],f.roundedMax=h[1],f.ticks=l.ticks(m)}return f}({dockModel:t,measureText:r,size:o,min:i,max:a,scale:l,count:u,formatter:s});return Qa({extrema:n,ticks:c.ticks})?c:cl({extrema:n,min:i,max:a,scale:l})}function dl(e){return function(e){if(Array.isArray(e))return pl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ml(e){return function(e){if(Array.isArray(e))return hl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gl(e){var t=e.dockModel,n=e.extrema,r=fl({dockModel:t,extrema:n,measureText:e.measureText,size:e.size,min:e.min,max:e.max,scale:e.scale,count:e.count,formatter:e.formatter}),o=r.ticks,i=r.roundedMin,a=r.roundedMax,l=function(e){for(var t=e.ticks,n=e.count,r=[],o=0;o<t.length-1;o++)for(var i=t[o],a=(t[o+1]-i)/(n+1),l=1;l<=n;l++)r.push(i+a*l);return r}({ticks:o,count:1});return{min:i,max:a,values:[].concat(ml(function(e){var t=e.ticks,n=e.extrema,r=dl(t);return n.meta.hasExplicit&&t.length?(n.meta.hasExplicitMin&&!t.some((function(e){return e===n.explicit.min}))&&(r.unshift(n.explicit.min),r=r.filter((function(e){return e>=n.explicit.min}))),n.meta.hasExplicitMax&&!t.some((function(e){return e===n.explicit.max}))&&(r.push(n.explicit.max),r=r.filter((function(e){return e<=n.explicit.max}))),r):r}({ticks:o,extrema:n}).map((function(e){return{value:e,isMinor:!1}}))),ml(l.map((function(e){return{value:e,isMinor:!0}})))).sort((function(e,t){return e.value-t.value}))}}function yl(e){var t=e.layoutModel,n=e.dockModel,r=e.measureText,o=e.extrema,i=e.size,a=e.formatter,l=function(e){var t=e.layoutModel,n=e.size,r=t.getLayoutValue("measureAxis.spacing",1),o=Ja(r);return Math.max(1,Math.round(n/o))}({layoutModel:t,size:i}),u=function(e){var t=e.extrema,n=t.min,r=t.max,o=t.meta,i=o.hasExplicit,a=o.hasExplicitMax;if(n!==r)return{min:n,max:r};var l=Math.abs(n)*Ya;return i?a?0===n?{min:-1,max:r}:{min:n-l,max:r}:0===n?{min:n,max:1}:{min:n,max:r+l}:0===n?{min:-1,max:1}:{min:n-l,max:r+l}}({extrema:o}),s=u.min,c=u.max;return gl({dockModel:n,extrema:o,measureText:r,size:i,min:s,max:c,scale:function(e,t,n){var r=Ga().domain([e,t]);return r.nice(n),r}(s,c,l),count:l,formatter:a})}var vl={DATA:{MAIN:"qHyperCube"},SCALE:{MAIN:{MAJOR:"main-major",MINOR:"main-minor",COLOR:"color",PX_MAJOR:"px-major"},DIMENSION_PREFIX:"d-"},COMPONENT:{BULLET_AXIS:"bullet-axis",BAR:"bar",RANGES:"ranges",TARGET:"target",TOOLTIP:"tooltip",MAJOR_AXIS:"major-axis",MINOR_AXIS:"minor-axis",MINOR_AXIS_TITLE:"minor-axis-title",MAJOR_AXIS_TITLE:"major-axis-title",GRID_LINE:"grid-line",ZERO_LINE:"zero-line",OUT_OF_MAX_BOUNDS:"out-of-max-bounds-marker",OUT_OF_MIN_BOUNDS:"out-of-min-bounds-marker",GHOST_BAR:"ghost-bar",GHOST_BAR_OOB:"ghost-bar-oob",BAR_LABEL:"bar-label",BAR_OOB_LABEL:"bar-oob-label"},COLLECTION:{MAIN:"main-collection"}};var bl=o.a.renderer("svg")().measureText;function xl(e){var t=e.chart,n=e.layoutModel,r=e.chartModel,o=e.dockModel,i=e.themeModel,a=e.extrema,l=e.formatter,u=yl,s=i.query.getStyle();return u({layoutModel:n,dockModel:o,measureText:function(e){return bl({text:e,fontFamily:s.axis.label.name.fontFamily,fontSize:s.axis.label.name.fontSize})},extrema:a,size:function(e){var t=e.chart,n=e.chartModel,r=e.dockModel,o=t.component(vl.COMPONENT.BAR),i=n.query.getIsUpdateDataless()||!o?r.chartSize:o.rect;return"vertical"===r.major.orientation?i.height:i.width}({chart:t,chartModel:r,dockModel:o}),formatter:l})}function Ml(e){return function(e){if(Array.isArray(e))return Sl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||wl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||wl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wl(e,t){if(e){if("string"==typeof e)return Sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sl(e,t):void 0}}function Sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function El(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Al=function(e){return"number"==typeof e&&!Number.isNaN(e)};function ql(e){var t=e.measures,n=e.index,r=void 0===n?0:n,o=e.measuresTargetIndex;if(t.length<=r)throw RangeError("measureIndex is out of range. Expected max ".concat(t.length-1,", got ").concat(r));var i=t[r],a=i.qMin,l=i.qMax,u=i.qAttrExprInfo,s=o[r];return{qMin:a,qMax:l,qAttrExprInfo:[-1,void 0].includes(s)?[]:[u[s]]}}function Dl(e,t){var n,r=e.meta,o=r.hasDimensions,i=r.isSharedRange,a=r.measuresTargetIndex,l=e.getHyperCubeValue("qMeasureInfo");if(i||!Al(t))n=[ql({measures:l,index:0,measuresTargetIndex:a})];else if(o){var u=Ol(e.getDataPages()||[],1)[0],s=(u=void 0===u?{}:u).qMatrix;n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e[t],o={qMin:NaN,qMax:NaN,qAttrExprInfo:[]};if(!r)return[o];var i=r[1],a=i.qNum,l=void 0===a?NaN:a,u=i.qAttrExps,s=u?u.qValues.filter((function(e,t){return t===n})).map((function(e){return{qMin:e.qNum,qMax:e.qNum}})):[];return[Cl(Cl({},o),{qMin:l,qMax:l,qAttrExprInfo:s})]}(void 0===s?[]:s,t,a[0])}else n=[ql({measures:l,index:t,measuresTargetIndex:a})];return n}function Tl(e){var t=e.layoutModel;return function(e){var n=e.itemIndex,r=Dl(t,n),o=r.map((function(e){return e.qAttrExprInfo})),i=[].concat(Ml(r),Ml(function e(t){return t.reduce((function(t,n){return Array.isArray(n)?t.concat(e(n)):t.concat(n)}),[])}(o)));return{min:Math.min.apply(Math,Ml(i.filter((function(e){return Al(e.qMin)})).map((function(e){return e.qMin})))),max:Math.max.apply(Math,Ml(i.filter((function(e){return Al(e.qMax)})).map((function(e){return e.qMax}))))}}}var Nl=function(e){return"number"==typeof e&&!Number.isNaN(e)};function Ll(e){return function(e){if(Array.isArray(e))return Il(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Il(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jl=function(e){return"number"==typeof e&&!Number.isNaN(e)},Pl={min:NaN,max:NaN,implicit:{min:NaN,max:NaN},explicit:{min:NaN,max:NaN},meta:{hasExplicit:!1,hasExplicitMin:!1,hasExplicitMax:!1,includesZero:!1}};function Rl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=L()(!0,{},Pl);r.explicit=function(e){var t=e.layoutModel,n=e.itemIndex,r=void 0===n?void 0:n,o={min:NaN,max:NaN},i=t.meta,a=i.hasDimensions,l=i.isSharedRange;if(a&&!l)return o;var u=t.getLayoutValue,s=function(e,t){var n="number"==typeof r?"qHyperCube.qMeasureInfo.".concat(r,".").concat(e):"measureAxis.".concat(e);return u(n,t)};if(s("autoMinMax",!1))return o;var c,f,d=s("minMax");return"min"===d&&(f=s("min"),o.min=Nl(f)?f:NaN),"max"===d&&(c=s("max"),o.max=Nl(c)?c:NaN),"minMax"===d&&(f=s("min"),c=s("max"),Nl(f)&&Nl(c)?(o.min=Math.min(f,c),o.max=Math.max(f,c)):(o.min=Nl(f)?f:NaN,o.max=Nl(c)?c:NaN)),o}({layoutModel:e,itemIndex:e.meta.hasDimensions?0:n}),r.meta.hasExplicitMin=jl(r.explicit.min),r.meta.hasExplicitMax=jl(r.explicit.max),r.meta.hasExplicit=r.meta.hasExplicitMin||r.meta.hasExplicitMax;var o=t({itemIndex:n}),i=[0,o.min,o.max].filter((function(e){return jl(e)}));r.implicit.min=Math.min.apply(Math,Ll(i)),r.implicit.max=Math.max.apply(Math,Ll(i));var a=[r.explicit.min,r.explicit.max,r.implicit.min,r.implicit.max].filter((function(e){return jl(e)}));return r.min=r.meta.hasExplicitMin?r.explicit.min:Math.min.apply(Math,Ll(a)),r.max=r.meta.hasExplicitMax?r.explicit.max:Math.max.apply(Math,Ll(a)),r.meta.includesZero=!!((0-r.min)*(0-r.max)<=0),r}function _l(e){var t=e.layoutModel,n=function(e){return Tl({layoutModel:e.layoutModel})}({layoutModel:t}),r=L()(!0,{},Pl),o=function(){var e=t.getDataPages()[0];if(L()(!0,r,Rl(t,n)),e&&e.qMatrix){var o=t.meta.hasDimensions?e.qMatrix:e.qMatrix[0];r.individual=o.map((function(e,r){return Rl(t,n,r)}))}else r.individual=[]};return o(),{query:{getExtrema:function(e){return"number"==typeof e&&e<r.individual.length?r.individual[e]:r}},command:{update:o}}}function zl(e,t){return{range:function(e){var n=e.resources,r=e.data,o=n.theme.palette("categorical",t);return r.items.map((function(e){return o[e.value%o.length]}))},valueAccessor:e.value}}function Fl(e,t){return{range:function(e){var n=e.resources,r=e.data,o=n.theme.palette("categorical",t);return r.items.map((function(e){return o[e.row.value%o.length]}))},valueAccessor:e.value}}function Ul(e,t,n,r,o){var i=o.byRow,a=o.byElemNo;if(r&&(t.input.persistent||e.hc.qDimensionInfo.length>1||void 0===n.activeDimensionIndex&&e.hc.qSize.qcy>e.hc.qDataPages[0].qArea.qHeight))return a(r,r.raw().qCardinal);if(r){var l=t.pic.extract({field:r.key(),trackBy:r.value}).length;return i(r,l)}return{}}function Hl(e,t){var n=e.hc.qDimensionInfo,r=t.input.byDimDef||{activeDimensionIndex:n.length-1};if(r.activeDimensionIndex>=0){var o=n[r.activeDimensionIndex];r=o.coloring&&o.coloring.colorMapRef?{type:"libraryItem",key:o.coloring.colorMapRef,activeDimensionIndex:r.activeDimensionIndex}:{activeDimensionIndex:r.activeDimensionIndex}}return r}function Bl(e,t){var n;return t.activeDimensionIndex>=0?n=e.pic.fields().filter((function(e){return"dimension"===e.type()}))[t.activeDimensionIndex]:"libraryItem"===t.type?!1===(n=t.key?e.pic.field((function(e){return e.raw().colorMapRef===t.key})):void 0)&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))):"expression"===t.type&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))),n}var Vl=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.getCDef,i=void 0===o?Hl:o,a=r.getCByField,l=void 0===a?Bl:a,u=r.getPersistence,s=void 0===u?Ul:u,c=i(t,n),f=l(n,c),d=f?f.raw():{},p=n&&n.pic?n.pic.raw():{};if(d.qError||d.qSize&&0===d.qSize.qcy&&!p.qHasOtherValues)return{invalid:!0};var m={mode:"field",fieldType:"dimension",type:"categorical",field:f?f.key():void 0};return("expression"===c.type||c.activeDimensionIndex<0)&&(m.label=c.label,"color.altLabel"===d.labelExpRef&&(m.label=n.input.altLabel)),!m.label&&f&&(m.label=f.title()),n.input.dimensionScheme&&(m.palettes={categorical:n.input.dimensionScheme}),n.input.useDimColVal&&"libraryItem"===c.type&&(m.auxiliary=c),L()(m,s(t,n,c,f,{byRow:Fl,byElemNo:zl})),m},Wl=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Gl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Kl(){}var $l="\\s*([+-]?\\d+)\\s*",Xl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jl=/^#([0-9a-f]{3})$/,Yl=/^#([0-9a-f]{6})$/,Ql=new RegExp("^rgb\\("+[$l,$l,$l]+"\\)$"),eu=new RegExp("^rgb\\("+[Zl,Zl,Zl]+"\\)$"),tu=new RegExp("^rgba\\("+[$l,$l,$l,Xl]+"\\)$"),nu=new RegExp("^rgba\\("+[Zl,Zl,Zl,Xl]+"\\)$"),ru=new RegExp("^hsl\\("+[Xl,Zl,Zl]+"\\)$"),ou=new RegExp("^hsla\\("+[Xl,Zl,Zl,Xl]+"\\)$"),iu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function au(e){var t;return e=(e+"").trim().toLowerCase(),(t=Jl.exec(e))?new cu((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Yl.exec(e))?lu(parseInt(t[1],16)):(t=Ql.exec(e))?new cu(t[1],t[2],t[3],1):(t=eu.exec(e))?new cu(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tu.exec(e))?uu(t[1],t[2],t[3],t[4]):(t=nu.exec(e))?uu(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ru.exec(e))?du(t[1],t[2]/100,t[3]/100,1):(t=ou.exec(e))?du(t[1],t[2]/100,t[3]/100,t[4]):iu.hasOwnProperty(e)?lu(iu[e]):"transparent"===e?new cu(NaN,NaN,NaN,0):null}function lu(e){return new cu(e>>16&255,e>>8&255,255&e,1)}function uu(e,t,n,r){return r<=0&&(e=t=n=NaN),new cu(e,t,n,r)}function su(e,t,n,r){return 1===arguments.length?((o=e)instanceof Kl||(o=au(o)),o?new cu((o=o.rgb()).r,o.g,o.b,o.opacity):new cu):new cu(e,t,n,null==r?1:r);var o}function cu(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function fu(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function du(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pu(e,t,n,r)}function pu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function mu(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function hu(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}Wl(Kl,au,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Wl(cu,su,Gl(Kl,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new cu(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new cu(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+fu(this.r)+fu(this.g)+fu(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Wl(pu,(function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof pu)return new pu(e.h,e.s,e.l,e.opacity);if(e instanceof Kl||(e=au(e)),!e)return new pu;if(e instanceof pu)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new pu(a,l,u,e.opacity)}(e):new pu(e,t,n,null==r?1:r)}),Gl(Kl,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new pu(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new pu(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new cu(mu(e>=240?e-240:e+120,o,r),mu(e,o,r),mu(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var gu=function(e){return function(){return e}};function yu(e,t){return function(n){return e+n*t}}function vu(e){return 1==(e=+e)?bu:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):gu(isNaN(t)?n:t)}}function bu(e,t){var n=t-e;return n?yu(e,n):gu(isNaN(e)?t:e)}var xu=function e(t){var n=vu(t);function r(e,t){var r=n((e=su(e)).r,(t=su(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=bu(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Mu(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),l=new Array(o);for(n=0;n<o;++n)r=su(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}Mu((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return hu((n-r/t)*t,a,o,i,l)}})),Mu((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return hu((n-r/t)*t,o,i,a,l)}}));function Ou(e){return function(e){if(Array.isArray(e))return wu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Su=/^class(-pyramid)?/,ku=function(e,t,n,r){var o=void 0!==n.min?n.min:r.min(),i=void 0!==n.max?n.max:r.max(),a=o,l=i,u=t.limits,s={},c="percent"===t.limitType?u.map((function(e){return o+(i-o)*e})):u,f=t.colors.map((function(t){return e.resolveUIColor(t)}));if(o=Math.min.apply(Math,[o].concat(Ou(c))),i=Math.max.apply(Math,[i].concat(Ou(c))),s.min=o,s.max=i,t.breakTypes&&-1===t.breakTypes.indexOf(!0))s.type="categorical",Object.assign(s,function(e){var t=e.min,n=e.max,r=e.limits,o=e.range,i=[],a=[];if(r.length)if(r[r.length-1]<t)a.push(t,n),i.push(o[o.length-1],o[o.length-1],o[o.length-1]);else if(r[0]>n)a.push(t,n),i.push(o[0],o[0],o[0]);else{if(r[0]>t)a.push(t),i.push(o[0]);else{a.push(t);for(var l=0;l<r.length;l++)if(t<r[l]){i.push(o[l]);break}}for(var u=0;u<r.length;u++)t<r[u]&&r[u]<n&&(a.push(r[u]),i.push(o[u]));if(r[r.length-1]<n)a.push(n),i.push(o[r.length]),i.push(o[r.length]);else{a.push(n);for(var s=0;s<r.length;s++)if(r[s]>n){i.push(o[s]),i.push(o[s]);break}}}else i.push(o[0]);return{min:t,max:n,range:i,domain:a}}({min:"percent"===t.limitType?o:a,max:"percent"===t.limitType?i:l,range:f,limits:"percent"===t.limitType?c:u}));else if(t.breakTypes){var d=t.breakTypes;s.type="continuous",s.domain=[o],s.range=[f[0]];for(var p=0;p<c.length;p+=1)if(d[p]){var m=f[p],h=f[p+1],g=xu(m,h)(.5);s.range.push(g),s.domain.push(c[p]),p<c.length-1&&d[p+1]&&(s.range.push(f[p+1]),s.domain.push((c[p]+c[p+1])/2))}else s.range.push(f[p]),s.range.push(f[p+1]),s.domain.push(c[p]),s.domain.push(c[p]+Math.min(1e-6,(i-o)/1e6));s.range.push(f[f.length-1]),s.domain.push(i)}else s.domain=c,s.range=f;return s};var Cu=function(e,t,n,r){var o,i,a=t.theme,l=t.hc,u=r.f,s={mode:"field",fieldType:"measure",field:u?u.key():void 0,reverse:n.input.reverseScheme||!1,type:"continuous",range:function(e){return e.resources.theme.palette("quant")}},c=[],f=!0;if(u){if(Number.isNaN(+u.min())||Number.isNaN(+u.max()))return{invalid:!0};(f=!("S"===(o=n.pic.raw()).qMode&&o.qDataPages[0]&&o.qSize.qcy>o.qDataPages[0].qArea.qHeight||"K"===o.qMode&&o.qStackedDataPages[0]&&o.qSize.qcy>o.qStackedDataPages[0].qArea.qHeight))&&(c=n.pic.extract({field:0,props:{num:{field:u.key()},exclude:{fields:l.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function(e){return Math.min.apply(Math,Ou(e))<0}}}}).filter((function(e){return e.value>=0&&!e.exclude.value})).map((function(e){return e.num.value})).filter((function(e){return"number"==typeof e})))}if(!1===n.input.autoMinMax){if(s.min=n.input.measureMin,s.max=n.input.measureMax,s.max<s.min)return{invalid:!0}}else if(u&&!f)s.min=u.min(),s.max=u.max();else if(u){if(!c.length)return{invalid:!0};s.min=Math.min.apply(Math,Ou(c)),s.max=Math.max.apply(Math,Ou(c))}if(n.input.measureScheme&&(s.palettes={quant:n.input.measureScheme}),a){var d=a.getDataColorScales().filter((function(e){return e.key===n.input.measureScheme}))[0];s.type=d&&Su.test(d.type)?"categorical":"continuous","categorical"===s.type&&(i=d.colors.some((function(e){return Array.isArray(e)}))?Math.max.apply(Math,Ou(d.colors.map((function(e){return e?e.length:0})))):d.colors.length)}if("categorical"===s.type){for(var p=f?function e(t,n,r,o,i){var a,l,u,s=0,c=[],f=(t-n)/(o+1);if(0===f)return 1;for(a=0;a<r.length;a+=1)l=.99*(r[a]-n),u=r[a]>t?Math.floor(t/f):r[a]<n?0:Math.floor(l/f),Number.isNaN(u)||(c[u]?c[u]+=1:c[u]=1);for(a=0;a<c.length;a+=1)c[a]&&(s+=1);return s<=o||s>=i?Math.max(s,o):e(t,n,r,o+1,i)}(s.max,s.min,c,1,i):i,m=(s.max-s.min)/p,h=[],g=0;g<p+1;g+=1)h.push(s.min+m*g);s.domain=h,s.range=function(e){for(var t=e.resources.theme.palette("quant",p),n=Math.max(1,Math.floor(t.length/p)),r=[],o=0;o<p;o+=1)r.push(t[o*n]);return[r[0]].concat(r,[r[r.length-1]])}}return s};function Eu(e,t){var n;return t.activeMeasureIndex>=0?n=e.pic.fields().filter((function(e){return"measure"===e.type()}))[t.activeMeasureIndex]:"libraryItem"===t.type?n=e.pic.field((function(e){return e.raw().colorMapRef===t.key&&void 0!==t.key})):"expression"===t.type&&(n=e.pic.field((function(e){return"colorByAlternative"===e.raw().id}))),n||(n=e.pic.field((function(e){return void 0!==e.raw().matchMeasure})))&&(n=e.pic.fields().filter((function(e){return"measure"===e.type()}))[n.raw().matchMeasure]),n}var Au=function(e,t,n){var r=t.theme,o=t.hc,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.getCField,l=void 0===a?Eu:a,u=n.input.byMeasureDef||{activeMeasureIndex:0},s=l(n,u),c=Cu(0,{theme:r,hc:o},n,{f:s});if(c.invalid)return c;("expression"===u.type||u.activeMeasureIndex<0)&&(c.label=u.label,s&&"color.altLabel"===s.raw().labelExpRef&&(c.label=n.input.altLabel)),!c.label&&s&&(c.label=s.title());var f=u.activeMeasureIndex>=0?s:null;if(!f&&s&&void 0!==s.raw().matchMeasure&&s.raw().matchMeasure>-1&&(f=n.pic.fields().filter((function(e){return"measure"===e.type()}))[s.raw().matchMeasure]),n.input.useMeasureGradient&&"libraryItem"===u.type)if(f){var d=f.raw().coloring;d&&d.gradient&&L()(c,ku(e,d.gradient,c,f))}else c.auxiliary=u;return c},qu=function(e,t,n,r){var o=t.hc,i=t.theme,a=t.translator,l=n.pic.field((function(e){return"colorByExpression"===e.raw().id}));if(!(l&&l.raw().qFallbackTitle&&Number.isFinite(l.raw().qMin)&&Number.isFinite(l.raw().qMax))&&!n.input.expressionIsColor)return{mode:"constant",type:"constant",primary:r.nil};if(n.input.expressionIsColor)return{mode:"field",fieldType:"expression",field:l?l.key():void 0,type:"color"};var u=Cu(0,{hc:o,theme:i},n,{f:l});return u.invalid||(u.label=n.input.expressionLabel||a.get("Object.ChartTooltip.ColorExpression")),u},Du=function(e,t,n,r){var o=t.hc,i=t.theme,a=t.translator,l=n.input.useBaseColors;if(("byMultiple"===n.input.mode||"primary"===n.input.mode&&"measure"===n.input.useBaseColors)&&o.qMeasureInfo.length>1&&(l="measure"),"measure"===l){var u=[],s=[];"measure"===n.input.useBaseColors&&o.qMeasureInfo.forEach((function(t,n){if(t.baseColor||t.coloring&&t.coloring.baseColor){u.push(n);var o=e.resolveUIColor(t.baseColor||t.coloring.baseColor);"none"===o?s.push(r.primary):s.push(o)}}));var c=n.input.dimensionScheme?{categorical:n.input.dimensionScheme}:void 0,f=i?i.getDataColorPalettes()[0]:void 0;return"measure"===n.input.useBaseColors&&f&&(c={categorical:f.key}),{mode:"measure",type:"categorical",palettes:c,label:a?a.get("Common.Measures"):void 0,explicit:u.length?{domain:u,range:s}:void 0}}if("dimension"===l){var d=[],p=[];return o.qDimensionInfo.forEach((function(t,n){if(t.baseColor||t.coloring&&t.coloring.baseColor){d.push(n);var o=e.resolveUIColor(t.baseColor||t.coloring.baseColor);"none"===o?p.push(r.primary):p.push(o)}})),{mode:"dimension",type:"categorical",field:d.length?d[0]:void 0,explicit:d.length?{domain:d,range:p}:void 0}}var m=r.primary;if(void 0!==n.input.paletteColor)n.input.paletteColor&&(m=e.resolveUIColor(n.input.paletteColor));else{var h=n.input.singleColor;"number"!=typeof h||Number.isNaN(h)||(m=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"][h])}return{mode:"constant",type:"constant",primary:m}};function Tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lu=function(e,t,n,r){var o=r.external,i=r.field,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tu(Object(n),!0).forEach((function(t){Nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);L()(a,zl(i,i.raw().qCardinal));var l=o.theme?o.theme.getDataColorPalettes()[0]:null;return t.nul&&(a.nil=n.resolveUIColor(t.nul)),t.oth&&(a.others=n.resolveUIColor(t.oth)),t.usePal?(a.palettes={categorical:t.pal},l&&!t.pal&&(a.palettes.categorical=l.key,L()(a,zl(i)))):!1===t.autoFill&&t.single?a.range=[n.resolveUIColor(t.single)]:t.autoFill&&(l&&(a.palettes={categorical:l.key}),L()(a,zl(i))),t.colors&&t.colors.length&&(a.explicit=function(e,t,n){for(var r={},o=0;o<e.length;o+=1)r[e[o].value]=e[o].baseColor;var i=[];return{domain:function(e){var o=e.data,a=[];i=[];for(var l=0;l<o.items.length;l++){var u=o.items[l],s=(u.text||u).label;r[s]&&-1===a.indexOf(u.value)&&(a.push(u.value),i.push(t.resolveUIColor(r[s])))}return a.push(-3,-2),i.push(n.others),i.push(n.nil),a},range:function(){return i}}}(t.colors,n,a)),a};function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){Pu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ru=function(e){var t=ju({hc:null,colorProps:null,layout:null,theme:null},e),n={},r={auto:function(){return{mode:"primary"}},getDimensionColorMap:function(){return Promise.reject()},getMeasure:function(){return Promise.reject()},getAttributeDimension:function(){return Promise.reject()}},o={auto:function(e){return e?(r.auto=e,o):r.auto},getDimensionColorMap:function(e){return e?(r.getDimensionColorMap=e,o):r.getDimensionColorMap},getAttributeDimension:function(e){return e?(r.getAttributeDimension=e,o):r.getAttributeDimension},getMeasure:function(e){return e?(r.getMeasure=e,o):r.getMeasure},set:function(e){if(!e.colorProps)throw new Error('Missing "colorProps"');if(L()(t,e),(n={pic:t.picasso.data("q")({data:t.hc,config:{localeInfo:t.localeInfo}}),input:t.colorProps}).input.auto){var o=r.auto(e.layout);n.input=L()(!0,{},n.input,o,{auto:!1});var i=t.theme?t.theme.getDataColorPalettes():[];i[0]&&(n.input.dimensionScheme=i[0].key);var a=0;n.input.byDimDef&&+n.input.byDimDef.activeDimensionIndex>=0&&(a=+n.input.byDimDef.activeDimensionIndex),t.hc&&t.hc.qDimensionInfo[a]&&t.hc.qDimensionInfo[a].coloring&&t.hc.qDimensionInfo[a].coloring.colorMapRef&&n.input.byDimDef&&(n.input.byDimDef.type="libraryItem",n.input.byDimDef.key=t.hc.qDimensionInfo[a].coloring.colorMapRef)}},palettes:function(){if(!n.palettes){var e=t.theme,r=[];(e&&e.getDataColorPickerPalettes()||[]).forEach((function(e){r.push({key:"ui",colors:e.colors})})),n.palettes=r}return n.palettes},getAuxiliaryData:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/qHyperCubeDef";if(!e.auxiliary&&!/qAttrDimInfo/.test(e.field))return Promise.resolve();var o=e.auxiliary||{},i=o.key;if("measure"===e.fieldType)return r.getMeasure(i,t).catch((function(){}));if("dimension"===e.fieldType){var a="".concat(n,"/").concat(e.field).replace("qDimensionInfo","qDimensions").replace("qAttrDimInfo","qAttributeDimensions");return Promise.all([/qAttrDimInfo/.test(e.field)?r.getAttributeDimension(a,t).catch((function(){})):Promise.resolve(),i?r.getDimensionColorMap(i,t).catch((function(){})):Promise.resolve()])}return Promise.resolve()},getAuxiliarySettings:function(e,r){var o=this;return e.auxiliary||/qAttrDimInfo/.test(e.field)?(this.palettes(),this.getAuxiliaryData(e,r).then((function(r){if(!r)return{};if("measure"===e.fieldType){if(r.coloring&&r.coloring.gradient){var i=n.pic.field(e.field);return ku(o,r.coloring.gradient,e,i)}return{}}if("dimension"===e.fieldType){var a={nil:e.nil,others:e.others},l=r[0],u=r[1]?r[1].colorMap:null;if(l){var s=t.picasso.data("q")({data:{qDimensionInfo:[n.pic.field(e.field).raw(),n.pic.field(e.field).raw()],qMeasureInfo:[],qDataPages:l,qInterColumnSortOrder:[0,1],qMode:"S"}});a.legendDataset=s}return u?Lu(a,u,o,{external:t,field:n.pic.field(e.field)}):a}return{}}))):Promise.resolve()},resolveUIColor:function(e){if(e.index<0||void 0===e.index)return e.color;if(void 0===n.uiPalette&&(n.uiPalette=this.palettes().filter((function(e){return"ui"===e.key}))[0]||!1),!n.uiPalette)return e.color;var t="none"===n.uiPalette.colors[0]?e.index:e.index-1;return void 0===n.uiPalette.colors[t]?e.color:n.uiPalette.colors[t]},settings:function(){var e=this;if(this.palettes(),!n.settings){var r={primary:"steelblue",others:"#aaa",nil:"#ddd"},o=t.theme;o&&(r=ju(ju({},r),o.getDataColorSpecials())),n.settings=L()(r,function(){if(n.input&&!n.input.auto){if("byMeasure"===n.input.mode)return Au(e,t,n);if("byDimension"===n.input.mode)return Vl(e,t,n);if("byExpression"===n.input.mode)return qu(e,t,n,r);if("byMultiple"===n.input.mode||"primary"===n.input.mode)return Du(e,t,n,r)}return{}}())}return n.settings}};return o},_u=function(e,t){var n=e.fieldType,r={};if(t)if("measure"===n){var o=t.coloring;o&&(r.measureGradient=o.gradient)}else if("dimension"===n){var i=t[0],a=t[1];i&&(r.legendDataPage=i),a&&(r.dimValsData=a.colorMap)}return r},zu=function(e,t){var n=t.layout,r=t.app;return n&&n.snapshotData?n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.dimValsData?Promise.resolve({colorMap:n.snapshotData.content.chartData.dimValsData}):Promise.reject():r&&r.getObject?r.getObject("ColorMapModel_".concat(e)).then((function(e){return e.getLayout()})):Promise.reject()},Fu=function(e,t){var n=t.layout,r=t.app;return n&&n.snapshotData?n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.measureGradient?Promise.resolve({coloring:{gradient:n.snapshotData.content.chartData.measureGradient}}):Promise.reject():r&&r.getMeasure?r.getMeasure(e).then((function(e){return e.getMeasure()})):Promise.reject()},Uu=function(e,t){var n=t.layout,r=t.model,o=t.app;if(n&&n.snapshotData)return n.snapshotData.content&&n.snapshotData.content.chartData&&n.snapshotData.content.chartData.legendDataPage?Promise.resolve(n.snapshotData.content.chartData.legendDataPage):Promise.reject();if(r&&r.session&&o)return r.getHyperCubeData(e,[{qHeight:100,qLeft:0,qTop:0,qWidth:2}]);return Promise.reject()},Hu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auto,n=e.resources,r=Ru(n).auto(t||function(){return{mode:"byDimension",persistent:!1,useDimColVal:!0,byDimDef:{activeDimensionIndex:0,type:"expression",label:""}}}).getDimensionColorMap((function(e,t){var n=t.layout,r=t.app;return zu(e,{layout:n,app:r})})).getMeasure((function(e,t){var n=t.layout,r=t.app;return Fu(e,{layout:n,app:r})})).getAttributeDimension((function(e,t){var n=t.layout,r=t.model,o=t.app;return Uu(e,{layout:n,model:r,app:o})}));return r.getSnapshotData=_u,r};function Bu(e){return function(e){if(Array.isArray(e))return Vu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(n),!0).forEach((function(t){Ku(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $u(e){return function(e){if(Array.isArray(e))return Xu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ju(e){return function(t){return"object"===Zu(t.datum[e])?t.datum[e].value:void 0}}function Yu(e){return-2===e.datum.value}function Qu(e){return-3===e.datum.value}var es=function(e){var t,n=e.coloring,r=e.scales,o=e.key,i=n.nil,a=n.others,l=n.primary,u=o,s=Ju(o),c=Ju("".concat(o,"IsAnOther"));return n.invalid?t=function(e){return Qu(e)||c(e)?a:i}:r[u]?t=function(e){return Qu(e)?a:Yu(e)||-2===s(e)&&"dimension"===n.fieldType||"NaN"===s(e)?i:c(e)?a:e.resources.scale(u)(s(e))||a}:"constant"===n.mode?t=function(e){return Qu(e)||c(e)?a:Yu(e)?i:l}:"color"===n.type&&(t=function(e){return Qu(e)||c(e)?a:Yu(e)?i:s(e)||a}),t},ts=function(e,t,n){var r=e&&e.dock||void 0;if("auto"!==r)return r||"right";if(t){var o=t.element.getBoundingClientRect();if(o.height>o.width)return"bottom"}return n?"left":"right"},ns=function(e,t,n){return!(n.invalid||"color"===n.type||"measure"===n.mode&&t.qMeasureInfo.length<=1||"dimension"===n.mode)&&!1!==e.show};function rs(e,t){var n=e.styleReference,r=e.chart,o=e.rtl,i=t.legendProps,a=t.coloring,l=t.theme,u=t.hc;return{layout:{minimumLayoutMode:"MEDIUM",dock:ts(i,r,o)},show:ns(i,u,a),renderer:"svg",mounted:function(e){e.childNodes[0].style.pointerEvents="none",e.style.overflow="hidden"},settings:{title:{show:!1!==i.showTitle,wordBreak:"break-word",maxLines:2,lineHeight:1.2,text:a.label||"",fill:l?l.getStyle(n,"legend.title","color"):void 0,fontSize:l?l.getStyle(n,"legend.title","fontSize"):"16px",fontFamily:l?l.getStyle(n,"legend.title","fontFamily"):"QlikView Sans, sans-serif"}}}}function os(e,t,n){return"categorical"===t.coloring.type?function(e,t,n){var r=rs(e,t);if(!r.show)return!1;var o=e.key,i=e.styleReference,a=e.viewState,l=e.rtl,u=e.settings,s=e.style,c=t.scaleKey,f=t.theme,d=t.scales,p={up:"M13.6,11 L2.4,11 C2.28954305,11 2.2,10.9104569 2.2,10.8 C2.2,10.756726 2.21403557,10.7146192 2.24,10.68 L7.84,3.21333333 C7.90627417,3.12496777 8.03163444,3.10705916 8.12,3.17333333 C8.13516113,3.18470418 8.14862915,3.1981722 8.16,3.21333333 L13.76,10.68 C13.8262742,10.7683656 13.8083656,10.8937258 13.72,10.96 C13.6853808,10.9859644 13.643274,11 13.6,11 Z",down:"M2.4,4 L13.6,4 C13.7104569,4 13.8,4.08954305 13.8,4.2 C13.8,4.24327404 13.7859644,4.28538077 13.76,4.32 L8.16,11.7866667 C8.09372583,11.8750322 7.96836556,11.8929408 7.88,11.8266667 C7.86483887,11.8152958 7.85137085,11.8018278 7.84,11.7866667 L2.24,4.32 C2.17372583,4.23163444 2.19163444,4.10627417 2.28,4.04 C2.31461923,4.01403557 2.35672596,4 2.4,4 Z",left:"M11,2.4 L11,13.6 C11,13.7104569 10.9104569,13.8 10.8,13.8 C10.756726,13.8 10.7146192,13.7859644 10.68,13.76 L3.21333333,8.16 C3.12496777,8.09372583 3.10705916,7.96836556 3.17333333,7.88 C3.18470418,7.86483887 3.1981722,7.85137085 3.21333333,7.84 L10.68,2.24 C10.7683656,2.17372583 10.8937258,2.19163444 10.96,2.28 C10.9859644,2.31461923 11,2.35672596 11,2.4 Z",right:"M4,13.6 L4,2.4 C4,2.28954305 4.08954305,2.2 4.2,2.2 C4.24327404,2.2 4.28538077,2.21403557 4.32,2.24 L11.7866667,7.84 C11.8750322,7.90627417 11.8929408,8.03163444 11.8266667,8.12 C11.8152958,8.13516113 11.8018278,8.14862915 11.7866667,8.16 L4.32,13.76 C4.23163444,13.8262742 4.10627417,13.8083656 4.04,13.72 C4.01403557,13.6853808 4,13.643274 4,13.6 Z"},m="".concat(c,"Legend");return L()(!0,r,{type:"legend-cat",key:"".concat(o,"-cat"),scale:m in d?m:c,settings:{layout:{scrollOffset:function(){return a?a.get("legendScrollOffset"):void 0},size:-1!==["top","bottom"].indexOf(r.layout.dock)?2:1,direction:l?"rtl":"ltr",horizontal:20},item:{show:function(e){return-2!==e.datum.value},label:{fill:f?f.getStyle(i,"legend.label","color"):void 0,fontSize:f?f.getStyle(i,"legend.label","fontSize"):void 0,fontFamily:f?f.getStyle(i,"legend.label","fontFamily"):"QlikView Sans, sans-serif"}},navigation:{disabled:n,button:{content:function(e,t){var n=t.direction;return e("i",{style:{"pointer-events":"none",fontSize:"12px",display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizelegibility",margin:"0px"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},[e("path",{d:p[n]})])])}}}},brush:{consume:[{context:"selection",data:["",o],style:{inactive:{opacity:.3}}}]}},{settings:u,style:s})}(e,t,n):"continuous"===t.coloring.type&&function(e,t){var n=e.key,r=e.styleReference,o=e.rtl,i=e.settings,a=e.style,l=t.scaleKey,u=t.theme,s=rs(e,t);return!!s.show&&L()(!0,s,{type:"legend-seq",key:"".concat(n,"-seq"),settings:{fill:l,major:"".concat(l,"Range"),length:1,tick:{fill:u?u.getStyle(r,"legend.label","color"):void 0,fontSize:u?u.getStyle(r,"legend.label","fontSize"):void 0,fontFamily:u?u.getStyle(r,"legend.label","fontFamily"):"QlikView Sans, sans-serif"},title:{anchor:!o||"top"!==s.layout.dock&&"bottom"!==s.layout.dock?void 0:"right",padding:parseFloat(s.settings.title.fontSize)||16}}},{settings:i,style:a})}(e,t)}function is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var as=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventName,r=t.key,o=t.requireFailure,i=t.recognizeWith,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.actions;return{key:"event:pan-".concat(r),type:"Pan",requireFailure:o,recognizeWith:i,options:{event:n,pointers:1,threshold:10,enable:function(e,t){return this.started===n||!t||!(l&&l.interact&&!l.interact.enabled())&&this.chart.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key==="".concat(r,"-cat")}))}},events:(e={},is(e,"".concat(n,"start"),(function(e){e.preventDefault(),this.started!==n&&(this.started=n,this.chart.component("".concat(r,"-cat")).emit("panstart",e))})),is(e,"".concat(n,"move"),(function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panmove",e)})),is(e,"".concat(n,"end"),(function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panend",e),this.started=!1})),e)}},ls=function(e){var t=e.key,n=e.requireFailure,r=e.recognizeWith,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.actions;return{key:"event:tap-".concat(t),type:"Tap",requireFailure:n,recognizeWith:r,options:{event:"legendtap",interval:10,pointers:1,enable:function(e,n){if(!n)return!0;if(i&&i.interact&&!i.interact.enabled())return!1;if(!this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some((function(e){return e.key==="".concat(t,"-cat")})))return!1;var r=n.srcEvent.target;return!!(r&&r.hasAttribute("data-action")&&r.hasAttribute("data-component-key"))||!(!r||!r.childNodes[0]||"BUTTON"!==r.childNodes[0].nodeName)}},events:{legendtap:function(e){e.preventDefault();var t=e.srcEvent.target;t&&t.hasAttribute("data-action")&&t.hasAttribute("data-component-key")&&this.chart.component(t.getAttribute("data-component-key")).emit(t.getAttribute("data-action"))}}}},us=function(e,t,n){var r=[],o=[],i=os(e,t,n&&n.navigationDisabled);return r.push(i),i&&"legend-cat"===i.type&&(o.push(ls(e,n)),o.push(as(e,n))),{interactions:o,components:r}},ss=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function cs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fs(){}var ds="\\s*([+-]?\\d+)\\s*",ps="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ms="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hs=/^#([0-9a-f]{3,8})$/,gs=new RegExp("^rgb\\("+[ds,ds,ds]+"\\)$"),ys=new RegExp("^rgb\\("+[ms,ms,ms]+"\\)$"),vs=new RegExp("^rgba\\("+[ds,ds,ds,ps]+"\\)$"),bs=new RegExp("^rgba\\("+[ms,ms,ms,ps]+"\\)$"),xs=new RegExp("^hsl\\("+[ps,ms,ms]+"\\)$"),Ms=new RegExp("^hsla\\("+[ps,ms,ms,ps]+"\\)$"),Os={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ws(){return this.rgb().formatHex()}function Ss(){return this.rgb().formatRgb()}function ks(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hs.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Cs(t):3===n?new qs(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Es(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Es(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=gs.exec(e))?new qs(t[1],t[2],t[3],1):(t=ys.exec(e))?new qs(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=vs.exec(e))?Es(t[1],t[2],t[3],t[4]):(t=bs.exec(e))?Es(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=xs.exec(e))?Ls(t[1],t[2]/100,t[3]/100,1):(t=Ms.exec(e))?Ls(t[1],t[2]/100,t[3]/100,t[4]):Os.hasOwnProperty(e)?Cs(Os[e]):"transparent"===e?new qs(NaN,NaN,NaN,0):null}function Cs(e){return new qs(e>>16&255,e>>8&255,255&e,1)}function Es(e,t,n,r){return r<=0&&(e=t=n=NaN),new qs(e,t,n,r)}function As(e){return e instanceof fs||(e=ks(e)),e?new qs((e=e.rgb()).r,e.g,e.b,e.opacity):new qs}function qs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ds(){return"#"+Ns(this.r)+Ns(this.g)+Ns(this.b)}function Ts(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Ns(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ls(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new js(e,t,n,r)}function Is(e){if(e instanceof js)return new js(e.h,e.s,e.l,e.opacity);if(e instanceof fs||(e=ks(e)),!e)return new js;if(e instanceof js)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new js(a,l,u,e.opacity)}function js(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ps(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ss(fs,ks,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ws,formatHex:ws,formatHsl:function(){return Is(this).formatHsl()},formatRgb:Ss,toString:Ss}),ss(qs,(function(e,t,n,r){return 1===arguments.length?As(e):new qs(e,t,n,null==r?1:r)}),cs(fs,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new qs(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new qs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ds,formatHex:Ds,formatRgb:Ts,toString:Ts})),ss(js,(function(e,t,n,r){return 1===arguments.length?Is(e):new js(e,t,n,null==r?1:r)}),cs(fs,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new js(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new js(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new qs(Ps(e>=240?e-240:e+120,o,r),Ps(e,o,r),Ps(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var _s=function(e){return"rgba(".concat([(16711680&e)>>16,(65280&e)>>8,255&e,((4278190080&e)>>>24)/255].join(","),")")},zs=function(e){var t,n,r=e.hc,o=e.coloring,i=e.scales,a=e.key,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=a,s=o.nil;i[a]&&"field"===o.mode?t=i[a].data.field||o.field:"field"===o.mode&&o.field&&(t=o.field),t?(n={field:t,reduce:"first"},"color"===o.type&&(n.value=function(e){return"NaN"!==e.qNum?_s(e.qNum):e.qText&&ks(e.qText)?e.qText:s})):"dimension"===o.mode?n=void 0!==o.field?o.field:r.qDimensionInfo.length-1:"measure"===o.mode&&(n=l);var c=Rs({},u,n);return r.qDimensionInfo.length>1&&(c["".concat(u,"IsAnOther")]={fields:r.qDimensionInfo.map((function(e,t){return{field:"qDimensionInfo/".concat(t)}})),value:function(e){return-1!==e.indexOf(-3)}}),c};function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bs(e){var t=Hu({resources:e}),n={},r={},o=function(e){return r.settings||(e||console.warn("settings() called before auxiliarySettings()"),r.settings=t.settings()),r.settings},i={config:function(o){if(n=Us({},o),r={},!n.key)throw new Error("Missing key");t.set(Us(Us({},e),n))},auto:function(e){return e?(t.auto(e),i):t.auto()},getAuxiliarySettings:function(e){return r.auxiliarySettings?Promise.resolve(r.auxiliarySettings):t.getAuxiliarySettings(o(!0),e).then((function(e){return r.auxiliarySettings=e||{},r.settings=Us(Us({},r.settings),r.auxiliarySettings),r.auxiliarySettings}))},getAuxiliaryData:function(){return t.getAuxiliaryData(o())},getSnapshotData:function(){var e=o();return t.getAuxiliaryData(e).then((function(n){return t.getSnapshotData(e,n)}))},resolveUIColor:function(e){return t.resolveUIColor(e)},settings:function(){var e=o();return{mode:e.mode,type:e.type,label:e.label,field:e.field,fieldType:e.fieldType,nil:e.nil,others:e.others,primary:e.primary}},palettes:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colorProps,n=e.coloring,r=e.theme,o=[];if(n&&n.palettes&&r){var i=n.palettes.categorical||t.dimensionScheme,a=r.getDataColorPalettes().filter((function(e){return e.key===i}))[0]||r.getDataColorPalettes()[0];i&&a&&o.push({key:"categorical",colors:a.colors});var l=n.palettes.metric||t.measureScheme,u=r.getDataColorScales().filter((function(e){return e.key===l}))[0];if(u){var s=u.colors[0]?u.colors:[[]].concat(Bu(u.colors.slice(1)));s=Array.isArray(s[0])?s.map((function(e){return e.slice().reverse()})):s.slice().reverse(),o.push({key:"quant",colors:s})}}return o}({coloring:o(),colorProps:n.colorProps,theme:n.theme})},scales:function(){return r.scales=r.scales||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hc,n=e.coloring,r=e.rtl,o=e.key,i=e.source,a=e.picasso,l={},u=o;if(n){var s={override:!0,domain:n.explicit&&"function"==typeof n.explicit.domain?n.explicit.domain:[].concat($u((n.explicit||{}).domain||[]),[-3,-2]),range:n.explicit&&"function"==typeof n.explicit.range?n.explicit.range:[].concat($u((n.explicit||{}).range||[]),[n.others,n.nil])};if("field"===n.mode){if("dimension"===n.fieldType){var c,f=function(e){var t=e.hc,n=e.source,r=e.coloring,o={data:{extract:[{source:"dummy",field:0,filter:function(){return o.expando=t.qDataPages[0]?t.qDataPages[0].qArea.qTop:0,!1}},{source:n,field:r.field,trackBy:r.valueAccessor,reduce:"first",props:{row:{reduce:function(){return o.expando++}},text:{value:function(e){return e.qText},reduce:"first"}}}]},expando:0};return o}({hc:t,source:i,coloring:n}).data;if(n.legendDataset){var d=0,p={};a.data("q")({data:t}).extract({field:n.field,trackBy:n.valueAccessor,reduce:function(e){var t=e[0];return p[t]=d++,e[0]}}),c={source:"attrDim",extract:{field:"qDimensionInfo/0",filter:function(e){return e.qElemNumber>=0},props:{row:{value:function(e){return p[e.qElemNumber]}}}}}}var m={data:f,range:n.range,domain:n.domain,explicit:s,type:"categorical-color",label:function(e){return e.datum.text&&e.datum.text.value?e.datum.text.value:e.datum.label}};l[u]=m,c&&(l["".concat(u,"Legend")]=Gu(Gu({},m),{},{data:c})),t&&t.qHasOtherValues&&c&&((c||m.data).amend=[{label:t.qDimensionInfo[0].othersLabel,source:{key:"qHyperCube",field:"qDimensionInfo/0"},row:{value:-3},value:-3}])}else if("measure"===n.fieldType){var h={data:{field:n.field},min:n.min,max:n.max};l[u]=L()({},h,{type:"categorical"===n.type?"threshold-color":"sequential-color",range:n.range,domain:n.domain,invert:n.reverse}),"sequential-color"===l[u].type&&(l["".concat(u,"Range")]=L()({},h,{invert:!!r}))}else if("color"!==n.type)throw new Error("UNUSED FIELD")}else if("dimension"===n.mode){var g={data:t.qDimensionInfo.map((function(e,t){return t})),label:function(e){return t.qDimensionInfo[e.datum.value].qFallbackTitle},explicit:s,type:"categorical-color"};l[u]=g}else if("measure"===n.mode){var y={data:t.qMeasureInfo.map((function(e,t){return t})),label:function(e){return t.qMeasureInfo[e.datum.value].qFallbackTitle},explicit:s,type:"categorical-color"};l[u]=y}}return l}({hc:n.hc,coloring:o(),key:n.key,source:n.source,picasso:e.picasso}),r.scales},color:function(){return r.color=r.color||es({coloring:o(),scales:this.scales(),key:n.key}),r.color},datumProps:function(e){return zs({coloring:o(),scales:this.scales(),key:n.key,hc:n.hc},e)},data:function(){var e=o(),t={key:"dummy",data:[["field"],["a"]]};return e.legendDataset?[t,{type:"q",key:"attrDim",data:e.legendDataset.raw(),config:{localeInfo:n.localeInfo}}]:[t]},legend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eventName,r=e.key,i=e.viewState,a=e.chart,l=e.rtl,u=e.styleReference,s=void 0===u?"object.legend":u,c=e.settings,f=void 0===c?{}:c,d=e.style,p=void 0===d?{}:d,m=arguments.length>1?arguments[1]:void 0;return us({eventName:t,key:r,rtl:l,viewState:i,chart:a,styleReference:s,settings:f,style:p},{legendProps:n.legendProps,scaleKey:n.key,coloring:o(),theme:n.theme,hc:n.hc,scales:this.scales()},m)}};return i}var Vs=function(e){return e.baseColor||e.coloring&&e.coloring.baseColor};function Ws(e){var t=e.qHyperCube.qDimensionInfo.some(Vs),n=e.qHyperCube.qMeasureInfo.some(Vs);return{mode:"primary",useBaseColors:t?"dimension":n?"measure":"off",paletteColor:null}}var Gs=function(e){return e.baseColor||e.coloring&&e.coloring.baseColor};function Ks(e){var t=e.qHyperCube.qDimensionInfo.some(Gs),n=e.qHyperCube.qMeasureInfo.some(Gs),r=e.color.useBaseColors;return"measure"===r&&!n||"dimension"===r&&!t?"off":r}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Js(e){return function(e){if(Array.isArray(e))return Ys(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ys(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tc(e){var t=e.theme,n={};return[["","","color"],["object.bulletChart","","fontFamily"],["object","axis.title","fontFamily","QlikView Sans, sans-serif"],["object","axis.title","fontSize","13px"],["object","axis.title","color"],["object","axis.label.name","fontFamily","QlikView Sans, sans-serif"],["object","axis.label.name","fontSize","12px"],["object","axis.label.name","color","#595959"],["object","axis.line.major","color","#cccccc"],["object","axis.line.minor","color","#e6e6e6"],["object","grid.line.major","color","#cccccc"],["object","grid.line.minor","color","#e6e6e6"],["object","grid.line.highContrast","color","#e6e6e6"],["object.bulletChart","outOfRange","color","#999"],["object.bulletChart","label.value","fontFamily","QlikView Sans, sans-serif"],["object.bulletChart","label.value","fontSize","11px",function(e){return parseInt(e,10)}],["object.bulletChart","label.value","color","#595959"],[!1,"label.value","lightColor","#E6E6E6"],[!1,"label.value","darkColor","#595959"]].forEach((function(e){var r=Qs(e,5),o=r[0],i=r[1],a=r[2],l=r[3],u=r[4],s=(void 0===u?function(e){return e}:u)(function(e){var t=e.theme,n=e.base,r=e.path,o=e.attribute,i=e.defaultValue,a=void 0===i?void 0:i;if(!t||!1===n)return a;var l=t.getStyle(n,r,o);return void 0===l?a:l}({theme:t,base:o,path:i,attribute:a,defaultValue:l}));L()(!0,n,function(e){var t=e.path,n=e.attribute,r=e.value,o={},i=t.split(".").filter((function(e){return e.length})),a=o;return i.forEach((function(e){a[e]={},a=a[e]})),void 0!==r&&(a[n]=r),o}({path:i,attribute:a,value:s}))})),n}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach((function(t){oc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ic(e){var t=e.viewState,n=e.viewCache,r=e.layoutModel,o=e.dockModel,i=e.rtl;return!r.meta.isSnapshot&&{key:"scroll-hint",type:"scroll-hint",settings:{orientation:o.major.orientation,rtl:i,range:function(){return function(e){var t=e.layoutModel,n=e.viewState,r=e.viewCache;return t.meta.isContinuous?function(e,t){var n=e.get("zoom"),r=t.get("continuousMin"),o=t.get("continuousMax");return[(n.min-r)/(o-r),(n.max-r)/(o-r)]}(n,r):function(e){return e.get("viewRange")}(n)}({layoutModel:r,viewState:t,viewCache:n})}}}}function ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uc(e,t){if(!e||!Object.keys(e).length)return t;var n=L()(!0,{},e);return Array.isArray(t.consume)&&(n.consume=function(e,t){if(!Array.isArray(e))return t;var n=L()(!0,[],e);return t.forEach((function(e){var t=ac(n.filter((function(t){return t.context===e.context})),1)[0];t?L()(!0,t,e):n.push(e)})),n}(e.consume,t.consume)),n}var sc={extend:function(e,t){var n=e;return t.filter(Boolean).forEach((function(t){var r=e.filter((function(e){return e.key&&e.key===t.key}))[0];if(r){var o=L()(!0,{},r.brush);L()(!0,r,t),t.brush&&(r.brush=uc(o,t.brush))}else n.push(t)})),n}};function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pc(e){var t=e.layoutModel,n=e.discrete;return function(e){var r=e.h,o=e.rect,i=e.orientation,a=e.minThumbSize,l=n.query.getCurrentDataPage(),u=t.meta.size.y,s="vertical"===i,c=o[s?"width":"height"],f=l.qArea.qTop/u*c,d=l.qArea.qHeight/u*c;if(d<a){var p=(a-d)/2;f=f-p+(Math.max(0,0-(f-p))-Math.max(0,f+d+p-c)),d=a}return r("div",{style:fc({position:"absolute",right:0,bottom:0,background:"red",opacity:.2},s?{top:0,left:f,width:d}:{top:f,left:0,height:d})})}}function mc(e){var t=e.layoutModel,n=e.viewState,r=e.viewCache;return t.meta.isContinuous?function(e,t){var n=e.get("zoom"),r=t.get("continuousMin"),o=t.get("continuousMax");return[(n.min-r)/(o-r),(n.max-r)/(o-r)]}(n,r):function(e){return e.get("viewRange")}(n)}var hc={MINI_CHART:{value:"miniChart",translation:"properties.scrollbar.miniChart"},BAR:{value:"bar",translation:"properties.scrollbar.bar"},NONE:{value:"none",translation:"properties.scrollbar.none"}},gc={OPTIONS:hc,DEFAULT:hc.MINI_CHART},yc=function(e){return{miniChart:e===gc.OPTIONS.MINI_CHART.value,bar:e===gc.OPTIONS.BAR.value,none:e===gc.OPTIONS.NONE.value}},vc=function(e){var t=e.layoutModel,n=t.getLayoutValue("scrollbar");if(n)return yc(n);var r=t.getLayoutValue("showMiniChartForContinuousAxis");if(void 0===r)return yc(gc.DEFAULT.value);var o=t.getLayoutValue("dimensionAxis.continuousAuto"),i=t.getLayoutValue("preferContinuousAxis");return yc(!r&&(o||!o&&i)?gc.OPTIONS.NONE.value:gc.OPTIONS.MINI_CHART.value)};function bc(e){var t=e.layoutModel,n=e.dockModel,r=e.discrete,o=e.continuousDataModel,i=e.viewState,a=e.viewCache,l=e.themeModel,u=void 0===l?{}:l,s=e.rtl,c=e.scrollbarOverride,f=e.visualizeCache,d=void 0!==f&&f,p=function(e){var t=e.layoutModel,n=e.override,r=void 0===n?void 0:n,o=vc({layoutModel:t});return r&&r.predicate({layoutModel:t,scrollbar:o})&&(o.miniChart=r.value===gc.OPTIONS.MINI_CHART.value,o.bar=r.value===gc.OPTIONS.BAR.value,o.none=r.value===gc.OPTIONS.NONE.value),o}({layoutModel:t,override:c});if(p.none)return!1;var m={key:"scrollbar",type:"scrollbar",layout:{dock:"vertical"===n.major.orientation?n.minor.minDock:n.minor.maxDock,minimumLayoutMode:"XSMALL"},show:function(){return t.meta.isContinuous?o.getDimensionCardinality()>1:r.query.getCanScroll()},settings:{orientation:n.major.orientation,rtl:s,isContinuous:t.meta.isContinuous,range:function(){return mc({layoutModel:t,viewState:i,viewCache:a})}}};return p.bar&&(m.settings.style="slim",m.settings.size={area:{max:8,min:8}},t.meta.isContinuous||(m.settings.size.thumb={min:4})),u.color&&(m.style={standard:{thumb:{"border-color":u.color,opacity:.4},before:{background:u.color,opacity:.1},after:{background:u.color,opacity:.1}}}),t.meta.isDiscrete&&d&&(m.settings.injections=function(){return[pc({layoutModel:t,discrete:r})]}),m}function xc(e){return bc({viewState:e.viewState,viewCache:e.viewCache,discrete:e.discrete,layoutModel:e.layoutModel,dockModel:e.dockModel,themeModel:e.themeModel,rtl:e.rtl})}function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){wc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sc="#la-vie-tooltip";function kc(){if(!document.querySelector(Sc)){var e=document.createElement("div");e.id="la-vie-tooltip",e.style.overflow="hidden",e.style.position="fixed",e.style.pointerEvents="none",e.style.left="0px",e.style.top="0px",e.style.width="100%",e.style.height="100%",e.style.zIndex=1020,document.body.appendChild(e)}}function Cc(e){var t=e.key;return{show:!0,key:void 0===t?"tooltip":t,type:"tooltip",layout:{displayOrder:3},beforeMount:function(){kc()},beforeUpdate:function(){kc()},destroyed:function(){var e;(e=document.querySelector(Sc))&&e.parentElement&&e.childElementCount<1&&e.parentElement.removeChild(e)},settings:{appendTo:function(){return document.querySelector(Sc)},content:function(e){var t=e.h,n=e.data,r=e.style;return n[0].map((function(e){return t("tr",{},function(e,t){var n=t.h,r=t.style;return e.map((function(e){var t={style:Oc(Oc({},r.cell||{}),e.style||{}),class:e.class};return e.colspan&&(t.colspan=e.colspan),n("td",t,e.content)}))}(e,{h:t,style:r}))}))},direction:e.rtl?"rtl":"ltr"},style:{arrow:{color:"#404040"},content:{display:"table","border-spacing":"4px",background:"rgba(64, 64, 64, 0.9)",opacity:"1",fontSize:"13px",fontFamily:"QlikView Sans, sans-serif","empty-cells":"show"},cell:{"max-width":"180px","word-break":"break-word","word-wrap":"break-word","overflow-wrap":"break-word",hyphens:"auto"}}}}function Ec(e){var t=e.nodes,n=e.keys,r=e.value;return t.filter((function(e){return function(e){var t=e.node,n=e.keys,r=e.value;return n.indexOf(t.key)>-1&&t.data.value===r}({node:e,keys:n,value:r})}))}function Ac(e,t){var n=[];return t.forEach((function(t){n=n.concat(e.findShapes(t))})),n}function qc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tc,Nc=[vl.COMPONENT.BAR,vl.COMPONENT.TARGET,vl.COMPONENT.RANGES,vl.COMPONENT.MAJOR_AXIS,vl.COMPONENT.OUT_OF_MAX_BOUNDS,vl.COMPONENT.OUT_OF_MIN_BOUNDS];function Lc(e){return e.data.start?e.data.start.value:-1/0}function Ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jc=(Ic(Tc={},vl.COMPONENT.BAR,0),Ic(Tc,vl.COMPONENT.OUT_OF_MAX_BOUNDS,1),Ic(Tc,vl.COMPONENT.OUT_OF_MIN_BOUNDS,2),Ic(Tc,vl.COMPONENT.TARGET,3),Ic(Tc,vl.COMPONENT.RANGES,4),Tc);var Pc={getColorSymbol:function(e,t){return e.h("div",{style:{display:"inline-block",width:"10px",height:"10px","background-color":t.color.fill,margin:"0 8px"}})},getNodeFillColor:function(e){return e.attrs&&void 0!==e.attrs.fill?e.attrs.fill:e.children&&e.children[0]&&e.children[0].attrs&&void 0!==e.children[0].attrs.fill?e.children[0].attrs.fill:void 0},getColor:function(e,t,n){var r=t.data,o=e.resources.formatter,i=e.resources.dataset,a={};if(n.coloring.label&&(a.label="".concat(n.coloring.label)),"color"!==n.coloring.type&&r.fillTooltip){var l=o("fill"),u="measure"===n.coloring.fieldType;if(a.value=u&&l?l(r.fillTooltip.value):r.fillTooltip.label?r.fillTooltip.label:r.fillTooltip.value,!n.coloring.label){var s=i(r.fillTooltip.source.key).field(r.fillTooltip.source.field).title();a.label="".concat(s)}}return a.fill=void 0===r._fillColor?Pc.getNodeFillColor(t):r._fillColor,a},getMeasure:function(e,t){var n=e(t.source.key).field(t.source.field).title();return{label:"".concat(n),value:""===t.label||"NaN"===t.label?"-":t.label,field:t.source.field}},hideColorRow:function(e,t){return void 0===e.color.value||e.measures.some((function(e){return e.field===t.coloring.field}))},getTitleRow:function(e,t){var n=h.detectTextDirection(e.title);return[{content:e.title,style:{"font-weight":"bold","text-align":t.rtl?"right":"left",direction:n},colspan:2},{}]},getDescriptionRow:function(e,t){var n=h.detectTextDirection(e.value);return[{content:e.value,style:{"text-align":t.rtl?"right":"left",direction:n},colspan:2},{}]},getImageRow:function(e,t){var n=h.detectTextDirection(e.src),r=[],o={style:{display:"block","margin-left":"auto","margin-right":"auto",overflow:"hidden",width:e.width,height:e.height}};if("original"===e.size||e.imageError){r.push(t.h("span",{style:{display:"inline-block",height:"100%","vertical-align":"middle"}}));var i=e.imageError?"".concat(e.src,"?").concat(Math.random()):e.src;r.push(t.h("img",{style:{"max-width":e.width,"max-height":e.height,"vertical-align":"middle"},src:i,referrerpolicy:"no-referrer"})),o.style["text-align"]="center",o.style["white-space"]="nowrap"}else o.style["background-size"]="contain",o.style["background-repeat"]="no-repeat",o.style["background-position"]="center",o.style["background-image"]="url('".concat(e.src,"')");return[{content:[t.h("div",o,r),""],style:{"text-align":t.rtl?"right":"left",direction:n,"max-width":e.width},colspan:2},{}]},getNMoreRow:function(e,t,n){var r=t?t.get("Object.ChartTooltip.NMore",e):"+".concat(e," more"),o=h.detectTextDirection(r);return[{content:r,style:{"font-weight":"bold","text-align":n.rtl?"right":"left",direction:o},colspan:2},{}]},getSeparatorRow:function(){return[{content:"",style:{"background-image":"linear-gradient(transparent 8px, rgba(255, 255, 255, 0.4) 8px, rgba(255, 255, 255, 0.4) 9.2px, transparent 9.2px)",height:"17px"},colspan:2},{}]},getColorRow:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=h.detectTextDirection(t.color.label),o=n.rtl?[":",t.color.label]:[t.color.label,":"],i=h.detectTextDirection(t.color.value),a=n.rtl?[t.color.value,Pc.getColorSymbol(e,t)]:[Pc.getColorSymbol(e,t),t.color.value];return[{content:o,style:{"text-align":n.rtl?"right":"left",direction:r}},{content:a,style:{"text-align":n.rtl?"left":"right",direction:i,"vertical-align":"middle"}}]},getMeasureRow:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=h.detectTextDirection(e.label),l=o.rtl?[":",e.label]:[e.label,":"],u=h.detectTextDirection(e.value);return r=i?o.rtl?[e.value,Pc.getColorSymbol(t,n)]:[Pc.getColorSymbol(t,n),e.value]:[e.value],[{content:l,style:{"text-align":o.rtl?"right":"left",direction:a}},{content:r,style:{"text-align":o.rtl?"left":"right",direction:u,"vertical-align":"middle"}}]}},Rc=Pc;function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(n),!0).forEach((function(t){Fc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uc,Hc={getCustomAttrExps:function(e,t,n,r){var o,i,a={customTooltipAttrExpsArr:[],customTooltipInfoAttrExpsArr:[]},l=(null===(o=t.data)||void 0===o||null===(i=o.customTooltipAttrExps)||void 0===i?void 0:i.value)||[];return Number.isNaN(l)?a:function(e,t,n,r,o){var i,a=(Fc(i={},Go.CUSTOM.TITLE,!0),Fc(i,Go.CUSTOM.DESCRIPTION,!0),i),l=xi.getAttrExprData(e),u=l.attrExps,s=l.fieldPath;return 0===t.length||0===u.length||""===s||u.forEach((function(e,i){var l=t[i];if(e.id===Go.CUSTOM.EXPRESSION&&l){var u,c=e.qFallbackTitle;u=!e.qIsAutoFormat&&l&&"NaN"!==l.value?n("qHyperCube").field("".concat(s,"/").concat(i)).formatter()(l.value):e.qIsAutoFormat&&l&&"NaN"!==l.value&&r?r(l.value):l.value,o.customTooltipAttrExpsArr.push({label:c,value:u})}else if(a[e.id]&&l){var f="-"!==l.value&&"NaN"!==l.value?l.value:l.label;f&&"undefined"!==f&&o.customTooltipInfoAttrExpsArr.push(zc(zc({},e.id===Go.CUSTOM.TITLE&&{title:f}),{},{value:f,id:e.id}))}})),o}(n,l.map((function(t){return Rc.getMeasure(e,t)})),e,r,a)}};function Bc(e){return function(e,t,n,r){var o=[];return e.forEach((function(e){o.push(Hc.getCustomAttrExps(n,e,t,r))})),o}(e.nodes,e.layout,e.dataset,e.formatter).reduce((function(e,t){return{customTooltipAttrExpsArr:e.customTooltipAttrExpsArr.concat(t.customTooltipAttrExpsArr),customTooltipInfoAttrExpsArr:e.customTooltipInfoAttrExpsArr.concat(t.customTooltipInfoAttrExpsArr)}}),{customTooltipAttrExpsArr:[],customTooltipInfoAttrExpsArr:[]})}function Vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wc=(Vc(Uc={COMMON_RANGE:"properties.bulletChart.commonRange",COMMON_AXIS:"properties.bulletChart.commonAxis",TARGET:"properties.bulletChart.target",BAR_COLOR:"properties.bulletChart.barColor",TARGET_COLOR:"properties.bulletChart.targetColor"},vl.COMPONENT.TARGET,"properties.bulletChart.target"),Vc(Uc,vl.COMPONENT.RANGES,"properties.axis.range"),Uc);function Gc(e,t){return""===e.label||"NaN"===e.label?"-":t?t(e.value):e.label}function Kc(e){var t=e.chartModel,n=e.layoutModel,r=e.fieldModel,o=e.rtl,i=e.translator,a=h.detectTextDirection;return function(e){var l=e.context,u=e.node,s=e.dataset,c=n.meta.hasDimensions?0:u.data.value,f=[vl.COMPONENT.BAR,vl.COMPONENT.OUT_OF_MAX_BOUNDS,vl.COMPONENT.OUT_OF_MIN_BOUNDS,vl.COMPONENT.TARGET].indexOf(u.key)>-1?t.command.getChart().formatter(r.minors[c]):void 0,d=function(e){var t=e.node,n=e.dataset,r=e.translator;if([vl.COMPONENT.BAR,vl.COMPONENT.OUT_OF_MAX_BOUNDS,vl.COMPONENT.OUT_OF_MIN_BOUNDS].indexOf(t.key)>-1){var o=t.data,i=o.end,a=o.source.key,l=i.source.field;return n(a).field(l).title()}return r.get(Wc[t.key])}({node:u,dataset:s,translator:i}),p=function(e){var t=e.node,n=e.formatter,r=t.data,o=r.start,i=r.end,a=r.target;if([vl.COMPONENT.BAR,vl.COMPONENT.OUT_OF_MAX_BOUNDS,vl.COMPONENT.OUT_OF_MIN_BOUNDS].indexOf(t.key)>-1)return Gc(i||o,n);if(t.key===vl.COMPONENT.TARGET)return Gc(a,n);if(t.key===vl.COMPONENT.RANGES){if(!o){var l=Gc(i,n);return"< ".concat(l)}if(!i){var u=Gc(o,n);return">= ".concat(u)}var s=Gc(o,n),c=Gc(i,n);return"".concat(s," - < ").concat(c)}return"-"}({node:u,formatter:f}),m=function(e){var t=e.node.attrs;if(t&&t.fill)return t.fill}({node:u}),h=l.h("div",{style:{display:"inline-block",width:10,height:10,"background-color":m,margin:"0 8px"}});return{label:o?[":",d]:[d,":"],value:o?[p,h]:[h,p],labelDirection:a(d),valueDirection:a(p)}}}function $c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zc(e){var t=e.chartModel,n=e.layoutModel,r=e.fieldModel,o=e.customTooltipModel,i=e.rtl,a=e.translator,l=e.flags,u=function(e){var t=e.chartModel,n=e.layoutModel,r=e.fieldModel,o=e.customTooltipModel,i=e.rtl,a=e.translator,l=e.flags,u=h.detectTextDirection,s=Kc({chartModel:t,layoutModel:n,fieldModel:r,rtl:i,translator:a});return function(e){var a=e.context,c=e.nodes,f=c[0].data,d=a.resources.dataset,p=f.label,m={title:{label:p,labelDirection:u(p)},limits:[]},h=c.filter((function(e){return e.data&&(e.data.start||e.data.end||e.data.target)})),g=h.map((function(e){return s({context:a,node:e,dataset:d})}));if(m.measures=g,!h.some((function(e){return e.key===vl.COMPONENT.TARGET}))){var y=c.filter((function(e){return e.key===vl.COMPONENT.BAR&&e.data&&e.data.target}));if(y.length){var v=y.map((function(e){return s({context:a,node:{key:vl.COMPONENT.TARGET,data:e.data},dataset:d})}));m.measures=g.concat(v)}}if(l.isEnabled("CUSTOM_TOOLTIP_BULLET_CHART")&&o.useCustomTooltip){var b=h.filter((function(e){return e.key!==vl.COMPONENT.TARGET})),x=n.getLayout();x.tooltip.hideBasic&&(m.measures=[]);var M=n.meta.hasDimensions?0:f.value,O=t.command.getChart().formatter(r.minors[M]),w=Bc({nodes:b,layout:x,dataset:d,formatter:O}),S=w.customTooltipInfoAttrExpsArr,k=w.customTooltipAttrExpsArr,C=$c(S.filter((function(e){return e.id===Go.CUSTOM.TITLE})).map((function(e){var t=e;return t.direction=u(m.customTitle),t})),1);m.customTitle=C[0];var E=$c(S.filter((function(e){return e.id===Go.CUSTOM.DESCRIPTION})).map((function(e){var t=e;return t.direction=u(m.customDescription),t})),1);if(m.customDescription=E[0],m.customMeasures=k.map((function(e){var t=e;return t.label=i?[":",t.label]:[t.label,":"],t.value=""===t.value||"NaN"===t.value?"-":t.value,t.valueDirection=u(e.value),t.labelDirection=u(e.label),e})),l.isEnabled("CUSTOM_TOOLTIP_IMAGES")){var A=[];b.forEach((function(e){e.data.customTooltipImages&&(A=A.concat(e.data.customTooltipImages))})),A.length>0&&(m.customImages=A)}}return m}}({chartModel:t,layoutModel:n,fieldModel:r,customTooltipModel:o,rtl:i,translator:a,flags:l});return function(e){var t=e.context;return e.groups.map((function(e){var n=u({context:t,nodes:e}),r=n.title,o=n.measures,a=n.customTitle,l=n.customDescription,s=n.customMeasures,c=n.customImages,f={title:[{content:r.label,style:{"font-weight":"bold","text-align":i?"right":"left",direction:r.labelDirection},colspan:2}]};return f.measures=o.map((function(e){return[{content:e.label,style:{"text-align":i?"right":"left",direction:e.labelDirection}},{content:e.value,style:{"text-align":i?"left":"right","vertical-align":"middle",direction:e.valueDirection}}]})),(a||l)&&0===s.length&&0===o.length&&(f.title=[]),a&&(f.customTitle=[{content:a.title,style:{"font-weight":"bold","text-align":i?"right":"left",direction:a.direction},colspan:2}]),l&&(f.customDescription=[{content:l.value,style:{"text-align":i?"right":"left",direction:l.direction},colspan:2}]),s&&(f.customMeasures=s.map((function(e){return[{content:e.label,style:{"text-align":i?"right":"left",direction:e.labelDirection}},{content:e.value,style:{"text-align":i?"left":"right","vertical-align":"middle",direction:e.valueDirection}}]}))),c&&(f.customImages=c.map((function(e){return Rc.getImageRow(e,t)}))),f}))}}var Jc=7,Yc=function(e,t){return e+1+t.measures.length};function Qc(e){return function(e){if(Array.isArray(e))return ef(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ef(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tf(e){var t=e.chartModel,n=e.layoutModel,r=e.fieldModel,o=e.customTooltipModel,i=e.rtl,a=e.translator,l=e.flags,u=n.meta.hasDimensions,s=function(e){var t=e.chart;return function(e){var n=e.node.data.value,r=[vl.COMPONENT.BAR,vl.COMPONENT.TARGET,vl.COMPONENT.OUT_OF_MAX_BOUNDS,vl.COMPONENT.OUT_OF_MIN_BOUNDS],o=Ec({nodes:Ac(t,["rect","path"]),keys:r,value:n});return o.sort((function(e,t){return jc[e.key]===jc[t.key]?Lc(e)-Lc(t):jc[e.key]-jc[t.key]})),o}}({chart:t.command.getChart()}),c=function(e){return[e.nodes]},f=Zc({chartModel:t,layoutModel:n,fieldModel:r,customTooltipModel:o,rtl:i,translator:a,flags:l});return function(e){var t=e.context,n=e.source,r=t.node,o=s({source:n,node:r}),l=c({nodes:o}),d=function(e){var t=e.sections,n={visible:[],hidden:[]};return t.reduce((function(e,t){return(e<Jc?n.visible:n.hidden).push(t),Yc(e,t)}),0),n}({sections:f({context:t,groups:l})}),p=d.visible,m=d.hidden,g=p.reduce((function(e,t){var n=t.title,r=t.measures,o=t.customTitle,i=t.customDescription,a=t.customMeasures,l=t.customImages;return o&&e.push(o),i&&e.push(i),u&&e.push(n),e.push.apply(e,Qc(r)),a&&e.push.apply(e,Qc(a)),l&&e.push.apply(e,Qc(l)),e}),[]);return m.length&&g.push(function(e){var t=e.count,n=e.translator,r=e.rtl,o=h.detectTextDirection,i=n?n.get("Object.ChartTooltip.NMore",t):"+".concat(t," more");return[{content:i,style:{"font-weight":"bold","text-align":r?"right":"left",direction:o(i)},colspan:2}]}({count:m.length,rtl:i,translator:a})),g}}function nf(e){var t=e.chartModel,n=e.layoutModel,r=e.fieldModel,o=e.customTooltipModel,i=e.themeModel,a=e.rtl,l=e.translator,u=e.flags,s={source:void 0},c=Cc({key:vl.COMPONENT.TOOLTIP,rtl:a}),f=tf({chartModel:t,layoutModel:n,fieldModel:r,customTooltipModel:o,rtl:a,translator:l,flags:u}),d=t.command.getChart(),p=i.query.getStyle();return L()(!0,c,{settings:{filter:function(e){return s.source=(e[0]||{}).key,function(e){var t=e.chart,n=e.nodes;if(!n.length)return[];var r=qc(n,1)[0];if(-1===Nc.indexOf(r.key))return[];var o=r.data.value,i=[vl.COMPONENT.BAR,vl.COMPONENT.OUT_OF_MAX_BOUNDS,vl.COMPONENT.OUT_OF_MIN_BOUNDS],a=Ec({nodes:Ac(t,["rect","path"]),keys:i,value:o});return 0===a.length?[]:[a[0]]}({chart:d,nodes:e})},extract:function(e){return f({context:e,source:s.source})},placement:"bounds"},style:{content:{fontFamily:p.fontFamily}}})}var rf={MODES:["SPARK","XSMALL","SMALL","MEDIUM","FULL"],AXIS:{MAJOR:{vertical:{width:"XSMALL",height:"SMALL"},horizontal:{width:"SMALL",height:"XSMALL"}},MINOR:"XSMALL"},AXIS_TITLE:{MAJOR:{vertical:{width:"XSMALL",height:"MEDIUM"},horizontal:{width:"MEDIUM",height:"XSMALL"}},MINOR:"SMALL"},BULLET_AXIS:"XSMALL",GRID_LINE:"XSMALL"},of={stringWidthOverMWidth:function(e){return(12*Math.min(e,3)+Math.max(e-3,0)*(166/26))/11},getCharacterRatios:function(e){if(!e)return{latin:0,cjk:0};var t=e.match(/[\u4E00-\u9FFF]/g),n=e.match(/[\u3040-\u309F]/g),r=e.match(/[\u30A0-\u30FF]/g),o=(t=t?t.length:0)+(n=n?n.length:0)+(r=r?r.length:0);return{latin:e.length-o,cjk:o}},getTotalCharacterRatios:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"qText";if(!e)return{latinRatio:1,cjkRatio:0};var r,o={latin:0,cjk:0};void 0===t?e.forEach((function(e){r=of.getCharacterRatios(e[n]),o.latin+=r.latin,o.cjk+=r.cjk})):e.forEach((function(e){r=of.getCharacterRatios(e[t][n]),o.latin+=r.latin,o.cjk+=r.cjk}));var i=Math.max(1,o.latin+o.cjk);return o.latinRatio=o.latin/i,o.cjkRatio=o.cjk/i,o},getAdjustedMaxGlyphCount:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"qText",o=of.getTotalCharacterRatios(t,n,r),i=o.latinRatio*e,a=o.cjkRatio*e,l=Math.ceil(of.stringWidthOverMWidth(i)+a*(12/11));return l}},af=of;function lf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sf={LOWER:3,UPPER:13};function cf(e){var t=e.layoutModel,n=e.dockModel,r=e.themeModel,o=e.rtl,i=e.itemWidthModel,a=t.getLayoutValue("dimensionAxis"),l=a.show,u=a.label,s=t.getLayoutValue("gridLine",{}),c=s.auto,f=s.spacing,d=n.major.orientation,p="vertical"===d,m=r.query.getStyle(),h=function(e){var t=e.layoutModel,n=t.getHyperCubeValue("qDimensionInfo.0.qApprMaxGlyphCount"),r=lf(t.getDataPages(),1)[0].qMatrix;return af.getAdjustedMaxGlyphCount(n,r,0,"qText")}({layoutModel:t}),g=n.minor.dock,y=("left"===g||"top"===g?1:-1)*i.query.getBulletAxis().widthPx/2,v=p?u:"auto";return{type:"axis",key:vl.COMPONENT.MAJOR_AXIS,scale:vl.SCALE.MAIN.MAJOR,layout:{dock:n.major.dock,minimumLayoutMode:rf.AXIS.MAJOR[d]},settings:{labels:{show:"title"!==l,mode:v,tiltAngle:o?-40:40,maxEdgeBleed:50,maxLengthPx:"horizontal"===v?void 0:n.minor.containerSize/4,maxGlyphCount:h,tiltThreshold:h>sf.LOWER&&h<sf.UPPER?1:void 0,fontFamily:m.axis.label.name.fontFamily,fontSize:m.axis.label.name.fontSize,fill:m.axis.label.name.color,offset:y},line:{show:!c&&0===f,stroke:m.axis.line.major.color},paddingEnd:4},brush:{consume:[{context:"selection",data:["selectionDimension"],style:{inactive:{opacity:.5}}}]}}}function ff(e){var t=e.dockModel,n=e.layoutModel,r=e.fieldModel,o=e.themeModel;return[function(e){var t=e.layoutModel,n=e.dockModel,r=e.themeModel,o=e.rtl,i=e.itemWidthModel,a=t.getLayoutValue("dimensionAxis");return!(!a||"none"===a.show)&&cf({layoutModel:t,dockModel:n,themeModel:r,rtl:o,itemWidthModel:i})}({layoutModel:n,dockModel:t,themeModel:o,rtl:e.rtl,itemWidthModel:e.itemWidthModel}),function(e){var t=e.dockModel,n=e.layoutModel,r=e.fieldModel,o=e.themeModel,i=n.meta,a=i.allowSharedMinorAxis,l=i.allowSharedMinorAxisLabel;if(!a)return!1;var u=o.query.getStyle();return{key:vl.COMPONENT.MINOR_AXIS,type:"axis",dock:t.minor.dock,scale:vl.SCALE.MAIN.MINOR,formatter:r.minors[0],settings:{labels:{show:l,fontFamily:u.axis.label.name.fontFamily,fontSize:u.axis.label.name.fontSize,fill:u.axis.label.name.color},line:{stroke:u.axis.line.major.color},ticks:{stroke:u.axis.line.major.color},minorTicks:{stroke:u.axis.line.minor.color}}}}({dockModel:t,layoutModel:n,fieldModel:r,themeModel:o})].filter(Boolean)}function df(e){var t=e.model,n=e.app,r=e.translator,o=e.constraints,i=e.rtl,a=e.properties,l=e.layoutModel,u=e.dockModel,s=e.themeModel;if(!l.meta.hasDimensions)return!1;var c=l.getLayoutValue("measureAxis");if(!c)return!1;var f=c.show;if("all"!==f&&"title"!==f)return!1;var d=s.query.getStyle(),p={type:"data-title",key:vl.COMPONENT.MINOR_AXIS_TITLE,layout:{dock:u.minor.dock,minimumLayoutMode:rf.AXIS_TITLE.MINOR},settings:{hyperCube:l.getHyperCube(),hyperCubeDef:a&&a.qHyperCubeDef,isDimension:!1,disabled:function(){return o.active||!t},model:t,app:n,translator:r,rtl:i,selections:void 0,skipAttributeExpressions:!0},style:{fontFamily:d.axis.title.fontFamily,fontSize:d.axis.title.fontSize,color:d.axis.title.color}};return l.meta.hasMultipleMeasures&&(p.settings.padding="0",p.settings.minWidth="auto"),p}function pf(e){var t=e.model,n=e.app,r=e.translator,o=e.constraints,i=e.rtl,a=e.properties,l=e.layoutModel,u=e.dockModel,s=e.themeModel;if(!l.meta.hasDimensions)return!1;var c=l.getLayoutValue("dimensionAxis");if(!c)return!1;var f=c.show;if("all"!==f&&"title"!==f)return!1;var d=u.major.orientation,p=s.query.getStyle();return{type:"data-title",key:vl.COMPONENT.MAJOR_AXIS_TITLE,layout:{dock:u.major.dock,minimumLayoutMode:rf.AXIS_TITLE.MAJOR[d]},settings:{hyperCube:l.getHyperCube(),hyperCubeDef:a&&a.qHyperCubeDef,isDimension:!0,disabled:function(){return o.active||!t},model:t,app:n,translator:r,rtl:i,selections:void 0},style:{fontFamily:p.axis.title.fontFamily,fontSize:p.axis.title.fontSize,color:p.axis.title.color}}}var mf={context:"selection",style:{active:{opacity:.3},inactive:{opacity:.3}}};function hf(e){var t=L()(!0,{},mf);switch(e){case vl.COMPONENT.BAR:t.style.active={strokeWidth:2,stroke:"#000",opacity:1},t.data=["selectionDimension","end"];break;case vl.COMPONENT.TARGET:case vl.COMPONENT.RANGES:}return{consume:[t]}}function gf(e){return e.layoutModel.meta.allowMinorAxes}function yf(e){var t=e.layoutModel,n=e.dockModel,r=t.meta.allowMinorAxes,o=n.mode,i=rf.MODES.indexOf(o),a=rf.BULLET_AXIS,l=rf.MODES.indexOf(a);return r&&i>=l}function vf(e){var t=e.chartModel,n=e.dockModel,r=e.itemWidthModel,o=t.command.getChart(),i=o.component(vl.COMPONENT.BAR).rect,a="vertical"===n.major.orientation?i.width:i.height,l=o.scale(vl.SCALE.MAIN.PX_MAJOR).bandwidth()*a;return(l-r.query.getBulletAxis().widthPx)/l}function bf(e){var t=e.layoutModel,n=e.chartModel,r=e.dockModel,o=e.itemWidthModel,i=e.itemNameFn;return function(){if(!yf({layoutModel:t,dockModel:r}))return o.query[i]().width;var e=vf({chartModel:n,dockModel:r,itemWidthModel:o});return o.query[i]().widthPx*e/o.query.getMaxBTR().widthPx}}function xf(e){var t=e.chartModel,n=e.dockModel,r=e.itemWidthModel,o=n.minor.dock,i="left"===o||"top"===o?1:-1;return function(e){var o=e.scale,a=e.datum,l=vf({chartModel:t,dockModel:n,itemWidthModel:r});return o(a.value)+o.bandwidth()*(.5+i*(1-l)/2)}}var Mf=function(e){var t=e.orientation,n=e.isBulletAxesShown,r=e.widthFn,o=e.majorFn,i={type:"box",data:{collection:vl.COLLECTION.MAIN},settings:{orientation:t,major:{scale:vl.SCALE.MAIN.MAJOR},minor:{},box:{width:r,stroke:"transparent",fill:"none"},oob:{show:!1},whisker:{show:!1},median:{show:!1},line:{show:!1}}};return n&&(i.settings.major.fn=o()),i};function Of(e){return function(e){if(Array.isArray(e))return wf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sf(e){var t=e.thisColor,n=e.paletteColors,r=e.paletteIndex,o=e.limit,i=e.isLeft,a=void 0!==i&&i,l=e.themeModel,u=a?0:1,s=0===Object.entries(o).length,c=o.gradient,f=r+(a?-1:1);s&&(f=a?0:n.length-1);var d=l.query.getColorPickerColor(f<n.length&&f>=0?n[f]:n[0]);return{color:c?xu(t,d)(.5):t,offset:u,gradient:c}}function kf(e){var t=e.limits,n=e.paletteColors,r=e.paletteIndex,o=e.themeModel,i=y.getValue(t,"".concat(r-1),{}),a=y.getValue(t,"".concat(r),{});if(![i,a].map((function(e){return e.gradient})).includes(!0))return[];var l=o.query.getColorPickerColor(n[r]),u=[Sf({thisColor:l,paletteColors:n,paletteIndex:r,limit:i,isLeft:!0,themeModel:o}),Sf({thisColor:l,paletteColors:n,paletteIndex:r,limit:a,isLeft:!1,themeModel:o})];return 2===u.filter((function(e){return e.gradient})).length&&u.splice(1,0,{offset:.5,color:l}),u.map((function(e){return{offset:e.offset,color:e.color}}))}function Cf(e){var t=e.datum,n=e.layoutModel,r=e.scaleModel,o=e.themeModel,i=[],a=n.meta,l=a.measuresSortedLimits,u=a.measuresSegmentIndices,s=a.hasDimensions?0:t.value,c=l[s],f=n.getLayoutValue("qHyperCube.qMeasureInfo",[])[s].conditionalColoring.segments.paletteColors,d=r.query.getScale({datum:t}),p=u[s].map((function(e){return t["limit".concat(e)].value})),m=Math.min.apply(Math,Of(p).concat([d.min()])),h=Math.max.apply(Math,Of(p).concat([d.max()])),g=[m].concat(Of(p),[h]),y=h-m;return g.sort((function(e,t){return e>t?1:-1})),f.forEach((function(e,n){var r=function(e){var t=e.limits,n=e.paletteColors,r=e.paletteIndex,o=e.themeModel,i=kf({limits:t,paletteColors:n,paletteIndex:r,themeModel:o});if(i.length)return i;var a=o.query.getColorPickerColor(n[r]);return[{offset:0,color:a},{offset:1,color:a}]}({limits:c,paletteColors:f,paletteIndex:n,themeModel:o,scale:d,datum:t}).map((function(e){var t=(g[n]+e.offset*(g[n+1]-g[n])-m)/y;return{offset:Number.isNaN(t)?0:t,color:e.color}}));i.push.apply(i,Of(r))})),i}function Ef(e){return function(e){if(Array.isArray(e))return Af(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Af(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qf(e){var t=e.orientation,n=e.layoutModel,r=e.scaleModel,o=e.itemWidthModel,i=e.invert,a=e.dockModel,l=e.chartModel,u=e.themeModel,s=n.meta,c=s.hasRange,f=s.hasDimensions,d=s.measuresSegmentIndices;if(!c)return!1;var p=gf({layoutModel:n,dockModel:a}),m="vertical"===t,h=bf({layoutModel:n,chartModel:l,dockModel:a,itemWidthModel:o,itemNameFn:"getRange"});function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"max":"min",n=f?0:e.datum.value,o=d[n].map((function(t){return e.datum["limit".concat(t)].value})),i=r.query.getScale(e),a=Math[t].apply(Math,Ef(o).concat([i[t]()]));return i(a)}var y=Mf({orientation:t,isBulletAxesShown:p,widthFn:h,majorFn:function(){return xf({chartModel:l,dockModel:a,itemWidthModel:o})}}),v={key:vl.COMPONENT.RANGES,brush:hf(vl.COMPONENT.RANGES),settings:{minor:{start:function(e){return g(e,!1)},end:function(e){return g(e,!0)}},box:{fill:function(e){return function(e){var t=e.datum,n=e.layoutModel,r=e.scaleModel,o=e.themeModel,i=e.isVertical,a=e.invert;return{type:"gradient",x1:!i&&a?1:0,x2:i||a?0:1,y1:i?1:0,y2:0,stops:Cf({datum:t,layoutModel:n,scaleModel:r,themeModel:o})}}({datum:e.datum,layoutModel:n,scaleModel:r,themeModel:u,isVertical:m,invert:i})}}}};return L()(!0,y,v)}function Df(e,t){var n=t.meta.hasExplicitMax,r=t.explicit.max;return!!n&&e>r&&r<=0}function Tf(e,t){var n=t.meta.hasExplicitMin,r=t.explicit.min;return!!n&&e<r&&r>=0}function Nf(e,t){var n=t.meta.hasExplicitMax,r=t.explicit.max;return!!n&&e>r&&r>0}function Lf(e,t){var n=t.meta.hasExplicitMin,r=t.explicit.min;return!!n&&e<r&&r<0}var If={MAX:"max",MIN:"min"},jf={min:"Min",max:"Max"};function Pf(e,t,n){return void 0===n?Df(e,t)||Tf(e,t):n===If.MAX?Df(e,t):Tf(e,t)}function Rf(e,t,n){return void 0===n?Nf(e,t)||Lf(e,t):n===If.MAX?Nf(e,t):Lf(e,t)}function _f(e,t){return!e.meta["hasExplicit".concat(jf[t])]}function zf(e,t,n){var r=n?function(e){return e<0}:function(e){return e>0};return e.meta["hasExplicit".concat(jf[t])]&&r(e.explicit[jf[t]])}function Ff(e,t){var n=t===If.MAX,r=_f(e,t),o=function(e,t,n){var r=n?e.implicit.max:e.implicit.min;return!Rf(Number(r.toFixed(13)),e,t)}(e,t,n),i=zf(e,t,n);return!(r||o||i)}function Uf(e,t){var n=t===If.MAX;return!(_f(e,t)||function(e,t,n){var r=n?e.implicit.max:e.implicit.min;return!Pf(Number(r.toFixed(13)),e,t)}(e,t,n)||zf(e,t,n))}function Hf(e){var t=e.layoutModel,n=e.extremumModel,r=e.type,o=t.meta,i=o.hasDimensions,a=o.isSharedRange,l=o.measureCount;if(i)return!!a&&Uf(n.query.getExtrema(),r);for(var u=0;u<l;u++)if(Uf(n.query.getExtrema(u),r))return!0;return!1}function Bf(e){var t=e.layoutModel,n=e.extremumModel,r=e.index;return function(e){var t=e.layoutModel,n=e.extremumModel;return Hf({layoutModel:t,extremumModel:n,type:If.MAX})||Hf({layoutModel:t,extremumModel:n,type:If.MIN})}({layoutModel:t,extremumModel:n})&&!function(e,t){var n=e.query.getExtrema(t),r=n.meta,o=r.hasExplicitMin,i=r.hasExplicitMax,a=n.explicit,l=a.min,u=a.max;return o&&0===l||i&&0===u}(n,r)}function Vf(e){var t=e.layoutModel,n=e.extremumModel,r=e.type,o=t.meta,i=o.hasDimensions,a=o.isSharedRange,l=o.measureCount;if(i){if(!a)return!1;if(!Ff(n.query.getExtrema(),r))return!1}for(var u=0;u<l;u++)if(Ff(n.query.getExtrema(u),r))return!0;return!1}function Wf(e){var t=e.barComponent,n=e.type,r=e.extremumModel,o=e.itemWidthModel,i=e.layoutModel,a=e.dockModel,l=e.chartModel,u=e.mappingModel;if(!Vf({layoutModel:i,extremumModel:r,type:n}))return!1;var s=i.meta.isSharedRange,c=bf({layoutModel:i,chartModel:l,dockModel:a,itemWidthModel:o,itemNameFn:"getBar"}),f=gf({layoutModel:i,dockModel:a}),d=n===If.MAX?a.minor.maxDock:a.minor.minDock;var p={type:"box-sliced-hat",key:"sliced-hat-".concat(n),layout:{dock:d},data:t.data,brush:t.brush,settings:{orientation:t.settings.orientation,major:t.settings.major,minor:t.settings.minor,hat:L()({},t.settings.box,{alignment:1,opacity:1,show:function(e){var t=s?void 0:u.query.bullet2Scale(e.datum.value),o=r.query.getExtrema(t);return Ff(o,n)&&Rf(e.datum.end.value,o,n)},width:c,stroke:"transparent"})}};return f&&(p.settings.major.fn=xf({chartModel:l,dockModel:a,itemWidthModel:o})),p}function Gf(e){var t=e.barComponent,n=e.type,r=e.extremumModel,o=e.itemWidthModel,i=e.layoutModel,a=e.dockModel,l=e.chartModel,u=e.themeModel,s=e.mappingModel,c=e.hatComponent;if(!Hf({layoutModel:i,extremumModel:r,type:n}))return!1;var f=i.meta.isSharedRange,d=u.query.getStyle(),p=gf({layoutModel:i,dockModel:a}),m=n===If.MAX?a.minor.maxDock:a.minor.minDock;var h={type:"box-out-of-bounds",key:n===If.MAX?vl.COMPONENT.OUT_OF_MAX_BOUNDS:vl.COMPONENT.OUT_OF_MIN_BOUNDS,layout:{dock:c?"@".concat(c.key):m},data:t.data,brush:t.brush,settings:{orientation:t.settings.orientation,major:t.settings.major,minor:t.settings.minor,dockValue:Nr.getDockValue(m),oob:L()({},t.settings.box,{fill:d.outOfRange.color,alignment:1,opacity:1,show:function(e){var t=f?void 0:s.query.bullet2Scale(e.datum.value),o=r.query.getExtrema(t);return Uf(o,n)&&Pf(e.datum.end.value,o,n)}})}};return p&&(h.settings.major.fn=xf({chartModel:l,dockModel:a,itemWidthModel:o})),h}function Kf(e){return Math.min(Math.max(0,e),1)}function $f(e){var t=e.orientation,n=e.scaleModel,r=e.itemWidthModel,o=e.layoutModel,i=e.dockModel,a=e.chartModel,l=e.extremumModel;if(!function(e){var t=e.layoutModel,n=e.extremumModel,r=t.meta,o=r.hasDimensions,i=r.measureCount;if(o)return Bf({layoutModel:t,extremumModel:n});for(var a=0;a<i;a++)if(Bf({layoutModel:t,extremumModel:n,index:a}))return!0;return!1}({layoutModel:o,extremumModel:l}))return!1;var u=1===o.meta.measureCount?function(e){var t=n.query.getScale(e),r=e.datum.end?e.datum.end.value:t.max(),o=t(r);return o<0||o>1}:function(e){var t=e.datum.source.field.split("/"),r=parseInt(t[t.length-1],10);if(!Bf({layoutModel:o,extremumModel:l,index:r}))return!1;var i=n.query.getScale(e),a=e.datum.end?e.datum.end.value:i.max(),u=i(a);return u<0||u>1},s=gf({layoutModel:o,dockModel:i}),c=bf({layoutModel:o,chartModel:a,dockModel:i,itemWidthModel:r,itemNameFn:"getBar"}),f=Mf({orientation:t,isBulletAxesShown:s,widthFn:c,majorFn:function(){return xf({chartModel:a,dockModel:i,itemWidthModel:r})}}),d={key:vl.COMPONENT.GHOST_BAR_OOB,brush:hf(vl.COMPONENT.GHOST_BAR_OOB),settings:{minor:{start:function(e){var t=n.query.getScale(e),r=e.datum.start?e.datum.start.value:t.min();return Kf(t(r))},end:function(e){var t=n.query.getScale(e),r=e.datum.end?e.datum.end.value:t.max();return Kf(t(r))}},box:{show:u}}};return L()(!0,f,d)}function Xf(e){var t=e.extremumModel,n=e.chartModel,r=e.fields,o=e.dockModel,i=e.orientation,a=e.layoutModel,l=e.scaleModel,u=e.fieldModel,s=e.colorModel,c=e.themeModel,f=e.itemWidthModel,d=e.mappingModel,p=e.invert;if(!function(e,t){if(!["horizontal","vertical"].includes(t))throw Error("expected orientation to be horizontal or vertical");if(!e||!e.length)throw Error("expected fields");return!0}(r,i))return!1;var m=function(e){var t=e.orientation,n=e.layoutModel,r=e.itemWidthModel,o=e.dockModel,i=e.chartModel;if(!n.meta.hasDimensions)return!1;var a=gf({layoutModel:n,dockModel:o}),l=bf({layoutModel:n,chartModel:i,dockModel:o,itemWidthModel:r,itemNameFn:"getBar"}),u=Mf({orientation:t,isBulletAxesShown:a,widthFn:l,majorFn:function(){return xf({chartModel:i,dockModel:o,itemWidthModel:r})}}),s={key:vl.COMPONENT.GHOST_BAR,brush:hf(vl.COMPONENT.GHOST_BAR),settings:{brush:hf(vl.COMPONENT.GHOST_BAR),minor:{start:1,end:1},box:{minHeightPx:1}}};return L()(!0,u,s)}({orientation:i,layoutModel:a,itemWidthModel:f,dockModel:o,chartModel:n}),h=$f({orientation:i,scaleModel:l,layoutModel:a,itemWidthModel:f,dockModel:o,chartModel:n,extremumModel:t}),g=qf({orientation:i,layoutModel:a,scaleModel:l,itemWidthModel:f,invert:p,dockModel:o,chartModel:n,themeModel:c}),y=function(e){var t=e.orientation,n=e.layoutModel,r=e.scaleModel,o=e.colorModel,i=e.itemWidthModel,a=e.dockModel,l=e.chartModel;if(!n.meta.hasTarget)return!1;var u=gf({layoutModel:n,dockModel:a}),s="#000000";if(!n.getLayoutValue("color.auto",!1)){var c=n.getLayoutValue("color.target",{});s=o.main.model().resolveUIColor(c)}var f=function(e){var t=r.query.getScale(e),n=e.datum.target?e.datum.target.value:void 0;return void 0!==n?t(n):void 0},d=bf({layoutModel:n,chartModel:l,dockModel:a,itemWidthModel:i,itemNameFn:"getTarget"}),p=Mf({orientation:t,isBulletAxesShown:u,widthFn:d,majorFn:function(){return xf({chartModel:l,dockModel:a,itemWidthModel:i})}}),m={key:vl.COMPONENT.TARGET,data:{filter:function(e){return!!e.target}},brush:hf(vl.COMPONENT.TARGET),settings:{brush:hf(vl.COMPONENT.TARGET),minor:{start:function(e){return f(e)},end:function(e){return f(e)}},box:{minHeightPx:3,fill:s}}};return L()(!0,p,m)}({orientation:i,layoutModel:a,scaleModel:l,colorModel:s,itemWidthModel:f,dockModel:o,chartModel:n}),v=function(e){var t=e.orientation,n=e.scaleModel,r=e.colorModel,o=e.itemWidthModel,i=e.layoutModel,a=e.dockModel,l=e.chartModel,u=gf({layoutModel:i,dockModel:a}),s=bf({layoutModel:i,chartModel:l,dockModel:a,itemWidthModel:o,itemNameFn:"getBar"}),c=Mf({orientation:t,isBulletAxesShown:u,widthFn:s,majorFn:function(){return xf({chartModel:l,dockModel:a,itemWidthModel:o})}}),f={key:vl.COMPONENT.BAR,brush:hf(vl.COMPONENT.BAR),settings:{minor:{start:function(e){var t=n.query.getScale(e),r=e.datum.start?e.datum.start.value:t.min();return t(r)},end:function(e){var t=n.query.getScale(e),r=e.datum.end?e.datum.end.value:t.max();return t(r)}},box:{fill:r.main.model().color()}}};return u&&(f.beforeRender=function(){var e=l.command.getChart(),t=e.component(vl.COMPONENT.BAR).rect,n="vertical"===a.major.orientation?t.width:t.height,r=e.scale(vl.SCALE.MAIN.MAJOR).pxScale(n),o=e.scale(vl.SCALE.MAIN.PX_MAJOR);o.range(r.range()),o.domain(r.domain())}),L()(!0,c,f)}({orientation:i,scaleModel:l,colorModel:s,itemWidthModel:f,layoutModel:a,dockModel:o,chartModel:n}),b=function(e){var t=e.chartModel,n=e.fields,r=e.dockModel,o=e.orientation,i=e.layoutModel,a=e.scaleModel,l=e.fieldModel,u=e.themeModel,s=e.itemWidthModel,c=i.meta.hasDimensions;if(!gf({layoutModel:i,dockModel:r}))return!1;var f=u.query.getStyle();return{key:vl.COMPONENT.BULLET_AXIS,type:"box-axis",data:{extract:n.map((function(e,t){return{field:e,value:c?void 0:t,props:{selectionDimension:{field:e}}}}))},brush:hf(vl.COMPONENT.BAR),layout:{minimumLayoutMode:rf.BULLET_AXIS},settings:{orientation:o,align:r.minor.dock,major:{scale:vl.SCALE.MAIN.MAJOR},minor:{scale:function(e){return a.query.getScale(e)},formatter:function(e){return t.command.getChart().formatter(c?l.minors[0]:l.minors[e.datum.value])}},box:{width:function(){var e=t.command.getChart(),n=e.component(vl.COMPONENT.BAR).rect,o="vertical"===r.major.orientation?n.width:n.height,i=e.scale(vl.SCALE.MAIN.PX_MAJOR).bandwidth()*o;return s.query.getBulletAxis().widthPx/i}},paddingStart:s.query.getBulletAxis().paddingStart,paddingEnd:s.query.getBulletAxis().paddingEnd,labels:{margin:s.query.getBulletAxis().labelMargin,fontFamily:f.axis.label.name.fontFamily,fontSize:f.axis.label.name.fontSize,fill:f.axis.label.name.color},line:{stroke:f.axis.line.major.color},ticks:{tickSize:s.query.getBulletAxis().tickSize,stroke:f.axis.line.major.color},minorTicks:{stroke:f.axis.line.minor.color}}}}({chartModel:n,fields:r,dockModel:o,orientation:i,layoutModel:a,scaleModel:l,fieldModel:u,themeModel:c,itemWidthModel:f}),x=Wf({barComponent:v,type:"max",extremumModel:t,itemWidthModel:f,layoutModel:a,dockModel:o,chartModel:n,themeModel:c,mappingModel:d}),M=Wf({barComponent:v,type:"min",extremumModel:t,itemWidthModel:f,layoutModel:a,dockModel:o,chartModel:n,themeModel:c,mappingModel:d});return[m,h,g,v,y,b,x,M,Gf({barComponent:v,type:"max",extremumModel:t,itemWidthModel:f,layoutModel:a,dockModel:o,chartModel:n,themeModel:c,mappingModel:d,hatComponent:x}),Gf({barComponent:v,type:"min",extremumModel:t,itemWidthModel:f,layoutModel:a,dockModel:o,chartModel:n,themeModel:c,mappingModel:d,hatComponent:M})].filter(Boolean)}var Zf={NONE:0,WIDE:1,MEDIUM:2,NARROW:3};function Jf(e){var t=e.layoutModel,n=e.dockModel,r=e.themeModel,o=t.getLayoutValue("gridLine",{}),i=o.auto,a=o.spacing;if(!i&&a===Zf.NONE)return!1;var l,u,s,c=r.query.getStyle();return l={key:vl.COMPONENT.GRID_LINE,type:"grid-line",layout:{minimumLayoutMode:rf.GRID_LINE},preferredSize:function(){return{size:0,edgeBleed:{left:1,right:1,top:1,bottom:1}}},ticks:{show:!(!i&&a===Zf.WIDE)||function(e,t){return t%2==0},stroke:c.grid.line.major.color},minorTicks:{show:!i&&a===Zf.NARROW,stroke:c.grid.line.minor.color}},u="vertical"===n.major.orientation?"y":"x",s=vl.SCALE.MAIN.MINOR,u in l?Object.defineProperty(l,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[u]=s,l}function Yf(e){var t=e.layoutModel,n=e.extremumModel,r=e.dockModel,o=e.tickModel,i=e.themeModel;if(!t.meta.isSharedAxis)return[];var a=Jf({layoutModel:t,dockModel:r,themeModel:i});return[a,function(e){var t=e.layoutModel,n=e.extremumModel,r=e.dockModel,o=e.tickModel,i=e.themeModel,a=e.gridLine,l=n.query.getExtrema();if(!a||t.getLayoutValue("measureAxis.logarithmic",!1)&&!l.meta.includesZero)return!1;var u,s,c,f=i.query.getStyle();return{key:vl.COMPONENT.ZERO_LINE,type:"ref-line",layout:{minimumLayoutMode:rf.GRID_LINE},show:function(){return o.query.getMin()<=0&&o.query.getMax()>=0},scale:vl.SCALE.MAIN.MINOR,lines:(u={},s="vertical"===r.minor.orientation?"x":"y",c=[{value:0,scale:vl.SCALE.MAIN.MINOR,line:{stroke:f.grid.line.highContrast.color}}],s in u?Object.defineProperty(u,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[s]=c,u)}}({layoutModel:t,extremumModel:n,dockModel:r,tickModel:o,themeModel:i,gridLine:a})]}var Qf=Math.PI/180,ed=180/Math.PI,td=.96422,nd=1,rd=.82521,od=4/29,id=6/29,ad=3*id*id,ld=id*id*id;function ud(e){if(e instanceof sd)return new sd(e.l,e.a,e.b,e.opacity);if(e instanceof gd)return yd(e);e instanceof qs||(e=As(e));var t,n,r=pd(e.r),o=pd(e.g),i=pd(e.b),a=cd((.2225045*r+.7168786*o+.0606169*i)/nd);return r===o&&o===i?t=n=a:(t=cd((.4360747*r+.3850649*o+.1430804*i)/td),n=cd((.0139322*r+.0971045*o+.7141733*i)/rd)),new sd(116*a-16,500*(t-a),200*(a-n),e.opacity)}function sd(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function cd(e){return e>ld?Math.pow(e,1/3):e/ad+od}function fd(e){return e>id?e*e*e:ad*(e-od)}function dd(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pd(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function md(e){if(e instanceof gd)return new gd(e.h,e.c,e.l,e.opacity);if(e instanceof sd||(e=ud(e)),0===e.a&&0===e.b)return new gd(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ed;return new gd(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hd(e,t,n,r){return 1===arguments.length?md(e):new gd(e,t,n,null==r?1:r)}function gd(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function yd(e){if(isNaN(e.h))return new sd(e.l,0,0,e.opacity);var t=e.h*Qf;return new sd(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ss(sd,(function(e,t,n,r){return 1===arguments.length?ud(e):new sd(e,t,n,null==r?1:r)}),cs(fs,{brighter:function(e){return new sd(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new sd(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new qs(dd(3.1338561*(t=td*fd(t))-1.6168667*(e=nd*fd(e))-.4906146*(n=rd*fd(n))),dd(-.9787684*t+1.9161415*e+.033454*n),dd(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),ss(gd,hd,cs(fs,{brighter:function(e){return new gd(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new gd(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return yd(this).rgb()}}));var vd={isDark:function(e){return hd(e).l<70}};function bd(e){var t=e.chartModel,n=e.layoutModel,r=function(e){var t=e.chartModel,n=e.dockModel,r=e.scaleModel;return function(e,o){var i=e.data,a=e.textBounds,l=void 0===a?{}:a,u=i.end.value,s=i.target?i.target.value:void 0;if(void 0===s)return!1;if("outside"===o){if(u>=0&&s>=0&&s<=u)return!1;if(u<=0&&s<=0&&s>=u)return!1}if("inside"===o){if(u>=0&&s>=0&&s>=u)return!1;if(u<=0&&s<=0&&s<=u)return!1}var c=r.query.getScale({datum:i}),f=c(i.target.value);if(f<0||f>1)return!1;var d=t.command.getChart().component(vl.COMPONENT.BAR).rect,p="vertical"===n.major.orientation?d.height:d.width,m=("vertical"===n.major.orientation?l.height:l.width)||20,h=Math.min(1,Math.max(0,c(i.end.value)))*p,g=f*p;return Math.abs(h-g)<m}}({chartModel:t,dockModel:e.dockModel,scaleModel:e.scaleModel}),o=n.meta,i=o.hasDimensions,a=o.hasRange,l=o.hasTarget,u=o.measuresWithSegment,s=o.measuresTargetIndex;return function(e,t){var n=e.data.value;return"outside"===t?i?!!a||!!l&&r(e,t):!!u[n]||-1!==s[n]&&r(e,t):i?!!l&&r(e,t):-1!==s[n]&&r(e,t)}}var xd="vertical";function Md(e){return e?"right":"left"}function Od(e){return e?"left":"right"}function wd(e,t,n,r){if(function(e,t){return Df(e,t)}(e,r))return t===xd?"down":Md(n);if(function(e,t){return Tf(e,t)}(e,r))return t===xd?"up":Od(n);var o=function(e,t){return function(e,t){if(t&&0===e){var n=t.min,r=t.max;return 0===r&&0===n?1:r<=0?-1:n>=0||r>=-n?1:-1}return e>=0?1:-1}(e,t)}(e,r);return t===xd?o>=0?"up":"down":o>=0?Od(n):Md(n)}function Sd(e){var t=e.getLayout();return t&&t.dataPoint&&t.dataPoint.showLabels}function kd(e){var t=e.extremumModel,n=e.chartModel,r=e.layoutModel,o=e.dockModel,i=e.themeModel,a=e.scaleModel,l=e.mappingModel,u=e.rtl;if(!Sd(r))return!1;var s=i.query.getStyle(),c=s.label.value,f="vertical"===o.major.orientation,d={left:f?0:4,right:f?0:4,top:f?4:0,bottom:f?4:0},p=bd({chartModel:n,layoutModel:r,dockModel:o,scaleModel:a}),m=[];m[0]={position:"outside",justify:0,fill:s.color,background:{fill:function(e){return p(e,"outside")?"rgba(255, 255, 255, 0.8)":void 0},padding:{left:1,right:1,top:1,bottom:1}},padding:d},m[1]={position:"inside",justify:1,fill:function(e){return p(e,"inside")?s.color:function(e){return vd.isDark(e.node.attrs.fill)?c.lightColor:c.darkColor}(e)},background:{fill:function(e){return p(e,"inside")?"rgba(255, 255, 255, 0.8)":void 0},padding:{left:2,right:2,top:2,bottom:2}},padding:d};var h=[{placements:m,label:function(e){return e.data.end.label}}],g=[{component:vl.COMPONENT.BAR,selector:"rect",strategy:{type:"bar",settings:{direction:function(e){var n=t.query.getExtrema(l.query.bullet2Scale(e.data.value));return wd(e.data.end.value,o.major.orientation,u,n)},labels:h,fontSize:c.fontSize,fontFamily:c.fontFamily}}}];return{key:vl.COMPONENT.BAR_LABEL,type:"labels",layout:{minimumLayoutMode:"XSMALL"},settings:{sources:g}}}function Cd(e){var t=e.extremumModel,n=e.chartModel,r=e.layoutModel,o=e.dockModel,i=e.themeModel,a=e.scaleModel,l=e.mappingModel,u=e.rtl;if(!Sd(r))return!1;var s=i.query.getStyle(),c=s.label.value,f="vertical"===o.major.orientation,d={left:f?0:4,right:f?0:4,top:f?4:0,bottom:f?4:0},p=bd({chartModel:n,layoutModel:r,dockModel:o,scaleModel:a}),m=[];m[0]={position:"outside",justify:0,fill:s.color,background:{fill:function(e){return p(e,"outside")?"rgba(255, 255, 255, 0.8)":void 0},padding:{left:1,right:1,top:1,bottom:1}},padding:d},m[1]={position:"inside",justify:1,fill:function(e){return p(e,"inside")?s.color:function(e){return vd.isDark(e.node.attrs.fill)?c.lightColor:c.darkColor}(e)},background:{fill:function(e){return p(e,"inside")?"rgba(255, 255, 255, 0.8)":void 0},padding:{left:2,right:2,top:2,bottom:2}},padding:d};var h=[{placements:m,label:function(e){return e.data.end.label}}],g=[{component:vl.COMPONENT.GHOST_BAR_OOB,selector:"rect",strategy:{type:"bar",settings:{direction:function(e){var n=t.query.getExtrema(l.query.bullet2Scale(e.data.value));return wd(e.data.end.value,o.major.orientation,u,n)},labels:h,fontSize:c.fontSize,fontFamily:c.fontFamily}}}];return{key:vl.COMPONENT.BAR_OOB_LABEL,type:"labels",layout:{minimumLayoutMode:"XSMALL"},settings:{sources:g}}}function Ed(e){return function(e){if(Array.isArray(e))return Ad(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ad(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qd(e){var t=e.properties,n=e.dockModel,r=e.layoutModel,o=e.extensions,i=e.discrete,a=e.viewState,l=e.themeModel,u=e.chartModel,s=e.translator,c=e.flags,f=e.colorModel,d=e.scaleModel,p=e.fieldModel,m=e.customTooltipModel,h=e.rtl,g=e.fields,y=e.invert,v=e.selectables,b=e.viewCache,x=e.extremumModel,M=e.disclaimerModel,O=e.tickModel,w=e.itemWidthModel,S=e.mappingModel,k=e.model,C=e.app,E=e.constraints,A=n.major.orientation,q=function(e){var t=e.rtl,n=e.translator,r=e.disclaimerModel.query.getDisclaimer();return!!r&&{key:"disclaimer",type:"disclaimer",layout:{dock:r.alignment},settings:{label:n.get("Object.Disclaimer.".concat(r.key)),rtl:t}}}({rtl:h,translator:s,disclaimerModel:M});if(M.query.getHasSuppressingDisclaimer())return[q];var D=[].concat(Ed(Yf({layoutModel:r,extremumModel:x,dockModel:n,themeModel:l,tickModel:O})),Ed(Xf({extremumModel:x,chartModel:u,fields:g,dockModel:n,orientation:A,layoutModel:r,scaleModel:d,fieldModel:p,colorModel:f,themeModel:l,itemWidthModel:w,mappingModel:S,invert:y})),[ic({viewState:a,viewCache:b,layoutModel:r,dockModel:n,rtl:h}),Cd({extremumModel:x,chartModel:u,layoutModel:r,dockModel:n,themeModel:l,scaleModel:d,mappingModel:S,rtl:h}),kd({extremumModel:x,chartModel:u,layoutModel:r,dockModel:n,themeModel:l,scaleModel:d,mappingModel:S,rtl:h})],Ed(function(e){return[nf({chartModel:e.chartModel,layoutModel:e.layoutModel,fieldModel:e.fieldModel,customTooltipModel:e.customTooltipModel,themeModel:e.themeModel,rtl:e.rtl,translator:e.translator,flags:e.flags})]}({chartModel:u,layoutModel:r,fieldModel:p,customTooltipModel:m,themeModel:l,rtl:h,translator:s,flags:c})),Ed(ff({dockModel:n,layoutModel:r,fieldModel:p,themeModel:l,rtl:h,itemWidthModel:w})),Ed(function(e){var t=e.model,n=e.app,r=e.translator,o=e.constraints,i=e.rtl,a={model:t,app:n,translator:r,properties:e.properties,layoutModel:e.layoutModel,dockModel:e.dockModel,themeModel:e.themeModel,constraints:o,rtl:i};return[df(a),pf(a)]}({model:k,app:C,translator:s,constraints:E,rtl:h,properties:t,layoutModel:r,dockModel:n,themeModel:l})),[xc({viewState:a,viewCache:b,discrete:i,layoutModel:r,dockModel:n,themeModel:l,rtl:h})],Ed(v.components)),T=sc.extend(D.filter(Boolean),o);return function(e){if(e&&0!==e.length)for(var t=0;t<e.length;t++)e[t].layout=e[t].layout||{},e[t].layout.displayOrder=t}(T),T}function Dd(e){var t,n,r,o=e.yAxisData,i=e.layoutModel,a=e.discrete,l=e.itemWidthModel,u=e.dockModel,s=e.rtl,c=i.getLayout(),f=i.meta.hasDimensions,d="none"===i.getLayoutValue("measureAxis.show")?.5:Nr.getAlignment(u.minor.orientation,u.minor.dock),p={invert:"horizontal"===u.minor.orientation&&s,data:{extract:o.map((function(e,t){var n={field:e,label:f?void 0:function(){return c.qHyperCube.qMeasureInfo[t].qFallbackTitle}};return f?n.props={selectionDimension:{}}:n.value=t,n}))},expand:l.query.getExpand(),type:f?void 0:"band",range:a.query.getScaleRange,align:d};return"custom"!==i.getLayoutValue("dimensionAxis.axisDisplayMode")&&(p.maxPxStep=function(){return l.query.getMaxPxStep()}),t={},n=vl.SCALE.MAIN.MAJOR,r=p,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Td(e){if(!gf({layoutModel:e.layoutModel,dockModel:e.dockModel}))return{};var t,n,r;return t={},n=vl.SCALE.MAIN.PX_MAJOR,r={type:"band"},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Nd(e){var t=e.key,n=e.tickModel,r=e.invert,o=e.index,i=e.isSharedAxis,a=e.fieldModel,l={key:t,invert:r,ticks:{values:function(){return n.query.getValues(o)}},minorTicks:{count:1},min:function(){return n.query.getMin(o)},max:function(){return n.query.getMax(o)}};return i&&a&&(l.data={source:"qHyperCube",fields:a.minors}),l}function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ld(Object(n),!0).forEach((function(t){jd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pd(e){var t=e.measures,n=e.yAxisData,r=e.layoutModel,o=e.invert,i=e.discrete,a=e.tickModel,l=e.fieldModel,u=e.itemWidthModel,s=e.dockModel,c=Dd({yAxisData:n,layoutModel:r,discrete:i,itemWidthModel:u,dockModel:s,rtl:e.rtl}),f=Td({layoutModel:r,dockModel:s});return Id(Id(Id({},function(e){var t=e.tickModel,n=e.invert,r=e.layoutModel,o=e.fieldModel,i={},a=r.meta,l=a.isSharedAxis,u=a.isSharedRange,s=a.hasDimensions,c=a.numDataItems;if(u){var f=vl.SCALE.MAIN.MINOR;i[f]=Nd({key:f,tickModel:t,invert:n,isSharedAxis:l,fieldModel:o})}else if(!s)for(var d=0;d<c;d++){var p="qMeasureInfo/".concat(d);i[p]=Nd({key:p,tickModel:t,invert:n,index:d})}return i}({measures:t,invert:o,tickModel:a,layoutModel:r,fieldModel:l})),c),f)}var Rd=function(e,t){var n,r,o,i,a=e.targets,l=e.requireFailure,u=e.recognizeWith,s=e.components,c=e.eventName,f=void 0===c?"tap":c,d=t.customTooltipModel?t.customTooltipModel.utils:void 0,p=d?t.debouncer(d.displayTooltip,d.DEBOUNCE_THRESHOLD):void 0;return{key:"event:tap",type:"Tap",requireFailure:l,recognizeWith:u,options:{event:f,interval:10,pointers:1,enable:function(e,r){return!r||!(!t.actions.select.enabled()&&!t.actions.tooltip.enabled())&&(n=this.chart.componentsFromPoint({x:r.center.x,y:r.center.y}).filter((function(e){return-1!==a.indexOf(e.key)}))).length>0}},events:(r={},o=f,i=function(e){e.preventDefault();var r,o,i,l,u,c=(r=e,o=this.chart,u=o.element.getBoundingClientRect(),r.center?(i=r.center.x,l=r.center.y):(i=r.clientX,l=r.clientY),{x:i-u.left,y:l-u.top}),m=t.hitRadius?t.hitRadius(n):0,h=m>0?{cx:c.x,cy:c.y,r:m}:c,g=t.shapesAt?t.shapesAt(h):this.chart.shapesAt(h,{components:a.map((function(e){return{key:e,propagation:"stop"}})),propagation:"stop"}),y=this.chart.component("tooltip"),v="mouse"!==e.pointerType&&y&&y.show;if(!t.isLocked(n)&&!t.tooltipOnly&&t.actions.select.enabled()){var b=this.chart.componentsFromPoint({x:e.center.x,y:e.center.y}),x=b.some((function(e){return"legend-cat"===e.type}));if(!g.length&&x||(this.chart.brushSelectionIncludeMax=!1,t.actions.select.brushSelectionIncludeMax=!1,t.actions.select.emit("start",f,b)),g.length&&s){this.chart.brushSelectionIncludeMax=!1,t.actions.select.brushSelectionIncludeMax=!1;var M="function"==typeof s?s(e,g):s;this.chart.brushFromShapes(g,{components:M}),t.actions.select.emit("end",f)}}if(y&&t.actions.tooltip.enabled())if(g.length){var O=t.customTooltipModel;if((!t.flags||t.flags&&!t.flags.isEnabled("CUSTOM_TOOLTIP_REMOVE_LIMITS"))&&O&&O.useCustomTooltip){var w=d.getNodes(e,this.chart);p(e,y,{nodes:w,dimsAndNodeFn:function(){return O.extractDimsAndNode(w)},customTooltipModel:O,opts:t})}else if(t.flags&&t.flags.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&O.useCustomTooltip&&d.checkIfPromisesExist({customTooltipModel:O})){var S=d.getNodes(e,this.chart);p(e,y,{nodes:S,opts:t,customTooltipModel:O})}else y.emit("show",e,{nodes:g})}else v&&y.emit("hide")},o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)}},_d=function(e,t){if(!e.targets)throw new Error("Missing 'targets' property");return{interactions:[Rd(e,t)],components:[]}};function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach((function(t){Ud(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bd=function(e,t,n){var r,o=e.eventName,i=e.key,a=e.fillTargets,l=void 0===a?[]:a,u=e.requireFailure,s=e.recognizeWith;return{key:"event:".concat(i),type:"Pan",requireFailure:u,recognizeWith:s,options:{event:o,enable:function(e,n){if(this.started===o||!n)return!0;if(!t.actions.select.enabled())return!1;var r=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).filter((function(e){return-1!==l.indexOf(e.key)}));return 0===r.length&&function(e,t){var n=e.srcEvent.target;return!(!n||0!==(n.getAttribute("data-key")||"").indexOf("".concat(t,"-")))}(n,i)?(this.started=o,!0):r.length>0}},events:(r={},Hd(r,"".concat(o,"start"),(function(e){void 0===this.chart.brushSelectionIncludeMax&&(this.chart.brushSelectionIncludeMax=!0,t.actions.select.brushSelectionIncludeMax=!0),e.preventDefault(),t.actions.select.emit("start",o),this.chart.component(i).emit("".concat(n,"Start"),e),this.started=o})),Hd(r,"".concat(o,"move"),(function(e){e.preventDefault(),this.chart.component(i).emit("".concat(n,"Move"),e)})),Hd(r,"".concat(o,"end"),(function(e){void 0===this.chart.brushSelectionIncludeMax&&(this.chart.brushSelectionIncludeMax=!0,t.actions.select.brushSelectionIncludeMax=!0),e.preventDefault(),this.chart.component(i).emit("".concat(n,"End"),e),t.actions.select.emit("end",o),this.started=!1})),r)}},Vd=function(e,t){var n=function(e){var t=e.key,n=e.targets,r=e.components,o=e.fillTargets,i=e.dock;return{key:t,type:"brush-area-dir",layout:{dock:n.map((function(e){return"@".concat(e)})).join(",")},settings:{multiple:!0,brush:{components:r},direction:"left"===i||"right"===i?"vertical":"horizontal",bubbles:{align:"left"===i||"top"===i?"end":"start",placement:"inside"},target:{components:o,fill:"rgba(82,204,82,0.2)"}}}}(e);return{interactions:[Bd(e,t,"area")],components:[n]}};function Wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gd=function(e,t){var n=e.key,r=e.requireFailure,o=e.recognizeWith,i=e.eventName,a=void 0===i?"tap":i;return{prio:1,key:"event:".concat(n,"-tap"),type:"Tap",requireFailure:r,recognizeWith:o,options:{event:"".concat(a,"-").concat(n,"-tap"),interval:10,pointers:1,enable:function(e,r){return!!r&&!!t.actions.select.enabled()&&(!(!r.target||"INPUT"!==r.target.nodeName)||!(!r.target||!r.target.hasAttribute("data-other-value"))&&(r.target.getAttribute("data-key")||"").split("-bubble")[0]===n)}},events:Wd({},"".concat(a,"-").concat(n,"-tap"),(function(e){(e.target.getAttribute("data-key")||"").split("-bubble")[0]&&(e.preventDefault(),this.chart.component(n).emit("bubbleStart",e))}))}},Kd=function(e,t){var n=function(e){var t=e.key,n=e.targets,r=e.fillTargets,o=e.targetSelector,i=e.targetFillSelector,a=e.dock,l=e.scale,u=e.bubblesPlacement,s=void 0===u?"inside":u,c=e.observeBrush,f=void 0!==c&&c,d=e.multiple,p=void 0!==d&&d,m=e.toLabel,h=e.onEdited;return{key:t,type:"brush-range",layout:{dock:n.map((function(e){return"@".concat(e)})).join(",")},on:h?{bubbleEnd:function(){h()}}:{},settings:{brush:f?{context:"selection",observe:!0}:"selection",scale:l,multiple:p,direction:"left"===a||"right"===a?"vertical":"horizontal",bubbles:{align:"left"===a||"top"===a?"end":"start",placement:s,label:m},target:{components:r,selector:o,fillSelector:i,fill:"rgba(82,204,82,0.2)"}}}}(e),r=Bd(e,t,"range");return{interactions:[e.onEdited?Gd(e,t):null,r].filter(Boolean),components:[n]}};function $d(e){return function(e){if(Array.isArray(e))return Xd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zd={components:[],interactions:[]};function Jd(e){var t=e.actions,n=e.selectionModel,r=e.dockModel,o=e.layoutModel;if(!o.meta.hasDimensions)return!1;var i=function(e){var t=e.actions,n=e.selectionModel,r=e.layoutModel,o=e.dockModel,i=r.meta,a=i.hasDimensions,l=i.isSharedRange;return!(!a||n.query.getIsDimensionLocked()||!l)&&Kd({eventName:"minorRange",key:"minor-range-brush",targets:[vl.COMPONENT.MINOR_AXIS,vl.COMPONENT.BAR],fillTargets:[vl.COMPONENT.MINOR_AXIS],dock:o.minor.dock,scale:vl.SCALE.MAIN.MINOR,onEdited:function(){t.select.emit("end","minorRange")}},{actions:t})}({actions:t,selectionModel:n,layoutModel:o,dockModel:r})||Zd,a=function(e){var t=e.actions,n=e.selectionModel,r=e.dockModel;return!n.query.getIsDimensionLocked()&&Vd({eventName:"discreteRange",key:"discrete-range-brush",components:[{key:vl.COMPONENT.GHOST_BAR,contexts:["selection"],action:"set"}],targets:[vl.COMPONENT.MAJOR_AXIS,vl.COMPONENT.BAR],fillTargets:[vl.COMPONENT.MAJOR_AXIS],dock:r.major.dock},{actions:t})}({actions:t,selectionModel:n,dockModel:r})||Zd;return{components:[].concat($d(a.components),$d(i.components)),interactions:[].concat($d(a.interactions),$d(i.interactions))}}var Yd=function(e){return{key:e.key,type:"brush-lasso",layout:{displayOrder:99},settings:{brush:{components:e.components},lasso:{fill:"rgba(0, 0, 0, 0)",stroke:"black",strokeWidth:2,opacity:.7,strokeDasharray:[]},snapIndicator:{threshold:75,strokeDasharray:"5, 5",stroke:"black",strokeWidth:2,opacity:.7},startPoint:{r:10,stroke:"rgba(77, 192, 78, 1)",strokeWidth:0,opacity:1}}}},Qd=function(e,t){var n=e.key,r=e.componentTargetKey,o=e.requireFailure,i=e.recognizeWith;return{key:"event:".concat(n),type:"Pan",requireFailure:o,recognizeWith:i,options:{event:"lasso",enable:function(e,n){return"lasso"===this.started||!n||!!(t.actions.select.enabled()&&t.actions.lasso.enabled()&&t.actions.lasso.active())&&this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).filter((function(e){return e.key===r})).length>0}},events:{lassostart:function(e){e.preventDefault(),"lasso"!==this.started&&(t.actions.select.emit("start","lasso"),this.chart.component(n).emit("lassoStart",e),this.started="lasso")},lassomove:function(e){e.preventDefault(),this.chart.component(n).emit("lassoMove",e)},lassoend:function(e){e.preventDefault(),this.started=!1,this.chart.component(n).emit("lassoEnd",e),t.actions.select.emit("end","lasso")}}}};function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var np=function(e,t){if(!e.componentTargetKey)throw new Error("Missing 'componentTargetKey' property");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach((function(t){tp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:"lasso"},e),r=Yd(n,t);return{interactions:[Qd(n,t)],components:[r]}};function rp(e){return function(e){if(Array.isArray(e))return op(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return op(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ip={components:[],interactions:[]};function ap(e){var t=e.actions,n=e.selectionModel,r=e.layoutModel,o=e.colorModel,i=e.chartModel,a=e.isLocked,l=e.dockModel,u=e.flags,s=e.customTooltipModel,c=e.debouncer,f=function(e){var t=e.layoutModel,n=e.selectionModel,r=!t.meta.hasDimensions||n.query.getIsDimensionLocked(),o=r?[vl.COMPONENT.BAR]:[vl.COMPONENT.BAR,vl.COMPONENT.MAJOR_AXIS,vl.COMPONENT.RANGES];return _d({targets:o,components:function(e,t){return[{key:t[0].key,action:e.srcEvent.ctrlKey?"set":"toggle",contexts:["selection"]}]}},Fd(Fd({},e),{},{tooltipOnly:r}))}({chart:i.command.getChart(),actions:t,selectionModel:n,layoutModel:r,colorModel:o,chartModel:i,isLocked:a,flags:u,customTooltipModel:s,debouncer:c})||ip,d=Jd({actions:t,selectionModel:n,dockModel:l,layoutModel:r})||ip,p=function(e){var t=e.actions,n=e.selectionModel,r=e.layoutModel.meta.hasDimensions,o=n.query.getIsDimensionLocked();if(!r||o)return!1;var i={key:vl.COMPONENT.BAR,action:"add",contexts:["selection"]};return np({key:"lasso",componentTargetKey:vl.COMPONENT.BAR,components:[i]},{actions:t})}({actions:t,selectionModel:n,layoutModel:r})||ip;return{components:[].concat(rp(f.components),rp(p.components),rp(d.components)),gestures:[].concat(rp(f.interactions),rp(p.interactions),rp(d.interactions))}}function lp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return up(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sp(e){var t=e.componentKey,n=e.chart,r=e.viewState,o=e.viewCache,i=e.layoutModel,a=e.dockModel,l=e.rtl;return function(e){var u=e.center,s=u.x,c=u.y,f=n.element.getBoundingClientRect(),d=n.component(t),p="vertical"===a.major.orientation,m=p?s-f.left-d.rect.computedInner.x:c-f.top-d.rect.computedInner.y,h=p?d.rect.computedInner.width:d.rect.computedInner.height,g=p&&l?h-m:m,y=Math.max(0,Math.min(g/h,1)),v=lp(mc({layoutModel:i,viewState:r,viewCache:o}),2),b=v[0],x=y<b,M=y>v[1],O=!x&&!M;return{pixel:g,relative:y,thumb:O?g-b*h:0,beforeThumb:x,afterThumb:M,onThumb:O}}}function cp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dp(e){var t=e.componentKey,n=e.chart,r=e.viewState,o=e.viewCache,i=e.layoutModel,a=e.dockModel;return function(){var e=n.component(t),l=a.major.orientation,u=e.rect.computedInner,s=u.width,c=u.height,f="vertical"===l?s:c,d=cp(mc({layoutModel:i,viewState:r,viewCache:o}),2),p=d[0];return{size:f,thumbSize:(d[1]-p)*f}}}function pp(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel,l=e.dockModel,u=e.discrete,s=e.rtl,c=sp({componentKey:t,chart:n,viewState:o,viewCache:i,layoutModel:a,dockModel:l,rtl:s}),f=dp({componentKey:t,chart:n,viewState:o,viewCache:i,layoutModel:a,dockModel:l});return{type:"Tap",options:{event:"scrollbarTap",enable:function(e,o){return!o||!!r.scroll.enabled()&&n.componentsFromPoint({x:o.center.x,y:o.center.y}).some((function(e){return e.key===t}))}},events:{scrollbarTap:function(e){e.preventDefault();var r=c(e);if(a.meta.isContinuous){var l=o.get("zoom"),s=l.max-l.min,d=i.get("continuousMin"),p=i.get("continuousMax"),m=d+(p-d)*r.relative;o.set("zoom",{min:Math.min(m-s/2,p-s),max:Math.max(m+s/2,d+s)})}else{var h=f(),g=r.pixel-h.thumbSize/2,y=Math.max(0,g/h.size);u.command.scrollTo(y)}n.component(t).emit("render")}}}}function mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yp="scrollbarResize",vp=function(e){var t=hp(e.changedPointers,1)[0];return t&&("pointerdown"===t.type||"mousedown"===t.type)};function bp(e){var t,n=e.componentKey,r=e.chart,o=e.actions,i=e.viewState,a=e.viewCache,l=e.layoutModel,u=e.dockModel,s=e.rtl,c=sp({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u,rtl:s});return{type:"Pan",key:"event:".concat(yp),options:{event:yp,threshold:0,enable:function(e,t){return!(!l.meta.isContinuous||!o.scroll.enabled())&&(!t||(this[yp]=this[yp]||{},vp(t)&&wt({e:t})&&(this[yp].panningEvent=t.srcEvent),!!this[yp].panningEvent))}},events:(t={},mp(t,"".concat(yp,"start"),(function(e){e.preventDefault(),this[yp]=this[yp]||{},this[yp].panningEvent&&r.component(n).emit("dragStart",this[yp].panningEvent)})),mp(t,"".concat(yp,"move"),(function(e){if(e.preventDefault(),this[yp]=this[yp]||{},this[yp].panningEvent){var t=i.get("zoom"),o=a.get("continuousMin"),l=a.get("continuousMax"),u=a.get("minimiumZoomSpan"),s=(l-o)*c(e).relative+o,f=wt({e:this[yp].panningEvent}),d="start"===f?Math.min(s,t.max):t.min,p="end"===f?Math.max(s,t.min):t.max;d===p&&(d-="start"===f?u:0,p+="end"===f?u:0),i.set("zoom",{min:d,max:p}),r.component(n).emit("render")}})),mp(t,"".concat(yp,"end"),(function(e){e.preventDefault(),this[yp]=this[yp]||{},delete this[yp].panningEvent,r.component(n).emit("dragEnd")})),mp(t,"".concat(yp,"cancel"),(function(e){e.preventDefault(),this[yp]=this[yp]||{},delete this[yp].panningEvent,r.component(n).emit("dragEnd")})),t)}}function xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mp="scrollbarPan";function Op(e){var t,n=e.componentKey,r=e.chart,o=e.actions,i=e.viewState,a=e.viewCache,l=e.layoutModel,u=e.dockModel,s=e.discrete,c=e.rtl,f=sp({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u,rtl:c}),d=dp({componentKey:n,chart:r,viewState:i,viewCache:a,layoutModel:l,dockModel:u});return{type:"Pan",key:"event:".concat(Mp),options:{event:Mp,threshold:0,enable:function(e,t){return this[Mp]=this[Mp]||{},!(t&&!this[Mp].isPanning)||!!o.scroll.enabled()&&(!t||t.target===r.element)&&r.componentsFromPoint({x:t.center.x,y:t.center.y}).some((function(e){return e.key===n}))}},events:(t={},xp(t,"".concat(Mp,"start"),(function(e){e.preventDefault();var t=f(e);if(this[Mp]=this[Mp]||{},this[Mp].isPanning=!0,r.component(n).emit("lockState"),l.meta.isContinuous){var o=i.get("zoom"),u=o.max-o.min,s=a.get("continuousMin"),c=a.get("continuousMax"),p=s+(c-s)*t.relative;p<o.min?i.set("zoom",{min:Math.min(p,c-u),max:Math.max(p+u,s+u)}):p>o.max&&i.set("zoom",{min:Math.min(p-u,c-u),max:Math.max(p,s+u)}),this[Mp].relative=t.relative,this[Mp].zoom=i.get("zoom"),this[Mp].zoom.span=this[Mp].zoom.max-this[Mp].zoom.min,this[Mp].zoom.fullSpan=c-s}else if(t.onThumb)this[Mp].offset=t.thumb;else{var m=d();this[Mp].offset=t.beforeThumb?0:m.thumbSize}})),xp(t,"".concat(Mp,"move"),(function(e){e.preventDefault();var t=f(e);if(this[Mp]=this[Mp]||{},l.meta.isContinuous){var o=t.relative-this[Mp].relative,u=this[Mp].zoom,c=u.fullSpan,p=u.span,m=u.min,h=u.max,g=a.get("continuousMin"),y=a.get("continuousMax");i.set("zoom",{min:Math.min(m+o*c,y-p),max:Math.max(h+o*c,g+p)})}else{var v=t.pixel-(this[Mp].offset||0),b=d(),x=Math.max(0,v/b.size);s.command.scrollTo(x)}r.component(n).emit("render")})),xp(t,"".concat(Mp,"end"),(function(e){e.preventDefault(),this[Mp]=this[Mp]||{},this[Mp].isPanning=!1,r.component(n).emit("unlockState")})),xp(t,"".concat(Mp,"cancel"),(function(e){e.preventDefault(),this[Mp]=this[Mp]||{},this[Mp].isPanning=!1,r.component(n).emit("unlockState")})),t)}}function wp(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel,l=e.dockModel,u=e.discrete,s=e.rtl;return[pp({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,discrete:u,rtl:s}),bp({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,rtl:s}),Op({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:l,discrete:u,rtl:s})]}function Sp(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.layoutModel,i=function(e,i){if(o.meta.isContinuous){var a=n.component(t);a&&a.emit&&r.scroll.enabled()&&a.emit(e,i)}};return{type:"native",events:{mousemove:function(e){return i("hover",e)},mouseleave:function(){return i("leave")}}}}function kp(e){return function(e){if(Array.isArray(e))return Cp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ep=[vl.COMPONENT.BAR,vl.COMPONENT.TARGET,vl.COMPONENT.RANGES,vl.COMPONENT.MAJOR_AXIS,vl.COMPONENT.OUT_OF_MAX_BOUNDS,vl.COMPONENT.OUT_OF_MIN_BOUNDS];function Ap(e){var t=e.chart,n=e.actions,r=e.app,o=e.customTooltipModel,i=e.flags,a=function(){return t.component(vl.COMPONENT.TOOLTIP)},l=o.utils,u=Jr(l.displayTooltip,l.DEBOUNCE_THRESHOLD),s=function(){var e;(e=a())&&e.show&&(e.emit("hide"),u&&u({},e,{nodes:[]}))};return{type:"native",events:{wheel:function(){s()},mousemove:function(e){if(n.tooltip.enabled()){var s=t.componentsFromPoint({x:e.clientX,y:e.clientY}),c=a();if(c&&c.show)if(s.some((function(e){return-1!==Ep.indexOf(e.key)})))if(i.isEnabled("CUSTOM_TOOLTIP_IMAGES")&&o.useCustomTooltip&&l.checkIfPromisesExist({customTooltipModel:o})){var f=l.getNodes(e,t);u(e,c,{nodes:f,opts:{app:r,flags:i},customTooltipModel:o})}else c.emit("show",e);else c.emit("hide")}},mouseup:function(e){2===e.button&&s()},mouseleave:function(){s()}}}}function qp(e){return function(e){if(Array.isArray(e))return Dp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tp(e){var t,n=e.gestures,r=void 0===n?[]:n,o=e.chartModel,i=e.actions,a=e.viewState,l=e.viewCache,u=e.discrete,s=e.layoutModel,c=e.dockModel,f=e.rtl,d=e.app,p=e.customTooltipModel,m=e.flags,h=o.command.getChart(),g=function(e){var t=e.componentKey,n=e.chart,r=e.actions,o=e.viewState,i=e.viewCache,a=e.layoutModel;return{gestures:kp(wp({componentKey:t,chart:n,actions:r,viewState:o,viewCache:i,layoutModel:a,dockModel:e.dockModel,discrete:e.discrete,rtl:e.rtl})),native:Sp({componentKey:t,chart:n,actions:r,layoutModel:a})}}({componentKey:"scrollbar",chart:h,actions:i,viewState:a,viewCache:l,discrete:u,layoutModel:s,dockModel:c,rtl:f}),y={type:"hammer",enable:!0,gestures:[].concat(qp(qp(r).sort((function(e,t){return(t.prio||0)-(e.prio||0)}))),qp(g.gestures))},v=[Ap({chart:h,actions:i,app:d,customTooltipModel:p,flags:m}),g.native];return(t=y.gestures).push.apply(t,qp(u.interactions.gestures)),v.push(u.interactions.native),[y].concat(v)}function Np(e,t,n,r){var o,i,a,l=(null===(o=t.qHyperCube)||void 0===o||null===(i=o[n])||void 0===i||null===(a=i[r])||void 0===a?void 0:a.qAttrExprInfo)||[],u=[],s=e.qSubNodes&&e.qSubNodes[r]?e.qSubNodes[r].qAttrExps:e.qAttrExps;return s?(l.forEach((function(e,t){var o=s.qValues&&s.qValues[t]?s.qValues[t]:void 0,i=void 0===o?"NaN":function(e,t){var n;switch(e.id){case Go.CUSTOM.EXPRESSION:n="NaN"===t.qNum?void 0===t.qText?"NaN":t.qText:t.qNum;break;case Go.CUSTOM.TITLE:case Go.CUSTOM.DESCRIPTION:case Go.CUSTOM.IMAGES:n=void 0===t.qText?e.qFallbackTitle:t.qText;break;default:n="NaN"}return n}(e,o);u.push({source:{key:"qHyperCube",field:"".concat(n,"/").concat(r,"/qAttrExprInfo/").concat(t)},label:i,value:"value"})})),u):u}var Lp={getNode:function(e,t){var n=t.dimensionCount;if(n&&!(n<1)){var r=n-1;return{field:"".concat("qDimensionInfo","/").concat(r),value:function(t){return Np(t,e,"qDimensionInfo",r)}}}}};function Ip(e){var t=e.dataset,n=e.minor,r=t.field(n),o=r.raw();if(!(!o.isCustomFormatted&&(o.qIsAutoFormat||"U"===o.qNumFormat.qType)))return function(e){return e.qText};var i=r.formatter();return function(e){var t=e.qNum,n=e.qValue;return void 0!==t&&"NaN"!==t?i(t):void 0!==n&&"NaN"!==n?i(n):"-"}}function jp(e){var t=e.colorModel,n=e.index,r={},o=t.main.model().datumProps(n);Object.keys(o).forEach((function(e){void 0!==o[e]&&(r[e]=o[e])}));var i=o[vl.SCALE.MAIN.COLOR];return i&&i.field&&(r.colorTooltip={field:i.field,value:function(e){return void 0!==e.qNum&&"NaN"!==e.qNum?e.qNum:e.qText||"-"}}),r}function Pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pp(Object(n),!0).forEach((function(t){_p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zp(e){var t=e.layoutModel,n=e.fields,r=e.chartModel,o=e.colorModel;return[function(e){var t=e.layoutModel,n=e.fields,r=e.collectionKey,o=e.chartModel,i=e.colorModel,a=t.meta,l=a.hasDimensions,u=a.measuresSegmentIndices,s=void 0===u?[]:u,c=a.measuresTargetIndex,f=a.dimensionCount;return{key:r,data:{extract:n.map((function(e,n){var r={field:e,value:l?void 0:n,props:Rp(Rp({start:0,end:{field:l?"qMeasureInfo/0":e,reduceLabel:"none",label:Ip({dataset:o.query.getDataset(),minor:l?"qMeasureInfo/0":e})}},jp({colorModel:i,index:n})),{},{selectionDimension:{field:e}},0!==f&&{customTooltipAttrExps:Lp.getNode(t.getLayout(),t.meta)})},a=l?0:n;-1!==c[a]&&(r.props.target={field:"qMeasureInfo/".concat(a,"/qAttrExprInfo/").concat(c[a]),value:function(e){return e.qNum}});var u=s[a];return u&&u.length&&u.forEach((function(e){r.props["limit".concat(e)]={field:"qMeasureInfo/".concat(a,"/qAttrExprInfo/").concat(e),value:function(e){return e.qNum}}})),r}))}}}({layoutModel:t,fields:n,collectionKey:vl.COLLECTION.MAIN,chartModel:r,colorModel:o})]}function Fp(e){return function(e){if(Array.isArray(e))return Up(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Up(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hp(Object(n),!0).forEach((function(t){Vp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wp(e,t){var n,r=t.properties,o=t.dockModel,i=t.layoutModel,a=t.disclaimerModel,l=t.extensions,u=t.discrete,s=t.viewState,c=t.viewCache,f=t.themeModel,d=t.tickModel,p=t.chartModel,m=t.selectionModel,h=t.translator,g=t.flags,y=t.actions,v=t.colorModel,b=t.isLocked,x=t.scaleModel,M=t.fieldModel,O=t.customTooltipModel,w=t.extremumModel,S=t.itemWidthModel,k=t.mappingModel,C=t.model,E=t.app,A=t.debouncer,q=e.constraints,D=e.rtl,T=e.logicalSize,N=i.getLayout(),L=function(e){return e.qHyperCube.qMeasureInfo.map((function(e,t){return"qMeasureInfo/".concat(t)}))}(N),I=function(e){return e.qHyperCube.qDimensionInfo.map((function(e,t){return"qDimensionInfo/".concat(t)}))}(N),j=i.meta.hasDimensions,P=o.major.orientation,R=Nr.getMeasureScaleInvert(P,D),_=j?I:L,z=zp({layoutModel:i,fields:_,chartModel:p,colorModel:v}),F=Bp(Bp({},Pd({measures:L,yAxisData:j?I:L,invert:R,discrete:u,layoutModel:i,tickModel:d,fieldModel:M,itemWidthModel:S,dockModel:o,colorModel:v,rtl:D})),v.main.model().scales()),U=function(e){var t=e.fieldModel,n={};return t.minors.forEach((function(e){n[e]={data:{field:e}}})),n}({fieldModel:M}),H=ap({chartModel:p,actions:y,selectionModel:m,layoutModel:i,colorModel:v,isLocked:b,dockModel:o,flags:g,customTooltipModel:O,debouncer:A});return{collections:z,scales:F,formatters:U,components:qd({properties:r,dockModel:o,layoutModel:i,disclaimerModel:a,extensions:l,discrete:u,viewState:s,themeModel:f,chartModel:p,translator:h,flags:g,colorModel:v,scaleModel:x,fieldModel:M,customTooltipModel:O,rtl:D,fields:_,invert:R,selectables:H,viewCache:c,extremumModel:w,tickModel:d,itemWidthModel:S,mappingModel:k,model:C,app:E,constraints:q}),interactions:Tp({gestures:Fp(H.gestures),chartModel:p,actions:y,viewState:s,viewCache:c,discrete:u,layoutModel:i,dockModel:o,rtl:D,app:E,customTooltipModel:O,flags:g}),strategy:(n={logicalSize:T,minCenterRatio:0},{layoutModes:Rr.getLayoutModes(),center:void 0!==n.minCenterRatio?{minWidthRatio:n.minCenterRatio,minHeightRatio:n.minCenterRatio}:void 0,logicalSize:n.logicalSize?rc({align:.5,preserveAspectRatio:!0},n.logicalSize):void 0}),palettes:v.main.model().palettes()}}function Gp(e){var t=e.layout,n=void 0===t?{}:t,r=e.options,o=void 0===r?{}:r;return n.snapshotData&&!o.freeResize?{width:n.snapshotData.content.size.w,height:n.snapshotData.content.size.h}:void 0}function Kp(e){var t=e.layoutModel,n=e.mappingModel,r=e.tickModel,o=e.dockModel,i=e.chart,a=e.rtl,l=t.meta,u=l.isSharedRange,s=l.hasDimensions,c=o.major.orientation,f=Nr.getMeasureScaleInvert(c,a),d={scales:[]},p=function(e){return u?i.scale(vl.SCALE.MAIN.MINOR):(d.scales[e]||(d.scales[e]=function(e){var t=e.index,n=Nd({key:vl.SCALE.DIMENSION_PREFIX+t,tickModel:r,invert:f,index:t});return i.scale(n)}({index:e})),d.scales[e])};return{query:{getScale:function(e){if(u)return i.scale(vl.SCALE.MAIN.MINOR);if(s){var t=n.query.bullet2Scale(e.datum.value);return p(t)}return i.scale(e.datum.source.field)}},command:{update:function(){d.scales=[]}}}}function $p(e){for(var t=e.qAttrExprInfo,n=void 0===t?[]:t,r=0;r<n.length;r++)if(n[r]&&"bullet-target"===n[r].id)return r;return-1}function Xp(e){for(var t,n,r=e.qAttrExprInfo,o=void 0===r?[]:r,i=e.conditionalColoring,a=(void 0===i?{}:i).segments,l=(void 0===a?{}:a).limits,u=void 0===l?[]:l,s=[],c=-1,f=0;f<o.length;f++)o[f]&&"bullet-segment"===o[f].id&&(c++,s.push({index:f,value:(t=o[f],n=u[c],n&&void 0!==n.value?n.value:t.qMax)}));return s.sort((function(e,t){return e.value>t.value?1:-1})),s.map((function(e){return e.index}))}function Zp(e){var t=e.conditionalColoring,n=(void 0===t?{}:t).segments,r=(void 0===n?{}:n).limits;return(void 0===r?[]:r).concat().sort((function(e,t){return e.value>t.value?1:-1}))}function Jp(e){var t=e.layout,n=e.meta;if(!t)return{};var r=n.dimensionCount,o=n.measureCount,i=0===r,a=r>0,l=Kr.snapshot(t),u=a&&y.getValue(t,"measureAxis.commonRange"),s=u&&y.getValue(t,"measureAxis.commonAxis"),c=y.getValue(t,"qHyperCube.qSize.qcy"),f=a?c:o,d=t.qHyperCube.qMeasureInfo,p=void 0===d?[]:d,m=p.some((function(e){return!!e.target||-1!==$p(e)})),h=p.some((function(e){return!!e.useSegments||Xp(e).length>0})),g=p.map((function(e){return!!e.useSegments||Xp(e).length>0})),v=Bo(t,"measureAxis");return{isDimensionless:i,hasDimensions:a,isSnapshot:l,isSharedRange:u,isSharedAxis:s,qcy:c,numDataItems:f,hasTarget:m,hasRange:h,measuresWithSegment:g,allowSharedMinorAxis:s&&v&&"none"!==v.show,allowSharedMinorAxisLabel:v&&"title"!==v.show,allowMinorAxes:!s&&(!a||v&&"none"!==v.show&&"title"!==v.show),measuresTargetIndex:p.map($p),measuresSegmentIndices:p.map(Xp),measuresSortedLimits:p.map(Zp)}}var Yp={SPARK:{DEFAULT:7,SQUEEZE:7,LABELLESS:7},XSMALL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},SMALL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},MEDIUM:{DEFAULT:28,SQUEEZE:24,LABELLESS:20},FULL:{DEFAULT:28,SQUEEZE:24,LABELLESS:20}},Qp=.7,em=2,tm=1.5;function nm(e){return function(e){if(Array.isArray(e))return rm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function om(e){var t=e.layoutModel,n=e.dockModel,r=e.tickModel,o=e.chart,i=e.fieldModel,a=e.themeModel,l={},u=n.mode,s=yf({layoutModel:t,dockModel:n}),c=a.query.getStyle(),f=t.meta,d=f.hasDimensions,p=f.numDataItems,m=f.hasTarget,h=f.hasRange,g=f.isSharedRange,y={paddingStart:1,paddingEnd:8,labelMargin:2,tickSize:5,strokeWidth:1},v=y.paddingStart+y.paddingEnd+y.labelMargin+y.tickSize+y.strokeWidth,b=function(e){return bl({text:e,fontFamily:c.axis.label.name.fontFamily,fontSize:c.axis.label.name.fontSize})},x=function(e){var t=function(e){var t=s?e:e*Qp;return h?t/l.range.widthPxs[u].DEFAULT:m?t/l.target.widthPxs[u].DEFAULT:t/l.bar.widthPxs[u].DEFAULT}(e);t<1&&(Object.keys(Yp).forEach((function(e){Object.keys(Yp[e]).forEach((function(n){l.bar.widthPxs[e][n]*=t}))})),l.bar.widthPx=l.bar.widthPxs[u].DEFAULT,m&&(Object.keys(Yp).forEach((function(e){Object.keys(Yp[e]).forEach((function(n){l.target.widthPxs[e][n]*=t}))})),l.target.widthPx=l.target.widthPxs[u].DEFAULT),h&&(Object.keys(Yp).forEach((function(e){Object.keys(Yp[e]).forEach((function(n){l.range.widthPxs[e][n]*=t}))})),l.range.widthPx=l.range.widthPxs[u].DEFAULT))},M=function(){u=n.mode,s=yf({layoutModel:t,dockModel:n});var e=Math.min(200,n.chartSize["vertical"===n.major.orientation?"height":"width"]/4);l={bar:{widthPxs:{}},target:{widthPxs:{},widthPx:0},range:{widthPxs:{},widthPx:0},maxBTR:{widthPxs:{}},bulletAxis:y,itemWidths:{},maxPxStep:e},Object.keys(Yp).forEach((function(e){l.bar.widthPxs[e]={},Object.keys(Yp[e]).forEach((function(t){l.bar.widthPxs[e][t]=Yp[e][t]*Qp}))})),l.bar.widthPx=l.bar.widthPxs[u].DEFAULT,m&&(Object.keys(Yp).forEach((function(e){l.target.widthPxs[e]={},Object.keys(Yp[e]).forEach((function(t){l.target.widthPxs[e][t]=l.bar.widthPxs[e][t]*tm}))})),l.target.widthPx=l.target.widthPxs[u].DEFAULT),h&&(Object.keys(Yp).forEach((function(e){l.range.widthPxs[e]={},Object.keys(Yp[e]).forEach((function(t){l.range.widthPxs[e][t]=l.bar.widthPxs[e][t]*em}))})),l.range.widthPx=l.range.widthPxs[u].DEFAULT),x(e),l.maxBTR.widthPxs=h?l.range.widthPxs:m?l.target.widthPxs:l.bar.widthPxs;var a,c,f,M=0;if(s){var O=(a=function(){var e,t,n=[];if(d)if(e=o.formatter(i.minors[0]),g)n=(t=r.query.getValues().filter((function(e){return!e.isMinor}))).map((function(t){return e(t.value)}));else for(var a=0;a<p;a++)t=r.query.getValues(a).filter((function(e){return!e.isMinor})),n=n.concat(t.map((function(t){return e(t.value)})));else for(var l=0;l<p;l++)e=o.formatter(i.minors[l]),t=r.query.getValues(l).filter((function(e){return!e.isMinor})),n=n.concat(t.map((function(t){return e(t.value)})));return n}(),c={},f=[],a.forEach((function(e){c[e]||(c[e]=!0,f.push(e))})),f).map(b),w=function(e){return Math.max.apply(Math,nm(e.map((function(e){return e.height}))))}(O),S=function(e){return Math.max.apply(Math,nm(e.map((function(e){return e.width}))))}(O)+2;M=v+("vertical"===n.major.orientation?S:w),Object.keys(Yp).forEach((function(e){l.itemWidths[e]={},Object.keys(Yp[e]).forEach((function(t){l.itemWidths[e][t]=l.maxBTR.widthPxs[e][t]+M}))})),l.maxPxStep=Qp*e+M}else Object.keys(Yp).forEach((function(e){l.itemWidths[e]={},Object.keys(Yp[e]).forEach((function(t){l.itemWidths[e][t]=l.maxBTR.widthPxs[e][t]/Qp}))}));var k=l.itemWidths[u].DEFAULT;l.bar.width=l.bar.widthPx/k,l.target.width=l.target.widthPx/k,l.range.width=l.range.widthPx/k,l.bulletAxis.widthPx=M,l.bulletAxis.width=l.bulletAxis.widthPx/k,l.bandWidthPx=k,l.maxBTR.widthPx=h?l.range.widthPx:m?l.target.widthPx:l.bar.widthPx,l.maxBTR.width=h?l.range.width:m?l.target.width:l.bar.width};return M(),{BAR_WIDTH_RATIO:Qp,query:{getBulletAxis:function(){return l.bulletAxis},getBar:function(){return l.bar},getTarget:function(){return l.target},getRange:function(){return l.range},getMaxBTR:function(){return l.maxBTR},getBandWidthPx:function(){return l.bandWidthPx},getItemWidths:function(){return l.itemWidths},getExpand:function(){return l.expand},getMaxPxStep:function(){return l.maxPxStep}},command:{update:M}}}var im=[{key:"NoDataExist",alignment:"center",condition:function(e){var t=e.layoutModel.meta.size;return t.x*t.y==0}}];function am(e){var t=e.layoutModel,n={disclaimer:void 0};return{query:{getHasSuppressingDisclaimer:function(){return!(!n.disclaimer||"center"!==n.disclaimer.alignment)},getDisclaimer:function(){return n.disclaimer}},command:{initialize:function(){n.disclaimer=function(e){for(var t,n=e.layoutModel,r=0;r<im.length;r++){var o=im[r];if(o.condition({layoutModel:n})){t=o;break}}return t}({layoutModel:t})}}}}function lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fm(e){var t=e.core,n=e.flags,r=Object(Vn.useStaleLayout)(),o=Object(Vn.useTheme)(),i=Object(Vn.useApp)(),a=Object(Vn.useModel)(),l=Object(Vn.useTranslator)(),u=Object(Vn.useSelections)(),s=Object(Vn.useConstraints)()||{},c=Object(Vn.useAppLayout)().qLocaleInfo,f=Object(Vn.useOptions)(),d=f.direction,p=f.viewState,m="rtl"===d,h=Object(Vn.useRect)(),g=sm(Object(Vn.usePromise)((function(){if(!t)return Promise.resolve([]);var e=t.picassoInstance,n=t.chart,u=t.actions,d=t.models,g=t.updateModels,y=t.viewState,v=t.store,b=d.selectionModel;Object.keys(u).forEach((function(e){return u[e].update(s)}));var x=Dr({source:r,metaAdditionsFn:Jp}),M=am({layoutModel:x});M.command.initialize(),b.command.setLayout({layout:x.getLayout()});var O=Gp({layout:r,options:f}),w=function(e){var t=e.layoutModel;return{major:t.meta.isDimensionless?void 0:"qDimensionInfo/0",minors:t.getHyperCubeValue("qMeasureInfo").map((function(e,t){return"qMeasureInfo/".concat(t)}))}}({layoutModel:x}),S=function(e){var t=e.app,n=e.model,r=e.translator,o=e.picasso,i=e.localeInfo,a=e.theme,l=e.layoutModel,u=Bs({model:n,app:t,translator:r,picasso:o}).auto(Ws);return{initialize:function(){var e=l.getLayout();u.config({layout:e,hc:l.getHyperCube(),colorProps:Xs(Xs({},e.color),{},{useBaseColors:Ks(e)}),key:vl.SCALE.MAIN.COLOR,localeInfo:i,theme:a});var t=[u.getAuxiliarySettings()];return Promise.all(t)},main:{model:function(){return u},settings:function(){return u.settings()}}}}({app:i,model:a,translator:l,picasso:e,localeInfo:c,theme:o,layoutModel:x}),k=function(e){var t=e.picasso,n=e.chart,r=e.localeInfo,o=e.layoutModel,i=e.colorModel,a=[vl.COMPONENT.MAJOR_AXIS_TITLE,vl.COMPONENT.MINOR_AXIS_TITLE,vl.COMPONENT.GRID_LINE,vl.COMPONENT.ZERO_LINE],l={isDataless:!1},u=[],s={main:u,dataset:t.data("q")({key:vl.DATA.MAIN,data:o.getHyperCube(),config:{localeInfo:r}})};return{query:{getIsUpdateDataless:function(){return l.isDataless},getDataset:function(){return s.dataset}},command:{getChart:function(){return n},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings;n.update({settings:t})},updateDataless:function(e){var t=e.generateSettings,a=e.forceData,c=void 0!==a&&a,f=t();c||(l.isDataless=!0,s.main=o.getDataPages(),o.setDataPages([]));var d=[{type:"q",key:vl.DATA.MAIN,data:o.getHyperCube(),config:{localeInfo:r}}].concat(Js(i.main.model().data()));n.update({data:d,settings:f}),c||(o.setDataPages(s.main),s.main=u,l.isDataless=!1)},updatePartial:function(){n.update({partialData:!0,excludeFromUpdate:a})}}}}({picasso:e,chart:n,localeInfo:c,layoutModel:x,colorModel:S}),C=zr({layoutModel:x,rtl:m,size:O||h}),E=function(e){var t=e.layoutModel,n=t.meta.hasDimensions,r={bullet2Scale:{}};return{query:{bullet2Scale:function(e){return r.bullet2Scale[e]}},command:{update:function(){r.bullet2Scale={};var e=t.getDataPages()[0].qMatrix;n?e.forEach((function(e,t){var n=e[0].qElemNumber;r.bullet2Scale[n]=t})):e[0]&&e[0].forEach((function(e,t){r.bullet2Scale[t]=t}))}}}}({layoutModel:x}),A=_l({layoutModel:x}),q=function(e){var t=e.theme,n={resolved:tc({theme:t})};return{query:{getStyle:function(){return n.resolved},getColorPickerColor:t.getColorPickerColor},command:{setTheme:function(e){n.resolved=tc({theme:e})}}}}({theme:o}),D=function(e){var t=e.chart,n=e.layoutModel,r=e.chartModel,o=e.extremumModel,i=e.dockModel,a=e.themeModel,l=e.fieldModel,u=n.meta.hasDimensions,s={extremaList:[]},c=function(e){return void 0===e?(s.extrema||(s.extrema=o.query.getExtrema()),s.extrema):(s.extremaList[e]||(s.extremaList[e]=o.query.getExtrema(e)),s.extremaList[e])};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=c(e),s=t.formatter(l.minors[u?0:e||0]);return xl({chart:t,layoutModel:n,chartModel:r,dockModel:i,themeModel:a,extrema:o,formatter:s})}return{query:{getValues:function(e){return f(e).values},getMin:function(e){var t=c(e);return t.meta.hasExplicitMin?t.explicit.min:f(e).min},getMax:function(e){var t=c(e);return t.meta.hasExplicitMax?t.explicit.max:f(e).max}},command:{update:function(){s.extremaList=[],s.extrema=o.query.getExtrema()}}}}({chart:n,layoutModel:x,chartModel:k,extremumModel:A,dockModel:C,themeModel:q,fieldModel:w}),T=om({layoutModel:x,dockModel:C,tickModel:D,chart:n,fieldModel:w,themeModel:q}),N=Kp({layoutModel:x,mappingModel:E,tickModel:D,dockModel:C,chart:n,rtl:m}),L=Vo({chart:n,actions:u,componentKey:vl.COMPONENT.BAR,enigmaModel:a,layoutModel:x,dockModel:C,itemWidths:T.query.getItemWidths,viewState:y,rtl:m});u.setContext({discrete:L});var I=function(e){var t=e.layout;return{layout:t,app:e.app,picasso:e.picasso,model:e.model,chart:e.chart,translator:e.translator,localeInfo:e.localeInfo,extractDimsAndNode:e.extractDimsAndNode,useCustomTooltip:t.tooltip&&!t.tooltip.auto,utils:xi}}({layout:r,app:i,model:a,picasso:e,chart:n,translator:l,localeInfo:c});return d.layoutModel=x,d.fieldModel=w,d.colorModel=S,d.chartModel=k,d.dockModel=C,d.mappingModel=E,d.extremumModel=A,d.themeModel=q,d.tickModel=D,d.itemWidthModel=T,d.scaleModel=N,d.discrete=L,d.disclaimerModel=M,d.customTooltipModel=I,v.context={rtl:m,logicalSize:O},v.rect=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lm(Object(n),!0).forEach((function(t){um(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h),y.onChanged("scrollOffset",(function(){g(d),k.command.updatePartial()})),function(e){var t=e.layoutModel,n=e.viewState,r=e.viewStateOptions,o=void 0===r?{}:r,i=t.meta.isSnapshot?t.getLayoutValue("snapshotData.content.chartData",{}):o;n.preventSet("scrollOffset",i.scrollOffset)}({layoutModel:x,viewState:y,viewStateOptions:p}),Promise.all([$r({layout:x.getLayout(),model:a}),S.initialize()])}),[t,r,d,o.name(),l.language()]),1)[0],y=sm(Object(Vn.usePromise)((function(){if(!g||!g.length)return Promise.resolve([]);var e=(g[0]||{}).properties,r=t.picassoInstance,o=t.chart,f=t.actions,d=t.models,p=t.viewState,m=t.viewCache,h=t.store;Object.keys(f).forEach((function(e){return f[e].update(s)}));var y=d.layoutModel,v=d.fieldModel,b=d.colorModel,x=d.chartModel,M=d.dockModel,O=d.mappingModel,w=d.extremumModel,S=d.themeModel,k=d.tickModel,C=d.itemWidthModel,E=d.scaleModel,A=d.discrete,q=d.customTooltipModel,D=d.disclaimerModel,T=d.selectionModel;h.context.constraints=s;var N=function(){return Wp(h.context,{picasso:r,properties:e,extensions:[],localeInfo:c,model:a,app:i,chart:o,actions:f,translator:l,flags:n,viewState:p,layoutModel:y,chartModel:x,dockModel:M,discrete:A,customTooltipModel:q,selectionModel:T,selections:u,isLocked:u&&u.isLocked?u.isLocked:Zr,viewCache:m,colorModel:b,tickModel:k,themeModel:S,scaleModel:E,fieldModel:v,extremumModel:w,itemWidthModel:C,disclaimerModel:D,mappingModel:O,debouncer:Jr})};h.generateSettings=N;var L=n.isEnabled("LAYOUTING_WITH_DATA");return gf({layoutModel:y,dockModel:M})&&(x.command.updateDataless({generateSettings:N,forceData:L}),C.command.update()),x.command.updateDataless({generateSettings:N,forceData:L}),Promise.all([Promise.resolve({}),A.command.initialize()])}),[g,s]),1)[0];Object(Vn.useEffect)((function(){if(y&&y.length){var e=t.models,n=t.updateModels,r=e.chartModel;n(e),r.command.update(),r.command.update()}}),[y])}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gm=function(e,t){return Math.abs(e.width-t.width)<.5&&Math.abs(e.height-t.height)<.5};function ym(e){var t=e.core,n=e.flags,r=Object(Vn.useOptions)(),o=Object(Vn.useRect)(),i=mm(Object(Vn.usePromise)((function(){if(!t||!t.store.generateSettings||!t.store.rect)return Promise.resolve([]);var e=t.models,i=t.store,a=i.generateSettings,l=e.layoutModel,u=e.dockModel,s=e.itemWidthModel,c=e.chartModel,f=e.discrete,d=l.getLayout(),p=Gp({layout:d,options:r});i.context.logicalSize=p;var m=p||o;if(!m||void 0===m.width||void 0===m.height)return Promise.resolve([]);var h=!!d.snapshotData;if(!h&&gm(i.rect,m))return Promise.resolve([]);u.update(m),h||(i.rect=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach((function(t){pm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m)),s.command.update();var g=n.isEnabled("LAYOUTING_WITH_DATA");return c.command.updateDataless({generateSettings:a,forceData:g}),s.command.update(),Promise.all([Promise.resolve({}),f.command.initialize()])}),[o.width,o.height]),1)[0];Object(Vn.useEffect)((function(){if(i&&i.length){var e=t.models,n=t.updateModels,r=e.chartModel;n(e),r.command.update(),r.command.update()}}),[i])}function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(n),!0).forEach((function(t){xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mm=function(e){var t=e.core,n=Object(Vn.useElement)();Object(Vn.onTakeSnapshot)((function(e){if(t){var r=t.models,o=t.viewState;return function(e,t){var n=t.getBoundingClientRect();e.snapshotData=e.snapshotData||{},e.snapshotData.content=e.snapshotData.content||{},e.snapshotData.content.size=e.snapshotData.content.size||{w:n.width,h:n.height}}(e,n),function(e){var t=e.layout,n=e.dockModel,r=e.colorModel,o=e.viewState,i=e.layoutModel,a=e.discrete,l=n.chartSize,u=l.width,s=l.height;return t.snapshotData=t.snapshotData||{},t.snapshotData.content={size:{w:u,h:s}},t.reducedHyperCube={},i.meta.isSnapshot?Promise.resolve():(t.snapshotData.content.chartData={scrollOffset:o.get("scrollOffset")},a.command.setSnapshotData(t),r.main.model().getSnapshotData().then((function(e){t.snapshotData.content.chartData=bm(bm({},t.snapshotData.content.chartData),e)})).catch((function(){})))}({layout:e,dockModel:r.dockModel,colorModel:r.colorModel,viewState:o,layoutModel:r.layoutModel,discrete:r.discrete})}})),Object(Vn.useImperativeHandle)((function(){return{getViewState:function(){if(t)return{scrollOffset:t.viewState.get("scrollOffset")}}}}),[t])},Om=function(){return{version:"1.2.0",color:{auto:!0,mode:"primary",bar:{index:6},target:{index:-1,color:"#000000"}},dataPoint:{showLabels:!1,showSegmentLabels:!1,showTotalLabels:!0},dimensionAxis:{dock:"near",label:"auto",show:"all"},footnote:"",gridLine:{auto:!0,spacing:2},measureAxis:{commonAxis:!1,commonRange:!1,dock:"near",show:"all",spacing:1},orientation:"vertical",qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:15,qHeight:500}],qSuppressZero:!1,qSuppressMissing:!0},scrollbar:"bar",scrollStartPos:0,showDetails:!1,showTitles:!0,subtitle:"",title:"",tooltip:{auto:!0,hideBasic:!1,title:"",description:"",imageComponents:void 0}}};var wm=function(e){if(e.qHyperCubeDef){var t=e.qHyperCubeDef.qDimensions,n=e.qHyperCubeDef.qMeasures;1===t.length&&1===n.length&&(n[0].qSortBy.qSortByNumeric=-1,e.qHyperCubeDef.qInterColumnSortOrder.splice(0,e.qHyperCubeDef.qInterColumnSortOrder.length,1,0))}};function Sm(e){e.qHyperCubeDef&&(e.color.mode||(e.color.mode="primary"))}var km=function(e){var t=e.translator;return{dimensions:{min:0,max:function(e){return e>1?0:1},description:function(e,n,r){var o,i=e.qHyperCubeDef.qDimensions.length;return o=r.isAutoChart&&n>i-1?"Visualizations.Descriptions.Color":"Visualizations.Descriptions.Bar",t.get(o)},add:function(e,t){wm(t),Sm(t),function(e){var t=e.qDef;!0===t.autoSort&&t.qSortCriterias.forEach((function(e){e.qSortByNumeric=1,e.qSortByAscii=1}))}(e)},move:function(e,t){Sm(t)},remove:function(e,t){Sm(t)}},measures:{min:1,max:function(e){return 1===e?1:15},description:function(e){var n="vertical"===e.orientation?"Visualizations.Descriptions.Height":"Visualizations.Descriptions.Width";return t.get(n)},add:function(e,t){wm(t),Sm(t)},move:function(e,t){Sm(t)},remove:function(e,t){Sm(t)}}}};function Cm(e){return{properties:Om(),data:{targets:[km(e)]}}}function Em(e){var t=function(){var e=o()();return e.use(a.a),e.use(u()(c.a)),e.use(pt()),e.component("scrollbar",Zt),e.component("scroll-hint",Mt),e.component("box-axis",Bn),e.component("box-sliced-hat",un),e.component("box-out-of-bounds",dn),e}();return{qae:Cm(e),component:function(){var n=Mr({picasso:t});fm({core:n,flags:e.flags}),ym({core:n,flags:e.flags}),Mm({core:n})}}}}]).default}.apply(t,r),void 0!==o&&(e.exports=o))}}]);