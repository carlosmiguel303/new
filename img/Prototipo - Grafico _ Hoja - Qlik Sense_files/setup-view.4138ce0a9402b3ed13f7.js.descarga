/*! For license information please see setup-view.4138ce0a9402b3ed13f7.js.LICENSE.txt */
/*!
 * sense-client@7.144.6
 * 
 * Copyright(C) 2021 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[81,12,29,30,35,37,38,63,78,103,105],{"+/4k":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);function s(e,t,n){return i.a.Event(e,{pageX:n.pagePoints[0].x,pageY:n.pagePoints[0].y,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,originalEvent:t,gestureData:n})}var l;o()(document.body).tap({options:{preventDefault:false},start:function e(t){l=i()(t.target)}});o()(document.body).swipe({options:{preventDefault:false,radiusThreshold:8},start:function e(t,n){var r=s("qv-swipestart",t,n);l.trigger(r)},update:function e(t,n){var r=s("qv-swipeupdate",t,n);l.trigger(r)},cancel:function e(){var t=i.a.Event("qv-swipecancel");l.trigger(t)},end:function e(t,n){o.a.utils.isMouse(t)||c();var r=s("qv-swipe",t,n);l.trigger(r)}});function c(){var e;function t(){document.removeEventListener("mousedown",n,true);document.removeEventListener("mousemove",r,true);document.removeEventListener("mouseup",i,true)}function n(e){e.preventDefault();e.stopPropagation()}function r(e){e.preventDefault();e.stopPropagation()}function i(n){n.preventDefault();n.stopPropagation();t();clearTimeout(e)}document.addEventListener("mousedown",n,true);document.addEventListener("mousemove",r,true);document.addEventListener("mouseup",i,true);e=setTimeout(t,350)}},"+/IW":function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("mWu2");var o=n("6uJb");var s=n("/2No");var l=n("z4LI");var c=n("PX8M");var u='<div class="qv-mobile-odag">\n\t<div class="qui-toolbar toolbar">\n\t\t<button ng-if="$ctrl.selectedNavPoint" class="lui-fade-button  lui-fade-button--inverse close-button" ng-click="$ctrl.back()">\n\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--arrow-left"></span>\n\t\t</button>\n\t\t<div ng-if="!$ctrl.selectedNavPoint"></div>  \x3c!--to keep the title centered --\x3e\n\t\t<h1 q-translation="{{$ctrl.pagetitle}}" class="title"></h1>\n\t\t<button class="lui-fade-button  lui-fade-button--inverse close-button" ng-click="$ctrl.close()" q-translation="Common.Close"></button>\n\t</div>\n\n\t<div ng-if="!$ctrl.selectedNavPoint" class="list-container">\n\t\t<ul class="list  lui-list">\n\t\t\t<li ng-repeat="item in $ctrl.odagToolbarService.getOdagNavPoints()" class="odag-nav-point lui-list__item lui-list__action" ng-click="$ctrl.selectNavPoint(item)">\n\t\t\t\t<div class="nav-point-container" ng-class="{\'invalid\': item.invalid }">\n\t\t\t\t\t<qv-odag-toolbar-navpoint item="item" in-edit-mode="false" in-mobile-mode="true"></qv-odag-toolbar-navpoint>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t\t<div ng-if="$ctrl.odagToolbarService.getOdagNavPoints().length === 0" class="no-navpoints" q-translation="odag.toolbar.navpoint.popup.noAppNavLinks"></div>\n\t</div>\n\n\t<div ng-if="$ctrl.selectedNavPoint" class="odag-selected-nav-point" >\n\n\t\t<div class="top" ng-click="$ctrl.onBodyClicked()">\n\t\t\t<div class="header">\n\t\t\t\t<img qva-prevent-drag ng-src="{{ $ctrl.selectedNavPointHeader.imgSrc }}" class="app-thumbnail-img"/>\n\t\t\t\t<div class="title-description-container">\n\t\t\t\t\t<div class="title" title="{{$ctrl.selectedNavPointHeader.templateName}}">{{$ctrl.selectedNavPointHeader.templateName}}</div>\n\t\t\t\t\t<div class="description" title="{{$ctrl.selectedNavPointHeader.templateDescription}}">{{$ctrl.selectedNavPointHeader.templateDescription}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="app-list-container">\n\t\t\t\t<odag-app-list2\n\t\t\t\t\tstyle="width:100%; height: 100%; position: relative; overflow-y:auto;"\n\t\t\t\t\tng-if="!$ctrl.loadingContent.value"\n\t\t\t\t\tx-variant="odag-app-list--mobile"\n\t\t\t\t\tapplist="$ctrl.selectedNavPointGeneratedApps"\n\t\t\t\t\tgenerate-app-in-progress="$ctrl.generateAppInProgress"\n\t\t\t\t\texpanded-item="$ctrl.expandedItem"\n\t\t\t\t\treload-app="$ctrl.reloadApp"\n\t\t\t\t\tload-generated-apps="$ctrl.loadGeneratedApps"\n\t\t\t\t\tset-selection-state="$ctrl.setSelectionState"\n\t\t\t\t\tcan-apply-selections-for-reload="$ctrl.canApplySelectionsForReload"\n\t\t\t\t\texpanded-item-selection-state="$ctrl.expandedItemSelectionState"\n\t\t\t\t\tis-generate-btn-disabled="$ctrl.isGenerateBtnDisabled"\n\t\t\t\t\ton-apply-selections-callback="$ctrl.onApplySelectionsCallback"\n\t\t\t\t\tloading="$ctrl.loadingContent.value"\n\t\t\t\t\tdelete-clicked="$ctrl.deleteGenAppClicked">\n\t\t\t\t</odag-app-list2>\n\t\t\t\t<div ng-if="$ctrl.maxGeneratedAppLimitReached && !$ctrl.dismissedMaxGenAppMsg && !$ctrl.loadingContent.value" class="odag-max-app-limit-reached">\n\t\t\t\t\t<div class="max-app-text" q-translation="odag.toolbar.napvoint.popup.maxAppLimitReached"></div>\n\t\t\t\t\t<button class="lui-fade-button close-button" q-title-translation="Common.Close" ng-click="$ctrl.dismissMaxGenAppMsgClicked()"><span class="lui-button__icon  lui-icon  lui-icon--close"></span></button>\n\t\t\t\t</div>\n\t\t\t\t<qv-spinner class="spinner" ng-if="$ctrl.loadingContent.value" show="$ctrl.loadingContent.value"></qv-spinner>\n\t\t\t</div>\n\n\t\t\t<div ng-if="$ctrl.showInfoPopup" class="infoPopup">\n\t\t\t\t<div class="info-constraints-header">{{$ctrl.infoHeader}}</div>\n\t\t\t\t<div class="info-row-count-container">\n\t\t\t\t\t<div class="info-section" q-translation="odag.toolbar.navpoint.popup.info.row.count.header"></div>\t\t\t\n\t\t\t\t\t<div class="info-row-count-content">\n\t\t\t\t\t\t<div class="info-row-count-progress-circle">\n\t\t\t\t\t\t\t<circle-chart model=\'$ctrl.circleModel\'></circle-chart>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="info-row-count-current">\n\t\t\t\t\t\t\t<div class="info-row-count-header" q-translation="odag.toolbar.navpoint.popup.info.row.count.current.header" ></div>\n\t\t\t\t\t\t\t<div class="">{{$ctrl.actualRowEstFormatted}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="info-row-count-constraint">\n\t\t\t\t\t\t\t<div class="info-row-count-header" q-translation="odag.toolbar.navpoint.popup.info.row.count.constraint.header"></div>\n\t\t\t\t\t\t\t<div> <= {{$ctrl.maxRowExpressionCountFormatted}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\n\t\t\t\t</div>\t\n\t\t\t\t<div class="info-section" q-translation="odag.toolbar.navpoint.popup.info.field.header" ></div>\n\t\t\t\t<div class="info-field-container">\n\t\t\t\t\t<div class="info-field-header">\n\t\t\t\t\t\t<div class="info-field" q-translation="odag.toolbar.navpoint.popup.info.field.table.header"></div>\n\t\t\t\t\t\t<div class="info-value" q-translation="odag.toolbar.navpoint.popup.info.current.table.header"></div>\n\t\t\t\t\t\t<div class="info-constraint" q-translation="odag.toolbar.navpoint.popup.info.constraint.table.header"></div>\n\t\t\t\t\t</div>\n\t\n\t\t\t\t\t<div class="info-field-values">\n\t\t\t\t\t\t<div ng-repeat="binding in $ctrl.bindings | orderBy: \'-hasConstraint\' " class="info-field-row" ng-if="$ctrl.bindings.length">\n\t\t\t\t\t\t\t<div class="info-field-data">{{binding.fieldName}}</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class="info-value-data">\n\t\t\t\t\t\t\t\t<div class="info-field-checkmark" ng-if="binding.bindingPassesConstraint">\n\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--tick" aria-hidden="true"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="info-field-warning" ng-if="!binding.bindingPassesConstraint">\n\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--warning-triangle" aria-hidden="true"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div ng-if="binding.hasConstraint">{{binding.values.length}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class="info-constraint-data">{{binding.constraint}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="!$ctrl.expandedItem.item" class="bottom">\n\t\t\t<lui-button class="info-button" ng-click="$ctrl.onNavPointInfoClicked($event)" ng-class="{\'lui-button--danger\': $ctrl.bindingsPass, \'lui-active\': $ctrl.showInfoPopup}">\n\t\t\t\t<span class="lui-icon  lui-button__icon lui-icon--info"></span>\n\t\t\t</lui-button>\n\n\t\t\t<lui-button class="generate-button" tid="odag-toolbar-navpoint-popover_generate_app_button" ng-disabled="$ctrl.isGenerateBtnDisabled()" ng-click="$ctrl.onGenerateAppClicked()" q-translation="odag.toolbar.navpoint.popup.generate.app"></lui-button>\n\t\t</div>\n\n\t</div>\n\n</div>';var d=n("9Ggg");var f=n("I4iM");var p=n("f4pQ");var h=n("3uWz");var v=n("acVu");a["default"].nativeComponent("qvMobileOdag",{bindings:{},controller:[function(){var e=this;e.pagetitle=o["default"].get("odag.toolbar.mobile.title");e.loadingContent={value:true};e.selectedNavPoint=null;e.showInfoPopup=false;e.bindings=[];e.selectedNavPointHeader={templateThumbnail:"",templateName:o["default"].get("Common.Loading"),templateDescription:o["default"].get("Common.Loading")};e.selectedNavPointGeneratedApps=[];e.odagToolbarService=new f["a"];e.odagNavpointService=p["a"];e.expandedItem={item:null};e.generateAppInProgress=false;e.maxGeneratedAppLimitReached=false;e.dismissedMaxGenAppMsg=false;e.bindingsPass=true;function t(t){e.selectedNavPoint=t;if(e.selectedNavPoint){var n=l["a"].model;e.odagToolbarService.sheetChanged(n.id);!e.selectedNavPointHeader.templateThumbnail&&e.selectedNavPoint&&(e.selectedNavPointHeader.templateThumbnail="".concat(s["a"].staticResourcesPath,"img/core/static/Default_thumbnail_app.png"));e.circleModel={chartValue:t.rowCountPercentage?t.rowCountPercentage:0};e.infoHeader=o["default"].get("odag.toolbar.navpoint.popup.info.header");p["a"].initializeBindings(t,e.bindings);t.initialized.promise.then((function(){e.pagetitle=t.data.title;e.actualRowEstFormatted="NaN"===t.actualRowEst?o["default"].get("odag.toolbar.navpoint.popup.invalid"):Intl.NumberFormat(o["default"].locale).format(t.actualRowEst);e.maxRowExpressionCountFormatted=Intl.NumberFormat(o["default"].locale).format(t.maxRowExpressionCount);p["a"].updateItemHeader(e.selectedNavPoint,e.selectedNavPointHeader).finally((function(){p["a"].loadGeneratedApps(e.selectedNavPoint,e.selectedNavPointGeneratedApps).then((function(){e.loadingContent.value=false;e.maxGeneratedAppLimitReached=e.selectedNavPointGeneratedApps.length>=e.selectedNavPoint.maxNumberOfApps;e.expandedItem.item&&(e.generatedApps.some((function(t){return e.expandedItem.item.requestId===t.requestId}))||(e.expandedItem.item=null))}))}))}))}else{e.dismissedMaxGenAppMsg=false;e.loadingContent.value=true;e.selectedNavPointGeneratedApps=[];e.pagetitle=o["default"].get("odag.toolbar.mobile.title");c["a"].getApp().then((function(t){e.odagToolbarService.init(t);var n=l["a"].model;e.odagToolbarService.sheetChanged(n.id);!e.selectedNavPointHeader.templateThumbnail&&e.selectedNavPoint&&(e.selectedNavPointHeader.templateThumbnail="".concat(s["a"].staticResourcesPath,"img/core/static/Default_thumbnail_app.png"))}))}}e.setSelectionState=function(){var t=e.expandedItem.item;Object(v["b"])("ODAG_SAAS_ENABLED")&&t&&p["a"].getSelections(t.parentContext.app,t.requestId).then((function(t){e.expandedItemSelectionState=p["a"].getSelectedValuesDisplayString(t,{value:false})}))};e.canApplySelectionsForReload=function(){e.bindingsFailed=e.bindings.filter((function(e){return false===e.bindingPassesConstraint})).length>0;var t=!(e.selectedNavPoint&&(e.selectedNavPoint.invalid||e.bindingsFailed||!e.selectedNavPoint.rowCountPercentage||100!==e.selectedNavPoint.rowCountPercentage||d["a"].isSuffixInUse("noData")||e.generateAppInProgress));return t};e.isGenerateBtnDisabled=function(){e.bindingsPass=e.bindings.filter((function(e){return false===e.bindingPassesConstraint})).length>0;return e.selectedNavPoint&&(e.selectedNavPoint.invalid||e.maxGeneratedAppLimitReached||e.bindingsPass||!e.selectedNavPoint.rowCountPercentage||100!==e.selectedNavPoint.rowCountPercentage||d["a"].isSuffixInUse("noData")||e.generateAppInProgress)};t(null);e.back=function(){t(null)};e.close=function(){q.toggleMobileOdag();e.odagToolbarService.destroy()};e.selectNavPoint=function(e){e&&!e.invalid&&t(e)};e.onApplySelectionsCallback=function(){e.close()};e.loadGeneratedApps=function(){p["a"].loadGeneratedApps(e.selectedNavPoint,e.selectedNavPointGeneratedApps).then((function(){e.loadingContent.value=false;e.maxGeneratedAppLimitReached=e.selectedNavPointGeneratedApps.length>=e.selectedNavPoint.maxNumberOfApps}))};e.dismissMaxGenAppMsgClicked=function(){e.dismissedMaxGenAppMsg=true};e.onGenerateAppClicked=function(){e.generateAppInProgress=true;p["a"].generateApp(e.selectedNavPoint).then((function(){e.generateAppInProgress=false;e.showInfoPopup=false;e.loadGeneratedApps()})).catch((function(t){e.generateAppInProgress=false;throw t}))};e.reloadApp=function(t,n){e.generateAppInProgress=true;p["a"].reloadApp(e.selectedNavPoint,t.requestId,n).then((function(){e.generateAppInProgress=false;e.loadGeneratedApps();2===n&&(e.expandedItem.item=null)})).catch((function(t){e.generateAppInProgress=false;throw t}))};e.onBodyClicked=function(){e.showInfoPopup=false};e.onNavPointInfoClicked=function(){e.showInfoPopup=!e.showInfoPopup};e.deleteGenAppClicked=function(t,n){t.preventDefault();t.stopPropagation();e.showInfoPopup&&(e.showInfoPopup=!e.showInfoPopup);if(n.deleteIcon&&!n.actionInProgress){n.actionInProgress=true;p["a"].deleteGeneratedApp(n).then((function(){e.loadGeneratedApps();e.expandedItem.item&&n.requestId===e.expandedItem.item.requestId&&(e.expandedItem.item=null);n.actionInProgress=false})).catch((function(e){n.actionInProgress=false;throw e}))}}}],template:u});var m="<qv-mobile-odag></qv-mobile-odag>";var g=n("B52N");var b;function y(e){var t=a["default"].getService("$document");var n=a["default"].getService("$compile");var r=a["default"].getService("$rootScope");e.$container=i.a.element("<div>");e.$containerId?t.find(e.$containerId).append(e.$container):t.find("body").append(e.$container);e.scope=r.$new();e.$container.append(n(e.getComponent())(e.scope));e.setup()}function w(e){if(e.$container){e.scope.$destroy();e.$container.remove();e.$container=void 0;e.scope=null}e.destroy()}function S(){w(b.odag)}function x(e){return!!e.$container}function C(e,t){x(e)?w(e):y(e,t)}b={odag:{$container:void 0,scope:null,input:{},getComponent:function e(){return m},setup:function e(){g["default"].ViewChanged.bind(S)},destroy:function e(){g["default"].ViewChanged.unbind(S)}}};var q=t["a"]={toggleMobileOdag:function e(){var t={};C(b.odag,t)},off:function e(t){var n=b[t];w(n)}}},"+3JK":function(e,t){(function(e,t){"use strict";function n(e,t){if(i(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(a(e)){t=t||{};for(var o in e)"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o])}return t||e}function r(e,t){var n=[];var r=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,(function(e,t,r,i){var a="?"===i||"*?"===i;var o="*"===i||"*?"===i;n.push({name:r,optional:a});t=t||"";return(a?"(?:"+t:t+"(?:")+(o?"(.+?)":"([^/]+)")+(a?"?)?":")")})).replace(/([/$*])/g,"\\$1");t.ignoreTrailingSlashes&&(r=r.replace(/\/+$/,"")+"/*");return{keys:n,regexp:new RegExp("^"+r+"(?:[?#]|$)",t.caseInsensitiveMatch?"i":"")}}var i;var a;var o;var s;var l=t.module("ngRoute",[]).info({angularVersion:"1.8.0"}).provider("$route",d).run(f);var c=t.$$minErr("ngRoute");var u;function d(){i=t.isArray;a=t.isObject;o=t.isDefined;s=t.noop;function e(e,n){return t.extend(Object.create(e),n)}var l={};this.when=function(e,i){var a=n(i);t.isUndefined(a.reloadOnUrl)&&(a.reloadOnUrl=true);t.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=true);t.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch);l[e]=t.extend(a,{originalPath:e},e&&r(e,a));if(e){var o="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";l[o]=t.extend({originalPath:e,redirectTo:e},r(o,a))}return this};this.caseInsensitiveMatch=false;this.otherwise=function(e){"string"===typeof e&&(e={redirectTo:e});this.when(null,e);return this};u=true;this.eagerInstantiationEnabled=function e(t){if(o(t)){u=t;return this}return u};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(n,r,i,a,o,u,d,f){var p=false,h,v,m={routes:l,reload:function(){p=true;var e={defaultPrevented:false,preventDefault:function e(){this.defaultPrevented=true;p=false}};n.$evalAsync((function(){b(e);e.defaultPrevented||y()}))},updateParams:function(e){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route with no current route");e=t.extend({},this.current.params,e);r.path(I(this.current.$$route.originalPath,e));r.search(e)}};n.$on("$locationChangeStart",b);n.$on("$locationChangeSuccess",y);return m;function g(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var a=1,o=i.length;a<o;++a){var s=n[a-1];var l=i[a];s&&l&&(r[s.name]=l)}return r}function b(e){var t=m.current;h=q();v=E(h,t);v||!t&&!h||n.$broadcast("$routeChangeStart",h,t).defaultPrevented&&e&&e.preventDefault()}function y(){var e=m.current;var r=h;if(v){e.params=r.params;t.copy(e.params,i);n.$broadcast("$routeUpdate",e)}else if(r||e){p=false;m.current=r;var o=a.resolve(r);f.$$incOutstandingRequestCount("$route");o.then(w).then(S).then((function(a){return a&&o.then(x).then((function(a){if(r===m.current){if(r){r.locals=a;t.copy(r.params,i)}n.$broadcast("$routeChangeSuccess",r,e)}}))})).catch((function(t){r===m.current&&n.$broadcast("$routeChangeError",r,e,t)})).finally((function(){f.$$completeOutstandingRequest(s,"$route")}))}}function w(e){var n={route:e,hasRedirection:false};if(e)if(e.redirectTo)if(t.isString(e.redirectTo)){n.path=I(e.redirectTo,e.params);n.search=e.params;n.hasRedirection=true}else{var i=r.path();var s=r.search();var l=e.redirectTo(e.pathParams,i,s);if(t.isDefined(l)){n.url=l;n.hasRedirection=true}}else if(e.resolveRedirectTo)return a.resolve(o.invoke(e.resolveRedirectTo)).then((function(e){if(t.isDefined(e)){n.url=e;n.hasRedirection=true}return n}));return n}function S(e){var t=true;if(e.route!==m.current)t=false;else if(e.hasRedirection){var n=r.url();var i=e.url;i?r.url(i).replace():i=r.path(e.path).search(e.search).replace().url();i!==n&&(t=false)}return t}function x(e){if(e){var n=t.extend({},e.resolve);t.forEach(n,(function(e,r){n[r]=t.isString(e)?o.get(e):o.invoke(e,null,null,r)}));var r=C(e);t.isDefined(r)&&(n["$template"]=r);return a.all(n)}}function C(e){var n,r;if(t.isDefined(n=e.template))t.isFunction(n)&&(n=n(e.params));else if(t.isDefined(r=e.templateUrl)){t.isFunction(r)&&(r=r(e.params));if(t.isDefined(r)){e.loadedTemplateUrl=d.valueOf(r);n=u(r)}}return n}function q(){var n,i;t.forEach(l,(function(a,o){if(!i&&(n=g(r.path(),a))){i=e(a,{params:t.extend({},r.search(),n),pathParams:n});i.$$route=a}}));return i||l[null]&&e(l[null],{params:{},pathParams:{}})}function E(e,n){return!p&&e&&n&&e.$$route===n.$$route&&(!e.reloadOnUrl||!e.reloadOnSearch&&t.equals(e.pathParams,n.pathParams))}function I(e,n){var r=[];t.forEach((e||"").split(":"),(function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/);var a=i[1];r.push(n[a]);r.push(i[2]||"");delete n[a]}}));return r.join("")}}]}f.$inject=["$injector"];function f(e){u&&e.get("$route")}l.provider("$routeParams",p);function p(){this.$get=function(){return{}}}l.directive("ngView",h);l.directive("ngView",v);h.$inject=["$route","$anchorScroll","$animate"];function h(e,n,r){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(i,a,o,s,l){var c,u,d,f=o.autoscroll,p=o.onload||"";i.$on("$routeChangeSuccess",v);v();function h(){if(d){r.cancel(d);d=null}if(c){c.$destroy();c=null}if(u){d=r.leave(u);d.done((function(e){false!==e&&(d=null)}));u=null}}function v(){var o=e.current&&e.current.locals,s=o&&o.$template;if(t.isDefined(s)){var d=i.$new();var v=e.current;var m=l(d,(function(e){r.enter(e,null,u||a).done((function e(r){false===r||!t.isDefined(f)||f&&!i.$eval(f)||n()}));h()}));u=m;c=v.scope=d;c.$emit("$viewContentLoaded");c.$eval(p)}else h()}}}}v.$inject=["$compile","$controller","$route"];function v(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var a=n.current,o=a.locals;i.html(o.$template);var s=e(i.contents());if(a.controller){o.$scope=r;var l=t(a.controller,o);a.controllerAs&&(r[a.controllerAs]=l);i.data("$ngControllerController",l);i.children().data("$ngControllerController",l)}r[a.resolveAs||"$resolve"]=o;s(r)}}}})(window,window.angular)},"+I+c":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){if(null==e)return{};var n={};var r=Object.keys(e);var i,a;for(a=0;a<r.length;a++){i=r[a];if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}},"+Kna":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("/2No");var o=n("mWu2");var s=/&|\/|\\|=|\?|\*|<|>|"|:|\|/g;var l=/[!?='()*]/g;var c={encodeString:function e(t){return encodeURIComponent(t).replace(l,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))},containsIllegalChars:function e(t){return null!==t.match(s)}};var u=n("PX8M");var d=n("k9vo");var f={};function p(e,t,n){var r={name:e,type:t};if(n){n.qId&&(r.id=n.qId);r.path=n.qUrl;r.pathDef=n.qUrlDef}"folder"===t&&(r.children=[]);return r}function h(e,t){e=e.substring(1).split("/").reverse().slice(1).reverse();var n=t;e.forEach((function(e){var t=false;n.children.forEach((function(r){if(r.name===e){n=r;t=true}}));if(!t){var r=p(e,"folder");n.children.push(r);n=r}}));return n}function v(e){e.sort((function(e,t){return e.name.localeCompare(t.name)})).reverse();e.sort((function(e,t){if("folder"===e.type&&"folder"!==t.type)return-1;if("folder"===e.type&&"folder"===t.type)return e.name.localeCompare(t.name);if("folder"!==e.type&&"folder"!==t.type)return e.name.localeCompare(t.name);return 1}));e.forEach((function(e){"undefined"!==typeof e.children&&v(e.children)}))}f.createTree=function(e,t,n){t=(t||[]).join("|")||".+?";var r=p("/","folder");var i=new RegExp("\\.(".concat(t,")$"),"i");e.forEach((function(e){var t;var a=e;var o=a.qUrl;o=d["a"].stripBasePath(o);t=decodeURIComponent("".concat(o).replace(/\+/g,"%20"));t=t.split("/").splice(-1)[0];if(t.match(i)){var s=r;var l;if(!n){l=decodeURIComponent(o).replace(/^(\/content\/default)|(\/content\/Default)/,"").replace(/^(^\/media\/([a-z0-9-])+\/([a-z0-9-])+\/)/,"/media/");s=h(l,r)}s.children.push(p(t,"file",a))}}));v(r.children);return r};f.filterList=function e(t){var n=[];var r=t.sort((function(e,t){var n=e.qName.toLowerCase();var r=t.qName.toLowerCase();return n.localeCompare(r)}));var i;var a;for(i=0;i<t.length;i++){a=t[i];if(a.qAppSpecific){n.push(a);a.qMeta&&-1!==a.qMeta.privileges.indexOf("update")&&(f.canUpdate=true);break}}for(i=0;i<r.length;i++){a=t[i];a.qAppSpecific||n.push(a)}return n};f.getRemainingSpace=function e(t){var n=0;for(var r=0;r<t.length;r++)if(t[r].qAppSpecific&&t[r].qMeta){n=parseInt(t[r].qMeta.remainingLibrarySpace||0,10);break}return n};var m=f;var g='<lui-dialog id="media-library-modal" tid="media-library" qv-cancel="cancel($event)" qv-confirm="confirm()" qva-outside-ignore-for="allOutside" qva-stop-prop>\n\t<lui-dialog-header>\n\t\t<lui-dialog-title q-translation="MediaLibrary.Header"></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="dialog-body  medialib  lui-nopad">\n\t\t<div class="q-section-list" ng-if="lists.length">\n\t\t\t<ul class="side-menu lui-list" tid="menu-list">\n\t\t\t\t<li ng-repeat="list in lists track by list.qName"\n\t\t\t\t\tclass="side-menu-item  lui-list__item"\n\t\t\t\t\tng-class="{\'selected\': !isUpload && view === list.qName}"\n\t\t\t\t\tng-click="goTo(list.qName, false)">\n\t\t\t\t\t<span class="lui-list__text  lui-list__text--ellipsis" ng-if="list.qAppSpecific" q-translation="MediaLibrary.InApp" tid="goto-inapp"></span>\n\t\t\t\t\t<span class="lui-list__text  lui-list__text--ellipsis" ng-if="!list.qAppSpecific" tid="goto-library">{{ list.qName }}</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<ul ng-if="canUpdate" class="q-section-upload  upload-menu lui-list">\n\t\t\t\t<li class="upload-menu-item  lui-list__item"\n\t\t\t\t\tng-class="{\'selected\': isUpload}"\n\t\t\t\t\ttid="goto-upload"\n\t\t\t\t\tng-click="goTo(\'\', true)">\n\t\t\t\t\t<div class="q-section-upload-text  lui-list__text  lui-list__text--ellipsis" q-translation="MediaLibrary.UploadMedia"></div>\n\t\t\t\t\t<div class="qv-loader  lui-list__text" ng-if="updateExp.isUploading"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="q-empty" ng-if="state === contentState.isEmpty && !isUpload">\n\t\t\t<p q-translation="MediaLibrary.NoFilesFound" class="nff"></p>\n\t\t</div>\n\t\t<qve-media-list ng-if="state === contentState.hasFiles && !isUpload" ng-class="{\'q-image-library\': !isUpload}" class="q-images-cont" tid="media-lib-items-list"></qve-media-list>\n\t\t<div class="q-media-preview" ng-if="selectedFile && !isUpload">\n\t\t\t<div class="q-media-preview-toolbar" ng-if="canDeleteInView()">\n\t\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="delete"\n\t\t\t\t\tdata-name="delete"\n\t\t\t\t\tq-title-translation="Common.Delete"\n\t\t\t\t\tng-click="onDelete($event)">\n\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="q-media-preview-img-wrapper">\n\t\t\t\t<img ng-src="{{ getSrc(selectedFile) }}" class="q-media-img-list"/>\n\t\t\t</div>\n\t\t\t<div class="q-media-preview-bottom-toolbar">\n\t\t\t\t<button class="lui-button q-media-insbtn"\n\t\t\t\t\t\ttid="insert"\n\t\t\t\t\t\tdata-name="insert"\n\t\t\t\t\t\tq-translation="MediaLibrary.Insert"\n\t\t\t\t\t\tq-title-translation="MediaLibrary.Insert"\n\t\t\t\t\t\tng-click="confirm()">\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="q-images-cont" ng-if="canUpdate" ng-show="isUpload">\n\t\t\t<qv-media-update update-exp="updateExp" select-file="selectFile" selected-file="selectedFile" image-list="rootEntry.children" confirm="confirm"></qv-media-update>\n\t\t</div>\n\t</lui-dialog-body>\n\t<div class="q-media-zoomed" ng-if="inZoom">\n\t\t<div class="q-media-z-wrapper">\n\t\t\t<div class="q-media-z-cont">\n\t\t\t\t<img class="q-media-z-img" ng-src="{{ getSrc(zoomSrc) }}">\n\t\t\t</div>\n\n\t\t\t<div class="q-media-zoom-footer">\n\t\t\t\t<qv-confirm-cancel-footer light qv-confirm="confirm()" qv-cancel="closeZoom()" qv-confirm-label="Common.Apply" qv-confirm-disabled="updateExp.isUploading"></qv-confirm-cancel-footer>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<lui-dialog-footer data-tid="media-library-footer">\n\t\t<lui-button ng-click="cancel($event)" q-translation="Common.Close" tid="cancel" ng-disabled="updateExp.isUploading"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n';var b='<div>\n\t\x3c!--\n\t\t<img ng-src="{{staticSrc}}" class="q-media-img" width="100%" height="100%"/>\n\t--\x3e\n\t<ul class="q-media-list-cont  lui-list" qva-context-menu="onContextMenu($event)">\n\t\t<li ng-repeat="entry in rootEntry.children"\n\t\t\t\tclass="media-list-cont-item  lui-list__item"\n\t\t\t ng-class="{\'selected\': isSelectedImg(entry, $last, \'.selected\')}"\n\t\t\t tid="media-item" title="{{entry.name}}"\n\t\t\t ng-click="selectFile($event, entry.path, entry.pathDef)">\n\t\t\t<span class="list-name  lui-list__text  lui-list__text--ellipsis">{{entry.name}}</span>\n\t\t</li>\n\t</ul>\n</div>';var y=n("3A43");var w=n("rwJ+");var S=n("wIyQ");function x(e){return parseInt(e||0,10)}o["default"].directive("qvBouncyGrid",[function(){return{restrict:"E",template:'<div class="qv-bouncy" ng-transclude></div>',transclude:true,replace:true,scope:{minWidth:"@",maxWidth:"@",padding:"@",selector:"@",listLen:"="},controller:["$scope","$element",function(e,t){var n=i()("<style></style>").appendTo("body");var r=0;var a;var o=x(e.minWidth);var s=x(e.maxWidth);function l(e){clearTimeout(a);a=setTimeout(c,e||50)}function c(){var i=x(e.padding);var a;var c;var u;var d;if(s){a=s;c=Math.ceil(t.width()/a);u=Math.floor(t.width()/c);d="".concat((c>e.listLen?a:u)-i,"px!important;")}else{a=o;c=Math.floor(t.width()/a);u=Math.ceil(t.width()/c);d="".concat((c>e.listLen?a:u)-i,"px!important;")}if(Number.isNaN(+u-i)&&r<20){r++;l()}else n&&n.length&&n.text("".concat(e.selector," { width: ").concat(d,"height: ").concat(d,"}"))}S["a"].on("end",l);l(0);e.$watch("listLen",l);e.$on("$destroy",(function(){clearTimeout(a);n&&n.remove();a=null;n=null;S["a"].off("end",l)}))}]}}]);var C=n("vOsO");var q=n.n(C);var E=n("6uJb");var I='<div id="media-library-upload">\n\t<div class="bouncy-wrap" ng-class="{\'empty\' : isEmpty}">\n\t\t<qv-bouncy-grid min-width="140" padding="15" selector=".preview-media-grid" list-len="previewCounter">\n\t\t\t<div class="media-library-preview-container" ng-hide="isEmpty"></div>\n\t\t</qv-bouncy-grid>\n\t</div>\n\t<div id="media-library-dropzone" class="dropzone" ng-class="{\'empty\' : isEmpty}">\n\t\t<div class="dz-message">\n\t\t\t<div class="upload-drop-text" q-translation="MediaLibrary.ClickOrDropHere"></div>\n\t\t\t<div class="upload-drop-icon-wrap">\n\t\t\t\t<i class="lui-icon lui-icon--upload"></i>\n\t\t\t</div>\n\t\t\t<div ng-if="showQuotaText" class="upload-drop-quota">{{quotaInfo}}</div>\n\t\t</div>\n\t</div>\n</div>\n';var k='<div tid="preview-item"\n\t class="q-media-grid preview-media-grid"\n\t ng-class="{\'selected-img\': selectedFile === file.qUrl}"\n\t ng-click="onSelectImage( $event, file )"\n\t qva-context-menu="onContextMenu( $event, file, file.name, file.qUrl )">\n\t<div class="q-media-wrap-img">\n\t\t<img class="q-media-img" width="100%" height="100%" data-dz-thumbnail />\n\t\t<div class="overlay"></div>\n\t\t<div class="preview-area">\n\t\t\t<div class="touch-area cancel-upload-area" q-title-translation="Common.Cancel" data-dz-remove ng-click="onCancelUpload( $event, file )">\n\t\t\t\t<button class="lui-overlay-button lui-overlay-button--small cancel-upload">\n\t\t\t\t\t<span class="lui-overlay-button__icon lui-icon lui-icon--small lui-icon--close"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div ng-if="selectedFile === file.qUrl" class="preview-area-edit">\n\t\t\t\t<div class="touch-area delete-image-area" q-title-translation="Common.Delete" ng-click="onDelete( $event, file, file.name, file.qUrl )">\n\t\t\t\t\t<button class="lui-overlay-button lui-overlay-button--small delete-image">\n\t\t\t\t\t\t<span class="lui-overlay-button__icon lui-icon lui-icon--small lui-icon--bin"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\ttid="insert"\n\t\t\t\t\tclass="insert-button lui-overlay-button"\n\t\t\t\t\tdata-name="insert"\n\t\t\t\t\tq-title-translation="MediaLibrary.Insert"\n\t\t\t\t\tng-click="onInsert( $event )">\n\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--add"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="error-wrapper" ng-if="showError">\n\t\t\t<div class="error-icon">\n\t\t\t\t<i class="lui-icon lui-icon--warning-triangle"></i>\n\t\t\t</div>\n\t\t\t<div class="error-text">{{errorMsg}}</div>\n\t\t</div>\n\t\t<div class="preview-progress">\n\t\t\t<div class="preview-progressbar-wrapper">\n\t\t\t\t<span class="preview-progressbar" data-dz-uploadprogress></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="q-media-name" q-title-translation="{{file.name}}">{{file.name}}</div>\n</div>\n';var A=n("1UIw");var T=n("sWge");var D=n("4nJ1");var O=n("U7Ny");var L=n("cph9");var M=n("acVu");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),true).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var F=D["a"].getRandomString(16);var _=function e(){return Object(M["b"])("MLREST")};function j(e){return"/api/v1/apps/".concat(e,"/media/files/")}function B(e){return"".concat(a["a"].rootPath,"api/v1/apps/").concat(e,"/media/list/")}function V(e,t,n){if(_()){var r=B(t.id);n.get(r,{}).then((function(t){var n=t.data;if(void 0!==n.quota&&void 0!==n.totsize){var r=Math.floor((parseInt(n.quota,10)-parseInt(n.totsize,10))/1024/1024);e.quotaInfo=E["default"].get("MediaLibrary.QuotaInfo",[r])}else e.showQuotaText=false}));return}t.getContentLibraries().then((function(t){var n=m.getRemainingSpace(t)/1024/1024;n=n.toString().split("e");n=Math.floor(+"".concat(n[0],"e").concat(n[1]?+n[1]+1:1));n=n.toString().split("e");n=+"".concat(n[0],"e").concat(n[1]?+n[1]-1:-1);e.quotaInfo=E["default"].get("MediaLibrary.QuotaInfo",[n])}))}function H(e,t,n){return u["a"].getApp().then((function(r){var i={params:{externalpath:n,xrfkey:F},headers:{"X-Qlik-XrfKey":F}};var a="".concat(D["a"].basePath,"qrs/appcontent/").concat(r.id,"/deletecontent");return t.delete(a,i).then((function(){V(e,r,t)})).catch((function(e,t){var n=t;0===t&&(n=500);A["a"].showDialog({code:n})}))}))}function z(e,t,n){var r=t;if(!r){var i=e.getFilesWithStatus(q.a.SUCCESS);for(var a=0;a<i.length;a++)if(n===i[a].name){r=i[a];break}}return r}o["default"].directive("qvMediaUpdate",[function(){return{restrict:"E",replace:true,scope:{updateExp:"=",selectedFile:"=",selectFile:"&",confirm:"&",imageList:"="},template:I,controller:["$scope","$compile","$timeout","$http","qvContextMenu",function(e,t,n,r,a){var s;var l;e.isEmpty=true;e.previewCounter=0;e.showQuotaText=true;q.a.autoDiscover=false;q.a.confirm=function(e,t,n){if(null!=n)return n();return};function d(n,r){var a=e.$new();a.file=r;t(i()(n))(a)}function f(t,n,i,a){var c=new T["a"];var u=i.split("\\").splice(-1)[0];e.updateExp.deleteDialogShown=true;l=o["default"].getService("qvConfirmDialog").show({closeOnEscape:true,title:E["default"].get("MediaLibrary.Confirm.Delete.Title"),message:E["default"].get("MediaLibrary.Confirm.Delete.Description",[u]),okLabel:E["default"].get("Common.Delete"),cancelLabel:E["default"].get("Common.Cancel")});l.closed.then((function(o){o&&H(e,r,i).then((function(){e.selectedFile===a&&e.selectFile()(t,null,null);n&&s.removeFile(n);c.resolve()}),(function(){c.reject()}));e.updateExp.deleteDialogShown=false}));return c.promise}function p(t,n,i,a){var u=new T["a"];var d=z(s,a,n.name);e.updateExp.deleteDialogShown=true;l=o["default"].getService("qvConfirmDialog").show({closeOnEscape:true,title:E["default"].get("MediaLibrary.Confirm.Delete.Title"),message:E["default"].get("MediaLibrary.Confirm.Delete.Description",[n.name]),okLabel:E["default"].get("Common.Delete"),cancelLabel:E["default"].get("Common.Cancel")});l.closed.then((function(a){if(a){var o=j(i)+c.encodeString(n.id);r.delete(o,{}).then((function(){e.selectedFile===n.path&&e.selectFile()(t,null,null);d&&s.removeFile(d);u.resolve()}),(function(){u.reject()}))}e.updateExp.deleteDialogShown=false}));return u.promise}e.updateExp.deleteFile=function(e,t,n){var r=z(s,null,t);return f(e,r,t,n)};e.updateExp.deleteInAppFile=p;e.onCancelUpload=function(e,t){e.preventDefault();e.stopPropagation();s.cancelUpload(t)};e.onDelete=function(e,t,n,r){e.preventDefault();e.stopPropagation();_()?u["a"].getApp().then((function(r){var i={id:n,name:n,path:j(r.id)+c.encodeString(n)};p(e,i,r.id,t)})):f(e,t,n,r)};e.onInsert=function(t){t.preventDefault();t.stopPropagation();e.confirm()()};e.onSelectImage=function(t,n){w["a"].scrollElmentIntoView(i()(n.previewElement),".media-library-preview-container",false,true);if(n.status!==q.a.SUCCESS){t.preventDefault();t.stopPropagation();return}e.selectFile()(t,n.qUrl,n.qUrlDef)};e.onContextMenu=function(t,n,r,i){t.preventDefault();t.stopPropagation();if(n.status!==q.a.SUCCESS)return;var o=a.menu();e.updateExp.isUploading||o.addItem({translation:"MediaLibrary.Insert",tid:"insert",select:function r(){e.selectedFile!==n.qUrl&&e.selectFile()(t,n.qUrl,n.qUrlDef);e.onInsert(t)}});o.addItem({translation:"Common.Delete",tid:"delete",select:function a(){e.onDelete(t,n,r,i)}});a.show(o,{position:{x:t.pageX,y:t.pageY},docking:"BottomRight"})};u["a"].getApp().then((function(t){var a;var o;if(_()){var l=j(t.id);a=l;o=l}else{a="".concat(D["a"].basePath,"qrs/appcontent/").concat(t.id,"/uploadfile?");o="/appcontent/".concat(t.id,"/")}V(e,t,r);var u={url:a,acceptedFiles:".png,.gif,.jpg,.jpeg",maxFilesize:5,parallelUploads:4,filesizeBase:1024,thumbnailWidth:200,thumbnailHeight:200,previewTemplate:k,previewsContainer:".media-library-preview-container",dictInvalidFileType:E["default"].get("ErrorCode.3004"),dictFileTooBig:E["default"].get("MediaLibrary.Error.MaxFileSizeExceeded"),dictResponseError:E["default"].get("ErrorCode.500")};var f={headers:{"X-Qlik-XrfKey":F}};var p={method:"PUT",sending:function e(t,n){var r=n.send;n.send=function(){r.call(n,t)}}};var h=Object(L["a"])(document.cookie,"_csrfToken");h&&(p.headers={"qlik-csrf-token":h});s=new q.a("#media-library-dropzone",N(N({},u),_()?p:f));s.on("processing",(function(e){_()?this.options.url=a+c.encodeString(e.name):this.options.url="".concat(a,"externalpath=").concat(encodeURIComponent(e.name),"&overwrite=false&xrfkey=").concat(F)}));s.on("addedfile",(function(t){d(t.previewElement,t);n((function(){e.isEmpty=false;e.previewCounter++;e.updateExp.isUploading=true;w["a"].scrollElmentIntoView(i()(t.previewElement),".media-library-preview-container",false,true);if(c.containsIllegalChars(t.name)){t.qErrorMsg="MediaLibrary.Error.IllegalCharsInFilename";s.cancelUpload(t)}if(_()){var n=(s.files||[]).concat(e.imageList||[]);for(var r=0;r<n.length;r++){var a=n[r];var o=t===a;var l=t.name===a.name;var u="canceled"!==a.status;if(!o&&l&&u){t.qErrorMsg="MediaLibrary.Error.FileAlreadyExists";s.cancelUpload(t);break}}}}))}));s.on("removedfile",(function(){n((function(){e.previewCounter--;0===e.previewCounter&&(e.isEmpty=true)}))}));s.on("success",(function(n){n.qUrl=o+c.encodeString(n.name);n.qUrlDef=o+n.name;V(e,t,r)}));s.on("queuecomplete",(function(){n((function(){e.updateExp.isUploading=false}))}));s.on("error",(function(e,t,n){var r=i()(e.previewElement).scope();r.showError=true;n&&n.status?409===n.status?r.errorMsg=E["default"].get("MediaLibrary.Error.FileAlreadyExists"):413===n.status?r.errorMsg=E["default"].get("MediaLibrary.Error.MaxFileSizeExceeded"):r.errorMsg=E["default"].get("ErrorCode.".concat(n.status)):r.errorMsg=E["default"].get(e.qErrorMsg?e.qErrorMsg:t)}))}));e.$on("$destroy",(function(){s.destroy();e.updateExp.deleteDialogShown&&l.close()}))}]}}]);var $={isShown:false};var U=function e(){return Object(M["b"])("MLREST")};o["default"].directive("qveMediaList",[function(){return{replace:true,restrict:"E",template:b}}]);var G={template:g,controller:["$scope","qvLoader","qvContextMenu","$http",function(e,t,n,r){var o="".concat(a["a"].staticResourcesPath,"img/medialibrary/thumb.png");var s=false;var l;var f={notReady:0,isLoading:1,isEmpty:2,hasFiles:3};var p=i()("#media-library-modal");e.inZoom=false;e.firstTimeRenderCheck=true;e.lists=[];e.selectedFile=null;e.contentState=f;e.state=f.notReady;e.view=null;o=d["a"].stripBasePath(o);o=d["a"].addBasePath(o);e.staticSrc=o;e.updateExp={};function h(e){clearTimeout(l);t.close(e)}function v(t,n){t=t||null;n=n||null;e.selectedFile=t;e.selectedFileDef=n;setTimeout((function(){p.find(".q-media-insbtn").focus()}))}function g(n,r){var i=m.createTree(n,e.input.filter,true);e.rootEntry=i;if(r===e.view)if(t.isOpen())t.close().then((function(){e.state=i.children.length>0?f.hasFiles:f.isEmpty}));else{clearTimeout(l);e.state=i.children.length>0?f.hasFiles:f.isEmpty}S()}function b(e){var t="".concat(a["a"].rootPath,"api/v1/apps/").concat(e,"/media/list");return r.get(t,{params:{show:"recursive"}}).then((function(e){return e.data.data.filter((function(e){return"image"===e.type})).map((function(e){var t=c.encodeString(e.name);return{qId:e.id,qUrl:e.link.replace(e.name,t),qUrlDef:e.link,qName:e.name}}))}))}function S(){e.disableNav=false}function x(t,n,r,i){e.updateExp.deleteFile(t,n,r).then((function(){E(i)}))}function C(){e.disableNav=true;u["a"].getApp().then((function(t){var n=t.id;var r=e.view;e.appId=n;U()?b(n).then((function(e){g(e,r)})):t.getLibraryContent(e.view).then((function(e){g(e,r)}))}))}u["a"].getApp().then((function(t){t.getLayout().then((function(n){t.getContentLibraries().then((function(t){e.lists=m.filterList(t);if(!e.view&&e.lists.length){e.view=e.lists[0].qName;C()}var r=U();var i=Object(M["b"])("HAS_QRS")&&!!m.canUpdate&&!r;var a=r&&n.permissions.update;e.canUpdate=i||a}))}))}));function q(e){return e.split("/").slice(3).join("\\")}function E(t){C();e.input.selectedFile&&t===e.input.selectedFile&&(s=true)}function I(t,n,r){e.updateExp.deleteInAppFile&&e.updateExp.deleteInAppFile(t,n,e.appId).then((function(){E(r)}))}e.getSrc=function e(t){t=d["a"].stripBasePath(t);t=d["a"].addBasePath(t);return t};e.zoomImage=function t(n,r){n.preventDefault();n.stopPropagation();e.zoomSrc=r.path;e.inZoom=true};e.closeZoom=function(){e.inZoom=false;e.zoomSrc=null};e.goTo=function(r,i){var a;n.close();if(e.view===r||e.disableNav)return;v(null,null);h(true);e.state=f.notReady;e.isUpload=i;e.view=r;if(!e.isUpload){l=setTimeout((function(){e.state=f.isLoading;t.show({template:y["a"],messageObj:{task:"MediaLibrary.LoadingFiles"},appendTo:p.find(".medialib")[0],bigLoader:true})}),1e3);a=p.find(".q-images-cont");a.length&&(a[0].scrollTop=0);C();e.firstTimeRenderCheck=true;a=null}};e.isSelectedImg=function(t,n,r){n&&e.firstTimeRenderCheck&&r&&setTimeout((function(){var t=p.find(r);e.firstTimeRenderCheck=false;t.length&&w["a"].scrollElmentIntoView(t,".q-images-cont",true);t=null}),250);return e.selectedFile===t.path};e.selectFile=function(t,r,a){var o=i()(t.target).closest(".q-media-grid, .media-list-cont-item");t.preventDefault();t.stopPropagation();n.close();w["a"].scrollElmentIntoView(o,".q-images-cont",false);if(e.selectedFile===r){r=null;a=null}o=null;v(r,a)};e.confirm=function(){if(e.selectedFile&&!e.updateExp.isUploading){e.input.onConfirm(e.selectedFile,e.selectedFileDef);e.destroyComponent()}};e.inInAppView=function(){return e.view===e.lists[0].qName};e.canDeleteInView=function(){return e.inInAppView()&&e.canUpdate};e.onDelete=function(t){var n=e.selectedFile;if(U()){var r=e.rootEntry.children.filter((function(e){return e.path===n}))[0]||{};r.id&&I(t,r,n)}else{var i=q(e.selectedFileDef);t.preventDefault();t.stopPropagation();x(t,i,e.selectedFile,n)}};e.onContextMenu=function(t){t.preventDefault();t.stopPropagation();var r=n.menu();e.updateExp.isUploading||r.addItem({translation:"MediaLibrary.Insert",tid:"insert",select:function n(){var r=i()(t.target).closest(".media-list-cont-item").scope().entry;v(r.path,r.pathDef);e.confirm()}});e.canDeleteInView()&&r.addItem({translation:"Common.Delete",tid:"delete",select:function e(){var n=i()(t.target).closest(".media-list-cont-item").scope().entry;var r=n.path;if(U())I(t,n,r);else{var a=q(n.pathDef);x(t,a,n.path,r)}}});n.close();n.show(r,{position:{x:t.pageX,y:t.pageY},docking:"BottomRight",qvaOutsideIgnore:e.outsideIgnore})};e.cancel=function(t,n){if(t){t.preventDefault();t.stopPropagation()}if(!n){if(e.inZoom){e.closeZoom();return}if(e.updateExp.deleteDialogShown){e.updateExp.deleteDialogShown=false;return}}if(n||!e.updateExp.isUploading){e.input.onCancel(s);e.destroyComponent()}};e.$watch("updateExp.isUploading",(function(t){false===t&&e.inInAppView()&&C()}));e.$on("$destroy",(function(){$.isShown=false;e.closeZoom();n.close();h(true)}))}]};function W(e){var t={onCancel:e.onCancel,onConfirm:e.onConfirm,selectedFile:e.selectedFile,filter:["png","gif","jpg","jpeg"],outsideIgnore:e.outsideIgnore};var n=o["default"].getService("luiDialog");n.show({template:g,controller:G.controller,input:t});$.isShown=true}function Q(){if($.isShown){var e=i()("#media-library-modal");e.length&&e.scope().cancel(null,true)}}function K(){return $.isShown}var Y={show:W,hide:Q,isShown:K};function J(e){Y.show(e)}function Z(){Y.hide()}function X(){return Y.isShown()}var ee=t["a"]={show:J,hide:Z,isShown:X}},"+NRc":function(e,t,n){"use strict";var r=n("mWu2");var i='<div class="ds-visualization-circle-chart">\n\t<div class="chart-heading">{{ model.header }}</div>\n\n\t<div class="circular-bar">\n\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" ng-style="svgPos">\n\t\t\t<g class="arcs">\n\t\t\t\t<circle ng-attr-cx="{{radius}}" ng-attr-cy="{{radius}}" ng-attr-r="{{radius}}" class="outer-circle" />\n\t\t\t\t <path ng-attr-d="{{arcValue}}" class="outer-arc" tid="circle-chart-arc1" /> \n\t\t\t\t<circle ng-attr-cx="{{radius}}" ng-attr-cy="{{radius}}" ng-attr-r="{{radius - 10}}" class="inner-circle"  />\n\t\t\t</g>\n\t\t\t<text ng-attr-x="{{percentagePos.x}}" ng-attr-y="{{percentagePos.y}}" class="percentage-label">{{ chartPercentageValue }}</text>\n\t\t\t<text ng-attr-x="{{subtextPos.x}}" ng-attr-y="{{subtextPos.y}}" class="percentage-subtext-label">{{ model.chartValueSubText }}</text>\n\t\t</svg>\n\t</div>\n\n\t<div class="chart-footer">{{ model.footer }}</div>\n</div>\n\n';var a=n("Hb6E");var o=n("6uJb");r["default"].directive("circleChart",[function(){return{scope:{model:"="},restrict:"E",replace:true,template:i,controller:["$scope","$element","$timeout",function(e,t,n){var r=t.find(".circular-bar");e.radius=50;e.arcValue="M50 0 A 50 50, 0, 0, 1, 0 0, L 50 50 z";function i(){if(d()){var t=r.height();var n=r.width();if(t<n){e.radius=t/2;e.svgPos={height:t,width:t,top:0,left:n/2-t/2}}else{e.radius=n/2;e.svgPos={height:n,width:n,top:t/2-n/2,left:0}}}u()}function s(e,t,n,r){var i=(r-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}function l(e,t,n,r,i){var a=s(e,t,n,i);var o=s(e,t,n,r);var l=i-r<=180?"0":"1";var c=["M",a.x,a.y,"A",n,n,0,l,0,o.x,o.y].join(" ");return c}function c(e){return 3.6*e}function u(){var t=0;if(e.model.chartValue)t=e.model.chartValue;else if(e.model.numerator&&e.model.denominator){t=0===e.model.denominator?0:e.model.numerator/e.model.denominator;t*=100}var n=Intl.NumberFormat(o["default"].locale,{style:"percent"});if(t>0&&t<1){var r=n.format(0);e.chartPercentageValue=o["default"].get("CircleChart.ChartPercentageValue.LessThanOne",r)}else e.chartPercentageValue=n.format(Math.round(t)/100);var i=e.radius;var a=8;var s=0;if(e.model.chartValueSubText){a=-3;s=17}e.percentagePos={x:i,y:i+a};e.subtextPos={x:i,y:i+s};var u=100===t?99.99:t;var d=u;d||(d=0);e.arcValue=l(i,i,i-5,0,c(d))}function d(){return r.height()>0||r.width()>0}e.$on(a["a"].Events.EditorDetailsPane.ResizeChart,(function(){i()}));e.$watch("model",(function(){u()}));d()?i():n((function(){i()}))}]}}])},"+PUV":function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("B52N");function o(e,t){return d(e)||u(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function d(e){if(Array.isArray(e))return e}function f(){var e=Object(r["useState"])(a["default"].isSmallDeviceDirect),t=o(e,2),n=t[0],i=t[1];Object(r["useEffect"])((function(){a["default"].ViewChangedDirect.bind(i);return function(){return a["default"].ViewChangedDirect.unbind(i)}}),[]);return n}t["a"]=f},"+ZlN":function(e,t,n){"use strict";t["a"]={isSnapshotData:r};function r(e){return e&&!!e.sourceObjectId}},"+lRA":function(e,t,n){"use strict";var r=n("RS9x");var i=n.t("RS9x",1);t["a"]=r},"+nQQ":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("MGTR");var s=n("4nJ1");var l=n("fXVZ");var c=n("PX8M");var u=n("acVu");function d(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){d(a,r,i,o,s,"next",e)}function s(e){d(a,r,i,o,s,"throw",e)}o(void 0)}))}}var p={columns:48,rows:27,ratio:{w:16,h:9},cellSize:null,timelineController:null,snapGrid:true,showGrid:false};var h=false;var v=false;var m=null;var g={w:16,h:9};var b={"Widescreen 16:9":{Landscape:{w:16,h:9,r:27,c:48},Portrait:{w:9,h:16,r:48,c:27}},"A4 (29.7 cm x 21,0 cm)":{Landscape:{w:29.7,h:21,r:27,c:48},Portrait:{w:21,h:29.7,r:48,c:27}}};var y={id:"",slide:"",action:""};var w={id:null};var S=0;var x=199;var C={};var q;function E(e,t){var n=i()(".qv-grid-story");var r=n.offset().left+1*t.width-e.outerWidth();var a=n.outerWidth()+n.offset().left-1*t.width;var o=n.offset().top+1*t.height-e.outerHeight();var s=n.offset().top+n.outerHeight()-1*t.height;return[r,o,a,s]}function I(e,t,n){var r;var i=e.outerHeight();var a=e.outerWidth();var o=e.offset();var s=t.offset();var l=t.outerHeight();var c=t.outerWidth();if(o.left+a<s.left+1*n.width){r=s.left+1*n.width-(o.left+a);e.css("left","+=".concat(r))}if(o.top+i<s.top+1*n.height){r=s.top+1*n.height-(o.top+i);e.css("top","+=".concat(r))}if(o.left+1*n.width>s.left+c){r=o.left+1*n.width-(s.left+c);e.css("left","-=".concat(r))}if(o.top+1*n.height>s.top+l){r=o.top+1*n.width-(s.top+l);e.css("top","-=".concat(r))}}function k(e,t){e=parseInt(e,10);while(e%t!==0&&e>t)e--;return e<t?t:e}function A(e,t){while(e%t!==0&&e>0)e++;return e}function T(e,t){return D.apply(this,arguments)}function D(){D=f(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return M(n);case 2:r=o.sent;o.next=5;return r.getProperties();case 5:i=o.sent;a=s["a"].extend(true,{},i,t);return o.abrupt("return",r.setProperties(a));case 8:case"end":return o.stop()}}),e)})));return D.apply(this,arguments)}function O(e){return L.apply(this,arguments)}function L(){L=f(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return M(t);case 2:n=i.sent;i.next=5;return n.getProperties();case 5:r=i.sent;return i.abrupt("return",r);case 7:case"end":return i.stop()}}),e)})));return L.apply(this,arguments)}function M(e){return P.apply(this,arguments)}function P(){P=f(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return c["a"].getApp();case 2:n=i.sent;i.next=5;return n.enigmaModel.getObject(t);case 5:r=i.sent;return i.abrupt("return",r);case 7:case"end":return i.stop()}}),e)})));return P.apply(this,arguments)}function N(e,t){var n="right"===t?"right":"left";var r=e.position().top;var i=e.outerWidth();var a=e.outerHeight();var o=e.position().left;var s=e.offsetParent().width()-o-i;var l="".concat((100*r/e.offsetParent().height()).toFixed(5),"%");var c="right"===n?"auto":"".concat((100*o/e.offsetParent().width()).toFixed(5),"%");var u="left"===n?"auto":"".concat((100*s/e.offsetParent().width()).toFixed(5),"%");var d="".concat((100*i/e.offsetParent().width()).toFixed(5),"%");var f="".concat((100*a/e.offsetParent().height()).toFixed(5),"%");return{top:l,left:c,right:u,width:d,height:f,"z-index":parseInt(e.css("z-index"),10)}}function R(e){var t=e.getBoundingClientRect();var n=document.getElementById("selectable").getBoundingClientRect();var r=t.top-n.top;var i=t.left-n.left;var a=t.width;var o=t.height;var s="".concat((r/n.height*100).toFixed(2),"%");var l="".concat((i/n.width*100).toFixed(2),"%");var c="".concat((a/n.width*100).toFixed(2),"%");var u="".concat((o/n.height*100).toFixed(2),"%");var d={top:s,left:l,width:c,height:u,"z-index":parseInt(e.style.zIndex,10)};return d}function F(){return p}function _(e,t){p.ratio=b[t][e];p.columns=b[t][e].c;p.rows=b[t][e].r;return p}function j(e){h=e}function B(){return h}function V(e){m=e;Object(u["b"])("NEW_STORY_EDITBAR")?o["a"].publish("slideItemSelected",!!e):Object(u["b"])("SUB_TOOLBAR")?o["a"].publish("subBarSlideItemSelected",!!e):a["default"].getService("$rootScope").$broadcast(e?"slideItemSelected":"slideItemDeselected")}function H(){var e=z();e&&e.scope()&&z().scope().setActive(false)}function z(){return m}function $(e){function t(e,t){if(e.qData.rank<t.qData.rank)return-1;if(e.qData.rank>t.qData.rank)return 1;return 0}if(Array.isArray(e)&&e.length>0)return e.sort(t);return e}function U(e,t){var n=a["default"].getService("$compile");var r=a["default"].getService("$rootScope");var i="<div storytelling-thumbnail ></div>";var o=r.$new();o.slide={qInfo:{qId:t}};e.empty();e.append(n(i)(o))}function G(){a["default"].getService("$timeout").cancel(q);p.showGrid=true}function W(){a["default"].getService("$timeout").cancel(q);q=a["default"].getService("$timeout")((function(){p.showGrid=false}),2300)}function Q(e,t){var n=parseFloat(e);var r=parseFloat(t);n<0&&Math.abs(n)>r&&(e="0%");return e}function K(e,t){return Y.apply(this,arguments)}function Y(){Y=f(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:r=t.h/t.w;o.next=3;return c["a"].getApp();case 3:i=o.sent;o.next=6;return i.getObject(n);case 6:a=o.sent;o.next=9;return Promise.all(a.layout.qChildList.qItems.map(function(){var e=f(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!("sheet"===t.qData.visualization)){a.next=2;break}return a.abrupt("return",void 0);case 2:a.next=4;return l["a"].get(t.qInfo.qId);case 4:n=a.sent;a.next=7;return n.getProperties();case 7:i=a.sent;i.position.width="".concat(parseFloat(i.position.width)/r,"%");i.position.height="".concat(parseFloat(i.position.height)*r,"%");i.position.left=Q(i.position.left,i.position.width);i.position.top=Q(i.position.top,i.position.height);return a.abrupt("return",n.setProperties(i));case 13:case"end":return a.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return o.stop()}}),e)})));return Y.apply(this,arguments)}t["a"]={getContainmentOnElement:E,slideItemOutsideSlide:I,decreaseValueUntilEvenSplit:k,increaseValueUntilEvenSplit:A,getElementPosition:N,getHelperPosition:R,getGridOptions:F,setGridOptions:_,showGridPattern:G,hideGridPattern:W,setPublishState:j,getPublishState:B,sortSlidesByRank:$,setSelectedSlideItemElem:V,getSelectedSlideItemElem:z,unselectSlideItem:H,createSlideThumbnail:U,defaultRatio:g,pasteOffset:S,lastObjPasted:y,lastObjAdded:w,isViewingSource:v,maxNumberOfSlideItems:x,selectionState:C,paperOptions:b,saveSlideProperties:T,getSlideProperties:O,switchSlideOrientation:K,getSlideModel:M}},"+qAE":function(e,t,n){"use strict";var r=n("sWge");var i=n("JZAc");var a={list:[]};var o=null;a.getList=function(){var e=this;function t(t){i["a"].getExtensions().then((function(n){e.list=[];for(var r in n)n.hasOwnProperty(r)&&e.list.push({id:r,data:n[r]});t.resolve(e.list)}),(function(){e.list=[];t.resolve(e.list)}));return t.promise}if(null===o){o=new r["a"];return t(o)}return o.promise};t["a"]=a},"/5Yl":function(e,t,n){"use strict";var r=n("Sn1l");var i=n("2Hli");var a=n("4nJ1");var o={};var s={};var l={type:"items",component:"accordion",items:{settings:{uses:"settings"}}};function c(e,t,n){var r;var a;var o;var s=null;if(e.ref===t)return e;if(i["a"].isHierarchical(e)){r=Object.keys(e.items);for(o=0;o<r.length;++o){a=e.items[r[o]];if(a.ref===t){s=a;break}if(n){s=c(a,t,n);if(null!==s)break}}}return s}function u(e,t,n){var s;var c;var d;n=n||r["a"];e||(e=l);if(t&&o[t])return o[t];var f;while(e.uses){d=i["a"].getValue(n,e.uses);if(!d)throw new Error("No defaults found for: ".concat(e.uses));f=d.uses;e=a["a"].extend(true,{},d,e);if(!f){delete e.uses;break}e.uses=f}if(i["a"].isHierarchical(e)||"array"===e.type&&e.items){c={};Object.keys(e.items).forEach((function(t){e.items[t]&&(c[t]=u(e.items[t],null,n))}));s=a["a"].extend({},e,{items:c})}else s=a["a"].extend({},e);t&&!o[t]&&(o[t]=s);return s}function d(e,t,n){var r=u(e,n);if(t)return a["a"].extend(true,i["a"].getDefaults(r),t);return i["a"].getDefaults(r)}function f(e){function t(e){var n={};function r(e){return-1!==e.search(/\.\d/g)}function a(e){var t={type:e.type,defaultValue:i["a"].getDefaultValue(e.type,e)};e.maxlength&&(t.maxlength=e.maxlength);e.min&&(t.min=e.min);e.max&&(t.max=e.max);e.expression&&(t.expression=e.expression);e.options&&"boolean"!==e.type&&(t.enum=e.options.map((function(e){return e.value})));return t}function o(e){var s;var l;var c;var u;var d;var f;if(i["a"].isHierarchical(e)){s=Object.keys(e.items);for(d=0;d<s.length;d++){l=s[d];c=e.items[l];o(c)}}else if(e.ref&&"array"===e.type&&e.items){u=t({type:"items",items:e.items});f={type:"array",items:u};r(e.ref)||i["a"].setValue(n,e.ref,f)}else if(e.ref){f=a(e);r(e.ref)||i["a"].setValue(n,e.ref,f)}}o(e);return n}return t(e)}function p(e){var t=[];function n(e){var r;var a;var o;if(i["a"].isHierarchical(e)){r=Object.keys(e.items);for(o=0;o<r.length;++o){a=e.items[r[o]];a.snapshot&&t.push(a);n(a)}}}n(e);return t}function h(e,t){if(t&&s[t])return s[t];var n=[];function r(e){e.globalChange&&n.push(e.globalChange);"items"!==e.type&&"array"!==e.type||!e.items||Object.keys(e.items).forEach((function(t){e.items[t]&&r(e.items[t])}))}r(e);t&&!s[t]&&(s[t]=n);return n}t["a"]={findDefinition:c,findSnapshotProperties:p,findGlobalListeners:h,mapDefinition:u,mapProperties:d,getPropertyHierarchy:f}},"/99t":function(e,t,n){"use strict";var r=n("Fcif");var i=/\s*,\s*/g;var a=/&/g;var o=/\$([\w-]+)/g;function s(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);if(i){i=i;return i.selector}void 0;return r}}function t(e,t){var n=t.split(i);var r=e.split(i);var o="";for(var s=0;s<n.length;s++){var l=n[s];for(var c=0;c<r.length;c++){var u=r[c];o&&(o+=", ");o+=-1!==u.indexOf("&")?u.replace(a,l):l+" "+u}}return o}function n(e,t,n){if(n)return Object(r["a"])({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var a=Object(r["a"])({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});delete a.name;return a}function s(i,a,s){if("style"!==a.type)return i;var l=a;var c=l.options.parent;var u;var d;for(var f in i){var p=-1!==f.indexOf("&");var h="@"===f[0];if(!p&&!h)continue;u=n(l,c,u);if(p){var v=t(f,l.selector);d||(d=e(c,s));v=v.replace(o,d);c.addRule(v,i[f],Object(r["a"])({},u,{selector:v}))}else h&&c.addRule(f,{},u).addRule(l.key,i[f],{selector:l.selector});delete i[f]}return i}return{onProcessStyle:s}}t["a"]=s},"/Qpb":function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("Umg0");var o=n.n(a);function s(e,t){var n=a["LoadModelAssociations"].getAssociationNames(e,t);var r={};n.forEach((function(n){var i=a["LoadModelAssociations"].getAssociation(e,n);var o=null;var s=[];i.nodes.forEach((function(e){t.data.id===e.tableId?o=e:s.push(e)}));r[o.fieldId]||(r[o.fieldId]=[]);s.forEach((function(e){var t={table:e.table,field:e.field.name,tableId:e.tableId,fieldId:e.fieldId,association:n};r[o.fieldId].push(t)}))}));return r}function l(e,t,n){var r=[];var i=a["LoadModelAssociations"].getAssociationNamesBetween(e,t,null,n,null);i.forEach((function(i){var o=a["LoadModelAssociations"].getAssociation(e,i);var s;var l;o.nodes.forEach((function(e){e.table.data.id===t.data.id&&(s=e);e.table.data.id===n.data.id&&(l=e)}));var c={table1:t,field1:s.field.name,tableId1:t.data.id,fieldId1:s.fieldId,table2:n,field2:l.field.name,tableId2:n.data.id,fieldId2:l.fieldId,association:i};r.push(c)}));return r}function c(e,t){var n;var r;var i;var o;var s;var l=1===t.key1.length&&t.key1[0].fieldId;var c=1===t.key2.length&&t.key2[0].fieldId;l&&(i=t.table1.getField(t.key1[0].fieldId).name);c&&(o=t.table2.getField(t.key2[0].fieldId).name);if(l&&c){var d=a["LoadModelAssociations"].getAssociationNamesBetween(e,t.table1,i,t.table2,o);if(1===d.length){var f=d[0];s=a["LoadModelAssociations"].getAssociationNamesBetween(e,t.table1,null,t.table2,null);s.forEach((function(n){n!==f&&a["LoadModelAssociations"].removeFromAssociation(e,n,t.table1,null)}));a["LoadModelAssociations"].renameAssociation(e,f,t.name);return}}s=a["LoadModelAssociations"].getAssociationNamesBetween(e,t.table1,null,t.table2,null);s.forEach((function(n){a["LoadModelAssociations"].removeFromAssociation(e,n,t.table1,null);n===t.name&&a["LoadModelAssociations"].removeFromAssociation(e,n,t.table2,null)}));if(!l){var p=t.table1;n=u(e,p,t.key1);i=p.generateUniqueFieldName(a["LoadModelAssociations"].getFieldQualifiedName(p.data.name,t.name));p.createCalculatedField(i,n)}if(!c){var h=t.table2;r=u(e,h,t.key2);o=h.generateUniqueFieldName(a["LoadModelAssociations"].getFieldQualifiedName(h.data.name,t.name));h.createCalculatedField(o,r)}a["LoadModelAssociations"].addAssociationBetween(e,t.table1,i,t.table2,o,t.name)}function u(e,t,n){var r="";n.forEach((function(e,n){n>0&&""!==r&&(r+="&");if(e.fieldId){var i=t.getField(e.fieldId);i&&"QueryExpressionField"===i.type?r+="(".concat(i.expression,")"):i&&i.type&&(r+="{{".concat(e.fieldId,"}}"))}e.delimiter&&(r+="'".concat(e.delimiter,"'"))}));return r}function d(e,t){var n="";if(1===t.key1.length&&t.key1[0].fieldId&&1===t.key2.length&&t.key2[0].fieldId){var r=t.table1.getField(t.key1[0].fieldId);var i=t.table2.getField(t.key2[0].fieldId);if(r&&i)return a["LoadModelAssociations"].generateAssociationName(e,t.table1,r.name,t.table2,i.name)}t.key1.forEach((function(e){if(e.fieldId){var r=t.table1.getField(e.fieldId);if(r){n.length>0&&(n+="-");n+=r.name}}}));t.key2.forEach((function(e){if(e.fieldId){var r=t.table2.getField(e.fieldId);if(r){n.length>0&&(n+="-");n+=r.name}}}));return a["LoadModelAssociations"].cleanUpKey(n)}function f(e,t,n,r,i){var o=t.getField(n);if(!o)return;var s=a["LoadModelAssociations"].getAssociationNamesBetween(e,t,o.name,r,null);s.forEach((function(n){i&&i!==n||a["LoadModelAssociations"].removeFromAssociation(e,n,t,null)}))}function p(e,t){return i.a.find(e.getFields(),(function(e){return e.name===t}))}t["a"]={getAssociationsForTable:s,getAssociationsBetweenTables:l,getDefaultAssociationName:d,setAssociation:c,breakAssociation:f,getTargetFieldByName:p}},"/Zhp":function(e,t,n){"use strict";var r={};Object.defineProperties(r,{ENTER_BEFORE:{value:0},ENTER_AFTER:{value:1},ENTER_SWAP:{value:2},TYPEFLAG_PLACEHOLDER:{value:16},TYPEFLAG_LOCKED:{value:32}});t["a"]=r},"/Zwk":function(e,t,n){"use strict";t["a"]={getDuration:r};function r(e){var t=3e3;var n=7e3;var r=3e4;var i=e*t;return Math.max(n,Math.min(i,r))}},"/crU":function(e,t,n){"use strict";var r=n("sWge");var i=n("PX8M");var a=n("9Ggg");var o={PROGRESS_EVENT:"progress"};var s=o;var l=n("hw1Z");var c=n("u/FM");var u=n("wSFN");function d(){var e;var t=false;var n=false;function r(t){if(!e){e=t;u["default"].registerInvalidationFn(o)}}function i(){e&&u["default"].unregisterInvalidationFn(o);e=null}function a(){t=false;if(n){n=false;o()}}function o(){if(e){if(t){n=true;return}t=true;e().then(a,a)}}return{register:r,unregister:i}}var f={createLoadModelInvalidationQueue:d};var p=n("hzxK");function h(e,t,n,r){function i(e,t){var n=[];for(var r=0;r<e.length;r++)if(t&&t.col&&e[r].qDef.qFieldLabels[0]===t.col){n.unshift(r);e[r].qDef.qReverseSort=t.reversed}else n.push(r);var i={qInfo:{qType:"table"},qMetaDef:{},qHyperCubeDef:{qDimensions:e,qMeasures:[],columnWidths:e.map((function(){return-1})),qInterColumnSortOrder:n,qSuppressMissing:true,qInitialDataFetch:[],qReductionMode:"N",qMode:"S",qPseudoDimPos:-1,qNoOfLeftDims:-1,qMaxStackedCells:5e3,columnOrder:e.map((function(e,t){return t})),qLayoutExclude:{qHyperCubeDef:{qDimensions:[],qMeasures:[]}}},showTitles:false,title:"",subtitle:"",footnote:"",totals:{show:false,position:"noTotals",label:"Totals"},visualization:"table"};return i}var a=t.data.name;return n(a).then((function(n){return e.sessionSend({handle:-1,method:"createScratchAppSessionObject",params:[i(p["a"].getDimensions(t,n.fieldNameMapping),r)]}).then((function(e){return{genObj:e,tableId:t.data.id}}),(function(e){console.error(e)}))}))}var v={getPreview:h};var m=n("acVu");function g(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){g(a,r,i,o,s,"next",e)}function s(e){g(a,r,i,o,s,"throw",e)}o(void 0)}))}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function S(e,t,n){t&&w(e.prototype,t);n&&w(e,n);return e}var x=function(){function e(){var t=this;y(this,e);this.invalidationHandlers=[];this.lastInvalidationHandlers=[];this.middleInvalidationHandlers=[];this.firstInvalidationHandlers=[];this.tablesRefreshedHandlers=[];this.clearCache();this.events=s;this.dataPrepProcessor=new c["a"];this.isDataManagerInitialized=false;this.useDataPrepRestApi=Object(m["b"])("DATAPREP_REST");var n=f.createLoadModelInvalidationQueue();n.register((function(){return t.invalidate(true)}));this.invalidationPriorityLevel={HIGH_PRIORITY:1,NORMAL_PRIORITY:2,LOW_PRIORITY:3}}S(e,[{key:"initialize",value:function e(){this.isDataManagerInitialized=true}},{key:"registerInvalidationHandler",value:function e(t,n){switch(n){case this.invalidationPriorityLevel.HIGH_PRIORITY:this.firstInvalidationHandlers.push(t);break;case this.invalidationPriorityLevel.LOW_PRIORITY:this.lastInvalidationHandlers.push(t);break;default:this.middleInvalidationHandlers.push(t)}}},{key:"unregisterInvalidationHandler",value:function e(t){var n=this.invalidationHandlers.indexOf(t);n>=0&&this.invalidationHandlers.splice(n,1)}},{key:"invalidate",value:function e(t){var n=this;t&&this.clearCache();if(this.isDataManagerInitialized)return this.getAllTargetTables().then(b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return Promise.all(n.firstInvalidationHandlers.map((function(e){if(e)return e();return r["a"].resolve()})));case 2:t.next=4;return Promise.all(n.middleInvalidationHandlers.map((function(e){if(e)return e();return r["a"].resolve()})));case 4:t.next=6;return Promise.all(n.lastInvalidationHandlers.map((function(e){if(e)return e();return r["a"].resolve()})));case 6:case"end":return t.stop()}}),e)}))));return r["a"].resolve()}},{key:"registerTablesRefreshedHandler",value:function e(t){this.tablesRefreshedHandlers.push(t)}},{key:"unregisterTablesRefreshedHandler",value:function e(t){var n=this.tablesRefreshedHandlers.indexOf(t);n>=0&&this.tablesRefreshedHandlers.splice(n,1)}},{key:"tablesRefreshed",value:function e(t,n){var i=[];this.tablesRefreshedHandlers.forEach((function(e){e&&i.push(e(t,n))}));return r["a"].all(i)}},{key:"clearCache",value:function e(){this.noDataDeferred=null;this.getAllTargetTablesDeferred=null;this.getAllRecommendationsDeferred=null}},{key:"getLoadModel",value:function e(t){return l["a"].get(t).then((function(e){return e.loadModel}))}},{key:"getDataPrepApp",value:function e(){return l["a"].get().then((function(e){return e.dps.app}))}},{key:"subscribe",value:function e(t,n){return l["a"].get().then((function(e){e.subscribe(t,n)}))}},{key:"unsubscribe",value:function e(t,n){return l["a"].get().then((function(e){e.unsubscribe(t,n)}))}},{key:"updateLoadModel",value:function e(t){return u["default"].updateProperties(t.serialize())}},{key:"updateTablesFromSource",value:function e(t,n){var r=this;return l["a"].get().then((function(e){return e.updateSources(t,n)})).then((function(e){e.success?r.tablesRefreshed(n,true):r.invalidate(true).then((function(){r.tablesRefreshed(n,true)}));return e}))}},{key:"refreshTables",value:function e(t){var n=this;var r=this.useDataPrepRestApi;return l["a"].get().then((function(e){if(r)return e.getRestService().then((function(t){return t.getProgress().then((function(){return e}))}));return e})).then((function(e){return e.updateSources(e.loadModel,t)})).then((function(e){e.success&&n.tablesRefreshed(t,false);return e}))}},{key:"getNoDataFlag",value:function e(){if(!this.noDataDeferred){var t=new r["a"];this.noDataDeferred=t;i["a"].getApp().then((function(e){e.getLayout().then((function(e){var n=e.qIsOpenedWithoutData||a["a"].isSuffixInUse("noData");t.resolve(n);return n}))}))}return this.noDataDeferred.promise}},{key:"convertScriptedToManaged",value:function e(){return l["a"].get().then((function(e){return e.getRestService().then((function(e){return e.synchronizeScriptedTables([],true).then((function(){}))}))}))}},{key:"getAllTargetTables",value:function e(t){var n=this;if(!this.getAllTargetTablesDeferred||t){var i=new r["a"];this.getAllTargetTablesDeferred=i;var a=this.useDataPrepRestApi;var o=this.dataPrepProcessor;this.getNoDataFlag().then((function(e){return l["a"].get().then((function(r){if(r.loadModel&&r.loadModel.tableModels&&r.loadModel.tableModels.length>0||t){if(a)return r.getRestService().then((function(a){return a.getTargetTables(t,e).then((function(e){n.forceReload=false;var t=o.processTargetTablesResponse(e,r.loadModel);i.resolve(t)}))}));return r.getTargetTables(t,e).then((function(e){n.forceReload=false;i.resolve(e)}))}i.resolve({tables:[]});return}))})).catch((function(e){i.reject(e)}))}return this.getAllTargetTablesDeferred.promise}},{key:"warmUpDPS",value:function e(){if(!this.getAllTargetTablesDeferred){var t=new r["a"];this.getAllTargetTablesDeferred=t;this.getNoDataFlag().then((function(e){return l["a"].get().then((function(n){return n.warmUpDPS(e).then((function(e){t.resolve(e)}))})).catch((function(e){t.reject(e)}))})).catch((function(e){t.reject(e)}))}return this.getAllTargetTablesDeferred.promise}},{key:"getAllRecommendations",value:function e(){if(!this.getAllRecommendationsDeferred){var t=new r["a"];this.getAllRecommendationsDeferred=t;var n=this.useDataPrepRestApi;var i=this.dataPrepProcessor;l["a"].get().then((function(e){if(n)return e.getRestService().then((function(e){return e.getRecommendations().then((function(e){var n=.5;var r={result:e};var a=i.processGetRecommendationsResponse(r,n);t.resolve(a)}))}));e.getRecommendations(void 0,true).then((function(e){t.resolve(e)}));return}))}return this.getAllRecommendationsDeferred.promise}},{key:"getRecommendationsForTable",value:function e(t){var n=this.useDataPrepRestApi;var r=this.dataPrepProcessor;return l["a"].get().then((function(e){if(n){var i=e.loadModel.getTargetTableModel(t);return e.getRestService().then((function(e){return e.getTableRecommendations(i.getId()).then((function(e){var t=0;var n={result:e};var i=r.processGetRecommendationsResponse(n,t);return i}))}))}return e.getRecommendations(t,true)}))}},{key:"getAndApplyClassificationData",value:function e(t,n){return l["a"].get().then((function(e){return e.getAndApplyClassificationData(t,n)}))}},{key:"getTargetTablePreview",value:function e(t,n){var r=this.useDataPrepRestApi;return l["a"].get().then((function(e){if(r){var i=e.loadModel.getTargetTableModel(t);return e.getRestService().then((function(e){return e.getTargetTablePreview(i.getId())}))}return e.getTargetTablePreview(t,n)}))}},{key:"getTableFields",value:function e(t){var n=this.useDataPrepRestApi;return l["a"].get().then((function(e){if(n){var r=e.loadModel.getTargetTableModel(t);return e.getRestService().then((function(e){return e.getTableFields(r.getId()).then((function(e){var t={fieldNameMapping:{}};e&&e.fieldNameMappings&&e.fieldNameMappings.forEach((function(e){t.fieldNameMapping[e.caption]={expression:e.expression,internalName:e.internalName}}));return t}))}))}return e.getTableFields(t)}))}},{key:"getStraightTablePreview",value:function e(t,n,r){var i=this;return l["a"].get().then((function(e){return v.getPreview(e.dps,t.getTargetTableModelById(n),i.getTableFields.bind(i),r).then((function(e){return e}))}))}},{key:"getLoadScript",value:function e(t,n){var r=this.useDataPrepRestApi;return l["a"].get().then((function(e){if(r)return e.getRestService().then((function(e){return e.getLoadScript()}));return e.getLoadScript(t,n)}))}},{key:"generateLoadScript",value:function e(t,n,r){var i=this.useDataPrepRestApi;return l["a"].get().then((function(e){if(i)return e.getRestService().then((function(e){return e.getLoadScript(r)}));return e.getLoadScript(t,n,r)}))}},{key:"bucketField",value:function e(t,n,r){return l["a"].get().then((function(e){return e.getRestService().then((function(e){return e.bucketField(t,n,r)}))}))}},{key:"applyOrdinal",value:function e(t,n,r){return l["a"].get().then((function(e){return e.getRestService().then((function(e){return e.applyOrdinal(t,n,r)}))}))}},{key:"applyFieldMapping",value:function e(t,n,r){return l["a"].get().then((function(e){return e.getRestService().then((function(e){return e.applyFieldMapping(t,n,r)}))}))}},{key:"applyFieldSplit",value:function e(t,n,r){return l["a"].get().then((function(e){return e.getRestService().then((function(e){return e.splitField(t,n,r)}))}))}},{key:"joinQueries",value:function e(t,n,r,i){return l["a"].get().then((function(e){return e.getRestService().then((function(e){return e.createJoinedQuery(t,n,r,i)}))}))}},{key:"splitQuery",value:function e(t,n){return l["a"].get().then((function(e){return e.getRestService().then((function(e){e.splitQuery(t,n)}))}))}},{key:"forceConcatenatedQuery",value:function e(t,n,r){return l["a"].get().then((function(e){return e.getRestService().then((function(e){e.createConcatenatedQuery(t,n,r)}))}))}},{key:"getForcedConcatRecommendations",value:function e(t){return l["a"].get().then((function(e){return e.getRestService().then((function(e){return e.getForcedConcatRecommendations(t)}))}))}},{key:"getVisRecommendations",value:function e(t,n){return l["a"].get().then((function(e){return e.getRestService().then((function(e){var r={table:t,fields:n};return e.getVisRecommendations(r)}))}))}},{key:"adaptVisualization",value:function e(t,n,r,i){return l["a"].get().then((function(e){return e.getRestService().then((function(e){return e.adaptVisualization("update",t,n,r,i,[])}))}))}},{key:"sendGenericCommand",value:function e(t){return l["a"].get().then((function(e){return e.dps.session.send(t)}))}}]);return e}();var C=t["a"]=new x},"/irJ":function(e,t,n){"use strict";var r=n("9Ggg");var i=n("ClzF");var a=n("4nJ1");var o={getUrlForHub:function e(){return r["a"].buildHubUrl().replace("/noData/true","")},getUrlForHubPersonalSpace:function e(){return r["a"].buildUrl(true,"explore","spaces","personal").replace(/\/hubUrl\/.*/,"")},getUrlForHubAlerting:function e(){return r["a"].buildUrl(true,"settings","alerts").replace(/\/hubUrl\/.*/,"")},getUrlForSheet:function e(t,n,o){var s=a["a"].getParameterByName("app");n||(n=i["a"].analysis(s).state||"analysis");if(o)return r["a"].buildUrl(true,"sense","app",s,"sheet",t,"state",n,"overlay",o);return r["a"].buildUrl(true,"sense","app",s,"sheet",t,"state",n)},getUrlForInsights:function e(){var t;var n;a["a"].getParameterByName("first-time")&&(t=true);a["a"].getParameterByName("query")&&(n=a["a"].getParameterByName("query"));var i=a["a"].getParameterByName("app");if(t&&!n)return r["a"].buildUrl(true,"sense","app",i,"insightadvisor",t&&"first-time",t&&true);if(t&&n)return r["a"].buildUrl(true,"sense","app",i,"insightadvisor",n&&"query",n&&n,t&&"first-time",t&&true);if(n)return r["a"].buildUrl(true,"sense","app",i,"insightadvisor",n&&"query",n&&n);return r["a"].buildUrl(true,"sense","app",i,"insightadvisor")},getUrlForStory:function e(t,n,o){var s=a["a"].getParameterByName("app");"undefined"===typeof n&&(n=i["a"].story(s).state||"editstory");if(o)return r["a"].buildUrl(true,"sense","app",s,"story",t,"state",n,"slide",o);return r["a"].buildUrl(true,"sense","app",s,"story",t,"state",n)},getUrlForOverview:function e(){var t=a["a"].getParameterByName("app");return r["a"].buildUrl(true,"sense","app",t,"overview")},getUrlForHome:function e(){var t=a["a"].getParameterByName("app");return r["a"].buildUrl(true,"sense","app",t)},getUrlForDataModelViewer:function e(){var t=a["a"].getParameterByName("app");return r["a"].buildUrl(true,"datamodelviewer","app",t)},getUrlForDataLoadEditor:function e(){var t=a["a"].getParameterByName("app");return r["a"].buildUrl(true,"dataloadeditor","app",t)},getUrlForDataManager:function e(){var t=a["a"].getParameterByName("app");return r["a"].buildUrl(true,"sense","app",t,"datamanager","datamanager")},getUrlForBusinessModel:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var n=a["a"].getParameterByName("app");return r["a"].buildUrl(true,"sense","app",n,"businesslogic",t)},getUrlForBusinessModelSettings:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vocabulary";var n=a["a"].getParameterByName("app");return r["a"].buildUrl(true,"sense","app",n,"businesslogic","vocabulary",t)},goToHub:function e(){r["a"].setUrl(o.getUrlForHub(),false,false,true)},goToOverview:function e(){r["a"].setUrl(o.getUrlForOverview())},goToHome:function e(){r["a"].setUrl(o.getUrlForHome())},goToDataManager:function e(){r["a"].setUrl(o.getUrlForDataManager())},goToDataModelViewer:function e(){r["a"].setUrl(o.getUrlForDataModelViewer())},goToDataLoadEditor:function e(){r["a"].setUrl(o.getUrlForDataLoadEditor())},goToSheet:function e(t,n,i){n="play"===n?"analysis":n;r["a"].setUrl(o.getUrlForSheet(t,n,i))},goToInsightAdvisor:function e(){r["a"].setUrl(o.getUrlForInsights())},goToStory:function e(t,n,i){r["a"].setUrl(o.getUrlForStory(t,n,i))},goToBusinessModel:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r["a"].setUrl(o.getUrlForBusinessModel(t))},goToBusinessModelSettings:function e(t){r["a"].setUrl(o.getUrlForBusinessModelSettings(t))}};t["a"]=o},"/sKS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(e){a(t,e);function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.message));o.originalRequest=a;o.causingError=n;var s=e.message;null!=n&&(s+=", caused by "+n.toString());null!=a&&(s+=", originated from request (response code: "+a.status+", response text: "+a.responseText+")");o.message=s;return o}return t}(Error);t.default=o},"/uMw":function(e,t,n){"use strict";var r=n("MGTR");t["a"]={sendSelectedChartChangeEvent:function e(){r["a"].publish("cao/insight/selectedChartChanged",this.selectedChart)},getSelectedChart:function e(){return this.selectedChart},selectChart:function e(t){this.selectedChart=t;this.sendSelectedChartChangeEvent()},clearSelection:function e(){if(this.selectedChart){this.selectedChart=void 0;this.sendSelectedChartChangeEvent()}},setRecommendationResponse:function e(t){this.chartResponse=t},variableUpdated:function e(){this._updateAppRecommendations()},escapeVariableName:function e(t){var n;return null!==(n=null===t||void 0===t?void 0:t.replace(/\s/g,""))&&void 0!==n?n:""},escapeSetExprCondition:function e(t){return t.replace(/'/g,"''")},escapeConstraintValue:function e(t){return"string"===typeof t?this.escapeSetExprCondition(t):t},generateSetExpressionMacroValues:function e(t){var n="=";for(var r=0;r<t.length;++r){0!==r&&(n="".concat(n,"&','&"));n="".concat(n,"chr(39)&'").concat(this.escapeConstraintValue(t[r]),"'&chr(39)")}return n},_updateAppRecommendations:function e(){var t=this;this.chartResponse.insights.recommendations.forEach((function(e){var n=e.chart.visualization.visualization.matchRecord;n.constraints&&n.constraints.forEach((function(e){if(e.cond&&2===e.cond.length&&(e.variable||"string"===typeof e.cond[1]&&-1!==e.cond[1].indexOf("vCRE_"))){var n="vCRE_".concat(t.escapeVariableName(e.field));e.variable||(e.variable=n)}}));n.matches.forEach((function(e){if(e.cond&&2===e.cond.length&&(e.variable||"string"===typeof e.cond[1]&&-1!==e.cond[1].indexOf("vCRE_"))){var n="vCRE_".concat(t.escapeVariableName(e.field));e.variable||(e.variable=n)}}))}))},updateSelectionVariables:function e(){return this._updateAppRecommendations()}}},"/zAH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=function(){function e(e){this.inlineTable=e}return e.prototype.setData=function(e){this.inlineTable.data.loadStatementModel.data=e,this.inlineTable.data.state="modified"},e.prototype.getData=function(){return this.inlineTable.data.loadStatementModel.data},e.prototype.updateInlineTable=function(e,t){var n=this;this.setData(t);var i=this.inlineTable.data.fields;this.inlineTable.data.fields=[],e.forEach((function(e,t){if(e.id){var a=r.findWhere(i,{id:e.id});a?(a.name=e.name,a.alias=e.name,n.inlineTable.data.fields.push(a)):n.inlineTable.addField(e.name,t,!0)}else n.inlineTable.addField(e.name,t,!0)})),this.inlineTable.data.state="modified"},e}();t.InlineTableOperations=i},"0/MV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=n("yB4Y"),a=n("PKzm"),o=function(){function e(e){this.targetTable=e}return e.isInlineTransformation=function(e){return["ignoreValues","defineOrder","mapValues","interpretValues"].indexOf(e)>=0},e.isNewFieldTransformation=function(e){return["lookupGeoInfo","bucketed","makeGeoPoint","fieldSplit"].indexOf(e)>=0},e.prototype.findFieldsWithRecommendedTransformation=function(e){var t=r.filter(this.targetTable.getFields(),(function(t){return t.type===i.DSMTypes.QueryField.name&&void 0!==t.transformations&&void 0!==r.findWhere(t.transformations,{op:e})}));return t},e.prototype.findFieldsWithRecommendedCountryLookupTR=function(){var e=this.findFieldsWithRecommendedTransformation(i.DSMTypes.Transformations.lookupGeoInfo);return r.filter(e,(function(e){var t=r.findWhere(e.transformations,{op:"lookupGeoInfo"});return["countryCodeISO3","countryCodeISO2","countryAlias"].indexOf(t.arguments.geoType)>=0}))},e.prototype.findCorrespondingTransformedField=function(e,t){var n=r.find(this.targetTable.getFields(),(function(n){return n.type===i.DSMTypes.QueryTransformField.name&&void 0!==n.transformations&&void 0!==r.findWhere(n.transformations,{op:t,appliedTo:e})}));return n},e.prototype.canBeBasedOn=function(t,n,r){var i=!!r&&e.isInlineTransformation(r);if(t===n&&!i)return!1;var a=[];return this.collectBasedOns(this.targetTable.getField(n),a),a.indexOf(t)<0},e.prototype.validateBasedOnDependencies=function(){var e=this;this.targetTable.getFields().forEach((function(t){if(t.type===i.DSMTypes.QueryExpressionField.name||t.type===i.DSMTypes.QueryTransformField.name){var n=[];if(e.collectBasedOns(t,n),n.indexOf(t.id)>=0)throw new a.InvalidLoadModelException(t.name+" has circular field dependency!")}}))},e.prototype.getBasedOns=function(e){var t=[];return this.collectBasedOns(this.targetTable.getField(e),t),t},e.prototype.getAllReferences=function(e){var t=[];return this.collectBasedOns(e,t),t},e.prototype.collectBasedOns=function(t,n){var i=this;if(t.expression)for(var a=t.expression.split(e.gExpressionRegEx),o=2;o<a.length;o+=4){var s=this.targetTable.getField(a[o]);s&&n.indexOf(a[o])<0&&(n.push(s.id),this.collectBasedOns(s,n))}t.transformations&&t.transformations.forEach((function(a){var o=e.isInlineTransformation(a.op),s=e.isNewFieldTransformation(a.op),l=[];r.isArray(a.appliedTo)?a.appliedTo.forEach((function(e){(e!==t.id||!o&&!s)&&l.push(e)})):(a.appliedTo!==t.id||!o&&!s)&&l.push(a.appliedTo),l.forEach((function(e){var t=i.targetTable.getField(e);t&&n.indexOf(e)<0&&(n.push(t.id),i.collectBasedOns(t,n))}))}))},e}();o.gExpressionRegEx=new RegExp("({{)(\\S\\s*[^}}]*)(}})","g"),t.LoadModelUtils=o},"00lr":function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));n.d(t,"a",(function(){return h}));n.d(t,"c",(function(){return m}));var r=n("/2No");var i=n("TsGx");function a(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function s(){return Promise.all([n.e(0),n.e(5),n.e(7),n.e(8),n.e(11),n.e(10),n.e(9),n.e(51)]).then(n.bind(null,"Z2wE"))}function l(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(3),n.e(4),n.e(5),n.e(7),n.e(8),n.e(11),n.e(10),n.e(9),n.e(13),n.e(17),n.e(15),n.e(16),n.e(14),n.e(19),n.e(55)]).then(n.bind(null,"zAZv"))}function c(){return Promise.all([n.e(0),n.e(5),n.e(7),n.e(8),n.e(11),n.e(10),n.e(9),n.e(13),n.e(17),n.e(15),n.e(52)]).then(n.bind(null,"oVoy"))}var u=false;function d(){if(u)return;window.requirejs.config.call(null,{paths:{text:"".concat(r["a"].staticResourcesPath,"assets/external/requirejs/text"),css:"".concat(r["a"].staticResourcesPath,"assets/external/requirejs/css")}});u=true}function f(){return p.apply(this,arguments)}function p(){p=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:d();t.next=3;return s();case 3:t.next=5;return l();case 5:case"end":return t.stop()}}),e)})));return p.apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){v=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:d();t.next=3;return s();case 3:t.next=5;return c();case 5:case"end":return t.stop()}}),e)})));return v.apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){g=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return s();case 2:t.next=4;return l();case 4:case"end":return t.stop()}}),e)})));return g.apply(this,arguments)}},"0942":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},"0GN8":function(e,t,n){"use strict";function r(e){return e.replace(/^=+/,"")}function i(e,t){a(e,t);e.description?e.validity.description=e.description.length<=t.description:e.validity.description=true;return e.validity.name&&e.validity.description}function a(e,t){e.validity.name=!!e.name&&!!e.name.trim()&&e.name.length<=t.name;return e.validity.name}function o(e,t){var n=e.expression;var i="string"===typeof n&&n.trim().length>0&&n.length<=t.expression;n&&(e.expression=r(n));e.validity.expression=i;return i}function s(e){var t=e.selectedFields;var n=false;if(!t)return false;"single"===e.type?n=1===t.length:"drilldown"===e.type&&(n=t.length>1);e.validity.selectedFields=n;return n}t["a"]={validateMetadata:i,validateMetadataName:a,validateExpr:o,validateFieldsInDimension:s}},"0RAe":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("sWge");var o=n("Qx6/");var s=n("mWu2");function l(e){e=e.replace(/\$/g,"[dollar]");e=e.replace(/\\/g,"[slash]");return e}function c(e){e=e.replace(/\[dollar\]/g,"$");e=e.replace(/\[slash\]/g,"\\");return e}function u(e){return e}function d(e){e=e.replace(/'/g,"\\'");e=e.replace(/"/g,'\\"');var t=i()("div[name='".concat(e,"']"));if(1!==t.length)throw new Error('Could not find the table "'.concat(e,'".'));return t}function f(){var e=i()("div[table]");return e}function p(e,t){var n=d(e).find("li[data-name='".concat(t.replace(/'/g,"\\'"),"']"));if(1!==n.length)throw new Error('Could not find the field "'.concat(t,'" in the table "').concat(e,'".'));return n}function h(e){return e.find("h1")}function v(e){var t=d(e);return h(t)}function m(e){return h(e).outerHeight()}function g(e){var t=d(e);return m(t)}function b(e,t){return t-o["a"].OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM-g(e)}function y(e){return d(e).height()}function w(e){return e.width()}function S(e){var t=d(e);return w(t)}function x(e,t,n){var r=new a["a"];var i={top:t,left:n};d(e).animate(i,{duration:750,complete:function e(){return r.resolve()}});return r.promise}function C(e){var t=y(e)-g(e)-o["a"].OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM;d(e).find("ul").height(t);return a["a"].resolve()}function q(e){var t=d(e);var n=parseInt(t.css("top"),10);return n}function E(e){return e.height()}function I(e){var t=d(e);var n=parseInt(t.css("left"),10);return n}function k(e){var t=i()(".table-container");t.css("opacity",e)}function A(){i()("svg.dmv").fadeIn(750)}function T(){var e=new a["a"];i()("svg.dmv").fadeOut(750,(function(){return e.resolve()}));return e.promise}function D(e){var t=s["default"].getService("qvLoader");function n(){var n=e?"DataModelViewer.ReloadInProgress":"DataModelViewer.RefreshingDataModel";var r={messageObj:{task:n},transparentBackground:true};t.show(r)}if(void 0===e)throw new Error("Reloading is undefined.");t.isOpen()?t.close().then(n):n()}function O(){var e=s["default"].getService("qvLoader");e.close()}function L(){var e=0;var t=0;var n=0;var r=0;var a=Number.MAX_VALUE;var o=Number.MAX_VALUE;f().each((function(s,l){var c=i()(l);e=Math.max(e,parseInt(c.css("left"),10));t=Math.max(t,parseInt(c.css("top"),10));n=Math.max(n,c.width());r=Math.max(r,c.height());a=Math.min(a,parseInt(c.css("left"),10));o=Math.min(o,parseInt(c.css("top"),10))}));return{left:e,top:t,width:n,height:r,bottom:t+r,right:e+n,furthestLeft:a,furthestTop:o}}function M(e){var t=e.css("height");var n=e.find("ul").css("height");e.css("height","auto");e.find("ul").css("height","auto");var r=e.outerHeight();e.css("height",t);e.find("ul").css("height",n);return r}function P(e){var t=d(e);return M(t)}function N(e){var t=e.css("width");e.css("width","auto");var n=e.outerWidth();e.css("width",t);return n}function R(e){var t=d(e);return N(t)}function F(e){var t=Math.min(o["a"].MIN_TABLE_RESIZE_WIDTH,N(e));return t}function _(e){return m(e)}function j(e,t,n){var r=new a["a"];var i=M(d(e));var o=F(d(e));var s=N(d(e));t>i&&(t=i);n>s&&(n=s);n<o&&(n=o);var l={height:t,width:n};var c=d(e);c.animate(l,{duration:750,progress:function t(){C(e)},complete:function t(){C(e);return r.resolve()},step:function e(){c.css("overflow","visible")}});return r.promise}t["a"]={encodeTableName:l,decodeTableName:c,decodeFieldName:u,setTablePosition:x,setTableSize:j,setTableContainerElementOpacity:k,getTableWidth:w,getTableWidthByTableName:S,getTableElementHeight:E,getMaxHeightForTable:M,getMaxWidthForTable:N,getMinWidthForTable:F,getTableElement:d,getFieldElement:p,getMinHeightForTable:_,getTableHeader:v,getTableHeaderHeightByTableName:g,getULHeight:b,getTableHeightByTableName:y,getTableElementTop:q,getTableElementLeft:I,getAllTableElements:f,getHighestHeightForAllTables:L,getMaxHeightForTableByName:P,getMaxWidthForTableByName:R,updateULHeightBasedOnTableHeight:C,fadeInLines:A,fadeOutLines:T,fadeInWorkingOverlay:D,fadeOutWorkingOverlay:O}},"0SuS":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("PoH+");var l=n.n(s);var c=n("mWu2");var u=n("6uJb");var d=n("MGTR");var f=n("5Pwf");var p=n("wvr8");var h=n("CIJ1");var v=n("UjZk");var m=n("1UIw");var g=n("5SH1");var b=n("Hb6E");var y=n("wSFN");var w='<div class="uploaded-data-files" ng-class="{\'dragging-over\': draggingOver && !uploading}">\n\t<div class="file-list">\n\t\t<ul vs-repeat vs-scroll-parent=".file-list">\n\t\t\t<li class="qui-menu-item" ng-disabled="item.disabled" ng-repeat="item in uploadedFiles"\n\t\t\t\tng-class="{fileselected:( item.isFile && item.name == selectedFileName.name)}"\n\t\t\t\tng-click="onFileClicked(item)" ng-dblclick="onFileDblClick(item)" title="{{item.name}}">\n\t\t\t\t<span class="used-file-indicator" ng-class="{\'file-in-use\':item.usedInLoadModel}"\n\t\t\t\t\t  title="{{getFileInUseTitle(item)}}"></span>\n\t\t\t\t<span class="file-name-icon lui-icon lui-icon--file"></span>\n\t\t\t\t<span class="file-name">{{item.name}}</span>\n\t\t\t\t<button ng-if="canUserModifyAppStore" class="lui-fade-button" ng-click="onDeleteFileClicked(item); $event.stopPropagation();" q-title-translation="UploadedFilesFolder.DeleteFileButton.Title">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon lui-icon--bin"></span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t\x3c!-- <div class="text" q-translation="scripteditor.flatfilechooser.filetype"></div> --\x3e\n\n\t<div class="bottom">\n\t\t<lui-select class="file-type"\n\t\t\t\t\tx-model="selectedFileFilter"\n\t\t\t\t\tx-options="option.title|translate for option in fileFilters"></lui-select>\n\t\t<div ng-if="canUserModifyAppStore" class="upload-drop-zone" ng-click="selectFile()">\n\t\t\t<span class="lui-icon lui-icon--upload lui-icon--large"></span>\n\t\t\t<span class="text drag-and-drop-label" q-translation="uploadfile.selectfiledialog.draganddropfilehere"></span>\n\t\t</div>\n\t\t<div ng-if="availableSpace != null" class="store-status">\n\t\t\t<span class="text" q-translation="UploadedFilesFolder.Status.AvailableSpace, {{availableSpace}}"></span>\n\t\t</div>\n\t\t<div class="file-info" ng-show="uploading || draggingOver">\n\t\t\t<div class="overlay"></div>\n\t\t\t<div class="dragging-circle centered">\n\t\t\t\t<div class="upload-icon centered lui-icon lui-icon--upload" ng-show="draggingOver && !uploading"></div>\n\t\t\t\t<div class="text upload-progress centered" ng-show="uploading">{{uploadingProgress}}</div>\n\t\t\t</div>\n\t\t\t<div class="text upload-message centered" ng-show="draggingOver && !uploading" q-translation="uploadfile.selectfiledialog.dropfilehere"></div>\n\t\t\t<div class="text upload-message centered" ng-show="uploading">{{uploadingFileName}} ({{uploadingFileSize}})</div>\n\t\t</div>\n\t</div>\n</div>\n';var S=n("r67N");c["default"].directive("qvUploadedDataFilesView",[function(){return{restrict:"E",replace:true,template:w,scope:{uploadFolderConnection:"=",onFileSelected:"&",selectedFileName:"=",stepContext:"=",fileToUploadOnFirstLoad:"=",showFilePickerOnOpen:"=",chooseOnSingleClick:"="},controller:["$scope","$element","$timeout",function(e,t,n){e.allUploadedFiles=null;e.uploadedFiles=null;e.fileFilters=h["a"].getFileFilters();e.selectedFileFilter=e.fileFilters[0];e.uploading=false;e.draggingOver=false;e.uploadingFileName=null;e.uploadingFileSize=null;e.uplodingProgress=0;e.canUserModifyAppStore=false;e.availableSpace=null;g["a"].canUserModifyAppStore().then((function(t){e.canUserModifyAppStore=t}));var r=i()("body");e.$watch("uploadFolderConnection",(function(){x();a()}));e.$watch("selectedFileFilter",(function(){e.allUploadedFiles&&C(e.allUploadedFiles)}));function a(){g["a"].getAppStoreLibrary().then((function(t){t&&(e.availableSpace=g["a"].getFormattedAvailableSpace(t.qMeta.remainingLibrarySpace))}))}var s=y["default"].getLoadModel((function(){})).then((function(e){return e.serialize()}));function w(e){return s.then((function(t){var n={};t&&t.tables&&t.connectionMetaDataModels&&t.tables.filter((function(e){return"load-file"===e.boxType&&g["a"].isUploadFolderConnection(t.connectionMetaDataModels[e.dataconnectorName])})).forEach((function(e){n[e.databaseName.toLowerCase()]=true}));e.forEach((function(e){e.usedInLoadModel=!!n[e.name.toLowerCase()]}))}))}function x(){e.uploadFolderConnection&&f["a"].currentApp.getFolderItemsForConnection({qConnectionId:e.uploadFolderConnection.id}).then((function(t){e.allUploadedFiles=t.qFolderItems;C(e.allUploadedFiles)}),(function(t){e.allUploadedFiles=null;q(t)}))}function C(t){var n=v["a"].postProcessDirectoryListing("",t,e.selectedFileFilter.regexps).filter((function(e){return e.isFile}));w(n).then((function(){e.uploadedFiles=n}))}function q(t){e.uploadedFiles=null;t.isHandled=true}var E=null;function I(e){var t=e.dataTransfer||e.originalEvent&&e.originalEvent.dataTransfer;var n=e.target.files||t.files;return n?n[0]:null}function k(t){t.stopPropagation();t.preventDefault();if(E){n.cancel(E);E=null}e.$apply((function(){e.draggingOver=true}))}function A(t){t.stopPropagation();t.preventDefault();if(t.relatedTarget)return;E&&n.cancel(E);E=n((function(){e.draggingOver=false}),100)}function T(t){t.stopPropagation();t.preventDefault();if(e.stepContext.visible){var n=I(t);e.$apply((function(){e.draggingOver=false;L(n)}))}}r.on("dragover",k);r.on("dragleave",A);r.on("drop",T);e.$on("$destroy",(function(){r.off("dragover",k);r.off("dragleave",A);r.off("drop",T)}));function D(t){var n=c["default"].defer();e.allUploadedFiles&&e.allUploadedFiles.some((function(e){return e.qName===t.name}))?S["a"].open({title:"UploadedFilesFolder.Confirm.Overwrite.Title",content:u["default"].get("UploadedFilesFolder.Confirm.Overwrite.Description",[t.name]),buttons:[{name:"Common.Cancel",callback:function e(){n.reject()}},{name:"UploadedFilesFolder.Button.Overwrite",defaultButton:true,callback:function e(){n.resolve(true)}}]}):n.resolve(true);return n.promise}function O(e){return Intl.NumberFormat(u["default"].locale,{style:"percent"}).format(e)}function L(t){if(e.uploading)return;t&&g["a"].preUploadValidateFile(t).then((function(){D(t).then((function(){g["a"].setAttachedFilesToReplace([{fileName:t.name}]);e.uploading=true;e.uploadingFileName=t.name;e.uploadingFileSize=g["a"].getFormattedFileSize(t.size);e.uploadingProgress=O(0);g["a"].uploadFile(t).then(M,P,N)}))}),P)}function M(t){x();a();e.uploadingProgress=O(1);n((function(){e.uploading=false;e.selectedFileName.name=t.name;e.onFileSelected&&e.onFileSelected({name:t.name})}),800)}function P(t){e.uploading=false;t||(t={code:500});m["a"].showDialog(t)}function N(t){e.uploadingProgress=O(t)}function R(e){var t=e&&e.usedInLoadModel?u["default"].get("UploadedFilesFolder.Confirm.DeleteUsedFile.Description",[e.name]):u["default"].get("UploadedFilesFolder.Confirm.DeleteNotUsedFile.Description",[e.name]);t=l.a.escape(t);S["a"].open({title:"UploadedFilesFolder.Confirm.Delete.Title",html:'<span style="word-wrap: break-word">'.concat(t,"</span>"),buttons:[{name:"Common.Cancel",callback:function e(){}},{name:"Common.Delete",defaultButton:true,callback:function t(){e.deleting=true;g["a"].deleteFile(e.name).then((function(){F(e);d["a"].publish(b["a"].Events.PubSub.ConnectionDeleted)}),(function(t){e.deleting=false;_(e,t)}))}}]})}function F(t){e.selectedFileName.name===t.name&&(e.selectedFileName.name=null);x();a()}function _(e){m["a"].showDialog({message:u["default"].get("UploadedFilesFolder.Error.CannotDeleteFile",[e.name])})}e.onFileClicked=function(t){e.selectedFileName.name=t.name;e.chooseOnSingleClick&&e.onFileSelected({name:p["a"].removeSurroundingSlashes(t.name)})};e.onFileDblClick=function(t){e.onFileSelected&&e.onFileSelected({name:p["a"].removeSurroundingSlashes(t.name)})};e.onDeleteFileClicked=function(e){R(e)};e.selectFile=function(){g["a"].selectFile().then((function(e){e&&L(e)})).catch((function(){}))};e.getFileInUseTitle=function(e){if(e&&e.usedInLoadModel)return u["default"].get("UploadedFilesFolder.FileInUseIndicator.Title");return u["default"].get("UploadedFilesFolder.FileNotInUseIndicator.Title")};e.fileToUploadOnFirstLoad&&L(e.fileToUploadOnFirstLoad);e.showFilePickerOnOpen&&e.selectFile();o()(t.find(".file-list")[0]).swipe({options:{preventDefault:false},end:function e(){o.a.preventGestures(this.gestureHandler)}})}]}}])},"0bAR":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Rg34"),i=n("A44O"),a=function(){function e(){}return e.InitHandlebars=function(){r.registerHelper("comma-separated",(function(e,t){var n="";if(e)for(var r=0,i=e.length;i>r;r++){var a=t.fn(e[r]);a.length>0&&"\n"===a[a.length-1]&&(a=a.substring(0,a.length-1)),a.length>0&&"\r"===a[a.length-1]&&(a=a.substring(0,a.length-1)),n+=a,i-1>r&&(n+=",\n\t")}return n})),r.registerHelper("quote",(function(t){return e.qouteScript(t)})),r.registerHelper("load-file-from-lib",(function(t,n){return n?e.qouteScript("lib://"+t+"/"+n):e.qouteScript("lib://"+t)})),r.registerHelper("sql-quote",(function(e,t){return t.quoteprefix+e+t.quotesuffix})),r.registerHelper("sql-field-list",(function(t,n){var r=i.TemplateRunner.render(e.SqlFieldListTemplate,{fields:t,connectionInfo:n});return r})),r.registerHelper("load-field-list",(function(t){var n=i.TemplateRunner.render(e.LoadFieldListTemplate,{fields:t});return n})),r.registerHelper("database-owner-table",(function(e,t,n,r){function i(e){return r.quoteprefix+e+r.quotesuffix}var a="",o="ACCESS"===(r.dbmsname||"").toUpperCase();return r.dbfirst?(r.dbusage&&!o&&e&&(a+=i(e)+r.dbseparator),r.ownerusage&&t&&(a+=i(t)+r.ownerseparator),a+=i(n)):(r.ownerusage&&t&&(a+=i(t)+r.ownerseparator),a+=i(n),r.dbusage&&e&&(a+=r.dbseparator+i(e))),a}))},e.qouteScript=function(e){return e?-1!==e.indexOf("[")||-1!==e.indexOf("]")?'"'+e+'"':"["+e+"]":e},e}();a.LoadFieldListTemplate="{{#comma-separated fields}}\n{{#if selected}}{{quote name}}{{#alias}} AS {{quote .}}{{/alias}}{{/if}}\n{{/comma-separated}}",a.SqlFieldListTemplate="{{#comma-separated fields}}\n {{#if selected}}{{sql-quote name ../connectionInfo.dbInfo}}{{/if}}\n{{/comma-separated}}",t.TemplateHelpers=a},"0m+j":function(e,t,n){"use strict";var r=n("4nJ1");var i=n("mWu2");var a=n("6uJb");var o=n("ohbW");var s="M4,5.84027778 L4,3 L1.2,3 C1.08954305,3 1,3.08954305 1,3.2 L1,12.8 C1,12.9104569 1.08954305,13 1.2,13 L4,13 L4,6.72152812 C3.36593141,6.95951806 2.69926475,7.31160128 2,7.77777778 C2.66666667,6.94444444 3.33333333,6.29861111 4,5.84027778 Z M5,6.43553932 L5,13 L14.8,13 C14.9104569,13 15,12.9104569 15,12.8 L15,3.2 C15,3.08954305 14.9104569,3 14.8,3 L5,3 L5,5.29340278 C6.96296296,4.49594907 8.92592593,5.32407407 10.8888889,7.77777778 C10.8888889,7.77777778 11.2592593,7.40740741 12,6.66666667 L12,10 L8.66666667,10 C9.40740741,9.25925926 9.77777778,8.88888889 9.77777778,8.88888889 C8.52447243,6.88360034 6.93187984,6.06581715 5,6.43553932 Z M1,2 L15,2 C15.5522847,2 16,2.44771525 16,3 L16,13 C16,13.5522847 15.5522847,14 15,14 L1,14 C0.44771525,14 6.76353751e-17,13.5522847 0,13 L0,3 C-6.76353751e-17,2.44771525 0.44771525,2 1,2 Z";var l=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;function c(e,t,n){this.offsetX=e;this.offsetY=t;this.elem=n}c.prototype.update=function(e,t){var n={x:e.pageX+this.offsetX,y:e.pageY+this.offsetY};var r=this.elem;t&&t.snapToGrid&&t.snapToGrid.snapFunc(e,t,n,r);if(l){r.style.left="".concat(n.x,"px");r.style.top="".concat(n.y,"px")}else{var i="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)");r.style.transform=i;r.style.webkitTransform=i;r.style.mozTransform=i;r.style.msTransform=i}};c.prototype.end=function(){this.elem.parentNode.removeChild(this.elem)};function u(e,t,n,r,i){if(e[n]&&e[n][t.type])return e[n][t.type].call(null,r,i);if("function"===typeof e[n])return e[n].call(null,r,i);return}function d(e,t,n,r){this.info=e;this.handle=t;this.targets=n;this.scrollComponents=r;this.rects=[];this.scrollRects=[];var i=document.body.getBoundingClientRect();this.docRect=i;var a=document.createElement("canvas");this.canvas=a;a.style.position="absolute";a.style.left="".concat(window.pageXOffset||0,"px");a.style.top="".concat(window.pageYOffset||0,"px");a.style.zIndex=999;a.width=i.width;a.height=i.height;a.classList.add("drag-and-drop-canvas");document.body.appendChild(a);this.context=a.getContext("2d")}function f(e,t,n,r){if(e.setLineDash){e.setLineDash(r);e.moveTo(h(t.x),h(t.y));e.lineTo(h(n.x),h(n.y));e.stroke()}else{r=r||[2,4];var i=r.length;var a=n.x-t.x;var o=n.y-t.y;var s=Math.sqrt(a*a+o*o);var l=s;var c=0;var u=true;var d;var f=t.x;var p=t.y;a/=s;o/=s;e.moveTo(h(f),h(p));for(c=0;l>=.1&&c<5e3;++c){d=r[c%i];0===d&&(d=.001);d>l&&(d=l);f+=d*a;p+=d*o;e[u?"lineTo":"moveTo"](h(f),h(p));l-=d;u=!u}}}function p(e,t,n){return e.left<=t&&t<=e.right&&e.top<=n&&n<=e.bottom}function h(e){return Math.round(e)}function v(e,t,n,r){n=n||[5];if(e.setLineDash&&!r){e.setLineDash(n);e.strokeRect(h(t.left),h(t.top),h(t.right-t.left),h(t.bottom-t.top))}else{var i=e.lineWidth/2;e.beginPath();var a={x:t.left+i,y:t.top+i};var o={x:t.right-i,y:t.top+i};var s={x:t.right-i,y:t.bottom-i};var l={x:t.left+i,y:t.bottom-i};r.top||f(e,a,o,n);r.right||f(e,o,s,n);r.bottom||f(e,s,l,n);r.left||f(e,l,a,n);e.stroke()}}function m(e,t,n,r,i){var a=e.lineWidth+4;e.beginPath();e.rect(t.left+a,t.top+a,t.right-t.left-2*a,t.bottom-t.top-2*a);e.fillStyle=n?r||i?"rgba(242,242,242,1)":"rgba(242,242,242,0.9)":"rgba(0,0,0,0.05)";e.fill()}function g(e,t,n,r,i){var o=t.right-t.left;var l=t.bottom-t.top;var c=t.left+o/2;var u=t.top+l/2;if(o>40&&l>40){var d="gridcell"!==n&&(r||i)?"DropZone.CreateChart":"DropZone.DropItem";var f=a["default"].get(d);var p="bold 14px Source Sans Pro, sans-serif";e.fillStyle="#404040";e.textAlign="center";if(b(f,p,o)&&l>60){e.save();e.translate(c-8,u-14);e.fill(new Path2D(s));e.restore();e.font=p;e.fillText(f,c,u+18);return}e.save();e.translate(c-8,u+14);e.fill(new Path2D(s));e.restore()}}function b(e,t,n){var r=o["a"].measureTextObject({type:"text",shape:{text:e,font:t,maxWidth:n-12,align:"center",maxNumLines:1}});return!r.truncated}function y(e,t,n){n.rects=[];for(var i=0;i<e.length;++i)u(e[i],t,"start",n);n.rects.sort((function(e,t){return r["a"].compare(t.prio,e.prio)}))}d.prototype.start=function(){var e=this.targets;var t=this.info;y(e,t,this);var n=this.scrollComponents;for(var r=0;r<n.length;++r)u(n[r],t,"start",this);i["default"].$rootScope.$apply()};d.prototype.update=function(e){e.preventDefault();var t=e.pageX;var n=e.pageY;this.handle.update(e,this.info);var r;var i;var a=this.scrollRects;var o;var s;for(s=0;s<a.length;++s){r=a[s].targetRect;i=p(r,t,n);if(i){o=a[s];break}}this.scroller&&u(this.scroller,this.info,"leave",o,e);var l=!!o&&u(o,this.info,"enter",o,e);if(l){this.activeRect&&u(this.activeRect,this.info,"leave",this.info);this.context.clearRect(0,0,this.docRect.width,this.docRect.height);this.activeRect=null;this.scroller=o;return}if(this.scroller){y(this.targets,this.info,this);this.scroller=false}var c=this.rects;var d=null;for(s=0;s<c.length;++s){var f=c[s].targetRect;r="function"===typeof f?f():f;i=p(r,t,n);if(i){d=c[s];break}}if(d!==this.activeRect){this.activeRect&&u(this.activeRect,this.info,"leave",this.info);var h=this.context;var b=this.docRect;h.clearRect(0,0,b.width,b.height);if(d){h.strokeStyle="#0aaf54";h.lineWidth=2;var w=d.drawRect;if(w){var S=void 0!==d.isEmpty;var x=1===d.prio;v(h,w,[5],d.ignoreLines);m(h,w,S,d.isEmpty,x);S&&g(h,w,this.info.type,d.isEmpty,x)}u(d,this.info,"enter",this.info)}}this.activeRect=d};d.prototype.registerDropRect=function(e){e.prio=e.prio||0;this.rects.push(e)};d.prototype.registerScrollRect=function(e){this.scrollRects.push(e)};d.prototype._end=function(){for(var e=0;e<this.targets.length;++e)u(this.targets[e],this.info,"end",this);document.body.removeChild(this.canvas);this.handle.end();this.ended=true;i["default"].$apply(i["default"].$rootScope)};d.prototype.end=function(e){this.activeRect&&u(this.activeRect,this.info,"drop",this.info,e);this._end()};d.prototype.cancel=function(){this._end()};var w=[];var S=[];var x;t["a"]={registerScrollComponent:function e(t){var n=S.indexOf(t);-1===n&&S.push(t)},unregisterScrollComponent:function e(t){var n=S.indexOf(t);-1!==n&&S.splice(n,1)},registerDropTarget:function e(t){var n=w.indexOf(t);-1===n&&w.push(t)},unregisterDropTarget:function e(t){var n=w.indexOf(t);-1!==n&&w.splice(n,1)},startDrag:function e(t,n){if(x&&!x.ended)return false;t.style.position="absolute";t.style.left="0";t.style.top="0";t.style.zIndex=9999;document.body.appendChild(t);var r=t.getBoundingClientRect();var i=new c(-r.width/2,-r.height/2,t);var a=w.filter((function(e){return u(e,n,"accept",n)}));var o=S.filter((function(){return true}));x=new d(n,i,a,o);try{x.start();return x}catch(e){x.cancel();return false}}}},"1/3z":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("rwJ+");var o={};o.sections={approved:{show:true,showHeaderLine:true,sheets:{expand:true},stories:{expand:true}},myPublished:{show:true,showHeaderLine:true,sheets:{expand:true},stories:{expand:true}},myPrivate:{show:true,showHeaderLine:true,sheets:{expand:true},stories:{expand:true}},community:{show:true,showHeaderLine:true,sheets:{expand:true},stories:{expand:true}}};function s(e){return e?"sheets":"stories"}o.isExpanded=function(e,t){return o.sections[e][t].expand};o.setSectionVisible=function(e,t){var n=s(t);o.sections[e][n].expand=true};o.toggleCollapse=function(e,t,n){var r=s(n);e&&e.preventDefault&&e.preventDefault();o.sections[t][r].expand=!o.sections[t][r].expand;e&&o.isExpanded(t,r)&&setTimeout((function(){a["a"].scrollElmentIntoView(i()(e.currentTarget).closest("div:not(.qs-tb)").find("ul li").first(),".av-content-container")}))};t["a"]=o},"1CiI":function(e,t,n){"use strict";var r=n("sWge");var i=n("6uJb");var a=function e(){};var o="cao.chart.periodChanges";var s="cao.chart.detailedPeriodChanges";a.prototype.parseMatchRecord=function(e){if(e.libId){if(e.libIdLabel)return e.libIdLabel;return"Unknown master item"}if(e.aggr)return"".concat(e.aggr,"(").concat(e.field,")");if(e.inlineExpr){if(e.inlineExpr.startsWith("="))return e.inlineExpr.substr(1);return e.inlineExpr}return e.field};a.prototype.getTranslation=function(e,t){return i["default"].get(e,t)};a.prototype.findTitleForMacroAnalysis=function(e,t){var n="";if((null===e||void 0===e?void 0:e.length)>=1){var r=this.getTitleTemplate(e,t);var i=t.matches;if(r&&t.analysisPeriods){var a;var o=t.analysisPeriods.map((function(e){return e.periods.find((function(e){return e.isApplied}))}));var s=[];Object.keys(r.msgParams).forEach((function(e){var t=i.filter((function(t){return t.slot===e}))[0];if(t){var n=t.field||t.libIdLabel;s[r.msgParams[e]]=n}}));var l=null===o||void 0===o?void 0:o[0].periodRange;if((null===l||void 0===l||null===(a=l.range)||void 0===a?void 0:a.length)>0){s.push(l.range[0]);s.push(l.range[1])}n=this.getTranslation(r.msgId,s)}}return n};a.prototype.getPeriodChange=function(e){return e.startsWith(o)||e.startsWith(s)};a.prototype.isPeriodChangeAnalysis=function(e){return e.startsWith(o)||e.startsWith(s)};a.prototype.getTitleTemplate=function(e,t){var n=t.matches;var r=null;e.forEach((function(e){if(e.msgParams){var t=e.msgParams;var i=Object.keys(t);var a=true;i.forEach((function(e){var t=n.some((function(t){return t.slot&&t.slot===e}));t||-1===e.indexOf("Period")&&(a=false)}));a&&(r=e)}}));return r};a.prototype.findTitleForChart=function(e,t,n){var r=this;if((null===e||void 0===e?void 0:e.length)&&!e[0].msgParams)return i["default"].get(e[0].msgId);if(n||(null===e||void 0===e?void 0:e.length)>0&&this.isPeriodChangeAnalysis(e[0].msgId))return this.findTitleForMacroAnalysis(e,t);var a=null;(null===e||void 0===e?void 0:e.length)>=1&&(a=this.getTitleTemplate(e,t));if(!e)return"";var o=t.matches;if(a){var s=[void 0,void 0,void 0,void 0,void 0];Object.keys(a.msgParams).forEach((function(e){var t=o.filter((function(t){return t.slot===e}))[0];var n=r.parseMatchRecord(t);s[a.msgParams[e]]=n}));return this.getTranslation(a.msgId,s)}return""};var l=a;var c=n("fca/");function u(e,t){if(null==e)return{};var n=d(e,t);var r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++){r=a[i];if(t.indexOf(r)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,r))continue;n[r]=e[r]}}return n}function d(e,t){if(null==e)return{};var n={};var r=Object.keys(e);var i,a;for(a=0;a<r.length;a++){i=r[a];if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function f(e,t,n){var r;this.visualization=e;this.searchReport=t;this.options=e.options;this.type="generated";this.analysisPrecedentId=null===(r=e.matchRecord)||void 0===r?void 0:r.analysisPrecedentId;this.appearsOnSheets=[];this.properties=n}f.prototype.getTitle=function(){var e;var t=this.visualization.analysis.title;var n=this.visualization.analysis.titleTemplate;var i=this.visualization.matchRecord;var a=new l;return r["a"].resolve((null===(e=this.visualization.options)||void 0===e?void 0:e.title)||t||a.findTitleForChart(n,i,this.isMacroAnalysis()))};f.prototype.getMacroAnalysisDescription=function(){var e,t,n;if((null===(e=this.visualization)||void 0===e||null===(t=e.analysis)||void 0===t||null===(n=t.titleTemplate)||void 0===n?void 0:n.length)>0){var r=this.visualization.analysis.titleTemplate[0];var i=new l;var a=[{msgId:"".concat(r.msgId,".description"),msgParams:r.msgParams}];return i.findTitleForMacroAnalysis(a,this.visualization.matchRecord)}return""};f.prototype.isMacroAnalysis=function(){return"macroAnalysis"===this.visualization.analysis.analysisGroup};f.prototype.getMatchDetails=function(){var e=[];if(this.searchReport&&this.searchReport.search){var t=this.searchReport.search.fieldLibItemFinder.searchHits;this.visualization.matchRecord.matches.forEach((function(n){var r=n.field;n.libId&&(r="".concat(n.libId,"- ").concat(n.libIdLabel));var i=t[r];i&&e.push({matchedOn:i.matchingTypes[0],matchedField:n.field||n.libIdLabel,matchedText:i.matchingUnits.join(" ")})}))}return e};f.prototype.getChartType=function(){var e;return r["a"].resolve(null===(e=this.properties)||void 0===e?void 0:e.visualization)};f.prototype.setParentVisualization=function(e){this.parentVisualization=e};f.prototype.getParentVisualization=function(){return this.parentVisualization};f.buildChart=function(e,t){var n=e.recommendation,r=u(e,["recommendation"]);return c["a"].createChart(r,t,false).then((function(e){return{model:e}}))};f.prototype.buildInsightChart=function(e,t,n){n.title=e;return f.buildChart(n,t)};f.prototype.loadChart=function(e){var t=new r["a"];var n=this;n.getTitle().then((function(r){n.buildInsightChart(r,e,n.properties).then((function(e){t.resolve(e)}))}));return t.promise};var p=t["a"]=f},"1DLp":function(e,t,n){"use strict";var r="small";var i="LIST";var a={12:"small",15:"medium",18:"large",small:12,medium:15,large:18};var o={width:1280,height:1024};var s={min:{width:300,height:300},max:{width:4e3,height:4e3}};function l(e){r=e}function c(){return r}function u(e){i=e}function d(){return i}function f(e){return a[e]}function p(e){e.pxHeight=e.pxHeight||o.height;var t=e.pxHeight/o.height;return Math.ceil(f(e.gridResolution)*t)}function h(e){e.pxWidth=e.pxWidth||o.width;var t=e.pxWidth/o.width;return Math.ceil(f(e.gridResolution)*t)}function v(e,t){var n=Math.min(s.max.height,e);var r=Math.min(s.max.width,t);n=Math.max(s.min.height,n);r=Math.max(s.min.width,r);return{pxHeight:n,pxWidth:r}}t["a"]={setPreferredGridSize:l,getPreferredGridSize:c,setPreferredMobileLayout:u,getPreferredMobileLayout:d,getResolutionFor:f,getCustomRows:p,getCustomCols:h,checkSheetPixelLimits:v}},"1Rhw":function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("G1wx");var o=n("mWu2");var s='<div class="qv-panel-subtoolbar qv-panel-current-selections"\n  ng-class="{smallDevice: isSmallDevice, bright: brightCurSel, \'expand-smart-search-suggested-chart\': expandSmartSearchSuggestedChart}">\n  <div ng-if="!isSmallDevice">\n    <div class="qv-selections-pager" ng-class="{\'client-tab-navigation--bright\' : clientTabNavigation }">\n      <div class="buttons borderbox border-bottom border-right" aria-hidden="true">\n\n        <div tid="toggleGlobalSearchButton" tabindex="0" class="qv-subtoolbar-button toggle-button borderbox"\n          ng-hide="hideSearch" ng-class="{active: isGlobalSearchActive, indexing: isGlobalSearchIndexing}"\n          ng-click="toggleGlobalSearch()"\n          q-title-translation="{{isGlobalSearchActive ? \'Tooltip.CloseGlobalSearch\' : \'Tooltip.GlobalSearch\'}}">\n          <i class="lui-icon lui-icon--selection-search icon"></i>\n          <div class="label" q-translation="GlobalSearch.Preparing"\n            q-title-translation="GlobalSearch.Preparing.Tooltip"></div>\n          <qv-progress-bar ng-if="isGlobalSearchIndexing" percent-done="indexPercentDone"\n            on-completed="setSearchIndexingDone()" options="progressBarOptions"></qv-progress-bar>\n        </div>\n\n        <button class="qv-subtoolbar-button borderbox" ng-hide="hideUndoRedo" ng-click="back()"\n          ng-disabled="disable.back" q-title-translation="Tooltip.NavigateBack" data-tid="current-selections-back">\n          <i class="lui-icon lui-icon--selections-back"></i>\n        </button>\n\n        <button class="qv-subtoolbar-button borderbox" ng-hide="hideUndoRedo" ng-click="forward()"\n          ng-disabled="disable.forward" q-title-translation="Tooltip.NavigateForward"\n          data-tid="current-selections-forward">\n          <i class="lui-icon lui-icon--selections-forward"></i>\n        </button>\n\n        <button id="clearselections" class="qv-subtoolbar-button borderbox" ng-disabled="disable.clear"\n          ng-hide="hideClearSelections" ng-click="clearAllFields()" q-title-translation="Tooltip.ClearSelections"\n          data-tid="current-selections-clear">\n          <i class="lui-icon lui-icon--clear-selections"></i>\n        </button>\n\n      </div>\n      <div class="selections-shadow" ng-if="showShadow"></div>\n      <div class="wrap borderbox" style="height: 100%;" qv-pager qv-selection-pager>\n        <ul class="list"\n          ng-show="!isGlobalSelectionsActive || (items.length > 0 && currentSelectionDisabled) || (items.length > 0 && !isGlobalSelectionsActive)"\n          qva-delegated-activate=".item#showPopover($event)" qva-outside-ignore-for="currentSelectionsItems">\n          <li class="item"\n            ng-class="{\'item-multi-state\': !item.isSingleState, \'multi-active\': multiPopoverFieldName && multiPopoverFieldName === item.qField, \'selection-insights-disabled\': currentSelectionDisabled}"\n            ng-repeat="item in items track by item.qField" data-csid="{{item.qField}}"\n            aria-label="{{!item.isSingleState && item.screenReaderLabel}}"\n            aria-expanded="{{item.qField === activeFieldName}}" tabindex="{{item.tabindex}}"\n            ng-keydown="!item.isSingleState && handleKeyDown($event, item)" role="{{item.role}}">\n            <qv-current-selections-item ng-if=" item.isSingleState" item="item"\n              current-selection-disabled="currentSelectionDisabled">\n            </qv-current-selections-item>\n            <div ng-if="!item.isSingleState" class="current-selections-item" ng-mousemove="openTooltip($event, item)"\n              ng-mouseleave="closeTooltip()">\n              <div class="item-component label">\n                <span ng-class="{ \'lui-icon lui-icon--lock\': item.qLocked }"></span><span\n                  class="name">{{item.name}}</span>\n              </div>\n              <div class="item-component count" title="">\n                <span class="field-states-indicator">{{ item.states.length }}</span>\n              </div>\n              <div class="item-component caret">\n                <span class="lui-icon lui-icon--arrow-down"></span>\n              </div>\n            </div>\n            <div ng-if="currentSelectionDisabled" class="current-selections-disabled"></div>\n          </li>\n        </ul>\n\n        <div ng-if="!items.length && !haveHiddenSelections" class="empty-text no-selection borderbox"\n          q-translation="CurrentSelections.NoSelections"></div>\n        <div ng-if="!items.length && haveHiddenSelections" class="empty-text no-selection borderbox"\n          q-translation="CurrentSelections.OnlyHiddenSelections"></div>\n        <a class="qv-pager-nav qv-pager-previous" ng-class="{inverted: brightCurSel}" ng-click="prevPage()"\n          q-title-translation="Tooltip.Previous"><i class="lui-icon lui-icon--arrow-left"></i></a>\n        <a class="qv-pager-nav qv-pager-next" ng-class="{inverted: brightCurSel}" ng-click="nextPage()"\n          q-title-translation="Tooltip.Next"><i class="lui-icon lui-icon--arrow-right"></i></a>\n      </div>\n      <div class="buttons-end borderbox border-left">\n        <div aria-hidden="true" class="qv-subtoolbar-button qv-explore-selections-btn toggle-button borderbox"\n          tabindex="0" ng-class="{active: isGlobalSelectionsActive}" ng-hide="hideSelectionsTool"\n          ng-click="toggleGlobalSelection($event)"\n          q-title-translation="{{isGlobalSelectionsActive ? \'Tooltip.CloseGlobalSelector\' : \'Tooltip.GlobalSelector\'}}"\n          tid="currentSelections.toggleGlobalSelections">\n          <i class="lui-icon lui-icon--global-selector icon"></i>\n          <span id="explore-selections-label" q-translation="CurrentSelections.ExploreSelectionsBtn"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-if="isSmallDevice && mobileIndicatorShow && !inSelection " ng-click="toggleGlobalSelection($event)"\n    ng-class="{\'expand-smart-search-suggested-chart\': expandSmartSearchSuggestedChart}"\n    class="qv-current-selections-mobile-wrapper" tid="currentSelections.toggleMobileSelections"\n    q-title-translation="GlobalSelections.CurrentSelections">\n    <div class="qv-current-selections-mobile-background">\n      <p class="qv-current-selections-mobile-nbr" ng-class="{selections: nbrSelections > 0}">{{nbrSelections}}</p>\n    </div>\n  </div>\n</div>';var l='<div qva-direction x-dir-setting={{options.direction}}" class="qv-tooltip qvt-generic-tooltip" ng-class="{\'above\':alwaysOnTop}">\n\t<div ng-repeat="item in content">\n\t\t<div qva-direction x-dir-text="{{item.header}}" x-dir-setting="{{options.direction}}" class="qv-tp-header">\n\t\t\t<strong>{{item.header}}</strong>\n\t\t</div>\n\t\t<table>\n\t\t\t<tr ng-repeat="row in item.rows" class="qv-tp-row">\n\t\t\t\t<td class=\'qv-tp-item\'>\n\t\t\t\t\t<div qva-direction x-dir-text="{{row.content}}" class="qv-tp-rowContent fade-out">{{row.content}}</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</div>';var c=n("cWJj");var u=n("sCDE");var d=n("wIyQ");var f=n("B52N");var p=n("z4LI");var h=n("ZQDF");var v=n("4nJ1");var m=n("jaci");var g=n("qIEf");var b=n.n(g);var y=n("yRTf");function w(e){var t={preventDefault:false,allowInInput:false};function n(){y["a"].preventDefault();o["default"].$rootScope.$apply()}function r(){e.inSelection&&b()(document).trigger("qv-press");e.forward();n()}function i(){e.inSelection&&b()(document).trigger("qv-press");e.back();n()}this.keyboardShortcutsGroup=y["a"].createGroup("current-selection-".concat(e.app.id),1);this.keyboardShortcutsGroup.registerKeys("ctrl+shift+y",r,t);this.keyboardShortcutsGroup.registerKeys("ctrl+shift+z",i,t);this.keyboardShortcutsGroup.on();this.on=function(){if(!this._isOn){this.keyboardShortcutsGroup.on();this._isOn=true}};this.off=function(){if(this._isOn){this.keyboardShortcutsGroup.off();this._isOn=false}};this.delete=function(){this.keyboardShortcutsGroup.delete()}}var S=w;function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function q(e,t,n){t&&C(e.prototype,t);n&&C(e,n);return e}var E=function(){function e(t,n,r,i,a,o){x(this,e);this.scope=t;this.responsiveState=n;this.globalSelectionService=r;this.exploreSelectionsService=i;this.globalSearchService=a;this.caoService=o}q(e,[{key:"toggleGlobalSelection",value:function e(t){this.globalSelectionService.toggleGlobalSelection(t);this.responsiveState.isSmallDevice||this.globalSearchService.off();this.scope.isCaoActive=false;this.exploreSelectionsService.off();this.scope.isExploreSelectionsActive=false}},{key:"toggleExploreSelection",value:function e(t){this.globalSelectionService.off();this.scope.isExploreSelectionsActive=this.exploreSelectionsService.toggleExploreSelection(t);this.globalSearchService.off();this.scope.isCaoActive=false}},{key:"toggleGlobalSearch",value:function e(){this.globalSearchService.toggleGlobalSearch(this.scope.app.enigmaModel,this.scope.options.objectSearch);this.scope.isCaoActive=false;this.globalSelectionService.off();this.exploreSelectionsService.off();this.scope.isExploreSelectionsActive=false}}]);return e}();var I=E;var k=n("pdRV");var A=n("SrgQ");var T=n("yIOy");var D=n("MGTR");var O=n("Hb6E");var L=n("sWge");var M=n("g1uV");var P=n("RZ9f");var N=n("plVp");var R='<div class="qv-explore-selections overlay" id="qv-explore-selections-overlay" style="display:none;">\n\t<qv-selection-insights full="showFullModel"></qv-selection-insights>\n</div>';var F=n("L7Z9");var _=n.n(F);var j=n("AWT7");var B=n("RgdY");var V='<div class="qv-selections-insights-container" ng-class="{\'can-grow\': $ctrl.isV2}">\n\t\x3c!-- Insights found --\x3e\n\t<div class="qv-selections-insights-header">\n\t\t<h2\n\t\t\tq-translation="SelectionInsights.AssociativeInsights"\n\t\t\tclass="qv-selections-insights-title"\n\t\t></h2>\n\t\t<span\n\t\t\tclass="lui-icon lui-icon--help lui-icon--small"\n\t\t\tng-click="$ctrl.openCardSummaryDialog()"\n\t\t></span>\n\t\t<div class="qv-insight-summary-close">\n\t\t\t<span\n\t\t\t\tclass="lui-icon lui-icon--close"\n\t\t\t\tng-click="$ctrl.closeInsights()"\n\t\t\t></span>\n\t\t</div>\n\t\t<qv-selection-insights-summary\n\t\t\tng-if="!$ctrl.showLoading && $ctrl.selectionInsightsState === $ctrl.states.INSIGHTS_FOUND"\n\t\t\tstates="$ctrl.states"\n\t\t\tselection-insights-state="$ctrl.selectionInsightsState"\n\t\t\tnew-measure-chosen="$ctrl.newMeasureChosen"\n\t\t\tnew-selection="$ctrl.newSelection"\n\t\t\tmeasure="$ctrl.measure"\n\t\t\tshow-loading="$ctrl.showLoading"\n\t\t\thas-selection="$ctrl.hasSelection"\n\t\t\tshow-fields="$ctrl.showFields"\n\t\t\tmeasure-error="$ctrl.measureError"\n\t\t\tselected-insight="$ctrl.selectedInsight"\n\t\t\trequired-selections="$ctrl.requiredSelections"\n\t\t></qv-selection-insights-summary>\n\t</div>\n\t<qv-selection-insights-card-container\n\t\tng-show="!$ctrl.showLoading && $ctrl.selectionInsightsState === $ctrl.states.INSIGHTS_FOUND"\n\t\tnew-measure-chosen="$ctrl.newMeasureChosen"\n\t\tnew-selection="$ctrl.newSelection"\n\t\tmeasure="$ctrl.measure"\n\t\tshow-loading="$ctrl.showLoading"\n\t\tinsights="$ctrl.insights"\n\t\topen-card="$ctrl.openCard"\n\t\tactive-card="$ctrl.activeCard"\n\t\tclass="qv-selection-insights-card-container"\n\t\tshow-fields="$ctrl.showFields"\n\t\tloading-cards="$ctrl.loadingCards"\n\t\tcard-is-insight="$ctrl.cardIsInsight"\n\t></qv-selection-insights-card-container>\n  <div ng-if="$ctrl.isV2" class="add-dimension-container" ng-show="!$ctrl.showLoading && $ctrl.selectionInsightsState === $ctrl.states.INSIGHTS_FOUND">\n    <div class="hr-div card-divider">\n      <hr class="qv-selection-insights-hr" ng-if="$ctrl.selectionInsightsState === $ctrl.states.INSIGHTS_FOUND" />\n    </div>\n    <qv-selection-add-card show-fields="$ctrl.showFields" measure="$ctrl.measure" measure-changed="$ctrl.measureChanged"></qv-selection-add-card>\n  </div>\n\t\x3c!-- LOADING --\x3e\n\t<div class="qv-selections-insights-loading" ng-if="$ctrl.showLoading">\n\t\t<div class="spinner-container">\n\t\t\t<qv-spinner\n\t\t\t\tshow="$ctrl.showLoading"\n\t\t\t\tcenter-in-parent="true"\n\t\t\t></qv-spinner>\n\t\t</div>\n\t\t<div\n\t\t\tclass="loading-message"\n\t\t\tq-translation="SelectionInsights.Loading"\n\t\t></div>\n\t</div>\n\n\t\x3c!-- No selection has been made --\x3e\n\t<div\n\t\tclass="qv-selections-no-insights"\n\t\tng-if="!$ctrl.showLoading && $ctrl.selectionInsightsState === $ctrl.states.NO_SELECTIONS"\n\t>\n\t\t<div class="no-insights-icon"></div>\n\t\t<p\n\t\t\tclass="qv-selections-insights--p"\n\t\t\tq-translation="ExploreSelections.NoInsights"\n\t\t></p>\n\t</div>\n\n\t\x3c!-- AI is not supported for this app --\x3e\n\t<div\n\t\tclass="qv-selections-no-insights"\n\t\tng-if="!$ctrl.showLoading && $ctrl.selectionInsightsState === $ctrl.states.UNSUPPORTED"\n\t>\n\t\t<div class="no-insights-icon"></div>\n\t\t<p class="qv-selections-insights--p" ng-bind-html="$ctrl.errorMsg"></p>\n\t</div>\n\n\t<div class="qv-selections-no-insights" ng-if="!$ctrl.showLoading && $ctrl.selectionInsightsState === $ctrl.states.BM_INVALID">\n\t\t<div class="invalid-bm-icon"></div>\n\t\t<p class="qv-selections-insights--p" q-translation="cao.error.header.bv_invalid"></p>\n\t\t<p class="qv-selections-insights--p" ng-bind-html="$ctrl.errorMsg"></p>\n\t</div>\n\t\x3c!-- \n\t\tUser opened the selection insights panel for the first time after making selections\n\t--\x3e\n\t<div\n\t\tclass="qv-selections-generate-insights qv-selections-no-insights"\n\t\tng-if="!$ctrl.showLoading && $ctrl.selectionInsightsState === $ctrl.states.GENERATE_INSIGHTS"\n\t>\n\t\t<div class="no-insights-icon"></div>\n\t\t<p\n\t\t\tq-translation="ExploreSelections.GenerateInsights"\n\t\t\tclass="qv-selections-insights--p"\n\t\t></p>\n\t\t<button\n\t\t\ttid="explore-selections-generate-insight-button"\n\t\t\tclass="lui-button lui-button--success qv-selections-no-insights--button"\n\t\t\tq-translation="ExploreSelections.GenerateInsights.Button"\n\t\t\tng-click="$ctrl.generateInsights()"\n\t\t></button>\n\t</div>\n\n\t\x3c!-- User has made a selection but no insights were found --\x3e\n\t<div\n\t\tclass="qv-selections-no-insights"\n\t\tng-if="!$ctrl.showLoading && $ctrl.selectionInsightsState === $ctrl.states.NO_INSIGHTS"\n\t>\n\t\t<div class="no-insights-icon"></div>\n\t\t<p\n\t\t\tclass="qv-selections-insights--p"\n\t\t\tq-translation="ExploreSelections.NoInsightsWithSelection.Paragraph1"\n\t\t></p>\n\t\t\x3c!--\n\t\t\tIf show fields checkbox is unchecked, we tell them to check it since they got no master item insights\n\t\t--\x3e\n\t\t<div\n\t\t\tng-if="!$ctrl.showFields"\n\t\t\tclass="select-fields"\n\t\t\tq-translation="ExploreSelections.NoInsightsWithSelection.Paragraph3"\n\t\t></div>\n\t</div>\n\n\t\x3c!-- Insights details --\x3e\n\t<qv-selection-insights-details\n\t\tng-show="$ctrl.selectionInsightsState === $ctrl.states.INSIGHTS_FOUND"\n\t\tshow-insight-details="$ctrl.showInsightDetails"\n\t\tselected-insight="$ctrl.selectedInsight"\n\t\tlistbox="$ctrl.listbox"\n\t\tcard-is-insight="$ctrl.cardIsInsight"\n\t\tback-to-selections="$ctrl.backToSelections()"\n\t\tlayout="$ctrl.layout"\n\t\tshowing="$ctrl.showing"\n\t></qv-selection-insights-details>\n</div>\n';var H='<lui-dialog class="selection-insights-dialog" x-variant="{{::variant}}">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title\n\t\t\tq-translation="SelectionInsights.SummarySelection.HelpTitle"\n\t\t></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="q-modal-loading">\n\t\t<p q-translation="SelectionInsights.SummarySelection.HelpText"></p>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<button\n\t\t\tclass="lui-button close-button"\n\t\t\tng-click="closeDialog();"\n\t\t\tq-translation="Common.Close"\n\t\t\ttid="selection-insights-dialog-help-button"\n\t\t></button>\n\t</lui-dialog-footer>\n</lui-dialog>\n';var z=n("PX8M");var $=n("xy4o");var U=n("6uJb");var G=n("BFYT");var W=n("k+Ch");var Q=n("X8RK");var K=n("2UuD");var Y=n("JbzQ");var J=n("oRXB");var Z=n("Sug7");var X=n("acVu");function ee(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ee(a,r,i,o,s,"next",e)}function s(e){ee(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ne=new G["a"];var re="$";var ie={};var ae=2e4;var oe=[];var se={};var le=null;var ce=false;var ue;var de;var fe=function(){var e=te(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return t.getVariableList(t);case 2:n=i.sent;r=n.find((function(e){return"NumericalAbbreviation"===e.qName}));return i.abrupt("return",null===r||void 0===r?void 0:r.qDefinition);case 5:case"end":return i.stop()}}),e)})));return function t(n){return e.apply(this,arguments)}}();function pe(e){ce=true;de=e;ue=new K["a"]({qNumericalAbbreviation:de},"","","","numeric")}function he(e){if(ce)return ue.format(e,"#.#A");return e}function ve(e){var t=parseFloat(e.toFixed(3));return new Intl.NumberFormat(U["default"].localeDetected,{style:"percent",maximumSignificantDigits:3,minimumSignificantDigits:1}).format(parseFloat(t))}function me(e){var t="";t=Object(X["b"])("SELECTION_INSIGHTS_V2")&&"sum"!==e.measureAggregation?Number.isNaN(e.excludedMeasure.qNumber)?"NaN":U["default"].get("SelectionInsights.CardSummarySum",[he(e.excludedMeasure.qNumber)]):Number.isNaN(+e.excludedMeasurePercentage.toFixed(1))?"NaN":U["default"].get("SelectionInsights.CardSummarySum",[ve(e.excludedMeasurePercentage.toFixed(1)/100)]);return t}function ge(e){var t=e.counts.excluded+e.counts.included;var n=e.counts.excluded;var r=e.measureBreakdown.excluded.num;if(Object(X["b"])("SELECTION_INSIGHTS_V2")&&e.noExclusionFlag)return U["default"].get("SelectionInsights.InsightSummaryNoExclusions",[n,t,"<span class='dimLabelDesc'>".concat(e.dimension,"</span>"),"<span>'NA'</span>","<span>".concat(e.measure,"</span>")]);if(Object(X["b"])("SELECTION_INSIGHTS_V2")&&"sum"!==e.measureAggregation){if(n>1)return U["default"].get("SelectionInsights.InsightSummaryExcludedLongMultiGeneric",[n,t,"<span class='dimLabelDesc'>".concat(e.dimension,"</span>"),"<span>".concat(r,"</span>"),"<span>".concat(e.measure,"</span>")]);if(1===n)return U["default"].get("SelectionInsights.InsightSummaryExcludedLongSingleGeneric",[n,t,"<span class='dimLabelDesc'>".concat(e.dimension,"</span>"),"<span>".concat(r,"</span>"),"<span>".concat(e.measure,"</span>")])}else if(n>1)return U["default"].get("SelectionInsights.InsightSummaryExcludedLongMulti",[n,t,"<span class='dimLabelDesc'>".concat(e.dimension,"</span>"),"<span>".concat(r,"</span>"),"<span>".concat(e.measure,"</span>"),"<span>".concat(e.measureAggregation[0].toUpperCase()).concat(e.measureAggregation.slice(1),"</span>")]);return}function be(e,t){var n=new L["a"];var r={};var i=true;r.counts={};r.counts.excluded=parseFloat(t.analysis.numExcluded);r.counts.included=parseFloat(t.analysis.distinctCount)-parseFloat(t.analysis.numExcluded);r.counts.summary=U["default"].get("SelectionInsights.CardCountsSummary",[r.counts.excluded,r.counts.excluded+r.counts.included,ve(r.counts.excluded/(r.counts.excluded+r.counts.included))]);var a="";var o="";var s="";var l="";for(var c in t.analysis.matchRecord.matches){var u=t.analysis.matchRecord.matches[c];if("dimension"===u.slotRole){s=u.field||u.libIdLabel;l=u.libId}else{a=u.field||u.libIdLabel;o=Array.isArray(u.aggr)?u.aggr[0]:u.aggr}}r.dimension=s;r.measure=a;r.measureAggregation=o;r.dimensionId=l;var d=[];var f=e.evaluateEx(t.analysis.aggrMrsExcluded);d.push(f);var p=e.evaluateEx(t.analysis.aggrMrsTotal);d.push(p);var h=e.evaluateEx(t.analysis.aggrMrsIncluded);d.push(h);var v=e.evaluateEx(t.analysis.aggrMrs);d.push(v);var m=setTimeout((function(){var t=false;d.forEach((function(n){if(-1===n.$$state.status){t=true;e.global.cancelRequest(n.requestId).then((function(){}))}}));t&&n.reject()}),ae);L["a"].all(d).then((function(e){var a=e[0];var s=e[1];var l=e[2];var c=e[3];r.excludedVis={dimension:t.analysis.dim,measure:t.analysis.aggrMrsExcluded};r.includedVis={dimension:t.analysis.dim,measure:t.analysis.aggrMrsIncluded};if(Object(X["b"])("SELECTION_INSIGHTS_V2")&&"sum"!==o){r.generic=true;r=ye(r,a,s,l,c)}else{r.generic=false;r=we(r,a,s,l,c)}r.noInsight=0===a.qNumber&&0===l.qNumber;var u=Pe({vis:t});r.isUserSelected=u.isUserDimension;r.libId=u.libId;ie[r.dimension].insight=r;clearTimeout(m);Object(X["b"])("SELECTION_INSIGHTS_V2")||(i=r.excludedMeasurePercentage+r.includedMeasurePercentage<100.01&&r.counts.included>=0&&r.counts.excluded>=0&&r.excludedMeasurePercentage+r.includedMeasurePercentage>99.9);r.show=i;n.resolve({show:i,summary:r.summaryString,generic:r.generic,isUserSelected:u.isUserDimension,libId:u.libId,noInsight:r.noInsight})})).catch((function(e){n.reject(e)}));return n.promise}function ye(e,t,n,r,i){e.excludedMeasure=t;e.totalMeasure=n;e.includedMeasure=r;e.summaryString=me(e);e.measureBreakdown={};e.measureBreakdown.excluded={num:he(t.qNumber),qNum:t.qNumber};e.measureBreakdown.included={num:he(r.qNumber),qNum:r.qNumber};e.selectedMeasure={total:he(n.qNumber),selected:{num:he(i.qNumber),qNum:i.qNumber},excluded:{num:he(n.qNumber-i.qNumber),qNum:n.qNumber-i.qNumber}};e.summaryStringLong=ge(e);return e}function we(e,t,n,r,i){e.excludedMeasurePercentage=t.qNumber/n.qNumber*100;e.includedMeasurePercentage=r.qNumber/n.qNumber*100;e.excludedMeasure=t;e.totalMeasure=n;e.includedMeasure=r;e.summaryString=me(e);e.measureBreakdown={};e.measureBreakdown.excluded={num:he(t.qNumber),percentage:e.excludedMeasurePercentage.toFixed(1),qNum:t.qNumber};e.measureBreakdown.included={num:he(r.qNumber),percentage:e.includedMeasurePercentage.toFixed(1),qNum:r.qNumber};var a=parseFloat(e.measureBreakdown.excluded.percentage)+parseFloat(e.measureBreakdown.included.percentage);Object(X["b"])("SELECTION_INSIGHTS_V2")&&(a>100||a<99)&&(e.generic=true);e.selectedMeasure={total:he(n.qNumber),selected:{num:he(i.qNumber),percentage:i.qNumber/n.qNumber*100,qNum:i.qNumber},excluded:{num:he(n.qNumber-i.qNumber),percentage:(n.qNumber-i.qNumber)/n.qNumber*100,qNum:n.qNumber-i.qNumber}};e.summaryStringLong=ge(e);return e}function Se(e){return e.getObject(p["a"].model.id).then((function(e){return e.getLayout().then((function(e){return e.qMeta.title}))}))}function xe(e){var t;e||(t={scope:["libItems"]});return t}function Ce(e){ae=e.runtimeSettings.suggestedTimeout;var t={};var n=null;var r=[];e.requiredSelections&&e.requiredSelections.length>=1&&(r=e.requiredSelections);if(e.appRecommendations&&0!==e.appRecommendations.length){var i=e.appRecommendations[0].visualizations;var a=[];i.forEach((function(e){if("excludedCompareMsrSelector"!==e.analysis.analysis){var r=parseFloat(e.analysis.numExcluded)/parseFloat(e.analysis.distinctCount);var i=(parseFloat(e.analysis.distinctCount)-parseFloat(e.analysis.numExcluded))/parseFloat(e.analysis.distinctCount);var o="";var s="";var l="";for(var c in e.analysis.matchRecord.matches){var u=e.analysis.matchRecord.matches[c];if("dimension"===u.slotRole)l=u.field||u.libIdLabel;else{o=u.field||u.libIdLabel;s=u.aggr}}var d=true;0!==r&&0!==i||(d=false);Object(X["b"])("SELECTION_INSIGHTS_V2")||"avg"===s||"sum"===s||(d=false);a.indexOf(l)>-1&&(d=false);if(d){var f=false;a.push(l);t[l]={vis:e,measure:o,measureAggregation:s,generic:Object(X["b"])("SELECTION_INSIGHTS_V2")&&("sum"!==s||"sum"===s&&f)}}else;}else{for(var p in e.analysis.matchRecord.matches){var h=e.analysis.matchRecord.matches[p];if("measure"===h.slotRole){n=h.field||h.libIdLabel;se.measure=n;se.measureAggregation=h.aggr}}if(Object(X["b"])("SELECTION_INSIGHTS_V2")){se.aggrMrsTotal=e.analysis.aggrMrsTotal;se.aggrMrs=e.analysis.aggrMrs}}}))}var o={insights:t,measure:n};if(Object(X["b"])("SELECTION_INSIGHTS_V2")&&e.analyzedDimensions&&0!==e.analyzedDimensions.length){var s=e.analyzedDimensions.filter((function(e){return e.noExclusionFlag}));o.requiredSelections=r;o.noExclusionDimensions=s.map((function(e){return{distinctCount:e.distinctCount,libId:e.libId,name:e.name,dimension:e.name,noExclusionFlag:e.noExclusionFlag,generic:true,counts:{excluded:0,included:e.distinctCount},isUserSelected:e.isUserSelected,show:true}}))}return o}function qe(){var e=new L["a"];return z["a"].getApp().then((function(t){var n=[];var r=t.evaluateEx(se.aggrMrsTotal);n.push(r);var i=t.evaluateEx(se.aggrMrs);n.push(i);var a=setTimeout((function(){var r=false;n.forEach((function(e){if(-1===e.$$state.status){r=true;t.global.cancelRequest(e.requestId).then((function(){}))}}));r&&e.reject()}),ae);L["a"].all(n).then((function(t){var n=t[0];var r=t[1];clearTimeout(a);se.selectedMeasure={total:he(n.qNumber),selected:{num:he(r.qNumber),percentage:r.qNumber/n.qNumber*100,qNum:r.qNumber},excluded:{num:he(n.qNumber-r.qNumber),percentage:(n.qNumber-r.qNumber)/n.qNumber*100,qNum:n.qNumber-r.qNumber}};e.resolve()})).catch((function(t){e.reject(t)}));return e.promise}))}function Ee(e,t){var n=xe(e);var r=[];var i=false;if(void 0!==t)if(t.masterItem){r.push(t.libId);i=true}else r.push(t.qName);if(Object(X["b"])("SELECTION_INSIGHTS_V2"))return ne.getAssociativeInsightsVisualizations(r,i,oe,n).then((function(e){var t=Ce(e);return qe().then((function(){return t}))}));return ne.getExcludedCompareVisualizations(r,n,i).then((function(e){if(e.__report.appDataModel.memberSelectionDone)return Ce(e);throw{error:U["default"].get("SelectionInsights.Unsupported")}}))}function Ie(e){var t=[];if(e)return W["a"].getList().then((function(e){return e.getLayout()})).then((function(e){var n=e.filter((function(e){return e.qTags&&(-1===e.qTags.indexOf("$date")||-1===e.qTags.indexOf("$timestamp"))&&-1===e.qTags.indexOf("$geopoint")&&(e.qTags.indexOf("$numeric")>-1||e.qTags.indexOf("$integer")>-1)}));t=t.concat(n);return ke()})).then((function(e){t=t.concat(e);var n=Z["a"].sortFields(t);return n}));return ke().then((function(e){var t=Z["a"].sortFields(e);return t}))}function ke(){return Q["a"].getList().then((function(e){return e.getLayout().then((function(e){var t=e.map((function(e){return{qName:e.qData.title,classifications:["measure"],masterItem:true,libId:e.qInfo.qId,libIdLabel:e.qMeta.title}}));return t}))}))}function Ae(e){if(e&&e.selectionsInStates){var t=[];e.selectionsInStates.forEach((function(e){e.qSelectionObject.qSelections.forEach((function(t){t.stateName=e.stateName}));t=t.concat(e.qSelectionObject.qSelections)}));var n=t.filter((function(e){return!e.qIsHidden}));n.forEach((function(e){e.translation=J["a"].translate(e);e.screenReaderLabel=J["a"].translatedScreenReaderLabel(e);e.name=e.qReadableName||e.qField;e.displayStateName=e.stateName===re?U["default"].get(A["a"].DEFAULT_STATE_TRANSLATION):e.stateName}));var r=k["a"].groupSelectionsByField(n);var i=r.filter((function(e){return!e.isSingleState}));i.forEach((function(e){e.translation=J["a"].translate(e);e.screenReaderLabel=J["a"].translatedScreenReaderLabel(e)}));r=r.sort(T["a"].sortSelections);return r}return}function Te(e,t){var n={qHyperCubeDef:{qDimensions:[{qDef:{qFieldDefs:[t?e.excludedVis.dimension:e.includedVis.dimension],qFieldLabels:[e.dimension]},qNullSuppression:true}],qMeasures:[{qDef:{qDef:t?e.excludedVis.measure:e.includedVis.measure,qLabel:void 0===e.measureAggregation?e.measure:"".concat(e.measureAggregation[0].toUpperCase()+e.measureAggregation.slice(1),"(").concat(e.measure,")"),qNumFormat:{qType:"F",qnDec:2,qUseThou:0,qFmt:"#,##0.00",qDec:".",qThou:","}},qSortBy:{qSortByAscii:-1}}],qInterColumnSortOrder:[1,0],qInitialDataFetch:[{qTop:0,qHeight:500,qLeft:0,qWidth:2}],columnOrder:[0,1],columnWidths:[197,230],qSuppressMissing:true,qReductionMode:"N",qMode:"S",qPseudoDimPos:-1,qNoOfLeftDims:-1,qMaxStackedCells:5e3},qInfo:{qId:"",qType:"visualization"},visualization:"table"};return z["a"].getApp().then((function(e){return e.enigmaModel.createSessionObject(n).then((function(e){return e}))}))}function De(e){if(e&&e.selectionsInStates){var t=k["a"].getAllSelectionsInStates(e);var n=t.filter((function(e){return true===e.qOneAndOnlyOne})).map((function(e,t){return"<strong>".concat(t?" ":"").concat(e.name,"</strong>")}));if(n.length>0)return{isOneAndOnlyOne:true,items:n};return false}return false}function Oe(e){if(e&&e.selectionsInStates){var t=k["a"].getAllSelectionsInStates(e);if(t.filter((function(e){return true===e.qLocked})).length>0)return true;return false}return false}function Le(){return Y["a"].getList().then((function(e){return e.getLayout().then((function(e){return e.map((function(e){return{qName:e.qData.title,masterItem:true,libId:e.qInfo.qId,name:e.qData.title}}))}))}))}function Me(){return W["a"].getList().then((function(e){return e.getLayout().then((function(e){return e.map((function(e){return{qName:e.qName,masterItem:false,name:e.qName}}))}))}))}function Pe(e){var t=false;var n;if(Object(X["b"])("SELECTION_INSIGHTS_V2")){var r=function r(i){var a=e.vis.analysis.matchRecord.matches[i];if("dimension"===a.slotRole){n=a.libId;t=oe.some((function(e){if(void 0!==a.libId)return e.masterItem&&e.libId===a.libId;return!e.masterItem&&a.field===e.qName}))}};for(var i in e.vis.analysis.matchRecord.matches)r(i)}return{isUserDimension:t,libId:n}}var Ne={getSheet:function e(t){return Se(t).then((function(e){return e}))},getInsightDimensions:function e(t,n){void 0===n&&le?n=le:le=n;return Ee(t,n).then((function(e){ie={};ie=e.insights;var t=[];for(var n in ie){var r={};r.excluded=parseFloat(ie[n].vis.analysis.numExcluded);r.included=parseFloat(ie[n].vis.analysis.distinctCount)-parseFloat(ie[n].vis.analysis.numExcluded);r.summary=U["default"].get("SelectionInsights.CardCountsSummary",[r.excluded,r.excluded+r.included,ve(r.excluded/(r.excluded+r.included))]);var i=Pe(ie[n]);t.push({dimension:n,counts:r,measure:ie[n].measure,measureAggregation:ie[n].measureAggregation,show:true,generic:ie[n].generic,isUserSelected:i.isUserDimension,libId:i.libId})}return{insights:Object(X["b"])("SELECTION_INSIGHTS_V2")?t.concat(e.noExclusionDimensions):t,measure:e.measure,requiredSelections:null===e||void 0===e?void 0:e.requiredSelections}})).catch((function(e){throw e}))},getInsightSummary:function e(t,n){var r=ie[t].vis;return be(n,r).then((function(e){return e}))},getLongInsightSummary:function e(t){return ge(t)},getInsightDetails:function e(t){if(void 0===ie[t]){se.generic=Object(X["b"])("SELECTION_INSIGHTS_V2")&&"sum"!==se.measureAggregation;return se}return ie[t].insight},clearInsights:function e(){ie={}},getMeasures:function e(t){return Ie(t).then((function(e){return e}))},getLocalizedPercentage:function e(t){return ve(t)},getSelectionItems:function e(t){return Ae(t)},getTableVis:function e(t,n){return Te(t,n).then((function(e){return e}))},isOneAndOnlyOne:function e(t){return De(t)},isHasLockedSelections:function e(t){return Oe(t)},getDimensions:function e(t){return Le().then((function(e){if(t)return Me().then((function(t){return e.concat(t)}));return e}))},getUserDimensions:function e(){return oe},addUserDimension:function e(t){var n=oe.filter((function(e){if(t.masterItem)return!!e.masterItem&&t.libId===e.libId;return!e.masterItem&&t.name===e.name}));0===n.length&&oe.push(t)},removeUserDimension:function e(t){oe=oe.filter((function(e){if(void 0===t.libId)return void 0===e.name||e.name!==t.name;return void 0===e.libId||e.libId!==t.libId}))},getOpenAppPrefix:function e(t,n){return t.substr(0,t.toLowerCase().lastIndexOf(n)+1)},getOpenAppConfig:function e(){return{host:window.location.hostname,prefix:this.getOpenAppPrefix(window.location.pathname,"/sense/"),port:window.location.port,isSecure:"https:"===window.location.protocol}},numericalAbbreviation:fe,setAbbreviations:pe};var Re='<div\n  tid="selection-insights-card-container"\n  class="qv-selections-insights-cards-container"\n  ng-show="!$ctrl.isRefreshing && $ctrl.hasInsights"\n>\n  <div ng-show="!$ctrl.showLoading" class="qv-selections-empty-cards">\n    <div\n      tid="current-selections-card"\n      class="card selection-insights-card selection-insights-card--current-selection"\n      ng-class="{\'active\': $ctrl.activeCard === -1 && !$ctrl.cardIsInsight, \'disabled\': $ctrl.refreshActive}"\n      ng-click="$ctrl.openCard(-1)"\n      tabindex="0"\n    >\n      <div tid="no-longer-valid-overlay" class="no-longer-valid-overlay" ng-if="$ctrl.refreshActive">\n        <div class="gray-overlay"></div>\n        <span class="no-longer-valid-text" q-translation="SelectionInsights.Refresh.NoLongerValid"></span>\n      </div>\n      <div class="insight-card-content selection-insights-card--current-selection-content">\n        <div class="insight-card-body">\n          <div class="insight-dimension-title">\n            <div class="insight-dimension-name" title="{{$ctrl.itemString}}">{{$ctrl.itemString}}</div>\n          </div>\n          <div\n            class="insight-card-body-your-selections"\n            q-translation="SelectionInsights.CardSummaryYourSelections"\n            q-title-translation="SelectionInsights.CardSummaryYourSelections"\n          ></div>\n          <div\n            class="insight-card-body-account"\n            ng-if="!$ctrl.isGeneric"\n            q-translation="SelectionInsights.CardSummaryAccountFor"\n          ></div>\n          <div\n            class="insight-card-body-account"\n            ng-if="$ctrl.isGeneric"\n            q-translation="SelectionInsights.CardSummarySelectionGeneric"\n          ></div>\n          <div class="insight-measure-title">\n            <div class="insight-current-selection-value" ng-show="$ctrl.selectionContribution">\n              {{ $ctrl.selectionContribution }}\n            </div>\n            <div class="insight-measure-name" title="">\n              {{ $ctrl.measure }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="selection-insights--other-fields" q-translation="SelectionInsights.FoundOtherFields"></div>\n    <div\n      tid="selection-insights-card"\n      ng-repeat="insight in $ctrl.insights track by $index"\n      ng-if="insight.isUserSelected && !insight.hidden"\n      id="insightUserCard{{ $index }}"\n      class="card selection-insights-card insight-card"\n      ng-class="{\'active\': $ctrl.activeCard === $index && $ctrl.cardIsInsight, \'disabled\': $ctrl.refreshActive || !insight.show, \'inactive\': insight.summaryNaN }"\n      ng-click="$ctrl.openCard($index)"\n      tabindex="0"\n    >\n      <div ng-if="!$ctrl.refreshActive" class="remove-card-container" q-title-translation="SelectionInsights.DeleteDimension">\n        <span\n          class="lui-icon lui-icon--close"\n          ng-click="$event.stopPropagation(); $ctrl.removeCard(insight, $index)"\n        ></span>\n      </div>\n      <div tid="no-longer-valid-overlay" class="no-longer-valid-overlay" ng-if="$ctrl.refreshActive">\n        <div class="gray-overlay"></div>\n        <span class="no-longer-valid-text" q-translation="SelectionInsights.Refresh.NoLongerValid"></span>\n      </div>\n      <div class="insight-bar-container"></div>\n      <div class="insight-card-content">\n        <div class="insight-card-body">\n          <div class="insight-dimension-title">\n            <div class="insight-dimension-name" title="{{ insight.dimension }}">\n              {{ insight.dimension }}\n            </div>\n          </div>\n          <div ng-if="insight.noExclusionFlag"\n            tid="insight-counts-summary"\n            class="insight-card-body-your-selections no-exclusions"\n            q-translation="SelectionInsights.NoExclusions"\n          ></div>\n          <div ng-if="insight.noExclusionFlag" class="insight-measure-title">\n            <div class="insight-measure-value" q-translation="SelectionInsights.NotAvailable"></div>\n            <div class="insight-measure-name" title="{{ $ctrl.measure }}">\n              {{ $ctrl.measure }}\n            </div>\n          </div>\n          <div ng-if="!insight.noExclusionFlag"\n            tid="insight-counts-summary"\n            class="insight-card-body-your-selections"\n            title="{{insight.counts.summary}}"\n          >\n            {{insight.counts.summary}}\n          </div>\n          <div\n            class="insight-card-body-account"\n            ng-if="!insight.generic && !insight.noExclusionFlag"\n            q-translation="SelectionInsights.CardSummaryAccountFor"\n          ></div>\n          <div\n            class="insight-card-body-account"\n            ng-if="insight.generic && !insight.noExclusionFlag"\n            q-translation="SelectionInsights.CardSummarContributionGeneric"\n          ></div>\n          <div class="insight-measure-title" ng-if="!insight.summaryError && !insight.summaryNaN && insight.show && !insight.noExclusionFlag">\n            <div class="insight-measure-value">\n              {{ insight.summaryString }}\n            </div>\n            <div class="insight-measure-name" ng-if="!insight.noExclusionFlag" title="{{ insight.measure }}">\n              {{ insight.measure }}\n            </div>\n          </div>\n          <div class="insight-measure-title" ng-if="insight.summaryError">\n            <span class="timeout-error" q-translation="SelectionInsights.ErrorTimeout"></span>\n          </div>\n          <div class="insight-measure-title" ng-if="insight.summaryNaN">\n            <span class="invalid-error" q-translation="SelectionInsights.InvalidMeasure"></span>\n          </div>\n        </div>\n      </div>\n      <div ng-if="$ctrl.showLoading" class="qv-selections-empty-cards">\n        <div class="empty card"></div>\n        <div class="empty card"></div>\n        <div class="empty card"></div>\n        <div class="empty card"></div>\n      </div>\n    </div>\n    <div\n      tid="selection-insights-card"\n      ng-repeat="insight in $ctrl.insights track by $index"\n      ng-if="!insight.isUserSelected && !insight.noExclusionFlag && !insight.noInsight"\n      id="insightCard{{ $index }}"\n      class="card selection-insights-card insight-card"\n      ng-class="{\'active\': $ctrl.activeCard === $index && $ctrl.cardIsInsight, \'disabled\': $ctrl.refreshActive || !insight.show, \'inactive\': insight.summaryNaN }"\n      ng-click="$ctrl.openCard($index)"\n      tabindex="0"\n    >\n      <div tid="no-longer-valid-overlay" class="no-longer-valid-overlay" ng-if="$ctrl.refreshActive">\n        <div class="gray-overlay"></div>\n        <span class="no-longer-valid-text" q-translation="SelectionInsights.Refresh.NoLongerValid"></span>\n      </div>\n      <div class="insight-bar-container"></div>\n      <div class="insight-card-content">\n        <div class="insight-card-body">\n          <div class="insight-dimension-title">\n            <div class="insight-dimension-name" title="{{ insight.dimension }}">\n              {{ insight.dimension }}\n            </div>\n          </div>\n          <div\n            tid="insight-counts-summary"\n            class="insight-card-body-your-selections"\n            title="{{insight.counts.summary}}"\n          >\n            {{insight.counts.summary}}\n          </div>\n          <div\n            class="insight-card-body-account"\n            ng-if="!insight.generic"\n            q-translation="SelectionInsights.CardSummaryAccountFor"\n          ></div>\n          <div\n            class="insight-card-body-account"\n            ng-if="insight.generic"\n            q-translation="SelectionInsights.CardSummarContributionGeneric"\n          ></div>\n          <div class="insight-measure-title" ng-if="!insight.summaryError && !insight.summaryNaN && insight.show">\n            <div class="insight-measure-value">\n              {{ insight.summaryString }}\n            </div>\n            <div class="insight-measure-name" title="{{ insight.measure }}">\n              {{ insight.measure }}\n            </div>\n          </div>\n          <div class="insight-measure-title" ng-if="insight.summaryError">\n            <span class="timeout-error" q-translation="SelectionInsights.ErrorTimeout"></span>\n          </div>\n          <div class="insight-measure-title" ng-if="insight.summaryNaN">\n            <span class="invalid-error" q-translation="SelectionInsights.InvalidMeasure"></span>\n          </div>\n        </div>\n      </div>\n      <div ng-if="$ctrl.showLoading" class="qv-selections-empty-cards">\n        <div class="empty card"></div>\n        <div class="empty card"></div>\n        <div class="empty card"></div>\n        <div class="empty card"></div>\n      </div>\n    </div>\n    <div class="hr-div card-divider" ng-if="$ctrl.isV2 && $ctrl.hasNoExclusions">\n      <hr class="qv-selection-insights-hr" />\n    </div>\n    <div tid="no-exclusions-header" class="no-exclusions-header" ng-if="$ctrl.isV2 && $ctrl.hasNoExclusions" ng-click="$ctrl.showNoExclusions = !$ctrl.showNoExclusions">\n      <div class="no-exclusions-header-title" q-translation="SelectionInsights.NoExclusionsTitle"></div>\n      <span\n        class="lui-icon lui-button__icon small lui-icon--small"\n        ng-class="{\'lui-icon--arrow-down\' : $ctrl.showNoExclusions, \'lui-icon--arrow-right\': !$ctrl.showNoExclusions}"\n      ></span>\n    </div>\n    \x3c!--    This is where cards with no exclusions go--\x3e\n    <div ng-if="$ctrl.isV2 && $ctrl.hasNoExclusions" class="no-exclusions-collapsible" ng-class="{\'exclusions-visible\': $ctrl.showNoExclusions}">\n      <div class="no-exclusions-header-description" q-translation="SelectionInsights.NoExclusionsDescription">\n      </div>\n      <div\n        tid="selection-insights-card"\n        ng-repeat="insight in $ctrl.insights track by $index"\n        ng-if="!insight.isUserSelected && !insight.noExclusionFlag && insight.noInsight"\n        id="noInsightCard{{ $index }}"\n        class="card selection-insights-card insight-card no-insights-card"\n        ng-class="{\'active\': $ctrl.activeCard === $index && $ctrl.cardIsInsight, \'disabled\': $ctrl.refreshActive || !insight.show, \'inactive\': insight.summaryNaN }"\n        ng-click="$ctrl.openCard($index)"\n        tabindex="0"\n      >\n        <div tid="no-longer-valid-overlay" class="no-longer-valid-overlay" ng-if="$ctrl.refreshActive">\n          <div class="gray-overlay"></div>\n          <span class="no-longer-valid-text" q-translation="SelectionInsights.Refresh.NoLongerValid"></span>\n        </div>\n        <div class="insight-bar-container"></div>\n        <div class="insight-card-content">\n          <div class="insight-card-body">\n            <div class="insight-dimension-title">\n              <div class="insight-dimension-name" title="{{ insight.dimension }}">\n                {{ insight.dimension }}\n              </div>\n            </div>\n            <div\n              tid="insight-counts-summary"\n              class="insight-card-body-your-selections"\n              title="{{insight.counts.summary}}"\n            >\n              {{insight.counts.summary}}\n            </div>\n            <div\n              class="insight-card-body-account"\n              ng-if="!insight.generic"\n              q-translation="SelectionInsights.CardSummaryAccountFor"\n            ></div>\n            <div\n              class="insight-card-body-account"\n              ng-if="insight.generic"\n              q-translation="SelectionInsights.CardSummarContributionGeneric"\n            ></div>\n            <div class="insight-measure-title" ng-if="!insight.summaryError && !insight.summaryNaN && insight.show">\n              <div class="insight-measure-value">\n                {{ insight.summaryString }}\n              </div>\n              <div class="insight-measure-name" title="{{ insight.measure }}">\n                {{ insight.measure }}\n              </div>\n            </div>\n            <div class="insight-measure-title" ng-if="insight.summaryError">\n              <span class="timeout-error" q-translation="SelectionInsights.ErrorTimeout"></span>\n            </div>\n            <div class="insight-measure-title" ng-if="insight.summaryNaN">\n              <span class="invalid-error" q-translation="SelectionInsights.InvalidMeasure"></span>\n            </div>\n          </div>\n        </div>\n        <div ng-if="$ctrl.showLoading" class="qv-selections-empty-cards">\n          <div class="empty card"></div>\n          <div class="empty card"></div>\n          <div class="empty card"></div>\n          <div class="empty card"></div>\n        </div>\n      </div>\n      <div\n        tid="selection-insights-card"\n        ng-repeat="insight in $ctrl.insights track by $index"\n        ng-if="insight.noExclusionFlag && !insight.isUserSelected"\n        id="insightNoExclusionCard{{ $index }}"\n        class="card selection-insights-card insight-card no-exclusions-card"\n        ng-class="{\'active\': $ctrl.activeCard === $index && $ctrl.cardIsInsight, \'disabled\': $ctrl.refreshActive}"\n        ng-click="$ctrl.openCard($index)"\n        tabindex="0"\n      >\n        <div tid="no-longer-valid-overlay" class="no-longer-valid-overlay" ng-if="$ctrl.refreshActive">\n          <div class="gray-overlay"></div>\n          <span class="no-longer-valid-text" q-translation="SelectionInsights.Refresh.NoLongerValid"></span>\n        </div>\n        <div class="insight-bar-container"></div>\n        <div class="insight-card-content">\n          <div class="insight-card-body">\n            <div class="insight-dimension-title">\n              <div class="insight-dimension-name" title="{{ insight.name }}">\n                {{ insight.name }}\n              </div>\n            </div>\n            <div\n              tid="insight-counts-summary"\n              class="insight-card-body-your-selections"\n              q-translation="SelectionInsights.NoExclusions"\n            ></div>\n            <div class="insight-measure-title">\n              <div class="insight-measure-value" q-translation="SelectionInsights.NotAvailable"></div>\n              <div class="insight-measure-name" title="{{ $ctrl.measure }}">\n                {{ $ctrl.measure }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div ng-if="$ctrl.showLoading" class="qv-selections-empty-cards">\n          <div class="empty card"></div>\n          <div class="empty card"></div>\n          <div class="empty card"></div>\n          <div class="empty card"></div>\n        </div>\n      </div>\n    </div>\n\n    <div id="cardLoading" class="card loading-card selection-insights-card inactive" ng-if="$ctrl.loadingCards">\n      <div class="insight-bar-container">\n        <div class="loading-line bar"></div>\n      </div>\n      <div class="insight-card-content">\n        <div class="insight-card-body">\n          <div class="loading-line title"></div>\n          <div class="loading-line count"></div>\n          <div class="loading-line contribution"></div>\n          <div class="measure-container">\n            <div class="loading-line percent"></div>\n            <div class="loading-line measure"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- LOADING --\x3e\n<div class="qv-selections-insights-loading" ng-if="$ctrl.isRefreshing">\n  <div class="spinner-container">\n    <qv-spinner show="$ctrl.isRefreshing" center-in-parent="true"></qv-spinner>\n  </div>\n  <div class="loading-message" q-translation="SelectionInsights.Loading"></div>\n</div>\n\n\x3c!-- NO INSIGHTS FOUND --\x3e\n<div class="qv-selections-no-insights" ng-show="!$ctrl.isRefreshing && !$ctrl.hasInsights">\n  <div class="no-insights-icon"></div>\n  <p class="qv-selections-insights--p" q-translation="ExploreSelections.NoInsightsWithSelection.Paragraph1"></p>\n  <div\n    ng-if="!$ctrl.showFields"\n    class="select-fields"\n    q-translation="ExploreSelections.NoInsightsWithSelection.Paragraph3"\n  ></div>\n</div>\n\n';o["default"].nativeComponent("qvSelectionInsightsCardContainer",{bindings:{showLoading:"<",insights:"=",openCard:"<",activeCard:"<",newMeasureChosen:"=",newSelection:"=",showFields:"<",loadingCards:"<",measure:"<",selectedInsight:"=",cardIsInsight:"<"},controller:["$timeout",function(e){var t=this;this.showLoading=true;this.insights=[];this.refreshActive=false;this.isRefreshing=false;this.hasInsights=true;this.unsupportedMeasure=false;this.itemString="";this.selectionContribution="";this.isGeneric=false;this.isV2=Object(X["b"])("SELECTION_INSIGHTS_V2");this.showNoExclusions=false;this.hasNoExclusions=true;this.$onInit=function(){_.a.selectAll(".insight-bar-container svg").remove()};function n(){if(t.insights.length>0)if(t.isV2&&"sum"!==t.insights[0].measureAggregation){t.isGeneric=Ne.getInsightDetails(t.insights[0].dimension,t.app).generic;t.selectionContribution=Ne.getInsightDetails(t.insights[0].dimension,t.app).selectedMeasure.selected.num}else{var e=Ne.getInsightDetails(t.insights[0].dimension,t.app).selectedMeasure.selected.percentage/100;t.selectionContribution=t.getLocalizedPercentage(e)}}D["a"].subscribe("selection/insights/updated",(function(){e((function(){t.hasInsights=t.insights.length>0;t.hasNoExclusions=t.insights.filter((function(e){return(e.noInsight||e.noExclusionFlag)&&!e.isUserSelected})).length>0;n()}))}));D["a"].subscribe("selection/insight/draw",(function(t){e((function(){var e="insightCard";t.insight.isUserSelected?e="insightUserCard":t.insight.noExclusionFlag?e="insightNoExclusionCard":t.insight.noInsight&&(e="noInsightCard");_.a.select("#".concat(e).concat(t.index," .insight-bar-container svg")).remove();i(t.insight,t.index,e)}))}));D["a"].subscribe("selection/insights/refresh",(function(){t.isRefreshing=true}));D["a"].subscribe("selection/insights/refreshed",(function(){t.isRefreshing=false;t.refreshActive=false;t.hasInsights=false}));D["a"].subscribe("selection/insights/new",(function(){t.isRefreshing=false;t.refreshActive=false}));D["a"].subscribe("selection/insights/measure/cancel",(function(){t.refreshActive=false}));D["a"].subscribe("selection/insights/fields/change",(function(){t.refreshActive=true}));D["a"].subscribe("selection/insights/selection/changed",(function(){t.refreshActive=true}));D["a"].subscribe("selection/insights/current-selection",(function(e){r(Ne.getSelectionItems(e))}));function r(e){if(e){t.itemString="";e.forEach((function(n,r){e.length-1===r?t.itemString+=n.name:t.itemString+="".concat(n.name,", ")}))}}this.getLocalizedPercentage=function(e){return Ne.getLocalizedPercentage(e)};this.getMeasurePercentage=function(e){var n=e.counts.excluded+e.counts.included;var r=e.counts.excluded<e.counts.included?e.counts.excluded:e.counts.included;var i=r/n*100;var a=Math.round(10*i)/100;a=t.getLocalizedPercentage(a/10);return a};this.removeCard=function(e,n){var r=void 0===e.libId?{name:e.dimension}:{libId:e.libId};Ne.removeUserDimension(r);t.insights[n].hidden=true};function i(e,t,n){var r=124;var i=_.a.select("#".concat(n).concat(t," .insight-bar-container")).append("svg").attr("width",44).attr("height",125);var a=i.append("g");var o=0;var s=r;if(!e.noExclusionFlag){o=e.counts.excluded/(e.counts.excluded+e.counts.included)*100/100*r;s=e.counts.included/(e.counts.excluded+e.counts.included)*100/100*r}a.append("rect").style("fill","#A9A9A9").attr("width",12).attr("height",Math.ceil(o)).attr("y",Math.ceil(s)).attr("x",0);a.append("rect").style("fill","white").style("stroke-width",1).style("stroke","#E6E6E6").attr("width",12).attr("height",Math.ceil(s)).attr("y",0).attr("x",0);if(!e.noExclusionFlag){var l=[];var c=Math.ceil(s)+Math.ceil(o)/2;l.push([{x:12,y:c},{x:28,y:38}]);var u=_.a.svg.line().x((function(e){return e.x})).y((function(e){return e.y}));var d=i.append("g").attr("class","lines");d.selectAll("path").data(l).enter().append("path").attr({d:u,"stroke-dasharray":"790 790","stroke-dashoffset":0}).style("stroke",(function(e,t){return t>1?"white":"#A9A9A9"})).style("stroke-width","1").attr("opacity",1)}}this.$onDestroy=function(){D["a"].unsubscribe("selection/insights/updated");D["a"].unsubscribe("selection/insights/fields/change");D["a"].unsubscribe("selection/insights/measure/cancel");D["a"].unsubscribe("selection/insights/selection/changed");D["a"].unsubscribe("selection/insights/refresh");D["a"].unsubscribe("selection/insights/new");D["a"].unsubscribe("selection/insights/refreshed");D["a"].unsubscribe("selection/insight/draw");D["a"].unsubscribe("selection/insights/current-selection")}}],template:Re});var Fe='<div class="qv-selections-insights-details" ng-show="$ctrl.showInsightDetails">\n  <div class="main-details-wrapper" ng-class="{\'disabled\': $ctrl.refreshActive}">\n    <div ng-if="$ctrl.refreshActive" class="gray-overlay"></div>\n    <div class="current-selections-container" ng-show="!$ctrl.cardIsInsight">\n      <div class="current-selections-container-inner">\n        <qv-selection-insights-current selected-insight="$ctrl.selectedInsight" back-to-selections="$ctrl.backToSelections()"></qv-selection-insights-current>\n      </div>\n    </div>\n    <div class="details-container" ng-show="$ctrl.cardIsInsight">\n      <div class="details-container-inner">\n        <div class="closeBtn">\n          <button tid="back-to-selection-button" class="lui-button" ng-click="$ctrl.backToSelections()" q-translation="SelectionInsights.BackToSelections">\n          </button>\n        </div>\n        <div class="details-body">\n          <div class="title details-title">\n            <span tid="insight-details-title" ng-bind-html="$ctrl.detailsTitle"></span>\n          </div>\n          <div tid="insight-details-summary" class="detail-summary" >\n            <div q-translation="SelectionInsights.NoExclusionsInsight" ng-if="$ctrl.selectedInsight.counts.excluded === 0"></div>\n            <div ng-bind-html="$ctrl.selectedInsight.summaryStringLong"></div>\n          </div>\n          <div class="qv-titles-and-bars">\n            <div class="bars-titles" ng-class="{\'large-title\': $ctrl.isV2}">\n              <div class="title-container longer" ng-class="{\'title-container-generic\': $ctrl.selectedInsight.generic, \'large-title\': $ctrl.isV2}" q-title-translation="{{ $ctrl.selectedInsight.dimension }}">\n                <div tid="insights-with-selection-title" class="title-longer">\n                  {{ $ctrl.selectedInsight.dimension }}\n                </div>\n                <div tid="insight-with-selections-bar-total" ng-if="!$ctrl.isV2" class="bar-total" q-translation="SelectionInsights.CountBarTotal, {{$ctrl.selectedInsight.counts.excluded + $ctrl.selectedInsight.counts.included}}" title="{{$ctrl.countBarTotal()}}"></div>\n              </div>\n              <div class="title-container" ng-class="{\'large-title\': $ctrl.isV2}">\n                <div tid="insights-without-selection-title" ng-if="!$ctrl.selectedInsight.generic" class="title-longer" q-translation="SelectionInsights.MeasureBarTitle, {{$ctrl.selectedInsight.measureAggregation[0].toUpperCase() + $ctrl.selectedInsight.measureAggregation.slice(1)}}, {{$ctrl.selectedInsight.measure}}"\n                     title="{{$ctrl.selectionInsightsMeasureBarTitle()}}"></div>\n                <div tid="insights-without-selection-title" ng-if="$ctrl.selectedInsight.generic" class="title-longer" title="{{$ctrl.selectedInsight.measure}}">\n                  {{$ctrl.selectedInsight.measure}}\n                </div>\n                <div tid="insight-without-selections-bar-total" ng-if="!$ctrl.isV2" class="bar-total" q-translation="SelectionInsights.SelectionsBarTotal, {{$ctrl.selectedInsight.selectedMeasure.total}}" title="{{$ctrl.selectionsBarTotal()}}"></div>\n              </div>\n            </div>\n\n            <div class="bars-container negative-chart" ng-class="{\'large-layout\': $ctrl.isV2}" ng-show="$ctrl.selectedInsight.isMeasureNegative && !$ctrl.showing.table">\n              <div class="val-dist">\n\n              </div>\n              <div class="legend-dist">\n                <div class="possible-legend">\n                  <div class="square">\n                    <div class="white-square"></div>\n                  </div>\n                  <div class="legend-label" tid="possible-chart-legend" q-translation="SelectionInsights.Possible" q-title-translation="{{SelectionInsights.Possible}}"></div>\n                </div>\n                <div class="excluded-legend">\n                  <div class="square">\n                    <div class="gray-square"></div>\n                    <div class="purple-square"></div>\n                  </div>\n                  <div class="legend-label" tid="excluded-chart-legend" q-translation="SelectionInsights.Excluded" q-title-translation="{{SelectionInsights.Excluded}}"></div>\n                </div>\n\n              </div>\n              <div class="measure-dist">\n\n              </div>\n            </div>\n\n            <div class="bars-container" ng-show="!$ctrl.selectedInsight.isMeasureNegative && !$ctrl.showing.table" ng-class="{\'generic-bars\': $ctrl.selectedInsight.generic, \'large-layout\': $ctrl.isV2}">\n              <div class="value-bar" ng-class="{\'negative\': $ctrl.selectedInsight.isMeasureNegative}">\n                <div tid="insight-with-selections-included-bar" class="bar included" ng-style="{height: ($ctrl.getPercentage(\'included\') /100) * 427 + \'px\'}">\n                  <div tid="insight-with-selections-included-measure-value" class="label" ng-style="{top: ($ctrl.getPercentage(\'included\')/100) * 427 + 5 + \'px\'}"\n                       ng-class="{\'overlay-top\': !$ctrl.isLabelContained($ctrl.getPercentage(\'included\')), \'small\': !$ctrl.isLabelSmall($ctrl.getPercentage(\'included\'))}">\n                    <span title="{{$ctrl.selectedInsight.counts.included}}">{{ $ctrl.formatLargeNumber($ctrl.selectedInsight.counts.included) }}</span>\n                    <div tid="insight-with-selections-included-measure-percentage" class="percentage">\n                      {{\n                      $ctrl.getPercentageLocalized(\n                      "included"\n                      )\n                      }}\n                    </div>\n                  </div>\n                </div>\n                <div tid="insight-with-selections-excluded-bar" class="bar excluded" ng-if="$ctrl.selectedInsight.counts.excluded > 0" ng-style="{height: ($ctrl.getPercentage(\'excluded\') / 100) * 427 + \'px\'}">\n                  <div tid="insight-with-selections-excluded-measure-value" class="label" ng-style="{bottom: ($ctrl.getPercentage(\'excluded\')/100) * 427 + 5 + \'px\'}"\n                       ng-class="{\'overlay-bottom\': !$ctrl.isLabelContained($ctrl.getPercentage(\'excluded\')), \'small\': !$ctrl.isLabelSmall($ctrl.getPercentage(\'excluded\'))}">\n                    <span title="{{$ctrl.selectedInsight.counts.excluded}}">{{ $ctrl.formatLargeNumber($ctrl.selectedInsight.counts.excluded) }}</span>\n                    <div tid="insight-with-selections-excluded-measure-percentage" class="percentage">\n                      {{\n                      $ctrl.getPercentageLocalized(\n                      "excluded"\n                      )\n                      }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="connectors" ng-if="!$ctrl.selectedInsight.isMeasureNegative && !$ctrl.selectedInsight.generic">\n                <div class="svg-container">\n                  <svg width="215" height="429"></svg>\n                </div>\n                <div class="possible-label" q-translation="SelectionInsights.PossibleValues"></div>\n                <div class="excluded-label" q-translation="SelectionInsights.ExcludedValues"></div>\n              </div>\n\n              <div class="connectors-generic" ng-if="!$ctrl.selectedInsight.isMeasureNegative && $ctrl.selectedInsight.generic">\n                <div class="svg-container">\n                  <svg width="215" height="429"></svg>\n                </div>\n              </div>\n              <div class="measure-bar excluded-insight" ng-if="!$ctrl.selectedInsight.isMeasureNegative && !$ctrl.selectedInsight.generic">\n                <div tid="insight-without-selections-included-bar" class="bar included" ng-style="{height: ($ctrl.selectedInsight.measureBreakdown.included.percentage/100) * 427 + \'px\'}">\n                  <div tid="insight-without-selections-included-measure-value" class="label" ng-style="{top: ($ctrl.selectedInsight.measureBreakdown.included.percentage/100) * 427 + 5 + \'px\'}"\n                       ng-class="{\'overlay-top\': !$ctrl.isLabelContained($ctrl.selectedInsight.measureBreakdown.included.percentage), \'small\': !$ctrl.isLabelSmall($ctrl.selectedInsight.measureBreakdown.included.percentage)}">\n                    <span title="{{$ctrl.selectedInsight.measureBreakdown\n                    .included.qNum}}">{{\n                    $ctrl.selectedInsight.measureBreakdown\n                    .included.num\n                      }}</span>\n                    <div tid="insight-without-selections-included-measure-percentage" class="percentage">\n                      {{\n                      $ctrl.getLocalizedPercentage(\n                      $ctrl.selectedInsight\n                      .measureBreakdown.included\n                      .percentage / 100\n                      )\n                      }}\n                    </div>\n                  </div>\n                </div>\n                <div tid="insight-without-selections-excluded-bar" class="bar excluded" ng-style="{height: ($ctrl.selectedInsight.measureBreakdown.excluded.percentage/100) * 427 + \'px\'}">\n                  <div tid="insight-without-selections-excluded-measure-value" class="label" ng-style="{bottom: ($ctrl.selectedInsight.measureBreakdown.excluded.percentage/100) * 427 + 5 + \'px\'}"\n                       ng-class="{\'overlay-bottom\': !$ctrl.isLabelContained($ctrl.selectedInsight.measureBreakdown.excluded.percentage), \'small\': !$ctrl.isLabelSmall($ctrl.selectedInsight.measureBreakdown.excluded.percentage)}">\n                    <span title="{{$ctrl.selectedInsight.measureBreakdown\n                    .excluded.qNum}}">{{\n                    $ctrl.selectedInsight.measureBreakdown\n                    .excluded.num\n                      }}</span>\n                    <div tid="insight-without-selections-excluded-measure-percentage" class="percentage">\n                      {{\n                      $ctrl.getLocalizedPercentage(\n                      $ctrl.selectedInsight\n                      .measureBreakdown.excluded\n                      .percentage / 100\n                      )\n                      }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="measure-bar-generic excluded-insight" ng-if="!$ctrl.selectedInsight.isMeasureNegative && $ctrl.selectedInsight.generic">\n                <div tid="measure-bar-generic-excluded-kpi" class="kpiBox included">\n                  <span title="{{$ctrl.selectedInsight.measureBreakdown.included.qNum}}">{{$ctrl.selectedInsight.measureBreakdown.included.num}}</span>\n                  <div class="kpiLabel" q-translation="SelectionInsights.Possible"></div>\n                </div>\n                <div tid="measure-bar-generic-included-kpi" ng-if="$ctrl.selectedInsight.measureBreakdown.excluded.num" class="kpiBox excluded">\n                  <span title="{{$ctrl.selectedInsight.measureBreakdown.excluded.qNum}}">{{$ctrl.selectedInsight.measureBreakdown.excluded.num}}</span>\n                  <div class="kpiLabel" q-translation="SelectionInsights.Excluded"></div>\n                </div>\n                <div tid="measure-bar-generic-included-kpi" ng-if="!$ctrl.selectedInsight.measureBreakdown.excluded.num" class="kpiBox excluded" >\n                  <span q-translation="SelectionInsights.NA"></span>\n                  <div class="kpiLabel" q-translation="SelectionInsights.Excluded"></div>\n                </div>\n              </div>\n            </div>\n\n          <div class="bars-container"  ng-class="{\'large-layout\': $ctrl.isV2}" style="display: block" ng-show="$ctrl.showing.table">\n            <div class="table-container" ng-class="{\'possible\': !$ctrl.showing.excluded}">\n              <qv-object tabindex="-1" class="cell-content" model="$ctrl.selectedInsight.table" options="$ctrl.celloptions"></qv-object>\n            </div>\n          </div>\n            <div class="total-bars-divider" ng-if="$ctrl.isV2 && !$ctrl.showing.table" ng-class="{\'generic-total-bars-divider\' : $ctrl.selectedInsight.generic}">\n              <div class="hr-div total-divider">\n                <hr class="qv-selection-insights-hr" />\n              </div>\n            </div>\n            <div class="total-bars-container"  ng-if="$ctrl.isV2 && !$ctrl.showing.table">\n              <div q-translation="SelectionInsights.TotalAllValues" class="total-all-values"></div>\n              <div tid="insight-with-selections-bar-total" class="bar-total">\n                <div class="total-number">{{$ctrl.selectedInsight.counts.excluded + $ctrl.selectedInsight.counts.included}}</div>\n                <div class="total-label" q-translation="SelectionInsights.Count"></div>\n              </div>\n              <div class="total-separator" ng-class="{\'generic-total-separator\' : $ctrl.selectedInsight.generic}"></div>\n              <div tid="insight-without-selections-bar-total" class="bar-total"  ng-class="{\'generic-bar-total\' : $ctrl.selectedInsight.generic}">\n                <div class="total-number">{{$ctrl.selectedInsight.selectedMeasure.total}}</div>\n                <div class="total-label">{{$ctrl.selectedInsight.measure}}</div>\n              </div>\n            </div>\n          <div class="toggle-values" ng-if="$ctrl.selectedInsight.counts.excluded > 0" ng-class="{\'show-table\': !$ctrl.showing.table, \'generic-toggle\' : $ctrl.selectedInsight.generic, \'large-layout\' : $ctrl.isV2}">\n            <button tid="show-table-button" ng-if="!$ctrl.showing.table" class="lui-button show-table--button" ng-click="$ctrl.showTable(true)">\n              <span class="lui-button__icon  lui-icon  lui-icon--table"></span><span class="lui-button__text" q-translation="SelectionInsights.ShowValues"></span>\n            </button>\n            <button tid="show-table-button" ng-if="!$ctrl.showing.excluded && $ctrl.showing.table" class="lui-button show-vis--button" ng-click="$ctrl.toggleShowTableExcluded(true)">\n              <span class="lui-button__text" q-translation="SelectionInsights.ViewExcluded"></span>\n            </button>\n            <button tid="show-table-button" ng-if="$ctrl.showing.excluded && $ctrl.showing.table" class="lui-button show-vis--button" ng-click="$ctrl.toggleShowTableExcluded(false)">\n              <span class="lui-button__text" q-translation="SelectionInsights.ViewPossible"></span>\n            </button>\n            <button tid="show-table-button" ng-if="$ctrl.showing.table" class="lui-button show-vis--button" ng-click="$ctrl.showTable(false)">\n              <span class="lui-button__icon  lui-icon  lui-icon--back"></span><span class="lui-button__text" q-translation="SelectionInsights.ShowVisualization"></span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="insight-summary-footer">\n      <div class="help-text" ng-bind-html="$ctrl.selectionHelp"></div>\n      <div class="btns" ng-if="!$ctrl.hasLockedSelections">\n        <button tid="select-possible-button" class="lui-button selection-btn" ng-click="$ctrl.selectPossible()" q-translation="Selections.Possible"></button>\n        <button tid="select-excluded-button" ng-if="$ctrl.selectedInsight.counts.excluded > 0" class="lui-button selection-btn" ng-click="$ctrl.selectExcluded()" q-translation="Selections.Excluded"></button>\n      </div>\n    </div>\n  </div>\n</div>\n</div>';var _e=n("Z9ZH");var je=n.n(_e);var Be='<div class="closeBtn">\n  <button\n    tid="back-to-selection-button-current"\n    class="lui-button"\n    ng-click="$ctrl.backToSelections()"\n    q-translation="SelectionInsights.BackToSelections"\n  ></button>\n</div>\n<div class="details-body">\n  <div class="title current-selection-title">\n    <span tid="selection-details-title" ng-bind-html="$ctrl.selectionsTitle"></span>\n  </div>\n  <div class="current-selection-caption">\n    <div tid="selections-caption" ng-bind-html="$ctrl.selectionsCaption"></div>\n  </div>\n  <div class="current-selection-details">\n    <div class="field-list">\n      <div\n        tid="selections-fields-title"\n        class="fields-title"\n        ng-class="{\'large-title\': $ctrl.isV2}"\n        q-translation="SelectionInsights.YourSelections"\n        q-title-translation="{{ SelectionInsights.YourSelections }}"\n      ></div>\n      <div class="fields-items">\n        <ul class="list" ng-show="$ctrl.items.length > 0">\n          <li\n            class="item"\n            tid="selection-insight-details-user-selections"\n            ng-class="{\'item-multi-state\': !item.isSingleState, \'multi-active\': multiPopoverFieldName && multiPopoverFieldName === item.qField}"\n            ng-repeat="item in $ctrl.items track by item.qField"\n            data-csid="{{ item.qField }}"\n            tabindex="0"\n            ng-keydown="handleKeyDown($event, item)"\n            aria-label="{{ item.screenReaderLabel }}"\n          >\n            <qv-current-selections-item ng-if="item.isSingleState" item="item"></qv-current-selections-item>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class="separator" ng-class="{\'negative\': $ctrl.selectedInsight.isSelectionNegative}">\n      <div class="legend-dist" ng-if="$ctrl.selectedInsight.isSelectionNegative">\n        <div class="selected-legend">\n          <div class="square">\n            <div class="green-square"></div>\n          </div>\n          <div\n            class="legend-label"\n            tid="selected-chart-legend"\n            q-translation="SelectionInsights.Selected"\n            q-title-translation="{{ SelectionInsights.Selected }}"\n          ></div>\n        </div>\n        <div class="excluded-legend">\n          <div class="square">\n            <div class="gray-square"></div>\n          </div>\n          <div\n            class="legend-label"\n            tid="excluded-chart-legend"\n            q-translation="SelectionInsights.Excluded"\n            q-title-translation="{{ SelectionInsights.Excluded }}"\n          ></div>\n        </div>\n      </div>\n      <div class="vertical" ng-style="{height: $ctrl.getVerticalHeight() + \'px\'}"></div>\n      <div\n        class="horizontal"\n        ng-if="!$ctrl.selectedInsight.generic"\n        ng-style="{\'margin-top\': $ctrl.getSeparatorPos() + \'px\'}"\n      ></div>\n      <div class="horizontal-generic" ng-if="$ctrl.selectedInsight.generic">\n        <div class="svg-container">\n          <svg width="215" height="429"></svg>\n        </div>\n      </div>\n    </div>\n    <div class="chart">\n      <div\n        ng-if="!$ctrl.selectedInsight.generic"\n        tid="selections-bar-title"\n        class="bar-title"\n        ng-class="{\'large-title\': $ctrl.isV2}"\n        q-translation="SelectionInsights.SelectionsBarTitle, {{\n\t\t\t\t\t$ctrl.measure\n\t\t\t\t}}"\n        q-translation-title="SelectionInsights.SelectionsBarTitle, {{\n\t\t\t\t\t$ctrl.measure\n\t\t\t\t}}"\n      ></div>\n      <div\n        ng-if="$ctrl.selectedInsight.generic"\n        tid="selections-bar-title"\n        class="bar-title"\n        ng-class="{\'large-title\': $ctrl.isV2}"\n       title="{{$ctrl.measure}}"\n      >{{$ctrl.measure}}</div>\n      <div ng-if="!$ctrl.isV2" tid="selections-bar-total" class="bar-total" title="{{ $ctrl.selectionsBarTotal() }}">\n        {{ $ctrl.selectionsBarTotal() }}\n      </div>\n      <div\n        class="bar selected"\n        ng-if="!$ctrl.selectedInsight.isSelectionNegative && !$ctrl.selectedInsight.generic"\n        ng-style="{height: ($ctrl.selectedInsight.selectedMeasure.selected.percentage/100) * 427 + \'px\'}"\n      >\n        <div\n          tid="selected-measure-number"\n          class="label"\n          ng-style="{top: ($ctrl.selectedInsight.selectedMeasure.selected.percentage/100) * 427 + 5 + \'px\'}"\n          ng-class="{\'overlay-top\': !$ctrl.isLabelContained($ctrl.selectedInsight.selectedMeasure.selected.percentage), \'small\': !$ctrl.isLabelSmall($ctrl.selectedInsight.selectedMeasure.selected.percentage)}"\n        >\n          {{ $ctrl.selectedInsight.selectedMeasure.selected.num }}\n          <div tid="selected-measure-percentage" class="percentage">\n            {{ $ctrl.getLocalizedPercentage( $ctrl.selectedInsight.selectedMeasure.selected .percentage / 100 ) }}\n          </div>\n        </div>\n      </div>\n      <div\n        class="bar excluded"\n        ng-if="!$ctrl.selectedInsight.isSelectionNegative  && !$ctrl.selectedInsight.generic"\n        ng-style="{height: ($ctrl.selectedInsight.selectedMeasure.excluded.percentage/100) * 427 + \'px\'}"\n      >\n        <div\n          tid="excluded-measure-number"\n          class="label"\n          ng-style="{bottom: ($ctrl.selectedInsight.selectedMeasure.excluded.percentage/100) * 427 + 5 + \'px\'}"\n          ng-class="{\'overlay-bottom\': !$ctrl.isLabelContained($ctrl.selectedInsight.selectedMeasure.excluded.percentage), \'small\': !$ctrl.isLabelSmall($ctrl.selectedInsight.selectedMeasure.excluded.percentage)}"\n        >\n          {{ $ctrl.selectedInsight.selectedMeasure.excluded.num }}\n          <div tid="excluded-measure-percentage" class="percentage">\n            {{ $ctrl.getLocalizedPercentage( $ctrl.selectedInsight.selectedMeasure.excluded .percentage / 100 ) }}\n          </div>\n        </div>\n      </div>\n\n      <div\n        class="measure-bar-generic"\n        ng-if="!$ctrl.selectedInsight.isSelectionNegative && $ctrl.selectedInsight.generic"\n      >\n        <div tid="measure-bar-generic-selected-kpi" class="kpiBox selected">\n          {{$ctrl.selectedInsight.selectedMeasure.selected.num}}\n          <div class="kpiLabel" q-translation="SelectionInsights.Selected"></div>\n        </div>\n\n        <div\n          tid="measure-bar-generic-excluded-kpi"\n          ng-if="$ctrl.selectedInsight.selectedMeasure.excluded.num"\n          class="kpiBox excluded"\n        >\n          {{$ctrl.selectedInsight.selectedMeasure.excluded.num}}\n          <div class="kpiLabel" q-translation="SelectionInsights.Excluded"></div>\n        </div>\n\n        <div\n          tid="measure-bar-generic-excluded-kpi"\n          ng-if="!$ctrl.selectedInsight.selectedMeasure.excluded.num"\n          class="kpiBox excluded"\n          q-translation="SelectionInsights.NA"\n        ></div>\n      </div>\n      <div class="negative-chart select-measure-dist" ng-show="$ctrl.selectedInsight.isSelectionNegative"></div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.isV2" class="totals-wrapper" ng-class="{\'generic-totals-wrapper\' : $ctrl.selectedInsight.generic}" class="total-all-values">\n  <div class="total-bars-divider"  ng-class="{\'generic-total-bars-divider\' : $ctrl.selectedInsight.generic}">\n  <div class="hr-div total-divider">\n    <hr class="qv-selection-insights-hr" />\n  </div>\n</div>\n  <div class="total-bars-container">\n    <div q-translation="SelectionInsights.TotalAllValues"  ng-class="{\'generic-totals\' : $ctrl.selectedInsight.generic}" class="total-all-values"></div>\n    <div tid="selections-bar-total" class="bar-total"  ng-class="{\'generic-bar-total\' : $ctrl.selectedInsight.generic}">\n      <div class="total-number">{{$ctrl.selectedInsight.selectedMeasure.total}}</div>\n      <div class="total-label">{{$ctrl.selectedInsight.measure}}</div>\n    </div>\n  </div>\n</div>\n</div>\n';var Ve=n("Xb14");function He(e){He="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return He(e)}o["default"].nativeComponent("qvSelectionInsightsCurrent",{bindings:{selectedInsight:"<",backToSelections:"&"},controller:["$scope","$timeout",function(e,t){var n=this;var r;var i=false;this.items=[];this.app=null;this.model=null;this.selectionsTitle="";this.measure="";this.selectionsCaption="";this.selectionsBarTotal="";this.isV2=Object(X["b"])("SELECTION_INSIGHTS_V2");D["a"].subscribe("selection/insights/current-selection",(function(e){n.items=Ne.getSelectionItems(e)}));D["a"].subscribe("selection/insights/current/open",(function(e){var t={measure:e.insight.measure,aggr:e.insight.measureAggregation,dimension:e.insight.dimension,contribution:e.insight.generic?e.insight.selectedMeasure.selected.num:e.insight.selectedMeasure.selected.percentage.toFixed(1),generic:e.insight.generic};var r=e.insight.isSelectionNegative||e.insight.generic?e.insight.selectedMeasure.selected.num:"".concat(e.insight.selectedMeasure.selected.percentage.toFixed(1),"%");n.measure=t.measure;var i=U["default"].get("SelectionInsights.SelectionsContributionsTitleGeneric","<strong>".concat(t.measure,"</strong>"));var s=U["default"].get("SelectionInsights.SelectionsContributionsTitle","<strong>".concat(t.measure,"</strong>"));n.selectionsTitle=t.generic?i:s;var l=U["default"].get("SelectionInsights.SelectionContributionCaptionGeneric",["<span>".concat(t.measure,"</span>"),"<span>".concat(r,"</span>")]);var c="";void 0!==t.aggr&&(c=U["default"].get("SelectionInsights.SelectionContributionCaption",["<span>".concat(t.measure,"</span>"),"<span>".concat(r,"</span>"),"<span>".concat(t.aggr[0].toUpperCase()).concat(t.aggr.slice(1),"</span>")]));n.selectionsCaption=t.generic?l:c;_.a.selectAll(".negative-chart.select-measure-dist svg").remove();if(e.insight.isSelectionNegative){var u=[{name:"selected",value:e.insight.selectedMeasure.selected.qNum,label:e.insight.selectedMeasure.selected.num},{name:"excluded",value:e.insight.selectedMeasure.excluded.qNum,label:e.insight.selectedMeasure.excluded.num}];o(u)}e.insight.generic&&a()}));function a(){t((function(){var e=386;var t=103;var r=43;var i=150;var a=38;var o=10;_.a.selectAll(".horizontal-generic svg").remove();var s=_.a.select(".horizontal-generic .svg-container").append("svg").attr("width",t).attr("height",e);var l=(n.items.length*a+(n.items.length-1)*o)/2;var c=r+i/2;var u=[{x:0,y:l},{x:t,y:c}];var d=_.a.svg.line().x((function(e){return e.x})).y((function(e){return e.y}));var f=[];f.push(u);var p=s.append("g").attr("class","lines");p.selectAll("path").data(f).enter().append("path").attr({d:d}).style("stroke","#009845").style("stroke-width","1").attr("opacity",1)}))}function o(e){var t=431;var n=120;var r=10;var i=".negative-chart.select-measure-dist";var a=45;var o=30;var s=_.a.select(".negative-chart".concat(i)).append("svg").attr("width",n+a).attr("height",t+a);var l=s.append("g").attr("transform","translate(".concat(r/2,",1)"));var c=_.a.scale.ordinal().rangeRoundBands([0,n]);var u=_.a.scale.linear().range([t,0]);c.domain(e.map((function(e){return e.name})));u.domain(_.a.extent(e,(function(e){return e.value})));var d=l.append("defs");d.append("filter").attr("id","blur").append("feGaussianBlur").attr("stdDeviation",5);d.append("pattern").attr("id","diagonalStripes").attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).attr("patternTransform","rotate(45)").append("rect").attr("width","2").attr("height","8").attr("fill","#4dc753");l.selectAll("bar").data(e).enter().append("rect").style("fill","rgba(0,0,0,0.1)").attr("x",(function(e){return c(e.name)})).attr("width",c.rangeBand()).attr("y",(function(e){if(e.value>0)return u(e.value);return u(0)})).attr("height",(function(e){return Math.abs(u(e.value)-u(0))})).attr("filter","url(#blur)").attr("rx",3).attr("ry",3);l.selectAll("bar").data(e).enter().append("rect").style("fill",(function(e){return"selected"===e.name?"#6cd475":"#D8D8D8"})).style("stroke",(function(e){return"selected"===e.name?"#37B342":"#959595"})).attr("x",(function(e){return c(e.name)})).attr("width",c.rangeBand()).attr("y",(function(e){if(e.value>0)return u(e.value);return u(0)+1})).attr("height",(function(e){return Math.abs(u(e.value)-u(0))})).attr("rx",3).attr("ry",3);l.selectAll("bar").data(e).enter().append("rect").style("fill",(function(e){return"selected"===e.name?"#6cd475":"#D8D8D8"})).attr("x",(function(e){return c(e.name)})).attr("width",c.rangeBand()).attr("y",(function(e){if(e.value>0)return u(e.value)-3;return u(0)+1})).attr("height",2);var f=s.append("g").attr("class","barLabels").attr("transform","translate(".concat(r/2,",0)"));e.forEach((function(e,t){l.append("line").style("stroke","selected"===e.name?"#37B342":"#959595").attr("x1",c(e.name)).attr("y1",(function(){if(e.value>0)return u(e.value);return u(0)})).attr("x2",c(e.name)).attr("y2",(function(){if(e.value>0)return u(e.value)-3;return u(0)+3}));t>0&&l.append("line").style("stroke","selected"===e.name?"#37B342":"#959595").attr("x1",c(e.name)+60).attr("y1",(function(){if(e.value>0)return u(e.value);return u(0)})).attr("x2",c(e.name)+60).attr("y2",(function(){if(e.value>0)return u(e.value)-3;return u(0)+3}));"selected"===e.name&&l.append("rect").attr("x",(function(){return c(e.name)})).attr("width",c.rangeBand()).attr("y",(function(){if(e.value>0)return u(e.value);return u(0)})).attr("height",(function(){return Math.abs(u(e.value)-u(0))})).attr("stroke","#504A9E").attr("stroke-width","0").attr("rx",3).attr("ry",3).attr("fill","url(#diagonalStripes)");var n=f.append("g");n.append("rect").attr("x",(function(){return c(e.name)})).attr("width",c.rangeBand()).attr("height",2).attr("y",(function(){if(e.value>0)return u(e.value);return u(0)})).attr("opacity",0);n.append("text").attr("x",c(e.name)+o).attr("y",(function(){if(e.value>0)return u(e.value)+20;if(Math.abs(u(e.value)-u(0))<o)return Math.abs(u(e.value)-u(0))+u(0)+20;return Math.abs(u(e.value)-u(0))+u(0)-10})).attr("text-anchor","middle").attr("class","grouped-bar-label").text(e.label).attr("fill",(function(){var t="#414141";"selected"===e.name&&(t=Math.abs(u(e.value)-u(0))<o?"#2F9938":"#FFFFFF");return t}))}));s.append("g").attr("class","x axis").append("line").attr("y1",u(0)).attr("y2",u(0)).attr("x2",n+r).attr("stroke","#404040").attr("stroke-width","3");var p=s.append("text").attr("x",n+2*r).attr("y",u(0)-28).attr("text-anchor","left").style("font-size","22px").attr("fill","#B3B3B3");p.append("tspan").attr("dx",0).attr("dy",4).text("+");p.append("tspan").attr("dx",-13).attr("dy",30).attr("fill","#404040").text("0");p.append("tspan").attr("dx",-10).attr("dy",30).text("-")}n.selectionsBarTotal=function(){if(n.selectedInsight&&n.selectedInsight.selectedMeasure.total)return U["default"].get("SelectionInsights.SelectionsBarTotal",[n.selectedInsight.selectedMeasure.total]);return};this.getLocalizedPercentage=function(e){return Ne.getLocalizedPercentage(e)};this.getSeparatorPos=function(){if(void 0!==n.items&&null!==n.selectedInsight&&void 0!==n.selectedInsight){var e=56;var t=427;if(n.selectedInsight.isSelectionNegative){var r=n.selectedInsight.selectedMeasure.selected.qNum;var i=n.selectedInsight.selectedMeasure.excluded.qNum;var a=0;t=431;var o=55;a=r<0?t-Math.abs(r)/2/((Math.abs(r)+i)/t):r/2/((Math.abs(i)+r)/t);return a+o}var s=38;var l=10;var c=(n.items.length*s+(n.items.length-1)*l)/2;var u=n.selectedInsight.selectedMeasure.selected.percentage/100*t/2;return e+Math.min(c,u)}return};this.isLabelContained=function(e){var t=427;var n=55;var r=e/100*t;return n<r};this.getLabelFontSize=function(e){var t=427;var n=65;var r=e/100*t;return n<r?"24px":"36px"};this.getNegativeMeasureText=function(){return U["default"].get("SelectionInsights.SelectionNegative",[n.selectedInsight.measureAggregation[0].toUpperCase()+n.selectedInsight.measureAggregation.slice(1),n.selectedInsight.measure])};function s(e){var t=e.qStateCounts;var n="";"object"===He(t)&&(n=" (".concat(t.qSelected+t.qSelectedExcluded+t.qLocked).concat(t.qLockedExcluded,"/").concat(e.qTotal,")"));return n}e.openTooltip=function(n,a){if(i||je.a.utils.touch)return;e.cancelTooltip();r=t((function(){i=true;var e=a.translation;var t=s(a);Ve["a"].open({content:[{header:(a.qReadableName||a.qField)+t,rows:[{content:e}]}],position:{x:n.clientX,y:n.clientY},alwaysOnTop:true,direction:"bottom",template:"current-selections-tooltip-template.ng.html"})}),500)};e.closeTooltip=function(){i=false;e.cancelTooltip();Ve["a"].close()};e.cancelTooltip=function(){t.cancel(r)};this.getNegativeMeasurePossible=function(){return U["default"].get("SelectionInsights.SelectionNegativePossible",[n.selectedInsight.measureAggregation[0].toUpperCase()+n.selectedInsight.measureAggregation.slice(1),n.selectedInsight.measure,"<span>".concat(n.selectedInsight.measureBreakdown.included.num,"</span>")])};this.getNegativeMeasureExcluded=function(){return U["default"].get("SelectionInsights.SelectionNegativeExcluded",[n.selectedInsight.measureAggregation[0].toUpperCase()+n.selectedInsight.measureAggregation.slice(1),n.selectedInsight.measure,"<span>".concat(n.selectedInsight.measureBreakdown.excluded.num,"</span>")])};this.isLabelSmall=function(e){var t=427;var n=65;var r=e/100*t;return n<r};this.getVerticalHeight=function(){if(void 0!==n.items&&null!==n.selectedInsight&&void 0!==n.selectedInsight){if(n.selectedInsight.isSelectionNegative)return 431;return 40*n.items.length+11*(n.items.length-1)}return};this.$onDestroy=function(){D["a"].unsubscribe("selection/insights/current-selection");D["a"].unsubscribe("selection/insights/current/open")}}],template:Be});o["default"].nativeComponent("qvSelectionInsightsDetails",{bindings:{showInsightDetails:"<",selectedInsight:"<",listbox:"<",layout:"<",cardIsInsight:"<",backToSelections:"&",showing:"="},controller:["$timeout",function(e){var t=this;this.detailsTitle="";this.measure="";this.selectionHelp="";this.refreshActive=false;this.selectionInsightsMeasureBarTitle="";this.hasLockedSelections=false;this.selectionsBarTotal="";this.options={isReadonly:true,isPopover:false,selections:false,showSearch:true};this.showExcludedValues=false;this.celloptions={selections:false};this.isV2=Object(X["b"])("SELECTION_INSIGHTS_V2");var n=new K["a"](U["default"].localeDetected,"","","","numeric");t.selectionInsightsMeasureBarTitle=function(){if(t.selectedInsight&&t.selectedInsight.measureAggregation)return U["default"].get("SelectionInsights.MeasureBarTitle",[t.selectedInsight.measureAggregation[0].toUpperCase()+t.selectedInsight.measureAggregation.slice(1),t.selectedInsight.measure]);return};t.selectionsBarTotal=function(){if(t.selectedInsight&&t.selectedInsight.selectedMeasure.total)return U["default"].get("SelectionInsights.SelectionsBarTotal",[t.selectedInsight.selectedMeasure.total]);return};t.countBarTotal=function(){if(t.selectedInsight&&t.selectedInsight.counts.excluded&&t.selectedInsight.counts.included)return U["default"].get("SelectionInsights.CountBarTotal",[t.selectedInsight.counts.excluded+t.selectedInsight.counts.included]);return};D["a"].subscribe("selection/insights/details/negative",(function(e){t.showExcludedValues=false;t.measure=e.measure;t.detailsTitle=U["default"].get("SelectionInsights.DimensionContributionsTitle",["<strong>".concat(e.dimension,"</strong>"),"<strong>".concat(e.measure,"</strong>")]);t.selectionHelp=U["default"].get("SelectionInsights.SelectionHelp","<strong>".concat(e.dimension,"</strong>"));r(e)}));D["a"].subscribe("selection/insights/details/updated",(function(e){t.showing={table:false,excluded:true};var n=U["default"].get("SelectionInsights.DimensionContributionsTitleGeneric",["<strong>".concat(e.measure,"</strong>"),"<strong>".concat(e.dimension,"</strong>")]);var r=U["default"].get("SelectionInsights.DimensionContributionsTitle",["<strong>".concat(e.dimension,"</strong>"),"<strong>".concat(e.measure,"</strong>")]);t.showExcludedValues=false;t.measure=e.measure;t.hasLockedSelections=Ne.isHasLockedSelections(t.layout);t.detailsTitle=e.generic?n:r;t.selectionHelp=U["default"].get(t.hasLockedSelections?"SelectionInsights.SelectionHelpWithLockedSelections":"SelectionInsights.SelectionHelp","<strong>".concat(e.dimension,"</strong>"));e.generic?a():o()}));D["a"].subscribe("selection/insights/measure/cancel",(function(){t.refreshActive=false}));D["a"].subscribe("selection/insights/fields/change",(function(){t.refreshActive=true}));D["a"].subscribe("selection/insights/updated",(function(){t.refreshActive=false}));function r(e){_.a.selectAll(".bars-container svg").remove();var t=[{name:"excluded",value:e.counts.excluded,label:e.counts.excluded},{name:"included",value:e.counts.included,label:e.counts.included}];i(t,"value");var n=[{name:"excluded",value:e.excludedMeasure.qNumber,label:e.measureBreakdown.excluded.num},{name:"included",value:e.includedMeasure.qNumber,label:e.measureBreakdown.included.num}];i(n,"measure")}function i(e,t){var n=431;var r=120;var i=10;var a="";var o=45;var s=30;a="value"===t?" .val-dist":" .measure-dist";var l=_.a.select(".negative-chart".concat(a)).append("svg").attr("width",r+o).attr("height",n+o);var c=l.append("g").attr("transform","translate(".concat(i/2,",1)"));var u=_.a.scale.ordinal().rangeRoundBands([0,r]);var d=_.a.scale.linear().range([n,0]);u.domain(e.map((function(e){return e.name})));"value"===t?d.domain([0,_.a.max(e,(function(e){return e.value}))]):d.domain(_.a.extent(e,(function(e){return e.value})));var f=c.append("defs");f.append("filter").attr("id","blur").append("feGaussianBlur").attr("stdDeviation",5);if("value"===t){c.selectAll("bar").data(e).enter().append("rect").style("fill","rgba(0,0,0,0.1)").attr("x",(function(e){return u(e.name)})).attr("width",u.rangeBand()).attr("y",(function(e){return d(e.value)})).attr("height",(function(e){return n-d(e.value)})).attr("filter","url(#blur)").attr("rx",3).attr("ry",3);c.selectAll("bar").data(e).enter().append("rect").style("fill",(function(e){if("value"===t)return"excluded"===e.name?"#A7A7A7":"#FFFFFF";return"excluded"===e.name?"blue":"#FFFFFF"})).style("stroke",(function(e){return"excluded"===e.name?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.27)"})).attr("x",(function(e){return u(e.name)})).attr("width",u.rangeBand()).attr("y",(function(e){if(e.value>0)return d(e.value);return d(0)})).attr("height",(function(e){return"value"===t?n-d(e.value):Math.abs(d(e.value)-d(0))})).attr("rx",3).attr("ry",3);c.selectAll("bar").data(e).enter().append("rect").style("fill",(function(e){return"excluded"===e.name?"#A7A7A7":"#FFFFFF"})).attr("x",(function(e){return u(e.name)})).attr("width",u.rangeBand()).attr("y",n-3).attr("height",3);var p=l.append("g").attr("class","barLabels").attr("transform","translate(".concat(i/2,",0)"));e.forEach((function(e,t){c.append("line").style("stroke","excluded"===e.name?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.27)").attr("x1",u(e.name)).attr("y1",n).attr("x2",u(e.name)).attr("y2",n-3);t>0&&c.append("line").style("stroke","excluded"===e.name?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.27)").attr("x1",u(e.name)+60).attr("y1",n).attr("x2",u(e.name)+60).attr("y2",n-3);var r=p.append("g");r.append("rect").attr("x",(function(){return u(e.name)})).attr("width",u.rangeBand()).attr("height",2).attr("y",(function(){return d(e.value)})).attr("opacity",0);r.append("text").attr("x",u(e.name)+s).attr("y",(function(){if(n-d(e.value)>n-s)return d(e.value)+30;return d(e.value)-10})).attr("text-anchor","middle").attr("class","grouped-bar-value-label").text(e.label).attr("fill",(function(){var t="#404040";"excluded"===e.name&&n-d(e.value)>n-s&&(t="white");return t}))}))}else{f.append("pattern").attr("id","diagonalStripes").attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).attr("patternTransform","rotate(45)").append("rect").attr("width","2").attr("height","8").attr("fill","#4842b5");c.selectAll("bar").data(e).enter().append("rect").style("fill","rgba(0,0,0,0.1)").attr("x",(function(e){return u(e.name)})).attr("width",u.rangeBand()).attr("y",(function(e){if(e.value>0)return d(e.value);return d(0)})).attr("height",(function(e){return Math.abs(d(e.value)-d(0))})).attr("filter","url(#blur)").attr("rx",3).attr("ry",3);c.selectAll("bar").data(e).enter().append("rect").style("fill",(function(e){return"excluded"===e.name?"#655DC6":"#FFFFFF"})).style("stroke",(function(e){return"excluded"===e.name?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.27)"})).attr("x",(function(e){return u(e.name)})).attr("width",u.rangeBand()).attr("y",(function(e){if(e.value>0)return d(e.value);return d(0)+1})).attr("height",(function(e){return Math.abs(d(e.value)-d(0))})).attr("rx",3).attr("ry",3);c.selectAll("bar").data(e).enter().append("rect").style("fill",(function(e){return"excluded"===e.name?"#655DC6":"#FFFFFF"})).attr("x",(function(e){return u(e.name)})).attr("width",u.rangeBand()).attr("y",(function(e){if(e.value>0)return Math.abs(d(e.value)-d(0))-3;return d(0)+1})).attr("height",2);var h=l.append("g").attr("class","barLabels").attr("transform","translate(".concat(i/2,",0)"));e.forEach((function(e,t){c.append("line").style("stroke","excluded"===e.name?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.27)").attr("x1",u(e.name)).attr("y1",(function(){if(e.value>0)return d(e.value);return d(0)})).attr("x2",u(e.name)).attr("y2",(function(){if(e.value>0)return d(e.value)-3;return d(0)+3}));t>0&&c.append("line").style("stroke","excluded"===e.name?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.27)").attr("x1",u(e.name)+60).attr("y1",(function(){if(e.value>0)return d(e.value);return d(0)})).attr("x2",u(e.name)+60).attr("y2",(function(){if(e.value>0)return d(e.value)-3;return d(0)+3}));"excluded"===e.name&&c.append("rect").attr("x",(function(){return u(e.name)})).attr("width",u.rangeBand()).attr("y",(function(){if(e.value>0)return d(e.value);return d(0)})).attr("height",(function(){return Math.abs(d(e.value)-d(0))})).attr("stroke","#504A9E").attr("rx",3).attr("ry",3).attr("fill","url(#diagonalStripes)");var n=h.append("g");n.append("rect").attr("x",(function(){return u(e.name)})).attr("width",u.rangeBand()).attr("height",2).attr("y",(function(){if(e.value>0)return d(e.value);return d(0)})).attr("opacity",0);n.append("text").attr("x",u(e.name)+s).attr("y",(function(){if(e.value>0)return d(e.value)+20;if(Math.abs(d(e.value)-d(0))<s)return Math.abs(d(e.value)-d(0))+d(0)+20;return Math.abs(d(e.value)-d(0))+d(0)-10})).attr("text-anchor","middle").attr("class","grouped-bar-label").text(e.label).attr("fill",(function(){var t="#404040";"excluded"===e.name&&(t=Math.abs(d(e.value)-d(0))<s?"#655DC6":"#FFFFFF");return t}))}))}l.append("g").attr("class","x axis").append("line").attr("y1",d(0)).attr("y2",d(0)).attr("x2",r+i).attr("stroke","#404040").attr("stroke-width","3");var v=l.append("text").attr("x",r+2*i).attr("y",d(0)-18).attr("text-anchor","left").style("font-size","22px").attr("fill","#B3B3B3");v.append("tspan").attr("dx",0).attr("dy",4).text("+");v.append("tspan").attr("dx",-13).attr("dy",22).attr("fill","#404040").text("0");v.append("tspan").attr("dx",-10).attr("dy",20).text("-")}function a(){e((function(){var e=431;var n=153;var r=43;var i=150;_.a.selectAll(".connectors-generic svg").remove();var a=_.a.select(".connectors-generic .svg-container").append("svg").attr("width",n).attr("height",e);var o=t.getPercentage("included")/100*e;var s=o/2;var l=r+i/2;var c=[{x:0,y:s},{x:n,y:l}];var u=o+(e-o)/2;var d=2*r+i+i/2;var f=[{x:0,y:u},{x:n,y:d}];var p=_.a.svg.line().x((function(e){return e.x})).y((function(e){return e.y}));var h=[];h.push(c);t.selectedInsight.counts.excluded>0&&h.push(f);var v=a.append("g").attr("class","lines");v.selectAll("path").data(h).enter().append("path").attr({d:p,"stroke-dasharray":"3, 3","stroke-dashoffset":0}).style("stroke","#BEBEBE").style("stroke-width","1").attr("opacity",1)}))}function o(){e((function(){var e=431;var n=213;_.a.selectAll(".connectors svg").remove();var r=_.a.select(".connectors .svg-container").append("svg").attr("width",n).attr("height",e);r.append("linearGradient").attr("id","area-gradient").attr("x1",0).attr("y1",0).attr("x2",5).attr("y2",0).selectAll("stop").data([{offset:"0%",color:"#A7A7A7"},{offset:"20%",color:"white"}]).enter().append("stop").attr("offset",(function(e){return e.offset})).attr("stop-color",(function(e){return e.color}));var i=t.getPercentage("excluded")/100*e;var a=t.selectedInsight.measureBreakdown.excluded.percentage/100*e;var o=[{x:0,y:e-i},{x:n,y:e-a}];var s=[{x:0,y:i},{x:n,y:a}];var l=_.a.scale.linear().domain([0,_.a.max(s,(function(e){return e.x}))]).range([0,n]);var c=_.a.scale.linear().domain([0,e]).range([e,0]);var u=_.a.svg.area().x((function(e){return l(e.x)})).y0(e).y1((function(e){return c(e.y)}));var d=_.a.svg.line().x((function(e){return e.x})).y((function(e){return e.y}));var f=[];f.push(o);var p=r.append("g").attr("class","lines");p.selectAll("path").data(f).enter().append("path").attr({d:d,"stroke-dasharray":"3, 3","stroke-dashoffset":0}).style("stroke","#BEBEBE").style("stroke-width","1").attr("opacity",1);r.append("path").datum(s).attr("class","area").attr("d",u)}))}this.getLocalizedPercentage=function(e){return Ne.getLocalizedPercentage(e)};this.getPercentageLocalized=function(e){if(t.selectedInsight){var n=t.selectedInsight.counts.excluded+t.selectedInsight.counts.included;return t.getLocalizedPercentage(t.selectedInsight.counts[e]/n)}return 0};this.getPercentage=function(e){if(t.selectedInsight){var n=t.selectedInsight.counts.excluded+t.selectedInsight.counts.included;return t.selectedInsight.counts[e]/n*100}return 0};this.formatLargeNumber=function(e){return n.format(e,"#.#A")};this.showTable=function(e){t.showing={table:e,excluded:true};Ne.getTableVis(t.selectedInsight,true).then((function(e){t.selectedInsight.table=e}))};this.toggleShowTableExcluded=function(e){t.showing={table:true,excluded:e};Ne.getTableVis(t.selectedInsight,e).then((function(e){t.selectedInsight.table=e}))};this.selectExcluded=function(){var e=t.selectedInsight.dimension;var n=this.selectedInsight.dimensionId;t.showing={table:false,excluded:false};var r=t.layout.qSelectionObject.qSelections;if(void 0!==n)return z["a"].getApp().then((function(e){e.getDimension(n).then((function(t){t.getDimension().then((function(t){var n=t.qFieldDefs[0].replace("=","");e.getField(n).then((function(e){return e.selectExcluded().then((function(){r.length>0&&r.forEach((function(e){B["default"].currApp().field(e.qField).clear()}))}))}))}))}))}));B["default"].currApp().field(e).selectExcluded().then((function(){r.length>0&&r.forEach((function(e){B["default"].currApp().field(e.qField).clear()}))}));D["a"].publish("selection/insights/close");P["a"].trackEvent(P["a"].customEvents.SELECT_POSSIBLE_CLICKED,{type:"clicked"});return};this.selectPossible=function(){var e=t.selectedInsight.dimension;var n=this.selectedInsight.dimensionId;t.showing={table:false,excluded:false};var r=t.layout.qSelectionObject.qSelections;if(void 0!==n)return z["a"].getApp().then((function(e){e.getDimension(n).then((function(t){t.getDimension().then((function(t){var n=t.qFieldDefs[0].replace("=","");e.getField(n).then((function(e){return e.selectPossible().then((function(){r.length>0&&r.forEach((function(e){B["default"].currApp().field(e.qField).clear()}))}))}))}))}))}));B["default"].currApp().field(e).selectPossible().then((function(){r.length>0&&r.forEach((function(e){B["default"].currApp().field(e.qField).clear()}))}));D["a"].publish("selection/insights/close");P["a"].trackEvent(P["a"].customEvents.SELECT_POSSIBLE_CLICKED,{type:"clicked"});return};this.isLabelContained=function(e){var t=427;var n=55;var r=e/100*t;return n<r};this.isLabelSmall=function(e){var t=427;var n=65;var r=e/100*t;return n<r};this.getNegativeMeasureText=function(){return U["default"].get("SelectionInsights.MeasureNegative",[t.selectedInsight.measureAggregation[0].toUpperCase()+t.selectedInsight.measureAggregation.slice(1),t.selectedInsight.measure,t.selectedInsight.dimension])};this.getNegativeMeasurePossible=function(){return U["default"].get("SelectionInsights.MeasureNegativePossible",[t.selectedInsight.measureAggregation[0].toUpperCase()+t.selectedInsight.measureAggregation.slice(1),t.selectedInsight.measure,t.selectedInsight.dimension,"<span>".concat(t.selectedInsight.measureBreakdown.included.num,"</span>")])};this.getNegativeMeasureExcluded=function(){return U["default"].get("SelectionInsights.MeasureNegativeExcluded",[t.selectedInsight.measureAggregation[0].toUpperCase()+t.selectedInsight.measureAggregation.slice(1),t.selectedInsight.measure,t.selectedInsight.dimension,"<span>".concat(t.selectedInsight.measureBreakdown.excluded.num,"</span>")])};this.$onDestroy=function(){D["a"].unsubscribe("selection/insights/details/updated");D["a"].unsubscribe("selection/insights/measure/cancel");D["a"].unsubscribe("selection/insights/updated");D["a"].unsubscribe("selection/insights/fields/change");D["a"].unsubscribe("selection/insights/details/negative")}}],template:Fe});var ze='<div class="qv-selections-insights-cards-summary" ng-class="{\'empty\': $ctrl.showLoading}">\n\t<div ng-if="!$ctrl.showLoading" class="ai-measure-picker--wrapper">\n\t\t<div class="summary-text" ng-if="!$ctrl.newMeasureChosen && !$ctrl.newSelection && !$ctrl.showFieldsChanged">\n\t\t\t<span q-translation="SelectionInsights.SummarySelection"> </span>\n\t\t</div>\n\t\t<div class="measure-select">\n\t\t\t<div class="refresh-insights-new-selection" ng-if="!$ctrl.newMeasureChosen && ($ctrl.newSelection || $ctrl.showFieldsChanged) ">\n\t\t\t\t<p class="refresh-insights-paragraph" q-translation="SelectionInsights.Refresh.NewSelection"></p>\n\t\t\t\t<div class="refresh-insights--button-group">\n\t\t\t\t\t<button class="lui-button  lui-button--success refresh-insights--button onlyOne" q-translation="SelectionInsights.Refresh" ng-click="$ctrl.refreshInsights()"></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<h2 q-translation="Common.Measure"></h2>\n\t\t\t<p q-translation="SelectionInsights.CalculatedOn"></p>\n\t\t\t<button tid="ai-measure-picker" class="ai-measure-picker lui-button" id="ai-measure-picker" ng-click="$ctrl.showChangeField($event)" tabindex="0" ng-disabled="$ctrl.showFieldsChanged || $ctrl.newSelection || $ctrl.measureUpdating">\n\t\t\t\t<span class="ai-measure-picker-text">{{ $ctrl.measure }}</span><span class="lui-icon lui-button__icon small lui-icon--small" ng-class="{\'lui-icon--arrow-down\' : !match.expanded, \'lui-icon--arrow-up\': match.expanded}"></span>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="ai-tooltip--wrapper" ng-if="$ctrl.requiredSelections.length >= 1">\n\t\t\t<span class="ai-tooltip--label" q-translation="SelectionInsights.RequiredSelectionsApplied"></span>\n\t\t\t<span class="ai-tooltip--icon lui-icon lui-icon--info" ng-click="$ctrl.openTooltip($event)" ng-keydown="$ctrl.openTooltipKeydown($event)" tabindex="0"></span>\n\t\t</div>\n\t</div>\n</div>\n<div class="hr-div">\n\t<hr class="qv-selection-insights-hr" ng-if="$ctrl.selectionInsightsState === $ctrl.states.INSIGHTS_FOUND" />\n</div>';var $e='<lui-popover class="ai-change-field-popover ai-popover">\n\t<object-add-typeahead>\n\t\t<lui-popover-header>\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input lui-input-group__input ai-change-field-input" type="text" autocomplete="off" ng-model="search.term" qva-focus="autoFocus" ng-change="filterFields(search.term)" maxlength="255" object-add-typeahead-input />\n\t\t\t</div>\n\t\t</lui-popover-header>\n\t\t<div tid="ai-measure-list" class="lui-popover__body lui-nopad popover-body" object-add-typeahead-menu>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<div ng-if="masterMeasures.length > 0" class="object-add-popover-list-header" q-translation="Common.MasterMeasures"></div>\n\t\t\t\t<li class="lui-list__item lui-list__action ai-measure-list__item" ng-repeat="field in masterMeasures" ng-click="onSelectMeasure(field)" on-select="navigate(field)" object-add-typeahead-item="field">\n\t\t\t\t\t<span class="lui-list__text" qve-highlight text="{{ field.qName }}" query="highlight"></span>\n\t\t\t\t</li>\n\n\t\t\t\t<div ng-if="measures.length > 0" class="object-add-popover-list-header" q-translation="Common.Measures"></div>\n\t\t\t\t<li class="lui-list__item lui-list__action ai-measure-list__item" ng-repeat="field in measures" ng-click="onSelectMeasure(field)" on-select="navigate(field)" object-add-typeahead-item="field">\n\t\t\t\t\t<span class="lui-list__text" qve-highlight text="{{ field.qName }}" query="highlight"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<div class="no-hits" ng-if="fieldList.length === 0">\n\t\t\t\t<span><i q-translation="Toolbox.Search.Nohits" ></i></span>\n\t\t\t</div>\n\t\t</div>\n\t</object-add-typeahead>\n</lui-popover>';var Ue=n("3ex9");var Ge={getMatchingFields:function e(t,n){var r=[];var i;n?n=n?n.toLowerCase():"":n&&""!==n||(i=true);if(i)return t;r=v["a"].unique(t).filter((function(e){return Ue["a"].librarySearchFn(e,n)}));return Ue["a"].localeOrderBy(r,(function(e){return e.qName}))}};o["default"].nativeComponent("qvSelectionInsightsSummary",{bindings:{showLoading:"<",hasSelection:"<",measure:"=",newMeasureChosen:"=",newSelection:"=",showFields:"<",selectionInsightsState:"=",states:"=",measureError:"=",requiredSelections:"<"},controller:["$scope","$timeout","luiPopover",function(e,t,n){var r=this;var i=this;this.showLoading=true;var a=[];this.fieldList=[];this.showFieldsChanged=false;this.currentMeasure=i.measure;this.measureUpdating=false;this.isFetching=false;this.popupExpanded=false;function o(){t((function(){var e=document.getElementsByClassName("ai-change-field-input");e[0].focus()}),100)}this.showChangeField=function(e){var t=["$scope",function(e){function t(t){var n=e.highlight;var r=Ge.getMatchingFields(t,n);e.measures=r.filter((function(e){return!e.masterItemMeasures}));e.masterMeasures=r.filter((function(e){return e.masterItemMeasures}))}function n(n){e.highlight=n;t(i.fieldList)}e.filterFields=n;e.onSelectMeasure=p;e.navigate=h;t(i.fieldList)}];i.popupExpanded=!i.popupExpanded;i.popupExpanded?s($e,t,e.currentTarget,"bottom",l,true):l()};function s(e,t,r,i,s,l){var c={template:e,controller:t,dock:i,alignTo:r,showArrow:true,autoFocus:false};var u=n.show(c);a.push(u);u.closed.then((function(){"function"===typeof s&&s()}));l&&o()}function l(){a.forEach((function(e,t){e.close();a.splice(t,1)}))}function c(){Ne.getMeasures(i.showFields).then((function(e){i.fieldList=e}))}function d(){Q["a"].getList().then((function(t){e.masterMeasuresListModel=t}));Object(u["a"])(e,"masterMeasuresListModel",(function(){c()}))}d();this.refreshInsights=function(){i.popupExpanded=false;D["a"].publish("selection/insights/refresh");i.newMeasureChosen=false;i.newSelection=false;i.showFieldsChanged&&f();i.measureUpdating=true;return Ne.getInsightDimensions(i.showFields,i.selectedMeasure).then((function(e){i.measureUpdating=false;D["a"].publish("selection/insights/new",e);i.currentMeasure=i.measure;i.isFetching=false})).catch((function(e){i.measureUpdating=false;D["a"].publish("selection/insights/error",{error:e.error,reason:"WRONG_MEASURE"});i.isFetching=false}))};this.$onChanges=function(e){if(void 0!==e.showFields&&!e.showFields.isFirstChange()){i.showFieldsChanged=true;i.newMeasureChosen=false;D["a"].publish("selection/insights/fields/change")}};function f(){Ne.getMeasures(i.showFields).then((function(e){i.showFieldsChanged=false;i.fieldList=e}))}D["a"].subscribe("selection/insights/show",(function(){i.showFieldsChanged&&f()}));function p(e){if(!i.isFetching){i.newMeasureChosen=true;i.newSelection=false;i.measureError=false;i.selectedMeasure=e;i.measure=e.qName;l();i.isFetching=true;P["a"].trackEvent(P["a"].customEvents.NEW_MEASURE_CHOSEN,{type:"clicked"});i.refreshInsights()}}function h(e){p(e)}this.getRequiredSelectionsRequirements=function(){var e;var t=[];var n=[];var a=i.fieldList.reduce((function(e,t){t.libId&&(e[t.libId]=t.libIdLabel);return e}),{});null===(e=r.requiredSelections)||void 0===e?void 0:e.forEach((function(e){var r;if((null===(r=e.requiredBy)||void 0===r?void 0:r.length)>0){t.push("".concat(U["default"].get("cao.requiredSelections.tooltipText",[e.requiredBy[0].field||a[e.requiredBy[0].libId],e.fieldRef])));n.push(e.defaultValues.join(", "))}}));return{requirements:t,values:n}};this.openTooltip=function(e){var t=r.getRequiredSelectionsRequirements(),n=t.requirements,i=t.values;(null===n||void 0===n?void 0:n.length)&&s('<lui-popover class="cao-popover selection-insights qv-cao-required-selections-tooltip-popover">\n              <lui-popover-body class="qv-cao-required-selections-tooltip-popover__body">'.concat(n.map((function(e,t){return"<p>".concat(e,"<br/>").concat(U["default"].get("SelectionInsights.ValuesSelected",i[t]),"</p>")})).join(""),"\n                </lui-popover-body></lui-popover>"),[function(){}],e.currentTarget,"bottom",false)}}],template:ze});var We='<div class="selection-insights-field-picker-container">\n  <button\n    tid="ai-field-picker"\n    class="selection-insights-field-picker lui-button"\n    id="ai-field-picker"\n    ng-click="$ctrl.openFieldPopup($event)"\n    tabindex="0"\n    ng-disabled="$ctrl.showFieldsChanged || $ctrl.newSelection || $ctrl.measureChanged"\n  >\n    <span class="ai-measure-picker-text" q-translation="SelectionInsights.AddDimension"></span\n    ><span class="lui-button__icon  lui-icon  lui-icon--plus" ng-class="{\'active\' : $ctrl.popupOpen}"></span>\n  </button>\n</div>\n';var Qe='<lui-popover class="ai-change-field-popover ai-popover">\n  <object-add-typeahead>\n    <lui-popover-header>\n      <div class="lui-input-group">\n        <input\n          class="lui-input lui-input-group__input ai-change-dimension-input"\n          type="text"\n          autocomplete="off"\n          ng-model="search.term"\n          qva-focus="autoFocus"\n          ng-change="filterFields(search.term)"\n          maxlength="255"\n          object-add-typeahead-input\n        />\n      </div>\n    </lui-popover-header>\n    <div  tid="ai-field-list" class="lui-popover__body lui-nopad popover-body" object-add-typeahead-menu>\n      <ul class="lui-list">\n        <div\n          ng-if="masterDimensions.length > 0"\n          class="object-add-popover-list-header"\n          q-translation="Common.MasterDimensions"\n        ></div>\n        <li\n          class="lui-list__item lui-list__action ai-field-list__item"\n          ng-repeat="field in masterDimensions"\n          ng-click="onSelectField(field)"\n          on-select="navigate(field)"\n          object-add-typeahead-item="field"\n        >\n          <span class="lui-list__text" qve-highlight text="{{ field.qName }}" query="highlight"></span>\n        </li>\n\n        <div ng-if="fields.length > 0" class="object-add-popover-list-header" q-translation="Common.Dimension"></div>\n        <li\n          class="lui-list__item lui-list__action ai-field-list__item"\n          ng-repeat="field in fields"\n          ng-click="onSelectField(field)"\n          on-select="navigate(field)"\n          object-add-typeahead-item="field"\n        >\n          <span class="lui-list__text" qve-highlight text="{{ field.qName }}" query="highlight"></span>\n        </li>\n      </ul>\n\n      <div class="no-hits" ng-if="fieldList.length === 0">\n        <span><i q-translation="Toolbox.Search.Nohits"></i></span>\n      </div>\n    </div>\n  </object-add-typeahead>\n</lui-popover>\n';o["default"].nativeComponent("qvSelectionAddCard",{bindings:{showFields:"<",measure:"<",measureChanged:"<"},controller:["$timeout","luiPopover",function(e,t){var n=this;this.showLoading=true;var r=[];this.fieldList=[];this.showFieldsChanged=false;this.appId=null;this.storedFields=[];this.popupOpen=false;this.isFetching=false;this.popupExpanded=false;this.$onInit=function(){s()};function i(){e((function(){var e=document.getElementsByClassName("ai-change-dimension-input");e[0].focus()}),100)}function a(e,n,a,o,s){var l={template:e,controller:n,dock:o,alignTo:a,showArrow:true,autoFocus:false};var c=t.show(l);r.push(c);c.closed.then((function(){"function"===typeof s&&s()}));i()}function o(){n.popupOpen=false;r.forEach((function(e,t){e.close();r.splice(t,1)}))}function s(){z["a"].getApp().then((function(e){n.appId=e.id;Ne.getDimensions(n.showFields).then((function(e){n.fieldList=e}))}))}this.refreshInsights=function(){n.popupExpanded=false;D["a"].publish("selection/insights/refresh");n.newMeasureChosen=false;n.newSelection=false;if(n.showFieldsChanged){l();n.showFieldsChanged=false}return Ne.getInsightDimensions(n.showFields).then((function(e){D["a"].publish("selection/insights/new",e);n.isFetching=false})).catch((function(e){D["a"].publish("selection/insights/error",e.error);n.isFetching=false}))};this.$onChanges=function(e){if(void 0!==e.showFields&&!e.showFields.isFirstChange()){n.showFieldsChanged=true;l()}};function l(){Ne.getDimensions(n.showFields).then((function(e){n.showFieldsChanged=false;n.fieldList=e}))}this.openFieldPopup=function(e){var t=["$scope",function(e){function t(t){var n=e.highlight;var r=Ge.getMatchingFields(t,n);e.fields=r.filter((function(e){return!e.masterItem}));e.masterDimensions=r.filter((function(e){return e.masterItem}))}function r(r){e.highlight=r;t(n.fieldList)}e.filterFields=r;e.onSelectField=c;e.navigate=u;t(n.fieldList)}];n.popupOpen=true;n.popupExpanded=!n.popupExpanded;n.popupExpanded?a(Qe,t,e.currentTarget,"bottom",o):o()};D["a"].subscribe("selection/insights/show",(function(){n.showFieldsChanged=false}));D["a"].subscribe("selection/insights/refresh",(function(){n.showFieldsChanged=false}));function c(e){n.newSelection=false;n.measureError=false;o();P["a"].trackEvent(P["a"].customEvents.ASSOCIATIVE_INSIGHTS_NEW_CARD_ADDED,{type:"clicked"});Ne.addUserDimension(e);if(!n.isFetching){n.isFetching=true;n.refreshInsights()}}function u(e){c(e)}this.$onDestroy=function(){D["a"].unsubscribe("selection/insights/show");D["a"].unsubscribe("selection/insights/refresh")}}],template:We});var Ke=n("p+Qe");function Ye(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ye(a,r,i,o,s,"next",e)}function s(e){Ye(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ze={NO_SELECTIONS:0,GENERATE_INSIGHTS:1,INSIGHTS_FOUND:2,NO_INSIGHTS:3,UNSUPPORTED:4,BM_INVALID:5};var Xe={restrict:"E",bindings:{showFields:"<"},template:V,controller:["$scope","$timeout",function(e,t){var n=this;var r=null;this.showLoading=true;this.insights=[];this.activeCard=1e3;this.showInsightDetails=false;this.selectedInsight=null;this.hasSelection=false;this.measure="";this.newMeasureChosen=false;this.newSelection=false;this.isRefreshing=false;this.app=null;this.layout=null;this.selectionInsightsState=Ze.NO_SELECTIONS;this.states=Ze;this.measureError=false;this.loadingCards=false;this.cardIsInsight=true;this.selectionContribution="";this.isOneAndOnlyOneField=null;this.requiredSelections=[];this.showing={table:false,excluded:false};this.measureChanged=false;this.isV2=Object(X["b"])("SELECTION_INSIGHTS_V2");this.$onInit=Je(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function t(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return z["a"].getApp();case 2:r=a.sent;a.next=5;return j["a"].loadAppVariables(r);case 5:if(!Ke["a"].isVariableDefined("DISABLE_SELECTION_INSIGHTS")){a.next=9;break}e.state=Ze.UNSUPPORTED;a.next=19;break;case 9:a.next=11;return r;case 11:n.app=a.sent;a.next=14;return Ne.numericalAbbreviation(r).then((function(e){Ne.setAbbreviations(e)}));case 14:a.next=16;return r.enigmaModel.getCurrentSelectionObject().then((function(t){e.currentSelModel=t;Object(u["a"])(e,"currentSelModel",(function(){i()}))}));case 16:a.next=18;return s(r);case 18:P["a"].trackEvent(P["a"].customEvents.EXPLORE_SELECTIONS_OPENED,{type:"clicked"});case 19:n.showLoading=false;case 20:case"end":return a.stop()}}),t)})));this.generateInsights=Je(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:n.showLoading=true;n.newMeasureChosen=false;n.newSelection=false;t.next=5;return l();case 5:P["a"].trackEvent(P["a"].customEvents.ASSOCIATIVE_INSIGHTS_GENERATED,{type:"clicked"});case 6:case"end":return t.stop()}}),e)})));function i(){if(n.selectionInsightsState!==Ze.UNSUPPORTED){n.hasSelection=e.currentSelModel.layout.qSelectionObject.qSelections.length>0;n.showLoading=false;n.isOneAndOnlyOneField=Ne.isOneAndOnlyOne(e.currentSelModel.layout);if(n.isOneAndOnlyOneField.isOneAndOnlyOne){n.selectionInsightsState=Ze.UNSUPPORTED;n.errorMsg=U["default"].get("ExploreSelections.SingleSelectField",[n.isOneAndOnlyOneField.items])}else n.hasSelection||(n.selectionInsightsState=Ze.NO_SELECTIONS);n.hasSelection&&n.selectionInsightsState===Ze.NO_SELECTIONS&&(n.selectionInsightsState=Ze.GENERATE_INSIGHTS);n.layout=e.currentSelModel.layout;D["a"].publish("selection/insights/current-selection",e.currentSelModel.layout)}}this.$onChanges=function(e){void 0===e.showFields||e.showFields.isFirstChange()||n.selectionInsightsState!==Ze.NO_INSIGHTS&&n.selectionInsightsState!==Ze.UNSUPPORTED||(n.selectionInsightsState=Ze.GENERATE_INSIGHTS)};function a(e){if(e&&"WRONG_MEASURE"===e.reason)D["a"].publish("selection/insights/refreshed");else if(e&&"ERROR_BM"===e.reason){n.selectionInsightsState=Ze.BM_INVALID;n.errorMsg=U["default"].get("cao.error.description.bv_invalid");n.showLoading=false}else{n.selectionInsightsState=Ze.UNSUPPORTED;n.errorMsg=U["default"].get("ExploreSelections.NoSelectionInsights");n.measureChanged=false}}function s(e){return e.getCurrentSelectionObject().then((function(e){e.layoutSubscribe((function(){if(n.selectionInsightsState!==Ze.UNSUPPORTED){n.showInsightDetails=false;if(!n.newMeasureChosen){n.isRefreshing=true;D["a"].publish("selection/insights/selection/changed")}if(n.selectionInsightsState!==Ze.NO_SELECTIONS&&n.selectionInsightsState!==Ze.NO_INSIGHTS){n.newSelection=true;n.newMeasureChosen=false}else n.selectionInsightsState===Ze.NO_INSIGHTS&&(n.selectionInsightsState=Ze.GENERATE_INSIGHTS)}P["a"].trackEvent(P["a"].customEvents.NEW_SELECTION_MADE,{type:"clicked"})}))}))}function l(){return c.apply(this,arguments)}function c(){c=Je(regeneratorRuntime.mark((function e(){var t;var r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:n.insights=[];i.next=3;return $["a"].validateBusinessModel();case 3:r=i.sent;if(!((null===r||void 0===r||null===(t=r.errors)||void 0===t?void 0:t.length)>=1)){i.next=6;break}return i.abrupt("return",a({error:"",reason:"ERROR_BM"}));case 6:return i.abrupt("return",Ne.getInsightDimensions(n.showFields).then((function(e){var t;D["a"].publish("selection/insights/refreshed");n.showLoading=false;n.selectionInsightsState=Ze.INSIGHTS_FOUND;if(void 0===e.insights[0])return a({error:"",reason:"WRONG_MEASURE"});(null===(t=e.requiredSelections)||void 0===t?void 0:t.length)>=1&&(n.requiredSelections=e.requiredSelections);if(0!==e.insights.length){n.measure=e.measure;n.loadingCards=true;d(e.insights)}else{D["a"].publish("selection/insights/updated");e.measure?n.measure=e.measure:n.selectionInsightsState=Ze.NO_INSIGHTS}n.isRefreshing=false;return})).catch((function(){n.showLoading=false;a()})));case 7:case"end":return i.stop()}}),e)})));return c.apply(this,arguments)}function d(e){var t=o["default"].getService("$q");var r=e.filter((function(e){return e.isUserSelected}));var i=e.filter((function(e){return!e.isUserSelected}));var a=r.concat(i);function s(e){var r=a[e];if(!r)return t.resolve(true);if(r.noExclusionFlag){n.insights.push(r);D["a"].publish("selection/insight/draw",{insight:r,index:n.insights.length-1});e+=1;if(e<a.length)return s(e);n.loadingCards=false;D["a"].publish("selection/insights/updated");return true}return Ne.getInsightSummary(r.dimension,n.app).then((function(e){n.measureError="NaN"===e.summary;r.summaryNaN=n.measureError;r.summaryString=e.summary;r.noInsight=e.noInsight;if(e.show){n.insights.push(r);D["a"].publish("selection/insight/draw",{insight:r,index:n.insights.length-1})}})).catch((function(){r.summaryError=true;n.insights.push(r)})).then((function(){e+=1;if(e<a.length)return s(e);n.loadingCards=false;D["a"].publish("selection/insights/updated");return true}))}return s(0)}this.openCardSummaryDialog=function(){r=o["default"].getService("luiDialog").show({template:H,input:{title:"SelectionInsights.SummarySelection.HelpTitle",html:H,closeDialog:function e(){r.close();r=null}}})};this.backToSelections=function(){n.showInsightDetails=false;n.newMeasureChosen=false;D["a"].publish("selections/insights/details/close")};this.closeInsights=function(){n.showInsightDetails=false;n.newMeasureChosen=false;Ne.clearInsights();D["a"].publish("selection/insights/close")};this.openCard=function(e){D["a"].publish("selections/insights/details/close");if(e>=0)(!n.newMeasureChosen&&!n.isRefreshing&&!n.insights[e].summaryNaN&&n.insights[e].show||n.insights[e].noExclusionFlag)&&t((function(){if(n.activeCard===e)n.closeCard();else{D["a"].publish("selections/insights/details/open");n.activeCard=e;e=e>0?e:0;if(n.insights[e].noExclusionFlag){var t=Ne.getInsightDetails(n.insights[0].dimension,n.app);n.showInsightDetails=true;n.cardIsInsight=true;n.selectedInsight=n.insights[e];n.selectedInsight.generic=true;n.selectedInsight.selectedMeasure=t.selectedMeasure;n.selectedInsight.measureBreakdown={included:{num:t.selectedMeasure.total},excluded:{num:null}};n.selectedInsight.counts={excluded:0,included:n.selectedInsight.distinctCount};n.selectedInsight.measureAggregation=t.measureAggregation;n.selectedInsight.measure=t.measure;n.selectedInsight.summaryStringLong=Ne.getLongInsightSummary(n.selectedInsight);D["a"].publish("selection/insights/details/updated",{measure:n.measure,aggr:null,dimension:n.selectedInsight.name,contribution:null,generic:true,counts:{excluded:0,included:n.selectedInsight.distinctCount}})}else{var r=Ne.getInsightDetails(n.insights[e].dimension,n.app);r.isMeasureNegative=r.includedMeasure.qNumber<0||r.excludedMeasure.qNumber<0;n.showInsightDetails=true;n.cardIsInsight=true;n.insights[e]=r;n.selectedInsight=n.insights[e];Ne.getTableVis(n.selectedInsight,n.showing.excluded).then((function(e){n.selectedInsight.table=e}));r.isMeasureNegative?D["a"].publish("selection/insights/details/negative",n.selectedInsight):D["a"].publish("selection/insights/details/updated",{measure:n.selectedInsight.measure,aggr:n.selectedInsight.measureAggregation,dimension:n.selectedInsight.dimension,contribution:n.selectedInsight.generic?n.selectedInsight.selectedMeasure.selected:n.selectedInsight.selectedMeasure.selected.percentage.toFixed(1),generic:n.selectedInsight.generic});var i=B["default"].openApp(n.app.qDocId,Ne.getOpenAppConfig());i.visualization.create("listbox",[n.selectedInsight.dimension],{showTitles:true,title:n.selectedInsight.dimension}).then((function(e){n.listbox=e.model.enigmaModel;f()}))}}}));else if(!n.newMeasureChosen&&!n.isRefreshing)if(n.activeCard===e&&n.showInsightDetails)n.closeCard();else{n.activeCard=e;var r=Ne.getInsightDetails(n.insights[0].dimension,n.app);n.showInsightDetails=true;n.cardIsInsight=false;r.isSelectionNegative=r.selectedMeasure.selected.percentage<0||r.selectedMeasure.excluded.percentage<0;n.insights[0].selectedMeasure=r.selectedMeasure;n.insights[0].measure=r.measure;n.insights[0].measureAggregation=r.measureAggregation;n.insights[0].generic=r.generic;n.selectedInsight=n.insights[0];D["a"].publish("selection/insights/current/open",{insight:n.selectedInsight});D["a"].publish("selections/insights/details/open")}P["a"].trackEvent(P["a"].customEvents.ASSOCIATIVE_INSIGHTS_CARD_CLICKED,{type:"clicked"})};this.closeCard=function(){n.showInsightDetails=!n.showInsightDetails;n.cardIsInsight=true;n.activeCard=null};D["a"].subscribe("selection/insights/details/close",(function(){n.showInsightDetails=false}));D["a"].subscribe("selection/insights/refresh",(function(){n.measureChanged=true}));D["a"].subscribe("selection/insights/new",(function(e){n.measureChanged=false;n.isRefreshing=false;n.insights=[];n.activeCard=1e3;if(0===e.insights.length){n.measureError=false;D["a"].publish("selection/insights/updated")}else{n.loadingCards=true;d(e.insights)}e.measure&&(n.measure=e.measure);n.showInsightDetails=false}));D["a"].subscribe("selection/insights/error",a);function f(){_.a.selectAll(".gwBar g").remove();var e=_.a.select(".gwBar svg");var t=e.append("g");var r=n.selectedInsight.counts.excluded/(n.selectedInsight.counts.excluded+n.selectedInsight.counts.included)*100/100*427;var i=n.selectedInsight.counts.included/(n.selectedInsight.counts.excluded+n.selectedInsight.counts.included)*100/100*427;t.append("rect").style("fill","#A9A9A9").attr("width",35).attr("height",Math.ceil(r)).attr("y",Math.ceil(i)).attr("x",0);t.append("rect").style("fill","white").attr("width",35).attr("height",Math.ceil(i)).attr("y",0).attr("x",0);var a=[];a.push([{x:35,y:Math.ceil(i)+Math.ceil(r)/2},{x:65,y:322}]);a.push([{x:65,y:322},{x:95,y:322}]);a.push([{x:35,y:Math.ceil(i)/2},{x:65,y:107}]);a.push([{x:65,y:107},{x:95,y:107}]);var o=_.a.svg.line().x((function(e){return e.x})).y((function(e){return e.y}));var s=e.append("g").attr("class","lines");s.selectAll("path").data(a).enter().append("path").attr({d:o,"stroke-dasharray":"790 790","stroke-dashoffset":0}).style("stroke",(function(e,t){return t>1?"white":"#A9A9A9"})).style("stroke-width","2").attr("opacity",1)}this.$onDestroy=function(){D["a"].unsubscribe("selection/insights/show");D["a"].unsubscribe("selection/insights/new");D["a"].unsubscribe("selection/insights/error");D["a"].unsubscribe("selection/insights/refresh")}}]};o["default"].nativeComponent("qvSelectionInsights",Xe);var et=["$scope",function(e){e.showFullModel=false;e.$on("$destroy",(function(){}))}];o["default"].directive("qvExploreSelectionsComponent",[function(){return{restrict:"E",template:R,controller:et,scope:true,replace:true,link:function e(t){t.target=null}}}]);var tt="<qv-explore-selections-component></qv-explore-selections-component>";var nt=n("kr+q");function rt(){(p["a"].isInEditMode()||!p["a"].isInAnalysisMode||p["a"].inObjectView())&&ct()}function it(){return{$container:void 0,$containerId:".qv-explore-selections-container",getComponent:function e(){return tt},setup:function e(){z["a"].getApp().then((function(e){p["a"].StateChanged.bind(rt.bind(null,rt));e.enigmaModel.isInModalSelection()&&nt["a"].confirm()}))},destroy:function e(){p["a"].StateChanged.unbind(rt)}}}var at;var ot=300;function st(e){p["a"].setState(p["a"].States.analysis);at.$container=i.a.element("<div>");e=e||o["default"].getService("$document");e.find(at.$containerId).append(at.$container);at.$container.showComponent(at.getComponent());at.setup();b()(".qv-explore-selections").slideDown(ot)}function lt(){return!!(at&&void 0!==at.$container)}function ct(){if(!at)return;b()(".qv-explore-selections").slideUp(ot,(function(){if(at.$container){at.$container.remove();at.$container=void 0}at.destroy()}))}var ut={toggleExploreSelection:function e(t){at||(at=it());if(lt()){ct();return false}st(t);return true},off:function e(){ct()}};var dt=n("OU/z");var ft=n("yHaC");var pt=n("UuE/");var ht=n("akA2");var vt='<lui-popover class="lui-popover qv-multi-state-popover" ng-class="{ bright: input.brightCurSel }"\n\ttid="qv-multi-state-popover">\n\t<lui-popover-header class="lui-popover__header">\n\t\t<div class="lui-popover__title">\n\t\t\t<span ng-if="input.title && input.title.length">{{ input.title }}</span>\n\t\t\t<div class="btn-clearall">\n\t\t\t\t<lui-button tid="qv-multi-state-popover-btn-clear" class="clear-all-btn lui-button--block"\n\t\t\t\t\tng-keydown="handleBtnKeyDown($event, input.alignToElement, input)"\n\t\t\t\t\tng-click="input.clear(input.getItems()[0].qField, null, $event)"\n\t\t\t\t\tng-disabled="allItemsNonClearable( input.getItems() )"\n\t\t\t\t\tq-title-translation="AlternateState.Popover.ClearAllStates">\n\t\t\t\t\t<span class="lui-button__text" q-translation="AlternateState.Popover.ClearAllStates"></span>\n\t\t\t\t</lui-button>\n\t\t\t</div>\n\t\t</div>\n\t</lui-popover-header>\n\t<lui-popover-body class="lui-popover__body">\n\t\t<ul class="lui-list" qva-direction x-dir-setting="{{input.direction}}">\n\t\t\t<li class="item" ng-repeat="item in input.getItems()" ng-click="input.click($event)"\n\t\t\t\tng-mousemove="input.openTooltip($event, item)" ng-mouseleave="input.closeTooltip()"\n\t\t\t\tng-class="{ \'item-locked\' : item.qLocked }">\n\t\t\t\t<div class="item-container">\n\t\t\t\t\t<div ng-if="item.qLocked" class="icon-lock">\n\t\t\t\t\t\t<span class="lui-icon lui-icon--lock">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="item-component text-container" tabindex="0" role="button"\n\t\t\t\t\t\tng-keydown="handleKeyDown($event, item)" aria-label="{{item.screenReaderLabel}}" qva-direction\n\t\t\t\t\t\tx-dir-text="{{item.displayStateName}}">\n\t\t\t\t\t\t<div class="text">{{ item.displayStateName }}</div>\n\t\t\t\t\t\t<div class="values">{{ item.translation }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div title="{{item.removeTitle}}" ng-if="!( item.qLocked || item.qOneAndOnlyOne )" tabindex="0"\n\t\t\t\t\t\tng-keydown="handleKeyDown($event, item)" role="button" class="item-component remove"\n\t\t\t\t\t\tng-click="input.clear(item.qField, item.stateName, $event)">\n\t\t\t\t\t\t<span class="lui-icon lui-icon--remove"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<qv-state-count-bar ng-if="!item.isPlaceHolder && item.isSingleState" state-counts="item.qStateCounts">\n\t\t\t\t</qv-state-count-bar>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>';var mt='<div class="current-selections-item" data-tid="current-selections-item" ng-mousemove="openTooltip($event, item)"\n  ng-mouseleave="closeTooltip()" ng-class="{\n\t\t\'active\' : item.qField === activeFieldName,\n\t\t\'dim\' : $parent.itemSelected && !item.active,\n\t\t\'item-locked\' : item.qLocked,\n\t\t\'locked-feedback item-animate-in\' : item.feedbackActive && item.qLocked,\n\t\t\'item-animate-out\' : (!item.feedbackActive && item.qLocked) || (!item.feedbackActive && item.qOneAndOnlyOne),\n\t\t\'single-select-feedback item-animate-in\' : item.feedbackActive && item.qOneAndOnlyOne,\n\t\t\'single-icon\': item.qOneAndOnlyOne || item.qLocked\n\t}">\n  <div ng-class="{locked:item.qLocked}" class="text current-selection-item-text" tabindex="0"\n    ng-keydown="handleKeyDown($event, item)" role="button" aria-label="{{item.screenReaderLabel}}"\n    aria-expanded="{{item.qField === activeFieldName}}">\n    <div class="text-wrap">\n      <span ng-class="{ \'lui-icon lui-icon--lock\': item.qLocked }"></span>\n      <span class="name" tid="selection-name">{{item.name}}</span>\n    </div>\n    <span class="values">\n      <span ng-if="!item.isDefaultState">{{item.displayStateName}}:</span>\n      <span tid="current-selection-item-text">{{item.translation}}</span>\n    </span>\n  </div>\n  <div class="options">\n    <div ng-if="!item.isDefaultState" class="item-component count">\n      <span class="field-states-indicator"></span>\n    </div>\n    <div title="{{item.removeTitle}}" role="button" tabindex="0"\n      ng-if="!currentSelectionDisabled && (!item.qLocked && !item.isPlaceHolder && !item.qOneAndOnlyOne)"\n      ng-click="clear(item.qField, item.stateName)" class="remove current-selection-item-text"\n      ng-keydown="handleKeyDown($event, item)">\n      <span class="lui-clear-all lui-icon lui-icon--remove"></span>\n    </div>\n  </div>\n\n  <qv-state-count-bar ng-if="!item.isPlaceHolder && item.isSingleState" state-counts="item.qStateCounts">\n  </qv-state-count-bar>\n</div>';var gt={bindings:{currentSelectionDisabled:"<"},template:mt};o["default"].directive("qvCurrentSelectionsItem",[function(){return gt}]);var bt=gt;var yt={template:null,controller:["$scope","$element","$timeout",function(e,t,n){this.close=function(){r()};function r(){e.destroyComponent();t.remove();n((function(){var t=e.alignToElement.getElementsByClassName("text")[0];t&&t.focus()}))}e.closingDeferred.promise.then((function(t){e.input.onClose(t);r()}));e.allItemsNonClearable=function(e){return!e.some((function(e){var t=!(e.qLocked||e.qOneAndOnlyOne);return t}))}}]};var wt=yt;function St(e,t,n){var r=e.which;r=e.shiftKey&&M["a"].TAB===r?"SHIFT_TAB":r;var i;var a;switch(r){case M["a"].ARROW_LEFT:case M["a"].ARROW_UP:case"SHIFT_TAB":case M["a"].ESCAPE:b()(t).focus();e.preventDefault();break;case M["a"].ENTER:case M["a"].SPACE:a=t.nextElementSibling||t.previousElementSibling;i=a?a.classList.contains("item-multi-state")?a:a.getElementsByClassName("text")[0]:b()('[data-tid="current-selections-back"]');i.focus();n.clear(n.getItems()[0].qField,null,e);break;default:break}}var xt={popover:null,show:function e(t){var n={handleBtnKeyDown:St,getItems:function e(){return[]},autoFocus:false};t=v["a"].extend(true,{},n,t);this.popover=o["default"].getService("luiPopover").show({template:vt,controller:wt.controller,alignTo:t.alignToElement,autoFocus:t.autoFocus,input:{title:t.title,getItems:t.getItems,clear:t.clear,click:t.click,onClose:t.onClose,brightCurSel:t.brightCurSel,openTooltip:t.openTooltip,closeTooltip:t.closeTooltip,handleKeyDown:t.handleKeyDown,handleBtnKeyDown:t.handleBtnKeyDown,handlePopoverKeyDown:t.handlePopoverKeyDown,alignToElement:t.alignToElement},closeOnResize:true,dock:"top"});return this.popover},close:function e(){this.popover&&this.popover.close();this.popover=null}};var Ct=n("9a/l");var qt=n("stK3");var Et=n("nzqh");var It=n("PcNG");function kt(e){kt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return kt(e)}var At=A["a"].DEFAULT_STATE_TRANSLATION;var Tt=A["a"].DEFAULT_STATE_NAME;o["default"].directive("qvSelectionPager",["$timeout",function(e){var t=o["default"].getService("$templateCache");t.put("current-selections-tooltip-template.ng.html",l);return{restrict:"A",priority:1,link:function t(n){var r=n.$watch((function(){return N["a"].isSelectActive(n.app)}),(function(t){n.$emit("globalSelectionActive",t);e((function(){n.refreshPager(false)}))}));function i(){n.refreshPager(false)}d["a"].on("end",i);n.$on("$destroy",(function(){r();d["a"].off("end",i)}))}}}]);var Dt={template:s,replace:true,restrict:"E",scope:{app:"=",options:"=",expandSmartSearchSuggestedChart:"=?",hideMobileIndicator:"<"},link:function e(t,n){var r=o["default"].getService("$timeout");var i;var a;var s=new I(t,f["default"],N["a"],ut,dt["a"],ft["a"]);var l=new S(t);t.isCaoActive=h["a"].isInInsightMode();t.isExploreSelectionsActive=false;t.nbrSelection=0;t.haveHiddenSelections=false;t.isSmallDevice=f["default"].isSmallDevice;t.cachedPlaceHolders=[];t.isGlobalSearchIndexing=false;t.progressBarOptions={hideText:true};t.setSearchIndexingDone=function(){t.isGlobalSearchIndexing=false};function d(e,n){if(e!==(t.app.enigmaModel.id||"").toUpperCase())return;var r=Number(n);if(!t.isGlobalSearchIndexing&&r<100){t.indexPercentDone=r;t.isGlobalSearchIndexing=true;m(500)}else if(t.isGlobalSearchIndexing){t.indexPercentDone=r;r<100&&m(500)}else v()}function v(){r.cancel(a);if(i){dt["a"].IndexProgressUpdate.unbind(d);i=false}}function m(e){if(!i){dt["a"].IndexProgressUpdate.bind(d);i=true}r.cancel(a);a=r((function(){dt["a"].requestIndexProgressUpdate(t.app.enigmaModel)}),e||0)}function g(){r((function(){t.isSmallDevice=f["default"].isSmallDevice;if(t.isSmallDevice){v();t.setSearchIndexingDone()}else!dt["a"].isSearchOpen(t.app.enigmaModel)&&dt["a"].couldEngineBeIndexing(t.app.enigmaModel)&&m(0);t.isSmallDevice&&t.isCaoActive&&(t.isCaoActive=false)}))}function b(){if(!l)return;p["a"].isInAnalysisMode()?l.on():l.off()}function y(){p["a"].inSheetView()&&f["default"].isSmallDevice&&dt["a"].openGlobalSearch(t.app.enigmaModel);b();var e=h["a"].isInInsightMode();e?e&&!t.isCaoActive&&(t.isCaoActive=true):t.isCaoActive=false}b();f["default"].ViewChanged.bind(g);t.$watch("isSmallDevice",(function(e){true!==e||p["a"].inObjectView()?dt["a"].closeGlobalSearchIfNoQuery(t.app.enigmaModel):dt["a"].openGlobalSearch(t.app.enigmaModel)}));p["a"].StateChanged.bind(y);t.mobileIndicatorTop=false;t.mobileIndicatorShow=false;N["a"].setCsShowCallback((function(e){t.mobileIndicatorShow=e&&!t.hideMobileIndicator}));N["a"].onClose((function(){document.activeElement!==n.find('[tid="currentSelections.toggleExploreSelection"]')[0]&&n.find('[tid="currentSelections.toggleGlobalSelections"]').focus()}));t.$on("globalSelectionActive",(function(e,n){t.isGlobalSelectionsActive=n}));t.$on("exploreSelectionActive",(function(e,n){t.isExploreSelectionsActive=n}));function w(e){c["a"].get(e).then((function(e){t.model=e;Object(u["a"])(t,"app",q)})).catch((function(e){false}));t.$watch(e.isInModalSelection.bind(e),(function(e){t.inSelection=e;if(t.inSelection&&t.activeFieldName&&t.activeFieldName.length>0)t.cachedPlaceHolders=t.items.map((function(e){return k["a"].createPlaceHolder({},e.qField,e.qReadableName||e.qField)}));else{t.cachedPlaceHolders=[];t.items=t.items.filter((function(e){return!e.isPlaceHolder}))}}));t.app=e;Object(u["a"])(t,"app",q)}var x=[];var C;function q(e){var n=false;var r;if(x.length!==e.qStateNames.length||!x.every((function(t,n){return t===e.qStateNames[n]}))){r=[At].concat(e.qStateNames);n=true;x=e.qStateNames.concat()}if(t.model&&(!C||n)){r=[Tt].concat(e.qStateNames);t.model.getProperties().then((function(e){e.selectionsInStates=r.map((function(e){return{stateName:e,qSelectionObjectDef:{qStateName:e}}}));t.model.setProperties(e)}))}C=t.model}var E=t.$watch("app",(function(e){w(e.enigmaModel);E()}));t.$watch((function(){return dt["a"].isSearchOpen(t.app.enigmaModel)}),(function(e){t.isGlobalSearchActive=e;if(t.isSmallDevice||e){v();t.isGlobalSearchIndexing=false}else if(dt["a"].couldEngineBeIndexing(t.app.enigmaModel)){var n=dt["a"].getLastKnownIndexProgress(t.app.enigmaModel);t.isGlobalSearchIndexing=true;t.indexPercentDone=n;m(500)}}));t.toggleGlobalSelection=function(e){e.preventDefault();s.toggleGlobalSelection(t.app);t.currentSelectionDisabled=false;t.expandSmartSearchSuggestedChart=false;D["a"].publish(O["a"].Events.PubSub.ExpandSmartSearchSuggestedChart,null);P["a"].trackEvent(P["a"].customEvents.GLOBAL_SELECTIONS_CLICKED,{type:"clicked"})};t.toggleGlobalSearch=function(){s.toggleGlobalSearch()};t.toggleExploreSelection=function(){s.toggleExploreSelection();t.expandSmartSearchSuggestedChart=false;D["a"].publish(O["a"].Events.PubSub.ExpandSmartSearchSuggestedChart,null);t.currentSelectionDisabled=false};t.$watch("isCaoActive",(function(e){false===e&&ft["a"].off()}));t.$on("$destroy",(function(){f["default"].ViewChanged.unbind(g);dt["a"].off();ft["a"].off();t.isCaoActive=false;N["a"].off();ut.off();t.isExploreSelectionsActive=false;p["a"].StateChanged.unbind(y);N["a"].setCsShowCallback(null);r.cancel(a);dt["a"].IndexProgressUpdate.unbind(d);l&&l.delete()}))},controller:["$scope","$element","$timeout",function(e,t,n){var r;var s=false;var l;e.items=[];e.disable={clear:true,back:true,forward:true};e.brightCurSel=e.options&&"bright"===e.options.variant;e.hideUndoRedo=e.options&&true===e.options.hideUndoRedo;e.hideSelectionsTool=e.options&&true===e.options.hideSelectionsTool;e.hideSearch=e.options&&true===e.options.hideSearch||Ct["a"].isFeatureBlacklisted("search");e.hideClearSelections=e.options&&true===e.options.hideClearSelections;e.currentSelectionDisabled=false;function c(){N["a"].setCsShow(f["default"].isSmallDevice&&e.items.length>0&&p["a"].view!==p["a"].Views.object)}function d(t){e.currentSelectionDisabled=false;e.disable.clear=0===T["a"].getClearableStates(t.selectionsInStates).length;e.disable.back=0===t.qSelectionObject.qBackCount;e.disable.forward=0===t.qSelectionObject.qForwardCount;var r=k["a"].getAllSelectionsInStates(t);e.haveHiddenSelections=r.some((function(e){return e.qIsHidden}));var a=r.filter((function(e){return!e.qIsHidden}));a.forEach((function(t){t.translation=J["a"].translate(t);t.screenReaderLabel=J["a"].translatedScreenReaderLabel(t);t.name=t.qReadableName||t.qField;t.displayStateName=k["a"].getDisplayStateName(t.stateName);t.currentSelectionDisabled=e.currentSelectionDisabled;t.removeTitle=J["a"].translatedRemoveTitle(t)}));e.nbrSelections=a.length;N["a"].setSelectionCount(a.length,e.app);c();var o=k["a"].groupSelectionsByField(a);var s=o.filter((function(e){return!e.isSingleState}));s.forEach((function(e){e.translation=J["a"].translate(e);e.screenReaderLabel=J["a"].translatedScreenReaderLabel(e);e.tabindex=0;e.role="button"}));o=o.sort(T["a"].sortSelections);if(e.cachedPlaceHolders.length>0&&e.activeFieldName&&e.activeFieldName.length>0){e.cachedPlaceHolders.forEach((function(e){k["a"].createPlaceHolder(e)}));a.forEach((function(t){e.cachedPlaceHolders.forEach((function(n,r){t.qField===n.qField&&(e.cachedPlaceHolders[r]=v["a"].extend(true,{},t))}))}));a=e.cachedPlaceHolders}if(e.multiPopover){var l=k["a"].getIndexByKey(o,"name",e.multiPopover.fieldName);var u=k["a"].getIndexByKey(e.items,"name",e.multiPopover.fieldName);var d=l>-1;if(d){var f=o.splice(l,1)[0];o.splice(u,0,f);var p=k["a"].getAllStatesFromSelections(o,e.multiPopover.fieldName);if(p.length<=1&&e.activeFieldName.length){i.a.element('.item[data-csid="'.concat(e.activeFieldName,'"]')).focus();e.multiPopover.close()}}else e.multiPopover.close()}e.items=o;c();n((function(){e.$broadcast("refreshPager")}))}Object(u["a"])(e,"model",(function(){l&&l.dispose();l=e.model.layoutSubscribe(d)}));e.$watch(p["a"].inObjectView,c);e.$watch("isSmallDevice",c);e.clear=function(t,n,r){var i=n?[n]:k["a"].getAllStatesFromSelections(e.items);e.$parent.itemSelected&&(e.$parent.itemSelected=false);r&&r.stopPropagation();var a=i.map((function(n){return e.model.clearField(t,n)}));return L["a"].all(a)};e.clearAllFields=function(){return e.model.clearAll()};e.back=function(){return e.model.back()};e.forward=function(){return e.model.forward()};function h(e,t){var n=i.a.element(e).closest("li");var r=n[t]("li");var a=r.find(".text");return a.length>0&&a||r.length>0&&r}function g(t,r){var a;var o=t.which;var s='.item-multi-state[data-csid="'.concat(e.multiPopover.fieldName,'"]');var l=i.a.element(t.target).closest("li");var c=l.next("li");var u=!t.target.classList.contains("text-container");var d=l.parent()[0];var f=l.closest(".lui-popover-container")[0];switch(o){case M["a"].ESCAPE:e.multiPopover.close();a=i.a.element(s);break;case M["a"].SPACE:case M["a"].ENTER:if(u){var p=f.getElementsByClassName("clear-all-btn")[0];d.childElementCount>2&&e.multiPopover.dropdown&&(a=p);e.clear(r.qField,r.stateName,t);break}n((function(){t.target.click()}));break;case M["a"].TAB:if(0===c.length&&document.activeElement.className.indexOf(" remove ")>-1){e.multiPopover.close();a=i.a.element(s)}break;default:break}if(a){a.focus();t.preventDefault()}}e.showPopover=function(t){var r=i.a.element(t.target).closest(".item");var a=r.scope().item.qField;var o=r.scope().item.isPlaceHolder;var s={qvaOutsideIgnoreFor:"currentSelectionsItems",$alignToElement:r,showLock:true,direction:m["a"].direction};if(e.isClearSelectionIcon(t.target)){if(e.activeFieldName){f["default"].isSmallDevice?pt["a"].close():ht["a"].close();e.activeFieldName=""}return}if(!r.hasClass("item-multi-state")&&(a===e.activeFieldName||o)){f["default"].isSmallDevice?pt["a"].close():ht["a"].close();e.activeFieldName="";return}n((function(){e.closeTooltip()}),100);e.activeFieldName=a;var l={listboxPopoverService:pt["a"],listboxPopoverServiceMobile:ht["a"],$timeout:n};var c=k["a"].getAllStatesFromSelections(e.items,a);if(c.length>1){if(e.multiPopover)return;var u=function t(){return k["a"].getMultiPopoverItems(e.items,a)};e.multiPopover=k["a"].openMultiStatePopover(xt,u,r[0],e.brightCurSel,{onClose:function t(){e.multiPopover=null;e.activeFieldName=""},clear:e.clear,click:function t(n){var r=i.a.element(n.target).closest(".item");var a=r.scope().item.qField;var o=r.scope().item.displayStateName;e.multiPopover.close();e.closeTooltip();e.onCloseFocusSelector='.item[data-csid="'.concat(a,'"]');k["a"].openListboxPopover(k["a"].activatePopover,e,f["default"].isSmallDevice,o,a,s,l)},openTooltip:e.openTooltip,closeTooltip:e.closeTooltip,direction:m["a"].direction,handleKeyDown:g});e.multiPopover.fieldName=a}else k["a"].openListboxPopover(k["a"].activatePopover,e,f["default"].isSmallDevice,c[0],a,s,l)};e.openTooltip=function(t,i){if(e.isClearSelectionIcon(t.target)){e.closeTooltip();return}if(s||!a["a"].treatAsDesktop())return;var o=e.multiPopover&&e.multiPopover.fieldName===i.qField;if(i.states&&o)return;e.cancelTooltip();r=n((function(){var e=i.qStateCounts;var n="object"===kt(e);var r=n?" (".concat(e.qSelected+e.qSelectedExcluded+e.qLocked+e.qLockedExcluded,"/").concat(i.qTotal,")"):"";var a=i.states||!o&&"$"===i.stateName?i.translation:[k["a"].getDisplayStateName(i.stateName),": ",i.translation].join("");s=true;Ve["a"].open({content:[{header:(i.qReadableName||i.qField)+r,rows:[{content:a}]}],position:{x:t.clientX,y:t.clientY},alwaysOnTop:true,direction:"bottom",template:"current-selections-tooltip-template.ng.html"})}),500)};e.closeTooltip=function(){s=false;e.cancelTooltip();Ve["a"].close()};e.cancelTooltip=function(){n.cancel(r)};e.isClearSelectionIcon=function(e){return i.a.element(e).closest(".remove").is(".remove")};e.handleKeyDown=function(r,a){var o;var s=r.which;s=r.shiftKey&&M["a"].TAB===s?"SHIFT_TAB":s;var l=!r.target.classList.contains("text");if(a.isSingleState)switch(r.which){case M["a"].SPACE:case M["a"].ENTER:if(l){r.preventDefault();o=e.items&&e.items.length>1?h(r.target,"next")||h(r.target,"prev"):t.find('[data-tid="current-selections-back"]');e.clear(a.qField);break}e.showPopover(r);break;default:break}else switch(s){case M["a"].SPACE:case M["a"].ENTER:e.multiPopover?e.multiPopover.close():e.showPopover(r);o=i.a.element('.item[data-csid="'.concat(e.multiPopover.fieldName,'"]'));e.multiPopover.dropdown=o;break;case M["a"].TAB:if(e.multiPopover){o=i.a.element('[tid="qv-multi-state-popover-btn-clear"]');r.preventDefault()}break;case"SHIFT_TAB":e.multiPopover&&e.multiPopover.close();break;case M["a"].ESCAPE:if(e.multiPopover){e.multiPopover.close();o=i.a.element('.item[data-csid="'.concat(e.multiPopover.fieldName,'"]'))}break;default:break}o&&n((function(){o.focus()}))};function b(t,n){e.items.forEach((function(t){if(-1!==n[0].indexOf(t.qField)){n[1]?t.feedbackActive=false:t.feedbackActive=true;o["default"].$apply(e)}}))}var y=o["default"].$rootScope.$on("locked-feedback",b);var w=function t(){ut.off();e.isExploreSelectionsActive=false;e.currentSelectionDisabled=false};D["a"].subscribe("selection/insights/close",w);D["a"].subscribe("cao/insights/close",(function(){e.isCaoActive=false}));D["a"].subscribe("selections/insights/details/close",(function(){e.currentSelectionDisabled=false}));D["a"].subscribe("selections/insights/details/open",(function(){e.currentSelectionDisabled=true}));e.$on("$destroy",(function(){y();l&&l.dispose();D["a"].unsubscribe("cao/insights/close");D["a"].unsubscribe("selection/insights/close",w);D["a"].unsubscribe("selections/insights/details/close");D["a"].unsubscribe("selections/insights/details/open")}))}]};o["default"].directive("qvStageCurrentSelections",[function(){return Dt}]);var Ot=Dt},"1S8k":function(e,t,n){"use strict";var r=n("czhI");var i=n.n(r);var a=n("5Pwf");var o=n("/2No");var s=n("VqUS");var l=n("6kXV");var c=n("acVu");var u=n("6uJb");var d={409:"DataConnections.Error.AlreadyExists"};function f(e){var t=void 0;if(e in d)return u["default"].get(d[e]);return t}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),true).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function b(e,t,n){t&&g(e.prototype,t);n&&g(e,n);return e}function y(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){y(a,r,i,o,s,"next",e)}function s(e){y(a,r,i,o,s,"throw",e)}o(void 0)}))}}var S="".concat(o["a"].rootPath,"api/v1/dc-dataconnections");var x="".concat(o["a"].rootPath,"api/v1/dc-datacredentials");function C(e){var t,n,r,i;var a=e||{},o=a.response;var s=(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.message)||(null===o||void 0===o||null===(n=o.data)||void 0===n||null===(r=n.errors)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.detail);var l=f(null===o||void 0===o?void 0:o.status);throw new Error(l||s)}function q(e,t){return E.apply(this,arguments)}function E(){E=w(regeneratorRuntime.mark((function e(t,n){var r,a,o,s,l,c=arguments;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:r=c.length>2&&void 0!==c[2]?c[2]:{};a=c.length>3&&void 0!==c[3]?c[3]:{};o=i.a[t];s=h({headers:{Accept:"application/json","Content-Type":"application/json"}},a);u.prev=4;u.next=7;return o(n,r,s);case 7:l=u.sent;u.next=13;break;case 10:u.prev=10;u.t0=u["catch"](4);C(u.t0);case 13:return u.abrupt("return",l);case 14:case"end":return u.stop()}}),e,null,[[4,10]])})));return E.apply(this,arguments)}var I=function(){function e(){m(this,e)}b(e,null,[{key:"fetchConnections",value:function(){var t=w(regeneratorRuntime.mark((function t(n,r){var i,o,s;return regeneratorRuntime.wrap((function t(l){while(1)switch(l.prev=l.next){case 0:if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){l.next=16;break}o=Object(c["b"])("SHOW_ALL_SPACE_CONNECTIONS");l.next=4;return q("get",S,{params:{owner:n,space:o?void 0:r,personal:true,alldatafiles:true,allspaces:o}});case 4:s=l.sent;l.prev=5;l.next=8;return Promise.all(s.data.data.map(function(){var t=w(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function t(a){while(1)switch(a.prev=a.next){case 0:n.dataconnectorPrefix="";if(!n.space){a.next=8;break}a.next=4;return e.fetchSpaceName(n.space);case 4:i=a.sent;n.spaceName=i;n.dataconnectorPrefix="".concat(i,":");n.isInAppSpace=n.space===r;case 8:case"end":return a.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 8:l.next=13;break;case 10:l.prev=10;l.t0=l["catch"](5);C(l.t0);case 13:i={qConnections:s.data.data,data:s.data.data};l.next=19;break;case 16:l.next=18;return a["a"].currentApp.getConnections();case 18:i=l.sent;case 19:return l.abrupt("return",i);case 20:case"end":return l.stop()}}),t,null,[[5,10]])})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"fetchSpaceName",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:n={};r.prev=1;r.next=4;return l["a"].fetchSpace(t);case 4:n=r.sent;r.next=10;break;case 7:r.prev=7;r.t0=r["catch"](1);C(r.t0);case 10:return r.abrupt("return",n.name);case 11:case"end":return r.stop()}}),e,null,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteConnection",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){o.next=12;break}n="".concat(S,"/").concat(t);o.prev=2;o.next=5;return i.a.delete(n);case 5:r=o.sent;o.next=11;break;case 8:o.prev=8;o.t0=o["catch"](2);C(o.t0);case 11:return o.abrupt("return",r);case 12:return o.abrupt("return",a["a"].currentApp.deleteConnection(t));case 13:case"end":return o.stop()}}),e,null,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchConnection",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){i.next=6;break}n="".concat(S,"/").concat(t);i.next=4;return q("get",n,{params:{}});case 4:r=i.sent;return i.abrupt("return",{qConnection:r.data});case 6:return i.abrupt("return",a["a"].currentApp.getConnection(t));case 7:case"end":return i.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"modifyConnection",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r,i,o,s,l,u,d,f,p,h,v,m,g,b;return regeneratorRuntime.wrap((function e(y){while(1)switch(y.prev=y.next){case 0:n=t.id,r=t.connectionName,i=t.connectionString,o=t.username,s=t.password,l=t.type,u=t.logonType,d=t.overrideCredentials,f=t.datasourceID,p=t.spaceID,h=t.separateCredentials,v=t.credentialsId,m=t.credentialsName;if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){y.next=8;break}g="".concat(S,"/").concat(n);b={qID:n,qConnectStatement:i,qEngineObjectID:n,qLogOn:u,qName:r,qPassword:s,qUsername:o,qType:l,space:p,datasourceID:f};if(Object(c["b"])("CREDENTIALS_SEPARATION")){b.qSeparateCredentials=h;m&&""!==m&&(b.qCredentialsName=m);if(""===o&&""===s){delete b.qUsername;delete b.qPassword}v&&""!==v&&(b.qCredentialsID=v)}y.next=7;return q("put",g,b);case 7:return y.abrupt("return",true);case 8:return y.abrupt("return",a["a"].currentApp.modifyConnection({qConnectionId:n,qConnection:{qName:r,qConnectionString:i,qType:l,qUserName:o,qPassword:s,qLogOn:u},qOverrideCredentials:d}));case 9:case"end":return y.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createCredentials",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,l,u,d,f,p,h;return regeneratorRuntime.wrap((function e(v){while(1)switch(v.prev=v.next){case 0:n=t.credentialsName,r=t.type,i=t.datasourceId,a=t.username,o=t.password,s=t.connectionId,l=void 0===s?void 0:s,u=t.spaceId,d=void 0===u?void 0:u;if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){v.next=10;break}f={qName:n,qType:r,dataSourceId:i,qUsername:a,qPassword:o};l&&(f.connectionId=l);d&&(f.spaceID=d);p="".concat(x);v.next=8;return q("post",p,f);case 8:h=v.sent;return v.abrupt("return",h.data);case 10:throw new Error("createCredentials not available");case 11:case"end":return v.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"modifyCredentials",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,l,u,d,f,p;return regeneratorRuntime.wrap((function e(h){while(1)switch(h.prev=h.next){case 0:n=t.credentialsId,r=t.credentialsName,i=t.username,a=t.password,o=t.connectionId,s=void 0===o?void 0:o,l=t.spaceId,u=void 0===l?void 0:l;if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){h.next=12;break}d={};r&&""!==r&&(d.qName=r);if(i&&a){d.qUsername=i;d.qPassword=i}s&&(d.connectionId=s);u&&(d.spaceID=u);f="".concat(x,"/").concat(n);h.next=10;return q("put",f,d);case 10:p=h.sent;return h.abrupt("return",p.data);case 12:throw new Error("modifyCredentials not available");case 13:case"end":return h.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchCredentials",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){i.next=6;break}n="".concat(x,"/").concat(t);i.next=4;return q("get",n);case 4:r=i.sent;return i.abrupt("return",r.data);case 6:throw new Error("fetchCredentials not available");case 7:case"end":return i.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchCredentialsList",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:n=t.type,r=void 0===n?void 0:n,i=t.datasourceID,a=void 0===i?void 0:i;if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){l.next=9;break}o="".concat(x,"?");r&&(o+="type=".concat(r,"&"));a&&(o+="datasourceID=".concat(a));l.next=7;return q("get",o);case 7:s=l.sent;return l.abrupt("return",s.data);case 9:throw new Error("fetchCredentials not available");case 10:case"end":return l.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createConnection",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r,i,o,l,u,d,f,p,h,v,m,g,b,y,w,x,C,E,I,k,A,T;return regeneratorRuntime.wrap((function e(D){while(1)switch(D.prev=D.next){case 0:n=t.connectionName,r=t.connectionString,i=t.ownerId,o=t.datasourceID,l=t.type,u=t.spaceID,d=t.logonType,f=void 0===d?1:d,p=t.separateCredentials,h=void 0!==p&&p,v=t.username,m=void 0===v?void 0:v,g=t.password,b=void 0===g?void 0:g,y=t.credentialsName,w=void 0===y?void 0:y,x=t.credentialsId,C=void 0===x?void 0:x;if(!Object(c["b"])("CLIENT_DATACONNECTIONS")){D.next=10;break}E="".concat(S);I=s["a"].generateId();k={datasourceID:o,qArchitecture:0,owner:i,qConnectStatement:r,qEngineObjectID:I,qID:I,qName:n,qUsername:m,qPassword:b,qType:l,space:u,qLogOn:f};if(Object(c["b"])("CREDENTIALS_SEPARATION")){k.qSeparateCredentials=h;if(h){A=!!(m&&b);if(!A){delete k.qUsername;delete k.qPassword}w&&(k.qCredentialsName=w);C&&(k.qCredentialsID=C)}}D.next=8;return q("post",E,k);case 8:T=D.sent;return D.abrupt("return",T.data);case 10:return D.abrupt("return",a["a"].currentApp.createConnection({qConnection:{qName:n,qConnectionString:r,qType:l,qUserName:m,qPassword:b,qLogOn:f}}));case 11:case"end":return D.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]);return e}();var k=t["a"]=I},"1Swa":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("mXGw");var i=n.n(r);function a(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function s(e,t){return f(e)||d(e,t)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function f(e){if(Array.isArray(e))return e}function p(e){var t=Object(r["useState"])(),n=s(t,2),i=n[0],a=n[1];var l=Object(r["useState"])(),c=s(l,2),u=c[0],d=c[1];Object(r["useEffect"])((function(){var t=true;function n(){return r.apply(this,arguments)}function r(){r=o(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function n(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return e.getScriptEx();case 3:r=i.sent;if(t){d();a(r)}i.next=11;break;case 7:i.prev=7;i.t0=i["catch"](0);i.t0.isHandled=true;if(t){d(i.t0);a()}case 11:case"end":return i.stop()}}),n,null,[[0,7]])})));return r.apply(this,arguments)}e&&n();return function(){t=false}}),[e]);return[i,u]}},"1UIw":function(e,t,n){"use strict";var r=n("mWu2");var i=n("6uJb");var a=n("9Ggg");var o=n("gVPc");var s=n("TLJm");var l=n("eoRd");var c={NxLocalizedErrorCode:{LOCERR_JSON_RPC_ENTITY_NOT_FOUND:-32001,LOCERR_JSON_RPC_ACCESS_DENIED:-32002,LOCERR_JSON_RPC_APP_DUPLICATION_FAILED:-32003}};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),true).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var p=false;var h=d(d({},s["a"].NxLocalizedErrorCode),c.NxLocalizedErrorCode);function v(e){var t=false;switch(e.code){case h.LOCERR_SERVER_OUT_OF_SESSION_AND_USER_CALS:case h.LOCERR_SERVER_OUT_OF_SESSION_CALS:case h.LOCERR_SERVER_OUT_OF_USAGE_CALS:case h.LOCERR_SERVER_OUT_OF_CALS:case h.LOCERR_SERVER_OUT_OF_NAMED_CALS:case h.LOCERR_SERVER_LICENSE_EXPIRED:t=true;break;default:break}return t}function m(e){if(e.code)return i["default"].get("ErrorCode.".concat(e.code),e.parameter);return i["default"].get(e.message)}function g(){false;setTimeout((function(){window.location.reload(true)}))}function b(e){var t=r["default"].getService("qvConfirmDialog").show({message:y(i["default"].get("ErrorDialog.Title"),m(e)),okLabel:i["default"].get("Common.Refresh"),cancelLabel:i["default"].get("ErrorDialog.GoToHub.Button"),closeOnEscape:false});t.closed.then((function(e){e?g():window.location.href=a["a"].buildHubUrl()}));return t}function y(e,t){return'<h2 class="inline-title">'.concat(e,"</h2><span>").concat(t,"</span>")}function w(e,t){var n=r["default"].getService("qvAlertDialog").show({message:y(e,t),closeLabel:i["default"].get("Common.Refresh"),closeOnEscape:false});n.closed.then((function(){p=false;g()}));return n}function S(e,t){var n=a["a"].isSuffixInUse("noData");var s=t;o["a"].isQCS()&&(s=n?i["default"].get("Dialog.Message.Cannot.Open.Without.Data"):i["default"].get("Dialog.Message.Cannot.Open.With.Data"));var l=r["default"].getService("qvAlertDialog").show({message:y(e,s),closeLabel:i["default"].get(n?"Dialog.Button.Open.With.Data":"Dialog.Button.Open.Without.Data"),closeOnEscape:false});l.closed.then((function(){p=false;if(n)a["a"].removePartialSuffix("noData");else{var e=window.location.href;var t=e.lastIndexOf("/")===e.length-1;var r="noData/true";t||(r="/".concat(r));a["a"].setUrl(e+r)}g()}));return l}function x(e,t){var n=y(e,t);var a=r["default"].getService("qvAlertDialog").show({message:n,closeOnEscape:true});a.closed.then((function(){p=false;r["default"].$rootScope.$broadcast("errorHandlerClosed",n,{name:i["default"].get("Common.Refresh"),callback:g})}));return a}function C(e,t){var n=y(e,t);var a=r["default"].getService("qvConfirmDialog").show({message:n,okLabel:i["default"].get("Common.Refresh"),cancelLabel:i["default"].get("Common.Close"),closeOnEscape:true});a.closed.then((function(e){p=false;e?g():r["default"].$rootScope.$broadcast("errorHandlerClosed",n,{name:i["default"].get("Common.Refresh"),callback:g})}));return a}function q(e){if(p)return;if(e.code===h.LOCERR_JSON_RPC_INVALID_PARAMETERS)return;p=true;if("ErrorDialog.AppClosed"===e.message||"ProxyError.OnNoEngineAvailable"===e.message||"SessionError.SessionErrorNoLicense"===e.message||"OnEngineWebsocketFailed"===e.method||e.code===h.LOCERR_APP_NOT_FOUND||e.code===h.LOCERR_APP_CONNECT_FAILED)Object(l["b"])().then((function(t){t?b(e):w(i["default"].get("ErrorDialog.Title"),m(e))}));else if(v(e,h))C(i["default"].get("ErrorDialog.Title"),m(e));else if(e.code===h.LOCERR_GENERIC_CONNECTION_LOST)w(i["default"].get("ErrorDialog.Title"),m(e));else if(e.code===h.LOCERR_PERSONAL_VERSION_EXPIRED){var t=o["a"].getProductInfo().externalUrls;var n=i["default"].get("Info.QlikView.Personal.Upgrade",["<a href='".concat(t.personalUpgradeUrl,"' target='_blank'>").concat(t.personalUpgradeBase,"</a>")]);w(i["default"].get("ErrorCode.12001.Sense.Desktop.Expired"),n)}else if("ProxyError.OnSessionTimedOut"===e.message)w(i["default"].get("TimeoutDialog.Title"),m(e));else if(e.code===h.LOCERR_APP_ALREADY_OPEN_IN_DIFFERENT_MODE)S(i["default"].get("ErrorDialog.Title"),m(e));else if(e.refreshButton)w(i["default"].get("ErrorDialog.Title"),m(e));else{x(i["default"].get("ErrorDialog.Title"),m(e));console.error(e)}}var E=t["a"]={showDialog:q,__for_unit_test_errors:h,__for_unit_test_showAppOpenInDifferentModeDialog:S}},"1buF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e}();r.template="LIB CONNECT TO [{{dataconnectorName}}];\n{{#each calculatedFields}}\n\tLOAD *, {{expr}} AS [{{alias}}];\n{{/each}}\n{{#each inject.prefix}}\n{{.}}\n{{/each}}\n{{#if dependencies.keep.enabled}}\nLEFT KEEP ([{{dependencies.keep.model.tableAlias}}])\n{{/if}}\nLOAD {{load-field-list fields}};\nSQL SELECT {{sql-field-list fields connectionInfo}}\nFROM {{database-owner-table databaseName ownerName tableName connectionInfo.dbInfo}};",r.type="load-sql",t.LoadSql=r},"1irJ":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"a",(function(){return r}));var r={qInfo:{qId:"MeasureList",qType:"MeasureList"},qMeasureListDef:{qType:"measure",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",labelExpression:"/qMeasure/qLabelExpression"}}};var i={types:"Doc",extend:{getMeasureList:function e(){return this.getListData(r)},getMeasureListObject:function e(){return this.getListObject(r)}}}},"1oJt":function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");var a={};t["a"]={get:function e(t){var n=t?i["a"].resolve(t.enigmaModel):r["a"].getApp();return n.then((function(e){a[e.id]=a[e.id]||e.getUndoInfoObject();return a[e.id]}))}}},"1oM5":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n("PoH+"),a=n("yB4Y"),o=n("kgeS"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.updateTransformation=function(e,t){var n=-1;if(e.transformations){var r=i.find(e.transformations,(function(e){return e.op===a.DSMTypes.Transformations.interpretValues}));n=i.indexOf(e.transformations,r)}n>=0&&null===t?(e.classifications=[],e.transformations.splice(n,1)):t&&(n>=0?e.transformations[n]=t:(e.transformations=e.transformations||[],e.transformations.push(t)),e.classifications=[t.arguments.targetType])},t.prototype.handleRecommendation=function(e){},t}(o.TransformationRecommendation);t.DateTimeRecommendation=s},"1qo9":function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a=n("JbRU");var o=n("5Pwf");var s=n("wSFN");var l=n("PoH+");var c=n.n(l);function u(e){e.assocloc=e.assocloc||"0 0";var t={serialize:n,data:e};function n(){return t.data}Object.defineProperty(t,"assocloc",{set:function e(n){t.data.assocloc=n},get:function e(){return t.data.assocloc}});Object.defineProperty(t,"key",{set:function e(n){t.data.key=n},get:function e(){return t.data.key}});Object.defineProperty(t,"category",{set:function e(n){t.data.category=n},get:function e(){return t.data.category}});return t}var d={create:u};function f(e){var t={};if(e)for(var n=0;n<e.length;n++){var r=e[n].fields;if(r)for(var i=0;i<r.length;i++){var a=r[i].alias||r[i].name;t[a]?t[a].tables.push(e[n]):t[a]={fieldName:a,tables:[e[n]]}}}return t}function p(e){var t=f(e);var n=Object.keys(t);var r=[];for(var i=0;i<n.length;i++){var a=t[n[i]].tables;a.length>1&&r.push({key:n[i],category:"AssociationIntersection"})}return r}function h(e){var t=f(e);var n=Object.keys(t);var r=[];for(var i=0;i<n.length;i++){var a=t[n[i]].tables;if(a.length>1)for(var o=0;o<a.length;o++){var s={to:n[i],from:a[o].key,fromField:n[i]};r.push(s)}}return r}function v(e,t){function n(){}function r(t){e.qualifyTableField(t.from,t.fromField);u()}function i(t,n){var r=t.$watch((function(){return e.version}),(function(){n(o())}));t.$on("$destroy",(function(){r()}));return r}function a(){return t.compiledTables(e)}function o(){var t=a();u();var n=h(t);var r=e.associationNodeModels;var i={nodes:t.concat(r),links:n,fieldNamesAssociations:f(t)};return i}function s(t,n){var r=function r(i){var o=t[i];var s=false;s=c.a.find(e.associationNodeModels,(function(e){return e.data.key===o.key}));if(!s){f(a());if(n){var l=Object.keys(n);for(var u=0;u<l.length;u++){var p=l[u];t[i][p]=n[p]}}e.associationNodeModels.push(d.create(t[i]))}};for(var i=0;i<t.length;i++)r(i)}function l(t){var n=function n(r){var i=e.associationNodeModels[r];var a=false;a=c.a.find(t,(function(e){return i.data.key===e.key}));a||e.associationNodeModels.splice(r,1)};for(var r=e.associationNodeModels.length-1;r>=0;r--)n(r)}function u(e){var t=p(a())||[];l(t);s(t,e)}function v(t){e.remove(t);u()}var m={addAssociation:n,removeAssociation:r,getLayout:o,bindLayout:i,remove:v,updateAssociationNodes:u};return m}var m={createAssociationsModel:v,associatedLinks:h,associationIntersectionNodes:p};var g=n("C5K+");var b=n("ai+P");var y=n("iE90");var w=n("6uJb");var S=n("fBw5");function x(e,t){function n(){return t.getScript().then((function(n){return b["a"].createQScriptModelFromRawText(e,t,n.qScript,[],[])}))}function r(e){return n().then((function(t){a(t,e);return t.fastSave().then((function(){return true}))}))}function i(){return n().then((function(e){return e.setAndPersistScript().then((function(){return true}))}))}function a(e,t){var n=w["default"].get("scripteditor.autogeneratedSection");function r(){for(var t in e.tabs)if(e.tabs[t].autogenerated)return e.tabs[t];return}function i(){for(var t in e.tabs)if(e.tabs[t].autogenerated){e.tabs.splice(t,1);break}}var a=r();if(a&&""!==t)o(a.content,t)||(a.content=t);else if(a||""===t)a&&""===t&&i();else{e.addNewTab(e.tabs.length);e.tabs[e.tabs.length-1].name=n;e.tabs[e.tabs.length-1].autogenerated=true;a=e.tabs[e.tabs.length-1];a.content=t}return e}function o(e,t){var n={content:e};var r={content:t};var i=y["a"].stringify([n]);var a=y["a"].stringify([r]);return i===a}var s={getScriptModelPromise:n,updateLoadModelScript:r,persistScript:i,reconcileAutoGeneratedScriptInTab:a};return s}var C={createUpdater:x};function q(e,t){if(!e||!t)return[];var n=t.tableModels.filter((function(t){var n=e.getTableModelWithName(t.data.tableAlias||t.data.tableName);return!n}));return n}function E(e){if(!e)return[];var t=e.tableModels.filter((function(e){return("folder"===e.data.connectionInfo.typeName||"qix-datafiles.exe"===e.data.connectionInfo.typeName)&&"AttachedFiles"!==e.data.connectionInfo.name&&"modified"===e.data.state&&"TYPE9_EXCEL_OOXML"===e.data.ownerName}))[0];if(t)return e.tableModels.filter((function(e){return e.data.databaseName===t.data.databaseName&&e.data.dataconnectorName===t.data.dataconnectorName})).map((function(e){return e.data.id}));return[]}var I={getNewlyAddedTablesFromLoadModel:q,getModifiedExcelFilesFromLoadModel:E};var k=n("qIEf");var A=n.n(k);var T='<div class="lui-dialog qv-quickimportprogressindicator">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title" q-translation="{{getHeading()}}"></div>\n\t</div>\n\t<div class="lui-dialog__body dm-main">\n\n\t\t<div class="section clearfix">\n\n\t\t\t<div class="elapsed">\n\t\t\t\t<span q-translation="scripteditor.progressindicator.elapsedtime"></span>\n\t\t\t\t<span class="time" ng-class="!succeded && !running ? \'error\' : \'\' ">{{elapsedTime}}</span>\n\t\t\t</div>\n\n      \t\t<div class="qv-loader" ng-if="running"></div>\n\n\t\t\t<div ng-if="!running">\n\t\t\t\t<div class="userguide" ng-if="warnings || warningSearchIndex">\n\t\t\t\t\t<span class="bold" q-translation="quickdataimport.progressindicator.followingwarning"></span>\n\n\t\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t\t<li ng-repeat="warning in warningInfo">\n\t\t\t\t\t\t\t{{warning.text}}\n\t\t\t\t\t\t\t<span class="lui-icon lui-icon--help" ng-if="warning.url" ng-click="openHelpWindow(warning.url)" q-title-translation="{{warning.helpTooltip}}"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<br/>\n\t\t\t\t</div>\n\n\t\t\t\t<div ng-if="newSheetStr" ng-switch="newSheetStr">\n\t\t\t\t\t<div ng-switch-when="newSheet" q-translation="quickdataimport.progressindicator.newsheetcreated"></div>\n\t\t\t\t\t<br/>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="bold" q-translation="{{progressText()}}"></div>\n\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n\n\t<div class="lui-dialog__footer">\n\t\t<lui-button ng-repeat="button in buttons()" tid="{{ button.tid }}" ng-click="button.eventHandler()" ng-disabled="button.disabled" q-translation="{{ button.title }}" qva-focus="button.focus"></lui-button>\n\t</div>\n</div>\n';var D=n("z4LI");var O=n("UO/V");var L=0;var M=L;var P=false;function N(){M=(Date.now()-L)/1e3}function R(e){e=Math.floor(e);e<10&&(e="0".concat(e));return e}function F(){return R(M/3600)}function _(){return R(M%3600/60)}function j(){return R(M%60)}function B(){P&&N();return"".concat(F(),":").concat(_(),":").concat(j())}function V(){P=true;z()}function H(){N();P=false}function z(){L=Date.now();N()}var $={getElapsedTime:B,start:V,stop:H,reset:z};var U=n("JP+O");var G=n("gh04");var W=n("/irJ");var Q=n("4nJ1");function K(){var e;e="sense"===Q["a"].project?D["a"].view===D["a"].Views.story?"storyview":D["a"].view===D["a"].Views.sheet||D["a"].view===D["a"].Views.masterObject||D["a"].view===D["a"].Views.object?D["a"].isInEditMode()?"editsheetview":"sheetview":D["a"].view===D["a"].Views.dataManager?"datamanager":"appview":Q["a"].project;return e}var Y={toString:K};var J=n("Lj2P");var Z=n("vkLz");var X=n("RZ9f");var ee=n("Y9P5");var te=n("p+Qe");var ne={template:T,controller:["$scope","$timeout","$interval","$window","app","qvConfirmDialog",function(e,t,n,r,i,a){var s;var l;var c;var u=false;var d=false;var f=false;function p(){var t="";var n="";if("appview"===Y.toString()){n=".appview";f&&(t=".hasmultiplesheets")}if(u){if(!d)return"quickdataimport.progressindicator.resulttext.aborted";return""}if(e.succeded&&!e.warnings){if(f)return"quickdataimport.progressindicator.resulttext".concat(n,".succeded").concat(t);return""}if(e.succeded&&e.warnings)return"quickdataimport.progressindicator.resulttext".concat(n,".warnings").concat(t);return"quickdataimport.progressindicator.resulttext.failed"}e.progressText=function(){if(e.running)return"quickdataimport.progressindicator.inprogress";return p()};e.getHeading=function(){if(e.running){if(d)return"quickdataimport.progressindicator.headingdataimportinprogress.searchindex";return"quickdataimport.progressindicator.headingdataimportinprogress"}if(u){if(d)return"quickdataimport.progressindicator.headingdataimportcompletedsuccessfully";return"quickdataimport.progressindicator.headingdataimportaborted"}if(e.succeded&&!e.warnings&&!e.warningSearchIndex)return"quickdataimport.progressindicator.headingdataimportcompletedsuccessfully";if(e.succeded&&(e.warnings||e.warningSearchIndex))return"quickdataimport.progressindicator.headingdataimportcompletedwithwarnings";return"quickdataimport.progressindicator.headingdataimportfailed"};e.running=false;e.succeded=false;e.warnings=false;e.warningSearchIndex=false;e.warningInfo=[];var h=0;var v=false;var m=null;e.openHelpWindow=function(e){r.open(e)};function g(){e.running=false;e.succeded=false;e.warnings=false;e.warningSearchIndex=false;e.warningInfo=[];h=0;v=false;u=false;m=null}var b={title:"scripteditor.progressindicator.abortbutton",disabled:true,eventHandler:function t(){e.onAbortClicked()}};var y={title:"Common.Close",tid:"progressindicator.button.close",disabled:false,focus:false,eventHandler:function t(){e.onCloseClicked()}};var S={title:"Dialog.Button.OpenDataManager",tid:"progressindicator.button.open-data-manager",disabled:false,focus:false,eventHandler:function t(){e.onCloseClicked();W["a"].goToDataManager(i.name)}};var x={title:"Dialog.Button.StartEditSheet",tid:"progressindicator.editsheet",disabled:true,focus:false,eventHandler:function t(n){n||e.onCloseClicked();var r=ee["a"].Sheets.UNSAFE_all.mashed;var a=r.length;if(0===a){U["a"].addSheet(null).then((function(){G["a"].getList().then((function(e){e.getLayout().then((function(e){i.clearUndoBuffer();var t=e[0];t&&W["a"].goToInsightAdvisor()}))}))}));e.newSheetStr=""}else if(a>0){var o=r[0];W["a"].goToSheet(null===o||void 0===o?void 0:o.qInfo.qId,"edit")}}};var C={title:"Dialog.Button.ExploreInsights",tid:"progressindicator.exploreinsights",disabled:false,focus:false,eventHandler:function t(n){n||e.onCloseClicked();W["a"].goToInsightAdvisor()}};e.newSheetStr="";var q=[y];e.buttons=function(){return q};function E(){if(e.warnings||e.warningSearchIndex){e.warningInfo=[];v&&e.warningInfo.push({text:w["default"].get("scripteditor.progressindicator.edc_circular_referencesummary"),url:"".concat(J["a"].path,"QuickDataLoad_CircularReference"),helpTooltip:w["default"].get("quickdataimport.progressindicator.readmoreaboutcircularreference")});if(h>0){var t=w["default"].get("scripteditor.progressindicator.one_synthetic_keysummary");h>1&&(t=w["default"].get("scripteditor.progressindicator.multiple_synthetic_keysummary",[h]));e.warningInfo.push({text:t,url:"".concat(J["a"].path,"QuickDataLoad_SyntheticKey"),helpTooltip:w["default"].get("quickdataimport.progressindicator.readmoreaboutsynthetickey")})}e.warningSearchIndex&&e.warningInfo.push({text:m,url:null,helpTooltip:null})}}e.onEnter=function(){y.disabled||e.onEscape()};function I(){if(e.running)e.abortDialogActive||e.onAbortClicked();else{e.destroyComponent();e.deferredResult.resolve()}}e.onCloseClicked=I;e.onEscape=I;e.onAbortClicked=function(){e.abortDialogActive=true;b.focus=false;var t="scripteditor.cancelscriptrundialog.title";var n="scripteditor.cancelscriptrundialog.content";if(d){t="scripteditor.cancelscriptrundialog.searchindex.title";n="scripteditor.cancelscriptrundialog.searchindex.content"}e.dialogHandle=a.show({title:w["default"].get(t),message:w["default"].get(n),okLabel:w["default"].get("Common.Yes"),cancelLabel:w["default"].get("Common.No")});e.dialogHandle.closed.then((function(t){if(t){u=true;o["a"].global.cancelReload();R()}else{e.abortDialogActive=false;A()(".qv-quickimportprogressindicator .lui-dialog").focus();b.focus=true}}))};function k(){e.elapsedTime=$.getElapsedTime()}function T(){k();s=t(T,500)}function L(){c=false;l=n(M,1e3)}function M(){if(!c){c=true;return o["a"].global.getProgress(0).then(F,(function(){P()}))}return}function P(){c=false;n.cancel(l)}function N(){g();d=false;e.running=true;$.start();b.focus=true;q=[b];y.disabled=true;b.disabled=false;T();L()}function R(){y.disabled=false;y.focus=true;b.disabled=true;q=[y];e.running=false;t.cancel(s);$.stop();k()}function F(t){var n=t.qProgressData.qPersistentProgressMessages;var r=t.qProgressData.qErrorData;var i=[25,27,28,29];if(!!n&&n.length>0){var a=O["a"].translateMessageArray(n);var o=/\$Syn \d+ =/gm.test(a);var s=o?a.match(/\$Syn \d+ =/gm).length:0;if(o){h+=s;e.warnings=true}if(-1!==i.indexOf(n[0].qMessageCode)){e.warningSearchIndex=true;m=a}n.forEach((function(e){22===e.qMessageCode&&(d=true)}))}r&&r.forEach((function(t){if("EDC_CIRCULAR_REFERENCE"===t.qErrorDataCode){e.warnings=true;v=true}else e.succeded=false}));c=false}function _(t){y.focus=true;q=[y];var n=ee["a"].Sheets.UNSAFE_all.mashed.length;var r=Y.toString();if("appview"===r||"sheetview"===r)D["a"].inDataManager()||x.eventHandler(true);else if("storyview"===r.toString()||"datamanager"===r){if(D["a"].inDataManager()){q=[y];te["a"].isVariableDefined("DISABLE_INSIGHTS")||q.push(C);q.push(x)}else{q=t?[y]:[y,S];t||te["a"].isVariableDefined("DISABLE_INSIGHTS")||q.push(C);t||q.push(x)}if(0===n){U["a"].addSheet(null).then((function(){i.clearUndoBuffer();j()}));e.newSheetStr="newSheet"}else{f=n>1;j()}}"sheetview"===r&&(q=t?[y]:[y,S]);e.succeded=true;X["a"].trackEvent(X["a"].customEvents.DATA_LOAD_ELAPSED_TIME,{Time_elapsed:e.elapsedTime,is_single_table:e.input.isSingleTable,syntheticCount:h,hasCircularRef:v})}function j(){x.disabled=false;x.focus=true}function B(){e.succeded=false;R()}function V(){N();e.input.actions.executeBeforeRun().then((function(t){e.input.scriptModel=t;e.input.scriptModel.run().then((function(t){return o["a"].global.getProgress(0).then((function(n){P();F(n);if(e.dialogHandle){e.dialogHandle.close();b.disabled=true}E();if(t)return Z["a"].saveApp().then((function(){return e.input.actions.executeAfterRun(t).then((function(){R();_(e.input.isSingleTable)}),B)}),B);return e.input.actions.executeAfterRun(t).then((function(){R()}),B)}),B)}),B)}),B)}return V()}]};var re='<div class="lui-dialog qv-load-data-progress-indicator">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title" q-translation="{{getHeading()}}"></div>\n\t</div>\n\t<div class="lui-dialog__body dm-main">\n\n\t\t<div class="section clearfix">\n\t\t\t<div class="elapsed">\n\t\t\t\t<span q-translation="scripteditor.progressindicator.elapsedtime"></span>\n\t\t\t\t<span class="time" ng-class="!succeeded && !running ? \'error\' : \'\' ">{{elapsedTime}}</span>\n\t\t\t</div>\n\n\t\t\t<div class="qv-loader" ng-if="running"></div>\n\n\t\t\t<div ng-if="!running">\n\t\t\t\t<div class="userguide" ng-if="loadPhase === \'loadData\' && (warnings || warningSearchIndex)">\n\t\t\t\t\t<b q-translation="quickdataimport.progressindicator.followingwarning"></b>\n\n\t\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t\t<li ng-repeat="warning in warningInfo">\n\t\t\t\t\t\t\t{{warning.text}}\n\t\t\t\t\t\t\t<span ng-if="warning.url" class="lui-icon lui-icon--help" ng-click="openHelpWindow(warning.url)" q-title-translation="{{warning.helpTooltip}}"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<br/>\n\t\t\t\t</div>\n\t\t\t\t<div class="bold" q-translation="{{progressText()}}"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n\t<div class="lui-dialog__footer">\n\t\t<lui-button ng-repeat="button in buttons()" tid="{{ button.tid }}" ng-click="button.eventHandler()" ng-disabled="button.disabled" q-translation="{{ button.title }}" q-title-translation="{{ button.title }}" qva-focus="button.focus"></lui-button>\n\t</div>\n</div>\n\n\n\n';var ie=n("ZQDF");var ae=n("/crU");var oe=n("acVu");var se={template:re,controller:["$scope","$window","$timeout","app","qvConfirmDialog",function(e,t,n,i,a){var s;var l=false;var c;var u=0;var d=false;var f=null;var p=false;function h(){if(l){if(!p)return"quickdataimport.progressindicator.resulttext.aborted";return""}if(e.succeeded)return"";return"quickdataimport.progressindicator.resulttext.failed"}e.running=false;e.succeeded=false;e.loadPhase="prepareData";e.openHelpWindow=function(e){t.open(e)};e.progressText=function(){if("loadData"===e.loadPhase){if(e.running)return"quickdataimport.progressindicator.inprogress";return h()}if("prepareData"===e.loadPhase){if(e.running)return"loadDataProgressIndicator.progressindicator.inprogress";if(e.succeeded)return"";return"loadDataProgressIndicator.progressindicator.resulttext.failed"}return};e.getHeading=function(){if("loadData"===e.loadPhase){if(e.running){if(p)return"quickdataimport.progressindicator.headingdataimportinprogress.searchindex";return"quickdataimport.progressindicator.headingdataimportinprogress"}if(l){if(p)return"quickdataimport.progressindicator.headingdataimportcompletedsuccessfully";return"quickdataimport.progressindicator.headingdataimportaborted"}if(e.succeeded&&!e.warnings&&!e.warningSearchIndex)return"quickdataimport.progressindicator.headingdataimportcompletedsuccessfully";if(e.succeeded&&(e.warnings||e.warningSearchIndex))return"quickdataimport.progressindicator.headingdataimportcompletedwithwarnings";return"quickdataimport.progressindicator.headingdataimportfailed"}if("prepareData"===e.loadPhase){if(e.running)return"loadDataProgressIndicator.progressindicator.headingdataimportinprogress";if(e.succeeded)return"loadDataProgressIndicator.progressindicator.headingdataimportcompletedsuccessfully";return"loadDataProgressIndicator.progressindicator.headingdataimportfailed"}return};function v(){e.running=false;e.succeeded=false}var m={title:"Common.Close",disabled:false,focus:false,eventHandler:function t(){e.onCloseClicked()}};var g=[];e.buttons=function(){return g};e.onEnter=function(){m.disabled||e.onEscape()};function b(){e.destroyComponent();e.deferredResult.resolve()}e.onCloseClicked=b;e.onEscape=b;e.onOpenDataManagerClicked=function(){e.onCloseClicked();W["a"].goToDataManager(i.name)};function y(){e.elapsedTime=$.getElapsedTime()}function S(){y();s=n(S,500)}function x(){v();e.running=true;$.start();m.disabled=true;S()}function C(){m.disabled=false;m.focus=true;g=[m];e.running=false;n.cancel(s);$.stop();y()}function q(t){m.focus=true;var n=D["a"].inDataManager();n&&e.onCloseClicked();n||(t?G["a"].getList().then((function(e){e.getLayout().then((function(e){0===e.length?U["a"].addSheet(null).then((function(){i.clearUndoBuffer();G["a"].getList().then((function(e){e.getLayout().then((function(e){Object(oe["b"])("CAO")?ie["a"].openAnalysisOverlay(e[0].qInfo.qId,i.name,D["a"].States.insight):W["a"].goToSheet(e[0].qInfo.qId,"edit")}))}))})):e.length>0&&W["a"].goToSheet(e[0].qInfo.qId,"edit")}))})):e.onOpenDataManagerClicked());e.succeeded=true}function E(){e.succeeded=false;C()}function I(){var t=false;x();e.input.executeBeforeRun.then((function(n){t=1===n.queries.length;return ae["a"].updateTablesFromSource(n,e.input.tables)}),E).then((function(r){if(r&&r.success)return e.input.executeAfterSuccessfulRun().then((function(){var r=D["a"].inDataManager()||!t;if(r){C();q(!r)}else{var i=function t(){if(e.warnings||e.warningSearchIndex){e.warningInfo=[];d&&e.warningInfo.push({text:w["default"].get("scripteditor.progressindicator.edc_circular_referencesummary"),url:"".concat(J["a"].path,"QuickDataLoad_CircularReference"),helpTooltip:w["default"].get("quickdataimport.progressindicator.readmoreaboutcircularreference")});if(u>0){var n=w["default"].get("scripteditor.progressindicator.one_synthetic_keysummary");u>1&&(n=w["default"].get("scripteditor.progressindicator.multiple_synthetic_keysummary",[u]));e.warningInfo.push({text:n,url:"".concat(J["a"].path,"QuickDataLoad_SyntheticKey"),helpTooltip:w["default"].get("quickdataimport.progressindicator.readmoreaboutsynthetickey")})}e.warningSearchIndex&&e.warningInfo.push({text:f,url:null,helpTooltip:null})}};var s=function e(){n.cancel(c)};var h=function t(n){var r=n.qProgressData.qPersistentProgressMessages;var i=n.qProgressData.qErrorData;var a=[25,27,28,29];if(!!r&&r.length>0){var o=O["a"].translateMessageArray(r);var s=/\$Syn \d+ =/gm.test(o);var l=s?o.match(/\$Syn \d+ =/gm).length:0;if(s){u+=l;e.warnings=true}if(-1!==a.indexOf(r[0].qMessageCode)){e.warningSearchIndex=true;f=o}r.forEach((function(e){22===e.qMessageCode&&(p=true)}))}i&&i.forEach((function(t){if("EDC_CIRCULAR_REFERENCE"===t.qErrorDataCode){e.warnings=true;d=true}else e.succeded=false}))};var b=function e(){c=n((function e(){o["a"].global.getProgress(0).then(h);c=n(e,1e3)}),1e3)};var y={title:"scripteditor.progressindicator.abortbutton",disabled:true,eventHandler:function t(){e.onAbortClicked()}};e.onAbortClicked=function(){e.abortDialogActive=true;y.focus=false;var t="scripteditor.cancelscriptrundialog.title";var n="scripteditor.cancelscriptrundialog.content";if(p){t="scripteditor.cancelscriptrundialog.searchindex.title";n="scripteditor.cancelscriptrundialog.searchindex.content"}e.dialogHandle=a.show({title:w["default"].get(t),message:w["default"].get(n),okLabel:w["default"].get("Common.Yes"),cancelLabel:w["default"].get("Common.No")});e.dialogHandle.closed.then((function(t){if(t){l=true;o["a"].global.cancelReload();C()}else{e.abortDialogActive=false;A()(".qv-quickimportprogressindicator .lui-dialog").focus();y.focus=true}}))};var S=function t(){v();p=false;e.running=true;y.focus=true;g=[y];m.disabled=true;y.disabled=false;b()};var x=e.input.fullLoadActions;e.loadPhase="loadData";x.executeBeforeRun().then((function(t){S();e.input.scriptModel=t;e.input.scriptModel.run().then((function(t){return o["a"].global.getProgress(0).then((function(n){s();h(n);if(e.dialogHandle){e.dialogHandle.close();y.disabled=true}i();if(t)return Z["a"].saveApp().then((function(){return x.executeAfterRun(t).then((function(){C();q(true)}),E)}),E);return x.executeAfterRun(t).then((function(){C()}),E)}),E)}),E)}),E)}}),E);C();return}),E)}function k(){e.running&&E()}r["default"].$rootScope.$on("errorHandlerClosed",(function(){k()}));return I()}]};var le=n("GhQW");var ce=n("5SH1");var ue=n("MGTR");var de=n("Hb6E");function fe(e,t,n){var a=C.createUpdater(e,t);function o(){return e.getConfiguration().then((function(e){return e.qConfig.qFeatures.qAutoSave}))}function l(e,n){var r=new i["a"];function a(){r.resolve(true);s["default"].unregisterInvalidationFn(a)}n.updateQueriesStatus(e);g["LoadModelHelpers"].areLoadModelsEqual(e,n)?r.resolve(false):s["default"].registerInvalidationFn(a);return ae["a"].getAndApplyClassificationData(n,false).then((function(){return s["default"].updateProperties(n.serialize()).then((function(){t.clearUndoBuffer();return r.promise}))}))}function c(n,i,a){var o=[];var s=I.getNewlyAddedTablesFromLoadModel(n,i).map((function(e){return e.data.id}));var c=I.getModifiedExcelFilesFromLoadModel(i);var d=ce["a"].getAttachedFilesToReplace();var f=ce["a"].getTableIdsFromLoadModelWithFileNames(i,d);var p=u(n,i);var v=function e(){ce["a"].setAttachedFilesToReplace([]);return l(n,i).then((function(e){!e&&o&&o.length>0&&ae["a"].invalidate(true)}))};s&&s.length>0&&s.forEach((function(e){o.push(e)}));a&&o.push(a);f.length>0&&f.forEach((function(e){o.push(e)}));o=o.concat(c);return r["default"].getService("luiDialog").show({template:se.template,controller:se.controller,input:{executeBeforeRun:p,executeAfterSuccessfulRun:v,fullLoadActions:h(i,n,true),global:e,app:t,tables:o}})}function u(e,t){var n=new le["a"];return n.get().then((function(n){I.getNewlyAddedTablesFromLoadModel(e,t).forEach((function(e){var t=n.enableQVDCaching;e.data.formatSpec&&"(qvd)"===e.data.formatSpec.toLowerCase()&&(t=false);t&&"inlinedata"!==e.data.dataconnectorName?e.data.caching={enabled:true,type:"qvd"}:e.data.caching={enabled:false}}));return t}))}function d(e,t){var n=I.getNewlyAddedTablesFromLoadModel(e,t).map((function(e){return e.data.id}));if(n.length>0)return ae["a"].updateTablesFromSource(t,n);return i["a"].resolve()}function f(e,t){var r=e.clone();r.removeAllTablesMarkedForDeletion();var i=y(r,n,t).then((function(e){return e.script}));return i}function p(e,t){var n=I.getNewlyAddedTablesFromLoadModel(t,e).map((function(e){return e.data.id}));if(n.length>0)return ae["a"].getAndApplyClassificationData(e,true);return i["a"].resolve()}function h(e,n,r){var l=function t(){return u(n,e).then((function(){return s["default"].updateProperties(e.serialize()).then((function(){return d(n,e).then((function(){return f(e,r).then((function(e){return a.updateLoadModelScript(e).then((function(){return a.getScriptModelPromise()}))}))}))}))}))};var c=function l(c){var u=i["a"].resolve();r&&(u=f(e,false).then((function(e){return a.updateLoadModelScript(e).then((function(){return a.persistScript()}))})));c&&u.then((function(){e.removeAllTablesMarkedForDeletion();e.resetTargetTablesStatuses();return p(e,n).then((function(){return s["default"].updateProperties(e.serialize()).then((function(){return o().then((function(e){return t.clearUndoBuffer().then((function(){if(e)return t.doSave();return i["a"].resolve(true)}))}))}))}))}));return u};return{executeBeforeRun:l,executeAfterRun:c}}function v(e,t){var r=e.clone();r.removeAllTablesMarkedForDeletion();r.serialize();var i=b(r,n).then((function(e){return e.script}));return i.then((function(e){e&&""!==e.trim()||(e="");return a.reconcileAutoGeneratedScriptInTab(t,e)}))}function m(n,i){var a=n&&n.queries&&1===n.queries.length;var o=h(n,i,true);if(Object(oe["b"])("PS_13824_DATAFLOW"))return new Promise((function(e){ue["a"].publish(de["a"].Events.PubSub.StartLoadData,{actions:o,resolveDataLoad:e,isSingleTable:a})}));return r["default"].getService("luiDialog").show({template:ne.template,controller:ne.controller,input:{actions:o,global:e,app:t,isSingleTable:a}})}function b(e,t){return ae["a"].getLoadScript(e,t)}function y(e,t,n){return ae["a"].generateLoadScript(e,t,n)}var w={runMainLoadModelGraphically:m,runLoadModelToDataManager:l,runLoadModelToDataManagerGraphically:c,setLoadModelDefaults:u,reconcileScriptAndLoadModel:v,getRunLoadModelGraphicallyActions:h};return w}var pe={createLoadModelRunner:fe};var he=n("SswE");var ve=n("hw1Z");var me=n("7klF");var ge=n("qSTF");var be=n("rB9Y");var ye=n("B52N");var we=n("N/1V");var Se=n("wvr8");var xe={stringUtil:Se["a"]};var Ce="\x3c!-- translation strings for data market connector, to avoid that planemo fails on these strings\n datamarket.conndialog.getdataset\n datamarket.conndialog.source\n datamarket.conndialog.measures\n datamarket.notsupported\n datamarket.onlyqdlnotdle\n datamarket.selectdialog.selectdataload\n datamarket.selectdialog.scriptconfirmation\n datamarket.selectdialog.regenerate\n datamarket.selectdialog.mustselect\n datamarket.selectdialog.mustselectfrom\n datamarket.selectdialog.incompleteselection\n datamarket.selectdialog.measurelabel\n datamarket.selectdialog.createbtn\n datamarket.conndialog.premiumlabel\n datamarket.conndialog.licensedlabel\n datamarket.conndialog.freelabel\n datamarket.conndialog.lastupdated\n datamarket.conndialog.provider\n datamarket.conndialog.units\n datamarket.conndialog.metricsvalues\n datamarket.conndialog.timegranularity\n datamarket.conndialog.year\n datamarket.conndialog.quarter\n datamarket.conndialog.month\n datamarket.conndialog.week\n datamarket.conndialog.day\n datamarket.conndialog.date_and_time\n datamarket.conndialog.license\n datamarket.conndialog.license_summary\n datamarket.conndialog.termsnotaccepted\n datamarket.conndialog.licensedlabel\n datamarket.conndialog.previewlabel\n datamarket.selectdialog.nodataforselection\n datamarket.selectdialog.incompleteselection\n datamarket.selectdialog.loadsize.cells\n datamarket.selectdialog.loadsize.\n datamarket.selectdialog.loadsize.K\n datamarket.selectdialog.loadsize.M\n datamarket.selectdialog.loadsize.G\n datamarket.selectdialog.loadsize.T\n datamarket.selectdialog.loadsize.P\n datamarket.selectdialog.loadsize.E\n datamarket.selectdialog.loadsize.Z\n datamarket.selectdialog.loadsize.Y\n datamarket.selectdialog.loadsize.tooltip.tiny\n datamarket.selectdialog.loadsize.tooltip.small\n datamarket.selectdialog.loadsize.tooltip.medium\n datamarket.selectdialog.loadsize.tooltip.large\n datamarket.selectdialog.loadsize.tooltip.danger\n datamarket.selectdialog.leftcolumn.icon.unselected\n datamarket.selectdialog.leftcolumn.icon.selected\n datamarket.conndialog.nointernet\n datamarket.conndialog.purchase\n datamarket.conndialog.preview.empty\n datamarket.conndialog.search.input.tooltip\n datamarket.conndialog.search.result.context.prefix\n datamarket.conndialog.search.entrypoint.name\n datamarket.conndialog.search.entrypoint.description\n  --\x3e";function qe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Ee(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;var i=function e(){};return{s:i,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,o=false,s;return{s:function t(){n=e[Symbol.iterator]()},n:function e(){var t=n.next();a=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function Ee(e,t){if(!e)return;if("string"===typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=Object(i["a"])();function Ae(e,t,n,l){var c=e.engineApp;var u;var d;var f;var p;var h=false;var v=l;var g;function b(){S["a"].scriptEditorTabsUpdatedOnServerCallback&&S["a"].scriptEditorTabsUpdatedOnServerCallback();d&&d.populateList()}function y(e,l){var y=t.create;var w=void 0===t.canCreateDataConnections||t.canCreateDataConnections;function x(){h=!p;if(!p){var t=he["a"].createDataconnectorsModel(o["a"],e.engineApp,ge["a"],y,w);p=i["a"].all({loadModel:Re(),dataConnectorsModel:t}).then((function(e){o["a"].global.configureReload(true,true,false);a["a"].setAllKeywords(l.getAllKeywords());a["a"].setAllKeywordsAsLowerCase(l.getAllKeywordsAsLowerCase());d=e.dataConnectorsModel;u=e.loadModel;f=pe.createLoadModelRunner(o["a"].global,c,v)}))}return p.then((function(){if(!h)return d.populateList();return}))}function C(t,r){return x().then((function(){var i=u.clone();i.removeAllFieldsMarkedForDeletion();return{clientApp:e,configuration:n,newLoadModel:i,existingLoadModel:u,qvInternals:{newAssociationsModel:m.createAssociationsModel(i),dataPreviewProvider:me["a"],newLoadModel:i,dataconnectorsModel:d},qvDialogContext:{},dataconnectorsModel:d,loadModelRunner:f,filePath:t,tableModelToEdit:r,editMode:void 0!==r}}))}S["a"].getConnectDataInput=function(e){return C(null,e)};S["a"].runDataLoadFlow=function(e){return C().then((function(t){return e.run(t)}))};S["a"].getTableModelWithName=function(e){return x().then((function(){return u.getTableModelWithName(e)}))};S["a"].getDataSpaceInput=function(){return x().then((function(){return{loadModel:u,loadModelRunner:f,loadModelEditTable:S["a"].editTable,dataconnectorsModel:d}}))};S["a"].resetLoadModel=function(){return x().then((function(){return s["default"].resetLoadModel()}))};function q(e){var t=qe(e.targetTableModels),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;var i=qe(r.fields),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.hasOwnProperty("transformations"))return o.transformations.length>0}}catch(e){i.e(e)}finally{i.f()}}}catch(e){t.e(e)}finally{t.f()}return false}function E(){if(Object(oe["b"])("DATAPREP_REST"))return ve["a"].get().then((function(e){return e.getRestService().then((function(e){return e.getProgress()}))}));return i["a"].resolve()}S["a"].reloadData=function(){return x().then((function(){q(u)||X["a"].trackEvent(X["a"].customEvents.DATA_LOAD_WITHOUT_TRANSFORMATION);return E().then((function(){return f.runMainLoadModelGraphically(u)}))}))};S["a"].hasNoTable=function(){if(u)return 0===u.targetTableModels.length;return true};S["a"].keepScriptModelUpdatedWithLoadModel=function(e,t){return x().then((function(){f.reconcileScriptAndLoadModel(u,e).then((function(){r["default"].$rootScope.isDataManagerDirty=u.isDirty();t&&r["default"].$rootScope.isDataManagerDirty&&t()}));S["a"].scriptEditorTabsUpdatedOnServerCallback=function(){f.reconcileScriptAndLoadModel(u,e).then((function(){if(t){r["default"].$rootScope.isDataManagerDirty=u.isDirty();r["default"].$rootScope.isDataManagerDirty&&t()}r["default"].$rootScope.$broadcast("connectionListModified")}))}}))};S["a"].getRunLoadModelActions=function(){return x().then((function(){return f.getRunLoadModelGraphicallyActions(u)}))};S["a"].prerequisites=function(){return x()};S["a"].getLoadModelDeferred=function(){return x().then((function(){return u}))};S["a"].getDataSpaceInputDeferred=function(){return x().then((function(){return{loadModel:u,loadModelRunner:f,loadModelEditTable:S["a"].editTable,dataconnectorsModel:d}}))};S["a"].prepareLoadModel=function(){g||(g=ve["a"].GetSerializedLoadModel().then((function(e){return s["default"].bindLoadModel(b,e)})));return g};S["a"].startPreparingForOpening=function(){return x()};ke.resolve()}function w(){var e=new i["a"];ye["default"].isSmallDevice?ye["default"].ViewChanged.bind(t):e.resolve();return e.promise;function t(){if(!ye["default"].isSmallDevice){ye["default"].ViewChanged.unbind(t);e.resolve()}}}return i["a"].all({reloadScriptBnfModel:be["a"].getReloadScriptBnfModel(),notIsSmallDevice:w()}).then((function(n){if(t.permissions.update&&!t.qReadOnly)return y(e,n.reloadScriptBnfModel);return i["a"].resolve()}))}function Te(){return ke.promise.then((function(){return S["a"].prerequisites()}))}function De(){return ke.promise.then((function(){return S["a"].getLoadModelDeferred()}))}function Oe(){return ke.promise.then((function(){return S["a"].getDataSpaceInputDeferred()}))}function Le(e){return ke.promise.then((function(){return S["a"].getConnectDataInput(e)}))}function Me(e,t){return ke.promise.then((function(){return S["a"].keepScriptModelUpdatedWithLoadModel(e,t)}))}function Pe(){return ke.promise.then((function(){return S["a"].getRunLoadModelActions()}))}function Ne(){return ke.promise.then((function(){return S["a"].startPreparingForOpening()}))}function Re(){return ke.promise.then((function(){return S["a"].prepareLoadModel()}))}function Fe(e){return ke.promise.then((function(){return S["a"].runDataLoadFlow(e)}))}var _e=t["a"]={runDataLoadFlow:Fe,getLoadModel:De,getDataSpaceInput:Oe,getConnectDataInput:Le,keepScriptModelUpdatedWithLoadModel:Me,getRunLoadModelActions:Pe,startPreparingForOpening:Ne,prepareLoadModel:Re,waitForInitialization:Te,init:Ae}},"1s39":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a='<div tid="hdlm-generic-select" ng-class="{\'generic-select-dialog-smallmode\': isSmallMode()}">\n    <div ng-class="{\'qui-modalbackground\':!inlineMode, genericSelectDialogBackdrop:!inlineMode}">\n        <div ng-class="{\'qui-delayedModal\':!inlineMode, genericSelectDialog:\'true\', genericSelectPanel:inlineMode, \'showScriptPreview-false\':!showScriptPreview, \'showScriptPreview-true\':showScriptPreview, \'isTableListDisabled-true\':isTableListDisabled(), \'isFieldListDisabled-true\':isFieldListDisabled()}" data-selectedowner="{{selectedOwnerName}}" data-editmode="{{inEditMode}}">\n            <header class="dm-header">\n                <h1 ng-show="options.selectFromTitleName" ng-bind="options.selectFromTitleNameTranslated"></h1>\n\n                <h1 ng-hide="options.selectFromTitleName" q-translation="scripteditor.dataconnectors.dialog.titlewithoutname"></h1>\n            </header>\n            <main class="dm-main maindialogarea" tabindex="-1">\n                <div class="databaseSetting" ng-show="options.databaseVisible && !inEditMode" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <div class="title">{{options.databaseTitle | translate}}</div>\n                    <lui-select x-model="selectedDatabase" x-options="database.name for database in databases" x-disabled="isDatabaseDisabled()" tid="selectedDatabase">\n                        <option value="">{{options.databasePlaceholder | translate}}</option>\n                    </lui-select>\n                </div>\n                <div class="ownerSetting" data-databaseisvisible="{{options.databaseVisible}}" ng-show="options.ownerVisible && (!inEditMode || !isOwnerDisabled())" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <div class="title">{{options.ownerTitle | translate}}</div>\n                    <lui-select x-model="selectedOwner" x-options="owner as owner.label for owner in owners" x-disabled="isOwnerDisabled() || cancelIsInProgress" tid="selectedOwner">\n                        <option ng-disabled="options.ownerPlaceholder.length==0" ng-hide="options.ownerPlaceholder.length==0" value="">{{options.ownerPlaceholder | translate}}</option>\n                    </lui-select>\n                </div>\n                <div class="top-right" data-databaseisvisible="{{options.databaseVisible}}" ng-show="isSelectionsListShown()" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <div class="title"><span q-translation="scripteditor.dataconnectors.selectionsMade"> </span></div>\n                    <div class="dbSelections">\n                        <table>\n                            <tr class="dbRow"\n                                ng-class="{true: \'selected\'}[dbownerentry.database.name === selectedDatabase.name && dbownerentry.owner.name === selectedOwner.name]"\n                                ng-repeat="dbownerentry in getExistingDatabaseSelections()">\n                                <td class="database">\n                                    <a ng-click="onDbOwnerEntryClick(dbownerentry)"> {{dbownerentry.database.name}} </a>\n                                </td>\n                                <td class="owner">\n                                    <a ng-click="onDbOwnerEntryClick(dbownerentry)"> {{dbownerentry.owner.name}}</a>\n                                </td>\n                                <td class="columnCount">\n                                    <span ng-click="onDbOwnerEntryClick(dbownerentry)" q-translation="scripteditor.dataconnectors.selection.table|scripteditor.dataconnectors.selection.tables,{{dbownerentry.selectionStats.tableCount}}"></span>\n                                </td>\n                                <td class="columnCount">\n                                    <span ng-click="onDbOwnerEntryClick(dbownerentry)" q-translation="scripteditor.dataconnectors.selection.field|scripteditor.dataconnectors.selection.fields,{{dbownerentry.selectionStats.fieldCount}}"></span>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n\n\t\t\t\t<div class="{{options.tablesLocation}}" ng-show="options.tablesVisible && !gettingTables" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n\n                    <div class="title-container">\n                    <div class="title"> {{options.tablesTitle |translate}}</div>\n\n                    <button class="lui-fade-button"\n                            ng-click="toggleTableListExpansion()">\n                        <span class="lui-button__icon  lui-icon" ng-class="{\'lui-icon--direction-right\': !isTableListExpanded(), \'lui-icon--direction-left\': isTableListExpanded()}"></span>\n                    </button>\n                    </div>\n\n                    <div class="table-search-container">\n                    <lui-search class="table-search"\n                                autocapitalize="off"\n                                autocorrect="off"\n                                autocomplete="off"\n                                x-disabled="isTableListDisabled() || cancelIsInProgress"\n                                query="tableFilter" on-escape="tableFilter = \'\';" placeholder="scripteditor.dataconnectors.tables.filter.placeholder"></lui-search>\n                    </div>\n\n\n                    <div class="table-panel borderbox">\n                        <ul class="table-list borderbox" vs-repeat>\n\n                            <li ng-repeat="table in tables" class="fieldsChecked-{{table.fieldsChecked}} selected-{{isTableSelected(table)}}" ng-click="onTableShowClick($event)" tid="styledTableRow">\n                                <div class="table-list-container ">\n\n                                    <label class="lui-checkbox" ng-disabled="isTableListDisabled()">\n                                        <input class="lui-checkbox__input" type="checkbox" ng-hide="options.forceSelectTables" ng-click="onTableCheckboxClick($event)" qva-indeterminate="table.indeterminate" ng-checked="table.checked" tid="selectTable" ng-disabled="isTableListDisabled()" />\n                                        <div class="lui-checkbox__check-wrap">\n                                            <span class="lui-checkbox__check"></span>\n                                        </div>\n                                    </label>\n\n                                    <div class="tableName" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}" title="{{table.name}}" tid="tableNameInList">\n                                        <span gsd-highlight-term="tableFilter" gsd-highlight-content="table.name"></span>\n                                    </div>\n\n                                    <div class="tableInfo"> {{table.nbrOfCheckedFields}}</div>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="{{options.specialTableSettingsLocation}} special-table-settings-part" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <div gsd-include-addon-content component="options.specialTableSettings"\n                         database-name="selectedDatabaseName"\n                         owner-name="selectedOwnerName"\n                         table-name="selectedTableName"\n                         on-refresh="onSpecialTableSettingsUpdated()">\n                    </div>\n                </div>\n                <div class="table-panel-properties-part tabel-panel-properties-notables-{{options.tablesVisible}}" ng-show="options.showTablePanel && selectedTable" ng-class="{ \'table-list-expanded\': isTableListExpanded() }">\n                    <span class="table-title title">{{selectedTable.name}}</span>\n                    <div class="table-line-separator"></div>\n                    <div ng-show="hasTableRowCount(selectedTable)" class="filter-status-pane-position filter-status-pane-position-expanded-{{ selectedTable.showTableProperties}}"> \n                        <span class="icon-filter-preview-mismatch-warning" ng-show="isTableFilterDirty(selectedTable)"></span>\n                        <span class="filter-status-summary-padding"\n                              ng-show="selectedTable.showTableProperties && isTableFilterDirty(selectedTable)"\n                              q-translation="scripteditor.dataconnectors.table.filter.dirty"\n                              q-title-translation="scripteditor.dataconnectors.table.filter.dirty">\n                        </span>\n                        <span class="filter-status-summary-padding" ng-hide="selectedTable.showTableProperties || !selectedTable.loadProperties.filterInfo.filterClause">({{selectedTable.loadProperties.filterInfo.filterClause}})</span>\n                        <span q-translation="Common.Rows"></span>\n                        <span>:</span>\n                        <span>{{selectedTable.filteredSourceRowCount}}</span>\n                        <span ng-show="hasTableRowsFiltered(selectedTable)">/</span>\n                        <span ng-show="hasTableRowsFiltered(selectedTable)">{{selectedTable.sourceRowCount}}</span>\n                    </div>\n                    <div class="filter-input-container">\n                        <input class="filter-text-input lui-input" ng-disabled="showFieldDataLoader()" q-placeholder="scripteditor.dataconnectors.table.filter.placeholder" ng-model="selectedTable.loadProperties.filterInfo.filterClause" ng-show="selectedTable.showTableProperties" />\n                        <button class="appy-button-position btn lui-overlay-button-with-text lui-button" ng-disabled="showFieldDataLoader() || !isTableFilterDirty(selectedTable)" ng-click="onPreviewDataWithFilter()" ng-show="selectedTable.showTableProperties" q-translation="Common.Apply"></button>\n                    </div>\n                    <div ng-click="selectedTable.showTableProperties = !selectedTable.showTableProperties">\n                        <button type="button" tid="expandTablePropertiesButton" class="filter-data-group-button qui-smalliconbutton buttoniconcommand lui-icon {{ selectedTable.showTableProperties ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></button>\n                        <div class="filter-data-group-label" q-translation="scripteditor.dataconnectors.table.filter.header"></div>\n                    </div>\n                </div>\n\n                <div class="field-part" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext, \'field-part-with-assocations\': selectedTable.hasAssociations(), \'field-part\':\'true\', \'field-part-with-table-properties-panel\': options.showTablePanel, \'field-part-with-table-properties-panel-expanded\': selectedTable.showTableProperties}">\n                    <div class="title" ng-class="{tweakfieldtitlefornotabs: !options.metadataVisible && !(!options.tablesVisible && options.fieldsAreSelectable)}">{{options.fieldsTitle |translate}}</div>\n                    <div class="field-list-mode-buttons" data-editmode="inEditMode">\n                        <div class="selectAllContainer" ng-show="(!options.tablesVisible && options.fieldsAreSelectable) || inEditMode">\n                            <label class="lui-checkbox">\n                                <input class="lui-checkbox__input" id="selectAllFields" type=\'checkbox\' indeterminate="selectedTable.indeterminate" ng-disabled="!selectedTable || cancelIsInProgress" ng-checked="selectedTable.checked" tid="selectAllFields" ng-click="onSelectAllFieldsCheckboxClick()">\n\n                                <div class="lui-checkbox__check-wrap">\n                                    <span class="lui-checkbox__check"></span>\n                                </div>\n\n                                <label for=\'selectAllFields\' q-translation="scripteditor.dataconnectors.selectallfields"></label>\n                                </input>\n\n                            </label>\n                        </div>\n                        <button class="lui-button right-button" ng-class="{ \'lui-active\': !dataview }" ng-show="options.metadataVisible" ng-click="onMetaDataClick()" q-translation="scripteditor.dataconnectors.metadata" ng-disabled="isFieldListDisabled() || previewTooLarge" tid="selectMetadata"></button>\n                        <button class="lui-button left-button" ng-class="{ \'lui-active\' : dataview }" ng-if="!options.quickLoadContext || inlineMode" ng-show="options.metadataVisible" ng-click="onDataPreviewClick()" q-translation="scripteditor.dataconnectors.datapreview" ng-disabled="isFieldListDisabled() || previewTooLarge" tid="selectPreview">Data</button>\n                        \x3c!-- options for the fixed width view --\x3e\n                        <button class="lui-button showfixedwidthguicanvas right-button" ng-class="{\'lui-active\':options.showfixedwidthguicanvas}" ng-click="options.showfixedwidthguicanvas = true" q-translation="scripteditor.dataconnectors.showfixedwidthguicanvas" tid="selectedFixedWidthGUI"></button>\n                        <button class="lui-button showfixedwidthguicanvas left-button" ng-class="{\'lui-active\':!options.showfixedwidthguicanvas}" ng-click="options.showfixedwidthguicanvas = false" q-translation="scripteditor.dataconnectors.datapreview" tid="selectedFixedWidthDataPreview"></button>\n\n                        <div class="after"></div>\n                    </div>\n                    <div class="field-list-mode-buttons" ng-hide="options.metadataVisible">\n                    </div>\n\n                    <lui-search class="field-search"\n                                autocapitalize="off"\n                                autocorrect="off"\n                                autocomplete="off"\n                                x-disabled="isFieldListDisabled() || cancelIsInProgress"\n                                query="fieldFilter"\n                                on-escape="fieldFilter = \'\';" placeholder="scripteditor.dataconnectors.fields.filter.placeholder"></lui-search>\n\n\n                    <div class="table-container-panel">\n                        <div ng-if="!previewTooLarge" class="table-scroll-area" ng-class="{\'overflow-hidden\': showFieldDataLoader()}">\n                            <table ng-if="dataview && !previewTooLarge" class="datapreviewgrid">\n                                <tr>\n                                    <th ng-repeat="field in fields" class="selected-{{field.checked}}" tid="styledDataViewFieldName">\n                                        \x3c!--<input id="fieldcheckbox{{$index}}" type="checkbox" ng-checked="field.checked" tid="selectFieldInPreview" ng-show="options.fieldsAreSelectable"/>--\x3e\n                                        <div class="field-header">\n                                            <label class="lui-checkbox">\n                                                <input class="lui-checkbox__input" type="checkbox" id="fieldcheckbox{{$index}}" class="hidden-checkbox" ng-click="onFieldClick($event)" ng-checked="field.checked" tid="selectFieldInPreview" ng-show="options.fieldsAreSelectable">\n                                                <div class="lui-checkbox__check-wrap">\n                                                    <span class="lui-checkbox__check"></span>\n                                                </div>\n                                            </label>\n\n                                            <div class="labelcontainer">\n                                                <div gsd-highlight-term="fieldFilter" gsd-highlight-content="field.alias"></div>\n                                                <input maxlength="256" ng-model="field.alias" ng-attr-title="{{field.alias}}" qva-model-onblur size="{{field.alias.length+2}}" onclick="event.stopPropagation();" ng-show="options.allowFieldRename" ng-disabled="!options.allowFieldRename" tid=\'fieldAlias\' />\n                                            </div>\n                                            <span class="icon" ng-show="field.key">\n                                                <i class="icon-primarykey"></i>\n                                            </span>\n                                        </div>\n                                    </th>\n                                </tr>\n                                \x3c!-- Steve: Wired off for now (MS12 - need to revisit)\n                                                <tr ng-if="selectedTable.hasAssociations()">\n                                                        <th ng-repeat="field in fields" class="selected-{{field.checked}}">\n                                                            <div ng-repeat="associatedTable in field.associationInfo.tables" ng-show="associatedTable.key != selectedTable._loadModelTableEditor.data.key">\n                                                                <div class="associated-table-tiny-box" ng-class="{\'selected-associated-table-tiny-box\':field.checked}">\n                                                                    &#10149; {{associatedTable.tableName}}\n                                                                </div>\n                                                            </div>\n                                                        </th>\n                                                    </tr>\n                                --\x3e\n                                <tr ng-repeat="row in preview track by row.rowNbr">\n                                    <td ng-attr-title="{{cell.v}}" ng-click="onFieldClick($event)" ng-repeat="cell in row track by cell.cellNbr">{{cell.v}}&nbsp;</td>\n                                </tr>\n                            </table>\n                            <div class="preview-too-large" ng-show="dataview && previewTooLarge" q-translation="scripteditor.dataconnectors.selection.preview-too-large"></div>\n                            <table ng-if="!dataview && !previewTooLarge" class="metadatagrid">\n                                <tr ng-show="fields.length > 0">\n                                    <th q-translation="scripteditor.dataconnectors.columname"></th>\n                                    <th q-translation="scripteditor.dataconnectors.primarykey"></th>\n                                </tr>\n                                <tr ng-repeat="field in fields">\n                                    <td class="columnname selected-{{field.checked}}" tid="styledMetadataFieldName">\n\n                                        <label class="lui-checkbox" ng-class="{\'lui-disabled\': isOkDisabled() }">\n                                            <input class="lui-checkbox__input" type="checkbox" ng-checked="field.checked" ng-click="onFieldClick($event)" tid="selectFieldInMetadata" />\n                                            <div class="lui-checkbox__check-wrap">\n                                                <span class="lui-checkbox__check"></span>\n                                                <span gsd-highlight-term="fieldFilter" gsd-highlight-content="field.alias"></span>\n                                            </div>\n                                        </label>\n                                    </td>\n                                    <td class="selected-{{field.checked}}" q-translation="{{field.key ? \'Common.Yes\' : \'Common.No\'}}"></td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div ng-if="previewTooLarge" class="preview-too-large-container borderbox">\n                            <div class="preview-field-name-title-container">\n                                <span class="preview-field-name-title" q-translation="scripteditor.dataconnectors.columname"></span><span class="preview-disabled-text" q-translation="scripteditor.dataconnectors.selection.preview-too-large"></span>\n                            </div>\n                            <div class="preview-too-large-content">\n                                <div class="preview-too-large-grid" vs-repeat>\n                                    <div class="item" ng-repeat="field in fields">\n\n                                        <label class="lui-checkbox columnname">\n                                            <input class="lui-checkbox__input" type="checkbox" ng-click="onFieldClick($event)" ng-checked="field.checked" tid="selectFieldInMetadata" />\n                                            <div class="lui-checkbox__check-wrap">\n                                                <span class="lui-checkbox__check"></span>\n                                                <span class="lui-checkbox__check-text">{{field.alias}}</span>\n                                            </div>\n                                        </label>\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="field-loader" ng-show="showFieldDataLoader()">\n                            <div class="qv-loader"></div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="scriptpreviewcontainer" ng-show="showScriptPreview" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <pre class="scriptpreview" ng-disabled="cancelIsInProgress">{{getScriptPreview()}}</pre>\n                </div>\n                <div id="fixedwidthguicontainer" class="fixedwidthguicontainer" ng-show="options.showfixedwidthguicanvas">\n                    \x3c!-- place holder for the fixed width gui canvas --\x3e\n                </div>\n                <button class="lui-button scriptpreviewtoggle" ng-if="!options.quickLoadContext && !inlineMode" ng-class="{ \'lui-active\': showScriptPreview }" ng-disabled="cancelIsInProgress" ng-click="onToggleScriptPreview()" q-translation="{{showScriptPreview ? \'scripteditor.dataconnectors.hidescriptpreview\' : \'scripteditor.dataconnectors.showscriptpreview\'}}"></button>\n            </main>\n            <footer class="dm-footer footer qui-dark">\n                <div class="dialog-buttons">\n                    <lui-button x-variant="inverse" ng-click="$event.preventDefault(); onOK()" ng-hide="inlineMode || options.quickLoadContext" q-translation="{{options.quickLoadContext? \'scripteditor.dataconnectors.quickdataimport\' : \'scripteditor.dataconnectors.addToScript\'}}" ng-disabled="isAddScriptButtonDisabled()" tid="closeGenericSelectDialog"></lui-button>\n                    <lui-button x-variant="inverse" ng-click="$event.preventDefault(); onCancel()" ng-hide="inlineMode" ng-disabled="cancelIsInProgress" qqva-focus="true" q-translation="Common.Cancel"></lui-button>\n\n                    \x3c!-- beg of checkbox for load statement --\x3e\n                    <label class="lui-checkbox  lui-checkbox--inverse" ng-show="options.precedingLoadVisible && !inlineMode">\n                        <input class="lui-checkbox__input" type="checkbox" tid="precedingLoad" ng-model="precedingLoad">\n\n                        <div class="lui-checkbox__check-wrap">\n                            <span class="lui-checkbox__check"></span>\n                            <span class="lui-checkbox__check-text" q-translation="scripteditor.dataconnectors.precedingload">#precedingload#</span>\n                        </div>\n                    </label>\n                    \x3c!-- end of checkbox for load statement --\x3e\n                </div>\n            </footer>\n        </div>\n    </div>\n</div>\n';var o=n("qv86");var s=n("bmRg");var l=n("5Pwf");var c=n("ISpZ");var u=n("PX8M");var d=n("9Ggg");var f=n("6uJb");var p=n("RZ9f");var h=n("Xaof");var v=100;var m=50;var g=10;var b=t["a"]={template:a,scope:{dataSelectionModel:"=",associationsModel:"=",scriptGenerator:"=",scriptEditorProxy:"=",options:"=",dataconnectorInstance:"=",inlineMode:"=",qvDialogContext:"="},controller:["$scope","$timeout","dataSelectionModel","scriptGenerator","scriptEditorProxy","input","$element",function(e,t,n,r,a,h,b){var y=[];var w=[];var S;var x;var C;var q=0;e.enableProfiling=false;e.inEditMode=e.qvDialogContext&&e.qvDialogContext.editMode;e.options.selectFromTitleNameTranslated=f["default"].get("scripteditor.dataconnectors.dialog.titlewithname",e.options.selectFromTitleName);u["a"].getApp().then((function(t){t.getLayout().then((function(t){e.enableProfiling=!(t.qIsOpenedWithoutData||d["a"].isSuffixInUse("noData"))}))}));var E;e.isSmallMode=function(){E||(E=b.find(".genericSelectDialog"));return E.innerWidth()<=980};function I(){T("quickdataload.EditSelections.DatabaseNoLongerExistsHeader","quickdataload.EditSelections.DatabaseNoLongerExistsContent",e.options.tableModelToEdit.data.databaseName)}function k(){T("quickdataload.EditSelections.OwnerNoLongerExistsHeader","quickdataload.EditSelections.OwnerNoLongerExistsContent",e.options.tableModelToEdit.data.ownerName)}function A(){T("quickdataload.EditSelections.TableNoLongerExistsHeader","quickdataload.EditSelections.TableNoLongerExistsContent",e.options.tableModelToEdit.data.tableName)}function T(t,n,r){c["a"].confirmAction({header:t,headerParameter:r,content:n,showDeclineButton:false,confirmButtonTitle:"Common.Close"}).resultPromise.then((function(){e.qvDialogContext.close()}))}e.initializeGUI=function(){var t;x=o["a"].invoke((function(e){C&&C(e)}));e.options={};e.options.databaseTitle="scripteditor.dataconnectors.database";e.options.databasePlaceholder="scripteditor.dataconnectors.selectdatabase";e.options.ownerPlaceholder="scripteditor.dataconnectors.selectowner";e.options.ownerTitle="scripteditor.dataconnectors.owner";e.options.tablesTitle="scripteditor.dataconnectors.tables";e.options.fieldsTitle="Common.Fields";e.options.disableOwnerIfOnlyOneChoice=false;e.options.tablesLocation="lower-left";e.options.specialTableSettingsLocation="none";e.options.databaseVisible=true;e.options.showfixedwidthguicanvas=false;e.options.ownerVisible=true;e.options.precedingLoadVisible=true;e.options.fieldsAreSelectable=true;e.options.allowFieldRename=true;e.options.showSelectionsSummary=!e.inlineMode;e.options.metadataVisible=true;e.options.selectFromTitleName="";e.options.forceSelectTables=false;e.options.quickLoadContext=false;e.options.showTablePanel=false;for(t in h.options)h.options.hasOwnProperty(t)&&(e.options[t]=h.options[t]);e.specialTableSettingsOk=true;e.databases=[];e.owners=[];e.tables=[];e.fields=[];e.preview=[];e.options.metadataVisible?e.dataview=Q("dataview",true):e.dataview=true;e.options.tablesVisible=!e.inEditMode;e.selectedDatabase=void 0;e.selectedDatabaseName=void 0;e.selectedOwner=void 0;e.selectedOwnerName=void 0;e.selectedTable=void 0;e.selectedTableName=void 0;e.tableFilter="";e.fieldFilter="";e.showScriptPreview=!e.options.quickLoadContext&&!e.inlineMode&&Q("showScriptPreview",true);e.showTables=Q("showTables",false);e.showViews=Q("showViews",false);e.precedingLoad=Q("precedingLoad",true);e.loadingFields=0;e.loadingPreview=0;e.gettingDatabases=true;e.gettingOwners=false;e.gettingDatasourceInfo=false;e.gettingTables=false;n.getDatabases().then((function(t){e.databases=t;e.gettingDatabases=false;if(!e.selectedDatabase)if(e.options.tableModelToEdit){var r=e.databases.filter((function(t){return t.name===e.options.tableModelToEdit.data.databaseName}));r.length>0?e.selectedDatabase=r[0]:I()}else e.selectedDatabase=n.getDefaultDatabase();e.gettingDatasourceInfo=true;n.getDatasourceInfo().then((function(t){e.gettingDatasourceInfo=false;e.datasourceInfo=t}))}),(function(e){e.isHandled=true;I()}))};e.onFixedWidthDelimitersInputChange=function(e){if(!e)return;if("number"===typeof e)e=[e];else if("string"===typeof e){e=e.split(",");for(var t in e)e[t]=Number(e[t])}x.setDelimiters(e)};e.setFixedWidthGUIControllerOnChangeListener=function(e){C=e};e.onSpecialTableSettingsUpdated=function(){e.selectedTableName&&P(true)};e.$watch("selectedDatabase",(function(){var t=e.selectedOwner;var n=e.selectedDatabase;e.selectedOwner=void 0;e.selectedTableName=void 0;y=[];w=[];S=[];e.owners=[];e.tables=[];e.fields=[];e.preview=[];e.tableFilter="";e.fieldFilter="";if(e.selectedDatabase){e.selectedDatabaseName=e.selectedDatabase.name;e.gettingOwners=true;e.selectedDatabase.getOwners().then((function(r){e.gettingOwners=false;if(n===e.selectedDatabase){for(var i=0;i<r.length;i++)void 0===r[i].label&&(r[i].label=f["default"].get("scripteditor.dataconnectors.undefinedOwnerLabel"));e.owners=r;if(e.options.tableModelToEdit){var a=e.owners.filter((function(t){return t.name===e.options.tableModelToEdit.data.ownerName}));a.length>0?e.selectedOwner=a[0]:k()}else e.selectedOwner=e.selectedDatabase.getDefaultOwner(t)}}),(function(e){e.isHandled=true;k()}))}else e.selectedDatabaseName=void 0}));e.$watch("selectedOwner",(function(n,r){r&&r.name&&0===r.name.indexOf("TYPE9_")&&r.setAllTablesSelected(false);!e.inEditMode&&n&&n.name&&0===n.name.indexOf("TYPE9_")&&(e.options.tablesVisible=h.options.fileTypesWithTables.indexOf(n.name)>-1);var i=e.selectedOwner;y=[];w=[];S=[];e.tables=[];e.fields=[];e.preview=[];e.selectedTable=void 0;e.selectedTableName=void 0;e.tableFilter="";e.fieldFilter="";if(e.selectedOwner){e.selectedOwnerName=e.selectedOwner.name;t((function(){e.gettingTables=true}),0).then((function(){e.selectedOwner.getTables().then((function(t){e.gettingTables=false;if(i===e.selectedOwner){y=t;F();if(e.options.tableModelToEdit){var n=t.filter((function(t){return t.name===e.options.tableModelToEdit.data.tableName}));if(n.length>0){Y(t.indexOf(n[0]));e.onTableShow(n[0])}else A()}else{e.options.forceSelectTables&&e.selectedOwner.setAllTablesSelected(true);e.options.forceSelectFirstTable&&t.length>0&&!$(t)&&t[0].setAllSelected(true);e.selectedOwner.getDefaultTable()&&e.onTableShow(e.selectedOwner.getDefaultTable());Y(M());var r;var a;for(r in e.selectedOwner.tables){a=e.selectedOwner.tables[r];if(a.checked||a.fieldsChecked){e.onTableShow(a);break}}}}}),(function(e){e.isHandled=true;A()}))}))}else e.selectedOwnerName=void 0}));e.$watch("showTables",(function(e){"undefined"!==typeof e&&K("showTables",e)}));e.$watch("showViews",(function(e){"undefined"!==typeof e&&K("showViews",e)}));e.$watch("precedingLoad",(function(e){"undefined"!==typeof e&&K("precedingLoad",e)}));e.$watch("fieldFilter",(function(){H()}));e.$watch("tableFilter",(function(){F()}));e.$watch("selectedTable.loadProperties.filterInfo.filterClause",(function(t,n){t&&t!==n&&(e.selectedTable.showTableProperties=true)}));e.onTableShowClick=function(t){var n=i()(t.target).scope().table;e.onTableShow(n)};e.onTableShow=function(t){if(t&&t!==e.selectedTable){e.selectedTable=t;e.selectedTableName=t.name;P()}};e.onDbOwnerEntryClick=function(t){e.selectedDatabase=t.database;e.selectedOwner=t.owner};e.onTableCheckboxClick=function(e){var t=i()(e.target).scope().table;t.changeAllFieldsSelected()};e.onSelectAllFieldsCheckboxClick=function(){e.selectedTable.changeAllFieldsSelected()};function D(t){if(!e.isFieldListDisabled())return w.some((function(e){return t===e.name}));return false}function O(){q++;return f["default"].get("scripteditor.dataconnectors.dialog.headerwithoutname",[q])}function L(){var e=O();while(D(e))e=O();return e}e.onFieldClick=function(t){if(e.options.fieldsAreSelectable){var n=i()(t.target).scope();var r=n.field?n.field:e.fields[n.$index];r.changeFieldSelection();r.name||r.alias||(r.alias=L())}};e.onDataPreviewClick=function(){e.dataview=true;K("dataview",e.dataview);if(!e.preview||0===e.preview.length)if(w.length<=v){w.length>=m&&(e.capNumberOfRows=true);R()}else e.previewTooLarge=true};e.onMetaDataClick=function(){e.dataview=false;K("dataview",e.dataview)};e.onToggleScriptPreview=function(){e.showScriptPreview=!e.showScriptPreview;K("showScriptPreview",e.showScriptPreview)};e.onPreviewDataWithFilter=function(){P()};e.isTableFilterDirty=function(e){if(!e||!e.loadProperties||!e.loadProperties.filterInfo)return false;return e.loadProperties&&e.loadProperties.filterInfo.filterClause!==e.previewFilterClause};e.hasTableRowCount=function(e){if(!e)return false;return e.filteredSourceRowCount&&-1!==e.filteredSourceRowCount};e.hasTableRowsFiltered=function(e){if(!e)return false;return e.sourceRowCount&&-1!==e.sourceRowCount&&e.sourceRowCount!==e.filteredSourceRowCount};e.onOK=function(){p["a"].trackEvent(p["a"].customEvents.ADD_DATA_BY_CONNECTOR_SCRIPT_EDITOR,{connector_typename:e.dataconnectorInstance.typeName,connector_id:e.dataconnectorInstance.id,connector_name:e.dataconnectorInstance.name});if(e.qvDialogContext&&e.qvDialogContext.finish)e.qvDialogContext.finish();else{var t=e.precedingLoad&&e.options.precedingLoadVisible;a.insertCode(r.generateScriptForSelections(n,e.datasourceInfo,t,!e.options.fieldsAreSelectable),e.dataconnectorInstance||e.options.dataconnectorInstance,e.options.selectFromTitleName);e.destroyComponent()}};e.onCancel=function(){if(e.qvDialogContext&&e.qvDialogContext.cancel)e.qvDialogContext.cancel();else{e.cancelIsInProgress=true;l["a"].global.abortAll().then((function(){e.destroyComponent()}))}};if(e.qvDialogContext){e.qvDialogContext.nextDisabled=function(){return!e.enableProfiling||e.isAddScriptButtonDisabled()};e.qvDialogContext.finishDisabled=function(){return e.isAddScriptButtonDisabled()}}e.onContinue=function(){e.next()};e.onBack=function(){l["a"].global.abortAll().then((function(){e.back()}))};e.getScriptPreview=function(){var t=e.precedingLoad&&e.options.precedingLoadVisible;var i=r.generateScriptForSelections(n,e.datasourceInfo,t,!e.options.fieldsAreSelectable);return i};e.isTableSelected=function(t){return t===e.selectedTable};function M(){for(var t=0;t<e.tables.length;t++)if(e.tables[t].checked)return t;return-1}e.showFieldDataLoader=function(){return e.isLoadingFields()||e.loadingPreview>0};e.toggleTableListExpansion=function(){e.tableListExpanded=!e.tableListExpanded};e.isLoadingFields=function(){return e.gettingDatabases||e.gettingOwners||e.gettingDatasourceInfo||e.gettingTables||e.loadingFields>0};e.isDatabaseDisabled=function(){return!e.databases||0===e.databases.length||e.inEditMode||1===e.databases.length&&!e.databases[0].name};e.isOwnerDisabled=function(){return!e.owners||0===e.owners.length||e.inEditMode||1===e.owners.length&&(!e.owners[0].name||e.options.disableOwnerIfOnlyOneChoice)};e.isTableListDisabled=function(){return!y||0===y.length||e.inEditMode};e.isTableListExpanded=function(){return e.tableListExpanded};e.isFieldListDisabled=function(){return!w||0===w.length};e.isAddScriptButtonDisabled=function(){return!(n.isAtLeastOneFieldSelected()||e.options.tableModelToEdit)||e.showFieldDataLoader()||!e.datasourceInfo||!e.specialTableSettingsOk};e.isSelectionsListShown=function(){return e.options.showSelectionsSummary&&n.isAtLeastOneFieldSelected()};e.getExistingDatabaseSelections=function(){return n.getFlatListOfSelectedDatabaseOwnerCombinations()};function P(n){var r=e.selectedTable;w=[];S=[];e.fields=[];e.preview=[];e.fieldFilter="";e.previewTooLarge=false;e.capNumberOfRows=false;e.loadingFields++;t((function(){e.selectedTable.getFields(n).then((function(t){if(r===e.selectedTable){e.loadingFields=0;w=t.map((function(t){if(!t.name&&t.checked){t.changeFieldSelection();e.selectedTable.checked=false}return t}));_();true===e.selectedTable.checked&&e.selectedTable.setAllSelected(true);e.options.forceSelectFirstTable&&1===e.tables.length&&e.selectedTable.setAllSelected(true);e.previewTooLarge=t.length>v;if(e.dataview&&!e.previewTooLarge){t.length>=m&&(e.capNumberOfRows=true);R()}}else e.loadingFields>0&&e.loadingFields--}))}))}function N(t,n){e.inline&&t.getAssociationsPreview(n).then((function(t){e.associationsPreview=t}))}function R(){if(e.options.hidePreview)return;var t=e.selectedTable;function n(n){if(e.dataview&&t===e.selectedTable){S=n;B();e.loadingPreview=0}else e.loadingPreview>0&&e.loadingPreview--}e.loadingPreview++;e.selectedTable.getDataPreview().then((function(t){n(t);N(e.selectedTable,t)}),(function(){n([])}))}function F(){e.selectedDatabase&&e.selectedOwner?e.tables=z(y,e.tableFilter):e.tables=[]}function _(){e.selectedDatabase&&e.selectedOwner&&e.selectedTable?e.fields=U(w,e.fieldFilter):e.fields=[]}function j(t){var n=[];var r=0;for(var i in t){if(e.capNumberOfRows&&++r>=g)break;n[i]=[];n[i].rowNbr=i;for(var a in t[i].qValues)n[i][a]={v:t[i].qValues[a],cellNbr:a}}return n}function B(){var t;t=S&&e.fieldFilter&&e.fields?G(e.fields,S):S;e.preview=j(t);V(S)}function V(e){var t=[];var n=[];for(var r in e){var i="";var a=e[r].qValues;for(var o=0;o<a.length;o++){var s=a[o];var l=s;i+=l;n.push(i.length)}t.push(i)}x.setText(t)}function H(){_();B()}function z(e,t){if(e&&e.length>0){if(t){if(t.indexOf(":")>0){var n=t.split(":");var r=n[0].toLowerCase();var i=n[1].toLowerCase();return e.filter((function(e){return W(e.name,i)&&0===(e.type||"").toLowerCase().indexOf(r)}))}return e.filter((function(e){return W(e.name,t)||e.alias&&W(e.alias,t)}))}return e}return[]}function $(e){for(var t=0;t<e.length;t++)if(e[t].fieldsChecked)return true;return false}function U(e,t){if(e&&t)return e.filter((function(e){return W(e.name,t)||e.aliasRealValue&&W(e.aliasRealValue,t)}));return e}function G(e,t){var n=[];for(var r=0;r<t.length;r++){var i=[];for(var a in e){var o=e[a].index;i.push(t[r].qValues[o])}n.push({qValues:i})}return n}function W(e,t){return e.toLowerCase().indexOf(t.toLowerCase())>=0}function Q(e,t){var n=s["a"].get("scripteditor.genericselectdialog.".concat(e),{value:t});if("true"===n.value)return true;if("false"===n.value)return false;return n.value}function K(e,t,n){s["a"].set("scripteditor.genericselectdialog.".concat(e),{value:t},n)}function Y(t){e.$$postDigest((function(){var e=b.find(".table-list");var n=e.find("li");n.length>0&&t>=0&&(e[0].scrollTop=n[0].offsetHeight*t)}))}e.initializeGUI()}]}},"1zeS":function(e,t,n){"use strict";var r=n("czhI");var i=n.n(r);var a=n("/2No");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}function c(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,s,"next",e)}function s(e){c(a,r,i,o,s,"throw",e)}o(void 0)}))}}var d=function(){var e=u(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return i.a.request(t);case 3:n=a.sent;r=n.data;return a.abrupt("return",r.data);case 8:a.prev=8;a.t0=a["catch"](0);throw a.t0.data;case 11:case"end":return a.stop()}}),e,null,[[0,8]])})));return function t(n){return e.apply(this,arguments)}}();var f=function(){function e(){o(this,e)}l(e,null,[{key:"getConfig",value:function e(t){return{method:"GET",url:"".concat(a["a"].rootPath,"api/v1/").concat(t)}}},{key:"getCloudExtensions",value:function t(){var n=e.getConfig("extensions");return d(n)}},{key:"getCloudThemes",value:function t(){var n=e.getConfig("themes");return d(n)}}]);return e}();t["a"]=f},"27Vq":function(e,t,n){"use strict";var r=n("5Pwf");function i(e){return 1252===e||850===e||1e4===e||65001===e||1200===e}function a(e,t){return o(e,(function(e){return e.qNumber===t}))}function o(e,t){var n=e.filter(t)[0];var r=e.indexOf(n);e.splice(r,1);return n}function s(){return r["a"].global.getSupportedCodePages().then((function(e){e.qCodePages.push({qDescription:"Unicode",qNumber:1200});var t=e.qCodePages;var n=[a(t,1252),a(t,850),a(t,1e4),a(t,65001),a(t,1200)];var r=n.concat(t);var o=r.map((function(e){return{title:e.qDescription,number:e.qNumber,kind:i(e.qNumber)?"Common.Standard":"scripteditor.dataconnectors.customcodepage"}}));return o}))}t["a"]={getCodepageOptionsPromise:s}},"27fy":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("0RAe");var o=n("V/nl");function s(e,t){o["a"].getTablesAndKeys(e).then((function(e){o["a"].getLooselyCoupledVector((function(n){var r=[];for(var i=0;i<e.qtr.length;i++){var a=n.qv[i];if(0!==a){var o=e.qtr[i].qName;r.push(o)}}t(r)}))}))}var l={getTablesWithCircularReferences:s};function c(e,t){l.getTablesWithCircularReferences(e,(function(e){var n;for(n in t){var r=t[n];for(n in r.lines){var i=r.lines[n];-1===e.indexOf(i.startTable)&&-1===e.indexOf(i.endTable)||(i.isCircular=true)}}}))}var u={markConnectionAsCircularReferences:c};function d(e,t){var n=15;var r=7;var i=5;var a;var o=[];var s=t.start.left+(t.start.targetIsToLeft?n:-n);var l=s+(t.start.targetIsToLeft?-i:r);var c=t.end.left+(t.end.targetIsToLeft?n:-n);var u=c+(t.start.targetIsToLeft?i:-r);a={left:t.end.targetIsToLeft?u:l,top:t.end.targetIsToLeft?t.end.top:t.start.top};o.push({isCircular:t.isCircular,isArm:true,start:{top:t.start.top,left:t.start.left},end:{top:t.start.top,left:s},startTable:t.startTable,endTable:t.endTable,connectionPoint:a});t.start.left=s;if(!e.interception){a={left:t.end.targetIsToLeft?l:u,top:t.end.targetIsToLeft?t.start.top:t.end.top};o.push({isCircular:t.isCircular,isArm:true,start:{top:t.end.top,left:t.end.left},end:{top:t.end.top,left:c},startTable:t.startTable,endTable:t.endTable,connectionPoint:a});t.end.left=c}return o}function f(e){var t;var n;var r;var i;var a;for(t in e){var o=[];n=e[t];for(r in n.lines){i=n.lines[r];a=d(n,i);o=o.concat(a)}n.lines=n.lines.concat(o)}}var p={appendArms:f};var h=n("Qx6/");var v=n("7el9");var m=n("nWa8");function g(e,t){var n=e[t];if(!n)throw new Error('Cannot find table "'.concat(t,'" for position.'));var r=a["a"].getTableElementTop(t);var i=a["a"].getTableElementLeft(t);var o=a["a"].getTableHeightByTableName(t);var s=a["a"].getTableWidthByTableName(t);return{top:r,left:i,height:o,width:s}}function b(e,t,n){if("number"!==typeof n)throw new Error("targetLeftPosition is not a number");var r=g(e,t);return r.left<n}function y(e,t,n,r){if("number"!==typeof r)throw new Error("targetLeftPosition is not a number");var o=45;var s=5;var l=a["a"].getTableElement(t);var c=l.find("li[data-name='".concat(n.replace(/'/g,"\\'"),"']"));var u=v["a"].getCurrentZoomLevel();var d=a["a"].getTableHeader(t).outerHeight();var f=g(e,t);var p=a["a"].getTableElementTop(t);var y=a["a"].getTableHeightByTableName(t);var w=b(e,t,r);var S=w?f.left+f.width-s:f.left+s;var x;if(c.offset()){x=c.offset().top-o+i()(".table-container").scrollTop();x=m["a"].getDimensionBasedOnZoom(x,u);x+=c.height()/2}else x=0;var C=y<=d;var q=p+d;(x<q||C)&&(x=p+d/2);var E=p+y-h["a"].OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM;x>E&&(x=E);return{targetIsToLeft:w,top:x,left:S}}function w(e,t){var n=Number.MAX_VALUE;var r=Number.MAX_VALUE;var i=0;var o=0;var s=t.qKeyFields[0];var l={fieldName:s,tables:[],lines:[]};for(var c in t.qTables){var u=a["a"].encodeTableName(t.qTables[c]);var d=g(e,u);var f=1===a["a"].getTableElement(u).length?a["a"].getFieldElement(u,s).position().top:d.height;l.tables.push(u);n=Math.min(n,d.top);r=Math.min(r,d.left);i=Math.max(i,d.top+f);o=Math.max(o,d.left+d.width)}l.interception={top:n+(i-n)/2,left:r+(o-r)/2};for(var p in t.qTables){var h=a["a"].encodeTableName(t.qTables[p]);l.lines.push({start:{targetIsToLeft:y(e,h,s,l.interception.left).targetIsToLeft,top:y(e,h,s,l.interception.left).top,left:y(e,h,s,l.interception.left).left},end:{top:l.interception.top,left:l.interception.left},startTable:h})}return l}function S(e,t){var n=t.qKeyFields[0];var r=a["a"].encodeTableName(t.qTables[0]);var i=a["a"].encodeTableName(t.qTables[1]);var o=g(e,r);var s=g(e,i);var l={fieldName:n,tables:[r,i],lines:[]};var c=y(e,r,n,s.left);var u=y(e,i,n,o.left);l.lines.push({start:{targetIsToLeft:c.targetIsToLeft,top:c.top,left:c.left},end:{targetIsToLeft:u.targetIsToLeft,top:u.top,left:u.left},startTable:r,endTable:i});return l}function x(e,t,n){if(!e)throw new Error("Raw data is undefined.");if(!n)throw new Error("Cached ideal data is undefined.");var r;var i=[];for(var a in e.qk){r=e.qk[a];var o=r.qTables.length<3?S(n,r):w(n,r);i.push(o)}u.markConnectionAsCircularReferences(t,i);p.appendArms(i);return i}var C={convertRawDataToIdealConnectionData:x};var q=n("CS0J");var E;var I;var k;function A(e){void 0===e&&(e=q["a"].isInternalTableView());return o["a"].getTablesAndKeys(e).then((function(e){E=e}))}function T(e){if(void 0===e)return;var t=100*Number(e);if(t%1===0)return t;return Number(String(t).substring(0,4))}function D(e){var t;var n;var r;var i;var o;var s;var l;var c;var u;var d;var f={};for(t in e.qtr){l=0;c=[];i=e.qtr[t];u=i.qName;i.qName=a["a"].encodeTableName(i.qName);s=[];for(n=0;n<i.qFields.length;n++){o=i.qFields[n];d=[];-1!==o.qTags.indexOf("$key")&&l++;for(r=0;r<o.qTags.length;r++){-1===c.indexOf(o.qTags[r])&&c.push(o.qTags[r]);-1===d.indexOf(o.qTags[r])&&d.push(o.qTags[r])}var p=[];for(var h in o.qOriginalFields){var v=o.qOriginalFields[h];p.push({name:v})}s.push({name:o.qName,originalFields:p,meta:{isPerfectKey:"PERFECT_KEY"===o.qKeyType,density:T(o.qInformationDensity),subsetRatio:T(o.qSubsetRatio),tags:d,hasDuplicates:o.qHasDuplicates,nbrOfTotalDistinctValues:o.qnTotalDistinctValues,nbrOfPresentDistinctValues:o.qnPresentDistinctValues,nbrOfNonNulls:o.qnNonNulls,isKey:-1!==o.qTags.indexOf("$key"),isSynthetic:-1!==o.qTags.indexOf("$synthetic"),comment:o.qComment},derivedFields:o.qDerivedFields})}f[i.qName]={realName:u,top:i.qPos.qy,left:i.qPos.qx,height:0,width:0,autoLayoutX:i.qPos.qx,autoLayoutY:i.qPos.qy,meta:{nbrOfRows:i.qNoOfRows,nbrOfFields:Object.keys(s).length,nbrOfKeys:l,tags:c},fields:s,isDirectDiscovery:!!i.qIsDirectDiscovery,isSynthetic:!!i.qIsSynthetic}}return f}function O(){try{I=D(E);return Promise.resolve(I)}catch(e){return Promise.reject(e)}}function L(){var e=q["a"].isInternalTableView();k=C.convertRawDataToIdealConnectionData(E,e,I)}function M(){if(!I)throw new Error("Cached ideal table data is undefined. Need to reload from engine first.");return I}function P(){if(!k)throw new Error("Cached ideal connection data is undefined. Need to reload from engine first.");return k}function N(e){o["a"].clearAllCaches();E=void 0;I=void 0;k=void 0;return A(e).then((function(){return O()}))}function R(e,t){for(var n in k){var r=k[n];if(r.fieldName===t&&-1!==r.tables.indexOf(e))return true}return false}var F=t["a"]={getDataModel:M,getConnectionData:P,forceReload:N,doesTableFieldHaveConnection:R,recreateCachedIdealConnectionData:L,formatToPercentageNumber:T}},"28IR":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"b",(function(){return r}));var r={qInfo:{qId:"SheetList",qType:"SheetList"},qAppObjectListDef:{qType:"sheet",qData:{title:"/qMetaDef/title",labelExpression:"/labelExpression",showCondition:"/showCondition",description:"/qMetaDef/description",descriptionExpression:"/descriptionExpression",thumbnail:"/thumbnail",cells:"/cells",rank:"/rank",columns:"/columns",rows:"/rows"}}};var i={types:"Doc",extend:{getSheetList:function e(){return this.getListData(r)},getSheetListObject:function e(){return this.getListObject(r)}}}},"2Hli":function(e,t,n){"use strict";var r=n("4nJ1");function i(e){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return i(e)}function a(e){return"object"===i(e.items)&&"array"!==e.type&&("items"===e.type||"items"===e.component||"expandable-items"===e.component||"accordion"===e.component||!e.type&&!e.component)}function o(e,t,n){if("string"!==typeof t)return t;switch(e){case"integer":t=parseInt(t,10);Number.isNaN(+t)&&(t=n);break;case"number":t=parseFloat(t);Number.isNaN(+t)&&(t=n);break;case"boolean":t="true"===t;break;default:break}return t}function s(e,t){if("function"===typeof t.defaultValue)return t.defaultValue();if("undefined"!==typeof t.defaultValue)return t.defaultValue;if(Array.isArray(t.options))return t.options[0].value;switch(e){case"array":return[];case"string":return"";case"integer":return 0;case"number":return 0;case"boolean":return false;default:return null}}function l(e){var t={};function n(e){var i;var o;var l;if(e.schemaIgnore)return;if(a(e)){i=Object.keys(e.items);for(l=0;l<i.length;l++){o=e.items[i[l]];o&&n(o)}}else e.ref&&!e.schemaIgnore&&r["a"].setValue(t,e.ref,s(e.type,e))}if("array"===e.type&&e.items){t={};n({type:"items",items:e.items})}else n(e);return t}function c(e,t){if("undefined"!==typeof t.undefinedValue)return t.undefinedValue;return s(e,t)}t["a"]={getValue:r["a"].getValue,setValue:r["a"].setValue,getTypeValue:o,getDefaultValue:s,getDefaults:l,isHierarchical:a,getUndefinedValue:c}},"2UuD":function(e,t,n){"use strict";var r=n("4nJ1");var i=n("yHiA");var a=n.n(i);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}var c={3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",24:"Y","-3":"m","-6":"μ","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"};var u=/%$/;var d=/^\(r(0[2-9]|[12]\d|3[0-6])\)/i;var f=/^\(oct\)/i;var p=/^\(dec\)/i;var h=/^\(hex\)/i;var v=/^\(bin\)/i;var m=/^\(rom\)/i;var g=/^(\(rom\)|\(bin\)|\(hex\)|\(dec\)|\(oct\)|\(r(0[2-9]|[12]\d|3[0-6])\))/i;function b(e,t,n,r){e=e.toString(t);n[1]===n[1].toUpperCase()&&(e=e.toUpperCase());e.length-e.indexOf(".")>10&&(e=e.slice(0,e.indexOf(".")+11));return e.replace(".",r||".")}function y(e,t,n){var r;if(d.test(t))e=b(e,Number(/\d{2}/.exec(t)[0]),t,n);else if(f.test(t))e=b(e,8,t,n);else if(p.test(t))e=b(e,10,t,n);else if(h.test(t))e=b(e,16,t,n);else if(v.test(t))e=b(e,2,t,n);else if(m.test(t)){r="";if(e<0){r="-";e=-e}e=Math.floor(e);if(0===e)e="0";else if(e<=5e5){e=w(e,t);e=r+e}else e=t+r+e.toExponential(0)}return e}function w(e,t){var n;var r="";var i=Number(String(e).slice(-3));var a=(e-i)/1e3;var o=[0,1,4,5,9,10,40,50,90,100,400,500,900].reverse();var s=["0","I","IV","V","IX","X","XL","L","XC","C","CD","D","CM"].reverse();while(i>0)for(n=0;n<o.length;n++)if(o[n]<=i){r+=s[n];i-=o[n];break}for(n=0;n<a;n++)r="M".concat(r);t[1]!==t[1].toUpperCase()&&(r=r.toLowerCase());return r}function S(e){if(!e||!e.qNumericalAbbreviation)return c;var t={};var n=e.qNumericalAbbreviation.split(";");n.forEach((function(e){var n=e.split(":");2===n.length&&(t[n[0]]=n[1])}));return t}var x=function(){function e(t,n,r,i,a){o(this,e);this.localeInfo=t;this.pattern=n;this.thousandDelimiter=r||",";this.decimalDelimiter=i||".";this.type=a||"numeric";this.abbreviations=S(t);this.prepare()}l(e,[{key:"clone",value:function t(){var n=new e(this.localeInfo,this.pattern,this.thousandDelimiter,this.decimalDelimiter,this.type);n.subtype=this.subtype;return n}},{key:"format",value:function e(t,n,r,i){this.prepare(n,r,i);return this.formatValue(t)}},{key:"prepare",value:function e(t,n,r){"undefined"===typeof t&&(t=this.pattern);"undefined"===typeof n&&(n=this.thousandDelimiter);"undefined"===typeof r&&(r=this.decimalDelimiter);if(!t){this._prepared={pattern:false};return}this._prepared={positive:{d:r,t:n,abbreviate:false,isFunctional:false,prefix:"",postfix:""},negative:{d:r,t:n,abbreviate:false,isFunctional:false,prefix:"",postfix:""}};var i=this._prepared;t=t.split(";");i.positive.pattern=t[0];i.negative.pattern=t[1];g.test(t[0])&&(i.positive.isFunctional=true);t[1]?g.test(t[1])&&(i.negative.isFunctional=true):i.negative=false;var a=i.positive.isFunctional&&(!i.negative||i.negative&&i.negative.isFunctional);if(!a){C(i.positive,n,r);i.negative&&C(i.negative,n,r)}}},{key:"formatValue",value:function e(t){var n=this._prepared;var r;var i;var o="";var s;var l;var c="";var u;var d;var f;if(Number.isNaN(+t))return t;if(false===n.pattern)return t.toString();if(t<0&&n.negative){n=n.negative;t=-t}else n=n.positive;var p=n.d;var h=n.t;if(n.isFunctional)t=y(t,n.pattern,p);else{n.percentage&&(t*=100);if(n.abbreviate){var v=this.abbreviations;var m=Object.keys(v).map((function(e){return parseInt(e,10)})).sort((function(e,t){return e>t?1:-1}));var g;var b=m[0];u=0;i=Number(Number(t).toExponential().split("e")[1]);while(b<=i&&u<m.length){u++;b=m[u]}u>0&&(g=m[u-1]);var w;g&&i>0&&g>0?w=g:(i<0&&g<0||!g)&&(b<0&&b-i<=n.maxPrecision?w=b:g<=i&&!(b>0&&-i<=n.maxPrecision)&&(w=g));if(w){o=v[w];t/=Math.pow(10,w)}}s=Math.abs(t);r=n.temp;d=n.numericPattern;f=d.split(p)[1];"I"===this.type&&(t=Math.round(t));l=t;if(f||"#"!==d.slice(-1)[0])if(s>=1e15||s>0&&s<=1e-14)t=s?s.toExponential(15).replace(/\.?0+(?=e)/,""):"0";else{var S=Number(t.toFixed(Math.min(20,f?f.length:0)).split(".")[0]);var x=d.split(p)[0];x+=p;t=a()(x,S)||"0";if(f){var C=Math.max(0,Math.min(14,f.length));var q=f.replace(/#+$/,"").length;var E=Number((s%1).toPrecision(C)).toFixed(C);E=E.slice(2).replace(/0+$/,"");for(u=E.length;u<q;u++)E+="0";E&&(t+=p+E)}else 0===S&&(l=0)}else if(s>=Math.pow(10,r)||s<1||s<1e-4)if(0===t)t="0";else if(s<1e-4||s>=1e20){t=l.toExponential(Math.max(1,Math.min(14,r))-1);t=t.replace(/\.?0+(?=e)/,"");c=""}else{t=t.toPrecision(Math.max(1,Math.min(14,r)));if(t.indexOf(".")>=0){t=t.replace(t.indexOf("e")<0?/0+$/:/\.?0+(?=e)/,"");t=t.replace(".",p)}}else{d+=p;r=Math.max(0,Math.min(20,r-Math.ceil(Math.log(s)/Math.log(10))));for(u=0;u<r;u++)d+="#";t=a()(d,t)}t=t.replace(n.numericRegex,(function(e){if(e===h)return n.groupTemp;if(e===p)return n.decTemp;return""}));l<0&&!/^-/.test(t)&&(t="-".concat(t))}return n.prefix+t+c+o+n.postfix}}]);return e}();function C(e,t,n){var r;var i;var a=e.pattern;if(a.indexOf("A")>=0){a=a.replace("A","");e.abbreviate=true}var o=E(t,n);var s=a.match(o);s=s?s[0]:"";var l=s?a.substr(0,a.indexOf(s)):a;var c=s?a.substring(a.indexOf(s)+s.length):"";s||(s=a?"#":"##########");if(t&&t===n){r=s.split(n);i=r.pop();s=r.join("")+n+i;t=""}var d=t;t=/,/.test(n)?"¤":",";d&&(s=s.replace(q(d,"g"),t));var f=n;n=".";f&&(s=s.replace(q(f,"g"),n));var p=s.match(/#/g);p=p?p.length:0;var h=a.split(f);var v;h[1]&&(v=h[1].match(/#|0/g));e.prefix=l||"";e.postfix=c||"";e.pattern=a;e.maxPrecision=v?v.length:2;e.percentage=u.test(a);e.numericPattern=s||"";e.numericRegex=new RegExp("".concat(q(t,null,true),"|").concat(q(n,null,true)),"g");e.groupTemp=d;e.decTemp=f;e.t=t;e.d=n;e.temp=p}function q(e,t,n){var i=r["a"].escapeRegExp(e);if(n)return i;return new RegExp(i||"",t)}function E(e,t){t&&(t=r["a"].escapeRegExp(t));e&&(e=r["a"].escapeRegExp(e));return new RegExp("(?:[#0]+".concat(e,")?[#0]+(?:").concat(t,"[#0]+)?"))}window.NumberFormatter=x;x.getStaticFormatter=function(){return{prepare:function e(){},formatValue:function e(t){return"".concat(t)}}};t["a"]=x},"2V7U":function(e,t,n){"use strict";var r=n("UV1h");var i=n("qpUu");function a(e,t){this.id=e;Object.defineProperties(this,{id:{value:e},properties:{value:t}})}a.prototype.getStyle=function(e,t,n){var r=new i["a"](e,this.id,this.properties);return r.getStyle(t,n,false)};a.prototype.apply=function(){return r["a"].applyTheme(this.id).then((function(e){return e}))};t["a"]=a},"2X6M":function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("mWu2");var o='<div class="qv-mobile-print" tcl="mobile-print-settings">\n\t<div class="qui-toolbar qv-mp-toolbar">\n\t\t<qui-toolbarbutton qva-activate="cancel($event)" name="cancel" class="qv-mp-toolbar-close" tid="mobile-print-close">\n\t\t\t<span q-translation="Common.Cancel" class="qv-mp-toolbar-close-text"></span>\n\t\t</qui-toolbarbutton>\n\n\t\t<qui-toolbarbutton ng-disabled="state === states.PENDING" qva-activate="$event.preventDefault(); confirm(export.type)" name="confirm" class="qv-mp-toolbar-confirm" tid="mobile-print-export">\n\t\t\t<span q-translation="Print.Download" class="qv-mp-toolbar-confirm-text"></span>\n\t\t</qui-toolbarbutton>\n\t</div>\n\t<div ng-if="state === states.PENDING" class="loader-overlay">\n\t\t<div class="section loader-container">\n\t\t\t<div class="qv-loader white dm-p"></div>\n\t\t</div>\n\t</div>\n\n\t<div class="section" ng-if="sourceType === \'object\'">\n\t\t<div class="section-title" q-translation="Print.ChooseFormat"></div>\n\t\t<lui-select x-variant="inverse"\n\t\t\t\ttid="print-format"\n\t\t\t\tx-model="export"\n\t\t\t\tx-options="o as o.label for o in outputs"\n\t\t\t\tx-change="onFormatChange(export)"\n\t\t\t\tx-disabled="state === states.PENDING">\n\t\t</lui-select>\n\t</div>\n\n\t<div class="section" ng-show="export.type === \'pdf\'">\n\t\t<div class="section-title" q-translation="Print.PaperSize"></div>\n\t\t<lui-select x-variant="inverse"\n\t\t\t\ttid="print-paper-size"\n\t\t\t\tx-model="selectedSize"\n\t\t\t\tx-options="size.label for size in sizes"\n\t\t\t\tx-change="onSizeChange(selectedSize)"\n\t\t\t\tx-disabled="state === states.PENDING">\n\t\t</lui-select>\n\t</div>\n\t<div class="section" ng-show="export.type === \'pdf\'">\n\t\t<div class="section-title" q-translation="Print.Layout"></div>\n\n\t\t<lui-select x-variant="inverse"\n\t\t\t\ttid="print-orientation"\n\t\t\t\tx-model="selectedLayout"\n\t\t\t\tx-options="l.label for l in layouts"\n\t\t\t\tx-change="onPrintLayout(selectedLayout)"\n\t\t\t\tx-disabled="state === states.PENDING">\n\t\t</lui-select>\n\t</div>\n\n    <div ng-if="state === states.COMPLETED" tid="mobile-download-link" tdl="{{printUrl}}">\n        <div class="section qv-mobile-print-download">\n            <a ng-href="{{printUrl}}" target="_blank" q-translation="{{printUrlTranslationKey}}"></a>\n        </div>\n    </div>\n\n\t<div ng-if="state === states.TIMEOUT">\n\t\t<div class="section">\n\t\t\t<p class="dm-p" q-translation="Print.Failed.TimeoutMessage"></p>\n\t\t</div>\n\t</div>\n\t<div ng-if="state === states.FAILED">\n\t\t<div class="section">\n\t\t\t<p class="dm-p" q-translation="Print.Failed.GenericMessage"></p>\n\t\t</div>\n\t</div>\n</div>\n';var s=n("lCV6");var l=n("Mb12");var c=n("bF7x");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=200;var f=function e(t){u(this,e);var n=this;n.$scope=t;t.states=s["a"].getStates();t.state=t.states.IDLE;t.layouts=c["a"].layouts;t.outputs=c["a"].outputs;t.fitCriteriaList={CurrentSize:0,BestFitNoPreserveAspectRatio:2};t.fitCriteria=t.fitCriteriaList.BestFitNoPreserveAspectRatio;t.sourceType=t.input.sourceType;t.export=t.outputs[0];if("pdf"===t.export.type){t.sizes=c["a"].sizes;t.selectedSize=t.sizes[1];t.print={dpi:d,fitCriteria:t.fitCriteriaList.BestFitNoPreserveAspectRatio,width:t.input.currentWidth,height:t.input.currentHeight};t.selectedLayout=t.layouts[1]}};f.$inject=["$scope"];a["default"].directive("qvMobilePrint",[function(){return{restrict:"E",template:o,controller:f,replace:true,require:["qvMobilePrint"],scope:true,link:function e(t){if(t.input&&t.input.object){var n=t.input.object.model.id;var r={id:n,model:t.input.object.model,options:{id:n,isVisible:true,isOnGrid:false,isZoomed:false}};t.obj=r}t.cancel=function(e){e.preventDefault();s["a"].cancel();S.off("print")};var i=l["a"].create(t);t.confirm=i.confirm;t.onPrintLayout=i.onPrintLayout;t.onFitCriteria=i.onFitCriteria;t.onFormatChange=i.onFormatChange}}}]);var p="<qv-mobile-print></qv-mobile-print>";var h=n("B52N");var v;function m(e,t){var n=a["default"].getService("$document");e.$container=i.a.element("<div>");e.$containerId?n.find(e.$containerId).append(e.$container):n.find("body").append(e.$container);e.$container.showComponent(e.getComponent(),["$scope",function(e){e.input=t}]);e.setup()}function g(e){if(e.$container){e.$container.remove();e.$container=void 0}e.destroy()}function b(){g(v.print)}function y(e){return!!e.$container}function w(e,t){y(e)?g(e):m(e,t)}v={print:{$container:void 0,input:{},getComponent:function e(){return p},setup:function e(){h["default"].ViewChanged.bind(b)},destroy:function e(){h["default"].ViewChanged.unbind(b)}}};var S=t["a"]={toggleMobilePrint:function e(t,n){var r="Object"===n&&t.object.objectSize&&t.object.objectSize.w?t.object.objectSize.w:"640";var i="Object"===n&&t.object.objectSize&&t.object.objectSize.h?t.object.objectSize.h:"480";var a=96;var o={object:"sheet"===n.toLowerCase()?t:t.object,sourceType:n.toLowerCase(),currentWidth:r,currentHeight:i,currentDpi:a};w(v.print,o)},off:function e(t){var n=v[t];g(n)}}},"2eMM":function(e,t,n){"use strict";var r=n("fwzx");var i=n("2Hli");var a=n("8WoW");var o=n("obmW");var s=n("acVu");var l=["scatterplot","map"];var c=["map"];t["a"]={baseColor:{isSupported:function e(t){return t&&t.length&&-1===l.indexOf(t)},isDimSupported:function e(t){return t&&t.length&&-1!==c.indexOf(t)}},colorBy:{},colorByUpdater:function e(t,n,r,i){this.updateColorDef(t,i,r);this.updateHypercubeAttributes(t,n,r)},updateColorDef:function e(t,n,o){var s=i["a"].getValue(o,"mode");var l=i["a"].getValue(o,"auto");var c=i["a"].getValue(t,"".concat(n,"qDimensions"),[]);var u=i["a"].getValue(t,"".concat(n,"qMeasures"),[]);var d;var f;var h;var m;if(!l&&"byDimension"===s&&c.length){d=i["a"].getValue(o,"byDimDef");d&&v(o,d.label);if(d&&d.activeDimensionIndex>-1){d.activeDimensionIndex=Math.min(d.activeDimensionIndex,c.length-1);f=c[d.activeDimensionIndex];m=a["a"].getColorByDefinition("dimension",false,f);m.activeDimensionIndex=d.activeDimensionIndex;p(o,m)}else if(!d||!d.key){f=c[c.length-1];h=r["a"].getById(f.qAttributeDimensions,r["a"].IDMAP.COLOR_BY_ALTERNATIVE);p(o,a["a"].getColorByDefinition("dimension",!!h,h||f))}}else if(!l&&"byMeasure"===s&&c.length){d=i["a"].getValue(o,"byMeasureDef");d&&v(o,d.label);if((!d||!d.key)&&u.length){var g=u[0];f=c[c.length-1];h=r["a"].getById(f.qAttributeExpressions,r["a"].IDMAP.COLOR_BY_ALTERNATIVE);p(o,a["a"].getColorByDefinition("measure",!!h,h||g))}}else"byMultiple"===s&&u.length<2&&i["a"].setValue(o,"mode","primary")},updateHypercubeAttributes:function e(t,n,r){var a=i["a"].getValue(r,"mode");var o=i["a"].getValue(r,"auto");var s=i["a"].getValue(t,"".concat(n,"qDimensions"),[]);var l=i["a"].getValue(t,"".concat(n,"qMeasures"),[]);var c=i["a"].getValue(t,"".concat(n,"qLayoutExclude.qHyperCubeDef.qDimensions"),[]);!o&&"byDimension"===a&&s.length?h(r,true,s,c,l,i["a"].getValue(r,"byDimDef.label")):!o&&"byMeasure"===a&&s.length?h(r,false,s,c,l,i["a"].getValue(r,"byMeasureDef.label")):u(s,c)},setColorByPropertyDef:p,resolveColorByPropertyDef:h,clearColorByItem:u};function u(e,t){e.forEach((function(e){d(e,r["a"].IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");d(e,r["a"].IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")}));t.forEach((function(e){d(e,r["a"].IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");d(e,r["a"].IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")}))}function d(e,t,n){if(e[n]){var i=r["a"].getIndexById(e[n],t);i>=0&&e[n].splice(i,1)}else e[n]=[]}function f(e){return e.split(" ").length>1&&"="!==e[0]&&"["!==e[0]?"[".concat(e,"]"):e}function p(e,t,n,r){var i=n?"expression":t.type;var a=e.mode;var l=t.label||t.name||"";v(e,l);switch(i){case"field":a="byDimension";e.byDimDef={label:t.label||f(t.name),key:f(t.name),type:"expression",activeDimensionIndex:t.activeDimensionIndex};break;case"expression":a="byMeasure";e.byMeasureDef={label:n||t.label||t.name,key:n||t.name,type:"expression"};break;case"dimension":a="byDimension";e.byDimDef={label:t.name,key:t.id,type:"libraryItem",activeDimensionIndex:t.activeDimensionIndex};break;case"measure":a="byMeasure";e.byMeasureDef={label:t.name,key:t.id,type:"libraryItem"};Object(s["b"])("MASTER_MEASURE_FORMAT")&&e.formatting&&o["a"].useMasterNumberFormat(e.formatting);break;default:break}if(!r){e.auto=false;e.mode=a}}function h(e,t,n,a,o,s){u(n,a);var l=n[n.length-1];if(l){var c=t?i["a"].getValue(e,"byDimDef"):i["a"].getValue(e,"byMeasureDef");var d=i["a"].getValue(e,"formatting.qNumFormat");var f=i["a"].getValue(e,"formatting.isCustomFormatted");if(c){var p=r["a"].create(r["a"].IDMAP.COLOR_BY_ALTERNATIVE);switch(c.type){case"expression":p.label=s||c.label;if(t)p.qDef=c.key;else{p.qExpression=c.key;if(d){p.qNumFormat=d;p.isCustomFormatted=f}}break;case"libraryItem":if(!t){var h=-1;o.forEach((function(e,t){c.key===e.qLibraryId&&(h=t)}));p.matchMeasure=h;if(d){p.qNumFormat=d;p.isCustomFormatted=f}}p.qLibraryId=c.key;p.colorMapRef=c.key;break;default:break}if(t){p.qSortBy={qSortByAscii:1};l.qAttributeDimensions.push(p)}else l.qAttributeExpressions.push(p)}}}function v(e,t){if(!t)return;var n="="===t.charAt(0);e.altLabel=n?{qStringExpression:{qExpr:t.substr(1)}}:t}},"2n0V":function(e,t,n){"use strict";var r={};function i(e){return r[e]}function a(e,t){r[e]=t}function o(e){delete r[e]}t["a"]={getType:i,getRegisteredNames:function e(){return Object.keys(r)},getLibraryInfo:function e(t){return r[t]?r[t].getLibraryInfo():null},getIconName:function e(t){return r[t]?r[t].getIconName():null},getIconChar:function e(t){return r[t]?r[t].getIconChar():null},getIconPath:function e(t){return r[t]?r[t].getIconPath():null},supportExport:function e(t){return!!r[t]&&r[t].supportExport()},registerType:a,removeType:o}},"2zlL":function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("A44O");var o=n.n(a);var s=n("kcho");var l=n.n(s);var c=n("sWge");var u=n("5Pwf");var d=n("SswE");var f=n("5Hbw");var p=n("qSTF");var h;function v(e,t){h||(h=d["a"].createDataconnectorsModel(u["a"].global,u["a"].getCurrentApp(),p["a"],true,true));return h.then((function(n){var r;var i=n.getConnectionFromModel(e.dataconnectorName);var o={};if(t){if(i&&i.connectorInstance.type.update)return new Promise((function(t){window.requirejs([i.connectorInstance.type.update],(function(n){var r={instanceId:i.connectorInstance.id,csrfToken:f["a"].csrfToken()};n(e,r).then((function(e){t({selectStatement:e.script})}))}),(function(){return new Promise((function(t){t({selectStatement:e.selectStatement})}))}))}));return new Promise((function(t){t({selectStatement:e.selectStatement})}))}if(i&&i.connectorMain&&i.connectorMain.getRawScript){r=n.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return i.connectorMain.getRawScript(r,e).then((function(e){o.selectStatement=e;o.loadSelectStatement="";return o}))}if(i&&i.connectorMain&&i.connectorMain.generateSelectScript){r=n.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return i.connectorMain.generateSelectScript(r,e).then((function(e){o.loadSelectStatement=e;return o}))}if(i&&i.connectorMain&&i.connectorMain.getScriptTemplate){r=n.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return c["a"].when(i.connectorMain.getScriptTemplate(r,e)).then((function(e){return a["TemplateRunner"].render(e).then((function(e){o.loadSelectStatement=e;return o}))}))}var l=i&&i.connectorMain&&i.connectorMain.getBoxType?i.connectorMain.getBoxType():e.boxType;if("script"!==e.dataconnectorName&&void 0!==s["BoxTypesModel"].GetBoxType(l))return c["a"].when(a["TemplateRunner"].render(s["BoxTypesModel"].GetBoxType(l).template,e)).then((function(e){"load-sql"===l&&(o.loadSelectStatement=e);"load-file"===l&&(o.selectStatement=e);return o}));return""}))}function m(){h&&(h=h.then((function(e){return e.populateList()})))}function g(e,t,n,r){if("script"===e.connectionInfo.typeName||n){if(r)return v(e,true);var a=new c["a"];a.resolve({selectStatement:e.selectStatement});return a.promise}if(e.fields&&e.fields.filter((function(e){return e.selected})).length>0){var o=i.a.clone(e);o.tableAlias=o.tableName;o.fields=o.fields.filter((function(e){return e.selected})).map((function(e){var t=i.a.clone(e);t.alias=e.name;return t}));return v(o,t).then((function(e){return e}))}var s=new c["a"];s.resolve({});return s.promise}t["a"]={getLoadSelectStatement:g,forceConnectionListUpdate:m}},"33FQ":function(e,t,n){"use strict";var r='<lui-popover style="width: 200px" on-close-view="onClose(event)">\n\t<div class="object-error-popup">\n\t\t\x3c!--<div class="object-error-title" q-translation="{{error.title}}"></div>--\x3e\n\t\t<div class="object-error-message">{{error.message}}</div>\n\t</div>\n</lui-popover>';var i=n("wIyQ");var a=t["a"]={template:r,controller:["$scope",function(e){function t(){e.onClose()}e.$on("$destroy",(function(){i["a"].off("start",t)}));i["a"].on("start",t)}]}},"395F":function(e,t,n){"use strict";var r=n("sWge");var i=n("5ezW");var a=n("G3JA");var o=n("G1wx");var s=n("oxue");var l='<lui-popover style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<object-add-typeahead>\n\t\t<lui-popover-header>\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-dimension" autocomplete="off" ng-model="search.term" tid="add-dimension-input" qva-focus="autoFocus"\n\t\t\t\t\t   object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)" maxlength="255"/>\n\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addFieldDimension({value:value})" expression-type="dimension"\n\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</lui-popover-header>\n\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in activeDimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addActiveDimension(dimension)">\n\t\t\t\t\t<span qve-highlight text="{{dimension.translatedTitle}}" title="{{dimension.translatedTitle}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="dimensions.length" q-translation="Common.Dimensions"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in dimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addLibraryDimension(dimension)">\n\t\t\t\t\t<span ng-if="dimension.isDrillDown" class="lui-icon lui-icon--drill-down lui-list__aside" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<span qve-highlight text="{{dimension.label}}" title="{{dimension.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="fields.length" q-translation="Common.Fields"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in fields" tid="field-item"\n\t\t\t\t\tobject-add-typeahead-item="field" on-select="addFieldDimension(field)"\n\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}">\n\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-list__aside  lui-icon--calendar"></span>\n\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-list__aside  lui-icon--map"></span>\n\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-nohits" ng-if="!dimensions.length && !fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t</div>\n\t</object-add-typeahead>\n</lui-popover>\n';var c=n("JUQR");var u=n("knjk");var d=n("6uJb");var f=n("dtUF");var p=100;function h(e,t){if(""===t)return e;return e.filter((function(e){if("undefined"===typeof e.value)return false;return i["a"].string(e.value.toLowerCase()).indexOf(i["a"].string(t.toLowerCase()))>-1}))}var v={template:l,controller:["$scope",function(e){e.search={term:""};e.isDirectDiscoveryField=c["a"].isDirectDiscoveryField;e.getDirectDiscoveryTypeTranslationKey=c["a"].getTypeTranslationKey;e.autoFocus=o["a"].treatAsDesktop();e.position||(e.position="right");e.onEscape=function(t){if(""!==e.search.term){t.stopPropagation();e.search.term=""}else e.close()};e.onEnter=function(t){if(""!==e.search.term){t.stopPropagation();e.addFieldDimension({value:e.search.term})}else e.close()};e.getFieldDisplayName=function(t){return""===e.search.term?t.label:u["a"].trimAutoCalendarName(t.value)};var t=null;e.$watch("search.term",(function(n){function i(){var r=h(t.fields,n);var i=h(t.dimensions,n);var o=h(t.activeDimensions,n);if(i.length+o.length>p){i=a["a"].limit(i,Math.max(p-o.length,0));r=[]}else r.length+i.length+o.length>p&&(r=a["a"].limit(r,Math.max(p-i.length-o.length,0)));e.fields=r;e.dimensions=i;e.activeDimensions=o}t?i():r["a"].all({fields:s["a"].getSortedFields(e.app),dimensions:s["a"].getSortedDimensions(e.app)}).then((function(r){var a=r.fields.map((function(e){var t=e.isDerived&&""===n?e.qName.substring(e.qName.lastIndexOf(".")+1,e.qName.length):e.qName;return{toolTip:e.qName,label:t,value:e.qName,trimmedValue:e.displayName,qTags:e.qTags,isDerived:e.isDerived,isDateField:e.isDateField,isGeoField:e.isGeoField,activeDimensionIndex:-1}}));var o=r.dimensions.map((function(e){return{label:e.qData.title,value:e.qData.title,libraryId:e.qInfo.qId,isDrillDown:"H"===e.qData.grouping,activeDimensionIndex:-1}}));var s=[];e.activeDimensions&&e.activeDimensions.length&&e.activeDimensions.forEach((function(e,t){var n={};if(e.qLibraryId){o.forEach((function(t){if(t.libraryId===e.qLibraryId){n.label=t.label;n.value=t.value}}));n.libraryId=e.libraryId}else a.forEach((function(t){if(t.value===e.qDef.qFieldDefs[0]){n.label=t.label;n.value=t.value}}));n.translatedTitle=d["default"].get("properties.colorBy.currentDimension",t+1);n.activeDimensionIndex=t;s.push(n)}));t={fields:a,dimensions:o,activeDimensions:s};i()}))}))}],scope:{alignTo:"=",app:"=",addFieldDimension:"=",addLibraryDimension:"=",qvaOutsideIgnoreFor:"=",close:"=",position:"=",allowExpressionEditor:"@",selectColorByDimIndex:"="}};var m=t["a"]=v},"3A43":function(e,t,n){"use strict";t["a"]='<div class="qv-block-ui" ng-class="{\'qv-fade-out\': fadeOut}">\n\t<div class="qv-loader-container" ng-class="ngClasses">\n\t\t<div class="qv-loader"></div>\n\t</div>\n\t<div class="qv-loader-text" ng-if="messageObj" ng-class="ngClasses">\n\t\t<div ng-show="messageObj.task" q-translation="{{messageObj.task}}"></div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n'},"3I2r":function(e,t,n){"use strict";var r=n("+GbC");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function o(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e}var s={Expression:0,NumberOrExpression:1};var l=function(){function e(t,n){i(this,e);this.currentExpr=null;this.nextExpr=null;this.hasOutstandingCall=false;this.app=t;this.mode=n||s.Expression;r["a"].create(this,"Update")}o(e,[{key:"onResponse",value:function e(t){var n;this.hasOutstandingCall=false;if(this.nextExpr){n=this.nextExpr;var r=this.nextLabels;this.nextExpr=null;this.nextLabels=null;this.callEngine(n,r)}else{n=this.currentExpr;var i=!t.qErrorMsg&&0===t.qBadFieldNames.length;for(var a=0;a<t.qBadFieldNames.length;a++){var o=t.qBadFieldNames[a];o.name=n.substr(o.qFrom||0,o.qCount)}this.Update.emit({valid:i,data:{error:t.qErrorMsg,bad:t.qBadFieldNames}})}}},{key:"callEngine",value:function e(t,n){var r=this;if(this.hasOutstandingCall)throw new Error("Invalid state");this.currentExpr=t;this.hasOutstandingCall=true;var i;i=this.mode===s.NumberOrExpression?this.app.checkNumberOrExpression(t):this.app.checkExpression(t,n||[]);i.then((function(e){r.onResponse(e)}),(function(){r.onResponse({qErrorMsg:"Error",qBadFieldNames:[]})}))}},{key:"validate",value:function e(t,n){if(this.hasOutstandingCall){this.nextExpr=t;this.nextLabels=n}else this.app&&this.callEngine(t,n)}}]);return e}();t["a"]={ExpressionValidator:l,Modes:s}},"3J65":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("SOxp");var l=n("+GbC");var c=n("i7ks");var u=i()(document);var d=[];var f="chart-interaction";function p(e){return"".concat(f,".").concat(e)}function h(e,t){return e.priority-t.priority}function v(e,t){if(e.filter((function(e){return e.target===t.target&&e.container===t.container})).length)return null;t.priority=Number.isNaN(+t.priority)?0:t.priority;e.push(t);e.sort(h);return t}function m(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function g(e,t,n){return e.filter((function(e){return e[n]===t}))}var b={tap:{containers:[]},taptwo:{containers:[]},tapthree:{containers:[]},swipe:{containers:[]},swipetwo:{containers:[]},wheelswipe:{containers:[]},rotate:{containers:[]}};var y={mousemove:{containers:[]},mouseleave:{containers:[]},mousewheel:{containers:[]},mouseup:{containers:[]}};function w(e,t,n){var r=e.gesture;var i=e.action;var a=e.item.targets;var s;for(var l=0;l<a.length;l++){s=a[l].target;if(s.active(a[l].data)){s.preventDefault&&("touchmove"===t.type||"touchstart"===t.type||"touchend"===t.type?o.a.WebkitHack.prevent():t.preventDefault());s[r][i]&&s[r][i].apply(this,[t,n,a[l].data]);if(s.exclusive())break}}}function S(e,t,n){var r=e.gesture;var i=e.item.targets;var a;for(var o=0;o<i.length;o++){a=i[o].target;if(a.active()){a.preventDefault&&t.preventDefault();a[r].apply(this,[t,n,i[o].data]);if(a.exclusive&&a.exclusive())break}}}function x(e,t){e.handlers.start=function(n,r){w.apply(this,[{gesture:t,action:"start",item:e},n,r])};e.handlers.end=function(n,r){w.apply(this,[{gesture:t,action:"end",item:e},n,r])};if(["swipe","swipetwo","wheelswipe","rotate"].includes(t)){e.handlers.update=function(n,r){w.apply(this,[{gesture:t,action:"update",item:e},n,r])};e.handlers.cancel=function(n,r){w.apply(this,[{gesture:t,action:"cancel",item:e},n,r])}}}function C(e,t){var n={id:p(t),options:{preventDefault:false}};Object.keys(e.handlers).forEach((function(t){n[t]=e.handlers[t]}));switch(t){case"swipe":n.options.useMomentum=true;n.options.inertia=.5;case"tap":n.options.touches=1;break;case"swipetwo":n.options.useMomentum=true;n.options.inertia=.5;case"taptwo":n.options.touches=2;break;case"tapthree":n.options.touches=3;break;case"wheelswipe":case"rotate":default:break}return n}function q(e){switch(e){case"taptwo":case"tapthree":return"tap";case"swipetwo":return"swipe";case"tap":case"swipe":case"wheelswipe":case"rotate":default:return e}}function E(e,t){var n=b[t].containers.filter((function(t){return t.container===e.container}))[0];if(!n){n={container:e.container,targets:[],handlers:{}};x(n,t);n.unbind=o()(e.container)[q(t)](C(n,t));b[t].containers.push(n)}v(n.targets,e);return n}function I(e,t){var n=y[t].containers.filter((function(t){return t.container===e.container}))[0];if(!n){n={container:e.container,targets:[],handler:null};n.handler=function(e){S.apply(this,[{gesture:t,item:n},e])};var r="".concat(t,".").concat(f).concat("mousewheel"===t?" DOMMouseScroll.".concat(f):"");var a=i()(e.container);a.on(r,n.handler);n.unbindJqueryEvents=function(){a.off(r,n.handler)}}v(n.targets,e);return n}function k(e){switch(e){case"tap":case"swipe":case"taptwo":case"swipetwo":case"wheelswipe":case"tapthree":case"rotate":return"touche";case"mousemove":case"mouseleave":case"mousewheel":case"mouseup":return"jquery";default:return}}var A=s["a"].extend({init:function e(){var t=this;l["a"].mixin(this);this.notification("ShiftToggle");this.notification("CtrlToggle");this.notification("KeyPressed");this.notification("MouseUp");this.notification("MouseLeave");u.on("keydown.".concat(f),(function(e){if(16!==e.which||t.shiftPressed){if(17===e.which&&!t.ctrlPressed){t.ctrlPressed=true;t.CtrlToggle.emit(t.ctrlPressed)}}else{t.shiftPressed=true;t.ShiftToggle.emit(t.shiftPressed)}}));u.on("keyup.".concat(f),(function(e){if(16===e.which&&t.shiftPressed){t.shiftPressed=false;t.ShiftToggle.emit(t.shiftPressed)}else if(17===e.which&&t.ctrlPressed){t.ctrlPressed=false;t.CtrlToggle.emit(t.ctrlPressed)}t.KeyPressed.emit(e.which)}));u.on("mouseup.".concat(f),(function(e){t.MouseUp.emit(e)}));u.on("mouseleave.".concat(f),(function(e){t.MouseLeave.emit(e)}));this.shiftPressed=false;this.ctrlPressed=false},addInteraction:function e(t,n,r,i,a){var o=v(d,{target:t,container:n,priority:r,types:{},data:a});if(!o)throw new Error("Duplicate add of interaction, potential leak detected.");i.forEach((function(e){if(!t[e])throw new Error("Interaction reciver does not implement the specified interaction type: ".concat(e));switch(e){case"tap":case"taptwo":case"swipe":case"swipetwo":case"wheelswipe":case"tapthree":case"rotate":o.types[e]=E(o,e);break;case"mousewheel":case"mousemove":case"mouseleave":case"mouseup":o.types[e]=I(o,e);break;default:throw new Error("The specified interaction type does not exist: ".concat(e))}}))},removeInteraction:function e(t,n){var r=g(d,t,"target");n&&(r=g(r,n,"container"));r&&r.length&&r.forEach((function(e){Object.keys(e.types).forEach((function(t){var n=e.types[t];m(n.targets,e);if(!n.targets.length)if("touche"===k(t)){o()(n.container).off("*",p(t));m(b[t].containers,n)}else n.unbindJqueryEvents()}));m(d,e)}))},removeAllInteraction:function e(){Object.keys(b).forEach((function(e){b[e].containers.forEach((function(t){o()(t.container).off("*",p(e))}));b[e].containers=[]}));d=[]}});var T=new A;t["a"]={ShiftToggle:T.ShiftToggle,CtrlToggle:T.CtrlToggle,KeyPressed:T.KeyPressed,MouseUp:T.MouseUp,MouseLeave:T.MouseLeave,addInteraction:T.addInteraction,removeInteraction:T.removeInteraction,removeAllInteraction:T.removeAllInteraction,preventGestures:function e(t){if(!t.gestureHandler)throw new Error("Interaction.js, preventGestures: Called with invalid binder");o.a.preventGestures(t.gestureHandler)},_unitTestExposure:{toucheHandlers:b}}},"3Q40":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("PX8M");var s='<div class="expression-input" tcl="expression-input">\n\t\n\t<label q-translation="{{labelTranslation}}" class="label"></label>\n\n\t<div class="lui-input-group">\n\n\t\t<input class="lui-input lui-input-group__item lui-input-group__input"\n\t\t\ttype="text"\n\t\t\tspellcheck="false"\n\t\t\tmaxlength="{{maxLength}}"\n\t\t\tng-class="{ \'lui-invalid\': !isValidExpression, \'force-editor\': shouldForceEditInExpressionEditor() }"\n\t\t\tng-model="expression"\n\t\t\tng-model-options="{ updateOn: \'blur\', allowInvalid: true }"\n\t\t\tng-change="onExpressionChange()"\n\t\t\tqva-activate="onExpressionActivate($event)" \n\t\t\tdata-tid="label-exp-input" />\n\n\t\t<button class="lui-button lui-input-group__item lui-input-group__button" \n\t\t\tq-title-translation="Tooltip.OpenExpressionEditor"\n\t\t\tqva-activate="openExpressionDialog( $event )">\n\n\t\t\t<span class="lui-button__icon lui-icon lui-icon--expression edit-expression" ng-class="{\'active\': isExpression}"></span>\n\t\t</button>\n\t\t\n\t</div>\n\n\t<div ng-if="shouldForceEditInExpressionEditor()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n\n</div>';var l=n("3I2r");var c=n("ESef");var u=n("CyFZ");a["default"].directive("qvExpressionInput",[function(){return{restrict:"E",scope:{expression:"=",isValidExpression:"=",labelTranslation:"@"},template:s,link:function e(t){o["a"].getApp().then((function(e){t.onExpressionChange=a;t.shouldForceEditInExpressionEditor=o;t.onExpressionActivate=s;t.openExpressionDialog=d;t.maxLength=c["a"].name;t.labelTranslation=t.labelTranslation||"metadata.labelExpression";var n=new l["a"].ExpressionValidator(e);a();var r=function e(n){t.isValidExpression=n.valid};n.Update.bind(r);t.$on("$destroy",(function(){n.Update.unbind(r)}));function a(){t.isExpression=f(t.expression);n.validate(t.expression)}function o(){return t.expression&&t.expression.length>c["a"].name}function s(e){if(!o())return;i()(e.target).blur();d()}function d(){var e={expr:t.expression,title:t.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"};u["a"].show(e).then((function(e){t.expression=e;a()}))}function f(e){return(e||"").length>0}}))}}}])},"3ex9":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("4nJ1");var s=n("MGTR");var l=n("z4LI");var c=n("5xMv");var u=n("6uJb");var d;function f(e,t){a["default"].getService("qvConfirmDialog").show({message:u["default"].get(e),icon:"cogwheel"}).closed.then((function(e){e&&t.apply()}))}function p(e){if(!d)throw new TypeError("Permissions are not available yet. Make sure you have initialized this module with init().");switch(e){case"measure":return d.createMeasure;case"dimension":return d.createDimension;case"visualization":return d.createMasterobject;case"odagLink":return d.createOdagLink;case"dynamicView":return d.createDynamicView;default:throw new TypeError("'".concat(e,"' is an unknown type."))}}var h={init:function e(t,n){t&&(d=i.a.extend({},t,n))},getContextMenuAddToText:function e(t){var n=c["a"].selectedObject;if(t&&"odaglinks"===t)return"library.addtoAppNavigation";return n&&"sheetCell"===n.type?"contextMenu.addToSheet":"contextMenu.addToVisualization"},getAddToOptions:function e(){var t=c["a"].selectedObject;var n=null;if(t&&l["a"].isInEditMode()){n={};"gridCell"===t.type?n.object=true:"sheetCell"===t.type&&(n.sheet=true)}return n},getAddToText:function e(t){var n=c["a"].selectedObject;if(n&&l["a"].isInEditMode()){if(t&&"odaglinks"===t)return"library.addtoAppNavigation";if("gridCell"===n.type)return"library.addtoVisualization";if("sheetCell"===n.type)return"library.addtosheet";return""}return null},addItemToSheetOrVisualization:function e(t,n,r){if(!this.isAddToMode())return;var i=c["a"].selectedObject;var a={item:t};n&&(a.event=n);i&&"gridCell"===i.type&&(a.cell=i.customObject);r&&(a.delayClassification=true);s["a"].publish("/ui/library/addToSheet",a)},librarySearchFn:function e(t,n,r){if(!n||""===n)return true;r=r||function(e,t){return o["a"].match([e.name],t)};return r(t,n.toLowerCase())},libraryMultiSearch:function e(t,n,r){t.match={};if(!n||""===n)return true;n=n.toLowerCase();var i=false;for(var a=0;a<r.length;++a){var s=r[a];if(o["a"].match(t[s],n)){i=true;t.match[s]=true}}return i},itemDblClickHandler:function e(t){this.isAddToSheetMode()&&s["a"].publish("/ui/library/addToSheet",{item:t})},removeDialog:f,editDialog:f,hasLinks:function e(t,n){return n.get(t).then((function(e){return e.getLinkedObjects().then((function(e){return 0!==e.length}))}))},toggleSelection:function e(t,n){var r=i()(n.currentTarget);t.selected=!t.selected;if(!t.selected){r.off("qv-outside");return false}r.on("qv-outside",(function(e){var n=i()(e.target);if(1===n.closest("#library-preview").length||1===n.closest(".qv-contextmenu").length)return;t.selected=false;r.off("qv-outside")}));return true},removeSelection:function e(t){i.a.each(t,(function(e,t){t.selected=false}))},localeOrderBy:function e(t,n){var r="qps-ploc"===u["default"].language?"en-US":u["default"].language;if(t){var i=function e(t,n){return t.localeCompare(n,r)};n&&n instanceof Function&&(i=function e(t,i){return n(t).localeCompare(n(i),r)});t.sort(i)}return t},isAddToSheetMode:function e(){return l["a"].model&&l["a"].isInEditMode()&&l["a"].view===l["a"].Views.sheet&&l["a"].model.layout.permissions.update},isAddToVisualizationMode:function e(){return l["a"].isInEditMode()&&(l["a"].view===l["a"].Views.object&&l["a"].model.layout.permissions.update||l["a"].view===l["a"].Views.masterObject)},isAddToMode:function e(){return this.isAddToSheetMode()||this.isAddToVisualizationMode()},hasAppUpdatePermission:function e(){return d.update},permissionToCreate:p,toggleTableSelect:function e(t,n){t.forEach((function(e){"assets-tab-field"===e.id&&(e.hasTableFilter=n)}))}};t["a"]=h},"3kDd":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("4nJ1");var o=n("RBCx");var s=n("sWge");t["a"]={createProperties:d,convertProperties:f};function l(e){if("string"===typeof e)e={qDef:{qDef:e}};else if(e.qType){e.qDef=e.qDef||{};e.qDef.cId=a["a"].generateId()}return e}function c(e){if("string"===typeof e)e={qDef:{qFieldDefs:[e]}};else if(e.qType){e.qDef=e.qDef||{};e.qDef.cId=a["a"].generateId()}return e}function u(e){if("string"===typeof e)return 0===e.indexOf("=");if(e.qType)return"measure"===e.qType;return!!(e.qDef&&e.qDef.qDef||e.qSortBy)}function d(e,t,n,r){return s["a"].all([o["a"].getExtensionType(t),o["a"].getInitialProperties(t)]).then((function(t){var o=new s["a"];var d=t[0];var f=t[1];d.mapProperties();var p=d.getCreatePropertyHandler.call(d,e);p.setProperties(f);if(n){var h=n.slice(0);if(f.qListObjectDef){h.forEach((function(e,t){if(0===t){f.qListObjectDef.qDef||(f.qListObjectDef.qDef={});f.qListObjectDef.qDef.qFieldDefs=[e]}else{f.qListObjectDef.qExpressions||(f.qListObjectDef.qExpressions=[]);f.qListObjectDef.qExpressions.push({qDef:{qDef:e}})}}));o.resolve(f)}else if(f.qHyperCubeDef||f.boxplotDef){var v=function e(t){var n;var r;var a=true;if(t.length<=0)return o.resolve(f);var s=t.shift();if(u(s)){n=l(s);r=i.a.extend(a,{},n);p.addMeasure(r,void 0,void 0,true).then((function(r){i.a.extend(a,r,n);e(t)}))}else{n=c(s);r=i.a.extend(a,{},n);p.addDimension(r).then((function(r){i.a.extend(a,r,n);e(t)}))}return};v(h)}else o.resolve(f)}else o.resolve(f);return o.promise.then((function(e){r&&a["a"].extend(true,e,r);var t=d.exportProperties&&d.importProperties;if(t){var n=d.importProperties(d.exportProperties({qProperty:e},d.options.hyperCubePath),e,d,d.options.hyperCubePath).qProperty;return n}return e}))}))}function f(e,t,n,r){var i=e.getEffectiveProperties();var l=o["a"].getExtensionType(t);var c=o["a"].getExtensionType(n);var u=o["a"].getInitialProperties(t);return s["a"].all([i,c,l,u]).then((function(e){var n=a["a"].extend(true,{},e[0]);var i={qProperty:n};r&&a["a"].extend(true,i.qProperty,r);var o=e[1];var s=e[2];var l=e[3];var c="table"===t&&"function"===typeof o.exportTableProperties?o.exportTableProperties:o.exportProperties;var u=s.importProperties(c(i,void 0,true),l,s).qProperty;u.qInfo&&u.qInfo.qId&&delete u.qInfo.qId;return u}))}},"3uWz":function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a=n("5xMv");var o=n("9Ggg");var s='<div class="drag-odag-navpoint" qva-outside-ignore-for="{{\'odag-navpoint-popover_\' + item.id}}">\n\t<div class="odag-nav-point-cell" ng-class="{\'active\': item.id === selObject.id, \'popoverOpen\': popover, \'invalid\': item.invalid }" ng-style="item.style" ng-click="onODAGNavPointClicked(item)">\n\t\t<qv-progress-circle ng-if="!inEditMode && !item.invalid" class=" odag-progress-circle" percentage="rowCountPercentage"></qv-progress-circle>\n\t\t<div class="cell-name" ng-if="inEditMode || !item.invalid" title="{{item.data.title}}">{{item.data.title}}</div>\n\t\t<div class="cell-name" ng-if="!inEditMode && item.invalid " q-title-translation="odag.toolbar.navpoint.invalid" q-translation="odag.toolbar.navpoint.invalid"></div>\n\t\t<div ng-if="!inEditMode && !item.invalid" class="arrow lui-icon lui-icon--triangle-bottom"></div>\n\t\t<button ng-if="inEditMode && item.invalid" class="lui-fade-button delete-invalid-navpoint" ng-click="deleteInvalidNavPoint($event, item)">\n\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--bin"></span>\n\t\t</button>\n\t</div>\n</div>';var l=n("wIyQ");var c=n("6uJb");var u=n("/2No");var d=n("3A43");var f='<lui-popover id="odag-toolbar-navpoint-popover" ng-class="expandedItem.item? \' request-expanded\' : \'\'" class="odag-toolbar-navpoint-popover"\n x-arrow="arrow">\n\t<lui-popover-header ng-class="{\'invalid\': header.invalid}">\n\t\t<img qva-prevent-drag ng-src="{{ header.imgSrc }}" class="app-thumbnail-img" />\n\t\t<div class="title-description-container">\n\t\t\t<lui-popover-title title="{{header.templateName}}">{{header.templateName}}</lui-popover-title>\n\t\t\t<lui-popover-title ng-if="!header.invalid" class="desciption" title="{{header.templateDescription}}">{{header.templateDescription}}</lui-popover-title>\n\t\t</div>\n\t</lui-popover-header>\n\n\t<lui-popover-body class="odag-popup-body" qva-outside-ignore-for="odag-request-menu">\n\t\t<odag-app-list2\n\t\t\tclass="odag-app-list-container"\n\t\t\tapplist="generatedApps"\n\t\t\treload-app="reloadApp"\n\t\t\tload-generated-apps="loadGeneratedApps"\n\t\t\tset-selection-state="setSelectionState"\n\t\t\tgenerate-app-in-progress="generateAppInProgress"\n\t\t\texpanded-item="expandedItem"\n\t\t\tis-header-invalid="header.invalid"\n\t\t\tis-generate-btn-disabled="isGenerateBtnDisabled"\n\t\t\tcan-apply-selections-for-reload="canApplySelectionsForReload"\n\t\t\texpanded-item-selection-state="expandedItemSelectionState"\n\t\t\tloading="loadingContent.value"\n\t\t\tdelete-clicked="deleteGenAppClicked"\n\t\t\ton-apply-selections-callback="onApplySelections"\n\t\t\topen-app-callback="item.openAppCallback">\n\t\t</odag-app-list2>\n\t\t<div ng-if="maxGeneratedAppLimitReached && !dismissedMaxGenAppMsg && !expandedItem.item" class="odag-max-app-limit-reached">\n\t\t\t<div class="max-app-text" q-translation="odag.toolbar.napvoint.popup.maxAppLimitReached"></div>\n\t\t\t<button class="lui-fade-button close-button" q-title-translation="Common.Close" ng-click="dismissMaxGenAppMsgClicked()">\n\t\t\t\t<span class="lui-button__icon  lui-icon lui-icon--small  lui-icon--close"></span>\n\t\t\t</button>\n\t\t</div>\n\t</lui-popover-body>\n\t<div ng-if="showInfoPopup" class="infoPopup">\n\t\t<div class="info-constraints-header">{{infoHeader}}</div>\n\t\t<div class="info-row-count-container">\n\t\t\t<div class="info-section" q-translation="odag.toolbar.navpoint.popup.info.row.count.header"></div>\n\t\t\t<div class="info-row-count-content">\n\t\t\t\t<div class="info-row-count-progress-circle">\n\t\t\t\t\t<circle-chart model=\'circleModel\'></circle-chart>\n\t\t\t\t</div>\n\t\t\t\t<div class="info-row-count-current">\n\t\t\t\t\t<div class="info-row-count-header" q-translation="odag.toolbar.navpoint.popup.info.row.count.current.header"></div>\n\t\t\t\t\t<div class="">{{actualRowEstFormatted}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="info-row-count-constraint">\n\t\t\t\t\t<div class="info-row-count-header" q-translation="odag.toolbar.navpoint.popup.info.row.count.constraint.header"></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<= {{maxRowExpressionCountFormatted}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="info-section" q-translation="odag.toolbar.navpoint.popup.info.field.header"></div>\n\t\t\t<div class="info-field-header">\n\t\t\t\t<div class="info-field" q-translation="odag.toolbar.navpoint.popup.info.field.table.header"></div>\n\t\t\t\t<div class="info-value" q-translation="odag.toolbar.navpoint.popup.info.current.table.header"></div>\n\t\t\t\t<div class="info-constraint" q-translation="odag.toolbar.navpoint.popup.info.constraint.table.header"></div>\n\t\t\t</div>\n\t\t\t<div class="info-field-values">\n\t\t\t\t<div ng-repeat="binding in bindings | orderBy: \'-hasConstraint\' " class="info-field-row" ng-if="bindings.length">\n\t\t\t\t\t<div class="info-field-data">{{binding.fieldName}}</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="info-value-data">\n\t\t\t\t\t\t<div class="info-field-checkmark" ng-if="binding.bindingPassesConstraint">\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--tick" aria-hidden="true"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="info-field-warning" ng-if="!binding.bindingPassesConstraint">\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--warning-triangle" aria-hidden="true"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="binding.hasConstraint">{{binding.values.length}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="info-constraint-data">{{binding.constraint}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<lui-popover-footer>\n\t\t<lui-button ng-if="!expandedItem.item" class="info-button" ng-class="{\'lui-button--danger\': bindingsPass, \'lui-active\': showInfoPopup}"\n\t\t x-variant="fade" ng-click="onNavPointInfoClicked($event)">\n\t\t\t<span class="lui-icon  lui-button__icon lui-icon--info"></span>\n\t\t</lui-button>\n\t\t<lui-button ng-if="!expandedItem.item" tid="odag-toolbar-navpoint-popover_generate_app_button" ng-disabled="isGenerateBtnDisabled()"\n\t\t ng-click="onGenerateAppClicked()" q-translation="odag.toolbar.navpoint.popup.generate.app"></lui-button>\n\t</lui-popover-footer>\n</lui-popover>';var p=n("f4pQ");var h=n("qIEf");var v=n.n(h);var m=n("5R92");var g='<lui-popover x-variant="{{::variant}}" x-arrow="arrow" qva-outside-ignore-for="allOutside">\n\t<lui-popover-body class="lui-nopad">\n\t\t<ul class="lui-list odag-request-menu" tid="odag-request-menu">\n\t\t\t<li class="lui-list__item" style="cursor: pointer" ng-disabled="!canOpenApp()" ng-click="openApp( $event )" tid="openAppFromMenu">\n\t\t\t\t<span class="lui-list__text lui-list__action"\n\t\t\t\t\tq-translation="odag.toolbar.navpoint.popup.request.menu.openApp">\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t\t<li class="lui-list__item" style="cursor: pointer" ng-disabled="!canReloadApp()" ng-click="reloadApp( $event )" tid="reloadFromRequestMenu">\n\t\t\t\t<span class="lui-list__text lui-list__action"\n\t\t\t\t\tq-translation="odag.toolbar.navpoint.popup.request.reload">\n\t\t\t\t</span>\n\t\t\t</li>\t\t\t\n\t\t\t<li class="lui-list__item" style="cursor: pointer" ng-click="deleteApp( $event )" tid="deleteAppFromMenu">\n\t\t\t\t<span class="lui-list__text lui-list__action"\n\t\t\t\t\tq-translation="odag.toolbar.navpoint.popup.request.menu.deleteApp">\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>';var b='<lui-popover x-variant="{{::variant}}" x-arrow="arrow" qva-outside-ignore-for="allOutside">\n\t<lui-popover-body class="lui-nopad">\n\t\t<ul class="lui-list odag-request-menu" tid="odag-request-reload-menu">\n\t\t\t<li class="lui-list__item" style="cursor: pointer" ng-disabled="!canReloadApp()" ng-click="reloadApp( $event )" tid="reloadFromMenu">\n\t\t\t\t<span class="lui-list__text lui-list__action"\n\t\t\t\t\tq-translation="odag.toolbar.navpoint.popup.request.reload">\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t\t<li class="lui-list__item" style="cursor: pointer" ng-disabled="!canApplySelectionsReloadApp()" ng-click="applySelectionsReloadApp( $event )" tid="applySelectionsReloadFromMenu">\n\t\t\t\t<span class="lui-list__text lui-list__action"\n\t\t\t\t\tq-translation="odag.toolbar.navpoint.popup.request.applySelections.reload">\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t\t<li class="lui-list__item" style="cursor: pointer" ng-disabled="!canCopyApplySelectionsReloadApp()" ng-click="copyApplySelectionsReloadApp( $event )" tid="copyApplySelectionsReloadFromMenu">\n\t\t\t\t<span class="lui-list__text lui-list__action"\n\t\t\t\t\tq-translation="odag.toolbar.navpoint.popup.request.copyAndApplySelections.reload">\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>';var y='<div class="odag-app-list2" ng-class="$ctrl.variant">\n\t<div ng-if="$ctrl.applist.length === 0 && !$ctrl.loading" class="description">{{$ctrl.helpTextNoGeneratedApps}}</div>\n\t<ul ng-if="$ctrl.applist.length && !$ctrl.loading && !$ctrl.expandedItem.item" class="generated-apps-list">\n\t\t<li ng-repeat="genAppitem in $ctrl.applist" class="list-item" ng-click="$ctrl.rowClicked(genAppitem)">\n\t\t\t<div class="generated-app-item request-header">\n\t\t\t\t<div class="request-first">\n\t\t\t\t\t<div class="expander lui-icon lui-icon--triangle-right"></div>\n\t\t\t\t\t<div class="request-name-timestamp-area">\n\t\t\t\t\t\t<div class="request-first-top-line">\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class="name" title="{{genAppitem.name}}" ng-class="{\'generating\': genAppitem.state === \'validating\' || genAppitem.state === \'queued\' || genAppitem.state === \'loading\' || genAppitem.state === \'canceling\'}">{{genAppitem.name}}</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t<div class="request-first-bottom-line timestamp">{{genAppitem.lastLoadedTime ? genAppitem.lastLoadedTime : genAppitem.timestamp }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="request-second">\n\t\t\t\t\t<button class="status-button lui-fade-button" qva-outside-ignore-for="allOutside" ng-click="$ctrl.statusClicked($event, genAppitem)">\n\t\t\t\t\t\t<span ng-hide="genAppitem.loading" data-tid="odag-app-statusIcon-{{genAppitem.status}}" class="lui-fade-button__icon lui-icon lui-icon--{{genAppitem.status}}"></span>\n\t\t\t\t\t\t<div ng-if="genAppitem.loading" class="genAppLoading qv-loader"></div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button ng-if="genAppitem.state === \'validating\' || genAppitem.state === \'queued\' || genAppitem.state === \'loading\'" class="lui-fade-button" title={{genAppitem.deleteIconTooltip}} ng-click="$ctrl.deleteClicked($event, genAppitem)">\n\t\t\t\t\t  <span class="lui-fade-button__icon  lui-icon lui-icon--remove"></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button ng-if="!$ctrl.requestInProgress( genAppitem )" class="lui-fade-button" q-title-translation="odag.toolbar.navpoint.popup.request.moreMenu.tooltip" ng-click="$ctrl.moreMenuClicked($event, genAppitem)" ng-class="{\'lui-active\': $ctrl.moreMenuPopupItem === genAppitem}">\n\t\t\t\t\t  <span class="lui-fade-button__icon  lui-icon lui-icon--more"></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button ng-if="!$ctrl.requestInProgress( genAppitem )" ng-disabled="!(genAppitem.state === \'succeeded\' || genAppitem.state === \'failed\' || genAppitem.state === \'canceled\') || !genAppitem.generatedAppId" tid="odag-appList-openAppBtn" class="lui-fade-button" q-title-translation="{{ $ctrl.openAppCallback ? \'odag.toolbar.navpoint.popup.request.openApp.generic.tooltip\' : \'odag.toolbar.navpoint.popup.request.openApp.tooltip\'}}" ng-click="$ctrl.openAppClicked($ctrl, $event, genAppitem)">\n\t\t\t\t\t  <span class="lui-fade-button__icon  lui-icon lui-icon--new-tab"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\t\t\t\n\t\t</li>\n\t</ul>\n\t<div ng-if="$ctrl.expandedItem.item" class="gen-item-expand" qva-outside="$ctrl.onOutsideClick( $event )">\n\t\t<div class="details-container">\n\t\t\t<div class="request-header" ng-click="$ctrl.rowClicked(null)">\n\t\t\t\t<div class="request-first">\n\t\t\t\t\t<div class="expander lui-icon lui-icon--triangle-bottom" tid="odag-applist-expand"></div>\n\t\t\t\t\t<div class="request-name-timestamp-area">\n\t\t\t\t\t\t<div class="request-first-top-line">\n\t\t\t\t\t\t\t<div class="name" title="{{$ctrl.expandedItem.item.name}}" ng-class="{\'generating\': $ctrl.expandedItem.item.state === \'validating\' || $ctrl.expandedItem.item.state === \'queued\' || $ctrl.expandedItem.item.state === \'loading\' || $ctrl.expandedItem.item.state === \'canceling\'}">{{$ctrl.expandedItem.item.name}}</div>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="request-first-bottom-line timestamp" >{{$ctrl.expandedItem.item.lastLoadedTime ? $ctrl.expandedItem.item.lastLoadedTime : $ctrl.expandedItem.item.timestamp }}</div>\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div class="request-second">\n\t\t\t\t\t<button class="status-button lui-fade-button" qva-outside-ignore-for="allOutside" ng-click="$ctrl.statusClicked($event, $ctrl.expandedItem.item)">\n\t\t\t\t\t\t<span ng-if="!$ctrl.expandedItem.item.loading" data-tid="odag-expandedApp-statusIcon-{{genAppitem.status}}" class="lui-fade-button__icon lui-icon lui-icon--{{$ctrl.expandedItem.item.status}}"></span>\n\t\t\t\t\t\t<div ng-if="$ctrl.expandedItem.item.loading" class="genAppLoading qv-loader"></div>\n\t\t\t\t\t</button>\t\t\t\t\t\t\t\t\n\t\t\t\t\t<button ng-if="$ctrl.expandedItem.item.state === \'validating\' || $ctrl.expandedItem.item.state === \'queued\' || $ctrl.expandedItem.item.state === \'loading\'" class="lui-fade-button" title={{$ctrl.expandedItem.item.deleteIconTooltip}} ng-click="$ctrl.deleteClicked($event, $ctrl.expandedItem.item)">\n\t\t\t\t\t  <span class="lui-fade-button__icon  lui-icon lui-icon--remove"></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button ng-if="$ctrl.expandedItem.item.state === \'succeeded\' || $ctrl.expandedItem.item.state === \'failed\' || $ctrl.expandedItem.item.state === \'canceled\'" tid="odag-expandedGenApp-openAppBtn" class="lui-fade-button" q-title-translation="{{ $ctrl.openAppCallback ? \'odag.toolbar.navpoint.popup.request.openApp.generic.tooltip\' : \'odag.toolbar.navpoint.popup.request.openApp.tooltip\'}}" ng-disabled="!($ctrl.expandedItem.item.state === \'succeeded\' || $ctrl.expandedItem.item.state === \'failed\' || $ctrl.expandedItem.item.state === \'canceled\') || !$ctrl.expandedItem.item.generatedAppId" ng-click="$ctrl.openAppClicked($ctrl, $event, $ctrl.expandedItem.item)">\n\t\t\t\t\t  <span class="lui-fade-button__icon  lui-icon lui-icon--new-tab"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t<div class="generateAppInput">\n\t\t\t\t<input class="lui-input" ng-disabled="$ctrl.generateAppInProgress || !$ctrl.expandedItem.item.generatedAppId || $ctrl.expandedItem.item.state === \'queued\' || $ctrl.expandedItem.item.state === \'loading\' || $ctrl.expandedItem.item.state === \'validating\' || $ctrl.expandedItem.item.state === \'canceling\'" ng-model="$ctrl.inputName" type="text" name="name" maxlength="255" ng-blur="$ctrl.onBlurGenAppName()" ng-change="$ctrl.validateAppName()" qv-enter="$ctrl.inputKeyEnter($event)" ng-class="{ \'lui-invalid\': !$ctrl.appNameValid }"/>\n\t\t\t</div>\n\t\t\t<div class="action-button-section">\n\t\t\t\t<div class="lui-buttongroup reload-button">\n\t\t\t\t\t<lui-button ng-disabled="!$ctrl.canReloadApp( $ctrl.expandedItem.item )" ng-click="$ctrl.reloadClicked($event, $ctrl.expandedItem.item)" q-translation="odag.toolbar.navpoint.popup.request.reload"></lui-button>\n\t\t\t\t\t<lui-button ng-disabled="!$ctrl.canReloadApp( $ctrl.expandedItem.item ) " class= "reload-drop" tid="odag-reload-dropdown"\n ng-click="$ctrl.onReloadMenuClicked( $event, $ctrl.expandedItem.item )">\n\t\t\t\t\t\t<span class="lui-icon lui-caret"></span>\t\t\t\t\t\t\n\t\t\t\t\t</lui-button>\n\t\t\t\t</div>\n\t\t\t\t<lui-button ng-disabled="$ctrl.expandedItem.item.state !== \'succeeded\' && $ctrl.expandedItem.item.state !== \'failed\' && $ctrl.expandedItem.item.state !== \'canceled\' " tid="odag-applist-delete-app" class="delete-button" ng-click="$ctrl.deleteClicked($event, $ctrl.expandedItem.item)" ><span class="lui-icon  lui-button__icon lui-icon--bin"></span></lui-button>\n\t\t\t</div>\n\n\t\t\t<div class="tab-section">\n\t\t\t\t<div class="tab-header">\n\t\t\t\t\t<ul class="lui-tabset lui-tabset--fill">\n\t\t\t\t\t\t<li class="lui-tab" tabindex="0" ng-class="{\'lui-active\': $ctrl.selectedTab === \'info\' }" ng-click="$ctrl.selectTab(\'info\')">\n\t\t\t\t\t\t\t<span class="lui-tab__text tab-label" q-translation="odag.toolbar.navpoint.popup.request.tab.info"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="lui-tab" tabindex="0" ng-class="{\'lui-active\': $ctrl.selectedTab === \'selections\' }" ng-click="$ctrl.selectTab(\'selections\')">\n\t\t\t\t\t\t\t<span class="lui-tab__text tab-label" q-translation="odag.toolbar.navpoint.popup.request.tab.selections"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="lui-tab" tabindex="0" ng-class="{\'lui-active\': $ctrl.selectedTab === \'status\' }" ng-click="$ctrl.selectTab(\'status\')">\n\t\t\t\t\t\t\t<span class="lui-tab__text tab-label" q-translation="odag.toolbar.navpoint.popup.request.tab.status"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="tab-contents">\n\t\t\t\t\t<div class="tab-content selection-tab" ng-if="$ctrl.selectedTab === \'selections\'">\n\t\t\t\t\t\t<div class="info-section selection-tab-top">\n\t\t\t\t\t\t\t<div class="info-text" q-translation="odag.toolbar.navpoint.popup.request.tab.selections.helpText"></div>\n\t\t\t\t\t\t\t<div class="apply-selections-button">\n\t\t\t\t\t\t\t\t<lui-button ng-disabled="($ctrl.expandedItem.item.state !== \'succeeded\' && $ctrl.expandedItem.item.state !== \'failed\' && $ctrl.expandedItem.item.state !== \'canceled\') || $ctrl.applyInProgress" ng-if="$ctrl.expandedItem.item.canApplySelections" ng-click="$ctrl.applySelectionsClicked($ctrl.expandedItem.item)" q-translation="Common.Apply"></lui-button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="selections-field-header">\n\t\t\t\t\t\t\t<div class="selections-field" q-translation="odag.toolbar.navpoint.popup.request.tab.selections.field"></div>\n\t\t\t\t\t\t\t<div class="selections-value" q-translation="odag.toolbar.navpoint.popup.request.tab.selections.values"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="selections-field-values">\n\t\t\t\t\t\t\t<div ng-if="$ctrl.expandedItem.item.selectionsState && $ctrl.expandedItem.item.selectionsState.length" ng-repeat="selection in $ctrl.expandedItem.item.selectionsState" class="selections-field-row">\n\t\t\t\t\t\t\t\t<div class="selections-field-data">{{selection.selectionAppParamName}}</div>\n\t\t\t\t\t\t\t\t<div class="selections-value-data">{{selection.valuesDisplayString}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div ng-if="!$ctrl.expandedItem.item.selectionsState" q-translation="odag.toolbar.navpoint.popup.request.tab.noSelectedValues"> </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="selections-no-selections" ng-if="$ctrl.expandedItem.item.selectionsState && $ctrl.expandedItem.item.selectionsState.length === 0" q-translation="odag.toolbar.navpoint.popup.request.tab.selections.noselections" >\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tab-content" ng-if="$ctrl.selectedTab === \'info\'">\n\t\t\t\t\t\t<div class="info-section">\n\t\t\t\t\t\t\t<div class="info-section-label" q-translation="odag.toolbar.navpoint.popup.request.tab.info.status"></div>\n\t\t\t\t\t\t\t<div class="info-section-value" q-translation="odag.toolbar.navpoint.popup.request.tab.status.{{$ctrl.expandedItem.item.state}}"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="info-section">\n\t\t\t\t\t\t\t<div class="info-section-label" q-translation="odag.toolbar.navpoint.popup.request.tab.info.appOwner"></div>\n\t\t\t\t\t\t\t<div ng-if="!$ctrl.isOdagSaas" class="info-section-value">{{$ctrl.expandedItem.item.owner.userDirectory}}\\{{$ctrl.expandedItem.item.owner.userId}} ({{$ctrl.expandedItem.item.owner.name}})</div>\n\t\t\t\t\t\t\t<div ng-if="$ctrl.isOdagSaas" class="info-section-value">({{$ctrl.expandedItem.item.owner.name}})</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="info-section" ng-if="!$ctrl.isOdagSaas">\n\t\t\t\t\t\t\t<div class="info-section-label" q-translation="odag.toolbar.navpoint.popup.request.tab.info.publishToStream"></div>\n\t\t\t\t\t\t\t<div class="info-section-value"> {{$ctrl.expandedItem.item.publishToStreamName}} </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tab-content odag-request-status-content" ng-if="$ctrl.selectedTab === \'status\'">\n\t\t\t\t\t\t<div class="info-section">\n\t\t\t\t\t\t\t<div class="info-section-label" q-translation="odag.toolbar.navpoint.popup.request.tab.info.lastCompletedRun"></div>\n\t\t\t\t\t\t\t<div class="info-section-value">{{$ctrl.expandedItem.item.lastLoadedTime ? $ctrl.expandedItem.item.lastLoadedTime : \'Common.None\' | translate }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-repeat="message in $ctrl.expandedItem.item.statusMessageArray" class="info-field-row" ng-if="$ctrl.expandedItem.item.statusMessageArray.length" ng-bind="message.message"></div>\n\t\t\t\t\t\t<div ng-repeat="error in $ctrl.expandedItem.item.progressErrors" class="info-field-row info-field-row-error" ng-if="$ctrl.expandedItem.item.progressErrors.length" ng-bind="error.message"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>';var w=n("acVu");r["default"].nativeComponent("odagAppList2",{bindings:{applist:"<",loading:"<",deleteClicked:"<",isGenerateBtnDisabled:"<",canApplySelectionsForReload:"<",isHeaderInvalid:"<",loadGeneratedApps:"<",setSelectionState:"<",expandedItemSelectionState:"<",onApplySelectionsCallback:"<",openAppCallback:"<",reloadApp:"<",generateAppInProgress:"=",expandedItem:"=",variant:"@"},controller:["$element","$timeout","luiPopover",function(e,t,n){var r=this;r.helpTextNoGeneratedApps=c["default"].get("odag.toolbar.navpoint.popup.noApps");r.selectedTab="info";r.moreMenuPopup=null;r.moreMenuPopupItem=null;r.reloadMenuPopup=null;r.inputName="";r.appNameValid=true;r.applyInProgress=false;r.isOdagSaas=Object(w["b"])("ODAG_SAAS_ENABLED");r.openAppClicked=function(e,t,n){t.preventDefault();t.stopPropagation();if("function"===typeof e.openAppCallback)e.openAppCallback(n.generatedAppId,n.targetSheet?n.targetSheet:null);else if(n.generatedAppId&&p["a"].ODAG_TERMINAL_STATES.indexOf(n.state)>-1){var r;r=n.targetSheet?"".concat(u["a"].rootPath,"sense/app/").concat(n.generatedAppId,"/sheet/").concat(n.targetSheet):"".concat(u["a"].rootPath,"sense/app/").concat(n.generatedAppId);window.open(r)}};r.renameGenApp=function(e,t){p["a"].renameGenApp(r.expandedItem.item.parentContext.app,e,t).then((function(){r.loadGeneratedApps()}))};r.applySelectionsClicked=function(e){r.applyInProgress=true;p["a"].applySelections(e).then((function(){r.onApplySelectionsCallback&&r.onApplySelectionsCallback();r.applyInProgress=false}))};r.$doCheck=function(){var e=this;if(this.applist&&this.expandedItem.item){var t=this.applist.filter((function(t){return t.requestId===e.expandedItem.item.requestId}))[0];if(t){this.expandedItem.item=t;if(this.expandedItemSelectionState&&this.isOdagSaas){this.expandedItem.item.selectionsState=this.expandedItemSelectionState;this.expandedItem.item.canApplySelections=true}}else this.expandedItem.item=null}r.expandedItem&&r.expandedItem.item&&r.requestInProgress(this.expandedItem.item)&&r.applist.some((function(e){if(e.requestId===r.expandedItem.item.requestId&&e.name===r.expandedItem.item.name&&r.inputName!==e.name){r.inputName=e.name;return true}return false}))};r.moreMenuClicked=function(e,t){e.preventDefault();e.stopPropagation();if(r.moreMenuPopup)r.moreMenuPopup.close();else{r.moreMenuPopupItem=t;r.moreMenuPopup=n.show({template:g,alignTo:e.target,variant:null,controller:["$scope",function(e){e.canOpenApp=function(){return t.generatedAppId&&p["a"].ODAG_TERMINAL_STATES.indexOf(t.state)>-1};e.openApp=function(n){if(e.canOpenApp()){r.moreMenuPopup.close();r.openAppClicked(r,n,t)}};e.canReloadApp=function(){return r.canReloadApp(t)};e.reloadApp=function(n){n.preventDefault();n.stopPropagation();if(e.canReloadApp()){r.moreMenuPopup.close();return r.reloadApp(t)}return};e.deleteApp=function(e){e.preventDefault();e.stopPropagation();r.moreMenuPopup.close();r.deleteClicked(e,t)}}],closeOnResize:true,closeOnEscape:true});r.moreMenuPopup.closed.then((function(){r.moreMenuPopup=null;r.moreMenuPopupItem=null}))}};r.onOutsideClick=function(){r.expandedItem.item=null};r.rowClicked=function(e){r.moreMenuPopup&&r.moreMenuPopup.close();r.reloadMenuPopup&&r.reloadMenuPopup.close();r.expandedItem.item=e;if(r.expandedItem.item){r.inputName=r.expandedItem.item.name;r.setSelectionState()}};r.reloadClicked=function(e,t){e.preventDefault();e.stopPropagation();r.reloadApp(t)};r.requestInProgress=function(e){var t=false;switch(e.state){case p["a"].ODAG_STATE.VALIDATING:case p["a"].ODAG_STATE.QUEUED:case p["a"].ODAG_STATE.LOADING:case p["a"].ODAG_STATE.CANCELING:t=true;break;default:break}return t};r.canReloadApp=function(e){var t=true;t=e&&!r.isHeaderInvalid&&!r.generateAppInProgress&&!r.requestInProgress(e);return t};r.validateAppName=function(){var e=true;r.inputName&&m["a"].allowedChars(r.inputName)||(e=false);r.appNameValid=e};r.statusClicked=function(e,t){e.preventDefault();e.stopPropagation();r.moreMenuPopup&&r.moreMenuPopup.close();r.reloadMenuPopup&&r.reloadMenuPopup.close();if(r.expandedItem.item===t)r.expandedItem.item=null;else{r.selectedTab="status";r.expandedItem.item=t;r.scrollIfNecessary()}};r.selectTab=function(e){r.selectedTab=e;r.scrollIfNecessary()};r.inputKeyEnter=function(e){var t=e.target;t.blur()};r.onBlurGenAppName=function(){if(r.appNameValid)r.renameGenApp(r.expandedItem.item.requestId,r.inputName);else{r.inputName=r.expandedItem.item.name;r.validateAppName()}};r.scrollIfNecessary=function(){"status"===r.selectedTab&&t((function(){var t=v()(e.find(".tab-contents"));t.scrollTop(t[0].scrollHeight)}))};r.onReloadMenuClicked=function(e,t){e.preventDefault();e.stopPropagation();if(r.reloadMenuPopup)r.reloadMenuPopup.close();else{r.reloadMenuPopup=n.show({template:b,alignTo:e.target,variant:null,controller:["$scope",function(e){e.canReloadApp=function(){return r.canReloadApp(t)};e.reloadApp=function(n){n.preventDefault();n.stopPropagation();if(e.canReloadApp()){r.reloadMenuPopup.close();return r.reloadApp(t)}return};e.canApplySelectionsReloadApp=function(){return r.canApplySelectionsForReload()};e.canCopyApplySelectionsReloadApp=function(){return!r.isGenerateBtnDisabled()};e.applySelectionsReloadApp=function(n){n.preventDefault();n.stopPropagation();if(e.canApplySelectionsReloadApp()){r.reloadMenuPopup.close();r.reloadApp(t,1)}};e.copyApplySelectionsReloadApp=function(n){n.preventDefault();n.stopPropagation();if(e.canApplySelectionsReloadApp()){r.reloadMenuPopup.close();r.reloadApp(t,2)}}}],closeOnResize:true,closeOnEscape:true});r.reloadMenuPopup.closed.then((function(){r.reloadMenuPopup=null}))}}}],template:y});var S=n("+NRc");var x={template:f,controller:["$scope","$element","$timeout",function(e,t,n){var i;var a=r["default"].getService("qvLoader");e.odagNavpointService=p["a"];e.loadingContent={value:true};e.showInfoPopup=false;e.generatedApps=[];e.bindings=[];e.expandedItem={item:null};e.generateAppInProgress=false;e.bindingsPass=true;e.maxGeneratedAppLimitReached=false;e.dismissedMaxGenAppMsg=false;e.dismissMaxGenAppMsgClicked=function(){e.dismissedMaxGenAppMsg=true};e.isGenerateBtnDisabled=function(){e.bindingsPass=e.bindings.filter((function(e){return false===e.bindingPassesConstraint})).length>0;return e.header.invalid||e.maxGeneratedAppLimitReached||e.bindingsPass||!e.item.rowCountPercentage||100!==e.item.rowCountPercentage||o["a"].isSuffixInUse("noData")||e.generateAppInProgress};e.canApplySelectionsForReload=function(){e.bindingsFailed=e.bindings.filter((function(e){return false===e.bindingPassesConstraint})).length>0;return!(e.header.invalid||e.bindingsFailed||!e.item.rowCountPercentage||100!==e.item.rowCountPercentage||o["a"].isSuffixInUse("noData")||e.generateAppInProgress)};e.infoHeader=c["default"].get("odag.toolbar.navpoint.popup.info.header");e.circleModel={chartValue:e.item.rowCountPercentage?e.item.rowCountPercentage:0};e.$watchCollection("item.rowCountPercentageNumber",(function(t){e.item.rowCountPercentage=-1===t?NaN:t;e.circleModel.chartValue=e.item.rowCountPercentage?e.item.rowCountPercentage:0}));e.header={invalid:false,templateThumbnail:"".concat(u["a"].staticResourcesPath,"img/core/static/Default_thumbnail_app.png"),templateName:c["default"].get("Common.Loading"),templateDescription:c["default"].get("Common.Loading")};function s(){return p["a"].updateItemHeader(e.item,e.header)}e.setSelectionState=function(){var t=e.expandedItem.item;Object(w["b"])("ODAG_SAAS_ENABLED")&&t&&p["a"].getSelections(t.parentContext.app,t.requestId).then((function(t){e.expandedItemSelectionState=p["a"].getSelectedValuesDisplayString(t,{value:false})}))};e.loadGeneratedApps=function(){p["a"].loadGeneratedApps(e.item,e.generatedApps).then((function(){e.loadingContent.value=false;e.expandedItem.item&&(e.generatedApps.some((function(t){return e.expandedItem.item.requestId===t.requestId}))?e.setSelectionState():e.expandedItem.item=null);e.maxGeneratedAppLimitReached=e.generatedApps.length>=e.item.maxNumberOfApps;f()}))};p["a"].initializeBindings(e.item,e.bindings);l().then((function(){e.item.initialized.promise.then((function(){var t=Intl.NumberFormat(c["default"].locale);e.actualRowEstFormatted="NaN"===e.item.actualRowEst?c["default"].get("odag.toolbar.navpoint.popup.invalid"):t.format(e.item.actualRowEst,{});e.maxRowExpressionCountFormatted=t.format(e.item.maxRowExpressionCount,{});s().finally((function(){e.loadGeneratedApps()}))}))}));function l(){i=n((function(){a.close(true).then((function(){a.show({template:d["a"],hugeLoader:false,mediumLoader:true,appendTo:t.find(".odag-popup-body")[0]})}))}),0,false);return i}function f(){n.cancel(i);i=null;a.close()}e.onApplySelections=function(){p["a"].initializeBindings(e.item,e.bindings)};e.onNavPointInfoClicked=function(t){t.preventDefault();t.stopPropagation();e.showInfoPopup=!e.showInfoPopup};e.deleteGenAppClicked=function(t,n){t.preventDefault();t.stopPropagation();e.showInfoPopup&&(e.showInfoPopup=!e.showInfoPopup);if(n.deleteIcon&&!n.actionInProgress){n.actionInProgress=true;p["a"].deleteGeneratedApp(n).then((function(){e.loadGeneratedApps();e.expandedItem.item&&n.requestId===e.expandedItem.item.requestId&&(e.expandedItem.item=null);n.actionInProgress=false})).catch((function(e){n.actionInProgress=false;throw e}))}};e.reloadApp=function(t,n){e.generateAppInProgress=true;p["a"].reloadApp(e.item,t.requestId,n).then((function(){2===n&&(e.expandedItem.item=null);e.loadGeneratedApps();e.generateAppInProgress=false})).catch((function(t){e.generateAppInProgress=false;throw t}))};e.onGenerateAppClicked=function(){e.generateAppInProgress=true;e.showInfoPopup=false;p["a"].generateApp(e.item).then((function(){e.generateAppInProgress=false;e.loadGeneratedApps()})).catch((function(t){e.generateAppInProgress=false;throw t}))};e.$on("$destroy",(function(){p["a"].stopLoadGeneratedApps(e.item);f()}))}]};var C=x;var q=n("4nJ1");var E=n("JUxR");var I=n("stK3");var k='<div class="progress-circle-container" ng-class="{\'full\': percentage === 100}">\n\t<svg class="progress-circle-svg" viewPort="0 0 0 0">\n\t\t<circle class="baseCircle" r="6" cx="8px" cy="8px" fill="transparent" stroke-dasharray="37.699" stroke-dashoffset="0"></circle>\n\t\t<circle class="whiteBar" r="6" cx="8px" cy="8px" fill="transparent" stroke-dasharray="37.699" stroke-dashoffset="0"></circle>\n\t\t<circle class="bar" r="6" cx="8px" cy="8px" fill="transparent" stroke-dasharray="37.699" stroke-dashoffset="0"></circle>\n\t</svg>\n</div>\n';r["default"].directive("qvProgressCircle",[function(){return{scope:{percentage:"="},restrict:"E",template:k,link:function e(t,n){function r(){var e=t.percentage;var r=n.find(".progress-circle-svg .bar");var i=r.attr("r");var a=Math.PI*(2*i);if(Number.isNaN(+e)){e=100;r.css({strokeDashoffset:a,fill:"#CCCCCC"})}else{e<0&&(e=0);e>100&&(e=100);var o=(100-e)/100*a;r.css({strokeDashoffset:o});100===t.percentage?r.css({fill:"#61a729"}):r.css({fill:"transparent"})}}t.$watch("percentage",r)},controller:["$scope",function(e){e.$on("$destroy",(function(){}))}]}}]);var A={template:s,restrict:"E",replace:true,scope:{inEditMode:"=",inMobileMode:"=",item:"="},controller:["$scope","$timeout","$element","luiPopover",function(e,t,n,r){e.popover=null;e.stageState=a["a"];e.$watch("stageState.selectedObject",(function(t){e.selObject=t}));var s=null;e.rowCountPercentage=0;function c(){if(e.popover){e.popover.close();return}var t={item:e.item};if(t.item.openAppCallback){var i=t.item.openAppCallback;t.item.openAppCallback=function(t,n){e.popover.close();i(t,n)}}var a=C;var o={input:t,dock:"top",alignTo:n[0],closeOnResize:true,outsideIgnore:"odag-navpoint-popover_".concat(e.item.id)};a=q["a"].extend(true,o,a);e.popover=r.show(a);e.popover.closed.then((function(){e.popover=null}))}function u(){e.popover&&e.popover.close()}function d(){var n=new i["a"];if(s){var r=e.item;s.getLayout().then((function(n){r.actualRowEst=n.MaxRowCountExpression;o["a"].isSuffixInUse("noData")&&(r.actualRowEst="NaN");var i=r.maxRowExpressionCount;var a=100*Math.min(i/r.actualRowEst,1);if(a>=100)if(100!==e.rowCountPercentage){e.rowCountPercentage=99;t((function(){e.rowCountPercentage=100;r.rowCountPercentage=100;r.rowCountPercentageNumber=100}),300)}else r.rowCountPercentage=100;else{r.rowCountPercentage=a;e.rowCountPercentage=a}"number"===typeof r.rowCountPercentage&&Number.isNaN(+r.rowCountPercentage)?r.rowCountPercentageNumber=-1:r.rowCountPercentageNumber=r.rowCountPercentage})).finally((function(){n.resolve()}))}else n.reject();return n.promise}function f(){e.item.getCurrentCountSessionObjectForLink().then((function(t){s=t;s&&s.Invalidated.bind(d);d().finally((function(){e.item.initialized.resolve()}))}))}e.$watchCollection("item",(function(e,t){if(null!==t&&null===e.initialized){e.initialized=new i["a"];f()}}));l["a"].on("end",u);e.onODAGNavPointClicked=function(t){if(e.inMobileMode)return;e.inEditMode?a["a"].setSelectedObject(E["a"].createSelectedObjFromNavPoint(t)):e.item.invalid||c(t)};e.deleteInvalidNavPoint=function(e,t){t.model.removeObject()};t((function(){e.$broadcast("refreshPager")}));e.$on("$destroy",(function(){s&&s.Invalidated.unbind(d)}))}]};r["default"].directive("qvOdagToolbarNavpoint",[function(){return A}]);var T=A},"45bU":function(e,t,n){"use strict";var r=n("PX8M");var i=n("4nJ1");var a=n("sWge");var o="ColorMapModel_";function s(e){var t=null;return e.getLayout().then((function(e){e.colorMap&&(t=e.colorMap);return t?i["a"].extend(true,{},t):null}))}function l(e,t){var n=i["a"].extend(true,{},t);return e.getProperties().then((function(t){if(t.colorMap){t.colorMap=n;return e.setProperties(t)}return}))}t["a"]={getColorMap:function e(t,n){var i;i=n?a["a"].resolve(n):r["a"].getApp();if(!t)return a["a"].resolve(null);return i.then((function(e){return e.getObject((o+t).toString()).then((function(e){return s(e)}))})).catch((function(){return null}))},setColorMap:function e(t,n){var i=(o+t).toString();return r["a"].getApp().then((function(e){return e.getObject(i).catch((function(){return e.createObject({qInfo:{qType:"ColorMap",qId:i},colorMap:{}})})).then((function(e){return l(e,n)}))}))},deleteColorMap:function e(t){return r["a"].getApp().then((function(e){return e.destroyObject((o+t).toString())}))},getTemplate:function e(){return{colors:[],nul:null,oth:null,pal:null,single:null,usePal:null,autoFill:true}},getMeasureGradient:function e(t,n){var i;i=n?a["a"].resolve(n):r["a"].getApp();return i.then((function(e){return e.getMeasure(t).then((function(e){return e.getProperties().then((function(e){if(e&&e.qMeasure&&e.qMeasure.coloring)return e.qMeasure.coloring.gradient;return}))}))})).catch((function(){return null}))}}},"49Kr":function(e,t,n){"use strict";(function(t){var r=n("zHBu"),i=n("VlGz"),a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",l=new RegExp("^"+s+"+");function c(e){return(e||"").toString().replace(l,"")}var u=[["#","hash"],["?","query"],function e(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];var d={hash:1,query:1};function f(e){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};var r=n.location||{};e=e||r;var i={},o=typeof e,s;if("blob:"===e.protocol)i=new v(unescape(e.pathname),{});else if("string"===o){i=new v(e,{});for(s in d)delete i[s]}else if("object"===o){for(s in e){if(s in d)continue;i[s]=e[s]}void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function p(e){e=c(e);var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function h(e,t){if(""===e)return t;var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],a=false,o=0;while(r--)if("."===n[r])n.splice(r,1);else if(".."===n[r]){n.splice(r,1);o++}else if(o){0===r&&(a=true);n.splice(r,1);o--}a&&n.unshift("");"."!==i&&".."!==i||n.push("");return n.join("/")}function v(e,t,n){e=c(e);if(!(this instanceof v))return new v(e,t,n);var a,o,s,l,d,m,g=u.slice(),b=typeof t,y=this,w=0;if("object"!==b&&"string"!==b){n=t;t=null}n&&"function"!==typeof n&&(n=i.parse);t=f(t);o=p(e||"");a=!o.protocol&&!o.slashes;y.slashes=o.slashes||a&&t.slashes;y.protocol=o.protocol||t.protocol||"";e=o.rest;o.slashes||(g[3]=[/(.*)/,"pathname"]);for(;w<g.length;w++){l=g[w];if("function"===typeof l){e=l(e);continue}s=l[0];m=l[1];if(s!==s)y[m]=e;else if("string"===typeof s){if(~(d=e.indexOf(s)))if("number"===typeof l[2]){y[m]=e.slice(0,d);e=e.slice(d+l[2])}else{y[m]=e.slice(d);e=e.slice(0,d)}}else if(d=s.exec(e)){y[m]=d[1];e=e.slice(0,d.index)}y[m]=y[m]||a&&l[3]&&t[m]||"";l[4]&&(y[m]=y[m].toLowerCase())}n&&(y.query=n(y.query));a&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=h(y.pathname,t.pathname));if(!r(y.port,y.protocol)){y.host=y.hostname;y.port=""}y.username=y.password="";if(y.auth){l=y.auth.split(":");y.username=l[0]||"";y.password=l[1]||""}y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null";y.href=y.toString()}function m(e,t,n){var a=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||i.parse)(t));a[e]=t;break;case"port":a[e]=t;if(r(t,a.protocol))t&&(a.host=a.hostname+":"+t);else{a.host=a.hostname;a[e]=""}break;case"hostname":a[e]=t;a.port&&(t+=":"+a.port);a.host=t;break;case"host":a[e]=t;if(/:\d+$/.test(t)){t=t.split(":");a.port=t.pop();a.hostname=t.join(":")}else{a.hostname=t;a.port=""}break;case"protocol":a.protocol=t.toLowerCase();a.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";a[e]=t.charAt(0)!==o?o+t:t}else a[e]=t;break;default:a[e]=t}for(var s=0;s<u.length;s++){var l=u[s];l[4]&&(a[l[1]]=a[l[1]].toLowerCase())}a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null";a.href=a.toString();return a}function g(e){e&&"function"===typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(n.slashes?"//":"");if(n.username){a+=n.username;n.password&&(a+=":"+n.password);a+="@"}a+=n.host+n.pathname;t="object"===typeof n.query?e(n.query):n.query;t&&(a+="?"!==t.charAt(0)?"?"+t:t);n.hash&&(a+=n.hash);return a}v.prototype={set:m,toString:g};v.extractProtocol=p;v.location=f;v.trimLeft=c;v.qs=i;e.exports=v}).call(this,n("pCvA"))},"4DfG":function(e,t,n){"use strict";true;e.exports=n("UdKW")},"4KCR":function(e,t,n){"use strict";var r=n("mWu2");var i=7500;var a;var o={pending:0,resetTime:void 0};var s={begin:l,end:c,hasPending:u};t["a"]=s;function l(){a=a||r["default"].getService("$timeout");o.pending++;o.resetTime&&a.cancel(o.resetTime);o.resetTime=a(d,i)}function c(){if(!o.pending)return;o.pending--}function u(){return o.pending>0}function d(){o.pending=0}},"4ToR":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n.d(t,"c",(function(){return I}));n.d(t,"d",(function(){return k}));n.d(t,"b",(function(){return A}));var r=n("mXGw");var i=n.n(r);var a=n("W0B4");var o=n.n(a);var s=n("jr/W");var l=n("yoX+");var c=n("kZAH");var u={Pong:l["a"],Disconnected:c["a"]};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),true).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function h(e,t){return y(e)||b(e,t)||m(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function y(e){if(Array.isArray(e))return e}var w=null;var S=null;var x={show:false,icon:"Pong",button:null,task:"",message:""};var C={};var q=function e(t){var n=t.show,r=t.icon,a=t.button,o=t.task,l=t.message;var c=u[r]||u.Pong;var d=function e(){return null};a&&a.title&&a.onClick&&(d=function e(){return i.a.createElement(s["a"],{title:a.title,onClick:a.onClick},a.title)});return i.a.createElement("div",{className:n?"senseloader-block-ui senseloader-show":"senseloader-block-ui",tid:n?"3e1f54":""},i.a.createElement(c,null),i.a.createElement("div",{className:"senseloader-text ".concat(o||l?"senseloader-show":"")},i.a.createElement("div",null,o),i.a.createElement("div",null,l),i.a.createElement("div",{className:"senseloader-button"},i.a.createElement(d,null))))};q.propTypes={show:o.a.bool.isRequired,icon:o.a.string,button:o.a.object,task:o.a.string.isRequired,message:o.a.string};q.defaultProps={button:null,icon:null,message:""};var E=function e(){var t=Object(r["useState"])(x),n=h(t,2),a=n[0],o=n[1];Object(r["useEffect"])((function(){function e(e){var t={};Object.keys(e).forEach((function(n){var r=e[n];void 0!==r&&(t[n]=r)}));C=f(f({},C),t);o(C)}w=e;return function(){w=null}}));return i.a.createElement(q,a)};var I=function e(t){var n=t.loaderId,r=t.task,i=t.message,a=t.icon,o=t.button;if(w&&!S&&n){S=n;w({task:r,message:i,icon:a,button:o,show:true});return true}return false};var k=function e(t){var n=t.loaderId,r=t.task,i=t.message,a=t.icon,o=t.button;if(w&&S===n){w({task:r,message:i,icon:a,button:o});return true}return false};var A=function e(t){var n=t.loaderId;if(w&&S===n){S=null;w(x);return true}return false}},"4XJH":function(e,t,n){"use strict";var r=n("4nJ1");var i=n("/2No");var a=n("FZ1g");var o=n("gh04");var s=n("z4LI");var l=n("/irJ");var c=n("PX8M");var u=n("H6Kg");var d=n("sWge");var f=n("ZQDF");var p=n("6uJb");function h(e){return g(e)||m(e)||w(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function g(e){if(Array.isArray(e))return S(e)}function b(e,t){return C(e)||x(e,t)||w(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function C(e){if(Array.isArray(e))return e}function q(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){q(a,r,i,o,s,"next",e)}function s(e){q(a,r,i,o,s,"throw",e)}o(void 0)}))}}var I=";";var k={};var A={};var T=false;var D={apply:function e(t,n){t=t||"";if(T)return d["a"].resolve({});T=true;D._extractParameters(t);var r=i["a"].getParameterByName("insight");return F(!!n,!!r)},_extract:function e(t,n){n=i["a"].decodeURIComponentSafe(n);var r=new RegExp("\\/".concat(t,"\\/([^/]*)?"),"i");r=n.match(r);if(r&&r.length>0)return r[1];return false},_extractOptions:function e(t){var n=D._extract("options",t);n&&(n=n.split(I));return n},_extractBookmark:function e(t){return D._extract("bookmark",t)},_extractSelections:function e(t){var n="---xxx---";var r=[];var a=[];var o=new RegExp("(\\[|%5B)[^\\]]*?(\\]|%5D)","gi");o=t.match(o);if(o){a=o;o.forEach((function(e){t=t.replace(e,n)}))}var s=D._extractSelectionsPart(t);s&&s.forEach((function(e){var t=e.match(/\/select\/([^/]*)\/[^/]*/);var o="$";if(t[1].indexOf("::")>-1){o=t[1].match(/(.*)::/);o=!!(o&&o.length>0)&&i["a"].decodeURIComponentSafe(o[1]);t=t[1].match(/::(.*)/)}t=!!(t&&t.length>0)&&i["a"].decodeURIComponentSafe(t[1]);var s=e.match(/\/select\/[^/]*\/([^/]*)/);s=!!(s&&s.length>0)&&i["a"].decodeURIComponentSafe(s[1]).split(I);var l=[];if(t&&s){var c=[];s.forEach((function(e){if(e===n){var t=i["a"].decodeURIComponentSafe(a[0]);t=t.substring(1,t.length-1);c.push(t);a=a.splice(1,a.length)}else l.push(i["a"].decodeURIComponentSafe(e))}));r.push({field:t,values:l,state:o,searches:c})}}));return r},_extractSelectionsPart:function e(t){var n=new RegExp("(\\/select\\/[^\\/]*\\/[^\\/]*)","g");n=t.match(n);return n},_fetchDefaultBookmark:function e(t){return t.getProperties().then((function(e){return e.defaultBookmarkId||null}))},_runPromisesInSequence:function e(t){t=t||[];var n=t.reduce((function(e,t){var n=d["a"].resolve(e);return n.then((function(e){return t().then((function(t){t&&(e=r["a"].extend(true,e,t));return e}))}))}),d["a"].resolve({}));return n},_extractParameters:function e(t){var n=D._extractSelections(t);var r=D._extract("options",t);if(r){r=r.split(I);k.alternateStates=D._extractStatesFromOptions(r)}n&&(k.selections=n);var i=D._extractBookmark(t);i&&(k.bookmark=i)},_extractStatesFromOptions:function e(t){var n=[];t.forEach((function(e){if("clearselections"===e)k.clearAllSelections=true;else if(e.indexOf("::clearselections")>-1){k.clearStateSelections=true;var t=e.match(/(.*)::/);n.push(!!(t&&t.length>0)&&t[1])}else A.option=true}));return n},_seqApplyDefaultBookmark:function e(t){return E(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return c["a"].getApp();case 2:n=i.sent;r="SESSION_CREATED"!==n.session.sessionState;if(!(!k.bookmark&&!r)){i.next=6;break}return i.abrupt("return",D._applyDefaultBookmark(t));case 6:return i.abrupt("return",d["a"].resolve());case 7:case"end":return i.stop()}}),e)})))()},_applyDefaultBookmark:function e(t){return D._fetchDefaultBookmark(u["a"]).then((function(e){return e?L(e,t):null}))},getAlternateStates:function(){var e=E(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return t.getLayout();case 2:n=i.sent;r=new Set(n.qStateNames);r.add("$");return i.abrupt("return",r);case 6:case"end":return i.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),selectFieldValues:function(){var e=E(regeneratorRuntime.mark((function e(t,n,i,a){var o,s,l,c,u,d,f,p,v,m;return regeneratorRuntime.wrap((function e(g){while(1)switch(g.prev=g.next){case 0:s="/qListObjectDef";g.prev=1;g.next=4;return t.enigmaModel.waitForOpen.promise;case 4:g.next=6;return t.enigmaModel.getOrCreateSessionObject({qInfo:{qType:"appUrlFieldData",qId:"AUFD".concat(r["a"].generateId())},qListObjectDef:{qStateName:null!==a&&void 0!==a?a:"$",qDef:{qFieldDefs:[n]},qInitialDataFetch:[{qTop:0,qLeft:0,qHeight:100,qWidth:1}]}});case 6:o=g.sent;g.next=9;return o.searchListObjectFor(s,i.join(" "));case 9:l=g.sent;if(l){g.next=12;break}throw new Error("unable to searchListObjectFor",i);case 12:c=[];u=100;d=0;case 15:if(!(c.length<i.length)){g.next=29;break}f=[{qTop:u*d,qLeft:0,qHeight:u,qWidth:1}];g.next=19;return o.getListObjectData(s,f);case 19:p=g.sent;v=b(p,1),m=v[0].qMatrix;if(!(!m||!m.length)){g.next=23;break}return g.abrupt("return");case 23:c=[].concat(h(c),h(m.filter((function(e){var t=b(e,1),n=t[0];return i.includes(n.qText)})).map((function(e){var t=b(e,1),n=t[0];return n.qElemNumber}))));if(!(m.length<u)){g.next=26;break}return g.abrupt("break",29);case 26:d++;g.next=15;break;case 29:g.next=31;return o.selectListObjectValues("/qListObjectDef",c,false);case 31:g.next=35;break;case 33:g.prev=33;g.t0=g["catch"](1);case 35:g.prev=35;o&&"function"===typeof o.close&&o.close();return g.finish(35);case 38:case"end":return g.stop()}}),e,null,[[1,33,35,38]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}(),getFieldName:function(){var e=E(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return t.getField(n,r);case 3:a.next=5;return t.getFieldDescription(n);case 5:i=a.sent;if(i.qName){a.next=8;break}throw new Error("field name not found");case 8:return a.abrupt("return",i.qName);case 11:a.prev=11;a.t0=a["catch"](0);throw new Error("unable to fetch field description");case 14:case"end":return a.stop()}}),e,null,[[0,11]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),selectAssociations:function(){var e=E(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return t.selectAssociations({qContext:"CurrentSelections",qSearchFields:[n]},r,0);case 3:i.next=7;break;case 5:i.prev=5;i.t0=i["catch"](0);case 7:case"end":return i.stop()}}),e,null,[[0,5]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),applySelections:function(){var e=E(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,l,u,d,f;return regeneratorRuntime.wrap((function e(h){while(1)switch(h.prev=h.next){case 0:if(!(!t||!t.length)){h.next=2;break}return h.abrupt("return",Promise.resolve({}));case 2:h.prev=2;h.next=5;return c["a"].getApp();case 5:n=h.sent;h.next=8;return D.getAlternateStates(n);case 8:r=h.sent;a=t.filter((function(e){return r.has(e.state)}));o=0;case 11:if(!(o<a.length)){h.next=26;break}u=a[o];h.next=15;return D.getFieldName(n,u.field,u.state);case 15:d=h.sent;if(!(null===u||void 0===u||null===(s=u.values)||void 0===s?void 0:s.length)){h.next=19;break}h.next=19;return D.selectFieldValues(n,d,u.values,u.state);case 19:if(!(null===u||void 0===u||null===(l=u.searches)||void 0===l?void 0:l.length)){h.next=23;break}f=u.searches.map((function(e){return i["a"].decodeURIComponentSafe(e)}));h.next=23;return D.selectAssociations(n,d,f);case 23:o++;h.next=11;break;case 26:return h.abrupt("return",{});case 29:h.prev=29;h.t0=h["catch"](2);return h.abrupt("return",{_errors:[p["default"].get("Error.SelectFieldNotFound.Message")]});case 32:case"end":return h.stop()}}),e,null,[[2,29]])})));function t(t){return e.apply(this,arguments)}return t}()};function O(e){return e.getLayout().then((function(e){if(e.sheetId)return o["a"].get(e.sheetId).then((function(){var t=s["a"].view===s["a"].Views.overview;var n=f["a"].getCurrentSheetViewState(t);l["a"].goToSheet(e.sheetId,n);return true}),(function(){if("bookmark"===e.qInfo.qType)return{_errors:["".concat(p["default"].get("Bookmarks.SheetMissingDialogText1")," ").concat(p["default"].get("Bookmarks.SheetMissingDialogText2"))]};return{_errors:["".concat(p["default"].get("Snapshot.SheetMissingDialogText1")," ").concat(p["default"].get("Snapshot.SheetMissingDialogText2"))]}}));return false}))}function L(e,t){return a["a"].apply(e).then((function(){if(t)return a["a"].get(e).then((function(e){return O(e)})).catch((function(){return{_errors:[p["default"].get("Error.BookmarkNotFound.Message")]}}));return d["a"].resolve()}))}function M(e){return e.reduce((function(e,t){return e.then(t)}),d["a"].resolve())}function P(){return N.apply(this,arguments)}function N(){N=E(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!(k.clearAllSelections||k.clearStateSelections)){i.next=12;break}i.next=3;return c["a"].getApp();case 3:t=i.sent;i.next=6;return D.getAlternateStates(t);case 6:n=i.sent;if(!k.clearAllSelections){i.next=9;break}return i.abrupt("return",M(h(n).map((function(e){return t.clearAll(false,e)}))));case 9:if(!k.clearStateSelections){i.next=12;break}r=k.alternateStates.filter((function(e){return n.has(e)}));return i.abrupt("return",M(r.map((function(e){return t.clearAll(false,e)}))));case 12:return i.abrupt("return",Promise.resolve());case 13:case"end":return i.stop()}}),e)})));return N.apply(this,arguments)}function R(){return k.bookmark?L(k.bookmark,true):d["a"].resolve()}function F(e,t){if(t)return D._runPromisesInSequence([P]);return D._runPromisesInSequence([function(){return D._seqApplyDefaultBookmark(e)},P,R,function(){return D.applySelections(k.selections)}])}t["a"]=D},"4qR/":function(e,t,n){"use strict";var r=n("mWu2");var i=n("4nJ1");var a=n("qIEf");var o=n.n(a);var s=n("rwJ+");var l='<div class="lui-modal-background"></div>\n<div class="lui-dialog" id="dimensions-dialog" data-tid="dim-dialog">\n\t<div class="dimension-dialog-dimvalcol-wrapper dimension-dialog-container">\n\t\t<lui-tab-view>\n\t\t\t<div ng-show="!input.add" class="lui-dialog__header">\n\t\t\t\t<lui-tabset fill="true">\n\t\t\t\t\t<lui-tab q-title-translation="{{input.title}}" q-translation="{{input.title}}" on-tab-selected="initColorMap(false)" ref="tab1"></lui-tab>\n\t\t\t\t\t<lui-tab q-title-translation="library.colors.valuecolors" q-translation="library.colors.valuecolors" on-tab-selected="initColorMap(true)" ng-class="{\'lui-disabled\' : ((input.dimension.type === \'drilldown\' ) || !!input.add)}" ref="tab2" tid="value-col-tab"></lui-tab>\n\t\t\t\t</lui-tabset>\n\t\t\t</div>\n\t\t\t<div ng-if="input.add" class="lui-dialog__header">\n\t\t\t\t<div class="lui-dialog__title dimension-dialog-add-title" q-translation="{{input.title}}"></div>\n\t\t\t</div>\n\t\t\t<div class="lui-dialog__body">\n\t\t\t\t<lui-tab-content ref="tab1">\n\t\t\t\t\t<div data-dimension-type="{{input.dimension.type}}" class="dimension-type-{{input.dimension.type}}" ng-class="{ \'label-expression\': showLabelExpression() }">\n\t\t\t\t\t\t<div class="dimension-dialog-radio">\n\t\t\t\t\t\t\t<lui-radiobutton class="dimension-dialog-radio-single"\n\t\t\t\t\t\t\t\t\t\t\t x-name="dimension-type"\n\t\t\t\t\t\t\t\t\t\t\t x-model="input.dimension.type"\n\t\t\t\t\t\t\t\t\t\t\t x-value="single">\n\t\t\t\t\t\t\t\t{{ \'Common.Single\' | translate }}\n\t\t\t\t\t\t\t</lui-radiobutton>\n\t\t\t\t\t\t\t<lui-radiobutton class="dimension-dialog-radio-drilldown"\n\t\t\t\t\t\t\t\t\t\t\t x-name="dimension-type"\n\t\t\t\t\t\t\t\t\t\t\t x-model="input.dimension.type"\n\t\t\t\t\t\t\t\t\t\t\t x-value="drilldown">\n\t\t\t\t\t\t\t\t{{ \'Dimensions.Dialog.Type.DrillDown\' | translate }}\n\t\t\t\t\t\t\t</lui-radiobutton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id="dimensions-dialog-content">\n\t\t\t\t\t\t\t\x3c!-- Available fields --\x3e\n\t\t\t\t\t\t\t<section id="dimension-dialog-fields" class="field-box">\n\t\t\t\t\t\t\t\t<h1 q-translation="Assets.FieldsTab.Table"></h1>\n\t\t\t\t\t\t\t\t<lui-select x-model="input.dimension.selectedTable" x-options="table for table in input.dimension.tables"></lui-select>\n\t\t\t\t\t\t\t\t<div class="dimension-dialog-search">\n\t\t\t\t\t\t\t\t\t<qv-assets-search-panel query="search.query" look="light"></qv-assets-search-panel>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div qv-field-list class="dimension-dialog-field-list">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\x3c!-- Selected fields --\x3e\n\t\t\t\t\t\t\t<section class="dimension-editor-form">\n\t\t\t\t\t\t\t\t<section id="dimensions-dialog-field-reference" class="field-box">\n\t\t\t\t\t\t\t\t\t<h1 q-translation="Common.Field"></h1>\n\t\t\t\t\t\t\t\t\t<ul qv-scroll id="dimensions-dialog-field-tokens"\n\t\t\t\t\t\t\t\t\t\tng-class="{ invalid: !input.dimension.validity.selectedFields }"\n\t\t\t\t\t\t\t\t\t\tqv-sortable-list="sortableLists">\n\t\t\t\t\t\t\t\t\t\t<li ng-repeat="field in input.dimension.selectedFields" data-id="{{field}}" title="{{field}}" ng-class="{ placeholder: $index === placeholderIndex }">\n\t\t\t\t\t\t\t\t\t\t\t<div class="field-wrapper field-token">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="lui-icon lui-icon--handle" q-title-translation="Common.Move"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="field-text">{{field}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="lui-icon lui-icon--remove remove" ng-click="removeItemHandler($index)" q-title-translation="Common.Delete"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="expression-input">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="lui-fade-button" ng-click="editExpressionHandler($event, $index)" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--expression" ng-class="{ \'active\': expressionColor }"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<button class="lui-fade-button empty-expression" ng-click="editExpressionHandler($event)" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--expression"></span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\x3c!-- Meta data--\x3e\n\t\t\t\t\t\t\t\t<section class="metadata-form">\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Name --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="Common.Name"></label>\n\t\t\t\t\t\t\t\t\t\t<input class="lui-input" type="text" name="metadata-name" maxlength="255" ng-model="input.dimension.name" id="dimensions-dialog-name" ng-class="{ \'lui-invalid\': !input.dimension.validity.name }" data-tid="dim-dialog-name" >\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Label expression --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item" ng-if="showLabelExpression()">\n\t\t\t\t\t\t\t\t\t\t<qv-expression-input class="metadata-item" expression="input.dimension.labelExpression" is-valid-expression="input.dimension.validity.labelExpression" data-tid="dim-dialog-labelexp"></qv-expression-input>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Description --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="Common.Description"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-description-textarea\n\t\t\t\t\t\t\t\t\t\t\t\tdescription="input.dimension.description"\n\t\t\t\t\t\t\t\t\t\t\t\tdescription-expression="input.dimension.descriptionExpression"\n\t\t\t\t\t\t\t\t\t\t\t\tis-valid="input.dimension.validity.description"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-tid="dim-dialog-description">\n\t\t\t\t\t\t\t\t\t\t</qv-description-textarea>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Dimension color --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label class="qv-metadatalabel" q-translation="library.colors.dimensioncolor"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-color-picker-button-new ng-model="color" palette="theme.currentPalette" extended="true" toggle-open="true"></qv-color-picker-button-new>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Tags --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item tags">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="Common.Tags" class="qv-taglabel"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-tagcloud tags="input.dimension.tags" update="input.dimension.updateTags"></qv-tagcloud>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t<lui-button ng-if="input.add" ng-click="confirm()" class="add-dimension-button lui-button--success" autofocus q-translation="Common.Create" data-tid="add-dim-button"></lui-button>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</lui-tab-content>\n\t\t\t\t<lui-tab-content ref="tab2">\n\t\t\t\t\t<section class="metadata-form">\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<qv-dimension-colors visible="visible" color-model-wrapper="colorModelWrapper"></qv-dimension-colors>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</lui-tab-content>\n\t\t\t</div>\n\t\t</lui-tab-view>\n\t</div>\n\t<div class="lui-dialog__footer">\n\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t<div ng-if="added" qva-outside="hideAddedFeedback()" class="qv-animate dimension-added">\n\t\t\t<i class="lui-icon lui-icon--tick" aria-hidden="false"> </i> <span q-translation="Dimensions.Dialog.DimensionCreated"></span>\n\t\t</div>\n\t\t<lui-button ng-if="input.add" ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Close" tid="close"></lui-button>\n\t\t<lui-button ng-if="!input.add" ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="cancel"></lui-button>\n\t\t<lui-button ng-if="!input.add" ng-click="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="Common.Save" tid="dim-dlg-save-btn" class="lui-button--success"></lui-button>\n\t</div>\n</div>\n';var c='<qv-scroll-area class="scroll-area" ng-class="{ \'native-scroll-enabled\': !scroll.virtualScrollEnabled }">\n\t<qv-scroll-load-button\n\t\t\tng-show="scroll.loadPrevious"\n\t\t\ton-load="scroll.gotoPreviousBlock()"\n\t\t\ttext="Object.Listbox.LoadPrevious" previous="true"></qv-scroll-load-button>\n\n\t<ul class="lui-list" ng-class="{ \'align-bottom\': scroll.alignBottomAbsolute }">\n\t\t<li ng-repeat="field in scroll.items"\n\t\t\tng-click="selectFieldHandler(field, $event)"\n\t\t\tclass="lui-list__item lui-list__action"\n\t\t\tng-class="{ \'lui-selected\': field.selected, \'derived-field\': (field.isDerived) }">\n\t\t\t<i ng-if="field.isDateField" class="lui-icon lui-icon--calendar lui-list__aside"></i>\n\t\t\t<i ng-if="field.isGeoField" class="lui-icon lui-icon--map lui-list__aside"></i>\n\n\t\t\t<div ng-if="field.dimensionDialogMetaData.icon" class="lui-icon  lui-icon--{{field.dimensionDialogMetaData.icon}} lui-list__aside" q-title-translation="{{::field.dimensionDialogMetaData.iconTooltip}}"></div>\n\t\t\t<div class="lui-list__text lui-list__text--ellipsis" qve-highlight text="{{::getFieldDisplayName(field)}}" query="search.query" title="{{::getFieldDisplayName(field)}}"></div>\n\t\t\t<div ng-if="field.used" class="lui-icon lui-icon--tick lui-list__aside"></div>\n\t\t</li>\n\t</ul>\n\n\t<div ng-if="!scroll.items.length" class="no-hits">\n\t\t<span ng-if="search.query.length" q-translation="Toolbox.Search.Nohits"></span>\n\t\t<span ng-if="!search.query.length" q-translation="library.noitems"></span>\n\t</div>\n\n\t<qv-scroll-load-button\n\t\t\tng-show="scroll.loadNext"\n\t\t\ton-load="scroll.gotoNextBlock()"\n\t\t\ttext="Object.Listbox.LoadMore"></qv-scroll-load-button>\n</qv-scroll-area>\n<qv-scroll-loader></qv-scroll-loader>\n';var u=n("z4LI");var d=n("5ezW");var f="single";function p(e,t,n){var i=e.input.dimension;function a(){return t.validateMetadataName(i,n)}function o(){return t.validateFieldsInDimension(i)}function s(){var e=a();var t=o();return e&&t&&i.validity.labelExpression&&i.validity.description}function l(){var t=e.search.query;var n=i.selectedTable;function r(e){return-1!==d["a"].string(e.qName.toLowerCase()).indexOf(d["a"].string(t.toLowerCase()))}n===e.allTablesStr?i.filteredFields=i.allFields.filter((function(e){return r(e)})):i.filteredFields=i.allFields.filter((function(e){return-1!==e.qSrcTables.indexOf(n)&&r(e)}))}function c(e,t){var n=0;var r=t.length;for(n=0;n<r;n++)if(t[n].qName===e)return true;return false}function u(t,n){n=n.replace(/^=+/,"=");"="!==n.charAt(0)&&(n="=".concat(n));if(void 0!==t)i.selectedFields[t]=n;else{i.selectedFields.push(n);i.type!==f&&r["default"].getService("$timeout")((function(){e.scrollDown+=1}))}}function p(t){if(!t||t.selected)return;if(i.type===f)i.selectedFields=[t.qName];else{i.selectedFields.push(t.qName);r["default"].getService("$timeout")((function(){e.scrollDown+=1}))}}function h(){i.name="";i.description="";i.tags=[];i.selectedFields=[];delete i.labelExpression}function v(){return""===i.name&&""===i.description&&0===i.tags.length&&0===i.selectedFields.length}return{selectFieldHandler:p,updateFieldExpression:u,isFieldInList:c,clearDialog:h,isEmpty:v,validateNameField:a,validateFieldsInDimension:o,validate:s,filterFields:l}}var h={create:function e(t,n,r,i){return new p(t,n,r,i)}};var v=n("6uJb");var m={};Object.defineProperties(m,{single:{value:"N",writable:false},drilldown:{value:"H",writable:false}});var g={dimensionTypes:m};var b=n("ESef");var y=n("0GN8");var w=n("xWKo");var S=n("G3JA");var x=n("UJnM");var C=n("7TTN");var q=n("xw0d");var E=n("knjk");var I=n("UV1h");var k=n("45bU");function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function D(e,t,n){t&&T(e.prototype,t);n&&T(e,n);return e}var O=null;var L=null;var M=null;var P=function(){function e(t){A(this,e);O=t.qInfo.qId;L=t;M=k["a"].getTemplate()}D(e,[{key:"initModel",value:function e(){return k["a"].getColorMap(O).then((function(e){if(e){M=e;void 0===M.autoFill&&(M.autoFill=!(M.single&&false===M.usePal||M.pal))}}))}},{key:"hasColors",value:function e(){return M&&!!(M.pal&&M.pal.length&&M.pal!==I["a"].dataPalettes[0].propertyValue)||M&&false===M.autoFill||["nul","oth","single"].some((function(e){return M[e]&&"none"!==M[e].color}))||M.colors.some((function(e){return"none"!==e.baseColor.color}))}},{key:"save",value:function e(){if(this.hasColors())return k["a"].setColorMap(O,M);return k["a"].deleteColorMap(O).then((function(){M=k["a"].getTemplate();delete L.qDim.coloring.colorMapRef}))}},{key:"clearColors",value:function e(){M=k["a"].getTemplate()}}]);return e}();Object.defineProperties(P.prototype,{dimensionName:{get:function e(){return L.qDim.title}},fieldName:{get:function e(){return L.fieldName}},colors:{get:function e(){return M.colors}},nullColor:{get:function e(){return I["a"].resolveColor(M.nul)},set:function e(t){if(t&&(null===M.nul||M.nul.color!==t.color||M.nul.index!==t.index)){t.color||(M.nul={color:t,index:I["a"].currentPalette.indexOf(t)});t.color&&(M.nul={color:t.color,index:t.index})}}},othersColor:{get:function e(){return I["a"].resolveColor(M.oth)},set:function e(t){if(t&&(null===M.oth||M.oth.color!==t.color||M.oth.index!==t.index)){t.color||(M.oth={color:t,index:I["a"].currentPalette.indexOf(t)});t.color&&(M.oth={color:t.color,index:t.index})}}},singleColor:{get:function e(){return I["a"].resolveColor(M.single)},set:function e(t){if(t&&(null===M.single||M.single.color!==t.color||M.single.index!==t.index)){t.color||(M.single={color:t,index:I["a"].currentPalette.indexOf(t)});t.color&&(M.single={color:t.color,index:t.index})}}},palette:{get:function e(){return M.pal?M.pal:I["a"].dataPalettes[0].propertyValue},set:function e(t){M.pal!==t&&(M.pal=t!==I["a"].dataPalettes[0].propertyValue?t:null);this.usePalette=true}},usePalette:{get:function e(){return null===M.usePal||M.usePal},set:function e(t){M.usePal!==t&&null!==t&&(M.usePal=t)}},autoFill:{get:function e(){return M.autoFill},set:function e(t){M.autoFill=t;if(t){M.pal=null;M.usePal=null;this.singleColor="none"}else{this.usePalette=true;"none"===this.singleColor&&(this.singleColor="#4477aa")}}}});var N=P;var R=n("G1wx");var F=n("IVN8");var _=n("GWYG");var j=n("3Q40");var B=n("kS4/");var V=n("Bcg+");var H=n("kh9L");var z=n("qd1e");var $=n("MW42");var U=n("S4RG");var G='<div class="qv-dim-dlg-colors">\n\t<div class="qv-dim-dlg-colors-column qv-dim-dlg-colors-column-left">\n\t\t\t<h2 class="qv-dim-dlg-colors-header">{{colorModelWrapper.dimensionName}}</h2>\n\t\t<div class="qv-dim-dlg-colors-colormap">\n\t\t\t<qv-color-mapper\n\t\t\t\tvisible="visible"\n\t\t\t\tfield-name="colorModelWrapper.fieldName"\n\t\t\t\tdimension-name="colorModelWrapper.dimensionName"\n\t\t\t\tuse-palette="colorModelWrapper.usePalette"\n\t\t\t\tcolor-array="colorModelWrapper.colors"\n\t\t\t\tpalette="colorModelWrapper.palette"\n\t\t\t\tsingle-color="colorModelWrapper.singleColor"\n\t\t\t\thas-colors="colorModelWrapper.hasColors"></qv-color-mapper>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-others-row">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.others"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.othersColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.nullvalues"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.nullColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="qv-dim-dlg-colors-column qv-dim-dlg-colors-column-right">\n\t\t<div class="qv-dim-dlg-colors-row"></div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.autofilloption"></label>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-auto-fill">\n\t\t\t<h2 ng-show="colorModelWrapper.autoFill" class="qv-dim-dlg-colors-label" q-translation="Common.Auto"></h2>\n\t\t\t<h2 ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-label" q-translation="Common.Custom"></h2> \n\t\t\t<lui-switch x-model="colorModelWrapper.autoFill"></lui-switch>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.autofill"></label>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row">\n\t\t\t<select class="lui-select" ng-model="colorSelector">\n\t\t\t\t<option value="oneSelect" q-translation="library.colors.onecolor"></option>\n\t\t\t\t<option value="schemeSelect" q-translation="library.colors.colorscheme"></option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row" ng-if="colorSelector === \'oneSelect\'">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.color"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.singleColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\tdisable-none="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" ng-if="colorSelector === \'schemeSelect\'">\n\t\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.schemeselect"></label>\n\t\t\t</div>\n\t\t\t<div class="qv-dim-dlg-colors-row">\n\t\t\t\t<scheme-input palette="colorModelWrapper.palette"></scheme-input>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>';var W='<div class="qv-color-mapper">\n\t<div qva-direction x-dir-setting="\'ltr\'" class="qv-cm-search">\n\t\t<lui-search class="lui-search__input" query="query" placeholder="Common.Search"></lui-search>\n\t\t<button ng-class="{\'lui-active\' : popover}" class="lui-fade-button lui-fade-button--large" qva-activate="showOptionsMenu()" tid="clear-all-btn">\n\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--large lui-icon--more"></span>\n\t\t</button>\n\t</div>\n\t<div class="qv-cm-wrapper">\n\t\t<qv-scroll-area class="qv-cm-scroll-area qv-animate" ng-class="{ \'qv-color-mapper-interactive\': !scrollApi.virtualScrollEnabled }" x-direction="\'ltr\'">\n\t\t\t<ul class="qv-cm-color-mapper lui-list" ng-class="{ \'align-bottom\': scrollApi.alignBottomAbsolute }" qva-direction x-dir-setting="\'ltr\'">\n\t\t\t\t<qv-scroll-load-button tag="li" class="qv-cm-load-buttons" ng-show="scrollApi.loadPrevious" on-load="scrollApi.gotoPreviousBlock()" text="Object.Listbox.LoadPrevious" previous="true">\n\t\t\t\t</qv-scroll-load-button>\n\n\t\t\t\t<li ng-repeat="item in items" class="lui-list__item" class="lui-list__item"\n\t\t\t\t\tqv-color-picker-custom-new\n\t\t\t\t\tng-class="{\'lui-active\' : item.inEdit, \'lui-disabled\': !item.enabled}"\n\t\t\t\t\tng-model="item.color"\n\t\t\t\t\tkeep-open="true"\n\t\t\t\t\tdisable-none="false"\n\t\t\t\t\ton-change="onColorChange"\n\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\textended="true"\n\t\t\t\t\tdock="\'right\'",\n\t\t\t\t\tcallback="colorPickerCallback"\n\t\t\t\t\tqva-activate="item.enabled && mapItem(item) && onClick($event)"\n\t\t\t\t\ton-open="openColorPicker"\n\t\t\t\t\ton-close="closeColorpicker">\n\n\t\t\t\t\t<span class="lui-list__text qv-cm-list-text" ng-attr-title="{{item.tipText}}">\n\t\t\t\t\t\t<span ng-repeat="textItem in item.textItems" ng-class="{ highlighted: textItem.isHighlighted }" ng-bind="textItem.text"></span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div class="lui-list__aside">\n\t\t\t\t\t\t<div class="qv-cm-color-wrap">\n\t\t\t\t\t\t\t<span ng-if="!item.paletteIcon" class="qv-cm-color" ng-class="{\'qv-cm-narrow\' : !item.inEdit, \'qv-cm-wide\': item.inEdit}" ng-style="item.colorStyle"></span>\n\t\t\t\t\t\t\t<span ng-if="item.paletteIcon" class="qv-cm-color qv-cm-wide lui-icon" ng-class="{\'lui-icon--palette\' : !item.inEdit, \'lui-icon--bin\': item.inEdit}" ng-style="item.colorStyle"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\n\t\t\t\t<qv-scroll-loader tag="li" class="qv-scroll-row-loader"></qv-scroll-loader>\n\t\t\t\t<qv-scroll-load-button tag="li" class="qv-cm-load-buttons" ng-show="scrollApi.loadNext" on-load="scrollApi.gotoNextBlock()"\n\t\t\t\t\t\t\t\t\t\ttext="Object.Listbox.LoadMore"></qv-scroll-load-button>\n\t\t\t</ul>\n\t\t</qv-scroll-area>\n\t\t<qv-scroll-loader></qv-scroll-loader>\n\t</div>\n\t<div class="qv-cm-nbr-custom">\n\t\t<div class="qv-cm-custom-wrapper" ng-class="{\'qv-cm-animate-in qv-cm-color-limit-feedback\' : warning, \'qv-cm-animate-out\' : !warning }">\n\t\t\t<span ng-show="colorArray.length === 100" class="lui-icon lui-icon--warning lui-text-warning"></span>\n\t\t\t<span class="lui-text-default" ng-show="colorArray.length > 0" ng-class="{\'lui-text-warning\': colorArray.length === 100}">{{nbrCustom}}</span>\n\t\t\t<span class="lui-text-default" ng-show="colorArray.length === 0" q-translation="library.colors.clickonvalue"></span>\n\t\t</div>\n\t</div>\n</div>\n\n';var Q=n("cLto");var K=n("PX8M");var Y=n("8wLh");var J=n("KvOU");var Z=n("sWge");var X=n("Azxh");var ee=n("GF7R");var te='<lui-popover style="margin-top: -10px">\n\t<lui-popover-body class="lui-nopad">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item lui-list__action" ng-class="{\'lui-disabled\': !enabled}" qva-activate="clear()">\n\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis">\n\t\t\t\t\t<span q-translation="library.colors.clear"></span>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>';var ne=n("wIyQ");function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function ae(e,t,n){t&&ie(e.prototype,t);n&&ie(e,n);return e}var oe=function(){function e(t,n,r){re(this,e);this.palette=null;this.singleColor=null;this.length=0;if(t||"none"!==r){if(t){for(var i=0;i<I["a"].dataPalettes.length;i++)if(I["a"].dataPalettes[i].propertyValue===n){"pyramid"===I["a"].dataPalettes[i].type?this.palette=I["a"].dataPalettes[i].scale[I["a"].dataPalettes[i].scale.length-1]:this.palette=I["a"].dataPalettes[i].scale;break}this.palette||("pyramid"===I["a"].dataPalettes[0].type?this.palette=I["a"].dataPalettes[0].scale[I["a"].dataPalettes[0].scale.length-1]:this.palette=I["a"].dataPalettes[0].scale)}}else{var a=I["a"].dataPalettes[0];"pyramid"===a.type?this.palette=a.scale[a.scale.length-1]:this.palette=a.scale}if(this.palette){"none"===this.palette[0]&&(this.palette=this.palette.slice(1,this.palette.length));this.length=this.palette.length}else this.singleColor=I["a"].resolveColor(r)}ae(e,[{key:"getColor",value:function e(t){if(this.singleColor)return this.singleColor;return this.palette[t%this.length]}}]);return e}();var se=oe;function le(e){le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return le(e)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function de(e,t,n){t&&ue(e.prototype,t);n&&ue(e,n);return e}function fe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&pe(e,t)}function pe(e,t){pe=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return pe(e,t)}function he(e){var t=ge();return function n(){var r=be(e),i;if(t){var a=be(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ve(this,i)}}function ve(e,t){if(t&&("object"===le(t)||"function"===typeof t))return t;return me(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function be(e){be=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return be(e)}var ye=function(e){fe(n,e);var t=he(n);function n(){ce(this,n);return t.apply(this,arguments)}de(n,[{key:"getBoundingBox",value:function e(){return this.$scrollArea[0].getBoundingClientRect()}}]);return n}(C["a"]);var we=ye;var Se=n("Pz+M");function xe(e){xe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return xe(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){t&&qe(e.prototype,t);n&&qe(e,n);return e}function Ie(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&ke(e,t)}function ke(e,t){ke=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return ke(e,t)}function Ae(e){var t=Oe();return function n(){var r=Le(e),i;if(t){var a=Le(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Te(this,i)}}function Te(e,t){if(t&&("object"===xe(t)||"function"===typeof t))return t;return De(e)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Le(e){Le=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Le(e)}var Me=1024;var Pe=100;var Ne=37;function Re(e,t,n,r){var i=r.length;var a=i>0;var o={color:null,custom:false};if(a)for(var s=0;s<i;s++)if(r[s].value===t){o.color=I["a"].resolveColor(r[s].baseColor);o.custom=true;break}!o.color&&e.colorLookup&&(o.color=e.colorLookup.getColor(n));return o}function Fe(e){return ee["a"].isDark(e)?"#e6e6e6":"#595959"}function _e(e){e.nbrCustom=v["default"].get("library.colors.numberofcustomcolors",e.colorArray.length)}var je=function(e){Ie(n,e);var t=Ae(n);function n(e,r){var i;Ce(this,n);i=t.call(this);i.$scope=e;i.$timeout=r;i.model=null;i.qWidth=0;i.qHeight=0;return i}Ee(n,[{key:"initialize",value:function e(t,n){var r=this;this.updateSearch=function(){var e=this;this.model.getLayout().then((function(t){e.showSearch(t.qListObject.qSize.qcy)}))}.bind(this);return K["a"].getApp().then((function(e){return Y["a"].createTransientField(e,t,Be(n)).then((function(e){r.model=e;r.$scope.backendApi=new X["a"](e);e.on("changed",r.updateSearch);r.$scope.$watch("query",(function(e,t){if(void 0===e||e===t)return;e.length>0?r.$scope.backendApi.search(e):r.$scope.backendApi.abortSearch()}));return e.getLayout().then((function(e){r.qWidth=e.qListObject.qSize.qcx;r.qHeight=e.qListObject.qSize.qcy}))}))}))}},{key:"show",value:function e(){var t=this;var n=this.$scope.items.length;var r=0;var i=this.$scope.scrollApi.settings.viewportRowCount;i<n&&(i=n);return this.getData(r,i,false,false).then((function(){t.$scope.scrollApi.setTotalRows(t.qHeight);return t.$scope.scrollApi.setVirtualSize(true)}))}},{key:"showSearch",value:function e(t){var n=this;var r=0;var i=this.$scope.scrollApi.settings.viewportRowCount;var a=this.$scope.scrollApi.resetNativeScroll();return this.getData(r,i,false,false).then((function(){a();n.$scope.scrollApi.setTotalRows(t);return n.$scope.scrollApi.setVirtualSize(false)}))}},{key:"getRows",value:function e(){return this.$scope.items}},{key:"getRowCount",value:function e(){return this.$scope.items.length}},{key:"getFirstElementIndex",value:function e(){return this.$scope.items[0].dataRowIx}},{key:"getLastElementIndex",value:function e(){return this.$scope.items[this.$scope.items.length-1].dataRowIx}},{key:"onVirtualScroll",value:function e(t,n){this.$scope.colorPickerCallback&&this.$scope.colorPickerCallback.close&&this.$scope.colorPickerCallback.close();var r=this.getData(t,n,false,false);this.$scope.$digest();return r}},{key:"onInitialNativeScroll",value:function e(t,n){var r=this;this.$scope.colorPickerCallback&&this.$scope.colorPickerCallback.close&&this.$scope.colorPickerCallback.close();return this.$scope.rowLoaderCtrl.fadeIn(0,0,{width:"100%",height:"".concat(Ne,"px")}).then((function(){return r.getData(t,n,true,false).then((function(){return r.$scope.rowLoaderCtrl.fadeOut()}))}))}},{key:"gotoBlock",value:function e(t,n,r){var i=this.$scope.scrollApi.getSpliceArgs();var a=this.$scope.items;r&&a.reverse();a.splice.apply(a,i);return this.getData(t,n,true,r)}},{key:"onGotoNextBlock",value:function e(t,n){return this.gotoBlock(t,n,false)}},{key:"onGotoPreviousBlock",value:function e(t,n){return this.gotoBlock(t,n,true)}},{key:"onUpdateData",value:function e(t,n,r){this.updateItems(t,n,r);return this.$timeout((function(){}),0,false)}},{key:"updateItems",value:function e(t,n,r){var i;var a=0;var o;var s=this.$scope.items;var l=t[0].qMatrix;var c;var u;var d;var f=this.$scope.colorArray;var p=t[0].qArea.qTop;var h=t[0].qArea.qHeight;r&&l.reverse();n&&(a=s.length);for(i=0,o=l.length;i<o;++i){s[a+i]||(s[a+i]={});u=s[a+i];c=l[i][0];d=Re(this.$scope,c.qText||"",c.qElemNumber,f);u.paletteIcon=d.custom;u.dataRowIx=r?p+h-i-1:p+i;u.enabled=(c.qText||"").length<=Me;u.tipText=(c.qText||"").substring(0,Me);u.colorStyle={"background-color":d.color,color:Fe(d.color)};u.color=d.color;u.inEdit=false;this.updateTextItem(u,c)}n||s.splice(i);r&&s.reverse()}},{key:"updateTextItem",value:function e(t,n){var r=n.qHighlightRanges&&n.qHighlightRanges.qRanges.length||0;var i=n.qText&&n.qText.split("")||[];var a=0;var o;t.textItems=[];i.length||t.textItems.push({isHighlighted:false,text:""});if(!r){t.textItems.push({isHighlighted:false,text:(n.qText||"").substring(0,Me)});return}var s=n.qHighlightRanges.qRanges.sort((function(e,t){return e.qCharPos-t.qCharPos}));for(var l=0;l<r;++l){var c=s[l];o=c.qCharPos;o!==a&&t.textItems.push({isHighlighted:false,text:i.splice(0,o-a).join("")});t.textItems.push({isHighlighted:true,text:i.splice(0,c.qCharCount).join("")});a=c.qCharPos+c.qCharCount}i.length&&Me-a>0&&t.textItems.push({isHighlighted:false,text:i.splice(0,Me-a).join("")})}},{key:"getData",value:function e(t,n,r,i){var a=this;var o={qTop:t,qLeft:0,qWidth:1,qHeight:n};if(this.model)return this.model.getListObjectData("/qListObjectDef",[o]).then((function(e){return a.onUpdateData(e,r,i)}));return Z["a"].reject()}},{key:"release",value:function e(){if(this.model){this.model.removeListener("changed",this.updateSearch);this.model=null}}}]);return n}(Q["a"]);function Be(e){var t={title:e,qListObjectDef:{qDef:{}}};J["a"].autoSortDimension(t.qListObjectDef);return t}function Ve(e){var t;e.mapItem=function(e){t=e;return true};e.openColorPicker=function(){t.inEdit=true};e.closeColorpicker=function(n){var r;var i;var a;if(n&&n.target.classList.contains("lui-icon--bin")&&"none"!==t.color){i=e.colorArray.length;for(r=0;r<i;r++)if(e.colorArray[r].value===t.tipText){a=Re(e,null,t.dataRowIx,e.colorArray).color;e.colorArray.splice(r,1);t.colorStyle={"background-color":a};t.color=a;t.paletteIcon=false;break}}t.inEdit=false;_e(e)};e.onColorChange=function(){var n;var r=t.tipText;var i=null;var a=-1;var o;var s=e.colorArray;var l=s.length;for(o=0;o<l;o++)if(s[o].value===r){i=s[o];a=o;break}s.length!==Pe||"none"===t.color||i||e.blinkWarning();if("none"!==t.color){n={color:t.color.color,index:t.color.index};if(i){i.baseColor=n;t.colorStyle={"background-color":n.color,color:Fe(n.color)};t.paletteIcon=true}else if(s.length<Pe){s.push({value:r,baseColor:n});t.colorStyle={"background-color":n.color,color:Fe(n.color)};t.paletteIcon=true}}else if(a>-1){t.color=Re(e,null,t.dataRowIx,s).color;s.splice(a,1);t.colorStyle={"background-color":t.color};t.paletteIcon=false}_e(e)}}var He=["$scope",function(e){e.backendApi=null}];r["default"].directive("qvColorMapper",["$timeout","luiPopover",function(e,t){return{restrict:"E",template:W,controller:He,replace:true,require:["qvColorMapper"],scope:{visible:"=",fieldName:"=",dimensionName:"=",usePalette:"=",colorArray:"=",palette:"=",singleColor:"=",hasColors:"="},link:function n(r,i){var a=i.find(".qv-cm-scroll-area");var o=a.controller("qvScrollArea");var s=i.find(".qv-scroll-loader:not(.qv-scroll-row-loader)").controller("qvScrollLoader");var l={blockSize:200,minRowHeight:Ne,maxRowHeight:Ne};var c;var u;var d=new we(i,a,"li:not(.qv-cm-load-buttons)","li:not(.qv-cm-load-buttons):first","li:not(.qv-cm-load-buttons):not(.qv-scroll-row-loader):last");var f=true;r.items=[];r.colorPickerCallback={};r.rowLoaderCtrl=a.find(".qv-scroll-row-loader").controller("qvScrollLoader");r.currentPalette=I["a"].currentPalette;r.showOptionsMenu=function(){var e=r;var n={template:te,controller:["$scope",function(t){t.enabled=e.hasColors();t.clear=function(){t.enabled&&e.$emit("clearAll")}}],alignTo:i.find(".qv-cm-search")[0],showArrow:false,dock:"bottom"};r.popover=t.show(n);r.popover.closed.then((function(){r.popover=null}))};r.warning=false;r.blinkWarning=function(){r.warning=true;e((function(){r.warning=false}))};Ve(r);function p(){if(u&&u.model){r.colorLookup=new se(r.usePalette,r.palette,r.singleColor);u.show()}}function h(){if(r.popover){r.popover.close();r.popover=null}}ne["a"].on("start",h);r.$on("$destroy",(function(){c&&c.destroy&&c.destroy();r.backendApi&&r.backendApi.abortSearch();u&&u.release();ne["a"].off("start",h)}));r.$watch("visible",(function(t){if(t){if(!f){c.destroy();r.items=[];r.backendApi.abortSearch();u.release()}if(r.fieldName){c=new x["a"](e,l);r.scrollApi=c;u=new je(r,e);c.initialize(d,u,o,s).then((function(){c.activate();c.updateViewport();u.initialize(r.fieldName,r.dimensionName).then((function(){p();f=false}))}));_e(r)}}}),false);r.$watchCollection("[palette, singleColor, usePalette, colorArray]",(function(){p()}))}}}]);var ze='<div qv-enter="onClick($event)" class="lui-popover custom-dimensions-input-button" ng-class="{\'active\':active}" ng-style=" {\'height\' : buttonHeight, \'border-color\' : expandedBorder.borderColor} " ng-mouseenter="activateHover()" ng-mouseleave="disableHover()" qva-outside="close()">\n\t<div ng-if="!expanded" qva-activate="onClickSchemePicker($event)" class="custom-dimensions-selector-wrapper">\n\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemeInputLogic.getCurrentPalette().translation, schemeInputLogic.getCurrentPalette().name)}}</span>\n\t\t<span class="lui-icon lui-icon--small lui-icon--triangle-bottom" style="float: right; margin-top: 7px; margin-right: 8px">\n\t\t</span>\n\t\t<div class="palette-color-wrapper">\n\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemeInputLogic.getCurrentPalette()) track by $index">\n\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemeInputLogic.getCurrentPalette(), $index), \'width\' : getPaletteViewWidth(schemeInputLogic.getCurrentPalette()), \'height\' : colorBarHeight}"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div ng-if="expanded" qva-activate="onClickSchemePicker($event)" class="custom-dimensions-selector-wrapper">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item lui-list__action custom-dimensions-palette-select" q-title-translation="{{schemeInputLogic.getCurrentPalette().translation}}" qva-activate="pickScheme($event, schemeInputLogic.getCurrentPalette())">\n\t\t\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemeInputLogic.getCurrentPalette().translation, schemeInputLogic.getCurrentPalette().name)}}</span>\n\t\t\t\t<div class="palette-color-wrapper">\n\t\t\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemeInputLogic.getCurrentPalette()) track by $index">\n\t\t\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemeInputLogic.getCurrentPalette(), $index), \'width\' : getPaletteViewWidth(schemeInputLogic.getCurrentPalette()), \'height\' : colorBarHeight}"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li class="lui-list__item lui-list__action custom-dimensions-palette-select" ng-repeat=" schemePalette in schemeInputLogic.getPalettes()" ng-if="schemePalette != schemeInputLogic.getCurrentPalette()" q-title-translation="{{schemePalette.translation}}" qva-activate="pickScheme($event, schemePalette)">\n\t\t\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemePalette.translation, schemePalette.name)}}</span>\n\t\t\t\t<div class="palette-color-wrapper">\n\t\t\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemePalette) track by $index">\n\t\t\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemePalette, $index), \'width\' : getPaletteViewWidth(schemePalette), \'height\' : colorBarHeight}"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>';function $e(e){var t=r();var n=t.filter((function(t){return t.propertyValue===e}))[0];n||(n=t[0]);function r(){var e=[];I["a"].dataPalettes.forEach((function(t){"true"!==t.disabled&&e.push(t)}));return e}function i(e,t){if("pyramid"===e.type)return e.scale[e.scale.length-1][t];return e.scale[t]}function a(e,t){var n;n="pyramid"===e.type?e.scale[e.scale.length-1].length:e.scale.length;return"".concat(.85*t.width()/n,"px")}function o(e){if("pyramid"===e.type)return e.scale[e.scale.length-1];return e.scale}function s(e){if("pyramid"===e.type)return e.scale[e.scale.length-1].length;return e.scale.length}function l(e){var t=0;for(;t<e.length;t++)if(e[t].propertyValue===n.pal){n=e[t];break}}function c(e){n=e;e.pal=n.propertyValue}function u(){return n}function d(){return t}return{getThemePalettes:r,getPaletteColor:i,getPaletteViewWidth:a,getPaletteScale:o,getNumberOfPaletteColors:s,updatePalette:l,pickScheme:c,getCurrentPalette:u,getPalettes:d}}var Ue={create:function e(t){return new $e(t)}};r["default"].directive("schemeInput",[function(){var e={borderColor:"#B3B3B3"};var t={borderColor:"#595959"};return{restrict:"E",replace:true,template:ze,scope:{palette:"="},link:function n(r,i){r.schemeInputLogic=Ue.create(r.palette);r.colorBarHeight="7px";r.expanded=false;r.buttonHeight="36px";r.expandedBorder=e;r.pickScheme=function(e,t){r.schemeInputLogic.pickScheme(t);r.palette=t.propertyValue};r.getPaletteViewWidth=function(e){var t=r.schemeInputLogic.getNumberOfPaletteColors(e);return"".concat(.85*i.width()/t,"px")};r.onClickSchemePicker=function(){r.expanded=!r.expanded;if(r.expanded&&r.schemeInputLogic.getPalettes().length>5){r.buttonHeight="".concat(209,"px");r.expandedBorder=t}else if(r.expanded){r.buttonHeight="".concat(38*r.schemeInputLogic.getPalettes().length,"px");r.expandedBorder=t}else{r.buttonHeight="36px";r.expandedBorder=e}};r.close=function(){r.expanded=false;r.buttonHeight="36px";r.expandedBorder=e};r.activateHover=function(){r.expandedBorder=t};r.disableHover=function(){r.expanded||(r.expandedBorder=e)};r.getPaletteName=function(e,t){var n=v["default"].get(e);n||(n=t);return n};r.$watch("palette",(function(){if(r.palette&&r.schemeInputLogic.getCurrentPalette().propertyValue!==r.palette){var e=r.schemeInputLogic.getThemePalettes().filter((function(e){return e.propertyValue===r.palette}))[0];e||(e=r.schemeInputLogic.getThemePalettes()[0]);r.schemeInputLogic.pickScheme(e)}}),true)}}}]);r["default"].directive("qvDimensionColors",[function(){return{restrict:"E",template:G,replace:true,scope:{visible:"=",colorModelWrapper:"="},link:function e(t){t.currentPalette=I["a"].currentPalette;t.$watchCollection("[visible, colorModelWrapper.autoFill]",(function(){t.colorModelWrapper&&(t.colorSelector=t.colorModelWrapper.usePalette?"schemeSelect":"oneSelect")}));t.$watch("colorSelector",(function(){t.colorModelWrapper&&(t.colorModelWrapper.usePalette="schemeSelect"===t.colorSelector)}),false);t.$on("clearAll",(function(){w["a"].show({text:"library.colors.clearcolorsconfirmation"}).then((function(){t.colorModelWrapper.clearColors();t.colorSelector=t.colorModelWrapper.usePalette?"schemeSelect":"oneSelect"}))}))}}}]);var Ge=g.dimensionTypes;var We;var Qe="drilldown";var Ke="single";var Ye;var Je=false;function Ze(e,t,n){function r(){var e=n.input.dimension.selectedFields[0];!e||""!==e&&e!==n.input.dimension.name||(n.input.dimension.name="")}e===Qe&&t===Ke&&(n.add?r():!Je&&n.colorModelWrapper.hasColors()?w["a"].show({text:"library.colors.drilldownwarning"}).then((function(){r()})).catch((function(){n.input.dimension.type=Ke;et(n)})):r());e===Ke&&1===n.input.dimension.selectedFields.length&&Ye.validateFieldsInDimension();if(e===Ke&&n.input.dimension.selectedFields.length>1){Je=true;w["a"].show({text:"Dimensions.Dialog.FieldDeleteWarning"}).then((function(){n.input.dimension.type=Ke;n.input.dimension.selectedFields.length=1;et(n);Je=false;n.colorModelWrapper=new N(n.input.dimension);n.colorModelWrapper.initModel()})).catch((function(){Je=false}));n.input.dimension.type=t}}function Xe(e,t,n){if(n.input.dimension.type===Ke&&1===e.length&&Ye.isFieldInList(e[0],n.input.dimension.allFields)){var r=E["a"].trimAutoCalendarName(e[0]);var i=E["a"].trimAutoCalendarName(t[0]);(1!==t.length||i!==n.input.dimension.name&&n.input.dimension.name)&&(0!==t.length||n.input.dimension.name)||(n.input.dimension.name=r)}else n.input.dimension.type===Ke&&n.input.dimension.name===t[0]&&Ye.isFieldInList(n.input.dimension.name,n.input.dimension.allFields)&&(n.input.dimension.name="")}function et(e){e.input.dimension.allFields.forEach((function(t){t.selected=e.input.dimension.selectedFields.includes(t.qName)}))}function tt(e){e.input.dimension.allFields.forEach((function(t){t.used=t.used||e.input.dimension.selectedFields.includes(t.qName)}))}function nt(e){e.input.dimension.allFields.forEach((function(e){e.used=false}))}function rt(e){return{name:e.input.dimension.name,description:e.input.dimension.description,descriptionExpression:e.input.dimension.descriptionExpression,tags:e.input.dimension.tags,expr:e.input.dimension.selectedFields,type:e.input.dimension.type,baseColor:e.input.dimension.qDim.coloring.baseColor,colorsChanged:true,labelExpression:e.input.dimension.labelExpression}}function it(e,t){e.$watch("input.dimension.type",Ze);e.$watch("input.dimension.selectedFields",Xe,true);e.$watch("input.dimension.selectedTable",t.filterFields);e.$watch("input.dimension.name",(function(){e.input.dimension.validity.name||t.validateNameField()}));e.$watch("input.dimension.selectedFields",(function(){e.input.dimension.validity.selectedFields||t.validateFieldsInDimension();e.input.dimension.selectedFields.length?e.input.dimension.fieldName=e.input.dimension.selectedFields[0]:e.input.dimension.fieldName=null}),true);e.$watch("search.query",(function(){t.filterFields()}))}var at={template:l,controller:["$scope","qvConfirmDialog",function(e,t){var n=e.input.tableData;var r=e.input.dimension;e.scrollDown=0;e.initColorMap=function(t){e.visible=t};e.theme=I["a"];e.input.dimension.qDim.coloring||(e.input.dimension.qDim.coloring={});Object.defineProperty(e,"color",{get:function t(){return e.theme.resolveColor(e.input.dimension.qDim.coloring.baseColor)},set:function t(n){var r="undefined"!==typeof n.color?n.color:n;var i="undefined"!==typeof n.index?n.index:e.theme.currentPalette.indexOf(n);e.input.dimension.qDim.coloring.baseColor={color:r,index:i}}});r.name=E["a"].trimAutoCalendarName(r.name);r.validity={};r.validity.description=true;r.validity.name=true;r.validity.selectedFields=true;r.validity.labelExpression=true;r.selectedFields=r.qDim.qFieldDefs;r.labelExpression=r.qDim.qLabelExpression;r.descriptionExpression=r.qDim.descriptionExpression;r.type=r.qDim.qGrouping===Ge.drilldown?Qe:Ke;r.stringLimits=b["a"];r.allFields=[];We=v["default"].get("Common.All.Tables");e.allTablesStr=We;r.selectedTable=We;if(!e.add&&r.type===Ke){e.colorModelWrapper=new N(r);e.colorModelWrapper.initModel()}e.showLabelExpression=function(){return r.type===Ke};e.search={query:""};e.sortableLists={options:{direction:"vertical",itemSelector:"li:not(.empty-expression-placeholder)"},onBegin:function e(t){a(t)},onEnter:function t(n){S["a"].move(r.selectedFields,e.placeholderIndex,n);e.placeholderIndex=n},onMove:function t(n,i){l();if(null===i||e.placeholderIndex===n)return;n<i&&i--;S["a"].move(r.selectedFields,n,i)},onCancel:function e(){l()},allowDrag:function e(t){if(R["a"].isMouse(t))return!!o()(t.target).closest(".field-token").length;return!!o()(t.target).closest(".icon-handle").length}};e.placeholderIndex=-1;function a(t){e.placeholderIndex=t;r.selectedFields.splice(t,0,"")}function l(){if(-1!==e.placeholderIndex){r.selectedFields.splice(e.placeholderIndex,1);e.placeholderIndex=-1}}e.$root.$evalAsync((function(){Ye=h.create(e,y["a"],b["a"]);it(e,Ye)}));if(n){r.allFields=n.fields;r.filteredFields=n.fields.slice();r.tables=n.tables;r.tables.unshift(We)}e.cancel=function(){r.updateTags();!e.input.add||Ye.isEmpty()?e.destroyComponent():t.show({message:v["default"].get("Dimensions.Dialog.CloseWarning"),icon:"cogwheel"}).closed.then((function(t){t&&e.destroyComponent()}))};u["a"].StateChanged.bind(e.cancel);e.showAddingFeedback=function(){e.adding=true;setTimeout((function(){e.adding=false;e.added=true;e.$apply()}),500)};e.hideAddedFeedback=function(){e.added=false};e.getFieldDisplayName=function(t){var n=t.isDerived&&""===e.search.query?t.qName.substring(t.qName.lastIndexOf(".")+1,t.qName.length):E["a"].trimAutoCalendarName(t.qName);return n};e.getTrimmedName=function(e){return E["a"].trimAutoCalendarName(e)};e.confirm=function(){r.updateTags();r.expr=r.selectedFields;if(Ye.validate())if(e.input.add){e.input.callback(rt(e));tt(e);Ye.clearDialog();et(e);e.showAddingFeedback();e.color="none"}else if(e.colorModelWrapper){e.input.dimension.selectedFields.length>1&&e.colorModelWrapper.clearColors();e.colorModelWrapper.save().then((function(){e.input.callback(rt(e));e.destroyComponent()}))}else{e.input.callback(rt(e));e.destroyComponent()}};e.selectFieldHandler=function(t,n){n.preventDefault();setTimeout((function(){var r=s["a"].elementFromEventPosition(n);var i=r!==n.target;if(i)return;Ye.selectFieldHandler(t);et(e);e.$apply()}),100)};e.removeItemHandler=function(t){r.selectedFields.splice(t,1);e.expressionColor=false;et(e)};function c(t,n){Ye.updateFieldExpression(t,n);e.expressionColor=true;et(e)}e.editExpressionHandler=function(t,n){t.preventDefault();var r=e;var a=r.input.dimension.selectedFields[n]||"";"="!==a.substr(0,1)&&a.length&&(a="=".concat(i["a"].escapeField(a)));r.input.expressionInterface(c,n,a)};et(e);nt(e)}]};function ot(e){var t={title:e.title,tableData:e.tableData,dimension:e.dimension,expressionInterface:e.expressionInterface,add:e.add,callback:e.callback};var n=r["default"].getService("luiDialog").show({template:at.template,controller:at.controller,input:t,dock:"top",closeOnOutside:false,showArrow:false});return n}function st(e){e.title="Dimensions.Dialog.Add.Title";e.add=true;ot(e)}function lt(e){e.title="Dimensions.Dialog.Edit.Title";ot(e)}r["default"].directive("qvFieldList",["$timeout",function(e){return{template:c,link:function t(n,r){var i={minRowHeight:38,maxRowHeight:38,blockSize:60,keepItemsCount:10};var a=new x["a"](e,i);n.scroll=a;var o=new q["a"](a);n.$evalAsync((function(){var e=r.find(".scroll-area");var t=e.controller("qvScrollArea");var i=new C["a"](e,e,".lui-list__item",".lui-list__item:first",".lui-list__item:last");var s=r.find(".qv-scroll-loader").controller("qvScrollLoader");a.initialize(i,o,t,s).then((function(){a.activate();a.updateViewport();n.$watch("input.dimension.filteredFields",(function(e){if(!e)return;o.setList(e)}))}));n.$on("$destroy",(function(){a.destroy();u["a"].StateChanged.unbind(n.cancel)}))}))}}}]);r["default"].directive("qvScroll",[function(){return{link:function e(t,n){t.$watch("scrollDown",(function(e){e&&(n[0].scrollTop=n.find(".empty-expression")[0].parentNode.offsetTop)}))}}}]);var ct={add:st,edit:lt};var ut=n("JbzQ");var dt=n("CyFZ");var ft=n("JUQR");function pt(e){function t(t){e.isDirectDiscoveryField(t)&&(t.dimensionDialogMetaData={icon:"direct-discovery",iconTooltip:e.getTypeTranslationKey(t.qTags)})}return{addIconMetaData:t}}var ht={create:function e(t){return new pt(t)}};var vt=n("TmCs");var mt=g.dimensionTypes;var gt=ht.create(ft["a"]);function bt(e,t){return e.localeCompare(t)}function yt(){return K["a"].getApp().then((function(e){return e.getFieldList().then((function(e){e=i["a"].extend(true,[],e);e=ft["a"].removeMeasureAndDetailsFields(e);e.sort((function(e,t){return e.qName.localeCompare(t.qName)}));e=vt["a"].expand(e);var t=[];for(var n=0;n<e.length;++n){var r=e[n];for(var a=0;a<r.qSrcTables.length;++a)-1===t.indexOf(r.qSrcTables[a])&&t.push(r.qSrcTables[a]);gt.addIconMetaData(r)}t.sort(bt);return{fields:e,tables:t}}))}))}function wt(e,t,n){dt["a"].show({expr:n,title:n?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then((function(n){e(t,n)}))}function St(e,t){yt().then((function(n){var r=!e.qInfo.qId;function a(n){var r=g.dimensionTypes;var i="drilldown";var a="single";e.qMetaDef={title:n.name,description:n.description,tags:n.tags};e.qDim.title=n.name;e.qDim.qGrouping=n.type===i?r.drilldown:r.single;e.qDim.qFieldDefs=n.expr;e.qDim.qLabelExpression=n.labelExpression;e.qDim.descriptionExpression=n.descriptionExpression;e.qDim.coloring||(e.qDim.coloring={});e.qDim.baseColor&&delete e.qDim.baseColor;if(n.colorsChanged){e.qDim.coloring.colorMapRef=e.qInfo.qId;e.qDim.coloring.changeHash="".concat(Math.random())}n.baseColor&&"none"!==n.baseColor.color?e.qDim.coloring.baseColor=n.baseColor:delete e.qDim.coloring.baseColor;n.type===a?e.qDim.qFieldLabels=[n.name]:e.qDim.qFieldLabels=[];t(e.qDim)}var o=i["a"].extend(true,{},e);o.name=e.qMetaDef.title;o.description=e.qMetaDef.description;o.tags=e.qMetaDef.tags;r?ct.add({dimension:o,tableData:n,expressionInterface:wt,callback:a}):ct.edit({dimension:o,tableData:n,expressionInterface:wt,callback:a})}))}function xt(){return{add:function e(t,n){var i={qInfo:{qType:"dimension"},qDim:{qGrouping:mt.single,qFieldDefs:[]},qMetaDef:{title:"",description:"",tags:[]}};function a(e){return ut["a"].create(i).then((function(t){r["default"].$rootScope.$emit("clearUndo");n&&n(t,e)}))}if(t){i.qDim.qFieldDefs.push(t.fieldName);i.qMetaDef.title=t.title;i.qDim.qLabelExpression=t.labelExpression}St(i,a)},edit:function e(t,n){ut["a"].get(t).then((function(e){e.getProperties().then((function(t){St(t,(function(){var i=t.qDim.coloring;i.baseColor&&i.baseColor.color&&"none"===i.baseColor.color&&delete i.baseColor;return e.setProperties(t).then((function(e){r["default"].$rootScope.$emit("clearUndo");n&&n(e)}))}))}))}))}}}var Ct=t["a"]=xt},"4qf9":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("sWge");var s=n("AyDD");var l='<div style="position: absolute;top:-99999px;left:-99999px;z-index:500;background: rgba(255, 255, 255, 0.6); visibility:hidden;" ng-style="style">\n <qv-object ng-if="data" object="data.object" model="data.model" options="data.options"></qv-object>\n</div>';var c=n("4nJ1");var u={template:l,scope:{id:"@",app:"=",object:"=",onDone:"=",size:"=",area:"="},controller:["$scope","$element",function(e,t){var n=f(e.id,e.object,e.area,e.app);var r={width:e.size.width,height:e.size.height};var i=n.snap;e.data=n.data;e.style={width:"".concat(r.width,"px"),height:"".concat(r.height,"px")};i.then((function(t){e.onDone(t)}));e.$on("$destroy",(function(){n.cancel()}));t.on("$destroy",(function(){e.$destroy()}))}]};var d=[];function f(e,t,n,r){var i=a["default"].getService("$timeout");var l=Object(o["a"])();var u=false;function d(){u=true;l.reject()}var f={object:{}};var p=o["a"].all({model:t&&t.model||r.getObject(e),viewState:t&&t.getViewState?t.getViewState():void 0}).then((function(e){if(u)return{};f.model=e.model;f.options={viewState:e.viewState,components:{scrollArea:{show:true}},onRendered:function e(t){l.resolve({doSnap:!t})}};return i((function(){return f.object.loaded?f.object.loaded.then((function(){var e=f.object;if(!e.supportExport()&&"auto-chart"!==c["a"].getValue(e,"ext.type"))return;return l.promise.then((function(t){var r,i,a,o;if(false===t.doSnap||"auto-chart"===c["a"].getValue(e,"ext.type")&&!e.supportExport())return;if("container"===(null===(r=e.ext)||void 0===r?void 0:r.type)&&true!==(null===(i=e.model)||void 0===i||null===(a=i.items)||void 0===a||null===(o=a.currentObject)||void 0===o?void 0:o.supportExport()))return;var l=v(n,f.object.layout,f.object);return s["a"].prepSnapshotData(f.object.layout,f.object,true,{ignoreReducedData:false},false).then((function(e){return f.object.model.app.getLayout().then((function(t){l.snapshotData=s["a"].formatSnapshotForRendering(e,t.qLocaleInfo);return l}))}))}))})):{}}),0,false)}));return{data:f,snap:p,cancel:d}}function p(e){var t=d.indexOf(e);t>=0&&d.splice(t,1);var n=i()(e).children("div");if(n.scope&&n.scope()){n.scope().$destroy();n.scope().destroyComponent()}i()(e).remove()}function h(){var e;while(e=d.pop())p(e)}function v(e,t,n){var r=n.ext&&n.ext.libraryInfo&&n.ext.libraryInfo.isThirdParty;var i={id:t.qInfo.qId,type:t.qInfo.qType,snapshotData:null,area:e,children:[],isExtension:r,title:t.title||""};return i}var m={snapshot:function e(t,n,r,a,l,c){var f=Object(o["a"])();var h={type:"object",size:n,snapshotData:{}};if(r&&r.loaded&&(r.ext&&r.ext.libraryInfo.isThirdParty||n.width===a.width&&n.height===a.height))return r.loaded.then((function(){h=v(l,r.layout,r);if(!r.supportExport())return h;return s["a"].prepSnapshotData(r.layout,r,true,{ignoreReducedData:false},false).then((function(e){return r.model.app.getLayout().then((function(t){h.snapshotData=s["a"].formatSnapshotForRendering(e,t.qLocaleInfo);return h}))}))}));var m=document.createElement("div");m.className="qv-snapshotter";d.push(m);document.body.appendChild(m);i()(m).showComponent(u,{id:t,object:r,size:n,area:l,app:c,onDone:function e(t){f.resolve(t);p(m)}});return f.promise},loadObject:f,cancel:function e(){h()}};var g=n("gh04");var b=n("6Z/P");var y='<div style="position: absolute;top:-99999px;left:-99999px;z-index:500;background: rgba(255, 255, 255, 0.6);visibility:hidden;" ng-style="style">\n  <div ng-repeat="cell in cells" style="position:absolute;" ng-style="cell.style">\n     <qv-object object="cell.data.object" model="cell.data.model" options="cell.data.options"></qv-object>\n  </div>\n</div>';var w={FULL:"full",GRID:"grid"};var S={template:y,scope:{sheetId:"@",sheet:"@",size:"@",onDone:"@",sheetLayout:"@"},controller:["$scope","$timeout","$element",function(e,t,n){var r={area:{left:0,top:0,width:1,height:1}};var i=1e5;var a=Object(o["a"])();var s;var l={};var c=e.sheet===b["a"].getModel();var u={width:e.size.width,height:e.size.height};var d=e.sheetLayout===w.FULL;var f=function t(n){if(false===n)e.onDone(false);else{r.size=u;r.children=n?n.filter((function(e){return e})):[];e.onDone(r)}};e.cells=[];e.style={width:"".concat(u.width,"px"),height:"".concat(u.height,"px")};e.$on("$destroy",(function(){a.reject();t.cancel(s)}));n.on("$destroy",(function(){e.$destroy()}));if(c){var p=b["a"].getGrid()&&b["a"].getGrid().cells||[];p.forEach((function(e){l[e.id]=e.object}))}g["a"].get(e.sheetId).then((function(n){n.getLayout().then((function(c){var p=c.columns;var h=c.rows;var v=[];r.id=c.qInfo.qId;r.type=c.qInfo.qType;r.title=c.labelExpression||c.qMeta.title||"";c.cells.forEach((function(t){var r;var i;var a;var o={left:t.col/p,top:t.row/h,width:t.colspan/p,height:t.rowspan/h};if(l[t.name]&&!l[t.name].ext)return;if(l[t.name]&&l[t.name].ext.libraryInfo.isThirdParty)a=m.snapshot(t.name,{width:u.width*(d?1:o.width),height:u.height*(d?1:o.height)},l[t.name],{},o,n.enigmaModel.app).then((function(e){return e}));else{r=m.loadObject(t.name,l[t.name],o,n.enigmaModel.app);i={style:d?{left:0,top:0,width:"100%",height:"100%"}:{left:"".concat(100*t.col/p,"%"),top:"".concat(100*t.row/h,"%"),width:"".concat(100*t.colspan/p,"%"),height:"".concat(100*t.rowspan/h,"%")},data:r.data};i.data.area=o;a=r.snap.then((function(e){return e}));e.cells.push(i)}v.push(a)}));if(v.length){o["a"].all(v).then((function(e){a.resolve();t.cancel(s);f(e);return a.promise}));s=t((function(){a.reject();f(false)}),i)}else f()}))}),(function(){f()}))}]};var x=[];function C(e){var t=x.indexOf(e);t>=0&&x.splice(t,1);var n=i()(e).children("div");n.scope&&n.scope()&&n.scope().$destroy();i()(e).remove()}function q(){var e;while(e=x.pop())C(e)}var E={snapshot:function e(t,n,r,a){var s=Object(o["a"])();var l=document.createElement("div");l.className="qv-snapshotter";x.push(l);document.body.appendChild(l);i()(l).showComponent(S,{sheetId:t,sheet:r,size:n||{},sheetLayout:a,onDone:function e(t){false===t?s.reject({timedOut:true}):s.resolve(t);C(l)}});return s.promise},cancel:function e(){q()}};var I=n("PX8M");var k=n("fXVZ");var A=n("FZ1g");var T=n("8T2z");var D=n.n(T);var O=n("KThf");var L=function e(t,n,r,a){var o;var s;var l;var c;var u;var d;var f;if(a){u=a.replace(/[^-\d.]/g,"");c=a.replace(/[-\d.]/g,"")}c=c||"pt";u=u||12;r&&-1===t.indexOf("font")&&(t="<font>".concat(t,"</font>"));var p=i()(i.a.parseHTML(t));var h=p.filter("font").add(p.find("font"));var v=p.filter("div").add(p.find("div"));var m="BR";p.each((function(e,t){t.tagName&&t.tagName.toUpperCase()===m.toUpperCase()&&(p[e]=document.createElement("div"))}));f=c;d=1;switch(c){case"px":d=.75;f="pt";break;default:break}var g=u*d;function b(e,t){var n=e.toFixed(2);return n+t}h.each((function(e,t){o=i()(t);l=t.getAttribute("size")||"3";s=1;switch(l){case"1":s=.5;break;case"2":s=.8;break;case"3":s=1;break;case"4":s=1.5;break;case"5":s=2;break;case"6":s=3;break;default:break}o.css({"font-size":b(g*s,f)});o.removeAttr("size")}));v.each((function(e,t){o=i()(t);var n=t.getAttribute("align");if(n){o.css({"text-align":"inherit"===n?"left":n});o.removeAttr("align")}else"inherit"===o.css("text-align")&&o.css({"text-align":"left"})}));var y="#545352";var w=b(g,f);t=p.wrapAll('<div style="color:'.concat(y,"; font-size:").concat(w,';">')).parent().wrapAll("<div>").parent().html();return t};var M={enrichHtml:L};var P=n("6lDd");var N=n("UV1h");function R(e,t){if(e)return A["a"].get(e).then((function(e){return e.apply()}),(function(){}));return k["a"].get(t).then((function(e){return e.getSnapshotObject().then((function(e){return e.apply()}))}))}var F=function e(t,n,r,i,o,l){var c="".concat(window.location.protocol,"//").concat(window.location.host);var u={properties:{origin:c},snapshotData:null};var d={image:function e(t){u.properties.qUrl=t.srcPath.qStaticContentUrl.qUrl;u.properties.resourceUrl=c+t.srcPath.qStaticContentUrl.qUrl},text:function e(t){var n=null;var s=t.style.text;var l=a["default"].getService("$sce");"string"===typeof s&&(n=l.getTrustedHtml(D.a.toHTML(s)));if("title"===t.visualizationType){var c=P["a"].calculatePrintTitleFontSize(n,r.height-10,1.32);n=M.enrichHtml(n,i,true,"".concat(c,"px"))}else{var d=P["a"].calculatePrintParagraphFontSize(o.height);n=M.enrichHtml(n,i,false,"".concat(d,"px"))}u.properties.html=n;u.properties.color=t.style.color;u.properties.text=s},shape:function e(t){u.properties.dataPath=t.dataPath;u.properties.resourceUrl="".concat(c,"/").concat(t.dataPath);"undefined"!==t.style.colorPaletteIndex?u.properties.color=N["a"].resolveColor({color:t.style.color,index:t.style.colorPaletteIndex}):u.properties.color=t.style.color},snapshot:function e(t){false!==t.qEmbeddedSnapshot.supportExport?u.snapshotData=s["a"].formatSnapshotForRendering(t.qEmbeddedSnapshot,l.qLocaleInfo):u.invalid=true},sheet:function e(t,n){var r=t.qInfo.qId;var i=t.selectionState?t.selectionState.init:null;u=R(i,r).then((function(){return E.snapshot(t.sheetId,n)}))}};d[t]&&d[t](n,r);return u};function _(e,t,n,r,i){return k["a"].get(e.qInfo.qId).then((function(a){return a.getLayout().then((function(a){return F(e.qData.visualization,a,t,n,r,i)}))}))}function j(e){var t={"z-index":e["z-index"]};["left","top","width","height"].forEach((function(n){t[n]=parseFloat(e[n])/100}));return t}function B(e){if("auto"===e.left)return O["a"].getPosition("align-right");if("auto"===e.right)return O["a"].getPosition("align-left");return e}function V(e,t,n){var r=n.dpi;return I["a"].getApp().then((function(t){return t.getObject(e)})).then((function(e){return o["a"].all([e.app.getLayout(),e.getLayout()]).then((function(e){var n=e[0];var i=e[1];var a=i.qChildList.qItems;if(!a.length)return[];return o["a"].all(a.map((function(e){var i=e.qData.position;"sheet"===e.qData.visualization&&(i=B(e.qData.position));var a=j(i);var o={width:t.width*a.width,height:t.height*a.height};return _(e,o,r,t,n).then((function(t){if(!t.invalid){var n={id:e.qInfo.qId,type:e.qInfo.qType,visualization:e.qData.visualization,visualizationType:e.qData.visualizationType,snapshotData:t.snapshotData,size:t.size,children:t.children,area:a,properties:t.properties,title:t.title||""};return n}return}))})))}))}))}var H={snapshot:function e(t,n,r,i){return V(t,n||{},i).then((function(e){return{id:t,type:"slide",area:null,snapshotData:null,children:e.filter((function(e){return!!e}))}}))}};var z=n("cWJj");var $=n("+nQQ");function U(e,t,n,r){return I["a"].getApp().then((function(t){return t.getObject(e)})).then((function(e){return e.getLayout().then((function(e){var i=$["a"].sortSlidesByRank(e.qChildList.qItems.slice());if(!i.length)return{layout:e};var a=[];return i.map((function(e){return H.snapshot.bind(this,e.qInfo.qId,t,n,r)})).reduce((function(e,t){return e.then((function(e){e&&a.push(e);return t()}))}),o["a"].resolve()).then((function(t){a.push(t);return{layout:e,slides:a}}))}))}))}var G={snapshot:function e(t,n,r,i){return z["a"].get().then((function(e){return e.getLayout().then((function(e){return A["a"].create({title:"",selectionFields:e.qSelectionObject.qSelections}).then((function(e){return U(t,n||{},r,i).then((function(n){A["a"].apply(e.id).then((function(){A["a"].remove(e.id)}));return{id:t,type:"story",snapshot:null,area:null,children:n.slides,title:n.layout.qMeta.title||""}}))}))}))}))}};var W={OBJECT:"object",SHEET:"sheet",SLIDE:"slide",STORY:"story"};function Q(e,t){var n={left:0,top:0,width:1,height:1};return m.snapshot(e,t.size||{width:600,height:400},t.source,t.sourceSize||{},n)}function K(e,t){return E.snapshot(e,t.size||{width:600,height:400},t.source,t.sheetLayout)}function Y(e,t){return H.snapshot(e,t.size||{width:600,height:400},t.source,t.sourceSize)}function J(e,t){return G.snapshot(e,t.size||{width:600,height:400},t.source,t.sourceSize)}var Z=t["a"]={snapshot:function e(t,n,r){switch(n){case W.SHEET:return K(t,r||{});case W.STORY:return J(t,r||{});case W.SLIDE:return Y(t,r||{});case W.OBJECT:return Q(t,r||{});default:return}},cancel:function e(){var t=Array.prototype.slice.call(document.querySelectorAll(".qv-snapshotter"));var n;while(n=t.pop()){n=i()(n).children("div");n.slice().each((function(e,t){t=i()(t);t.scope&&t.scope()&&t.scope().$destroy();t.remove()}))}},type:W}},"4rHE":function(e,t,n){"use strict";var r=n("iBBK");var i=Date.now();var a="fnValues"+i;var o="fnStyle"+ ++i;function s(){return{onCreateRule:function e(t,n,i){if("function"!==typeof n)return null;var a=Object(r["d"])(t,{},i);a[o]=n;return a},onProcessStyle:function e(t,n){if(a in n||o in n)return t;var r={};for(var i in t){var s=t[i];if("function"!==typeof s)continue;delete t[i];r[i]=s}n[a]=r;return t},onUpdate:function e(t,n,r,i){var s=n;var l=s[o];if(l){s.style=l(t)||{};var c;false}var u=s[a];if(u)for(var d in u)s.prop(d,u[d](t),i)}}}t["a"]=s},"4zDG":function(e,t,n){"use strict";n.r(t);var r=n("TmNk");var i=n.n(r);var a=n("4nJ1");var o=n("6eTc");var s=n("G3JA");var l=n("2Hli");var c=n("/5Yl");var u=n("6uJb");var d=n("KBmc");var f=n("bTsw");var p=n("fwzx");var h=n("T+/0");var v="qHyperCubeDef.qMeasures";var m="measures";var g="qHyperCubeDef.qDimensions";var b="dimensions";var y="qCalcCondition";var w="conditionalShowHide";function S(e){h["a"].quarantineArrayProp(e,v,y,m,w);h["a"].quarantineArrayProp(e,g,y,b,w)}function x(e){h["a"].unquarantineArrayProp(e,v,y,m,w);h["a"].unquarantineArrayProp(e,g,y,b,w)}var C={quarantine:S,unquarantine:x};var q="qHyperCubeDef.qMeasures";var E="measures";var I="qDef.conditionalColoring";var k="conditionalColoring";function A(e){h["a"].quarantineArrayProp(e,q,I,E,k)}function T(e){h["a"].unquarantineArrayProp(e,q,I,E,k)}var D={quarantine:A,unquarantine:T};function O(e){O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return O(e)}var L=Math.pow(2,53)-1;function M(e,t,n){t.hasOwnProperty(e)&&(n[e]=t[e])}function P(e,t,n,r){t.hasOwnProperty(e)?n[e]=t[e]:n[e]=r}function N(e,t){var n=a["a"].extend(true,{},t,e);l["a"].getValue(n,"qOtherTotalSpec.qOtherCounted")||l["a"].setValue(n,"qOtherTotalSpec.qOtherCounted",{qv:"10"});l["a"].getValue(n,"qOtherTotalSpec.qOtherLimit")||l["a"].setValue(n,"qOtherTotalSpec.qOtherLimit",{qv:"0"});n.hasOwnProperty("othersLabel")||(n.othersLabel=u["default"].get("properties.dimensionLimits.others"));return n}function R(e,t){return a["a"].extend(true,{},t,e)}function F(e){return-1!==["qMetaDef","descriptionExpression","labelExpression"].indexOf(e)}function _(e){e.forEach((function(e){i.a.cleanUpMeasure(e);if(e.qDef.modifiers){e.store={modifiers:e.qDef.modifiers};delete e.qDef.modifiers}}))}function j(e){e.forEach((function(e){e.store&&e.store.modifiers&&(e.qDef.modifiers=e.store.modifiers);delete e.store}))}var B={exportProperties:function e(t,n,r){var i=new o["a"];var c=t.qProperty;var u=n?l["a"].getValue(c,n).qHyperCubeDef:c.qHyperCubeDef;var d=i.data[0];var f;var p;var h;u.qInterColumnSortOrder||(u.qInterColumnSortOrder=[]);for(f=0;f<u.qDimensions.length;++f)d.dimensions.push(u.qDimensions[f]);if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qDimensions)for(f=0;f<u.qLayoutExclude.qHyperCubeDef.qDimensions.length;++f)d.excludedDimensions.push(u.qLayoutExclude.qHyperCubeDef.qDimensions[f]);for(f=0;f<u.qMeasures.length;++f)d.measures.push(u.qMeasures[f]);if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qMeasures)for(f=0;f<u.qLayoutExclude.qHyperCubeDef.qMeasures.length;++f)d.excludedMeasures.push(u.qLayoutExclude.qHyperCubeDef.qMeasures[f]);d.interColumnSortOrder=u.qInterColumnSortOrder.concat();if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder){var v=u.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.concat();s["a"].isOrderedSubset(v,d.interColumnSortOrder)&&(d.interColumnSortOrder=v)}delete u.qLayoutExclude;for(p in c)i.properties[p]=c[p];if(n){i.properties.qHyperCubeDef=l["a"].getValue(c,n).qHyperCubeDef;delete l["a"].getValue(c,n).qHyperCubeDef}c.qLayoutExclude||(c.qLayoutExclude={});if(c.qLayoutExclude.disabled){for(p in c.qLayoutExclude.disabled){h=p;i.properties.hasOwnProperty(h)||(i.properties[h]=c.qLayoutExclude.disabled[p])}delete c.qLayoutExclude.disabled}if(c.qLayoutExclude.changed){W(c);delete c.qLayoutExclude.changed}c.qLayoutExclude.quarantine&&!a["a"].isEmpty(c.qLayoutExclude.quarantine)||delete c.qLayoutExclude;r||_(i.properties.qHyperCubeDef.qMeasures);return i},importProperties:function e(t,n,r,o){var l={qChildren:[]};var u={};var d=t.data[0];var f;var p;var h={layout:{templateId:n.templateId}};r.mapProperties(h);var v=r.getDefaultDimensionProperties();var m=r.getDefaultMeasureProperties();var g=r.data&&r.data.measures;g||(g=r.definition&&r.definition.items&&r.definition.items.measures||{max:0});var b="function"===typeof g.max?g.max(d.dimensions.length):Number.isNaN(+g.max)?L:g.max;var y="function"===typeof g.min?g.min(d.dimensions.length):Number.isNaN(+g.min)?0:g.min;var w=r.data&&r.data.dimensions;w||(w=r.definition&&r.definition.items&&r.definition.items.dimensions||{max:0});var S="function"===typeof w.max?w.max(b):Number.isNaN(+w.max)?L:w.max;var x="function"===typeof w.min?w.min(y):Number.isNaN(+w.min)?0:w.min;u.qLayoutExclude||(u.qLayoutExclude={});u.qLayoutExclude.disabled={};u.qLayoutExclude.quarantine={};for(f in t.properties)"qLayoutExclude"===f?t.properties[f].quarantine&&(u.qLayoutExclude.quarantine=a["a"].extend(true,{},t.properties[f].quarantine)):"qHyperCubeDef"===f&&o||(n.hasOwnProperty(f)||F(f)?u[f]=t.properties[f]:u.qLayoutExclude.disabled[f]=t.properties[f]);if(o&&t.properties.qHyperCubeDef){u[o]=u[o]||{};u[o].qHyperCubeDef=t.properties.qHyperCubeDef}u=a["a"].extend(true,{},n,u);null===u.components&&(u.components=[]);var C=o?n[o].qHyperCubeDef:n.qHyperCubeDef;var q=o?u[o].qHyperCubeDef:u.qHyperCubeDef;q.qDimensions.length=0;q.qMeasures.length=0;if(d.dimensions.length>S&&S>0||d.measures.length>b&&b>0||d.excludedDimensions.length&&d.dimensions.length+d.excludedDimensions.length>x||d.excludedMeasures.length&&d.measures.length+d.excludedMeasures.length>y||!b&&d.measures.length||!S&&d.dimensions.length){q.qLayoutExclude||(q.qLayoutExclude={});q.qLayoutExclude.qHyperCubeDef||(q.qLayoutExclude.qHyperCubeDef={});(d.dimensions.length>S&&S>0||d.excludedDimensions&&d.excludedDimensions.length&&d.dimensions.length+d.excludedDimensions.length>x)&&(q.qLayoutExclude.qHyperCubeDef.qDimensions||(q.qLayoutExclude.qHyperCubeDef.qDimensions=[]));(d.measures.length>b&&b>0||d.excludedMeasures&&d.excludedMeasures.length&&d.measures.length+d.excludedMeasures.length>y)&&(q.qLayoutExclude.qHyperCubeDef.qMeasures||(q.qLayoutExclude.qHyperCubeDef.qMeasures=[]));!b&&d.measures.length&&(q.qLayoutExclude.qHyperCubeDef.qMeasures||(q.qLayoutExclude.qHyperCubeDef.qMeasures=[]));!S&&d.dimensions.length&&(q.qLayoutExclude.qHyperCubeDef.qDimensions||(q.qLayoutExclude.qHyperCubeDef.qDimensions=[]))}if(S>0)for(p=0;p<d.dimensions.length;++p)q.qDimensions.length<S?q.qDimensions.push(N(d.dimensions[p],v)):q.qLayoutExclude.qHyperCubeDef.qDimensions.push(N(d.dimensions[p],v));else if(d.dimensions.length)for(p=0;p<d.dimensions.length;++p)q.qLayoutExclude.qHyperCubeDef.qDimensions.push(N(d.dimensions[p],v));if(d.excludedDimensions.length)for(p=0;p<d.excludedDimensions.length;++p)q.qDimensions.length<x?q.qDimensions.push(N(d.excludedDimensions[p],v)):q.qLayoutExclude.qHyperCubeDef.qDimensions.push(N(d.excludedDimensions[p],v));if(b>0)for(p=0;p<d.measures.length;++p)q.qMeasures.length<b?q.qMeasures.push(R(d.measures[p],m)):q.qLayoutExclude.qHyperCubeDef.qMeasures.push(R(d.measures[p],m));else if(d.measures.length)for(p=0;p<d.measures.length;++p)q.qLayoutExclude.qHyperCubeDef.qMeasures.push(R(d.measures[p],m));if(d.excludedMeasures.length)for(p=0;p<d.excludedMeasures.length;++p)q.qMeasures.length<y?q.qMeasures.push(R(d.excludedMeasures[p],m)):q.qLayoutExclude.qHyperCubeDef.qMeasures.push(R(d.excludedMeasures[p],m));var E=q.qDimensions.length+q.qMeasures.length;q.qInterColumnSortOrder=d.interColumnSortOrder.concat();p=q.qInterColumnSortOrder.length;if(p!==E){q.qLayoutExclude&&(q.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder=d.interColumnSortOrder.concat());while(p!==E)if(p<E){s["a"].indexAdded(q.qInterColumnSortOrder,p);++p}else{--p;s["a"].indexRemoved(q.qInterColumnSortOrder,p)}}var I=c["a"].mapProperties(c["a"].mapDefinition(r.definition,r.type),{},r.type);var k=o?I[o]&&I[o].qHyperCubeDef:I.qHyperCubeDef;["qAlwaysFullyExpanded","qSuppressMissing","qSuppressZero"].filter((function(e){return k&&"undefined"===typeof k[e]})).forEach((function(e){M(e,C,q)}));M("qMaxStackedCells",C,q);M("qNoOfLeftDims",C,q);P("qInitialDataFetch",C,q,[{qTop:0,qLeft:0,qWidth:0,qHeight:0}]);P("qMode",C,q,"S");P("qReductionMode",C,q,"N");P("qSortbyYValue",C,q);P("qIndentMode",C,q);P("qShowTotalsAbove",C,q);U(u,t,n);l.qProperty=u;var A=a["a"].getValue(r,"support.modifiers");i.a.isSupportedModifiers(A)&&j(l.qProperty.qHyperCubeDef.qMeasures);return l}};var V={exportProperties:function e(t){var n=new o["a"];var r=t.qProperty;var i=r.qListObjectDef;var a=n.data[0];var s;var l;var c;(i.qLibraryId||i.qDef&&i.qDef.qFieldDefs[0])&&a.dimensions.push({qLibraryId:i.qLibraryId,qDef:i.qDef,title:i.title,qOtherTotalSpec:{}});if(i.qLayoutExclude&&i.qLayoutExclude.qHyperCubeDef&&i.qLayoutExclude.qHyperCubeDef.qDimensions)for(s=0;s<i.qLayoutExclude.qHyperCubeDef.qDimensions.length;++s)a.excludedDimensions.push(i.qLayoutExclude.qHyperCubeDef.qDimensions[s]);if(i.qLayoutExclude&&i.qLayoutExclude.qHyperCubeDef&&i.qLayoutExclude.qHyperCubeDef.qMeasures)for(s=0;s<i.qLayoutExclude.qHyperCubeDef.qMeasures.length;++s)a.excludedMeasures.push(i.qLayoutExclude.qHyperCubeDef.qMeasures[s]);if(i.qLayoutExclude&&i.qLayoutExclude.qHyperCubeDef&&i.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder)for(s=0;s<i.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.length;++s)a.interColumnSortOrder.push(i.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder[s]);delete i.qLayoutExclude;for(l in r)n.properties[l]=r[l];if(r.qLayoutExclude&&r.qLayoutExclude._disabled){for(l in r.qLayoutExclude._disabled){c="_"===l.substr(0,1)?l.substring(1):l;n.properties.hasOwnProperty(c)||(n.properties[c]=r.qLayoutExclude.disabled[l])}delete r.qLayoutExclude.disabled}if(a.dimensions.length>0)for(s=0;s<a.dimensions[0].qDef.qSortCriterias.length;++s)a.dimensions[0].qDef.qSortCriterias[s].qSortByFrequency=0;return n},importProperties:function e(t,n){var r={qChildren:[]};var i={};var o=t.data[0];var s=1;var l;var c;i.qLayoutExclude||(i.qLayoutExclude={});i.qLayoutExclude.disabled={};for(l in t.properties)"qLayoutExclude"===l?t.properties[l].quarantine&&(i.qLayoutExclude.quarantine=a["a"].extend(true,{},t.properties[l].quarantine)):n.hasOwnProperty(l)||F(l)?i[l]=t.properties[l]:i.qLayoutExclude.disabled[l]=t.properties[l];i=a["a"].extend(true,{},n,i);i.qListObjectDef.qLayoutExclude||(i.qListObjectDef.qLayoutExclude={});i.qListObjectDef.qLayoutExclude.qHyperCubeDef||(i.qListObjectDef.qLayoutExclude.qHyperCubeDef={});i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions||(i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions=[]);i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures||(i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures=[]);i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder||(i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder=[]);for(c=0;c<o.dimensions.length;++c)if(c<s){i.qListObjectDef.qDef=o.dimensions[c].qDef;i.qListObjectDef.qLibraryId=o.dimensions[c].qLibraryId}else i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions.push(o.dimensions[c]);for(c=0;c<o.excludedDimensions.length;++c)i.qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions.push(N(o.excludedDimensions[c]));for(c=0;c<o.measures.length;++c)i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures.push(o.measures[c]);for(c=0;c<o.excludedMeasures.length;++c)i.qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.push(o.excludedMeasures[c]);for(c=0;c<o.interColumnSortOrder.length;++c)i.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.push(o.interColumnSortOrder[c]);i.qListObjectDef.qInitialDataFetch=n.qListObjectDef.qInitialDataFetch;U(i,t,n);r.qProperty=i;return r}};var H={importProperties:function e(t,n,r){var i=this.hypercube.importProperties(t,n,r);var a=l["a"].getValue(i,"qProperty.visualization");var o=l["a"].getValue(i,"qProperty.qHyperCubeDef.qDimensions",[]);var s=l["a"].getValue(i,"qProperty.qHyperCubeDef.qMeasures",[]);var c=l["a"].getValue(i,"qProperty.qHyperCubeDef.qMeasures.0.qAttributeExpressions",[]);var u=l["a"].getValue(i,"qProperty.color.colorExpression","");var p=l["a"].getValue(i,"qProperty.color.mode","");var h=l["a"].getValue(i,"qProperty.color.auto","");var v=l["a"].getValue(i,"qProperty.color.persistent",false);var m=f["a"].canColorBy(i.qProperty,a);if(m[p])if(h)d["a"].colorByUpdater(i.qProperty,"qHyperCubeDef.");else if("byDimension"!==p&&"byMeasure"!==p||!o.length){if("byExpression"===p&&s.length){c.splice(0,0,{qExpression:u,id:"colorByExpression"});l["a"].setValue(i,"qProperty.qHyperCubeDef.qMeasures.0.qAttributeExpressions",c)}}else d["a"].colorByUpdater(i.qProperty,"qHyperCubeDef.");else{l["a"].setValue(i,"qProperty.color.mode","primary");l["a"].setValue(i,"qProperty.color.auto",true);d["a"].colorByUpdater(i.qProperty,"qHyperCubeDef.")}o.length>1&&!v&&G("color.persistent",true,i);o.forEach((function(e){"qTotalMode"in e.qOtherTotalSpec&&delete e.qOtherTotalSpec.qTotalMode}));return i},exportProperties:function e(t,n,r){var i=this.hypercube.exportProperties(t,n,r);var a=i.data[0];p["a"].moveByIdFromGroup(a.dimensions.concat(a.excludedDimensions),[],"qAttributeDimensions",p["a"].IDMAP.COLOR_BY_ALTERNATIVE);p["a"].moveByIdFromGroup(a.dimensions.concat(a.excludedDimensions),[],"qAttributeExpressions",p["a"].IDMAP.COLOR_BY_ALTERNATIVE);p["a"].moveByIdFromGroup(a.measures.concat(a.excludedMeasures),[],"qAttributeExpressions",p["a"].IDMAP.COLOR_BY_EXPRESSION);return i}};var z={importProperties:function e(t,n,r){var i=this.colorChart.importProperties.apply(this,[t,n,r]);var o=i.qProperty;var s;var l;n.measureAxis&&"undefined"===typeof n.measureAxis.autoMinMax?K(o,"unsupportedAutoMinMax")||a["a"].extend(o.measureAxis,n.measureAxis):K(o,"supportedAutoMinMax")||a["a"].extend(o.measureAxis,n.measureAxis);if(t.properties.measureAxes&&!n.measureAxes&&n.measureAxis&&"undefined"!==typeof n.measureAxis.autoMinMax){var c=[];o.qHyperCubeDef.qMeasures.length>0&&o.qHyperCubeDef.qMeasures.forEach((function(e){if(e.qDef.series){c[e.qDef.series.axis]||(c[e.qDef.series.axis]={axis:e.qDef.series.axis,type:{line:0,marker:0,bar:0,total:0}});["bar","marker","line"].includes(e.qDef.series.type)&&c[e.qDef.series.axis].type[e.qDef.series.type]++;c[e.qDef.series.axis].type.total++}}));if(c.length){var u="barchart"===n.visualization?"bar":"linechart"===n.visualization?"line":"";u&&(s=c.filter((function(e){return e.type[u]>0})).sort((function(e,t){return t.type[u]-e.type[u]})));s&&s.length||(s=c.sort((function(e,t){return t.type.total-e.type.total})));s&&s[0]&&a["a"].extend(o.measureAxis,t.properties.measureAxes[s[0].axis])}else a["a"].extend(o.measureAxis,t.properties.measureAxes[0])}if(o.qHyperCubeDef.qDimensions.length>1){l=o.qHyperCubeDef.qInterColumnSortOrder.indexOf(0);if(0!==l){s=o.qHyperCubeDef.qInterColumnSortOrder[0];o.qHyperCubeDef.qInterColumnSortOrder[0]=0;o.qHyperCubeDef.qInterColumnSortOrder[l]=s}}return i},exportProperties:function e(t,n,r){var i=this.colorChart.exportProperties.apply(this,[t,n,r]);if("gauge"===i.properties.visualization){Q("measureAxis.min",i,"unsupportedAutoMinMax");Q("measureAxis.max",i,"unsupportedAutoMinMax")}else{Q("measureAxis.min",i,"supportedAutoMinMax");Q("measureAxis.max",i,"supportedAutoMinMax")}return i}};var $={importProperties:function e(t,n,r){var i;var a=this.hypercube.importProperties(t,n,r);var o=l["a"].getValue(a,"qProperty.qHyperCubeDef.qDimensions",[]);var s=o.length;var c=l["a"].getValue(a,"qProperty.qHyperCubeDef.qMeasures",[]).length;var u=l["a"].getValue(a,"qProperty.qHyperCubeDef.qInterColumnSortOrder",[]);var d;var f=true;s+c===u.length&&l["a"].setValue(a,"qProperty.qLayoutExclude.quarantine.interColSortOrder",u.concat());var p=l["a"].getValue(a,"qProperty.qLayoutExclude.quarantine.pivotInterColSortOrder");if(p){u=p;d=p.slice();l["a"].setValue(a,"qProperty.qHyperCubeDef.qInterColumnSortOrder",u);delete a.qProperty.qLayoutExclude.quarantine.pivotInterColSortOrder}else u.length=0;var h=u.indexOf(-1)>-1;var v=s+h;if(v>u.length)for(i=u.length;i<v;i++)u.indexOf(i)<0&&u.push(i-h);for(i=u.length-1;i>=0;i--)u[i]>=s&&u.splice(i,1);c>1&&u.indexOf(-1)<0?u.push(-1):c<2&&u.indexOf(-1)>-1&&u.splice(u.indexOf(-1),1);s>0&&-1===l["a"].getValue(a,"qProperty.qHyperCubeDef.qNoOfLeftDims",-1)&&l["a"].setValue(a,"qProperty.qHyperCubeDef.qNoOfLeftDims",s);if(d&&u&&d.length===u.length){for(i=0;i<d.length;i++)if(d[i]!==u[i]){f=false;break}f&&K(a.qProperty,"noOfLeftDims")}o.forEach((function(e){"qTotalMode"in e.qOtherTotalSpec||(e.qOtherTotalSpec.qTotalMode="TOTAL_EXPR")}));return a},exportProperties:function e(t){var n=l["a"].getValue(t,"qProperty.qHyperCubeDef.qInterColumnSortOrder",[]);var r=n.slice(0);var i=n.indexOf(-1);i>-1&&n.splice(i,1);var a=this.hypercube.exportProperties(t);var o=a.properties.qHyperCubeDef;var s=o.qDimensions.length;var c=o.qMeasures.length;var u=o.qInterColumnSortOrder;l["a"].setValue(a,"properties.qLayoutExclude.quarantine.pivotInterColSortOrder",r);Q("qHyperCubeDef.qNoOfLeftDims",a,"noOfLeftDims");delete a.properties.qHyperCubeDef.qNoOfLeftDims;var d=l["a"].getValue(a,"properties.qLayoutExclude.quarantine.interColSortOrder");if(d){u=d;l["a"].setValue(a,"properties.qHyperCubeDef.qInterColumnSortOrder",u);l["a"].setValue(a,"data.0.interColumnSortOrder",u);delete a.properties.qLayoutExclude.quarantine.interColSortOrder}for(var f=u.length;f<s+c;f++)u.length<=f&&u.push(f);return a}};function U(e,t,n){"masterobject"===t.properties.qInfo.qType?e.qInfo.qType="masterobject":e.qInfo.qType=n.qInfo.qType;e.visualization=n.visualization}function G(e,t,n){var r=n.qProperty;var i=n.qProperty.qLayoutExclude;if(!/boolean|number|string/.test(O(t))){l["a"].setValue(r,e,t);return}if(i){i.changed||(i.changed={});i.changed[e]={from:l["a"].getValue(r,e),to:t}}l["a"].setValue(r,e,t)}function W(e){for(var t in e.qLayoutExclude.changed)e.qLayoutExclude.changed[t].to===l["a"].getValue(e,t)&&l["a"].setValue(e,t,e.qLayoutExclude.changed[t].from)}function Q(e,t,n){var r=t.properties;var i=t.properties.qLayoutExclude;var a=l["a"].getValue(r,e);var o;var s;if(!/boolean|number|string/.test(O(a)))try{o=JSON.stringify(a);s=o.match(/:\{/g);s=s?s.length:0;if(s>2)return;a=JSON.parse(o)}catch(e){return}if(!i){t.properties.qLayoutExclude={quarantine:{}};i=t.properties.qLayoutExclude}i.quarantine||(i.quarantine={});i.quarantine[n]||(i.quarantine[n]={});i.quarantine[n][e]=a}function K(e,t){var n;var r=e.qLayoutExclude?e.qLayoutExclude.quarantine:{};if(!r[t])return false;r=r[t];for(n in r)l["a"].setValue(e,n,r[n]);delete e.qLayoutExclude.quarantine[t];return true}var Y={importProperties:function e(t,n){var r={qChildren:[]};var i={};var o;i.qLayoutExclude||(i.qLayoutExclude={});i.qLayoutExclude.disabled={};for(o in t.properties){if("qLayoutExclude"===o)continue;n.hasOwnProperty(o)||F(o)?i[o]=t.properties[o]:i.qLayoutExclude.disabled[o]=t.properties[o]}i=a["a"].extend(true,{},n,i);U(i,t,n);r.qProperty=i;return r},exportProperties:function e(t){var n=new o["a"];var r=t.qProperty;var i;var a;for(i in r)n.properties[i]=r[i];r.qLayoutExclude||(r.qLayoutExclude={});if(r.qLayoutExclude.disabled)for(i in r.qLayoutExclude.disabled){a=i;n.properties.hasOwnProperty(a)||(n.properties[a]=r.qLayoutExclude.disabled[i])}delete r.qLayoutExclude;return n}};var J=t["default"]={importCommonProperties:U,isMasterItemProp:F,hypercube:B,listbox:V,axisChart:z,colorChart:H,pivotChart:$,other:Y,changeProperty:G,quarantineProperty:Q,unquarantineObject:K,conditionalShow:C,conditionalColoring:D}},"51to":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("6uJb");var s=n("z4LI");var l='<div class="qv-odag-bar" ng-class="{\'inEditMode\': inEditMode, \'inAnalysisMode\': !inEditMode, \'standAlone\': standAlone }">\n\t<div class="leftOdag" qv-pager qv-sortable-list="sortableNavPoints"> \n\t\t<div ng-if="odagNavPoints.items.length === 0" class="drag-help" ng-class="{\'inEditMode\': inEditMode}">{{waterMarkText}}</div>\n\t\t<ul class="list">\n\t\t\t<li ng-repeat="item in odagNavPoints.items track by item.id" class="odag-nav-point" ng-class="item.classList">\n\t\t\t\t<div class="nav-point-container" ng-class="{\'invalid\': item.invalid }">\n\t\t\t\t\t<div ng-if="inEditMode" class="dropArea"></div>\n\t\t\t\t\t<qv-odag-toolbar-navpoint item="item" in-edit-mode="inEditMode"></qv-odag-toolbar-navpoint>\n\t\t\t\t</div>\n\t\t\t</li> \n\t\t</ul>\n\t\t<a class="qv-pager-nav qv-pager-previous" ng-click="prevPage()" q-title-translation="Tooltip.Previous"><i class="lui-icon lui-icon--arrow-left"></i></a>\n\t\t<a class="qv-pager-nav qv-pager-next" ng-click="nextPage()" q-title-translation="Tooltip.Next"><i class="lui-icon lui-icon--arrow-right"></i></a>\t\t\n\t</div>\n </div>\t\n';var c=n("8H7g");var u=n("G1wx");var d=n("wIyQ");var f=n("zkWp");var p=n("0m+j");var h=n("I4iM");var v=n("eg+O");var m=n("9/B2");var g=n("3uWz");var b=n("stK3");function y(e){return{odagLinkItem:function t(n){var r=n.item.getDropOption();var i={insertBeforeItem:e,title:r.args.init.linkRef.name,odagLinkRefID:r.args.init.linkRef.id};var a=s["a"].model;f["a"].addODAGNavPoint(a,i)}}}function w(e,t){function n(e,t,n){var r=y(t);var i={targetRect:n,drawRect:n,drop:r,dropShadePercentage:10};e.registerDropRect(i)}var r;var a={accept:{odagLinkItem:function e(){return true}},end:function n(){t.removeClass(r);e.dragging=false},start:function a(o){e.dragging=true;var s;try{s=t[0].getBoundingClientRect()}catch(e){return}var l={left:s.left+2,right:s.right-2,top:s.top+2,bottom:s.bottom-2};r="odagLinkItem"===o.info.type?"dragging library-dragging":"dragging";t.addClass(r);var c=t.find(".dropArea");for(var u=0;u<c.length;u++){var d=i()(c[u]);var f=d[0].getBoundingClientRect();var p={left:f.left+2,right:f.right-2,top:f.top+2,bottom:f.bottom-2};var h=null;var v=e.odagNavPoints;u<v.items.length&&(h=v.items[u]);n(o,h,p)}var m=t.find(".odag-nav-point-cell:last");var g={left:0,right:0,top:0,bottom:0};var b=l.left;if(m.length){g=m[0].getBoundingClientRect();b=g.right}var y={left:b,top:l.top,right:l.right,bottom:l.bottom};n(o,null,y)}};p["a"].registerDropTarget(a);e.$on("$destroy",(function(){p["a"].unregisterDropTarget(a)}))}var S={template:l,restrict:"E",scope:{model:"=",inEditMode:"=",standAlone:"="},link:function e(t,n){w(t,n)},controller:["$scope","$timeout","$element",function(e,t,n){e.sortableNavPoints=null;var r=e.standAlone?null:m["a"];e.odagToolbarService=new h["a"](r);e.dragging=false;e.waterMarkText="";var i=null;f["a"].isODAGAvailable(e.model.app).then((function(t){t&&v["a"].getList().then((function(t){t.layout&&t.layout.qAppObjectList&&t.layout.qAppObjectList.qItems.length>0&&f["a"].getODAGLinks(e.model.app)}))}));e.sortableNavPoints=c["a"].create({options:{direction:"horizontal",listKey:"list",listSelector:".list",itemKey:"item",itemSelector:".drag-odag-navpoint",itemDragSelector:".drag-odag-navpoint",gesture:{name:"swipe",options:{radiusThreshold:u["a"].treatAsDesktop()?4:0,preventDefault:false}}},allowDrag:function t(){var t=this._super.apply(this,arguments);return t&&e.inEditMode},addPlaceholder:function e(){this._super.apply(this,arguments)},onBegin:function e(t){this._super.apply(this,arguments);i=t;i.classList=["reordering"];var r=n.find(".list");r.css("height",r.innerHeight())},removePlaceholder:function e(){this._super.apply(this,arguments);var t=n.find(".list");t.css("height","");i.classList=""},onMove:function t(){this._super.apply(this,arguments);var n=e.odagNavPoints.get().map((function(e){return e.data}));var r=s["a"].model;f["a"].reorderNavPoints(r,n)}});e.odagNavPoints=e.sortableNavPoints.createList(1,{tid:"odagNavPoints"});e.$watchCollection("odagToolbarService.getOdagNavPoints()",(function(n){e.odagNavPoints.reset();for(var r=0;r<n.length;r++)e.odagNavPoints.addSortableItem(n[r]);t((function(){e.$broadcast("refreshPager")}))}));e.$watch("model.sheetId",(function(t){e.odagToolbarService.sheetChanged(t)}));e.$watch("dragging",(function(t){e.waterMarkText=t?o["default"].get("odag.toolbar.help.dragging"):o["default"].get("odag.toolbar.help.watermark")}));e.odagToolbarService.init(e.model.app,e.model.openAppCallback).then((function(){e.waterMarkText=o["default"].get("odag.toolbar.help.watermark")}));d["a"].on("end",(function(){e.refreshPager(false)}));e.$on("$destroy",(function(){e.odagToolbarService.destroy()}))}]};a["default"].directive("qvOdagToolbar",[function(){return S}]);var x=S},"52II":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("tdr+");var s={image:null,pdf:null};function l(e,t){function n(t){e.statusCode=t?t.httpStatusCode:"";var n=t&&t.status;switch(n){case e.states.CANCELED:case e.states.TIMEOUT:r(n);break;default:r(e.states.FAILED);break}}function r(n){e.state=n;t&&t(e.state)}function l(){return{width:i()("#qv-story-play").is(":visible")?i()("#qv-story-play").find(".qv-story-play-slide").first().width():e.input.currentWidth,height:i()("#qv-story-play").is(":visible")?i()("#qv-story-play").find(".qv-story-play-slide").first().height():e.input.currentHeight,dpi:e.input.currentDpi}}function c(t){if("data"===t&&e.print.hasNoDataToExport){r(e.states.NODATA);return false}u(t);return true}function u(t){if(e.obj&&e.input.object){var i;var c;var u;var d=e.print.minSize?e.print.minSize:8;e.print.width<d&&(e.print.width=d);e.print.height<d&&(e.print.height=d);e.print.dpi<e.minDpi&&(e.print.dpi=e.minDpi);e.print.dpi>e.maxDpi&&(e.print.dpi=e.maxDpi);var f=l();var p={width:Math.round(f.width),height:Math.round(f.height),dpi:f.dpi};var h=e.imageCustomSize?{width:e.print.width,height:e.print.height,dpi:e.print.dpi}:{width:e.input.currentWidth,height:e.input.currentHeight,dpi:e.input.currentDpi};var v={width:Math.round(h.width*(e.input.currentDpi/h.dpi)),height:Math.round(h.height*(e.input.currentDpi/h.dpi))};i={};"image"===t&&(i={imageType:e.print.format,captureSize:h,scaleFactor:e.dpiMultiplier});if("pdf"===t){c=e.selectedSize.toMillimeters();u={right:10,left:10,top:10,bottom:10};i={width:c["portrait"===e.selectedLayout.orientation?"w":"h"],height:c["portrait"===e.selectedLayout.orientation?"h":"w"],dpi:e.print.dpi,fitCriteria:e.print.fitCriteria,margin:u,sourceSize:p,size:e.selectedSize,orientation:e.selectedLayout.orientation}}i.timeoutMsec=12e4;i.checkInterval=2e3;r(e.states.PENDING);"data"===t&&(i.timeoutMsec=48e4);var m=a["default"].getService("$timeout");switch(t){case"image":m.cancel(s.image);break;case"pdf":m.cancel(s.pdf);break;default:break}o["a"].requestDownload(e.input.object,i,t,p,v,e.input.sourceType).then((function(n){e.printUrl=n.qUrl;e.printFileName=o["a"].getFileName(e.input.object,e.input.sourceType);var i=a["default"].getService("$timeout");var l=i((function(){r(e.states.COMPLETED)}),1e3);switch(t){case"image":s.image=l;break;case"pdf":s.pdf=l;break;default:break}}),n)}else e.destroyComponent()}return{confirm:c}}t["a"]={create:l}},"5Pwf":function(e,t,n){"use strict";var r=n("g/0T");var i=n("4nJ1");function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function o(e,t){"object"===a(t)&&(t=i["a"].extend(true,Array.isArray(t)?[]:{},t));if(e&&"qResult"!==e){var n={};n[e]=t;return n}return t}function s(e,t){var n=Object.keys(e);var r=t.In.map((function(e){return e.Name}));return 0!==n.filter((function(e,t){return e===r[t]})).length}function l(e,t){var n=[];Array.isArray(t)&&1===t.length&&"object"===a(t[0])&&s(t[0],e)&&(t=t[0]);if(Array.isArray(t)||"object"!==a(t))Array.isArray(t)?n=t:n.push(t);else for(var r=0;r<e.In.length;++r)t&&void 0!==t[e.In[r].Name]?n.push(t[e.In[r].Name]):e.In[r].Optional&&void 0!==e.In[r].DefaultValue&&n.push(e.In[r].DefaultValue);return n}function c(e,t,n,r){var i=e[t];var a=1===i.Out.length?i.Out[0].Name:null;t=t.substring(0,1).toLowerCase()+t.substring(1);n[t]=function(){var e=Array.prototype.slice.call(arguments);e=l(i,e);var n=r[t].apply(r,e).then(o.bind(null,a));n.__protocolRequestId=n.requestId;return n}}var u={global:void 0,currentApp:void 0};u.bootstrap=function(e){if(!u.global){u.global={};u.global.enigmaGlobal=e.global;Object.keys(r["a"].Global).forEach((function(t){c(r["a"].Global,t,u.global,e.global)}))}var t={};Object.keys(r["a"].Doc).forEach((function(n){c(r["a"].Doc,n,t,e)}));return t};u.setCurrentApp=function(e){u.currentApp=e};u.getCurrentApp=function(){return u.currentApp};"undefined"!==typeof window&&(window.engineModuleGlobal=u);t["a"]=u},"5R92":function(e,t,n){"use strict";function r(e){var t=/^[^\\/:*\t?"<>|]+$/;var n=true;e.length&&(n=t.test(e));return n}function i(e){return 0===e.length||0===e.replace(/\n|\t|\s|\u200B|\uFEFF|\xA0/g,"").length}t["a"]={allowedChars:r,emptyTitle:i}},"5SH1":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("4nJ1");var s=n("5Pwf");var l=n("6uJb");var c=n("acVu");var u=[];var d="47a1cfd8-f70e-4a98-a00d-00fca6c8e253";var f=o["a"].getRandomString(16);var p;function h(e){return e.id===d}var v=null;var m=null;function g(){m&&m.reject(null);m=a["default"].defer();v||(v=i()("<input type='file' style='display: none;'/>").appendTo(i()("body")).change((function(){if(m){m.resolve(v[0].files[0]);m=null;v.remove();v=null}})));o["a"].isMSIE()||o["a"].isEdge()?a["default"].getService("$timeout")((function(){v[0].click()}),0):v[0].click();return m.promise}function b(e,t){var n="".concat(o["a"].basePath||"/","qrs/appcontent/").concat(o["a"].getParameterByName("app"),"/").concat(e,"?");t=t||{};n+=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&");return n}function y(e){var t=a["default"].defer();var n=new XMLHttpRequest;if(n.upload){n.upload.addEventListener("progress",o,false);n.addEventListener("load",s,false);n.addEventListener("error",l,false);n.addEventListener("abort",c,false);var r=b("uploadfile",{externalpath:e.name,overwrite:true,xrfkey:f});n.open("POST",r,true);n.setRequestHeader("X-Qlik-XrfKey",f);var i=new FormData;i.append("file",e);n.send(i)}function o(e){if(e.lengthComputable){var n=e.loaded/Math.max(Math.max(e.total,e.loaded),1);t.notify(n)}}function s(){t.resolve(e)}function l(){t.reject()}function c(){t.resolve(null)}return t.promise}function w(e){var t=a["default"].defer();var n=new XMLHttpRequest;n.addEventListener("load",i,false);n.addEventListener("error",o,false);var r=b("deletecontent",{externalpath:e,xrfkey:f});n.open("DELETE",r,true);n.setRequestHeader("X-Qlik-XrfKey",f);n.send();function i(){t.resolve()}function o(){t.reject()}return t.promise}var S=(new XMLHttpRequest).upload;function x(){return S}function C(e,t){var n=[l["default"].get("UploadedFilesFolder.FileSizeUnit.Bytes"),l["default"].get("UploadedFilesFolder.FileSizeUnit.KB"),l["default"].get("UploadedFilesFolder.FileSizeUnit.MB")];var r=l["default"].get("UploadedFilesFolder.FileSize.NA");if(e>0){var i=Math.max(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);r=t(e/Math.pow(1024,i)*10)/10+n[i]}return r}function q(e){return C(e,Math.ceil)}function E(e){return C(e,Math.floor)}var I=null;function k(){I=s["a"].currentApp.getContentLibraries().then((function(e){return e.qList.filter((function(e){return e.qAppSpecific}))[0]}));return I}function A(){return(I||k()).then((function(e){return e.qMeta.privileges}))}function T(){return A().then((function(e){return e&&e.indexOf("read")>=0}))}function D(){return A().then((function(e){return e&&e.indexOf("update")>=0}))}function O(){var e=/[^/]*$/;return(I||k()).then((function(e){return s["a"].currentApp.getLibraryContent(e.qName)})).then((function(t){var n=t.qList&&t.qList.qItems||t.qList;if(!n||!n.length)return[];var r=n.map((function(t){return{fileName:t.qUrl.match(e)[0],url:t.qUrl}}));return r}))}function L(){return Promise.resolve(!Object(c["b"])("IS_DESKTOPCLIENT"))}function M(e){return P().then((function(t){return t.some((function(t){return o["a"].hasFileExtension(e.name,t)}))}))}function P(){var e=a["default"].defer();if(p)e.resolve(p);else{var t=encodeURI("".concat(o["a"].basePath||"/","qrs/app/content/").concat(o["a"].getParameterByName("app"),"/fileextensionwhitelist?xrfkey=").concat(f));a["default"].getService("$http").get(t,{headers:{"X-Qlik-XrfKey":f}}).then((function(t){p=t.data.fileExtensions.map((function(e){return e.name}));e.resolve(p)}))}return e.promise}function N(e){if(h(e)){e.displayName=l["default"].get("UploadedFilesFolder.DisplayName");e.privileges&&e.privileges.indexOf("read")>-1?e.privileges=["read"]:e.privileges=[]}}function R(e){var t=a["default"].defer();k().then((function(n){if(n){var r=n.qMeta.maxFileSize;var i=n.qMeta.remainingLibrarySpace;var a=q(e.size);"number"===typeof r&&r>0&&e.size>r?t.reject({message:l["default"].get("UploadedFilesFolder.Error.MaxFileSizeExceeded",[e.name,a,q(r)])}):"number"===typeof i&&e.size>i?t.reject({message:l["default"].get("UploadedFilesFolder.Error.AvailableSpaceExceeded",[e.name,a,E(i)])}):t.resolve()}}),(function(e){t.reject(e)}));return t.promise}function F(e){var t=a["default"].defer();return M(e).then((function(n){if(!n){t.reject(new Error(l["default"].get("UploadedFilesFolder.Error.NotAllowedFileType",[e.name])));return t.promise}try{encodeURIComponent(e.name)}catch(n){t.reject(new Error(l["default"].get("UploadedFilesFolder.Error.IllegalCharsInFilename",[e.name])));return t.promise}R(e).then((function(){t.resolve(true)}),(function(e){t.reject(e)}));return t.promise}))}function _(e){e&&e.length>0?e.forEach((function(e){u.push(e.fileName?e.fileName:e.qName)})):u=[];u=o["a"].unique(u)}function j(){return u}function B(e,t){var n=[];t&&t.length>0&&t.forEach((function(t){e.tableModels.forEach((function(e){t===e.data.databaseName&&n.push(e.data.id)}))}));n=o["a"].unique(n);return n}function V(e,t){var n=[];t&&t.length>0&&t.forEach((function(t){e.tableModels.forEach((function(e){t===e.data.tableName&&n.push(e.data.id)}))}));return n}t["a"]={isFileUploadEnabled:L,getAppStoreLibrary:k,getAppStoreContent:O,canUserReadAppStore:T,canUserModifyAppStore:D,isFileUploadSupported:x,selectFile:g,uploadFile:y,deleteFile:w,getFormattedFileSize:q,getFormattedAvailableSpace:E,isUploadFolderConnection:h,adjustConnectionProperties:N,isAllowedFileType:M,checkUploadQuota:R,preUploadValidateFile:F,setAttachedFilesToReplace:_,getAttachedFilesToReplace:j,getTableIdsFromLoadModelWithFileNames:B,getTableIdsFromLoadModelUsingTableNames:V}},"5Ska":function(e,t,n){"use strict";var r=n("Vrq/");var i=n("2Hli");var a=n("4nJ1");var o=n("obmW");var s=n("acVu");function l(e,t){var n=e.length>0?"".concat(e,"."):"";var o=e.length>0?e:"";function s(e,t){return i["a"].getValue(e,"".concat(n,"qNumFormat.qFmt"))===r["a"].getDefaultNumericFormat(i["a"].getValue(e,"".concat(n,"qNumFormat")),t?t.localeInfo:"")}function l(e){var t=i["a"].getValue(e,"".concat(n,"qNumFormat.qType"));return["R","M","IV"].includes(t)||"U"!==t&&false===i["a"].getValue(e,"".concat(n,"numFormatFromTemplate"),true)}var c={type:"string",component:"custom-formatter-dropdown",ref:"".concat(n,"qNumFormat.qType"),numFormatRef:o,translation:"properties.numberFormatting",defaultValue:"U",schemaIgnore:true,options:[{value:"U",translation:"Common.Auto"},{value:"F",translation:"properties.numberFormatting.types.number"},{value:"M",translation:"properties.numberFormatting.types.money"},{value:"D",translation:"properties.numberFormatting.types.date"},{value:"IV",translation:"properties.numberFormatting.types.duration"},{value:"R",translation:"Common.Custom"},{value:"OFF",translation:"properties.numberFormatting.types.customFormatting"}],change:function e(t,a,o,s){var l=r["a"].getNumFmtPattern("qType",i["a"].getValue(t,"".concat(n,"qNumFormat")),s.localeInfo);i["a"].setValue(t,"".concat(n,"qNumFormat"),l)}};var u={type:"boolean",component:"switch",ref:"".concat(n,"numFormatFromTemplate"),translation:"properties.numberFormatting.formatting",defaultValue:true,options:[{value:true,translation:"properties.numberFormatting.simple"},{value:false,translation:"Common.Custom"}],show:function e(t){return["F","D","TS","T"].includes(i["a"].getValue(t,"".concat(n,"qNumFormat.qType")))}};var d={type:"string",component:"number-formatter-dropdown",ref:"".concat(n,"qNumFormat.qFmt"),numFormatRef:o,defaultValue:"#,##0",schemaIgnore:true,show:function e(t){var r=i["a"].getValue(t,"".concat(n,"qNumFormat.qType"));return["F","D","TS","T"].includes(r)&&true===i["a"].getValue(t,"".concat(n,"numFormatFromTemplate"),true)}};var f={type:"integer",ref:"".concat(n,"qNumFormat.qnDec"),translation:"properties.numberFormatting.nDec",defaultValue:2,schemaIgnore:true,min:0,max:14,show:false};var p={type:"integer",ref:"".concat(n,"qNumFormat.qnDec"),translation:"properties.numberFormatting.significantFigures",defaultValue:10,schemaIgnore:true,min:1,max:14,show:false};var h={type:"string",ref:"".concat(n,"qNumFormat.qDec"),translation:"properties.numberFormatting.dec",defaultValue:".",schemaIgnore:true,show:function e(t){var r=i["a"].getValue(t,"".concat(n,"qNumFormat.qType"));return"R"===r},change:function e(t,a,o,s){var l=r["a"].getNumFmtPattern("qDec",i["a"].getValue(t,"".concat(n,"qNumFormat")),s.localeInfo);i["a"].setValue(t,"".concat(n,"qNumFormat"),l)},invalid:function e(t){return i["a"].getValue(t,"".concat(n,"qNumFormat.qDec"))===i["a"].getValue(t,"".concat(n,"qNumFormat.qThou"))},readOnly:function e(t,n,r,i){return!s(t,i)}};var v={type:"string",ref:"".concat(n,"qNumFormat.qThou"),translation:"properties.numberFormatting.thousandSeparator",defaultValue:"",schemaIgnore:true,show:function e(t){var r=i["a"].getValue(t,"".concat(n,"qNumFormat.qType"));return"R"===r},change:function e(t,a,o,s){var l=r["a"].getNumFmtPattern("qThou",i["a"].getValue(t,"".concat(n,"qNumFormat")),s.localeInfo);i["a"].setValue(t,"".concat(n,"qNumFormat"),l)},invalid:function e(t){var r=i["a"].getValue(t,"".concat(n,"qNumFormat.qType"));if("I"===r)return false;return i["a"].getValue(t,"".concat(n,"qNumFormat.qDec"))===i["a"].getValue(t,"".concat(n,"qNumFormat.qThou"))},readOnly:function e(t,n,r,i){return!s(t,i)}};var m={type:"string",component:"number-formatter",ref:"".concat(n,"qNumFormat.qFmt"),numFormatRef:o,resetTranslation:"properties.numberFormatting.resetPattern",translation:"properties.numberFormatting.formatPattern",defaultValue:"",schemaIgnore:true,show:function e(t){return l(t)},change:function e(t){i["a"].setValue(t,"".concat(n,"qNumFormat.qFmt"),r["a"].getNormalizedFormat(i["a"].getValue(t,"".concat(n,"qNumFormat")),i["a"].getValue(t,"".concat(n,"qNumFormat.qFmt"))))},invalid:function e(t,r,o){if(["D","T","TS","IV"].includes(i["a"].getValue(t,"".concat(n,"qNumFormat.qType"))))return false;var s="R"===i["a"].getValue(t,"".concat(n,"qNumFormat.qType"))?i["a"].getValue(t,"".concat(n,"qNumFormat.qDec")):o.localeInfo["q".concat("M"===i["a"].getValue(t,"".concat(n,"qNumFormat.qType"))?"Money":"","DecimalSep")];var l=new RegExp("(0|#)".concat(a["a"].escapeRegExp(s),"0*#*"));var c=(i["a"].getValue(t,"".concat(n,"qNumFormat.qFmt"))||"").split(";");var u=c[0].match(l);var d=u&&u[0]?u[0].length-2:0;var f=c[1]?c[1].match(l):null;var p=f&&f[0]?f[0].length-2:0;return d>15||p>15}};var g={type:"items",show:t,items:{numberFormattingType:c,numberFormattingMode:u,numberFormattingTemplates:d,numDecimals:f,numPrecisionDigits:p,decimalSep:h,thousandSep:v,format:m}};return g}function c(e){var t=e.ref,n=e.show,r=e.isLink;if(!Object(s["b"])("MASTER_MEASURE_FORMAT"))return l(t,n);return{type:"items",show:n,items:{useMasterFormat:{type:"boolean",component:"switch",translation:"properties.libraryFormatting",convertFunctions:{get:function e(n,r,i,s){var l=t?a["a"].getValue(s,t):s;return o["a"].isUsingMasterNumberFormat(l)},set:function e(n,r,i,s,l){var c=t?a["a"].getValue(l,t):l;if(!c&&t){c={};a["a"].setValue(l,t,c)}n?o["a"].useMasterNumberFormat(c):o["a"].useLocalFormat(c)}},show:function e(t){return r(t)},options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}]},numberFormat:l(t,(function(e){var n=t?a["a"].getValue(e,t):e;return!r(e)||!o["a"].isUsingMasterNumberFormat(n)}))}}}t["a"]={getNumberFormattingProperties:l,getNumberFormattingPropertiesWithMasterLink:c}},"5UsU":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"b",(function(){return r}));var r={qInfo:{qId:"SnapshotList",qType:"SnapshotList"},qBookmarkListDef:{qType:"snapshot",qData:{title:"/title",libraryTitle:"/qMetaDef/title",description:"/qMetaDef/description",sourceObjectId:"/sourceObjectId",visualizationType:"/visualizationType",timestamp:"/timestamp",snapshotData:"/snapshotData",isClone:"/isClone"}}};var i={types:"Doc",extend:{getSnapshotListObject:function e(){return this.getListObject(r)},getSnapshotList:function e(){return this.getListData(r)}}}},"5Zq0":function(e,t,n){"use strict";var r=n("mWu2");var i='<lui-dialog class="qv-generic-loading-dialog">\n\t<lui-dialog-header ng-if="input.title">\n\t\t<lui-dialog-title>{{loadingTitle}}</lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="dialog-body">\n\t\t<div class="qv-loader"></div>\n\t\t<div class="message">{{loadingMessage}}</div>\n\t</lui-dialog-body>\n</lui-dialog>\n';function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}var o=t["a"]={show:function e(t){if("object"!==a(t))throw new Error("options must be an object");var n=r["default"].getService("luiDialog").show({controller:["$scope",function(e){e.loadingTitle=e.input.title;e.loadingMessage=e.input.message}],template:i,input:{message:t.message,title:t.title}});n.opened.catch((function(e){false}));n.closed.catch((function(e){false}));n.closing.catch((function(e){false}));return n}}},"5c1J":function(module,__webpack_exports__,__webpack_require__){"use strict";var MathUtils;(function(MathUtils){function makeLineArc(e,t,n,r){var i=e[0];var a=e[1];var o=t[0];var s=t[1];if(r)if(s-a>180){a+=360;e=[i,a]}else if(a-s>180){s+=360;t=[o,s]}if(!n||n<2)return[e,t];var l=Math.sqrt((o-i)*(o-i)+(s-a)*(s-a));if(l<1e-5)return[e,t];n/=99;var c=4*Math.pow(Math.E,-1.8*n);var u=c*l;var d=(i+o)/2;var f=(a+s)/2;var p=d+Math.sqrt(u*u-l*l/4)*(a-s)/l;var h=f+Math.sqrt(u*u-l*l/4)*(o-i)/l;var v=Math.atan2(a-h,i-p);var m=Math.atan2(s-h,o-p);var g=m-v;g>Math.PI&&(g-=2*Math.PI);g<-Math.PI&&(g+=2*Math.PI);var b=1+Math.abs(Math.round(g/.09));var y=g/b;var w=[[i,a]];for(var S=1;S<b;S++){var x=v+y*S;var C=p+u*Math.cos(x);var q=h+u*Math.sin(x);w.push([C,q])}w.push([o,s]);return w}MathUtils.makeLineArc=makeLineArc;function calculateSize(e,t,n,r){if(isNaN(e)||null==e)return{relSize:NaN,size:NaN};var i=MathUtils.clamp(e,n[0],n[1]);var a=n[1]-n[0];var o=0===a?r/2:r*(i-n[0])/a;var s=Math.round(o/r*(t[1]-t[0])+t[0]);return{relSize:Math.floor(o),size:s}}MathUtils.calculateSize=calculateSize;function clamp(e,t,n){return Math.min(Math.max(e,t),n)}MathUtils.clamp=clamp;function evaluate(exp,variables){void 0===variables&&(variables={});var toEvaluate=Object.keys(variables).map((function(e){return e+"="+variables[e]})).join();toEvaluate.length>0&&(toEvaluate="var "+toEvaluate+";");toEvaluate+=exp.replace(/(?:==|>=|<=|\+\+|--|!=|[a-z][\w]*|[^\d\s+\-()\/*,?:.%|&\^<>!]+)/gi,(function(e){if(/==|<=|>=|!=/.test(e)||variables.hasOwnProperty(e))return e;if(Math.hasOwnProperty(e))return"Math."+e;throw new Error(exp)}));try{return eval(toEvaluate)}catch(e){}throw new Error(exp)}MathUtils.evaluate=evaluate})(MathUtils||(MathUtils={}));__webpack_exports__["a"]=MathUtils},"5m/B":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("MoEg");function o(e,t){var n=i()("body").outerHeight();var r=t.y+t.height/2-e.height/2;r=r<0?0:r;n-r-e.height<0&&(r=n-e.height);var o=t.x+t.width;return new a["a"](o,r,e.width,e.height)}function s(e,t){var n=i()("body").outerWidth();var r=t.x+t.width/2-e.width/2;r=r<0?0:r;n-r-e.width<0&&(r=n-e.width);var o=t.y+t.height;return new a["a"](r,o,e.width,e.height)}function l(e,t){var n=i()("body").outerHeight();var r=t.y+t.height/2-e.height/2;r=r<0?0:r;n-r-e.height<0&&(r=n-e.height);var o=t.x-e.width;return new a["a"](o,r,e.width,e.height)}function c(e,t){var n=i()("body").outerWidth();var r=t.x+t.width/2-e.width/2;r=r<0?0:r;n-r-e.width<0&&(r=n-e.width);var o=t.y-e.height;return new a["a"](r,o,e.width,e.height)}function u(e){var t;var n=window.scrollX?window.scrollX:document.documentElement.scrollLeft?document.documentElement.scrollLeft:0;var r=window.scrollY?window.scrollY:document.documentElement.scrollTop?document.documentElement.scrollTop:0;if(e[0]===window)t=new a["a"](n,r,e.outerWidth(),e.outerHeight());else{var i=e[0].getBoundingClientRect();t=new a["a"](i.left+n,i.top+r,i.width,i.height)}return t}function d(e,t,n){var r={top:c,right:o,bottom:s,left:l};var i=r[n]||o;return i.call({},e,t)}function f(e){var t="bottom,bottomLeft,bottomRight,centerLeft,center,centerRight,topLeft,top,topRight,topLeft,left,right".split(",");if(-1===t.indexOf(e))throw new Error("Not a valid docking position. Try ".concat(t.join(" ,"),"."))}function p(e,t,n){if("right"===e)return t.getRight()-n.getRight();if("left"===e)return n.x-t.x;if("top"===e)return n.y-t.y;if("bottom"===e)return t.getBottom()-n.getBottom();return 0}function h(e){var t={top:"bottom",right:"left",bottom:"top",left:"right"};return t[e]}function v(e){return"flip"===e||"flipfit"===e}function m(e){return"fit"===e||"flipfit"===e}function g(e){var t={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"};return t[e]}function b(e){var t={vertical:["top","bottom"],horizontal:["left","right"]};return t[e]}function y(e){var t={horizontal:"vertical",vertical:"horizontal"};return t[e]}function w(e){var t=e.collision.split(" ");var n={horizontal:t[0],vertical:t[1]||t[0]};var r=g(e.position);var i=y(r);return{flipPrimary:v(n[r]),fitPrimary:m(n[r]),fitSecondary:m(n[i])}}function S(e,t,n){var r;var i;for(r=0;r<t.length;r++){i=t[r];if("left"===i&&e.x<n.x){e.x=n.x;break}if("right"===i&&e.getRight()>n.getRight()){e.x=n.getRight()-e.width;break}if("top"===i&&e.y<n.y){e.y=n.y;break}if("bottom"===i&&e.getBottom()>n.getBottom()){e.y=n.getBottom()-e.height;break}}return e}function x(e,t,n,r,i,a){if(!n)return e.map((function(e,n){var r=t[n]||t[0];return{align:e,x:r.x,y:r.y}}));var o=t[0].x;var s=t[0].y;var l=function e(t){var n=t?t.length/2:0;var a=new Array(n);var l;var c;var u;var d;for(l=0;l<n;l++){c=t[2*l+1];u=c*o+(1-c)*r;d=c*s+(1-c)*i;a[l]={align:t[2*l],x:u,y:d}}return a};var c=e[0]+(e[1]?"-".concat(e[1]):"");var u=1;var d=.7;var f=.5;var p=a>.5?0:.5-a;var h=a>.5?.5:.7-.4*a;switch(c){case"top":if(o>=r)return l(["top",u,"top",d,"top",f,"right",d,"right",f,"left",f,"left",d,"bottom",p,"bottom",h]);return l(["top",u,"top",d,"top",f,"left",d,"left",f,"right",f,"right",d,"bottom",p,"bottom",h]);case"top-right":return l(["top",u,"top",d,"top",f,"right",d,"right",f,"left",f,"left",d,"bottom",p,"bottom",h]);case"top-left":return l(["top",u,"top",d,"top",f,"left",d,"left",f,"right",f,"right",d,"bottom",p,"bottom",h]);case"bottom":if(o>=r)return l(["bottom",u,"bottom",d,"bottom",f,"right",d,"right",f,"left",f,"left",d,"top",p,"top",h]);return l(["bottom",u,"bottom",d,"bottom",f,"left",d,"left",f,"right",f,"right",d,"top",p,"top",h]);case"bottom-right":return l(["bottom",u,"bottom",d,"bottom",f,"right",d,"right",f,"left",f,"left",d,"top",p,"top",h]);case"bottom-left":return l(["bottom",u,"bottom",d,"bottom",f,"left",d,"left",f,"right",f,"right",d,"top",p,"top",h]);case"left":if(s<=i)return l(["left",u,"left",d,"left",f,"top",d,"top",f,"bottom",f,"bottom",d,"right",f,"right",d]);return l(["left",u,"left",d,"left",f,"bottom",d,"bottom",f,"top",f,"top",d,"right",f,"right",d]);case"left-top":return l(["left",u,"left",d,"left",f,"top",d,"top",f,"bottom",f,"bottom",d,"right",f,"right",d]);case"left-bottom":return l(["left",u,"left",d,"left",f,"bottom",d,"bottom",f,"top",f,"top",d,"right",f,"right",d]);case"right":if(s<=i)return l(["right",u,"right",d,"right",f,"top",d,"top",f,"bottom",f,"bottom",d,"left",f,"left",d]);return l(["right",u,"right",d,"right",f,"bottom",d,"bottom",f,"top",f,"top",d,"left",f,"left",d]);case"right-top":return l(["right",u,"right",d,"right",f,"top",d,"top",f,"bottom",f,"bottom",d,"left",f,"left",d]);case"right-bottom":return l(["right",u,"right",d,"right",f,"bottom",d,"bottom",f,"top",f,"top",d,"left",f,"left",d]);default:return}}var C={align:function e(t,n,r){r=r||{position:"right",collision:"none"};r.position=r.position||"right";r.collision=r.collision||"none";if(t&&n){var a=u(i()(window));var o=u(t);var s=u(n);var l=w(r);var c=d(o,s,r.position);var f=function e(t){var n=d(o,s,h(r.position));var i=p(r.position,t,a);var l=p(h(r.position),n,a);return l<i};if(l.flipPrimary&&p(r.position,c,a)>0&&f(c)){c=d(o,s,h(r.position));r.position=h(r.position)}l.fitPrimary&&(c=S(c,[r.position],a));l.fitSecondary&&(c=S(c,b(y(g(r.position))),a));r.limits&&c.y<r.limits.top&&(c.y=r.limits.top);t.offset({top:c.y,left:c.x})}return r.position},alignToCoordinate:function e(t,n,r,a,o){f(a);var s;a=a||"top";var l=function e(n,r,i){var a=r;var o=i;switch(n){case"topRight":o=i-t.outerHeight();break;case"top":a=r-t.outerWidth()/2;o=i-t.outerHeight();break;case"topLeft":a=r-t.outerWidth();o=i-t.outerHeight();break;case"right":case"centerRight":o=i-t.outerHeight()/2;break;case"center":a=r-t.outerWidth()/2;o=i-t.outerHeight()/2;break;case"left":case"centerLeft":a=r-t.outerWidth();o=i-t.outerHeight()/2;break;case"bottom":a=r-t.outerWidth()/2;break;case"bottomLeft":a=r-t.outerWidth();break;case"bottomRight":a=r;o=i;break;default:break}return{x:a,y:o}};s=l(a,n,r);var c={};var u={};var d;var p;var h=i()(window);var v=10;u.x=h.outerWidth()-t.outerWidth()-v;c.x=v;u.y=h.outerHeight()-t.outerHeight()-v;c.y=v;var m=function e(t,n){if(n[t]>u[t])return n[t]-u[t];if(n[t]<c[t])return c[t]-n[t];return 0};if(o){d=m("x",s);p=m("y",s);var g=l(o,n,r);if(d>m("x",g)||p>m("y",g)){s=g;a=o}}s.x=Math.max(c.x,Math.min(u.x,s.x));s.y=Math.max(c.y,Math.min(u.y,s.y));t.offset({left:s.x,top:s.y});return a},alignToBestCoordinate:function e(t,n,r,a,o,s,l){var c=i()(window);var d=u(c);f(r[0]);n=n instanceof Array?n:[n];var p=n[0].x-d.x;var h=n[0].y-d.y;t.offset({left:0,top:0});t.width("auto");t.height("auto");var v=c.outerWidth();var m=c.outerHeight();var g=t.outerWidth();var b=t.outerHeight();var y={};var w={};l=void 0===l?5:l;var S=(void 0===s?5:s)+l;w.x=v-g-S;y.x=S;w.y=m-b-S;y.y=S;if(v<g+2*S){g=v-2*S;t.width(g);w.x=y.x}if(m<b+2*S){b=m-2*S;t.height(b);w.y=y.y}r=r||["top"];var C=function e(t,n,r){var i=n;var a=r;switch(t){case"topRight":a=r-b;break;case"top":i=n-g/2;a=r-b;break;case"topLeft":i=n-g;a=r-b;break;case"right":case"centerRight":a=r-b/2;break;case"center":i=n-g/2;a=r-b/2;break;case"left":case"centerLeft":i=n-g;a=r-b/2;break;case"bottom":i=n-g/2;break;case"bottomLeft":i=n-g;break;case"bottomRight":i=n;a=r;break;default:break}return{x:i,y:a}};var q=function e(t,n){if(n[t]>w[t])return n[t]-w[t];if(n[t]<y[t])return n[t]-y[t];return 0};var E;var I;var k=p;var A=h;var T;var D;var O;var L;var M;var P;var N;var R;if(o){D=a.shape.cx+a.targetToPageTranslation.x-d.x;O=a.shape.cy+a.targetToPageTranslation.y-d.y;L=a.shape.innerRadius;M=a.shape.radius;P=0;if(L>0){P=L/M;D+=P*(p-D);O+=P*(h-O)}}var F=x(r,n,o,D,O,P);var _=function e(){for(E=0;E<F.length;E++){I=F[E].align;k=F[E].x-d.x;A=F[E].y-d.y;T=C(I,k,A);N=q("x",T);R=q("y",T);if(0!==N||0!==R)if(0!==R||"top"!==I&&"bottom"!==I){if(0===N&&("left"===I||"right"===I)){T.y-=R;R=0}}else{T.x-=N;N=0}if(0===N&&0===R)return}if(0!==N||0!==R){I=F[0].align;k=F[0].x-d.x;A=F[0].y-d.y;T=C(I,k,A);N=q("x",T);R=q("y",T);T.x-=N;T.y-=R}};_();T&&t.offset({left:T.x+d.x,top:T.y+d.y});return{position:I,x:k+d.x,y:A+d.y}}};C.getScrolledRect=u;t["a"]=C},"5xMv":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("sWge");var o={};var s=false;var l=false;o.reset=function(){o.selectedObject=null;o.assetsOpen=true;o.propertiesOpen=false;s=false};o.hasPropertiesBeenClosedByUser=function(){return l};o.togglePropertyPanelByUser=function(){o.propertiesOpen=!o.propertiesOpen;s=o.propertiesOpen;s||(l=true);return o.propertiesOpen};o.resetPropertyPanelToggle=function(){o.propertiesOpen!==s&&(o.propertiesOpen=s)};o.setSelectedObject=function(e){var t={id:"",type:"",customObject:null,canCopy:function e(){return true},copy:null,canCut:function e(){return true},cut:null,paste:null,canRemove:function e(){return true},remove:null,getAllPropertyPanelContent:function e(){var t={objectType:"",iconClass:"",titleRef:"",definition:{},properties:{},layout:{},localeInfo:null,app:null,cache:null,ext:null,globalChangeListeners:null,handler:null,model:null};return a["a"].resolve(t)}};if(e){i.a.extend(t,e);o.selectedObject=t}else o.selectedObject=null};o.reset();t["a"]=o},"60SA":function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a=n("/crU");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}var c="loadModelInvalidation";function u(){this.stopSpinner(c);return i["a"].resolve()}var d=function(){function e(){o(this,e);this.$timeout=r["default"].getService("$timeout");this.qvLoader=r["default"].getService("qvLoader");this.callerIds=[];this.callerIdMessages={};this.elementToAppendSpinner=void 0;this.loaderTimeout={};this.spinnerOn=false;a["a"].registerInvalidationHandler(u.bind(this))}l(e,[{key:"showSpinner",value:function e(t,n){var r=this.callerIds.indexOf(t);if(r<0){this.callerIds.push(t);this.callerIdMessages[t]=n||"DataManager.Overview.LoadingTables"}if(!this.spinnerOn)if(this.qvLoader.isOpen()){var i=this;this.$timeout.cancel(this.loaderTimeout[t]);this.loaderTimeout[t]=this.$timeout((function(){i.showSpinner(t,n)}),0)}else{this.spinnerOn=true;this.qvLoader.show({messageObj:{task:n||"DataManager.Overview.LoadingTables"},appendTo:this.elementToAppendSpinner,hugeLoader:true})}}},{key:"stopSpinner",value:function e(t){var n=this;var r=this.callerIds.indexOf(t);if(r>=0){var i=this.callerIds[r];this.callerIds.splice(r,1);this.callerIdMessages[i]=""}this.$timeout.cancel(this.loaderTimeout[t]);this.$timeout((function(){if(0===n.callerIds.length){if(n.spinnerOn){n.spinnerOn=false;n.qvLoader.close(true)}}else n.qvLoader.setMessageObj(n.callerIdMessages[n.callerIds[0]])}),300)}},{key:"forceStopSpinner",value:function e(){this.callerIds=[];if(this.spinnerOn){this.spinnerOn=false;this.qvLoader.close(true)}}},{key:"waitForInvalidationSpinner",value:function e(t){this.showSpinner(c,t)}},{key:"cancelInvalidationSpinner",value:function e(){this.stopSpinner(c)}}]);return e}();t["a"]=new d},"6CzD":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("YZeP");function i(e){if(Array.isArray(e))return Object(r["a"])(e)}var a=n("tdEy");var o=n("TJjZ");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return i(e)||Object(a["a"])(e)||Object(o["a"])(e)||s()}},"6KC5":function(e,t,n){"use strict";var r;(function(e){function t(e){var t=e[0];var n=[];t.qMatrix=n.concat.apply([],e.map((function(e){return e.qMatrix})));return t}e.flattenData=t;function n(e,n){Array.isArray(e)&&(e=t(e));var r=e.qMatrix;var i=[];for(var a=0;a<r.length;a++)try{var o=r[a][n];i.push(o||null)}catch(e){i.push(null)}return i}e.getColumn=n;function r(e,t,n,r,i){void 0===i&&(i=0);if(!n.qDimensions[0]||!t||!t.key||0===(t.key||"").trim().length)return;var a=i;var o="libraryItem"===t.type;var s=o&&!(true===r);var l={id:e,qNumFormat:t.qNumFormat};l[o?"qLibraryId":"qExpression"]=t.key;s?n.qDimensions[a].qAttributeDimensions.push(l):n.qDimensions[a].qAttributeExpressions.push(l)}e.addExpr=r;function i(e,t,n){if(!n.qHyperCubeDef.qDimensions[0])return;var r=n.qHyperCubeDef.qDimensions[0].qAttributeExpressions;var i=-1;for(var a=0;a<r.length;a++)if(r[a].id===e){i=a;break}if(null==t||0===t.trim().length){if(i>=0){for(var a=i;a<r.length-1;a++)r[a]=r[a+1];r.pop()}return}if(i<0){i=r.length;r.push(null)}r[i]={qExpression:t,id:e}}e.setExprInProperties=i;function a(e,t){if(!t||!t.qDimensionInfo[0])return null;for(var n=0;n<t.qDimensionInfo.length;n++){var r=t.qDimensionInfo[n].qAttrExprInfo;for(var i=0;i<r.length;i++)if(r[i].id===e)return{index:i,isDim:false,dimensionIndex:n};var a=t.qDimensionInfo[n].qAttrDimInfo;for(var i=0;i<a.length;i++)if(a[i].id===e)return{index:i,isDim:true,dimensionIndex:n}}return null}e.getDimensionExpressionIndex=a;function o(e,t){var n=a(e,t);if(null==n)return null;var r=t.qDimensionInfo[n.dimensionIndex].qAttrExprInfo[n.index];if(null==r)return null;return r.label||r.qFallbackTitle}e.getDimensionExpressionTitle=o;function s(e,t){var n=a(e,t);if(null==n)return null;var r=t.qDimensionInfo[n.dimensionIndex];if(!r)return null;var i=n.index;var o=r.qAttrExprInfo[i];if(!o||isNaN(o.qMin)||isNaN(o.qMax))return null;return[o.qMin,o.qMax]}e.getMinMax=s;function l(e,n,r){Array.isArray(n)&&(n=t(n));var i=n.qMatrix;var o=[];var s=a(e,r);if(null==s)return o;var l=s.index;var c=s.dimensionIndex;for(var u=0;u<i.length;u++)try{var d=i[u][c].qAttrExps;var f=d.qValues[l].qNum;"NaN"===f?o.push(null):o.push(f)}catch(e){o.push(null)}return o}e.getNumericData=l;function c(e,t,n){var r=[];var i=Number.MAX_VALUE;var a=Number.MIN_VALUE;for(var o in t){var s=t[o];var c=l(e,s,n);if(0===c.length)return null;r.push(c);var u=c.length;for(var d=0;d<u;d++){var f=c[d];if(f&&!isNaN(f)){f>a&&(a=f);f<i&&(i=f)}}}return{min:i,max:a,pages:r}}e.getNumericDataMinMax=c;function u(e,n,r,i){Array.isArray(n)&&(n=t(n));var o=n.qMatrix;var s=[];var l=a(e,r);if(null==l)return s;var c=l.index;var u=l.isDim;var d=l.dimensionIndex;for(var f=0;f<o.length;f++)try{var p=u?o[f][d].qAttrDims:o[f][d].qAttrExps;var h=p.qValues[c];var v=null;h.qText?v=h.qText:void 0!==h.qNum&&"NaN"!==h.qNum&&(v=h.qNum);i&&i(v)?s.push(null):s.push(v)}catch(e){s.push(null)}return s}e.getStringOrNumber=u;function d(e){if("string"!==typeof e)return false;return/^\s*\[\s*\]\s*$/.test(e)}e.isEmptyGeometryString=d;function f(e,n,r){Array.isArray(n)&&(n=t(n));var i=n.qMatrix;var o=[];var s=a(e,r);if(null==s)return o;var l=s.index;var c=s.isDim;var u=s.dimensionIndex;for(var d=0;d<i.length;d++)try{var f=c?i[d][u].qAttrDims:i[d][u].qAttrExps;var p=f.qValues[l].qText;o.push(p||null)}catch(e){o.push(null)}return o}e.getStringData=f;function p(e,n){Array.isArray(e)&&(e=t(e));return e.qMatrix.map((function(e){var t=e[n];return null==t?{id:null,dimValue:null,state:null}:{id:t.qElemNumber,dimValue:t.qText,state:t.qState}}))}e.getElemData=p})(r||(r={}));t["a"]=r},"6UbY":function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},"6WTg":function(e,t,n){"use strict";var r=n("H+sd");var i=n("sWge");var a=n("mWu2");var o=n("MoEg");var s=n("egqJ");var l=n("qEw4");var c=n("jWHD");var u=n("2Hli");function d(e){var t=u["a"].getValue(e,"layout.qHyperCube.qDimensionInfo",[]);var n=t.length-1;var r=t[n]||{};var i=r.qIsOneAndOnlyOne||false;n>0&&i&&u["a"].getValue(r,"qCardinalities.qHypercubeCardinal")>1&&(i=false);return i}var f=r["a"].extend("DefaultView",{$scope:null,$element:null,containerRect:null,options:null,selections:null,backendApi:null,activeDimensions:[0],selectedShapes:[],init:function e(t,n,r,i){this._super(t,n,r,i);t.selectValues=this.selectValues.bind(this)},on:function e(){this.selections&&this.selections.on();this.tooltips&&this.tooltips.on();this.options&&false===this.options.selections?this.selectionsEnabled=false:this.selectionsEnabled=true;this._on=true},off:function e(){this.selections&&this.selections.off();this.tooltips&&this.tooltips.off();this.selectionsEnabled=false;this._on=false},isOn:function e(){return this._on},suppressOnPaint:function e(t){if(this.$scope.object._forcePaint){this.$scope.object._forcePaint=false;return false}return t.qSelectionInfo&&t.qSelectionInfo.qInSelections},paint:function e(){return i["a"].resolve()},destroy:function e(){this.$scope.selectValues=null;this._super()},initialize:function e(){this.selections&&this.initSelections();if(this.options){Number.isNaN(+this.options.interactionState)||null===this.options.interactionState||this.setInteractionState(this.options.interactionState);this.options.direction&&this.setDirection(this.options.direction)}this.tooltips&&this.initTooltips()},setSelections:function e(t){this.selections=t},initSelections:function e(){var t=this;if(this.selections){this.selections._disableSelections=this.options._disableSelections;this.selections.types.dataArea.setComponent("dataArea",{rect:new o["a"](0,0,this.$element.width(),this.$element.height())});if(!this.options._disableSelections){this.selections.Select.bind((function(e,n){t.onSelect(e,n)}));this.selections.ToggleShape.bind((function(e){var n=t.selectedShapes.indexOf(e);-1!==n?t.selectedShapes.splice(n,1):t.selectedShapes.push(e);t.onToggleShape(e)}));this.selections.Deactivated.bind((function(){t.selectedShapes=[]}));this.selections.Clear.bind((function(){t.selectedShapes=[]}))}}},setTooltips:function e(t){this.tooltips=t},initTooltips:function e(){},refreshSelections:function e(){if(!this.selections)return;this.containerRect=this.$element[0].getBoundingClientRect();this.selections.cache.clear()},onToggleShape:function e(t){t.$element[this.isSelected(t.value)?"addClass":"removeClass"]("selected")},onSelect:function e(t,n){if(!t.length)return;var r=this.selectedShapes.map((function(e){return e.value}));r.length>0&&this.activeDimensions.length>0?this.backendApi.select(r,this.activeDimensions,n):1!==t.length||t[0].selected||this.backendApi.clearSelections()},onRangeSelect:function e(){},addToSelectionCache:function e(t,n){if(!this.selections)return;var r=this.containerRect;var i=t[0].getBoundingClientRect();var a=new s["a"](new o["a"](i.left-r.left,i.top-r.top,i.right-i.left,i.bottom-i.top),false,n);a.$element=t;this.selections.cache.add(a)},isSelected:function e(t){return this.selectedShapes.filter((function(e){return e.value===t})).length},setSnapshotData:function e(){},getSelectionToolbar:function e(){var t=this;var n=[];if(!d(this.$scope)){n.push({name:"Tooltip.ToggleOnLassoSelection",tid:"selection-toolbar.toggleLasso",isIcon:true,buttonClass:"sel-toolbar-icon-toggle",iconClass:"lui-icon lui-icon--lasso",action:function e(){t.toggleLasso=!t.toggleLasso},isActive:function e(){this.name=t.toggleLasso?"Tooltip.ToggleOffLassoSelection":"Tooltip.ToggleOnLassoSelection";return t.toggleLasso},isDisabled:function e(){if(t.isLassoDisabled&&t.isLassoDisabled())return true;return false}});n.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}})}return new l["a"](this.$scope.backendApi,this.$scope.selectionsApi,false,false,n,[])},selectValues:function e(t,n,r){if(!this.selectionsEnabled)return;var i=this.$scope;if(!i.selectionsApi.active){var a=this;i.selectionsApi.confirm=function(){i.backendApi.endSelections(true);i.selectionsApi.deactivated()};i.selectionsApi.cancel=function(){i.backendApi.endSelections(false);i.selectionsApi.deactivated()};i.selectionsApi.deactivate=function(){this.deactivated()};i.selectionsApi.clear=function(){a.clearSelectedValues(a.$element);i.backendApi.clearSelections();i.selectionsApi.selectionsMade=false;a.selectedArrays={}};this.getSelectionToolbar=function(){var e=[];d(i)||e.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});return new l["a"](this.$scope.backendApi,this.$scope.selectionsApi,false,false,e,[])};i.selectionsApi.activated();this.selectedArrays={}}this.$scope.selectionsApi.selectionsMade=true;this.selectedArrays[t]||(this.selectedArrays[t]=[]);if(r)for(var o=0;o<n.length;o++){var s=this.selectedArrays[t].indexOf(n[o]);-1===s?this.selectedArrays[t].push(n[o]):this.selectedArrays[t].splice(s,1)}else this.selectedArrays[t]=this.selectedArrays[t].concat(n);this.backendApi.selectValues(t,this.selectedArrays[t],false)},clearSelectedValues:function e(t){t.find(".selected").removeClass("selected")},setInteractionState:function e(t){this._super(t);this._interactionState=t;this._inEditState=t===c["a"].EDIT;this._inAnalysisState=t===c["a"].ANALYSIS;this._inAnalysisState&&!this._on?this.on():!this._inAnalysisState&&this._on&&this.off()},setDirection:function e(t){this.$scope.options.direction=t;this.options.direction=t;if(this.selections&&this.selections.options&&this.selections.options.range){this.selections.options.range.rtl="rtl"===t;this.selections.types.range.setDirection(t)}},inAnalysisState:function e(){return this._inAnalysisState},inEditState:function e(){return this._inEditState},getPreferredSize:function e(){}});Object.defineProperties(f.prototype,{toggleLasso:{set:function e(t){var n=this;if(this.selections){this.selections.lassoEnabled=t;a["default"].$apply(a["default"].$rootScope,(function(){n.options.lassoEnabled=t}))}},get:function e(){return this.selections&&this.selections.lassoEnabled}}});t["a"]=f},"6Z/P":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("sWge");var s=n("sCDE");var l=n("wIyQ");var c=n("B52N");var u=n("5xMv");var d=n("NFdj");var f=n.n(d);var p=n("z4LI");var h=n("hVRC");var v=n("G1wx");var m=n("MGTR");var g=n("jWHD");var b=n("jaci");var y=n("1DLp");var w=n("p3fE");var S=n("Al5b");var x=n("Tf0a");var C=n("97cA");var q=n("90GT");var E=n("xiWV");var I=n("9/B2");var k=n("acVu");var A=f.a.injector(["ng"]);var T=A.get("$cacheFactory");var D=T("pp-object");var O=2;function L(e,t){var n={id:t.id,type:"gridCell",customObject:t,canCopy:function e(){return!t.object.isInvalid},copy:function e(){m["a"].publish("/activeSheet/copyObject",t)},canCut:function e(){return!t.object.isInvalid},cut:function e(){m["a"].publish("/activeSheet/cutObject",t)},paste:function e(){m["a"].publish("/activeSheet/pasteObject",t)},canRemove:function e(){return true},remove:function n(){e.gridService.removeCell(t)},getAllPropertyPanelContent:function e(){var n=null;return t.getVisualization().then((function(e){n=e.model.id;return e.getPropertyPanelContent().then((function(t){var r=t.type;var i=t.app;return o["a"].all({appLayout:i.getLayout(),properties:e.model.getProperties(),layout:e.model.getLayout()}).then((function(a){if(n!==a.properties.qInfo.qId)return o["a"].resolve(null);return{definition:t.definition,globalChangeListeners:t.globalChangeListeners,type:r.type,ext:t.ext,handler:t.handler,iconName:t.iconName,titleRef:t.titleRef,properties:a.properties,layout:a.layout,localeInfo:a.appLayout.qLocaleInfo,app:i,model:e.model,cache:D}}))}))}))}};return n}function M(e,t){var n=t?1:O;return{width:"calc( ".concat(e.width,"% - ").concat(2*n,"px )"),height:"calc( ".concat(e.height,"% - ").concat(2*n,"px )"),left:"calc( ".concat(e.x,"% + ").concat(n,"px )"),top:"calc( ".concat(e.y,"% + ").concat(n,"px )")}}function P(e){e.getVisualization().then((function(t){t.getPreferredSize().then((function(t){t&&c["default"].isSmallDevice&&(e.style={width:"".concat(t.w,"px"),height:"".concat(t.h,"px")})}))}))}function N(e,t,n){var r=100;var i=100;var a=r/t;var o=i/n;e.rectFor=function e(t){if(t.bounds)return{left:t.bounds.x,top:t.bounds.y,width:t.bounds.width,height:t.bounds.height,margin:O};var n=t.colspan*a;var r=t.rowspan*o;var i=t.col*a;var s=t.row*o;return{left:i,top:s,width:n,height:r,margin:O}};var s=[];var l=[];var c;for(c=0;c<t-1;++c){var u=(c+1)*a;l.push({left:"".concat(u,"%")})}for(c=0;c<n-1;++c){var d=(c+1)*o;s.push({top:"".concat(d,"%")})}e.cols=t;e.rows=n;e.horizontalLines=s;e.verticalLines=l}function R(e,t){var n=t&&t.layoutOptions||{};e.sheetSize={};w["a"].updatePermissionStyle(e);e.zoomCell||c["default"].isSmallDevice&&!e.mobileGrid||(n.sheetMode&&"RESPONSIVE"!==n.sheetMode||!t.height?"CUSTOM"===n.sheetMode&&(e.sheetSize=w["a"].getCustomSheetSize(t,i()("#grid-wrap").height())):e.sheetSize=w["a"].getExtendedSheetSize(t,p["a"].isInEditMode()))}function F(e,t){return{active:false,visible:false,items:[{translation:"contextMenu.showDetails",tid:"nav-menu-info",cssClasses:"lui-icon lui-icon--info",dynamicCssClasses:function t(){var n=[];e.zoomCell?n.push("big"):n.push("border","white");return n.join(" ")},isVisible:function n(){return!!t.object&&(v["a"].treatAsDesktop()||!!e.zoomCell)&&!p["a"].isInEditMode()&&!t.object.isInvalid&&t.object.supportObjectInfo()},action:function e(){"container"===t.model.genericType?C["a"].show(t.model.items.currentObject):C["a"].show(t.object)}},{translation:"Visualization.Refresh",tid:"nav-menu-refresh",cssClasses:"lui-icon lui-icon--reload",dynamicCssClasses:function n(){var r,i,a;var o=(null===t||void 0===t||null===(r=t.model)||void 0===r||null===(i=r.items)||void 0===i||null===(a=i.dynamicChart)||void 0===a?void 0:a.state)===E["a"].VIEW_STATE.VIOLATION;var s=[];e.zoomCell?s.push("big"):s.push("border","white");o&&s.push("disabled");return s.join(" ")},isVisible:function n(){var r,i;var a=(null===t||void 0===t||null===(r=t.model)||void 0===r||null===(i=r.items)||void 0===i?void 0:i.dynamicChart)&&(t.model.items.dynamicChart.state===E["a"].VIEW_STATE.DELETE||t.model.items.dynamicChart.state===E["a"].VIEW_STATE.UNAVAILABLE);return!!t.object&&(v["a"].treatAsDesktop()||!!e.zoomCell)&&!t.object.isInvalid&&t.object.supportRefresh()&&!a},action:function e(n){var r=t.model.layout.children[0].externalReference.viewId;var i=t.model.items.dynamicChart.state===E["a"].VIEW_STATE.VIOLATION||t.model.items.dynamicChart.state===E["a"].VIEW_STATE.DELETE||t.model.items.dynamicChart.state===E["a"].VIEW_STATE.UNAVAILABLE;i||x["a"].refresh(r,t.model.app);n&&n.stopPropagation()}},{translation:"contextMenu.takeSnapshot",tid:"nav-menu-snapshot",cssClasses:"lui-icon lui-icon--camera",dynamicCssClasses:function n(){var r=[];e.zoomCell?r.push("big"):r.push("border","white");t.snapshot.dialogOpen&&r.push("blue");return r.join(" ")},isVisible:function e(){return t.snapshot.isAnnotating},action:function n(){if(t.snapshot.snapshotTimer)return;t.snapshot.snapshotTimer=setTimeout((function(){t.snapshot.snapshotTimer=null}),1e3);var r=true;if(t.snapshot.isAnnotating)return;if(e.zoomCell&&t.showExploreMenu){t.toggleExploreMenu();t.object.resize();t.snapshot.take(r)}else e.zoomCell?t.snapshot.take(r,true):t.snapshot.take(r)}},{translation:"Tooltip.ZoomOut",tid:"nav-menu-zoom-out",cssClasses:"lui-icon lui-icon--collapse big",isVisible:function n(){return e.isSheet&&e.zoomCell===t&&!e.zooming&&(!t.object.type||"action-button"!==t.object.type.type)},action:function n(){t.navMenu.visible=false;t.showExploreMenu&&t.toggleExploreMenu(false);i()(".embedded-sheet-toolbar").length>0&&i()(".embedded-sheet-toolbar").css("display","block");e.zoom(null);e.gridService.restoreSheetScrollState()}},{translation:"Tooltip.ZoomIn",tid:"nav-menu-zoom-in",cssClasses:"lui-icon lui-icon--expand white border",isVisible:function n(){return!!t.object&&v["a"].treatAsDesktop()&&!e.zoomCell&&!t.object.isInvalid&&!e.zooming&&(!t.object.type||"action-button"!==t.object.type.type)},action:function n(r){e.zoom(t);if(p["a"].isInEditMode()&&!t.options.isActive){e.toggleActive(null);u["a"].resetPropertyPanelToggle()}r&&r.stopPropagation()}},{translation:"Tooltip.ContextMenu",tid:"nav-menu-move",cssClasses:"lui-icon lui-icon--more",dynamicCssClasses:function t(){var n=[];e.zoomCell?n.push("big"):n.push("border","white");return n.join(" ")},isVisible:function n(){var r,i;return!!t.object&&(v["a"].treatAsDesktop()||!!e.zoomCell)&&!e.zooming&&"action-button"!==(null===t||void 0===t||null===(r=t.object)||void 0===r||null===(i=r.type)||void 0===i?void 0:i.type)},action:function n(r){var i=p["a"].model;r.pageY+=20;e.gridService.onCellContextMenu(r,t,i,e,"")}}]}}function _(e){return e.hasUpdatePermission&&!c["default"].isSmallDevice}function j(e,t){return t>=0&&e>t?t:e}function B(e,t){var n=[];var r=["top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"];var i=e.pos.bounds?h["a"].getAligmentToGrid(e.pos.bounds,t.cols,t.rows):e.pos;var a=i.col;var o=a+i.colspan;var s=i.row;var l=s+i.rowspan;var c={left:a,right:t.cols-o,top:s,bottom:t.rows-l};for(var u=0;u<t.cells.length;++u){if(t.cells[u]===e||t.cells[u].isEmpty)continue;var d=t.cells[u].pos.col;var f=d+t.cells[u].pos.colspan;var p=t.cells[u].pos.row;var v=p+t.cells[u].pos.rowspan;if(p<l&&v>s){c.left=j(c.left,a-f);c.right=j(c.right,d-o)}if(d<o&&f>a){c.top=j(c.top,s-v);c.bottom=j(c.bottom,p-l)}}r.forEach((function(e){var t={top:true,bottom:true}[e]||false;var r={left:true,right:true}[e]||false;var a={X:0,Y:0};var o=false;if(r){a.X=c[e];o=i.colspan<=1}else if(t){a.Y=c[e];o=i.rowspan<=1}else{var s=e.split("-");a.Y=c[s[0]];a.X=c[s[1]];o=i.rowspan<=1&&i.colspan<=1}if(0===a.Y&&0===a.X&&o)return;var l={X:i.colspan-1,Y:i.rowspan-1};if(l.X<0&&a.X<=0||l.Y<0&&a.Y<=0)return;l.Y=Math.max(l.Y,0);l.X=Math.max(l.X,0);n.push({dir:e,expand:a,contract:l})}));return n}function V(e,t,n){var r=e.layout||{};var i=r.layoutOptions&&"CUSTOM"===r.layoutOptions.sheetMode;var a=e.placementService.updateGridCells(e.cols,e.rows,e.cells,t,y["a"].getResolutionFor(r.gridResolution),i);e.cells=a;var s=p["a"].state===p["a"].States.edit?g["a"].EDIT:g["a"].ANALYSIS;a.forEach((function(t){if(!t.isEmpty){if(!t.model){var r=Object(o["a"])();t.options.setController=r.resolve;t.options.interactionState=s;t.options.direction=b["a"].direction;t.options._softCancelOnRemove=true;t.options.removeIt=function(){e.gridService.removeCell(t)};if(e.app){t.navMenu=F(e,t);e.app.getObject(t.id).then((function(r){t.model=r;n&&e.toggleActive(t)}))}t.getVisualization=function(){return r.promise}}t.options.canSaveSoftProperties=_(e);t.model&&t.model.layout&&(t.options.permissions=S["a"].getPermissions(p["a"],t.model,t.model.layout))}}));!e.hasUpdatePermission&&e.zoomCell&&p["a"].state===p["a"].States.edit&&e.zoom(null);e.cells=a;e.updateCellsSize()}function H(e,t){var n=t.qInfo.qId!==e.lastSheetId;var r=!n&&p["a"].isInEditMode()&&!e.zoomCell&&t.permissions.update;e.lastSheetId=t.qInfo.qId;e.hasUpdatePermission=t.permissions.update;e.isSheet=true;e.isMaster=false;e.sheetTitle=t.labelExpression||t.qMeta&&t.qMeta.title||"";e.sheetId=t.qInfo&&t.qInfo.qId||"";e.isDraft=t.qMeta&&t.qMeta.sourceObject&&t.qMeta.sourceObject.length;e.isDraftOwner=t.qMeta&&t.qMeta.draftObject&&t.qMeta.draftObject.length;var i=e.layout.layoutOptions;e.extend=e.hasUpdatePermission&&i&&i.extendable&&"CUSTOM"!==i.sheetMode;var a=i&&i.mobileLayout;e.mobileGrid=Object(k["b"])("MOBILE_GRID")&&"GRID"===a&&!(i&&"CUSTOM"===i.sheetMode);var o=e.cols;var s=e.rows;R(e,t);!n&&e.hasUpdatePermission||e.clearActiveCell();n&&(e.cells=[]);N(e,o,s);V(e,t.cells.slice(),r)}function z(e,t){this.gridService=e;this.placementService=q["a"];this.blocked=false;this.app=t}z.prototype.autoCollapse=function(){var e=this;var t=p["a"].getModel();if(t&&t.layout&&t.layout.permissions.update&&t.layout.height&&t.layout.height>100&&t.layout.cells){var n=h["a"].calculateCollapseHeight(t.layout,t.layout.cells);if(n>0)return t.extendSheet(-n).then((function(){e.updateCellsSize()}))}return o["a"].resolve()};z.prototype.updateCellsSize=function(){var e=this;R(e,e.layout);for(var t=0;t<e.cells.length;t++)e.setCellSize(e.cells[t],e.cells[t].pos)};z.prototype.setCellSize=function(e,t){if(!this.mobileGrid&&c["default"].isSmallDevice&&e.getVisualization)e.style=P(e);else{t.bounds=this.placementService.getCellAlignment(t,this.cols,this.rows);e.style=M(t.bounds,this.mobileGrid&&c["default"].isSmallDevice)}e.options&&(e.options.canSaveSoftProperties=_(this));e.pos=t};z.prototype.block=function(){this.blocked=true;this.removeResizeHandles()};z.prototype.unblock=function(){this.blocked=false;this.updateActiveCell()};z.prototype.isBlocked=function(){return this.blocked};z.prototype.updateResize=function(e){e.resize=B(e,this)};z.prototype.updateActiveCell=function(){var e=this;if(!e.activeCell)return;if(!p["a"].isInEditMode())return;if(this.blocked)return;var t=e.activeCell.pos.bounds?h["a"].getAligmentToGrid(e.activeCell.pos.bounds,e.cols,e.rows):e.activeCell.pos;var n=t.col;var r=n+t.colspan;var i=t.row;var a=i+t.rowspan;var o={left:n,right:e.cols-r,top:i,bottom:e.rows-a};function s(e,t){t>=0&&o[e]>t&&(o[e]=t)}for(var l=0;l<e.cells.length;++l){if(e.cells[l]===e.activeCell||e.cells[l].isEmpty)continue;var c=e.cells[l].pos.col;var u=c+e.cells[l].pos.colspan;var d=e.cells[l].pos.row;var f=d+e.cells[l].pos.rowspan;if(d<a&&f>i){s("left",n-u);s("right",c-r)}if(c<r&&u>n){s("top",i-f);s("bottom",d-a)}}e.activeCell.updating=false;e.activeCell.resize=B(e.activeCell,e)};z.prototype.removeResizeHandles=function(){this.cells.forEach((function(e){e.resize=null}))};z.prototype.clearActiveCell=function(){var e=this;this.cells&&e.removeResizeHandles();e.activeCell=null};z.prototype.setCellSelected=function(e){e&&!e.isEmpty?u["a"].selectedObject&&"gridCell"===u["a"].selectedObject.type&&u["a"].selectedObject.id===e.id||u["a"].setSelectedObject(L(this,e)):I["a"].setSheetAsSelectedObj()};z.prototype.gridToggleActive=function(){this.toggleActive(null)};z.prototype.toggleActive=function(e){var t=this;if(!p["a"].isInEditMode())return;if(!e||e.isEmpty)t.clearActiveCell();else{t.clearActiveCell();t.hasUpdatePermission&&(t.activeCell=e);t.updateActiveCell();u["a"].propertiesOpen=true}t.setCellSelected(e)};z.prototype.setEditMaster=function(e,t){var n=this;var r=[{name:e,type:t,col:0,row:0,colspan:1,rowspan:1}];n.lastSheetId=null;n.isSheet=false;n.isMaster=true;N(n,1,1);n.clearActiveCell();V(n,r,false);n.cells[0].options.interactionState=g["a"].EDIT;n.setCellSelected(n.cells[0]);n.zoom(n.cells[0])};z.prototype.update=function(e){if(!e)return;var t=this;t.layout=e;N(t,e.columns||12,e.rows||7);H(t,e);t.activeCell&&-1===t.cells.indexOf(t.activeCell)&&t.setCellSelected(null);if(t.zoomCell&&-1===t.cells.indexOf(t.zoomCell)){t.zoomCell=null;t.setCellSelected(null);R(t,t.layout)}t.updateActiveCell()};z.prototype.zoom=function(e){var t=this;if(!t.cells)return;t.cells.forEach((function(t){if(t.options){t.options.isVisible=t===e||!e;t.options.isZoomed=t===e&&!!e}}));p["a"].isInEditMode()&&t.clearActiveCell();if(e){t.zoomCell=e;t.gridService.saveScrollState();e.object&&(e.object.expanded=!!e)}else if(t.zoomCell){t.zoomCell.object&&(t.zoomCell.object.expanded=false);t.hasUpdatePermission&&p["a"].isInEditMode()&&(t.activeCell=t.zoomCell);t.zoomCell=null;t.updateActiveCell();t.gridService.restoreScrollState()}R(t,t.layout)};z.prototype.highlight=function(e){var t=this;if(!t.cells)return;t.cells.forEach((function(t){t.isHighlighted=t===e||!e}))};z.prototype.exploreMenu=function(e,t){e&&e.object&&e.object.hasSoftProperties&&e.toggleExploreMenu(t)};z.prototype.getOptimalCell=function(){return q["a"].getOptimalCell(this.cells.slice())};var $=z;var U=n("6uJb");function G(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){G(a,r,i,o,s,"next",e)}function s(e){G(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Q=null;var K=null;var Y={gridElement:null,scrollTop:0,scrollTopSheet:0,scrollLeft:0,scrollLeftSheet:0,lastZoomedCell:null,intervalPromise:null,hightlightedCellId:null};function J(e,t){p["a"].setView(e);var n=i()(document.body);n.toggleClass("qv-view-sheet",!t);n.toggleClass("qv-view-object",t);n.toggleClass("qv-gridzoom",t)}function Z(){Q.grid.updateCellsSize()}function X(){Q.grid.updateCellsSize()}function ee(e){return e?o["a"].resolve():Q.grid.autoCollapse()}function te(e){if(!Q)return;ee(p["a"].isInEditMode()).then((function(){if(Q){Q.model=e;Q.grid.unblock()}}))}function ne(){return Q&&Q.grid.isBlocked()}function re(e){if(ne())return o["a"].reject();Q.grid.block();return Q.model.addObject(e).finally((function(){Q.grid.unblock()}))}function ie(e,t){if(ne())return o["a"].reject();return Q.model.swapObjects(e,t)}function ae(e,t){if(ne())return o["a"].reject();return Q.model.moveObject(e,t)}function oe(e){if(ne())return o["a"].reject();Q.grid.block();return Q.model.removeObject(e).finally((function(){Q.grid.unblock()}))}function se(e){if(!Q)return;oe(e.pos)}function le(){return Q&&Q.grid&&!Q.model}function ce(){if(!le())return;te(p["a"].model);J(p["a"].Views.sheet,false)}function ue(e,t){if(!Q)return;Q.model=null;Q.grid.setEditMaster(e,t);J(p["a"].Views.masterObject,true)}function de(e){var t;if(Q)return;Q=a["default"].$rootScope.$new(true);Q.grid=new $(this,e.enigmaModel.app);Q.grid.onCellContextMenu=Q.onCellContextMenu;Q.model=e;Q.stageState=u["a"];Object(s["a"])(Q,"model",(function(e){Q&&Q.grid.update(e)}));c["default"].ViewChanged.bind(Z);l["a"].on("end",X);Q.$watch(p["a"].isInEditMode,(function(e){t=e;if(Q.grid.layout){Q.grid.update(Q.grid.layout);if(t)Q.grid.updateActiveCell();else{Q.grid.removeResizeHandles();ce();ee(t)}}}));Q.$watch("grid.zoomCell",(function(e){if(le()||p["a"].view===p["a"].Views.story&&p["a"].state!==p["a"].States.analysis)return;var t=e?p["a"].Views.object:p["a"].Views.sheet;J(t,!!e)}));Q.$watch("grid.changedZoom",(function(e){false!==e||Q.grid.zoomCell||Z(Q.grid)}));Q.$watch("stageState.selectedObject",(function(e){Q&&e&&"gridCell"!==e.type&&Q.grid.clearActiveCell()}));p["a"].SheetChanged.bind(te)}function fe(){K||(K=a["default"].getService("$interval"));if(!Q)return;Q.$destroy();Q=null;c["default"].ViewChanged.unbind(Z);l["a"].off("end",X);p["a"].SheetChanged.unbind(te);K.cancel(Y.intervalPromise);Y.gridElement=null}function pe(){var e=Q&&Q.grid.getOptimalCell();e||a["default"].getService("qvAlertDialog").show({title:U["default"].get("Ui.Warning.GridFull.Title"),message:U["default"].get("Ui.Warning.GridFull"),closeLabel:U["default"].get("Common.OK")});return e}var he=t["a"]={start:de,stop:fe,goToEditMode:function e(){p["a"].setState(p["a"].States.edit)},getOptimalCell:pe,removeCell:se,isActive:function e(){return!!Q},getGrid:function e(){return Q&&Q.grid},getModel:function e(){return Q&&Q.model},activateCell:function e(t){Q&&Q.grid.toggleActive(t)},deactivateCell:function e(){Q&&Q.grid.toggleActive(null)},getZoomCell:function e(){return Q&&Q.grid.zoomCell},getZoomedCellId:function e(){return Q.grid.zoomCell.id},zoomInOnCell:function e(t){var n;if(Q){n=Q.grid.cells.filter((function(e){return e.id===t}));n.length&&Q.grid.zoom(n[0])}},zoomOut:function e(){if(Q){Q.grid.zoom(null);Q.grid.gridService.restoreSheetScrollState()}},saveZoom:function e(){Q&&Q.grid&&Y&&!Y.lastZoomedCell&&Q.grid.zoomCell&&Q.grid.zoomCell.id&&(Y.lastZoomedCell=Q.grid.zoomCell.id)},restoreZoom:function e(){var t=this;if(Y.lastZoomedCell){var n=a["default"].getService("$timeout");n((function(){Q.grid.blockZoomAnimation=true;t.zoomInOnCell(Y.lastZoomedCell);Y.lastZoomedCell=null}))}},setGridElement:function e(t){Y.gridElement=t},saveScrollState:function e(){if(i()(".qvt-sheet").length>0&&!Y.lastZoomedCell&&Y.gridElement){Y.scrollTop=Y.gridElement.scrollTop;Y.scrollLeft=Y.gridElement.scrollLeft;Y.scrollTopSheet=i()(".qvt-sheet")[0].scrollTop;Y.scrollLeftSheet=i()(".qvt-sheet")[0].scrollLeft}},restoreScrollState:function e(){K||(K=a["default"].getService("$interval"));if(Y.lastZoomedCell)return;Y.scrollTop>0&&(Y.intervalPromise=K((function(){if(Y.gridElement.children.length>0){Y.gridElement.scrollTop=Y.scrollTop;Y.scrollTop=0;K.cancel(Y.intervalPromise)}}),50));Y.scrollLeft>0&&(Y.intervalPromise=K((function(){if(Y.gridElement.children.length>0){Y.gridElement.scrollLeft=Y.scrollLeft;Y.scrollLeft=0;K.cancel(Y.intervalPromise)}}),50))},restoreSheetScrollState:function e(t,n){var r=a["default"].getService("$timeout");r((function(){if(i()(".qvt-sheet").length>0)if("undefined"!==typeof t||"undefined"!==typeof n){i()(".qvt-sheet")[0].scrollTop>0&&(i()(".qvt-sheet")[0].scrollTop=0);i()(".qvt-sheet")[0].scrollLeft>0&&(i()(".qvt-sheet")[0].scrollLeft=0)}else{Y.scrollTopSheet>0&&(i()(".qvt-sheet")[0].scrollTop=Y.scrollTopSheet);Y.scrollLeftSheet>0&&(i()(".qvt-sheet")[0].scrollLeft=Y.scrollLeftSheet)}}))},resetSmallDeviceSheetScroll:function e(){var t=a["default"].getService("$timeout");t((function(){var e=I["a"].get();if(e&&e.length){e=e.find("#grid")[0];if(e){e.scrollTop=0;e.scrollLeft=0}e=null}}))},scrollToPos:function e(t,n){if(i()(".qvt-sheet").length){i()(".qvt-sheet").scrollLeft(t);i()(".qvt-sheet").scrollTop(n-80)}},getCellWithId:function e(t){if(Q){var n=Q.grid.cells.filter((function(e){return e.id===t}));if(n.length)return n[0];return null}return null},highlightContainer:function e(t){return Promise.all(Q.grid.cells.map(function(){var e=W(regeneratorRuntime.mark((function e(n){var r,i;var a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:if(!n.getVisualization){l.next=3;break}l.next=3;return n.getVisualization();case 3:if("container"===(null===(r=n.model)||void 0===r||null===(i=r.layout)||void 0===i?void 0:i.visualization)){s=((null===(a=n.model)||void 0===a||null===(o=a.layout.qChildList)||void 0===o?void 0:o.qItems)||[]).map((function(e){return e.qInfo.qId}));if(s.includes(t)){Q.grid.highlight(n,t);Y.hightlightedCellId=null;m["a"].publish("/container/tab/open.".concat(n.id),t)}}case 4:case"end":return l.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},highlightedCell:function e(t){t&&(Y.hightlightedCellId=t);var n;if(Q&&Y.hightlightedCellId){n=Q.grid.cells.filter((function(e){return e.id===Y.hightlightedCellId}));if(n.length){Q.grid.highlight(n[0]);Y.hightlightedCellId=null}else this.highlightContainer(Y.hightlightedCellId)}},getViewState:function e(){var t=this;return W(regeneratorRuntime.mark((function e(){var n,r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n=[];r=[];i=[];t.getGrid().cells.forEach((function(e){if(e.id&&e.object){n.push(e.id);r.push("function"===typeof e.object.getViewState?e.object.getViewState():null)}}));s.next=6;return Promise.all(r);case 6:a=s.sent;for(o=0;o<n.length;o++)i.push({id:n[o],viewState:a[o]});return s.abrupt("return",i);case 9:case"end":return s.stop()}}),e)})))()},isBlocked:ne,addObject:re,swapObjects:ie,moveObject:ae,isEditMaster:le,closeEditMaster:ce,editMaster:ue}},"6dxF":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("TmNk");var o=n.n(a);var s=n("mWu2");var l=n("sWge");var c=n("2n0V");var u=n("qZHi");var d=n("8IgQ");var f='<div class="qv-object-wrapper" ng-class="wrapperClassList" x-ms-format-detection="none">\n\n\t<article class="qv-object qvt-visualization" ng-class="classList" tid="{{objectClass}}">\n\t\t<div class="qv-inner-object" ng-style="styles.innerObject" ng-class="{\'no-titles\' : !object.showTitles || ($scope.layout.title === \'\' && $scope.layout.subtitle === \'\' && $scope.layout.footnote === \'\')}">\n\t\t\t<qv-rain ng-if="object.throbberApi.isVisible" show="object.throbberApi.isVisible" resize="object.throbberApi.watchResize" model="object.model"></qv-rain>\n\t\t\t<div class="retry-overlay" ng-if="object.throbberApi.isQueryCanceled">\n\t\t\t\t<ul class="cancelled-list">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<div class="retry-text" q-translation="Object.Cancelled"></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button class="retry-button lui-button" qva-activate="retry()" q-translation="Dialog.Button.Retry" tid="retry-calculations"></button>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="cancel-overlay" ng-if="object.throbberApi.isLongRunningQuery && !object.throbberApi.isQueryCanceled">\n\t\t\t\t<button class="cancel-button lui-button" ng-if="!object.throbberApi.isQueryCanceled" qva-activate="cancel()"\n\t\t\t\t\t\tq-translation="Common.Cancel" tid="cancel-calculations"></button>\n\t\t\t</div>\n\n\t\t\t<label class="hidden-screen-reader-label" q-translation="{{object.type.libraryInfo.isThirdParty ? object.type.libraryInfo.name : object.type.libraryInfo.translationKey}}"></label>\n\t\t\t<label ng-if="!layout.title" class="hidden-screen-reader-label" q-translation="Accessibility.Object.NoTitle"></label>\n\t\t\t<header qva-direction x-dir-setting="{{options.direction}}" ng-show="object.hasFrame" class="qv-object-header" ng-class="{\'thin\': !object.showTitles || ( layout.title === \'\' && layout.subtitle === \'\' && !object._inEditState), \'cell-nav-disabled\': cellNavDisabled}">\n\t\t\t\t<h1 ng-show="object.showTitles" qva-direction x-dir-setting="{{options.direction}}" ng-attr-title="{{layout.title}}" class="qv-object-title qvt-visualization-title" qva-activate="titleClicked();" ng-style="styles.title">\n\t\t\t\t\t<a ng-if="options.showSearch && object.isInteractive && !object.backendApi.isLocked() && !object._inEditState" q-title-translation="Common.Search" class="qv-object-search lui-icon lui-icon--search"\n\t\t\t\t\t   qva-activate="options.showSearch && options.search.toggle()"></a>\n\t\t\t\t\t<a ng-if="options.showSearch && object.isInteractive && object.backendApi.isLocked()" class="qv-object-locked lui-icon lui-icon--lock"\n\t\t\t\t\t   qva-activate="titleClicked()"></a>\n\t\t\t\t\t<span ng-if="options.showSearch && object.backendApi.isDrillDown()" class="lui-icon lui-icon--drill-down" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<div ng-if="options.highlightTitle && (!object._inEditState || object._inEditState && object.isReadonly)" qve-highlight text="{{layout.title}}" query="options.highlightQuery" class="qv-object-title-text" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.title}}"></div>\n\t\t\t\t\t<div ng-if="!options.highlightTitle && (!object._inEditState || object._inEditState && object.isReadonly)" class="qv-object-title-text" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.title}}">{{layout.title}}</div>\n\t\t\t\t\t<div ng-if="options.showDisclaimerStar && !!layout.title && !object._inEditState" class="disclaimer qv-object-title-text">*</div>\n\t\t\t\t\t<div ng-if="object._inEditState && !object.isReadonly" qv-inline-title-edit x-dir-setting="{{options.direction}}" x-model="model" x-property-path="title" x-layout-path="title"\n\t\t\t\t\t\t x-empty-translation="Object.AddTitle" class="qv-object-title-edit" qva-direction x-dir-setting="{{options.direction}}"></div>\n\t\t\t\t</h1>\n\n\t\t\t\t<h2 ng-if="!!layout.subtitle && object.showTitles" ng-style="styles.subTitle" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.subtitle}}" ng-attr-title="{{layout.subtitle}}" ng-show="!!layout.subtitle" class="qv-object-subtitle qvt-visualization-subtitle">{{layout.subtitle}}</h2>\n\t\t\t</header>\n\n\t\t\t<div class="qv-object-content-container">\n\t\t\t\t<div class="qv-object-content" qv-object-content component="object.content" options="options" object="object" backend-api="object.backendApi" layout="layout"\n\t\t\t\t\t ext="object.ext" selections-api="object.selectionsApi" tooltip-api="object.tooltipApi" throbber-api="object.throbberApi" on-init="onInit">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-footer-wrapper" ng-show="object.hasFrame && object.showTitles && !!layout.footnote" ng-style="styles.footer">\n\t\t\t<footer qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.footnote}}" ng-attr-title="{{layout.footnote}}" ng-if="object.hasFrame && object.showTitles && !!layout.footnote" class="qv-object-footnote qvt-visualization-footnote">{{layout.footnote}}</footer>\n\t\t</div>\n    <div ng-if="blockUI" class="qv-ui-blocker" ></div>\n  </article>\n</div>\n';var p=n("MGTR");var h=n("qbMp");var v=n("4nJ1");var m=n("Wbap");var g=n("6uJb");var b='<div qv-requirements class="requirements-wrapper" ng-show="show" ng-class="{\'incomplete\': !showAdd}">\n\t<div class="requirements">\n\t\t<h2 class="header">\n\t\t\t<i class="object-icon  lui-icon  lui-icon--{{iconName}}"></i>\n\t\t</h2>\n\t<p class="incomplete-text" ng-if="!showAdd" q-translation="Visualization.Requirements.IncompleteVisualization"></p>\n\t<span class="text req-label no-icon" ng-if="showAdd && (finishedDimensions.length || unfinishedDimensions.length) && reqLabels && isNative" title="{{dimensionLabel}}">{{dimensionLabel}}</span>\n\t\t\x3c!-- finished dimensions --\x3e\n\t\t<ul ng-if="showAdd && finishedDimensions.length">\n\t\t\t<li ng-repeat="dimension in finishedDimensions" class="item" ng-class="{ finished: !dimension.invalid, invalid: dimension.invalid }"\n\t\t\t\ttid="{{ dimension.invalid ? \'invalid-dimension\' : \'added-dimension\'}}">\n\t\t\t\t<span class="text req-description no-icon" ng-if="reqLabels && isNative" title="{{dimensionDesc(finishedDimensions.indexOf(dimension), object.layout.qHyperCube.qNoOfLeftDims)}}">{{dimensionDesc(finishedDimensions.indexOf(dimension), object.layout.qHyperCube.qNoOfLeftDims)}}</span>\n\t\t\t\t<div ng-class="{ \'finished-item\': reqLabels }">\n\t\t\t\t\t<span class="text" ng-class="{ \'no-icon\': !canRemoveDim }" title="{{dimension.title}}">{{dimension.title}}</span>\n\t\t\t\t\t<i ng-if="canRemoveDim" class="lui-icon lui-icon--remove" qva-activate="removeDimension($index)" q-title-translation="Common.Delete"></i>\n\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!-- unfinished dimensions --\x3e\n\t\t<ul ng-if="showAdd && unfinishedDimensions.length">\n\t\t\t<li ng-repeat="d in unfinishedDimensions" class="item missing" tid="missing-dimension">\n\t\t\t\t<span class="text req-description no-icon" ng-if="reqLabels && isNative" title="{{dimensionDesc(d.index + finishedDimensions.length, 1)}}">{{dimensionDesc(d.index + finishedDimensions.length, 1)}}</span>\n\t\t\t\t<button class="add-button lui-button"  ng-class="{ \'lui-active\': d.active, \'lui-disabled\': reqLabels && isNative &&unfinishedDimensions.indexOf(d) !== 0 }" ng-click="showAddDimension($event,d)"\n\t\t\t\t\ttid="add-dimension">{{(reqLabels && isNative && fullSize()) ? addLabel : addDimensionLabel}}</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<span class="text req-label no-icon" ng-if="showAdd && (finishedMeasures.length || unfinishedMeasures.length) && reqLabels && isNative" title="{{measureLabel}}">{{measureLabel}}</span>\n\t\t\t\x3c!-- finished measures --\x3e\n\t\t<ul ng-if="showAdd && finishedMeasures.length">\n\t\t\t<li ng-repeat="measure in finishedMeasures" class="item" ng-class="{ finished: !measure.invalid, invalid: measure.invalid }"\n\t\t\t\ttid="{{ measure.invalid ? \'invalid-measure\' : \'added-measure\'}}">\n\t\t\t\t<span class="text req-description no-icon" ng-if="reqLabels && isNative" title="{{measureDesc(finishedMeasures.indexOf(measure))}}">{{measureDesc(finishedMeasures.indexOf(measure))}}</span>\n\t\t\t\t<div ng-class="{ \'finished-item\': reqLabels }">\n\t\t\t\t\t<span class="text" title="{{measure.title}}">{{measure.title}}</span>\n\t\t\t\t\t<i class="lui-icon lui-icon--remove" qva-activate="removeMeasure($index)" q-title-translation="Common.Delete"></i>\n\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!-- unfinished measures --\x3e\n\t\t<ul ng-if="showAdd && unfinishedMeasures.length">\n\t\t\t<li ng-repeat="m in unfinishedMeasures" class="item missing" tid="missing-measure">\n\t\t\t\t<span class="text req-description no-icon" ng-if="reqLabels && isNative" title="{{measureDesc(m.index + finishedMeasures.length)}}">{{measureDesc(m.index + finishedMeasures.length)}}</span>\n\t\t\t<button class="add-button lui-button"  ng-class="{ \'lui-active\': m.active, \'lui-disabled\': reqLabels && isNative &&unfinishedMeasures.indexOf(m) !== 0 }" ng-click="showAddMeasure($event,m)"\n\t\t\t\ttid="add-measure">{{(reqLabels && isNative && fullSize()) ? addLabel : addMeasureLabel}}</button>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n';var y=n("z4LI");var w=n("7w0t");var S=n("wIyQ");var x=n("395F");var C=n("gF9a");var q=n("kp36");var E=n("I+mr");function I(e,t,n){return e?t&&!n:!n}function k(e){var t=new Array(e);var n;for(n=0;n<e;++n)t[n]={index:n};return t}function A(e,t){if(e.layers&&e.layers[0]){var n=e.layers[0];var r=n.qHyperCube.qDimensionInfo;if("point"===n.type)return r[1].qError&&r[1].qError.qErrorCode?[r[1]]:[r[0]];return e.layers[0].qHyperCube.qDimensionInfo||[]}var i=E["a"].getHyperCube(e,t);if(i)return i.qDimensionInfo||[];if(e.qChildList){var a=e.qChildList.qItems||[];return a.map((function(){return{}}))}if(e.qListObject)return e.qListObject.qDimensionInfo?[e.qListObject.qDimensionInfo]:[];return[]}function T(e,t){var n=E["a"].getHyperCube(e,t);return n&&n.qMeasureInfo||[]}function D(e,t){var n=e.ext.dimensionDefinition?e.ext.dimensionDefinition.min:0;var r=e.ext.dimensionDefinition?e.ext.dimensionDefinition.max:0;var i=e.ext.measureDefinition?e.ext.measureDefinition.min:0;var a=e.ext.measureDefinition?e.ext.measureDefinition.max:0;var o=A(t,e.hyperCubePath);var s=T(t,e.hyperCubePath);e.minDimensions="function"===typeof n?n.call(null,s.length):n;e.minMeasures="function"===typeof i?i.call(null,o.length):i;e.maxDimensions="function"===typeof r?r.call(null,s.length):r;e.maxMeasures="function"===typeof a?a.call(null,o.length):a}var O={updateShowAdd:I,getArray:k,getDimensionInfo:A,getMeasureInfo:T,updateMinMax:D};var L=n("5Hbw");var M=n("bdjB");var P=n("acVu");var N=null;var R=w["a"].extend({$scope:null,init:function e(t,n){this.$scope=t;this.$scope.hyperCubePath=t.object.ext.options.hyperCubePath;this.titleRetriever=q["a"].create();function r(){y["a"].model?t.showAdd=O.updateShowAdd(L["a"].inClient(),y["a"].isInEditMode(),t.object.isReadonly):t.showAdd=false}y["a"].StateChanged.bind(r);t.$on("$destroy",(function(){y["a"].StateChanged.unbind(r)}));r();t.removeDimension=function(e){t.object.model.getProperties().then((function(n){var r=t.object.getCreatePropertyHandler();r.setProperties(n);r.removeDimension(e).then((function(){t.object.model.setProperties(n)}))}))};t.removeMeasure=function(e){t.object.model.getProperties().then((function(n){var r=t.object.getCreatePropertyHandler();r.setProperties(n);r.removeMeasure(e).then((function(){t.object.model.setProperties(n)}))}))};function a(e){return t.object.ext.addFieldDimension(e,t.object).then((function(){u()}))}function o(e){return t.object.ext.addLibraryDimension(e,t.object).then((function(){u()}))}function s(e){return t.object.ext.addLibraryMeasure(e,t.object).then((function(){u()}))}function l(e){return t.object.ext.addExpressionMeasure(e,t.object).then((function(){u()}))}var c;t.showAddDimension=function(e,r){if(N&&N===r){c&&c.close();c=null;N=null;return}var s=t.ext.addDimensionPopoverComponent||x["a"];var l;c=n.show({template:s.template,controller:s.controller,input:{app:t.object.model.app,closeAddPopover:u,addFieldDimension:a,addLibraryDimension:o},alignTo:e.target,closeOnEscape:true,outsideIgnore:".add-button",dock:"right"});c.closing.then((function(e){l=e;e&&!i()(e.target).hasClass("add-button")&&(N=null)}));c.closed.then((function(){c=null;r.active=false;l||(N=null)}));r.active=true;N=r};t.showAddMeasure=function(e,r){if(N&&N===r){c&&c.close();c=null;N=null;return}var a=t.ext.addMeasurePopoverComponent||C["a"];var o;c=n.show({template:a.template,controller:a.controller,input:{app:t.object.model.app,closeAddPopover:u,addLibraryMeasure:s,addExpressionMeasure:l},alignTo:e.target,closeOnEscape:true,dock:"right",outsideIgnore:'[tid="add-measure"]'});c.closing.then((function(e){o=e;e&&!i()(e.target).hasClass("add-button")&&(N=null)}));c.closed.then((function(){c=null;r.active=false;o||(N=null)}));r.active=true;N=r};function u(e){if(c){c.close();c=null}N&&(N.active=false);e&&!i()(e.target).hasClass("add-button")&&(N=null)}S["a"].on("start",u);t.$on("$destroy",(function(){S["a"].off("start",u);u()}))},onPaint:_});R.$inject=["$scope","luiPopover"];var F={template:b,controller:R};function _(e){var t=this.$scope;var n=this;return this.$scope.object.model.getEffectiveProperties().then((function(r){var i;var a=n.titleRetriever;t.showAdd=O.updateShowAdd(L["a"].inClient(),y["a"].isInEditMode(),t.object.isReadonly);O.updateMinMax(t,e);t.iconName=t.object.ext.libraryInfo.icon;if(t.type!==t.object.type.type){i=t.object.getCreatePropertyHandler();n.propertyHandler=i;t.canRemoveDim=!!i.removeDimension;t.type=t.object.type.type;t.isNative=!t.object.type.libraryInfo.isThirdParty;t.addDimensionLabel=i.getAddDimensionLabel();t.addMeasureLabel=g["default"].get("Visualization.Requirements.AddMeasure");if(Object(P["b"])("REQ_LABELS")&&"auto-chart"!==t.type&&"widget"!==t.type){t.fullSize=function(){return t.object.objectSize.w>=Object(M["a"])().FULL.width&&t.object.objectSize.h>=Object(M["a"])().FULL.height};t.reqLabels=true;t.addLabel=g["default"].get("Common.Add");t.dimensionLabel="histogram"===t.type?g["default"].get("Common.Fields"):g["default"].get("Common.Dimensions");t.measureLabel=g["default"].get("Common.Measures");if(t.isNative)if("pivot-table"===t.type){t.dimensionDesc=function(e,t){var n={type:e<t?"rows":"columns"};return i.dimensionDefinition.description(r,e,n)};t.measureDesc=function(e){return i.measureDefinition.description(r,e,{})}}else if("filterpane"!==t.type){t.dimensionDesc=function(e){return i.dimensionDefinition.description(r,e,{})};t.measureDesc=function(e){return i.measureDefinition.description(r,e,{})}}else t.dimensionDesc=function(e){return t.object.ext.data.dimensions.description(r,e)}}}else i=n.propertyHandler;i.setLayout(e);i.setProperties(r);a.resetTitles();return l["a"].all({dimensions:l["a"].all(i.getDimensions().map((function(e){var t=e.qDef.cId;var n=i.getDimensionLayout(t);var r=n.qError&&n.qError.qErrorCode;return a.getDimensionTitle(n,e,true,i.app).then((function(e){return{invalid:!!r,title:e}}))}))),measures:l["a"].all(i.getMeasures().map((function(e,t){var n=e.qDef.cId;var r=i.getMeasureLayout(n);r||(r=i.getMeasureLayouts()[t]);var o=r.qError&&r.qError.qErrorCode;return a.getMeasureTitle(r,e,true,i.app).then((function(e){return{invalid:!!o,title:e}}))})))}).then((function(e){t.finishedDimensions=e.dimensions;t.finishedMeasures=e.measures;var n=e.dimensions.length;var r=e.measures.length;var i=!n&&t.maxDimensions>0;var a=!r&&t.maxMeasures>0;t.unfinishedDimensions=O.getArray(Math.max(0,t.minDimensions-n,i?1:0));t.unfinishedMeasures=O.getArray(Math.max(0,t.minMeasures-r,a?1:0));t.show=true}))}))}var j=n("zBv7");var B=n("HUnP");var V=n("jWHD");var H=n("AyDD");var z=n("UV1h");var $=n("+ZlN");var U=n("i7ks");var G=n("RZ9f");function W(e,t){var n;var r;var i;var a;var o=s["default"].getService("$timeout");t.throbberApi&&"function"===typeof t.throbberApi.destroy&&t.throbberApi.destroy();function l(i,a){o.cancel(n);o.cancel(r);t.throbberApi.clearRequest();if(t.selectionsApi&&t.selectionsApi.active)t.throbberApi.hide();else if(e.model&&void 0===e.model.state)t.throbberApi.show();else if(e.model&&e.model.isCancelled){t.throbberApi.isQueryCanceled=true;e.blockUI=false}else if(i){n=o((function(){e.model&&e.model.isValidating&&t.throbberApi.show()}),a);r=o((function(){if(true===t.throbberApi.isVisible){t.throbberApi.isLongRunningQuery=true;t.throbberApi.isQueryCanceled=false}}),8e3)}else{t.throbberApi.hide();t.throbberApi.isLongRunningQuery=false}}t.throbberApi={resizeCallbacks:[],isVisible:false,isLongRunningQuery:false,isQueryCanceled:false,reset:function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r>0&&(e.blockUI=true);l(n,r)},show:function n(){e.blockUI=false;t.throbberApi.isVisible=true;t.throbberApi.isQueryCanceled=false;t.throbberApi.isLongRunningQuery=false},trackRequest:function e(n){t.throbberApi.clearRequest();i=o((function(){t.throbberApi.show()}),1e3);t.throbberApi.requestPromise=n;a=o((function(){if(true===t.throbberApi.isVisible){t.throbberApi.isLongRunningQuery=true;t.throbberApi.isQueryCanceled=false}}),8e3);n.finally((function(){t.throbberApi.hide()}))},clearRequest:function e(){t.throbberApi.requestPromise=null;o.cancel(i);o.cancel(a)},hide:function i(){e.blockUI=false;t.throbberApi.isVisible=false;t.throbberApi.isLongRunningQuery=false;o.cancel(n);o.cancel(r);t.throbberApi.clearRequest()},off:function e(){o.cancel(n);o.cancel(r);t.throbberApi.clearRequest()},destroy:function e(){t.throbberApi.off();t.throbberApi.resizeCallbacks.length=0},resize:function e(){t.throbberApi.resizeCallbacks.forEach((function(e){e()}))},watchResize:function e(n){var r=t.throbberApi.resizeCallbacks;r.push(n);return function e(){var t=r.indexOf(n);-1!==t&&r.splice(t,1)}}}}var Q=W;var K=n("KBmc");var Y=n("BUOA");var J=n("H6Kg");var Z=n("wDFR");function X(e){e=e||{};p["a"].publish("/ui/object/resize",e)}["/resize/end","/ui/panel/toggle","/ui/grid/cellswap","/ui/grid/cellresize","/ui/grid/cellsplitting","/ui/grid/zoom/activated","/ui/grid/zoom/deactivated"].forEach((function(e){p["a"].subscribe(e,X)}));var ee=n("kr+q");var te='<div ng-show="progress" class="qv-animate progress ng-hide">\n\t<div class="progress-loader" style="width:20%;height:20%;position:absolute;top:40%;left:40%"></div>\n</div>\n';s["default"].directive("qvThrobber",["$timeout",function(e){return{replace:true,template:te,restrict:"E",scope:{model:"=",progress:"=",delay:"=",disabled:"="},link:function t(n){var r;n.$watch("model.isValidating",(function(t){if(true===n.disabled){n.progress=false;return}if(n.model&&void 0===n.model.state)n.progress=true;else if(t){r&&e.cancel(r);r=e((function(){n.model&&n.model.isValidating&&(n.progress=true)}),n.delay||1e3)}else n.progress=false}))}}}]);var ne=n("sqvK");var re='<div qva-direction x-dir-setting="{{options.direction}}" class="qv-object-nav" aria-hidden="true" ng-style="styles.backgroundColor" ng-class="{\'zero-top\' : options.isZoomed, \'visible\' : menu.visible, \'active\': options.isActive, \'inline\' : options.thinHeader}">\n  <qva-nav-menu-item ng-repeat="menuItem in menu.items | orderBy:\'+\':true" model="menuItem"></qva-nav-menu-item>\t\n</div>';var ie='<a\n  ng-show="model.isVisible()"\n  ng-class="[model.cssClasses, model.dynamicCssClasses()]"\n  qva-activate="model.action($event)"\n  q-title-translation="{{model.translation}}"\n  tid="{{model.tid}}">\n</a>';s["default"].directive("qvaNavMenuItem",[function(){return{template:ie,replace:true,scope:{model:"="},link:function e(t,n){t.model.mounted&&t.model.mounted(n)}}}]);s["default"].directive("qvaNavMenu",[function(){return{template:re,replace:true,scope:{menu:"=",options:"="},controller:["$scope","$element",function(e,t){e.menu.getSize=function(){var n=t[0].getBoundingClientRect();return{width:e.menu.visible?n.width:0,height:e.menu.visible?n.height:0}}}]}}]);var ae=new h["a"]({type:"invalid",path:"objects.error-handling/invalid-type"});function oe(){var e=/\.(qlik-stage|qlikcloud)\.com/;var t=window.location.hostname.match(e)||[];return t.length}var se={INVALID:0,RENDERED:1};s["default"].componentDirective("qvObjectContent",{object:"=",backendApi:"=",ext:"=",options:"=",layout:"=",selectionsApi:"=",tooltipApi:"=",throbberApi:"=",onInit:"="},(function(e,t,n){t.onInit(e,t,n)}));function le(e){e.selectionsApi&&e.selectionsApi.active&&e.selectionsApi.confirm()}function ce(e,t){var n;function r(){return!e.options||false!==e.options.isVisible}function i(){return!e.options||false!==e.options.isResizable}function a(){le(t)}function o(){if(!r()||!i())return;s["default"].$apply(e,(function(){t.resize()}));t.throbberApi&&t.throbberApi.resize();t.explore.resize()}function l(){n||(n=setTimeout((function(){o();clearTimeout(n);n=null}),100))}e.$on("resizeCell",(function(){l()}));p["a"].subscribe("/ui/object/resize.".concat(e.$id),(function(){l()}));S["a"].on("start.".concat(e.$id),a);e.$on("$destroy",(function(){clearTimeout(n);p["a"].unsubscribe(".".concat(e.$id));S["a"].off("start.".concat(e.$id),a)}))}function ue(e,t){e.object._forcePaint=true;e.object.startRenderTimestamp="visible"===document.visibilityState?Date.now():void 0;function n(n){if(!e.model.isCancelled){e.layout=n;t.setLayout(n,e.options)}}function r(e){if(!e)return;t.model&&o(t.model);a(e);t.setModel(e)}function i(){t.setRenderState(se.INVALID)}function a(r){var a;r.Invalidated&&!r.isCancelled&&r.Invalidated.bind(i);t.subscription=e.model.layoutSubscribe(n);if(null===t||void 0===t||null===(a=t.throbberApi)||void 0===a?void 0:a.isQueryCanceled){r.Invalidated&&r.Invalidated.bind(i);t.throbberApi.hide();t.throbberApi.reset(true);t.throbberApi.isQueryCanceled=false}}function o(n){n&&n.Invalidated&&n.Invalidated.unbind(i);n&&n.isValidating&&e.options._softCancelOnRemove&&n.markAsCancelled();t.subscription&&t.subscription.dispose()}e.$watch("model",r);e.$on("$destroy",(function(){o(e.model)}))}function de(e){return"".concat(parseInt(e,10)/13,"em")}function fe(e,t){var n=t&&t.visualization?t.visualization:t&&t.qInfo?t.qInfo.qType:null;var r=n?"object.".concat(z["a"].getMatch(n)):"object";var i=z["a"].initializeService(r);e.styles=v["a"].extend(true,e.styles||{},{innerObject:{"background-color":i.getStyle("","backgroundColor"),"font-family":i.getStyle("","fontFamily")},title:{"font-size":de(i.getStyle("title.main","fontSize")),"font-family":i.getStyle("title.main","fontFamily"),color:i.getStyle("title.main","color")},subTitle:{"font-size":de(i.getStyle("title.subTitle","fontSize")),"font-family":i.getStyle("title.subTitle","fontFamily"),color:i.getStyle("title.subTitle","color")},footer:{"font-size":de(i.getStyle("title.footer","fontSize")),"font-family":i.getStyle("title.footer","fontFamily"),color:i.getStyle("title.footer","color"),"background-color":i.getStyle("title.footer","backgroundColor")}})}function pe(e,t,n,r){var i;var a;var l;var c;var d;var f;fe(e,e.layout);t.updateTitlePadding=function(t){var n="rtl"===e.options.direction;v["a"].setValue(e,"styles.title.padding-right",n?0:"".concat(t,"px"));v["a"].setValue(e,"styles.title.padding-left",n?"".concat(t,"px"):0);r.contentLoaded().then((function(e){e.view&&e.view.updateTitlePadding&&e.view.updateTitlePadding(t)}))};t.setObjectClass=function(r){c||(c=n.find(".qv-object"));if(c[0]){(r||void 0===d)&&(d=c[0].clientWidth);(r||void 0===f)&&(f=c[0].clientHeight)}var i=u["a"].getLayoutMode(d,f);var a=t.type&&t.type.type;var o=[];t._inEditState&&o.push("qv-mode-edit");t.hasValidContent()||o.push("qv-incomplete");t.supportSnapshot()&&o.push("qv-can-take-snapshot");t.selectionsApi&&t.selectionsApi.active&&o.push("qv-selections-active");Object(P["b"])("THEME_FONT_FAMILY")||o.push("default-font");t.objectSize={w:d,h:f};e.options.layoutMode=i;var s="qv-layout-".concat(u["a"].getLayoutModeKey(i));o.push(s);e.objectClass="qv-object-".concat(a);o.push(e.objectClass);t.selectionClass&&o.push(t.selectionClass);e.classList=o;e.wrapperClassList=[];e.object&&e.object.hasFrame&&e.object.showTitles&&!!e.layout.footnote&&e.wrapperClassList.push("has-footnote");e.options.thinHeader=!t.showTitles||""===e.layout.title&&""===e.layout.subtitle&&!t._inEditState};function p(){return!e.options||false!==e.options.isVisible}t.update=function(){if(!this.valid)return;fe(e,e.layout);e.cellNavDisabled=Y["a"].isDisabled(t);var n=this;i=s["default"].getService("$timeout")((function(){t.backendApi&&t.backendApi.updateCache(e.layout);t.setObjectClass();e.$digest();n.loadContent();var i=t.type===ae&&e.options.hardError;r.contentLoaded().then((function(a){if(!a.isDestroyed)try{o.a.apply({model:t.model,isSnapshot:t.backendApi&&t.backendApi.isSnapshot}).then((function(r){if(r)return;return a.onPaint(e.layout,{visible:p()}).then((function(r){if(false===r)return;if(i){t.setRenderState(se.INVALID);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null,"INVALID")}else{t.setRenderState(se.RENDERED);!n.renderTime&&n.startRenderTimestamp&&(n.renderTime=Date.now()-n.startRenderTimestamp);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null);"function"===typeof e.options.snapshotCallback&&t.getSnapshotLayout().then((function(t){e.options.snapshotCallback(t)}))}})).catch((function(){t.setRenderState(se.INVALID);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null)}))}))}catch(n){t.setRenderState(se.INVALID);t.error={class:"hard-error",title:g["default"].get("Object.Error"),message:g["default"].get("Object.ErrorMessage.RenderingFailed",t.ext&&t.ext.type)};G["a"].trackEvent(G["a"].customEvents.EXTENSION_PAINT_ERROR,{message:"string"===typeof n?n:n.message,stack:n.stack,extension:t.type?t.type.type:"undefined",isThirdParty:t.type&&t.type.libraryInfo.isThirdParty});r.updateContent(j["a"]).then((function(r){r.onPaint(e.layout,{visible:false}).then((function(){t.setRenderState(se.RENDERED);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null,n)}))}));throw n}}))}))};t.resize=function(){if(!p())return;t.setRenderState(se.INVALID);t.setObjectClass(true);a=s["default"].getService("$timeout")((function(){r.contentLoaded().then((function(n){n.isDestroyed||n.onResize(e.layout).then((function(){t.setRenderState(se.RENDERED)})).catch((function(e){false}))})).catch((function(e){false}))}))};t.onResize=function(){r.contentLoaded().then((function(n){n.onResize(e.layout).then((function(){t.setRenderState(se.RENDERED)}))}))};var h=function e(){t.update()};J["a"].UpdateObjProps.bind(h);e.$on("$destroy",(function(){var e=s["default"].getService("$timeout");e.cancel(i);e.cancel(a);l&&l.reject();J["a"].UpdateObjProps.unbind(h)}))}function he(e,t,n,r){var i=Object(l["a"])();var a;n.loaded=i.promise;n.valid=false;n.loadContent=function(){var t={options:e.options,object:n,layout:e.layout,ext:n.ext};var i;i=n.ext.hasError(t)?j["a"]:n.ext.showRequirements(t)?F:n.ext;r.updateContent(i)};n.reset=function(){if(!this.valid)return;e.options=v["a"].extend({},e.resetOptions,{isZoomed:e.options.isZoomed,interactionState:e.options.interactionState,direction:e.options.direction,onRendered:e.options.onRendered,disableThrobber:e.options.disableThrobber,removeIt:e.options.removeIt});i=Object(l["a"])();this.loaded=i.promise;this.valid=false};n.validate=function(){if(this.valid)return;if(this.layout&&this.type&&this.ext){this.valid=true;i.resolve()}};n.setExtension=function(t){this.ext=t;e.ext=t;if("invalid"!==t.type){t.mapProperties(this.model);t.mapSoftProperties();this.setBackendApi();if(t.migrate){this.model.migrate={properties:t.migrate.properties||function(e){return e},snapshot:t.migrate.snapshot||function(e){return e}};"function"===typeof t.migrate.snapshot&&$["a"].isSnapshotData(this.model.layout)&&t.migrate.snapshot(this.model.layout)}else this.model.migrate={properties:function e(t){return t},snapshot:function e(t){return t}}}this.validate();this.update();this.ext.model=this.model};n.setBackendApi=function(){var t=e.options.APIType||this.ext.BackendApi;var n=new t(this.model);this.backendApi=n;r.contentLoaded().then((function(e){e.setBackendApi(n)}))};n.setType=function(i,a){this.backendApi&&this.backendApi.destroy();this.ext=null;this.backendApi=null;this.hasContent=false;this.type=i;i.load().then((function(o){if(n.type!==i)return;i!==ae&&(n.error=null);function l(){n.setExtension(o);ve(e,t,n,r);if(a){s["default"].$rootScope.$broadcast("refreshPropertyPanel");s["default"].$rootScope.$broadcast("reloadExploreContent")}}if("function"===typeof o.init){var c=o.init.call(null,t,n.layout);c&&"function"===typeof c.then?c.then((function(){l()}),(function(t){n.setRenderState(se.INVALID);n.error={class:"hard-error",title:g["default"].get("Object.Invalid.Title"),message:t||g["default"].get("Object.ErrorMessage.RenderingFailed",o.type)};r.updateContent(j["a"]).then((function(r){r.onPaint(e.layout,{visible:false}).then((function(){n.setRenderState(se.RENDERED);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null,t)}))}));l()})):l()}else l()}),(function(){n.setType(ae);oe()?n.error={class:"hard-error",title:g["default"].get("Object.Invalid.Title"),message:g["default"].get("Object.ErrorMessage.NotFound.Cloud.Extensions",i.type,"")}:n.error={class:"hard-error",title:g["default"].get("Object.Invalid.Title"),message:g["default"].get("Object.ErrorMessage.NotFound",i.type,"")};n.isInvalid=true;n.setObjectClass()}))};n.setModel=function(e){this.model=e;if(this.ext){this.ext.model=e;this.setBackendApi()}o.a.destroy(e);if(e){e.modifiers=o.a;e.colorSupport=K["a"]}};n.on=function(){r.contentLoaded().then((function(e){e.view&&e.view.on()}))};n.off=function(){r.contentLoaded().then((function(e){e.view&&e.view.off()}))};n.isOn=function(){return r.contentLoaded().then((function(e){if(e.view)return e.view.isOn();return null}))};n.setInteractionState=function(t){n._interactionState=t;n._inEditState=t===V["a"].EDIT;n._inAnalysisState=t===V["a"].ANALYSIS;e.options.interactionState=t;this._inEditState&&n.viewDataToggled&&n.toggleDataView();r.contentLoaded().then((function(e){t!==V["a"].ANALYSIS&&le(n);e.setInteractionState(t);s["default"].getService("$timeout").cancel(a);a=s["default"].getService("$timeout")((function(){n.setObjectClass()}))}))};n.getInteractionState=function(){return n._interactionState};n.inAnalysisState=function(){return n._inAnalysisState};n.inEditState=function(){return n._inEditState};n.setFreeResize=function(t){e.options.freeResize=t;r.contentLoaded().then((function(e){e.setFreeResize(t)}))};n.setDirection=function(t){if(!t||e.options.direction===t)return;e.options.direction=t;r.contentLoaded().then((function(e){e.setDirection(t);n.update()}))};n.setLayout=function(e){this.layout=e;var t=e.visualization||e.qInfo&&e.qInfo.qType;var n=c["a"].getType(t);var r=n;e.extensionMeta&&e.extensionMeta.name&&(r=e.extensionMeta.name);if(e.qError){n=ae;this.error={title:"Object.Error",message:"Object.Invalid.Info"}}if(!n){n=ae;m["a"].areExtensionsAllowed()?oe()?this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound.Cloud.Extensions",r,t]}:this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound",r,t]}:this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound.Security",r,t]}}if(this.ext&&this.ext.hasNewType&&this.ext.hasNewType(this,n,e)||this.type!==n){this.reset();this.setType(n,!!this.type)}this.isInvalid=n===ae;this.isLink=!this.isInvalid&&!!e.qExtendsId;this.showTitles=false!==e.showTitles;this.validate();this.update()}}function ve(e,t,n){function r(e){var t=i()(e.target);if(n.selectionsApi.ignoreOnOutside(t))return;n.selectionsApi.getDockToElement().off(".object");n.selectionsApi.confirm()}n.activateSelections=function(){if("undefined"===typeof n.ext.options.selections)return;n.inAnalysisState()&&n.selectionsApi.activate()};n.selectionsApi&&"function"===typeof n.selectionsApi.destroy&&n.selectionsApi.destroy();function a(){n.backendApi&&n.backendApi.endSelections(true);return null}n.tooltipApi={cancel:function e(){},destroy:function e(){}};n.selectionsApi={destroy:function e(){this._activatedCallbacks=[];this._deactivatedCallbacks=[];i()(window).off("onbeforeunload",a)},active:false,selectionsMade:false,_activatedCallbacks:[],_deactivatedCallbacks:[],on:function e(){},off:function e(){},ignoreOnOutside:function e(t){return!!(t.closest(".qv-selection-toolbar").length||t.closest(".selections-data-area-ui").length)},getDockToElement:function e(){return t},focusMenu:function t(){this.active&&ee["a"].focus(e.options.isPopover)},getMenuMaxHeight:function e(){return n.selectionsApi.getDockToElement().outerHeight()},getSelectionToolbarWidthOffset:function e(){return 0},refreshToolbar:function e(){ee["a"].refresh()},watchActivated:function e(t){this._activatedCallbacks.push(t);return function(){var e=this._activatedCallbacks.indexOf(t);this._activatedCallbacks.splice(e,1)}.bind(this)},activated:function o(l){this.active=true;l||n.backendApi.beginSelections();i()(window).on("onbeforeunload",a);if(!e.options.isPopover){this.getDockToElement().on("qv-outside.object",r);s["default"].$apply(e,(function(){n.setObjectClass();n.getSelectionToolbar().then((function(r){r.onMoveFocus=function(e){n.focus(e)};var i={toolbar:r,selectionsApi:n.selectionsApi,options:e.options,menuMaxHeight:n.selectionsApi.getMenuMaxHeight(),offsetWidth:n.selectionsApi.getSelectionToolbarWidthOffset()};var a=t.parent().closest(".qv-object-wrapper").length?t.parent().closest(".qv-object-wrapper"):t;ee["a"].open(a,n.selectionsApi.getDockToElement(),i)}))}))}this._activatedCallbacks.forEach((function(e){e.call(this)}),this)},watchDeactivated:function e(t){this._deactivatedCallbacks.push(t);return function(){var e=this._deactivatedCallbacks.indexOf(t);this._deactivatedCallbacks.splice(e,1)}.bind(this)},deactivated:function t(){i()(window).off("onbeforeunload",a);this.active=false;this.selectionsMade=false;n.tooltipApi.cancel();n.throbberApi&&!e.options.disableThrobber&&n.throbberApi.reset(true,1e3);if(!e.options.isPopover){n.selectionsApi.getDockToElement().off(".object");s["default"].$apply(e,(function(){n.setObjectClass();ee["a"].close();if(Object(P["b"])("ACC_SEL_MENU")){var e;null===(e=n.focus)||void 0===e?void 0:e.call(n)}}))}this._deactivatedCallbacks.forEach((function(e){e.call(this)}),this)},confirm:function e(){n.selectionsApi.deactivateSearch&&n.selectionsApi.deactivateSearch();n.backendApi.endSelections(true);n.tooltipApi.cancel();this.deactivated()},cancel:function e(){n.selectionsApi.deactivateSearch&&n.selectionsApi.deactivateSearch();n.backendApi.endSelections(false);n.tooltipApi.cancel();this.deactivated()},clear:function e(){n.backendApi.clearSelections();n.tooltipApi.cancel();this.selectionsMade=false},toggleKeyboardAccelerators:function e(){},getKeyAsToggleSelected:function e(t){return!(t.metaKey||t.ctrlKey)},search:function e(){},confirmSearch:function e(){},cancelSearch:function e(){},activate:function e(){if(this.active)return;this.activated()},notifyLockedSelections:function e(t){U["a"].showLockedFeedback(t)}};n.selectionsApi.watchDeactivated((function(){e.$emit("childSelectionActive",false)}));n.selectionsApi.watchActivated((function(){e.$emit("childSelectionActive",true)}))}function me(e,t){t.explore={resizeCallbacks:[],resize:function e(){t.explore.resizeCallbacks.forEach((function(e){e()}))},watchResize:function e(n){t.explore.resizeCallbacks.push(n)},unwatchResize:function e(n){var r=t.explore.resizeCallbacks.indexOf(n);-1!==r&&t.explore.resizeCallbacks.splice(r,1)},destroy:function e(){t.explore.resizeCallbacks=[]}}}s["default"].directive("qvObject",[function(){return{restrict:"E",replace:true,template:f,scope:{options:"=",model:"=",object:"=?",navMenu:"=",snapshot:"=?"},controller:["$scope",function(e){var t=Object(l["a"])();this.updateContent=function(n){var r=e.object;if(r&&r.content!==n){"undefined"!==typeof r.content&&(t=Object(l["a"])());r.content=n;r.setObjectClass()}return t.promise};this.contentLoaded=function(){return t.promise};e.onInit=function(e,n,r){e instanceof w["a"]||(e=new(B["a"].extend(e))(n,r));t.resolve(e)};e.blockUI=false}],link:function e(t,n,r,a){var c={};var u;t.object=c;t.options||(t.options={});t.options.zoomEnabled=!!r.zoomObject;t.resetOptions=v["a"].extend({},t.options);Object.defineProperties(c,{hasFrame:{get:function e(){return!t.options.isPopover&&!c.isInvalid}},isReadonly:{get:function e(){return!c||c.isLink||c.isInvalid||t.options.isReadonly}},isInteractive:{get:function e(){return!!c&&t.options.interactionState!==V["a"].STATIC}},hasSoftProperties:{get:function e(){return!!this.ext&&!!this.ext.mappedSoftDefinition}}});c.getCreatePropertyHandler=function(){var e=c.model.app;return c.ext.getCreatePropertyHandler(e)};c.getPropertyPanelContent=function(){return c.loaded.then((function(){var e=c.getCreatePropertyHandler();var t=c.ext.mappedDefinition||c.ext.definition;var n=c.ext.globalChangeListeners;return{definition:t,globalChangeListeners:n,type:c.type,app:c.model.app,backendApi:c.backendApi,handler:e,iconName:c.ext.libraryInfo.icon,titleRef:"title",ext:c.ext}}))};c.getSoftPropertyContent=function(){return c.loaded.then((function(){var e=c.ext.mappedSoftDefinition||c.ext.softDefinition;return{definition:e,type:c.type,backendApi:c.backendApi}}))};c.setSnapshotData=function(e,t){return a.contentLoaded().then((function(n){return n.setSnapshotData(e,t)}))};c.getViewState=function(){return a.contentLoaded().then((function(e){return e.getViewState?e.getViewState():void 0}))};c.getPreferredSize=function(){return a.contentLoaded().then((function(e){var t=e.getPreferredSize();if(t)return t.then((function(e){if(!e)return;var t=n.find("footer");var r=n.find("header");var i=35;return{w:e.w,h:e.h+(t.height()||0)+(r.height()||0)+i+n[0].offsetTop}}));return}))};c.getSnapshotLayout=function(){return c.loaded.then((function(){return a.contentLoaded().then((function(){return H["a"].prepSnapshotData(c.model.layout,c,true,void 0,false,{rtl:"rtl"===t.options.direction,qLocaleInfo:c.model.app.layout.qLocaleInfo})}))}))};c.toggleDataView=function(){return a.contentLoaded().then((function(e){if(e.view&&"function"===typeof e.view.toggleDataView){void 0===e.view.toggled&&e.view.initDataView(n[0].parentElement);return e.view.toggleDataView().then((function(t){if(t){c.dataViewObject=e.view.getDataViewObject();c.dataViewObject.setOnBlurHandler(c.blur)}c.viewDataToggled=t}))}return l["a"].resolve()}))};c.getDropOptions=function(e,t){return c.loaded.then((function(){return a.contentLoaded().then((function(){return c.ext.getDropOptions(c,e,t)}))}))};c.canReceive=function(e){return!c.ext||!c.ext.canReceive||c.ext.canReceive(e)};c.getContextMenu=function(e,t){return a.contentLoaded().then((function(n){return n.getContextMenu(c,e,t)}))};c.getObjectMenu=function(e){return a.contentLoaded().then((function(t){return t.getObjectMenu(c,e)}))};c.getSelectionToolbar=function(){return c.loaded.then((function(){return a.contentLoaded().then((function(e){return e.getSelectionToolbar()}))}))};c.reloadContent=function(){c.ext=i.a.extend({},c.ext);t.ext=c.ext;c.loadContent();c.update()};c.canShowExploreMenu=function(){var e=this.content===F||this.content===j["a"];return!this.isInvalid&&this.hasSoftProperties&&!e};function f(e,n,r){var i=c&&t.ext&&!(t.model&&!t.model.isValid&&!t.model.isValidating);n||(i=i&&e!==F);r||(i=i&&e!==j["a"]);return i}function p(e){var n=t.ext&&t.ext.support[e];if("function"===typeof n)return n.call(null,t.layout);if("boolean"===typeof n)return n;return false}c.supportCssScaling=function(){return f(this.content)&&p("cssScaling")};c.hasValidContent=function(){return f(this.content)};c.supportSnapshot=function(){if(!f(this.content))return false;var e=t.ext&&t.ext.snapshot&&t.ext.snapshot.canTakeSnapshot;if("undefined"===typeof e)return p("snapshot");if("function"===typeof e)return e.call(null,t.layout);if("boolean"===typeof e)return e;return false};c.supportObjectInfo=function(){if(!f(this.content))return false;if(c.isInvalid)return false;return this.layout.showDetails};c.supportRefresh=function(){return f(this.content)&&p("supportRefresh")};c.supportExportData=function(){return f(this.content,false,true)&&p("exportData")};c.supportExport=function(){return f(this.content)&&p("export")&&this.type.supportExport()};c.supportSharing=function(){return f(this.content)&&p("sharing")};c.supportViewData=function(){return f(this.content)&&p("viewData")};c.supportQuickMobile=function(){return Object(P["b"])("QUICK_MOB_CHART")&&f(this.content)&&p("quickMobile")};c.setRenderState=function(e){if(c&&c.renderState!==e){c.renderState=e;t.$emit("objectRenderStateChange",e)}};c.setOnFocusHandler=function(e){c.focus=e};c.setOnBlurHandler=function(e){c&&(c.blur=e)};c.cancel=function(){c.throbberApi.requestPromise?c.model.app.global.cancelRequest(c.throbberApi.requestPromise.requestId):c.subscription.cancel();c.throbberApi.hide();c.throbberApi.isQueryCanceled=true;a.contentLoaded().then((function(e){e.view&&e.view.cancel()}));"function"===typeof t.options.onCanceled&&t.options.onCanceled.call(null)};c.retry=function(){t.model.markAsInvalid();c.throbberApi.hide();c.throbberApi.reset(true);c.throbberApi.isQueryCanceled=false;t.model.getLayout().then((function(e){var n;t.layout=e;"function"===typeof(null===(n=c)||void 0===n?void 0:n.setLayout)&&c.setLayout(e)}));a.contentLoaded().then((function(e){e.view&&e.view.retry()}))};he(t,n,c,a);ce(t,c);pe(t,c,n,a);me(t,c);function h(){c.update()}c._themeChangeWatcher=h;z["a"].ThemeChanged.bind(c._themeChangeWatcher);c.inSelection=function(){var e,t,n;if(null===(e=c.selectionsApi)||void 0===e?void 0:e.active)return true;if(!c.model)return false;return(null===(t=c.model.app)||void 0===t||null===(n=t.modalSelectionObject)||void 0===n?void 0:n.parent)===c.model};d["a"].load(t.options._skipRegisterExtensions).then((function(){ue(t,c);Q(t,c,a);t.$on("objectRenderStateChange",(function(e,n){t.options.disableThrobber||(n!==se.INVALID||c.inSelection()?c.throbberApi.hide():c.throbberApi.reset(true,1e3))}));t.$watch("options.disableThrobber",(function(e,t){e&&!t&&c.throbberApi&&c.throbberApi.hide()}));c.setRenderState(se.INVALID)}));c.loaded.then((function(){t.cancelled=t.model.isCancelled}));t.$watch("options.interactionState",(function(e){if(c){var t=Number.isNaN(+e)?1:e;c.setInteractionState(t)}}));t.$watch("options.direction",(function(e){c.setDirection(e)}));t.$watch("options",(function(e){e&&e.setController&&a.contentLoaded().then((function(){e.setController(c)}))}));t.$on("childSelectionActive",(function(e,t){c&&(c.childInSelection=t);e.preventDefault()}));t.titleClicked=function(){this.options._disableSelections||c._inEditState||a.contentLoaded().then((function(e){(e.view&&e.view.selections||e.$scope.interactive)&&c.activateSelections()}))};t.cancel=function(){c.cancel()};t.retry=function(){c.retry()};var m=false;t.$on("$destroy",(function(){if(m)return;m=true;s["default"].getService("$timeout").cancel(u);z["a"].ThemeChanged.unbind(c._themeChangeWatcher);if(c){var e,n;"function"===typeof c.cancel&&(null===(e=c)||void 0===e||null===(n=e.throbberApi)||void 0===n?void 0:n.isVisible)&&c.cancel();le(c);c.selectionsApi&&"function"===typeof c.selectionsApi.destroy&&c.selectionsApi.destroy();if(c.tooltipApi){c.tooltipApi.destroy&&c.tooltipApi.destroy();c.tooltipApi=null}if(c.backendApi){c.backendApi.destroy();c.backendApi=null}c.throbberApi&&c.throbberApi.destroy();c.explore&&c.explore.destroy();o.a.destroy(c.model);c=null;t.object=null}}))}}}])},"6eTc":function(e,t,n){"use strict";function r(e){e=void 0!==e?e:1;this.data=[];for(var t=0;t<e;++t)this.data.push({dimensions:[],measures:[],excludedDimensions:[],excludedMeasures:[],interColumnSortOrder:[]});this.properties={}}t["a"]=r},"6kXV":function(e,t,n){"use strict";var r=n("czhI");var i=n.n(r);var a=n("0ghn");var o=n("/2No");function s(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)}))}}var c={};var u="".concat(o["a"].rootPath,"api/v1/spaces");function d(e){e.forEach((function(e){c[e.id]=e}))}function f(){return p.apply(this,arguments)}function p(){p=l(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:t=[];n={limit:100};a.next=4;return i.a.get(u,{params:n});case 4:r=a.sent;t=t.concat(r.data.data);case 6:if(!(r.data.links&&r.data.links.next)){a.next=13;break}a.next=9;return i.a.get(r.data.links.next.href);case 9:r=a.sent;t=t.concat(r.data.data);a.next=6;break;case 13:d(t);return a.abrupt("return",t);case 15:case"end":return a.stop()}}),e)})));return p.apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){v=l(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:if(!("personal"===t)){o.next=2;break}return o.abrupt("return",{name:a["a"].get("scripteditor.dataconnectors.personalspace"),id:"personal"});case 2:if(c[t]){o.next=8;break}n="".concat(u,"/").concat(t);o.next=6;return i.a.get(n);case 6:r=o.sent;c[t]=r.data;case 8:return o.abrupt("return",c[t]);case 9:case"end":return o.stop()}}),e)})));return v.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){g=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return h(t);case 3:n=r.sent;return r.abrupt("return","shared"===n.type);case 7:r.prev=7;r.t0=r["catch"](0);return r.abrupt("return",false);case 10:case"end":return r.stop()}}),e,null,[[0,7]])})));return g.apply(this,arguments)}t["a"]={fetchSpaces:f,fetchSpace:h,isSharedSpace:m}},"6ke+":function(e,t,n){"use strict";var r=n("mWu2");var i=n("6uJb");var a='<div class="qv-story-slide-thumbnail">\n    <div ng-repeat="item in items">\n        <div class="qv-slide-thumb-obj" ng-style="item.qData.position" ng-switch="item.qData.visualization">\n\t\t\t<div ng-switch-when="text" class="default-text {{item.qData.visualizationType}}" storytelling-thumbnail-obj></div>\n            <img ng-switch-when="shape" ng-src="{{ item.qData.dataPath }}" storytelling-thumbnail-obj></img>\n            <span ng-switch-when="snapshot" class="{{ item.thumbnailClass }}" storytelling-thumbnail-obj></span>\n            <div ng-switch-when="sheet" class="sheet-bg-icon" storytelling-thumbnail-obj></div>\n            <span ng-switch-when="image" class="lui-icon lui-icon--image" storytelling-thumbnail-obj></span>\n        </div>\n    </div>\n</div>';var o=n("2n0V");var s=n("mJsV");var l=n("6lDd");var c=n("8IgQ");var u=n("K9T1");var d=n("zjn0");var f=n("UV1h");var p=n("PX8M");var h=n("sCDE");r["default"].directive("storytellingThumbnail",[function(){return{restrict:"A",template:a,link:function e(t){p["a"].getApp().then((function(e){e.getObject(t.slide.qInfo.qId).then((function(e){t.slideModel=e})).catch((function(e){false}))})).catch((function(e){false}));var n=Object(h["a"])(t,"slideModel",(function(e){t.items=e.qChildList.qItems;t.items.forEach((function(e){e.thumbnailClass="lui-icon lui-icon--".concat(o["a"].getIconName(e.qData.visualizationType))}))}));c["a"].load();t.$on("$destroy",(function(){n&&n()}))}}}]);r["default"].directive("storytellingThumbnailObj",[function(){function e(e,t,n){if("paragraph"===t)return e.parents("[storytelling-thumbnail]").hasClass("qv-story-timeline-slide-area")?"2px":"3.5px";if("title"===t){var r;r=n.split("<div").length>=n.split("<br").length?l["a"].getRows(n,"<div"):l["a"].getRows(n,"<br");return"".concat(e.parents(".qv-slide-thumb-obj").height()/1.32/r,"px")}return}return{restrict:"A",link:function t(n,r){n.theme=f["a"];function a(){n.theme=f["a"];"shape"===n.item.qData.visualization&&n.svgElement&&n.svgElement.attr("fill",u["a"].getShapeColor(n.item.qData.style))}f["a"].ThemeChanged.bind(a);n.$watch("item.qData.position.height",(function(){"text"===n.item.qData.visualization?l():o()}));n.$watch("item.qData.style.text",(function(){"text"===n.item.qData.visualization&&l()}));n.$watch("item.qData.style.color",(function(){"shape"===n.item.qData.visualization&&n.svgElement&&n.svgElement.attr("fill",u["a"].getShapeColor(n.item.qData.style))}));if("shape"===n.item.qData.visualization){r.hide();u["a"].getShapeSvg(n.item.qData).then((function(e){n.svgElement=e;r.replaceWith(e);r.show()}))}function o(){var e=r.parent().height();var t=r.parent().width();var n;var i;if(e<t){n=e;i="0"}else{n=t;i="0"}r.css({"text-align":"center","line-height":"".concat(16*n/26*1.5,"px"),"font-size":"".concat(16*n/26,"px"),"margin-left":i,width:"100%"})}function l(){var t=n.item.qData;var a=i["default"].get("Storytelling.Paragraph.EmptyText");var o=t.style.text?s["a"].toHTML(t.style.text):a;r.html(o);r.css({"font-size":e(r,t.visualizationType,o),"text-align":t.style.text?"inherit":a});r.parent().css({overflow:"title"===t.visualizationType?"normal":"hidden","text-align":"inherit"});r.attr("dir",d["a"].getAutoOrAlternativeDirection(t.style.text))}n.$on("$destroy",(function(){f["a"].ThemeChanged.unbind(a)}))}}}])},"6lDd":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);function a(e,t,n,r,i){"title"===e?o(t,n,1.32,false):"paragraph"===e&&c(t,n,r,i)}function o(e,t,n,r){var i;var a;var o=0;var s=t.parents(".qv-story-grid-object");var c=t.find(".story-text-static");var u;u=e.split("<div").length>=e.split("<br").length?l(e,"<div"):l(e,"<br");i=t.height()/n/u;var d=t.height()/u;var f=t.height()/8/u;t.css({"line-height":"".concat(Math.floor(d),"px"),"font-size":Math.floor(i)});while(Math.ceil(s.outerWidth())<c.outerWidth()&&!r&&"!?}^"!==e&&o<250){a=i--;t.css({"line-height":"".concat(Math.floor(d),"px"),"font-size":Math.floor(a)});o++}t.css({"line-height":"".concat(Math.floor(d),"px"),"font-size":Math.floor(i)});t.find(".qv-media-tool-html").css({"padding-right":f});t.find(".qv-media-tool-editor").css({"padding-right":f})}function s(e,t,n){var r;r=e.split("<div").length>=e.split("<br").length?l(e,"<div"):l(e,"<br");return t/n/r}function l(e,t){var n=0;var r=e.split(t);var i=e.match(/<br/g);var a=e.match(/<div/g);if(i&&"<br"===t){n+=i.length;r&&r[r.length-1].match(/.*?>(?:<\/\w+>)*([^<]+)/g)&&n++}a&&"<div"===t&&(n+=a.length);e.split("<div").length>n&&(n=e.split("<div").length);r.forEach((function(e,t){""===e&&0===t&&(n-=1)}));n<1&&(n=1);return n}function c(e,t,n,r){var a;var o;n.length<1&&(n=r?i()(".qv-story-play-slide.qv-story-slide-active"):i()("#selectable"));var s=n.height();a=s<200?8e3/s:40;o=s/a;o=parseFloat(o.toFixed(2));o=o<2?2:o;u(t,o)}function u(e,t){e.css({"font-size":t})}function d(e){var t;var n;t=e<200?8e3/e:40;n=e/t;n=parseFloat(n.toFixed(2));n=n<2?2:n;return n}t["a"]={getRows:l,calculateFontsize:a,calculateFontsizeOnTitle:o,calculateFontsizeOnParagraph:c,calculatePrintTitleFontSize:s,calculatePrintParagraphFontSize:d}},"6q8i":function(e,t,n){"use strict";function r(e){this.handlers=e||{}}r.prototype.register=function(e){this.handlers[e.name]||(this.handlers[e.name]=[]);this.handlers[e.name].push({scope:e.scope,callback:e.callback})};r.prototype.emit=function(e,t){if(this.handlers[e]){var n=this.handlers[e].filter((function(e){return"root"!==e.scope})).length>0;for(var r in this.handlers[e])(n&&"root"!==this.handlers[e][r].scope||!n)&&this.handlers[e][r].callback(t)}};r.prototype.hasHandlers=function(e){return!!this.handlers[e]};r.prototype.clear=function(e){e?delete this.handlers[e]:this.handlers={}};t["a"]=r},"7L9N":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}},"7ME1":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("6uJb");var s=n("TLJm");var l=n("gVPc");var c=false;var u=s["a"].LocalizedWarningCode;var d=[];var f={code:u.LOCWARN_PERSONAL_VERSION_EXPIRES_SOON,id:"ExpireWarningShown",shown:Date.now()<parseInt(localStorage.ExpireWarningShown,10),interval:864e5};var p={code:u.LOCWARN_PERSONAL_RELOAD_REQUIRED,id:"HiddenScriptWarningShown",shown:sessionStorage.HiddenScriptWarningShown};function h(e,t){var n=-1;for(var r=0;r<e.length;r++)if(e[r].code===t){n=r;break}return n}function v(e,t){if(t.shown){var n=h(e,t.code);-1!==n&&e.splice(n,1)}else if(-1!==h(e,t.code)){t.shown=true;t.interval?localStorage.setItem(t.id,Date.now()+t.interval):sessionStorage.setItem(t.id,true)}}function m(){c=true}function g(){c=!!d.length;d.length&&y()}function b(e,t){var n='<h2 class="inline-title">'.concat(e,"</h2><span>").concat(t,"</span>");var r=a["default"].getService("qvAlertDialog").show({message:n,closeOnEscape:true});r.opened.then(m);r.closing.then(g)}function y(){var e;var t;var n=d.shift();if("undefined"!==typeof n.code&&n.code===u.LOCWARN_PERSONAL_VERSION_EXPIRES_SOON){var r=l["a"].getProductInfo().externalUrls;t=o["default"].get("Info.QlikSenseDesktop.Upgrade.Expiring",["<a href='".concat(r.personalUpgradeUrl,"' target='_blank'>").concat(r.personalUpgradeBase,"</a>")]);e=o["default"].get("Info.QlikSenseDesktop.Upgrade.Expiring.Title")}else{e=o["default"].get("WarningDialog.Title");t="undefined"!==typeof n.code?o["default"].get("WarningCode.".concat(n.code)):o["default"].get(n.message)}b(e,t)}function w(e){var t=i.a.extend(true,[],e);v(t,f);v(t,p);if(t.length>0){d.push.apply(d,t);c||y()}}t["a"]={showDialog:w}},"7QWs":function(e,t,n){"use strict";var r=n("+I+c");var i=n("Fcif");var a=n("0942");var o=n("7L9N");var s=n("W0B4");var l=n("mXGw");var c=n.n(l);var u=n("ZPcf");function d(e,t){var n=function e(n){return t&&Object(l["isValidElement"])(n)?t(n):n};var r=Object.create(null);e&&l["Children"].map(e,(function(e){return e})).forEach((function(e){r[e.key]=n(e)}));return r}function f(e,t){e=e||{};t=t||{};function n(n){return n in t?t[n]:e[n]}var r=Object.create(null);var i=[];for(var a in e)if(a in t){if(i.length){r[a]=i;i=[]}}else i.push(a);var o;var s={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];s[r[l][o]]=n(c)}s[l]=n(l)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}function p(e,t,n){return null!=n[t]?n[t]:e.props[t]}function h(e,t){return d(e.children,(function(n){return Object(l["cloneElement"])(n,{onExited:t.bind(null,n),in:true,appear:p(n,"appear",e),enter:p(n,"enter",e),exit:p(n,"exit",e)})}))}function v(e,t,n){var r=d(e.children);var i=f(t,r);Object.keys(i).forEach((function(a){var o=i[a];if(!Object(l["isValidElement"])(o))return;var s=a in t;var c=a in r;var u=t[a];var d=Object(l["isValidElement"])(u)&&!u.props.in;!c||s&&!d?c||!s||d?c&&s&&Object(l["isValidElement"])(u)&&(i[a]=Object(l["cloneElement"])(o,{onExited:n.bind(null,o),in:u.props.in,exit:p(o,"exit",e),enter:p(o,"enter",e)})):i[a]=Object(l["cloneElement"])(o,{in:false}):i[a]=Object(l["cloneElement"])(o,{onExited:n.bind(null,o),in:true,exit:p(o,"exit",e),enter:p(o,"enter",e)})}));return i}var m=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))};var g={component:"div",childFactory:function e(t){return t}};var b=function(e){Object(o["a"])(t,e);function t(t,n){var r;r=e.call(this,t,n)||this;var i=r.handleExited.bind(Object(a["a"])(r));r.state={contextValue:{isMounting:true},handleExited:i,firstRender:true};return r}var n=t.prototype;n.componentDidMount=function e(){this.mounted=true;this.setState({contextValue:{isMounting:false}})};n.componentWillUnmount=function e(){this.mounted=false};t.getDerivedStateFromProps=function e(t,n){var r=n.children,i=n.handleExited,a=n.firstRender;return{children:a?h(t,i):v(t,r,i),firstRender:false}};n.handleExited=function e(t,n){var r=d(this.props.children);if(t.key in r)return;t.props.onExited&&t.props.onExited(n);this.mounted&&this.setState((function(e){var n=Object(i["a"])({},e.children);delete n[t.key];return{children:n}}))};n.render=function e(){var t=this.props,n=t.component,i=t.childFactory,a=Object(r["a"])(t,["component","childFactory"]);var o=this.state.contextValue;var s=m(this.state.children).map(i);delete a.appear;delete a.enter;delete a.exit;if(null===n)return c.a.createElement(u["a"].Provider,{value:o},s);return c.a.createElement(u["a"].Provider,{value:o},c.a.createElement(n,a,s))};return t}(c.a.Component);b.propTypes={};b.defaultProps=g;var y=t["a"]=b},"7TTN":function(e,t,n){"use strict";var r=n("Z9ZH");var i=n.n(r);var a=n("4nJ1");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}var c=0;function u(){return".grid-object-dom-api-".concat(++c)}function d(e,t){var n=e.getBoundingClientRect();return Math.round(n.bottom-t.bottom)<1}function f(e,t){var n=e.getBoundingClientRect();return Math.round(n.top-t.bottom)<1}function p(e,t){var n=t-e;return 1===n?t:Math.floor(e+n/2)}function h(e,t,n,r,i){var a=n-t;var o=p(t,n);var s=i(e[o],r);if(0===a)return s?o:-1;if(1===a)return s?o:h(e,t,t,r,i);if(s)return h(e,o,n,r,i);return h(e,t,o,r,i)}var v=function(){function e(t,n,r,i,a,s){o(this,e);s=s||".scroll-content";this.$element=t;this.$scrollArea=n;this.$scrollContent=n.find(s);this.rowSelector=r;this.firstRowSelector=i;this.lastRowSelector=a;this.namespace=u();this.direction="ltr"}l(e,[{key:"destroy",value:function e(){this.unbindNativeScroll()}},{key:"bindNativeScroll",value:function e(t){this.$scrollArea.on("scroll".concat(this.namespace),t)}},{key:"unbindNativeScroll",value:function e(){this.$scrollArea.off(this.namespace)}},{key:"resetNativeScroll",value:function e(){this.$scrollArea.scrollLeft(0);this.$scrollArea.scrollTop(0)}},{key:"preventNativeScroll",value:function e(){i()(this.$scrollArea[0]).tap({id:this.namespace});return function(){i()(this.$scrollArea[0]).off("tap",this.namespace)}.bind(this)}},{key:"getBoundingBox",value:function e(){return this.$element[0].getBoundingClientRect()}},{key:"getClientWidth",value:function e(){return this.$element[0].clientWidth}},{key:"getClientHeight",value:function e(){return this.$element[0].clientHeight}},{key:"getNativeScrollOffsetLeft",value:function e(){return this.$element[0].scrollLeft}},{key:"getScrollWidth",value:function e(){return this.$scrollContent[0].clientWidth}},{key:"getScrollAreaBoundingBox",value:function e(){return this.$scrollArea[0].getBoundingClientRect()}},{key:"getScrollAreaClientWidth",value:function e(){return this.$scrollArea[0].clientWidth}},{key:"getScrollAreaClientHeight",value:function e(){return this.$scrollArea[0].clientHeight}},{key:"getScrollAreaOffsetTop",value:function e(){return this.$scrollArea[0].offsetTop}},{key:"getScrollContentBoundingBox",value:function e(){return this.$scrollContent[0].getBoundingClientRect()}},{key:"getFirstRow",value:function e(){return this.$scrollArea.find(this.firstRowSelector)}},{key:"getLastRow",value:function e(){return this.$scrollArea.find(this.lastRowSelector)}},{key:"getRows",value:function e(){var t=this.$element[0].querySelectorAll(this.rowSelector);t=Array.prototype.slice.call(t);return t.filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}},{key:"getHeightOfRow",value:function e(t){var n=this.getRows();if(n[t]){var r=n[t];return r.getBoundingClientRect().height}return}},{key:"getPartiallyVisibleRowCount",value:function e(){var t=this.getRows();if(0===t.length)return 0;var n=this.getScrollAreaBoundingBox();var r=h(t,0,t.length-1,n,f)+1;return r}},{key:"getVisibleRowCount",value:function e(t){var n=this.getRows();if(0===n.length)return 0;var r=this.getScrollAreaBoundingBox();var i=h(n,0,n.length-1,r,d)+1;if(i===n.length&&a["a"].isNumeric(t)){var o=n[n.length-1];var s=o.getBoundingClientRect();var l=Math.round(r.bottom-s.bottom);i+=Math.floor(l/t)}return i}},{key:"alignToFirstRow",value:function e(){var t=this.getFirstRow();var n=48;return function(){var e=t.position().top-n;this.$scrollArea.scrollTop(e)}.bind(this)}},{key:"alignToLastRow",value:function e(){var t=this.getLastRow();var n=48;return function(){this.$scrollArea.scrollTop(0);var e=t.position().top-this.getScrollAreaBoundingBox().height+t[0].getBoundingClientRect().height+n;this.$scrollArea.scrollTop(e)}.bind(this)}},{key:"setDirection",value:function e(t){this.direction=t}}]);return e}();t["a"]=v},"7WGe":function(e,t,n){"use strict";var r=n("FZ1g");var i=n("sWge");var a=n("PX8M");function o(e){return e?i["a"].resolve(e.enigmaModel):a["a"].getApp()}var s={};var l=1e3;s.getLibraryContent=function(e,t){return o().then((function(n){return n.getSnapshotListObject().then((function(n){n.Invalidated&&n.Invalidated.unbind();n.Invalidated.bind(t);return n.getLayout().then((function(t){return t.filter((function(t){var n=true;e&&(n=e===t.qData.sourceObjectId);return!t.qData.isClone&&n}))}))}))}))};s.unbindList=function(){return o().then((function(e){return e.getSnapshotListObject().then((function(e){e.Invalidated.unbind()}))}))};s.getSnapshotCount=function(e){return o().then((function(t){return t.getSnapshotList().then((function(t){var n=0;for(var r=0;r<t.length;r++)t[r].qData.isClone||t[r].qData.sourceObjectId!==e||n++;return n}))}))};s.create=function(e,t){e&&(e.qInfo={qType:"snapshot"});return o().then((function(n){return n.getSnapshotList().then((function(n){var i=0;for(var a=0;a<n.length;a++)n[a].qData.isClone||i++;var o=i<l;if(o)return r["a"].create.call(s,e,t).then((function(e){return{limit:o,id:e.id}}));return false}))}))};s.get=function(e,t){return r["a"].get(e,t)};s.remove=function(e,t){return r["a"].remove(e,t)};s.getEmbedded=function(e){return e.enigmaModel.getSnapshotObject()};t["a"]=s},"7aeP":function(e,t,n){"use strict";var r=n("SOxp");var i=n("4nJ1");var a=n("sWge");var o=n("HHhT");var s=n("avVS");var l=n("d4GZ");var c=n("XP0P");var u={mode:"S",enabled:true,debouncing:{enabled:true,delay:50},height:250,width:250,maxTotalArea:1e4};var d=r["a"].extend("CacheCube",{init:function e(t,n,r,i){this.model=t;this.responseProperty=n;this.options={};this.cubeHeight=0;this.cubeWidth=0;this.setOptions(i||{});this.setPath(r);"K"===this.options.mode?this.cube=new l["a"]:"P"===this.options.mode?this.cube=new c["a"]:this.cube=new s["a"];this.throttle=new o["a"];var a=this;this.throttle.Send.bind((function(e,t){var n=a._getDirections(a.throttle.recentRequests.map((function(e){return{top:e.data[0].qTop,left:e.data[0].qLeft}})));var r=a._getAreasToCache(e,n.vertical,n.horizontal);a.cacheData(r,e).then((function(e){a.cube?t.resolve(e):t.reject()}),(function(){t.reject()}))}));this._modelBinding=function(){a.clear()};this.model.Invalidated.bind(this._modelBinding)},destroy:function e(){this.cube.destroy();this.throttle.destroy();this.model&&this.model.Invalidated&&this.model.Invalidated.unbind(this._modelBinding);this._modelBinding=null;delete this.model;delete this.throttle;delete this.cube},setMethodName:function e(t){this.method=t},setPath:function e(t){this.path=t},setCubeSize:function e(t){this.cubeHeight=t.qcy;this.cubeWidth=t.qcx},setOptions:function e(t){if(!t)return;this.options=i["a"].extend(true,{},u,this.options,t);this.cacheHeight=this.options.height;this.cacheWidth=this.options.width;this.enabled=this.options.enabled||false;this.debouncing={enabled:this.options.debouncing.enabled||false,delay:this.options.debouncing.delay||-1}},clear:function e(){this.cube&&this.cube.clear();this.throttle&&this.throttle.clear()},set:function e(t){this.clear();if(!t||!t.length)return;this.cube.store(t)},cacheData:function e(t,n){var r=function e(t){if(this.cube){this.cube.store(t);return this.cube.get(n)}return t};if("getHyperCubeStackData"===this.method&&this.options.maxStackedValues)return this.model[this.method](this.path,t,this.options.maxStackedValues).then(r.bind(this));return this.model[this.method](this.path,t).then(r.bind(this))},getData:function e(t){if(!this.model)return a["a"].reject();if(!this.enabled||!this.cubeHeight||!this.cubeWidth)return this.model[this.method](this.path,t);var n;var r;var i=[];for(n=0;n<t.length;++n){r=t[n];i.push({qTop:Math.max(Math.floor(r.qTop),0),qLeft:Math.max(r.qLeft,0),qHeight:Math.min(r.qHeight,this.cubeHeight-Math.floor(r.qTop)),qWidth:Math.min(r.qWidth,this.cubeWidth-r.qLeft)})}if(this.cube.contains(i)){this.throttle.updateResolutionTime();return a["a"].resolve(this.cube.get(i))}if(0===i[0].qTop&&this.cube.isEmpty()&&this.throttle.ongoingRequests.length+this.throttle.queuedRequests.length===0){this.throttle.updateResolutionTime();return this.cacheData(i,i)}return this.throttle.queue(i)},_getDirections:function e(t){if(!t||t.length<2)return{vertical:0,horizontal:0};var n=t.slice(-2);var r=n[1].top-n[0].top;var i=n[1].left-n[0].left;return{vertical:r<0?-1:r>0?1:0,horizontal:i<0?-1:i>0?1:0}},_getAreasToCache:function e(t,n,r){var i;var a;var o;var s;var l;var c;var u;var d;var f;var p=[];var h=this.cacheHeight;"undefined"===typeof n&&(n=0);"undefined"===typeof r&&(r=0);this.cacheHeight*this.cacheWidth*t.length>this.options.maxTotalArea&&(h=Math.floor(this.options.maxTotalArea/(t.length*this.cacheWidth)));for(i=0;i<t.length;++i){a=0!==n?Math.floor(.5*Math.max(0,h-t[i].qHeight)):0;o=0!==r?Math.floor(.5*Math.max(0,this.cacheWidth-t[i].qWidth)):0;s=a*n-a;l=o*r-o;c=0!==n?Math.max(0,Math.min(Math.max(t[i].qHeight,h),this.cubeHeight)):t[i].qHeight;u=0!==r?Math.max(0,Math.min(Math.max(t[i].qWidth,this.cacheWidth),this.cubeWidth)):t[i].qWidth;d=Math.max(0,Math.min(t[i].qTop+s,this.cubeHeight-c));f=Math.max(0,Math.min(t[i].qLeft+l,this.cubeWidth-u));p.push({qTop:d,qHeight:c,qLeft:f,qWidth:u})}return p}});t["a"]=d},"7bN7":function(e,t,n){"use strict";var r=n("acVu");var i=n("6uJb");var a=n("UOQJ");var o=n("TZGQ");var s=n("LRRK");var l=n.n(s);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function d(e,t,n){t&&u(e.prototype,t);n&&u(e,n);return e}var f;var p=function(){function e(t,n,r,i){c(this,e);this._host=t;this._port=n;this._isSecured=i;this._proxy=r}d(e,[{key:"_errorHandler",value:function e(t){if(!t.isHandled){t.isHandled=true;var n=t.response&&t.response.obj&&t.response.obj.message?t.response.obj.message:"";n||t&&(413===t.status?n=i["default"].get("odag.Error.PayloadSizeExceeded"):500===t.status?n=i["default"].get("odag.Error.Unreachable"):t.message&&(n=i["default"].get(t.message)));a["a"].show({title:i["default"].get("odag.Error.Title"),message:n})}throw t}},{key:"_isODAGAvailableErrorHandler",value:function e(t){var n=t.statusCode%500;if(n>=0&&n<100)return false;this._errorHandler(t);return}},{key:"_getAPI",value:function e(){if(!f){var t=Object(r["b"])("ODAG_SAAS_ENABLED")?"api":"api/odag/v1";var n=Object(r["b"])("ODAG_SAAS_ENABLED")?"odag/openapi":"openapi";var i=Object(r["b"])("ODAG_SAAS_ENABLED");f=o["a"].getApi(t,n,this._isSecured,this._host,this._port,this._proxy,i)}return f}},{key:"_getLinksWithIds",value:function e(t,n){var i=null;i={linkList:n};return this._getAPI().then((function(e){var n;n=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Link.SyncAppLinkUsages({id:1,selAppId:t},{requestBody:i}):e.apis.Link.SyncAppLinkUsages({selAppId:t,linkUsagePayload:i});return n.then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_getDynamicViewsWithIds",value:function e(t,n){var i=null;i={linkList:n};return this._getAPI().then((function(e){var n;n=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Link.SyncAppLinkUsages({id:1,selAppId:t,includeCharts:true,type:"view"},{requestBody:i}):e.apis.Link.SyncAppLinkUsages({id:1,selAppId:t,includeCharts:true,type:"view",linkUsagePayload:i});return n.then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_getLink",value:function e(t){return this._getAPI().then((function(e){return e.apis.Link.LinkGet({linkId:t}).then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_getView",value:function e(t){return this._getAPI().then((function(e){return e.apis.Link.LinkGet({linkId:t,type:"view"}).then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_isODAGAvailable",value:function e(){return this._getAPI().then((function(e){if(e.apis.Settings){if(Object(r["b"])("ODAG_SAAS_ENABLED"))return e.apis.Settings.IsOdagAvailable().then((function(e){return e.body.available}));return false}return e.apis.Global.IsOdagAvailable().then((function(e){return e.body}))})).catch(this._isODAGAvailableErrorHandler.bind(this))}},{key:"_isDynamicViewAvailable",value:function e(){return this._getAPI().then((function(e){if(e.apis.Settings){if(Object(r["b"])("ODAG_SAAS_ENABLED"))return e.apis.Settings.IsOdagAvailable().then((function(e){return e.body.available&&e.body.dynamicViewEnabled}));return false}return e.apis.Global.IsOdagAvailable().then((function(e){return e.body.available&&e.body.dynamicViewEnabled}))})).catch((function(){return false}))}},{key:"_canCreateLink",value:function e(t){return this._getAPI().then((function(e){var n={};t&&(n.optSelectAppId=t);return e.apis.Link.LinkCanCreate(n).then((function(e){return e.body}))}),(function(){return{canCreateLinks:false}})).catch(this._errorHandler)}},{key:"_createDynamicView",value:function e(t){var n=this;return this._getAPI().then((function(e){var i;i=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Link.LinkCreate({id:t.id},{requestBody:t}):e.apis.Link.LinkCreate({linkPayload:t});return i.then((function(e){return e.body})).catch(n._errorHandler)})).catch(this._errorHandler)}},{key:"_createLink",value:function e(t){var n=this;return this._getAPI().then((function(e){var i;i=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Link.LinkCreate({id:t.id},{requestBody:t}):e.apis.Link.LinkCreate({linkPayload:t});return i.then((function(e){return e.body})).catch(n._errorHandler)})).catch(this._errorHandler)}},{key:"_deleteLink",value:function e(t,n){var i=this;var a={statusSetting:"decommission",modifiedDate:n.data.modifiedDate};return this._getAPI().then((function(e){var o;a.name=n.data.name;a.selectionApp=n.data.selectionApp;o=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Link.LinkUpdate({linkId:t},{linkId:t,requestBody:a}):e.apis.Link.LinkUpdate({linkId:t,linkPayload:a});return o.then((function(e){return e.body})).catch(i._errorHandler)})).catch(this._errorHandler)}},{key:"_deleteView",value:function e(t,n){var i=this;var a={statusSetting:"decommission",modifiedDate:n.data.modifiedDate};return this._getAPI().then((function(e){var o;a.name=n.data.name;a.selectionApp=n.data.selectionApp;o=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Link.LinkUpdate({linkId:t},{linkId:t,requestBody:a}):e.apis.Link.LinkUpdate({linkId:t,linkPayload:a});return o.then((function(e){return e.body})).catch(i._errorHandler)})).catch(this._errorHandler)}},{key:"_updateLink",value:function e(t,n){var i=this;return this._getAPI().then((function(e){var a;a=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Link.LinkUpdate({linkId:t},{linkId:t,requestBody:n}):e.apis.Link.LinkUpdate({linkId:t,linkPayload:n});return a.then((function(e){return e.body})).catch(i._errorHandler)})).catch(this._errorHandler)}},{key:"_updateView",value:function e(t,n){var i=this;return this._getAPI().then((function(e){var a;a=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Link.LinkUpdate({linkId:t},{linkId:t,requestBody:n}):e.apis.Link.LinkUpdate({linkId:t,linkPayload:n});return a.then((function(e){return e.body})).catch(i._errorHandler)})).catch(this._errorHandler)}},{key:"_renameApp",value:function e(t,n){return this._getAPI().then((function(e){var i={appName:n};if(Object(r["b"])("ODAG_SAAS_ENABLED"))return e.apis.Request.RenameApp({requestId:t},{requestId:t,requestBody:i});return e.apis.Request.RenameApp({requestId:t,renameAppPayload:i})})).catch(this._errorHandler)}},{key:"_deleteApp",value:function e(t){return this._getAPI().then((function(e){return e.apis.Request.DeleteApp({requestId:t})})).catch(this._errorHandler)}},{key:"_reloadApp",value:function e(t,n,i,a,o){var s={};if(n){o&&(s.copyRequest=o);s.actualRowEst=n;s.bindSelectionState=i;s.selectionState=a}return this._getAPI().then((function(e){if(Object(r["b"])("ODAG_SAAS_ENABLED"))return e.apis.Request.ReloadApp({requestId:t},{requestId:t,requestBody:s});return e.apis.Request.ReloadApp({requestId:t,reloadAppPayload:s})})).catch(this._errorHandler)}},{key:"_getSelections",value:function e(t){return this._getAPI().then((function(e){return e.apis.Request.GetSelections({requestId:t}).then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_requestAction",value:function e(t,n,r,i){var a={requestId:t,action:n,ignoreSucceeded:true};void 0!==r&&(a.delGenApp=r);void 0!==i&&(a.autoAck=i);return this._getAPI().then((function(e){return e.apis.Request.RequestAction(a).then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_getGeneratedAppsForLink",value:function e(t,n,r,i,a,o,s){var l={linkId:t};a&&(l.user=a);o&&(l.state=o);s&&(l.pending=s);return this._getAPI().then((function(e){return e.apis.Request.LinkRequestsGet(l).then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_generateApp",value:function e(t,n,i,a,o,s,l){var c={linkId:t,requestPostPayload:{clientContextHandle:i,actualRowEst:o,selectionApp:n,bindSelectionState:s,selectionState:l,sheetname:a}};return this._getAPI().then((function(e){var n;n=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Request.LinkRequestCreate({linkId:t},{linkId:t,requestBody:c.requestPostPayload}):e.apis.Request.LinkRequestCreate(c);return n.then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_generateTempApp",value:function e(t,n,i,a,o){var s={linkId:t,requestPostPayload:{actualRowEst:i,selectionApp:n,bindSelectionState:a,selectionState:o}};return this._getAPI().then((function(e){var n;n=Object(r["b"])("ODAG_SAAS_ENABLED")?e.apis.Request.LinkRequestCreate({linkId:t},{linkId:t,requestBody:s.requestPostPayload}):e.apis.Request.LinkRequestCreate(s);return n.then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_getRequestStatus",value:function e(t){return this._getAPI().then((function(e){return e.apis.Request.RequestGet({requestId:t}).then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"_getTemplateApps",value:function e(){var t={appType:"template"};return this._getAPI().then((function(e){return e.apis.Apps.GetApps(t).then((function(e){return e.body}))})).catch(this._errorHandler)}},{key:"getTemplateApps",value:function e(){return this._getTemplateApps()}},{key:"getODAGLinksWithIds",value:function e(t,n){return this._getLinksWithIds(t,n)}},{key:"getDynamicViewsWithIds",value:function e(t,n){return this._getDynamicViewsWithIds(t,n)}},{key:"getODAGLink",value:function e(t){return this._getLink(t)}},{key:"getDynamicView",value:function e(t){return this._getView(t)}},{key:"canCreateLink",value:function e(t){return this._canCreateLink(t)}},{key:"createODAGLink",value:function e(t){return this._createLink(t)}},{key:"createDynamicView",value:function e(t){return this._createDynamicView(t)}},{key:"deleteODAGLink",value:function e(t,n){return this._deleteLink(t,n)}},{key:"deleteDynamicView",value:function e(t,n){return this._deleteView(t,n)}},{key:"updateODAGLink",value:function e(t,n){return this._updateLink(t,n)}},{key:"updateDynamicView",value:function e(t,n){return this._updateView(t,n)}},{key:"renameApp",value:function e(t,n){return this._renameApp(t,n)}},{key:"deleteApp",value:function e(t){return this._deleteApp(t)}},{key:"isODAGAvailable",value:function e(){return this._isODAGAvailable()}},{key:"isDynamicViewAvailable",value:function e(){return this._isDynamicViewAvailable()}},{key:"reloadApp",value:function e(t,n,r,i,a){return this._reloadApp(t,n,r,i,a)}},{key:"getSelections",value:function e(t){return this._getSelections(t)}},{key:"generateApp",value:function e(t,n,r,i,a,o,s){return this._generateApp(t,n,r,i,a,o,s)}},{key:"generateTempApp",value:function e(t,n,r,i,a){return this._generateTempApp(t,n,r,i,a)}},{key:"getRequestStatus",value:function e(t){return this._getRequestStatus(t)}},{key:"getGeneratedAppsForLink",value:function e(t,n,r,i,a,o,s){return this._getGeneratedAppsForLink(t,n,r,i,a,o,s)}},{key:"requestAction",value:function e(t,n,r,i){return this._requestAction(t,n,r,i)}}]);return e}();t["a"]=p},"7el9":function(e,t,n){"use strict";var r=n("GGvZ");var i="dmv-zoom-level";var a=.01;var o=.1;var s=2;var l=.2;var c=1;var u=c;function d(e){if("number"!==typeof e)throw new Error('"'.concat(e,'" is not a number.'));return Math.round(100*e)/100}function f(){return d(u)}function p(e){r["a"].addObserver(i,e)}function h(){r["a"].notifyAll(i,f())}function v(e){u+=e?o:2*a*u;u>s&&(u=s);h()}function m(e){u-=e?o:2*a*u;u<l&&(u=l);h()}function g(){return u<s}function b(){return u>l}function y(e){u=e;u<l&&(u=l);u>s&&(u=s);h()}function w(){return f()!==c}t["a"]={getCurrentZoomLevel:f,zoomIn:v,zoomOut:m,canZoomOutMore:b,canZoomInMore:g,onZoomLevelChanged:p,setZoomLevel:y,roundToTwoDecimal:d,canBeRestored:w,MAX_ZOOM_LEVEL:s,MIN_ZOOM_LEVEL:l,RESTORED_ZOOM_LEVEL:c,INCREMENTAL_STEP:o}},"7klF":function(e,t,n){"use strict";var r=n("V/nl");function i(e,t){for(var n in t[0].qValue){var r=t[0].qValue[n].qText;if(r===e)return n}return-1}function a(e,t,n){if(void 0===e)throw new Error("Internal view is undefined.");if(!t)throw new Error("Table name is empty.");if(void 0===n)throw new Error("Fields are undefined.");return r["a"].getTableData(e,t).then((function(e){var t=[];var r=e.qData;var a=0;for(var o in n){var s=n[o];var l=i(s,r);if(-1===l)continue;for(var c=0;c<r.length;c++){void 0===t[c]&&(t[c]=[]);var u=r[c].qValue[l].qText;var d=r[c].qValue[l].qIsNumeric;t[c][a]={label:u,isNumeric:d}}a++}return t}))}t["a"]={getDataPreviewForTable:a}},"7w0t":function(e,t,n){"use strict";var r=n("SOxp");var i=n("sWge");var a=n("qEw4");var o=n("2Hli");function s(e){var t=o["a"].getValue(e,"selections.currentDataColIx",void 0);return o["a"].getValue(e,"layout.qHyperCube.qDimensionInfo.".concat(t,".qIsOneAndOnlyOne"),false)}var l=r["a"].extend({$scope:null,init:function e(t){this.$scope=t},onPaint:function e(){return i["a"].resolve()},onResize:function e(){return i["a"].resolve()},setInteractionState:function e(){},setFreeResize:function e(){},setDirection:function e(){},setSnapshotData:function e(){},setBackendApi:function e(){},getContextMenu:function e(){},getObjectMenu:function e(){},getSelectionToolbar:function e(){var t=[];s(this.$scope)||t.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});return new a["a"](this.$scope.backendApi,this.$scope.selectionsApi,false,false,t,[])},getPreferredSize:function e(){},onInit:function e(){return i["a"].resolve()}});l.$inject=["$scope"];t["a"]=l},"84zN":function(e,t,n){"use strict";var r=n("sWge");var i=n("+qAE");var a=n("HLBJ");var o={};var s;var l=[];t["a"]={saveTemplate:x,getTemplate:q,deleteTemplate:E,addTemplate:k,getWidgetList:d,getWidgetListFromLibrary:f,loadWidget:I,getLibForId:u,loadFile:p,getLibrary:b,saveLibrary:m,deleteLibrary:g,reloadCachedLibraries:S};function c(e){return"".concat(e.libid?e.libid:e.id,"/").concat(e.id)}function u(e){var t=l.filter((function(t){return t.data.widgets&&t.data.widgets.indexOf(e)>-1}));t.length>1&&console.warn("Duplicate libraries for widget:".concat(e),t);return t[0]}function d(e){if(!s||e){s=new r["a"];var t=[];i["a"].getList(e).then((function(e){l.length=0;e.forEach((function(e){if("widget-library"===e.data.type){l.push(e);e.data.widgets&&e.data.widgets.forEach((function(n){t.push({libid:e.id,id:n})}))}}));s.resolve(t)}))}return s.promise}function f(e){var t=[];var n=new r["a"];i["a"].getList(false).then((function(r){l.length=0;r.forEach((function(n){if("widget-library"===n.data.type&&n.id===e){l.push(n);n.data.widgets&&n.data.widgets.forEach((function(e){t.push({libid:n.id,id:e})}))}}));n.resolve(t)}));return n.promise}function p(e,t){return Object(a["a"])({method:"GET",url:"/extensions/".concat(e).concat(t?"?".concat((new Date).getTime()):""),cache:false})}function h(e,t,n){var i=new r["a"];if(n){p(e).then((function(r){var a=r.headers;a("last-modified")!==n?i.reject("File modified by another user"):h(e,t).then((function(){i.resolve()})).catch((function(e){i.reject(e)}))}));return i.promise}var o=e.split("/");Object(a["a"])({method:"POST",url:"/qrs/extension/".concat(o[0],"/uploadfile?externalpath=").concat(o[1],"&overwrite=true"),data:t}).then((function(){i.resolve()})).catch((function(e){i.reject(e)}));return i.promise}function v(e){var t=new r["a"];var n=e.split("/");Object(a["a"])({method:"DELETE",url:"/qrs/extension/".concat(n[0],"/deletecontent?externalpath=").concat(n[1])}).then((function(){t.resolve()})).catch((function(e){t.reject(e)}));return t.promise}function m(e){var t=new r["a"];h("".concat(c(e),".qext"),JSON.stringify(e.data,null,2)).then((function(){t.resolve()}),(function(e){t.reject(e)}));return t.promise}function g(e){return v("".concat(c(e),".qext"))}function b(e){return p("".concat(e,"/").concat(e,".qext"),true).then((function(e){return e.data}))}function y(e,t){var n=new r["a"];b(e).then((function(r){r.widgets||(r.widgets=[]);r.widgets.push(t);m({id:e,data:r}).then((function(){n.resolve()}),(function(e){n.reject(e)}))}));return n.promise}function w(e,t){var n=new r["a"];b(e).then((function(r){if(r.widgets){r.widgets=r.widgets.filter((function(e){return e!==t}));m({id:e,data:r}).then((function(){n.resolve()}),(function(e){n.reject(e)}))}else n.reject()}));return n.promise}function S(){var e=new r["a"];i["a"].getList(true).then((function(t){l.length=0;t.forEach((function(e){"widget-library"===e.data.type&&l.push(e)}));e.resolve()})).catch((function(t){e.reject(t)}));return e.promise}function x(e){var t=new r["a"];var n=c(e);h("".concat(n,".json"),JSON.stringify({name:e.name,description:e.description,author:e.author,library:e.libid,meta:e.meta,properties:e.properties,dependencies:e.dependencies},null,2),e.lastModified).then((function(){var r="<style>".concat(e.css,"</style>\n<div>").concat(e.html,"</div>");h("".concat(n,".html"),r).then((function(){e.lastModified?p("".concat(n,".json"),true).then((function(t){var n=t.headers;e.lastModified=n("last-modified")})).then((function(){t.resolve()})):y(e.libid,e.id).then((function(){p("".concat(n,".json"),true).then((function(t){var n=t.headers;e.lastModified=n("last-modified")})).then((function(){t.resolve()}))}))}),(function(e){t.reject(e)}))}),(function(e){t.reject(e)}));return t.promise}function C(e){var t=new r["a"];p("".concat(e,".json"),true).then((function(e){var n=e.data;var r=e.headers;n.lastModified=r("last-modified");t.resolve(n)})).catch((function(e){t.reject(e)}));return t.promise}function q(e,t){var n="".concat(e,"/").concat(t);o[n]||(o[n]=C(n));return o[n]}function E(e){var t=new r["a"];var n=c(e);v("".concat(n,".json")).then((function(){w(e.libid,e.id).then((function(){v("".concat(n,".html")).then((function(){delete o[n];t.resolve()}),(function(e){t.reject(e)}))}),(function(e){t.reject(e)}))}),(function(){t.reject()}));return t.promise}function I(e){var t=new r["a"];var n=c(e);p("".concat(n,".html"),true).then((function(n){var r=n.data;var i=document.createElement("div");i.innerHTML=r;var a=i.getElementsByTagName("script");var o=a.length;while(o--)a[o].parentNode.removeChild(a[o]);var s=i.getElementsByTagName("style");if(1===s.length){e.css=s[0].innerHTML;var l=i.getElementsByTagName("div");e.html=l[0].innerHTML;t.resolve()}else t.reject("Widget.InvalidTemplate")})).catch((function(){t.reject()}));return t.promise}function k(e){var t=c(e);if(!o[t]){var n=new r["a"];o[t]=n.promise;n.resolve(e)}}},"8Bn3":function(e,t,n){"use strict";var r=n("4nJ1");var i={};i.nextIndex=function(e,t){var n=1;var i;i=""===t?new RegExp("^\\((\\d+)\\)$"):new RegExp("^".concat(r["a"].escapeRegExp(t)," \\((\\d+)\\)$"));e.forEach((function(e){var t=i.exec(e);if(t&&2===t.length){var r=parseInt(t[1],10);n=Math.max(r+1,n)}}));return n};i.generateUniqueName=function(e,t){var n=i.nextIndex(e,t);if(""===t)return"(".concat(n,")");return"".concat(t," (").concat(n,")")};t["a"]=i},"8H7g":function(e,t,n){"use strict";var r=n("SOxp");var i=n("4nJ1");var a=n("IVN8");var o=n("/Zhp");var s=r["a"].extend("SortableItemList",{init:function e(t,n){this.items=[];this.disabled=false;this.typeFlag=t||1;this.locked=false;Object.keys(n||{}).forEach((function(e){this[e]=n[e]}),this)},addSortableItem:function e(t,n){Object.defineProperty(t,"__sortableItem__",{configurable:false,enumerable:true,writable:true,value:{typeFlag:n||1}});this.items.push(t)},moveItem:function e(t,n){this.items.splice(n,0,this.items.splice(t,1)[0])},getIndexByItem:function e(t){return this.items.indexOf(t)},get:function e(t){return this.items.filter(t||function(){return true})},getLockedIndices:function e(){return this.get((function(e){return!!(e.__sortableItem__.typeFlag&o["a"].TYPEFLAG_LOCKED)})).map((function(e){return this.getIndexByItem(e)}),this)},reset:function e(){this.items.length=0;this.disabled=false},isEmpty:function e(){return 0===this.items.length},setLocked:function e(t){this.locked=t}});Object.defineProperties(s.prototype,{length:{get:function e(){return this.items.length}}});var l=a["a"].extend("SortableItemLists",{init:function e(){this._super.apply(this,arguments);this.lists=[];this.dragPlaceholder=null},addPlaceholder:function e(t){var n=this.getList(t);var r=n?n.items.indexOf(t):-1;this.dragPlaceholder=i["a"].extend(true,{},t);this.dragPlaceholder.id="placeholder";this.dragPlaceholder.__sortableItem__.typeFlag=o["a"].TYPEFLAG_PLACEHOLDER;this.dragPlaceholder.style={opacity:"0.3"};n&&n.items.splice(r,0,this.dragPlaceholder);return this.dragPlaceholder},removePlaceholder:function e(){if(!this.dragPlaceholder)return;var t=this.getList(this.dragPlaceholder);var n=t?t.items.indexOf(this.dragPlaceholder):-1;if(-1!==n){t.items.splice(n,1);this.dragPlaceholder=null}},getPlaceholder:function e(){return this.dragPlaceholder},createList:function e(t,n){var r=new s(t,n);this.lists.push(r);return r},reset:function e(){this.lists.forEach((function(e){e.reset()}))},getList:function e(t){return this.lists.filter((function(e){return-1!==e.items.indexOf(t)}))[0]},disable:function e(t){this.lists.forEach((function(e){e.disabled=!(t.__sortableItem__.typeFlag&e.typeFlag)}))},enable:function e(){this.lists.forEach((function(e){e.disabled=false}))},getIndexOfItem:function e(t){var n=this.getList(t);var r=n?n.items.indexOf(t):-1;return r},moveItem:function e(t,n){var r=this.getList(t);var i=this.getList(n);if(!r||!i)return;var a=i.items.indexOf(n);var o=r.items.indexOf(t);r.items.splice(o,1);i.items.splice(a,0,t)},onBegin:function e(t,n){this.addPlaceholder(t,n);this.disable(t)},onEnter:function e(t,n){var r=this.getList(t);var i=r.getLockedIndices();if(t===this.dragPlaceholder)return;if(n===o["a"].ENTER_BEFORE||n===o["a"].ENTER_AFTER){var a=this.getList(this.dragPlaceholder);if(!a||!r)return;var s=a.getIndexByItem(this.dragPlaceholder);a.items.splice(s,1);var l=r.getIndexByItem(t);l+=n===o["a"].ENTER_AFTER?1:0;r.items.splice(l,0,this.dragPlaceholder)}else this.moveItem(this.dragPlaceholder,t);var c=r.getLockedIndices();i.forEach((function(e,t){r.moveItem(c[t],e)}))},onEnterList:function e(t){if(t.disabled||t.locked)return;var n=this.getList(this.dragPlaceholder);if(!n)return;var r=n.getIndexByItem(this.dragPlaceholder);n.items.splice(r,1);t.items.push(this.dragPlaceholder)},onMove:function e(t){if(-1===this.getIndexOfItem(t)){this.onCancel();return false}var n=this.dragPlaceholder;this.moveItem(t,n);this.removePlaceholder();this.enable();return true},onMoveToList:function e(t,n){var r=this.getList(t);if(r&&!(n.disabled||n.locked)){var i=r.items.indexOf(t);if(r===n){this.onMove(t,this.dragPlaceholder);return true}r.items.splice(i,1);n.items.push(t)}this.removePlaceholder();this.enable();return!!r},onCancel:function e(){this.removePlaceholder();this.enable()},allowEnter:function e(t,n){var r=this.getList(t);return void 0!==r&&!r.disabled&&!r.locked&&!!(n.__sortableItem__.typeFlag&r.typeFlag)},allowEnterList:function e(t,n){return!t.disabled&&!t.locked&&!!(n.__sortableItem__.typeFlag&t.typeFlag)}});l.create=function(e){var t=l.extend(e||{});e=new t(e&&e.options);return e};t["a"]=l},"8IgQ":function(e,t,n){"use strict";(function(e){var r=n("sWge");var i=n("/2No");var a=n("Wbap");var o=n("2n0V");var s=n("qbMp");var l=n("kku5");var c=n("t27K");var u=n("+qAE");var d=n("9erv");var f=n("rcQZ");var p=n("9a/l");var h=n("acVu");var v=null;var m=null;var g=false;function b(e,t){t=t||{};t.previewIconURL||"string"===typeof t.preview&&t.preview.match(/\.(?:png|gif|jpe?g|svg)$/)&&(t.cloud?t.previewIconURL="".concat(i["a"].rootPath,"api/v1/extensions/").concat(t.id,"/file/").concat(t.preview):t.folder?t.previewIconURL="".concat(i["a"].localResourcesPath).concat(t.folder,"/").concat(e,"/").concat(t.preview):t.previewIconURL="".concat(i["a"].rootPath,"extensions/").concat(e,"/").concat(t.preview));t.icon&&"extension"!==t.icon||(t.icon="puzzle");t.description=t.description||t.name;t.template=t.template||e;t.isLibraryItem=false!==t.isLibraryItem;t.isThirdParty=true;t.name=t.name||t.template||e;return t}function y(t,r){if(t.data&&"visualization"===t.data.type){if(o["a"].getType(t.id.toLowerCase())){t.data.bundle?console.warn("Bundled extension already loaded (this is likely correct): ".concat(t.id)):console.error("Extension id already registered: ".concat(t.id));return}var i=b(t.id,t.data);l["a"].registerThirdPartyLibraryInfo(t.id,i);if(Object(h["b"])("EXTENSIONS_IN_PIPELINE")&&t.data.definition){var a=t.path.split("/");a.pop();a=a.join("/");e.getScript(n.p+a+"/"+t.data.definition+".js",(function(e){f["a"].addChartDataDefinition(definition)}))}o["a"].registerType(t.id,new s["a"]({type:t.id,path:t.path||"extensions/".concat(t.id,"/").concat(t.id),disableExport:r}))}}function w(e){if(!g){o["a"].registerType("listbox",new s["a"]({type:"listbox",path:"extensions.qliktech/listbox/listbox"}));o["a"].registerType("filterpane",new s["a"]({type:"filterpane",path:"extensions.qliktech/filterpane/filterpane"}));o["a"].registerType("container",new s["a"]({type:"container",path:"extensions.qliktech/container/container"}));Object(h["b"])("DISABLE_AUTO_CHART")||p["a"].adaptationsEnabled()||o["a"].registerType("auto-chart",new s["a"]({type:"auto-chart",path:"extensions.qliktech/auto-chart/auto-chart"}));o["a"].registerType("boxplot",new s["a"]({type:"boxplot",path:"extensions.qliktech/boxplot/boxplot"}));o["a"].registerType("histogram",new s["a"]({type:"histogram",path:"extensions.qliktech/histogram/histogram"}));o["a"].registerType("distributionplot",new s["a"]({type:"distributionplot",path:"extensions.qliktech/distributionplot/distributionplot"}));o["a"].registerType("waterfallchart",new s["a"]({type:"waterfallchart",path:"extensions.qliktech/waterfallchart/waterfallchart"}));o["a"].registerType("gauge",new s["a"]({type:"gauge",path:"extensions.qliktech/gauge/gauge"}));o["a"].registerType("kpi",new s["a"]({type:"kpi",path:"extensions.qliktech/kpi/kpi"}));o["a"].registerType("table",new s["a"]({type:"table",path:"extensions.qliktech/straight-table/straight-table"}));o["a"].registerType("pivot-table",new s["a"]({type:"pivot-table",path:"extensions.qliktech/pivot-table/pivot-table"}));o["a"].registerType("barchart",new s["a"]({type:"barchart",path:"extensions.qliktech/barchart/barchart"}));o["a"].registerType("piechart",new s["a"]({type:"piechart",path:"extensions.qliktech/piechart/piechart"}));o["a"].registerType("scatterplot",new s["a"]({type:"scatterplot",path:"extensions.qliktech/scatterplot/scatterplot"}));o["a"].registerType("linechart",new s["a"]({type:"linechart",path:"extensions.qliktech/linechart/linechart"}));o["a"].registerType("combochart",new s["a"]({type:"combochart",path:"extensions.qliktech/combochart/combochart"}));o["a"].registerType("treemap",new s["a"]({type:"treemap",path:"extensions.qliktech/treemap/treemap"}));o["a"].registerType("map",new s["a"]({type:"map",path:""}));o["a"].registerType("text-image",new s["a"]({type:"text-image",path:"extensions.qliktech/text-image/text-image"}));o["a"].registerType("mekkochart",new s["a"]({type:"mekkochart"}));o["a"].registerType("action-button",new s["a"]({type:"action-button"}));o["a"].registerType("bulletchart",new s["a"]({type:"bulletchart"}));o["a"].registerType("widget",new s["a"]({type:"widget",path:"extensions.qliktech/widget/widget"}));g=true}var t=[];if(!m){var n=Object(h["b"])("DASHBOARD_EXT_BUNDLE")?c["a"].getDashBundleList():[];n.forEach((function(e){t.push(e)}));var i=Object(h["b"])("VIZ_EXT_BUNDLE")||Object(h["b"])("VIZBUN_QCS_31")?c["a"].getVisBundleList():[];i.forEach((function(e){t.push(e)}));m=r["a"].all(t);return m.then((function(t){t.forEach(y);if(!e)return S();return})).catch((function(){console.warn("Error when loading extensions")}))}if(e)return m;return m.then(S)}function S(){if(!v){var e=Object(h["b"])("DISABLE_ONPREM_EXTENSIONS")?r["a"].resolve([]):u["a"].getList();var t=Object(h["b"])("CLOUD_EXTENSIONS")&&a["a"].areExtensionsAllowed()?d["a"].getList():r["a"].resolve([]);v=t.then((function(t){t.forEach((function(e){return y(e,!Object(h["b"])("EXPORT_3RD_PARTY_EXTENSIONS_ENABLED"))}));return e.then((function(e){e.forEach(y)}))}))}return v}function x(e){o["a"].removeType(e);l["a"].remove(e)}t["a"]={load:w,isLoaded:function e(t){return!!o["a"].getType(t)},registerExtension:y,removeExtension:x}}).call(this,n("qIEf"))},"8Jek":function(e,t,n){var r,i;(function(){"use strict";var n={}.hasOwnProperty;function a(){var e=[];for(var t=0;t<arguments.length;t++){var r=arguments[t];if(!r)continue;var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}return e.join(" ")}if(true,e.exports){a.default=a;e.exports=a}else{true;!(r=[],i=function(){return a}.apply(t,r),void 0!==i&&(e.exports=i))}})()},"8QXK":function(e,t,n){"use strict";var r=n("6uJb");var i=n("tdr+");var a=n("ydY7");function o(e){var t={};var n=c(e);t.dataArea={show:true,title:n.title,hint:n.hint,tooltip:n.tooltip,options:[{label:r["default"].get("Download.Image.DataArea.Default"),isDefault:true},{label:r["default"].get("Common.Custom"),isCustom:true}]};t.scale={show:!i["a"].getUsingReportingService(),title:"Download.Image.Scale",tooltip:"Download.Image.Scale.Tooltip",hint:"Download.Image.Scale.CustomHint",options:[{label:r["default"].get("Download.Image.Scale.Default"),isDefault:true},{label:r["default"].get("Common.Custom"),isCustom:true}]};return t}function s(){var e={};e.paperFormat={show:true,title:"Download.PDF.PaperFormat",aria:"Download.Aria.PDF.PaperFormat",options:u().slice()};e.paperFormat.options.splice(4,1);e.size={show:true,title:"Download.PDF.Scale",aria:"Download.Aria.PDF.Size"};var t=i["a"].getUsingReportingService();e.size.options=t?[{label:r["default"].get("Download.PDF.Scale.NoScaling"),value:0},{label:r["default"].get("Download.PDF.Scale.FitToPage"),value:2}]:[{label:r["default"].get("Print.Layout.CurrentSize"),value:0},{label:r["default"].get("Print.Layout.BestFitNoPreserveAspectRatio"),value:2}];e.orientation={show:true,title:"Download.PDF.Orientation",options:d()};return e}function l(e){var t={};t.output={show:true,title:"Print.ChooseFormat",options:[{type:"image",format:"png",label:"Image"},{type:"pdf",format:"pdf",label:"PDF"},{type:"data",format:"xlsx",label:"Data"}]};t.pdf=s();t.image=o(e);return t}function c(e){var t=a["a"].get(e);var n=["barchart","linechart","combochart","boxplot","distributionplot","table","pivot-table"];return n.indexOf(t)>-1?{title:"Download.Image.DataArea",hint:"Download.Image.DataArea.CustomHint",tooltip:"Download.Image.DataArea.Tooltip"}:{title:"Tooltip.Details",hint:"Download.Image.DataArea.CustomHintDetails",tooltip:"Download.Image.DataArea.TooltipDetails"}}function u(){var e="landscape";var t={w:33.1,h:46.8};var n=function e(t,n,r){this.name=t;this.unit=r||"in";this.dimensions=n};n.prototype={toPixels:function e(t){var n=0;switch(this.unit){case"in":n=t;break;case"pi":n=1;break;case"cm":n=.393701*t;break;default:break}var r=this.dimensions.w*n;var i=this.dimensions.h*n;return{w:Math.round(r),h:Math.round(i)}},toMillimeters:function e(){var t=0;switch(this.unit){case"in":t=1/.0393701;break;case"cm":t=10;break;default:break}var n=this.dimensions.w*t;var r=this.dimensions.h*t;return{w:Math.floor(n),h:Math.floor(r)}},setLabel:function e(t){var n=this;var i;var a=r["default"].localeDetected&&"en"===r["default"].localeDetected.substring(0,2);var o=a?n.dimensions:n.toMillimeters();var s=o["portrait"===t?"w":"h"];var l=o["portrait"===t?"h":"w"];i=a?" (".concat(s,'" x ').concat(l,'")'):" (".concat(s," mm x ").concat(l," mm)");"Letter"===n.name?n.label=r["default"].get("Print.PaperSize.Letter")+i:n.label=n.name+i}};function i(e,t){var n;var r;if(e<t){n=e;r=t/2}else{n=e/2;r=t}return{w:n>r?r:n,h:r>n?r:n}}var a=[new n("A0",{w:t.w,h:t.h})];for(var o=1;o<8;o++)a.push(new n("A".concat(o),i(a[o-1].dimensions.w,a[o-1].dimensions.h)));a.push(new n("Letter",{w:8.5,h:11}));for(var s=0;s<3;s++)a.shift();a.forEach((function(t){t.setLabel(e)}));return a}function d(){var e=[{orientation:"portrait",translationKey:"Print.Portrait"},{orientation:"landscape",translationKey:"Print.Landscape"}];e.forEach((function(e){e.label=r["default"].get(e.translationKey)}));return e}t["a"]={getForImage:o,getForPdf:s,getForMobile:l}},"8WoW":function(e,t,n){"use strict";var r=n("TmNk");var i=n.n(r);function a(e,t){var n=i.a.hasActiveModifiers({measures:[e]});return n&&t?e.qDef.qDef:void 0}function o(e,t,n,r){var o={};var s;var l;var c;var u;var d;switch(e){case"dimension":if(n.qLibraryId){o.type="dimension";o.name=n.qLibraryId;o.id=n.qLibraryId}else{o.type="field";if(t){o.name=n.label||n.qDef;o.id=n.qDef}else{s=n.qDef;l=!!s.qLabelExpression;c=s.qFieldLabels&&s.qFieldLabels[0];o.name=s.qFieldDefs[0];o.label=l?s.qLabelExpression:c?s.qFieldLabels[0]:s.qFieldDefs[0]}}break;case"measure":u=t?n.qLibraryId:i.a.measureBase.getLibraryId(n);if(u){o.type="measure";o.name=u;o.id=u;d=a(n,r);d&&(o.expression=d)}else{o.type="expression";if(t){o.name=n.label||n.qExpression;o.id=n.qExpression}else{s=n.qDef;l=!!s.qLabelExpression;c=!!s.qLabel;o.name=s.qDef;o.label=l?s.qLabelExpression:c?s.qLabel:s.qDef}}break;default:throw new Error("Default-property-logic.js: getColorByDefinition: Illegal input")}return o}t["a"]={getColorByDefinition:o}},"8fQa":function(e,t,n){"use strict";var r=function e(t){return window.setTimeout(t,1e3/60)};var i=function e(t){return window.clearTimeout(t)};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||r;var o=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.msCancelAnimationFrame||i;t["a"]={request:a===r?r:a.bind(window),cancel:o===i?i:o.bind(window)}},"8wLh":function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("PX8M");var o=n("sWge");var s=n("2n0V");var l=n("KvOU");var c=n("4nJ1");var u=n("8IgQ");var d=[];function f(e){return e?o["a"].resolve(e.enigmaModel):a["a"].getApp()}var p={};p.get=function(e,t){return f(t).then((function(t){return t.getObject(e)}))};p.createTransient=function(e,t,n){var r;var a=-1;var o=d.length;var l={that:e,app:t,props:n};for(r=0;r<o;r++)if(d[r].askFor.that===e&&d[r].askFor.app===t&&i.a.equals(d[r].askFor.props,n)){a=r;break}if(a>=0)return d[a].result;var c=u["a"].load().then((function(){return s["a"].getType("listbox").getInitialProperties(n).then((function(e){return t.createSessionObject(e)}))}));d.push({askFor:l,result:c});return c};p.createTransientField=function(e,t,n){var r={};r.qListObjectDef=l["a"].createFieldDimension(t);c["a"].extend(true,r,n||{});return this.createTransient(this,e,r)};p.createTransientDimension=function(e,t,n){var r={};r.qListObjectDef=l["a"].createLibraryDimension(t);c["a"].extend(true,r,n||{});return this.createTransient(this,e,r)};t["a"]=p},"9/B2":function(e,t,n){"use strict";var r=n("mWu2");var i=n("MGTR");var a=n("z4LI");var o=n("5xMv");var s=n("1DLp");var l=n("hVRC");var c=n("IlgW");var u=n("6uJb");var d=n("IygW");var f={type:"items",translation:"Object.ActionButton.Actions",items:{actions:{type:"array",translation:"Object.ActionButton.Actions",ref:"actions",itemTitleRef:function e(t){if(t.actionLabel)return t.actionLabel;var n=t.actionType?"Object.ActionButton.InvalidAction":"Object.ActionButton.NewAction";var r=d["b"].find((function(e){return t.actionType===e.value}));return u["default"].get(r&&r.translation||n)},allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"Object.ActionButton.AddAction",add:function e(t,n){n.actions||(n.actions=[])},items:{label:{component:"string",ref:"actionLabel",translation:"Common.Label",expression:"optional",defaultValue:""},actionType:{type:"string",ref:"actionType",component:"expression-with-dropdown",translation:"Object.ActionButton.Action",defaultValue:"",options:d["b"],dropdownOnly:true},bookmark:{type:"string",ref:"bookmark",component:"expression-with-dropdown",translation:"ExpressionEditor.SetExpresions.Bookmark",defaultValue:"",dropdownOnly:true,options:function e(t,n,r){return r.app?r.app.getBookmarkList().then((function(e){return e.map((function(e){return{label:e.qData.title,value:e.qInfo.qId}}))})):[]},show:function e(t){return Object(d["a"])(t,"bookmark")}},field:{type:"string",ref:"field",component:"expression-with-dropdown",translation:"Common.Field",defaultValue:"",dropdownOnly:true,options:function e(t,n,r){return r.app?r.app.getFieldList().then((function(e){return e.map((function(e){return{label:e.qName,value:e.qName}}))})):[]},show:function e(t){return Object(d["a"])(t,"field")}},variable:{type:"string",ref:"variable",component:"expression-with-dropdown",translation:"Common.Variable",defaultValue:"",expressionType:"StringExpression",options:function e(t,n,r){return r.app?r.app.getVariableList().then((function(e){return e.filter((function(e){return!e.qIsReserved||e.qIsReserved&&t.showSystemVariables})).map((function(e){return{label:e.qName,value:e.qName}}))})):[]},show:function e(t){return Object(d["a"])(t,"variable")}},showSystemVariables:{type:"boolean",ref:"showSystemVariables",translation:"ExpressionEditor.SystemVariables",defaultValue:false,show:function e(t){return Object(d["a"])(t,"variable")}},softLock:{type:"boolean",ref:"softLock",translation:"Object.ActionButton.Softlock",defaultValue:false,show:function e(t){return Object(d["a"])(t,"softLock")}},value:{type:"string",ref:"value",component:"string",translation:"properties.value",expression:"optional",show:function e(t){return Object(d["a"])(t,"value")}}}}}};var p=n("uVcZ");var h=n("GG1N");var v='<div class="pp-component pp-media-component pp-sheet-thumbnail-component" tcl="media">\n\t<div class="label" ng-if="label">{{label}}</div>\n\t<div class="value">\n\t\t<div class="placeholder">\n\t\t\t<div qv-ao-thumb item="item" issheet="true" thumbprop="data.thumbnail" thumblayout="thumbLayout.thumbnail" editmode="!readOnly" thumb-width="221" thumb-height="128" emitchanges="true"></div>\n\t\t</div>\n\t</div>\n</div>\n';var m={template:v,controller:["$scope",function(e){var t=function t(){return e.data};h["a"].defineLabel(e,e.definition,t,e.args.handler);h["a"].defineReadOnly(e,e.args.handler);e.item={qData:e.data,qMeta:{published:e.args.model.layout.qMeta.published}};e.save=function(){e.$emit("saveProperties")};e.$on("thumbnailchanged",(function(){e.save()}));e.$on("layoutchanged",(function(t,n){e.thumbLayout={thumbnail:n.thumbnail}}));e.thumbLayout={thumbnail:e.args.model.layout.thumbnail}}]};p["a"].addComponent("sheet-thumbnail",m);var g=m;var b=n("acVu");function y(e){y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return y(e)}function w(e){var t=e.cells;var n=e.rows;var r=e.columns;t.forEach((function(t){if(!t.bounds){var i={};t.bounds=i;i.y=t.row/n*100;i.x=t.col/r*100;i.width=t.colspan/r*100;i.height=t.rowspan/n*100}l["a"].alignToGrid(e,t)}))}function S(e){return e.layoutOptions&&e.layoutOptions.sheetMode?e.layoutOptions.sheetMode:"RESPONSIVE"}function x(e){var t=S(e);if(t&&"RESPONSIVE"!==t){if("CUSTOM"===t){e.rows=s["a"].getCustomRows(e);e.columns=s["a"].getCustomCols(e)}}else{e.height?e.rows=Math.ceil(s["a"].getResolutionFor(e.gridResolution)*e.height/100):e.rows=s["a"].getResolutionFor(e.gridResolution);e.columns=2*s["a"].getResolutionFor(e.gridResolution)}w(e)}var C={type:"items",component:"accordion",defaultActiveTabIndex:0,items:{sheetProps:{type:"items",translation:"properties.sheetProperties",items:{title:{type:"string",ref:"qMetaDef.title",translation:"Common.Title",minlength:1,readOnly:function e(t,n,r){var i=r.layout;return i&&(i.permissions&&!i.permissions.update||i.qMeta&&i.qMeta.sourceObject&&i.qMeta.sourceObject.length>0)},rollbackInvalid:true},labelExpression:{type:"string",ref:"labelExpression",translation:"properties.titleExpression",readOnly:function e(t,n,r){var i=r.layout;return i&&(i.permissions&&!i.permissions.update||i.qMeta&&i.qMeta.sourceObject&&i.qMeta.sourceObject.length>0)},rollbackInvalid:true,expression:"optional"},showCondition:{type:"string",ref:"showCondition",translation:"Object.Container.Props.ShowCondition",tid:"showCondition",readOnly:function e(t,n,r){var i=r.layout;return i&&(i.permissions&&!i.permissions.update||i.qMeta&&i.qMeta.sourceObject&&i.qMeta.sourceObject.length>0)},show:function e(){return Object(b["b"])("SHEET_SHOW_CONDITION")},rollbackInvalid:true,expression:"always"},description:{type:"string",component:"textarea",expression:"optional",readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},change:function e(t,n,r){if("object"===y(r.qMetaDef.description)){r.descriptionExpression=r.qMetaDef.description;r.qMetaDef.description=""}else if("string"===typeof r.descriptionExpression&&r.descriptionExpression){r.qMetaDef.description=r.descriptionExpression;r.descriptionExpression=void 0}},refFn:function e(t){var n="object"===y(t.descriptionExpression);return n?"descriptionExpression":"qMetaDef.description"},translation:"Common.Description"},items:{type:"items",grouped:true,items:{thumbnail:{translation:"properties.sheetProperties.thumbnail",type:"string",readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},component:"sheet-thumbnail",defaultValue:""},gridSize:{translation:"properties.gridSize",readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},type:"string",component:"dropdown",ref:"gridResolution",defaultValue:s["a"].getPreferredGridSize,options:[{value:"small",translation:"properties.gridSmall"},{value:"medium",translation:"properties.gridMedium"},{value:"large",translation:"properties.gridLarge"}],show:function e(t){t.gridResolution||(t.gridResolution=s["a"].getResolutionFor(t.rows));w(t);return true},change:function e(t){s["a"].setPreferredGridSize(t.gridResolution);x(t)}},sheetSizeOptions:{type:"items",ref:"grid",items:{layout:{type:"items",items:{LayoutMode:{translation:"properties.layoutMode",readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},type:"string",component:"dropdown",ref:"layoutOptions.sheetMode",defaultValue:"RESPONSIVE",options:[{value:"RESPONSIVE",translation:"properties.responsive"},{value:"CUSTOM",translation:"properties.custom"}],change:function e(t){x(t)}},sheetSize:{type:"items",show:function e(t){return"CUSTOM"===S(t)},readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},items:{width:{readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},defaultValue:1280,ref:"pxWidth",type:"integer",translation:"properties.customWidth",change:function e(t){t.pxWidth=s["a"].checkSheetPixelLimits(t.pxHeight,t.pxWidth).pxWidth;x(t)}},height:{readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},defaultValue:1024,ref:"pxHeight",type:"integer",translation:"properties.customHeight",change:function e(t){t.pxHeight=s["a"].checkSheetPixelLimits(t.pxHeight,t.pxWidth).pxHeight;x(t)}}}}}},mobileLayout:{translation:"properties.mobileLayout",readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},component:"dropdown",type:"string",ref:"layoutOptions.mobileLayout",defaultValue:"LIST",show:function e(t){return Object(b["b"])("MOBILE_GRID")&&"CUSTOM"!==S(t)},options:[{value:"LIST",translation:"properties.listView"},{value:"GRID",translation:"properties.gridView"}],change:function e(t){s["a"].setPreferredMobileLayout(t.layoutOptions.mobileLayout)}},ExtendSheet:{translation:"properties.extendSheet",readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update},show:function e(t){return!("CUSTOM"===S(t))},type:"boolean",component:"switch",ref:"layoutOptions.extendable",defaultValue:"false",options:[{value:false,translation:"properties.off"},{value:true,translation:"properties.on"}],change:function e(t){t.height||(t.height=100);t.layoutOptions.sheetMode||(t.layoutOptions.sheetMode="RESPONSIVE");x(t)}}}}}},expandButton:{translation:"Expand sheet",component:"button",action:function e(t,n,r,i){if(t.height){t.height+=50;t.rows=Math.ceil(s["a"].getResolutionFor(t.gridResolution)*t.height/100)}else{t.height=150;t.rows=1.5*s["a"].getResolutionFor(t.gridResolution)}i.$emit("saveProperties",t)},show:function e(){return Object(b["b"])("SCROLL_BUTTON")},readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update}},CollapseButton:{translation:"Collapse sheet",component:"button",action:function e(t,n,r,i){if(t.height){t.height-=50;t.rows=Math.ceil(s["a"].getResolutionFor(t.gridResolution)*t.height/100)}else{t.height=100;t.rows=s["a"].getResolutionFor(t.gridResolution)}i.$emit("saveProperties",t)},show:function e(){return Object(b["b"])("SCROLL_BUTTON")},readOnly:function e(t,n,r){var i=r.layout;return i&&i.permissions&&!i.permissions.update}}}}}};C.items.alternateState=c["a"];Object(b["b"])("SHEET_TRIGGER")&&(C.items.sheetTrigger=f);var q=C;var E;var I;function k(){if(I)return I;var e=r["default"].getService("$cacheFactory");I=e("pp-sheet");return I}var A=t["a"]={set:function e(t){E=t},get:function e(){return E},destroy:function e(){E=null},setSheetAsSelectedObj:function e(){var t=a["a"].model;var n={id:t.id,type:"sheetCell",canCopy:function e(){return false},canCut:function e(){return false},canRemove:function e(){return false},remove:function e(){},paste:function e(){i["a"].publish("/activeSheet/pasteObject",null)},getAllPropertyPanelContent:function e(){return t.getProperties().then((function(e){return t.getLayout().then((function(n){var r={properties:e,layout:n,definition:q,type:"sheet",model:t,iconName:"sheet",titleRef:"qMeta.title",cache:k()};return r}))}))}};return o["a"].setSelectedObject(n)}}},"90GT":function(e,t,n){"use strict";var r=n("gh04");var i=n("JP+O");var a=n("sWge");var o=n("hVRC");var s=n("acVu");var l={addToSheet:function e(t,n){return h(t).then((function(e){var r={cell:e,init:n,template:n.qInfo.qType};return t.addObject(r).then((function(){return t}))}))},getOptimalGridCell:function e(t){t.sort((function(e,t){if(e.isEmpty&&!t.isEmpty)return-1;if(t.isEmpty&&!e.isEmpty)return 1;var n=e.pos.colspan*e.pos.rowspan;var r=t.pos.colspan*t.pos.rowspan;if(n>r)return-1;if(n<r)return 1;return 0}));var n=t[0]||null;if(n&&!n.isEmpty)if(n.pos.colspan>1||n.pos.rowspan>1){var r=n.pos.colspan>n.pos.rowspan?"right":"bottom";n={isEmpty:true,pos:{pos:n.pos,split:r}}}else n=null;return n},updateGridCells:function e(t,n,r,i,a,o){var l=i;var c=Object(s["b"])("DROP_ZONES");var h=[];var v=d(t,n);a=a||n;var m;var g;if(c){m=o?Math.round(a/2):a;g=o?m:Math.round(m/2)}function b(e){var r=u(e,t,n);f(v,r,n,t);var i={};i.pos=r;i.isEmpty=true;i.navMenu={};h.push(i)}function y(e){var i=u(e,t,n);f(v,i,n,t);var a=p(e.name,r);if(!a){a={};a.id=e.name;a.navMenu={};a.options={id:e.name,isVisible:true,isZoomed:false,isActive:false}}a.pos=i;a.isEmpty=false;h.push(a)}function w(e,r,i,o){e=e||0;i=i||0;r=r||n;o=o||t;var s;var l;var u=o;var d=[];var f;var p;var h;while(u-- >i){l=0;s=r;d[u]=[];while(s-- >e)if(v[s][u])d[u][s]=++l;else{l=0;d[u][s]=null}}h=null;p=0;function m(e,t,n){var r=e;while(f.length>0){var i=f[f.length-1];if(i.rowSpan===n)return;if(i.rowSpan<n)break;f.pop();r=i.col;var o=e-i.col;var s=i.rowSpan*o;if(s>p){p=s;h={col:i.col,row:t,colspan:o,rowspan:i.rowSpan}}}n>0&&n&&f.push({col:r,rowSpan:c?n:Math.min(n,a)})}f=[];for(s=e;s<r;++s){for(u=i;u<o;++u){if(null===d[u][s]){m(u,s,0);continue}m(u,s,d[u][s])}m(u,s,0)}return h}function S(){var e=1;var r;if(c){var i=Math.ceil(n/g);var a=Math.ceil(t/m);for(var o=0;o<i;++o)for(var s=0;s<a;++s)while(true){r=w(g*o,Math.min(g*(o+1),n),m*s,Math.min(m*(s+1),t));if(!r)break;r.priority=e++;l.push(r);b(r)}}else while(true){r=w();if(!r)break;r.priority=e++;l.push(r);b(r)}}function x(e){e.sort((function(e,t){e=e.pos;t=t.pos;return e.row-t.row})).sort((function(e,t){e=e.pos;t=t.pos;if(e.row===t.row)return e.col-t.col;return e.row-t.row}))}l.forEach(y);x(h);S();return h},addObjectToSheet:function e(t,n,i){if(!t)return a["a"].reject();if(!n&&i)return l.addToSheet(i,t);if(n)return r["a"].get(n).then((function(e){return l.addToSheet(e,t)}));return},addToNewSheet:function e(t){return r["a"].getList().then((function(e){if(!t)return a["a"].reject();return e.getLayout().then((function(e){var n=0;e.forEach((function(e){!e.qMeta.published&&e.qData.rank>n&&(n=e.qData.rank)}));return i["a"].addSheet(n+1).then((function(e){return l.addToSheet(e,t)}))}))}))},getOptimalCell:function e(t){return l.getOptimalGridCell(t)},getCellAlignment:function e(t,n,r,i){return c(t,n,r,i)}};function c(e,t,n){if(e.bounds)return e.bounds;return o["a"].getBounds(e,t,n)}function u(e,t,n){var r={};if(e.bounds){var i=e.bounds;r=o["a"].getInfluenceOnGrid(i,t,n);r.bounds={x:i.x,y:i.y,width:i.width,height:i.height}}else{r.row=e.row;r.col=e.col;r.rowspan=e.rowspan;r.colspan=e.colspan;r.bounds=c(r,t,n)}return r}function d(e,t){var n=[];for(var r=0;r<t;r++){n[r]=[];for(var i=0;i<e;i++)n[r][i]=1}return n}function f(e,t){var n=t.row+t.rowspan;var r=t.col+t.colspan;for(var i=t.row;i<n;i++)for(var a=t.col;a<r;a++)e[i]&&(e[i][a]=0)}function p(e,t){if(!t)return null;for(var n=0;n<t.length;++n)if(t[n].id===e)return t[n];return null}function h(e){return e.getLayout().then((function(e){var t=l.updateGridCells(e.columns,e.rows,[],e.cells);return l.getOptimalGridCell(t)}))}t["a"]=l},"93Vl":function(e,t,n){"use strict";var r=n("2n0V");var i=n("sWge");var a=n("/2No");var o={width:144,height:96};var s=2;function l(e){var t={};t.width=e.width-e.numCols*e.spacing;t.height=e.height-e.numRows*e.spacing;t.columnWidth=t.width/e.numCols;t.rowHeight=t.height/e.numRows;t.cols=e.numCols;t.rows=e.numRows;t.spacing=e.spacing;return t}function c(e,t,n,i){var a=n.colspan/t.cols*t.width+(n.colspan-2)*t.spacing;var o=n.rowspan/t.rows*t.height+(n.rowspan-2)*t.spacing;var s=t.spacing+t.columnWidth*n.col+t.spacing*n.col;var l=t.spacing+t.rowHeight*n.row+t.spacing*n.row;var c=r["a"].getIconPath(n.type);var u=a>=o?o:a;e.fillStyle="rgb(242, 242, 242)";e.fillRect(s,l,a,o);u=Math.max(8,Math.min(u,24))/16;e.fillStyle=i?"rgba(0, 152, 69,.6)":"rgba(89, 89, 89,0.6)";e.text="center";e.textAlign="center";e.textBaseline="middle";e.save();e.translate(Math.round(s+a/2-8*u),Math.round(l+o/2-8*u));e.scale(u,u);e.fill(new Path2D(c));e.restore()}var u={staticSrc:function e(){return{staticPublishedSheet:function e(){return"".concat(a["a"].staticResourcesPath,"img/core/static/Default-sheet-published.png")},staticUnPublishedSheet:function e(){return"".concat(a["a"].staticResourcesPath,"img/core/static/Default-sheet-unpublished.png")},staticPublishedStory:function e(){return"".concat(a["a"].staticResourcesPath,"img/core/static/Default-story-published.png")},staticUnPublishedStory:function e(){return"".concat(a["a"].staticResourcesPath,"img/core/static/Default-story-unpublished.png")},staticApp:function e(){return"".concat(a["a"].staticResourcesPath,"img/core/static/Default_thumbnail_app.png")},brokenImage:function e(){return"".concat(a["a"].staticResourcesPath,"img/core/static/Ic_BrokenBig@2x.png")}}},dimensions:{original:o,width:o.width-2,height:o.height-2,spacing:2},getSrc:function e(t,n){var r=n?"Sheet":"Story";var i=t?"staticPublished":"staticUnPublished";return u.staticSrc()[i+r]()},generateImageForStory:function e(t,n){var r=new i["a"];n.get(t.item.qInfo.qId).then((function(e){e.getLayout().then((function(n){if(n.qChildList&&n.qChildList.qItems.length){t.slide=n.qChildList.qItems.slice().sort((function(e,t){if(e.qData.rank===t.qData.rank)return 0;if(e.qData.rank<t.qData.rank)return-1;return 1}))[0];t.slide?e.app.getObject(t.slide.qInfo.qId).then((function(e){e.getLayout().then((function(e){e.qChildList.qItems.length>0?r.resolve():r.reject()}),r.reject)})):r.reject()}else r.reject()}))}));return r.promise},paintCanvas:function e(t){var n=document.createElement("canvas");var r=l({width:u.dimensions.width*s,height:u.dimensions.height*s,spacing:u.dimensions.spacing,numRows:t.qData.rows,numCols:t.qData.columns});n.width=u.dimensions.width*s;n.height=u.dimensions.height*s;var i=n.getContext("2d");function a(e){e.forEach((function(e){var n=t.qMeta.published;c(i,r,e,n)}))}i.clearRect(0,0,n.width,n.height);a(t.qData.cells);var o=n.toDataURL();i=null;r=null;n.remove&&n.remove();n=null;return o}};t["a"]=u},"97cA":function(e,t,n){"use strict";var r=n("jaci");var i=n("TLc9");var a='<div class="q-card-header-container" qva-direction x-dir-setting="{{direction}}">\n\t<div class="q-card-header">\n\t\t<span q-translation="ObjectInfo.Dialog.Header"></span>\n\t</div>\n\t<div>\n\t\t<button class="lui-fade-button close-button" q-title-translation="Common.Close" qva-activate="close()">\n\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--close"></span>\n\t\t</button>\n\t</div>\n</div>\n<div class="content"></div>';var o={template:a,scope:{close:"&"},controller:["$scope","$element",function(e,t){e.direction=r["a"].direction;t.find(".content").showComponent(i["a"],{input:e.input})}]};var s=n("B52N");var l=n("MvZm");var c=null;function u(){c=null;s["default"].ViewChanged.unbind(d)}function d(){l["a"].close()}var f=t["a"]={show:function e(t){s["default"].ViewChanged.bind(d);var n={component:o,input:{object:t}};var r=[n];var i={cardSteps:r,onClose:u};c=t.id;l["a"].show(i)},isShowing:function e(){return c}}},"9Fa8":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=o.a.Gesture.augment((function(e){var t=false;this.defaults={radiusThreshold:10,timeThreshold:510,touches:1,precedence:4,preventDefault:false,which:1,interval:10};this.on=function(e){this.count=0;o()(e).longtap({id:this.id,options:{precedence:this.options.precedence,preventDefault:this.options.preventDefault,touches:this.options.touches,which:this.options.which,areaThreshold:this.options.areaThreshold,timeThreshold:this.options.timeThreshold,interval:this.options.interval},start:this.longtapStart.bind(this),update:this.longtapUpdate.bind(this),cancel:this.longtapCancel.bind(this),end:this.longtapEnd.bind(this)}).swipe({id:this.id,options:{precedence:this.options.precedence+1,preventDefault:this.options.preventDefault,radiusThreshold:this.options.radiusThreshold,touches:this.options.touches},start:this.swipeStart.bind(this),update:this.swipeUpdate.bind(this),end:this.swipeEnd.bind(this),cancel:this.swipeCancel.bind(this)})};this.off=function(e){o()(e).off("longtap",this.id);o()(e).off("swipe",this.id)};this.longtapStart=function(){t=false};this.longtapUpdate=function(e,n){100===n.percentage&&(t=true)};this.longtapEnd=function(){this.binder.cancel()};this.longtapCancel=function(){t||this.binder.cancel()};this.swipeStart=function(e,n){var r=i()(e.target).is("input, textarea");t&&!r?this.binder.start(e,n):t&&r&&(t=false)};this.swipeUpdate=function(e,n){t&&this.binder.update(e,n)};this.swipeEnd=function(e,n){if(t){r();this.binder.end(e,n);t=false}};this.swipeCancel=function(){t=false;this.binder.cancel()};function n(){e.apply(this,arguments)}function r(){var e;function t(){document.removeEventListener("mousedown",n,true);document.removeEventListener("mousemove",r,true);document.removeEventListener("mouseup",i,true)}function n(e){e.preventDefault();e.stopPropagation()}function r(e){e.preventDefault();e.stopPropagation()}function i(n){n.preventDefault();n.stopPropagation();t();clearTimeout(e)}document.addEventListener("mousedown",n,true);document.addEventListener("mousemove",r,true);document.addEventListener("mouseup",i,true);e=setTimeout(t,350)}return n}));o.a.gestures.add("longtapswipe",s)},"9Ib8":function(e,t,n){"use strict";var r=n("7WGe");function i(e){return r["a"].get(e)}function a(e,t){return e.getProperties().then((function(n){n.qMetaDef.annotation=t;e.setProperties(n)}))}t["a"]={getSnapshotModel:i,saveAnnotationInModel:a}},"9K2m":function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case d:case f:case o:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof,e){case u:case p:case g:case m:case c:return e;default:return t}}case a:return t}}}function C(e){return x(e)===f}t.AsyncMode=d;t.ConcurrentMode=f;t.ContextConsumer=u;t.ContextProvider=c;t.Element=i;t.ForwardRef=p;t.Fragment=o;t.Lazy=g;t.Memo=m;t.Portal=a;t.Profiler=l;t.StrictMode=s;t.Suspense=h;t.isAsyncMode=function(e){return C(e)||x(e)===d};t.isConcurrentMode=C;t.isContextConsumer=function(e){return x(e)===u};t.isContextProvider=function(e){return x(e)===c};t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i};t.isForwardRef=function(e){return x(e)===p};t.isFragment=function(e){return x(e)===o};t.isLazy=function(e){return x(e)===g};t.isMemo=function(e){return x(e)===m};t.isPortal=function(e){return x(e)===a};t.isProfiler=function(e){return x(e)===l};t.isStrictMode=function(e){return x(e)===s};t.isSuspense=function(e){return x(e)===h};t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===l||e===s||e===h||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===w||e.$$typeof===S||e.$$typeof===b)};t.typeOf=x},"9TP3":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("mXGw");var i=n.n(r);var a=n("PX8M");function o(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}function l(e,t){return p(e)||f(e,t)||u(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function p(e){if(Array.isArray(e))return e}function h(e,t){var n=Object(r["useState"])(),i=l(n,2),o=i[0],c=i[1];var u=Object(r["useState"])(),d=l(u,2),f=d[0],p=d[1];Object(r["useEffect"])((function(){var n=true;function r(){return i.apply(this,arguments)}function i(){i=s(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function r(o){while(1)switch(o.prev=o.next){case 0:o.prev=0;o.next=3;return a["a"].getApp(e,t);case 3:i=o.sent;n&&c(i);o.next=10;break;case 7:o.prev=7;o.t0=o["catch"](0);n&&p(o.t0);case 10:case"end":return o.stop()}}),r,null,[[0,7]])})));return i.apply(this,arguments)}r();return function(){n=false}}),[e,t]);return[o,f]}},"9a/l":function(e,t,n){"use strict";var r=n("acVu");var i={getHyperCubeBinnedData:true,search:true,bookmarks:true,selectionInsights:true,qMiniChartDef:true};var a={boxplot:true,histogram:true,distributionplot:true,"pivot-table":true,treemap:true,"qlik-trellis-container":true,"qlik-variance-waterfall":true,"sn-org-chart":true,"qlik-date-picker":true};var o;var s=function e(){var t;return!!((null===(t=o)||void 0===t?void 0:t.qIsBDILiveMode)&&Object(r["b"])("BDI_CLIENT_ADAPT"))};var l={init:function e(t){o=t},adaptationsEnabled:function e(){return s()},getBlacklist:function e(){return s()?i:{}},isFeatureBlacklisted:function e(t){return!!s()&&!!i[t]},isChartBlacklisted:function e(t){return!!s()&&!!a[t]}};t["a"]=l},"9cJ9":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("sWge");var o=n("zkWp");var s=n("acVu");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function u(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}var d=function(){function e(t){l(this,e);this.properties={type:"odaglink",data:{id:"",name:"",templateApp:"",rowEstExpr:"",privileges:[],properties:{rowEstRange:[{context:"*",highBound:null}],genAppLimit:[{context:"User_*",limit:5}],appRetentionTime:[{context:"User_*",retentionTime:""}],publishTo:[],targetSheet:[{context:"User_*",sheetId:""}]},tags:[]}};i.a.extend(true,this.properties.data,t)}u(e,[{key:"getProperties",value:function e(){return a["a"].resolve(this.properties)}},{key:"create",value:function e(t){return o["a"].createODAGLink(t,this.properties.data)}}],[{key:"getLinkedObjects",value:function e(){return a["a"].resolve([])}},{key:"get",value:function t(n,r){return o["a"].loadODAGLink(r,n).then((function(t){var n=Object(s["b"])("ODAG_SAAS_ENABLED")?t:t.objectDef;var r=new e(n);return r}))}},{key:"getList",value:function t(n,r){return o["a"].getODAGLinks(n,r).then((function(t){var r=[];for(var i=0;i<t.length;i++){var a=t[i];if(a&&a.link)if("decommissioned"===a.link.status)o["a"].removeODAGAppLinkWithODAGLinkId(n,a.link.id);else{var s=new e(a.link);r.push(s)}}return r}))}}]);return e}();t["a"]=d},"9erv":function(e,t,n){"use strict";var r=n("sWge");var i=n("1zeS");var a={list:[],extensionListAvailable:false};var o=null;a.getList=function(e){var t=this;function n(e){i["a"].getCloudExtensions().then((function(n){t.extensionListAvailable=true;t.list=[];for(var r in n){var i=n[r];if(i.name&&i.loadpath&&i.id){i.cloud=true;t.list.push({id:i.qextFilename||i.name,data:i,path:"extensions/".concat(i.qextFilename,"/").concat(i.loadpath)})}}e.resolve(t.list)}),(function(){t.extensionListAvailable=false;t.list=[];e.resolve(t.list)}));return e.promise}if(null===o){o=new r["a"];return n(o)}if(e)return n(new r["a"]);return o.promise};a.areCloudExtensionsAvailable=function(){var e=this;return this.getList().then((function(){return e.extensionListAvailable}))};t["a"]=a},"9oDI":function(e,t,n){"use strict";var r={SYMBOLS:{FUNCTION:{LEFT:"(",RIGHT:")"},FIELD:{LEFT:"[",RIGHT:"]"},STRING:{LEFT:"'",RIGHT:"'"}},OPERATORS:{SINGLES:["=","+","-","*","/","<",">","&"],MULTIPLES:["<=",">=","<>",">>","<<"],WORDS:["precedes","follows","bitnot","bitand","bitor","bitxor","not","and","or","xor","like"]},COMMON_FUNCTIONS:["sum","count","avg","min","max"],FALLBACK_FUNCTION:"count",QUALIFIERS:["total","distinct","nodistinct"]};t["a"]=r},A44O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Rg34"),i=function(){function e(){}return e.render=function(e,t){var n=r.compile(e,{noEscape:!0})(t);return n},e}();t.TemplateRunner=i},AHUl:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a={};var o=function e(){return i.a.extend.apply(i.a,[true].concat(Array.prototype.slice.call(arguments)))};var s=i.a.isPlainObject;var l=Array.isArray;var c=function e(t){return"undefined"===typeof t};var u=function e(t){return"function"===typeof t};function d(e){e&&(e=o({},{val:e}).val);return e}function f(e,t){return u(e[t])||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function p(e,t){var n="/";var r=t.substring(1).split(n).slice(0,-1);var i;r.forEach((function(t,n){if(n===r.length)return;i=+t;e[i||t]=c(e[i||t])?Number.isNaN(+i)?{}:[]:e[t];e=e[i||t]}));return e}function h(e){Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);n.configurable&&!f(e,t)&&delete e[t]}))}function v(e,t){if(s(e)&&s(t)){if(Object.keys(e).length!==Object.keys(t).length)return false;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!v(e[i],t[i]))return false}return true}if(l(e)&&l(t)){if(e.length!==t.length)return false;for(var a=0,o=e.length;a<o;a++)if(!v(e[a],t[a]))return false;return true}return e===t}function m(e,t,n){var r=[];var i=e.slice();var o;var s;var l=-1;function u(e,t,n){if(e[n]&&c(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var r=0,i=e.length;r<i;r++)if(e[r]&&e[r].qInfo.qId===t)return r;return-1}if(v(t,i))return r;if(null===t[0]||!c(t[0])&&c(t[0].qInfo)){r.push({op:"replace",path:n,value:t});return r}for(o=i.length-1;o>=0;--o){l=u(t,i[o]&&i[o].qInfo&&i[o].qInfo.qId,o);if(-1===l){r.push({op:"remove",path:"".concat(n,"/").concat(o)});i.splice(o,1)}else r=r.concat(a.generate(i[o],t[l],"".concat(n,"/").concat(o)))}for(o=0,s=t.length;o<s;++o){l=u(i,t[o]&&t[o].qInfo&&t[o].qInfo.qId);if(-1===l){r.push({op:"add",path:"".concat(n,"/").concat(o),value:t[o]});i.splice(o,0,t[o])}else if(l!==o){r.push({op:"move",path:"".concat(n,"/").concat(o),from:"".concat(n,"/").concat(l)});i.splice(o,0,i.splice(l,1)[0])}}return r}a.generate=function(e,t,n){n=n||"";var r=[];Object.keys(t).forEach((function(i){var o=d(t[i]);var u=e[i];var p="".concat(n,"/").concat(i);if(v(o,u)||f(t,i))return;c(u)?r.push({op:"add",path:p,value:o}):s(o)&&s(u)?r=r.concat(a.generate(u,o,p)):l(o)&&l(u)?r=r.concat(m(u,o,p)):r.push({op:"replace",path:"".concat(n,"/").concat(i),value:o})}));Object.keys(e).forEach((function(i){c(t[i])&&!f(e,i)&&r.push({op:"remove",path:"".concat(n,"/").concat(i)})}));return r};a.apply=function(e,t){t.forEach((function(t){var n=p(e,t.path);var r=t.path.split("/").splice(-1)[0];var i=r&&Number.isNaN(+r)?n[r]:n[+r]||n;var a=t.from?t.from.split("/").splice(-1)[0]:null;if("add"===t.op||"replace"===t.op)if(l(n)){"-"===r&&(r=n.length);n.splice(+r,"add"===t.op?0:1,t.value)}else if(l(i)&&l(t.value)){var c=t.value.slice();i.length=0;i.push.apply(i,c)}else if(s(i)&&s(t.value)){h(i);o(i,t.value)}else n[r]=t.value;else if("move"===t.op){var u=p(e,t.from);if(l(n))n.splice(+r,0,u.splice(+a,1)[0]);else{n[r]=u[a];delete u[a]}}else"remove"===t.op&&(l(n)?n.splice(+r,1):delete n[r])}))};a.clone=function(e){return o({},e)};a.createPatch=function(e,t,n){var r={op:e.toLowerCase(),path:n};"move"===r.op?r.from=t:"undefined"!==typeof t&&(r.value=t);return r};a.updateObject=function(e,t){if(!Object.keys(e).length){o(e,t);return}a.apply(e,a.generate(e,t))};t["a"]=a},AJ0W:function(e,t,n){"use strict";var r;t["a"]={setServerNodeId:function e(t){r=t},getServerNodeId:function e(){return r}}},ATUZ:function(e,t,n){"use strict";var r='<div class="lui-dialog qv-custom-association-warning-dialog" tid="dm-custom-association-warning-dialog">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title">{{context.warningTitle}}</div>\n\t</div>\n\t<div class="lui-dialog__body dm-main">\n\t\t<div class="message-part1">{{context.warningMsg1}}</div>\n\t\t<div class="message-part2">{{context.warningMsg2}}</div>\n\t</div>\n\t<div class="lui-dialog__footer">\n\t\t<lui-button tid="dm-custom-association-warning-dialog-Cancel" ng-click="cancelClicked()" q-translation="Common.Cancel"></lui-button>\t\t\t\n\t\t<lui-button tid="dm-custom-association-warning-dialog-OK" ng-click="breakAssociationClicked()" ng-disabled="isOkDisabled()" q-translation="Common.OK"></lui-button>\n\t</div>\n</div>\n';var i=t["a"]={template:r,scope:{context:"="},controller:["$scope",function(e){e.context.close=function(){e.destroyComponent();e.deferredResult.resolve()};e.breakAssociationClicked=function(){e.context.breakAssociation();e.context.close()};e.cancelClicked=function(){e.context.close()}}]}},AWT7:function(e,t,n){"use strict";var r=n("acVu");var i=n("sWge");var a=n("mWu2");function o(){var e=this;this.tabs=null;this.activeTab=null;this.fullMode=true;this.query="";this.table="All";this.dynamicView=null;this.tabExpanded=false;this.expandTab=function(e){this.activeTab=e;this.tabExpanded=true};a["default"].getService("$rootScope").$on("openVisualizationSection",(function(t,n){e.openSection(n)}))}o.prototype.setTabs=function(e){this.tabs=e};o.prototype.activateTab=function(e){if(e.loading)return;if(this.activeTab&&e.id===this.activeTab.id&&this.tabExpanded){this.tabExpanded=false;this.query=""}else this.expandTab(e)};o.prototype.getActiveTabId=function(){return this.activeTab&&this.tabExpanded?this.activeTab.id:null};o.prototype.openSection=function(e){for(var t=0;t<this.tabs.length;++t){var n=this.tabs[t];var r=n.openSection(e);if(r){this.expandTab(n);return true}}return false};o.prototype.resize=function(e){null!=this.activeTab&&this.activeTab.resize(e)};var s=o;var l=n("+GbC");function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function d(e,t,n){t&&u(e.prototype,t);n&&u(e,n);return e}a["default"].componentDirective("qvaAssetsTab",{tab:"=qvaAssetsTab"});var f=function(){function e(t){c(this,e);this.component=t.component;this.id=t.id;this.name=t.name;this.longname=t.longname;this.hasTableFilter=t.hasTableFilter;this.hasDynamicViewFilter=t.hasDynamicViewFilter;this.haveManageDataButtons=t.haveManageDataButtons;this.button=t.button;l["a"].create(this,"Resize")}d(e,[{key:"resize",value:function e(t){this.Resize.emit(t)}},{key:"openSection",value:function e(){return false}}]);return e}();function p(e){p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return p(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function m(e,t,n){t&&v(e.prototype,t);n&&v(e,n);return e}function g(e,t,n){g="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=b(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return g(e,t,n||e)}function b(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=E(e);if(null===e)break}return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return w(e,t)}function S(e){var t=q();return function n(){var r=E(e),i;if(t){var a=E(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return x(this,i)}}function x(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return E(e)}var I=function(e){y(n,e);var t=S(n);function n(e){var r;h(this,n);e.component={template:'<div id="{{tab.id}}" class="assets-tab"><qv-assets-section section="tab.section"></qv-assets-section></div>',controller:function e(){}};r=t.call(this,e);r.section=e.section;return r}m(n,[{key:"resize",value:function e(t){g(E(n.prototype),"resize",this).call(this,t);this.section.resize(t)}},{key:"openSection",value:function e(t){return this.section.id===t}},{key:"hitCount",get:function e(){return this.section.matchCount?this.section.matchCount:""}}]);return n}(f);var k='<div id="{{tab.id}}" class="assets-tab">\n  <section class="qui-toolssectionframe" class="accordion" id="libAccordion">\n    <header ng-repeat-start="section in tab.sections" ng-if="!section.hidden" data-accordion-name="{{section.name}}" tid="accordion-header-{{section.id}}" ng-hide="tab.hiddenHeaders" >\n      <div class="active-marker"></div>\n      <div class="header-content">\n        <div ng-if="section.icon" class="icon {{section.icon}}"></div>\n        <h2 class="section-name" q-translation="{{section.title}}"></h2>\n        <qv-outlined-search-hit-indicator count="section.matchCount"></qv-outlined-search-hit-indicator>\n      </div>\n    </header>\n\n    <div class="assets-section-items" ng-if="!section.hidden" ng-repeat-end>\n      <qv-assets-section section="section"></qv-assets-section>\n    </div>\n  </section>\n</div>\n';function A(e){A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return A(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function O(e,t,n){t&&D(e.prototype,t);n&&D(e,n);return e}function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&M(e,t)}function M(e,t){M=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return M(e,t)}function P(e){var t=F();return function n(){var r=_(e),i;if(t){var a=_(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return N(this,i)}}function N(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}function j(e,t){var n=e.tab;e.$evalAsync((function(){var r=t.find("#libAccordion");var i=r.find("header");var o=t.find(".assets-tab");o.css("min-height",n.minHeight);var s=n.activeIndex;var l;var c;r.accordion({fillSpace:true,heightStyle:"fill",animate:!("ontouchstart"in window)&&"swing",active:s,beforeActivate:function t(o,u){s=i.index(u.newHeader);l=u.oldPanel.height();c=u.oldPanel.width();n.sections[s].resize({height:l,width:c});a["default"].$apply(e);r.addClass("animating")},activate:function e(){n.sections[s].resize({height:l,width:c});r.removeClass("animating");var t=r.accordion("option","active");n.activeIndex=t}});function u(){r.accordion("option","active",n.activeIndex)}function d(){r.accordion("refresh");n.activeIndex>-1&&n.sections[n.activeIndex].resize()}n.Activate.bind(u);n.Resize.bind(d);e.$on("$destroy",(function(){n.Activate.unbind(u);n.Resize.unbind(d)}))}))}var B=function(e){L(n,e);var t=P(n);function n(e){var r;T(this,n);e.component={template:k,controller:["$scope","$element",j]};r=t.call(this,e);r.activeIndex=-1;if(e.sections){r.sections=e.sections;r.activeIndex=r.sections.length-1}else{r.sections=[];r.loading=true;e.sectionsPromise.then((function(e){r.loading=false;r.sections=e;r.activeIndex=r.sections.length-1;r.minHeight=38*r.sections.length+270}))}l["a"].create(R(r),"Activate");return r}O(n,[{key:"openSection",value:function e(t){for(var n=0;n<this.sections.length;++n){var r=this.sections[n].id===t;if(r){this.activeIndex=n;this.Activate.emit(n);return true}}return false}},{key:"hitCount",get:function e(){var t=0;for(var n=0;n<this.sections.length;++n)t+=this.sections[n].matchCount;return t}}]);return n}(f);var V=n("czhI");var H=n.n(V);var z=n("MGTR");var $=n("/2No");var U=n("6uJb");var G=n("z4LI");var W=n("hE/5");var Q=n("qIEf");var K=n.n(Q);var Y=n("3ex9");function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function X(e,t,n){t&&Z(e.prototype,t);n&&Z(e,n);return e}var ee=function(){function e(t){J(this,e);this.list=[];this.assets=t;this.loading=true;this.$scope=a["default"].$rootScope.$new(true);this.$scope.assets=t;l["a"].create(this,"Resize");this.bindWatches()}X(e,[{key:"destroy",value:function e(){this.$scope.$destroy()}},{key:"initLoadData",value:function e(){}},{key:"onLoadData",value:function e(){}},{key:"doFilter",value:function e(t){return t.slice()}},{key:"bindWatches",value:function e(){this.$scope.$watch("assets.query",this.onFilter.bind(this))}},{key:"onFilter",value:function e(){var t=this.doFilter(this.list);this.items=t;this.matchCount=this.assets.query?t.length:0}},{key:"resize",value:function e(t){this.Resize.emit(t)}},{key:"addItemToSheetOrActiveObject",value:function e(t){Y["a"].itemDblClickHandler(t)}},{key:"openContextMenu",value:function e(){}},{key:"openPreview",value:function e(t,n){this.previewManager.open(t,this.assets.query,K()(n.currentTarget))}},{key:"closePreview",value:function e(){this.previewManager.close()}}]);return e}();var te=n("qdvy");var ne=n("Oi6C");var re=n("2n0V");var ie=n("8IgQ");var ae=n("4nJ1");var oe=n("9a/l");function se(e){return{id:"newObject",args:{template:e.template,init:{}}}}var le={create:function e(t){var n=new i["a"];ie["a"].load().then((function(){var e=re["a"].getRegisteredNames();var r=e.filter((function(e){return!oe["a"].isChartBlacklisted(e)})).map((function(e){var t=ae["a"].extend(true,{},re["a"].getType(e).getLibraryInfo());t.getDropOption=se.bind(null,t);le.translateName(t,U["default"].get);le.translateDescription(t,U["default"].get);return t})).filter((function(e){return e.visible&&"visualization"!==e.type&&"charts"===t||"visualization"===e.type&&"extensions"===t}));r.forEach((function(e){e.type="template"}));n.resolve(r)}));return n.promise},translateName:function e(t,n){if(!t)throw new TypeError("No item passed");if("function"!==typeof n)throw new TypeError("No translation function passed");t.translationKey&&(t.name=n(t.translationKey))},translateDescription:function e(t,n){if(!t)throw new TypeError("No item passed");if("function"!==typeof n)throw new TypeError("No translation function passed");t.descriptionKey&&(t.description=n(t.descriptionKey))}};var ce=le;var ue='<lui-popover id="library-preview" class="template-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<div ng-show="input.hasImage" class="template-image-container">\n\t\t\t<img ng-src="{{input.imageUrl}}">\n\t\t</div>\n\t\t<i ng-show="!input.hasImage" class="template-icon  lui-icon  lui-icon--{{input.icon}}"></i>\n\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag}}">{{tag}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n';function de(e){var t={template:ue,controller:["$scope",function(t){t.input=e}],dock:"right",alignTo:e.alignTo[0]};return a["default"].getService("luiPopover").show(t)}var fe={show:de};function pe(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){pe(a,r,i,o,s,"next",e)}function s(e){pe(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function ge(e,t,n){t&&me(e.prototype,t);n&&me(e,n);return e}var be=function(){function e(){ve(this,e)}ge(e,null,[{key:"getWarnings",value:function(){var e=he(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:t="".concat($["a"].rootPath,"api/dbws/deployment-warnings");i.prev=1;i.next=4;return H.a.get(t);case 4:n=i.sent;r=n.data;return i.abrupt("return",r);case 9:i.prev=9;i.t0=i["catch"](1);return i.abrupt("return",{});case 12:case"end":return i.stop()}}),e,null,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"showCloudExtensionWarning",value:function(){var t=he(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return e.getWarnings();case 3:n=r.sent;return r.abrupt("return",Boolean(n.showCloudExtensionWarning));case 7:r.prev=7;r.t0=r["catch"](0);return r.abrupt("return",false);case 10:case"end":return r.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()}]);return e}();var ye=be;var we=n("U7Ny");function Se(e){Se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Se(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function qe(e,t,n){t&&Ce(e.prototype,t);n&&Ce(e,n);return e}function Ee(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Ie(e,t)}function Ie(e,t){Ie=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Ie(e,t)}function ke(e){var t=De();return function n(){var r=Oe(e),i;if(t){var a=Oe(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Ae(this,i)}}function Ae(e,t){if(t&&("object"===Se(t)||"function"===typeof t))return t;return Te(e)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Oe(e){Oe=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Oe(e)}var Le=function(e){Ee(n,e);var t=ke(n);function n(e,i,a,o){var s;xe(this,n);s=t.call(this,e);s.id=W["a"].sectionIDs.template;s.list=[];s.name="template";s.templateType=i||"charts";s.bundle=a;s.bundleInfo=o;"charts"===s.templateType&&(s.title="Common.Charts");if("extensions"===s.templateType){s.id=W["a"].sectionIDs.extensions;s.title="Common.Extensions";s.infoTitle=U["default"].get("Common.ExtensionsInfoTitle");s.description=U["default"].get("Common.ExtensionsDescription");s.hasMetaInfo=true;s.shouldShowCloudExtensionsWarning=false;var l=Te(s);if(Object(r["b"])("HAS_QRS")){var c={url:"".concat($["a"].rootPath,"api/about/v1/systeminfo"),headers:{"x-qlik-capabilities":"about"},method:"GET"};s.bundle||H()(c).then((function(e){var t=e.data;t.deploymentType&&"QlikSenseServer"===t.deploymentType&&ye.showCloudExtensionWarning().then((function(e){l.shouldShowCloudExtensionsWarning=e;s.infoExpanded=e}))}))}s.cloudExtensionWarning=U["default"].get("Object.WarningMessage.Cloud.Extensions.NotAvailable")}if(s.bundle&&s.bundleInfo){s.id=s.bundle;s.title=s.bundleInfo.name;s.infoTitle=U["default"].get("AssetsPanel.Widgets.libraryInfoHeading",s.bundleInfo.name);s.description=s.bundleInfo.description}s.tooltip="charts"===s.templateType?"":"Common.Extensions";s.initPreviewManager();s.initLoadData();return s}qe(n,[{key:"initLoadData",value:function e(){ce.create(this.templateType).then(this.onLoadData.bind(this))}},{key:"initPreviewManager",value:function e(){function t(e){z["a"].publish("/ui/library/addToSheet",{item:e})}function n(e){var n=e.item;var r={query:e.query,name:n.name,description:n.descriptionKey?U["default"].get(n.descriptionKey):n.description,imageUrl:n.previewIconURL,hasImage:!!n.previewIconURL,icon:n.icon,tags:n.tags||[]};r.buttons=[te["a"].buttonAddToSheet(t,e.closePreview,n,Y["a"].isAddToSheetMode())];r.close=e.closePreview;te["a"].alignPreview(r,e.$element);return fe.show(r)}this.previewManager=te["a"].previewManagerFactory({getSlowInfo:function e(t){var n=new i["a"];var r=document.createElement("IMG");var a=new Image;a.onload=function(){r.src=this.src;r.parentNode&&r.parentNode.removeChild(r);n.resolve()};a.onerror=function(){r.parentNode&&r.parentNode.removeChild(r);n.resolve()};a.src=t.previewIconURL;return n.promise},createPreview:n,itemDialogHandler:ne["a"],State:G["a"]})}},{key:"isValid",value:function e(t){if(!Object(r["b"])("HAS_QRS")&&!Object(r["b"])("IS_DESKTOPCLIENT")&&"qlik-on-demand-reporting"===t.id)return false;if(!t.deprecated)return true;var n=new Date(t.deprecated);return Number.isNaN(+n)||Date.now()<n}},{key:"onLoadData",value:function e(t){var n=this;this.loading=false;for(var r=0;r<t.length;++r)t[r].id=t[r].template;var i=this.bundle;var a=t.filter((function(e){return i?!!e.bundle&&e.bundle.id===i&&n.isValid(e):!e.bundle}));0===a.length&&this.bundle&&(this.hidden=true);this.list=Y["a"].localeOrderBy(a,(function(e){return e.name}));this.onFilter()}},{key:"doFilter",value:function e(t){var n=this.assets.query;return t.filter((function(e){return e.isLibraryItem&&Y["a"].librarySearchFn(e,n)}))}},{key:"openContextMenu",value:function e(t,n){if(!Y["a"].isAddToSheetMode())return;var r=a["default"].getService("qvContextMenu").menu();t.selected||Y["a"].toggleSelection(t,n);r.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){z["a"].publish("/ui/library/addToSheet",{item:t})}});ne["a"].openContextMenu(r,t,n)}}]);return n}(ee);var Me=n("PKO5");function Pe(e){Pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Pe(e)}function Ne(e){if("object"!==Pe(e))throw new Error("assets")}function Re(e){if("string"!==typeof e)throw new Error("fieldName")}function Fe(e,t,n,r){Ne(n);Re(r);Me["a"][e](r,(function(){n.openSection(t)}))}var _e={addFieldAsDimension:Fe.bind(null,"showAddDimensionDialog",W["a"].sectionIDs.dimension),addFieldAsMeasure:Fe.bind(null,"showAddMeasureDialog",W["a"].sectionIDs.measure)};var je=n("k+Ch");var Be=n("sCDE");var Ve=n("TmCs");var He='<lui-popover id="library-preview" class="field-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.displayName ? input.displayName : input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<div ng-if="input.sourceField">\n\t\t\t<h2><span q-translation="library.preview.header.source-field">&nbsp;</span></h2>\n\n\t\t\t<p class="sourcefield">{{input.sourceField}}</p>\n\t\t</div>\n\n\t\t<h2><span q-translation="library.preview.header.table">&nbsp;</span></h2>\n\t\t<ul class="tables">\n\t\t\t<li ng-repeat="table in input.tables">{{table}}</li>\n\t\t</ul>\n\t\t<h2 ng-if="input.typeTranslationKey"><span q-translation="assets.preview.header.fieldtype">&nbsp;</span></h2>\n\n\t\t<p ng-if="input.typeTranslationKey" class="field-type" q-translation="{{input.typeTranslationKey}}">&nbsp;</p>\n\n\t\t<div ng-if="input.calendarTemplateName">\n\t\t\t<h2><span q-translation="{{input.isDerivedFromDate ? \'library.preview.header.calendar-template\' : \'library.preview.header.field-template\'}}">&nbsp;</span></h2>\n\n\t\t\t<p class="calendar-template">{{input.calendarTemplateName}}</p>\n\t\t</div>\n\n\t\t<div ng-if="input.derivedCalendars && input.derivedCalendars.length > 0">\n\t\t\t<h2><span q-translation="{{input.isDateField ? \'library.preview.header.applied-calendars\' : \'library.preview.header.applied-field-templates\'}}">&nbsp;</span></h2>\n\t\t\t<ul class="tables">\n\t\t\t\t<li ng-repeat="cal in input.derivedCalendars">{{cal}}</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div ng-if="input.isSingleSelectSupported && input.alwaysOneSelected">\n\t\t\t<h2 q-translation="library.preview.singleSelect.header">&nbsp;</h2>\n\t\t\t<ul class="tables">\n\t\t\t\t<li ng-if="input.alwaysOneSelected" q-translation="Common.Enabled">&nbsp;</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>';function ze(e){var t={template:He,controller:["$scope",function(t){t.input=e}],dock:"right",alignTo:e.alignTo[0]};return a["default"].getService("luiPopover").show(t)}var $e={show:ze};var Ue=n("JUQR");var Ge=n("NFdj");var We=n.n(Ge);var Qe='<lui-dialog id="calendar-measures-dialog">\n\t<lui-dialog-header q-translation="Dialog.CalendarFlags.Title"></lui-dialog-header>\n\t<lui-dialog-body>\n\n\t\t<qv-spinner class="spinner" show="!initialized" show-delay="100" show-for-at-least="300" spinner-height="250px" spinner-width=250px" center-in-parent="true"></qv-spinner>\n\n\t\t<div class="body error-message" ng-if="initialized && missingStateErrorMessage">\n\t\t\t{{missingStateErrorMessage}}\n\t\t</div>\n\n\t\t<div class="body" ng-if="initialized && !missingStateErrorMessage">\n\n\t\t\t<div class="left-side">\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.DateField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedDate" x-options="field as field.qName for field in dateFields"></lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.AggregatedField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedMeasure" x-options="field as field.qName for field in measures">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.AggregationField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedAggregation" x-options="aggregation as aggregation for aggregation in aggregations">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.TimeCycleField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedMeasureType" x-disabled="measureTypes.length === 0" x-options="measureType as measureType.name for measureType in measureTypes">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="right-side">\n\n\t\t\t\t<div class="details-toggle-container">\n\t\t\t\t\t<div class="details-toggle-container-left-side">\n\t\t\t\t\t\t<div class="preview-title" q-translation="Dialog.CalendarFlags.PreviewMeasuresTitle"></div>\n\t\t\t\t\t\t<div class="details-text" ng-if="!viewModel.previewsExpanded" q-translation="Dialog.CalendarFlags.PreviewDetailsOff"></div>\n\t\t\t\t\t\t<div class="details-text" ng-if="viewModel.previewsExpanded" q-translation="Dialog.CalendarFlags.PreviewDetailsOn"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<lui-switch x-model="viewModel.previewsExpanded"></lui-switch>\n\t\t\t\t</div>\n\n\t\t\t\t<div style="position: relative; flex: 1">\n\t\t\t\t\t<qv-spinner class="spinner" show="previewsLoading || measuresCreating" show-delay="200" show-for-at-least="1000" spinner-height="150px" spinner-width="150px" center-in-parent="true"></qv-spinner>\n\n\t\t\t\t\t<div class="measure-container qv-animate" ng-hide="previewsLoading">\n\t\t\t\t\t\t<div ng-repeat="measure in previewMeasures" class="measure">\n\t\t\t\t\t\t\t<lui-checkbox x-model="previewSelectionModel[measure.name].selected" ng-if="!measure.alreadyExists" title="{{measure.name}}">{{measure.name}}</lui-checkbox>\n\t\t\t\t\t\t\t<div class="label" ng-if="measure.alreadyExists" title="{{measure.name}}">\n\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--tick checkmark"></span>\n\t\t\t\t\t\t\t\t<lui-label>{{measure.name}}</lui-label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input class="lui-input measure-preview" ng-model="measure.expr" readonly="true" title="{{measure.expr}}" ng-if="viewModel.previewsExpanded"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div ng-if="inlineErrorMessage && previewMeasures.length === 0" class="inline-error">\n\t\t\t\t\t\t{{inlineErrorMessage}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\n\n\t\t\t\t<lui-button class="create-measure-button" ng-click="createMasterMeasures()" q-translation="Dialog.CalendarFlags.SaveToMasterItems" tid="add_to_master" ng-disabled="!isAddToMasterLibraryEnabled()"></lui-button>\n\n\t\t\t</div>\n\n\t\t</div>\n\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="cancel()" q-translation="Common.Close" tid="close"></lui-button>\n\n\t</lui-dialog-footer>\n</lui-dialog>\n';var Ke=n("PX8M");var Ye=n("TZGQ");var Je=n("AJ0W");function Ze(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ze(a,r,i,o,s,"next",e)}function s(e){Ze(a,r,i,o,s,"throw",e)}o(void 0)}))}}var et;function tt(e,t){if("3.0.0"===t.spec.openapi){var n={requestBody:e.body,server:t.spec.servers[0].url};delete e.body;return n}return}function nt(){return rt.apply(this,arguments)}function rt(){rt=Xe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:if(et){t.next=4;break}t.next=3;return Ye["a"].getApi("api/dataprepservice/v1","openapi",void 0,void 0,void 0,void 0,Je["a"].getServerNodeId());case 3:et=t.sent;case 4:return t.abrupt("return",et);case 5:case"end":return t.stop()}}),e)})));return rt.apply(this,arguments)}function it(e,t,n,r,i,a){return at.apply(this,arguments)}function at(){at=Xe(regeneratorRuntime.mark((function e(t,n,r,i,a,o){var s,l,c,u;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return nt();case 2:s=d.sent;if(!(s&&s.apis.assets)){d.next=10;break}l={appId:ae["a"].getParameterByName("app"),body:{topic:"timeCycleAnalysis",calendarField:t,measure:{field:n,aggr:r},addOnly:o,addToLibrary:a,assetTypes:i}};c=tt(l,s);d.next=8;return s.apis.assets.generateAssets(l,c);case 8:u=d.sent;return d.abrupt("return",u.body.response);case 10:return d.abrupt("return",void 0);case 11:case"end":return d.stop()}}),e)})));return at.apply(this,arguments)}function ot(){return st.apply(this,arguments)}function st(){st=Xe(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return Ke["a"].getApp();case 2:t=r.sent;r.next=5;return t.getFieldList();case 5:n=r.sent;return r.abrupt("return",Ve["a"].expand(n));case 7:case"end":return r.stop()}}),e)})));return st.apply(this,arguments)}var lt={getAvailableMeasureTypes:function(){var e=Xe(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return it(t,n,r,["measuresYearly","measuresMonthly","measuresQuarterly","measuresWeekly"],false);case 2:i=a.sent;return a.abrupt("return",i.hasPrerequisites);case 4:case"end":return a.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),getMasterMeasures:function e(t,n,r,i){return it(t,n,r,[i],false)},createMasterItems:function e(t,n,r,i,a){return it(t,n,r,[i],true,a)},getDateFields:function(){var e=Xe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return ot();case 2:t=n.sent;return n.abrupt("return",t.filter((function(e){return e.qDerivedFieldData})));case 4:case"end":return n.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getMeasureFields:function(){var e=Xe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return ot();case 2:t=n.sent;return n.abrupt("return",t.filter((function(e){return!e.qDerivedFieldData&&!e.isDerivedFromDate})));case 4:case"end":return n.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()};var ct={template:Qe,controller:["$scope","$q",function(e,t){e.previewsLoading=false;e.measuresCreating=false;e.aggregations=["Sum","Count","Avg","Min","Max"];e.measureTypes=[];e.viewModel={previewsExpanded:false};e.previewSelectionModel={};e.selectionModel={selectedAggregation:"Sum",selectedDate:void 0,selectedMeasure:void 0,selectedMeasureType:void 0};function n(){var n=lt.getDateFields().then((function(t){e.dateFields=t;e.selectedField.isDateField?e.selectionModel.selectedDate=e.dateFields.filter((function(t){return t.qName===e.selectedField.name}))[0]:e.dateFields.length?e.selectionModel.selectedDate=e.dateFields[0]:e.missingStateErrorMessage=U["default"].get("Dialog.CalendarFlags.ErrorMessage.NoDateField")}));var r=lt.getMeasureFields().then((function(t){e.measures=t;e.selectedField.isDateField?e.measures.length?e.selectionModel.selectedMeasure=e.measures[0]:e.missingStateErrorMessage=U["default"].get("Dialog.CalendarFlags.ErrorMessage.NoFields"):e.selectionModel.selectedMeasure=e.measures.filter((function(t){return t.qName===e.selectedField.name}))[0]}));t.all([n,r]).then((function(){e.initialized=true}))}function r(){return lt.getAvailableMeasureTypes(e.selectionModel.selectedDate.qName,e.selectionModel.selectedMeasure.qName,e.selectionModel.selectedAggregation).then((function(t){e.measureTypes=[];Object.keys(t).forEach((function(n){t[n]&&e.measureTypes.push({name:U["default"].get("Dialog.CalendarFlags.".concat(n)),value:n})}));if(e.measureTypes.length>0)if(e.selectionModel.selectedMeasureType){var n=e.measureTypes.filter((function(t){return t.value===e.selectionModel.selectedMeasureType.value}));n.length>0&&(e.selectionModel.selectedMeasureType=n[0])}else e.selectionModel.selectedMeasureType=e.measureTypes[0];else e.selectionModel.selectedMeasureType=void 0}))}var i=function t(){e.previewsLoading=true;lt.getMasterMeasures(e.selectionModel.selectedDate.qName,e.selectionModel.selectedMeasure.qName,e.selectionModel.selectedAggregation,e.selectionModel.selectedMeasureType.value).then((function(t){e.previewMeasures=t.measures;e.previewMeasures.forEach((function(t){e.previewSelectionModel[t.name]||(e.previewSelectionModel[t.name]={selected:true})}))})).finally((function(){e.previewsLoading=false}))};e.createMasterMeasures=function(){var t=e.previewMeasures.filter((function(t){return e.previewSelectionModel[t.name].selected&&!t.alreadyExists}));e.measuresCreating=true;lt.createMasterItems(e.selectionModel.selectedDate.qName,e.selectionModel.selectedMeasure.qName,e.selectionModel.selectedAggregation,e.selectionModel.selectedMeasureType.value,t).finally((function(){e.measuresCreating=false;i();e.assets&&e.assets.openSection(W["a"].sectionIDs.measure);e.$apply()}))};e.isAddToMasterLibraryEnabled=function(){return!e.measuresCreating&&e.previewMeasures&&e.previewMeasures.some((function(t){return e.previewSelectionModel[t.name].selected&&!t.alreadyExists}))};e.$watch("selectionModel",(function(t,n){if(e.missingStateErrorMessage||!e.initialized)return;if(We.a.equals(t,n))return;var a=t.selectedMeasureType;r().then((function(){if(0===e.measureTypes.length){e.previewMeasures=[];e.inlineErrorMessage=U["default"].get("Dialog.CalendarFlags.ErrorMessage.NoTimeCycleFlags")}else a&&i();e.$apply()}))}),true);var a=function t(){e.destroyComponent()};e.cancel=function(){a()};e.addToMaster=function(){a()};n()}]};var ut={component:ct};var dt='<div class="lui-modal-background"></div>\n\n<div class="lui-dialog field-settings-dialog-wrapper" name="fieldSettingsDialog" style="width: 440px;" data-tid="field-settings-dialog">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title">{{fieldSettingsTitle}}</div>\n\t</div>\n\t<div class="lui-dialog__body">\n\n\t\t\x3c!-- Description - TODO: To be added later --\x3e\n\t\t\x3c!-- <div class="field-settings-component">\n\t\t\t<label q-translation="metadata.description" class="qv-metadatalabel">Description:</label>\n\t\t\t<qv-description-textarea\n\t\t\t\tdescription="fieldSettings.description"\n\t\t\t\tdescription-expression="fieldSettings.descriptionExpression"\n\t\t\t\tng-disabled="true"\n\t\t\t\tis-valid="validity.descriptionExpression">\n\t\t\t</qv-description-textarea>\n\t\t</div> --\x3e\n\n\t\t\x3c!-- TODO: Checkbox with Always-one-selected --\x3e\n\t\t\n\t\t<div class="field-settings-component">\n\t\t\t<h1>{{fieldName}}</h1>\n\t\t\t<label class="lui-checkbox" title="{{singleSelectTitle}}">\n\t\t\t\t<input class="lui-checkbox__input" type="checkbox" ng-model="fieldSettings.alwaysOneSelected" tid="always-one-selected" ng-change="change()" ng-disabled="readOnly || fieldSettings.isFetching || singleSelectNotEditable">\n\t\t\t\t<div class="lui-checkbox__check-wrap">\n\t\t\t\t\t<span class="lui-checkbox__check"></span>\n\t\t\t\t\t<span class="lui-checkbox__check-text label" \n\t\t\t\t\t\tng-disabled="readOnly" \n\t\t\t\t\t\tq-translation="field.settings.dialog.singleSelect.label">\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t\t<div ng-if="singleSelectErrorTranslation" class="error">\n\t\t\t\t<span q-translation="{{singleSelectErrorTranslation}}"></span>\n\t\t\t</div>\n\t\t\t<div class="hint" q-translation="field.settings.dialog.singleSelect.disclaimer"></div>\n\n\t\t</div>\n\n\t\t\x3c!-- Pre-selection expression - TODO: To be added later --\x3e\n\t\t\x3c!-- <div class="field-settings-component">\n\t\t\t<qv-expression-input ng-disabled="true" label-translation="Pre-Selection" expression="fieldSettings.preSelectExpression" is-valid-expression="validity.preSelectExpression"></qv-expression-input>\n\t\t</div> --\x3e\n\n\t</div>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" qva-activate="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button" qva-activate="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn" ng-disabled="singleSelectNotEditable"></button>\n\t</div>\n</div>';var ft={validate:pt,getFormData:ht,getErrorCodeTranslation:vt};function pt(){return true}function ht(e){return{alwaysOneSelected:e.fieldSettings.alwaysOneSelected}}function vt(e){var t={1:"field.settings.dialog.singleSelect.error.unknown","A-2":"field.settings.dialog.singleSelect.error.activateNoSelectableValue","A-3":"field.settings.dialog.singleSelect.error.activateSelectableValueFailed","A-4":"field.settings.dialog.singleSelect.error.activateSetFieldProps","D-4":"field.settings.dialog.singleSelect.error.deactivateSetFieldProps"};var n=t["1"];return t[e]||n}var mt=n("yIOy");var gt=n("8wLh");var bt={ERROR_NO_SELECTABLE_VALUE:2,ERROR_COULD_NOT_SELECT_VALUE:3,ERROR_COULD_NOT_SET_FIELD_PROPS:4};var yt={applySingleSelect:At,fetchAndExtendSettings:St};function wt(e,t){var n={};return mt["a"].isSingleSelect(e,t).then((function(e){n.alwaysOneSelected=e;return n}))}function St(e,t,n){n.isFetching=true;return wt(e,t).then((function(e){return ae["a"].extend(true,n,e)})).finally((function(){delete n.isFetching}))}function xt(e,t,n){var r=1;return gt["a"].createTransientField(e.app,t,{qStateName:n}).then((function(e){var t="/qListObjectDef";var n={qTop:0,qLeft:0,qWidth:1,qHeight:r};return e.getListObjectData(t,[n]).then((function(e){var t=e[0].qMatrix;var n=t[0][0];return n.qElemNumber}))}))}function Ct(e,t,n){var r=true;return xt(e,t,n).then((function(t){if("number"===typeof t)return e.clear().then((function(){return e.lowLevelSelect([t],false,r).then((function(e){if(!e)return{success:false,code:bt.ERROR_COULD_NOT_SELECT_VALUE};return{success:true}})).catch((function(){return{success:false,code:bt.ERROR_COULD_NOT_SELECT_VALUE}}))}));return{success:false,code:bt.ERROR_NO_SELECTABLE_VALUE}})).catch((function(){return{success:false,code:bt.ERROR_NO_SELECTABLE_VALUE}}))}function qt(e,t){return e.setNxProperties(t).then((function(){return{success:true}})).catch((function(){return{success:false,code:bt.ERROR_COULD_NOT_SET_FIELD_PROPS}}))}function Et(e){return e.getAppLayout().then((function(e){return["$"].concat(e.qStateNames)}))}function It(e){e=e||[];var t=e.reduce((function(e,t){var n=i["a"].resolve(e);return n.then((function(){return t()}))}),i["a"].resolve());return t}function kt(e,t,n,r){return e.getField(t,n).then((function(e){return e.getNxProperties().then((function(i){var a=i.qOneAndOnlyOne;if(!a&&true===r)return Ct(e,t,n).then((function(t){if(true===t||t.success){i.qOneAndOnlyOne=r;return qt(e,i)}return t}));i.qOneAndOnlyOne=r;return qt(e,i)}))}))}function At(e,t,n,r){r=r||false;if("boolean"!==typeof n)return i["a"].resolve({success:false});function a(i){if(!i.success&&!r)return At(e,t,!n,i.code);return{success:!r&&i.success,code:r||i.code,reverted:!!r&&i.success}}return Et(e).then((function(r){var i=r.map((function(r){return function(){return kt(e,t,r,n)}}));return It(i).then(a)}))}var Tt=n("GWYG");var Dt=n("kS4/");var Ot=n("zEO2");var Lt;var Mt=function e(t){function n(){t.singleSelectNotEditable=false;t.singleSelectTitle=U["default"].get("field.settings.dialog.singleSelect.label");t.confirmLabel=t.confirmLabel||"Common.Save";t.fieldSettingsTitle=U["default"].get("field.settings.dialog.title");yt.fetchAndExtendSettings(t.app,t.fieldName,t.fieldSettings);t.singleSelectErrorTranslation=null}function r(e,n){t.fieldSettings.alwaysOneSelected=!n;t.singleSelectNotEditable=true;var r="".concat(n?"A":"D","-").concat(e);var i=ft.getErrorCodeTranslation(r);t.singleSelectErrorTranslation=i;t.singleSelectTitle=U["default"].get(i)}n();t.cancel=function(){Lt.closed.then((function(){t.destroyComponent()}));Lt.close()};t.confirm=function(){if(ft.validate(t)){var e=ft.getFormData(t);var n=e.alwaysOneSelected;yt.applySingleSelect(t.app,t.fieldName,n).then((function(e){e.success?t.app.global.getConfiguration().then((function(e){e.qFeatures.qAutoSave&&t.app.doSave();Lt.close()})):r(e.code,n)}))}};G["a"].StateChanged.bind(t.cancel);t.$on("$destroy",(function(){G["a"].StateChanged.unbind(t.cancel)}))};var Pt={scope:{},template:dt,controller:["$scope",Mt]};function Nt(e){var t={title:e.name,fieldName:e.name,app:e.app,fieldSettings:{description:e.description,descriptionExpression:e.descriptionExpression,alwaysOneSelected:e.alwaysOneSelected,preSelectExpression:e.preSelectExpression}};Lt=a["default"].getService("luiDialog").show({template:Pt.template,controller:Pt.controller,input:t,closeOnOutside:false,showArrow:false});return Lt}var Rt={show:Nt,controller:Mt};var Ft=n("heHe");var _t=n("p+Qe");var jt=n("crFG");function Bt(e){Bt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Bt(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function zt(e,t,n){t&&Ht(e.prototype,t);n&&Ht(e,n);return e}function $t(e,t,n){$t="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=Ut(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return $t(e,t,n||e)}function Ut(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=Zt(e);if(null===e)break}return e}function Gt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Wt(e,t)}function Wt(e,t){Wt=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Wt(e,t)}function Qt(e){var t=Jt();return function n(){var r=Zt(e),i;if(t){var a=Zt(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Kt(this,i)}}function Kt(e,t){if(t&&("object"===Bt(t)||"function"===typeof t))return t;return Yt(e)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jt(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Zt(e){Zt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Zt(e)}var Xt=function(e){Gt(n,e);var t=Qt(n);function n(e){var i;Vt(this,n);i=t.call(this,e);i.list=[];i.expanded={};i.id=W["a"].sectionIDs.field;i.title="Assets.Section.Fields.Name";i.tid="fields.All";i.dataAlreadyLoaded=false;i.classficationDone=false;i.classifyOnDemandEnabled=Object(r["b"])("CLASSIFY_ON_DEMAND");i.initPreviewManager();i.initLoadData();return i}zt(n,[{key:"bindWatches",value:function e(){$t(Zt(n.prototype),"bindWatches",this).call(this);this.$scope.$watch("assets.table",this.onFilter.bind(this))}},{key:"initLoadData",value:function e(){var t=this;je["a"].getList().then((function(e){t.$scope.listModel=e}));Object(Be["a"])(this.$scope,"listModel",this.onLoadData.bind(this))}},{key:"addItemToSheetOrVisualization",value:function e(t){if(this.classifyOnDemandEnabled&&!this.classficationDone&&"field"===t.type){Y["a"].addItemToSheetOrVisualization(t,void 0,true);this.classficationDone=true}else Y["a"].addItemToSheetOrVisualization(t)}},{key:"initPreviewManager",value:function e(){var t=this;function n(e){t.addItemToSheetOrVisualization(e)}function r(e){_e.addFieldAsDimension(t.assets,e.name)}function a(e){_e.addFieldAsMeasure(t.assets,e.name)}function o(e){var t=[];for(var n=0;n<e.length;n++)t.includes(e[n].derivedDefinitionName)||t.push(e[n].derivedDefinitionName);return t}function s(e){return!e.isDerived}function l(e){var t=e.item;var i=this.$scope;t.app=i.listModel.app;var l=t.derivedFields?o(t.derivedFields):void 0;var c=s(t);var u={query:e.query,name:t.name,displayName:t.displayName,sourceField:t.sourceField,calendarTemplateName:t.calendarTemplateName?t.calendarTemplateName:t.derivedDefinitionName,derivedCalendars:l?Y["a"].localeOrderBy(l.slice()):[],isDerivedFromDate:t.isDerivedFromDate,isDateField:t.isDateField,tables:t.srcTables?Y["a"].localeOrderBy(t.srcTables.slice()):[],typeTranslationKey:Ue["a"].getTypeTranslationKey(t.tags),alwaysOneSelected:false,isSingleSelectSupported:c};c&&(u.alwaysOneSelected=e.modelInfo.isSingleSelect);u.buttons=[te["a"].buttonAddTo(n,e.closePreview,t,Y["a"].getAddToText(),Y["a"].isAddToMode())];Y["a"].permissionToCreate("dimension")&&u.buttons.push(te["a"].buttonAddDimension(r,e.closePreview,t,true));Y["a"].permissionToCreate("measure")&&u.buttons.push(te["a"].buttonAddMeasure(a,e.closePreview,t,true));c&&u.buttons.push(te["a"].buttonFieldSettings(Rt.show,e.closePreview,t,true));u.close=e.closePreview;te["a"].alignPreview(u,e.$element);return $e.show(u)}this.previewManager=te["a"].previewManagerFactory({getSlowInfo:function e(n){var r=new i["a"];var a=t.$scope;var o;o=s(n)?mt["a"].isSingleSelect(a.listModel.app,n.name):i["a"].resolve(false);o.then((function(e){r.resolve({isSingleSelect:e})}));return r.promise},createPreview:l.bind(this),itemDialogHandler:ne["a"],State:G["a"]})}},{key:"createFieldList",value:function e(t,n){this.loading=false;t=Ve["a"].create(t,n);this.list=Y["a"].localeOrderBy(t,(function(e){return e.name}));this.onFilter()}},{key:"classifyFieldList",value:function e(){var t=this;return je["a"].getFieldList().then((function(e){return t.classify(e)}))}},{key:"classify",value:function e(t){var n=this;return jt["a"].getClassification().then((function(e){var r=e?new Ft["a"](e):void 0;n.createFieldList(t,r);return n.list}),(function(){return n.createFieldList(t)}))}},{key:"listModelChanged",value:function e(t){if(!t||!this.items||t.length!==this.items.length)return true;return!this.items.every((function(e){return t.some((function(t){return e.name===t.qName}))}))}},{key:"isAutoChartEnabled",value:function e(){return!Object(r["b"])("DISABLE_AUTO_CHART")&&!_t["a"].isVariableDefined("DISABLE_AUTO_CHART")}},{key:"isClassifyOnDemandEnabled",value:function e(){return Object(r["b"])("CLASSIFY_ON_DEMAND")}},{key:"onLoadData",value:function e(t){var n=this.isAutoChartEnabled();if(n)if(this.isClassifyOnDemandEnabled())if(this.dataAlreadyLoaded)this.listModelChanged(t)&&this.classify(t);else{this.createFieldList(t);this.dataAlreadyLoaded=true}else this.classify(t);else this.createFieldList(t)}},{key:"doFilter",value:function e(t){var n=this.assets.query;var r=this.assets.table;var i=[];if(n&&""!==n)for(var a=0;a<t.length;a++){var o=ae["a"].extend({},t[a]);var s=o.derivedFields;s&&s.length>0&&(o.derivedFields=[]);i.push(o);if(s&&s.length>0)for(var l=0;l<s.length;l++)i.push(s[l])}else i=t;return i.filter((function(e){var t=Y["a"].librarySearchFn(e,n);var i="All"===r||-1!==e.srcTables.indexOf(r);return t&&i}))}},{key:"openContextMenu",value:function e(t,n){t.selected||Y["a"].toggleSelection(t,n);var r=a["default"].getService("qvContextMenu").menu({docking:"BottomLeft"});var i=this;var o=this.$scope.listModel.app;Y["a"].isAddToMode()&&r.addItem({translation:Y["a"].getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){i.addItemToSheetOrVisualization(t)}});Y["a"].permissionToCreate("dimension")&&r.addItem({translation:"contextMenu.addToMasterItems.AsDimension",tid:"add-field-as-dimension",select:function e(){_e.addFieldAsDimension(i.assets,t.name)}});Y["a"].permissionToCreate("measure")&&r.addItem({translation:"contextMenu.addToMasterItems.AsMeasure",tid:"add-field-as-measure",select:function e(){_e.addFieldAsMeasure(i.assets,t.name)}});Y["a"].permissionToCreate("measure")&&!t.isDerivedFromDate&&r.addItem({translation:"AssetsPanel.CalendarFlags.GenerateCalendarMeasures",tid:"generate-calenar-measures",select:function e(){var n=a["default"].getService("luiDialog");n.show({controller:ut.component.controller,template:ut.component.template,input:{selectedField:t,assets:i.assets}})}});t.isDerived||r.addItem({translation:"contextMenu.fieldSettings",tid:"open-field-settings",select:function e(){t.app=o;Rt.show(t)}});ne["a"].openContextMenu(r,t,n)}},{key:"addItemToSheetOrActiveObject",value:function e(t,n,r){Y["a"].addItemToSheetOrVisualization(t,n,r)}}]);return n}(ee);var en=n("8Bn3");var tn=n("ESef");var nn=n("4qR/");var rn=n("JbzQ");var an=n("KvOU");function on(e){var t={};t.permissions=e.permissions;t.name=e.qData.title;t.secondaryName=e.qData.labelExpression||"";t.type=e.qInfo.qType;t.id=e.qInfo.qId;t.getDropOption=ln.bind(null,t);t.tags=e.qData.tags;t.info=e.qData.info;"H"===e.qData.grouping&&(t.icon="drill-down");return t}function sn(e){return rn["a"].get(e.id).then((function(t){return t.getProperties().then((function(t){var n=an["a"].createLibraryDimension(e.id);an["a"].autoSortDimension(n,e.info);var r=e.name;t.qDim.qLabelExpression&&(r={qStringExpression:{qExpr:t.qDim.qLabelExpression}});return{id:"newObject",args:{template:"filterpane",children:[an["a"].createDefaultListBox(n,r)],init:{}}}}))}))}function ln(e,t,n){if(!Object(r["b"])("DISABLE_AUTO_CHART")&&!_t["a"].isVariableDefined("DISABLE_AUTO_CHART")){if(n&&n.shiftKey)return sn(e);return{id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qDimensions:[{qLibraryId:e.id}],qInterColumnSortOrder:[0]},showTitles:false}}}}return sn(e)}var cn={create:function e(t){return t.map((function(e){return on(e)}))}};var un=cn;var dn='<lui-popover id="library-preview" class="dimension-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title" title="{{input.name}}">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<h2><span q-translation="library.preview.header.type"></span></h2>\n\t\t<p class="no-scroll" q-translation="{{input.typeTranslationKey}}" tid="preview-dimension-type"></p>\n\n\t\t<h2><span q-translation="library.preview.header.fields"></span></h2>\n\t\t<ul class="fields" ng-class="{ \'single-expression\': input.isSingleExpression }">\n\t\t\t<li ng-repeat="field in input.fields" title="{{field}}">{{field}}</li>\n\t\t</ul>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression"></span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t\t<div ng-if="color">\n\t\t\t<h2><span q-translation="library.colors.dimensioncolor"></span></h2>\n\t\t\t<div class="color-row">\n\t\t\t\t<div class="color" ng-style="{\'background-color\': color}"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="valueColors.length">\n\t\t\t<h2><span q-translation="library.colors.valuecolors"></span></h2>\n\t\t\t<div class="color-row" tid="val-cols">\n\t\t\t\t<div ng-repeat="valcolors in valueColors track by $index" class="color" ng-style="{\'background-color\': valcolors, \'width\': previewColorViewWidth}">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag.name}}">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>';var fn=n("UV1h");var pn=n("45bU");var hn=[];function vn(e){hn=[];if(e.usePal)e.colors.length?hn=e.colors.map((function(e){return fn["a"].resolveColor(e.baseColor)})):fn["a"].dataPalettes.forEach((function(t){t.propertyValue===e.pal&&(hn="pyramid"===t.type?hn.concat(t.scale[t.scale.length-1]):hn.concat(t.scale))}));else if(e.single&&"none"!==e.single.color){hn.push(fn["a"].resolveColor(e.single));if(e.colors){var t=e.colors.map((function(e){return fn["a"].resolveColor(e.baseColor)}));hn=hn.concat(t)}}else e.colors&&(hn=e.colors.map((function(e){return fn["a"].resolveColor(e.baseColor)})));return hn}function mn(e){if(0!==e.length)return"".concat(100/e.length,"%");return 0}var gn={getColors:vn,getPreviewColorViewWidth:mn};function bn(e){var t={template:dn,controller:["$scope",function(t){t.input=e;t.valueColors=[];e.baseColor&&e.baseColor.color&&(t.color=fn["a"].resolveColor(e.baseColor));t.showLabelExpression=!!t.input.labelExpression;t.showLabelExpressionDef=!!t.input.labelExpressionDef;var n=pn["a"].getTemplate();pn["a"].getColorMap(t.input.qId).then((function(e){if(e){n=e;t.valueColors=gn.getColors(n);t.previewColorViewWidth=gn.getPreviewColorViewWidth(t.valueColors)}}))}],dock:"right",alignTo:e.alignTo[0]};return a["default"].getService("luiPopover").show(t)}var yn={show:bn};function wn(e){wn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return wn(e)}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Cn(e,t,n){t&&xn(e.prototype,t);n&&xn(e,n);return e}function qn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&En(e,t)}function En(e,t){En=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return En(e,t)}function In(e){var t=Tn();return function n(){var r=Dn(e),i;if(t){var a=Dn(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return kn(this,i)}}function kn(e,t){if(t&&("object"===wn(t)||"function"===typeof t))return t;return An(e)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tn(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Dn(e){Dn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Dn(e)}function On(e){var t="";"N"===e?t="Common.Single":"H"===e&&(t="library.preview.dimensiontype.drilldown");return t}function Ln(e){var t=e.qFieldDefs[0];return"N"===e.qGrouping&&!!t&&"="===t.charAt(0)}function Mn(e){rn["a"].remove(e.id).then((function(){pn["a"].deleteColorMap(e.id).then((function(){a["default"].$rootScope.$emit("clearUndo")}))}))}function Pn(e){var t=new nn["a"];t.edit(e.id)}function Nn(e){Y["a"].addItemToSheetOrVisualization(e)}function Rn(e){Y["a"].hasLinks(e.id,rn["a"]).then((function(t){var n="Dimension.EditWarning.Text";t?Y["a"].editDialog(n,(function(){Pn(e)})):Pn(e)}))}function Fn(e){Y["a"].hasLinks(e.id,rn["a"]).then((function(t){var n=t?"Dimension.Master.DeleteWarning.Text":"Dimension.Master.DeleteWarning.Unused.Text";Y["a"].removeDialog(n,(function(){Mn(e)}))}))}function _n(e){rn["a"].getListLayout().then((function(t){var n=t.map((function(e){return e.qData.title}));rn["a"].get(e.id).then((function(t){t.app.cloneDimension(e.id).then((function(r){t.app.getDimension(r).then((function(t){t.getProperties().then((function(r){var i=en["a"].generateUniqueName(n,e.name);i=ae["a"].crop(i,tn["a"].name);r.qMetaDef.title=i;r.qDim.title=i;if(r.qDim.coloring&&r.qDim.coloring.colorMapRef){r.qDim.coloring.colorMapRef=r.qInfo.qId;pn["a"].getColorMap(e.id).then((function(e){e&&pn["a"].setColorMap(r.qInfo.qId,e)}))}t.setProperties(r).then((function(){a["default"].$rootScope.$emit("clearUndo")}))}))}))}))}))}))}var jn=function(e){qn(n,e);var t=In(n);function n(e){var r;Sn(this,n);r=t.call(this,e);r.addId="addDimension";r.addText="Dimension.Toolbox.CreateButton";r.list=[];r.id=W["a"].sectionIDs.dimension;r.name="dimension";r.title="Common.Dimensions";r.initPreviewManager();r.allowAdd=Y["a"].permissionToCreate("dimension");r.initLoadData();return r}Cn(n,[{key:"addAction",value:function e(){var t=new nn["a"];t.add(null)}},{key:"initLoadData",value:function e(){var t=this;rn["a"].getList().then((function(e){t.$scope.listModel=e}));Object(Be["a"])(this.$scope,"listModel",this.onLoadData.bind(this))}},{key:"initPreviewManager",value:function e(){var t=this;function n(e){var n=e.item;var r=e.modelInfo;var i=te["a"].getBasePreviewInfo(e);i.description=r.layout.qDim.descriptionExpression||r.properties.qMetaDef.description;i.typeTranslationKey=On(r.properties.qDim.qGrouping);i.isSingleExpression=Ln(r.properties.qDim);i.fields=r.properties.qDim.qFieldDefs;i.labelExpression=r.layout.qDim.qLabelExpression;i.labelExpressionDef=r.properties.qDim.qLabelExpression;i.qId=r.properties.qInfo.qId;r.properties.qDim.coloring&&(i.baseColor=r.properties.qDim.coloring.baseColor);i.buttons=[te["a"].buttonAddTo(Nn,e.closePreview,n,Y["a"].getAddToText(),Y["a"].isAddToMode())];t.allowAdd&&i.buttons.push(te["a"].buttonDuplicate(_n,e.closePreview,n));n.permissions.update&&i.buttons.push(te["a"].buttonEdit(Rn,e.closePreview,n));n.permissions.remove&&i.buttons.push(te["a"].buttonDelete(Fn,e.closePreview,n));i.close=e.closePreview;te["a"].alignPreview(i,e.$element);return yn.show(i)}this.previewManager=te["a"].previewManagerFactory({getSlowInfo:function e(t){return te["a"].getItemInformation(rn["a"],t.id)},createPreview:n,itemDialogHandler:ne["a"],State:G["a"]})}},{key:"onLoadData",value:function e(t){this.loading=false;t=un.create(t);this.list=Y["a"].localeOrderBy(t,(function(e){return e.name}));this.onFilter()}},{key:"doFilter",value:function e(t){var n=this.assets.query;Y["a"].removeSelection(t);this.previewManager.close();return t.filter((function(e){return Y["a"].libraryMultiSearch(e,n,["name","secondaryName","tags"])}))}},{key:"openContextMenu",value:function e(t,n){var r=a["default"].getService("qvContextMenu").menu();Y["a"].isAddToMode()&&r.addItem({translation:Y["a"].getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){Nn(t)}});t.permissions&&t.permissions.update&&r.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){Rn(t)}});this.allowAdd&&r.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){_n(t)}});t.permissions&&t.permissions.remove&&r.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){Fn(t)}});ne["a"].openContextMenu(r,t,n)}},{key:"addItemToSheetOrActiveObject",value:function e(t){Nn(t)}}]);return n}(ee);var Bn=n("uqsp");var Vn=n("X8RK");var Hn=n("obmW");function zn(e){var t={};t.permissions=e.permissions;t.name=e.qData.title;t.secondaryName=e.qData.labelExpression||"";t.type=e.qInfo.qType;t.id=e.qInfo.qId;t.getDropOption=Un.bind(null,t);t.tags=e.qData.tags;return t}function $n(e){var t={qLibraryId:e.id,qDef:{autoSort:true,numFormatFromTemplate:true,conditionalColoring:{useConditionalColoring:false,singleColor:3,segments:{limits:[],colors:[{color:2}]}},measureAxis:{min:0,max:100},qNumFormat:{}},qSortBy:{qSortByLoadOrder:1,qSortByNumeric:-1}};Object(r["b"])("MASTER_MEASURE_FORMAT")&&Hn["a"].useMasterNumberFormat(t.qDef);return{id:"newObject",args:{template:"kpi",init:{qHyperCubeDef:{qDimensions:[],qMeasures:[t],qInterColumnSortOrder:[0]}}}}}function Un(e,t,n){if(!Object(r["b"])("DISABLE_AUTO_CHART")&&!_t["a"].isVariableDefined("DISABLE_AUTO_CHART")){if(n&&n.shiftKey)return $n(e);return{id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qMeasures:[{qLibraryId:e.id}],qInterColumnSortOrder:[0]},showTitles:false}}}}return $n(e)}var Gn={create:function e(t){return t.map((function(e){return zn(e)}))}};var Wn=Gn;var Qn='<lui-popover id="library-preview" class="measure-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title" title="{{input.name}}">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<h2><span q-translation="library.preview.header.expression">&nbsp;</span></h2>\n\t\t<p class="expression">{{input.expression}}</p>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression">&nbsp;</span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t\t<div ng-if="color">\n\t\t\t<h2><span q-translation="library.colors.measurecolor">&nbsp;</span></h2>\n\t\t\t<div class="color" ng-style="{\'background-color\': color}"></div>\n\t\t</div>\n\n\t\t<div ng-if="gradient">\n\t\t\t<h2><span q-translation="library.colors.segmentColors">&nbsp;</span></h2>\n\t\t\t<div class="color" qv-color-scheme-display colors="gradientColors" types="gradient.breakTypes" limits="gradientLimits"></div>\n\t\t</div>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags">&nbsp;</span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag.name}}">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>';var Kn=n("NxGk");function Yn(e){var t={template:Qn,controller:["$scope",function(t){t.input=e;e.baseColor&&e.baseColor.color&&(t.color=fn["a"].resolveColor(e.baseColor));t.showLabelExpression=!!t.input.labelExpression;t.showLabelExpressionDef=!!t.input.labelExpressionDef;pn["a"].getMeasureGradient(t.input.qId).then((function(e){if(e){t.gradient=e;t.gradientColors=e.colors.map((function(e){return fn["a"].resolveColor(e)}));t.gradientLimits="absolute"===e.limitType?Kn["a"].convertAbsLimits(e.limits):e.limits.slice()}}))}],dock:"right",alignTo:e.alignTo[0]};return a["default"].getService("luiPopover").show(t)}var Jn={show:Yn};function Zn(e){Zn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Zn(e)}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function tr(e,t,n){t&&er(e.prototype,t);n&&er(e,n);return e}function nr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&rr(e,t)}function rr(e,t){rr=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return rr(e,t)}function ir(e){var t=sr();return function n(){var r=lr(e),i;if(t){var a=lr(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ar(this,i)}}function ar(e,t){if(t&&("object"===Zn(t)||"function"===typeof t))return t;return or(e)}function or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sr(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function lr(e){lr=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return lr(e)}function cr(e){Bn["a"].editMeasure(e.id)}function ur(e){Vn["a"].remove(e.id)}function dr(e){Y["a"].addItemToSheetOrVisualization(e)}function fr(e){Y["a"].hasLinks(e.id,Vn["a"]).then((function(t){var n="Measure.Master.EditWarning.Text";t?Y["a"].editDialog(n,(function(){cr(e)})):cr(e)}))}function pr(e){Y["a"].hasLinks(e.id,Vn["a"]).then((function(t){var n=t?"Measure.Master.DeleteWarning.Text":"Measure.Master.DeleteWarning.Unused.Text";Y["a"].removeDialog(n,(function(){ur(e)}))}))}function hr(e){Vn["a"].getListLayout().then((function(t){var n=t.map((function(e){return e.qData.title}));Vn["a"].get(e.id).then((function(t){t.app.cloneMeasure(e.id).then((function(e){return t.app.getMeasure(e)})).then((function(t){t.getProperties().then((function(r){var i=en["a"].generateUniqueName(n,e.name);i=ae["a"].crop(i,tn["a"].name);r.qMetaDef.title=i;r.qMeasure.qLabel=i;t.setProperties(r)}))}))}))}))}var vr=function(e){nr(n,e);var t=ir(n);function n(e){var r;Xn(this,n);r=t.call(this,e);r.addId="addMeasure";r.addText="Measure.Toolbox.CreateButton";r.list=[];r.id=W["a"].sectionIDs.measure;r.name="measure";r.title="Common.Measures";r.initPreviewManager();r.allowAdd=Y["a"].permissionToCreate("measure");r.initLoadData();return r}tr(n,[{key:"addAction",value:function e(){Bn["a"].addMeasure(null)}},{key:"initLoadData",value:function e(){var t=this;Vn["a"].getList().then((function(e){t.$scope.listModel=e}));Object(Be["a"])(this.$scope,"listModel",this.onLoadData.bind(this))}},{key:"initPreviewManager",value:function e(){var t=this;function n(e){var n=e.item;var r=e.modelInfo;var i=te["a"].getBasePreviewInfo(e);i.description=r.layout.qMeasure.descriptionExpression||r.properties.qMetaDef.description;i.expression=r.properties.qMeasure.qDef;i.labelExpression=r.properties.qMeasure.qLabelExpression;i.labelExpression=r.layout.qMeasure.qLabelExpression;i.labelExpressionDef=r.properties.qMeasure.qLabelExpression;i.baseColor=r.properties.qMeasure.coloring?r.properties.qMeasure.coloring.baseColor:r.properties.qMeasure.baseColor;i.qId=r.properties.qInfo.qId;i.buttons=[te["a"].buttonAddTo(dr,e.closePreview,n,Y["a"].getAddToText(),Y["a"].isAddToMode())];t.allowAdd&&i.buttons.push(te["a"].buttonDuplicate(hr,e.closePreview,n));n.permissions.update&&i.buttons.push(te["a"].buttonEdit(fr,e.closePreview,n));n.permissions.remove&&i.buttons.push(te["a"].buttonDelete(pr,e.closePreview,n));i.close=e.closePreview;te["a"].alignPreview(i,e.$element);return Jn.show(i)}this.previewManager=te["a"].previewManagerFactory({getSlowInfo:function e(t){return te["a"].getItemInformation(Vn["a"],t.id)},createPreview:n,itemDialogHandler:ne["a"],State:G["a"]})}},{key:"onLoadData",value:function e(t){this.loading=false;a["default"].$rootScope.$emit("clearUndo");t=Wn.create(t);this.list=Y["a"].localeOrderBy(t,(function(e){return e.name}));this.onFilter()}},{key:"doFilter",value:function e(t){var n=this.assets.query;Y["a"].removeSelection(t);this.previewManager.close();return t.filter((function(e){return Y["a"].libraryMultiSearch(e,n,["name","secondaryName","tags"])}))}},{key:"openContextMenu",value:function e(t,n){var r=a["default"].getService("qvContextMenu").menu();Y["a"].isAddToMode()&&r.addItem({translation:Y["a"].getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){dr(t)}});t.permissions&&t.permissions.update&&r.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){fr(t)}});this.allowAdd&&r.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){hr(t)}});t.permissions&&t.permissions.remove&&r.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){pr(t)}});ne["a"].openContextMenu(r,t,n)}},{key:"addItemToSheetOrActiveObject",value:function e(t){dr(t)}}]);return n}(ee);var mr=n("6Z/P");var gr=n("5xMv");var br=n("Xxft");var yr='<lui-popover id="library-preview" class="object-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<div class="object">\n\t\t\t<qv-object model="input.model" options="input.options"></qv-object>\n\t\t\t<qv-transparent-overlay></qv-transparent-overlay>\n\t\t</div>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2 class="tags-title"><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression"></span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n\n\n';function wr(e){var t={template:yr,controller:["$scope",function(t){t.input=e;t.showLabelExpression=!!t.input.labelExpression;t.showLabelExpressionDef=!!t.input.labelExpressionDef}],dock:"right",alignTo:e.alignTo[0]};return a["default"].getService("luiPopover").show(t)}var Sr={show:wr};function xr(e){xr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return xr(e)}function Cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Er(e,t,n){t&&qr(e.prototype,t);n&&qr(e,n);return e}function Ir(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&kr(e,t)}function kr(e,t){kr=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return kr(e,t)}function Ar(e){var t=Or();return function n(){var r=Lr(e),i;if(t){var a=Lr(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Tr(this,i)}}function Tr(e,t){if(t&&("object"===xr(t)||"function"===typeof t))return t;return Dr(e)}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Lr(e){Lr=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Lr(e)}function Mr(){var e=this;return{id:"newObject",args:{template:e.visualization,init:{qExtendsId:e.id}}}}function Pr(e){var t=re["a"].getType(e);if(t)return t.getLibraryInfo().icon;return"toolbar-help"}function Nr(e){var t=e.qData.visualization;return{id:e.qInfo.qId,name:e.qData.name,secondaryName:e.qData.labelExpression||"",tags:e.qData.tags,visualization:t,getDropOption:Mr,icon:Pr(t),type:"visualization",permissions:{update:e.permissions.update,remove:e.permissions.remove,publish:e.permissions.publish}}}function Rr(e){mr["a"].editMaster(e.id,e.visualization)}function Fr(e){br["a"].remove(e.id)}function _r(e,t){return Y["a"].hasLinks(e,t)}function jr(e){z["a"].publish("/ui/library/addToSheet",{item:e})}function Br(e){_r(e.id,br["a"]).then((function(t){var n="Object.Master.EditWarning.Text";t?Y["a"].editDialog(n,(function(){Rr(e)})):Rr(e)}))}function Vr(e){_r(e.id,br["a"]).then((function(t){var n=t?"Object.Master.DeleteWarning.Text":"Object.Master.DeleteWarning.Unused.Text";Y["a"].removeDialog(n,(function(){Fr(e)}))}))}function Hr(e){br["a"].getList().then((function(t){t.getLayout().then((function(t){var n=t.map((function(e){return e.qData.name}));br["a"].get(e.id).then((function(t){var r=t.app;r.cloneObject(t.id).then((function(t){r.getObject(t).then((function(t){t.getProperties().then((function(r){var i=en["a"].generateUniqueName(n,e.name);i=ae["a"].crop(i,tn["a"].name);r.qMetaDef.title=i;t.setProperties(r)}))}))}))}))}))}))}function zr(e,t){for(var n=0;n<e.length;++n)e[n].disabled=e[n].id===t}var $r=function(e){Ir(n,e);var t=Ar(n);function n(e){var r;Cr(this,n);r=t.call(this,e);r.list=[];r.id=W["a"].sectionIDs.visualization;r.name="visualization";r.title="library.Visualizations";r.initPreviewManager();r.allowDuplicate=Y["a"].permissionToCreate("visualization");r.$scope.stageState=gr["a"];r.$scope.$watch("stageState.selectedObject",(function(e){e&&"gridCell"===e.type?zr(r.list,e&&e.id):zr(r.list,null)}));r.initLoadData();return r}Er(n,[{key:"initLoadData",value:function e(){var t=this;br["a"].getList().then((function(e){t.$scope.listModel=e}));Object(Be["a"])(this.$scope,"listModel",this.onLoadData.bind(this))}},{key:"initPreviewManager",value:function e(){var t=this;function n(e){var n=e.item;var i=e.modelInfo;var a=te["a"].getBasePreviewInfo(e);a.description=i.layout.descriptionExpression||i.properties.qMetaDef.description;a.labelExpression=i.layout.labelExpression;if(i.properties.labelExpression){var o=ae["a"].getValue(i.properties,"labelExpression.qStringExpression.qExpr","");o.length&&"="!==o[0]&&(o="=".concat(o));a.labelExpressionDef=o}a.model=i.model;a.options={isReadonly:true,isPopover:true,navigation:false,selections:false};a.buttons=[te["a"].buttonAddToSheet(jr,e.closePreview,n,Y["a"].isAddToSheetMode())];t.allowDuplicate&&a.buttons.push(te["a"].buttonDuplicate(Hr,e.closePreview,n));n.permissions.update&&a.buttons.push(te["a"].buttonEdit(Br,e.closePreview,n));n.permissions.remove&&a.buttons.push(te["a"].buttonDelete(Vr,e.closePreview,n));Object(r["b"])("SINGLE_CONFIG")&&a.buttons.push(te["a"].buttonEmbed((function(){z["a"].publish("/embed-dialog/open",{type:"object",objectId:n.id})}),e.closePreview,n));a.close=e.closePreview;te["a"].alignPreview(a,e.$element);return Sr.show(a)}this.previewManager=te["a"].previewManagerFactory({getSlowInfo:function e(t){return te["a"].getItemInformation(br["a"],t.id)},createPreview:n,itemDialogHandler:ne["a"],State:G["a"]})}},{key:"onLoadData",value:function e(t){this.loading=false;G["a"].view!==G["a"].Views.masterObject&&a["default"].$rootScope.$emit("clearUndo");t=t.filter((function(e){return!!e.qData.name}));t=t.map(Nr);var n=gr["a"].selectedObject;n&&"gridCell"===n.type&&zr(t,n&&n.id);this.list=Y["a"].localeOrderBy(t,(function(e){return e.name}));this.onFilter()}},{key:"doFilter",value:function e(t){var n=this.assets.query;Y["a"].removeSelection(t);this.previewManager.close();return t.filter((function(e){return Y["a"].libraryMultiSearch(e,n,["name","secondaryName","tags"])}))}},{key:"openContextMenu",value:function e(t,n){var i=a["default"].getService("qvContextMenu").menu();Y["a"].isAddToMode()&&i.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){jr(t)}});t.permissions&&t.permissions.update&&i.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){Br(t)}});this.allowDuplicate&&i.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){Hr(t)}});t.permissions&&t.permissions.remove&&i.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){Vr(t)}});Object(r["b"])("SINGLE_CONFIG")&&i.addItem({translation:"contextMenu.embed",tid:"120694",select:function e(){z["a"].publish("/embed-dialog/open",{type:"object",objectId:t.id})}});ne["a"].openContextMenu(i,t,n)}}]);return n}(ee);var Ur=n("vs5f");var Gr=n("/5Yl");var Wr='<lui-popover id="library-preview" class="widget-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<div ng-show="input.hasImage" class="template-image-container">\n\t\t\t<img ng-src="{{input.imageUrl}}">\n\t\t</div>\n\t\t<i ng-show="!input.hasImage" class="template-icon  lui-icon  lui-icon--{{input.icon}}"></i>\n\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p class="description">{{input.description}}</p>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="{{button.disabled}}" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n\n';function Qr(e){var t={template:Wr,controller:["$scope",function(t){t.input=e}],dock:"right",alignTo:e.alignTo[0]};return a["default"].getService("luiPopover").show(t)}var Kr={show:Qr};var Yr=n("ojC6");function Jr(e){Jr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Jr(e)}function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function ei(e,t,n){t&&Xr(e.prototype,t);n&&Xr(e,n);return e}function ti(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&ni(e,t)}function ni(e,t){ni=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return ni(e,t)}function ri(e){var t=oi();return function n(){var r=si(e),i;if(t){var a=si(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ii(this,i)}}function ii(e,t){if(t&&("object"===Jr(t)||"function"===typeof t))return t;return ai(e)}function ai(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oi(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function si(e){si=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return si(e)}function li(e){z["a"].publish("/ui/library/addToSheet",{item:e});return e}function ci(e){this.item=e;this.id=e.id;this.name=e.name;this.type="template";this.template="widget";this.init={templateId:this.id};this.icon=Yr["a"].getIcon(e.meta.type)}ci.prototype.getDropOption=function(){var e=this.init.templateId;var t=Ur["a"].getDefinition(this.item);var n=Gr["a"].mapProperties(t,{templateId:e},e);n.widgetMeta={libid:this.item.libid,name:this.item.name};var r={id:"newObject",args:{template:"widget",init:n}};return r};var ui=function(e){ti(n,e);var t=ri(n);function n(e){var r;Zr(this,n);r=t.call(this,e);r.addId="addWidget";r.addText="Create Widget";r.list=[];r.id="some_id";r.name="qwidget";r.title="Widgets";r.stageScope=K()("div.qv-panel-stage").scope();r.initPreviewManager();r.allowAdd=false;r.infoExpanded=false;r.hasMetaInfo=true;r.initLoadData();return r}ei(n,[{key:"addAction",value:function e(){this.stageScope.enableWidget=true;this.stageScope.enableSheet=false}},{key:"initPreviewManager",value:function e(){function t(e){var t=e.item;var n={query:e.query,name:t.name,description:t.item.description||t.item.meta.description,imageUrl:t.previewIconURL,hasImage:!!t.previewIconURL,icon:Yr["a"].getIcon(t.item.meta.type)};n.buttons=[te["a"].buttonAddToSheet(li,e.closePreview,t,Y["a"].isAddToSheetMode())];n.close=e.closePreview;te["a"].alignPreview(n,e.$element);return Kr.show(n)}this.previewManager=te["a"].previewManagerFactory({createPreview:t,itemDialogHandler:ne["a"],State:G["a"]})}},{key:"onLoadData",value:function e(t){this.loading=false;var n=[];t.forEach((function(e){n.push(new ci(e))}));this.list=Y["a"].localeOrderBy(n,(function(e){return e.name}));this.onFilter()}},{key:"doFilter",value:function e(t){var n=this.assets.query;return t.filter((function(e){return Y["a"].librarySearchFn(e,n)}))}},{key:"openContextMenu",value:function e(t,n){if(Y["a"].isAddToMode()){var r=a["default"].getService("qvContextMenu").menu();r.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){li(t)}});ne["a"].openContextMenu(r,t,n)}}},{key:"addItemToSheetOrActiveObject",value:function e(t){Y["a"].itemDblClickHandler(t)}}]);return n}(ee);var di=n("9cJ9");var fi=n("eg+O");function pi(e){var t={};t.dragDropType="odagLinkItem";t.name=e.data.name;t.type=e.type;t.id=e.data.id;t.getDropOption=hi.bind(null,t);t.tags=e.data.tags;return t}function hi(e){return{id:"newODAGNavPoint",args:{template:"odagLink",init:{linkRef:e}}}}var vi={create:function e(t){return t.map((function(e){return pi(e.properties)}))}};var mi=vi;var gi=n("zkWp");var bi='<lui-popover id="library-preview" class="odag-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\t\t<h2><span q-translation="library.preview.odag.row.templateapp"></span></h2>\n\t\t<p class="description">{{input.templateApp.name}}</p>\n\t\t<h2><span q-translation="library.preview.odag.row.expression"></span></h2>\n\t\t<p class="description">{{input.rowEstExpr}}</p>\n\t\t<h2><span q-translation="library.preview.odag.row.count"></span></h2>\n\t\t<p class="description">{{input.rowEstCount}}</p>\n\t\t<h2><span q-translation="library.preview.odag.maxGenAppsCount"></span></h2>\n\t\t<p class="description">{{input.genAppLimit}}</p>\n\t\t<h2><span q-translation="library.preview.odag.retentionTime"></span></h2>\n\t\t<p class="description">{{input.retentionTime}}</p>\n\t\t<h2 ng-if="!isOdagSaas"><span q-translation="library.preview.odag.defaultView"></span></h2>\n\t\t<p ng-if="!isOdagSaas" class="description">{{input.defaultView}}</p>\n\t\t<h2 ng-if="!isOdagSaas"><span q-translation="library.preview.odag.publishTo"></span></h2>\n\t\t<p ng-if="!isOdagSaas" class="description">{{input.publishTo}}</p>\t\t\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>';function yi(e){var t={template:bi,controller:["$scope",function(t){t.input=e;t.isOdagSaas=Object(r["b"])("ODAG_SAAS_ENABLED")}],dock:"right",alignTo:e.alignTo[0]};return a["default"].getService("luiPopover").show(t)}var wi={show:yi};var Si=n("mEBU");function xi(e){xi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return xi(e)}function Ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Ei(e,t,n){t&&qi(e.prototype,t);n&&qi(e,n);return e}function Ii(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&ki(e,t)}function ki(e,t){ki=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return ki(e,t)}function Ai(e){var t=Oi();return function n(){var r=Li(e),i;if(t){var a=Li(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Ti(this,i)}}function Ti(e,t){if(t&&("object"===xi(t)||"function"===typeof t))return t;return Di(e)}function Di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Li(e){Li=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Li(e)}function Mi(e){var t=G["a"].model;var n={insertBeforeItem:null,title:e.name,odagLinkRefID:e.id};gi["a"].addODAGNavPoint(t,n)}function Pi(e){var t="";if("unlimited"===e||""===e)t=U["default"].get("ODAGLink.Dialog.RetentionTimeUnit.NeverExpires");else{var n={retentionTimeValue:"",retentionTimeUnit:""};n=Si["a"].getRetentionTimeDisplayValue(e);t="d"===n.retentionTimeUnit?"1"===n.retentionTimeValue?U["default"].get("library.preview.odag.retentionTime.day",n.retentionTimeValue):U["default"].get("library.preview.odag.retentionTime.days",n.retentionTimeValue):"h"===n.retentionTimeUnit?"1"===n.retentionTimeValue?U["default"].get("library.preview.odag.retentionTime.hour",n.retentionTimeValue):U["default"].get("library.preview.odag.retentionTime.hours",n.retentionTimeValue):e}return t}var Ni=function(e){Ii(n,e);var t=Ai(n);function n(e,r){var i;Ci(this,n);i=t.call(this,e);i.addId="addODAGLink";i.addText="ODAGLink.Toolbox.CreateButton";i.app=r;i.list=[];i.id=W["a"].sectionIDs.odag;i.name="odaglinks";i.title="ODAG.Toolbox.Title.ODAGToolbar";i.initPreviewManager();i.allowAdd=Y["a"].permissionToCreate("odagLink");i.initLoadComplete=false;i.initLoadData();return i}Ei(n,[{key:"addAction",value:function e(){Bn["a"].addODAGLink(this.app)}},{key:"initLoadData",value:function e(){var t=this;fi["a"].getList(this.app).then((function(e){t.$scope.listModel=e}));Object(Be["a"])(this.$scope,"listModel",this.loadODAGLinks.bind(this))}},{key:"loadODAGLinks",value:function e(){var t=this;var n=function e(n){t.onLoadData(n);t.initLoadComplete=true};this.initLoadComplete?di["a"].getList(this.app,true).then((function(e){t.onLoadData(e)})).catch((function(){this.loading=false})):this.$scope.listModel&&this.$scope.listModel.layout&&this.$scope.listModel.layout.qAppObjectList.qItems.length>0?di["a"].getList(this.app,true).then((function(e){n(e)})).catch((function(){t.loading=false})):n([])}},{key:"editCallback",value:function e(t){Bn["a"].editODAGLink(this.app,t.id)}},{key:"deleteCallback",value:function e(t){var n=this;var r=G["a"].model;var i="ODAGLink.Master.DeleteWarning.Text";Y["a"].removeDialog(i,(function(){di["a"].get(t.id).then((function(e){gi["a"].deleteODAGLink(n.app,t.id,e.properties,r)}))}))}},{key:"initPreviewManager",value:function e(){var t=this;function n(e){var n=e.item;var i=e.modelInfo;var a="";a=""===i.properties.data.properties.targetSheet[0].sheetId||null===i.properties.data.properties.targetSheet[0].sheetId?U["default"].get("ODAGLink.Dialog.DefaultView.AppOverview"):i.properties.data.properties.targetSheet[0].sheetName?i.properties.data.properties.targetSheet[0].sheetName:U["default"].get("library.preview.odag.defaultView.UnableToAccess",i.properties.data.properties.targetSheet[0].sheetId);var o="";o=0===i.properties.data.properties.publishTo.length||""===i.properties.data.properties.publishTo[0].streamId||null===i.properties.data.properties.publishTo[0].streamId?U["default"].get("ODAGLink.Dialog.DefaultPublishTo.MyWork"):i.properties.data.properties.publishTo[0].streamName?i.properties.data.properties.publishTo[0].streamName:U["default"].get("library.preview.odag.publishTo.UnableToAccess",i.properties.data.properties.publishTo[0].streamId);var s=te["a"].getBasePreviewInfo(e);s.templateApp=i.properties.data.templateApp;s.rowEstExpr=i.properties.data.rowEstExpr;s.rowEstCount=i.properties.data.properties.rowEstRange[0].highBound;s.genAppLimit=i.properties.data.properties.genAppLimit[0].limit;s.retentionTime=Pi(i.properties.data.properties.appRetentionTime[0].retentionTime);s.defaultView=a;s.publishTo=o;s.buttons=[te["a"].buttonAddTo(Mi,e.closePreview,n,Y["a"].getAddToText(t.name),Y["a"].isAddToMode())];(Object(r["b"])("ODAG_SAAS_ENABLED")||i.properties.data.privileges.includes("update")&&Y["a"].hasAppUpdatePermission())&&s.buttons.push(te["a"].buttonEdit(t.editCallback.bind(t),e.closePreview,n));(Object(r["b"])("ODAG_SAAS_ENABLED")||i.properties.data.privileges.includes("delete")&&Y["a"].hasAppUpdatePermission())&&s.buttons.push(te["a"].buttonDelete(t.deleteCallback.bind(t),e.closePreview,n));s.close=e.closePreview;te["a"].alignPreview(s,e.$element);return wi.show(s)}this.previewManager=te["a"].previewManagerFactory({getSlowInfo:function e(t){return te["a"].getItemInformation(di["a"],t.id)},createPreview:n,itemDialogHandler:ne["a"],State:G["a"]})}},{key:"onLoadData",value:function e(t){this.loading=false;a["default"].$rootScope.$emit("clearUndo");t=mi.create(t);this.list=Y["a"].localeOrderBy(t,(function(e){return e.name}));this.onFilter()}},{key:"doFilter",value:function e(t){var n=this.assets.query;Y["a"].removeSelection(t);this.previewManager&&this.previewManager.close();return t.filter((function(e){return Y["a"].libraryMultiSearch(e,n,["name","tags"])}))}},{key:"openContextMenu",value:function e(t,n){var i=this;var o=a["default"].getService("qvContextMenu").menu();te["a"].getItemInformation(di["a"],t.id).then((function(e){var a=e.properties;Y["a"].isAddToMode()&&o.addItem({translation:Y["a"].getContextMenuAddToText(i.name),tid:"add-to-sheet",select:function e(){Mi(t)}});(Object(r["b"])("ODAG_SAAS_ENABLED")||a.data.privileges.includes("update")&&Y["a"].hasAppUpdatePermission())&&o.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){i.editCallback(t)}});(Object(r["b"])("ODAG_SAAS_ENABLED")||a.data.privileges.includes("delete")&&Y["a"].hasAppUpdatePermission())&&o.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){i.deleteCallback(t)}});ne["a"].openContextMenu(o,t,n)}))}},{key:"addItemToSheetOrActiveObject",value:function e(t){Mi(t)}}]);return n}(ee);var Ri=n("G1wx");var Fi='<div class="lui-modal-background"></div>\n<div class="lui-dialog" name="alternateStatesDialog" id="alternate-states-dialog">\n\t<lui-tab-view>\n\t\t<div class="lui-dialog__header">\n\t\t\t<div class="lui-dialog__title" q-translation="{{input.title}}"></div>\n\t\t</div>\n\t\t<div class="lui-dialog__body">\n\t\t\t\x3c!-- Name --\x3e\n\t\t\t<div class="alternate-state-component">\n\t\t\t\t<label q-translation="AlternateState.NewStateName" class="qv-metadatalabel">State:</label>\n\t\t\t\t<input class="lui-input" qva-focus="autoFocus" ng-keypress="onKeyPress($event)" ng-model="alternateState.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !isValid }" data-tid="name-input"/>\n\t\t\t</div>\n\t\t</div>\n\t</lui-tab-view>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button" ng-click="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn"></button>\n\t</div>\n</div>\n';var _i=n("0GN8");var ji;function Bi(e){return{name:e.alternateState.name}}var Vi={scope:{title:"=",confirmLabel:"=",alternateState:"="},template:Fi,controller:["$scope",function(e){e.stringLimits=tn["a"];e.isValid=true;e.cancel=function(){e.destroyComponent()};e.confirm=function(){var t=Bi(e);e.isValid=e.checkNameCallback(t.name);if(e.isValid){ji.close();e.callback(t.name)}};G["a"].StateChanged.bind(e.cancel);e.onKeyPress=function(t){e.isValid=true;var n=t.which;13===n&&e.confirm()};e.$watch("alternateState.name",(function(){}));e.$on("$destroy",(function(){G["a"].StateChanged.unbind(e.cancel)}));e.autoFocus=Ri["a"].treatAsDesktop()}]};function Hi(e){var t={title:e.title,confirmLabel:e.confirm,alternateState:{name:e.name},add:e.add,checkNameCallback:e.checkNameCallback,callback:e.callback};ji=a["default"].getService("luiDialog").show({template:Vi.template,controller:Vi.controller,input:t,closeOnOutside:false,showArrow:false});return ji}var zi={show:Hi};function $i(e){$i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return $i(e)}function Ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Wi(e,t,n){t&&Gi(e.prototype,t);n&&Gi(e,n);return e}function Qi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Ki(e,t)}function Ki(e,t){Ki=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Ki(e,t)}function Yi(e){var t=Xi();return function n(){var r=ea(e),i;if(t){var a=ea(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Ji(this,i)}}function Ji(e,t){if(t&&("object"===$i(t)||"function"===typeof t))return t;return Zi(e)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xi(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function ea(e){ea=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return ea(e)}function ta(e){var t={};t.permissions="$"===e?{update:false,remove:false}:{update:true,remove:true};t.name="$"===e?U["default"].get("AlternateState.DefaultState"):e;t.type="state";t.id=e;t.allowDrag=false;t.getDropOption=function(){};return t}function na(e){return e.global.getConfiguration().then((function(t){if(t.qFeatures.qAutoSave)return e.doSave();return}))}function ra(e){Y["a"].addItemToSheetOrVisualization(e)}var ia=function(e){Qi(n,e);var t=Yi(n);function n(e){var r;Ui(this,n);r=t.call(this,e);r.addId="addState";r.addText="AlternateState.Toolbox.CreateButton";r.list=[];r.prevList=[];r.id="AlternateStates";r.name="alternate states";r.title="Common.AlternateStates";r.initPreviewManager();r.allowAdd=Y["a"].permissionToCreate("dimension");r.allowRemove=r.allowAdd;r.initLoadData();return r}Wi(n,[{key:"addAction",value:function e(){var t=this;var n=function e(t){null!==t&&""!==t&&Ke["a"].getApp().then((function(e){e.addAlternateState(t).then((function(){na(e)}))}))};var r=function e(n){if(!n||""===n)return false;if(!t.items)return true;return!t.items.some((function(e){return e.name===n}))};var i={title:"AlternateState.Dialog.Add.Title",confirm:"Common.Create",name:"",checkNameCallback:r,callback:n};var a=zi.show(i);a.closed.then((function(){a=null}))}},{key:"initLoadData",value:function e(){var t=this;Ke["a"].getApp().then((function(e){t.$scope.listModel=e}));Object(Be["a"])(this.$scope,"listModel",this.onLoadData.bind(this))}},{key:"initPreviewManager",value:function e(){}},{key:"openPreview",value:function e(){}},{key:"onLoadData",value:function e(t){if(!this.prevList.length||this.prevList.length!==t.qStateNames.length||!this.prevList.every((function(e,n){return e===t.qStateNames[n]}))){this.loading=false;var n=Y["a"].localeOrderBy(t.qStateNames||[],(function(e){return e}));this.list=["$"].concat(n).map(ta);this.onFilter();this.prevList=t.qStateNames.concat()}}},{key:"doFilter",value:function e(t){var n=this.assets.query;Y["a"].removeSelection(t);return t.filter((function(e){return Y["a"].libraryMultiSearch(e,n,["name"])}))}},{key:"openContextMenu",value:function e(t,n){var r=a["default"].getService("qvContextMenu").menu();Y["a"].isAddToMode()&&r.addItem({translation:Y["a"].getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){ra(t)}});t.permissions&&t.permissions.remove&&this.allowRemove&&r.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){Ke["a"].getApp().then((function(e){e.removeAlternateState(t.id).then((function(){na(e)}))}))}});ne["a"].openContextMenu(r,t,n)}},{key:"addItemToSheetOrActiveObject",value:function e(t){ra(t)}},{key:"closePreview",value:function e(){}}]);return n}(ee);var aa=n("Tf0a");var oa=n("Gpt9");var sa='<lui-popover id="library-preview" class="dynamic-chart-preview" x-arrow="arrow">\n\n  <lui-popover-body>\n    <h2 class="title">\n      <span qve-highlight text="{{input.name}}" query="input.query"></span>\n    </h2>\n\n    <h2>\n      <span q-translation="DynamicView.Chart.Type"></span>\n    </h2>\n\n    <div class="dynamic-chart-image-container">\n      <i class="template-icon  lui-icon  lui-icon--{{input.icon}}"></i>\n      <div>{{input.visualization}}</div>\n    </div>\n\n    <h2>\n      <span ng-if="input.description.length > 0" q-translation="DynamicView.Chart.Description"></span>\n    </h2>\n    <p class="description">{{input.description}}</p>\n\n  </lui-popover-body>\n\n  <lui-popover-footer>\n    <button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n            qva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n      <span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n    </button>\n  </lui-popover-footer>\n</lui-popover>';function la(e){var t={template:sa,controller:["$scope",function(t){t.input=e}],dock:"right",alignTo:e.alignTo[0]};return a["default"].getService("luiPopover").show(t)}var ca={show:la};function ua(e){ua="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return ua(e)}function da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function pa(e,t,n){t&&fa(e.prototype,t);n&&fa(e,n);return e}function ha(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&va(e,t)}function va(e,t){va=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return va(e,t)}function ma(e){var t=ya();return function n(){var r=wa(e),i;if(t){var a=wa(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ga(this,i)}}function ga(e,t){if(t&&("object"===ua(t)||"function"===typeof t))return t;return ba(e)}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ya(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function wa(e){wa=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return wa(e)}function Sa(){var e=this;return{id:"newObject",args:{template:"container",init:{supportRefresh:true,hasExternalChildren:true,showTabs:false,children:[{externalReference:{masterId:e.id,app:e.appId,viewId:e.view.id},label:e.name,refId:ae["a"].generateId(),type:"externalChild"}]}}}}function xa(e,t){var n=re["a"].getType(e);if(n)return n.getLibraryInfo()[t];return"toolbar-help"}function Ca(e){var t=e.qData.visualization;return{id:e.qInfo.qId,name:e.qData.name,view:e.view,secondaryName:e.qData.labelExpression||"",tags:e.qData.tags,visualization:U["default"].get(xa(t,"translationKey")),getDropOption:Sa,icon:xa(t,"icon"),type:"visualization",appId:e.appId,description:e.qData.description,permissions:{update:false,remove:false,publish:false},dynamicView:e.dynamicView,dynamicViewId:e.dynamicViewId}}function qa(e){var t=[];e.forEach((function(e){e.properties.data.templateAppChartObjects.forEach((function(n){n.dynamicView=e.properties.data.name;n.dynamicViewId=e.properties.data.id;n.appId=e.properties.data.templateApp.id;n.view=e.properties.data;t.push(n)}))}));return t.map(Ca)}var Ea=function(e){ha(n,e);var t=ma(n);function n(e,r){var i;da(this,n);i=t.call(this,e);i.addId="addDynamicView";i.addText="DynamicViews.Add.Button";i.app=r;i.id=W["a"].sectionIDs.dynamic;i.list=[];i.name="dynamicviews";i.title="DynamicViews.Tab.Title";i.initPreviewManager();i.allowAdd=Y["a"].permissionToCreate("dynamicView");i.hasDynamicViewFilter=true;i.initLoadData();i.views=[];return i}pa(n,[{key:"bindWatches",value:function e(){this.$scope.$watch("assets.dynamicView",this.onFilter.bind(this))}},{key:"addAction",value:function e(){Bn["a"].addDynamicView(this.app)}},{key:"initLoadData",value:function e(){var t=this;oa["a"].getList(this.app).then((function(e){t.$scope.listModel=e}));Object(Be["a"])(this.$scope,"listModel",this.loadDynamicViews.bind(this))}},{key:"initPreviewManager",value:function e(){function t(e){z["a"].publish("/ui/library/addToSheet",{item:e})}function n(e){var n=e.item;var r={query:e.query,name:n.name,description:n.description,imageUrl:n.previewIconURL,hasImage:!!n.previewIconURL,icon:n.icon,tags:n.tags||[],visualization:n.visualization};r.buttons=[te["a"].buttonAddToSheet(t,e.closePreview,n,Y["a"].isAddToSheetMode())];r.close=e.closePreview;te["a"].alignPreview(r,e.$element);return ca.show(r)}this.previewManager=te["a"].previewManagerFactory({getSlowInfo:function e(t){var n=new i["a"];var r=document.createElement("IMG");var a=new Image;a.onload=function(){r.src=this.src;r.parentNode&&r.parentNode.removeChild(r);n.resolve()};a.onerror=function(){r.parentNode&&r.parentNode.removeChild(r);n.resolve()};a.src=t.previewIconURL;return n.promise},createPreview:n,itemDialogHandler:ne["a"],State:G["a"]})}},{key:"loadDynamicViews",value:function e(){var t=this;var n=function e(n){t.views=n;var r=qa(n);t.onLoadData(r);t.initLoadComplete=true};this.initLoadComplete?aa["a"].getList(this.app,true).then((function(e){t.views=e;var n=qa(e);t.onLoadData(n)})).catch((function(){this.loading=false})):this.$scope.listModel&&this.$scope.listModel.layout&&this.$scope.listModel.layout.qAppObjectList.qItems.length>0?aa["a"].getList(this.app,true).then((function(e){n(e)})).catch((function(){t.loading=false})):n([])}},{key:"onLoadData",value:function e(t){a["default"].$rootScope.$emit("clearUndo");this.list=Y["a"].localeOrderBy(t,(function(e){return e.name}))}},{key:"doFilter",value:function e(t){this.loading=true;var n=this.assets.query;var r=this.assets.dynamicView?this.assets.dynamicView.properties.data.id:this.assets.dynamicView;Y["a"].removeSelection(t);this.previewManager&&this.previewManager.close();null!==r&&(this.loading=false);return t.filter((function(e){var t=Y["a"].libraryMultiSearch(e,n,["name","secondaryName","tags"]);var i=e.dynamicViewId===r;return t&&i}))}},{key:"openContextMenu",value:function e(t,n){var r=a["default"].getService("qvContextMenu").menu();Y["a"].isAddToMode()&&r.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){z["a"].publish("/ui/library/addToSheet",{item:t})}});ne["a"].openContextMenu(r,t,n)}}]);return n}(ee);function Ia(e){var t=new Le(e,"charts");var n={id:"assets-tab-template",section:t,name:"Common.Charts",button:{icon:"object",text:"Common.Charts"}};return new I(n)}function ka(e){var t=new Xt(e);var n={id:"assets-tab-field",section:t,name:"Common.Fields",hasTableFilter:true,haveManageDataButtons:true,button:{icon:"database",text:"Common.Fields"}};var r=new I(n);return r}function Aa(e){var t=[new jn(e),new vr(e),new $r(e)];t.push(new ia(e));var n={id:"library",sections:t,name:"Toolbox.Tab.Title.MasterItems",button:{icon:"link",text:"Tooltip.Toolbox.MasterItems"}};return new B(n)}function Ta(e,t,n){var i="Common.CustomObjects";var a=[];var o=n.then((function(){(Object(r["b"])("CLOUD_EXTENSIONS")||!Object(r["b"])("CLOUD_EXTENSIONS")&&!Object(r["b"])("DISABLE_ONPREM_EXTENSIONS"))&&a.push(new Le(e,"extensions"));var n=re["a"].getRegisteredNames();var i={};n.forEach((function(e){var t=re["a"].getType(e).getLibraryInfo();t&&t.bundle&&t.bundle.id&&!i[t.bundle.id]&&(i[t.bundle.id]=t.bundle)}));Object.keys(i).forEach((function(t){a.push(new Le(e,"extensions",t,i[t]))}));return t.then((function(t){t.forEach((function(t){var n=new ui(e);n.title=t.data.name;n.name=t.data.name;n.id=t.data.name;n.infoTitle=U["default"].get("AssetsPanel.Widgets.libraryInfoHeading",n.title);n.description=t.data.description;n.onLoadData(t.resolvedWidgets);a.push(n)}));return a}))}));var s={id:"widgets",sectionsPromise:o,name:i,longname:"Common.CustomObjects",button:{icon:"puzzle",text:"Common.Extensions"}};return new B(s)}function Da(e,t){var n=new Ni(e,t);var r={id:"assets-tab-odag",section:n,name:"ODAG.Toolbox.PanelTitle.NavLinks",hasTableFilter:false,button:{icon:"sign-post",text:"ODAG.Toolbox.Title.ODAGToolbar"}};var i=new I(r);return i}function Oa(e,t){var n=new Ea(e,t);var r={id:"assets-tab-dynamic",section:n,name:"DynamicViews.Tab.Title",hasTableFilter:false,hasDynamicViewFilter:true,button:{icon:"dynamic-view",text:"DynamicViews.Tab.Title"}};var i=new I(r);return i}var La={createWidgetTab:Ta,createMasterItemsTab:Aa,createFieldTab:ka,createTemplateTab:Ia,createDynamicViewsTab:Oa,createODAGTab:Da};var Ma=n("xiWV");var Pa=n("+qAE");var Na=n("84zN");function Ra(e,t){t.widgets=t.widgets||[];Object.defineProperties(this,{id:{value:e},data:{value:t,writable:true}});t.type="widget-library"}function Fa(e){e=e||this;return Na["a"].saveLibrary(e)}Ra.prototype.save=Fa;Ra.save=Fa;Ra.getList=function(){return Pa["a"].getList().then((function(e){var t=[];e.forEach((function(e){"widget-library"===e.data.type&&t.push(new Ra(e.id,e.data))}));return t}))};Ra.get=function(e){return Na["a"].getLibrary(e).then((function(t){return new Ra(e,t)}))};var _a=Ra;var ja='<div class="assets-section" tid={{section.id}}>\n  <div ng-if="section.allowAdd" class="library-section-add-button-wrapper">\n    <lui-button qva-activate="section.addAction()" id="{{section.addId}}" q-translation="{{section.addText}}">\n    </lui-button>\n  </div>\n  <div ng-if="section.hasDynamicViewFilter">\n    <qv-assets-dynamic-view-select dynamic-view="section.assets.dynamicView" dyn-views="section.views" app="section.app" allow-edit="section.allowAdd"></qv-assets-dynamic-view-select>\n  </div>\n  <qv-assets-list query="section.assets.query" section="section">\n  </qv-assets-list>\n</div>';var Ba=n("PoH+");var Va=n.n(Ba);var Ha=n("Z9ZH");var za=n.n(Ha);var $a='<div class="assets-list" ng-class="{ empty: !section.items.length }">\n\n  <div class="expanded-info-header " ng-show="!section.loading && section.hasMetaInfo"\n    ng-class="{\'expanded\': section.infoExpanded}">\n    <div class="expanded-info-collapsed-header">\n      <div class="expanded-info-collapsed-title" ng-bind="section.infoTitle" title="{{section.infoTitle}}"></div>\n      <span class="lui-icon lui-icon--more" ng-click="section.infoExpanded = !section.infoExpanded;"\n        q-title-translation="Tooltip.AssetPanel.ExpandWidgetInformation"></span>\n    </div>\n    <div class="expanded-info">\n      <div class="info-image"></div>\n      <div class="expanded-info-content" ng-bind="section.description"></div>\n      <div class="expanded-info-content" ng-if="section.shouldShowCloudExtensionsWarning">\n        <div>\n          <span class="extension-warning-icon lui-icon lui-icon--warning-triangle"></span>\n          <div class="expanded-info-content extension-warning-text" ng-bind="section.cloudExtensionWarning"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <span class="assets-nohits" ng-show="!section.loading && !query && !section.items.length"\n    q-translation="library.noitems"></span>\n  <qv-assets-search-no-hits query="query" show="!section.loading && query && !section.items.length">\n  </qv-assets-search-no-hits>\n\n  <qv-scroll-area class="scroll-area" ng-show="!section.loading"\n    ng-class="{ \'native-scroll-enabled\': !scroll.virtualScrollEnabled }">\n    <qv-scroll-load-button ng-show="scroll.loadPrevious" on-load="scroll.gotoPreviousBlock()"\n      text="Object.Listbox.LoadPrevious" previous="true"></qv-scroll-load-button>\n\n    <ul class="lui-list assets-n-minutes__list" ng-class="{ \'align-bottom\': scroll.alignBottomAbsolute }">\n\n      <li ng-repeat="item in scroll.items track by item.id" ng-hide="item.hidden"\n        class="lui-list__item lui-list__action library-item qv-draggable" data-id="{{item.id}}"\n        ng-click="itemClicked(item, $event)" qva-context-menu="itemContextMenu(item, $event)"\n        ng-dblclick="itemDblClick(item, $event)"\n        ng-class="{ \'lui-active\': item.selected, \'lui-disabled\': item.disabled, \'derived-field-item\' : item.isDerived && query === \'\' }"\n        title="{{item.name}}">\n        <div ng-if="item.icon" class="lui-icon lui-icon--{{item.icon}} lui-list__aside"\n          q-title-translation="{{item.iconTooltip}}"></div>\n        <div class="lui-list__text library-item-text">\n          <div ng-if="item.isDateField" class="lui-icon lui-icon--calendar icon-align"></div>\n          <div ng-if="item.isGeoField" class="lui-icon lui-icon--map icon-align"></div>\n          <div class="titles">\n            <span qve-highlight text="{{ getDisplayText(item) }}" query="query" class="title"></span>\n            <span ng-if="item.secondaryName" qve-highlight text="{{item.secondaryName}}" query="query"\n              class="title secondary-title">{{item.secondaryName}}</span>\n          </div>\n        </div>\n        <div ng-if="item.match.tags" class="lui-icon lui-icon--tag lui-list__aside"></div>\n        <div ng-if="item.derivedFields.length > 0" class="toggle-expand lui-icon lui-list__aside"\n          ng-class="isExpanded(item) ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\'"></div>\n        <i class="lui-icon lui-list__aside lui-icon--draggable" q-title-translation="Common.Move"></i>\n      </li>\n    </ul>\n\n    <qv-scroll-load-button ng-show="scroll.loadNext" on-load="scroll.gotoNextBlock()" text="Object.Listbox.LoadMore">\n    </qv-scroll-load-button>\n  </qv-scroll-area>\n  <qv-scroll-loader no-rain="true"></qv-scroll-loader>\n\n  <div class="assets-loading" ng-show="section.loading"><span q-translation="Common.Loading"></span>\n    <qv-spinner show="section.loading"></qv-spinner>\n  </div>\n\n</div>';var Ua=n("rwJ+");var Ga=n("UJnM");var Wa=n("7TTN");var Qa=n("xw0d");var Ka=n("knjk");var Ya=n("kh9L");var Ja='<div ng-show="show" class="assets-nohits">\n\t<div class="query">“<div>{{query}}</div>”</div>\n\t<span class="message" q-translation="Toolbox.Search.Nohits"></span>\n</div>\n';var Za={restrict:"E",replace:true,scope:{query:"=",show:"="},template:Ja};a["default"].directive("qvAssetsSearchNoHits",[function(){return Za}]);var Xa=Za;var eo={restrict:"E",replace:true,scope:{query:"=",section:"="},template:$a,link:function e(t,n){var i;var o=false;var s=n.find(".expanded-info-header");var l=Object(r["b"])("CLASSIFY_ON_DEMAND");var c=false;var u=45;var d={minRowHeight:u,maxRowHeight:u,blockSize:60,keepItemsCount:10};var f=a["default"].getService("$timeout");var p=new Ga["a"](f,d);t.scroll=p;var h=new Qa["a"](p);var v=n.find(".scroll-area");var m=v.controller("qvScrollArea");s&&s.on("transitionend",(function(e){"max-height"===e.originalEvent.propertyName&&f(I,0)}));function g(){if(i){clearTimeout(i);i=null}}function b(e){for(var n=0;n<t.section.items.length;n++)if(t.section.items[n].id===e.id)return n;return-1}t.getDisplayText=function(e){var n=e.isDerived&&""===t.query?e.qName:Ka["a"].trimAutoCalendarName(e.name);return n};t.itemDblClick=function e(n,r){t.section.closePreview();n.selected&&Y["a"].toggleSelection(n,r);if(n.disabled)return;if(l&&!c&&"field"===n.type){t.section.addItemToSheetOrActiveObject(n,void 0,true);c=true}else t.section.addItemToSheetOrActiveObject(n);g()};t.itemContextMenu=function e(n,r){if(n.disabled)return;t.section.openContextMenu(n,r)};t.isExpanded=function(e){return t.section.expanded&&t.section.expanded[e.id]};t.inMomentumScroll=function(e,t){var n=Ua["a"].elementFromEventPosition(t);return e!==K()(n).scope().item};function y(e,n){var r=b(e);o=false;if(e.derivedFields&&e.derivedFields.length>0){t.section.items.splice(r+1,e.derivedFields.length);n||h.setList(t.section.items,true)}t.section.expanded[e.id]=false}function w(e,n){var r=b(e);o=true;t.section.expanded[e.id]=true;if(e.derivedFields&&e.derivedFields.length>0){var i=[r+1,0].concat(e.derivedFields);Array.prototype.splice.apply(t.section.items,i);n||h.setList(t.section.items,true)}}t.itemClicked=function e(n,r){g();i=setTimeout((function(){if(za.a.utils.touch&&t.inMomentumScroll(n,r))return;if(n.disabled)return;n.derivedFields&&n.derivedFields.length>0&&(t.section.expanded[n.id]?y(n):w(n));if(!Y["a"].toggleSelection(n,r)){t.$apply();return}S(n,r)}),200)};function S(e,r){var i=K()(r.currentTarget);var a;a=p.virtualScrollEnabled&&p.alignBottomAbsolute?0===p.items.indexOf(e)?-1:0:t.itemOffLimitPx(i,n);function o(){t.section.openPreview(e,r);t.$apply()}function s(e){return e>0?1:e<0?-1:0}if(0===a)o();else if(p.virtualScrollEnabled){var l=p.getVirtualScrollAmount(0,s(a),1);m.scroll(0,l.deltaY);f(o)}else{v.one("scroll",(function(){o()}));v[0].scrollTop+=a}}t.itemOffLimitPx=function(e,t){var n=e.position();var r=n.top;if(r<0)return r;r=n.top+e.outerHeight()-t.height();if(r>0)return r;return 0};function x(){a["default"].$apply(t,(function(){o||t.section.closePreview();o=false;a["default"].getService("qvContextMenu").close()}))}var C=Va.a.throttle(x,500);var q=new Wa["a"](v,v,".lui-list__item",".lui-list__item:first",".lui-list__item:last");var E=n.find(".qv-scroll-loader").controller("qvScrollLoader");p.initialize(q,h,m,E).then((function(){p.activate();p.updateViewport();t.$watch("section.items",(function(e){if(!e)return;p.updateViewport();var n=false;if(t.section.expanded)for(var r=0;r<e.length;r++)if(t.section.expanded[e[r].id]&&(r===e.length-1||!e[r+1].isDerived)){w(e[r],true);n=true}h.setList(e,n)}))}));p.Scroll.bind(C);function I(e){if(e){t.section.allowAdd&&(e.height-=37);q.getBoundingBox=function(){return e};q.getScrollAreaBoundingBox=function(){return e};h.resize().then((function(){delete q.getBoundingBox;delete q.getScrollAreaBoundingBox}))}else h.resize()}t.section.Resize.bind(I);t.$on("$destroy",(function(){p.destroy();s&&s.off("transitionend");t.section.Resize.unbind(I);p.Scroll.unbind(C)}))}};a["default"].directive("qvAssetsList",[function(){return eo}]);var to=eo;var no={restrict:"E",replace:true,scope:{section:"="},template:ja};a["default"].directive("qvAssetsSection",[function(){return no}]);var ro=no;var io=false;var ao=false;var oo;function so(e,t,n){var r=La.createTemplateTab(e);var i=La.createFieldTab(e);var a=La.createMasterItemsTab(e);var o=La.createWidgetTab(e,t,ie["a"].load());var s=[i,a,r,o];oo=i;if(io){var l=La.createODAGTab(e,n);s.push(l)}if(ao){var c=La.createDynamicViewsTab(e,n);s.push(c)}return s}function lo(e,t,n){var r=La.createTemplateTab(e);var i=La.createMasterItemsTab(e);var a=La.createWidgetTab(e,t,ie["a"].load());var o=[i,r,a];if(io){var s=La.createODAGTab(e,n);o.push(s)}if(ao){var l=La.createDynamicViewsTab(e,n);o.push(l)}return o}function co(){if(oo)return oo.section.classifyFieldList();return}function uo(){var e=[];var t=new i["a"];_a.getList().then((function(n){n.forEach((function(t){t.widgetPromises=[];t.data.widgets&&(t.widgetPromises=t.data.widgets.map((function(e){return Yr["a"].get(e,false,t.id)})));e.push(t)}));i["a"].all(n.map((function(e){return mo(e,e.widgetPromises)}))).then((function(){t.resolve(e)}))}));return t.promise}function fo(e){return gi["a"].isODAGAvailable().then((function(t){if(t)return gi["a"].canCreateLink(e);return{canCreateLinks:false}}))}function po(e){return Ma["a"].isDynamicViewAvailable().then((function(t){if(t)return Ma["a"].canCreateDynamicView(e);return{canCreateLinks:false}}))}function ho(e){return gi["a"].isODAGAvailable().then((function(t){if(t)return gi["a"].canCreateLink(e).then((function(e){if(e.canCreateLinks)return true;return fi["a"].getList().then((function(e){return e.getLayout().then((function(e){if(e.length>0)return true;return false}))}))}));return false}))}function vo(e){return Ma["a"].isDynamicViewAvailable(e).then((function(e){return e}))}function mo(e,t){return i["a"].all(t).then((function(t){e.resolvedWidgets=t}))}function go(e){return _t["a"].load(e).then((function(){_t["a"].isVariableDefined("DISABLE_AUTO_CHART")&&ie["a"].removeExtension("auto-chart")}))}var bo;function yo(){return Ke["a"].getApp().then((function(e){return i["a"].all({loadAppVariables:go(e),appLayout:e.getLayout(),odagLinkPermissions:fo(e),canShowODAGAssetsTab:ho(e),dynamicViewPermissions:po(e),canShowDynamicViewTab:vo(e),types:ie["a"].load(true)}).then((function(t){var n=t.appLayout;var i=(Object(r["b"])("IS_DESKTOPCLIENT")||!n.published)&&n.permissions.update;io=t.canShowODAGAssetsTab;ao=t.canShowDynamicViewTab;var a={createOdagLink:t.odagLinkPermissions.canCreateLinks&&n.permissions.update};a.createDynamicView=t.odagLinkPermissions.canCreateLinks&&n.permissions.update;Y["a"].init(n.permissions,a);var o=new s;o.fullMode=i;o.permissionToCreate=Y["a"].permissionToCreate;o.widgetLibraries=t.widgetLibraries;var l;l=i?so(o,uo(),e):lo(o,uo(),e);o.setTabs(l);return o}))}))}function wo(){bo||(bo=yo());return bo}var So=t["a"]={load:wo,loadAppVariables:go,classify:co}},AdxB:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},Al5b:function(e,t,n){"use strict";t["a"]={canModifyHardProperties:r,getPermissions:i};function r(e,t,n){var r=i(e,t,n)||{};return!!r.update}function i(e,t,n){var r=e.Views&&e.Views.sheet;if(n.qHasSoftPatches||n.qExtendsId)return{};if(n.qInfo&&"masterobject"===n.qInfo.qType&&n.permissions)return n.permissions;if(e.view===r)return e.model&&e.model.layout.permissions;return t.app&&t.app.layout.permissions}},ArTy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){e.gInstance=this}return e.instance=function(){return e.gInstance},e.prototype.setTreatConcatAsForcedConcat=function(e){this.concatAsForcedConcat=e},e.prototype.isTreatConcatAsForcedConcat=function(){return this.concatAsForcedConcat},e}();r.gInstance=new r,t.Defaults=r},AuIc:function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("h/48");var o=n("sWge");var s=n("dhFh");var l=n("4nJ1");function c(e){return p(e)||f(e)||d(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}function f(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function p(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function g(e,t,n){t&&m(e.prototype,t);n&&m(e,n);return e}var b=function(){function e(){v(this,e);this.isFilterPageVisible=false;this.sessionTables=null;this.activeTable=null}g(e,[{key:"reset",value:function e(){this.isFilterPageVisible=false;this.sessionTables=null;this.activeTable=null}},{key:"stripUnselectedFields",value:function e(t){t.fields=t.fields.filter((function(e){return e.selected}));return t}},{key:"createTablesHashMap",value:function e(t){var n={};i.a.each(t,(function(e){n[e.id]=e}));return n}},{key:"createFiltersHashMap",value:function e(t){var n={};i.a.each(t,(function(e){if(e){n[e.fieldId]||(n[e.fieldId]=[]);n[e.fieldId].push(e)}}));return n}},{key:"createFieldsHashMap",value:function e(t){var n={};i.a.each(t,(function(e){e.selected&&(n[e.id]=e)}));return n}},{key:"pruneEqualityFilters",value:function e(t){var n=[];var r=[];var o={};i.a.each(t,(function(e){e.operator===a["a"].CONTAINS.value?n.push(e):r.push(e)}));i.a.each(n,(function(e){if(o.hasOwnProperty(e.fieldId)){var t=o[e.fieldId].literalValues;o[e.fieldId].literalValues=l["a"].unique(t.concat(e.literalValues))}else o[e.fieldId]=e}));return r.concat(Object.values(o))}},{key:"sanitizeTables",value:function e(t){var n=this;var r=[];i.a.each(t,(function(e){e.hasOwnProperty("data")&&(e=e.data);e=n.synchronizeFields(e,e);var t;if(e.hasOwnProperty("disabled")){e.disabled&&delete e.filter;delete e.disabled}if(!e.hasOwnProperty("filter"))return;t=e.filter;var i=t.operands.slice(0);for(var a=i.length-1;a>=0;a--){var o=i[a];if(o.hasOwnProperty("disabled")&&o.disabled)t.operands.splice(a,1);else{o.hasOwnProperty("disabled")&&delete t.operands[a].disabled;void 0!==o.fieldId&&0!==o.literalValues.length||t.operands.splice(a,1)}}if(t.operands.length){e.filter=t;e.filter.operands=n.pruneEqualityFilters(t.operands)}else delete e.filter;r.push(e)}));return o["a"].resolve(r)}},{key:"synchronizeTables",value:function e(t){var n=this;null!==this.activeTable&&(this.sessionTables.tables=this.sessionTables.tables.filter((function(e){return e.id===n.activeTable})));var r=this.sessionTables.tables;var a=t;var o=this.createTablesHashMap(r);var s=this.createTablesHashMap(t);i.a.each(a,(function(e){o[e.id]||(o[e.id]=n.stripUnselectedFields(e))}));i.a.each(Object.keys(o),(function(e){s[e]?o[e].disabled=false:o[e].disabled=true}));return Object.values(o)}},{key:"synchronizeFields",value:function e(t,n){var r;if(void 0===n)return t;var a={};var o=!!n.filter;if(!o)return t;if(!n.filter.operands)return t;var s=this.createFieldsHashMap(n.fields);var l=this.createFiltersHashMap(t.filter.operands);i.a.each(n.filter.operands,(function(e){var t=l[e.fieldId];s[e.fieldId]?i.a.each(t,(function(e){e.disabled=false})):i.a.each(t,(function(e){e.disabled=true}));l[e.fieldId]=t}));var u=Object.values(l);a[t.id]=(r=[]).concat.apply(r,c(u));t.filter.operands=a[t.id];return t}},{key:"getFilterCount",value:function e(t){var n=this;var r=0;return this.getSelections().then((function(e){i.a.each(e.tables,(function(e){e.hasOwnProperty("data")&&(e=e.data);if(e.databaseName===t){n.activeTable&&n.activeTable===e.id&&e.hasOwnProperty("filter")&&(r+=e.filter.operands.length);n.activeTable||e.hasOwnProperty("filter")&&(r+=e.filter.operands.length)}}));return o["a"].resolve(r)}))}},{key:"hideFilterPage",value:function e(){this.isFilterPageVisible=false}},{key:"showFilterPage",value:function e(){this.isFilterPageVisible=true}},{key:"getSelectionInfo",value:function e(){var t=this;return s["a"].getDataLoadInput().then((function(e){var n={tables:"",loadModel:{},filteredTables:{type:void 0,tables:[]},state:{cancelled:false}};if(e.tableModelToEdit){t.activeTable=e.tableModelToEdit.data.id;n.tables=t.getCheckedTables(e.qvInternals,e.newLoadModel,e.tableModelToEdit);n.loadModel=e.newLoadModel}else{n.tables=t.getCheckedTables(e.qvInternals,e.newLoadModel);n.loadModel=e.newLoadModel}return n}))}},{key:"getSelections",value:function e(){return this.getSelectionInfo().then((function(e){return e}))}},{key:"getCheckedTables",value:function e(t,n,r){var i=[];var a=t.activeConnector;var o;n.tableModels.forEach((function(e){var t=e.data.connectionInfo;if(r){if(r.data.id===e.data.id){o=e.data.fields.some((function(e){return e.selected}));e.data.fields.length>0&&o&&i.push(e)}}else if(a&&t.name===a.name&&t.sourceConnectorID===a.sourceConnectorID&&t.typeName===a.typeName){o=e.data.fields.some((function(e){return e.selected}));e.data.fields.length>0&&o&&i.push(e)}}));return i}}]);return e}();t["a"]=new b},AyDD:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("4nJ1");var o=n("6uJb");var s=n("mWu2");var l=n("H6Kg");var c=n("7WGe");var u=n("sWge");var d=n("z4LI");var f=n("jaci");var p=n("Pu84");var h=n("xlAv");var v=n("qIU/");var m=n("9Ib8");function g(e){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return g(e)}var b=1e3;var y=null;function w(e){var t=!y||y!==e;if(t){y=e;setTimeout((function(){y=null}),b)}return t}function S(e,t,n){var r=new u["a"];var i=e.layout;var a=i.qInfo.qId;if(w(a))return x(i,e,true,n).then((function(e){delete e.qInfo;return C(t,e)}));r.reject();return r.promise}function x(e,t,n,r,o,s){var c=new u["a"];var f=new Date;var h=n?a["a"].extend(true,{},e):e;I(t,h,o).then((function(){var o=void 0!==s?Promise.resolve(s):l["a"].getProperties();o.then((function(o){h.snapshotData={object:{size:t.objectSize},rtl:void 0!==o.rtl&&o.rtl,appLocaleInfo:o.qLocaleInfo};t.setSnapshotData(h,r||{}).then((function(){if(n){h.qInfo.qId=a["a"].generateId();h.visualizationType="masterobject"===e.qInfo.qType?e.visualization:e.qInfo.qType;h.sourceObjectId=e.qInfo.qId;h.sheetId=d["a"].model?d["a"].model.id:"";h.timestamp=f.getTime();h.isClone=false;h.qMetaDef={title:p["a"].getTitle(t)};h.supportExport=t.supportExport();delete h.qExtendsId;var r=i()(".qv-panel-sheet");h.snapshotData.parent={h:r.length?r.height():i()(window).height(),w:r.length?r.width():i()(window).width()}}else{h.snapshotData.object.origDataPages=t.model.layout.snapshotData.object.origDataPages;h.snapshotData.content&&(h.snapshotData.content.chartData=a["a"].extend(true,{},t.model.layout.snapshotData.content.chartData))}c.resolve(h)}))}))}));return c.promise}function C(e,t){var n=new u["a"];c["a"].create(t).then((function(t){if(t.limit){q(e.find(".qv-object"));n.resolve(t.id)}else s["default"].getService("qvAlertDialog").show({title:o["default"].get("Storytelling.Snapshot.MaxLimitReached.Title"),message:o["default"].get("Storytelling.Snapshot.MaxLimitReached.Text"),closeLabel:o["default"].get("Common.OK")})}));return n.promise}function q(e){e.prepend(i()('<div class="qv-snapshot-tool-flash '.concat(f["a"].direction,'" ></div>')).bind("oanimationend animationend webkitAnimationEnd",(function(){i()(this).remove()})))}function E(e){return c["a"].getSnapshotCount(e)}function I(e,t,n){var r=[];var i=[];var o=new u["a"];"undefined"===typeof n&&(n=true);t.qExtendsId&&"text-image"===t.visualization?e.model.app.getObject(t.qExtendsId).then((function(e){e.getProperties().then((function(e){s(e)}))})):e.model.getProperties().then((function(e){s(e)}));function s(e){c(r,"qStaticContentUrl",t,n);c(i,"qStaticContentUrlDef",e);l();o.resolve(t)}function l(){r.forEach((function(e,t){a["a"].extend(true,e,i[t])}))}function c(e,t,n,r){for(var i in n)if(n.hasOwnProperty(i)&&"qHyperCube"!==i&&"qHyperCubeDef"!==i)if(i===t){if(r){delete n[i];n.qStaticContentUrlDef={}}e.push(n.qStaticContentUrlDef)}else"object"===g(n[i])&&c(e,t,n[i],r)}return o.promise}function k(e,t){var n=JSON.stringify({data:e,appLocaleInfo:t||{},language:o["default"].language});return n}function A(e,t,n){var r,i;var a={APIType:h["a"],freeResize:true,_skipRegisterExtensions:true,_readStoredData:true,_validatePromised:true,onRendered:n};(null===(r=t.snapshotData)||void 0===r?void 0:r.rtl)&&(a.direction="rtl");if("boxplot"===e||"distributionplot"===e||"histogram"===e||"waterfallchart"===e||"piechart"===e){a.navigation=false;a.selections=false;a.tooltips=false}else{a._disableSelections=true;a.selections={_disableSelectionActivation:true,_enablePanning:false,toggleRect:false,swipe:false,tooltip:{touchTimeout:0}}}var o=v["a"].getMockedModel(t,(null===(i=t.snapshotData)||void 0===i?void 0:i.appLocaleInfo)||{});return{options:a,model:o}}t["a"]={createSnapshot:S,getNumberOfSnapshots:E,prepSnapshotData:x,prepareStaticContent:I,formatSnapshotForRendering:k,getSnapshotInput:A}},Azxh:function(e,t,n){"use strict";var r=n("q6LT");var i=r["a"].extend("Listbox",{init:function e(t){this._super(t,"/qListObjectDef",{width:1});this.cacheCube.setMethodName("getListObjectData")},select:function e(t,n,r){return this.model.selectListObjectValues(this.path,n,r)},selectAll:function e(){return this.model.selectListObjectAll(this.path)},selectPossible:function e(){return this.model.selectListObjectPossible(this.path)},selectAlternative:function e(){return this.model.selectListObjectAlternative(this.path)},selectExcluded:function e(){return this.model.selectListObjectExcluded(this.path)},search:function e(t){return this.model.searchListObjectFor(this.path,t)},abortSearch:function e(){return this.model.abortListObjectSearch(this.path)},confirmSearch:function e(t){return this.model.acceptListObjectSearch(this.path,t)},updateCache:function e(t){this.cacheCube.set(t.qListObject.qDataPages);this.cacheCube.setCubeSize(t.qListObject.qSize)},setInitialData:function e(t){this.cacheCube.set(t.qListObject.qDataPages)},getData:function e(t){return this.cacheCube.getData(t)},getDataPage:function e(t){return this.getData([t]).then((function(e){return e[0]}))},getSize:function e(){return this.model.layout.qListObject.qSize},lock:function e(){return this.model.lock(this.path)},unlock:function e(){return this.model.unlock(this.path)},isLocked:function e(){return!(!this.model.layout||!this.model.layout.qListObject)&&!!this.model.layout.qListObject.qDimensionInfo.qLocked},isDrillDown:function e(){return!(!this.model.layout||!this.model.layout.qListObject)&&"H"===this.model.layout.qListObject.qDimensionInfo.qGrouping},getDimensionInfos:function e(){if(this.model.layout&&this.model.layout.qListObject)return[this.model.layout.qListObject.qDimensionInfo];return[]}});t["a"]=i},B52N:function(e,t,n){"use strict";n.r(t);var r=n("PoH+");var i=n.n(r);var a=n("+GbC");var o={init:function e(){}};var s="screen and (orientation: portrait)";var l="screen and (max-width: 640px), screen and (max-height: 480px)";var c;var u;o.Orientation={portrait:"portrait",landscape:"landscape"};var d=false;var f=false;var p=o.Orientation.landscape;function h(e){return"function"===typeof e}function v(e){d=e.matches;o.ViewChanged.emit(d)}function m(e){f=e.matches;o.ViewChangedDirect.emit(f)}var g=i.a.debounce(v,250);function b(e){p=e.matches?o.Orientation.portrait:o.Orientation.landscape;o.OrientationChanged.emit(p)}function y(){if(c&&h(c.removeListener)){c.removeListener(g);c.removeListener(m)}u&&h(u.removeListener)&&u.removeListener(b)}function w(){y();if(window&&h(window.matchMedia)){c=window.matchMedia(l);u=window.matchMedia(s);c.addListener(g);c.addListener(m);u.addListener(b)}}function S(){v(c);m(c);b(u)}a["a"].mixin(o);o.notification("ViewChanged");o.notification("ViewChangedDirect");o.notification("OrientationChanged");o.init=function e(t){if(true===t){w(t);S(t)}};o.destroy=y;Object.defineProperties(o,{isSmallDevice:{get:function e(){return d}},isSmallDeviceDirect:{get:function e(){return f}},orientation:{get:function e(){return p}}});t["default"]=o},BFYT:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("MGTR");var o=n("sWge");var s=n("4nJ1");var l=n("TZGQ");var c=n("GhQW");var u=n("Hb6E");var d=n("AJ0W");function f(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){f(a,r,i,o,s,"next",e)}function s(e){f(a,r,i,o,s,"throw",e)}o(void 0)}))}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),true).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function y(e,t,n){t&&b(e.prototype,t);n&&b(e,n);return e}var w;var S=function(){function e(){g(this,e)}y(e,[{key:"_getAPI",value:function e(){w||(w=l["a"].getApi("api/dataprepservice/v1","openapi",void 0,void 0,void 0,void 0,d["a"].getServerNodeId()));return w}},{key:"_handleRestResponse",value:function e(t,r,i){if(i.body&&i.body.notification&&1005===i.body.notification.data.code){a["a"].publish(u["a"].Events.PubSub.StartSpin,{method:t});return this.executeAfterReload({apiFunc:this[t],initialParams:r}).finally((function(){a["a"].publish(u["a"].Events.PubSub.StopSpin,{method:t})}))}i.body.response&&i.body.response.loadModel&&Promise.all([n.e(103),n.e(105)]).then((function(){var e=[n("wSFN")];(function(e){var t=e.default;t.updateProperties(i.body.response.loadModel)}).apply(null,e)})).catch(n.oe);return i.body.response}},{key:"executeAfterReload",value:function e(t){var n=this;var r=new o["a"];this.waitForReload(r);return r.promise.then((function(){return t.apiFunc.apply(n,t.initialParams)}))}},{key:"waitForReload",value:function e(t){var n=this;this.getProgress().then((function(e){n._checkProgress(e.result)?t.resolve(true):setTimeout((function(){n.waitForReload(t)}),1e3)}),(function(e){t.reject(e)}))}},{key:"_checkProgress",value:function e(t){var n=false;t.engine&&t.engine.qProgressData&&t.engine.qProgressData.qFinished&&true===t.dps.dataLoad.complete&&true===t.dps.profiling.complete&&(n=true);return n}},{key:"_getAppName",value:function e(){return s["a"].getParameterByName("app")}},{key:"getRestResponseHandler",value:function e(t,n){return function(){return this[t].bind(this,n)}.bind(this)}},{key:"getSerializedLoadModel",value:function e(){var t=this;var n=arguments;return this._getAPI().then((function(e){return e.apis.model.getCurrentLoadModel({appId:t._getAppName()}).then(t._handleRestResponse.bind(t,"getSerializedLoadModel",n))}))}},{key:"_addTables",value:function e(t){var n=this;var r=this;var i=arguments;return this._getAPI().then((function(e){var a={appId:r._getAppName(),body:t};var o=n.getOpenAPI3Body(a,e);return e.apis.table.addTables(a,o).then(r._handleRestResponse.bind(r,"_addTables",i))}))}},{key:"_getDesiredTransforms",value:function e(){var t=[];t.push("makeGeoPoint");t.push("lookupGeoInfo");return t}},{key:"isRunning",value:function e(){return this._getAPI()}},{key:"getForcedConcatRecommendations",value:function e(t){var n=this;var r=this;var i=arguments;return this._getAPI().then((function(e){var a={type:"concatenate",queries:t};var o={appId:r._getAppName(),body:a};var s=n.getOpenAPI3Body(o,e);return e.apis.table.recommendTableTransformation(o,s).then(r._handleRestResponse.bind(r,"getForcedConcatRecommendations",i))}))}},{key:"getTargetTables",value:function e(t,n){var r=this;var i=arguments;return this._getAPI().then((function(e){return e.apis.table.getCurrentTables({appId:r._getAppName(),forceReload:t,noData:n}).then(r._handleRestResponse.bind(r,"getTargetTables",i))}))}},{key:"getRecommendations",value:function e(){var t=this;var n=arguments;return this._getAPI().then((function(e){return e.apis.model.getRecommendations({appId:t._getAppName()}).then(t._handleRestResponse.bind(t,"getRecommendations",n))}))}},{key:"getCurrentClassification",value:function e(){var t=this;var n=arguments;return this._getAPI().then((function(e){return e.apis.model.getCurrentClassification({appId:t._getAppName()}).then(t._handleRestResponse.bind(t,"getCurrentClassification",n))}))}},{key:"getClassification",value:function e(){var t=this;var n=arguments;return this._getAPI().then((function(e){return e.apis.model.getClassification(v({appId:t._getAppName()},n[0])).then(t._handleRestResponse.bind(t,"getClassification",n))}))}},{key:"getTableRecommendations",value:function e(t){var n=this;var r=arguments;return this._getAPI().then((function(e){return e.apis.table.getTableRecommendations({appId:n._getAppName(),tableId:t}).then(n._handleRestResponse.bind(n,"getTableRecommendations",r))}))}},{key:"getTargetTablePreview",value:function e(t){var n=this;var r=arguments;return this._getAPI().then((function(e){return e.apis.table.getPreviewData({appId:n._getAppName(),tableId:t}).then(n._handleRestResponse.bind(n,"getTargetTablePreview",r))}))}},{key:"getTableFields",value:function e(t){var n=this;var r=arguments;return this._getAPI().then((function(e){return e.apis.field.getFieldExpressions({appId:n._getAppName(),tableId:t}).then(n._handleRestResponse.bind(n,"getTableFields",r))}))}},{key:"getLoadScript",value:function e(t){var n=this;var r=arguments;return this._getAPI().then((function(e){return e.apis.model.getCurrentScript({appId:n._getAppName(),useCache:t}).then(n._handleRestResponse.bind(n,"getLoadScript",r))}))}},{key:"invokeWithPolling",value:function e(t,n,r){var i=this;n&&a["a"].publish(u["a"].Events.PubSub.StartSpin,{method:r});var o=true;var s;s=setInterval((function(){o&&i.getProgress().then((function(){}))}),15e3);var l=function e(){o=false;void 0!==s&&clearInterval(s);s=void 0};return t().then((function(e){l();n&&a["a"].publish(u["a"].Events.PubSub.StopSpin,{method:r});return e}),(function(e){l();n&&a["a"].publish(u["a"].Events.PubSub.StopSpin,{method:r});throw e}))}},{key:"invokeWithGlobalSpinnerSupport",value:function e(t){a["a"].publish(u["a"].Events.PubSub.StartSpinInvalidation);return t().catch((function(){a["a"].publish(u["a"].Events.PubSub.StopSpinInvalidation)}))}},{key:"createConcatenatedQuery",value:function e(t,n,r){var i=this;var a=this;var o=arguments;return this.invokeWithGlobalSpinnerSupport((function(){return a._getAPI().then((function(e){var s={type:"forceConcatenate",payload:{name:t,queries:n,mappings:r}};var l={appId:a._getAppName(),body:s};var c=i.getOpenAPI3Body(l,e);return e.apis.table.applyTransformation(l,c).then(a._handleRestResponse.bind(a,"createConcatenatedQuery",o))}))}))}},{key:"createJoinedQuery",value:function e(t,n,r,i){var a=this;var o=this;var s=arguments;return this.invokeWithGlobalSpinnerSupport((function(){return o._getAPI().then((function(e){var l={type:"join",payload:{name:t,joinType:n,queries:r,mappings:i}};var c={appId:o._getAppName(),body:l};var u=a.getOpenAPI3Body(c,e);return e.apis.table.applyTransformation(c,u).then(o._handleRestResponse.bind(o,"createJoinedQuery",s))}))}))}},{key:"splitQuery",value:function e(t,n){var r=this;var i=this;var a=arguments;return this.invokeWithGlobalSpinnerSupport((function(){return i._getAPI().then((function(e){var o={type:"split",payload:{queries:[t],queryProperties:[{sourceQueries:n}]}};var s={appId:i._getAppName(),body:o};var l=r.getOpenAPI3Body(s,e);return e.apis.table.applyTransformation(s,l).then(i._handleRestResponse.bind(i,"splitQuery",a))}))}))}},{key:"synchronizeScriptedTables",value:function e(){var t=this;return this.invokeWithPolling((function(){return t.addTables([],true).then((function(e){return e}))}),true,"synchronize")}},{key:"getProgress",value:function e(){var t=this;var n=arguments;return this._getAPI().then((function(e){var r={appId:t._getAppName()};return e.apis.session.getProgress(r).then(t._handleRestResponse.bind(t,"getProgress",n))}))}},{key:"addTables",value:function e(t,n){var r=this;var a={data:[],applyTransformations:this._getDesiredTransforms(),defaults:{},scriptedSources:n};var o=function e(n){var r=t[n];var o={tables:[]};o.connectionInfo=i.a.extend(true,{},r.connectionInfo,{dbInfo:r.dbInfo});a.data.push(o);var s=o.tables;r.tablesAndFields.forEach((function(e){var t={databaseName:r.databaseName,ownerName:r.ownerName,tableName:e.table.qName,formatSpec:e.table.qFormatSpec,fileFormatSettings:e.table.fileFormatSettings};t.fields=[];e.fields.forEach((function(e){t.fields.push({name:e.qName,selected:true})}));s.push(t)}))};for(var s=0;s<t.length;s++)o(s);var l=new c["a"];return l.get().then((function(e){a.defaults.enableQVDCaching=e.enableQVDCaching;return r._addTables(a)}))}},{key:"getVisRecommendations",value:function e(t,n,r,i,a){var o=this;var s=arguments;return this._getAPI().then((function(e){var l={appId:o._getAppName()};if(t){var c=["fields","libItems","expressions","analysisTypes"];c.forEach((function(e){t[e]&&t[e].length&&(l[e]=JSON.stringify(t[e]))}));t.table&&(l.table=t.table);t.sp&&(l.sp=t.sp);if(t.customAnalysis){a||(a={});a.customAnalysis=t.customAnalysis}}r&&(l.bundleOverride=JSON.stringify(r));i&&(l.detailLevel=0===i.length?JSON.stringify([]):i);a=a||{};a.translate=true;l.options=JSON.stringify(a);var u=e.apis.visualization;var d=n?u.getVisualizationsForLoaded(l):u.getVisualizationsForCurrent(l);return d.then(o._handleRestResponse.bind(o,"getVisRecommendations",s))}))}},{key:"getBusinessViewPresentation",value:function e(){var t=this;return this._getAPI().then((function(e){var n={appId:t._getAppName()};return e.apis.businessModel.getPresentation(n).then((function(e){var t=e.obj.response;if(t.fields||t.libItems)return t;return}))}))}},{key:"getBusinessView",value:function(){var e=p(regeneratorRuntime.mark((function e(){var t=this;var n,r,i,a=arguments;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n=a.length>0&&void 0!==a[0]&&a[0];r=a.length>1&&void 0!==a[1]&&a[1];o.next=4;return this._getAPI().then((function(e){var i={appId:t._getAppName(),default:n,ignoreDisabledFlag:r};return e.apis.businessModel.getBusinessModel(i).then((function(e){return(null===e||void 0===e?void 0:e.obj)&&e}))}));case 4:i=o.sent;return o.abrupt("return",i);case 6:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getVocab",value:function(){var e=p(regeneratorRuntime.mark((function e(){var t=this;var n,r,i=arguments;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:n=i.length>0&&void 0!==i[0]?i[0]:"en";a.next=3;return this._getAPI().then((function(e){var r={appId:t._getAppName(),locale:n};return e.apis.businessModel.getAppVocabulary(r).then((function(e){return s["a"].isEmpty(e.body.response)?{entries:[]}:e.body.response}))}));case 3:r=a.sent;return a.abrupt("return",r);case 5:case"end":return a.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getVocabLocaleList",value:function(){var e=p(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return this._getAPI();case 2:t=i.sent;n={appId:this._getAppName()};i.next=6;return t.apis.businessModel.getAppVocabularyLocales(n);case 6:r=i.sent;return i.abrupt("return",r.body.response);case 8:case"end":return i.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"validateAppVocabulary",value:function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:s.next=2;return this._getAPI();case 2:r=s.sent;i={appId:this._getAppName(),locale:n,body:t};a=this.getOpenAPI3Body(i,r);s.next=7;return r.apis.businessModel.validateAppVocabulary(i,a);case 7:o=s.sent;return s.abrupt("return",o.body);case 9:case"end":return s.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setVocab",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s=arguments;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:"en";l.next=3;return this._getAPI();case 3:r=l.sent;i={appId:this._getAppName(),locale:n,body:t};a=this.getOpenAPI3Body(i,r);l.next=8;return r.apis.businessModel.setAppVocabulary(i,a);case 8:o=l.sent;return l.abrupt("return",o);case 10:case"end":return l.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteVocab",value:function(){var e=p(regeneratorRuntime.mark((function e(){var t,n,r,i,a=arguments;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:"en";o.next=3;return this._getAPI();case 3:n=o.sent;r={appId:this._getAppName(),locale:t};o.next=7;return n.apis.businessModel.clearAppVocabulary(r);case 7:i=o.sent;return o.abrupt("return",i);case 9:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"validateBusinessView",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n=this;var r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return this._getAPI().then((function(e){var r={appId:n._getAppName(),body:t};var i=n.getOpenAPI3Body(r,e);return e.apis.businessModel.validateBusinessModel(r,i).then((function(e){return e.body}))}));case 2:r=i.sent;return i.abrupt("return",r);case 4:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getInsightRecommendations",value:function e(t,n,r,i,a,o,s){var l=this;var c=arguments;r||(r=true);return this._getAPI().then((function(e){var u={appId:l._getAppName()};t&&(u.sp=t);o&&o.length>0&&(u.fields=JSON.stringify(o));s&&s.length>0&&(u.libItems=JSON.stringify(s));n&&(u.bundleOverride=JSON.stringify(n));i&&(u.detailLevel=0===i.length?JSON.stringify([]):i);a=a||{};a.translate=true;a&&(u.options=JSON.stringify(a));var d=e.apis.visualization;var f=r?d.getVisualizationsForLoaded(u):d.getVisualizationsForCurrent(u);return f.then(l._handleRestResponse.bind(l,"getVisRecommendations",c))}))}},{key:"bucketField",value:function e(t,n,r){var i=this;var a=this;var o=arguments;return this._getAPI().then((function(e){var s={type:"bucket",bucketing:r};s.bucketing.fieldId=n;var l={appId:a._getAppName(),tableId:t,body:s};var c=i.getOpenAPI3Body(l,e);return e.apis.table.applyTableTransformation(l,c).then(a._handleRestResponse.bind(a,"bucketField",o))}))}},{key:"applyOrdinal",value:function e(t,n,r){var i=this;var a=this;var o=arguments;return this._getAPI().then((function(e){var s={type:"ordinal",ordinals:r};var l={appId:a._getAppName(),tableId:t,fieldId:n,body:s};var c=i.getOpenAPI3Body(l,e);return e.apis.field.addFieldTransformation(l,c).then(a._handleRestResponse.bind(a,"applyOrdinal",o))}))}},{key:"applyFieldMapping",value:function e(t,n,r){var i=this;var a=this;var o=arguments;return this._getAPI().then((function(e){var s={type:"mapping",mappings:r};var l={appId:a._getAppName(),tableId:t,fieldId:n,body:s};var c=i.getOpenAPI3Body(l,e);return e.apis.field.addFieldTransformation(l,c).then(a._handleRestResponse.bind(a,"applyFieldMapping",o))}))}},{key:"splitField",value:function e(t,n,r){var i=this;var a=this;var o=arguments;return this._getAPI().then((function(e){var s={type:"splitField",splitDef:{fieldId:n,splitInfo:r}};var l={appId:a._getAppName(),tableId:t,body:s};var c=i.getOpenAPI3Body(l,e);return e.apis.table.applyTableTransformation(l,c).then(a._handleRestResponse.bind(a,"splitField",o))}))}},{key:"getOpenAPI3Body",value:function e(t,n){if("3.0.0"===n.spec.openapi){var r={requestBody:t.body,server:n.spec.servers[0].url};delete t.body;return r}return}},{key:"adaptVisualization",value:function e(t,n,r,i,a,o){var s=this;var l=this;var c=arguments;return this._getAPI().then((function(e){var u={action:t,datasetName:n,analysisType:i,dims:a,msrs:o,visType:r};var d={appId:l._getAppName(),body:u};var f=s.getOpenAPI3Body(d,e);return e.apis.visualization.createVisRecommendationForCurrent(d,f).then(l._handleRestResponse.bind(l,"adaptVisualization",c))}))}},{key:"adaptMatchRecord",value:function e(t,n,r,i,a,o){var s=this;var l=this;var c=arguments;return this._getAPI().then((function(e){var u={action:t,matchRecord:n,analysisType:r,detailLevel:[]};i&&(u.detailLevel=i);o&&(u.options=o);a&&(u.bundleOverride={exploreSupplemental:[a]});var d={appId:l._getAppName(),body:u};var f=s.getOpenAPI3Body(d,e);return e.apis.visualization.createVisRecommendationForLoaded(d,f).then(l._handleRestResponse.bind(l,"adaptVisualization",c))}))}},{key:"getExcludedCompareVisualizations",value:function e(t,n,r){var i=this;var a=arguments;return this._getAPI().then((function(e){var o={appId:i._getAppName(),detailLevel:"complete",analysisTypes:JSON.stringify(["excludedCompare","excludedCompareMsrSelector"]),bundleOverride:JSON.stringify({explore:"grayInsight"})};if(t.length>0)if(r){var s=[];t.forEach((function(e){s.push({libId:e})}));o.libItems=JSON.stringify(s)}else{var l=[];t.forEach((function(e){l.push({name:e,overrides:{classifications:["measure"],defaultAggregation:"sum"}})}));o.fields=JSON.stringify(l)}n&&(o.options=JSON.stringify(n));return e.apis.visualization.getVisualizationsForLoaded(o).then(i._handleRestResponse.bind(i,"getVisRecommendations",a))}))}},{key:"getAssociativeInsightsVisualizations",value:function e(t,n,r,i){var a=this;var o=this;var s=arguments;var l={};return this._getAPI().then((function(e){if(t.length>0)if(n){var c=[];t.forEach((function(e){c.push({libId:e})}));l.measures=c}else{var u=[];t.forEach((function(e){u.push({name:e})}));l.measures=u}if(r.length>0){var d=[];r.forEach((function(e){e.masterItem?d.push({libId:e.libId}):d.push({name:e.qName})}));l.dimensions=d}l.options=i;var f={appId:o._getAppName(),body:l};var p=a.getOpenAPI3Body(f,e);return e.apis.visualization.generateAssociativeInsights(f,p).then(o._handleRestResponse.bind(o,"getVisRecommendations",s))}))}},{key:"adaptAggregationForExcludedCompareVisualization",value:function e(t){var n=this;var r=this;var i=arguments;return this._getAPI().then((function(e){var a={action:"update",analysisType:"excludedCompare",matchRecord:t};var o={appId:r._getAppName(),body:a};var s=n.getOpenAPI3Body(o,e);return e.apis.visualization.createVisRecommendationForLoaded(o,s).then(r._handleRestResponse.bind(r,"adaptVisualization",i))}))}},{key:"getAffinity",value:function e(t,n,r){var i=this;var a=arguments;return this._getAPI().then((function(e){var o={appId:i._getAppName(),toFields:JSON.stringify(r)};n?o.fromLibItem=JSON.stringify(n):o.fromField=JSON.stringify(t);return e.apis.visualization.getAffinity(o).then(i._handleRestResponse.bind(i,"getAffinity",a))}))}},{key:"createBusinessModelPackage",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this._getAPI();case 2:n=o.sent;r={appId:this._getAppName(),body:t};i=this.getOpenAPI3Body(r,n);o.next=7;return n.apis.businessModel.addBusinessModelPackage(r,i);case 7:a=o.sent;return o.abrupt("return",a);case 9:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteBusinessModelPackageById",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return this._getAPI();case 2:n=a.sent;r={appId:this._getAppName(),id:t};a.next=6;return n.apis.businessModel.deleteBusinessModelPackageById(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setBusinessModel",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this._getAPI();case 2:n=o.sent;r={appId:this._getAppName(),body:t};i=this.getOpenAPI3Body(r,n);o.next=7;return n.apis.businessModel.setBusinessModel(r,i);case 7:a=o.sent;return o.abrupt("return",a);case 9:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearBusinessModel",value:function(){var e=p(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return this._getAPI();case 2:t=i.sent;n={appId:this._getAppName()};i.next=6;return t.apis.businessModel.clearBusinessModel(n);case 6:r=i.sent;return i.abrupt("return",r);case 8:case"end":return i.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBusinessOverView",value:function(){var e=p(regeneratorRuntime.mark((function e(){var t=this;var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return this._getAPI().then((function(e){var n={appId:t._getAppName()};return e.apis.businessModel.overviewBusinessModel(n).then((function(e){return(null===e||void 0===e?void 0:e.obj)&&e}))}));case 2:n=r.sent;return r.abrupt("return",n);case 4:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addBusinessModelEntity",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this._getAPI();case 2:n=o.sent;r={appId:this._getAppName(),body:t};i=this.getOpenAPI3Body(r,n);o.next=7;return n.apis.businessModel.addBusinessModelEntity(r,i);case 7:a=o.sent;return o.abrupt("return",a);case 9:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addBusinessModelFactGroup",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this._getAPI();case 2:n=o.sent;r={appId:this._getAppName(),body:t};i=this.getOpenAPI3Body(r,n);o.next=7;return n.apis.businessModel.addBusinessModelFactGroup(r,i);case 7:a=o.sent;return o.abrupt("return",a);case 9:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addBusinessModelCalendar",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this._getAPI();case 2:n=o.sent;r={appId:this._getAppName(),body:t};i=this.getOpenAPI3Body(r,n);o.next=7;return n.apis.businessModel.addBusinessModelCalendar(r,i);case 7:a=o.sent;return o.abrupt("return",a);case 9:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteBusinessModelEntityById",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return this._getAPI();case 2:n=a.sent;r={appId:this._getAppName(),id:t};a.next=6;return n.apis.businessModel.deleteBusinessModelEntityById(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteBusinessModelFactGroupById",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return this._getAPI();case 2:n=a.sent;r={appId:this._getAppName(),id:t};a.next=6;return n.apis.businessModel.deleteBusinessModelFactGroupById(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteBusinessModelCalendarById",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return this._getAPI();case 2:n=a.sent;r={appId:this._getAppName(),id:t};a.next=6;return n.apis.businessModel.deleteBusinessModelCalendarById(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"defineBusinessModelAvoidEntities",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n=t.denyFor.map((function(e){return e.name}));s.next=3;return this._getAPI();case 3:r=s.sent;i={appId:this._getAppName(),id:t.factAndGroupsId.factGroupId,factId:t.factAndGroupsId.id,body:n};a=this.getOpenAPI3Body(i,r);s.next=8;return r.apis.businessModel.defineBusinessModelAvoidEntities(i,a);case 8:o=s.sent;return s.abrupt("return",o);case 10:case"end":return s.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"defineBusinessModelRequiredSelections",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this._getAPI();case 2:n=o.sent;r={appId:this._getAppName(),id:t.factAndGroupsId.factGroupId,factId:t.factAndGroupsId.id,body:t.requireForFinalValues};i=this.getOpenAPI3Body(r,n);o.next=7;return n.apis.businessModel.defineBusinessModelRequiredSelections(r,i);case 7:a=o.sent;return o.abrupt("return",a);case 9:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"defineBusinessModelDefaultEntities",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n=t.preferFor.map((function(e){return e.name}));s.next=3;return this._getAPI();case 3:r=s.sent;i={appId:this._getAppName(),id:t.factAndGroupsId.factGroupId,factId:t.factAndGroupsId.id,body:n};a=this.getOpenAPI3Body(i,r);s.next=8;return r.apis.businessModel.defineBusinessModelDefaultEntities(i,a);case 8:o=s.sent;return s.abrupt("return",o);case 10:case"end":return s.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteBusinessModelAvoidEntities",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return this._getAPI();case 2:n=a.sent;r={appId:this._getAppName(),id:t.factGroupId,factId:t.factId};a.next=6;return n.apis.businessModel.deleteBusinessModelAvoidEntities(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteBusinessModelDefaultEntities",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return this._getAPI();case 2:n=a.sent;r={appId:this._getAppName(),id:t.factGroupId,factId:t.factId};a.next=6;return n.apis.businessModel.deleteBusinessModelDefaultEntities(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteBusinessModelRequiredSelections",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return this._getAPI();case 2:n=a.sent;r={appId:this._getAppName(),id:t.factGroupId,factId:t.factId};a.next=6;return n.apis.businessModel.deleteBusinessModelRequiredSelections(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setBusinessModelDisabledFlag",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this._getAPI();case 2:n=o.sent;r={appId:this._getAppName(),body:{isDisabled:t}};i=this.getOpenAPI3Body(r,n);o.next=7;return n.apis.businessModel.setBusinessModelDisabledFlag(r,i);case 7:a=o.sent;return o.abrupt("return",a);case 9:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"defineBusinessModelHierarchies",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this._getAPI();case 2:n=o.sent;r={appId:this._getAppName(),body:t};i=this.getOpenAPI3Body(r,n);o.next=7;return n.apis.businessModel.defineBusinessModelHierarchies(r,i);case 7:a=o.sent;return o.abrupt("return",a);case 9:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBusinessModelCalendarDefaultPeriodGrain",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return this._getAPI();case 2:n=a.sent;r={appId:this._getAppName(),id:t,useRoles:"true"};a.next=6;return n.apis.businessModel.getBusinessModelCalendarDefaultPeriodGrain(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]);return e}();t["a"]=S},BQvq:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function a(e,t,n){t&&i(e.prototype,t);n&&i(e,n);return e}function o(e){var t=e.getBoundingRect();return Number.isNaN(+t.x+t.y+t.width+t.height)}var s=function(){function e(t,n,i,a,o,s,l){r(this,e);if(!(!t||t instanceof Array)||!(!n||n instanceof Array)||!(!i||n instanceof Array)||!(!a||i instanceof Array))throw new Error("The dimensions, measures and values input must be undefined or arrays");this.selected=false;this.highlighted=false;this.values=i||[];this.labels=a||[];this.row=o;this.col=s;this.id=l;this.parent=void 0;this.children=[];this._dimensions=t||[];this._measures=n||[];this._customTooltipAttributes=[];this._customTooltipInfoAttributes=[];this._attrDims=[];this._attrDimTypes=[];this._objectShapes={};this._shapes=[];this._tooltipShape=void 0;this._tooltipShapeComponent=void 0}a(e,[{key:"clearShapes",value:function e(t){t&&this._objectShapes[t]&&(this._objectShapes[t]=[]);this._shapes=[];for(var n in this._objectShapes)this._shapes=this._shapes.concat(this._objectShapes[n])}},{key:"getShapes",value:function e(t){if(t){this._objectShapes[t]=this._objectShapes[t]||[];return this._objectShapes[t]}return this._shapes}},{key:"getShapeBounds",value:function e(t,n){if(this._calculateTooltipPosition&&t){var r=this.getShapes(t);var i=r.map((function(e){var t=e.getBoundingRect();if(!e.clearModelView){t=t.clone();t.set(t.x*n,t.y*n,t.width*n,t.height*n)}return t}));i=i.filter((function(e){return!o(e)}));if(i.length){var a=i.reduce((function(e,t){return e.combineWith(t)}),i[0]);return a}return null}return null}},{key:"addShape",value:function e(t,n,r){if(n instanceof Array&&(!n[0].pointInside||!n[0].getBoundingRect)||!n.pointInside||!n.getBoundingRect)throw new Error("The shape must implement a `pointInside` function");this._objectShapes[t]instanceof Array||(this._objectShapes[t]=[]);this._objectShapes[t].push(n);this._shapes.push(n);if(r){this._tooltipShape=n;this._tooltipShapeComponent=t}}},{key:"addMeasure",value:function e(t,n,r){this.values.push(n);this.labels.push(r);this._measures.push(t)}},{key:"getMeasures",value:function e(){return this._measures}},{key:"getMeasuresIndices",value:function e(){return this._measures.map((function(e,t){return t}))}},{key:"addCustomTooltipAttribute",value:function e(t){this._customTooltipAttributes.push(t)}},{key:"addCustomTooltipInfoAttributes",value:function e(t){this._customTooltipInfoAttributes.push(t)}},{key:"addDimension",value:function e(t){this._dimensions.push(t)}},{key:"getDimensions",value:function e(){return this._dimensions}},{key:"addAttributeDimension",value:function e(t,n,r){this._attrDims.push({value:t,label:n,name:r})}},{key:"getAttributeDimensions",value:function e(t){if(this._attrDims.length){if(Number.isNaN(+t))return this._attrDims.map((function(e){return e.value}));return[this._attrDims[t].value]}return null}},{key:"getValue",value:function e(t){t=t||0;return this.values[t]}},{key:"getPreformattedLabel",value:function e(t){t=t||0;return this.labels[t]}},{key:"getCombinedElementID",value:function e(){var t=this;var n=[t.id];while(t.parent){t=t.parent;n.push(t.id)}n.reverse();return n.join(",")}},{key:"siblings",get:function e(){if(this._parent)return this._parent.children;return[]}}]);return e}();s.prototype.isCacheItem=true;Object.defineProperties(s.prototype,{tooltipShape:{get:function e(){return this._tooltipShape}},calculateTooltipPosition:{set:function e(t){this._calculateTooltipPosition=t},get:function e(){return this._calculateTooltipPosition}},interactPosition:{set:function e(t){this._interactPosition=t},get:function e(){return this._interactPosition}},tooltipShapeComponent:{get:function e(){return this._tooltipShapeComponent}},label:{get:function e(){throw new Error("CacheItem: label: Removed functionality")}},shape:{get:function e(){throw new Error("CacheItem: shape: Removed functionality")}},value:{get:function e(){throw new Error("CacheItem: value: Removed functionality")}}});t["a"]=s},BUOA:function(e,t,n){"use strict";var r=n("H6Kg");var i=n("wIyQ");var a=n("acVu");var o={};var s=false;Object.defineProperty(o,"isDisabledForApp",{get:function e(){return s}});o.setIsDisabledForApp=function(e){if(s!==e){s=e;setTimeout((function(){i["a"].force("end")}))}};o.isDisabled=function(e){if(Object(a["b"])("OBJECT_HOVER_TOGGLE")){var t,n,r,i,o;var l=!!(null===e||void 0===e||null===(t=e.model)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.dynamicChart)&&!!(null===(r=e.model.items.currentObject)||void 0===r||null===(i=r.layout)||void 0===i?void 0:i.disableNavMenu);return s||!!(null===e||void 0===e||null===(o=e.layout)||void 0===o?void 0:o.disableNavMenu)||l}return false};r["a"].UpdateObjProps.bind((function(e){o.setIsDisabledForApp(e.disableCellNavMenu)}));t["a"]=o},BcSl:function(e,t,n){"use strict";var r={CUSTOM:{EXPRESSION:"customTooltipExpression",TITLE:"customTooltipTitle",DESCRIPTION:"customTooltipDescription",QUARANTINE:"customTooltip",IMAGES:"customTooltipImages"}};t["a"]=r},"Bcg+":function(e,t,n){"use strict";var r=n("GMLQ");var i='<div class="qv-cloud">\n\t<div class="qv-tageditor">\n\t\t<div class="lui-input-group">\n\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input qv-tagText" tid="tag-cloud-input" ng-model="tagInput" type="text" maxlength="31">\n\t\t\t<button class="lui-button  lui-input-group__item  lui-input-group__button" data-tid="tag-button">\n\t\t\t \t<span class="lui-button__icon  lui-icon  lui-icon--plus" q-title-translation="Tooltip.AddTag" ng-click="addTagsAndFocus( $event )"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div tid="tag-cloud-cloud" class="qv-tagCloud" data-value="tags">\n\t\t<span ng-repeat="tag in tags" class="qv-tagItem lui-tag">\n\t\t\t<div class="qv-tagContent">{{tag}}</div>\n\t\t\t <div class="lui-icon lui-icon--remove qv-clearTag" ng-click="removeTagAt( $index )" q-title-translation="Common.Delete"></div>\n\t\t</span>\n\t</div>\n</div>\n';var a=30;r["a"].directive("qvTagcloud",["$parse",function(e){return{template:i,replace:true,restrict:"E",scope:{tags:"=",onChange:"&"},link:function t(n,r,i){n.tagInput="";var o=r.find(".qv-tagText");o.bind("blur",(function(){n.$apply((function(){n.addTags()}))}));o.bind("keydown",(function(e){if(13===e.which){e.stopPropagation();n.$apply((function(){n.addTags()}))}}));function s(e){var t=n.tags;e=e.trim();if(!e||-1!==t.indexOf(e)||t.length>=a)return;t.push(e)}n.removeTagAt=function(e){n.tags.splice(e,1);n.onChange()};n.addTags=function(){var e=n.tagInput;if(!e)return;n.tagInput="";var t=e.trim().split(",");t.forEach(s);n.tags.sort((function(e,t){return e.localeCompare(t)}));n.onChange()};n.addTagsAndFocus=function(e){e.preventDefault();n.addTags();o.focus()};var l=e(i.update);l.assign&&l.assign(n.$parent,n.addTags)}}}])},BvTh:function(e,t,n){"use strict";var r=n("2V7U");var i=n("UV1h");function a(){}a.getThemeList=function(){return i["a"].getAvailableThemes().then((function(e){return e.custom?e.default.concat(e.custom):e.default}))};a.prototype.apply=function(e){return i["a"].applyTheme(e).then((function(e){return e}))};a.prototype.get=function(e){return i["a"].getThemeJSON(e).then((function(t){return new r["a"](e,t)}))};t["a"]=a},Bx2S:function(e,t,n){"use strict";var r="qCaoStorageObj";var i="qCaoGlobalStorageObj";function a(){var e=JSON.parse(sessionStorage.getItem(r));null===e&&(e=JSON.parse(localStorage.getItem(r))||{});return e}function o(e){var t=JSON.parse(localStorage.getItem(r))||{};if(!t||!t[e]){t[e]={contextPanel:true,assetsPanel:true,caoTour:{dismissed:false,step:0},nluInfoClosed:false};sessionStorage.setItem(r,JSON.stringify(t));localStorage.setItem(r,JSON.stringify(t));return t[e]}return t[e]}function s(){var e=JSON.parse(sessionStorage.getItem(i));null===e&&(e=JSON.parse(localStorage.getItem(i))||{});e&&e.caoTourDismissed||(e.caoTourDismissed=false);sessionStorage.setItem(i,JSON.stringify(e));localStorage.setItem(i,JSON.stringify(e));return e}var l={globalStorageObj:function e(){return s()},storageObj:function e(t){return o(t)},toggleContextPanel:function e(t){var n=a();n[t].contextPanel=!n[t].contextPanel;localStorage.setItem(r,JSON.stringify(n));sessionStorage.setItem(r,JSON.stringify(n));return n},toggleAssetsPanel:function e(t){var n=a();n[t].assetsPanel=!n[t].assetsPanel;localStorage.setItem(r,JSON.stringify(n));sessionStorage.setItem(r,JSON.stringify(n));return n},setStorageValueByProp:function e(t,n,i){var o=a();o[t][i]=n;localStorage.setItem(r,JSON.stringify(o));sessionStorage.setItem(r,JSON.stringify(o));return o},setCaoTour:function e(t){var n=t.appId,o=t.step,l=t.dismissed;var c=a();var u=s();if(l){u.caoTourDismissed=l;localStorage.setItem(i,JSON.stringify(u));sessionStorage.setItem(i,JSON.stringify(u))}c[n].caoTour={step:o,dismissed:l};localStorage.setItem(r,JSON.stringify(c));sessionStorage.setItem(r,JSON.stringify(c));return c},toggleNluInfo:function e(t){var n=a();n[t].nluInfoClosed=!n[t].nluInfoClosed;localStorage.setItem(r,JSON.stringify(n));sessionStorage.setItem(r,JSON.stringify(n));return n}};t["a"]=l},"C5K+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=n("yB4Y"),a=n("SD8o"),o=function(){function e(){}return e.areQueryFieldsEqual=function(t,n,i,a){var o=e._normalizeQueryField(t,i,a),s=e._normalizeQueryField(n,i,a);return r.isEqual(o,s)},e.areLoadModelsEqual=function(e,t){var n=e.serialize(),i=t.serialize();return r.isEqual(n,i)},e.findSourceTableFieldByRef=function(e,t){return r.find(e.fields,(function(e){return e.id===t}))},e.generateUniqueFieldName=function(t,n,r,i){for(var a=n,o=1,s=null;t.isTargetTableFieldNameInUse(a)&&(!i||!(s=e.doesAddingFieldCauseConcatenation(t,r,a)));)a=n+"_"+o,o++;return{name:a,concatenatedName:s?s.name:""}},e.doesAddingFieldCauseConcatenation=function(e,t,n){var a=e.rawClone(),o=a.getTargetTableModelById(t);o.createTransformField(n,[]),a.serialize();var s=null;return r.filter(a.queries,(function(e){return e.type===i.DSMTypes.ConcatenationQuery.name})).forEach((function(e){r.find(e.sourceQueries,(function(e){return e.name===o.data.name}))&&(s=e)})),s},e.getQualifiedFieldName=function(e,t,n){for(var r=t+"."+n;e.isFieldNameInUse(r);)r=t+"."+r;return r},e.areSourceFieldAliasesUnique=function(e){var t=e.tableModels,n=!1;return t.forEach((function(e){if(!n){var t=e.data.fields.filter((function(e){return e.selected})),r=t.map((function(e){return e.alias}));n=r.some((function(e,t){return r.indexOf(e)!==t}))}})),!n},e._normalizeQueryField=function(t,n,i){var o=a.SharedUtil.extend(!0,{},t),s=e.schemas[t.type];if(!s)throw new TypeError("Field is missing a required property ( type ) and cannot be properly normalized.");return r.pairs(s).forEach((function(e){var t=e[0],r=e[1].optional;if(i&&"transformations"===e[0]&&o.transformations)for(var a=o.transformations,s=a.length-1;s>=0;s--)i(a[s])&&a.splice(s,1);if(n&&n(t))delete o[t];else if(r){var l=e[1].defaultValue;o.hasOwnProperty(t)||(o[t]=l)}else if(!o.hasOwnProperty(t))throw new TypeError("Field is missing a required property ( "+t+" ) and cannot be properly normalized.")})),o},e}();o.schemas={QueryExpressionField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},expression:{optional:!1},tags:{optional:!0,defaultValue:[]}},QueryTransformField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},transformations:{optional:!1},tags:{optional:!0,defaultValue:[]}},CompositeQueryField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},sourceFieldRefs:{optional:!1},tags:{optional:!0,defaultValue:[]}},QueryField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},fieldRef:{optional:!0},transformations:{optional:!0,defaultValue:[]},classifications:{optional:!0,defaultValue:[]},exclude:{optional:!0,defaultValue:!1},tags:{optional:!0,defaultValue:[]}}},t.LoadModelHelpers=o},C61d:function(e,t,n){"use strict";var r=n("4nJ1");t["a"]={getLayoutMsg:i,getPropCondition:a,setPropCondition:o,getPropMessage:s,setPropMessage:l};function i(e){return e.customErrorMessage&&e.customErrorMessage.calcCond||e.qCalcCondMsg}function a(e,t){return r["a"].getValue(e,t||"qCalcCond.qv")||r["a"].getValue(e,"qCalcCondition.qCond.qv")||""}function o(e,t,n){r["a"].setValue(e,n||"qCalcCond.qv",t);r["a"].setValue(e,"qCalcCondition.qCond.qv",t)}function s(e){var t=r["a"].getValue(e,"customErrorMessage.calcCond");var n=r["a"].getValue(e,"qCalcCondition.qMsg.qv");return t||n||""}function l(e,t){r["a"].setValue(e,"customErrorMessage.calcCond","="!==t[0]?t:"");r["a"].setValue(e,"qCalcCondition.qMsg.qv",t)}},CIJ1:function(e,t,n){"use strict";var r=n("/2No");function i(){return[new RegExp("\\.csv$","i"),new RegExp("\\.txt$","i"),new RegExp("\\.tab$","i"),new RegExp("\\.qvo$","i"),new RegExp("\\.mem$","i"),new RegExp("\\.skv$","i"),new RegExp("\\.prn$","i"),new RegExp("\\.log$","i"),new RegExp("\\.xls$","i"),new RegExp("\\.xlw$","i"),new RegExp("\\.xlsx$","i"),new RegExp("\\.xlsm$","i"),new RegExp("\\.html$","i"),new RegExp("\\.htm$","i"),new RegExp("\\.php$","i"),new RegExp("\\.fix$","i"),new RegExp("\\.dat$","i"),new RegExp("\\.qvd$","i"),new RegExp("\\.qvx$","i"),new RegExp("\\.xml$","i"),new RegExp("\\.html$","i"),new RegExp("\\.kml$","i")]}function a(e){var t=e.split(".").pop();switch(t){case"xls":case"xlw":case"xlsx":case"xlsm":return"".concat(r["a"].staticResourcesPath,"img/connector-logos/Excel48.png");case"csv":case"txt":case"tab":case"qvo":case"mem":case"skv":case"prn":case"log":return"".concat(r["a"].staticResourcesPath,"img/connector-logos/Delimited48.png");case"qvd":return"".concat(r["a"].staticResourcesPath,"img/connector-logos/QVD48.png");case"qvx":return"".concat(r["a"].staticResourcesPath,"img/connector-logos/QVX48.png");case"xml":case"html":case"kml":return"".concat(r["a"].staticResourcesPath,"img/connector-logos/AnyFile48.png");default:return"".concat(r["a"].staticResourcesPath,"img/connector-logos/AnyFile48.png")}}var o=[{title:"scripteditor.flatfilechooser.files.tables",titleShort:"scripteditor.flatfilechooser.files.tablesShort",regexps:i()},{title:"scripteditor.flatfilechooser.files.delimited",titleShort:"scripteditor.flatfilechooser.files.delimitedShort",regexps:[new RegExp("\\.csv$","i"),new RegExp("\\.txt$","i"),new RegExp("\\.tab$","i"),new RegExp("\\.qvo$","i"),new RegExp("\\.mem$","i"),new RegExp("\\.skv$","i"),new RegExp("\\.prn$","i"),new RegExp("\\.log$","i")]},{title:"scripteditor.flatfilechooser.files.excel",titleShort:"scripteditor.flatfilechooser.files.excelShort",regexps:[new RegExp("\\.xls$","i"),new RegExp("\\.xlw$","i"),new RegExp("\\.xlsx$","i"),new RegExp("\\.xlsm$","i")]},{title:"scripteditor.flatfilechooser.files.html",titleShort:"scripteditor.flatfilechooser.files.htmlShort",regexps:[new RegExp("\\.html$","i"),new RegExp("\\.htm$","i")]},{title:"scripteditor.flatfilechooser.files.kml",titleShort:"scripteditor.flatfilechooser.files.kmlShort",regexps:[new RegExp("\\.kml$","i")]},{title:"scripteditor.flatfilechooser.files.fix",titleShort:"scripteditor.flatfilechooser.files.fixShort",regexps:[new RegExp("\\.fix$","i"),new RegExp("\\.dat$","i")]},{title:"scripteditor.flatfilechooser.files.qvd",titleShort:"scripteditor.flatfilechooser.files.qvdShort",regexps:[new RegExp("\\.qvd$","i")]},{title:"scripteditor.flatfilechooser.files.qvx",titleShort:"scripteditor.flatfilechooser.files.qvxShort",regexps:[new RegExp("\\.qvx$","i")]},{title:"scripteditor.flatfilechooser.files.xml",titleShort:"scripteditor.flatfilechooser.files.xmlShort",regexps:[new RegExp("\\.xml$","i"),new RegExp("\\.html$","i")]},{title:"scripteditor.flatfilechooser.files.all",titleShort:"scripteditor.flatfilechooser.files.allShort",regexps:[new RegExp(".*","i")]}];t["a"]={getAllTableFileFormats:i,getFileFilters:function e(){return o},getIconForFile:a}},CS0J:function(e,t,n){"use strict";var r=n("bmRg");var i=n("GGvZ");var a=n("VFzL");var o="DATAMODELVIEWER_GLOBAL_CONFIGRATION_INTERNAL_TABLE_VIEW";var s="dmv.islocked";var l="dmv.internaltableview";var c="dmv.tablesizedata";var u="dmv.lastUsedResizeMode";var d;function f(e){if(!d)throw new Error('Cannot create key for "'.concat(e,'", as I have not yet gotten a hashed app id.'));return"".concat(e,".").concat(d)}function p(){return f(s)}function h(){return f(l)}function v(){return f(c)}function m(){return f(u)}function g(e){var t=p();r["a"].set(t,{value:e})}function b(){var e=p();return!!r["a"].contains(e)&&r["a"].get(e).value}function y(e){var t=h();r["a"].set(t,{value:e});i["a"].notifyAll(o,e)}function w(e){var t=v();r["a"].set(t,{value:e})}function S(e){var t=m();r["a"].set(t,{value:e})}function x(e){var t=m();if(r["a"].contains(t))return e===r["a"].get(t).value;return false}function C(){var e=v();var t=r["a"].get(e).value;return t}function q(){var e=v();return r["a"].contains(e)}function E(){var e=h();return!r["a"].contains(e)||r["a"].get(e).value}function I(e){d=a["a"].sha256(e);i["a"].notifyAll(o,E())}function k(e){i["a"].addObserver(o,e)}t["a"]={setIsLocked:g,isLocked:b,setIsInternalTableView:y,setTableSizeData:w,setLastUsedResizeMode:S,isLastUsedResizeMode:x,getTableSizeData:C,hasTableSizeData:q,isInternalTableView:E,setAppID:I,onInternalTableViewChange:k,STORAGE_KEY_IS_LOCKED:s,STORAGE_KEY_IS_INTERNAL_TABLE_VIEW:l,STORAGE_KEY_TABLE_SIZE_DATA:c}},CTLX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("yB4Y"),i=function(){function e(){}return e.generateUUID=function(){var e=(new Date).getTime();"window"in this&&window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}));return t},e.createTableId=function(t){return r.DSMTypes.DataSourceDescriptor.prefix+"."+e.cleanNameForId(t)},e.createFieldId=function(t,n){return t+"."+e.cleanNameForId(n)},e.createSimpleQueryId=function(){return e.generateUUID()},e.createConcatQueryId=function(){return e.generateUUID()},e.createQueryFieldId=function(){return e.generateUUID()},e.cleanNameForId=function(e){return e.replace(/[\.]/g,"..")},e}();t.LoadModelIds=i},"CXq/":function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("W0B4");var o=n.n(a);var s=n("jr/W");var l=function e(t){var n=t.children,a=t.closeMenu;var o=Object(r["useRef"])(null);var l=function e(t){if(o){var n=o.current;n.contains(t.target)&&setTimeout((function(){n.contains(document.activeElement)||a()}),0)}};return i.a.createElement("div",{ref:o,onBlur:l},i.a.createElement(s["i"],{className:"qs-toolbar__menu","data-tid":"nav-menu",role:"menu"},n))};l.propTypes={closeMenu:o.a.func.isRequired,children:o.a.oneOfType([o.a.array.isRequired,o.a.element.isRequired]).isRequired};t["a"]=l},ClzF:function(e,t,n){"use strict";var r="q3TnObj";function i(){var e=JSON.parse(sessionStorage.getItem(r));null===e&&(e=JSON.parse(localStorage.getItem(r))||{});return e}function a(){return i()}function o(e){var t=i();if(!t[e]){t[e]={data:{view:"",scriptTabIndex:0,bmTabIndex:0},tab:"",analysis:{sheetId:"",state:""},story:{storyId:"",slideId:"",state:""}};sessionStorage.setItem(r,JSON.stringify(t));localStorage.setItem(r,JSON.stringify(t));return t[e]}return t[e]}function s(e,t,n,a,s){var l=o(e);var c=i();void 0===n&&(n=c[e].data.scriptTabIndex);void 0===s&&(s=c[e].data.bmTabIndex);a||(l.tab="data");l.data={view:t,scriptTabIndex:n,bmTabIndex:s};c[e]=l;localStorage.setItem(r,JSON.stringify(c));sessionStorage.setItem(r,JSON.stringify(c));return c[e]}function l(e){var t=i();if(t[e])return t[e].data;return"not_found"}function c(e,t,n,a){var s=o(n);var l=i();s.tab="analysis";s.analysis={sheetId:e,state:t,overlay:a,view:"analysis"};l[n]=s;localStorage.setItem(r,JSON.stringify(l));sessionStorage.setItem(r,JSON.stringify(l));return l[n]}function u(e){var t=i();if(t[e])return t[e].analysis;return"not_found"}function d(e,t){var n=o(e);var a=i();n.analysis.view=t;a[e]=n;localStorage.setItem(r,JSON.stringify(a));sessionStorage.setItem(r,JSON.stringify(a))}function f(e,t,n,a){var s=o(a);var l=i();s.tab="story";s.story={slideId:e,storyId:n,state:t};l[a]=s;localStorage.setItem(r,JSON.stringify(l));sessionStorage.setItem(r,JSON.stringify(l));return l[a]}function p(e){var t=i();if(t[e])return t[e].story;return"not_found"}function h(e,t){var n=o(t);var a=i();n.tab=e;a[t]=n;localStorage.setItem(r,JSON.stringify(a));sessionStorage.setItem(r,JSON.stringify(a));return a[t]}function v(e){var t=i();if(t[e])return t[e].tab;return"not_found"}function m(e,t){var n=o(t);var a=i();n.isDmvFooterExpanded=e;a[t]=n;localStorage.setItem(r,JSON.stringify(a));sessionStorage.setItem(r,JSON.stringify(a));return a[t]}function g(e){var t=i();if(t[e])return t[e].isDmvFooterExpanded||false;return null}t["a"]={isInSession:a,setData:s,data:l,setSheet:c,analysis:u,setAnalysis:d,setStory:f,story:p,setTab:h,tab:v,setIsDmvFooterExpanded:m,isDmvFooterExpanded:g}},CpIe:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");a["default"].directive("qvaApplyStyle",[function(){return{restrict:"A",link:function e(t,n,r){t.$watch(r.qvaApplyStyle,(function(e){"string"===i.a.type(e)&&n.attr("style",e)}),false)}}}])},Cpn1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){if(Array.isArray(e))return e}},Cwu9:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("RZ9f");var i=n("knl/");var a=n("4nJ1");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),true).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var c={INFO:"info",ERROR:"error"};t["b"]=function(e,t,n,o){if(!(e.toUpperCase()in c))throw new Error("Invalid level specified: ".concat(e,". Valid levels are: ").concat(Object.values(c).join(", "),"."));var l=n.createdAt,u=n.suspendedAt,d=void 0===u?Date.now():u,f=n.sessionConfig;var p=f.subpath,h=void 0===p?"":p;var v=Math.floor((d-l)/1e3);var m=a["a"].getParameterByName("query",o.url);var g;m&&""!==m&&(g=o.url.replace(m,"REDACTED"));var b=s(s({},o),g&&{url:g});var y=s(s({},b),{},{subpath:h,socketAliveDurationSeconds:v});r["a"].trackEvent(t,y);var w="".concat(t," for ").concat(h);switch(e){case"info":Object(i["c"])(w,y);break;case"error":Object(i["b"])(w,y);break;default:throw new Error("Rollbar track level ".concat(e," does not exist"))}}},CyFZ:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("PX8M");var l=n("sWge");var c=n("TmCs");var u=n("mWu2");var d='<lui-dialog id="expression-editor-wrapper">\t\n\t<lui-dialog-header class="expression-editor-toolbar">\n\t\t<span class="expression-editor-toolbar-title" q-translation="{{input.title}}"></span>\n\t\t<div class="expression-editor-toolbar-buttons">\t\t\n\t\t\t<button class="lui-fade-button expression-editor-undo-button" \n\t\t\t\t\tdata-name="undo" ng-disabled="undoDisabled || !codearea.contextApi.canUndo" \n\t\t\t\t\tng-click="onUndo()" q-title-translation="Common.Undo" disabled="disabled" title="Undo">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--back"></span>\n\t\t\t</button>\n\t\t\t<button class="lui-fade-button expression-editor-redo-button" \n\t\t\t\t\tdata-name="redo" ng-disabled="redoDisabled || !codearea.contextApi.canRedo" \n\t\t\t\t\tng-click="onRedo()" q-title-translation="Common.Redo" disabled="disabled" title="Redo">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--forward"></span>\n\t\t\t</button>\t\t\t\t\t\n\t\t\t<button\n\t\t\t\tclass="lui-fade-button expression-editor-help-button"\n\t\t\t\tdata-name="help-mode"\n\t\t\t\tng-class="{\'lui-active\': controller.helpmodeActive}"\n\t\t\t\tng-click="onHelpmode()"\n\t\t\t\tq-title-translation="Tooltip.HelpMode.Enter">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--help"></span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclass="lui-fade-button"\n\t\t\t\tqva-activate="$event.preventDefault(); close()"\n\t\t\t\tdata-name="close">\n\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--close" q-title-translation="Common.Close"></span>\n\t\t\t</button>\t\t\t\t\n\t\t</div>\t\n\t</lui-dialog-header>\t\n\t<lui-dialog-body class="expression-editor-body" qv-cancel="cancel()" qv-confirm="confirm()">\n\t\t<section id="expression-editor-panel" class="qribby-accordion-pp">\n\t\t\t<div class="qv-expandable-list-wrapper" qv-expandable-list></div>\t\t\t\n\t\t</section>\n\t\t<section id="expression-editor-content">\n\t\t\t<main class="dm-main">\n\t\t\t\t<div id="expression-editor-container">\n\t\t\t\t\t<div id="expression-editor-stage" data-help="Panel.Stage" ng-class="{ invalid: !validity.expression }">\n\t\t\t\t\t\t<qv-codearea\n\t\t\t\t\t\t\t\tdata-show-breakpoint-gutter="true"\n\t\t\t\t\t\t\t\tdata-disabled="controller.helpmodeActive"\n\t\t\t\t\t\t\t\tdata-resize-trigger="resizeCounter"\n\t\t\t\t\t\t\t\tdata-mode="qlikviewReloadScriptMode"\n\t\t\t\t\t\t\t\tclass="expression-dialog-code-mirror"\n\t\t\t\t\t\t\t\tqva-outside-ignore-for="allOutside"\n\t\t\t\t\t\t\t\tqv-codearea-code-container="codearea"\n\t\t\t\t\t\t\t\tqv-codearea-exposed-context-api="codearea.contextApi"\n\t\t\t\t\t\t\t\tqv-codearea-function-tip="functionTipOptions"\n\t\t\t\t\t\t\t\tqv-codearea-limit="stringLimits.expression"\n\t\t\t\t\t\t\t\tqv-codearea-autocomplete="autocompleteOptions"\n\t\t\t\t\t\t\t\tqv-codearea-help-mode="controller.helpmodeActive"\n\t\t\t\t\t\t\t\tqv-codearea-help-mode-options="helpModeOptions"\n\t\t\t\t\t\t\t\tqva-activate="closePopoverIfOpen($event)"\n\t\t\t\t\t\t></qv-codearea>\n\t\t\t\t\t\t<div class="ee-information-wrapper">\n\t\t\t\t\t\t\t<div class="row-number-fill"></div>\n\t\t\t\t\t\t\t<div class="ee-information">\n\t\t\t\t\t\t\t\t<qv-information-area x-info="info" x-app="input.app" x-mode="input.mode" x-labels="input.labels"></qv-information-area>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t</main>\n\t\t</section>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<button class="lui-button close button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel">Cancel</button>\n\t\t<button class="lui-button confirm button" ng-click="confirm()"  qv-confirm="confirm()" name="confirmButton" q-translation="Common.Apply">Confirm</button>\n\t</lui-dialog-footer>\n</lui-dialog>';var f='<div class="expression-editor-section">\n    \x3c!-- TABLE DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-table">\n        <label q-translation="Assets.FieldsTab.Table"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="tables"\n            tid="table-dropdown"\n            title="{{controller.selectedTable.label}}">\n            <div class="label">\n                {{controller.selectedTable.label}}\n            </div>\n        </button>\n    </div>\n   \x3c!-- FIELD DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-field">\n        <label q-translation="Common.Field"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)" \n            data-context="fields"\n            tid="field-dropdown"\n            title="{{controller.selectedField.label}}">\n            <div class="label">\n                {{controller.selectedField.label}}\n            </div>\n        </button>\n    </div>\n    \x3c!-- AGGREGATION DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-functions" >\n        <label q-translation="ExpressionEditor.AggregationFunctions"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="commonFunctions"\n            tid="aggregation-dropdown"\n            title="{{controller.selectedCommonFunction.label}}">\n            <div class="label">\n                {{controller.selectedCommonFunction.label}}\n            </div>\n        </button>\n    </div>\n   \x3c!-- SET EXPRESSION CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-current">        \n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input"\n                type="checkbox"\n                ng-disabled="controller.readOnly() || controller.noSelectionsInObjectState"\n                ng-model="controller.currentOption" \n            />            \n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-set"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly() || controller.noSelectionsInObjectState"\n                    q-translation="ExpressionEditor.SetExpression"\n                    q-title-translation="ExpressionEditor.SetExpression">\n                </span>              \n            </div>           \n        </label>  \n        <span ng-if="( !controller.readOnly() && controller.noSelectionsInObjectState )" \n            q-translation="ExpressionEditor.EmptySelections" text="inline style" style="color:grey">\n        </span>      \n    </div>\n    \x3c!-- DISTINCT CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-distinct">\n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input" \n                type="checkbox" \n                ng-disabled="controller.readOnly()" \n                ng-model="controller.distinctOption"\n                ng-true-value="\'distinct\'"\n                ng-false-value="\'\'"\n            />\n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-distinct"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly()"\n                    q-translation="ExpressionEditor.Distinct"\n                    q-title-translation="ExpressionEditor.Distinct">\n                </span>\n            </div>\n        </label>\n    </div>\n    \x3c!-- TOTAL CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-total">\n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input"\n                type="checkbox"\n                ng-disabled="controller.readOnly()"\n                ng-model="controller.totalOption"\n                ng-true-value="\'total\'"\n                ng-false-value="\'\'" \n            />\n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-total"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly()"\n                    q-translation="ExpressionEditor.Total"\n                    q-title-translation="ExpressionEditor.Total">\n                </span>\n            </div>\n        </label>\n    </div>\n    \x3c!-- INSERT BUTTON --\x3e\n    <div id="expression-editor-toolbar-insert">\n        <lui-button\n                ng-disabled="!controller.previewText()"\n                type="button"\n                tid="insert-field"\n                ng-click="insertTextHandler($event)"\n                q-title-translation="Tooltip.ExpressionEditor.InsertExpression">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div>\n</div>';var p='<div class="expression-editor-section">\n    \n    <label q-translation="ExpressionEditor.FunctionCategory"></label>\n    <button\n        class="lui-button expression-editor-dropdown" \n        ng-click="openPopover($event)"\n        data-context="functionCategories"\n        title="{{controller.selectedFunctionCategory.label}}">\n        <div class="label">\n            {{controller.selectedFunctionCategory.label}}\n        </div>\n    </button>\n    \n    <div class="expression-editor-function-name">\n        <label q-translation="ExpressionEditor.FunctionName"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="functions"\n            tid="functions-dropdown"\n            title="{{controller.selectedFunction.label}}">\n            <div class="label">\n                {{controller.selectedFunction.label}}\n            </div>\n        </button>\n        <textarea disabled class="expression-editor-function-definition lui-textarea lui-disabled">{{controller.selectedFunctionTip}}</textarea>\n    </div>\n    \n    <div id="expression-editor-toolbar-insert">\n        <lui-button\n            type="button"\n            tid="insert-function"\n            ng-disabled="!controller.previewText()"  \n            ng-click="insertFunctionHandler($event)" \n            q-title-translation="Tooltip.ExpressionEditor.InsertFunction">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div> \n</div>';var h='<div class="expression-editor-section">\n    <div id="expression-editor-toolbar-variables">\n        <label q-translation="ExpressionEditor.VariableList"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="variables"\n            tid="variables-dropdown"\n            title="{{controller.selectedVariable.label}}">\n            <div class="label">\n                {{controller.selectedVariable.label}}\n            </div>\n        </button>\n\n        <div class="expression-editor-system-variables">\n            <label class="lui-checkbox">\n                <input class="lui-checkbox__input" type="checkbox" ng-model="controller.showSystemVars"></input>\n                <div class="lui-checkbox__check-wrap">\n                    <span class="lui-checkbox__check"></span>\n                    <span class="lui-checkbox__check-text label" ng-disabled="readOnly" q-translation="ExpressionEditor.SystemVariables" q-title-translation="ExpressionEditor.SystemVariables"></span>\n                </div>\n            </label>\n        </div>\n        \n        <div class="expression-editor-variable-definition">\n            <label q-translation="ExpressionEditor.Definition"></label>\n            <textarea disabled class="lui-textarea lui-disabled">{{controller.variableDef}}</textarea>\n        </div>\n        \n        <div class="expression-editor-variable-value">\n            <label q-translation="ExpressionEditor.Value"></label>\n            <textarea disabled class="lui-textarea lui-disabled">{{controller.variableVal}}</textarea>\n        </div>\n        \n        <div id="expression-editor-toolbar-insert">\n            <lui-button \n                type="button" \n                ng-click="insertVariableHandler($event)" \n                q-title-translation="Tooltip.ExpressionEditor.InsertVariable" \n                tid="insert-variable">\n                <span q-translation="ExpressionEditor.Insert"></span>\n            </lui-button>\n        </div>\n    </div>\n</div>';var v='<div class="expression-editor-section">\n\n    <div class="expression-editor-toolbar-set-expressions">        \n        <div class="form-element">\n            <lui-radiobutton \n                x-disabled="controller.noSelections" \n                x-model="controller.setExpressionOption" \n                x-change="changeCurrentSetExpressionOption(\'0\')" \n                x-value="0"\n                >\n                {{ \'ExpressionEditor.SetExpressions.ContentOfCurrentSelection\' | translate }}\n            </lui-radiobutton>\n            <lui-radiobutton \n                x-disabled="!controller.bookmarks.length > 0" \n                x-model="controller.setExpressionOption" \n                x-change="changeCurrentSetExpressionOption(\'1\')" \n                x-value="1"\n                >\n                {{ \'ExpressionEditor.SetExpressions.ContentOfBookmark\' | translate }}\n            </lui-radiobutton>\n        </div>\n    </div>\n    <div id="expression-editor-toolbar-set-expression-bookmark" \n        ng-if="controller.setExpressionOption==1">\n        <label q-translation="ExpressionEditor.SetExpresions.Bookmark"></label>\n        <button \n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)" \n            data-context="bookmarks" \n            tid="bookmark-dropdown" \n            title="{{controller.selectedBookmark.label}}">\n            <div class="label">\n                {{controller.selectedBookmark.label}}\n            </div>\n        </button>\n\n    </div>\n    <div id="expression-editor-toolbar-set-expression-states" x-disabled="controller.noSelections && !controller.bookmarks.length > 0" ng-if="controller.showAlternateStates">\n        <label q-translation="ExpressionEditor.SetExpresions.AlternateState"></label>\n        <lui-select x-model="controller.selectedAlternateState">\n            <option value="{{state.value}}" ng-if="controller.setExpressionOption==0" ng-repeat="state in controller.currentSelectionsAlternateStates ">{{state.label}}</option>\n            <option value="{{state.value}}" ng-if="controller.setExpressionOption==1" ng-repeat="state in controller.selectedBookmark.alternateStates ">{{state.label}}</option>\n        </lui-select>\n    </div>\n    <div id="expression-editor-toolbar-insert">\n        <lui-button \n            type="button" \n            tid="insert-set-expression" \n            ng-disabled="controller.disableSetExpressionInsertButton()" \n            ng-click="insertSetExpressionHandler($event)" \n            q-title-translation="Tooltip.ExpressionEditor.InsertSetExpression">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div>\n</div>';var m=n("z4LI");var g=n("4nJ1");var b=n("cWJj");function y(e){var t=[{label:e,value:""},{label:"Sum",value:"Sum"},{label:"Count",value:"Count"},{label:"Avg",value:"Avg"},{label:"Min",value:"Min"},{label:"Max",value:"Max"},{label:"Median",value:"Median"},{label:"Fractile",value:"Fractile"},{label:"Only",value:"Only"},{label:"Concat",value:"Concat"},{label:"Mode",value:"Mode"},{label:"MinString",value:"MinString"},{label:"MaxString",value:"MaxString"},{label:"FirstSortedValue",value:"FirstSortedValue"}];return t}function w(){var e;e=this.selectedField?this.selectedField.value:"";e=g["a"].escapeField(e);if(!this.selectedCommonFunction)return e;if(this.selectedCommonFunction&&""===this.selectedCommonFunction.value)return e;var t=this.distinctOption.length?"".concat(this.distinctOption," "):"";var n=this.totalOption.length?"".concat(this.totalOption," "):"";var r=this.currentOption&&""!==this.selections?"{".concat(this.selections,"} "):"";var i=this.selectedCommonFunction.value;return"".concat(i,"(").concat(r).concat(t).concat(n).concat(e,")")}function S(e){var t=[];e.forEach((function(e){t.push({label:e.qName,value:e.qName})}));return t}function x(e,t){var n=t;return e.filter((function(e){t&&(n=t.value);return-1!==e.qSrcTables.indexOf(n)}))}function C(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function q(e,t){return e.qName.toLowerCase().localeCompare(t.qName.toLowerCase())}function E(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())}function I(e){var t=[];e.forEach((function(e){t.push({label:e,value:e})}));return t}function k(e){var t;var n;var r=[];for(t=0;t<e.length;++t)for(n=0;n<e[t].qSrcTables.length;++n)-1===r.indexOf(e[t].qSrcTables[n])&&r.push(e[t].qSrcTables[n]);r.sort(C);r=I(r);return r}function A(e,t,n){var r=n.value;var i=e.allTablesText.value;r!==i&&(t=x(t,n));e.fieldNames=S(t);N(e)}function T(e,t,n){t=t.value;e.functions=[];if(n.hasOwnProperty(t))t&&(e.functions=n[t]);else for(var r in n)n[r].forEach((function(t){-1===e.functions.indexOf(t)&&(e.functions=e.functions.concat(t))}));if(e.functions&&e.functions.length>0){e.functions.sort(C);e.functions=I(e.functions);R(e)}}function D(e,t){var n=e.filter((function(e){return t||!e.qIsReserved&&!e.qIsConfig})).sort(q);n.forEach((function(e){e.label=e.qName;e.value=e.qName}));return n}function O(e,t){var n=[];e.forEach((function(e){if(e.qFieldItems.length>0){var r=e.qStateName;n.push({label:"$"===r?t.get("AlternateState.DefaultState"):r,value:r})}}));return n}function L(e,t){var n=[];var r=true;e=e||[];e.forEach((function(e){if(e.qSelectionObject.qSelections.length>0){var i=e.stateName;r=false;n.push({label:"$"===i?t.get("AlternateState.DefaultState"):i,value:i})}}));return{states:n,noSelections:r}}function M(e,t){var n=[];e.forEach((function(e){n.push({label:e.qData.title,value:e.qInfo.qId,alternateStates:e.qData.qBookmark?O(e.qData.qBookmark.qStateData,t):[]})}));return n.sort(E)}function P(e,t,n){var r=[];t.forEach((function(e){"EXT"!==e&&r.push({value:e,label:n.get("ExpressionEditor.Functions.".concat(e))})}));r.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())}));r.unshift({value:e,label:n.get("ExpressionEditor.Functions.".concat(e))});return r}function N(e){var t=false;e.fieldNames.forEach((function(n){var r=e.selectedField.label;var i=n.label;if(r===i){var a=e.selectedField;t=true;e.selectedField=a}}));t||(e.selectedField=e.fieldNames[0])}function R(e){var t=false;e.functions.forEach((function(n){var r=e.selectedFunction.label;var i=n.label;if(r===i){var a=e.selectedFunction;t=true;e.selectedFunction=a}}));t||(e.selectedFunction=e.functions[0])}function F(e){var t=["$Field","$FieldNo","$Fields","$Info","$Rows","$Table"];var n=[];var r=e.get("ExpressionEditor.FieldsTab.SystemFields");t.forEach((function(e){var t={qName:e,qSrcTables:[r]};n.push(t)}));return n}function _(e,t){0!==t.length||e.showSystemVars||(e.selectedVariable="");e.variables.length>0&&-1===e.variables.indexOf(e.selectedVariable)&&(e.selectedVariable=e.variables[0])}function j(e,t){var n=[];switch(e){case"tables":n=t.tableNames;break;case"fields":n=t.fieldNames;break;case"commonFunctions":n=t.commonFunctions;break;case"functionCategories":n=t.functionCategories;break;case"functions":n=t.functions;break;case"variables":n=t.variables;break;case"bookmarks":n=t.bookmarks;break;default:break}return n}function B(e,t,n,r){switch(t){case"tables":n.setTableFilter(e);n.selectedTable=e;break;case"fields":n.selectedField=e;break;case"commonFunctions":n.selectedCommonFunction=e;break;case"functionCategories":n.selectedFunctionCategory=e;break;case"functions":n.selectedFunction=e;break;case"variables":n.selectedVariable=e;break;case"bookmarks":n.selectedBookmark=e;break;default:break}r(t)}function V(e){return b["a"].get(e).then((function(e){return e.getLayout().then((function(){return{selectionsInStates:e.layout.selectionsInStates||[]}}))}))}function H(e){var t=e.translator;var n=[];var r=e.fields.slice();r.sort(q);e.published||(r=r.concat(F(t)));var i=t.get("Common.All.Tables");var a=t.get("ExpressionEditor.Functions.ALL");var o=t.get("ExpressionEditor.FieldsTab.SelectAggregationHint");var s=e.sections.fields.state;var l=e.sections.functions.state;var c=e.sections.variables.state;i={label:i,value:i};""===s.table.label&&(s.table=i);if(""===s.aggregfunc.label){s.aggregfunc.label=o;s.aggregfunc.value=""}""===l.functionCategory.label&&(l.functionCategory.label=a);for(var u in e.functions)n.push(u);var d={getData:function e(t){return j(t,d)},setSelectedItem:B,allTablesText:i,commonFunctions:y(o),selectedCommonFunction:s.aggregfunc,readOnly:function e(){return""===d.selectedCommonFunction.value},setTableFilter:function e(t){A(d,r,t)},selectedTable:s.table,tableNames:[i].concat(k(r)),fieldNames:S(r),previewText:w,selectedField:s.field,distinctOption:s.distinctCheckBox,totalOption:s.totalCheckBox,currentOption:s.setExpressionCheckBox,selections:"",noSelections:false,noSelectionsInObjectState:false,functions:[],functionCategories:P("ALL",n,t),selectedFunction:l.funct,selectedFunctionTip:"",selectedFunctionCategory:l.functionCategory,setFunctionCategoryFilter:function t(n){T(d,n,e.functions)},variables:D(e.variables,false),selectedVariable:c.variable,variableDef:"",variableVal:"",showSystemVars:c.sysVarsCheckBox,showVariablesFirstTime:c.showVariablesFirstTime,showVariableInfo:function e(t,n){d.variableDef=t;d.variableVal=n},setSysVarsFilter:function t(){var n=e.variables.filter((function(e){return!e.qIsReserved}));if(0===n.length&&d.showVariablesFirstTime){c.sysVarsCheckBox=true;d.showSystemVars=true;c.showVariablesFirstTime=false;d.showVariablesFirstTime=false}d.variables=D(e.variables,d.showSystemVars);_(d,n)},setCurrentSelections:function e(t){d.selections=t},isStateInArray:function e(t,n){var r=false;t.forEach((function(e){e.value===n&&(r=true)}));return r},setInitialOptionsForSetExpressionSection:function t(n){d.noSelections=n;if(n&&"0"===d.setExpressionOption)if(d.bookmarks.length>0){d.setExpressionOption="1";if(""===d.selectedBookmark){d.selectedBookmark=d.bookmarks[0];""===d.selectedAlternateState&&d.bookmarks[0].alternateStates.length>0&&(d.selectedAlternateState=d.bookmarks[0].alternateStates[0].value)}}else{d.setExpressionOption="";d.setExpressionInsertDisabled=true}else"0"===d.setExpressionOption&&d.currentSelectionsAlternateStates.length>0&&(d.selectedAlternateState=d.isStateInArray(d.currentSelectionsAlternateStates,e.sections.setExpressions.state.selectedAlternateState)?e.sections.setExpressions.state.selectedAlternateState:d.currentSelectionsAlternateStates[0].value)},disableSetExpressionInsertButton:function e(){return!d.selectedAlternateState},showAlternateStates:e.showAlternateStates,setExpressionOption:e.sections.setExpressions.state.setExpressionOption,bookmarks:M(e.bookmarks,t),currentSelectionsAlternateStates:[],selectedBookmark:e.sections.setExpressions.state.selectedBookmark,selectedAlternateState:e.sections.setExpressions.state.selectedAlternateState,setExpressionInsertDisabled:false,stateName:e.stateName};V(e.app).then((function(n){var r=e.stateName||"$";d.noSelectionsInObjectState=true;n.selectionsInStates.forEach((function(e){e.stateName===r&&e.qSelectionObject.qSelections.length>0&&(d.noSelectionsInObjectState=false)}));var i=L(n.selectionsInStates,t);d.currentSelectionsAlternateStates=i.states;d.setInitialOptionsForSetExpressionSection(i.noSelections)}));N(d);return d}var z={create:H};var $=n("ESef");var U=n("0GN8");var G=n("6uJb");var W=n("bam4");var Q=n("rB9Y");var K=n("acVu");function Y(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Y(a,r,i,o,s,"next",e)}function s(e){Y(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Z=["like","not","and","or","xor","follows","precedes","bitnot","bitand","bitor","bitxor","$","$1","$2","$3","$4","$5","$_1","$_2","$_3","$_4","$_5","total","distinct","nodistinct","all","include","must_include"];function X(e,t){if("field"===e||"measure"===e)return{text:t,type:e,value:g["a"].escapeField(t)};return{text:t,type:e}}function ee(e){var t=e.bnf;var n=te();var r=e.fields;var i=e.variables;var a=e.measures;var o=Z.map(X.bind(null,"keyword"));var s=Object.keys(i).map(X.bind(null,"variable"));var l=Object.keys(a).map(X.bind(null,"measure"));var c=Object.keys(r).map(X.bind(null,"field"));var u=t.getAllFunctions().map(X.bind(null,"function"));var d=o.concat(s,l,c,u);function f(e){return t.isFunction(e)}function p(e){return t.getFunctionTip(e)}function h(e){return!!n[e.toLowerCase()]||f(e)}function v(e){return!!r[e]}function m(e){while(e){if("qvfunction"===e.type&&"aggr"===e.info.toLowerCase())return false;if("qvfunction"===e.type&&t.isAggrFunction(e.info))return true;e=e.prev}return false}function g(e,t){return!!a[e]&&!m(t.lexical)}function b(e){return!!i[e]}function y(){return d}var w={getAutocompleteList:y,getFunctionTip:p,getFunctionsAndCategories:t.getAllFunctionsAndCategories,isFunction:f,isField:v,isKeyword:h,isMeasure:g,isVariable:b};return w}function te(){var e={};for(var t=0;t<Z.length;++t){var n=Z[t];e[n]=true}return e}function ne(e){return e.enigmaModel.getFieldList().then((function(e){e=c["a"].expand(e);var t={};for(var n=0;n<e.length;++n){var r=e[n].qName;t[r]=true}return t}))}function re(e){return e.enigmaModel.getVariableList().then((function(e){var t={};for(var n=0;n<e.length;++n){var r=e[n].qName;t[r]=true}return t}))}function ie(e){return ae.apply(this,arguments)}function ae(){ae=J(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return t.enigmaModel.getMeasureList();case 2:n=o.sent;r={};for(i=0;i<n.length;++i){a=n[i].qData.title;r[a]=true}return o.abrupt("return",r);case 6:case"end":return o.stop()}}),e)})));return ae.apply(this,arguments)}function oe(e){return se.apply(this,arguments)}function se(){se=J(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n=Q["a"].getExpressionBnfModel(t);r=ne(t);i=re(t);a=Object(K["b"])("REF_MASTER_MEASURE")?ie(t):[];o.t0=ee;o.next=7;return n;case 7:o.t1=o.sent;o.next=10;return r;case 10:o.t2=o.sent;o.next=13;return i;case 13:o.t3=o.sent;o.next=16;return a;case 16:o.t4=o.sent;o.t5={bnf:o.t1,fields:o.t2,variables:o.t3,measures:o.t4};return o.abrupt("return",(0,o.t0)(o.t5));case 19:case"end":return o.stop()}}),e)})));return se.apply(this,arguments)}var le={get:oe};var ce='<lui-popover \n    class="popover-wrapper" \n    style="min-width: 200px;width: 230px;" \n    align-to="alignTo" \n    position="position" \n    collision="\'flipfit\'" \n    on-close-view="closePopover(event)">\n    <object-add-typeahead>\n        <lui-popover-header>\n            <div class="lui-search">\n                <span class="lui-icon  lui-icon--search  lui-search__search-icon"></span>\n                <input class="lui-search__input" maxlength="255" spellcheck="false" type="text" name="new-test" placeholder="{{ \'ExpressionEditor.SearchPopupPlaceholder\' | translate}}" autocomplete="off"\n                    ng-model="search.term" on-escape="onEscape($event)" qva-focus="autoFocus" object-add-typeahead-input/>\n                <button class="lui-search__clear-button" ng-click="clearSearchTerm()">\n                    <span ng-if="showClearIcon" class="lui-icon  lui-icon--small  lui-icon--close"></span>\n                </button>\n            </div>        \n        </lui-popover-header>\n        <div class="content" object-add-typeahead-menu>\n            <ul class="lui-list">\n                <li class="lui-list__item lui-list__action"                    \n                    ng-repeat="item in items" tid="item"\n                    object-add-typeahead-item="item"\n                    on-select="setSelectedItem(item, context, ctrl, closePopover)">\n                    <span qve-highlight text="{{item.label}}" title="{{item.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n                </li>\n            </ul>\n        </div>\n    </object-add-typeahead>\n</lui-popover>';var ue=n("wIyQ");var de=n("G1wx");var fe=n("5ezW");var pe=n("dtUF");function he(e,t){if(""===t)return e;return e.filter((function(e){if("undefined"===typeof e)return false;return fe["a"].string(e.label.toLowerCase()).indexOf(fe["a"].string(t.toLowerCase()))>-1}))}var ve={template:ce,scope:{alignTo:"=",close:"=",qvaOutsideIgnoreFor:"=",position:"="},controller:["$scope",function(e){var t=g["a"].extend([],e.items);e.autoFocus=de["a"].treatAsDesktop();e.search={term:""};e.onEscape=function(){e.search.term="";e.closePopover(e.context)};e.clearSearchTerm=function(){e.search.term=""};e.$watch("search.term",(function(n){e.items=he(t,n);e.showClearIcon=""!==n}));ue["a"].on("start",e.closePopover);e.$on("$destroy",(function(){ue["a"].off("start",e.closePopover)}))}]};var me=ve;var ge=n("kKh9");var be=n("ghLF");var ye='<div class="qv-expandable-list-component" tcl="expandable-list">\n\t<ul class="qv-expandable-list">\n\t\t<li ng-repeat="item in items track by item.key" tid="section {{item.key}}">\n\t\t\t<div class="qv-expandable-list-header" qva-activate="expandClicked(item)" ng-class="{ \'expanded\': item.state.stateExpanded }" tid="{{item.key}}">\n                <i class="toggle-expand  lui-icon  {{ item.expanded ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></i>\n\t\t\t\t<span class="text" q-translation="{{item.translation}}"></span>\n\t\t\t</div>\n\t\t\t<div class="qv-expandable-list-content" ng-if="item.expanded">\n\t\t\t\t<div include-section></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>';u["default"].directive("qvExpandableList",[function(){return{restrict:"A",template:ye,controller:["$scope",function(e){e.expandClicked=function(e){e.expanded=!e.expanded;"undefined"!==typeof e.state&&(e.expanded?e.state.sectionExpanded=true:e.state.sectionExpanded=false)}}]}}]);u["default"].directive("includeSection",[function(){return{restrict:"A",controller:["$scope","$element","$compile",function(e,t,n){t.append(n(e.item.template)(e))}]}}]);var we='<div class="ia-wrapper" ng-class="{ \'collapsed\' : state.expanded, \'ia-light\' : nbrOfStatements <= 1 }">\r\n    <div class="icon-column">\r\n        <span class="lui-icon  lui-icon--info" aria-hidden="true"></span>\r\n    </div>\r\n    <div class="text-column">\r\n        <div class="ia-text">\r\n           \r\n            <div class="hint" ng-if="info.translatedErrorMgs !== \'\'">\r\n                <span>{{info.translatedErrorMgs}}</span>\r\n            </div>\r\n            <div class="hint" ng-if="info.extraErrorMsg !== \'\'">\r\n                <span>{{info.extraErrorMsg}}</span>\r\n            </div>\r\n            <div class="evaluated" ng-if="info.expandedExpr !== \'\'">\r\n                {{info.expandedExpr}}\r\n            </div>\r\n               \r\n        </div>\r\n    </div>\r\n    <div class="action-column">\r\n        <span class="lui-icon  lui-icon--arrow-down" \r\n              ng-class="{ \'lui-icon--arrow-down\' : !state.expanded, \'lui-icon--arrow-up\' : state.expanded }" \r\n              aria-hidden="true"\r\n              ng-if="nbrOfStatements > 1"\r\n              ng-click="expandCollapse($event)">\r\n        </span>\r\n    </div>    \r\n</div>';function Se(e){return e?l["a"].resolve(e.enigmaModel):s["a"].getApp()}var xe={};xe.getExpandedExpression=function(e,t){return Se(e).then((function(e){return e.engineApp.expandExpression(t)})).catch((function(e){console.error("error".concat(e))}))};var Ce=xe;var qe=n("3I2r");u["default"].directive("qvInformationArea",(function(){return{scope:{info:"=",app:"=",mode:"="},restrict:"E",replace:true,template:we,link:function e(t,n){t.nbrOfStatements=0;t.exprValidator=null;t.state={expanded:false,autoExpanded:false};var r="validating";var a="valid";var o="invalid";var s=n.find(".text-column");var l=i()("#expression-editor-content");var c=[{start:"[",end:"]",remove:false},{start:"$(",end:")",remove:false},{start:"'",end:"'",remove:false},{start:'"',end:'"',remove:false},{start:["`","´"],end:["`","´"],remove:false},{start:"//",end:{EOL:true},remove:true},{start:"/*",end:"*/",remove:true}];function u(){setTimeout((function(){s.css({"max-height":l.height()/2})}))}function d(){var e=0;""!==t.info.translatedErrorMgs&&e++;""!==t.info.extraErrorMsg&&e++;""!==t.info.expandedExpr&&e++;e>1&&(t.state.autoExpanded=true);t.nbrOfStatements=e}function f(e){t.info.status=e.valid?a:o;t.info.errorMsg=e.valid?"Common.OK":"Expression.Validation.InvalidExpression";t.info.translatedErrorMgs=G["default"].get(t.info.errorMsg);t.info.extraErrorMsg="";if(e.data)if(e.data.bad.length>0){var n=e.data.bad.map((function(e){return e.name}));t.info.errorMsg={id:"Expression.Validation.BadFieldName",value:[n.join(", ")]}}else e.data.error&&(t.info.extraErrorMsg=e.data.error);d()}function p(e){var t=-1;var n=null;var r=function r(a){if(n){var o=-1;e.slice(a).startsWith(n.end)||Array.isArray(n.end)&&(e.slice(a).startsWith(n.end[0])||e.slice(a).startsWith(n.end[1]))?o=a+n.end.length:n.end.EOL&&(e.slice(a).startsWith("\n")||e.slice(a).startsWith("\r\n")||a===e.length-1)&&(o=a+1);if(o>-1){if(n.remove){e=e.slice(0,t)+e.slice(o);a-=o-t}n=null}}else{var s=c.find((function(t){i=a;return!(!Array.isArray(t.start)||!e.slice(a).startsWith(t.start[0])&&!e.slice(a).startsWith(t.start[1]))||e.slice(a).startsWith(t.start)}));if(s){n=s;t=a}}i=a};for(var i=0;i<e.length;i++)r(i);return e}t.$watch("info.codeArea.content",(function(e){t.info.status=r;Ce.getExpandedExpression(t.app,e).then((function(n){if(null==t.exprValidator){t.exprValidator=new qe["a"].ExpressionValidator(t.app,t.mode);t.exprValidator.Update.bind((function(e){f(e)}))}t.info.expr=p(e);t.info.expandedExpr=p(n.qExpandedExpression);t.info.translatedErrorMgs=G["default"].get(t.info.errorMsg);t.exprValidator.validate(t.info.expandedExpr,t.labels)}))}));t.expandCollapse=function(){t.state.expanded=!t.state.expanded};u();ue["a"].on("end.ee-update-size",u);t.$on("$destroy",(function(){ue["a"].off("end.ee-update-size",u);t.exprValidator=null}))}}}));var Ee=null;var Ie=null;var ke=[];function Ae(){if(Ie){Ie.close();Ie=null}}function Te(e){if(ke[e]){ke[e].close();ke[e]=null}}function De(e,t){t.preventDefault();var n=e.controller.previewText();e.codearea.contextApi.replaceSelection(n)}function Oe(e,t){t.preventDefault();e.codearea.contextApi.replaceSelection("".concat(e.controller.selectedFunction.value,"()"));var n=e.codearea.contextApi.getCursor();n.ch+=-1;e.codearea.contextApi.setCursor(n)}function Le(e,t){t.preventDefault();e.codearea.contextApi.replaceSelection(e.controller.selectedVariable.qName)}function Me(e,t){t.preventDefault();"0"===e.controller.setExpressionOption?ge["a"].getCurrentSelections(e.controller.app,e.controller.selectedAlternateState).then((function(t){void 0!==t&&void 0!==t.qSetExpression&&""!==t.qSetExpression?e.codearea.contextApi.replaceSelection("{".concat(t.qSetExpression,"}")):void 0!==t&&void 0!==t.qSetExpression||_e()})):e.controller.selectedBookmark&&ge["a"].getSelectionsFromBookmarkId(e.controller.app,e.controller.selectedBookmark.value,e.controller.selectedAlternateState).then((function(t){void 0!==t&&void 0!==t.qSetExpression&&""!==t.qSetExpression?e.codearea.contextApi.replaceSelection("{".concat(t.qSetExpression,"}")):void 0!==t&&void 0!==t.qSetExpression||_e()}))}function Pe(e,t){e.functionTipOptions={service:t,view:W["a"]}}function Ne(e,t,n,r){if(!n)return;if(Ie){o();return}n=n.replace(/\n/g," ");/^(input|textarea)$/i.test(document.activeElement.tagName)&&i.a.support.touch&&document.activeElement.blur();function a(){o();t.codearea.contextApi.focus()}function o(){i()(document).off("keydown",a);i()(document).off("mouseup",a);Ae()}Ie=u["default"].getService("luiPopover").show({template:"<lui-popover><lui-popover-body><p>{{input.text}}</p></lui-popover-body></lui-popover>",input:{text:n},controller:["$element",function(e){e.css("z-index","1200")}],alignTo:r.target,closeOnEscape:true,closeOnOutside:true,dock:"top",autoFocus:false});Ie.closed.then((function(){o()}));i()(document).one("keydown",{self:this},a);i()(document).one("mouseup",{self:this},a)}function Re(e,t){var n={expression:e,validity:t.validity};return U["a"].validateExpr(n,$["a"])}function Fe(e){var t={};e.forEach((function(e){e.fglist.forEach((function(n){t[n]||(t[n]=[]);t[n].push(e.func)}))}));return t}function _e(){var e=u["default"].getService("qvAlertDialog");return e.show({title:G["default"].get("ErrorDialog.Title"),message:G["default"].get("ExpressionEditor.TooManySelections"),closeOnEscape:false})}function je(){var e={statusText:"",errorMsg:"",extraErrorMsg:"",status:"",expr:"",expandedExpr:"",codeArea:null};return e}var Be=false;var Ve={template:d,sections:{fields:{key:"fields",translation:"ExpressionEditor.Fields",template:f,state:{sectionExpanded:true,table:{label:"",value:""},field:{label:"",value:""},aggregfunc:{label:"",value:""},setExpressionCheckBox:false,distinctCheckBox:"",totalCheckBox:""},expanded:true},functions:{key:"functions",translation:"ExpressionEditor.Functions",template:p,state:{sectionExpanded:false,functionCategory:{label:"",value:"ALL"},funct:{label:"",value:""}},expanded:false},setExpressions:{key:"setExpressions",translation:"ExpressionEditor.SetExpressions",template:v,state:{sectionExpanded:false,setExpressionOption:"0",selectedBookmark:"",selectedAlternateState:""},expanded:false},variables:{key:"variables",translation:"ExpressionEditor.Variables",template:h,state:{sectionExpanded:false,variable:"",sysVarsCheckBox:false,showVariablesFirstTime:true},expanded:false}},controller:["$scope","$element","$timeout",function(e,t,n){e.stringLimits=$["a"];e.controller=e.input.controller;e.codearea={content:e.input.expr};e.validity={expression:true};e.initializeToolbar=function(){e.undoDisabled=false;e.redoDisabled=false};e.sections=Ve.sections;e.items=[Ve.sections.fields,Ve.sections.functions,Ve.sections.setExpressions,Ve.sections.variables];e.$watch("controller.helpmodeActive",(function(){if(e.controller.helpmodeActive){e.helpmodeTooltip="Tooltip.HelpMode.Exit";e.undoDisabled=true;e.redoDisabled=true}else{e.helpmodeTooltip="Tooltip.HelpMode.Enter";e.undoDisabled=false;e.redoDisabled=false}}));e.$watch("controller.selectedFunctionCategory",(function(t){e.sections.functions.state.functionCategory=t;e.controller.setFunctionCategoryFilter(t)}));e.$watch("controller.selectedFunction",(function(t){e.sections.functions.state.funct=t;t&&(e.controller.selectedFunctionTip=e.input.expressionBnfModel.getFunctionTip(t.value))}));e.$watch("controller.selectedTable",(function(t){e.sections.fields.state.table=t;e.controller.setTableFilter(t)}));e.$watch("controller.selectedField",(function(t){e.sections.fields.state.field=t}));e.$watch("controller.selectedFunction",(function(t){e.sections.fields.state.funct=t}));e.$watch("controller.selectedCommonFunction",(function(t){e.sections.fields.state.aggregfunc=t}));e.$watch("controller.currentOption",(function(t){e.sections.fields.state.setExpressionCheckBox=t;t&&ge["a"].getCurrentSelections(e.app,e.controller.stateName).then((function(n){if(void 0!==n&&void 0!==n.qSetExpression&&""!==n.qSetExpression)e.controller.setCurrentSelections(n.qSetExpression);else if(void 0===n||void 0===n.qSetExpression){e.controller.currentOption=!t;e.sections.fields.state.setExpressionCheckBox=!t;_e()}else{e.controller.currentOption=!t;e.items[0].state.setExpressionCheckBox=!t}})).catch((function(){e.controller.currentOption=!t;e.sections.fields.state.setExpressionCheckBox=!t}))}));e.$watch("controller.distinctOption",(function(t){e.sections.fields.state.distinctCheckBox=t}));e.$watch("controller.totalOption",(function(t){e.sections.fields.state.totalCheckBox=t}));e.$watch("controller.showSystemVars",(function(t){e.sections.variables.state.sysVarsCheckBox=t;e.controller.setSysVarsFilter()}));e.$watch("controller.selectedVariable",(function(t){e.sections.variables.state.variable=t;t?t.qDefinition&&0===t.qDefinition.indexOf("=")?e.app.evaluate(t.qDefinition).then((function(n){e.controller.showVariableInfo(t.qDefinition,n)})):e.controller.showVariableInfo(t.qDefinition,t.qDefinition):e.controller.showVariableInfo("","")}));e.enableTouchOverlay=o.a.utils.touch;e.insertTextHandler=De.bind(null,e);e.insertFunctionHandler=Oe.bind(null,e);e.insertVariableHandler=Le.bind(null,e);e.insertSetExpressionHandler=Me.bind(null,e);e.info=je();e.showErrorMessage=Ne.bind(null,t,e);e.qlikviewReloadScriptMode={name:"qlikviewscript",service:e.input.expressionBnfModel};e.helpModeOptions={syntax:"chartsyntax",service:e.input.expressionBnfModel};e.autocompleteOptions={completeSingle:false,service:e.input.expressionBnfModel};Pe(e,e.input.expressionBnfModel);e.cancel=function(){e.close();e.$destroy()};function r(e){return e.replace(/(\r\n|\r|\n)/,"\r\n")}e.confirm=function(){var t=r(e.codearea.content);var n=Re(t,e);(n||e.input.allowEmpty&&""===t)&&e.close(t)};m["a"].StateChanged.bind(e.cancel);function a(t){e.info.codeArea=e.codearea;t=r(t);e.validity.expression||Re(t,e)}de["a"].treatAsDesktop()&&n((function(){n((function(){e.codearea.contextApi.focus();e.codearea.contextApi.setCursor(e.codearea.contextApi.lineCount(),0)}))}));e.$watch("codearea.content",a);e.openPopover=function(t){var n=t.currentTarget.dataset.context;Ee&&ke&&Ee!==n&&Te(Ee);Ee=n;if(!ke[n]){ke[n]=u["default"].getService("luiPopover").show({template:me.template,controller:me.controller,alignTo:t.currentTarget,input:{context:n,ctrl:e.controller,closePopover:Te,items:e.controller.getData(Ee),setSelectedItem:e.controller.setSelectedItem},position:"bottom",closeOnEscape:true});ke[n].closed.then((function(){Te(n)}))}};n((function(){i()(".qv-expandable-list-component").on("scroll",(function(){Te()}))}));e.closePopoverIfOpen=function(e){var t=i()(e.currentTarget).parents(".popover-wrapper").length>0;var n=i()(e.target).hasClass("expression-editor-dropdown");var r=i()(e.target).hasClass("label");t||n||r||Te(Ee)};e.$on("$destroy",(function(){Ae();Te(Ee);i()(".qv-expandable-list-component").off("scroll");Be=false;m["a"].StateChanged.unbind(e.cancel)}));e.onHelpmode=function(){e.controller.helpmodeActive=!e.controller.helpmodeActive;i()(document.body).toggleClass("help-mode",e.controller.helpmodeActive)};function s(){e.controller.helpmodeActive=false}e.onUndo=function(){s();e.codearea.contextApi.undo()};e.onRedo=function(){s();e.codearea.contextApi.redo()};e.initializeToolbar();e.changeCurrentSetExpressionOption=function(t){e.sections.setExpressions.state.setExpressionOption=t;e.controller.selectedBookmark="";e.controller.selectedAlternateState="";"0"===t?e.controller.currentSelectionsAlternateStates.length>0&&(e.controller.selectedAlternateState=e.controller.currentSelectionsAlternateStates[0].value):e.controller.bookmarks.length>0&&(e.controller.selectedBookmark=e.controller.bookmarks[0])};e.$watch("controller.selectedBookmark",(function(t){e.sections.setExpressions.state.selectedBookmark=t;t&&t.alternateStates.length>0&&(e.controller.isStateInArray(t.alternateStates,e.controller.selectedAlternateState)||(e.controller.selectedAlternateState=t.alternateStates[0].value))}));e.$watch("controller.selectedAlternateState",(function(t){e.sections.setExpressions.state.selectedAlternateState=t}))}]};function He(e){var t=e.app?l["a"].resolve(e.app.enigmaModel):s["a"].getApp();return t.then((function(t){return l["a"].all({bnf:le.get(t),fields:t.getFieldList(),variables:t.getVariableList(),layout:t.getLayout(),bookmarks:t.getBookmarkList()}).then((function(n){if(Be)return l["a"].reject();var r=n.bnf;var i=c["a"].expand(n.fields);var a=Fe(r.getFunctionsAndCategories());var o=String(e.expr||"");var s={title:e.title,allowEmpty:e.allowEmpty,labels:e.labels,expr:o,mode:e.mode,controller:z.create({fields:i,sections:Ve.sections,functions:a,variables:n.variables,bookmarks:n.bookmarks,translator:G["default"],showAlternateStates:t.layout.qStateNames.length>0,stateName:e.stateName,published:true===n.layout.published,app:t}),app:t,expressionBnfModel:r};Be=true;var d=u["default"].getService("luiDialog").show({template:Ve.template,controller:Ve.controller,input:s,closeOnOutside:false,showArrow:false});return d.closed.then((function(e){if(void 0===e)return l["a"].reject();return e}))}))}))}function ze(){return Be}var $e=t["a"]={_insertTextHandler:De,show:He,isOpen:ze}},D4qE:function(e,t,n){"use strict";var r={qInfo:{qType:"odag-toolbar-navpoint"},qMetaDef:{},qHyperCubeDef:{qDimensions:[],qInitialDataFetch:[{qLeft:0,qTop:0,qWidth:1,qHeight:0}]}};var i={qInfo:{qType:"odag-toolbar-navpoint"},MaxRowCountExpression:{qValueExpression:{qExpr:""}}};t["a"]={fieldHyperCubeProperties:r,maxRowExpression:i}},DGsO:function(e,t,n){"use strict";var r=n("6uJb");var i=n("DXLV");var a=n("2Hli");var o="qHyperCubeDef";function s(e){if(!e||!e.orientation||i["a"].isContinuousChart(e))return true;return"vertical"===e.orientation}function l(e,t){if(t)return t.getDimensionLayouts();return e&&e.qHyperCubeDef?e.qHyperCubeDef.qDimensions.map((function(e){return e.qDef})):[]}function c(e,t){if(t)return t.getMeasureLayouts();return e.qHyperCubeDef.qMeasures.map((function(e){return e.qDef}))}function u(e,t){var n;var i="y";var a=l(e,t).map((function(e){return e&&e.qFallbackTitle?e.qFallbackTitle:""})).join(", ");s(t&&t.layout)&&(i="x");n=a?r["default"].get("properties.".concat(i,"AxisWithInfo"),[a]):r["default"].get("properties.".concat(i,"Axis"));return n}var d={left:"properties.dock.left",right:"properties.dock.right",bottom:"Common.Bottom",top:"Common.Top"};function f(e,t){return{ref:"".concat(e,".dock"),translation:"Common.Position",type:"string",component:"dropdown",defaultValue:"near",options:function e(n,r,i){var a;var o;var l;if(t&&t.direction)l=t.direction;else{var c=s(i.layout);l=c&&t&&!t.major||!c&&t&&t.major?"y":"x"}if("x"===l){a=d.bottom;o=d.top}else{a=i.yMirrorMode?d.right:d.left;o=i.yMirrorMode?d.left:d.right}return[{value:"near",translation:a},{value:"far",translation:o}]},show:function t(n){return n[e]&&"none"!==n[e].show}}}function p(e,t,n){n=n||o;return a["a"].getValue(t.properties,"".concat(n,".qDimensions"),[])[0]===e}t["a"]={isVertical:s,getDimensions:l,getMeasures:c,dimensionAxisLabelFn:u,getAxisDockProperties:f,dockStringMap:d,isFirstDimension:p}},DREr:function(e,t,n){n("+3JK");e.exports="ngRoute"},DSgl:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("6uJb");var o='<lui-dialog x-variant="{{::variant}}" class="qv-alert-dialog">\n\t<lui-dialog-header ng-if="input.title">\n\t\t<lui-dialog-title>{{input.title}}</lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body ng-bind-html="input.message"></lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button x-variant="{{::variant}}" tid="alert-dialog-close" ng-click="close(true);" qva-focus="true">{{::closeLabel}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n';function s(e){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return s(e)}var l=i.a.module("qv.alert-dialog",["leonardo-ui.dialog"]);l.service("qvAlertDialog",["luiDialog",function(e){var t={};t.show=function(t){if("object"!==s(t))throw new Error("options must be an object");return e.show({controller:["$scope",function(e){e.closeLabel=e.input.closeLabel||a["default"].get("Common.Close")}],template:o,input:{message:t.message,title:t.title,closeLabel:t.closeLabel},variant:t.variant,closeOnEscape:t.closeOnEscape})};return t}])},DXLV:function(e,t,n){"use strict";var r=n("ZYaI");t["a"]={isContinuousChart:function e(t){if(!t.qHyperCube)return false;var n=this.canBeContinuousChart(t);var i=r["a"].isTimeDimension(n,t.qHyperCube.qDimensionInfo[0]);var a="linechart"===t.visualization||t.qHyperCube.qMeasureInfo.some((function(e){return e.series&&"line"===e.series.type}));var o=false;o=t.dimensionAxis&&t.dimensionAxis.continuousAuto?i&&a:n&&t.preferContinuousAxis;return o},canBeContinuousChart:function e(t){if(!t.qHyperCube||t.qHyperCube.qDimensionInfo.length<1)return false;var n=t.qHyperCube.qDimensionInfo[0].qTags||[];return t.qHyperCube.qDimensionInfo[0].qContinuousAxes&&n.indexOf("$numeric")>=0}}},Dze6:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("lPl/");t["a"]=function(e){return i.a.createElement(a["a"],Object.assign({d:"M8.5 8L4 3.5 5.5 2 11.5 8 5.5 14 4 12.5 8.5 8z"},e))}},ESef:function(e,t,n){"use strict";var r={};Object.defineProperties(r,{name:{value:255,writable:false},url:{value:2e3,writable:false},description:{value:512,writable:false},expression:{value:64e3,writable:false},script:{value:5e4,writable:false},textImage:{value:12e3,writable:false}});t["a"]=r},F1ij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();t.getSource=b;var i=n("W/5s");var a=f(i);var o=n("oQpb");var s=f(o);var l=n("wxXl");var c=f(l);var u=n("kbCg");var d=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function e(t){p(this,e);this._file=t;this.size=t.size}r(e,[{key:"slice",value:function e(t,n,r){if((0,c.default)()){(0,d.default)(this._file.slice(t,n),(function(e,t){if(e)return r(e);r(null,t)}));return}r(null,this._file.slice(t,n))}},{key:"close",value:function e(){}}]);return e}();var v=function(){function e(t,n){p(this,e);this._chunkSize=n;this._buffer=void 0;this._bufferOffset=0;this._reader=t;this._done=false}r(e,[{key:"slice",value:function e(t,n,r){if(t<this._bufferOffset){r(new Error("Requested data is before the reader's current offset"));return}return this._readUntilEnoughDataOrDone(t,n,r)}},{key:"_readUntilEnoughDataOrDone",value:function e(t,n,r){var i=this;var a=n<=this._bufferOffset+m(this._buffer);if(this._done||a){var o=this._getDataFromBuffer(t,n);r(null,o,null==o&&this._done);return}this._reader.read().then((function(e){var a=e.value,o=e.done;o?i._done=true:void 0===i._buffer?i._buffer=a:i._buffer=g(i._buffer,a);i._readUntilEnoughDataOrDone(t,n,r)})).catch((function(e){r(new Error("Error during read: "+e))}))}},{key:"_getDataFromBuffer",value:function e(t,n){if(t>this._bufferOffset){this._buffer=this._buffer.slice(t-this._bufferOffset);this._bufferOffset=t}var r=0===m(this._buffer);if(this._done&&r)return null;return this._buffer.slice(0,n-t)}},{key:"close",value:function e(){this._reader.cancel&&this._reader.cancel()}}]);return e}();function m(e){if(void 0===e)return 0;if(void 0!==e.size)return e.size;return e.length}function g(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var n=new e.constructor(e.length+t.length);n.set(e);n.set(t,e.length);return n}throw new Error("Unknown data type")}function b(e,t,n){if((0,a.default)()&&e&&"undefined"!==typeof e.uri){(0,s.default)(e.uri,(function(e,t){if(e)return n(new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. "+e));n(null,new h(t))}));return}if("function"===typeof e.slice&&"undefined"!==typeof e.size){n(null,new h(e));return}if("function"===typeof e.read){t=+t;if(!isFinite(t)){n(new Error("cannot create source for stream without a finite value for the `chunkSize` option"));return}n(null,new v(e,t));return}n(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))}},FIcw:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("lPl/");t["a"]=function(e){return i.a.createElement(a["a"],Object.assign({d:"M8,0 C12.4,0 16,3.6 16,8 C16,12.4 12.4,16 8,16 C3.6,16 0,12.4 0,8 C0,3.6 3.6,0 8,0 Z M9,11.5 C9,11.2 8.8,11 8.5,11 L7.5,11 C7.2,11 7,11.2 7,11.5 L7,12.5 C7,12.8 7.2,13 7.5,13 L8.5,13 C8.8,13 9,12.8 9,12.5 L9,11.5 Z M11.4,5.8 C11.4,4.45359559 9.88346718,3 8,3 C6.11653282,3 4.29863677,4.69559707 4.60277925,6.5 C4.63073054,6.5 6.01847034,7.12611863 6.2,6.4 C6.38152966,5.67388137 6.63221392,4.6 8,4.6 C9.36778608,4.6 9.6,5.47961059 9.6,5.9 C9.6,6.32038941 9.01884211,6.97027306 8.34185946,7.6076129 C7.6648768,8.24495274 7.1,9.4 7.1,9.9 C7.1,9.9 7.6,10 8,10 C8.4,10 8.7,9.9 8.8,9.8 C8.9,9.7 8.71565365,9.86053284 9.6,8.5 C10.4843463,7.13946716 11.4,7.14640441 11.4,5.8 Z"},e))}},FJpR:function(e,t,n){"use strict";function r(e,t){0===arguments.length?this.set(0,0):this.set(e,t)}r.prototype={toString:function e(){return"".concat(this.x," ").concat(this.y)},clone:function e(){return new r(this.x,this.y)},set:function e(t,n){this.x=t;this.y=n},equal:function e(t){return this.x===t.x&&this.y===t.y},closeTo:function e(t,n){if(!t)return false;return Math.abs(this.x-t.x)<n&&Math.abs(this.y-t.y)<n},distanceTo:function e(t){if(!t)return NaN;return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}};t["a"]=r},FMzN:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function a(e,t,n){t&&i(e.prototype,t);n&&i(e,n);return e}var o=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];var s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];var l=["January","February","March","April","May","June","July","August","September","October","November","December"];var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function u(e,t){for(var n=e.length;n<t;n++)e="0".concat(e);return e}function d(e,t){var n=e.getHours();var r=e.getDay()-1;if(t){n%=12;n||(n=12)}r<0&&(r=6);return{year:e.getFullYear(),month:e.getMonth(),day:r,date:e.getDate(),h:n,m:e.getMinutes(),s:e.getSeconds(),f:e.getMilliseconds(),t:e.getHours()>=12?"pm":"am"}}function f(e){var t=e.toString().split(".");if(!t[1])return 0;t=Number("0.".concat(t[1]));return t}function p(e){var t=e;var n=24*f(t);var r=60*f(n);var i=60*f(r);var a=1e3*f(i);return{d:Math.floor(t),h:Math.floor(n),m:Math.floor(r),s:Math.floor(i),f:Math.round(a)}}function h(e,t){var n=p(e);var r=n.d;var i=n.h;var a=n.m;var o=n.s;var s=n.f;var l=0;var c;if(/w+|t+/gi.test(t)){c=new Date(1899,11,30+Math.floor(e),0,0,86400*(e-Math.floor(e)));Number.isNaN(+c.getTime())&&(c=null)}/D+/gi.test(t)||(i+=24*r);/h+/gi.test(t)||(a+=60*i);/m+/gi.test(t)||(o+=60*a);if(/w+/gi.test(t)){l=c?c.getDay()-1:0;l<0&&(l=6)}return{year:0,month:0,day:l,date:r,h:i,m:a,s:o,f:s,t:c?c.getHours()>=12?"pm":"am":""}}function v(e,t){return{"Y+|y+":{Y:"".concat(Number("".concat(t.year).slice(-2))),YY:u("".concat(t.year).slice(-2),2),YYY:u("".concat(t.year).slice(-3),3),def:function e(n){return u("".concat(t.year),n.length)}},"M+":{M:t.month+1,MM:u("".concat(t.month+1),2),MMM:e.locale_months_abbr[t.month],def:e.locale_months[t.month]},"W+|w+":{W:t.day,WW:u("".concat(t.day),2),WWW:e.locale_days_abbr[t.day],def:e.locale_days[t.day]},"D+|d+":{D:t.date,def:function e(n){return u("".concat(t.date),n.length)}},"h+|H+":{h:t.h,def:function e(n){return u("".concat(t.h),n.length)}},"m+":{m:t.m,def:function e(n){return u("".concat(t.m),n.length)}},"s+|S+":{s:t.s,def:function e(n){return u("".concat(t.s),n.length)}},"f+|F+":{def:function e(n){var r="".concat(t.f);var i=n.length-r.length;if(i>0)for(var a=0;a<i;a++)r+="0";else i<0&&(r=r.slice(0,n.length));return r}},"t{1,2}|T{1,2}":{def:function e(n){var r=t.t;n[0].toUpperCase()===n[0]&&(r=r.toUpperCase());r=r.slice(0,n.length);return r}}}}var m=function(){function e(t,n){r(this,e);var i=t||{};i.qCalendarStrings||(i.qCalendarStrings={qLongDayNames:o,qDayNames:s,qLongMonthNames:l,qMonthNames:c});this.localeInfo=i;this.locale_days=i.qCalendarStrings.qLongDayNames.slice();this.locale_days_abbr=i.qCalendarStrings.qDayNames.slice();this.locale_months=i.qCalendarStrings.qLongMonthNames.slice();this.locale_months_abbr=i.qCalendarStrings.qMonthNames.slice();this.pattern=n}a(e,[{key:"clone",value:function t(){var n=new e(this.localeInfo,this.pattern);n.subtype=this.subtype;return n}},{key:"format",value:function e(t,n){n||(n=this.pattern?this.pattern:"YYYY-MM-DD hh:mm:ss");n=n.replace(/\[.+\]|\[|\]/g,"");var r=/t+/gi.test(n);var i;if(t instanceof Date)i=d(t,r);else{if(t<0){t=-t;n="-".concat(n)}i=h(t,n)}var a=v(this,i);var o=[];for(var s in a)o.push(s);var l=new RegExp(o.join("|"),"g");var c=n.replace(l,(function(e){var t;var n;for(n in a){t=new RegExp(n);if(t.test(e))break}if(!t)return"";var r;for(var i in a[n])if(i===e||i.toLowerCase()===e){r=a[n][i];"undefined"===typeof r&&(r=a[n][i.toLowerCase()]);break}"undefined"===typeof r&&(r=a[n].def);"function"===typeof r&&(r=r(e));return r}));return c}}]);return e}();m.parseInterval=p;t["a"]=m},FWpo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"b",(function(){return r}));var r={qInfo:{qId:"VariableList",qType:"VariableList"},qVariableListDef:{qType:"variable",qShowReserved:true,qShowConfig:true,qData:{tags:"/tags"}}};var i={types:"Doc",extend:{getVariableList:function e(){return this.getListData(r)},getVariableListObject:function e(){return this.getListObject(r)}}}},FZ1g:function(e,t,n){"use strict";var r=n("sWge");var i=n("PX8M");function a(e){return e?r["a"].resolve(e.enigmaModel):i["a"].getApp()}var o={};o.get=function(e,t){return a(t).then((function(t){return t.getBookmark(e)}))};o.apply=function(e,t){return a(t).then((function(t){return t.applyBookmark(e)}))};o.create=function(e,t){return a(t).then((function(t){return t.createBookmark(e)}))};o.createExtended=function(e,t,n){return a(n).then((function(n){return n.createBookmarkEx(e,t)}))};o.remove=function(e,t){return a(t).then((function(t){return t.destroyBookmark(e)}))};o.getList=function(e){return a(e).then((function(e){return e.getBookmarkListObject()}))};o.getListLayout=function(e){return a(e).then((function(e){return e.getBookmarkList()}))};t["a"]=o},Fcif:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(){r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return r.apply(this,arguments)}},FdxK:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);function a(e,t){var n=i()("<div></div>").appendTo(document.body);var r=function e(){return n.remove()};var a;var o=new Promise((function(e,t){a={resolve:e,reject:t}}));var s={destroy:r,resultPromise:o};n.showComponent({template:"<div qs-angular-overlay\n    data-component='component'\n    data-input='input'\n    data-exposed-api='exposedApi'\n    data-destroy-component='destroy'\n    data-deferred-result='deferredResult'\n  ></div>",controller:["$scope",function n(i){i.component=e;i.input=t;i.exposedApi=s;i.deferredResult=a;var o=false;i.destroy=function(){if(!o){o=true;i.$destroy();r()}}}]});return s}t["a"]={show:a}},Fusc:function(e,t,n){"use strict";var r=n("9oDI");var i=l();var a={tokenize:s};var o=a;function s(e){if("string"!==typeof e)throw new Error("Expression-tokenizer: Expression must be a string");e=e.trim();"="===e.charAt(0)&&(e=e.substr(1));var t=[];var n=0;var r=c(e);r.forEach((function(r){var i=e.substr(n,r.start-n).trim();i&&t.push({content:i,isOperator:false});t.push({content:r.content,isOperator:true});n=r.end}));var i=e.substr(n,e.length);t.push({content:i.trim(),isOperator:false});return t}function l(){var e={};for(var t in r["a"].SYMBOLS)if(r["a"].SYMBOLS.hasOwnProperty(t)){var n=r["a"].SYMBOLS[t];e[n.LEFT]=n.RIGHT}return e}function c(e){var t=[];for(var n=0;n<e.length;n++){var r=e.charAt(n);if(u(r)){n=d(e,r,n);continue}var i=[];var a=false;var o=f(r);i=p(r);if(i.length){var s=e.substr(n).toLowerCase();for(var l=0;l<i.length;l++){var c=i[l];var v=h(s,c);if(v){t.push({content:c,start:n,end:n+c.length});a=true;n+=c.length-1;break}}}!a&&o&&t.push({content:r,start:n,end:n+1})}return t}function u(e){return i.hasOwnProperty(e)}function d(e,t,n){var a=t;var o=i[a];var s=e.substring(n).split("");var l=0;var c=false;for(var u=0;u<s.length;u++){var d=s[u];d===r["a"].SYMBOLS.STRING.LEFT&&(c=!c);if(c)continue;d===a&&l++;d===o&&l--;if(!l)return u+n}return n}function f(e){return r["a"].OPERATORS.SINGLES.indexOf(e.toLowerCase())>-1}function p(e){var t=[];var n=r["a"].OPERATORS.MULTIPLES.concat(r["a"].OPERATORS.WORDS).filter((function(e){return e.length>1})).map((function(e){return e.toLowerCase()}));n.forEach((function(n){0===n.indexOf(e.toLowerCase())&&t.push(n)}));return t}function h(e,t){var n=0===e.indexOf("".concat(t," "));var i=r["a"].OPERATORS.SINGLES.some((function(n){return 0===e.indexOf(t+n)}));return n||i}var v=n("ZszH");var m={stripComments:b};var g=m;function b(e){if(!e)return"";e=y(e);e=w(e);return e.trim()}function y(e){return e.replace(/\/\/(.*)$/gm,"")}function w(e){return e.replace(/\/\*[^]*?\*\//g,"")}var S={};var x={classify:q};var C=t["a"]=x;function q(e){if("string"!==typeof e)throw new Error("Expression-classifier: Expression must be a string");var t=e;if(S[t])return S[t];var n={content:e,count:0,result:{},results:[]};if(""===e){S[t]=n;return n}"="===e.charAt(0)&&(e=e.substr(1));var r=g.stripComments(e);var i=o.tokenize(r);n.count=i.length;i.forEach((function(e,t){var r;if(e.isOperator)n.results.push(e);else{r=E(e.content);n.results.push(r)}0===t&&(n.result=r)}));S[t]=n;return n}function E(e){var t={content:e,function:{content:"",isCommon:false},remainder:{content:"",isFunction:false,isCommonFunction:false,isCommaSeparated:false,isFieldlike:false,isString:false,isNumber:false,isQualifier:false,qualified:{qualifier:"",content:"",isFieldlike:false}}};var n=I(e);if(n.hasAggregation){t.function.content=k(e,n);t.function.isCommon=M(t.function.content);t.remainder.content=A(e,n);var r=I(t.remainder.content);t.remainder.isFunction=N(r);t.remainder.isCommonFunction=R(t.remainder.content,r);t.remainder.isQualifier=D(t.remainder.content);t.remainder.isCommaSeparated=P(t.remainder.content);if(t.remainder.isQualifier){var i=O(t.remainder.content);var a=L(t.remainder.content,i);var o=I(a);t.remainder.qualified={qualifier:i,content:a,isFieldlike:F(o)}}n=r}else t.remainder.content=t.content;t.remainder.isFieldlike=F(n);t.remainder.isString=_(t.remainder.content);t.remainder.isNumber=j(t.remainder.content);return t}function I(e){var t={};t.expression=e;t.hasPrefix="="===e.charAt(0);t.leftSymbolIndex=e.indexOf(r["a"].SYMBOLS.FUNCTION.LEFT);t.hasAggregation=t.leftSymbolIndex>0;t.isRightSymbolLast=e.substring(e.length-1)===r["a"].SYMBOLS.FUNCTION.RIGHT;t.isEncapsulated=t.hasAggregation&&t.isRightSymbolLast;t.hasOperator=T(e);return t}function k(e,t){var n=t.hasPrefix?1:0;var r=t.hasPrefix?t.leftSymbolIndex+1:t.leftSymbolIndex;return e.substr(n,r).trim()}function A(e,t){var n=e.substr(t.leftSymbolIndex);var r=n.substr(1,n.length-2);return r.trim()}function T(e){var t=r["a"].OPERATORS;var n=t.SINGLES;var i=t.MULTIPLES;var a=t.WORDS;var o=n.some((function(t){return e.indexOf(t)>-1}));if(o)return true;var s=i.some((function(t){return e.indexOf(t)>-1}));if(s)return true;var l=a.some((function(t){return e.indexOf(" ".concat(t," "))>-1}));return l}function D(e){return r["a"].QUALIFIERS.some((function(t){return 0===e.toLowerCase().indexOf(t)}))}function O(e){var t=r["a"].QUALIFIERS.filter((function(t){return 0===e.toLowerCase().indexOf(t)})).shift();return t}function L(e,t){return e.slice(t.length).trim()}function M(e){return r["a"].COMMON_FUNCTIONS.some((function(t){return e.toLowerCase()===t}))}function P(e){var t=v["a"].getCharacterIndexes(e,",");return t.some((function(t){return!z(e,t)}))}function N(e){return e.isEncapsulated&&!e.isBleedingOperator}function R(e,t){if(!t.isEncapsulated)return false;var n=e.substr(0,t.leftSymbolIndex);return M(n)}function F(e){var t=e.expression;if(_(e.expression))return false;var n=B(t,r["a"].SYMBOLS.FIELD.LEFT);var i=V(t,r["a"].SYMBOLS.FIELD.RIGHT);var a=v["a"].getCharacterCount(t,r["a"].SYMBOLS.FIELD.LEFT);var o=v["a"].getCharacterCount(t,r["a"].SYMBOLS.FIELD.RIGHT);if(n&&i&&1===a&&1===o)return true;return H(e)}function _(e){var t=B(e,r["a"].SYMBOLS.STRING.LEFT);var n=V(e,r["a"].SYMBOLS.STRING.RIGHT);var i=r["a"].SYMBOLS.STRING.LEFT===r["a"].SYMBOLS.STRING.RIGHT;var a=v["a"].getCharacterCount(e,r["a"].SYMBOLS.STRING.LEFT);var o;if(i)o=2===a;else{var s=v["a"].getCharacterCount(e,r["a"].SYMBOLS.STRING.RIGHT);o=1===a&&1===s}return t&&n&&o}function j(e){return!Number.isNaN(+e)}function B(e,t){return e.charAt(0)===t}function V(e,t){return e.charAt(e.length-1)===t}function H(e){if(e.hasAggregation)return false;var t=e.expression;var n=t.indexOf(" ")>-1;if(n)return false;var i=r["a"].OPERATORS.SINGLES.concat(r["a"].OPERATORS.MULTIPLES).some((function(e){return t.indexOf(e)>-1}));return!i}function z(e,t){return Object.keys(r["a"].SYMBOLS).some((function(n){var i=r["a"].SYMBOLS[n];return v["a"].getIsCharacterEncapsulated(e,t,i.LEFT,i.RIGHT)}))}},G1wx:function(e,t,n){"use strict";var r=n("Z9ZH");var i=n.n(r);var a=n("rEeF");var o="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var s={AUTO:"auto",TOUCH:"touch",DESKTOP:"desktop"};function l(e){if("string"!==typeof e||!s[e.toUpperCase()])throw new Error("Invalid device type");a["a"].deviceType=e}function c(){var e=a["a"].deviceType;if(e===s.AUTO){if(i.a.utils.msPointer&&(0===window.navigator.msMaxTouchPoints||0===window.navigator.maxTouchPoints))return true;if(i.a.utils.msPointer&&(window.navigator.msMaxTouchPoints>0||window.navigator.maxTouchPoints>0))return false;return!i.a.utils.touch}return e===s.DESKTOP}function u(e){var t=a["a"].deviceType;if(t===s.AUTO)return i.a.utils.isMouse(e);return t===s.DESKTOP}function d(){return o}t["a"]={setDeviceType:l,treatAsDesktop:c,isMouse:u,getMouseWheelEventName:d}},G3JA:function(e,t,n){"use strict";function r(e){return e&&"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){var n;var i;if(!r(e))throw new Error("No valid items were specified.");if("function"!==typeof t)throw new Error("No valid action function was specified.");if(Array.prototype.forEach)e.forEach(t);else for(n in e){i=e[n];t(i)}}function a(e,t){if(!r(e))throw new Error("No valid items were specified.");if(Array.prototype.indexOf)return-1!==e.indexOf(t);var n=e.length;while(n--)if(e[n]===t)return true;return false}function o(e,t){if(!e||!t||!e.length||!t.length)return false;var n=t.length;var r;for(r=0;r<n;r++)if(e.indexOf(t[r])>-1)return true;return false}function s(e,t){if(!e||!t||!e.length||!t.length)return false;var n=e.indexOf(t[0]);if(-1!==n){for(var r=0;r<t.length;r++){var i=e.indexOf(t[r]);if(n>i)return false;n=i}return true}return false}function l(e,t,n){if(n>=e.length){var r=n-e.length;while(1+r--)e.push(void 0)}e.splice(n,0,e.splice(t,1)[0])}function c(e,t,n){var r=e[t];e[t]=e[n];e[n]=r}function u(e,t){var n;for(n=0;n<e.length;++n)e[n]>=0&&e[n]>=t&&++e[n];e.push(t)}function d(e,t,n){var r;for(r=0;r<e.length;++r)e[r]>=0&&e[r]>=t&&++e[r];e.splice(n,0,t)}function f(e,t){var n=0;var r;for(r=0;r<e.length;++r)e[r]>t?--e[r]:e[r]===t&&(n=r);e.splice(n,1);return n}function p(e,t){if(e.length>t)return e.slice(0,t);return e}function h(e){if(!(e instanceof Array))throw new Error("Argument is not an Array.");return e.slice(0)}t["a"]={forEach:i,contains:a,move:l,swap:c,limit:p,indexAdded:u,indexAddedAt:d,indexRemoved:f,intersects:o,isOrderedSubset:s,copy:h}},GF7R:function(e,t,n){"use strict";var r=n("SOxp");var i={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkgrey:{r:169,g:169,b:169},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},grey:{r:128,g:128,b:128},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightgrey:{r:211,g:211,b:211},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},transparent:{r:255,g:255,b:255,a:0},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};var a=i;var o=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i;var s=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d(\.\d+)?)\)$/i;var l=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i;var c=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i;var u=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i;var d=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i;var f=Math.floor;var p=Math.round;var h=r["a"].extend({init:function e(){var t=0;var n=0;var r=0;var i=1;var o;var s;var l;var c;var u;var d;var v;var m;var g;var b;var y;var w;this._invalid=false;if(arguments[0]instanceof h){t=arguments[0]._r;n=arguments[0]._g;r=arguments[0]._b;i=arguments[0]._a;this._invalid=arguments[0]._invalid}else if(arguments.length<3)if("string"===typeof arguments[0]){w=arguments[0];if(y=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(w)){t=parseInt(y[1],10);n=parseInt(y[2],10);r=parseInt(y[3],10)}else if(y=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d+)?)\s*\)$/i.exec(w)){t=parseInt(y[1],10);n=parseInt(y[2],10);r=parseInt(y[3],10);i=parseFloat(y[4])}else if(y=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(w)){t=parseInt(y[1],16);n=parseInt(y[2],16);r=parseInt(y[3],16);i=1}else if(y=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(w)){t=parseInt(y[1]+y[1],16);n=parseInt(y[2]+y[2],16);r=parseInt(y[3]+y[3],16);i=1}else if(y=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(w)){o=parseFloat(y[1]);s=parseFloat(y[3]);c=parseFloat(y[5]);o%=360;s/=100;c/=100;o=o<0?0:o>360?360:o;s=s<0?0:s>1?1:s;c=c<0?0:c>1?1:c;d=c<=.5?2*c*s:(2-2*c)*s;v=o/60;m=d*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[d,m,0];break;case 1:g=[m,d,0];break;case 2:g=[0,d,m];break;case 3:g=[0,m,d];break;case 4:g=[m,0,d];break;case 5:g=[d,0,m];break;default:g=[0,0,0]}b=c-.5*d;t=g[0]+b;n=g[1]+b;r=g[2]+b;t=p(255*t);n=p(255*n);r=p(255*r);i=1}else if(y=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(w)){o=parseFloat(y[1]);s=parseFloat(y[3]);c=parseFloat(y[5]);i=parseFloat(y[7]);o%=360;s/=100;c/=100;o=o<0?0:o>360?360:o;s=s<0?0:s>1?1:s;c=c<0?0:c>1?1:c;d=c<=.5?2*c*s:(2-2*c)*s;v=o/60;m=d*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[d,m,0];break;case 1:g=[m,d,0];break;case 2:g=[0,d,m];break;case 3:g=[0,m,d];break;case 4:g=[m,0,d];break;case 5:g=[d,0,m];break;default:g=[0,0,0]}b=c-.5*d;t=g[0]+b;n=g[1]+b;r=g[2]+b;t=p(255*t);n=p(255*n);r=p(255*r)}else if(y=/^hsv\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(w)){o=parseFloat(y[1]);s=parseFloat(y[3]);u=parseFloat(y[5]);o%=360;s/=100;u/=100;o=o<0?0:o>360?360:o;s=s<0?0:s>1?1:s;u=u<0?0:u>1?1:u;d=u*s;v=o/60;m=d*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[d,m,0];break;case 1:g=[m,d,0];break;case 2:g=[0,d,m];break;case 3:g=[0,m,d];break;case 4:g=[m,0,d];break;case 5:g=[d,0,m];break;default:g=[0,0,0]}b=u-d;t=g[0]+b;n=g[1]+b;r=g[2]+b;t=p(255*t);n=p(255*n);r=p(255*r);i=1}else if(a[w.toLowerCase()]){l=w.toLowerCase();t=a[l].r;n=a[l].g;r=a[l].b;i="number"===typeof a[l].a?a[l].a:1}else this._invalid=true}else if("number"===typeof arguments[0]&&arguments[0]>=0&&"argb"===arguments[1]){i=(4278190080&arguments[0])>>>24;i/=255;t=(16711680&arguments[0])>>16;n=(65280&arguments[0])>>8;r=255&arguments[0]}else if("number"===typeof arguments[0]&&arguments[0]>=0){t=(16711680&arguments[0])>>16;n=(65280&arguments[0])>>8;r=255&arguments[0]}else this._invalid=true;else if(arguments.length>=3){t=arguments[0];n=arguments[1];r=arguments[2];i=arguments.length>=4?arguments[3]:1}else this._invalid=true;Number.isNaN(+t+n+r+i)&&(this._invalid=true);this._r=f(t);this._g=f(n);this._b=f(r);this._a=i;this._spaces={}},isInvalid:function e(){return this._invalid},setAlpha:function e(t){this._a=t;this._spaces={}},getAlpha:function e(){return this._a},toRGB:function e(){this._spaces.rgb||(this._spaces.rgb=h.toRGB(this));return this._spaces.rgb},toRGBA:function e(){this._spaces.rgba||(this._spaces.rgba=h.toRGBA(this));return this._spaces.rgba},toString:function e(){this._spaces.rgb||(this._spaces.rgb=h.toRGB(this));return this._spaces.rgb},toHex:function e(){this._spaces.hex||(this._spaces.hex=h.toHex(this));return this._spaces.hex},toHSL:function e(t){this._spaces.hsl||(this._spaces.hsl=h.toHSL(this,t));return this._spaces.hsl},toHSLA:function e(t){this._spaces.hsla||(this._spaces.hsla=h.toHSLA(this,t));return this._spaces.hsla},toHSV:function e(){var t=this.toHSVComponents();return"hsv(".concat(t.h,",").concat(t.s,",").concat(t.v,")")},toHSVComponents:function e(){this._spaces.hsvComp||(this._spaces.hsvComp=h.toHSVComponents(this));return this._spaces.hsvComp},toNumber:function e(){this._spaces.num||(this._spaces.num=h.toNumber(this));return this._spaces.num},isDark:function e(){return this.isInvalid()||this.getLuminance()<125},getLuminance:function e(){"undefined"===typeof this._lumi&&(this._lumi=.299*this._r+.587*this._g+.114*this._b);return this._lumi},shiftLuminance:function e(t){var n=this.toHSLA();var r=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(n);var i=parseFloat(r[1]);var a=parseFloat(r[3]);var o=parseFloat(r[5]);var s=parseFloat(r[7]);o+=t;o=Math.max(0,Math.min(o,100));return"hsla(".concat(i,",").concat(a,",").concat(o,",").concat(s,")")},isEqual:function e(t){if(t instanceof h)return this._r===t._r&&this._g===t._g&&this._b===t._b;t=new h(t);return this._r===t._r&&this._g===t._g&&this._b===t._b},blend:function e(t,n){var r=f(this._r+(t._r-this._r)*n);var i=f(this._g+(t._g-this._g)*n);var a=f(this._b+(t._b-this._b)*n);var o=f(this._a+(t._a-this._a)*n);return"rgba(".concat([r,i,a,o].join(","),")")},createShiftedColor:function e(t){(void 0===t||Number.isNaN(+t))&&(t=1);var n=this.getLuminance();var r=this._g<126?1:1+this._g/512;var i=this.shiftLuminance(20*(n*r<220?.8+1/(n+1)*4:-(.8+n/255*1))*t);return new h(i)}});h.toRGB=function e(t){if(t instanceof h)return"rgb(".concat([t._r,t._g,t._b].join(","),")");"string"===typeof t&&(t=h.toNumber(t));var n=(16711680&t)>>16;var r=(65280&t)>>8;var i=255&t;return"rgb(".concat(n,",").concat(r,",").concat(i,")")};h.toRGBA=function e(t,n){if(t instanceof h)return"rgba(".concat([t._r,t._g,t._b,"undefined"!==typeof n?n:t._a].join(","),")");"string"===typeof t&&(t=h.toNumber(t));var r=(16711680&t)>>16;var i=(65280&t)>>8;var a=255&t;return"rgba(".concat(r,",").concat(i,",").concat(a,",").concat("undefined"!==typeof n?n:t._a,")")};h.toHex=function e(t){var n;var r;var i;if(t instanceof h){n=t._r.toString(16);r=t._g.toString(16);i=t._b.toString(16);1===n.length&&(n="0".concat(n));1===r.length&&(r="0".concat(r));1===i.length&&(i="0".concat(i));return"#".concat([n,r,i].join(""))}"string"===typeof t&&(t=h.toNumber(t));n=((16711680&t)>>16).toString(16);r=((65280&t)>>8).toString(16);i=(255&t).toString(16);1===n.length&&(n="0".concat(n));1===r.length&&(r="0".concat(r));1===i.length&&(i="0".concat(i));return"#".concat(n).concat(r).concat(i)};h.toHSL=function(e,t){var n=0;var r;var i;var a;"string"===typeof e&&(e=new h(e));var o=e._r/255;var s=e._g/255;var l=e._b/255;var c=Math.max(o,s,l);var u=Math.min(o,s,l);i=t?.21*o+.72*s+.07*l:(c+u)/2;if(c===u){r=0;n=0}else{a=c-u;r=i>.5?a/(2-c-u):a/(c+u);switch(c){case o:n=(s-l)/a+(s<l?6:0);break;case s:n=(l-o)/a+2;break;case l:n=(o-s)/a+4;break;default:break}n/=6}return"hsl(".concat(360*n,",").concat(100*r,",").concat(100*i,")")};h.toHSLA=function(e,t){var n=0;var r;var i;var a;"string"===typeof e&&(e=new h(e));var o=e._r/255;var s=e._g/255;var l=e._b/255;var c=e._a;var u=Math.max(o,s,l);var d=Math.min(o,s,l);i=t?.21*o+.72*s+.07*l:(u+d)/2;if(u===d){r=0;n=0}else{a=u-d;r=i>.5?a/(2-u-d):a/(u+d);switch(u){case o:n=(s-l)/a+(s<l?6:0);break;case s:n=(l-o)/a+2;break;case l:n=(o-s)/a+4;break;default:break}n/=6}return"hsla(".concat(360*n,",").concat(100*r,",").concat(100*i,",").concat(c,")")};h.toHSVComponents=function(e){var t=0;var n;var r;"string"===typeof e&&(e=new h(e));var i=e._r/255;var a=e._g/255;var o=e._b/255;var s=Math.max(i,a,o);var l=Math.min(i,a,o);var c=s;if(s===l){n=0;t=0}else{r=s-l;n=0===r?0:r/c;switch(s){case i:t=(a-o)/r+(a<o?6:0);break;case a:t=(o-i)/r+2;break;case o:t=(i-a)/r+4;break;default:break}t/=6}return{h:360*t%360,s:100*n,v:100*c}};h.toNumber=function e(){if(1===arguments.length&&arguments[0]instanceof h)return(arguments[0]._r<<16)+(arguments[0]._g<<8)+arguments[0]._b;var t=0;var n=0;var r=0;var i;var a;if(1===arguments.length&&"string"===typeof arguments[0]){a=arguments[0];if(i=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i.exec(a)){t=parseInt(i[1],10);n=parseInt(i[2],10);r=parseInt(i[3],10)}else if(i=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(a)){t=parseInt(i[1],16);n=parseInt(i[2],16);r=parseInt(i[3],16)}else if(i=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(a)){t=parseInt(i[1]+i[1],16);n=parseInt(i[2]+i[2],16);r=parseInt(i[3]+i[3],16)}}return(t<<16)+(n<<8)+r};h.blend=function e(t,n,r){t=h.toNumber(t);n=h.toNumber(n);var i=(16711680&t)>>16;var a=(65280&t)>>8;var o=255&t;var s=(16711680&n)>>16;var l=(65280&n)>>8;var c=255&n;var u=i+(s-i)*r;var d=a+(l-a)*r;var f=o+(c-o)*r;return(u<<16)+(d<<8)+f};h.getBlend=function e(t,n,r){var i=t._r+(n._r-t._r)*r;var a=t._g+(n._g-t._g)*r;var o=t._b+(n._b-t._b)*r;var s=t._a+(n._a-t._a)*r;return new h(i,a,o,s)};h.isCSSColor=function(e){if(arguments.length>1||"string"!==typeof e)return false;return o.test(e)||s.test(e)||l.test(e)||c.test(e)||u.test(e)||d.test(e)||a[e.toLowerCase()]};h.getBestContrast=function(e,t,n){var r=e.getLuminance();return Math.abs(r-t.getLuminance())>Math.abs(r-n.getLuminance())?t:n};h.getContrast=function(e,t){if(!e||!t)return;var n=e.getLuminance()/100;var r=t.getLuminance()/100;if(n>r)return(n+.05)/(r+.05);return(r+.05)/(n+.05)};h.isDark=function(){var e={getLuminance:h.prototype.getLuminance,isInvalid:h.prototype.isInvalid};h.prototype.init.apply(e,[].slice.call(arguments));return h.prototype.isDark.call(e)};h.useDarkLabel=function(e,t){return e._a>.5?!e.isDark():!t};var v=t["a"]=h},GG1N:function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));var r=n("mWu2");var i=n("2Hli");var a=n("sWge");var o=n("4nJ1");var s=n("6uJb");function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function c(e,t,n){return"function"===typeof e.refFn?e.refFn(t,n):e.ref}function u(e,t,n,r){var i=false;"boolean"===typeof t.invalid&&(i=i||t.invalid);"function"===typeof t.invalid&&(i=i||t.invalid.call(null,n,r.properties,r));if("number"===t.type)if(o["a"].isNumeric(e)){"number"===typeof t.max&&e>t.max&&(i=true);"number"===typeof t.min&&e<t.min&&(i=true)}else i=true;if("integer"===t.type)if(o["a"].isInteger(e)){"number"===typeof t.max&&e>t.max&&(i=true);"number"===typeof t.min&&e<t.min&&(i=true)}else i=true;if("string"===t.type){"undefined"!==typeof t.maxlength&&(i=i||e.length>t.maxlength);"undefined"!==typeof t.minlength&&(i=i||e.length<t.minlength)}return!i}var d=function e(t,n,r){if("function"===typeof t.change){var i=t.change(n,r.handler,r.properties,r);"object"===l(i)&&i.then?i.then((function(e){false!==e&&r.saveProperties()})):false!==i&&r.saveProperties()}else r.saveProperties()};var f=function e(t,n,r){if(t.translation)return s["default"].get(t.translation);if("function"===typeof t.label)return t.label(n,r.handler,r);if(t.label)return t.label;return""};var p=function e(t){if("function"===typeof t.placeholder)return t.placeholder();return t.placeholder};var h=function e(t,n,r){if(t.translation)return s["default"].get(t.translation);"function"===typeof t.title&&t.title(n,r.handler,r);if(t.title)return t.title;return""};var v=function e(t,n,r){if("function"===typeof t.readOnly)return t.readOnly(n,r.handler,r);if("boolean"===typeof t.readOnly)return t.readOnly;return false};var m=function e(t,n,r){if("function"===typeof t.show)return t.show(n,r.handler,r);if("boolean"===typeof t.show)return t.show;return true};var g=function e(t,n,r){function a(e){var a=c(t,n,r);var o=i["a"].getValue(n,a);if("undefined"===typeof o)return i["a"].getUndefinedValue(e,t);return o}if(t.convertFunctions&&"function"===typeof t.convertFunctions.get)return t.convertFunctions.get(a,t,r,n);return a(t.type)};var b=function e(t,n,a,o){function s(e,o,s){var l=i["a"].getTypeValue(e,o,s);var d=c(t,n,a);t.rollbackInvalid?u(l,t,n)?i["a"].setValue(n,d,l):r["default"].getService("$timeout")((function(){r["default"].$rootScope.$broadcast("pp-revalidate")})):i["a"].setValue(n,d,l)}if(t.convertFunctions&&"function"===typeof t.convertFunctions.set)t.convertFunctions.set(o,s,t,a,n);else{var l=i["a"].getDefaultValue(t.type,t);s(t.type,o,l)}};var y={defineValue:function e(t,n,r,i){var a;a="undefined"!==typeof i?i:"value";Object.defineProperty(t,a,{enumerable:true,get:function e(){return g(n,r(),t.args)},set:function e(i){b(n,r(),t.args,i)}})},defineExpression:function e(t,n,r){var a=t.definition.expression;var o=t.definition.expressionType;var s="optional"===a||"always"===a;var u=n?"qValueExpression":"qStringExpression";!o&&s&&(o=n?"ValueExpression":"StringExpression");t.expressionType=o;t.isExpressionDefinition=s;Object.defineProperty(t,"displayValue",{enumerable:true,get:function e(){var n=t.value;if(n&&"object"===l(n)){n=n[u].qExpr;n&&"="!==n[0]&&(n="=".concat(n))}return n},set:function e(n){var r=s&&n&&0===n.indexOf("=");var i;if(n&&r){i={};i[u]={qExpr:n.substr(1)}}else i=n;t.value=i}});t.isExpression=function(){if("always"===a)return true;if("optional"===a){var e=c(t.definition,t.data,t.args);var n=i["a"].getValue(t.data,e);return"object"===l(n)}return!!o};t.isLocked=function(){if(s){var e=t.value;"object"===l(e)&&(e=e[u].qExpr);if(!e||n&&"number"===typeof e)return false;var i=r&&-1!==e.indexOf("\n");return e&&(i||e.length>t.maxlength)}return false}},defineChange:function e(t,n){function r(){t.$emit("saveProperties")}t.change=function(){if("function"===typeof t.definition.change){var e=t.definition.change(t.data,n,t.args.properties,t.args);"object"===l(e)&&e.then?e.then((function(e){false!==e&&r()})):false!==e&&r()}else r()}},defineVisible:function e(t){Object.defineProperty(t,"visible",{enumerable:true,get:function e(){return m(t.definition,t.data,t.args)}})},defineReadOnly:function e(t){Object.defineProperty(t,"readOnly",{enumerable:true,get:function e(){return v(t.definition,t.data,t.args)}})},definePlaceholder:function e(t,n){n.placeholderTranslation?t.placeholder=s["default"].get(n.placeholderTranslation):n.placeholder&&(t.placeholder=n.placeholder)},defineTitle:function e(t,n,r){Object.defineProperty(t,"title",{enumerable:true,get:function e(){return h(n,r(),t.args)}})},defineLabel:function e(t,n,r,i){Object.defineProperty(t,"label",{enumerable:true,get:function e(){var a;return f(n,r(),null!==(a=t.args)&&void 0!==a?a:{handler:i})}})},defineCustom:function e(t,n,r){var i=t.definition[r];"function"===typeof i?Object.defineProperty(t,r,{enumerable:true,get:function e(){return i(t.data,n,t.args,t)}}):i&&(t[r]=i)},fillOptions:function e(t,n,r,i,o){var c=new a["a"];function u(){var e=t.options;"function"===typeof e&&(e=t.options.call(null,n,r,o));if("object"===l(e)&&"function"===typeof e.then)return e;return a["a"].resolve(e)}function d(e){return e.filter((function(e){return!!e})).map((function(e){var t={value:e.value,showCondition:e.showCondition};e.translation?t.label=s["default"].get(e.translation):e.label?t.label=e.label:t.label=e.value;e.tooltipTranslation?t.tooltip=s["default"].get(e.tooltipTranslation):e.tooltip&&(t.tooltip=e.tooltip);e.icon&&(t.icon=e.icon);return t}))}u().then((function(e){e=d(e);i.splice(0,i.length);for(var t=0;t<e.length;++t)i.push(e[t]);c.resolve()}),c.reject);return c.promise},validateType:u};t["a"]=y},GGvZ:function(e,t,n){"use strict";var r={};function i(e){var t=r[e];if(!t){t=[];r[e]=t}return t}function a(e,t){if(!e)throw new Error("Key is not defined.");if("string"!==typeof e)throw new Error("Key has to a String.");if(!t)throw new Error("No observer was defined.");if("function"!==typeof t)throw new Error("Observer is not a function.");var n=i(e);n.push(t)}function o(e,t,n){if(!e)throw new Error("Key is not defined.");if("string"!==typeof e)throw new Error("Key has to a String.");var r=i(e);r.forEach((function(e){e(t,n)}))}function s(e,t){if(!e)throw new Error("Key is not defined.");if(!t)throw new Error("Observer is not defined.");var n=i(e);var r=n.indexOf(t);if(-1===r)throw new Error('Unknown observer for the key "'.concat(e,'".'));n.splice(r,1)}t["a"]={addObserver:a,notifyAll:o,removeObserver:s}},GMLQ:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("xARA");var o=n("qIEf");var s=n.n(o);var l=n("NFdj");var c=n.n(l);var u=n("dL8b");var d=function(e,t){e.$root&&e.$root.$$phase?t&&t():e.$apply(t)};var f=n("5Hbw");var p=n("tE54");var h=n("FdxK");var v=n("Z9ZH");var m=n.n(v);var g=n("vybQ");var b=n("KCQn");var y=n("1BTh");var w=n("DSgl");var S=n("qfyE");var x=n("U7Ny");var C=n("6uJb");var q=n("hIk4");var E="1753-01-01T00:00:00.000Z";var I={restrict:"E",replace:true,scope:{date:"=",format:"@"},template:'<span class="qv-moment">{{dateToShow}}</span>',link:function e(t){var n;n="short"===t.format?{year:"numeric",month:"numeric",day:"numeric",timeZone:Object(q["c"])()}:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",timeZone:Object(q["c"])()};t.$watch("date",(function(){if(t.date===E||"undefined"===typeof t.date)t.dateToShow="";else{var e="string"===typeof t.date?new Date(t.date):t.date;t.dateToShow=Intl.DateTimeFormat(C["default"].locale,n).format(e)}}))}};c.a.module("qv.directives.drm-format-date",[]).directive("drmFormatDate",(function(){return I}));var k=c.a.module("qv.directives.qva-activate",[]);k.directive("qvaActivate",["$parse",function(e){return function(t,n,r){var i=e(r.qvaActivate);n.on("qv-activate keypress",(function(e){var n="keypress"===e.type&&32===e.which;("keypress"!==e.type||n&&s()(e.target).is(":input"))&&t.$apply((function(){i(t,{$event:e})}))}))}}]);var A=c.a.module("qv.directives.qva-blur",[]);A.directive("qvaBlur",["$parse",function(e){return function(t,n,r){var i=e(r.qvaBlur);n.bind("blur",(function(e){d(t,(function(){i(t,{$event:e})}))}))}}]);var T=c.a.module("qv.directives.qva-context-menu",[]);T.directive("qvaContextMenu",["$parse",function(e){return function(t,n,r){var i=e(r.qvaContextMenu);n.bind("qv-contextmenu",(function(e){t.$apply((function(){i(t,{$event:e})}))}))}}]);var D=c.a.module("qv.directives.qva-dblclick",[]);D.directive("qvaDblclick",["$parse",function(e){return function(t,n,r){var i=e(r.qvaDblclick);var a="qva-dblclick".concat(t.$id);m()(n[0]).doubletap({id:a,options:{timeThreshold:250,preventDefault:false},end:function e(){t.$apply(i)}});t.$on("$destroy",(function(){m()(n[0]).off("doubletap",a)}))}}]);var O=c.a.module("qv.directives.qva-delegated-activate",[]);O.directive("qvaDelegatedActivate",["$parse",function(e){return function(t,n,r){var i=r.qvaDelegatedActivate.split(";");var a=function r(a){var o=i[a].trim().split("#");var s=o[0];var l=e(o[1]);(function(e,r){n.on("qv-activate",s,(function(e){t.$apply((function(){r(t,{$event:e})}))}))})(s,l)};for(var o=0;o<i.length;o++)a(o)}}]);var L=c.a.module("qv.directives.qva-delegated-click",[]);L.directive("qvaDelegatedClick",["$parse",function(e){return function(t,n,r){var i=r.qvaDelegatedClick.split(";");var a=function r(a){var o=i[a].trim().split("#");var s=o[0];var l=e(o[1]);(function(e,r){n.on("click",s,(function(e){t.$apply((function(){r(t,{$event:e})}))}))})(s,l)};for(var o=0;o<i.length;o++)a(o)}}]);var M=n("QsDr");var P=c.a.module("qv.directives.qva-indeterminate",[]);P.directive("qvaIndeterminate",[function(){return function e(t,n,r){var i=r.qvaIndeterminate;n.prop("indeterminate",true===i||"true"===i);t.$watch(r.qvaIndeterminate,(function(e){n.prop("indeterminate",true===e||"true"===e)}))}}]);var N=c.a.module("qv.directives.qva-model-onblur",[]);N.directive("qvaModelOnblur",(function(){return{restrict:"A",require:"ngModel",priority:1,link:function e(t,n,r,i){if("radio"===r.type||"checkbox"===r.type)return;n.unbind("input keydown change compositionend");n.bind("blur",(function(){t.$apply((function(){"undefined"!==typeof r.qvaCancelEditingOnEmpty&&""===n.val().trim()?n.val(i.$modelValue):i.$setViewValue(n.val())}))}));n.bind("keydown",(function(e){if(27===e.which){e.stopPropagation();n.val(i.$modelValue);n.closest("*[tabindex]").focus()}else if(13===e.which){e.stopPropagation();n.closest("*[tabindex]").focus()}}))}}}));var R=c.a.module("qv.directives.qva-model-onkeyup",[]);var F=13;var _=27;function j(e){e.trigger("blur")}R.directive("qvaModelOnkeyup",(function(){return{require:"ngModel",link:function e(t,n,r,i){var a=false;n.on("compositionend",(function(){a=true}));n.on("keyup",(function(e){var r=e.originalEvent.isComposing;if(a||r){a=false;return}if([F,_].includes(e.which)){switch(e.which){case _:i.$rollbackViewValue();break;default:}e.stopPropagation();j(n)}"function"===typeof t.onkeyup&&t.onkeyup(n)}))}}}));var B=n("G1wx");var V=c.a.module("qv.directives.qva-mouse-wheel-outside",[]);V.directive("qvaMouseWheelOutside",["$parse","$document",function(e,t){return{restrict:"A",link:function n(r,i,a){var o=e(a.qvaMouseWheelOutside);var s=B["a"].getMouseWheelEventName();var l=function e(t){var n=false;var a=t.target;while(a){if(a===i[0]){n=true;break}a=a.parentElement}n?t.preventDefault():r.$apply((function(){o(r,{$event:t})}))};var c={passive:false,capture:true};t[0].addEventListener(s,l,c);r.$on("$destroy",(function(){t[0].removeEventListener(s,l,c)}))}}}]);var H=c.a.module("qv.directives.qva-outside",[]);H.directive("qvaOutside",["$parse",function(e){return function(t,n,r){var i=e(r.qvaOutside);var a=false;var o=false;function l(e){a="allOutside"===s()(e.target).attr("qva-outside-ignore-for")||s()(e.target).closest('[qva-outside-ignore-for="allOutside"]').length;o=s()(e.target).data("overrideignore");if(a&&!o)return;r.qvaOutsideIgnoreFor&&r.qvaOutsideIgnoreFor===s()(e.target).closest("[qva-outside-ignore-for]").attr("qva-outside-ignore-for")||t.$apply((function(){i(t,{$event:e})}))}n.bind("qv-outside",l);t.$on("$destroy",(function(){n.unbind("qv-outside",l)}))}}]);var z=c.a.module("qv.directives.qva-press",[]);z.directive("qvaPress",["$parse",function(e){return function(t,n,r){var i=e(r.qvaPress);n.on("qv-press",(function(e){t.$apply((function(){i(t,{$event:e})}))}))}}]);var $=c.a.module("qv.directives.qva-prevent-drag",[]);$.directive("qvaPreventDrag",(function(){return{restrict:"A",link:function e(t,n){n.on("qv-press",(function(e){e.preventDefault();m.a.WebkitHack.prevent()}))}}}));var U=c.a.module("qv.directives.qva-radial-context-menu",[]);U.directive("qvaRadialContextMenu",["$parse",function(e){return function(t,n,r){var i=e(r.qvaRadialContextMenu);n.bind("qv-radial-contextmenu",(function(e){t.$apply((function(){i(t,{$event:e})}))}))}}]);var G=c.a.module("qv.directives.qva-reported-window-size",[]);G.directive("qvaReportedWindowSize",(function(){return{restrict:"A",link:function e(t,n,r){function i(){d(t.$root,(function(){t[r.qvaReportedWindowSize]={width:s()(window).width(),height:s()(window).height()}}))}i();s()(window).bind("resize",i);t.$on("$destroy",(function(){s()(window).unbind("resize",i)}))}}}));var W=c.a.module("qv.directives.qva-select",[]);W.directive("qvaSelect",["$timeout",function(e){return{restrict:"A",link:function t(n,r,i){0!==i.qvaSelect.length&&"true"!==i.qvaSelect||e((function(){r[0].select()}),100)}}}]);var Q=c.a.module("qv.directives.qva-select-watch",[]);Q.directive("qvaSelectWatch",["$timeout",function(e){return{restrict:"A",link:function t(n,r,i){n.$watch(i.qvaSelectWatch,(function(t){(""===i.qvaSelectWatch||""!==i.qvaSelectWatch&&true===t)&&B["a"].treatAsDesktop()&&e((function(){r[0].select()}))}),true)}}}]);var K=n("rwJ+");var Y=c.a.module("qv.directives.qva-scroll-into-view",[]);Y.directive("qvaScrollIntoView",["$timeout",function(e){return{restrict:"A",link:function t(n,r,i){n.$watch(i.qvaScrollIntoView,(function(t){t.scrollSelector&&t.scroll&&e((function(){K["a"].scrollElmentIntoView(r,t.scrollSelector)}))}),true)}}}]);var J=c.a.module("qv.directives.qva-swipe",[]);J.directive("qvaSwipe",["$parse",function(e){return function(t,n,r){var i=e(r.qvaSwipe);n.bind("qv-swipe",(function(e){t.$apply((function(){i(t,{$event:e,$element:n})}))}))}}]);var Z=n("R2Yu");var X=n("5ezW");var ee=n("4nJ1");var te=c.a.module("qv.directives.qve-highlight",[]);function ne(){return{scope:{text:"@",query:"="},restrict:"EA",replace:true,link:function e(t,n){t.$watchCollection("[text, query]",(function(){var e=X["a"].string(t.query);if(!e){n.text(t.text);return}var r=ne.highlightMatches(X["a"].string(t.text),e,"lui-texthighlight",t.text);n.html(r)}))}}}ne.highlightMatches=function(e,t,n,r){return ne.markMatches(e,t,r).map((function(e){if(e.match)return"<span ".concat(Z["a"].encodeForAttr("class",n),">").concat(Z["a"].encodeForHTML(e.text),"</span>");return Z["a"].encodeForHTML(e.text)})).join("")};ne.markMatches=function(e,t,n){n=e;var r=[];var i=0;var a=new RegExp(ee["a"].escapeRegExp(t),"gi");var o=false;while(!o){var s=a.exec(e);if(!s){i<e.length&&r.push({text:n.substring(i),match:false});o=true;continue}s.index>i&&r.push({text:n.substring(i,s.index),match:false});r.push({text:n.substring(s.index,a.lastIndex),match:true});i=a.lastIndex}return r};te.directive("qveHighlight",ne);var re=ne;var ie=c.a.module("qv.directives.keyboard",[]);function ae(e,t,n){return["$parse",function(r){return{restrict:"A",link:function i(a,o,l){var c=r(l[e]);var u=function e(n){t&&t!==n.which||setTimeout((function(){n.preventDefault();a.$apply((function(){c(a,{$event:n})}))}))};s()(n||o).bind("keydown",u);a.$on("$destroy",(function(){s()(n||o).unbind("keydown",u)}))}}}]}ie.directive("qvGlobalKeydown",ae("qvGlobalKeydown",void 0,s()("body")));ie.directive("qvGlobalEscape",ae("qvGlobalEscape",27,s()("body")));ie.directive("qvGlobalEnter",ae("qvGlobalEnter",13,s()("body")));ie.directive("qvKeydown",ae("qvKeydown",void 0));ie.directive("qvEscape",ae("qvEscape",27));ie.directive("qvEnter",ae("qvEnter",13));c.a.module("qv.directives",["qv.directives.drm-format-date","qv.directives.qva-activate","qv.directives.qva-blur","qv.directives.qva-context-menu","qv.directives.qva-dblclick","qv.directives.qva-delegated-activate","qv.directives.qva-delegated-click","qv.directives.qva-focus","qv.directives.qva-indeterminate","qv.directives.qva-model-onblur","qv.directives.qva-model-onkeyup","qv.directives.qva-mouse-wheel-outside","qv.directives.qva-outside","qv.directives.qva-press","qv.directives.qva-prevent-drag","qv.directives.qva-radial-context-menu","qv.directives.qva-reported-window-size","qv.directives.qva-scroll-into-view","qv.directives.qva-select","qv.directives.qva-select-watch","qv.directives.qva-swipe","qv.directives.qve-highlight","qv.directives.keyboard"]);var oe=c.a.module("qv.filters.qv-array-slice",[]);oe.filter("qvArraySlice",(function(){return function(e,t,n){return(e||[]).slice(t,n)}}));var se=c.a.module("qv.filters.qv-to-array",[]);se.filter("qvToArray",(function(){return function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}}));c.a.module("qv.filters",["qv.filters.qv-array-slice","qv.filters.qv-to-array"]);var le=c.a.module("qv.locale",[]);le.directive("qPlaceholder",(function(){return{restrict:"A",link:function e(t,n,r){var i=false;function a(){n.attr("placeholder",i?"":C["default"].get(r.qPlaceholder))}if(r.ngDisabled){i=true;t.$watch(r.ngDisabled,(function(e){i=e;a()}))}r.$observe("qPlaceholder",(function(){a()}))}}}));le.directive("qSimpleTranslation",(function(){return{restrict:"A",link:function e(t,n,r){function i(e){n.text(C["default"].get(e))}r.$observe("qTranslation",i)}}}));le.directive("qTranslation",(function(){return{restrict:"A",link:function e(t,n,r){function i(e){var t=e.split(",");var i;var a;var o;var s=JSON.parse(r.qHtmlTranslationIndexes||"null");var l=s?"html":"text";var c=t[0].indexOf("|");a=c>=0&&t.length>=2?"1"===t[1]?t[0].substring(0,c).trim():t[0].substring(c+1).trim():t[0];i=C["default"].get(a);s&&t.push.apply(t,s);for(o=1;o<t.length;o++)i=i.replace("{".concat(o-1,"}"),t[o]);n[l](i)}r.$observe("qTranslation",i);i(r.qTranslation)}}}));le.directive("translate",(function(){return function e(t,n,r){function i(e){if(e)if("string"===typeof e){n.attr("data-translation",e);n.removeAttr("data-text")}else{n.attr("data-translation",e.id);n.data("text",{value:e.value})}else{n.removeAttr("data-translation");n.removeAttr("data-text")}C["default"].apply(n[0])}t.$watch(r.translate,i)}}));le.directive("qTitleTranslation",(function(){return{restrict:"A",link:function e(t,n,r){function i(e){e?n.attr("title",C["default"].get(e)):n.removeAttr("title")}r.$observe("qTitleTranslation",i);i(r.qTitleTranslation)}}}));le.filter("translate",(function(){return function(e){return C["default"].get(e)}}));le.filter("translatetoupper",(function(){return function(e){return C["default"].get(e).toUpperCase()}}));var ce='<div class="qs-pong qv-block-ui" ng-class="{\'qv-fade-out\': fadeOut, \'qv-transparent-background\': transparentBackground}" tid="3e1f54">\n\t<div class="qv-animate qv-loader-container qs-pong-loader-logo"  ng-class="ngClasses">\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="-53 0 200 73">\n\t\t\t\t<g fill="none" fill-rule="evenodd">\n\t\t\t\t  <path fill="#00994C" d="M9.234,43.7224 L9.234,44.7544 L8.36,44.7544 L8.36,43.7224 L9.234,43.7224 Z M9.234,10.1864 L9.234,13.9494 L27.578,13.9504 L27.578,19.6624 L9.234,19.6614 L9.234,23.8614 L21.1136,23.862 L21.1136,20.576 L21.9876,20.576 L21.9876,24.736 L9.234,24.7354 L9.234,28.0424 L31.754,28.0424 L31.754,33.7544 L9.234,33.7544 L9.234,37.9534 L24.4086,37.9538 L24.4086,34.6698 L25.2846,34.6698 L25.2846,38.8278 L9.234,38.8274 L9.234,42.5884 L8.36,42.5884 L8.36,10.1864 L9.234,10.1864 Z M85.91,39.6204 L85.91,40.7644 L84.564,40.7644 L84.564,39.6204 L85.91,39.6204 Z M83.0794,23.5108 L83.0794,24.6568 L81.6674,24.6564 L81.667,39.6204 L83.08,39.6204 L83.08,40.7644 L45.758,40.7644 L45.758,39.6204 L46.863,39.6204 L46.8634,31.1924 L45.7574,31.1928 L45.7574,30.0488 L49.3394,30.0488 L51.1734,28.2148 L55.5674,28.2148 L59.4114,32.0608 L64.5634,32.0608 L71.0434,25.5788 L75.4094,25.5788 L77.4774,23.5108 L83.0794,23.5108 Z M43.192,39.6204 L43.192,40.7644 L39.684,40.7644 L39.684,39.6204 L43.192,39.6204 Z M74.4034,26.7244 L72.4854,26.7244 L72.485,39.6204 L74.404,39.6204 L74.4034,26.7244 Z M49.9254,31.0804 L49.8134,31.1928 L48.0074,31.1924 L48.007,39.6204 L49.925,39.6204 L49.9254,31.0804 Z M52.9834,29.3584 L51.6474,29.3588 L51.0694,29.9364 L51.069,39.6204 L52.983,39.6204 L52.9834,29.3584 Z M55.0934,29.3588 L54.1274,29.3584 L54.127,39.6204 L56.043,39.6204 L56.0434,30.3084 L55.0934,29.3588 Z M57.1874,31.4534 L57.187,39.6204 L59.101,39.6204 L59.1014,33.2044 L58.9374,33.2048 L57.1874,31.4534 Z M62.1634,33.2044 L60.2454,33.2044 L60.245,39.6204 L62.164,39.6204 L62.1634,33.2044 Z M65.2234,33.0184 L65.0374,33.2048 L63.3074,33.2044 L63.308,39.6204 L65.223,39.6204 L65.2234,33.0184 Z M68.2814,29.9604 L66.3674,31.8744 L66.367,39.6204 L68.281,39.6204 L68.2814,29.9604 Z M71.3414,26.9004 L69.4254,28.8164 L69.425,39.6204 L71.341,39.6204 L71.3414,26.9004 Z M77.4634,25.1464 L75.8834,26.7248 L75.5474,26.7244 L75.548,39.6204 L77.463,39.6204 L77.4634,25.1464 Z M80.5234,24.6564 L78.6074,24.6564 L78.607,39.6204 L80.523,39.6204 L80.5234,24.6564 Z M43.192,34.8344 L43.192,35.9784 L39.684,35.9784 L39.684,34.8344 L43.192,34.8344 Z M30.878,28.9164 L9.236,28.9164 L9.236,32.8784 L30.878,32.8784 L30.878,28.9164 Z M43.192,30.0484 L43.192,31.1924 L39.684,31.1924 L39.684,30.0484 L43.192,30.0484 Z M43.192,25.2624 L43.192,26.4064 L39.684,26.4064 L39.684,25.2624 L43.192,25.2624 Z M83.0798,14.4104 L83.0798,15.5544 L79.3398,15.5544 L72.8278,22.0644 L70.1958,22.0644 L66.5498,18.4204 L62.0398,18.4204 L59.0798,21.3784 L56.0378,21.3784 L52.3598,25.0564 L48.6018,25.0564 L47.3538,23.8104 L45.7578,23.8104 L45.7578,22.6664 L47.8278,22.6664 L49.0738,23.9144 L51.8858,23.9144 L55.5658,20.2344 L58.6078,20.2344 L61.5678,17.2744 L67.0238,17.2744 L70.6698,20.9204 L72.3558,20.9204 L78.8638,14.4104 L83.0798,14.4104 Z M43.192,20.4764 L43.192,21.6204 L39.684,21.6204 L39.684,20.4764 L43.192,20.4764 Z M26.702,14.8244 L9.236,14.8244 L9.236,18.7864 L26.702,18.7864 L26.702,14.8244 Z M43.192,15.6904 L43.192,16.8344 L39.684,16.8344 L39.684,15.6904 L43.192,15.6904 Z M43.192,10.9024 L43.192,12.0464 L39.684,12.0464 L39.684,10.9024 L43.192,10.9024 Z M9.234,8.0604 L9.234,9.0904 L8.36,9.0904 L8.36,8.0604 L9.234,8.0604 Z"/>\n\t\t\t\t  <path fill="#53555A" d="M1.8382,49.7478 L91.8382,49.7478 L91.8382,4.6038 C91.8382,3.0778 90.5982,1.8378 89.0742,1.8378 L4.6022,1.8378 C3.0782,1.8378 1.8382,3.0778 1.8382,4.6038 L1.8382,49.7478 Z M91.8382,58.8558 L91.8382,51.5858 L1.8382,51.5858 L1.8382,58.8558 C1.8382,59.3678 2.2542,59.7838 2.7642,59.7838 L90.9122,59.7838 C91.4222,59.7838 91.8382,59.3678 91.8382,58.8558 Z M56.0222,70.5398 L54.5002,61.6218 L39.1782,61.6218 L37.6542,70.5398 L56.0222,70.5398 Z M89.0742,-0.0002 C91.6122,-0.0002 93.6762,2.0638 93.6762,4.6038 L93.6762,58.8558 C93.6762,60.3778 92.4362,61.6218 90.9122,61.6218 L56.3642,61.6218 L57.8882,70.5398 L66.5602,70.5398 L66.5602,72.3778 L27.1162,72.3778 L27.1162,70.5398 L35.7882,70.5398 L37.3122,61.6218 L2.7642,61.6218 C1.2402,61.6218 0.0002,60.3778 0.0002,58.8558 L0.0002,4.6038 C0.0002,2.0638 2.0642,-0.0002 4.6022,-0.0002 L89.0742,-0.0002 Z M51.506,54.3544 L51.506,56.1924 L42.302,56.1924 L42.302,54.3544 L51.506,54.3544 Z"/>\n\t\t\t\t</g>\n\t\t </svg>\t\t\t  \n\t\t<div class="qv-ping-pong-progress-bar"></div>\n\t</div>\n\t<div class="qv-loader-text" ng-class="ngClasses">\n\t\t<div q-translation="{{messageObj.task}}">&#8203;</div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n';var ue=false;c.a.module("qv.loader",[]).factory("qvLoader",["$compile","$rootScope","$document","$timeout","$q",function(e,t,n,r,i){var a=t.$new();var o=n.find("body");var s;var l;var u={};var d;var f;function p(){a.template=ce;a.hugeLoader=true;a.bigLoader=false;a.mediumLoader=false;a.normalLoader=false;a.smallLoader=false;a.tinyLoader=false}function h(){for(var e in u){a[e]=null;delete a[e]}p();a.ngClasses&&(a.ngClasses["qv-fade-in"]=false);s&&s.off().remove();s=null;l=null;if(d){d.remove();d=null}}p();d=o.find("#qv-init-ui-blocker");return{show:function t(n){ue=true;var i;a.fadeOut=false;r.cancel(f);u=n||{};for(var p in n)a[p]=n[p];a.messageObj=a.messageObj||{};a.messageObj.task||(a.messageObj.task="");a.ngClasses={"qv-loader-huge":a.hugeLoader,"qv-loader-big":a.bigLoader,"qv-loader-medium":a.mediumLoader,"qv-loader-normal":a.normalLoader,"qv-loader-small":a.smallLoader,"qv-loader-tiny":a.tinyLoader,"qv-fade-in":false};i=a.appendTo?a.appendTo:o;l=c.a.element(a.template);s=e(l)(a).appendTo(i);a.appendTo=null;delete a.appendTo;f=r((function(){a.ngClasses["qv-fade-in"]=true}));d&&d.length>0&&d.fadeOut(800,(function(){d=null}))},setMessageObj:function e(t){a.messageObj.task=t||""},isOpen:function e(){return ue},close:function e(t){var n=i.defer();var o=750;r.cancel(f);if(t){a.fadeOut=true;h();ue=false;n.resolve()}else r((function(){a.fadeOut=true;f=r((function(){h();ue=false;return n.resolve()}),o+200)}),o);return n.promise}}}]);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),true).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var he;var ve={};var me=[];var ge=[];var be;var ye;var we;var Se;var xe;var Ce;var qe;var Ee;ve.bootstrap=function(e,t){t=t||[];t.some((function(e){return"qlik-angular"===e}))||(t=t.concat(["qlik-angular"]));c.a.bootstrap(e,t)};ve.module=c.a.module("qlik-angular",["ngAnimate","ngSanitize","leonardo-ui","vs-repeat","qv.directives","qv.filters","qv.locale","qv.alert-dialog","qv.confirm-dialog","qv.context-menu","qv.loader"],["$provide","$compileProvider","$filterProvider","$httpProvider","$animateProvider","$sceDelegateProvider","$sanitizeProvider","$qProvider",function(e,t,n,r,i,a,o,s){Se=e;xe=t;Ce=n;var l=f["a"].withCredentials();r.defaults.withCredentials=l;var c=f["a"].csrfToken();c&&r.interceptors.push((function(){return{request:function e(t){t.headers["qlik-csrf-token"]=c;return t}}}));var u=f["a"].webIntegrationId();u&&r.interceptors.push((function(){return{request:function e(t){t.headers["qlik-web-integration-id"]=u;return t}}}));s.errorOnUnhandledRejections(false);a.resourceUrlWhitelist(["self"]);o.enableSvg(true);i.classNameFilter(/\bqv-animate\b/i);e.value("$anchorScroll",(function(){}))}]).run(["$injector","$rootScope","$compile","$controller","$timeout","$q",function(e,t,n,r,i,a){be=t;ye=n;we=r;qe=i;Ee=a;he=e;ve.$injector=he;ve.$rootScope=be;ve.isBootstrapped=true;me.forEach((function(e){ve[e.name]=e.fn}));ge.forEach((function(e){e.fn.apply(e.fn,e.args)}));me.length=0;ge.length=0}]);function Ie(e,t){if(ve.isBootstrapped)ve[e]=t;else{me.push({name:e,fn:t});ve[e]=function(){var e=Array.prototype.slice.call(arguments);ge.push({fn:t,args:e})}}}Ie("directive",(function(e,t){xe.directive(e,t)}));Ie("nativeComponent",(function(e,t){xe.component(e,t)}));ve.component=function(e,t){ve.directive(e,(function(){return{transclude:null==t.transclude||t.transclude,template:t.template,requires:t.requires,scope:null!=t.scope?t.scope:"=",controller:t.controller||function(){},link:t.link||function(){},restrict:"E",replace:true}}))};Ie("filter",(function(e,t){Ce.register(e,t)}));Ie("service",(function(e,t){Se.service(e,t);return he.get(e)}));Ie("provider",(function(e,t){return Se.provider(e,t)}));Ie("injectComponent",(function(e,t,n){var r;if(!t)throw new Error("Trying to show undefined component.");if("function"===typeof t)return t.apply({},[e,n]);if(Array.isArray(t)){var i={$element:e,input:n};for(var a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return he.invoke(t,{},i)}if(t.controller){var o=s()(e).scope();o||(o=be);d(o,(function(){var i=o.$new();i.destroyComponent=function(){if(!i.$$destroyed){i.$destroy();e.off(".qvangularcoreshowcomponent");setTimeout((function(){e.html("")}))}};var a={$scope:i,$element:e,$transclude:void 0,input:n};for(var s in n)if(n.hasOwnProperty(s)){a[s]=n[s];i[s]=n[s]}e.html(t.template);var l=ye(e.contents());if(t.controller){r=we(t.controller,a);r.internal__do_not_use__update=function(e){d(i,(function(){for(var t in e)e.hasOwnProperty(t)&&i[t]!==e[t]&&(i[t]=e[t])}))};r.internal__do_not_use__destroy=function(){i.destroyComponent()};e.contents().data("$ngControllerController",r)}l(i);e.on("remove.qvangularcoreshowcomponent",(function(){i.$$destroyed||i.$destroy()}))}));return r}return}));Ie("componentDirective",(function(e,t,n){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r[e]="=";r.input="=";r.component="=";ve.directive(e,["$compile","$controller",function(o,s){return{restrict:"EA",replace:true,terminal:true,scope:r,link:function r(l,u,d){var f=0;var h;l.$watch("component",(function(r){var v=++f;if(r&&r.template){if(v!==f)return;h&&h.$destroy();h=l.$new();u.html(r.template);var m=o(u.contents());var g={$scope:h,$element:u,$attrs:d};!l.input||!r.scope||c.a.forEach(r.scope,(function(e,t){var n;n="string"===typeof e&&"="===e.charAt(0)&&e.length>1?e.substring(1):t;h[n]=l.input[t];var r=h[n];h.$watch((function(){var e=l.input[t];if(e!==h[n])if(e!==r){h[n]=e;r=e}else{r=h[n];l.input[t]=h[n]}return e}))}));if(l.input){for(var b in l.input)l.input.hasOwnProperty(b)&&(g[b]=l.input[b]);g.input=l.input}var y;if(r.controller){y=s(r.controller,g);u.contents().data("$".concat(e,"Controller"),y)}m(h);"function"===typeof n&&("function"===typeof y.onInit?y.onInit().then((function(){n(y,h,u)})).catch((function(e){false})):n(y,h,u))}else if("function"===typeof r){var w=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a={};for(var o in t)l.hasOwnProperty(o)&&(a[o]=l[o]);var s=fe(fe({},a),n);var c=r;return i.a.createElement(p["a"],null,i.a.createElement(c,s))};Object(a["render"])(i.a.createElement(w,null),u[0]);l.$on("datachanged",(function(e,t){Object(a["render"])(i.a.createElement(w,{data:t}),u[0])}));l.$on("$destroy",(function(){Object(a["unmountComponentAtNode"])(u[0])}))}else{if(h){h.$destroy();h=null}u.html("")}}))}}}])}));ge.push({name:"componentDirective",fn:function e(){ve.componentType=ve.componentDirective;ve.componentDirective("qvaInclude",{ngModel:"="});ve.componentDirective("qsAngularOverlay",{destroyComponent:"=",input:"=",component:"=",deferredResult:"=",exposedApi:"="})}});ve.$apply=d;ve.defer=function(){return Ee.defer()};ve.when=function(e,t,n){return Ee.when(e,t,n)};ve.promise=function e(t){return qe((function(){return t}))};ve.getService=function(e){return he.get(e)};s.a.fn.showComponent=function(e,t){if("string"===typeof e)return ve.injectComponent(this,{template:e,controller:t||function(){}},{});return ve.injectComponent(this,e,t)};ve.showComponent=function(e,t,n){return ve.injectComponent(s()(e),t,n)};window.qvangularGlobal=ve;Object(u["config"])({showOverlay:function e(t,n){return h["a"].show(t,n)}});var ke=t["a"]=ve},GWYG:function(e,t,n){"use strict";var r=n("mWu2");var i='<div class="modal-container qui-modalbackground-centered" qv-tabbable-container>\n\t<div id="{{id}}"\n\t\t class="modal-frame qui-delayedModal"\n\t\t ng-transclude></div>\n</div>\n';r["default"].directive("qvModalDialog",[function(){return{scope:{id:"@qvId",confirm:"&qvConfirm",cancel:"&qvCancel"},restrict:"E",transclude:true,replace:true,template:i,link:function e(){}}}]);var a='<footer class="dm-footer">\n    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f" ng-disabled="cancelDisabled"></lui-button>\n    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="confirmDisabled" qva-focus="true"></lui-button>\n</footer>\n';var o='<footer class="dm-footer">\n    <lui-button qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f" ng-disabled="cancelDisabled"></lui-button>\n    <lui-button qva-activate="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="confirmDisabled" qva-focus="true"></lui-button>\n</footer>\n';r["default"].directive("qvConfirmCancelFooter",[function(){return{scope:{confirmLabel:"@qvConfirmLabel",confirm:"&qvConfirm",confirmDisabled:"=qvConfirmDisabled",cancel:"&qvCancel",cancelDisabled:"=qvCancelDisabled"},restrict:"E",replace:true,template:function e(t,n){var r=n.hasOwnProperty("light");return r?o:a}}}])},GbxD:function(e,t,n){"use strict";var r=n("PX8M");var i=n("cWJj");var a=n("6uJb");var o=n("UV1h");var s=n("vMhA");var l=n("AHUl");var c=n("rEeF");var u=n("4nJ1");var d=n("+nQQ");function f(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){f(a,r,i,o,s,"next",e)}function s(e){f(a,r,i,o,s,"throw",e)}o(void 0)}))}}var h={NORMAL:0,FIT_TO_PAGE:2};var v=1e3;var m={getApp:function e(t){return t?Promise.resolve(t.model):r["a"].getApp()},getSelectionsByState:function e(t){if(t)return i["a"].get(t.model).then((function(e){return e.getLayout().then((function(e){return s["a"].get(e,t.model.enigmaModel,true)}))}));return r["a"].getApp().then((function(e){return i["a"].get().then((function(t){return t.getLayout().then((function(t){return s["a"].get(t,e.enigmaModel,true)}))}))}))},formatSelectionsByState:function e(t){var n={};if(t&&t.length)for(var r=0;r<t.length;r++){n[t[r].stateName]||(n[t[r].stateName]=[]);n[t[r].stateName].push({name:t[r].name,values:t[r].values.map(String),isNumeric:t[r].isNumeric})}return n},getClientLanguage:function e(){return a["default"].language},getStorySize:function e(t,n){var r=t.innerWidth/t.innerHeight<n;var i=r?t.innerWidth:t.innerHeight*n;var a=r?t.innerWidth/n:t.innerHeight;return{width:Math.ceil(i),height:Math.ceil(a)}},getVariables:function e(t,n){return p(regeneratorRuntime.mark((function e(){var r,i,a,o,s,l,c,u,d,f,p,h,v,m,g,b,y,w,S,x,C;return regeneratorRuntime.wrap((function e(q){while(1)switch(q.prev=q.next){case 0:r=[];q.prev=1;i=[];a=[];q.next=6;return t.getVariableListObject();case 6:o=q.sent;q.next=9;return o.getLayout();case 9:s=q.sent;l=s.filter((function(e){return!e.qIsReserved&&!e.qIsConfig}));c=Math.min(l.length,n||100);for(u=0;u<c;u++){d=l[u].qName;i.push(t.getVariableByName(d))}q.next=15;return Promise.all(i);case 15:f=q.sent;p=Math.min(f.length,n||100);for(h=0;h<p;h++)a.push(f[h].getLayout());q.next=20;return Promise.all(a);case 20:v=q.sent;for(m=0;m<c;m++){y=l[m].qName;w=l[m].qDefinition;S=null===v||void 0===v||null===(g=v[m])||void 0===g?void 0:g.qNum;x=null===v||void 0===v||null===(b=v[m])||void 0===b?void 0:b.qText;C=x!==w;y&&C&&r.push({qName:y,qNum:void 0===S?"NaN":S,qText:void 0===x?"":x})}q.next=27;break;case 24:q.prev=24;q.t0=q["catch"](1);console.warn("getVariables failed with exception ".concat(q.t0.message));case 27:return q.abrupt("return",r);case 28:case"end":return q.stop()}}),e,null,[[1,24]])})))()},getAppliedPatchesForChart:function e(t){return p(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!(!t.layout||!t.layout.qHasSoftPatches)){i.next=2;break}return i.abrupt("return",Promise.resolve());case 2:i.next=4;return Promise.all([t.model.getProperties(),t.model.getEffectiveProperties()]);case 4:n=i.sent;r=l["a"].generate(n[0],n[1]);r&&r.length&&(r=r.map((function(e){return{qOp:e.op,qValue:JSON.stringify(e.value),qPath:e.path}})));return i.abrupt("return",r);case 8:case"end":return i.stop()}}),e)})))()},getAppliedPatchesForSheet:function e(t){return p(regeneratorRuntime.mark((function e(){var n,r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n=[];r=[];i={};t.getGrid().cells.forEach((function(e){if(e.id&&e.object){n.push(e.id);r.push(m.getAppliedPatchesForChart(e.object))}}));s.next=6;return Promise.all(r);case 6:a=s.sent;for(o=0;o<n.length;o++)a[o]&&(i[n[o]]=a[o]);return s.abrupt("return",i);case 9:case"end":return s.stop()}}),e)})))()},getClientOptsByChart:function e(t,n){var r={};if(n&&n.length)for(var i=0;i<n.length;i++){var a=n[i].id;if(a){var o=n[i].viewState||{};var s=u["a"].extend({viewState:o},t);r[a]=s}}return r},getPaperFormats:function e(){return{A3:{fitL:"42cmx29.7cm",fitP:"29.7cmx42cm"},A4:{fitL:"27.7cmx21cm",fitP:"21cmx27.7cm"},A5:{fitL:"21cmx14.8cm",fitP:"14.8cmx21cm"},A6:{fitL:"14.8cmx10.5cm",fitP:"10.5cmx14.8cm"},Letter:{fitL:"27.94cmx21.59cm",fitP:"21.59cmx27.94cm"}}},getPdfConfig:function e(t){var n=t.sourceSize.width;var r=t.sourceSize.height;var i=t.dpi;var a={horizontal:"center",vertical:"middle"};var o;var s={};var l="none";"a"===t.size.name.substring(0,1)&&(t.size.name=t.size.name.toUpperCase());if(t.fitCriteria===h.FIT_TO_PAGE){var c=m.getPaperFormats();o=c[t.size.name];if(o){l="fit";s={fit:"landscape"===t.orientation?o.fitL:o.fitP}}}var u={size:t.size.name,orientation:"portrait"===t.orientation?"P":"L",imageRenderingDpi:i,resizeType:l,resizeData:s,align:a};return{sizeData:o,w:n,h:r,pdfOutput:u}},getPayloadForChartImage:function e(t,n,r,i,a,o,s){var l;return{type:"sense-image-1.0",selectionsByState:a,senseImageTemplate:{appId:r,visualization:{id:t,type:i,widthPx:n.captureSize.width,heightPx:n.captureSize.height,patches:o,jsOpts:s}},output:{outputId:"Chart_image",type:"image",imageOutput:{outZoom:null!==(l=n.scaleFactor)&&void 0!==l?l:1,outDpi:n.captureSize.dpi,outFormat:n.imageType,timeoutSec:20}}}},getPayloadForChartPdf:function e(t,n,r,i,a,o,s){var l=m.getPdfConfig(n);return{type:"sense-image-1.0",selectionsByState:a,senseImageTemplate:{appId:r,visualization:{id:t,type:i,widthPx:l.w,heightPx:l.h,patches:o,jsOpts:s}},output:{outputId:"Chart_pdf",type:"pdf",pdfOutput:l.pdfOutput}}},getPayloadForSheetPdf:function e(t,n,r,i,a,o){var s=m.getPdfConfig(n);return{type:"sense-sheet-1.0",selectionsByState:i,senseSheetTemplate:{appId:r,sheet:{id:t,widthPx:s.w,heightPx:s.h,patchesById:a,jsOptsById:o}},output:{outputId:"Sheet_pdf",type:"pdf",pdfOutput:s.pdfOutput}}},getPayloadForStoryPdf:function e(t,n,r,i){var a=u["a"].extend({transparentBackground:true},i);return{type:"sense-story-1.0",senseStoryTemplate:{appId:n,story:{id:t,jsOpts:a,embeddedSheetWidthPx:r.width,embeddedSheetHeightPx:r.height}},output:{outputId:"Story_pdf",type:"pdf",pdfOutput:{size:"A4",orientation:"L",imageRenderingDpi:200}}}},getDataPayload:function e(t,n,r,i,a){return{type:"sense-data-1.0",selectionsByState:r,senseDataTemplate:{appId:n,id:t,patches:i,variables:a},output:{outputId:"Chart_excel",type:"xlsx"}}},createPayload:function e(t,n,r,i,a,s){return p(regeneratorRuntime.mark((function e(){var l,u,f,p,h,g,b,y,w,S,x,C,q,E,I,k;return regeneratorRuntime.wrap((function e(A){while(1)switch(A.prev=A.next){case 0:A.next=2;return m.getApp(s);case 2:l=A.sent;if(l.id){A.next=5;break}return A.abrupt("return",Promise.reject());case 5:u=m.getClientLanguage();f=o["a"].getCurrentTheme();p={language:u,theme:f,deviceType:c["a"].deviceType};if(!("sheet"===i)){A.next=36;break}A.t0=m;A.next=12;return m.getSelectionsByState(s);case 12:A.t1=A.sent;g=A.t0.formatSelectionsByState.call(A.t0,A.t1);A.next=16;return m.getAppliedPatchesForSheet(n);case 16:A.t2=A.sent;if(A.t2){A.next=19;break}A.t2={};case 19:b=A.t2;if(!("function"===typeof n.getViewState)){A.next=26;break}A.next=23;return n.getViewState();case 23:A.t3=A.sent;A.next=27;break;case 26:A.t3=null;case 27:y=A.t3;A.next=30;return m.getVariables(l,v);case 30:w=A.sent;p.variables=w;S=m.getClientOptsByChart(p,y);h=m.getPayloadForSheetPdf(t,r,l.id,g,b,S);A.next=76;break;case 36:if(!("story"===i)){A.next=42;break}x=d["a"].defaultRatio.w/d["a"].defaultRatio.h;C=m.getStorySize(window,x);h=m.getPayloadForStoryPdf(t,l.id,C,p);A.next=76;break;case 42:A.t4=m;A.next=45;return m.getSelectionsByState(s);case 45:A.t5=A.sent;q=A.t4.formatSelectionsByState.call(A.t4,A.t5);A.next=49;return m.getAppliedPatchesForChart(n);case 49:A.t6=A.sent;if(A.t6){A.next=52;break}A.t6=[];case 52:E=A.t6;if(!("function"===typeof n.getViewState)){A.next=59;break}A.next=56;return n.getViewState();case 56:A.t7=A.sent;A.next=60;break;case 59:A.t7=null;case 60:I=A.t7;A.next=63;return m.getVariables(l,v);case 63:k=A.sent;p.viewState=I;p.variables=k;A.t8=a;A.next="image"===A.t8?69:"pdf"===A.t8?71:"data"===A.t8?73:75;break;case 69:h=m.getPayloadForChartImage(t,r,l.id,i,q,E,p);return A.abrupt("break",76);case 71:h=m.getPayloadForChartPdf(t,r,l.id,i,q,E,p);return A.abrupt("break",76);case 73:h=m.getDataPayload(t,l.id,q,E,k);return A.abrupt("break",76);case 75:return A.abrupt("break",76);case 76:return A.abrupt("return",{payload:h});case 77:case"end":return A.stop()}}),e)})))()}};t["a"]=m},GeWT:function(e,t,n){"use strict";var r=n("xVO4");var i={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var a={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var o={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var s={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var l={};l[r.ForwardRef]=o;l[r.Memo]=s;function c(e){if(r.isMemo(e))return s;return l[e["$$typeof"]]||i}var u=Object.defineProperty;var d=Object.getOwnPropertyNames;var f=Object.getOwnPropertySymbols;var p=Object.getOwnPropertyDescriptor;var h=Object.getPrototypeOf;var v=Object.prototype;function m(e,t,n){if("string"!==typeof t){if(v){var r=h(t);r&&r!==v&&m(e,r,n)}var i=d(t);f&&(i=i.concat(f(t)));var o=c(e);var s=c(t);for(var l=0;l<i.length;++l){var g=i[l];if(!a[g]&&!(n&&n[g])&&!(s&&s[g])&&!(o&&o[g])){var b=p(t,g);try{u(e,g,b)}catch(e){}}}}return e}e.exports=m},GhQW:function(e,t,n){"use strict";var r=n("WL5y");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function o(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e}var s=function(){function e(){i(this,e);this.globalDefaults={enableQVDCaching:true}}o(e,[{key:"get",value:function e(){var t=this;return r["a"].get("globalDefaults").then((function(e){if(!e)return t.set().then((function(){return t.globalDefaults}));return e}))}},{key:"set",value:function e(t){return r["a"].set("globalDefaults",t||this.globalDefaults)}}]);return e}();t["a"]=s},Gpt9:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");var a=n("4nJ1");function o(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var s={};s.create=function(e,t){return o(e).then((function(e){var n={qInfo:{qId:a["a"].generateId(),qType:"dynamicappview"},qMetaDef:{odagLinkRef:"",timestamp:Date.now()}};return e.createObject(a["a"].extend(true,n,t))}))};s.remove=function(e,t){return o(e).then((function(e){return e.destroyObject(t)}))};s.get=function(e,t){return o(e).then((function(e){return e.getObject(t)}))};s.getList=function(e){return o(e).then((function(e){return e.getDynamicAppViewObject()}))};t["a"]=s},"H+Zf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.migrateAssociations=function(e,t,n){e.forEach((function(e){var r=n.findAssociations(e.id);r.forEach((function(r){r.getFieldsReferencing(e).forEach((function(e,n){var i=t.getFieldForSourceField(e.fieldId);r.replaceFieldReferences(e,t.data,i)})),1===r.getUniqueTableReferenceCount()&&n.removeAssociation(r.getName())}))}))},e}();t.CompositeOperations=r},"H+sd":function(e,t,n){"use strict";var r=n("SOxp");var i=n("sWge");var a=r["a"].extend({mounted:function e(){},paint:function e(){return i["a"].resolve()},resize:function e(t,n){return this.paint(t,n)},updateData:function e(){return i["a"].resolve()},beforeDestroy:function e(){}});var o=a;var s=n("mYEk");var l=o.extend({init:function e(t,n,r,i){this.$scope=t;this.$element=n;this.options=r;this.backendApi=i},prePaint:function e(){},setFreeResize:function e(t){this.options.freeResize=t},setBackendApi:function e(t){this._dataView=void 0;this.backendApi=t},updateDerivedProperties:function e(){return i["a"].resolve(false)},setInteractionState:function e(t){this.options.interactionState=t},setDirection:function e(t){this.options.direction=t},getContextMenu:function e(t,n,r){if(this._dataView&&this._dataView.toggled){var i=this._dataView.getObject();if(i)return i.getContextMenu(n,r)}return},getViewState:function e(){return{}},getPreferredSize:function e(){},getDataViewObject:function e(){if(this._dataView)return this._dataView.getObject();return},initDataView:function e(t){var n=this.backendApi.model;this._dataView||(this._dataView=new s["a"](n.app,n,t,this.options))},toggleDataView:function e(){return this._dataView.toggle()},destroy:function e(){this._destroyed=true},cancel:function e(){},retry:function e(){}});var c=t["a"]=l},H6Kg:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("sWge");var a=n("PX8M");var o=n("acVu");var s={};var l={};var c={qInfo:{qType:"appprops"},sheetTitleBgColor:"",sheetTitleGradientColor:"",sheetTitleColor:"",sheetLogoThumbnail:{qStaticContentUrlDef:null},sheetLogoPosition:"",rtl:false,theme:"sense",disableCellNavMenu:false};var u={qInfo:{qId:"AppPropsList",qType:"AppPropsList"},qAppObjectListDef:{qType:"appprops",qData:{sheetTitleBgColor:"/sheetTitleBgColor",sheetTitleGradientColor:"/sheetTitleGradientColor",sheetTitleColor:"/sheetTitleColor",sheetLogoThumbnail:"/sheetLogoThumbnail",sheetLogoPosition:"/sheetLogoPosition",rtl:"/rtl",theme:"/theme",disableCellNavMenu:"/disableCellNavMenu"}}};function d(e){return e.getProperties().then((function(t){return e.global.engineVersion().then((function(e){return t.qSavedInProductVersion===e.qComponentVersion&&!t.qLastReloadTime}))}))}function f(e){return e?i["a"].resolve(e):a["a"].getApp()}l.create=function(e,t){return f(t).then((function(t){return d(t).then((function(n){var i={};n&&(i.theme=Object(o["b"])("THEME_HORIZON")?"horizon":"card");var a=r["a"].extend(true,{},c,i,e);return t.createObject(a)}))}))};l.get=function(e,t){return f(t).then((function(t){return t.getObject(e)}))};l.getList=function(e){return f(e).then((function(e){s[e.id]=s[e.id]||e.getListObject(u);return s[e.id]}))};var p=l;var h=n("+GbC");var v={};var m={};var g;h["a"].mixin(m);m.notification("UpdateObjProps");function b(e){var t=v[e.id]&&v[e.id].appPropsId;if(t)return p.get(t,e).then((function(e){return e.getLayout()}));return i["a"].resolve({})}function y(e){var t;b(e).then((function(e){t=e;m.UpdateObjProps.emit(t)}))}function w(e){var t=v[e];if(t&&t.appPropsModel){t.appPropsModel.Invalidated.unbind(y);t.appPropsModel.Closed.unbind(w)}v[e]=null}function S(e,t){var n=t.id;v[n]||(v[n]={});v[n].appPropsId=e;g=t;return p.get(v[n].appPropsId,t).then((function(e){v[n].boundChange=function(){return y(t)};e.Invalidated.bind(v[n].boundChange);e.Closed.bind(w,n);v[n].appPropsModel=e}))}function x(e,t){return p.getList(e).then((function(n){return n.getLayout().then((function(n){if(t.permissions.remove&&n&&n.length>1)for(var r=1;r<n.length;r++)e.destroyObject(n[r].qInfo.qId);return n&&n.length?S(n[0].qInfo.qId,e):i["a"].resolve(null)}))}))}function C(e,t){return p.getList(e).then((function(n){return e.getLayout().then((function(i){return n.getLayout().then((function(n){if(n&&n.length){if(n.length>1)return x(e,i);return S(n[0].qInfo.qId,e)}if(t||true===r["a"].getValue(i,"permissions.createMasterobject"))return p.create({},e).then((function(){return x(e,i)}));return}))}))}))}function q(e,t,n){return p.get(e,n).then((function(e){return e.getProperties().then((function(n){var i={};i=r["a"].extend(true,n,t);i.sheetLogoThumbnail.qStaticContentUrl&&delete i.sheetLogoThumbnail.qStaticContentUrl;return e.setProperties(i)}))}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return e?i["a"].resolve(e):a["a"].getApp()}m.setProperties=function(e,t){return E(t).then((function(t){var n=v[t.id];if(!n||n&&!n.appPropsId)return C(t,true).then((function(){return q(v[t.id].appPropsId,e,t)}));return q(v[t.id].appPropsId,e,t)}))};m.getProperties=function(e){return E(e).then((function(e){var t=v[e.id];if(!t||t&&!t.appPropsId)return C(e,false).then(b.bind(this,e));if(e.id!==g.id)return b(g);return b(e)}))};var I=t["a"]=m},HHhT:function(e,t,n){"use strict";var r=n("sWge");var i=n("+GbC");var a=n("4nJ1");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}var c={enabled:true,delay:50};var u=function(){function e(){o(this,e);this.options={};this.ongoingRequests=[];this.queuedRequests=[];this.recentRequests=[];this.resolvedRequests=[];this._debounceTimer=null;this._latestResolvedRequestedAt=-1;i["a"].mixin(this);this.notification("Send");this.notification("Cancel");this.setOptions({})}l(e,[{key:"destroy",value:function e(){this.clear();this.recentRequests=[];this.resolvedRequests=[];i["a"].release(this)}},{key:"setOptions",value:function e(t){this.options=a["a"].extend(true,{},c,this.options,t);this.enabled=this.options.enabled||false;this.delay=this.options.delay||-1}},{key:"clear",value:function e(){clearTimeout(this._debounceTimer);var t;while(this.queuedRequests.length){t=this.queuedRequests.pop();t.dfd.reject()}while(this.ongoingRequests.length){t=this.ongoingRequests.pop();t.dfd.reject()}}},{key:"queue",value:function e(t){var n=this.enabled?this.delay:-1;var i=Date.now();var a={data:t,dfd:Object(r["a"])(),wrapper:Object(r["a"])(),requestedAt:i};var o=Math.max(this._getAvgResolutionTime(),n);var s=n<1;var l=this.recentRequests.length<1;var c=l||i-this.recentRequests.slice(-1)[0].requestedAt>o;var u=i>this._latestResolvedRequestedAt+n;s||l||c||u?d.apply(this,[a,0]):d.apply(this,[a,Math.min(n,1e3)]);this.recentRequests.push(a);this.recentRequests.length>10&&(this.recentRequests=this.recentRequests.slice(-10));return a.dfd.promise}},{key:"updateResolutionTime",value:function e(){this._latestResolvedRequestedAt=Date.now()}},{key:"_getAvgResolutionTime",value:function e(){var t;if(this.resolvedRequests.length){t=0;this.resolvedRequests.forEach((function(e){t+=e.respondedAt-e.sentAt}));t/=this.resolvedRequests.length}return t}}]);return e}();function d(e,t){var n=this;this.queuedRequests.push(e);clearTimeout(this._debounceTimer);t>=10?this._debounceTimer=setTimeout((function(){f.call(n)}),t):f.call(n)}function f(){if(this.ongoingRequests.length){this.waitingForResponse=true;return}var e=this.queuedRequests.pop();e&&p.call(this,e);while(this.queuedRequests.length){e=this.queuedRequests.shift();e.dfd.reject()}}function p(e){this.waitingForResponse=false;this.ongoingRequests.push(e);var t=this;var n=e.wrapper;e.sentAt=Date.now();n.promise.then((function(){t.ongoingRequests.splice(t.ongoingRequests.indexOf(e),1);e.respondedAt=Date.now();t.resolvedRequests.push({sentAt:e.sentAt,respondedAt:e.respondedAt,requestedAt:e.requestedAt});t.resolvedRequests.length>10&&(t.resolvedRequests=t.resolvedRequests.slice(-10));e.requestedAt>t._latestResolvedRequestedAt?e.dfd.resolve.apply(e.dfd,[].slice.call(arguments)):e.dfd.reject();t._latestResolvedRequestedAt=e.requestedAt}),(function(){t.ongoingRequests.splice(t.ongoingRequests.indexOf(e),1);e.respondedAt=Date.now();e.dfd.reject.apply(e.dfd,[].slice.call(arguments))})).finally((function(){t.waitingForResponse&&f.call(t)}));this.Send.emit(e.data,n)}t["a"]=u},HLBJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("mWu2");var i=n("6uJb");var a=n("4nJ1");var o=n("/2No");var s=n("sWge");var l=n("acVu");function c(e){e.headers||(e.headers={})}function u(e){e.params||(e.params={})}function d(e){var t=a["a"].getRandomString(16);e.headers["X-Qlik-XrfKey"]=t;e.params.xrfkey=t;return e}function f(e){"/"===e.url[0]&&(e.url=e.url.substr(1));e.url=o["a"].rootPath+e.url;return e}function p(e){var t=i["default"].language;t&&(e.headers["Accept-Language"]="pseudo"!==t?t:"qps-ploc");return e}function h(e){var t;var n;var i=new s["a"];var a=i.promise;c(e);u(e);Object(l["b"])("IS_DESKTOPCLIENT")||d(e);f(e);p(e);var o=r["default"].getService("$http");var h=o(e);h.then((function(e){i.resolve(e);t&&t(e.data,e.status,e.headers,e.config)}),(function(e){if(n){i.resolve(e);n(e.data,e.status,e.headers,e.config)}else i.reject(e)}));a.success=function(e){t=e;return a};a.error=function(e){n=e;return a};return a}},HUnP:function(e,t,n){"use strict";var r=n("7w0t");var i=n("4nJ1");var a=n("sWge");var o=n("qIEf");var s=n.n(o);var l=n("mWu2");var c=n("G1wx");var u=n("MoEg");var d=n("FJpR");function f(e,t){e.forEach((function(e){if(e.isCacheItem)t.push(e);else if(e.data.cacheItem)t.push(e.data.cacheItem);else if(e.cacheItem){t.push(e.cacheItem);if(e.cacheItem.isCacheItem)throw new Error("Using new cache item before its time")}e.children&&e.children.length>0&&f.apply(this,[e.children,t])}));return t}var p={getCacheItems:function e(){if(!this.children||!this.children)return[];return f.apply(this,[this.children,[]])}};var h=p;var v=n("ekpb");function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function b(e,t,n){t&&g(e.prototype,t);n&&g(e,n);return e}function y(e){return e?e.selectionIdentifier:null}function w(e,t){if(!t)return-2===e.id||e.parent&&-2===e.parent.id;var n=false;t.includes(0)&&(n=e.parent?-2===e.parent.id:-2===e.id);e.parent&&t.includes(1)&&(n=n||-2===e.id);return n}function S(e,t){return e&&e.length?t.filter((function(t){return e.some((function(e){return t.col===e.col&&t.id===e.id}))})):[]}var x=function(){function e(t,n){m(this,e);this._isNull=w;this.options=s.a.extend(true,{},{allowNullSelect:false,activeComponent:null},n);this.cache=t;this.allowNullSelect=this.options.allowNullSelect;this.activeComponent=this.options.activeComponent}b(e,[{key:"shapeFromPoint",value:function e(t){return this.shapesFromPoints([t])[0]}},{key:"shapesFromPoints",value:function e(t){var n;var r;var i;var a=this.cache.data;var o=this.cache.data.length;var s=t.length;var l;var c;var u;var d=(this.activeComponent||this.components&&this.components.dataArea)&&(this.activeComponent||this.components.dataArea[0]).chartScale||1;var f;var p=y(this.activeComponent);var h;var v;var m;var g=[];for(h=0;h<o;++h){f=a[h];if(!w(f)||this.allowNullSelect)for(v=0;v<s;++v){n=t[v];r={x:n.x/d,y:n.y/d};c=f.getShapes(y(this.activeComponent));"dataArea"===p&&f.toggleShapes&&(c=c.concat(f.toggleShapes));l=c.length;for(m=0;m<l;++m){u=c[m];i=u.clearModelView?n:r;if(u.pointInside(i.x,i.y)){g.push(f);break}}}}return g}},{key:"shapesFromLines",value:function e(t){var n;var r=this.cache.data;var i=this.cache.data.length;var a=t.length;var o;var s;var l;var c;var u;var d;var f;var p=[];for(u=0;u<i;++u){c=r[u];if(!w(c)||this.allowNullSelect)for(d=0;d<a;++d){n=t[d];s=c.getShapes(y(this.activeComponent));o=s.length;for(f=0;f<o;++f){l=s[f];if(l.intersectsLine(n)){p.push(c);break}}}}return p}},{key:"shapesFromPolygon",value:function e(t){var n;var r;var i=this.cache.data;var a=this.cache.data.length;var o;var s;var l;var c;var u;var d;var f;var p;var h=[];for(u=0;u<a;++u){c=i[u];if(!w(c)||this.allowNullSelect){p=false;l=c.getShapes(y(this.activeComponent));s=l.length;for(f=0;f<s;++f){if(p)break;n=l[f].getPoints();o=n.length;for(d=0;d<o;++d){r=n[d];if(t.pointInside(r.x,r.y)){h.push(c);p=true;break}}}}}return h}},{key:"shapesFromRect",value:function e(t,n){if(!t)return[];var r=this.cache.data;var i=this.cache.data.length;var a;var o;var s;var l;var c;var u;var d=[];for(c=0;c<i;++c){l=r[c];if(!w(l)||this.allowNullSelect){o=l.getShapes(n||y(this.activeComponent));a=o.length;for(u=0;u<a;u++){s=o[u];if(s.intersectsRect){if(s.intersectsRect(t)){d.push(l);break}}else if(t.intersectsWith(s)){d.push(l);break}}}}return d}},{key:"shapesFromRectForDirection",value:function e(t,n,r){var i=this.cache.data;var a=this.cache.data.length;var o;var s;var l;var c;var u;var d;var f;var p=[];var h=0;var v=0;var m="";switch(n){case"x":h=t.x;v=t.getRight();m="getRight";break;case"y":h=t.y;v=t.getBottom();m="getBottom";break;default:break}for(d=0;d<a;++d){o=i[d];if(!w(o)||this.allowNullSelect){l=o.getShapes(r||y(this.activeComponent));s=l.length;for(f=0;f<s;++f){c=l[f];if("cx"in c){if(c["c".concat(n)]>=h&&c["c".concat(n)]<=v){p.push(o);break}}else{u=c.getBoundingRect();if(u[n]>=h&&u[n]<=v){p.push(o);break}if(u[m]()>=h&&u[m]()<=v){p.push(o);break}if(h>=u[n]&&v<=u[m]()){p.push(o);break}}}}}return p}},{key:"shapesFromRange",value:function e(t,n,r,i){var a=Math.min(t,n);var o=Math.max(t,n);var s=this.cache.data;var l=this.cache.data.length;var c=this.activeComponent&&"function"===typeof this.activeComponent.getType?this.activeComponent.getType().indices:null;var u;var d;var f;var p;var h;var v=[];var m;r=false!==r;i=false!==i;m=r&&i?function e(t){return t>=a&&t<=o}:r?function e(t){return t>=a&&t<o}:i?function e(t){return t>a&&t<=o}:function e(t){return t>a&&t<o};for(p=0;p<l;++p){u=s[p];if(!w(u)||this.allowNullSelect){d=u.values instanceof Array?u.values:u.value instanceof Array?u.value:[u.value];c&&c.length&&(d=d.filter((function(e,t){return c.indexOf(t)>=0})));for(h=0;h<d.length;h++){f=d[h];if(m(f)){v.push(u);break}}}}return v}},{key:"shapesFromDimensionValue",value:function e(t){var n=this.cache.data;var r=this.cache.data.length;var i;var a;var o;var s=[];for(a=0;a<r;++a){i=n[a];if(!w(i)||this.allowNullSelect)for(o=0;o<t.length;o++)if(i.id===t[o]){s.push(i);break}}return s}},{key:"groupedItemsFromShapes",value:function e(t){var n;var r;var i=[];var a=void 0!==this.activeComponent.getSelectionIndices?this.activeComponent.getSelectionIndices():[0];var o=a[a.length-1];if(t&&t[0]&&t[0].col===o)return S(t,this.cache.data);t.forEach((function(e){r=e.parent;if(void 0!==r){n=v["a"].getLevel.call(r)-(e.isCacheItem?0:1);n===o&&-1===i.indexOf(r)&&t&&i.push(r)}}));if(i.length>0){t=[];i.forEach((function(e){t=t.concat(h.getCacheItems.call(e))}))}return t}},{key:"shapesFromIndex",value:function e(t,n){var r=Math.min(t,n);var i=Math.max(t,n);var a;var o=this.cache.data;var s=this.cache.data.length;var l;var c=[];for(l=0;l<s;++l){a=o[l];void 0!==a.index&&a.index>=r&&a.index<=i&&c.push(a)}return c}},{key:"release",value:function e(){this.cache=null;this.allowNullSelect=null;this.activeComponent=null}}]);return e}();var C=x;function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function I(e,t,n){t&&E(e.prototype,t);n&&E(e,n);return e}function k(e){var t=this.indexOf(e);if(t>=0)return this.splice(t,1);return null}function A(e,t){return Object.keys(t).filter((function(n){return t[n].filter((function(t){return t===e})).length}))[0]}var T=function(){function e(t,n){q(this,e);this.options=s.a.extend(true,{},{components:{}},n);this._selectedShapes=[];this._cssTransform={scale:1};this.components=this.options.components;this.shapesFrom=new C(t,n)}I(e,[{key:"setActiveComponent",value:function e(t){this.activeComponent=t;this.shapesFrom.activeComponent=t}},{key:"initComponent",value:function e(){throw new Error("base.js: initComponent has to be implemented in subclass")}},{key:"setComponent",value:function e(t,n){var r=Array.isArray(n)?n.concat():[n];r.forEach((function(e){var t=A(e,this.components);t&&this.removeComponent(t,e)}),this);switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]&&this.components[t].forEach((function(e){-1===r.indexOf(e)&&this.deregister(this,e)}),this);r.forEach((function(e){this.components[t]&&-1!==this.components[t].indexOf(e)||this.register(this,e)}),this);this.components[t]=r;break;default:throw new Error("Key ".concat(t," not implemented"))}}},{key:"addComponent",value:function e(t,n){switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]||(this.components[t]=[]);var r=k.call(this.components[t],n);!r&&this.register(this,n);this.components[t].push(n);break;default:throw new Error('Key " + key + " not implemented')}}},{key:"removeComponent",value:function e(t,n){switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]&&n&&k.call(this.components[t],n);n&&this.components[t]&&this.components[t].length||delete this.components[t];this.deregister(this,n);break;default:throw new Error('Key " + key + " not implemented')}}},{key:"register",value:function e(){}},{key:"deregister",value:function e(){}},{key:"getComponent",value:function e(t,n,r){var i=new d["a"](t-r.x,n-r.y);return Object.keys(this.components).map((function(e){return this.components[e]}),this).reduce((function(e,t){return e.concat(t)})).filter((function(e){var t=(e.chartScale||1)*this._cssTransform.scale;return this.getRect(e).pointInside(i.x/t,i.y/t)}),this)[0]}},{key:"getRect",value:function e(t){return t.rect}},{key:"getComponentKey",value:function e(t){return Object.keys(this.components).filter((function(e){return this.components[e].indexOf(t)>=0}),this)[0]}},{key:"getTransformedPoint",value:function e(t,n,r){var i=this.getRect(this.activeComponent||this.components.dataArea[0]);var a=(this.activeComponent||this.components.dataArea[0]).chartScale||1;return new d["a"]((t-i.x*a*this._cssTransform.scale-r.x)/this._cssTransform.scale,(n-i.y*a*this._cssTransform.scale-r.y)/this._cssTransform.scale)}},{key:"getPagePoint",value:function e(t,n,r,i){var a=this.getRect(r||this.activeComponent||this.components.dataArea[0]);var o=(this.activeComponent||this.components.dataArea[0]).chartScale||1;return new d["a"](t+a.x*o+i.x,n+a.y*o+i.y)}},{key:"release",value:function e(){this.activeComponent=null;this.shapesFrom&&this.shapesFrom.release();this.components=null;this.options.components=null;this.shapesFrom=null}}]);return e}();var D=T;var O=n("XJsW");var L=n("3J65");var M=n("/Zwk");var P=n("Xb14");var N=n("lOoV");var R=n("WRI6");var F=n("6uJb");var _=n("acVu");var j=n("UV1h");function B(e){B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return B(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function z(e,t,n){t&&H(e.prototype,t);n&&H(e,n);return e}function $(e,t,n){$="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=U(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return $(e,t,n||e)}function U(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=Z(e);if(null===e)break}return e}function G(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&W(e,t)}function W(e,t){W=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return W(e,t)}function Q(e){var t=J();return function n(){var r=Z(e),i;if(t){var a=Z(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return K(this,i)}}function K(e,t){if(t&&("object"===B(t)||"function"===typeof t))return t;return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Z(e){Z=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Z(e)}var X;var ee;var te;var ne=7;var re=250;function ie(e,t){return e.components&&e.components.dataArea&&e.components.dataArea.length&&e.components.dataArea[0].chartFormatter&&(null===e.components.dataArea[0].chartFormatter.measureFormatters||null===e.components.dataArea[0].chartFormatter.measureFormatters[t])}function ae(e){var t=e.getBoundingRect();return Number.isNaN(+t.x+t.y+t.width+t.height)}function oe(e){return e.getDimensions().join(", ")}function se(e){return e.id+(e.parent?"-".concat(e.parent.id):"")}function le(){if(ee){ee=null;te=null}X=null}function ce(e,t,n,r){if(n){var i=new u["a"](0,0,n.rect.width,n.rect.height);e=e.intersection(i)}return{positions:[t(e.x+e.width/2,e.y,n,r),t(e.x+e.width,e.y+e.height/2,n,r),t(e.x,e.y+e.height/2,n,r),t(e.x+e.width/2,e.y+e.height,n,r)],directions:["top","right","left","bottom"]}}function ue(e,t){var n;var r;var i;var a;var o=[];var s;var l;var c;var u={positions:null,directions:null,target:null,component:null};if(this._positionAtMouse||1!==this._cssTransform.scale){n=t||e[0].interactPosition;if(n){r=this.getTransformedPoint(n.x,n.y,this.containerRect);a=e[0].getShapes();o=a.filter((function(e){return e.pointInside(r.x,r.y)}));u.target=o.length?o[0]:a[0];u.directions=["top","right","left","bottom"];u.positions=[n]}}else{e.forEach((function(e){var n=null;var l=null;a=e.getShapes();if(e.calculateTooltipPosition&&e.tooltipShape){l=this.components[e.tooltipShapeComponent]?this.components[e.tooltipShapeComponent][0]:void 0;i=e.getShapeBounds(e.tooltipShapeComponent,l&&l.chartScale||1);if(i){u.target=o.length?o[0]:a[0];u.component=l}}else{if(e.tooltipShape&&!ae(e.tooltipShape)){o=[e.tooltipShape];u.component=this.components[e.tooltipShapeComponent]?this.components[e.tooltipShapeComponent][0]:void 0}else if(t){r=this.getTransformedPoint(t.x,t.y,this.containerRect);o=a.filter((function(e){return e.pointInside(r.x,r.y)}))}u.target=o.length?o[0]:a[0];if(u.target)if(u.target.getRelevantPosition)n=u.target.getRelevantPosition();else{i=u.target.getBoundingRect();if(!u.target.clearModelView&&u.component){c=u.component.chartScale||1;i=i.clone();i.set(i.x*c,i.y*c,i.width*c,i.height*c)}}}if(n){u.positions=[this.getPagePoint(n.pos.x,n.pos.y,u.component,this.containerRect)];u.directions=n.direction}else s=s?i.combineWith(s):i}),this);if(s){l=ce(s,this.getPagePoint.bind(this),u.component,this.containerRect);u.positions=l.positions;u.directions=l.directions}}return u}function de(e,t){var n=[];var r;var i=0;var a;var o;var s;var l;var c;var u;var d=this.measureFormatters||[];if(e.isCacheItem){c=e.getMeasures();u=e.getMeasuresIndices(t);a=u.length;for(i;i<a;++i){var f=u[i];o=e.getValue(f);s=o;l=e.getPreformattedLabel(f);d[u[i]]?o="U"!==d[f].type&&l?l:d[f].format(o):o&&l&&ie(this,f)?o=l:"NaN"===o&&(o="-");c[f]&&void 0!==o&&n.push({label:c[f],value:"".concat(o),num:s})}}else{a=e.node.children.length;for(i;i<a;++i){o=e.node.children[i].children[0].data.qNum||e.node.children[i].children[0].data.qValue;s=o;l=e.node.children[i].children[0].data.qText;d[i]&&(o="U"!==d[i].type&&l?l:d[i].format(o));n.push({label:e.node.children[i].data.qText,value:"".concat(o),num:s})}}if(this.colorMap){r=this.colorMap.getTooltipContent(e,t.rowIndex);r&&n.splice(0,0,r)}var p=[];n.forEach((function(e){p.some((function(t){return t.label===e.label&&(t.value===e.value||t.num===e.num)}))||p.push(e)}));return p}function fe(e,t){var n=[];var r=0;var i=0;while(r<ne&&i<e.length){n.push({header:oe(e[i]),rows:de.call(this,e[i],t)});r+=n[i].rows.length+1;i++}e.length>i&&(n.numberInExcess=e.length-i);n.msrCount=n[0]?n.length*n[0].rows.length:0;return n}function pe(e,t,n,r){var i=this;var a=ue.call(this,e,t);if(a.positions&&a.directions){var o=this.getPagePoint(0,0,a.component,this.containerRect);var s=fe.call(this,e,a.target);var l=r?null:M["a"].getDuration(s.msrCount);var u=function e(t){P["a"].open({target:{shape:a.target,targetToPageTranslation:o},position:a.positions,content:t,direction:a.directions,numberInExcess:t.numberInExcess,hideCallback:le.bind(i),dir:i.yMirrorMode?"rtl":"ltr",styling:i.styling},l,n)};var d=this.activeComponent.backendApi&&this.activeComponent.backendApi.model?this.activeComponent.backendApi.model.layout:{};var f=!c["a"].treatAsDesktop()||(e[0].selected||!this.activeComponent.selectionsApi.active);if(d.tooltip&&!d.tooltip.auto&&!Object(_["b"])("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&f){var p=this.activeComponent.backendApi;var h=s.numberInExcess?s.numberInExcess+s.length-1:s.length-1;this.customTooltip.getContent(s[0],p,"",e[0]).then((function(e){e.numberInExcess=h;l=r?null:M["a"].getDuration(e[0].rows.length);u(e)}))}else if(d.tooltip&&!d.tooltip.auto&&Object(_["b"])("CUSTOM_TOOLTIP_REMOVE_LIMITS")){var v=this.activeComponent.backendApi.localeInfo;var m=s.numberInExcess?s.numberInExcess+s.length-1:s.length-1;R["a"].getContent(s[0],d,v,e[0]).then((function(e){e.numberInExcess=m;l=r?null:M["a"].getDuration(e[0].rows.length);u(e)}))}else{if(d.tooltip&&!d.tooltip.auto&&!f){var g=F["default"].get("properties.tooltip.notselectedmessage");s[0].rows.push({template:'<div class="qv-custom-tooltip-not-selected">'.concat(g,".</div>")})}u(s)}ee=e[0];te=e.map(se).join("")}}function he(e){var t=this.getTransformedPoint(e.x,e.y,this.containerRect);return this.shapesFrom.shapesFromPoints([t])}function ve(e){var t=he.call(this,e);return t.map(se).join("")}function me(e,t){var n=this;this.setActiveComponent(this.getComponent(e.x,e.y,this.containerRect));var r=he.call(n,e);if(r&&r.length&&this.activeComponent){n._positionAtMouse="MapArea"===n.activeComponent.className||1!==n._cssTransform.scale;var i=t?0:re;X=l["default"].getService("$timeout")((function(){pe.call(n,r,e,null,n._noDuration);X=null}),i)}}function ge(e,t){var n=this;if(e&&e.length&&this.activeComponent){n._positionAtMouse="MapArea"===n.activeComponent.className||1!==n._cssTransform.scale;pe.call(n,e,null,t)}}function be(){l["default"].getService("$timeout").cancel(X);X=null;this.prevPoint=null}function ye(){if(ee){ee=null;te=null;P["a"].close()}X=null}function we(e,t){var n=t?t.length:0;for(var r=0;r<n;r++){var i=t[r];if(i&&i.pointInside&&i.pointInside(e.x,e.y))return true}return false}function Se(e){var t=e?e.length:0;var n=[];var r;for(var i=0;i<t;i++){var a=e[i]._shapes;if(!r){r=e[i]._interactPosition;r&&(r=this.getTransformedPoint(r.x,r.y,this.containerRect))}r&&we(r,a)&&(n[n.length]=e[i])}n.length||(n=e);return n}var xe=function(e){G(n,e);var t=Q(n);function n(e,r,i,a){var o;V(this,n);o=t.call(this,i,r);o.cache=i;ee=null;X=null;o.container=e;o.containerRect=new u["a"](0,0,0,0);o._positionAtMouse=true;o._enabled=true;o._allowNullSelect=true;o.touchTimeout=Number.isNaN(+r.touchTimeout)?10:r.touchTimeout;o.customTooltip=new N["a"];var s=a?"object.".concat(j["a"].getMatch(a)):"object";o.styleService=j["a"].initializeService(s);j["a"].ThemeChanged.bind(o.updateStyling.bind(Y(o)));o.updateStyling();return o}z(n,[{key:"updateStyling",value:function e(){this.styling={"font-family":this.styleService.getStyle("tooltip","fontFamily")}}},{key:"refreshContainerRect",value:function e(){this.offset=this.container.offset();var t=this.offset;var n=this.container.width();var r=this.container.height();this.containerRect.set(t.left,t.top,n,r)}},{key:"on",value:function e(){if(this._isListening)return;this._isListening=true;var t=this;this._interactionEvents=O["a"].extend({preventDefault:false,mousemove:function e(n){var r=new d["a"](n.pageX,n.pageY);t.refreshContainerRect();t.move(n,r)},mouseleave:function e(n){t.leave(n)},mousewheel:function e(){t.cancel()},mouseup:function e(n){var r=new d["a"](n.pageX,n.pageY);t.refresh(r)},swipe:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},swipetwo:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},rotate:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},active:function e(){return t._enabled&&(ee||c["a"].treatAsDesktop())}});this._tapEvents=O["a"].extend({preventDefault:false,tap:{end:function e(n,r){var i=r.pagePoints[0];t.refreshContainerRect();t.setActiveComponent(t.getComponent(i.x,i.y,t.containerRect));var a=he.call(t,i);a.forEach((function(e){e.interactPosition=i}));t.updateHighlightedShape(a)}},active:function e(){return t._enabled}});function n(e){if(c["a"].treatAsDesktop())L["a"].addInteraction(t._interactionEvents,e.container,0,["mousemove","mouseleave","swipe","mousewheel","mouseup"]);else{L["a"].addInteraction(t._interactionEvents,e.container,0,["swipe","swipetwo","rotate"]);L["a"].addInteraction(t._tapEvents,e.container,0,["tap"])}}this.registerAddedComponent=function(e){n(e)};this.deregisterAddedComponent=function(e){L["a"].removeInteraction(t._interactionEvents,e.container);L["a"].removeInteraction(t._tapEvents,e.container)};Object.keys(this.components).map((function(e){return t.components[e]})).forEach((function(e){e.forEach((function(e){t.registerAddedComponent(e)}))}))}},{key:"register",value:function e(t,n){this.registerAddedComponent&&this.registerAddedComponent(n)}},{key:"deregister",value:function e(t,n){this.deregisterAddedComponent&&this.deregisterAddedComponent(n)}},{key:"off",value:function e(){this._isListening=false;L["a"].removeInteraction(this._interactionEvents);L["a"].removeInteraction(this._tapEvents);this.registerAddedComponent=null;this.deregisterAddedComponent=null}},{key:"initComponent",value:function e(t){this.setActiveComponent(this.getComponent(t.x,t.y,this.containerRect))}},{key:"updateHighlightedShape",value:function e(t,n){if(t.length>=1){var r;var i=true;var a=false;r=Se.call(this,t);if(!r||!r.length)return;if(!c["a"].treatAsDesktop()){r=r.filter((function(e){return!e.selected}));if(r.length)if(ee||X){if(r.length>1||r[0]!==ee){i=false;a=true}}else{i=false;a=true}if(i){be.call(this);ye.call(this)}a&&ge.call(this,r,this.touchTimeout)}}else if(!c["a"].treatAsDesktop()&&n){be.call(this);ye.call(this)}}},{key:"getRect",value:function e(t){if(!t)return new u["a"](0,0,0,0);if(t.hasOwnProperty("innerRect"))return t.innerRect;return t.rect}},{key:"move",value:function e(t,n){if(!c["a"].treatAsDesktop()||!this._enabled)return;if(null!==X){if(!this.prevPoint||n.distanceTo(this.prevPoint)>5){be.call(this);me.call(this,n)}}else{this.prevPoint=n;if(ee){if(ve.call(this,n)!==te){ye.call(this);me.call(this,n)}}else me.call(this,n)}}},{key:"setCssTransform",value:function e(t){this._cssTransform=t||{scale:1}}},{key:"leave",value:function e(t){var n=t.toElement||t.relatedTarget;if(!s()(n).hasClass("qvt-chart-tooltip")&&!s()(n).parents(".qvt-chart-tooltip").length){be.call(this);ye.call(this)}}},{key:"cancel",value:function e(){be.call(this);ye.call(this)}},{key:"clearSelection",value:function e(){be.call(this);ye.call(this)}},{key:"refresh",value:function e(t){ye.call(this);me.call(this,t,true)}},{key:"release",value:function e(){$(Z(n.prototype),"release",this).call(this);this.off();this.customTooltip.destroySessionObject();j["a"].ThemeChanged.unbind(this.updateStyling)}}]);return n}(D);Object.defineProperties(xe.prototype,{enabled:{set:function e(t){this._enabled=t},get:function e(){return this._enabled}}});var Ce=xe;var qe=n("egqJ");var Ee=n("BQvq");function Ie(){this.data=[]}Object.defineProperties(Ie.prototype,{has:{value:function e(t){return-1!==this.data.indexOf(t)}},add:{value:function e(t){if(!(t instanceof qe["a"])&&!(t instanceof Ee["a"]))throw new Error("Invalid cache item!");this.has(t)||this.data.push(t)}},remove:{value:function e(t){var n=this.data.indexOf(t);-1!==n&&this.data.splice(n,1)}},clear:{value:function e(){this.data.length=0}}});var ke=Ie;var Ae=n("yIOy");var Te=n("4KCR");var De=n("qEw4");var Oe=n("RZ9f");var Le=n("+GbC");var Me=n("R0oC");var Pe=n("cQOM");function Ne(e){Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Ne(e)}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function _e(e,t,n){t&&Fe(e.prototype,t);n&&Fe(e,n);return e}function je(e,t,n){je="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=Be(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return je(e,t,n||e)}function Be(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=We(e);if(null===e)break}return e}function Ve(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&He(e,t)}function He(e,t){He=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return He(e,t)}function ze(e){var t=Ge();return function n(){var r=We(e),i;if(t){var a=We(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return $e(this,i)}}function $e(e,t){if(t&&("object"===Ne(t)||"function"===typeof t))return t;return Ue(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function We(e){We=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return We(e)}var Qe=function(e){Ve(n,e);var t=ze(n);function n(e,r){var i;Re(this,n);i=t.call(this,e.cache,r);i._selectedShapes=[];i.handler=e;i.options=r;i.components=r.components||{};i.ToggleFlag={select:1,deselect:2,auto:4,replace:8};return i}_e(n,[{key:"release",value:function e(){je(We(n.prototype),"release",this).call(this);this.components={};this._selectedShapes=[];this.handler=null}},{key:"resetSelectedShapes",value:function e(){this._selectedShapes.length=0}},{key:"getSelectedShapes",value:function e(){return this._selectedShapes}},{key:"toggleSelectedShape",value:function e(t){var n=this._selectedShapes.indexOf(t);-1!==n?this._selectedShapes.splice(n,1):this._selectedShapes.push(t)}},{key:"setActiveMode",value:function e(t){this._activeMode=t}},{key:"getActiveMode",value:function e(){return this._activeMode}},{key:"register",value:function e(t,n){this.handler.register(t,n)}},{key:"deregister",value:function e(t,n){this.handler.deregister(t,n)}},{key:"getActiveDimensions",value:function e(){return this.activeComponent.getSelectionIndices()}},{key:"toggle",value:function e(){}},{key:"toggleRect",value:function e(){}},{key:"start",value:function e(){}},{key:"update",value:function e(){}},{key:"end",value:function e(){}},{key:"cancel",value:function e(){}},{key:"move",value:function e(){}},{key:"leave",value:function e(){}},{key:"getTransformedPoint",value:function e(t,r){return je(We(n.prototype),"getTransformedPoint",this).call(this,t,r,this.handler.containerRect)}},{key:"getPagePoint",value:function e(t,r,i){return je(We(n.prototype),"getPagePoint",this).call(this,t,r,i,this.handler.containerRect)}},{key:"shapeFromPoint",value:function e(t){return this.shapesFrom.shapeFromPoint(t)}},{key:"shapesFromPoints",value:function e(t){return this.shapesFrom.shapesFromPoints(t)}},{key:"shapesFromLines",value:function e(t){return this.shapesFrom.shapesFromLines(t)}},{key:"shapesFromPolygon",value:function e(t){return this.shapesFrom.shapesFromPolygon(t)}},{key:"shapesFromRect",value:function e(t,n){return this.shapesFrom.shapesFromRect(t,n)}},{key:"shapesFromRectForDirection",value:function e(t,n,r){return this.shapesFrom.shapesFromRectForDirection(t,n,r)}},{key:"shapesFromRange",value:function e(t,n,r,i){return this.shapesFrom.shapesFromRange(t,n,r,i)}},{key:"shapesFromDimensionValue",value:function e(t){return this.shapesFrom.shapesFromDimensionValue(t)}},{key:"groupedItemsFromShapes",value:function e(t){return this.shapesFrom.groupedItemsFromShapes(t)}},{key:"shapesFromIndex",value:function e(t,n){return this.shapesFrom.shapesFromIndex(t,n)}},{key:"toggleSelection",value:function e(t,n){var r=this.handler._disableSelections;var i=this.ToggleFlag;var a=this.handler.ToggleShape;var o=this.handler.ToggleShapes;var s=this.toggleSelectedShape.bind(this);var l;n=n||i.auto;function c(e){var i=t.filter(e);i.forEach((function(e){if(!r){e.selected=!e.selected;s(e);a.emit(e,n)}}));i.length>0&&o.emit(t,n)}if(n&i.select)c((function(e){return!e.selected}));else if(n&i.deselect)c((function(e){return e.selected}));else if(n&i.auto)c((function(){return true}));else if(n&i.replace){l=t;t=this.handler.cache.data;c((function(e){return e.selected}));t=l;c((function(){return true}))}}},{key:"clearSelection",value:function e(){var t=this.handler.Clear;var n=this.handler.cache.data;var r=this.ToggleFlag.deselect;this.toggleSelection(n,r);t.emit()}}]);return n}(D);Qe.defaultOptions={};var Ke=Qe;var Ye=n("FdxK");var Je={template:'<div class ="qv-framer" ng-style="style"></div>',controller:["$scope",function(e){e.style={};e.style.top=e.top;e.style.left=e.left;e.style.height=e.height;e.style.width=e.width;e.closeComponent()}],scope:{top:"=",left:"=",height:"=",width:"=",closeComponent:"="}};var Ze={flash:function e(t,n){var r=l["default"].getService("$timeout");var i=Ye["a"].show(Je,{top:"".concat(Math.min(t.y,n.y),"px"),left:"".concat(Math.min(t.x,n.x),"px"),height:"".concat(Math.max(t.y,n.y)-Math.min(t.y,n.y),"px"),width:"".concat(Math.max(t.x,n.x)-Math.min(t.x,n.x),"px"),closeComponent:function e(){r((function(){i.destroy();i=null}),300)}})}};var Xe=Ze;var et=n("2Hli");function tt(e){tt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return tt(e)}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function it(e,t,n){t&&rt(e.prototype,t);n&&rt(e,n);return e}function at(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&ot(e,t)}function ot(e,t){ot=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return ot(e,t)}function st(e){var t=ut();return function n(){var r=dt(e),i;if(t){var a=dt(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return lt(this,i)}}function lt(e,t){if(t&&("object"===tt(t)||"function"===typeof t))return t;return ct(e)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function dt(e){dt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return dt(e)}var ft=s()("<div></div>");var pt=ft[0];var ht=s()("<canvas></canvas>");var vt=ht[0];var mt=s()("<canvas></canvas>");var gt=mt[0];var bt=s()("<canvas></canvas>");var yt=bt[0];var wt=vt.getContext("2d");var St=gt.getContext("2d");var xt=yt.getContext("2d");var Ct;var qt=[];var Et=false;var It=false;pt.appendChild(vt);pt.appendChild(gt);pt.appendChild(yt);pt.className="selections-data-area-ui";ft.hide();function kt(){wt.beginPath();wt.moveTo(Ct.x,Ct.y);wt.fillStyle="rgba(0, 152, 69, 1)";wt.arc(Ct.x,Ct.y,10,0,2*Math.PI,true);wt.fill()}function At(e,t,n){!n||"x"!==n&&"y"!==n||(t[n]=Ct[n]);var r=(e.x+t.x)/2;var i=(e.y+t.y)/2;wt.beginPath();wt.moveTo(e.x,e.y);wt.quadraticCurveTo(r,i,t.x,t.y);wt.stroke()}function Tt(e,t,n,r){r=r||[2,4];var i=r.length;var a=n.x-t.x;var o=n.y-t.y;var s=Math.sqrt(a*a+o*o);var l=s;var c=0;var u=true;var d;var f=t.x;var p=t.y;a/=s;o/=s;e.moveTo(f,p);for(c=0;l>=.1&&c<5e3;++c){d=r[c%i];0===d&&(d=.001);d>l&&(d=l);f+=d*a;p+=d*o;e[u?"lineTo":"moveTo"](f,p);l-=d;u=!u}}function Dt(e,t){St.clearRect(0,0,gt.width,gt.height);St.beginPath();Tt(St,e,t);St.stroke()}function Ot(){ft.hide();ht.hide();mt.hide();ft.detach()}function Lt(e){var t=et["a"].getValue(this,"components.dataArea.0._data.qHyperCube.qDimensionInfo",[]);return et["a"].getValue(t,"".concat(e,".qIsOneAndOnlyOne"),false)}function Mt(e){if(!e.length)return 0;var t=et["a"].getValue(this,"components.dataArea.0._data.qHyperCube.qDimensionInfo",[]);if(1===t.length)return 0;var n;if(1===e.length){var r=e[0].parent&&e[0].parent.children.length;n=1===r||false}else 2===t.length&&(n=t[1].qIsOneAndOnlyOne&&t[1].qCardinalities.qHypercubeCardinal>1||false);var i=n?0:1;return i}var Pt=function(e){at(n,e);var t=st(n);function n(e,r){var i;nt(this,n);i=t.call(this,e,r);i.setActiveMode("item");i._startIndex=-1;i._endIndex=-1;return i}it(n,[{key:"initComponent",value:function e(){this.setActiveComponent(this.components.dataArea[0])}},{key:"refreshCanvas",value:function e(){this.rect=this.components.dataArea[0].rect;var t={position:"absolute",left:"".concat(this.rect.x,"px"),top:"".concat(this.rect.y,"px"),width:"".concat(this.rect.width,"px"),height:"".concat(this.rect.height,"px"),"z-index":20};wt.canvas.width=this.rect.width;wt.canvas.height=this.rect.height;wt.lineWidth=2;wt.lineCap="round";wt.lineJoin="round";wt.strokeStyle="rgba(102,102,102,1)";wt.fillStyle="rgba(102,102,102,1)";ht.css(t);St.canvas.width=this.rect.width;St.canvas.height=this.rect.height;St.lineWidth=2;St.lineCap="round";St.lineJoin="round";St.strokeStyle="rgba(102,102,102,1)";mt.css(t);xt.canvas.width=this.rect.width;xt.canvas.height=this.rect.height;bt.css(t)}},{key:"toggle",value:function e(t,n,r){r=void 0!==r?r:this.handler.getKeyAsToggleSelected(t);var i=this.getTransformedPoint(n.x,n.y);var a;var o=this.options.toggle.callback||this.toggleSelection;var s=this.options.indexSelection;var l=this.ToggleFlag.auto|this.ToggleFlag.tooltip;a=s?this.shapesFromRectForDirection(new u["a"](i.x,i.y,0,0),"y"):this.shapesFromPoints([i]);a=this.groupedItemsFromShapes(a);var c=Lt.call(this,Mt.call(this,a));c?this.cancel(true):r||this.clearSelection();this.resetSelectedShapes();this.setActiveComponent(this.components.dataArea[0]);a.forEach((function(e){e.selectionMode="dataArea";e.interactPosition=n}));o.call(this,a,l);return a&&a.length>0}},{key:"toggleRect",value:function e(t,n,r){if(!n||!r)return;var i;var a=s()(this.components.dataArea[0].container);var o=a.offset();var l=function e(t){return{x:Math.min(Math.max(t.x,o.left),o.left+a.width()),y:Math.min(Math.max(t.y,o.top),o.top+a.height())}};n=l(n);r=l(r);var c=n;var d=r;this.resetSelectedShapes();n=this.getTransformedPoint(n.x,n.y);r=this.getTransformedPoint(r.x,r.y);var f=Math.min(n.x,r.x);var p=Math.min(n.y,r.y);var h=Math.max(1,Math.abs(r.x-n.x));var v=Math.max(1,Math.abs(r.y-n.y));var m=new u["a"](f,p,h,v);var g=this.ToggleFlag.select;var b=this.options.indexSelection;var y=this.toggleSelection;this.setActiveComponent(this.components.dataArea[0]);i=b?this.shapesFromRectForDirection(m,"y"):this.shapesFromRect(m);i=this.groupedItemsFromShapes(i);i.forEach((function(e){e.selectionMode="dataArea"}));y.call(this,i,g);this.getSelectedShapes().length>0&&this.handler.Select.emit(this.getSelectedShapes(),true);Xe.flash(c,d)}},{key:"start",value:function e(t,n){this.handler.getKeyAsToggleSelected(t)||this.clearSelection();this.resetSelectedShapes();this.setActiveComponent(this.components.dataArea[0]);var r=this.getTransformedPoint(n.x,n.y);var i=this.options.captureInput;var a=this.options.indexSelection;if(i){ht.show();mt.show();ft.appendTo(this.handler.container);ft.show();this.refreshCanvas()}qt.length=0;qt.push(r);Ct=new d["a"](qt[0].x,qt[0].y);Et=false;It=false;if(a){var o=this.shapesFromRectForDirection(new u["a"](Ct.x,Ct.y,1,1),"y");var s=o.length&&o[0].index;void 0!==s&&s>=0&&(this._startIndex=s)}i&&kt()}},{key:"update",value:function e(t,n){var r=this.getTransformedPoint(n.x,n.y);var i=this.options;var a=i.captureInput;var o=i.lassoAutoCloseDistance;var s=i.indexSelection;var l=t.shiftKey&&i.shiftLockCapture?i.shiftLockAxis:"";var c=this.ToggleFlag.select;var d;var f;var p;var h=-1;var v=this.toggleSelection;var m=qt[qt.length-1];qt.push(r);a&&At(m,r,l);if(a){Et||(Et=qt.length>2&&Ct.distanceTo(r)>=o);St.clearRect(0,0,gt.width,gt.height);if(Et)if(Ct.distanceTo(r)<=o){Dt(r,Ct);It=true}else It=false}if(s){p=this.shapesFromRectForDirection(new u["a"](r.x,r.y,1,1),"y");h=p.length?p[0].index:-1;void 0!==h&&h>=0&&(this._endIndex=h);d=this.shapesFromIndex(this._startIndex,this._endIndex);f=this.getSelectedShapes().filter((function(e){return-1===d.indexOf(e)}));v.call(this,f,this.ToggleFlag.deselect);v.call(this,d,c)}else{d=this.shapesFromLines([new Pe["a"](m.x,m.y,r.x,r.y)]);d=this.groupedItemsFromShapes(d);d.forEach((function(e){e.selectionMode="dataArea"}));v.call(this,d,c)}}},{key:"end",value:function e(t){var n=this.options.captureInput;var r=this.options.indexSelection;var i;var a;var o=this.ToggleFlag.select;var s=this.toggleSelection;if(r){this._startIndex=-1;this._endIndex=-1}n&&Ot();if(n&&It){a=new Me["a"](qt);i=this.shapesFromPolygon(a);i=this.groupedItemsFromShapes(i);i.forEach((function(e){e.selectionMode="dataArea"}));s.call(this,i,o)}qt.length=0;var l=this.getSelectedShapes();if(l.length>0){var c=Lt.call(this,Mt.call(this,l));c&&l.length>1?this.cancel():this.handler.Select.emit(l,this.handler.getKeyAsToggleSelected(t))}}},{key:"cancel",value:function e(t){qt.length&&Ot();t&&this.clearSelection();this.setActiveComponent(null)}}]);return n}(Ke);Pt.defaultOptions={captureInput:true,indexSelection:false,shiftLockCapture:false,shiftLockAxis:"x",lassoAutoCloseDistance:50,autoConfirm:false,toggle:{callback:null},interpolation:{pixelPrecision:2}};var Nt=Pt;var Rt=n("Z9ZH");var Ft=n.n(Rt);var _t='<div class="qvt-range-selection">\n\t<div class="range-vertical-clip" ng-style="{ top: vOptions.offset, height: vOptions.rect.height }" ng-class="{ clip: vOptions.shouldClip }">\n\t\t<div class="range-vertical"\n\t\t\t ng-repeat="range in vRanges track by $index"\n\t\t\t qva-range-selection-range="y"\n\t\t\t ng-class="{\'near\': vOptions.dock == \'left\', \'far\' : vOptions.dock == \'right\'}"\n\t\t\t ng-style="range.style">\n\t\t\t<div class="range">\n\t\t\t\t<div class="axis-cover" ng-style="vRelevantSize" tid="range-vertical-cover" ng-class="{\'active\' : range.cover}"></div>\n\t\t\t</div>\n\t\t\t<div class="far-edge" tid="range-vertical-far" ng-class="{\'active\' : range.near}">\n\t\t\t</div>\n\t\t\t<div class="near-edge" tid="range-vertical-near" ng-class="{\'active\' : range.far}">\n\t\t\t</div>\n\t\t\t<div class="outer-bubble-wrapper" ng-style="vWrappperSize">\n\t\t\t\t<qva-range-selection-bubble tid="range-vertical-near-bubble" visible="visible" active-component="vComponent" handle-points="range.points" range-index="$index" horizontal="false" far="false" data="range.values.start" active="range.far"> </qva-range-selection-bubble>\n\t\t\t\t<qva-range-selection-bubble tid="range-vertical-far-bubble" visible="visible" active-component="vComponent" handle-points="range.points" range-index="$index" horizontal="false" far="true" data="range.values.end" active="range.near"> </qva-range-selection-bubble>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="range-horizontal-clip" ng-style="{ left: hOptions.offset, width: hOptions.rect.width }" ng-class="{ clip: hOptions.shouldClip }">\n\t\t<div class="range-horizontal"\n\t\t\t ng-repeat="range in hRanges track by $index"\n\t\t\t qva-range-selection-range="x"\n\t\t\t ng-class="{\'near\': hOptions.dock == \'bottom\', \'far\' : hOptions.dock == \'top\'}"\n\t\t\t ng-style="range.style">\n\t\t\t<div class="range">\n\t\t\t\t<div class="axis-cover" ng-style="hRelevantSize" tid="range-horizontal-cover" ng-class="{\'active\' : range.cover}"></div>\n\t\t\t</div>\n\n\t\t\t<div class="far-edge" tid="range-horizontal-far" ng-class="{\'active\' : range.far}">\n\t\t\t</div>\n\t\t\t<div class="near-edge" tid="range-horizontal-near" ng-class="{\'active\' : range.near}">\n\t\t\t</div>\n\t\t\t<div class="outer-bubble-wrapper" ng-style="hWrappperSize">\n\t\t\t\t<qva-range-selection-bubble tid="range-horizontal-near-bubble" visible="visible" active-component="hComponent" handle-points="range.points" range-index="$index" horizontal="true" far="false" data="range.values.start" active="range.near"> </qva-range-selection-bubble>\n\t\t\t\t<qva-range-selection-bubble tid="range-horizontal-far-bubble" visible="visible" active-component="hComponent" handle-points="range.points" range-index="$index" horizontal="true" far="true" data="range.values.end" active="range.far"> </qva-range-selection-bubble>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>';var jt='<div class="bubble-wrapper" ng-class="{\'far\' : far, \'near\' : !far}">\n\t<div ng-show="!editing" qva-direction x-dir-text="{{data.text}}" class="bubble range-bubble" ng-class="{\'active\' : active}">{{data.text}}</div>\n\t<input ng-show="editing" type="text" ng-class="{\'active\' : active, \'invalid\': invalid}" class="bubble range-input"/>\n</div>';var Bt=".rangeselection";function Vt(e){e.$emit("rangeStart")}function Ht(e,t){e.editing=t;e.$emit("rangeEditChanged",t)}function zt(e,t,n,r,i){e.$emit("rangeUpdate",t,n,r,false,i)}function $t(e,t){e.$emit("rangeEnd",t)}function Ut(){s()(this).css("width","".concat(6*s()(this).val().length+50,"px"))}l["default"].directive("qvaRangeSelectionBubble",["$timeout",function(e){return{template:jt,replace:true,restrict:"E",scope:{data:"=",active:"=",far:"=",horizontal:"=",activeComponent:"=",handlePoints:"=",visible:"=",rangeIndex:"="},link:function t(n,r){var i=r.find(".range-input");var a=r.find(".range-bubble");var o={};var s=false;n.$watch("activeComponent",(function(){n.editable=n.activeComponent&&!n.activeComponent.isDimension&&!n.activeComponent.isDiscrete()&&"function"===typeof n.activeComponent.getPositionOfValue;if(n.editable){i.removeClass("non-editable");a.removeClass("non-editable")}else{i.addClass("non-editable");a.addClass("non-editable")}}));n.endEditing=function(){n.invalid=false;if(n.editing){Ht(n,false);i.blur()}};n.$watch("data.value",(function(e){if(Number.isNaN(+e)){n.invalid=true;return}n.editing&&n.endEditing();i.val(e)}));n.$watch("visible",(function(){n.visible||n.endEditing()}));n.$on("off",(function(){n.endEditing();Ft()(i[0]).off("*",Bt);Ft()(a[0]).off("*",Bt);r.off("keyup".concat(Bt),"*");s=false}));n.onEditBubble=function(){n.editing=true;i.css("width",a.width());n.$digest();i.focus();i[0].setSelectionRange(0,9999);n.$digest();e((function(){Ut.call(i)}))};function l(){if(s)return;s=true;Ft()(i[0]).tap({id:Bt,options:{preventDefault:false},start:function e(){Ft.a.preventGestures(this.gestureHandler)}});Ft()(a[0]).tap({id:Bt,start:function e(){Ft.a.preventGestures(this.gestureHandler)},end:function e(){if(!n.editable||n.editing)return;Ht(n,true);n.onEditBubble()}}).swipe({id:Bt,start:function e(){o=[{x:n.handlePoints[0].x,y:n.handlePoints[0].y},{x:n.handlePoints[1].x,y:n.handlePoints[1].y}];Ft.a.preventGestures(this.gestureHandler);Vt(n)},update:function e(t,r){var i=n.far?1:0;var a;var s;if(n.horizontal){a=r.swipe.deltaX;s="x"}else{a=r.swipe.deltaY;s="y"}var l=o[1^i][s];var c=o[i][s]+a;if(0===i&&(n.horizontal&&c>l||!n.horizontal&&c<l)){i=1;l=o[1][s]}else if(1===i&&(n.horizontal&&c<l||!n.horizontal&&c>l)){i=0;l=o[0][s]}n.handlePoints[i][s]=c;n.handlePoints[1^i][s]=l;n.$digest();zt(n,n.handlePoints,s,n.rangeIndex)},end:function e(){$t(n,n.handlePoints)}});i.keyup(Ut);n.onEditConfirmed=function(){if(!n.editing)return;var e=i.val();var t={value:parseFloat(e),index:n.far?1:0,switch:false};var r=n.activeComponent.getPositionOfValue(t.value);var a;var o;var s=n.handlePoints;if(Number.isNaN(+t.value))n.invalid=true;else{o=n.horizontal?"x":"y";s[t.index][o]=r;if(n.horizontal&&s[1][o]<s[0][o]||!n.horizontal&&s[1][o]>s[0][o]){a=s[1][o];s[1][o]=s[0][o];s[0][o]=a;t.index=t.index?0:1;t.switch=true}n.endEditing();zt(n,n.handlePoints,o,n.rangeIndex,t);$t(n,n.handlePoints)}n.$digest()};n.$on("confirmEdit",n.onEditConfirmed)}n.$on("on",l);l()}}}]);var Gt=".rangeselection";function Wt(e,t,n,r){var i=[];i[t]="y"===n?new d["a"](e[t].x,e[t].y+r):new d["a"](e[t].x+r,e[t].y);i[1^t]=e[1^t];return i}function Qt(e){e.$emit("rangeStart")}function Kt(e,t,n,r,i){e.$emit("rangeUpdate",t,n,r,i)}function Yt(e,t){e.$emit("rangeEnd",t)}function Jt(e,t,n){return t?e[0][n]>e[1][n]?0:1:e[0][n]<e[1][n]?0:1}function Zt(e,t,n,r){var i;var a;var o=n?"x":"y";var s;Ft()(t).tap({id:Gt,options:{preventDefault:true},start:function e(){Ft.a.preventGestures(this.gestureHandler)}}).swipe({id:Gt,options:{radiusThreshold:0},start:function t(){a=Jt(e.range.points,r,o);i=e.range.points;Ft.a.preventGestures(this.gestureHandler);Qt(e)},update:function t(l,c){e.range.points=Wt(i,a,o,n?c.swipe.deltaX:c.swipe.deltaY);e.$digest();e.range.far=false;e.range.near=false;s=Jt(e.range.points,r,o)^!n?"far":"near";e.range[s]=true;Kt(e,e.range.points,o,e.$index,false)},end:function t(){Yt(e,e.range.points);e.range.near=false;e.range.far=false}})}function Xt(e,t){if(e.isOn)return;e.isOn=true;var n="hey";Ft()(e.axisCover).tap({id:Gt,options:{preventDefault:true},start:function e(){Ft.a.preventGestures(this.gestureHandler)},end:function e(n,r){t.$emit("rangeToggle",n,r.pagePoints[0])}}).swipe({id:Gt,options:{preventDefault:true},start:function e(){n=t.range.points;Ft.a.preventGestures(this.gestureHandler);Qt(t);t.range.cover=true},update:function r(i,a){"y"===e.dir?t.range.points=[{x:n[0].x,y:n[0].y+a.swipe.deltaY},{x:n[1].x,y:n[1].y+a.swipe.deltaY}]:t.range.points=[{x:n[0].x+a.swipe.deltaX,y:n[0].y},{x:n[1].x+a.swipe.deltaX,y:n[1].y}];t.$digest();Kt(t,t.range.points,e.dir,t.$index,true)},end:function e(){Yt(t,t.range.points);t.range.cover=false}});if(!Ft.a.utils.touch){var r="x"===e.dir;Zt(t,e.farEdge,r,r);Zt(t,e.nearEdge,r,!r)}}function en(e){Ft()(e.axisCover).off("*",Gt);Ft()(e.farEdge).off("*",Gt);Ft()(e.nearEdge).off("*",Gt);e.isOn=false}l["default"].directive("qvaRangeSelectionRange",[function(){return{scope:false,link:function e(t,n,r){var i={isOn:false,dir:r.qvaRangeSelectionRange,axisCover:n.find(".axis-cover")[0],farEdge:n.find(".far-edge")[0],nearEdge:n.find(".near-edge")[0]};Xt(i,t);t.$on("on",(function(){Xt(i,t)}));t.$on("off",(function(){en(i)}));t.$on("$destroy",(function(){en(i)}))}}}]);l["default"].directive("qvaRangeSelection",[function(){return{template:_t,replace:true,scope:{vOptions:"=",hOptions:"=",vRanges:"=",hRanges:"=",activeComponent:"=",hComponent:"=",vComponent:"=",visible:"="},link:function e(t){t.vRelevantSize=0;t.hRelevantSize=0;t.activeOptions={y:{far:false,near:false,cover:false},x:{far:false,near:false,cover:false}};t.setRangeStyle=function(e,t,n){if(!t||!n)return;t.forEach((function(t){var n=t.points[0];var r=t.points[1];t.style="y"===e?{height:Math.abs(n[e]-r[e]),top:Math.min(n[e],r[e])}:{width:Math.abs(n[e]-r[e]),left:Math.min(n[e],r[e])}}))};t.$watchCollection("[vRanges, vOptions]",(function(e){t.setRangeStyle("y",e[0],e[1])}));t.$watchCollection("[hRanges, hOptions]",(function(e){t.setRangeStyle("x",e[0],e[1])}));t.$watch("hOptions",(function(e){e&&t.setRelevantSize("x",e.rect.height)}));t.$watch("vOptions",(function(e){e&&t.setRelevantSize("y",e.rect.width)}));t.setRelevantSize=function(e,n){if("x"===e){t.hRelevantSize={height:"".concat(n,"px")};t.hWrappperSize={height:"calc(100% - ".concat(n,"px)")}}else{t.vRelevantSize={width:"".concat(n,"px")};t.vWrappperSize={width:"calc(100% - ".concat(n,"px)")}}}}}}]);function tn(e){tn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return tn(e)}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function an(e,t,n){t&&rn(e.prototype,t);n&&rn(e,n);return e}function on(e,t,n){on="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=sn(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return on(e,t,n||e)}function sn(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=hn(e);if(null===e)break}return e}function ln(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&cn(e,t)}function cn(e,t){cn=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return cn(e,t)}function un(e){var t=pn();return function n(){var r=hn(e),i;if(t){var a=hn(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return dn(this,i)}}function dn(e,t){if(t&&("object"===tn(t)||"function"===typeof t))return t;return fn(e)}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pn(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function hn(e){hn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return hn(e)}var vn=false;var mn=Math.min;var gn=Math.max;var bn=s()("<div ></div>");var yn=bn[0];var wn=s()('<div qva-range-selection visible="rangeSelectIsVisible" active-component="activeComponent" v-component="vComponent" h-component="hComponent" v-ranges="vRanges" h-ranges="hRanges" h-options="hOptions" v-options="vOptions"></div>');var Sn={x:[],y:[]};var xn;var Cn;var qn=15;function En(e){if(e.isCacheItem){var t=e.getDimensions();return t[t.length-1]}if(e.parent&&e.parent.data&&e.parent.data.qText)return e.parent.data.qText;return e.label}function In(e,t){var n=e.indicators||e.getLevels()[0];var r=e.getPlotMax();var i=e.getPlotMin();var a=Number.MAX_VALUE;var o=-1;var s;for(s=0;s<n.values.length;s++){var l=n.values[s];var c=Math.abs(t-l);if(l<i||l>r)continue;if(!(c<a))break;a=c;o=s}if(-1!==s){var u=o;return{value:n.values[o],label:(n.qualifiedLabels||n.labels)[u]}}return null}function kn(e,t,n){var r=e.getLevels();var i;for(i=r.length-1;i>=0;--i){var a=r[i];var o=null;var s=null;for(var l=0;l<a.values.length;++l){a.values[l]===t&&(o=(a.qualifiedLabels||a.labels)[l]);a.values[l]===n&&(s=(a.qualifiedLabels||a.labels)[l])}if(o&&s)return{l1:o,l2:s}}return{l1:null,l2:null}}function An(e,t){var n=e.isDiscrete&&e.isDiscrete();var r=e.isDimension&&!n;if(!r)return null;var i=e.getValueOfPosition(t);var a=In(e,i);if(!a)return null;a.newPoint=e.getPositionOfValue(a.value);var o=Math.abs(a.newPoint-t);if(o>qn)return null;return a}function Tn(e,t){var n=this.getComponentKey(this.activeComponent);var r="x"===n?"width":"height";var i=e.rect[n];var a=e.rect[n]+e.rect[r];var o=this.activeComponent.rect;var s=this.getRect(this.activeComponent);var l=s[n]-o[n];var c=l+s[r];if(i===a&&0===i){a=t[n];i=t[n]}var u=null;var d=null;if(Sn[n].length>1)for(var f=0;f<Sn[n].length;++f){var p=Sn[n][f];if(e===p)continue;var h=p.rect[n];var v=p.rect[n]+p.rect[r];v<=i&&(null===u||v>u)&&(u=v);h>=a&&(null===d||h<d)&&(d=h)}l<=i&&(null===u||l>u)&&(u=l);c>=a&&(null===d||c<d)&&(d=c);return{min:u,max:d}}function Dn(e,t,n,r,i){var a=this.activeComponent;var o=this.components.dataArea[0].rect;var s=function e(t,r,o){if(i){if(i.switch){var s=n.startVal;n.startVal=n.updateVal;n.updateVal=s}var l=Math.max(Math.min(i.value,a.getPlotMax()),a.getPlotMin());0===i.index&&"horizontal"===o||1===i.index&&"vertical"===o?n.startVal=l:n.updateVal=l}else{n.startVal=a.getValueOfPosition(t);n.updateVal=a.getValueOfPosition(r);n.maxIncluded=!a.isDimension||a.getDataMax()<=n.updateVal}};var l=0;var c=0;var u=0;var d=0;var f;var p;var h;var v;var m;var g=a.isDiscrete&&a.isDiscrete();var b=Tn.call(this,n,e);switch(a.dock){case"top":case"bottom":l=mn(e.x,t.x);u=gn(e.x,t.x);c=0;d=o.height;if(null!==b.min&&b.min>l){r&&(u+=b.min-l);l=b.min}else{f=An(a,l);if(f){n.startLabel=f.label;l=null===b.min?f.newPoint:Math.max(b.min,f.newPoint)}else n.startLabel=Bn(a.getValueOfPosition(l),a)}if(null!==b.max&&b.max<u){r&&(l+=b.max-u);u=b.max}else{p=An(a,u);if(p){n.updateLabel=p.label;u=null===b.max?p.newPoint:Math.min(b.max,p.newPoint)}else n.updateLabel=Bn(a.getValueOfPosition(u),a)}n.rect.set(l,c,u-l,d-c);if(g){h=this.shapesFromRectForDirection(n.rect,"x","dataArea");if(h.length){v=this.options&&this.options.rtl?h[h.length-1]:h[0];m=this.options&&this.options.rtl?h[0]:h[h.length-1];n.startVal=En(v);n.updateVal=En(m)}else{n.startVal="-";n.updateVal="-"}n.maxIncluded=true}else s.call(this,l,u,"horizontal");break;case"left":case"right":c=mn(e.y,t.y);d=gn(e.y,t.y);l=0;u=o.width;if(null!==b.min&&b.min>c){r&&(d+=b.min-c);c=b.min}if(null!==b.max&&b.max<d){r&&(c+=b.max-d);d=b.max}f=An(a,c);if(f){n.startLabel=f.label;c=f.newPoint}else n.startLabel=Bn(a.getValueOfPosition(c),a);p=An(a,d);if(p){n.updateLabel=p.label;d=p.newPoint}else n.updateLabel=Bn(a.getValueOfPosition(d),a);n.rect.set(l,c,u-l,d-c);if(g){h=this.shapesFromRectForDirection(n.rect,"y","dataArea");if(h.length){v=h[0];m=h[h.length-1];n.startVal=En(v);n.updateVal=En(m)}else{n.startVal="-";n.updateVal="-"}n.maxIncluded=true}else s.call(this,c,d,"vertical");break;default:break}}function On(){return this.components.x&&this.components.y&&1===this.components.x.length&&1===this.components.y.length&&!this.components.x[0].isDiscrete()&&!this.components.y[0].isDiscrete()}function Ln(){xn.y=false;xn.x=false;if(this._rangeEventWatchers){this._rangeEventWatchers.forEach((function(e){e()}));this._rangeEventWatchers=null}bn.hide();bn.detach();xn.rangeSelectIsVisible=false;Sn={x:[],y:[]}}function Mn(e,t,n){var r={rect:new u["a"](0,0,0,0),startVal:0,updateVal:0,component:t};n?Sn[e].push(r):Sn[e][0]=r;return r}function Pn(e,t,n){var r=Sn[e];var i="x"===e&&n.yMirrorMode;var a=i?t.end:t.start;var o=i?t.start:t.end;var s=kn(n,a,o);var l=s.l1||(i?null:t.label);var c=s.l2||(i?t.label:null);var d=-1;for(var f=0;f<r.length;f++){var p=i?r[f].updateVal<=o&&a<=r[f].startVal:r[f].startVal<=a&&o<=r[f].updateVal;if(p){d=f;break}}if(-1===d)r.push({startVal:a,startLabel:l,updateVal:o,updateLabel:c,component:n,rect:new u["a"](0,0,0,0),maxIncluded:false});else{var h=r[d];r[d]={startVal:h.startVal,startLabel:h.startLabel,updateVal:a,updateLabel:l,component:n,rect:new u["a"](0,0,0,0),maxIncluded:false};r.push({startVal:o,startLabel:c,updateVal:h.updateVal,updateLabel:h.updateLabel,component:n,rect:new u["a"](0,0,0,0),maxIncluded:false})}Nn(e,n.yMirrorMode)}function Nn(e,t){var n="x"===e&&t;var r=n?"updateVal":"startVal";var i=n?"startVal":"updateVal";var a=Sn[e];a.sort((function(e,t){return e[r]<t[r]?-1:e[r]>t[r]?1:0}));for(var o=a.length-1;o>=0;--o){if(a[o].startVal===a[o].updateVal){a.splice(o,1);continue}if(o<a.length-1){var s=a[o][i];var l=a[o+1][r];if(s>=l){if(a[o+1][i]>a[o][i]){a[o][i]=a[o+1][i];n?a[o].startLabel=a[o+1].startLabel:a[o].updateLabel=a[o+1].updateLabel}a.splice(o+1,1);o<a.length-1&&++o}}}}function Rn(e,t,n){e||(e="x");t||(t=0);var r=Sn[e][t];if(!r){r={rect:new u["a"](0,0,0,0),startVal:0,endVal:0};Sn[e][t]=r}r.component=n;return r}function Fn(e,t,n,r){var i=[];var a=this._previousShapes?this._previousShapes.slice():[];var o;var s=this.getActiveMode();var l=Sn["y"===t?"x":"y"];if("range.discrete"===s){i=this.shapesFromRectForDirection(e.rect,t,"dataArea");i=this.groupedItemsFromShapes(i);i.forEach((function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1);e.selectionMode=s}));n.call(this,i,r);this._clearPrev&&n.call(this,a,this.ToggleFlag.deselect);this._shapes=i}else if("range.dimension"===s){if(this.components.dataArea&&this.components.dataArea[0].updateRangeSelection){var c=Sn[t].map((function(e){return jn(e.startVal,e.updateVal,e.maxIncluded)}));this.handler.UpdateRanges.emit(c)}}else{if(On.call(this)){o=l.length?e.rect.intersection(l[0].rect):e.rect;this.components.dataArea&&this.components.dataArea[0].updateRangeSelection&&this.components.dataArea[0].getIsReduced()||(i=this.shapesFromRect(o,"dataArea"));this.components.dataArea&&this.components.dataArea[0].updateRangeSelection&&this.components.dataArea[0].updateRangeSelection(o)}else i=this.shapesFromRange(e.startVal,e.updateVal);i.forEach((function(e){e.selectionMode=s}));n.call(this,i,r);this._shapes=i}}function _n(e,t,n,r){var i=this.getComponentKey(this.activeComponent);var a=t;var o=this.ToggleFlag.select;var s=this.toggleSelection;Dn.call(this,Cn,a,e,n,r);var l=this.getActiveMode();"range.measure"===l?this.clearSelection(true):this._shapes&&s.call(this,this._shapes,this.ToggleFlag.deselect);Fn.call(this,e,i,s,o);this.updateRangeDisplay()}function jn(e,t,n){return{min:Math.min(e,t),max:Math.max(e,t),maxIncluded:!!n}}function Bn(e,t){var n=t.isDiscrete&&t.isDiscrete();if(n||!t.isDimension)return t.getFormatter().format(e);return t.formatValue(e)}function Vn(e){return et["a"].getValue(e,"qHyperCube.qDimensionInfo.0.qIsOneAndOnlyOne",false)}var Hn=function(e){ln(n,e);var t=un(n);function n(e,r){var i;nn(this,n);i=t.call(this,e,r);i._shapes=null;i._nrEditing=0;i.setActiveMode("item");return i}an(n,[{key:"initComponent",value:function e(t){this.previousComponent=this.activeComponent;this.setActiveComponent(this.getComponent(t.x,t.y));xn.activeComponent=this.activeComponent;-1!==this.components.x.indexOf(xn.activeComponent)?xn.hComponent=xn.activeComponent:-1!==this.components.y.indexOf(xn.activeComponent)&&(xn.vComponent=xn.activeComponent)}},{key:"setDirection",value:function e(t){this.options.rtl="rtl"===t}},{key:"refreshContainer",value:function e(){var t=this;var n=this.components.dataArea[0].rect;var r=s()(this.components.dataArea[0].container).position();var i=new u["a"](r.left,r.top,n.width,n.height);var a;var o=[];["x","y"].forEach((function(e){t.components[e]&&!t.components[e].includes(t.activeComponent)&&(o=o.concat(t.components[e]))}));this.activeComponent&&o.push(this.activeComponent);o.forEach((function(e){if(e.isVisible()){a=s()(e.container).position();i=i.combineWith(new u["a"](a.left,a.top,e.rect.width,e.rect.height))}}),this);this._offset={left:r.left-i.x,top:r.top-i.y};bn.css({left:i.x,top:i.y,width:i.width,height:i.height})}},{key:"resetSelectedShapes",value:function e(){this._previousSelectedShapes=this._selectedShapes.concat();on(hn(n.prototype),"resetSelectedShapes",this).call(this)}},{key:"getIsEditing",value:function e(){return this._editing}},{key:"confirmEdit",value:function e(){xn.$broadcast("confirmEdit")}},{key:"getRect",value:function e(t,n){if(!t)return new u["a"](0,0,0,0);n=n||false;if(t.hasOwnProperty("innerRect")&&!n)return t.innerRect;return t.rect}},{key:"getExtendedRect",value:function e(t){if(!t)return new u["a"](0,0,0,0);if(t.hasOwnProperty("extendedRect"))return t.extendedRect;return this.getRect(t)}},{key:"getTransformedPoint",value:function e(t,n){var r=this.getRect(this.activeComponent||this.components.dataArea[0],true);return new d["a"](t-r.x-this.handler.containerRect.x,n-r.y-this.handler.containerRect.y)}},{key:"getComponent",value:function e(t,n){var r=new d["a"](t-this.handler.containerRect.x,n-this.handler.containerRect.y);return Object.keys(this.components).map((function(e){return this.components[e]}),this).reduce((function(e,t){return e.concat(t)})).filter((function(e){return this.getRect(e).pointInside(r.x,r.y)}),this)[0]}},{key:"checkActiveMode",value:function e(t,n){t.includes(this.handler.getActiveMode())||this.clearSelection(n);this.setActiveMode(t[0])}},{key:"toggleRect",value:function e(t,n,r){this.start(t,n);this.update(t,r);this.end(t)}},{key:"toggle",value:function e(t,n,r){r=void 0!==r?r:this.handler.getKeyAsToggleSelected(t);var i;r||this.clearSelection();this.resetSelectedShapes();this._editing&&this.confirmEdit();if(this.activeComponent&&"function"===typeof this.activeComponent.isDiscrete&&this.activeComponent.isDiscrete()){this.cancel();i=this.getTransformedPoint(n.x,n.y);var a=this.shapesFromPoints([i]);var o=this.options.toggle.callback||this.toggleSelection;var s=this.ToggleFlag.auto|this.ToggleFlag.tooltip;s=Vn(this.activeComponent.backendApi.model.layout)?this.ToggleFlag.replace:s;a=this.groupedItemsFromShapes(a);a.forEach((function(e){e.selectionMode="dataArea"}));this.checkActiveMode(["item"]);o.call(this,a,s)}else if(this.activeComponent&&this.activeComponent.isDimension){i=this.getTransformedPoint(n.x,n.y);var l=this.activeComponent.getLabelFromPoint(i);if(l){this.checkActiveMode(["range.dimension"]);this.resetSelectedShapes();var c=this.getComponentKey(this.activeComponent);Pn(c,l,this.activeComponent);Fn.call(this,null,c,null,null);this.selectRange();this.refreshContainer();this.initWatchers();this.updateRangeProjection();this.updateRangeDisplay()}}}},{key:"updateRangeDisplay",value:function e(){xn.hRanges=[];xn.vRanges=[];xn.vRanges=Sn.y.map((function(e){var t=new d["a"](e.rect.x,e.rect.y);var n=new d["a"](e.rect.x+e.rect.width,e.rect.y+e.rect.height);var r=e.startLabel||(Number.isNaN(+e.startVal)?e.startVal:Bn(e.startVal,e.component));var i=e.updateLabel||(Number.isNaN(+e.updateVal)?e.updateVal:Bn(e.updateVal,e.component));e.maxIncluded||(i="<".concat(i));return{points:[n,t],values:{start:{text:i,value:e.updateVal},end:{text:r,value:e.startVal}}}}));xn.hRanges=Sn.x.map((function(e){var t=new d["a"](e.rect.x,e.rect.y);var n=new d["a"](e.rect.x+e.rect.width,e.rect.y+e.rect.height);var r=e.startLabel||(Number.isNaN(+e.startVal)?e.startVal:Bn(e.startVal,e.component));var i=e.updateLabel||(Number.isNaN(+e.updateVal)?e.updateVal:Bn(e.updateVal,e.component));e.maxIncluded||(e.component.yMirrorMode?r="<".concat(r):i="<".concat(i));return{points:[t,n],values:{start:{text:r,value:e.startVal},end:{text:i,value:e.updateVal}}}}));Sn.y.length>0&&(xn.vOptions={rect:this.getRect(Sn.y[0].component,true).clone(),offset:this._offset.top,padding:Sn.y[0].component.getPadding(),dock:Sn.y[0].component.dock,shouldClip:"range.dimension"===this.getActiveMode()});Sn.x.length>0&&(xn.hOptions={rect:this.getRect(Sn.x[0].component,true).clone(),offset:this._offset.left,padding:Sn.x[0].component.getPadding(),dock:Sn.x[0].component.dock,shouldClip:"range.dimension"===this.getActiveMode()});if(!xn.rangeSelectIsVisible){this.handler.container.append(bn);bn.show();xn.rangeSelectIsVisible=true}xn.$digest()}},{key:"initWatchers",value:function e(){if(!this._rangeEventWatchers){var t=this;this._rangeEventWatchers=[];this._rangeEventWatchers.push(xn.$on("rangeStart",(function(){t.resetSelectedShapes();t._shapes=t._previousShapes;t._clearPrev=true})));this._rangeEventWatchers.push(xn.$on("rangeUpdate",(function(e,n,r,i,a,o){Cn=n[0];t.components[r].indexOf(t.activeComponent)<0&&t.setActiveComponent(t.components[r][0]);var s=Sn[r][i];_n.call(t,s,n[1],a,o);t._clearPrev=false})));this._rangeEventWatchers.push(xn.$on("rangeEditChanged",(function(e,n){t._nrEditing=n?t._nrEditing+1:t._nrEditing-1;if(t._nrEditing>1){t.confirmEdit();t._nrEditing=1;e.targetScope.onEditBubble()}t._editing=t._nrEditing>0})));this._rangeEventWatchers.push(xn.$on("rangeEnd",(function(){t.end();t._clearPrev=false})));this._rangeEventWatchers.push(xn.$on("rangeToggle",(function(e,n,r){t.toggle(n,r)})))}}},{key:"start",value:function e(t,n){if(this.handler._disableSelections)return true;this.resetSelectedShapes();this.refreshContainer();this.activeComponent.isDiscrete&&this.activeComponent.isDiscrete()?this.checkActiveMode(["range.discrete","item"]):this.activeComponent.isDimension?this.checkActiveMode(["range.dimension"]):this.checkActiveMode(["range.measure"]);var r=this.getComponentKey(this.activeComponent);if("x"!==r&&"y"!==r)return;this.currentRange=Mn(r,this.activeComponent,"range.dimension"===this.getActiveMode());this.initWatchers();Cn=this.getTransformedPoint(n.x,n.y);return}},{key:"update",value:function e(t,n){if(this.handler._disableSelections)return true;_n.call(this,this.currentRange,this.getTransformedPoint(n.x,n.y),false);return}},{key:"updateShapesState",value:function e(){var t=this.getComponentKey(this.activeComponent);var n=Rn(t,0,this.activeComponent);var r=this.getActiveMode();var i=this.ToggleFlag.select;var a=[];var o=this.toggleSelection;this.clearSelection(true);if(this.activeComponent.isDiscrete&&!this.activeComponent.isDiscrete()){a=this.shapesFromRange(n.startVal,n.updateVal);a.forEach((function(e){e.selectionMode=r}));o.call(this,a,i)}this._shapes=a}},{key:"updateRangeProjection",value:function e(){var t=this.components.dataArea[0].rect;Sn.x.forEach((function(e){var n=e.component.getPositionOfValue(e.startVal);var r=e.component.getPositionOfValue(e.updateVal);var i=Math.min(n,r);var a=Math.max(n,r);var o=0;var s=t.height;e.rect.set(i,o,a-i,s-o)}));Sn.y.forEach((function(e){var n=e.component.getPositionOfValue(e.startVal);var r=e.component.getPositionOfValue(e.updateVal);var i=0;var a=t.width;var o=Math.max(n,r);var s=Math.min(n,r);e.rect.set(i,s,a-i,o-s)}))}},{key:"end",value:function e(){if(this.handler._disableSelections)return true;this.currentRange=null;if("range.dimension"===this.getActiveMode()){var t=this.getComponentKey(this.activeComponent);Nn(t,this.activeComponent.yMirrorMode);this.updateRangeProjection()}this.updateRangeDisplay();this.selectRange();this._previousShapes=this._shapes;this._shapes=null;return}},{key:"cancel",value:function e(){if(this.handler._disableSelections)return true;this._nrEditing=0;this._editing=false;var t=this.getActiveMode();"range.discrete"===t&&this.setActiveMode("item");this._shapes=null;Ln.call(this);return}},{key:"clearSelection",value:function e(t){t=t||false;this._shapes=null;if(t)on(hn(n.prototype),"clearSelection",this).call(this);else{on(hn(n.prototype),"clearSelection",this).call(this);Ln.call(this)}}},{key:"selectRange",value:function e(){var t=this.handler.SelectRange;var n=[];var r=false;if(!this.activeComponent)return;if("range.discrete"===this.getActiveMode()){var i=this._previousSelectedShapes;var a=this.getSelectedShapes().concat();i.forEach((function(e){var t=a.indexOf(e);-1===t&&a.push(e)}));a.length>0&&this.handler.Select.emit(a);return}Sn.x.concat(Sn.y).forEach((function(e){e.component.getType().current.forEach((function(t){n.push({idx:t,type:e.component.getType().type,range:jn(e.startVal,e.updateVal,e.maxIncluded)})}))}));r=!On.call(this);this._editing||t.emit(n,r)}},{key:"on",value:function e(){if(!vn){var t=l["default"].getService("$compile");var n=l["default"].getService("$rootScope");xn=n.$new();yn.className="selections-range-ui";bn.append(wn);bn.hide();t(yn)(xn);vn=true;xn.rangeSelectIsVisible=false}xn.$broadcast("on")}},{key:"off",value:function e(){if(!this.activeComponent)return;xn.$broadcast("off");this.setActiveComponent(null);Ln.call(this)}}]);return n}(Ke);Hn.defaultOptions={toggle:{callback:null}};var zn=Hn;function $n(e){$n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return $n(e)}function Un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Wn(e,t,n){t&&Gn(e.prototype,t);n&&Gn(e,n);return e}function Qn(e,t,n){Qn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=Kn(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return Qn(e,t,n||e)}function Kn(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=nr(e);if(null===e)break}return e}function Yn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Jn(e,t)}function Jn(e,t){Jn=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Jn(e,t)}function Zn(e){var t=tr();return function n(){var r=nr(e),i;if(t){var a=nr(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Xn(this,i)}}function Xn(e,t){if(t&&("object"===$n(t)||"function"===typeof t))return t;return er(e)}function er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tr(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function nr(e){nr=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return nr(e)}function rr(e,t){var n=t[0];var r=false;for(var i=0;i<e.length;i++){var a=e[i];if(a.startVal===n.startVal&&a.updateVal===n.updateVal){e.splice(i,1);i--;r=true}}r||(e=e.concat(t));return e}var ir=function(e){Yn(n,e);var t=Zn(n);function n(e,r){var i;Un(this,n);i=t.call(this,e,r);i.internal=true;return i}Wn(n,[{key:"release",value:function e(){}},{key:"initComponent",value:function e(t,n){document.activeElement&&document.activeElement.blur();if(n)this.setActiveComponent(n);else{this.handler.refreshContainerRect();this.setActiveComponent(this.getComponent(t.x,t.y,this.handler.containerRect))}}},{key:"getRect",value:function e(t){if(!t)return new u["a"](0,0,0,0);if(t.hasOwnProperty("innerRect"))return t.innerRect;return t.rect}},{key:"setComponent",value:function e(t,r){Qn(nr(n.prototype),"setComponent",this).call(this,t,r);var i=Array.isArray(r)?r.concat():[r];i.forEach((function(e){e.selections=this;this.handler._isListening&&r.on()}),this)}},{key:"addComponent",value:function e(t,r){Qn(nr(n.prototype),"addComponent",this).call(this,t,r);r.selections=this;this.handler._isListening&&r.on()}},{key:"removeComponent",value:function e(t,r){Qn(nr(n.prototype),"removeComponent",this).call(this,t,r);r.selections=null;r.off()}},{key:"updateFromItems",value:function e(t,n,r,i){var a=this.handler;var o=this;if(!a.canTypeBeActivated(this)){a.SelectWhileLocked.emit(r?this.activeComponent.getAttributeDimensionInfo():void 0);return}this.resetSelectedShapes();this.setActiveMode(r?"item".concat(this.activeComponent.getColorMap().getColorDataInfo().legendPath.replace(/\//g,".")):"item");a.activate(this);r&&a.SelectAttributeDim.emit(i,a.getKeyAsToggleSelected(t));n=n.filter((function(e){return o._allowNullSelect||!o.shapesFrom._isNull(e,o.activeComponent.getSelectionIndices())}));if(n.length){var s=this.options.toggle.callback||this.toggleSelection;s.call(this,n);r||a.Select.emit(this.getSelectedShapes(),a.getKeyAsToggleSelected(t))}}},{key:"rangeStart",value:function e(t){var n=this.handler;if(!n.canTypeBeActivated(this)){n.SelectWhileLocked.emit();return}this.setActiveMode("range.measure");n.activate(this);t&&this.resetSelectedShapes()}},{key:"rangeUpdate",value:function e(t,n){var r=this.handler;if(!r.canTypeBeActivated(this)){r.SelectWhileLocked.emit();return}var i=this.options.toggle.callback||this.toggleSelection;var a=[];var o;var s=this.ToggleFlag.select;this.clearSelection(true);this._rangeObjects&&n&&(t=rr(this._rangeObjects,t));for(o=0;o<t.length;o++){var l=t[o];a=a.concat(this.shapesFromRange(l.startVal,l.updateVal,true,l.isMax))}a.forEach((function(e){e.selectionMode="range.measure"}));i.call(this,a,s);this._rangeObjects=t;this._shapes=a}},{key:"rangeEnd",value:function e(){this.selectRange();this._shapes=null}},{key:"toggle",value:function e(){}},{key:"cancel",value:function e(){this._rangeObjects=null;this.activeComponent.cancelSelection()}},{key:"clearSelection",value:function e(t){Qn(nr(n.prototype),"clearSelection",this).call(this);if(!t){this._rangeObjects=null;this.activeComponent.clearSelection()}}},{key:"selectRange",value:function e(){var t=this.handler.SelectRange;var n;var r;var i=[];if(!this._rangeObjects)return;for(n=0;n<this._rangeObjects.length;n++){r=this._rangeObjects[n];i.push({idx:r.idx||0,range:{min:Math.min(r.startVal,r.updateVal),max:Math.max(r.startVal,r.updateVal),maxInclEq:!!r.isMax}})}t.emit(i,true)}}]);return n}(Ke);ir.defaultOptions={};var ar=ir;function or(e){or="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return or(e)}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function cr(e,t,n){t&&lr(e.prototype,t);n&&lr(e,n);return e}function ur(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&dr(e,t)}function dr(e,t){dr=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return dr(e,t)}function fr(e){var t=vr();return function n(){var r=mr(e),i;if(t){var a=mr(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return pr(this,i)}}function pr(e,t){if(t&&("object"===or(t)||"function"===typeof t))return t;return hr(e)}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function mr(e){mr=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return mr(e)}var gr=function(e){ur(n,e);var t=fr(n);function n(){sr(this,n);return t.apply(this,arguments)}cr(n,[{key:"setIsEditing",value:function e(t,n){this._editing=t;this._scope=n}},{key:"getIsEditing",value:function e(){return this._editing}},{key:"confirmEdit",value:function e(){this._scope.$broadcast("confirmEdit")}},{key:"selectWhileLocked",value:function e(t){this.handler.SelectWhileLocked.emit(t)}}]);return n}(ar);gr.defaultOptions={captureInput:true,toggle:{callback:null}};var br=gr;function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Sr(e,t,n){t&&wr(e.prototype,t);n&&wr(e,n);return e}var xr;var Cr={dataArea:Nt,range:zn,colorLegend:br};function qr(e){Object.keys(e).forEach((function(t){t in Cr&&(this.types[t]=new Cr[t](this,s.a.extend(true,{},Cr[t].defaultOptions,e[t])))}),this)}function Er(e,t){var n;for(n=0;n<t.length;n++)if(e.includes(t[n]))return true;for(n=0;n<e.length;n++)if(t.includes(e[n]))return true;return false}function Ir(e){var t=et["a"].getValue(e,"activeComponent.backendApi",{});var n=t.getDimensionInfos&&t.getDimensionInfos()||[];var r=n.length-1;var i=et["a"].getValue(n,"".concat(r,".qIsOneAndOnlyOne"),false);r>0&&i&&et["a"].getValue(n,"".concat(r,".qCardinalities.qHypercubeCardinal"))>1&&(i=false);return i}var kr=function(){function e(t,n,r){yr(this,e);Le["a"].mixin(this);this.notification("Activated");this.notification("Deactivated");this.notification("ToggleShape");this.notification("ToggleShapes");this.notification("SelectWhileLocked");this.notification("SelectWhileSingleSelect");this.notification("Lasso");this.notification("Confirm");this.notification("Cancel");this.notification("Select");this.notification("SelectRange");this.notification("SelectAttributeDim");this.notification("Clear");this.notification("ResetSelections");this.notification("UpdateRanges");this._active=false;this._autoActivated=false;this._isListening=false;this._isScrolling=false;this._isLocked=false;this._shiftPressed=false;this._lassoEnabled=false;this._allowLasso=true;this._enabled=true;this.container=t;this.options=s.a.extend(true,{},{toggle:true,toggleRect:true,swipe:true,ctrlKeyAsToggleSelected:false},n);this.cache=r;this.containerRect=new u["a"](0,0,0,0);this.types={};this._keyboard=true;qr.call(this,this.options)}Sr(e,[{key:"setContainer",value:function e(t){this.off();this.container=t;this.on()}},{key:"refreshContainerRect",value:function e(){this.offset=this.container.offset();var t=this.offset;var n=this.container.width();var r=this.container.height();this.containerRect.set(t.left,t.top,n,r)}},{key:"canTypeBeActivated",value:function e(t){return!(t&&t.activeComponent&&"function"===typeof t.activeComponent.isSelectionLocked?t.activeComponent.isSelectionLocked():this._isLocked)}},{key:"on",value:function e(){if(this._isListening)return;this._isListening=true;var t=this;var n=this.options;var r;this._reset=function(){r=null};this.getActiveType=function(){return t._activeType};this.getActiveMode=function(){return t._activeType?t._activeType.getActiveMode():null};function i(){if(t._activeType&&t._activeType!==r){var e=t._activeType.getActiveDimensions();if(t._activeType.getActiveMode()!==r.getActiveMode()||!Er(e,r.getActiveDimensions())){t._activeType.clearSelection();t.ResetSelections.emit()}t._activeType.cancel()}t._activeType=r}function a(){i();n._disableSelectionActivation||t.activate()}function o(){return t._active}function s(){return r&&n.swipe}this._setTypeOnAutoActivate=function(){r=t.types.dataArea};this._activateType=function(e){r=e;i()};this._mouseUp=function(e){1===e.which&&(!t._shiftPressed&&t._drawingWithShift||t._shiftPressed&&t._drawingWithoutShift)&&t.Lasso.emit(!t.lassoEnabled)};this._shiftToggle=function(e){t._shiftPressed=e;if(!t._allowLasso||!t._keyboard||t._drawingWithShift||t._drawingWithoutShift)return;t._active&&t.Lasso.emit(!t.lassoEnabled)};this._keyPressed=function(e){if(!t._keyboard)return;if(!o())return;27===e?t.cancel():13===e&&(r&&r.getIsEditing&&r.getIsEditing()?r.confirmEdit():t.confirm())};L["a"].ShiftToggle.bind(this._shiftToggle);L["a"].KeyPressed.bind(this._keyPressed);L["a"].MouseUp.bind(this._mouseUp);this.types.range&&this.types.range.on&&this.types.range.on();var l=false;var c;function u(e,n){xr=n;r=e;t.refreshContainerRect();r&&r.initComponent(n)}this._eventHandlers=O["a"].extend({preventDefault:false,tap:{start:function e(t,n,r){u(r,n.pagePoints[0]);document.activeElement&&document.activeElement.blur()},end:function e(i,o){if(!r||r.internal||!n.toggle)return;if(!t.canTypeBeActivated(r)){t.SelectWhileLocked.emit();return}a();L["a"].preventGestures(this);r.toggle.call(r,i,o.pagePoints[0]);r.getSelectedShapes().length>0&&t.Select.emit(r.getSelectedShapes(),t.getKeyAsToggleSelected(i))}},taptwo:{start:function e(){},end:function e(i,o,s){if(!n.toggleRect)return;u(s,o.pagePoints[0]);if(!r||!n.toggle)return;if(!t.canTypeBeActivated(r)){t.SelectWhileLocked.emit();return}a();r.toggleRect.call(r,i,o.pagePoints[0],o.pagePoints[1])}},exclusive:function e(){return t.lassoEnabled},active:function e(){return t._enabled||t._drawingWithShift||t._drawingWithoutShift}});this._swipeHandlers=O["a"].extend({preventDefault:true,swipe:{start:function e(i){if(!s()&&!n._enablePanning)return;t._shiftPressed&&!t._active&&t.allowLasso&&t.Lasso.emit(!t.lassoEnabled);if(!r||r.internal)return;t._drawingWithShift=t._shiftPressed;t._drawingWithoutShift=!t._shiftPressed;if(!t.lassoEnabled&&r.activeComponent&&r instanceof Nt)this._isPanning=true;else if(r.activeComponent){this._isPanning=false;l=true;c=this.options.useMomentum;this.options.useMomentum=false;if(!t.canTypeBeActivated(r)){t.SelectWhileLocked.emit();return}if(Ir(r)){t.SelectWhileSingleSelect.emit();return}a();r.start.call(r,i,xr)}},update:function e(i,a){if(!s()&&!n._enablePanning)return;if(!this._isPanning&&l&&r){if(!t.canTypeBeActivated(r)){t.SelectWhileLocked.emit();return}if(Ir(r)){t.SelectWhileSingleSelect.emit();return}r.update.call(r,i,a.pagePoints[0])}},end:function e(i,a){if(!s()&&!n._enablePanning)return;t._drawingWithShift=false;t._drawingWithoutShift=false;if(this._isPanning)this._isPanning=false;else if(l&&r){l=false;this.options.useMomentum=c;if(!t.canTypeBeActivated(r)){t.SelectWhileLocked.emit();return}if(Ir(r)){t.SelectWhileSingleSelect.emit();return}r.end.call(r,i,a)}},cancel:function e(){t._drawingWithShift=false;t._drawingWithoutShift=false;if(!r||!l)return;this.options.useMomentum=c;r.cancel.call(r,true)}},exclusive:function e(){return t.lassoEnabled},active:function e(n){return t._enabled&&(t.lassoEnabled||t._drawingWithShift||t._drawingWithoutShift||n instanceof zn)}});function d(e,n){L["a"].addInteraction(t._eventHandlers,e.container,1,["tap","taptwo"],n)}function f(e,n){L["a"].addInteraction(t._swipeHandlers,e.container,1,["swipe"],n)}function p(e){L["a"].removeInteraction(t._swipeHandlers,e.container)}this.registerAddedComponent=function(e,t){if(!e.internal&&!(e instanceof zn&&"dataArea"===t.selectionIdentifier)){d(t,e);e instanceof zn&&f(t,e)}};this.deregisterAddedComponent=function(e,n){if(!e.internal&&!(e instanceof zn&&"dataArea"===n.selectionIdentifier)){L["a"].removeInteraction(t._eventHandlers,n.container);L["a"].removeInteraction(t._swipeHandlers,n.container)}};this.registerLasso=function(){var e=this.types.dataArea;Object.keys(e.components).map((function(t){return e.components[t]})).forEach((function(t){t.forEach((function(t){f(t,e)}))}))};this.deregisterLasso=function(){var e=this.types.dataArea;Object.keys(e.components).map((function(t){return e.components[t]})).forEach((function(e){e.forEach((function(e){p(e)}))}))};Object.keys(this.types).map((function(e){return this.types[e]}),this).forEach((function(e){return Object.keys(e.components).map((function(t){return e.components[t]})).forEach((function(n){n.forEach((function(n){t.registerAddedComponent(e,n)}))}))}))}},{key:"register",value:function e(t,n){this.registerAddedComponent&&this.registerAddedComponent(t,n)}},{key:"deregister",value:function e(t,n){this.deregisterAddedComponent&&this.deregisterAddedComponent(t,n)}},{key:"off",value:function e(){L["a"].ShiftToggle.unbind(this._shiftToggle);L["a"].KeyPressed.unbind(this._keyPressed);L["a"].MouseUp.unbind(this._mouseUp);L["a"].removeInteraction(this._eventHandlers);L["a"].removeInteraction(this._swipeHandlers);this.types.range&&this.types.range.off&&this.types.range.off();this._isListening=false;this.registerAddedComponent=null;this.deregisterAddedComponent=null;this.registerLasso=null;this.deregisterLasso=null}},{key:"autoActivate",value:function e(){if(this._autoActivated||!this._isListening)return;this._autoActivated=true;this._setTypeOnAutoActivate();this._activeType=this.types.dataArea;this._activeType.initComponent();this.activate()}},{key:"activate",value:function e(t){if(!this._active){this.Activated.emit();this._active=true;this._shiftPressed&&!this.lassoEnabled&&this.Lasso.emit(true)}t&&this._activateType(t)}},{key:"deactivate",value:function e(t){if(this._active){this._active=false;this._autoActivated=false;t||this.clearSelection();if(this._activeType){this._activeType.cancel();this._activeType=void 0}this.Deactivated.emit();this._reset()}}},{key:"confirm",value:function e(){this._activeType&&this.deactivate(true);this.Confirm.emit()}},{key:"cancel",value:function e(){this.deactivate();this.Cancel.emit()}},{key:"clearSelection",value:function e(){this._activeType&&this._activeType.clearSelection()}},{key:"toggleKeyboardAccelerators",value:function e(t){this._keyboard=t}},{key:"getKeyAsToggleSelected",value:function e(t){return!(t.metaKey||t.ctrlKey)}},{key:"release",value:function e(){this.off();Le["a"].release(this);Object.keys(this.types).forEach((function(e){this.types[e].release()}),this)}},{key:"setLocked",value:function e(t){this._isLocked=t}}]);return e}();Object.defineProperties(kr.prototype,{allowLasso:{set:function e(t){this._allowLasso=t},get:function e(){return this._allowLasso}},lassoEnabled:{set:function e(t){this._lassoEnabled=t&&this.allowLasso;this._lassoEnabled&&this.registerLasso&&this.registerLasso();!this._lassoEnabled&&this.deregisterLasso&&this.deregisterLasso()},get:function e(){return this._lassoEnabled}},enabled:{set:function e(t){this._enabled=t},get:function e(){return this._enabled}}});var Ar=kr;var Tr={createSelections:function e(t,n,r,i){var a;if(!r||!r.dataArea)return;r.range&&(r.range.rtl="rtl"===t.options.direction);r.isPopover=t.options.isPopover;r.selectionsDisabled=t.options.selectionsDisabled||false;a=new Ar(n,r,i);a.Activated.bind((function(){t.selectionsApi.activated()}));a.Deactivated.bind((function(){t.selectionsApi.deactivateSearch&&t.selectionsApi.deactivateSearch()}));a.Cancel.bind((function(){t.selectionsApi.cancel()}));a.Select.bind((function(){t.selectionsApi.selectionsMade=true}));a.SelectRange.bind((function(){t.selectionsApi.selectionsMade=true}));a.SelectAttributeDim.bind((function(){t.selectionsApi.selectionsMade=true}));a.Confirm.bind((function(){t.backendApi.endSelections(true);t.selectionsApi.deactivated()}));a.ResetSelections.bind((function(){t.backendApi.clearSelections()}));t.selectionsApi.confirm=function(){a&&a.confirm()};var o=t.selectionsApi.deactivated.bind(t.selectionsApi);t.selectionsApi.deactivated=function(){a&&a.deactivate();o()};t.selectionsApi.deactivate=function(){if(a){a.deactivate();this.deactivated()}};t.selectionsApi.clear=function(){a.clearSelection();t.backendApi.clearSelections();t.tooltipApi.cancel();t.selectionsApi.selectionsMade=false};t.selectionsApi.toggleKeyboardAccelerators=function(e){a.toggleKeyboardAccelerators(e)};t.selectionsApi.getKeyAsToggleSelected=function(e){return a.getKeyAsToggleSelected(e)};t.selectionsApi.toggleSearch=function(){t.options.search.toggle()};t.selectionsApi.activate=function(){a.autoActivate()};t.selectionsApi.on=function(){a.on()};t.selectionsApi.off=function(){a.off()};t.$on("$destroy",(function(){if(a){a.release();a=null}}));return a}};function Dr(e,t,n,r){Te["a"].begin();return e.updateData(n.layout).then((function(){if(!t.isDestroyed&&r.visible){var i=e.$element;n.ext.hasDefaultTemplate()&&(i=i.children().first());return e.paint(i,n.layout)}return a["a"].resolve()})).finally(Te["a"].end).catch((function(e){false;Oe["a"].trackEvent(Oe["a"].customEvents.EXTENSION_PAINT_ERROR,{message:"string"===typeof e?e:e.message,stack:e.stack,extension:n.object&&n.object.type?n.object.type.type:"undefined",isThirdParty:n.object&&n.object.type&&n.object.type.libraryInfo.isThirdParty})}))}var Or=r["a"].extend({$scope:null,$element:null,api:null,view:null,_create:function e(t,n,r,a,o,s,l,c){a.navigation=false!==a.navigation;var u=this._createView(t,n,r,a,s,l,c);var d=new ke;if(o.selections){var f=i["a"].extend(true,{},o.selections,a.selections||{});false!==a.selections&&true!==a._disableSelections&&this._createSelections(u,t,n,f,d)}o.tooltips&&false!==a.tooltips&&this._createTooltip(u,t,n,i["a"].extend(true,{},o.tooltips,a.tooltips||{}),d,a.cssTransform,c);return u},_createView:function e(t,n,r,i,a,o,s){return new r(t,n,i,a,o,s)},_createSelections:function e(t,n,r,i,a){var o=Tr.createSelections(n,r,i,a);t.setSelections(o);return o},_createTooltip:function e(t,n,r,i,a,o,s){var l;var c=n.layout.visualization||(null===(l=n.layout.qInfo)||void 0===l?void 0:l.qType)||null;var u=new Ce(r,i,a,c);u.setCssTransform(o);s.cancel=function(){u.cancel()};t.setTooltips(u)},init:function e(t,n){this.$scope=t;this.$element=n;var r=this;var i=this._create(t,n,t.ext.View,t.options,t.ext.options,t.backendApi,t.selectionsApi,t.tooltipApi);this.view=i;i.initialize();this._handleSpecialCaseForSyntaxSugarInExtension(i);i.mounted(n);t.$on("$destroy",(function(){if(i){i.beforeDestroy();i.destroy(i);t.options=null;r.view=null;r.isDestroyed=true;i=null}}))},_handleSpecialCaseForSyntaxSugarInExtension:function e(t){var n=this.$scope.object.ext;var r=["View","constructor","options","init"];var i;for(i in n){if(-1!==r.indexOf(i))continue;t[i]&&(t[i]=n[i])}},onPaint:function e(t,n){this._paintCalled=true;var r=this.view;var i=this.$scope;var o=this;var s=i.object&&i.object.model;if(!r||r.suppressOnPaint(i.layout)||!s)return a["a"].resolve();Ae["a"].isModalSelectionModel(s)&&r.selectionsApi&&r.selectionsApi.confirm();r.refreshSelections();r.prePaint(i.layout);if(i.ext.options&&i.ext.options.usingDerivedProperties&&!i.backendApi.isSnapshot)return s.getEffectiveProperties().then((function(e){return r.updateDerivedProperties(e,i.layout).then((function(e){if(e)return a["a"].resolve(false);return Dr.call(this,r,o,i,n)}))})).catch((function(e){false}));return Dr.call(this,r,o,i,n)},onResize:function e(t,n){if(!this._paintCalled)return a["a"].resolve();var r=this.view;var i=this.$scope;r.refreshSelections();return a["a"].resolve().then((function(){var e=r.$element;i.ext.hasDefaultTemplate()&&(e=e.children().first());return r.resize(e,t,n)})).catch((function(e){false}))},setInteractionState:function e(t){this.view&&this.view.setInteractionState(t)},setFreeResize:function e(t){this.view&&this.view.setFreeResize(t)},setDirection:function e(t){this.view&&this.view.setDirection(t)},setBackendApi:function e(t){this.view.setBackendApi(t)},setSnapshotData:function e(t,n){return this.view.setSnapshotData(t,n)},getContextMenu:function e(t,n,r){return this.view.getContextMenu(t,n,r)},getSelectionToolbar:function e(){var t=this.view.getSelectionToolbar();if(Array.isArray(t))return new De["a"](this.$scope.backendApi,this.$scope.selectionsApi,false,false,t,[]);return t},getViewState:function e(){return this.view.getViewState()},getPreferredSize:function e(){return this.view.getPreferredSize()}});Or.$inject=["$scope","$element"];var Lr=t["a"]=Or},Hb6E:function(e,t,n){"use strict";var r={Precedents:{PrecedentTypes:{Like:"like",Dislike:"dislike"}},Fields:{Dimension:"dimension",Measure:"measure",MasterItemDimension:"Master item dimension",MasterItemMeasure:"Master item measure"},Visualization:{ChartTypes:{Custom:"custom",Kpi:"kpi",Gauge:"gauge",BarChart:"barchart",ValueRange:"ValueRange",Table:"table",Mapping:"Mapping"},CustomVisualizations:{CountFact:"countFact",Ordinal:"Ordinal",NullFacts:"nullFacts",RangeFacts:"rangeFacts",UniValueFrequency:"uniValueFrequency",DTypeFacts:"dTypeFacts",ValueFrequency:"valueFrequency",TemporalFacts:"temporalFacts",MixedTypeValues:"mixedTypeValues"},Actions:{Bucketing:"bucket",Ordinal:"ordinal",SplitValuesDef:"splitValuesDef",SplitValues:"splitValues",SplitEmail:"splitEmail",SplitAddress:"splitAddress",SplitField:"splitField",MapValues:"mapValues",MixedTypeValues:"mixedTypeValues",RenameMapping:"rename",MapNulls:"mapNulls",MappingLimit:99,SplitLimit:9},Size:{Auto:"auto",Small:"small",Medium:"medium",Large:"large"},Layout:{Cellspan:{Small:1,Medium:2,Large:3}},ValueRangeDisplayModes:{Text:"text",RangeLine:"rangeLine"}},Events:{Associations:{ApplyRecommendation:"ApplyRecommendation",ToggleAssociationsRecommendationsPanel:"ToggleAssociationsRecommendationsPanel",UpdateAssociationsRecommendationsToolbarButtonState:"UpdateAssociationsRecommendationsToolbarButtonState"},TablePreview:{UpdateTablePreview:"UpdateTablePreview"},SplitAction:{Reset:"SpitActionReset",Validate:"SpitActionValidate",LoadComplete:"CardLoadComplete"},EditorDetailsPane:{CardsResize:"cardsResize",ResizeChart:"resizeChart",BucketingChange:"bucketingChange",BucketingReset:"bucketingReset",OrderingChange:"orderingChange",FieldCreated:"fieldCreated",MappingCreated:"MappingCreated",MappingReset:"MappingReset",DisableMappingActionButtons:"DisableMappingActionButtons"},PubSub:{ForceReloadComplete:"/datamanager/forcereloadcomplete",StartSpinInvalidation:"/spin/start/invalidation",StopSpinInvalidation:"/spin/stop/invalidation",StartSpin:"/spin/start",StopSpin:"/spin/stop",ConnectionDeleted:"/connection/deleted",ConnectionCreated:"/connection/created",AppDetailsViewChange:"/datamanager/appdetailsviewchange",ExpandSmartSearchSuggestedChart:"expandSmartSearchSuggestedChart",RestoreSearchState:"restoreSearchState",ShowAssocationsGuide:"ShowAssociationsGuide",StartLoadData:"StartLoadData",DisableSubToolbarButtons:"/data-manager/disable-sub-toolbar-buttons",DisableOpenForceConcat:"/data-manager/disable-open-force-concat",DisableTransformationsPopover:"/data-manager/disable-transformations-popover",OpenSubToolbarConcatJoin:"/data-manager/open-concat-join"}},KeyCodes:{Enter:13,Esc:27,Up:38,Down:40,Tab:9,SpaceBar:32,Delete:8,ArrowRight:39,ArrowLeft:37,Shift:16},AddData:{Folder:"folder",InlineData:"inlinedata",QixDataFiles:"qix-datafiles.exe"},Tags:{Hidden:"$hidden"},JoinTables:{joinTypes:{join:"Join",innerJoin:"Inner Join",outerJoin:"Outer Join",leftJoin:"Left Join",rightJoin:"Right Join"}},Concatenate:"Concatenate",Toolbar:{height:42},Storage:{ASSOCIATIONS_GUIDE_STORAGE_KEY:"datamanager.associationsguidehidden",LOAD_DATA_WARNING_KEY:"datamanager.loaddatawarning"},Help:{ASSOCIATIONS:"datamanager-associations"}};t["a"]=r},HtTR:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("mXGw");var i=n.n(r);function a(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function s(e,t){return f(e)||d(e,t)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function f(e){if(Array.isArray(e))return e}var p;function h(e){var t=Object(r["useState"])(false),n=s(t,2),i=n[0],a=n[1];var l=Object(r["useState"])(null),c=s(l,2),u=c[0],d=c[1];Object(r["useEffect"])((function(){var t=true;function n(){return r.apply(this,arguments)}function r(){r=o(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function n(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;p=p||e.allowCreateApp();i.next=4;return p;case 4:r=i.sent;if(t){d(null);a(r)}i.next=11;break;case 8:i.prev=8;i.t0=i["catch"](0);if(t){d(i.t0);a(false)}case 11:case"end":return i.stop()}}),n,null,[[0,8]])})));return r.apply(this,arguments)}e&&n();return function(){t=false}}),[e]);return[i,u]}function v(){false;throw new Error("This funcion is intended to be used in a testing environment only.")}},Htnf:function(e,t,n){"use strict";var r={};t["a"]={add:function e(t){r[t]=true},remove:function e(t){delete r[t]},inQueue:function e(t){return r[t]||false}}},HvSb:function(e,t,n){"use strict";var r=n("i9Gt");var i=n("6CzD");var a="";var o="";var s="";var l="";var c=r["a"]&&"ontouchstart"in document.documentElement;if(r["a"]){var u={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"};var d=document.createElement("p"),f=d.style;var p="Transform";for(var h in u)if(h+p in f){a=h;o=u[h];break}if("Webkit"===a&&"msHyphens"in f){a="ms";o=u.ms;l="edge"}"Webkit"===a&&"-apple-trailing-word"in f&&(s="apple")}var v={js:a,css:o,vendor:s,browser:l,isTouch:c};function m(e){if("-"===e[1])return e;if("ms"===v.js)return e;return"@"+v.css+"keyframes"+e.substr(10)}var g={noPrefill:["appearance"],supportedProperty:function e(t){if("appearance"!==t)return false;if("ms"===v.js)return"-webkit-"+t;return v.css+t}};var b={noPrefill:["color-adjust"],supportedProperty:function e(t){if("color-adjust"!==t)return false;if("Webkit"===v.js)return v.css+"print-"+t;return t}};var y=/[-\s]+(.)?/g;function w(e,t){return t?t.toUpperCase():""}function S(e){return e.replace(y,w)}function x(e){return S("-"+e)}var C={noPrefill:["mask"],supportedProperty:function e(t,n){if(!/^mask/.test(t))return false;if("Webkit"===v.js){var r="mask-image";if(S(r)in n)return t;if(v.js+x(r)in n)return v.css+t}return t}};var q={noPrefill:["text-orientation"],supportedProperty:function e(t){if("text-orientation"!==t)return false;if("apple"===v.vendor&&!v.isTouch)return v.css+t;return t}};var E={noPrefill:["transform"],supportedProperty:function e(t,n,r){if("transform"!==t)return false;if(r.transform)return t;return v.css+t}};var I={noPrefill:["transition"],supportedProperty:function e(t,n,r){if("transition"!==t)return false;if(r.transition)return t;return v.css+t}};var k={noPrefill:["writing-mode"],supportedProperty:function e(t){if("writing-mode"!==t)return false;if("Webkit"===v.js||"ms"===v.js&&"edge"!==v.browser)return v.css+t;return t}};var A={noPrefill:["user-select"],supportedProperty:function e(t){if("user-select"!==t)return false;if("Moz"===v.js||"ms"===v.js||"apple"===v.vendor)return v.css+t;return t}};var T={supportedProperty:function e(t,n){if(!/^break-/.test(t))return false;if("Webkit"===v.js){var r="WebkitColumn"+x(t);return r in n&&v.css+"column-"+t}if("Moz"===v.js){var i="page"+x(t);return i in n&&"page-"+t}return false}};var D={supportedProperty:function e(t,n){if(!/^(border|margin|padding)-inline/.test(t))return false;if("Moz"===v.js)return t;var r=t.replace("-inline","");return v.js+x(r)in n&&v.css+r}};var O={supportedProperty:function e(t,n){return S(t)in n&&t}};var L={supportedProperty:function e(t,n){var r=x(t);if("-"===t[0])return t;if("-"===t[0]&&"-"===t[1])return t;if(v.js+r in n)return v.css+t;if("Webkit"!==v.js&&"Webkit"+r in n)return"-webkit-"+t;return false}};var M={supportedProperty:function e(t){if("scroll-snap"!==t.substring(0,11))return false;if("ms"===v.js)return""+v.css+t;return t}};var P={supportedProperty:function e(t){if("overscroll-behavior"!==t)return false;if("ms"===v.js)return v.css+"scroll-chaining";return t}};var N={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"};var R={supportedProperty:function e(t,n){var r=N[t];if(!r)return false;return v.js+x(r)in n&&v.css+r}};var F={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"};var _=Object.keys(F);var j=function e(t){return v.css+t};var B={supportedProperty:function e(t,n,r){var i=r.multiple;if(_.indexOf(t)>-1){var a=F[t];if(!Array.isArray(a))return v.js+x(a)in n&&v.css+a;if(!i)return false;for(var o=0;o<a.length;o++)if(!(v.js+x(a[0])in n))return false;return a.map(j)}return false}};var V=[g,b,C,q,E,I,k,A,T,D,O,L,M,P,R,B];var H=V.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty}));var z=V.filter((function(e){return e.noPrefill})).reduce((function(e,t){e.push.apply(e,Object(i["a"])(t.noPrefill));return e}),[]);var $;var U={};if(r["a"]){$=document.createElement("p");var G=window.getComputedStyle(document.documentElement,"");for(var W in G)isNaN(W)||(U[G[W]]=G[W]);z.forEach((function(e){return delete U[e]}))}function Q(e,t){void 0===t&&(t={});if(!$)return e;if(true,null!=U[e])return U[e];"transition"!==e&&"transform"!==e||(t[e]=e in $.style);for(var n=0;n<H.length;n++){U[e]=H[n](e,$.style,t);if(U[e])break}try{$.style[e]=""}catch(e){return false}return U[e]}var K={};var Y={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1};var J=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;var Z;function X(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Q(t):", "+Q(n);if(!r)return t||n;return r}r["a"]&&(Z=document.createElement("p"));function ee(e,t){var n=t;if(!Z||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(true,null!=K[r])return K[r];try{Z.style[e]=n}catch(e){K[r]=false;return false}if(Y[e])n=n.replace(J,X);else if(""===Z.style[e]){n=v.css+n;"-ms-flex"===n&&(Z.style[e]="-ms-flexbox");Z.style[e]=n;if(""===Z.style[e]){K[r]=false;return false}}Z.style[e]="";K[r]=n;return K[r]}var te=n("iBBK");function ne(){function e(e){if("keyframes"===e.type){var t=e;t.at=m(t.at)}}function t(e){for(var n in e){var r=e[n];if("fallbacks"===n&&Array.isArray(r)){e[n]=r.map(t);continue}var i=false;var a=Q(n);a&&a!==n&&(i=true);var o=false;var s=ee(a,Object(te["g"])(r));s&&s!==r&&(o=true);if(i||o){i&&delete e[n];e[a||n]=s||r}}return e}function n(e,n){if("style"!==n.type)return e;return t(e)}function r(e,t){return ee(t,Object(te["g"])(e))||e}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}var re=t["a"]=ne},HvrF:function(e,t,n){"use strict";var r=n("wIyQ");var i=n("mWu2");var a='<div class="dimmer-cont">\n\t<div class="dimmer-scroll" ng-class="{\'top\': dimmer.top, \'bottom\': dimmer.bottom}">{{ content }}</div>\n</div>';i["default"].directive("qvDimmerOnScroll",[function(){return{restrict:"A",replace:true,scope:{content:"="},template:a,controller:["$scope",function(e){e.dimmer={top:false,bottom:false}}]}}]);i["default"].directive("dimmerScroll",["$timeout",function(e){return{restrict:"C",link:function t(n,i){function a(){var e=i.scrollTop();var t=i[0].getBoundingClientRect().height;var r=i[0].scrollHeight;n.dimmer.top=0!==e;n.dimmer.bottom=e+t<r}function o(){e(a)}var s=n.$watch("content",(function(e){"undefined"!==typeof e&&o()}));i.on("scroll",(function(){o()}));r["a"].on("end.dimmerscroll",o);n.$on("$destroy",(function(){r["a"].off("end.dimmerscroll",o);i.off();s()}))}}}])},"I+mr":function(e,t,n){"use strict";var r=n("4nJ1");function i(e,t){t=t?"".concat(t,"."):"";return r["a"].getValue(e,"".concat(t,"qHyperCube.qDimensionInfo.length"))>1}function a(e,t){t=t?"".concat(t,"."):"";return r["a"].getValue(e,"".concat(t,"qHyperCube.qMeasureInfo.length"))>1}function o(e,t){if(!i(e,t))return 1;return l(e,t)}function s(e,t){t=t?"".concat(t,"."):"";return r["a"].getValue(e,"".concat(t,"qHyperCube.qSize.qcy"))}function l(e,t){t=t?"".concat(t,"."):"";if(r["a"].getValue(e,"".concat(t,"qHyperCube.qStackedDataPages.0.qData.length")))return r["a"].getValue(e,"".concat(t,"qHyperCube.qStackedDataPages.0.qData.0.qSubNodes.length"),0)+r["a"].getValue(e,"".concat(t,"qHyperCube.qStackedDataPages.0.qData.0.qDown"),0)+r["a"].getValue(e,"".concat(t,"qHyperCube.qStackedDataPages.0.qData.0.qUp"),0);var n=r["a"].getValue(e,"".concat(t,"qHyperCube.qEffectiveInterColumnSortOrder.0"));var i=r["a"].getValue(e,"".concat(t,"qHyperCube.qDimensionInfo.").concat(n));return d(i)}function c(e,t){if(!i(e,t))return s(e,t);return l(e,t)}function u(e,t){if(!e)return null;e=t?r["a"].getValue(e,t):e;return e&&e.qHyperCube?e.qHyperCube:null}function d(e){return e.qCardinalities.qHypercubeCardinal}t["a"]={getHyperCube:u,hasSecondDimension:i,hasSecondMeasure:a,getStackedCubeSizeOf2Dims:l,getStackedCubeSizeOfMax2Dims:c,getOuterDimensionSizeOfMax2Dims:o,getDimensionSize:d}},I4iM:function(e,t,n){"use strict";var r=n("sWge");var i=n("+GbC");var a=n("9cJ9");var o=n("4nJ1");function s(e,t){if(null==e)return{};var n=l(e,t);var r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++){r=a[i];if(t.indexOf(r)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,r))continue;n[r]=e[r]}}return n}function l(e,t){if(null==e)return{};var n={};var r=Object.keys(e);var i,a;for(a=0;a<r.length;a++){i=r[a];if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function d(e,t,n){t&&u(e.prototype,t);n&&u(e,n);return e}var f=function(){function e(t,n){c(this,e);i["a"].mixin(this);this.notification("Invalidated");this.parent=t;this.properties={qInfo:{qType:"odagNavPoint",qId:n.info.id}};this.properties=o["a"].extend(this.properties,n);var r=this;this._sheetInvalidated=function(){r.parent.getProperties().then((function(e){for(var t=0;t<e.navPoints.length;t++){var n=e.navPoints[t];if(n.info.id===r.properties.info.id){var i=r.properties,a=i.qInfo,l=s(i,["qInfo"]);if(!o["a"].isEqual(n,l)){r.properties=o["a"].extend(r.properties,n);r.Invalidated.emit()}break}}}))};this.parent.Invalidated.bind(this._sheetInvalidated)}d(e,[{key:"getLayout",value:function e(){var t=this;this.properties.odagLinkName=null;return a["a"].getList(this.parent.app).then((function(e){if(e.filter((function(e){return e.properties.data.id===t.properties.odagLinkRefID})).length>0)return a["a"].get(t.properties.odagLinkRefID,t.parent.app).then((function(e){t.properties.odagLinkName=e.properties.data.name;return t.properties}));t.properties.odagLinkName="";return t.properties}))}},{key:"getProperties",value:function e(){return r["a"].resolve(this.properties)}},{key:"getEffectiveProperties",value:function e(){return r["a"].resolve(this.properties)}},{key:"clearSoftPatches",value:function e(){}},{key:"removeObject",value:function e(){this.parent.removeNavPoint(this.properties.info.id)}},{key:"setProperties",value:function e(t){var n=this;this.properties=o["a"].extend(this.properties,t);return this.parent.getProperties().then((function(e){for(var t=0;t<e.navPoints.length;t++){var r=e.navPoints[t];if(r.info.id===n.properties.info.id){var i=o["a"].extend({},n.properties);delete i.qInfo;e.navPoints[t]=i;break}}return n.parent.setProperties(e)}))}},{key:"destroy",value:function e(){this.parent.Invalidated.unbind(this._sheetInvalidated)}}]);return e}();var p=f;var h=n("5xMv");var v=n("gh04");var m=n("JUxR");var g=n("zkWp");var b=n("eg+O");var y=n("acVu");function w(e){this.qvSheetService=e;this.currentApp=null;this.currentSheet=null;this.odagNavPoints=null;this.appLinkModelList=null;this.openAppCallback=null}w.prototype.init=function(e,t){var n=this;this.odagNavPoints=[];this.currentApp=e;this.openAppCallback=t;return b["a"].getList(e).then((function(e){n.appLinkModelList=e;return e.getLayout().then((function(){n.updateNavPoints();e.Invalidated.bind(n.updateNavPoints.bind(n))}))}))};w.prototype.sheetChanged=function(e){var t=this;this.currentSheet&&this.currentSheet.Invalidated.unbind(this.updateNavPoints);e&&v["a"].get(e,this.currentApp).then((function(e){t.currentSheet=e;if(t.currentSheet){t.updateNavPoints();t.currentSheet.Invalidated.bind(t.updateNavPoints.bind(t))}}))};w.prototype.getODAGLinkInfo=function(e){var t=new r["a"];if(e._cachedLinkProps)t.resolve(e._cachedLinkProps);else if(e.data.odagLinkRefID)a["a"].getList(e.model.parent.app).then((function(n){if(n.filter((function(t){return t.properties.data.id===e.data.odagLinkRefID})).length>0)g["a"].loadODAGLink(e.model.parent.app,e.data.odagLinkRefID).then((function(n){var r=Object(y["b"])("ODAG_SAAS_ENABLED")?n:n.objectDef;if(n&&"decommissioned"===r){e.invalid=true;return t.resolve(null)}e.invalid=false;e.maxNumberOfApps=r.properties.genAppLimit[0].limit;e.maxRowExpressionCount=r.properties.rowEstRange[0].highBound;e._cachedLinkProps=r;return t.resolve(r)}),(function(){e.invalid=true;t.resolve(null)}));else{e.invalid=true;t.resolve(null)}}));else{e.invalid=true;t.resolve(null)}return t.promise};w.prototype.createODAGNavPointsList=function(e){var t=h["a"].selectedObject?h["a"].selectedObject:null;var n=null;var i=this;if(void 0!==e){this.odagNavPoints.splice(0,this.odagNavPoints.length);e.forEach((function(e){var a={id:e.info.id,type:"ODAGNavPoint",object:{isInvalid:true},data:e,openAppCallback:i.openAppCallback,model:null,maxRowExpressionCount:null,maxNumberOfApps:null,_cachedLinkProps:null,invalid:false,initialized:null};a.model=new p(i.currentSheet,e);a.getLoadedLinkInfo=i.getODAGLinkInfo;a.getCurrentCountSessionObjectForLink=function(){return this.getLoadedLinkInfo(a).then((function(e){if(e)return g["a"].getOrCreateSessionObjectsForLink(i.currentApp,e).then((function(e){return e}));return r["a"].resolve(null)}))};i.odagNavPoints.push(a);if(t&&t.id===e.info.id&&!g["a"].addingNewNavPointID[i.currentSheet.id]){n=a;h["a"].setSelectedObject(m["a"].createSelectedObjFromNavPoint(a))}}));if(g["a"].addingNewNavPointID[this.currentSheet.id]){var a=this.odagNavPoints.filter((function(e){return e.data.info.id===g["a"].addingNewNavPointID[i.currentSheet.id]}));if(a.length){h["a"].setSelectedObject(m["a"].createSelectedObjFromNavPoint(a[0]));n=a[0]}g["a"].addingNewNavPointID[this.currentSheet.id]=null}this.qvSheetService&&t&&"ODAGNavPoint"===t.type&&!n&&this.qvSheetService.setSheetAsSelectedObj()}};w.prototype.updateNavPoints=function(){var e=this;if(this.currentApp&&this.currentSheet)return g["a"].clearCachedSessionObjects(this.currentApp).then((function(){e.currentSheet.getNavPoints().then((function(t){e.createODAGNavPointsList(t)}))}));return};w.prototype.hasODAGNavPoints=function(){return this.odagNavPoints.length>0};w.prototype.destroy=function(){this.odagNavPoints=[];this.appLinkModelList.Invalidated.unbind(this.updateNavPoints);this.currentSheet.Invalidated.unbind(this.updateNavPoints)};w.prototype.getOdagNavPoints=function(){return this.odagNavPoints};var S=t["a"]=w},IGvc:function(e,t,n){"use strict";var r=n("mWu2");r["default"].directive("qvConnectorIframe",[function(){return{restrict:"E",replace:true,scope:{location:"=",doneLoading:"&doneLoading"},template:'<div id="custom-connector-frame" class="custom-connector-frame"></div>',controller:["$scope",function(e){e.doneLoading()}]}}])},ISpZ:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a='<div class="qv-modal-container qui-modalbackground" qva-outside-ignore-for="allOutside" ng-style="containerStyle">\n\t<div class="qui-delayedModal" qv-global-escape="onEscape()">\n\t\t<header class="dm-header">{{ translatedHeader }}</header>\n\t\t<main class="dm-main">\n\t\t\t<p>{{ translatedContent }}</p>\n\t\t\t<span ng-if="options.moreContent">\n\t\t\t\t<br>\n\t\t\t\t<span q-translation="{{ options.moreContent }}"></span>\n\t\t\t</span>\n\n\t\t</main>\n\t\t<footer class="dm-footer">\n\t\t\t<lui-button x-variant="inverse" ng-if="options.showDeclineButton" qva-activate="$event.preventDefault(); onDeclineButtonClicked();" q-translation="{{ options.declineButtonTitle }}" id="declineButton" tid="2e68fc"></lui-button>\n\t\t\t<lui-button x-variant="inverse" ng-if="options.showConfirmButton" qva-activate="$event.preventDefault(); onConfirmButtonClicked();" q-translation="{{ options.confirmButtonTitle }}" id="confirmButton" tid="2e68f8" qva-focus="true"></lui-button>\n\t\t</footer>\n\t</div>\n</div>\n';var o=n("FdxK");var s=n("6uJb");var l={template:a,scope:{options:"="},controller:["$scope",function(e){e.translatedHeader=s["default"].get(e.options.header,e.options.headerParameter);e.translatedContent=s["default"].get(e.options.content,e.options.contentParameter);e.options.closePromise&&e.options.closePromise.then((function(){e.destroyComponent()}));e.onConfirmButtonClicked=function(){e.destroyComponent();e.deferredResult.resolve(true)};function t(){e.destroyComponent();e.deferredResult.reject()}e.onEscape=t;e.onDeclineButtonClicked=t}]};function c(e){var t={showConfirmButton:true,showDeclineButton:true,confirmButtonTitle:"Common.OK",declineButtonTitle:"Common.Cancel"};i.a.extend(t,e);return o["a"].show(l,{options:t})}var u=t["a"]={confirmAction:c}},IVHJ:function(e,t,n){"use strict";var r=n("mWu2");var i=n("FZ1g");var a=n("gh04");var o=n("z4LI");var s=n("/irJ");var l=n("6Z/P");var c=n("6uJb");var u=n("nBz0");var d=n("ZQDF");var f=n("QsDr");function p(){v("Bookmarks.BookmarkMissingDialogTitle","Bookmarks.BookmarkMissingDialogText1","Bookmarks.BookmarkMissingDialogText2")}function h(e){var t;var n;if("bookmark"===e){t="Bookmarks.SheetMissingDialogText1";n="Bookmarks.SheetMissingDialogText2"}else{t="Snapshot.SheetMissingDialogText1";n="Snapshot.SheetMissingDialogText2"}v("Bookmarks.SheetMissingDialogTitle",t,n)}function v(e,t,n){var i=r["default"].getService("luiDialog");var a=i.show({template:u["a"],input:{title:c["default"].get(e),content:"".concat(c["default"].get(t)," ").concat(c["default"].get(n)),buttons:[{name:c["default"].get("Common.OK"),focus:true,callback:function e(){a.close();a=null}}]}})}function m(e,t){return i["a"].apply(e).then((function(){if(t)return i["a"].get(e).then((function(e){return y(e)}),(function(){p();return false}));return}))}function g(e,t){return i["a"].apply(e).then((function(){return y(t)}))}function b(e){return e.apply().then((function(){return y(e)}))}function y(e){return e.getLayout().then((function(e){if(e.sheetId)return a["a"].get(e.sheetId).then((function(){var t=o["a"].view===o["a"].Views.overview;var n=d["a"].getCurrentSheetViewState(t);s["a"].goToSheet(e.sheetId,n);l["a"].zoomOut();return true}),(function(){h(e.qInfo.qType);return false}));return}))}t["a"]={applyBookmark:m,applySnapshot:g,applyEmbeddedSnapshot:b}},IVN8:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("SOxp");var l=n("4nJ1");var c=n("mWu2");var u=n("rwJ+");var d=n("G1wx");var f=n("/Zhp");var p={$new:function e(t){return{fromItem:void 0,enterItem:void 0,enterList:void 0,toItem:void 0,toList:void 0,offsetX:0,offsetY:0,left:0,top:0,direction:void 0,clientRect:void 0,scroll:{},pageX:0,pageY:0,suppressDragStyle:t.suppressDragStyle||[],zIndex:t.zIndex,enterItemAction:void 0}},startOffset:function e(t,n,r,i,a,o){if(o){var s=r.offset();var l=o.offset();n.left=s.left-l.left;n.top=s.top-l.top}else{var c=r.position();n.left=c.left;n.top=c.top}n.offsetX=n.left-i.x;n.offsetY=n.top-i.y;if(a){n.offsetX-=t[0].scrollLeft;n.offsetY-=t[0].scrollTop}},startData:function e(t,n,r,i){n.scroll.clientRect=t[0].getBoundingClientRect();n.scroll.width=t[0].scrollWidth;n.scroll.height=t[0].scrollHeight;n.clientRect=r[0].getBoundingClientRect();n.minLeft=-n.clientRect.width;n.maxLeft=n.scroll.width;n.minTop=-n.clientRect.height;n.maxTop=n.scroll.height-n.clientRect.height;n.fromItem=r.scope()[i];n.toItem=void 0;n.toList=void 0;n.enterItem=void 0;n.enterList=void 0;n.enterItemAction=void 0},updateDragCoordinates:function e(t,n,r,i){i=i||t.scroll.clientRect;t.pageX=n;t.pageY=r;t.pageX<=i.left?t.pageX=i.left+1:t.pageX>=i.left+i.width&&(t.pageX=i.left+i.width-1);t.pageY<=i.top?t.pageY=i.top+1:t.pageY>=i.top+i.height&&(t.pageY=i.top+i.height-1)},updateEnterItemAction:function e(t,n){var r=n[0].getBoundingClientRect();var i;var a;var o;switch(t.direction){case"horizontal":i=t.pageX;a=r.left;o=r.width;break;case"vertical":i=t.pageY;a=r.top;o=r.height;break;default:return}i<=a+.5*o?t.enterItemAction=f["a"].ENTER_BEFORE:i>a+.5*o&&(t.enterItemAction=f["a"].ENTER_AFTER)},updateData:function e(t,n,r,a,o,s,l,c,u){var d;var f;var h;var v=n.enterItemAction;var m=function e(){};function g(e){return e.length&&p.isChild(t[0],e[0])}function b(e){if("function"===typeof o)return o(e);return e.scope()[o]}var y=r[0].style.display;r[0].style.display="none";var w=document.elementFromPoint(n.pageX,n.pageY);d=i()(w).closest(s);if(g(d))m=function e(t){f=t.scope()[l];p.updateEnterItemAction(n,t);if(n.enterItem!==f||n.enterItem===f&&v!==n.enterItemAction){n.enterList=void 0;n.enterItem=f;c()}};else{d=i()(w).closest(a);if(g(d))m=function e(t){h=b(t);if(n.enterList!==h){n.enterList=h;n.enterItem=void 0;u()}};else{n.enterItem=void 0;n.enterList=void 0}}r[0].style.display=y;m(d)},start:function e(t,n,r){r[0].style||(r[0].style="");r[0].style.position="absolute";-1===n.suppressDragStyle.indexOf("width")&&(r[0].style.width="".concat(n.clientRect.width,"px"));r[0].style.height="".concat(n.clientRect.height,"px");r[0].style.pointerEvents="none";r[0].style.left="".concat(n.left,"px");r[0].style.top="".concat(n.top,"px");r[0].style.zIndex=n.zIndex;r[0].style.boxSizing="border-box"},update:function e(t,n,r,i){var a;var o;switch(n.direction){case"horizontal":n.left=i.currentPoint.x+n.offsetX+t[0].scrollLeft;break;case"vertical":n.top=i.currentPoint.y+n.offsetY+t[0].scrollTop;break;default:n.left=i.currentPoint.x+n.offsetX+t[0].scrollLeft;n.top=i.currentPoint.y+n.offsetY+t[0].scrollTop}a=n.left;o=n.top;n.left<n.minLeft?a=n.minLeft:n.left>n.maxLeft&&(a=n.maxLeft);n.top<n.minTop?o=n.minTop:n.top>n.maxTop&&(o=n.maxTop);r[0].style.left="".concat(a,"px");r[0].style.top="".concat(o,"px")},end:function e(t,n){if(t.stopAutoScrolling){t.stopAutoScrolling();t.stopAutoScrolling=null}n&&n.length&&n[0].removeAttribute("style")},isParent:function e(t,n){return t===n},isChild:function e(t,n){var r=n;if(p.isParent(t,n))return false;while(r){if(r===t)return true;r=r.parentNode}return false},autoScroll:function e(t,n,r,i,a,o,s,l){var c=true;var u=0;var d=0;var f=0;var p=0;function h(e,a){u=t.scrollLeft;d=t.scrollTop;if(c){if(e<0&&0===u){c=false;return}if(e>0&&u+parseInt(n.height+.5,10)>=r){c=false;return}if(a<0&&0===d){c=false;return}if(a>0&&d+parseInt(n.height+.5,10)>=i){c=false;return}0!==e&&(t.scrollLeft+=e);0!==a&&(t.scrollTop+=a);o();setTimeout((function(){h(e,a)}))}}switch(a.direction){case"horizontal":a.pageX<=n.left+l?f=-s:a.pageX>=n.left+n.width-l&&(f=s);break;case"vertical":a.pageY<=n.top+l?p=-s:a.pageY>=n.top+n.height-l&&(p=s);break;default:a.pageY<=n.top+l?p=-s:a.pageY>=n.top+n.height-l&&(p=s)}0===f&&0===p||h(f,p);if(a.stopAutoScrolling){a.stopAutoScrolling();delete a.stopAutoScrolling}a.stopAutoScrolling=function(){c=false};return a.stopAutoScrolling}};var h=p;var v=s["a"].extend("DefaultSortableList",{init:function e(t,n){this.options=l["a"].extend(true,{gesture:{name:"swipe",options:{radiusThreshold:2,preventDefault:false}},direction:"",scrollSelector:"",listSelector:"",containerSelector:"",listKey:"",itemSelector:"[ng-repeat]",itemDragSelector:"[ng-repeat]",itemGhostSelector:"",isOuterScroll:false,suppressDragStyle:[],suppressEnd:function e(){return false},itemKey:"$index",zIndex:1,preventClickDefault:true},t||{});this.ctrl=n},onBegin:function e(){},onEnter:function e(){},onEnterList:function e(){},onMove:function e(){},onMoveToList:function e(){},onCancel:function e(){},onEnd:function e(){},allowDrag:function e(t){if(d["a"].isMouse(t))return!!i()(t.target).closest(this.options.itemSelector).length;return!!i()(t.target).closest(this.options.itemDragSelector).length},allowScroll:function e(t){return!this.allowDrag(t)},allowEnter:function e(){return true},allowEnterList:function e(){return true},allowAutoScroll:function e(){return true},onAutoScroll:function e(t){t()},getGesture:function e(){return this.options.gesture},getDirection:function e(){return this.options.direction},getScrollSensitivity:function e(t){return d["a"].isMouse(t)?15:25},getScrollSpeed:function e(t){return d["a"].isMouse(t)?15:25}});c["default"].directive("qvSortableList",[function(){return{restrict:"A",controller:function e(){},link:function e(t,n,r,a){var s=t.$watch(r.qvSortableList,(function(e){s();if(e instanceof v)e.ctrl=a;else{var r=v.extend(e||{});e=new r(e&&e.options,a)}var l=n.closest(e.options.scrollSelector);l.length||(l=n);var c;var d=h.$new(e.options);var f;var p;var m="sortable-list-".concat(t.$id);var g;var b={id:m,options:{preventDefault:false},start:function t(n,r){c=void 0;if(u["a"].isInput(n.target)||!h.isChild(l[0],n.target))return;if(!e.allowDrag(n))return;c=i()(n.target).closest(e.options.itemGhostSelector||e.options.itemSelector);if(0===c.length){c=void 0;return}var a;if(e.options.containerSelector){var o=c.closest(e.options.containerSelector);o.length&&(a=o)}d.direction=e.getDirection();f=e.getScrollSpeed(n);p=e.getScrollSensitivity(n);h.startOffset(l,d,c,r.pagePoints[0],e.options.isOuterScroll,a);h.startData(l,d,c,e.options.itemKey)},end:function e(){c=void 0}};var y={id:m,start:function n(r){if(!c){this.cancel();return}r.preventDefault();o.a.WebkitHack.prevent();e.onBegin(d.fromItem,d.clientRect);t.$digest();h.start(l,d,c)},update:function n(r,i){if(!c){this.cancel();return}function a(){if(e.allowEnter(d.enterItem,d.fromItem)){d.toItem=d.enterItem;d.toList=void 0;e.onEnter(d.enterItem,d.enterItemAction);t.$digest()}}function o(){if(e.allowEnterList(d.enterList,d.fromItem)){d.toItem=void 0;d.toList=d.enterList;e.onEnterList(d.enterList);t.$digest()}}function n(){h.update(l,d,c,i.swipe);h.updateDragCoordinates(d,void 0!==i.clientX?i.clientX:i.pagePoints[0].x,void 0!==i.clientY?i.clientY:i.pagePoints[0].y,e.options.boundingRect);h.updateData(l,d,c,e.options.listSelector,e.options.listKey,e.options.itemSelector,e.options.itemKey,a,o)}if(r.touches&&r.touches[0]){i.clientX=r.touches[0].clientX;i.clientY=r.touches[0].clientY}else{i.clientX=r.clientX;i.clientY=r.clientY}n();if(e.allowAutoScroll()){var s=h.autoScroll.bind(this,l[0],d.scroll.clientRect,d.scroll.width,d.scroll.height,d,n,f,p);e.onAutoScroll(s,d.enterList,d.enterItem,(function(e,t,r,i){h.autoScroll(e,t,r,i,d,n,f,p)}))}},end:function n(r,i){h.end(d,c);e.options.suppressEnd(i)||(void 0!==d.toItem?e.onMove(d.fromItem,d.toItem):void 0!==d.toList?e.onMoveToList(d.fromItem,d.toList):e.onCancel(d.fromItem));t.$digest();e.onEnd(d.fromItem);c=void 0},cancel:function n(){if(!c)return;h.end(d,c);e.onCancel(d.fromItem);c=void 0;"$digest"!==t.$root.$$phase&&t.$digest()}};var w=e.options.gesture;y.options=w.options;function S(){c=void 0;o()(n[0])[w.name](y).tap(b);o()(l[0]).tap({id:"sortable-list-tap-".concat(t.$id),options:{preventDefault:false},start:function t(n){if(!e.allowScroll(n)&&!u["a"].isInput(n.target)){var r=i()(n.target).hasClass("slider")||i()(n.target).parent().hasClass("slider");!r&&e.options.preventClickDefault&&n.preventDefault()}}});return function(){o()(l[0]).off("*","sortable-list-tap-".concat(t.$id));o()(n[0]).off("*",m)}}t.$on("$destroy",(function(){o()(l[0]).off("*","sortable-list-tap-".concat(t.$id));o()(n[0]).off("*",m)}));a.on=function(){g||(g=S())};a.off=function(){if(g){g();g=void 0}};a.cancel=function(){y.cancel()};a.on()}))}}}]);var m=t["a"]=v},IfNZ:function(e,t,n){"use strict";var r=n("+GbC");var i=n("z4LI");var a=n("B52N");var o={};var s;var l;var c;var u;var d;o.ViewMode={grid:0,list:1};o.NavigationMode={sheet:"sheet",bookmark:"bookmark",story:"story"};s=o.ViewMode.grid;l=o.NavigationMode.sheet;d=s;c=false;r["a"].mixin(o);o.notification("ViewModeChanged");o.notification("NavigationModeChanged");o.notification("AddingItemChanged");o.setViewMode=function(e){if(e!==s){s=e;o.ViewModeChanged.emit(s)}};o.setNavigationMode=function(e){if(e!==l){l=e;o.NavigationModeChanged.emit(l)}};o.setAddingItem=function(e){if(e!==c){c=e;o.AddingItemChanged.emit(c)}};o.setDuplicatingItem=function(e){e!==u&&(u=e)};i["a"].StateChanged.bind((function(e){e===i["a"].Views.sheet?o.setNavigationMode(o.NavigationMode.sheet):e===i["a"].Views.story&&o.setNavigationMode(o.NavigationMode.story)}));a["default"].ViewChanged.bind((function(e){e&&(d=s)}));Object.defineProperties(o,{viewMode:{get:function e(){return s}},navigationMode:{get:function e(){return l}},viewModeBeforeEnterSmallDevice:{get:function e(){return d}},addingItem:{get:function e(){return c}},duplicatingItem:{get:function e(){return u}}});t["a"]=o},IlgW:function(e,t,n){"use strict";var r=n("6uJb");var i=n("4nJ1");var a=n("PX8M");var o={"":r["default"].get("AlternateState.InheritedState"),$:r["default"].get("AlternateState.DefaultState")};function s(e){return{value:e,translation:""===e||"$"===e?o[e]:e}}function l(e){var t=e.slice();for(var n=0;n<t.length;n++){var r=t[n];t[n]=i["a"].ellipseText(r,80)}return t}var c=function e(t,n){return t.localeCompare(n,r["default"].language)};function u(){return a["a"].getApp().then((function(e){return e.getAppLayout().then((function(e){var t=l(e.qStateNames.sort(c));return["","$"].concat(t).map(s)}))}))}var d=false;function f(e){return"masterobject"===e.qInfo.qType}t["a"]={type:"items",translation:"Common.AlternateStates",items:{alternateState:{ref:"qStateName",type:"string",translation:"AlternateState.SelectState",component:"dropdown",defaultValue:"",options:function e(t){return u().then((function(e){d=e.length>1&&!f(t);return e}))},readOnly:function e(){return!d}},allowShowDisclaimner:{component:"text",translation:"AlternateState.MasterItem.Disclaimer",style:"hint",show:function e(t){var n=t.qInfo.qType;return!("masterobject"===n||"sheet"===n)}}}}},IoK0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},IygW:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));function r(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}function a(e){return e.split(";").map((function(e){return Number.isNaN(+e)?{qText:e}:{qIsNumeric:true,qNumber:Number(e)}}))}var o=[{value:"applyBookmark",translation:"Object.ActionButton.ApplyBookmark",group:"bookmark",getActionCall:function e(t){var n=t.app,r=t.bookmark;return i(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return n.getBookmarkList();case 2:t=a.sent;i=t.find((function(e){return e.qData.title===r}));a.t0=r;if(!a.t0){a.next=8;break}a.next=8;return n.applyBookmark(i&&i.qInfo&&i.qInfo.qId||r);case 8:case"end":return a.stop()}}),e)})))},requiredInput:["bookmark"]},{value:"back",translation:"Object.ActionButton.MoveBackward",group:"selection",getActionCall:function e(t){var n=t.app;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.back();case 2:case"end":return t.stop()}}),e)})))},requiredInput:[]},{value:"forward",translation:"Object.ActionButton.MoveForward",group:"selection",getActionCall:function e(t){var n=t.app;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.forward();case 2:case"end":return t.stop()}}),e)})))},requiredInput:[]},{value:"clearAll",translation:"Object.ActionButton.ClearAll",group:"selection",getActionCall:function e(t){var n=t.app,r=t.softLock;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.clearAll(r);case 2:case"end":return t.stop()}}),e)})))},requiredInput:["softLock"]},{value:"clearAllButThis",translation:"Object.ActionButton.ClearAllButThis",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field,o=t.softLock;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.clearAllButThis(o);case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"clearField",translation:"Object.ActionButton.ClearSelectionInField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.clear();case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field"]},{value:"selectAll",translation:"Object.ActionButton.SelectAllInField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field,o=t.softLock;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.selectAll(o);case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"selectValues",translation:"Object.ActionButton.SelectValuesInField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,o=t.field,s=t.value,l=t.softLock;return i(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:if(!(o&&s)){c.next=7;break}c.next=3;return n.getField(o,r);case 3:t=c.sent;i=a(s);c.next=7;return t.selectValues(i,false,l);case 7:case"end":return c.stop()}}),e)})))},requiredInput:["field","value","softLock"]},{value:"selectMatchingValues",translation:"Object.ActionButton.SelectMatchingValues",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field,o=t.value,s=t.softLock;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!(a&&o)){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.select(o,false,s);case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field","value","softLock"]},{value:"selectAlternative",translation:"Object.ActionButton.SelectAlternatives",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field,o=t.softLock;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.selectAlternative(o);case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"selectExcluded",translation:"Object.ActionButton.SelectExcluded",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field,o=t.softLock;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.selectExcluded(o);case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"selectPossible",translation:"Object.ActionButton.SelectPossibleValues",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field,o=t.softLock;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.selectPossible(o);case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field","softLock"]},{value:"toggleSelect",translation:"Object.ActionButton.ToggleFieldSelection",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field,o=t.value,s=t.softLock;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!(a&&o)){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.toggleSelect(o,s);case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field","value","softLock"]},{value:"lockAll",translation:"Object.ActionButton.LockAllSelections",group:"selection",getActionCall:function e(t){var n=t.app;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.lockAll();case 2:case"end":return t.stop()}}),e)})))},requiredInput:[]},{value:"lockField",translation:"Object.ActionButton.LockField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.lock();case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field"]},{value:"unlockAll",translation:"Object.ActionButton.UnlockAllSelections",group:"selection",getActionCall:function e(t){var n=t.app;return i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return n.unlockAll();case 2:case"end":return t.stop()}}),e)})))},requiredInput:[]},{value:"unlockField",translation:"Object.ActionButton.UnlockAField",group:"selection",getActionCall:function e(t){var n=t.app,r=t.qStateName,a=t.field;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}i.next=3;return n.getField(a,r);case 3:t=i.sent;i.next=6;return t.unlock();case 6:case"end":return i.stop()}}),e)})))},requiredInput:["field"]},{value:"setVariable",translation:"Object.ActionButton.SetVariable",group:"variables",getActionCall:function e(t){var n=t.app,r=t.variable,a=t.value;return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!(r&&a)){i.next=11;break}i.prev=1;i.next=4;return n.getVariableByName(r);case 4:t=i.sent;i.next=7;return t.setStringValue(a);case 7:i.next=11;break;case 9:i.prev=9;i.t0=i["catch"](1);case 11:case"end":return i.stop()}}),e,null,[[1,9]])})))},requiredInput:["variable","value"]}];function s(e,t){var n=o.find((function(t){return e.actionType===t.value}));return n&&n.requiredInput&&-1!==n.requiredInput.indexOf(t)}t["b"]=o},J1LG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return r(e)}},J7Pl:function(e,t,n){"use strict";var r=n("mWu2");var i=n("vaoC");var a=n("TLJm");var o=n("dHXv");var s=n("s+sU");var l=a["a"].NxLocalizedErrorCode;var c;var u;function d(e,t,n,r){return e.session.rpc({method:t,handle:-1,params:n||[]}).then((function(e){r&&r(e.result);return e.result}))}function f(e,t,n){r["default"].$apply(r["default"].$rootScope,(function(){i["a"].getList(e).then((function(r){n&&e.close();t(r)}),(function(){c&&c({code:l.LOCERR_GENERIC_CONNECTION_LOST,message:"ErrorCode.".concat(l.LOCERR_GENERIC_CONNECTION_LOST)})}))}))}function p(e){s["a"].initClient();if(e instanceof o["a"]){this.session=e;this.qEvent=e.options.qEvent}else if(e.app&&e.rpc){var t=o["a"].getIfCached(e.app.id,e.sessionConfig);this.session=t||o["a"].get(e.app.id,e.sessionConfig);this.session.open()}else{this.session=o["a"].get("engineData",e);this.session.open();this.qEvent=e.qEvent}}p.setErrorCallback=function(e,t){c=e;u=t};p.get=function(e){e=e||{};this._qEvent&&(e._qEvent=this._qEvent);var t=s["a"].makeConfig(e);t.onError=c?function(e){e=e||{};e.code!==l.LOCERR_GENERIC_CONNECTION_LOST&&c(e||{code:l.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:c;return new p(t)};p.getAppList=function(e,t){t=t||{};this._qEvent&&(t._qEvent=this._qEvent);var n=s["a"].makeConfig(t);n.onError=c?function(e){e=e||{};e.code!==l.LOCERR_GENERIC_CONNECTION_LOST&&c(e||{code:l.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:c;u&&(n.onWarning=u);var r=o["a"].get("engineData",n);r.open();f(r,e,true)};p.prototype.getAppList=function(e){f(this.session,e,false)};p.prototype.getAuthenticatedUser=function(e){return d(this,"GetAuthenticatedUser",[],e)};p.prototype.isPersonalMode=function(e){return d(this,"IsPersonalMode",[],e)};p.prototype.getQTProduct=function(e){return d(this,"QTProduct",[],e)};p.prototype.getProductVersion=function(e){return d(this,"ProductVersion",[],e)};p.prototype.cancelReload=function(){return d(this,"CancelReload")};p.prototype.getProgress=function(e,t){return d(this,"GetProgress",[e],t)};p.prototype.GetProgress=function(e,t){return this.getProgress(e,t)};p.prototype.on=function(e,t){this.qEvent.register({scope:"QGlobal",name:e,callback:t})};p.prototype.off=function(e){this.qEvent.clear(e)};t["a"]=p},"JP+O":function(e,t,n){"use strict";var r=n("pnby");var i=n("PX8M");var a=n("gh04");var o=n("6uJb");var s=n("ESef");var l=n("4nJ1");var c=n("8Bn3");var u=n("IfNZ");var d=n("UOQJ");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),true).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function v(e){return y(e)||b(e)||g(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}function b(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function y(e){if(Array.isArray(e))return w(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){S(a,r,i,o,s,"next",e)}function s(e){S(a,r,i,o,s,"throw",e)}o(void 0)}))}}var C={};function q(e){return E.apply(this,arguments)}function E(){E=x(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return t.getList();case 2:n=i.sent;i.next=5;return n.getLayout();case 5:r=i.sent;return i.abrupt("return",r);case 7:case"end":return i.stop()}}),e)})));return E.apply(this,arguments)}function I(e,t){var n=t;e.includes(n)&&(n=c["a"].generateUniqueName(e,n));n=l["a"].crop(n,s["a"].name);return n}function k(e){var t=e.filter((function(e){return!e.qMeta.published})).map((function(e){return e.qData.rank}));return Math.max.apply(Math,v(t))}function A(e){return T.apply(this,arguments)}function T(){T=x(regeneratorRuntime.mark((function e(t){var n,r,i,o,s,c,d,f,h,v,m,g,b;return regeneratorRuntime.wrap((function e(y){while(1)switch(y.prev=y.next){case 0:if(!u["a"].duplicatingItem){y.next=2;break}throw new Error;case 2:u["a"].setDuplicatingItem(true);n=t.properties.qMetaDef.title;y.next=6;return q(a["a"]);case 6:r=y.sent;i=r.map((function(e){return!e.qMeta.published&&e.qData.title})).filter(Boolean);o=I(i,n);y.next=11;return a["a"].create({title:o});case 11:s=y.sent;y.next=14;return t.getFullPropertyTree();case 14:c=y.sent;d=c.qChildren,f=void 0===d?[]:d,h=c.qProperty;v=h.cells,m=void 0===v?[]:v;u["a"].newRank=k(r)+1;g=f.map((function(e){return l["a"].extend(true,{},e,{qProperty:{qInfo:{qId:l["a"].generateId()}}})}));b=function e(t){var n=f.findIndex((function(e){return e.qProperty.qInfo.qId===t}));return g[n].qProperty.qInfo.qId};u["a"].setDuplicatingItem(false);y.next=23;return s.setFullPropertyTree(l["a"].extend(true,c,{qChildren:g,qProperty:{qInfo:{qId:null},rank:u["a"].newRank,qMetaDef:{title:o},cells:m.map((function(e){return p(p({},e),{},{name:b(e.name)})}))}}));case 23:return y.abrupt("return",s);case 24:case"end":return y.stop()}}),e)})));return T.apply(this,arguments)}function D(e,t){return O.apply(this,arguments)}function O(){O=x(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return q(t);case 2:r=o.sent;i=n.title;a=r.map((function(e){return!e.qMeta.published&&e.qData.title})).filter(Boolean);n.title=I(a,i);return o.abrupt("return",t.create(n));case 7:case"end":return o.stop()}}),e)})));return O.apply(this,arguments)}C.addSheet=function(e){return D(a["a"],{title:o["default"].get("SheetItem.myNewSheet"),rank:e})};C.addStory=function(e){return D(r["a"],{title:o["default"].get("Storytelling.CreateNew"),rank:e})};function L(e,t){return M.apply(this,arguments)}function M(){M=x(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,d;return regeneratorRuntime.wrap((function e(f){while(1)switch(f.prev=f.next){case 0:if(!u["a"].duplicatingItem){f.next=2;break}throw new Error;case 2:u["a"].setDuplicatingItem(true);f.next=5;return t.clone();case 5:r=f.sent;f.next=8;return r.getProperties();case 8:i=f.sent;a=i.qMetaDef.title;f.next=12;return q(n);case 12:o=f.sent;s=o.map((function(e){return!e.qMeta.published&&e.qData.title})).filter(Boolean);c=I(s,a);u["a"].newRank=k(o)+1;d=l["a"].extend(true,i,{qMetaDef:{title:c},rank:u["a"].newRank});u["a"].setDuplicatingItem(false);f.next=20;return r.setProperties(d);case 20:return f.abrupt("return",r);case 21:case"end":return f.stop()}}),e)})));return M.apply(this,arguments)}function P(e,t){return N.apply(this,arguments)}function N(){N=x(regeneratorRuntime.mark((function e(t,n){var r,a,o,s,c,u,d,f;return regeneratorRuntime.wrap((function e(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return i["a"].getApp();case 2:r=p.sent;p.next=5;return t.draft(r);case 5:a=p.sent;p.next=8;return a.getProperties();case 8:o=p.sent;p.next=11;return q(n);case 11:s=p.sent;c=k(s);u=l["a"].extend(true,o,{rank:c+1});p.next=16;return a.setProperties(u);case 16:d=p.sent;f=d.id;return p.abrupt("return",f);case 19:case"end":return p.stop()}}),e)})));return N.apply(this,arguments)}C.duplicateSheet=function(e){return L(e,a["a"])};C.duplicateStory=function(e){return L(e,r["a"])};C.pasteSheet=function(){var e=x(regeneratorRuntime.mark((function e(t){var n,r,a,s,l,c;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:n=!t||!Object.entries(t).length;if(!n){u.next=3;break}return u.abrupt("return",null);case 3:r=t.appId,a=t.sheetId;u.prev=4;u.next=7;return i["a"].getApp(r,void 0,{suppressErrorDialog:true});case 7:l=u.sent;u.next=10;return l.getObject(a);case 10:s=u.sent;u.next=17;break;case 13:u.prev=13;u.t0=u["catch"](4);d["a"].show({title:o["default"].get("PasteSheet.Error.NoSheet.Title"),message:o["default"].get("PasteSheet.Error.NoSheet.Message")});return u.abrupt("return",null);case 17:u.next=19;return A(s);case 19:c=u.sent;return u.abrupt("return",c);case 21:case"end":return u.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();C.draftSheet=function(e){return P(e,a["a"])};t["a"]=C},JUQR:function(e,t,n){"use strict";function r(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_measure")}function i(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_details")}function a(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_dimension")}function o(e){return!!e.qTags&&-1!==e.qTags.indexOf("$directdiscovery")}function s(e){var t=e;e&&(t=e.filter((function(e){return!r(e)&&!i(e)})));return t}function l(e){var t="";var n={qTags:e};r(n)?t="DirectDiscovery.Measure":i(n)?t="DirectDiscovery.Details":a(n)&&(t="DirectDiscovery.Dimension");return t}t["a"]={isMeasure:r,isDetails:i,isDimension:a,removeMeasureAndDetailsFields:s,getTypeTranslationKey:l,isDirectDiscoveryField:o}},JUxR:function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a={type:"items",component:"accordion",items:{navPointProps:{type:"items",translation:"properties.odagNavProperties",items:{general:{type:"items",grouped:true,items:{title:{type:"string",ref:"title",translation:"Common.Name",minlength:1,readOnly:function e(t,n,r){var i=r.layout;return i&&(i.permissions&&!i.permissions.update||i.qMeta&&i.qMeta.sourceObject&&i.qMeta.sourceObject.length>0)},rollbackInvalid:true}}},odagLinkInfo:{type:"items",items:{odagLinkName:{type:"string",ref:"odagLinkName",translation:"properties.odag.link.name",minlength:1,readOnly:function e(){return true},rollbackInvalid:true}}}}}}};var o=a;var s=null;var l=null;function c(e){var t={id:e.id,type:e.type,canCopy:function e(){return false},canCut:function e(){return false},canRemove:function e(){return true},remove:function t(){e.model.removeObject()},getAllPropertyPanelContent:function t(){if(!s){s=r["default"].getService("$cacheFactory");l=s("pp-navPoint")}return i["a"].all({properties:e.model.getProperties(),layout:e.model.getLayout()}).then((function(t){var n={definition:o,iconClass:"lui-icon lui-icon--sign-post",titleRef:"qMeta.title",properties:t.properties,layout:t.layout,model:e.model,cache:l,type:e.invalid?"invalid":"odagNavPoint"};return n}))}};return t}var u=t["a"]={createSelectedObjFromNavPoint:c}},JZAc:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("czhI");var i=n.n(r);var a=n("/2No");var o=n("acVu");function s(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)}))}}var c;var u;function d(e){return f.apply(this,arguments)}function f(){f=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:u=u||i()({method:"POST",url:"".concat(a["a"].rootPath,"qrs/systemrule/security/evaluatetransientresources"),data:t});r.prev=1;r.next=4;return u;case 4:n=r.sent;return r.abrupt("return",n.data);case 8:r.prev=8;r.t0=r["catch"](1);return r.abrupt("return",[]);case 11:case"end":return r.stop()}}),e,null,[[1,8]])})));return f.apply(this,arguments)}function p(){var e=Object(o["b"])("IS_DESKTOPCLIENT");var t=Object(o["b"])("HAS_QRS");if(!t&&!e)return Promise.resolve();c=c||i.a.get("".concat(a["a"].rootPath,"qrs/extension/schema")).then((function(e){return e.data})).catch((function(e){throw e.data}));return c}t["a"]={getExtensions:p}},JbRU:function(e,t,n){"use strict";var r;var i;function a(){return i}function o(){return r}function s(e){r=e}function l(e){i=e}t["a"]={setAllKeywordsAsLowerCase:l,getAllKeywordsAsLowerCase:a,setAllKeywords:s,getAllKeywords:o}},JbzQ:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");var a=n("4nJ1");function o(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var s={};s.get=function(e,t){return o(t).then((function(t){return t.getDimension(e)}))};s.create=function(e,t){return o(t).then((function(t){e.qInfo.qId=e.qInfo.qId||a["a"].generateId();return t.createDimension(e)}))};s.remove=function(e,t){return o(t).then((function(t){return t.destroyDimension(e)}))};s.getList=function(e){return o(e).then((function(e){return e.getDimensionListObject()}))};s.getListLayout=function(e){return s.getList(e).then((function(e){return e.getLayout()}))};t["a"]=s},K9T1:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("czhI");var o=n.n(a);var s=n("/2No");var l=n("G1wx");var c=n("UV1h");function u(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}var f={getShapeColor:function e(t){if(!((null===t||void 0===t?void 0:t.color)||(null===t||void 0===t?void 0:t.colorPaletteIndex)))return"#000000";if((null===t||void 0===t?void 0:t.colorPaletteIndex)>0)return c["a"].resolveColor({index:t.colorPaletteIndex});return t.color},getShapeSvg:function e(t){var n=this;return d(regeneratorRuntime.mark((function e(){var r,a,c,u,d;return regeneratorRuntime.wrap((function e(f){while(1)switch(f.prev=f.next){case 0:if(!("shape"===!(null===t||void 0===t?void 0:t.visualization)||!(null===t||void 0===t?void 0:t.dataPath)||!(null===t||void 0===t?void 0:t.style))){f.next=2;break}return f.abrupt("return",Promise.resolve(null));case 2:a="../resources/";t.dataPath.substring(0,13)===a&&(r=t.dataPath.replace(a,s["a"].staticResourcesPath));c=n.getShapeColor(t.style);f.prev=5;f.next=8;return o.a.get(r,{responseType:"document"});case 8:u=f.sent;d=i()(u.data).find("svg");d.removeAttr("xmlns:a");d.attr("fill",c);l["a"].treatAsDesktop()||d.css("pointer-events","none");return f.abrupt("return",d);case 16:f.prev=16;f.t0=f["catch"](5);true;console.warn("Couldn't get shape: ".concat(r,". Error: ").concat(f.t0.message));return f.abrupt("return",null);case 20:case"end":return f.stop()}}),e,null,[[5,16]])})))()}};t["a"]=f},KBmc:function(e,t,n){"use strict";var r=n("fwzx");var i=n("2Hli");var a=n("8WoW");var o=n("obmW");var s=n("acVu");var l=["scatterplot","map"];var c=["scatterplot","map","barchart","linechart","combochart","piechart","treemap","distributionplot"];t["a"]={baseColor:{isSupported:function e(t){return t&&t.length&&-1===l.indexOf(t)}},colorBy:{isSupported:function e(t){return c.includes(t)}},colorByUpdater:function e(t,n){var o=i["a"].getValue(t,"color.mode");var s=i["a"].getValue(t,"color.auto");var l=i["a"].getValue(t,"".concat(n,"qDimensions"),[]);var c=i["a"].getValue(t,"".concat(n,"qMeasures"),[]);var d=i["a"].getValue(t,"".concat(n,"qLayoutExclude.qHyperCubeDef.qDimensions"),[]);var f;var m;var g;var b;var y=i["a"].getValue(t,"visualization");if(s)u(l,d);else if(!s&&"byDimension"===o&&l.length){f=i["a"].getValue(t,"color.byDimDef");f&&v(t,f.label);if(f&&f.activeDimensionIndex>-1){f.activeDimensionIndex=Math.min(f.activeDimensionIndex,l.length-1);m=l[f.activeDimensionIndex];b=a["a"].getColorByDefinition("dimension",false,m);b.activeDimensionIndex=f.activeDimensionIndex;p(t,b)}else if(!f||!f.key){m=l[l.length-1];var w=n.split(".");2===l.length&&"map"===y&&"point"===t.layers[Number(w[1])].type&&(m=l[0]);g=r["a"].getById(m.qAttributeDimensions,r["a"].IDMAP.COLOR_BY_ALTERNATIVE);p(t,a["a"].getColorByDefinition("dimension",!!g,g||m));if(g)return}h(t,true,l,d,c,i["a"].getValue(t,"color.byDimDef.label"))}else if(s||"byMeasure"!==o||!l.length||"map"!==y&&!c.length){"byMultiple"===o&&c.length<2&&i["a"].setValue(t,"color.mode","primary");u(l,d)}else{f=i["a"].getValue(t,"color.byMeasureDef");f&&v(t,f.label);if(f&&f.activeMeasureIndex>-1){f.activeMeasureIndex=Math.min(f.activeMeasureIndex,c.length-1);if(f.activeMeasureIndex>-1){var S=c[f.activeMeasureIndex];b=a["a"].getColorByDefinition("measure",false,S,true);b.activeMeasureIndex=f.activeMeasureIndex;p(t,b)}}else if((!f||!f.key)&&c.length){var x=c[0];m=l[l.length-1];g=r["a"].getById(m.qAttributeExpressions,r["a"].IDMAP.COLOR_BY_ALTERNATIVE);p(t,a["a"].getColorByDefinition("measure",!!g,g||x));if(g)return}h(t,false,l,d,c,i["a"].getValue(t,"color.byMeasureDef.label"))}},setColorByPropertyDef:p,resolveColorByPropertyDef:h,clearColorByItem:u};function u(e,t){e.forEach((function(e){d(e,r["a"].IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");d(e,r["a"].IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")}));t.forEach((function(e){d(e,r["a"].IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");d(e,r["a"].IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")}))}function d(e,t,n){if(e[n]){var i=r["a"].getIndexById(e[n],t);i>=0&&e[n].splice(i,1)}else e[n]=[]}function f(e){return e.split(" ").length>1&&"="!==e[0]&&"["!==e[0]?"[".concat(e,"]"):e}function p(e,t,n,r){var i=n?"expression":t.type;var a=e.color.mode;var l=t.label||t.name||"";v(e,l);switch(i){case"field":a="byDimension";e.color.byDimDef={label:t.label||f(t.name),key:f(t.name),type:"expression",activeDimensionIndex:t.activeDimensionIndex};break;case"expression":a="byMeasure";e.color.byMeasureDef={label:n||t.label||t.name,key:n||t.name,type:"expression",activeMeasureIndex:t.activeMeasureIndex};break;case"dimension":a="byDimension";e.color.byDimDef={label:t.name,key:t.id,type:"libraryItem",activeDimensionIndex:t.activeDimensionIndex};break;case"measure":a="byMeasure";e.color.byMeasureDef={label:t.name,key:t.id,expression:t.expression,type:"libraryItem",activeMeasureIndex:t.activeMeasureIndex};Object(s["b"])("MASTER_MEASURE_FORMAT")&&e.color.formatting&&o["a"].useMasterNumberFormat(e.color.formatting);break;default:break}if(!r){e.color.auto=false;e.color.mode=a}}function h(e,t,n,a,o,s){u(n,a);var l=n[n.length-1];if(l){var c=t?i["a"].getValue(e,"color.byDimDef"):i["a"].getValue(e,"color.byMeasureDef");var d=i["a"].getValue(e,"color.formatting.qNumFormat");var f=i["a"].getValue(e,"color.formatting.isCustomFormatted");if(c){var p=r["a"].create(r["a"].IDMAP.COLOR_BY_ALTERNATIVE);switch(c.type){case"expression":p.label=s||c.label;if(t)p.qDef=c.key;else{p.qExpression=c.key;if(d){p.qNumFormat=d;p.isCustomFormatted=f}}p.matchMeasure=c.activeMeasureIndex;p.label&&"="===p.label.charAt(0)&&(p.labelExpRef="color.altLabel");break;case"libraryItem":if(!t){var h=-1;o.forEach((function(e,t){c.key===e.qLibraryId&&(h=t)}));p.matchMeasure=h;if(d){p.qNumFormat=d;p.isCustomFormatted=f}}"undefined"!==typeof c.expression?p.qExpression=c.expression:p.qLibraryId=c.key;p.colorMapRef=c.key;break;default:break}if(t){p.qSortBy={qSortByAscii:1};l.qAttributeDimensions.push(p)}else l.qAttributeExpressions.push(p)}}}function v(e,t){if(!t)return;var n="="===t.charAt(0);e.color.altLabel=n?{qStringExpression:{qExpr:t.substr(1)}}:t}},KLTh:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("PX8M");var o=n("acVu");function s(e,t){var n={};var r={overview:0,options:2};function s(e){n.title=e.qTitle;n.description=e.description||"";n.thumbnailUrlProp=e.thumbnailUrlProp;n.dynamicColor=e.dynamicColor}function l(e){var t=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/gi;return t.test(e)}function c(e,n){var r=e.stream&&e.stream.name?e.stream.name:"";n.appModel={qTitle:e.qTitle,qReadOnly:e.qReadOnly,permissions:e.permissions,description:e.description||"",qLastReloadTime:e.qLastReloadTime,qHasData:!!e.qHasData,stream:r,published:e.published,publishedString:e.published?t.get("Toolbar.AppStatusPublished",[r]):"Toolbar.AppStatusNotPublished",isPub:e.published,publishTime:e.publishTime,thumbnailLayout:e.qThumbnail,qFileName:e.qFileName,dynamicColor:e.dynamicColor,showFileName:!l(e.qFileName)};n.model.getProperties().then((function(e){n.appModel.thumbnailUrlProp=e.qThumbnail.qUrl;n.appModel.dynamicColor=e.dynamicColor;s(n.appModel)})).catch((function(e){var t=11e3;e.code===t&&(e.isHandled=true)}))}var u=function t(n){n.viewDetails=true;n.appModel={};n.isPersonalEnv=Object(o["b"])("IS_DESKTOPCLIENT");e.onChanged((function(e,t){c(e,t)}));a["a"].getApp().then((function(e){n.model=e}))};var d=function e(t){t.editDetails&&t.setProperties(t.appModel.qTitle,t.appModel.description,t.appModel.thumbnailUrlProp,t.appModel.dynamicColor);t.viewDetails=!t.viewDetails;t.editDetails=!t.editDetails};var f=function e(t){t.currentView=t.currentView===r.options?r.overview:r.options;t.viewDetails=!t.viewDetails;t.currentView!==r.options&&i()("body").removeClass("qv-app-details-options-enabled")};var p=function e(t,r,i,o,l){n.description===r&&n.title===t&&n.thumbnailUrlProp===i&&n.dynamicColor===l||a["a"].getApp().then((function(e){e.getProperties().then((function(a){t=t.replace(/\s/g,"")&&!o?t:n.title;a.qTitle=t;a.description=r;a.qThumbnail.qUrl=i;a.dynamicColor=l;e.setProperties(a);s(a)}))}))};return{init:u,toggleEditMode:d,toggleOptionsMode:f,setProperties:p,views:r}}t["a"]={model:s,hide:function e(t){sessionStorage.setItem("AppDetailsHidden","true");t.$emit("showAppDetails",false)},show:function e(t){sessionStorage.setItem("AppDetailsHidden","false");t.$emit("showAppDetails",true)},isVisible:function e(){if("undefined"===typeof sessionStorage.AppDetailsHidden)return true;return"false"===sessionStorage.AppDetailsHidden}}},KThf:function(e,t,n){"use strict";var r=n("gh04");var i=n("PX8M");var a=n("NFAh");var o=n("qIEf");var s=n.n(o);var l=n("mWu2");var c='<lui-dialog class="qv-appview" id="select-sheet-dialog">\n\t<lui-dialog-header>\n\t\t<lui-popover-title q-translation="SheetDialog.SelectSheet"></lui-popover-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body>\n\t\t<div class="av-container">\n\t\t\t<div class="av-t-c">\n\t\t\t\t<div class="av-content-container">\n\t\t\t\t\t\x3c!-- Show information about sheets if there are any present --\x3e\n\t\t\t\t\t<div ng-if="!noSheets && sheetInformation" class="embedded-info">\n\t\t\t\t\t\t<span class="lui-icon lui-icon--info"></span>\n\t\t\t\t\t\t<span q-translation="{{sheetInformation}}"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t\x3c!-- Show message if no sheets are available --\x3e\n\t\t\t\t\t\t<h2 ng-if="noSheets" class="qv-ao-h2">\n\t\t\t\t\t\t\t<div class="err-text" q-translation="AppOverview.Error.NoSheets"></div>\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<div ng-if="sections.approved.show">\n\t\t\t\t\t\t\t\x3c!-- Approved Header --\x3e\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header approved" tid="ApprovedTitle" ng-click="toggleCollapse($event, \'approved\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.approved.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.approved.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="{{getBaseTitle()}}"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.approvedSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Approved Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-approved qv-grid" ng-if="sections.approved.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.approvedSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.myPublished.show">\n\t\t\t\t\t\t\t\x3c!-- My Published Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line my-published" ng-if="sections.myPublished.showHeaderLine"></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header my-published" tid="MyPublishedTitle" ng-click="toggleCollapse($event, \'myPublished\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.myPublished.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.myPublished.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.MyPublishedSheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.myPublishedSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- My Published Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-my-published qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.myPublished.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.myPublishedSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.myPrivate.show">\n\t\t\t\t\t\t\t\x3c!-- Private Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line private" ng-if="sections.myPrivate.showHeaderLine "></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header private" tid="PrivateTitle" ng-click="toggleCollapse($event, \'myPrivate\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.myPrivate.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\tq-title-translation="{{ sections.myPrivate.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.MySheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.privateSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Private Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-private qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.myPrivate.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.privateSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.community.show">\n\t\t\t\t\t\t\t\x3c!-- Community Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line community" ng-if="sections.community.showHeaderLine"></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header community" tid="CommunityTitle" ng-click="toggleCollapse($event, \'community\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.community.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.community.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.CommunitySheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.communitySheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Community Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-community qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.community.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.communitySheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n';var u='<li class="qv-content-li" ng-class="{\'qv-active-item\': item.isActive}">\n\t<div class="qv-content-item"\n\t\t ng-click="sheetClicked(item)" tid="sheet.private">\n\t\t<div qv-ao-thumb\n\t\t\t item="item"\n\t\t\t class="qv-thumb-wrap"\n\t\t\t issheet="isSheet"\n\t\t\t thumblayout="item.qData.thumbnail"\n\t\t\t editmode="false"></div>\n\n\t\t<div class="qv-details-wrap">\n\t\t\t<div ng-if="evaluateCondition()" class="center-crossed-eye-icon lui-button__icon  lui-icon  lui-icon--view-disabled" q-title-translation="Object.Container.FalseShowCondition"></div>\n\t\t\t<div class="qv-details-name">\n\t\t\t\t<div class="q-ellipsis" title="{{item.qData.labelExpression || item.qData.title}}">{{item.qData.labelExpression || item.qData.title}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</li>\n';var d=n("B52N");var f=n("rwJ+");var p=n("GWYG");var h=n("acVu");var v=n("4nJ1");var m={scope:{title:"=",sheets:"=",isSheet:"=",isGrid:"=",confirmDisabled:"=",sheetInformation:"=",selectSheet:"="},controller:["$scope",function(e){e.sections={approved:{show:!!e.sheets.approvedSheets.length,showHeaderLine:true,expand:true},myPublished:{show:!!e.sheets.myPublishedSheets.length,showHeaderLine:true,expand:true},myPrivate:{show:!!e.sheets.privateSheets.length,showHeaderLine:true,expand:true},community:{show:!!e.sheets.communitySheets.length,showHeaderLine:true,expand:true}};e.getBaseTitle=function(){return"AppOverview.Content.PublicSheets"};e.cancel=function(){e.destroyComponent()};e.sheetClicked=function(t){e.selectSheet(t);e.destroyComponent()};e.isSmallDeviceListner=function(){e.destroyComponent()};e.noSheets=!(e.sheets.approvedSheets.length||e.sheets.myPublishedSheets.length||e.sheets.privateSheets.length||e.sheets.communitySheets.length);e.toggleCollapse=function(t,n){t&&t.preventDefault&&t.preventDefault();e.sections[n].expand=!e.sections[n].expand;t&&e.sections[n].expand&&setTimeout((function(){f["a"].scrollElmentIntoView(s()(t.currentTarget).closest("div:not(.qs-tb)").find("ul li").first(),".av-content-container")}))};e.$on("$destroy",(function(){d["default"].ViewChanged.unbind(e.isSmallDeviceListner)}));d["default"].ViewChanged.bind(e.isSmallDeviceListner)}]};l["default"].directive("embeddedSheetItem",[function(){return{restrict:"E",replace:true,template:u,link:function e(t){t.evaluateCondition=function(){if(Object(h["b"])("SHEET_SHOW_CONDITION")&&t.item.qData.showCondition&&"sheet"===t.item.qInfo.qType)return!v["a"].evaluateCondition(t.item.qData.showCondition);return false}}}}]);function g(e){var t={title:e.title,sheets:e.sheets,selectSheet:e.selectSheet,isSheet:true,isGrid:true,confirmDisabled:true,sheetInformation:e.sheetInformation};var n=l["default"].getService("luiDialog");return n.show({template:c,controller:m.controller,input:t})}var b={show:g};var y=n("vhuL");var w;Object(y["a"])().then((function(e){w=e}));function S(e,t,n){t.forEach((function(t){a["a"].filterApproved(n)(t)?e.approvedSheets.push(t):a["a"].filterMyPublishedCommunity(w,n)(t)?e.myPublishedSheets.push(t):a["a"].filterPrivate(t)?e.privateSheets.push(t):a["a"].filterCommunity(w,n)(t)&&e.communitySheets.push(t)}));return e}function x(e,t){Object.keys(e).forEach((function(n){e[n].forEach((function(e){e.isActive=t===e.qInfo.qId}))}))}function C(e,t,n,r){x(n,t);b.show({title:"SheetDialog.Sheet.SelectSheet",sheets:n,selectSheet:function t(n){e.$emit("sheetSelected",n)},sheetInformation:r?r.sheetInformation:""})}function q(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){q(a,r,i,o,s,"next",e)}function s(e){q(a,r,i,o,s,"throw",e)}o(void 0)}))}}function I(e,t){return k.apply(this,arguments)}function k(){k=E(regeneratorRuntime.mark((function e(t,n){var o,s,l,c,u,d,f;return regeneratorRuntime.wrap((function e(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return i["a"].getApp();case 2:o=p.sent;p.next=5;return o.getLayout();case 5:s=p.sent;p.next=8;return a["a"].hasShareMode(s);case 8:l=p.sent;c=t.sheetId;p.next=12;return r["a"].getList();case 12:u=p.sent;p.next=15;return u.getLayout();case 15:d=p.sent;f={approvedSheets:[],myPublishedSheets:[],privateSheets:[],communitySheets:[]};f=S(f,d,l);f.approvedSheets.sort(a["a"].sortByRank);f.privateSheets.sort(a["a"].sortByRank);a["a"].sortByPublishedDate(f.myPublishedSheets,"publishTime");C(t,c,f,n);case 22:case"end":return p.stop()}}),e)})));return k.apply(this,arguments)}function A(e){var t={width:"94%",height:"98%",left:"1.5%",right:"1.5%",top:"0%","z-index":4};switch(e){case"align-left":t.width="75.5%";t.right="23%";break;case"align-center":t.width="94%";t.right="4,5%";break;case"align-right":t.width="75.5%";t.left="23%";break;default:break}return t}var T=t["a"]={onSelectSheet:I,getPosition:A}},KaFi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("CTLX"),i=n("SD8o"),a=n("PoH+"),o=function(){function e(e){this.data=e,e.id||this.updateId()}return e.create=function(t){return new e(t)},e.prototype.getSourceName=function(){return this.data.databaseName||this.data.dataconnectorName||""},e.prototype.isFiltered=function(){var e=this.getFilter(),t=!1;return e&&(t=""!==e.filterClause),!t&&this.data.filter&&(t=!0),t},e.prototype.getFilter=function(){return this.data.loadProperties&&this.data.loadProperties.filterInfo&&this.data.loadProperties.filterInfo},e.prototype.setLoadFilter=function(e){this.data.filter=e},e.prototype.getLoadFilter=function(){return this.data.filter},e.prototype.setDataconnectorPrefix=function(e){this.data.dataconnectorPrefix=e},e.prototype.getDataconnectorPrefix=function(){return this.data.dataconnectorPrefix},e.prototype.isNothingSelected=function(){for(var e in this.data.fields)if(this.data.fields[e].selected)return!1;return!0},e.prototype.setFieldSelected=function(e,t){this.data.state="modified",this.getOrCreateFieldByName(e).selected=t},e.prototype.addField=function(e,t,n){var r=this.createFieldModel(e);r.selected=n,this.data.fields.splice(t,0,r)},e.prototype.isFieldSelected=function(e){return this.getOrCreateFieldByName(e).selected},e.prototype.selectedFieldsCount=function(){var e=0;for(var t in this.data.fields)this.data.fields[t].selected&&e++;return e},e.prototype.fieldsCount=function(){return this.data.fields.length},e.prototype.changeFieldAlias=function(e,t){this.data.state="modified";for(var n in this.data.fields)if(this.data.fields[n].alias===e){this.data.fields[n].alias=t||this.data.fields[n].name;break}},e.prototype.setFieldAlias=function(e,t){t||(t=e),this.data.state="modified";for(var n in this.data.fields)if(this.data.fields[n].name===e){this.data.fields[n].alias=t;break}},e.prototype.getFieldQualifiedName=function(e){return this.cleanUpQualifiedNamePart(this.data.tableAlias)+"."+this.cleanUpQualifiedNamePart(e)},e.prototype.qualifyField=function(e){this.data.state="modified";for(var t in this.data.fields)if(this.data.fields[t].name===e){this.data.fields[t].alias=this.getFieldQualifiedName(this.data.fields[t].name);break}},e.prototype.getOriginalFieldNameFromAlias=function(e){for(var t in this.data.fields)if(this.data.fields[t].alias===e)return this.data.fields[t].name},e.prototype.getFieldAlias=function(e){for(var t in this.data.fields)if(this.data.fields[t].name===e)return this.data.fields[t].alias||this.data.fields[t].name},e.prototype.isFieldNameInUse=function(e){for(var t in this.data.fields){var n=this.data.fields[t].alias||this.data.fields[t].name;if(n===e)return!0}return!1},e.prototype.setFormatSpec=function(e){this.data.formatSpec=e},e.prototype.setLoadSelectStatement=function(e){this.data.loadSelectStatement=e},e.prototype.setSimpleSelectStatement=function(e){this.data.selectStatement=e},e.prototype.addSelectLoadProperty=function(e){this.data.loadProperties||(this.data.loadProperties={}),this.data.loadProperties.selectInfo=e},e.prototype.setFileFormatSettings=function(e){this.data.fileFormatSettings=e},e.prototype.getTableAlias=function(){return void 0===this.data.tableAlias||""===this.data.tableAlias?this.data.tableName:this.data.tableAlias},e.prototype.getFieldById=function(e){var t=a.findWhere(this.data.fields,{id:e});return t},e.prototype.pruneOtherFields=function(e){var t,n={};for(t in e)n[e[t]]=!0;for(t in this.data.fields){var r=this.data.fields[t];n[r.name]||(r.selected=!1)}},e.prototype.setTableGroupId=function(e){this.data.tableGroupId=e},e.prototype.getTableGroupId=function(){return this.data.tableGroupId},e.prototype.setLockSameGroupAssociations=function(e){this.data.lockSameGroupAssociations=e},e.prototype.registerFieldSourceRename=function(e,t,n){var r=this.getFieldByName(e),i=this.getFieldByName(t);if(r&&i){var a=this.data.fields.indexOf(r);-1!==a&&this.data.fields.splice(a,1),r.alias!==r.name&&(i.alias=r.alias),i.selected=n}else r?(r.alias===r.name&&(r.alias=t),r.name=t,r.selected=n):i||this.getOrCreateFieldByName(t)},e.prototype.markForRemoval=function(){for(var e in this.data.fields)this.data.fields[e].selected=!1},e.prototype.updateFromOutputtedTableModel=function(e){this.data.tableName=e.tableName,this.data.fields=e.fields,this.data.tableGroupId=e.tableGroupId,this.data.loadProperties=e.loadProperties,this.data.connectorProperties=e.connectorProperties,this.data.selectStatement=e.script,this.data.boxType=e.scriptType},e.prototype.serialize=function(){this.updateId(),this.data.tableAlias=this.getTableAlias();var e=i.SharedUtil.extend(!0,{},this.data);return delete e.state,e},e.prototype.isNew=function(){return!!this.data.state},e.prototype.updateId=function(){var e=this;this.data.id=r.LoadModelIds.createTableId(this.data.tableAlias||this.data.tableName),this.data.fields.forEach((function(t){t.id||(t.id=r.LoadModelIds.createFieldId(e.data.id,t.name))}))},e.prototype.setCachingEnabled=function(e,t){this.data.caching?(this.data.caching.enabled=e,this.data.caching.type=t):this.data.caching={enabled:e,type:t}},e.prototype.getByNameOrCreate=function(e,t,n){for(var r in e)if(e[r].name===t)return e[r];var i;return n&&(i=n(t),e.push(i)),i},e.prototype.createFieldModel=function(e){var t=e;e||(t=this.generateEmptyFieldAlias());var n={id:r.LoadModelIds.createFieldId(this.data.id,e),name:e,alias:t,selected:!1};return n},e.prototype.generateEmptyFieldAlias=function(){for(var e,t=1,n=!1;!n;)e="Empty-"+t,this.isFieldNameInUse(e)?t++:n=!0;return e},e.prototype.getOrCreateFieldByName=function(e){return this.getByNameOrCreate(this.data.fields,e,this.createFieldModel.bind(this))},e.prototype.getFieldByName=function(e){return this.getByNameOrCreate(this.data.fields,e)},e.prototype.cleanUpQualifiedNamePart=function(e){return e.replace(/[\.]/g,"..")},e}();t.InputTableModel=o},KvOU:function(e,t,n){"use strict";var r=n("4nJ1");t["a"]={autoSortDimension:function e(t,n){t.qDef.qSortCriterias=[];t.qDef.autoSort=true;n?n.forEach((function(e,n){t.qDef.qSortCriterias[n]={qSortByState:1,qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1}})):t.qDef.qSortCriterias[0]={qSortByState:1,qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1};return t},createFieldDimension:function e(t){return{qDef:{qFieldDefs:[t],qFieldLabels:[t],qSortCriterias:[]}}},createLibraryDimension:function e(t){return{qLibraryId:t,qDef:{qSortCriterias:[]}}},createDefaultListBox:function e(t,n){var i=r["a"].extend(true,{},t);var a;i.qShowAlternatives=true;for(a=0;a<i.qDef.qSortCriterias.length;++a)i.qDef.qSortCriterias[a].qSortByState=1;n=!n&&t.qDef.qLabelExpression?{qStringExpression:{qExpr:t.qDef.qLabelExpression}}:n||t.qDef.qFieldLabels&&t.qDef.qFieldLabels.length&&""!==t.qDef.qFieldLabels[0]?n||(t.qDef.qFieldLabels&&t.qDef.qFieldLabels.length?t.qDef.qFieldLabels[0]:""):t.qDef.qFieldDefs[0];return{qInfo:{qType:"listbox"},qListObjectDef:i,title:n,visualization:"listbox"}}}},"L/bb":function(e,t,n){"use strict";var r=n("mWu2");var i=n("acVu");var a='<div class="qv-item-border-outer" ng-if="showBorder"></div>\n<div class="qv-item-border-inner" ng-if="showBorder"></div>\n<div class="item-thumb" ng-class="{ editMode: editmode}">\n\t<div ng-if="editmode" class="edit-thumb-area">\n\t\t<button class="lui-overlay-button set-thumb" ng-click="modifyThumb(\'change\')" q-title-translation="Thumbnail.Change" ng-style="setThumbStyle">\n\t\t\t<span class="lui-overlay-button__icon  lui-icon lui-icon--image"></span>\n\t\t</button>\n\n\t\t<div ng-if="thumbUrl" class="touch-area" ng-click="modifyThumb(\'remove\')">\n\t\t\t<button class="lui-overlay-button lui-overlay-button--small removeThumb" q-title-translation="Thumbnail.Remove">\n\t\t\t\t<span class="lui-overlay-button__icon lui-icon lui-icon--small lui-icon--close"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div ng-if="!thumbUrl" qv-item-thumb-generate class="ao-flex" ng-class="extraClass" aria-hidden="true">\n\t\t<img qva-prevent-drag ng-if="ngImgSrc" class="item-thumb-img img-no-drag" ng-src="{{ ngImgSrc }}">\n\t\t<div ng-if="hasStorySvg" storytelling-thumbnail></div>\n\t</div>\n\t<img qva-prevent-drag ng-if="thumbUrl" ng-src="{{ imgSrc }}" class="item-thumb-img img-no-drag"/>\n\t<div class="thumb-hover"></div>\n\t<div ng-if="statusIndicator && !editmode" qv-item-indicator type="indicatorType"></div>\n</div>';var o=n("pnby");var s=n("+nQQ");var l=n("8IgQ");var c=n("93Vl");var u=n("k9vo");var d=n("+Kna");var f=n("IfNZ");var p='<div class="item-indicator" ng-class="indicatorClass">\n\t<span class="qv-iis" q-translation="{{label}}"></span>\n\t<div class="triangle"></div>\n</div>';r["default"].directive("qvItemIndicator",[function(){return{restrict:"A",replace:true,scope:{type:"="},template:p,link:function e(t){if("draft"===t.type){t.indicatorClass="draft-indicator";t.label="Common.Draft"}else{t.indicatorClass="updating-indicator";t.label="Common.Updating"}}}}]);var h=n("6ke+");var v=function e(){return Object(i["b"])("AOSHARE")};function m(e){var t="";var n=!!(e.qData.cells||[]).length;var r=v();t=!n||!r&&e.qMeta.published?c["a"].getSrc(e.qMeta.published,true):c["a"].paintCanvas(e);return t}r["default"].directive("qvItemThumbGenerate",[function(){return{restrict:"A",scope:"=",link:function e(t){t.ngImgSrc="";t.hasStorySvg=false;l["a"].load().then((function(){t.issheet?t.$watch("item",(function(e){t.ngImgSrc=m(e)})):t.$watch("item",(function(e){e.qMeta.published?t.ngImgSrc=c["a"].getSrc(true,false):c["a"].generateImageForStory(t,o["a"]).then((function(){t.ngImgSrc="";t.hasStorySvg=true;t.extraClass={hasStorySvg:true}}),(function(){t.ngImgSrc=c["a"].getSrc(false,false);t.hasStorySvg=false;t.extraClass={}}))}))}))}}}]);r["default"].directive("qvAoThumb",[function(){return{restrict:"A",scope:{item:"=",issheet:"=",thumbprop:"=",thumblayout:"=",editmode:"=",emitchanges:"=",islist:"@"},template:a,link:function e(t){var n=false;var i=t.item.qMeta&&t.item.qMeta.sourceObject&&t.item.qMeta.sourceObject.length>0;var a=t.item.qMeta&&t.item.qMeta.draftObject&&t.item.qMeta.draftObject.length>0;t.statusIndicator=i||a;t.showBorder="1"===t.islist&&!t.issheet;t.thumblayout&&t.thumblayout.qStaticContentUrl&&(t.thumbUrl=t.thumblayout.qStaticContentUrl.qUrl);t.statusIndicator&&(t.indicatorType=i?"draft":"updating");t.setThumbStyle={"z-index":s["a"].maxNumberOfSlideItems+4};function o(){t.thumbprop.qStaticContentUrlDef&&delete t.thumbprop.qStaticContentUrlDef.qUrl;t.thumbUrl="";t.emitchanges&&t.$emit("thumbnailchanged")}t.modifyThumb=function(e){if("change"===e){n=true;d["a"].show({onCancel:function e(t){n=false;t&&o()},onConfirm:function e(r,i){if(i){t.thumbprop.qStaticContentUrlDef?t.thumbprop.qStaticContentUrlDef.qUrl=u["a"].stripBasePath(i):t.thumbprop.qStaticContentUrlDef={qUrl:u["a"].stripBasePath(i)};""===t.thumbprop.qStaticContentUrlDef.qUrl&&delete t.thumbprop.qStaticContentUrlDef.qUrl;t.emitchanges&&t.$emit("thumbnailchanged")}t.thumbUrl=r?u["a"].stripBasePath(r):"";n=false},selectedFile:t.thumbUrl?u["a"].stripBasePath(t.thumbUrl):"",outsideIgnore:"nav-".concat(f["a"].NavigationMode.sheet)})}"remove"===e&&o()};var l=t.$watch("thumblayout.qStaticContentUrl.qUrl",(function(e){t.thumbUrl=e}));var p=t.$watch("thumbUrl",(function(e){if(e&&e.length>1){var n=new Image;e=u["a"].stripBasePath(e);e=u["a"].addBasePath(e);n.src=e;n.onerror=function(){t.imgSrc=c["a"].staticSrc().brokenImage();r["default"].$apply(t)};n.onload=function(){t.imgSrc=e;r["default"].$apply(t)}}else r["default"].$apply(t)}));t.$on("$destroy",(function(){p();l();n&&d["a"].hide()}))}}}])},"L8/4":function(e,t,n){"use strict";var r=n("mWu2");var i='<div class="qui-float" ng-style="{top:top, left:left}" ng-show="visible" qva-reported-window-size="reportedWindowSize">\n\t<div ng-transclude></div>\n</div>\n';r["default"].component("quiFloat",{transclude:true,template:i,scope:{quiOffset:"=",quiResizeOnChange:"="},controller:["$scope","$element","$timeout",function(e,t,n){function r(){if(!e.quiOffset||!e.reportedSize||!e.reportedWindowSize)e.visible=false;else{e.quiOffset.left+e.reportedSize.width<e.reportedWindowSize.width?e.left=e.quiOffset.left:e.left=e.reportedWindowSize.width-e.reportedSize.width;e.quiOffset.top+e.reportedSize.height<e.reportedWindowSize.height?e.top=e.quiOffset.top:e.top=e.reportedWindowSize.height-e.reportedSize.height;e.visible=true}}function i(){n((function(){e.reportedSize={width:t.outerWidth(),height:t.outerHeight()}}))}e.$watch("quiResizeOnChange",i,true);e.$watch("[quiOffset, reportedSize, reportedWindowSize]",r,true)}]});function a(e){return Number(String(e).replace(/[^-\d]/g,""))}var o={getNumerical:function e(t,n,r){t=a(t);n=Number(n);r=Number(r);if(t<n)return n;if(0!==r&&t>r)return r;return t}};var s='<span class="qui-input-number lui-input-group">\n\t<button class="lui-input-group__item  lui-input-group__button  lui-button" qva-activate="onChange(-1)" ng-disabled="quiDisabled" ng-if="quiWithButtons">\n\t\t<span class="lui-button__icon">-</span>\n\t</button>\n\t<input type="tel" class="lui-input-group__item  lui-input-group__input  lui-input {{quiClass}}" tid="{{quiTid}}" title="{{quiTitle}}" ng-model="quiModel" ng-model-options="{ updateOn: \'blur\' }" ng-change="onChange()" ng-disabled="quiDisabled"/>\n\t<button class="lui-input-group__item  lui-input-group__button  lui-button" qva-activate="onChange(1)" ng-disabled="quiDisabled" ng-if="quiWithButtons">\n\t\t<span class="lui-button__icon">+</span>\n\t</button>\n</span>\n';r["default"].component("quiInputNumber",{template:s,scope:{quiModel:"=",quiDisabled:"=",quiTitle:"@",quiMin:"@",quiMax:"@",quiClass:"@",quiSelectTextOnFocus:"@",quiWithButtons:"@",quiTid:"@"},controller:["$scope","$element",function(e,t){if(e.quiSelectTextOnFocus){e.selected=false;t.click((function(){if(false===e.selected){t.select();e.selected=true}}));t.blur((function(){e.selected=false}))}e.onChange=function(n){var r=parseInt(n,10)||0;e.quiModel=o.getNumerical(parseInt(t.find(".lui-input").val(),10)+r,e.quiMin,e.quiMax)}}]});var l=n("qIEf");var c=n.n(l);var u=n("GMLQ");var d='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-class="[quiModel.buttonClass, quiModel.buttonVariant, {\'lui-active\': shared.pressed }]"\n\t\tq-title-translation="{{currentTitle}}"\n\t\tqva-outside-ignore-for="{{quiModel.tid}}"\n\t\tng-click="onClick()">\n\t<span class="{{quiModel.buttonClass}}__icon lui-icon  lui-icon--{{quiModel.icon}}  {{quiModel.menuOptions.smallview ? \'lui-icon--large\' : \'\'}}"></span>\n\t<span class="{{quiModel.buttonClass}}__text" ng-if="quiModel.buttonText">\n\t\t{{quiModel.buttonText}}\n\t</span>\n\t<span ng-if="!quiModel.hideCaret" class="{{quiModel.buttonClass}}__caret  lui-caret"></span>\n</button>\n';var f='<lui-popover ng-style="{ width: quiModel.menuOptions.width }">\n\t<ul ng-class="menuClasses" tid="{{quiModel.menuOptions.content.tid}}">\n\t\t<li class="lui-list__item"\n\t\t\tng-repeat="menuItem in menuItems"\n\t\t\tng-class="{\'open-in-new-tab-always\': menuItem.openInNewTab == \'always\', \'lui-disabled\': menuItem.disable, \'header-item\': menuItem.headerItem, \'last-menu-item\' : menuItem.last}"\n\t\t\tng-hide="menuItem.hide">\n\n\t\t\t<qv-menu-switch tid="{{menuItem.tid}}" x-model="menuItem" callback="selectMenuItem(menuItem, $event)" ng-if="menuItem.showSwitch"></qv-menu-switch>\n\n\t\t\t<button tid="{{menuItem.tid}}"\n\t\t\t\t class="action-item"\n\t\t\t\t ng-class="[quiModel.buttonClass, quiModel.buttonVariant]"\n\t\t\t\t ng-click="selectMenuItem(menuItem, $event)"\n\t\t\t\t q-title-translation="{{ menuItem.title || menuItem.text}}"\n\t\t\t\t ng-disabled="menuItem.disable"\n\t\t\t\t ng-if="!menuItem.showSwitch">\n\t\t\t\t<span ng-if="menuItem.icon"\tclass="lui-list__aside">\n\t\t\t\t\t<span class="lui-icon  lui-icon--{{menuItem.icon}}" ng-disabled="menuItem.disable"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class="lui-list__text menu-item-text"\n\t\t\t\t\t  q-translation="{{menuItem.text}}"\n\t\t\t\t\t  ng-class="{\'open-in-new-tab-text-optional\': menuItem.openInNewTab == \'optional\', \'open-in-new-tab-always\': menuItem.openInNewTab == \'always\'}" aria-hidden="true">\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<div class="list-divider" ng-if="menuItem.openInNewTab === \'optional\'"></div>\n\t\t\t<button ng-if="menuItem.openInNewTab" class="lui-fade-button"\n\t\t\t\t\tng-class="[quiModel.buttonClass, quiModel.buttonVariant]"\n\t\t\t\t\tq-title-translation="{{ menuItem.title || \'Tooltip.OpenInNewTab\'}}"\n\t\t\t\t\tng-click="selectMenuItem(menuItem, $event, \'true\')"\n\t\t\t\t\tng-disabled="menuItem.disable" tabindex="-1">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--new-tab"></span>\n\t\t\t</button>\n\t\t</li>\n\t</ul>\n</lui-popover>\n';var p='<div class="menu-switch-component" tcl="switch" q-title-translation="{{ model.text }}">\n    <span ng-if="model.icon" class="lui-list__aside switch_icon">\n        <span class="lui-icon  lui-icon--{{model.icon}}" ng-disabled="model.disable"></span>\n    </span>\n    <span class="label" ng-disabled="readOnly">\n        <div class="title" q-translation="{{ model.text }}"></div>\n        <div class="value" q-translation="{{ model.label() }}"></div>\n    </span>\n    <lui-switch x-model="switchValue"></lui-switch>\n</div>';r["default"].directive("qvMenuSwitch",[function(){return{template:p,scope:{model:"=",callback:"&"},link:function e(t){t.switchValue=t.model.value;t.$watch("switchValue",(function(e,n){void 0!==e&&e!==n&&t.callback()}))}}}]);var h={TAB:9};function v(e){return e.parents(".popover-container").length?e.parents(".popover-container")[0]:null}function m(e,t,n){return e.which===h.TAB&&e.target!==t.alignTo&&c()(e.target).closest(".lui-popover-container")[0]!==n[0]}var g={template:f,scope:{quiModel:"=",shared:"=",close:"="},controller:["$scope","$element","$document",function(e,t,n){e.menuClasses=e.quiModel.menuOptions.content.menuClasses?e.quiModel.menuOptions.content.menuClasses:"qui-textlist";e.quiModel.menuOptions.content.createMenuItems().then((function(t){e.menuItems=t}));e.selectMenuItem=function(t,n,r){n&&n.preventDefault&&n.preventDefault();if(!t.disable){e.close&&e.close();t.selected(n,r)}};n.on("keyup.qv-popover",(function(n){v(t)&&m(n,e,t)&&e.close&&e.close()}));e.$on("$destroy",(function(){n.off("keyup.qv-popover")}))}]};u["a"].directive("qvPopoverButton",[function(){return{template:d,transclude:true,replace:true,restrict:"E",scope:{quiModel:"=",quiPopoverContainer:"=?"},controller:["$scope","$element","luiPopover",function(e,t,n){var r;e.shared={pressed:false};e.onClick=function(){if(e.shared.pressed&&r){r.close();return}e.shared.pressed=!e.shared.pressed;r=n.show({controller:g.controller,template:g.template,dock:"bottom",alignTo:t[0],autoFocus:false,closeOnResize:true,outsideIgnore:e.quiModel.tid,container:v(t),input:{quiModel:e.quiModel,shared:e.shared,close:function e(){r.close()}}});r.closed.then((function(){e.shared.pressed=false}))};e.$watch("shared.pressed",(function(t){e.currentTitle=t&&e.quiModel.tooltipActive?e.quiModel.tooltipActive:e.quiModel.tooltipInactive}))}]}}]);var b='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-class="[quiModel.buttonClass, quiModel.buttonVariant, {\'lui-active\': shared.pressed }]"\n\t\tq-title-translation="{{currentTitle}}"\n\t\tqva-outside-ignore-for="{{quiModel.tid}}"\n\t\tng-click="onClick()">\n\t<span ng-if="!quiModel.hideIcon" class="{{quiModel.buttonClass}}__icon lui-icon  lui-icon--{{quiModel.icon}}  {{quiModel.menuOptions.smallview ? \'lui-icon--large\' : \'\'}}"></span>\n\t<span class="{{quiModel.buttonClass}}__text" ng-if="quiModel.buttonText">\n\t\t{{quiModel.buttonText}}\n\t</span>\n\t<span ng-if="!quiModel.hideCaret" class="{{quiModel.buttonClass}}__caret  lui-caret"></span>\n</button>\n';var y='<immidiate-contextual align-to="alignTo"\n\t\t\t\t\t  smallview="quiModel.menuOptions.smallview"\n\t\t\t\t\t  position="quiModel.menuOptions.position"\n\t\t\t\t\t  width="quiModel.menuOptions.width"\n\t\t\t\t\t  top="quiModel.menuOptions.top"\n\t\t\t\t\t  lui-style="true"\n\t\t\t\t\t  no-padding="true"\n\t\t\t\t\t  hidepointer="quiModel.menuOptions.hidepointer"\n\t\t\t\t\t\tqva-outside-ignore-for="{{quiModel.tid}}"\n\t\t\t\t\t  on-close-view="onClose(event)">\n\t<ul ng-class="menuClasses" tid="{{quiModel.menuOptions.content.tid}}">\n\t\t<li class="lui-list__item" ng-repeat="menuItem in menuItems" ng-disabled="menuItem.disable" qui-click=\'menuItem.fn()\'\n\t\t\tng-class="{\'open-in-new-tab-always\': menuItem.openInNewTab == \'always\'}" ng-hide="menuItem.hide">\n\t\t\t<span ng-if="menuItem.icon" class="lui-list__aside">\n\t\t\t\t<span class="lui-icon  lui-icon--{{menuItem.icon}}"></span>\n\t\t\t</span>\n\t\t\t<span class="lui-list__text menu-item-text"\n\t\t\t\t  tid="{{menuItem.tid}}"\n\t\t\t\t  q-title-translation="{{ menuItem.title || menuItem.text}}"\n\t\t\t\t  ng-class="{\'open-in-new-tab-text-optional\': menuItem.openInNewTab == \'optional\', \'open-in-new-tab-always\': menuItem.openInNewTab == \'always\'}"\n\t\t\t\t  qva-activate="selectMenuItem(menuItem, $event)" q-translation="{{menuItem.text}}" ng-disabled="menuItem.disable">\n\t\t\t</span>\n\t\t\t<div class="list-divider" ng-if="menuItem.openInNewTab === \'optional\'"></div>\n\t\t\t<button ng-if="menuItem.openInNewTab" class="lui-fade-button  open-in-new-tab" ng-class="{\'open-in-new-tab-always\': menuItem.openInNewTab == \'always\'}" q-title-translation="{{ menuItem.title || \'Tooltip.OpenInNewTab\'}}" qva-activate="selectMenuItem(menuItem, $event, \'true\')" ng-disabled="menuItem.disable">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--new-tab"></span>\n\t\t\t</button>\n\t\t</li>\n\t</ul>\n</immidiate-contextual>\n';var w=n("FdxK");var S=n("wIyQ");var x={template:y,scope:{quiModel:"=",alignTo:"=",shared:"="},controller:["$scope",function(e){e.shared.destroyComponent=e.destroyComponent;e.menuClasses=e.quiModel.menuOptions.content.menuClasses?e.quiModel.menuOptions.content.menuClasses:"qui-textlist";e.quiModel.menuOptions.content.createMenuItems().then((function(t){e.menuItems=t}));e.selectMenuItem=function(t,n,r){n&&n.preventDefault&&n.preventDefault();if(!t.disable){e.onClose&&e.onClose(n);t.selected(n,r)}};e.onClose=function(t){if(!c()(t.target).hasClass("qui-popover-button")||e.quiModel.tid!==c()(t.target).attr("tid")){e.destroyComponent();e.shared.pressed=false}};e.closeFromContent=function(){e.destroyComponent();e.shared.pressed=false};e.$on("$destroy",(function(){S["a"].off("start",e.onClose)}));S["a"].on("start",e.onClose)}]};u["a"].directive("quiPopoverButton",[function(){return{template:b,transclude:true,replace:true,restrict:"E",scope:{quiModel:"=",quiPopoverContainer:"=?"},controller:["$scope","$element",function(e,t){var n={ENTER:13,SPACE:32};e.shared={};e.shared.pressed=false;e.$watch("shared.pressed",(function(t){e.currentTitle=t&&e.quiModel.tooltipActive?e.quiModel.tooltipActive:e.quiModel.tooltipInactive}));t.on("keypress",(function(t){t.keyCode!==n.ENTER&&t.keyCode!==n.SPACE||e.onClick()}));e.onClick=function(){if(e.shared.pressed){if(e.shared.destroyComponent){e.shared.destroyComponent();e.shared.pressed=false}}else{e.shared.pressed=true;w["a"].show(e.quiPopoverContainer||x,{quiModel:e.quiModel,alignTo:t,shared:e.shared})}};e.quiModel&&(e.quiModel.forceClick=e.onClick)}]}}]);var C='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-click="onButton($event)"\n\t\tng-mousedown="onMouseDown()"\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tq-title-translation="{{(quiModel.pressed && quiModel.tooltipActive ? quiModel.tooltipActive : quiModel.tooltipInactive)}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-hide="quiModel.isHidden()"\n\t\tclass="lui-button"\n\t\ttext-inactive="{{quiModel.textInactive ? quiModel.textInactive : \'\'}}"\n\t\tng-class="classList">\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="quiModel.icon && quiModel.iconToTheLeft"\n\t\tclass="lui-button__icon  lui-icon  lui-icon--{{quiModel.icon}} center"\n\t></span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="!quiModel.dynamicText && quiModel.showText()"\n\t\tclass="lui-button__text  item-title"\n\t\tqva-direction\n\t\tx-dir-text="{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}"\n\t>\n\t\t{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}\n\t</span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="quiModel.icon && !quiModel.iconToTheLeft"\n\t\tclass="lui-button__icon  lui-icon  lui-icon--{{quiModel.icon}} center"\n\t></span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="!quiModel.dynamicText && !quiModel.textOnly && quiModel.isDropdownButton"\n\t\tclass="lui-button__caret  lui-caret"\n\t></span>\n\t<span class="lui-button__text" qva-outside-ignore-for="{{quiModel.name}}" ng-if="quiModel.dynamicText">\n\t\t{{ quiModel.dynamicText() }}\n\t</span>\n</button>\n';var q='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-click="onButton($event)"\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tq-title-translation="{{(quiModel.pressed && quiModel.tooltipActive ? quiModel.tooltipActive : quiModel.tooltipInactive)}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-hide="quiModel.isHidden()"\n\t\tclass="lui-fade-button lui-fade-button--large lui-fade-button--inverse"\n\t\tng-class="{ \'lui-active\': quiModel.pressed }">\n\t<span qva-outside-ignore-for="{{quiModel.name}}" ng-if="!quiModel.dynamicText && quiModel.showText()"\n\t\tclass="lui-fade-button__text  item-title"\n\t\tqva-direction\n\t\tx-dir-text="{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}">\n\t\t{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}\n\t</span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="!quiModel.dynamicText && !quiModel.textOnly"\n\t\tclass="lui-fade-button__icon  lui-icon  lui-icon--large  lui-icon--{{quiModel.icon}}"></span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tclass="lui-fade-button__text"\n\t\tng-if="quiModel.dynamicText">{{ quiModel.dynamicText() }}</span>\n</button>\n';var E=n("acVu");r["default"].component("quiToolbar",{template:"<div class='qui-toolbar' ng-transclude ></div>"});r["default"].component("quiToolbarLeft",{template:"<div class='qui-buttonset-left' ng-transclude ></div>"});r["default"].component("quiToolbarRight",{template:"<div class='qui-buttonset-right' ng-transclude ></div>"});r["default"].component("quiToolbarButtonGroup",{template:"<div class='lui-buttongroup' ng-transclude ></div>"});r["default"].component("quiToolbarButton",{template:C,scope:{quiModel:"="},controller:["$scope",function(e){e.isMouseDown=false;e.onMouseDown=function(){e.isMouseDown=true};e.clientTabNavigation=Object(E["b"])("CLIENT_TAB_NAVIGATION");e.onButton=function(t){c.a.support.touch&&t.target.focus();e.quiModel.isToggleButton&&(e.quiModel.pressed=!e.quiModel.pressed);e.quiModel.isOpenedByClick=e.isMouseDown;e.isMouseDown=false;e.quiModel.onButtonClicked(e.quiModel,t)};function t(){var t=[];var n=e.quiModel;n.pressed?n.activeVariant?t.push(n.activeVariant):t.push("lui-active"):n.variant?t.push(n.variant):e.clientTabNavigation||t.push("lui-button--toolbar");e.classList=t}e.$watch("quiModel.pressed",t);e.$watch("quiModel.variant",t);e.$watch("quiModel.activeVariant",t);t()}]});r["default"].component("quiToolbarMobileButton",{template:q,scope:{quiModel:"="},controller:["$scope",function(e){e.onButton=function(t){c.a.support.touch&&t.target.focus();e.quiModel.isToggleButton&&(e.quiModel.pressed=!e.quiModel.pressed);e.quiModel.onButtonClicked(e.quiModel,t)}}]})},Lj2P:function(e,t,n){"use strict";var r=n("6uJb");var i=n("gVPc");var a=n("acVu");var o={};Object.defineProperty(o,"path",{get:function e(){var t=i["a"].getProductInfo(),n=t.externalUrls;var o;o=n.helpBaseUrl?n.helpBaseUrl:Object(a["b"])("IS_DESKTOPCLIENT")?n.personalHelpBaseUrl:n.serverHelpBaseUrl;var s=o.replace("{language}",r["default"].language);return"".concat(s,"client/")},configurable:true});t["a"]=o},LoC2:function(e,t,n){"use strict";var r=n("ZszH");var i={};var a="";var o={put:s,has:l,get:c};t["a"]=o;function s(e,t){if(!e||!t||"string"!==typeof e||"string"!==typeof t)return;var n=r["a"].getNormalizedExpression(e);var a=t;i[n]=a}function l(e){if(!e||"string"!==typeof e)return false;var t=r["a"].getNormalizedExpression(e);var n=i[t];return!!n}function c(e){if(!e||"string"!==typeof e)return a;var t=r["a"].getNormalizedExpression(e);var n=i[t];return n||a}},M4qH:function(e,t,n){"use strict";var r=n("5Pwf");var i=n("mWu2");var a=n("sWge");var o=n("rB9Y");var s=n("tYBh");var l=n("W4iw");var c=n("27Vq");var u=n("szcw");var d=n("TLJm");function f(e,t,n,f,p){function h(e){var t=e.substring(e.indexOf("_")+1,e.length);return t}function v(e){if("FIX"===e.qType){e.qFixedWidthDelimiters=e.qFixedWidthDelimiters.toString();e.qLabel="no labels";"1"!==e.qFixedWidthDelimiters&&0!==e.qFixedWidthDelimiters.indexOf("1,")&&(e.qFixedWidthDelimiters="1,".concat(e.qFixedWidthDelimiters))}return e}function m(){var e;var t={};var n;var r;for(e=0;e<arguments.length;e++){n=arguments[e];for(r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}function g(e){if(e){e=e.replace(/^(\\)/,"");e=e.replace(/\\/g,"/")}return e}function b(e,t){t=g(t);var n=t?r["a"].currentApp.guessFileType(e,t):r["a"].currentApp.guessFileType(e);return n}var y;var w;var S=e.id;var x;n?p?r["a"].currentApp.getConnection(S).then((function(e){x=e.qConnection.qConnectionString})):x=g(n.singleFileName):f?x=f.data.databaseName:p?r["a"].currentApp.getConnection(S).then((function(e){x=e.qConnection.qConnectionString})):x=void 0;var C;var q;var E;var I;var k;var A=["TYPE9_FIX","TYPE9_EXCEL_OOXML","TYPE9_EXCEL_BIFF","TYPE9_HTML","TYPE9_XML","TYPE9_KML","TYPE9_CSV","TYPE9_QVD","TYPE9_QVX"];var T=["TYPE9_EXCEL_OOXML","TYPE9_EXCEL_BIFF","TYPE9_HTML","TYPE9_XML","TYPE9_KML"];return a["a"].all({codepageOptions:c["a"].getCodepageOptionsPromise(),bnfModel:o["a"].getReloadScriptBnfModel()}).then((function(n){w=n.codepageOptions;y=n.bnfModel;C=new s["a"](e,w,t);q=l["a"].createScriptGenerator(e,C,y);var a=b(S,x).then((function(n){n.qDataFormat.qType="TYPE9_".concat(n.qDataFormat.qType);-1===A.indexOf(n.qDataFormat.qType)&&(n.qDataFormat.qType="TYPE9_CSV");C.getSettingsModelForFile(x).setSettingsGuess(n.qDataFormat);I=!f&&("TYPE9_XML"===n.qDataFormat.qType||"TYPE9_CSV"===n.qDataFormat.qType||"TYPE9_QVD"===n.qDataFormat.qType||"TYPE9_QVX"===n.qDataFormat.qType||"TYPE9_JSON"===n.qDataFormat.qType||"TYPE9_KML"===n.qDataFormat.qType);E=T.indexOf(n.qDataFormat.qType)>-1;k="scripteditor.dataconnectors.".concat("TYPE9_XML"===n.qDataFormat.qType||"TYPE9_HTML"===n.qDataFormat.qType?"tables":"sheets");var a={getConnectionInfo:function e(){return i["default"].promise({dbusage:false,ownerusage:false,dbfirst:false,specialchars:"!  　\"$&'()*+,-/:;<>´`{}~[]\r\n\t",dbseparator:"",ownerseparator:"",quotesuffix:'"',quoteprefix:'"',quotesuffixfordoublequotes:"]",quoteprefixfordoublequotes:"[",keywords:[]})},getDatabases:function e(){if(p)return i["default"].promise([{qName:""}]);return i["default"].promise([{qName:x}])},getOwners:function e(){var t=[];var r;for(r=0;r<A.length;r++)t.push({qName:A[r],qIsDefault:A[r]===n.qDataFormat.qType});return i["default"].promise(t)},getTables:function n(a,o){if(T.indexOf(o)>-1){var s=h(o);var l={qType:s};var c={qConnectionId:S,qRelativePath:a,qDataFormat:l};return("TYPE9_XML"===o||"TYPE9_JSON"===o||"TYPE9_KML"===o?r["a"].currentApp.getFileTablesEx(c):r["a"].currentApp.getFileTables(c)).then((function(e){if(e.qTables.length>0){if(I){for(var n=0;n<e.qTables.length;n++)if(t){var r=t.getOrCreateTableModelByDatabasePath(a,o,e.qTables[n].qName);var i=C.getSettingsModelForTable(a,o,e.qTables[n].qName);i.setFormatSpec(e.qTables[n].qFormatSpec);r.setFormatSpec(e.qTables[n].qFormatSpec)}else C.getSettingsModelForTable(a,o,e.qTables[n].qName).setFormatSpec(e.qTables[n].qFormatSpec);e.qTables[0].qIsDefault=true}return e.qTables}return[]}),(function(e){3002!==e.code&&e.code!==d["a"].LocalizedErrorCode.LOCERR_GENERIC_INVALID_PARAMETERS&&(e.isHandled=true);return[]}))}if(p)return i["default"].promise([{qName:e.name,qIsDefault:true}]);var u=x.lastIndexOf("\\");var f=u>=0?x.substring(u+1):x;var v=f.lastIndexOf(".");var m=v>=0?f.substring(0,v):f;return i["default"].promise([{qName:m,qIsDefault:true}])},getFields:function e(n,i,a,o){var s=T.indexOf(i)>-1;var l=h(i);var c={qType:l};var u=C.getSettingsModelForFile(n).getParamsForEngine();var d=C.getSettingsModelForTable(n,i,a).getParamsForEngine();var f=v(m(c,u,d));var p=s?{qConnectionId:S,qRelativePath:n,qTable:a,qDataFormat:f}:{qConnectionId:S,qRelativePath:n,qTable:"",qDataFormat:f};return r["a"].currentApp.getFileTableFields(p).then((function(e){var r=C.getSettingsModelForTable(n,i,a);r.setFormatSpec(e.qFormatSpec);if(t){var s=t.getOrCreateTableModelByDatabasePath(n,i,a);s.data.fileFormatSettings=r.getParamsForEngine();s.setFormatSpec(e.qFormatSpec)}if(o){o.qFormatSpec=e.qFormatSpec;o.fileFormatSettings=r.getParamsForEngine()}if(e.qFields)for(var l=0;l<e.qFields.length;l++)e.qFields[l].qName||(e.qFields[l]={qName:""});return e.qFields}),(function(e){e.isHandled=true;return[]}))},getPreview:function e(t,n,i){E=T.indexOf(n)>-1;var a=h(n);var o={qType:a};var s=C.getSettingsModelForFile(t).getParamsForEngine();var l=C.getSettingsModelForTable(t,n,i).getParamsForEngine();var c=v(m(o,s,l));var u=E?{qConnectionId:S,qRelativePath:t,qTable:i,qDataFormat:c}:{qConnectionId:S,qRelativePath:t,qTable:"",qDataFormat:c};return r["a"].currentApp.getFileTablePreview(u).then((function(e){return e.qPreview}),(function(e){e.isHandled=true;return[]}))},selectOptions:{databaseTitle:"scripteditor.dataconnectors.file",databasePlaceholder:"scripteditor.dataconnectors.selectfile",tablesTitle:k,ownerTitle:"scripteditor.dataconnectors.fileformat",ownerPlaceholder:"",metadataVisible:false,tablesLocation:"full-height-left",specialTableSettingsLocation:"top-right",databaseVisible:false,ownerVisible:true,tablesVisible:true,forceSelectTables:I,scriptGenerator:q,showSelectionsSummary:false,specialTableSettings:new u["a"](C),precedingLoadVisible:false,selectFromTitleName:x,fileTypesWithTables:T,dataconnectorInstance:e,forceSelectFirstTable:!f,tableModelToEdit:f}};return a}));return a}))}t["a"]={createNativeFileProvider:f}},M755:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("mWu2");var l=n("FdxK");var c='<div id="actionIndicator"></div>';var u=null;var d={scope:{position:"="},template:c,controller:["$scope","$element",function(e,t){var n=t.children();var r=n.outerWidth();n.css("top",e.position.y-r/2);n.css("left",e.position.x-r/2);n.addClass("transition")}]};var f={show:function e(t,n){f.hide();s["default"].$apply(s["default"].$rootScope,(function(){u=l["a"].show(d,{position:{x:t,y:n}})}))},hide:function e(){s["default"].$apply(s["default"].$rootScope,(function(){if(u){u.destroy();u=null}}))}};var p=f;var h;var v=500;function m(e){return e.is("input:not([type=radio]):not([type=checkbox]), textarea:not([readonly])")&&!e.closest(".CodeMirror").length||e.closest("[contenteditable=true]").length||e.closest(".CodeMirror").length}function g(e){return e.is(".ignore-context-menu")}function b(e,t,n,r,a){n=i()(n);if(t.ctrlKey&&t.shiftKey)return;if(m(n))return;if(n.is(".progress")||n.is("select")){t.preventDefault();return}t.originalType=t.type;delete t.type;var o=i.a.Event(t,{type:e,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey});o.pageX=r;o.pageY=a;n.trigger(o);return false}function y(e){if(e.ctrlKey&&e.shiftKey)return;m(i()(e.target))||e.preventDefault()}i()(document.body).on("contextmenu",y);o()(document.body).tap({options:{preventDefault:false,which:3},start:function e(t){o.a.utils.isMouse(t)&&(this._openContextMenu=true)},end:function e(t){if(this._openContextMenu){b("qv-contextmenu",t,t.target,t.pageX,t.pageY);this._openContextMenu=false}}});(o.a.utils.msPointer||o.a.utils.touch)&&o()(document.body).longtap({options:{preventDefault:false,timeThreshold:v,interval:20},start:function e(t){if(o.a.utils.isMouse(t)||m(i()(t.target))||g(i()(t.target))){this.cancel();return}h=t.target},update:function e(t,n){if(100===n.percentage){p.show(n.pagePoints[0].x,n.pagePoints[0].y);b("qv-radial-contextmenu",t,h,n.pagePoints[0].x,n.pagePoints[0].y)}},cancel:function e(){p.hide()},end:function e(t,n){p.hide();b("qv-contextmenu",t,h,n.pagePoints[0].x,n.pagePoints[0].y);h=null}});i()(document.body).on("MSHoldVisual",(function(e){e.preventDefault()}));i()(document.body).on("MSGestureHold",(function(e){e.preventDefault()}))},MAcB:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n("vash"),a=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r}return r(t,e),t.GetDefaultCalendarModel=function(){var e={calendarModel:{locale:"en-US",defaultCalendar:{id:"autoCalendar",name:"autoCalendar",translation:"",appliedToTags:["$date"],params:{},derivedFields:[{id:"Decade",name:"Decade",translation:"",definition:"Dual(Div(Year($1),10)*10, MakeDate(Div(Year($1),10)*10, 1, 1))",tags:["$axis","$decade"],selected:!1},{id:"Year",name:"Year",translation:"scripteditor.autoCalendarYear",definition:"Dual(Year($1), YearStart($1))",tags:["$axis","$year"],selected:!0},{id:"Quarter",name:"Quarter",translation:"scripteditor.autoCalendarQuarter",definition:"Dual('Q'&Num(Ceil(Num(Month($1))/3)),Num(Ceil(NUM(Month($1))/3),00))",tags:["$quarter","$cyclic"],selected:!0},{id:"YearQuarter",name:"YearQuarter",translation:"scripteditor.autoCalendarQuarterYear",definition:"Dual(Year($1)&'-Q'&Num(Ceil(Num(Month($1))/3)),QuarterStart($1))",tags:["$yearquarter","$qualified"],selected:!0},{id:"_YearQuarter",name:"_YearQuarter",translation:"scripteditor.autoCalendarQuarterYear",definition:"Dual('Q'&Num(Ceil(Num(Month($1))/3)),QuarterStart($1))",tags:["$yearquarter","$hidden","$simplified"],selected:!0},{id:"Month",name:"Month",translation:"scripteditor.autoCalendarMonth",definition:"Month($1)",tags:["$month","$cyclic"],selected:!0},{id:"YearMonth",name:"YearMonth",translation:"scripteditor.autoCalendarMonthYear",definition:"Dual(Year($1)&'-'&Month($1), monthstart($1))",tags:["$axis","$yearmonth","$qualified"],selected:!0},{id:"_YearMonth",name:"_YearMonth",translation:"scripteditor.autoCalendarMonthYear",definition:"Dual(Month($1), monthstart($1))",tags:["$axis","$yearmonth","$simplified","$hidden"],selected:!0},{id:"Week",name:"Week",translation:"scripteditor.autoCalendarWeek",definition:"Dual('W'&Num(Week($1),00), Num(Week($1),00))",tags:["$weeknumber","$cyclic"],selected:!0},{id:"YearWeek",name:"YearWeek",translation:"",definition:"Dual(Year($1)&'-W'&num(Week($1),00), weekstart($1))",tags:["$yearweek"],selected:!1},{id:"WeekDay",name:"WeekDay",translation:"",definition:"Dual(WeekDay($1),num(WeekDay($1)))",tags:["$weekday"],selected:!1},{id:"Date",name:"Date",translation:"scripteditor.autoCalendarDate",definition:"Date(Floor($1))",tags:["$axis","$date","$qualified"],selected:!0},{id:"_Date",name:"_Date",translation:"scripteditor.autoCalendarDate",definition:"Date(Floor($1), 'D')",tags:["$axis","$date","$hidden","$simplified"],selected:!0}],groups:[{name:"YearMonthDay",drillDown:"true",fieldRefs:["Year","Month","WeekDay"]},{name:"YearMonth",drillDown:"false",fieldRefs:["Year","Month"]}],deriveFieldsType:"fieldExplicit"}}},n=new t("autoCalendar","autoCalendar"),r=e.calendarModel.defaultCalendar;return n.appliedToTags=r.appliedToTags,n.derivedFields=r.derivedFields,n.groups=r.groups,n.deriveFieldsType=r.deriveFieldsType,{calendar:n,locale:e.calendarModel.locale}},t}(i.Referencable);t.Calendar=a},MGTR:function(e,t,n){"use strict";function r(){this.topics={};this.wildcards=[]}r.prototype.getTopics=function e(t,n){var r=this.topics[t];if("undefined"===typeof r&&n){r=[];this.topics[t]=r}return r};r.prototype.createMatcher=function e(t){var n=t.replace(/\$/g,"\\$");return new RegExp("^".concat(n.replace(/\*/g,".+?"),"$"),"i")};r.prototype.subscribe=function e(t,n,r){var i=t.toLowerCase().split(".");if("function"!==typeof n)throw new Error("pubsub: Invalid handler");var a={handler:n,topic:i[0],namespace:i[1],context:r||window};if(i[0].indexOf("*")>-1){a.matcher=this.createMatcher(i[0]);this.wildcards.push(a)}else this.getTopics(i[0],true).push(a)};r.prototype.subscribeOnce=function e(t,n,r){var i=this;function a(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];n.apply(this,r);i.unsubscribe(t,n)}a.original=n;this.subscribe(t,a,r)};r.prototype.unsubscribe=function e(t,n){var r=t.toLowerCase();this["."===r[0]?"unsubscribeNamespace":"unsubscribeTopic"](r,n)};r.prototype.unsubscribeNamespace=function e(t){var n=this;var r=t.substr(1);function i(e){return e.namespace!==r}this.wildcards=this.wildcards.filter(i);Object.keys(this.topics).forEach((function(e){n.topics[e]=n.topics[e].filter(i);n.topics[e].length||delete n.topics[e]}))};r.prototype.unsubscribeTopic=function e(t,n){var r=t.split(".");var i=this.getTopics(r[0]);function a(e){var t=e.topic!==r[0];!t&&n&&(t=e.handler.original?e.handler.original!==n:e.handler!==n);return t}this.wildcards=this.wildcards.filter(a);if(i){i=i.filter(a);this.topics[r[0]]=i;i.length||delete this.topics[r[0]]}};r.prototype.publish=function e(t,n){var r=t.toLowerCase().split(".");var i=this.getTopics(r[0]);function a(e){(!e.matcher||e.matcher&&e.matcher.test(r[0]))&&e.handler.call(e.context,n,r[0])}this.wildcards.forEach(a);i&&i.forEach(a)};t["a"]=new r},MK7S:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("lPl/");t["a"]=function(e){return i.a.createElement(a["a"],Object.assign({d:"M9.34535242,8 L13.3273238,11.9819714 C13.6988326,12.3534802 13.6988326,12.955815 13.3273238,13.3273238 C12.955815,13.6988326 12.3534802,13.6988326 11.9819714,13.3273238 L8,9.34535242 L4.01802863,13.3273238 C3.64651982,13.6988326 3.04418502,13.6988326 2.67267621,13.3273238 C2.3011674,12.955815 2.3011674,12.3534802 2.67267621,11.9819714 L6.65464758,8 L2.67267621,4.01802863 C2.3011674,3.64651982 2.3011674,3.04418502 2.67267621,2.67267621 C3.04418502,2.3011674 3.64651982,2.3011674 4.01802863,2.67267621 L8,6.65464758 L11.9819714,2.67267621 C12.3534802,2.3011674 12.955815,2.3011674 13.3273238,2.67267621 C13.6988326,3.04418502 13.6988326,3.64651982 13.3273238,4.01802863 L9.34535242,8 Z"},e))}},MNDU:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},MW42:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("wIyQ");var s='<button ng-click="onClick($event, \'inverse\')" qv-enter="onClick($event)" class="colorpicker-button lui-button {{variantClass}}" ng-class="{\'lui-active\': opened === true}" q-title-translation="ColorPicker.Choose">\n\t<span class="lui-button__icon  qv-color-picker-preview" tid="color-picker-preview"></span><span class="lui-button__caret lui-caret"></span>\n</button>';var l=n("l7Dq");var c=n("gKi2");var u;var d;var f=l["a"].popupComponent;var p={name:"default",colors:["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"]};function h(e,t){if(void 0!==e){if(void 0!==e.index&&-1!==e.index&&t[e.index])return t[e.index];if(void 0!==e.color)return e.color?e.color:"none";return e||"none"}return}function v(e,t){if("none"===t){e.addClass("transparent");e.css("background-color","transparent")}else{e.css("background-color",t);e.removeClass("transparent")}}function m(){return"inverse"}function g(e,t,n,r,o,s){if(d&&d.element===t){u&&u.close();u=null;d=null;return}d={model:o,element:t,previewBox:r,scope:e};var l=e.palettes;var m=e.palette||p;var g=false!==e.$eval(n.extended);var b=a["default"].getService("luiPopover");var y=e.$eval(n.recentColorsFlag)||false;var w=e.$eval(n.dock)||"top";var S;function x(t,n){n.$setViewValue(t);e.onChange&&e.onChange();if(r){var i="undefined"!==typeof m.colors?h(n.$viewValue,m.colors):h(n.$viewValue,m);v(r,i)}}var C;var q;var E=a["default"].getService("$timeout");var I=c["a"].getDefaultGlyphs();I.forEach((function(e){e.cssClass=c["a"].getIconClass(e.icon)}));u=b.show({template:f.template,controller:f.controller,input:{$palettes:l,$palette:m,$glyphPalette:I,$useGlyph:e.$eval(n.useGlyph)||false,$disableNone:e.$eval(n.disableNone)||false,$defaultColor:"undefined"!==typeof m.colors?h(o.$viewValue,m.colors):h(o.$viewValue,m),$inputViewValue:o.$viewValue,$extended:g,$recentColorsFlag:y,onColorChange:function e(t,n,r,i,a){q=t?{color:r,index:n,icon:a,cssClass:c["a"].getIconClass(a)}:{color:r,index:n,palette:i,icon:a,cssClass:c["a"].getIconClass(a)};x(q,o)}},alignTo:t[0],variant:s,closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:w,autoFocus:false});u.closing.then((function(n){e.onClose&&e.onClose(n);var r;if(n){S=n;r=i()(n.target).closest(t[0]).length>0}if(C){E.cancel(C);x(q,o);C=null}r||(d=null)}));u.closed.then((function(){S&&S.target.classList.contains("color-scale-container")&&(d=null)}));e.onOpen&&e.onOpen(u)}a["default"].directive("qvColorPickerCustomNew",[function(){return{require:"?ngModel",scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"=",palette:"=",palettes:"="},link:function e(t,n,r,i){t.callback&&(t.callback.close=function(){u&&u.close()});t.$parent&&(t.$parent.onClick=function(){var e=m();g(t,n,r,null,i,e)});function a(){u&&u.close()}o["a"].on("start",a);t.$on("$destroy",(function(){u&&d&&d.element===n&&u.close();o["a"].off("start",a)}))}}}]);a["default"].directive("qvColorPickerButtonNew",[function(){return{require:"?ngModel",replace:true,scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"=",palette:"=",palettes:"="},template:s,link:function e(t,n,r,i){var a=t.palette||p;var s="undefined"!==typeof a.colors?h(i.$viewValue,a.colors):h(i.$viewValue,a);var l=n.find(".qv-color-picker-preview");t.onClick=function(){var e=m();g(t,n,r,l,i,e)};t.callback&&(t.callback.close=function(){u&&u.close()});function c(){u&&u.close()}t.variantClass=r.variant?"lui-button--".concat(r.variant):"";o["a"].on("start",c);t.$watch("palette",(function(){a=t.palette||p;i.$render()}));i.$render=function(){if(void 0===i.$viewValue)return;s="undefined"!==typeof a.colors?h(i.$viewValue,a.colors):h(i.$viewValue,a);v(l,s)};t.$on("$destroy",(function(){u&&d&&d.element===n&&u.close();o["a"].off("start",c)}))}}}])},Mb12:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("lCV6");function o(e){function t(t){e.imageCustomSize=t}function n(t){e.selectedSize=t}function r(t){if(!t||!t.orientation)return;e.selectedLayout=t;e.sizes.forEach((function(e){e.setLabel(t.orientation)}))}function o(t){e.export=t;e.print.format=t.format}function s(t){var n=l();if(t.isCustom){e.print.width=Math.round(n.width);e.print.height=Math.round(n.height);return}var r=t.toPixels(n.width);e.print.width=r.w;e.print.height=r.h}function l(){return{width:i()("#qv-story-play").is(":visible")?i()("#qv-story-play").find(".qv-story-play-slide").first().width():e.input.currentWidth,height:i()("#qv-story-play").is(":visible")?i()("#qv-story-play").find(".qv-story-play-slide").first().height():e.input.currentHeight,dpi:e.input.currentDpi}}function c(t){if(e.obj&&e.input.object){var n;var r;var i;e.print.width<8&&(e.print.width=8);e.print.height<8&&(e.print.height=8);e.print.dpi<e.minDpi&&(e.print.dpi=e.minDpi);e.print.dpi>e.maxDpi&&(e.print.dpi=e.maxDpi);var o=Math.round(e.print.width);var s=Math.round(e.print.height);var c=l();var f={width:Math.round(c.width),height:Math.round(c.height),dpi:c.dpi};var p=e.imageCustomSize?{width:e.print.width,height:e.print.height,dpi:e.print.dpi}:{width:e.input.currentWidth,height:e.input.currentHeight,dpi:e.input.currentDpi};var h={width:Math.round(p.width*(e.input.currentDpi/p.dpi)),height:Math.round(p.height*(e.input.currentDpi/p.dpi))};"image"===t&&(n={imageType:e.print.format,captureSize:p});if("pdf"===t){r=e.selectedSize.toMillimeters();i={right:10,left:10,top:10,bottom:10};n={width:r["portrait"===e.selectedLayout.orientation?"w":"h"],height:r["portrait"===e.selectedLayout.orientation?"h":"w"],dpi:e.print.dpi,fitCriteria:e.print.fitCriteria,margin:i,sourceSize:f}}"ppt"===t&&(n={width:o,height:s,dpi:e.print.dpi,sourceSize:f});e.state=e.states.PENDING;return a["a"].printTree(e.input.object,f,h,n,t).then((function(e){u(e,t)}),d)}e.destroyComponent();return}function u(t,n){e.printUrl=t.qUrl;e.printFileName=t.fileName;var r=n.charAt(0).toUpperCase()+n.slice(1);e.printUrlTranslationKey="Print.".concat(r,".CompletedLink");e.state=e.states.COMPLETED}function d(t){e.statusCode=t.httpStatusCode;var n=t&&t.status;switch(n){case e.states.CANCELED:case e.states.TIMEOUT:e.state=n;break;default:e.state=e.states.FAILED;break}}return{onImageCustomSize:t,onSizeChange:n,onPrintLayout:r,onFormatChange:o,confirm:c,onPptFormatChange:s}}t["a"]={create:o}},McVw:function(e,t,n){"use strict";var r=n("rjaN");var i=n.n(r);var a=n("6uJb");var o=n("Lj2P");var s=n("B52N");var l=n("/2No");var c=n("cph9");var u=n("IGvc");var d=n("acVu");function f(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){f(a,r,i,o,s,"next",e)}function s(e){f(a,r,i,o,s,"throw",e)}o(void 0)}))}}function h(e){e.isHandled=true;throw e}var v=["$scope","input","$timeout",function(e,t,n){var r;var u=t;e.status="CANCEL";e.isConnectDisabled=true;e.iframeLoading=true;e.dialogLocation=t.datasource.getConnectDialog();e.dialogStyle={height:"".concat(t.datasource.getConnectHeightHint(),"%"),maxHeight:"".concat(t.datasource.getConnectHeightHint(),"%")};e.okString=u.editMode?a["default"].get("Common.Save"):a["default"].get("Common.Create");function f(t){t&&e.cancel()}e.initialize=p(regeneratorRuntime.mark((function t(){var a,v;return regeneratorRuntime.wrap((function t(m){while(1)switch(m.prev=m.next){case 0:a=document.querySelector("#custom-connector-frame");s["default"].ViewChanged.bind(f);r=i.a.connectToChild({url:e.dialogLocation,appendTo:a,methods:{processJsonRequest:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.sendJsonRequest.apply(null,t));case 1:case"end":return n.stop()}}),e)})))()},getCredentials:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.getCredentials.apply(null,t).catch(h));case 1:case"end":return n.stop()}}),e)})))()},getCredentialsList:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.getCredentialsList.apply(null,t).catch(h));case 1:case"end":return n.stop()}}),e)})))()},createCredentials:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.createCredentials.apply(null,t).catch(h));case 1:case"end":return n.stop()}}),e)})))()},modifyCredentials:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.modifyCredentials.apply(null,t).catch(h));case 1:case"end":return n.stop()}}),e)})))()},createNewConnection:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.createNewConnection.apply(null,t).catch(h));case 1:case"end":return n.stop()}}),e)})))()},getConnection:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.getConnection.apply(null,t));case 1:case"end":return n.stop()}}),e)})))()},getConnectionList:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.getConnections.apply(null,t));case 1:case"end":return n.stop()}}),e)})))()},modifyConnection:function e(t){return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",u.serverside.modifyConnection.apply(null,t).catch(h));case 1:case"end":return n.stop()}}),e)})))()},updateState:function t(r){n((function(){e.isConnectDisabled=r.isConnectDisabled;e.isTestConnectDisabled=r.isTestConnectDisabled}))}}});m.next=5;return r.promise;case 5:v=m.sent;e.iframeLoading=false;v.initializeController({endpoint:JSON.stringify(u.qvxSelectedEntrypoint),editMode:u.editMode,instanceId:u.instanceId,helpUrl:o["a"].path,useDcaas:Object(d["b"])("CONNECTOR_DCAAS"),dcaasHost:"".concat(l["a"].rootPath,"api/dcaas"),dataConnectionServiceHost:"".concat(l["a"].rootPath,"api"),csrfToken:Object(c["a"])(document.cookie,"_csrfToken"),enableCredentialSeparation:Object(d["b"])("CREDENTIALS_SEPARATION")});case 8:case"end":return m.stop()}}),t)})));e.$on("$destroy",(function(){r&&r.destroy();s["default"].ViewChanged.unbind(f)}));e.testConnection=p(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return r.promise;case 2:t=n.sent;t.testConnection();case 4:case"end":return n.stop()}}),e)})));e.createConnection=p(regeneratorRuntime.mark((function t(){var n,i,a,o;return regeneratorRuntime.wrap((function t(s){while(1)switch(s.prev=s.next){case 0:s.next=2;return r.promise;case 2:n=s.sent;s.next=5;return n.createConnection();case 5:i=s.sent;if(i.success){s.next=8;break}return s.abrupt("return");case 8:a=e.onSuccess,o=e.close;if(!a){s.next=12;break}s.next=12;return a(i);case 12:e.status="OK";o();case 14:case"end":return s.stop()}}),t)})));e.cancel=function(){e.close()};e.onEscape=function(){return e.close()};e.closingDeferred.promise.then((function(){var t=e.status,n=e.onCancel;"CANCEL"===t&&n&&n()}))}];t["a"]=v},Mj5g:function(e,t,n){"use strict";var r=n("wvr8");var i=2e3;function a(e,t,n){var a=r["a"].occurrencesRE(e,t,n);var o=a>=i?i:a;return o}t["a"]={MAX_NBR_OF_HITS:i,getMaxNumberOfHits:a}},MoEg:function(e,t,n){"use strict";var r=n("cQOM");function i(e,t,n,r){0===arguments.length?this.set(0,0,0,0):this.set(e,t,n,r)}i.prototype={toString:function e(){return"".concat(this.x," ").concat(this.y," ").concat(this.width," ").concat(this.height)},clone:function e(){return new i(this.x,this.y,this.width,this.height)},set:function e(t,n,r,i){if(r>=0){this.x=t;this.width=r}else{this.x=t+r;this.width=-r}if(i>=0){this.y=n;this.height=i}else{this.y=n+i;this.height=-i}},setLTRB:function e(t,n,r,i){if(t<=r){this.x=t;this.width=r-t}else{this.x=r;this.width=t-r}if(n<=i){this.y=n;this.height=i-n}else{this.y=i;this.height=n-i}},equal:function e(t){return t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},combineWith:function e(t){var n=Math.max(t.getRight(),this.getRight());var r=Math.max(t.getBottom(),this.getBottom());var a=Math.min(t.x,this.x);var o=Math.min(t.y,this.y);var s=Math.max(0,n-a);var l=Math.max(0,r-o);return new i(a,o,s,l)},intersectsWith:function e(t){if(!t)return false;if(this.x<=t.getRight()&&t.x<=this.getRight()&&this.y<=t.getBottom()&&t.y<=this.getBottom())return true;return false},intersectsRect:function e(t){return this.intersectsWith(t)},intersection:function e(t,n){if(this.intersectsWith(t)){var r=Math.max(this.x,t.x);var a=Math.max(this.y,t.y);var o=Math.min(this.getRight(),t.getRight());var s=Math.min(this.getBottom(),t.getBottom());return new i(r,a,o-r,s-a)}if(n)return null;return new i(this.x,this.y,this.width,this.height)},union:function e(t){var n=Math.min(this.x,t.x);var r=Math.min(this.y,t.y);var a=Math.max(this.getRight(),t.getRight());var o=Math.max(this.getBottom(),t.getBottom());return new i(n,r,a-n,o-r)},pointInside:function e(t,n){return t>=this.x&&t<=this.getRight()&&n>=this.y&&n<=this.getBottom()},rectInside:function e(t){var n=t.getPoints();var r;for(r=0;r<4;r++)if(!this.pointInside(n[r].x,n[r].y))return false;return true},intersectsLine:function e(t){var n=this.getRight();var i=this.getBottom();if(this.pointInside(t.x1,t.y1)||this.pointInside(t.x2,t.y2))return true;if(t.intersectsLine(new r["a"](this.x,this.y,n,this.y))||t.intersectsLine(new r["a"](n,this.y,n,i))||t.intersectsLine(new r["a"](n,i,this.x,i))||t.intersectsLine(new r["a"](this.x,i,this.x,this.y)))return true;return false},getPoints:function e(){var t=[];t.push({x:this.x,y:this.y});t.push({x:this.getRight(),y:this.y});t.push({x:this.getRight(),y:this.getBottom()});t.push({x:this.x,y:this.getBottom()});return t},getRight:function e(){return this.x+this.width},getBottom:function e(){return this.y+this.height},getCenterPoint:function e(){return{x:this.x+this.width/2,y:this.y+this.height/2}},getBoundingRect:function e(){return this},scale:function e(t){var n=t-1;var r=n*this.width/2;var i=n*this.height/2;this.x-=r;this.y-=i;this.width*=t;this.height*=t},hasNaN:function e(){return Number.isNaN(+this.x)||Number.isNaN(+this.y)||Number.isNaN(+this.width)||Number.isNaN(+this.height)}};t["a"]=i},MvZm:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o='<div class="card-container" id="q-card-container" qv-id="card-modal">\n\t<div class="main-step-container-card {{::customClass}}" ng-repeat="step in steps" qh-card-steps>\n\t\t<div class="q-outer-card-box" qv-global-escape="step.input.close()" qva-outside="step.input.close()" id="qh-animation-frame">\n\t\t\t<qh-include-card-step class="q-include-card {{::step.input.cardClass}}" id="qh-inner-animation-frame" data-component="step.component" data-input="step.input"></qh-include-card-step>\n\t\t</div>\n\t</div>\n</div>';function s(e,t){0!==t?i()(e).addClass("start-card-animation"):i()(e).addClass("finish-card-animation")}function l(e,t){if(0!==t){i()(e).addClass("switch-card");i()(e).removeClass("setup-inner-animation")}else{i()(e).addClass("setup-inner-animation");i()(e).removeClass("switch-card")}}var c={setupAnimation:function e(t,n){n?i()(t).addClass("setup-animation"):i()(t).addClass("setup-inner-animation")},animate:function e(t,n,r,i){r?s(t,n):l(t,n);i.style["z-index"]=n?200:100},setAnimationOnCard:function e(t,n,r,i,a,o){if(n===r||r<0)return;t===i?this.animate(a,1,false,o):this.animate(a,0,false,o)}};a["default"].directive("qhCardSteps",[function(){return{restrict:"A",link:function e(t,n){var r=n.find("#qh-animation-frame");var i=n.find("#qh-inner-animation-frame");t.$watch("isClosing",(function(e){e&&c.animate(r[0],0,true,n[0])}));t.$watch("currentIndex",(function(e,r){t.$index!==e&&t.$index!==r||c.setAnimationOnCard(t.$index,e,r,t.currentIndex,i[0],n[0])}));function a(){r=null;i=null}t.loadCard({outer:r[0],inner:i[0],baseElem:n[0]});t.$on("$destroy",a)}}}]);a["default"].componentDirective("qhIncludeCardStep",{});var u={restrict:"EA",replace:true,scope:{cardControl:"="},template:o,controller:["$scope","$timeout",function(e,t){e.steps=[];e.currentIndex=-1;e.isClosing=false;e.firstTime=true;e.cardControl.close=a;e.cardControl.init=function(t){e.stepList=t.cardSteps;e.customClass=t.customClass||"card-custom-default";e.onClose=t.onClose;r(e.stepList[0]);e.currentIndex=0};e.closeCard=function(){a()};e.loadCard=function(t){if(e.firstTime){c.setupAnimation(t.outer,true);n(t.outer,t.baseElem,true);e.firstTime=false}else{c.setupAnimation(t.inner,false);n(t.outer,t.baseElem,false)}};function n(e,n,r){t((function(){c.animate(e,1,r,n)}),25)}function r(t){e.steps.push(s(t))}function i(){e.currentIndex>0&&t((function(){e.currentIndex--}))}function a(){e.isClosing=true;e.onClose&&e.onClose();t((function(){e.destroyComponent()}),500)}function o(){var n=e.currentIndex+1;if(n<e.stepList.length){n===e.steps.length&&r(e.stepList[n]);t((function(){e.currentIndex++}))}}function s(e){e.input.close=a;e.input.next=o;e.input.back=i;var t={component:e.component,input:e.input};return t}}]};var d=u;var f=n("FdxK");var p=t["a"]={show:function e(t){var n={};f["a"].show(d,{cardControl:n});var r=a["default"].getService("$timeout");r((function(){n.init(t)}));return n},close:function e(){var t=i()('[qv-id="card-modal"]');t.length&&t.scope().closeCard();t=null}}},"N/1V":function(e,t){window.addEventListener("dragover",(function(e){-1!==[].indexOf.call(e.dataTransfer.types,"Files")&&e.preventDefault()}),false);window.addEventListener("drop",(function(e){-1!==[].indexOf.call(e.dataTransfer.types,"Files")&&e.preventDefault()}),false)},N6eX:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("lPl/");t["a"]=function(e){return i.a.createElement(a["a"],Object.assign({d:"M13,6 C13,6 9.8,5.7 9,2.7 C8.8,1.2 7.5,0 6,0 C4.3,0 3,1.3 3,3 C3,3.6 3.2,4.2 3.5,4.7 C3.5,4.7 4.8,7.9 1.6,10.4 C0.7,10.8 0,11.8 0,13 C0,14.7 1.3,16 3,16 C4.7,16 6,14.7 6,13 C6,12.5 5.9,12.1 5.7,11.7 C5.4,10.6 4.9,7.8 7.2,5.8 C7.4,5.8 9.7,5.9 10,8.8 C10,8.9 10,8.9 10,9 C10,10.7 11.3,12 13,12 C14.7,12 16,10.7 16,9 C16,7.3 14.7,6 13,6 Z M4.8,1.8 C5.1,1.4 5.5,1.3 6,1.3 C6.5,1.3 6.9,1.5 7.2,1.8 C7.6,2.1 7.7,2.5 7.7,3 C7.7,3.5 7.6,3.9 7.2,4.2 C6.9,4.6 6.5,4.7 6,4.7 C5.5,4.7 5.1,4.6 4.8,4.2 C4.4,3.9 4.3,3.5 4.3,3 C4.3,2.5 4.4,2.1 4.8,1.8 Z M4.2,14.2 C3.9,14.5 3.4,14.7 3,14.7 C2.6,14.7 2.1,14.5 1.8,14.2 C1.5,13.9 1.3,13.4 1.3,13 C1.3,12.6 1.5,12.1 1.8,11.8 C2.1,11.5 2.6,11.3 3,11.3 C3.4,11.3 3.9,11.5 4.2,11.8 C4.5,12.1 4.7,12.6 4.7,13 C4.7,13.4 4.6,13.9 4.2,14.2 Z M14.2,10.2 C13.9,10.5 13.4,10.7 13,10.7 C12.6,10.7 12.1,10.5 11.8,10.2 C11.5,9.9 11.3,9.4 11.3,9 C11.3,8.6 11.5,8.1 11.8,7.8 C12.1,7.5 12.6,7.3 13,7.3 C13.4,7.3 13.9,7.5 14.2,7.8 C14.5,8.1 14.7,8.6 14.7,9 C14.7,9.4 14.6,9.9 14.2,10.2 Z"},e))}},NFAh:function(e,t,n){"use strict";var r=n("6uJb");var i=n("6kXV");var a=n("acVu");var o=n("4nJ1");function s(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)}))}}var c={alphabetical:0,publishedDate:1};function u(e,t){return e.qData.rank-t.qData.rank}function d(e,t,n){t.aoItems.init(t.AppOverviewState);if(e.is.sheet){e.translations.navigatorHeader="Common.Sheets";n(e,"sheet")&&t.aoItems.initSheet(e,t.commonFunctions.sortArrayByRank)}else if(e.is.story){e.translations.navigatorHeader="Common.Stories";n(e,"story")&&t.aoItems.initStories(e,t.commonFunctions.sortArrayByRank)}else e.is.bookmark&&(e.translations.navigatorHeader="Common.Bookmarks")}function f(e,t){var n=false;"sheet"===t?n=!e.approvedSheets.length&&!e.privateSheets.length:"story"===t&&(n=!e.approvedStories.length&&!e.privateStories.length);return n}function p(e){var t={sheets:"AppOverview.Content.PublicSheets",stories:"AppOverview.Content.PublicStories"};e.translations.addNew=e.is.sheet?"AppOverview.Toolbar.CreateNewSheet":"AppOverview.Toolbar.CreateNewStory";e.translations.navigatorHeader=e.is.sheet?"Common.Sheets":"Common.Stories";e.translations.approvedHeader=r["default"].get(e.is.sheet?t.sheets:t.stories);e.translations.myWorkHeader=r["default"].get(e.is.sheet?"AppOverview.Content.MySheets":"AppOverview.Content.MyStories");e.translations.myPublishedHeader=r["default"].get(e.is.sheet?"AppOverview.Content.MyPublishedSheets":"AppOverview.Content.MyPublishedStories");e.translations.communityHeader=r["default"].get(e.is.sheet?"AppOverview.Content.CommunitySheets":"AppOverview.Content.CommunityStories");e.translations.sharingHelp=r["default"].get(e.is.sheet?"AppOverview.SharingSheet.Help":"AppOverview.SharingStory.Help");e.translations.sharingHelpDesc=r["default"].get(e.is.sheet?"AppOverview.SharingSheet.Help.Description":"AppOverview.SharingStory.Help.Description");e.translations.numberOfItems=function(t){return r["default"].get(e.is.sheet?"Accessibility.SheetSection.NumberOfSheets":"Accessibility.StorySection.NumberOfStories",t)}}function h(e,t){e.shownav=true;e.navigationmode=t.navigationMode;e.hasData=true;e.addingItem=false;e.is={};e.exp={};e.features={sharing:function t(){return e.shareMode}};e.funcs={};e.translations={};e.is.smallAppView=false;e.is.appReadOnly=false;e.is.grid=t.viewMode===t.ViewMode.grid;e.is.navigator=false;e.is.smalldevice=false;e.is.sheet="sheet"===t.navigationMode;e.is.story="story"===t.navigationMode;e.is.bookmark="bookmark"===t.navigationMode;p(e);e.exp.readonly=false;e.exp.sections=[];e.exp.isAscending=true;e.exp.hasBookmarks=false;e.exp.canCreateBookmark=false;e.exp.isOpenedByClick=true;e.approvedSheets=[];e.privateSheets=[];e.myPublishedSheets=[];e.communitySheets=[];e.approvedStories=[];e.privateStories=[];e.myPublishedStories=[];e.communityStories=[]}function v(e,t,n){t.AppOverviewState.setAddingItem(false);t.AppOverviewState.setDuplicatingItem(false);e.is.sheet=n===t.AppOverviewState.NavigationMode.sheet;e.is.story=n===t.AppOverviewState.NavigationMode.story;e.is.bookmark=n===t.AppOverviewState.NavigationMode.bookmark;p(e)}function m(e,t){var n=e.sort((function(e,t){e=e.qData.labelExpression||e.qData.title;t=t.qData.labelExpression||t.qData.title;return e.localeCompare(t,r["default"].language)}));if(t)return n.reverse();return n}function g(e,t,n){var i=e.sort((function(e,n){if(t){e=e.qMeta[t];n=n.qMeta[t]}return e.localeCompare(n,r["default"].language)}));if(n)return i.reverse();return i}function b(e,t,n){var r=e.sort((function(e,n){if(t){var r=new Date(e.qMeta[t]);var i=new Date(n.qMeta[t]);if(r<i)return 1;if(r>i)return-1;return 0}return}));if(n)return r.reverse();return r}function y(e,t){var n=new Date(e.qMeta.publishTime);var r=new Date(t.qMeta.publishTime);return n<r?1:n>r?-1:0}function w(e,t){return e.qData.rank-t.qData.rank}function S(e){return function(t,n){if(0===e){t=t.qData.labelExpression||t.qData.title;n=n.qData.labelExpression||n.qData.title;return t.localeCompare(n,r["default"].language)}return y(t,n)}}function x(e){if("string"===typeof e){var t=e.indexOf("\\");if(-1===t)return{userId:e,userDirectory:""};return{userDirectory:e.substr(0,t),userId:e.substr(t+1)}}var n=void 0===e?{}:e;var r=n.userId?n.userId:null;var i=n.userDirectory?n.userDirectory:null;return{userId:r,userDirectory:i}}function C(e,t){var n=t.hasOwnProperty("userId")&&t.hasOwnProperty("userDirectory");return n&&t.userId===e.userId&&t.userDirectory===e.userDirectory}function q(e,t){return!e&&t.qMeta.published&&!t.qMeta.approved}function E(e){return!e.qMeta.published}function I(e){return function(t){return t.qMeta.published&&(t.qMeta.approved||e)}}function k(e,t){return function(n){var r=x(n.qMeta.owner);return q(t,n)&&C(e,r)}}function A(e,t){return function(n){var r=x(n.qMeta.owner);return q(t,n)&&!C(e,r)}}function T(e){return D.apply(this,arguments)}function D(){D=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(!(!t.spaceId||!Object(a["b"])("AOSHARE_FROM_SPACE"))){n.next=2;break}return n.abrupt("return",Object(a["b"])("AOSHARE"));case 2:return n.abrupt("return",i["a"].isSharedSpace(t.spaceId));case 3:case"end":return n.stop()}}),e)})));return D.apply(this,arguments)}function O(e,t){return L.apply(this,arguments)}function L(){L=l(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:r=n.qData.rank+1;s.next=3;return t.getProperties();case 3:i=s.sent;a=o["a"].extend(true,{},i,{rank:r});return s.abrupt("return",t.setProperties(a));case 6:case"end":return s.stop()}}),e)})));return L.apply(this,arguments)}t["a"]={sortArrayByRank:u,setNewAppOverViewMode:d,hasToGet:f,setDefaultScopeVar:h,setNewScopeValOnNavigationChange:v,SortFilterOptions:c,sortAlphabetically:g,sortSheetsAlphabetically:m,sortByPublishedDate:b,sortPublishedTime:y,sortByRank:w,sortCommunity:S,filterPrivate:E,filterApproved:I,filterMyPublishedCommunity:k,filterCommunity:A,hasShareMode:T,moveItemToLast:O}},NGs5:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("rwJ+");var o=n("IVHJ");var s=n("dJ5t");var l=n("gh04");var c=n("6uJb");var u=n("sWge");var d=n("FZ1g");var f=n("cWJj");var p=n("z4LI");var h=n("iSLG");var v=n("5ezW");var m=n("kKh9");var g=n("4nJ1");var b=n("MGTR");var y=n("B52N");var w=n("NFAh");var S=n("acVu");function x(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){x(a,r,i,o,s,"next",e)}function s(e){x(a,r,i,o,s,"throw",e)}o(void 0)}))}}var q={};var E={};var I=false;var k="";var A={id:0,edit:false,search:false,searchString:"",hasSearchMatch:true,name:""};var T={approved:{name:"approved",list:[],show:false,divider:false,isVisible:true,translation:"Bookmarks.PublicBookmarks"},private:{name:"private",list:[],show:false,divider:false,isVisible:true,translation:"Bookmarks.MyBookmarks"},published:{name:"published",list:[],show:false,divider:false,isVisible:true,translation:"Bookmarks.Published"},publishedByMe:{name:"publishedByMe",list:[],show:false,divider:false,isVisible:true,translation:"Bookmarks.PublishedByMe"}};function D(e,t){q[e].showItem&&(q[e].prio=t)}var O={findQuery:function e(t,n){return-1!==v["a"].string(t).toLowerCase().indexOf(v["a"].string(n).toLowerCase())},doSearch:function e(t){var n=0;A.search=t.length;A.searchString=t;if(!A.search){A.id=0;A.name="";A.searchString="";A.edit=false;A.hasSearchMatch=true}for(var r in q){q[r].showItem=true;q[r].hideDetails=true;if(A.search){D(r,1e3);q[r].showItem=O.findQuery(q[r].title,t);D(r,1);if(!q[r].showItem){q[r].showItem=O.findQuery(q[r].description,t);D(r,2)}if(!q[r].showItem){q[r].showItem=O.findQuery(q[r].selectionFields,t);D(r,3)}if(!q[r].showItem){q[r].showItem=O.findQuery(q[r].sheetName,t);D(r,4)}}q[r].showItem&&n++}if(A.search){s["a"].hasAnyMatches(A,q);var i;i=0===n?c["default"].get("Accessibility.SearchResults.EmptyList.Label",t):1===n?c["default"].get("Accessibility.SearchResults.OneBookmark.Label",t):c["default"].get("Accessibility.SearchResults.MultipleBookmarks.Label",[n,t]);document.querySelector("label#sr-search-label").textContent=i}},setCreating:function e(t,n){n&&(T.private.isVisible=true);I=t},newBookmarkId:function e(){return k},_fetchBookmarks:function e(){return d["a"].getList().then((function(e){return e.getLayout()}))},getBookmarkTitles:function e(t){return this._fetchBookmarks().then((function(e){return Object.keys(e).map((function(n){var r=e[n];if(t&&t===r.qInfo.qId)return null;return r.qData.title}))}))},createSelectionsString:function e(t){var n=s["a"].getSelections(t);return n.currentSelectFields.join(", ")},createBookmark:function e(t,n,r,i){if(Object(S["b"])("USE_PIVOT_STATE")&&!O.getCreating()&&!y["default"].isSmallDevice){b["a"].publish("/bookmarks/open-create-bm");return}var a=Object(u["a"])();var o;var l;var c=O;O.setCreating(true);f["a"].get().then((function(e){e.getLayout().then((function(e){var u=c.createSelectionsString(e);p["a"].model.moveObject&&p["a"].model.getLayout().then((function(e){l=t||!Object(S["b"])("USE_PIVOT_STATE")||y["default"].isSmallDevice?e.qInfo.qId:null;var f="Bookmarks.DefaultName";c.getBookmarkTitles().then((function(e){o=r||s["a"].generateUniqueName(f,e);o=g["a"].ellipseText(o,255);var t={qMetaDef:{title:o,description:i},sheetId:l,selectionFields:u};n?d["a"].createExtended(t,[]).then((function(e){k=e.id;A.id=e.id;A.edit=true;A.name=T.private.name;a.resolve(e)})):d["a"].create(t).then((function(e){k=e.id;A.id=e.id;A.edit=true;A.name=T.private.name;a.resolve(e)}))}))}))}))}));return a.promise},createAlertBookmark:function e(t){return C(regeneratorRuntime.mark((function e(){var n,r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n=O;s.next=3;return f["a"].get();case 3:r=s.sent;s.next=6;return r.getLayout();case 6:i=s.sent;a=n.createSelectionsString(i);o={qInfo:{qType:"alertbookmark"},qMetaDef:{title:t},selectionFields:a,creationDate:(new Date).toISOString()};return s.abrupt("return",d["a"].create(o));case 10:case"end":return s.stop()}}),e)})))()},removeById:function e(t){return C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",d["a"].remove(t));case 1:case"end":return n.stop()}}),e)})))()},isCreateDisabled:function e(){return p["a"].view===p["a"].Views.story||O.getCreating()},getCreating:function e(){return I||A.search},showEditBtn:function e(t){return t.permissions.update||t.permissions.remove},getExpandObject:function e(){return A},getSections:function e(){return T},setVisibility:function e(t,n){if(n){t.approved.list.length=0;t.private.list.length=0;t.published.list.length=0;t.publishedByMe.list.length=0}t.approved.show=0!==t.approved.list.length;t.private.show=0!==t.private.list.length;t.published.show=!!Object(S["b"])("PUBLISH_BOOKMARKS_IN_PUBLIC_APPS")&&0!==t.published.list.length;t.publishedByMe.show=!!Object(S["b"])("PUBLISH_BOOKMARKS_IN_PUBLIC_APPS")&&0!==t.publishedByMe.list.length;t.published.divider=t.approved.show&&t.published.show;t.publishedByMe.divider=(t.published.show||t.approved.show)&&t.publishedByMe.show;t.private.divider=(t.approved.show||t.published.show||t.publishedByMe.show)&&t.private.show},sortFn:function e(t){if(A.search)return O.getMoreDetails(t).prio;return t.qData.qBookmark.qUtcModifyTime},createList:function e(t,n){var r=n.user,i=n.isSharedMode;var a=this.getSections();O.setVisibility(a,true);q={};t.forEach((function(e){e.sheetName||O.setMoreDetails(e)}));a.approved.list=t.filter(w["a"].filterApproved(i));a.publishedByMe.list=t.filter(w["a"].filterMyPublishedCommunity(r,i));a.published.list=t.filter(w["a"].filterCommunity(r,i));a.private.list=t.filter(w["a"].filterPrivate);O.setVisibility(a,false);return a},getMoreDetails:function e(t){return q[t.qInfo.qId]},setMoreDetails:function e(t){var n=Object(u["a"])();if(!q[t.qInfo.qId]){q[t.qInfo.qId]={};q[t.qInfo.qId].showItem=true;q[t.qInfo.qId].hideDetails=false;q[t.qInfo.qId].sheetIsMissing=false;q[t.qInfo.qId].prio=1e3}q[t.qInfo.qId].title=t.qData.title;q[t.qInfo.qId].description=t.qData.description;q[t.qInfo.qId].selectionFields=t.qData.selectionFields;q[t.qInfo.qId].patches=t.qData.qBookmark.qPatches;O.getCreating()&&O.newBookmarkId()===t.qInfo.qId&&O.getSetExpressionDetails(t);l["a"].get(t.qData.sheetId).then((function(e){e.getLayout().then((function(e){q[t.qInfo.qId].sheetName=e.labelExpression||e.qMeta.title;n.resolve()}))}),(function(){q[t.qInfo.qId].sheetIsMissing=true;n.resolve()}));return n.promise},getSetExpressionDetails:function e(t){if(E[t.qInfo.qId]){q[t.qInfo.qId].setExpr=E[t.qInfo.qId];return}q[t.qInfo.qId].setExpr=[];var n=t.qData.qBookmark.qStateData;var r=[];n.sort((function(e,t){var n=e.qStateName.toUpperCase();var r=t.qStateName.toUpperCase();if(n<r)return-1;if(n>r)return 1;return 0}));n.forEach((function(e){var n="$"===e.qStateName?c["default"].get("AlternateState.DefaultState"):e.qStateName;var i=n;var a="";for(var o=0,s=e.qFieldItems.length;o<s;o++){o>0&&(a+=", ");a+=e.qFieldItems[o].qDef.qName}q[t.qInfo.qId].setExpr.push({title:i,selFields:a,setExpression:""});var l=m["a"].getSelectionsFromBookmarkId(null,t.qInfo.qId,e.qStateName);r.push(l)}));u["a"].all(r).then((function(e){e.forEach((function(e,n){void 0===e?q[t.qInfo.qId].setExpr[n].setExpressionErrorText=c["default"].get("ExpressionEditor.TooManySelections"):void 0!==e.qSetExpression&&""!==e.qSetExpression&&(q[t.qInfo.qId].setExpr[n].setExpression="{".concat(e.qSetExpression,"}"))}));E[t.qInfo.qId]=q[t.qInfo.qId].setExpr}))},applyBookmark:function e(t,n,r){if(!s["a"].isClickOnScrollbar(n)){o["a"].applyBookmark(t.qInfo.qId,r);O.close();return true}return false},shareBookmark:function e(t){return d["a"].get(t.item.qInfo.qId).then((function(e){if(t.share)return e.publish();return e.unPublish()}))},toogleSection:function e(t,n){T[t].isVisible=!T[t].isVisible;n&&T[t].isVisible&&setTimeout((function(){a["a"].scrollElmentIntoView(i()(n.currentTarget).closest(".bm-section").find(".bm-list").first(),"[ao-scroll]")}),0)},remove:function e(t){var n=Object(u["a"])();d["a"].remove(t.qInfo.qId).then((function(){n.resolve()}));return n.promise},update:function e(t){var n=this;return d["a"].get(t.qInfo.qId).then((function(e){return e.getProperties().then((function(r){var a={};t.qData.title=t.qData.title||r.qMetaDef.title;return n.getBookmarkTitles(t.qInfo.qId).then((function(n){if(!s["a"].isNameValid(t.qData.title,n))return{success:false,code:1};a=i.a.extend(true,r,{qMetaDef:{title:t.qData.title,description:t.qData.description}});return e.setProperties(a).then((function(){return{success:true,code:0}}))}))}))}))},close:function e(){h["a"].close()},getScrollSelector:function e(){return".av-content-container"},destroy:function e(){q={};T.approved.list.length=0;T.private.list.length=0;T.published.list.length=0;T.publishedByMe.list.length=0}};t["a"]=O},NWF7:function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a=n("6uJb");var o=n("/2No");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function c(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e}var u="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-generic-logo.png");var d=function(){function e(t){s(this,e);this.normalizeDatasource(t);this.isBroken=false;this.isIframeCompatible=!!t.connectorType&&t.connectorType.isIframeCompatible;this.$timeout=r["default"].getService("$timeout");this.imageFetched=new i["a"];this.fetched=false;this.connectorMainLoaded=false;this.initialConnectStep=void 0}c(e,[{key:"normalizeDatasource",value:function e(t){t.entrypoint?this.datasource=t:this.datasource={entrypoint:t,connectorType:t.connectorType};this.datasource.entrypoint.imagePath||(this.datasource.entrypoint.imagePath=this.getDefaultImagePath())}},{key:"isInitialized",value:function e(){return this.imageFetched.promise}},{key:"setLoadConnectorMain",value:function e(t){this.loadConnectorMainCallback=t}},{key:"loadConnectorMain",value:function e(){var t=this;if(!this.loadConnectorMainCallback)return i["a"].resolve();return this.loadConnectorMainCallback(this.datasource.connectorType).then((function(e){t.initialConnectStep=e.entrypoints[0].initialConnectStep;t.datasource.connectorMain=e}))}},{key:"getDataMarketView",value:function e(){return{provider:this.getProvider(),entrypoint:this.datasource.entrypoint}}},{key:"setCanCreate",value:function e(t){this.datasource.canCreate=t}},{key:"canCreate",value:function e(){return this.datasource.canCreate}},{key:"getSelectHeightHint",value:function e(){var t,n,r;return null!==(t=null===(n=this.datasource)||void 0===n||null===(r=n.entrypoint)||void 0===r?void 0:r.selectHeightHint)&&void 0!==t?t:70}},{key:"getConnectHeightHint",value:function e(){var t,n,r;return null!==(t=null===(n=this.datasource)||void 0===n||null===(r=n.entrypoint)||void 0===r?void 0:r.connectHeightHint)&&void 0!==t?t:70}},{key:"getSelectStep",value:function e(){return this.datasource.connectorMain.getInitialSelectStep()}},{key:"getConnectStep",value:function e(){return this.initialConnectStep||this.datasource.entrypoint.initialConnectStep}},{key:"getConnectDialog",value:function e(){return this.datasource.connectorType.connectDialog}},{key:"getSelectDialog",value:function e(){return this.datasource.connectorType.selectDialog}},{key:"getConnectorMain",value:function e(){return this.datasource.connectorMain}},{key:"getCredentialsDialog",value:function e(){return this.datasource.entrypoint.credentialsDialog}},{key:"getEntrypoint",value:function e(){return this.datasource.entrypoint}},{key:"getDisplayName",value:function e(){if(this.datasource.connectorType&&this.datasource.connectorType.isStandardConnector)return a["default"].get(this.datasource.connectorType.displayName||this.datasource.entrypoint.name);return a["default"].get(this.datasource.entrypoint.dataSourceName||this.datasource.entrypoint.name||this.datasource.connectorType&&this.datasource.connectorType.displayName)}},{key:"getId",value:function e(){return this.datasource.entrypoint.id||this.datasource.entrypoint.dataSourceId}},{key:"isStandardConnector",value:function e(){return this.datasource.connectorType.isStandardConnector}},{key:"isScriptOnly",value:function e(){return this.datasource.entrypoint.scriptOnly}},{key:"getNeedsConnect",value:function e(){return this.datasource.connectorType.needsConnect}},{key:"getCategory",value:function e(){return this.datasource.category||this.datasource.entrypoint.category}},{key:"getImagePath",value:function e(){return this.datasource.imagePath}},{key:"getProvider",value:function e(){return this.datasource.connectorType.provider||this.datasource.providerInfo.provider}},{key:"isFolderConnector",value:function e(){return this.datasource.connectorType.isFolderConnector}},{key:"getConnectorType",value:function e(){return this.datasource.connectorType.type}},{key:"isStorageProvider",value:function e(){return this.datasource.connectorType.isStorageProvider}},{key:"getDefaultImagePath",value:function e(){var t="";switch(this.getId()){case"scripteditor.flatfilechooser.files.all":t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-folder-all-logo.png");break;case"scripteditor.flatfilechooser.files.excel":t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-folder-excel-logo.png");break;case"scripteditor.flatfilechooser.files.qvd":t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-folder-qvd-logo.png");break;case"scripteditor.flatfilechooser.files.qvx":t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-folder-qvx-logo.png");break;case"scripteditor.flatfilechooser.files.delimited":t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-folder-delimited-logo.png");break;case"internet":t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-internet-logo.png");break;case"odbc":t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-odbc-logo.png");break;case"oledb":t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-oledb-logo.png");break;default:t="".concat(o["a"].staticResourcesPath,"img/connector-logos/connector-generic-logo.png");break}return t}},{key:"getBestImage",value:function e(){var t=this;if(this.fetched)return;this.fetched=true;if(!this.datasource.entrypoint.imagePathSquare&&!this.datasource.entrypoint.imageSquarePath&&!this.datasource.entrypoint.imagePath){this.datasource.imagePath=u;this.imageFetched.resolve();return}var n=new Image;var r;n.onload=function(){t.$timeout((function(){t.datasource.imagePath=n.src;return t.imageFetched.resolve()}))};n.onerror=function(){if(r)t.$timeout((function(){t.datasource.imagePath=u;t.imageFetched.resolve()}));else{r=true;n.src=t.datasource.entrypoint.imagePath}};n.src=this.datasource.entrypoint.imagePathSquare||this.datasource.entrypoint.imageSquarePath||this.datasource.entrypoint.imagePath}}]);return e}();t["a"]=d},Ng1f:function(e,t,n){"use strict";var r=n("mWu2");var i=n("YUg5");var a=n("vkLz");var o=n("z4LI");var s=false;var l=false;var c;function u(){return a["a"].saveApp().then((function(){if(l){l=false;return u()}return}))}function d(){if(!o["a"].inDataSpaceAssociations())return;var e=r["default"].getService("$timeout");if(!a["a"].isAutoSaveOn()){a["a"].notifyThatNewChangeIsDoneAndSaveIsRequired();return}if(s){l=true;return}e.cancel(c);a["a"].setSaveOngoing(true);c=e((function(){s=true;i["a"].save();u().finally((function(){s=false}))}),1e3)}t["a"]={save:d}},Nj0e:function(e,t,n){"use strict";var r=n("h2z3");function i(e){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function s(e,t,n){t&&o(e.prototype,t);n&&o(e,n);return e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&c(e,t)}function c(e,t){c=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return c(e,t)}function u(e){var t=p();return function n(){var r=h(e),i;if(t){var a=h(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return d(this,i)}}function d(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}var v=function(e){l(n,e);var t=u(n);function n(){a(this,n);return t.apply(this,arguments)}s(n,[{key:"getDimensions",value:function e(){return[]}},{key:"getMeasures",value:function e(){return[]}}]);return n}(r["a"]);t["a"]=v},Nwy7:function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("mWu2");var o=n("wvr8");var s;var l;function c(){return l||"Connector"}function u(e){if(!e)return c();return"".concat(c()," ").concat(e)}function d(e){for(var t=0;t<s.length;t++)if(s[t].qName===e)return false;return true}function f(e){if(e)return e.replace(/<|>|:|\\|\*|\?|"|\||\//g,"");return null}function p(e,t){s=t;l=f(e);var n=u();if(s){var r=s.length+1;while(!d(n)){n=u(r);r+=1}}return n}var h={getName:p};var v=n("1UIw");var m=n("sWge");function g(e,t){return e.getConnections().then((function(n){var r=h.getName(o["a"].lastFolderFromPath(t),n.qConnections);var s=o["a"].fileDirectoryFromPath(t);var l=i.a.find(n.qConnections,(function(e){return e.qConnectionString===s}));if(l)return a["default"].promise({name:l.qName,type:l.qType,id:l.qId,existedPreviously:true});try{return e.createNewRawConnection(r,s,"folder").then((function(e){return{name:r,type:{provider:"folder",displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",needsConnect:false,isStandardConnector:true},typeName:"folder",id:e.qConnectionId,existedPreviously:false}}))}catch(e){v["a"].showDialog(e);return m["a"].reject()}}))}function b(e,t){return e.getConnections().then((function(n){for(var r=0;r<n.qConnections.length;r++)if(n.qConnections[r].qName===t)return e.removeConnection(n.qConnections[r].qId);return}))}function y(e){return e.getConnections().then((function(e){var t;var n=0;for(var r=0;r<e.qConnections.length;r++){var i=e.qConnections[r];var a=Date.parse(i.qModifiedDate.replace(" ","T"));if("folder"===i.qType&&a>n){t=i;n=a}}if(t)return t.qConnectionString;return}))}var w=t["a"]={createConnector:g,removeConnector:b,getLatestConnectorPath:y}},NxGk:function(e,t,n){"use strict";var r=3;var i=[];t["a"]={pushTemplate:function e(t){if(!t.name||!t.colors||!t.limits||!t.types||void 0===!t.percentage)throw new Error("invalid template format");i.push(t);i.length>r&&i.splice(0,1)},getTemplates:function e(){return i.slice()},convertAbsLimits:function e(t){var n;var r;var i;if(0===t.length)return[];if(1===t.length&&0===t[0]){n=-10;r=10}else if(1===t.length||t.every((function(e){return e===t[0]}))){n=.9*t[0];r=1.1*t[0]}else{n=null;r=null;t.forEach((function(e){r=null!==r?Math.max(r,e):e;n=null!==n?Math.min(n,e):e}));i=r-n;n-=.3*i;r+=.3*i}i=r-n;return t.map((function(e){return(e-n)/i}))}}},"O+L3":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("mXGw");var i=n.n(r);var a=n("Y9P5");function o(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}function l(e,t){return p(e)||f(e,t)||u(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function p(e){if(Array.isArray(e))return e}function h(){var e=Object(r["useState"])(a["a"].Sheets.UNSAFE_all),t=l(e,2),n=t[0],i=t[1];Object(r["useEffect"])((function(){var e=true;var t=function(){var t=s(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return a["a"].Sheets.getAllSheets();case 2:n=r.sent;e&&i(n);case 4:case"end":return r.stop()}}),t)})));return function e(){return t.apply(this,arguments)}}();t();a["a"].Sheets.SheetsChanged.bind(i);return function(){e=false;a["a"].Sheets.SheetsChanged.unbind(i)}}),[]);return[n]}},O9PD:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("MGTR");var o=n("mWu2");var s=n("wIyQ");var l='<div class="app-details-content" tid="app-details" ng-style="dynamicBg"\n  ng-class="{\'options-bg-color\': currentView === views.options}">\n  <div class="app-details-wrapper">\n    <qv-app-thumbnail ng-if="currentView !== views.options"></qv-app-thumbnail>\n    <div ng-show="viewDetails" class="app-info-wrapper app-view" tid="details-view">\n      <div class="info">\n        <div id="sr-app-info" class="app-info-cont">\n          <h1 class="app-title">\n            <span ng-if="appModel.qReadOnly" class="locked"><i class="lui-icon  lui-icon--lock"\n                q-title-translation="App.ReadOnly"></i>&nbsp;</span>\n            <span class="dt-span" q-title-translation="{{ appModel.qTitle }}"\n              data-tid="app-details-title">{{ appModel.qTitle }}</span>\n          </h1>\n\n          <div ng-if="appModel.qReadOnly" class="details">\n            <span q-translation="App.ReadOnly"></span>\n          </div>\n\n          <div class="details">\n            <span q-translation="Toolbar.DataLastLoaded"></span>\n            &nbsp;\n            <span class="data-last-reload">{{ reloadDate }}</span>\n          </div>\n\n          <div class="details" ng-if="appModel.isPub">\n            <span q-translation="App.PublishedDate"></span>\n            &nbsp;\n            <drm-format-date x-date="appModel.publishTime"></drm-format-date>\n          </div>\n\n          <div id="app-status" ng-if="appModel.published && appModel.stream.length" class="details">\n            <span class="adetails-ellips">{{ appModel.publishedString | translate }}&nbsp;{{appModel.stream}}</span>\n          </div>\n\n          <div ng-if="appModel.showFileName && isPersonalEnv" class="details" title="{{ appModel.qFileName }}">\n            <span class="adetails-ellips">{{"AppDetails.FileName"|translate}}&nbsp;{{ appModel.qFileName }}</span>\n          </div>\n\n          <div qv-dimmer-on-scroll content="appModel.description"></div>\n        </div>\n      </div>\n      <div class="buttons" ng-if="appModel.permissions.update">\n        <button tid="app-details-edit" class="edit-btn  lui-overlay-button" qva-focus="true" data-name="edit"\n          q-title-translation="Common.Edit" ng-click="toggleEditMode()">\n          <span class="lui-overlay-button__icon  lui-icon  lui-icon--edit"></span>\n        </button>\n        <button ng-if="!appModel.published" tid="app-details-options" class="lui-overlay-button"\n          q-title-translation="AppDetails.Options" ng-click="toggleOptionsMode()">\n          <span class="lui-overlay-button__icon  lui-icon  lui-icon--cogwheel"></span>\n        </button>\n      </div>\n    </div>\n    <div ng-if="editDetails" class="app-info-wrapper app-edit" tid="details-edit">\n      <div class="info" ng-class="{\'error\': errors !== \'\'}">\n        <div class="app-info-cont">\n          <label class="ao-dt-label" q-translation="Common.Title"></label>\n          <input qva-select qv-enter="toggleEditMode()" type="text" maxlength="{{isPersonalEnv ? 200 : 255}}"\n            class="lui-input details-input" ng-model="appModel.qTitle" />\n          <p ng-if="errors === \'chars\'" class="qv-fail" q-translation="Common.InvalidCharacters"></p>\n          <label class="ao-dt-label" q-translation="Common.Description"></label>\n          <textarea rows="4" maxlength="512" class="lui-textarea details-textarea"\n            ng-model="appModel.description"></textarea>\n        </div>\n      </div>\n      <div class="buttons">\n        <button class="lui-overlay-button" tid="app-details-stop-edit" q-title-translation="Tooltip.StopEdit"\n          ng-click="toggleEditMode()">\n          <span class="lui-overlay-button__icon  lui-icon  lui-icon--tick  lui-text-success"></span>\n        </button>\n      </div>\n    </div>\n    <qv-app-details-options ng-if="currentView === views.options" exp="exp" exit-options-mode="toggleOptionsMode">\n    </qv-app-details-options>\n  </div>\n</div>';var c=n("sCDE");var u=n("6uJb");var d=n("KLTh");var f=n("5R92");var p=n("z4LI");var h=n("MW42");var v=n("S4RG");var m='\ufeff<div class="app-thumbnail" tid="app-d-thumb">\n\t<img ng-src="{{ imgSrc }}" draggable="false" class="app-thumbnail-img img-no-drag" />\n\t<div ng-if="editDetails" class="editThumbnail">\n\t\t<button class="lui-overlay-button" tid="change-thumb-btn" ng-click="appThumbnail(\'change\')" q-title-translation="Thumbnail.Change">\n\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--image"></span>\n\t\t</button>\n\t\t<div class="touch-area" ng-click="appThumbnail(\'remove\')" ng-show="editDetails && thumbnailUrl">\n\t\t\t<button class="lui-overlay-button lui-overlay-button--small removeThumbnail" q-title-translation="Thumbnail.Remove">\n\t\t\t\t<span class="lui-overlay-button__icon lui-icon lui-icon--small lui-icon--close"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n';var g=n("k9vo");var b=n("+Kna");var y=n("93Vl");var w=n("GF7R");var S;var x;var C;var q;var E;var I;var k;var A;var T;var D;var O=2e7;function L(){M();S=0;x=3;C=0;q=0;E=0;I=0}function M(){D=null;T=null;A=null;k&&k.remove&&k.remove();k=null}function P(e){return Math.floor(e/S)}function N(e){k=document.createElement("canvas");A=k.getContext("2d");k.height=e.height||0;k.width=e.width||0;A.drawImage(e,0,0);T=A.getImageData(0,0,e.width,e.height).data;D=T.length}function R(){C+=4*x;return C<D}function F(e){L();if(e.width>1&&e.height>1){N(e);while(R()&&S<O){var t=T[C];var n=T[C+1];var r=T[C+2];q+=t;E+=n;I+=r;S++}q=P(q);E=P(E);I=P(I)}M();return new w["a"](q,E,I)}function _(e,t){var n=18;var r=43;return"hsla(".concat(e,",").concat(n,"%,").concat(r,"%,").concat(t,")")}function j(e){return""!==e}function B(e,t){var n=e.toHSLA().split(/\(|\)|hsla|,/).filter(j);var r=Math.round(n[0]);var i=Math.round(n[1]);var a=Math.round(n[2]);var o="";a>10&&a<90&&i>10&&(o=_(r,t));return o}function V(e){var t=F(e.image);t.setAlpha(e.alpha||1);return t}var H={getFormatedHSLA:function e(t){return B(V(t),t.alpha||1)},getRGBA:function e(t){return V(t).toRGBA()},getHEX:function e(t){return F(t.image).toHex()}};var z=false;var $=function e(){};o["default"].directive("qvAppThumbnail",[function(){return{replace:true,restrict:"E",scope:true,template:m,link:function e(t){var n=new Image;var r;var i=$;function a(e,n){t.appModel.dynamicColor=n;t.imgSrc=e;r=false;o["default"].$apply(t)}function s(e){return H.getFormatedHSLA({image:e,alpha:1})}function l(){t.appModel.thumbnailUrlProp="";t.appModel.dynamicColor="";t.thumbnailUrl=""}t.appThumbnail=function(e){if("change"===e){t.exp.ignoreOutsideClicks=true;b["a"].show({onCancel:function e(n){t.exp.ignoreOutsideClicks=false;n&&l()},onConfirm:function e(n,i){i&&(t.appModel.thumbnailUrlProp=g["a"].stripBasePath(i));t.thumbnailUrl=n?g["a"].stripBasePath(n):null;r=true;z=true;t.exp.ignoreOutsideClicks=false},selectedFile:t.thumbnailUrl?g["a"].stripBasePath(t.thumbnailUrl):""})}"remove"===e&&l()};var c=t.$watch("appModel.thumbnailLayout.qUrl",(function(e){t.thumbnailUrl=e}));function u(){n&&n.remove&&n.remove();i();i=function e(){};n.onload=null;n.onerror=null;n=new Image}var d=t.$watch("thumbnailUrl",(function(e){if(e&&e.length>1){u();e=g["a"].stripBasePath(e);e=g["a"].addBasePath(e);n.src=e;n.onerror=function(){a(y["a"].staticSrc().brokenImage(),"")};n.onload=function(){var o=t.appModel.dynamicColor;i();r?o=s(n):o||z||(i=t.$watch((function(){return z}),(function(){if(z){a(e,s(n));i()}})));a(e,o)}}else a(y["a"].staticSrc().staticApp(),"")}));t.$on("$destroy",(function(){d();c();b["a"].hide();i();i=$;n&&n.remove&&n.remove();n=null}))}}}]);var U=n("HvrF");var G='<div class="app-info-wrapper ad-options-wrapper" tid="details-options">\n  <div class="info" ng-class="{\'stacked\' : stacked}">\n\n    <div class="app-info-options" ng-class="{\'horizontal-border\': stacked, \'vertical-border\': !stacked}">\n      <div class="option options-capabilities">\n        <h1 class="app-title">\n          <span class="dt-span"\n            q-title-translation="AppDetails.Capabilities">{{ "AppDetails.Capabilities" | translate }}</span>\n        </h1>\n        <div class="options-choice" ng-show="hubChatEnabled">\n          <div class="options-color">\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.ChatExperience">\n                {{"AppDetails.ChatExperience" | translate }}</div>\n              <lui-switch x-variant="inverse" x-model="chatExperienceEnabled"></lui-switch>\n            </div>\n          </div>\n        </div>\n        <div class="options-choice">\n          <div class="options-color">\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.InsightAdvisor">\n                {{"AppDetails.InsightAdvisor" | translate }}</div>\n              <lui-switch x-variant="inverse" x-model="insightsEnabled"></lui-switch>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="app-info-options" ng-class="{\'horizontal-border\': stacked, \'vertical-border\': !stacked}">\n      <div class="option options-appearance">\n        <h1 class="app-title">\n          <span class="dt-span"\n            q-title-translation="AppDetails.Appearance">{{ "AppDetails.Appearance" | translate }}</span>\n        </h1>\n        <div class="options-choice">\n          <div class="options-color">\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.RightToLeftReadingOrder">\n                {{"AppDetails.RightToLeft" | translate }}</div>\n              <lui-switch x-variant="inverse" x-model="rtlMode"></lui-switch>\n            </div>\n          </div>\n        </div>\n        <div class="options-choice" ng-if="themeService">\n          <div class="options-color">\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.AppTheme">\n                {{"AppDetails.AppTheme" | translate }}</div>\n              <qv-themes-picker on-close="closeThemePickerFoldout" on-open="openThemePickerFoldout"\n                model="themeService" />\n            </div>\n          </div>\n        </div>\n        <div class="options-choice" ng-show="showDisableCellNavMenu">\n          <div class="options-color">\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.disableObjectHoverMenus">\n                {{"AppDetails.disableObjectHoverMenus" | translate }}</div>\n              <lui-switch x-variant="inverse" x-model="disableCellNavMenu"></lui-switch>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="app-info-options">\n      <div class="option options-personalization">\n        <h1 class="app-title">\n          <span class="dt-span"\n            q-title-translation="AppDetails.SheetStyling">{{ "AppDetails.SheetStyling" | translate }}</span>\n        </h1>\n        <div class="options-choice">\n          <div class="options-color">\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.SheetBgColorTooltip">\n                {{"AppDetails.SheetBackgroundColor" | translate }}</div>\n              <div qv-color-picker-button-new x-variant="inverse" on-close="closeColorpickerFoldout"\n                on-open="openColorPickerFoldout" palette="themeService.currentPalette" extended="true"\n                ng-model="sheetBgColor" tid="sheettitle-bg-colorpicker" toggle-open="true"></div>\n              <span class="bg-color-divider"> - </span>\n              <div qv-color-picker-button-new x-variant="inverse" on-close="closeColorpickerFoldout"\n                on-open="openColorPickerFoldout" palette="themeService.currentPalette" extended="true"\n                ng-model="sheetBgGradientColor" tid="sheettitle-gradient-colorpicker" toggle-open="true"></div>\n            </div>\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.SheetFontColorTooltip">\n                {{"AppDetails.SheetFontColor" | translate }}</div>\n              <div qv-color-picker-button-new x-variant="inverse" on-close="closeColorpickerFoldout"\n                on-open="openColorPickerFoldout" palette="themeService.currentPalette" extended="true"\n                ng-model="sheetFontColor" tid="sheettitle-font-colorpicker" toggle-open="true" disable-none="true">\n              </div>\n            </div>\n          </div>\n          <div class="options-logo">\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.SheetImageTooltip">\n                {{"AppDetails.SheetImage" | translate }}</div>\n              <div class="logo-remove" ng-show="logoImgSrc !== \'\'">\n                <a ng-click="removeLogoImage()" class="logo-remove-icon" q-title-translation="AppDetails.RemoveLogoImg"\n                  tid="sheettitle-remove-image">\n                  <i class="lui-icon lui-icon--remove"></i>\n                </a>\n              </div>\n              <div class="logo-img">\n                <img ng-show="logoImgSrc !== \'\'" ng-src="{{ logoImgSrc }}" draggable="false"\n                  class="sheet-logo-img img-no-drag" />\n                <div class="edit-logo-img">\n                  <button class="lui-overlay-button" tid="sheettitle-image" ng-click="setLogoImage()"\n                    qv-enter="setLogoImage()" q-title-translation="AppDetails.ChangeLogoImg">\n                    <span class="lui-overlay-button__icon  lui-icon  lui-icon--image"></span>\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class="sheet-options">\n              <div class="options-label" q-title-translation="AppDetails.SheetImageAlignTooltip">\n                {{"AppDetails.SheetImageAlignment" | translate }}</div>\n              <div class="position-btns">\n                <div class="lui-buttongroup">\n                  <button tid="sheettitle-image-left" class="lui-button  lui-button--inverse"\n                    ng-class="{\'lui-active\': logoPosition === \'left\'}" q-title-translation="AppDetails.LogoLeftAlign"\n                    ng-click="setLogoPosition(\'left\')" qv-enter="setLogoPosition(\'left\')">\n                    <span class="lui-icon lui-icon--align-object-left"></span>\n                  </button>\n                  <button tid="sheettitle-image-center" class="lui-button  lui-button--inverse"\n                    ng-class="{\'lui-active\': logoPosition === \'center\'}"\n                    q-title-translation="AppDetails.LogoCenterAlign" ng-click="setLogoPosition(\'center\')"\n                    qv-enter="setLogoPosition(\'center\')">\n                    <span class="lui-icon lui-icon--align-object-center"></span>\n                  </button>\n                  <button tid="sheettitle-image-right" class="lui-button  lui-button--inverse"\n                    ng-class="{\'lui-active\': logoPosition === \'right\'}" q-title-translation="AppDetails.LogoRightAlign"\n                    ng-click="setLogoPosition(\'right\')" qv-enter="setLogoPosition(\'right\')">\n                    <span class="lui-icon lui-icon--align-object-right"></span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="buttons">\n    <button class="lui-overlay-button" tid="app-options-close" qva-focus="true"\n      q-title-translation="AppDetails.ExitOptionsButton" ng-click="exitOptionsMode()()" qv-enter="exitOptionsMode()()">\n      <span class="lui-overlay-button__icon  lui-icon  lui-icon--close"></span>\n    </button>\n  </div>\n</div>\n';var W=n("H6Kg");var Q=n("UV1h");var K=n("p+Qe");var Y=n("acVu");function J(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){J(a,r,i,o,s,"next",e)}function s(e){J(a,r,i,o,s,"throw",e)}o(void 0)}))}}var X=function e(t){W["a"].getProperties().then((function(e){o(e);r();c()}));t.setLogoPosition=function(e){t.logoPosition=e;W["a"].setProperties({sheetLogoPosition:e})};t.themeService=Q["a"];t.showDisableCellNavMenu=Object(Y["b"])("OBJECT_HOVER_TOGGLE");t.hubChatEnabled=Object(Y["b"])("HUB_CHAT");t.setLogoImage=function(){t.exp.ignoreOutsideClicks=true;b["a"].show({onCancel:function e(n){t.exp.ignoreOutsideClicks=false;n&&t.removeLogoImage()},onConfirm:function e(n,r){if(r){W["a"].setProperties({sheetLogoThumbnail:{qStaticContentUrlDef:g["a"].stripBasePath(r)}});t.logoImgSrc=g["a"].addBasePath(n);t.exp.ignoreOutsideClicks=false}},selectedFile:t.logoImgSrc?g["a"].stripBasePath(t.logoImgSrc):""})};t.closeColorpickerFoldout=function(){t.exp.ignoreOutsideClicks=false};t.openColorPickerFoldout=function(){t.exp.ignoreOutsideClicks=true};t.closeThemePickerFoldout=function(){t.exp.ignoreOutsideClicks=false};t.openThemePickerFoldout=function(){t.exp.ignoreOutsideClicks=true};t.removeLogoImage=function(){W["a"].setProperties({sheetLogoThumbnail:{qStaticContentUrlDef:null}});t.logoImgSrc=""};function n(e){o(e)}function r(){W["a"].UpdateObjProps.bind(n)}function a(){W["a"].UpdateObjProps.unbind(n)}function o(e){e.sheetLogoThumbnail&&e.sheetLogoThumbnail.qStaticContentUrl&&e.sheetLogoThumbnail.qStaticContentUrl.qUrl?t.logoImgSrc=g["a"].addBasePath(e.sheetLogoThumbnail.qStaticContentUrl.qUrl):t.logoImgSrc="";l(e);t.logoPosition=e.sheetLogoPosition||"right";t.rtlMode=e.rtl;t.disableCellNavMenu=e.disableCellNavMenu;t.chatExperienceEnabled=K["a"].isVariableDefined("crossAppsSearchEnabled")&&K["a"].isVariableSet("crossAppsSearchEnabled");t.insightsEnabled=!K["a"].isVariableDefined("DISABLE_INSIGHTS")}function l(e){t.sheetBgColor=e.sheetTitleBgColor||"";t.sheetBgGradientColor=e.sheetTitleGradientColor||"";t.sheetFontColor=e.sheetTitleColor||"#b0afae"}function c(){t.$watch("sheetBgColor",(function(e,t){if(e!==t){var n="undefined"!==typeof e.color?{color:e.color,index:e.index}:e;W["a"].setProperties({sheetTitleBgColor:n})}}));t.$watch("sheetBgGradientColor",(function(e,t){if(e!==t){var n="undefined"!==typeof e.color?{color:e.color,index:e.index}:e;W["a"].setProperties({sheetTitleGradientColor:n})}}));t.$watch("sheetFontColor",(function(e,t){if(e!==t){var n="undefined"!==typeof e.color?e.color:e;W["a"].setProperties({sheetTitleColor:n})}}));t.$watch("rtlMode",(function(e,t){e!==t&&W["a"].setProperties({rtl:e})}));t.$watch("disableCellNavMenu",(function(e,t){e!==t&&W["a"].setProperties({disableCellNavMenu:e})}));t.$watch("chatExperienceEnabled",function(){var e=Z(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!(t!==n)){r.next=3;break}r.next=3;return K["a"].setBoolean("crossAppsSearchEnabled",t);case 3:case"end":return r.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());t.$watch("insightsEnabled",function(){var e=Z(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!(t!==n)){r.next=8;break}if(!(K["a"].isVariableDefined("DISABLE_INSIGHTS")&&t)){r.next=6;break}r.next=4;return K["a"].delete("DISABLE_INSIGHTS");case 4:r.next=8;break;case 6:r.next=8;return K["a"].setBoolean("DISABLE_INSIGHTS",!t);case 8:case"end":return r.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}function u(e){if(Number.isNaN(+e))return;var n=1400;var r=i()("body");if(e>=n&&t.stacked){t.stacked=false;r.removeClass("qv-app-details-options-enabled");t.showDisableCellNavMenu&&r.removeClass("qv-app-details-hover-toggle");r.removeClass("qv-app-details-capabilities-section")}else if(e<n&&!t.stacked){t.stacked=true;r.addClass("qv-app-details-options-enabled");t.showDisableCellNavMenu&&r.addClass("qv-app-details-hover-toggle");r.addClass("qv-app-details-capabilities-section")}}t.onResize=function(e){u(e&&e.width);t.$apply()};s["a"].on("end.".concat(t.$id),t.onResize);u(window.innerWidth);t.$on("$destroy",(function(){a();s["a"].off("end",t.onResize)}))};o["default"].directive("qvAppDetailsOptions",[function(){return{replace:true,restrict:"E",scope:{exitOptionsMode:"&",exp:"="},template:G,link:X}}]);var ee=n("sWge");var te=n("FdxK");var ne='<button qva-activate="onClick($event)" qv-enter="onClick($event)" class="themes-button  lui-button  lui-button--block  lui-button--inverse" ng-class="{\'active\':active}" q-title-translation="AppDetails.ThemePicker.Tooltip">\n\t<span class="lui-button__text">{{ currentTheme.name }}</span><span class="lui-button__caret lui-caret"></span>\n</button>';var re='<div class="themes-popover lui-popover lui-popover--inverse" qva-outside="input.close($event)" ng-show="show">\n\t<ul class="themes-list lui-list lui-list--inverse">\n\t\t<li class="header lui-list__header" ng-if="hasCustomThemes">\n\t\t\t<span class="lui-list__text" q-translation="AppDetails.ThemePicker.Label.Default"></span></li>\n\t\t<li class="lui-list__item lui-list__action" ng-repeat="theme in defaultThemes" ng-class="{\'lui-active\':theme.id===input.currentTheme.id}" qva-activate="input.selectTheme($event,theme)" tabindex="0" title="{{theme.label}}">\n\t\t\t<span class="lui-list__text">{{theme.name}}</span></li>\n\t\t<li class="header lui-list__header" ng-if="hasCustomThemes">\n\t\t\t<span class="lui-list__text" q-translation="AppDetails.ThemePicker.Label.Custom"></span></li>\n\t\t<li class="lui-list__item lui-list__action" ng-repeat="theme in customThemes" ng-class="{\'lui-active\':theme.id===input.currentTheme.id}" qva-activate="input.selectTheme($event,theme)" tabindex="0" title="{{theme.label}}">\n\t\t\t<span class="lui-list__text">{{theme.name}}</span></li>\n\t\t<li class="showmore lui-list__item lui-list__action" ng-if="hasMoreCustomThemes" qva-activate="loadMore()" tabindex="0">\n\t\t\t<span class="lui-list__text" q-translation="AppDetails.ThemePicker.Label.Showmore"></span></li>\n\t</ul>\n</div>';var ie=38;var ae=40;var oe=13;var se={template:re,controller:["$scope","$element",function(e,t){var n=t.find(".themes-popover");var r=0;var i;e.hasMoreCustomThemes=false;e.hasCustomThemes=false;e.show=false;n.offset({top:e.input.alignTo.offset().top+e.input.alignTo.outerHeight(),left:e.input.alignTo.offset().left});n.outerWidth(e.input.alignTo.outerWidth());e.input.setPopoverElement(t);e.input.model.getAvailableThemes().then((function(t){e.defaultThemes=t.default;e.input.model.getCustomThemesPage(0).then((function(t){e.customThemes=t;e.show=true}))}));e.loadMore=function(){e.input.model.getCustomThemesPage(r+1).then((function(t){e.customThemes=e.customThemes.concat(t);r++}))};e.$watch("customThemes",(function(){e.hasCustomThemes=e.customThemes&&e.customThemes.length;e.customThemes&&e.input.model.getPagesTotal().then((function(t){e.hasMoreCustomThemes=t-1>r}))}));function a(){e.input.close(null)}s["a"].on("start.themespopover",a);e.$on("$destroy",(function(){s["a"].off("start.themespopover",a)}));function o(e){var n=t.find("li:focus");n.length||(n=i);if(e===ie){n=n.prev();while(n&&n.hasClass("header"))n=n.prev()}else if(e===ae){n=n.next();while(n.length&&n.hasClass("header"))n=n.next()}n.length&&n[0].focus();return!!n.length}function l(n){var r;var i;if(n.which===ie||n.which===ae){n.preventDefault();i=o(n.which);i||n.which!==ie||e.input.setButtonFocus()}else if(n.which===oe){r=t.find("li:focus");if(r.length){r.hasClass("showmore")&&o(ie);r.trigger("qv-activate")}}}t.on("keydown.themes-popover",l);e.$on("$destroy",(function(){t.off("keydown.themes-popover",l)}))}]};var le=40;var ce=13;var ue=9;function de(e){var t=new ee["a"];e.getAvailableThemes().then((function(n){var r;var i;var a=e.getCurrentTheme();if(n&&n.default&&n.default.length)for(r=0;r<n.default.length;r++)if(n.default[r].id===a){i={id:n.default[r].id,name:n.default[r].name};break}if(!i&&n&&n.custom&&n.custom.length)for(r=0;r<n.custom.length;r++)if(n.custom[r].id===a){i={id:n.custom[r].id,name:n.custom[r].name};break}i||(i={id:"sense",name:u["default"].get("Themes.Qlik.Classic")});t.resolve(i)}));return t.promise}o["default"].directive("qvThemesPicker",[function(){return{restrict:"E",replace:true,scope:{onClose:"=",onOpen:"=",model:"="},template:ne,link:function e(t,n){var r;var i;var a;var o;t.active=false;t.currentTheme=null;de(t.model).then((function(e){t.currentTheme=e}));function s(){i=te["a"].show(se,{alignTo:n,model:t.model,close:l,selectTheme:c,currentTheme:t.currentTheme,setButtonFocus:u,setPopoverElement:function e(t){o=t}});t.onOpen&&t.onOpen();t.active=true}function l(e){if(e){e.stopPropagation();e.preventDefault()}if(i){i.destroy();i=null}a=e&&e.target?e.target:null;t.onClose&&t.onClose();t.active=false}function c(e,n){t.currentTheme=n;t.model.applyTheme(n.id).then((function(e){e&&t.model.saveTheme()}));l(e)}function u(){n.focus()}t.onClick=function(e){r=e.target;a&&a===r?a=null:s()};function d(e){if(e.which===le){e.preventDefault();o.find("li:not(.header)")[0].focus()}else e.which===ce?t.active&&l(e):e.which===ue&&t.active&&l(e)}n.on("keydown.themes-picker",d);t.$on("$destroy",(function(){n.off("keydown.themes-picker",d)}))}}}]);var fe=n("hIk4");var pe=["$scope","$timeout",function(e,t){var n={onChanged:function t(n){Object(c["a"])(e,"model",(function(t){n(t,e)}))}};var r;var i=d["a"].model(n,u["default"]);e.exp={};e.dynamicBg={};e.exp.ignoreOutsideClicks=false;e.reloadDate=u["default"].get("AppDetails.NoData");i.init(e);e.views=i.views;e.currentView=i.views.overview;e.toggleEditMode=function(){if(r){r();r=null}else r=e.$watch("appModel.qTitle",(function(t){f["a"].allowedChars(t)?e.errors="":e.errors="chars"}));i.toggleEditMode(e)};e.setProperties=function(t,n,r,a){i.setProperties(t,n,r,e.errors.length,a)};e.toggleOptionsMode=function(){i.toggleOptionsMode(e);t((function(){s["a"].force("end")}))};var a=e.$watch("appModel.dynamicColor",(function(t){e.dynamicBg=t?{background:t}:{}}));var o=e.$watchCollection("[appModel.qHasData, appModel.qLastReloadTime]",(function(){if(e.appModel.qHasData&&e.appModel.qLastReloadTime){var t={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",timeZone:Object(fe["c"])()};var n=new Date(e.appModel.qLastReloadTime);e.reloadDate=Intl.DateTimeFormat(u["default"].locale,t).format(n)}else e.reloadDate=u["default"].get("AppDetails.NoData")}));e.$on("$destroy",(function(){o();a();r&&r()}));e.errors=""}];function he(e){e?i()("body").addClass("qv-app-details-enabled"):i()("body").removeClass("qv-app-details-enabled");a["a"].publish("/datamanager/appdetailsviewchange",e)}function ve(e){var t=true;if(e.isSmallDevice)t=false;else if("undefined"===typeof e.forcedValue){t=!e.showAppDetails;p["a"].inAppOverView()&&sessionStorage.setItem("ShowAppDetailsInAppOverview",t)}else t=e.forcedValue;he(t);return t}function me(){var e=false;e=!!p["a"].inAppOverView()&&("undefined"===typeof sessionStorage.ShowAppDetailsInAppOverview||"true"===sessionStorage.ShowAppDetailsInAppOverview);e||i()("body").removeClass("qv-app-details-options-enabled");return e}function ge(e){return e?"Toolbar.HideAppInformation":"Toolbar.ShowAppInformation"}o["default"].directive("qvAppDetails",[function(){return{replace:true,restrict:"E",scope:"=",template:l,controller:pe}}]);var be=t["a"]={controller:pe,toggle:ve,findStoredAppOverviewState:me,getAppDetailsTooltip:ge,toggleClasses:he}},"OU/z":function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("mWu2");var o='<div>\n\t<div class="qv-global-search" ng-class="{ \'overlay\': displaySuggestions || displayResult.data || displayResult.visuals }" ng-style="{paddingTop: toolbarHeight}" qva-outside="onOutsideSearch($event)" tid="globalSearch">\n\t\t<div class="zoomed-chart" ng-class="{\'animate-expand \': animateZoomedChart, \'animate-shrink\': !animateZoomedChart}">\n\t\t\t<div class="close-btn" ng-if="zoomedChart" tid="smartsearch-zoomed-chart">\n\t\t\t\t<button class="lui-fade-button" ng-click="minimizeExpandedChart()" tid="smartSearchExitZoomedChart">\n\t\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--close lui-icon--large"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="chart" ng-if="zoomedChart">\n\t\t\t\t<qv-object tid="smartsearch-zoomed-chart-object" model="zoomedChart.model" options="zoomedChart.options"></qv-object>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<qv-global-search-input class="qv-global-search-input"></qv-global-search-input>\n\t\t<div class="qv-global-search-line" ng-if="!showMobileIndexProgressBar"></div>\n\t\t<qv-mobile-index-progress ng-if="isSmallDevice && query.length === 0"></qv-mobile-index-progress>\n\t\t<qv-global-search-history ng-if="isSearchHistoryFeature && searchInputFocused && query.length === 0"></qv-global-search-history>\n\t\t<div class="qv-global-search-dimmer" ng-if="query.length > 0 || forceShowDimmer" ng-style="dimmerStyles">\n\t\t\t<qv-global-search-result tid="globalSearch.ResultList"></qv-global-search-result>\n\t\t\t<div ng-show="scrollShow && !activity.show" class="scroll-affordance scroll-vertical"></div>\n\t\t</div>\n\t</div>\n\t<div class="qv-global-search-glass" ng-if="query.length > 0" qva-activate="close();"></div>\n</div>\n';var s=n("qIEf");var l=n.n(s);var c=n("5Hbw");var u=n("wIyQ");var d=n("sCDE");var f=n("vhuL");var p=n("yRTf");var h=n("UWXu");var v=n("acVu");function m(e,t,n){var r=e.find("input")[0];var i=a["default"].getService("$document");var o={preventDefault:false,allowInInput:true,delay:0};var s={preventDefault:false,allowInInput:true,delay:75};t.focusState.ActiveStateChanged.bind(l);function l(){t.activeSelectIx=t.focusState.activeStateName===t.focusState.Results?0:-1;t.activeHistoryIx=t.focusState.activeStateName===t.focusState.History?0:-1;t.activeSuggestionIx=t.focusState.activeStateName===t.focusState.Suggestions?0:-1;t.activeVisualIx=t.focusState.activeStateName===t.focusState.Visuals?0:-1;t.$broadcast(t.focusState.activeStateName===t.focusState.Visuals?"visualsGroupFocus":"visualsGroupBlur")}function c(){return"INPUT"===i[0].activeElement.tagName}function u(){p["a"].preventDefault();a["default"].$rootScope.$apply()}function d(e){var t;var n;var r;if(document.selection&&document.selection.createRange){t=document.selection.createRange();n=t.getBookmark();r=n.charCodeAt(2)-2}else e.setSelectionRange&&(r=e.selectionStart);return r===e.value.length}function f(){c()?t.focusState.activeStateName===t.focusState.Suggestions?n.hideSuggestions():t.query?t.query="":t.close():t.close();u()}function h(){if(t.focusState.activeStateName===t.focusState.Suggestions){t.activeSuggestionIx=t.activeSuggestionIx>0?t.activeSuggestionIx-1:t.suggestions.length-1;u()}else if(t.focusState.activeStateName===t.focusState.Visuals){t.$broadcast("visualsGroupMoveActiveVisual",-1);u()}}function m(){if(t.focusState.activeStateName===t.focusState.Suggestions){t.activeSuggestionIx=(t.activeSuggestionIx+1)%t.suggestions.length;u()}else if(t.focusState.activeStateName===t.focusState.Visuals){t.$broadcast("visualsGroupMoveActiveVisual",1);u()}}function g(){var e=t.focusState.activeStateName;t.focusState.previous();if(e===t.focusState.activeStateName)switch(t.focusState.activeStateName){case t.focusState.History:t.activeHistoryIx=Math.max(-1,t.activeHistoryIx-1);break;case t.focusState.Results:n.moveActiveResult(-1);break;default:break}u()}function b(){var e=t.focusState.activeStateName;t.focusState.next();if(e===t.focusState.activeStateName)switch(t.focusState.activeStateName){case t.focusState.History:t.activeHistoryIx=Math.min(t.activeHistoryIx+1,t.searchHistory.length-1);break;case t.focusState.Results:n.moveActiveResult(1);break;default:break}u()}function y(){switch(t.focusState.activeStateName){case t.focusState.History:n.setQueryFromHistory(t.activeHistoryIx);break;case t.focusState.Input:t.isPartials()?n.setShowPartialMatches():t.displaySuggestions?w(void 0,true):t.displayResult.data?Object(v["b"])("CAO_MOBILE")||n.select(t.searchTerms,0):n.showNoResultsMessage()&&t.haveUnlockedSelections()&&n.searchOutsideSelections();break;case t.focusState.Suggestions:w(void 0,true);break;case t.focusState.Visuals:t.$broadcast("selectActiveVisualItem");break;case t.focusState.Partials:n.setShowPartialMatches();break;case t.focusState.Results:t.showMeMoreFocus?n.loadNextPage():n.select(t.searchTerms,t.activeSelectIx);break;case t.focusState.StartNewSearch:n.searchOutsideSelections();break;default:break}Object(v["b"])("CAO_MOBILE")&&t.query&&t.getInsightsCharts(t.query);u()}function w(e,i){if(t.displaySuggestions){u();if(i||d(r)){t.activeSuggestionIx=-1===t.activeSuggestionIx?0:t.activeSuggestionIx;t.onSuggestSelect()}}else n.closeSearch()}function S(){n.closeSearch();u()}function x(){n.closeSearch()}this.keyboardShortcutsGroup=p["a"].createGroup("global-search-".concat(t.app.id),1);this.keyboardShortcutsGroup.registerKeys("esc",f,o);this.keyboardShortcutsGroup.registerKeys("left",h,s);this.keyboardShortcutsGroup.registerKeys("right",m,s);this.keyboardShortcutsGroup.registerKeys("up",g,s);this.keyboardShortcutsGroup.registerKeys("down",b,s);this.keyboardShortcutsGroup.registerKeys("enter",y,o);this.keyboardShortcutsGroup.registerKeys("tab",w,o);this.keyboardShortcutsGroup.registerKeys("ctrl+f",S,o);this.keyboardShortcutsGroup.registerKeys("shift+tab",x,o);this.keyboardShortcutsGroup.on();this.on=function(){this.keyboardShortcutsGroup.on()};this.off=function(){this.keyboardShortcutsGroup.off()};this.delete=function(){this.keyboardShortcutsGroup.delete();t.focusState.ActiveStateChanged.unbind(l)}}var g=m;var b=n("TLJm");var y=n("1UIw");var w=n("B52N");var S=n("6Z/P");var x=n("G1wx");var C={};Object.defineProperties(C,{idle:{value:0},pending:{value:1}});var q=C;var E={};Object.defineProperties(E,{data:{value:"searchResults"},visuals:{value:"searchObjects"},indexProgress:{value:"GetProgress"}});var I=E;var k=n("+GbC");function A(e,t){var n=e[t];if(!(this instanceof A))throw new Error("FocusState needs to be called with the new keyword");if(!n)throw new Error("Invalid initialStateName provided");k["a"].mixin(this);this.notification("ActiveStateChanged");Object.defineProperties(this,{initialState:{value:n},activeState:{configurable:true,value:n},activeStateName:{configurable:true,value:n.name}})}A.prototype.next=function(){var e=this.activeState;if(e.onBeforeNext&&!e.onBeforeNext())return;var t=e.next();while(t){if(!t.onBeforeEnter||t.onBeforeEnter()){T(this,t);return}t=t.next()}};A.prototype.previous=function(){var e=this.activeState;if(e.onBeforePrevious&&!e.onBeforePrevious())return;var t=e.previous();while(t){if(!t.onBeforeEnter||t.onBeforeEnter()){T(this,t);return}t=t.previous()}};A.prototype.reset=function(){T(this,this.initialState)};D(A,"Input");D(A,"Suggestions");D(A,"History");D(A,"Partials");D(A,"Visuals");D(A,"SuggestedCharts");D(A,"Results");D(A,"StartNewSearch");function T(e,t){Object.defineProperties(e,{activeState:{value:t},activeStateName:{value:t.name}});e.ActiveStateChanged.emit()}function D(e,t){var n={value:t};Object.defineProperty(e,t,n);Object.defineProperty(e.prototype,t,n)}var O=A;function L(e,t,n){var r={};P(r,e.Input,{previous:function e(){return false},onBeforeNext:function e(){return!n.throbber.show},next:M.bind(r,e.Suggestions)});P(r,e.Suggestions,{onBeforeEnter:function e(){return!!n.displaySuggestions},previous:M.bind(r,e.Input),next:M.bind(r,e.History)});P(r,e.History,{onBeforeEnter:function e(){return n.isSearchHistoryFeature&&n.searchInputFocused&&0===n.query.length},onBeforeNext:function e(){return false},onBeforePrevious:function e(){return 0===n.activeHistoryIx},previous:M.bind(r,e.Suggestions),next:M.bind(r,e.Visuals)});P(r,e.Visuals,{onBeforeEnter:function e(){return n.isObjectsFeature&&n.displayResult.visuals&&!n.isSmallDeviceLandscape},previous:M.bind(r,e.History),next:M.bind(r,e.Partials)});P(r,e.Partials,{onBeforeEnter:function e(){return!!n.displayResult.data&&n.isPartials()},previous:M.bind(r,e.Visuals),next:M.bind(r,e.Results)});P(r,e.Results,{onBeforeEnter:function e(){return!!n.displayResult.data&&(!n.isPartials()||n.forcePartials)},onBeforeNext:function e(){return false},onBeforePrevious:function e(){return 0===n.activeSelectIx},previous:M.bind(r,e.Partials),next:M.bind(r,e.StartNewSearch)});P(r,e.StartNewSearch,{onBeforeEnter:function e(){return t.showNoResultsMessage()&&n.haveUnlockedSelections()},previous:M.bind(r,e.Results),next:function e(){return false}});return r}function M(e){var t=this[e];if(!t)throw new Error("Invalid stateName provided");return t}function P(e,t,n){if(e[t])throw new Error("State with name '".concat(t,"' already exists"));n.name=t;e[t]=n}var N=L;var R=n("PoH+");var F=n.n(R);var _=n("wvr8");var j="sessionstorageservice";function B(e){if(!F.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));return"".concat(j,".").concat(e)}function V(e,t,n){var r=(new Date).getTime();if(!F.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));if(!F.a.isObject(t))throw new Error('The value "'.concat(t,'" for the key "').concat(e,'" is not valid object.'));if(n){if(!F.a.isNumber(n))throw new Error('The time to live value "'.concat(n,'" is not numeric.'));n+=r}var i={timeToLive:n,value:t};var a=JSON.stringify(i);sessionStorage[B(e)]=a}function H(e){if(!F.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));var t=F.a.isEmpty(sessionStorage[B(e)]);return!t}function z(e,t){if(!F.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));if(!H(e)){if(void 0!==t)return t;throw new Error('There is no data set for the key "'.concat(e,'". Please use contains() first to verify you should actually do a get().'))}var n=$(e);return n.value}function $(e){var t=JSON.parse(sessionStorage[B(e)]);return t}function U(e){if(!F.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));if(!H(e))throw new Error('There is no data set for the key "'.concat(e,'". Please use contains() first to verify you should actually do a get().'));delete sessionStorage[B(e)]}function G(){var e;var t;var n;for(e in sessionStorage)if(_["a"].startsWith(e,j)){e=e.substring(j.length+1);t=$(e);n=(new Date).getTime();F.a.isNumber(t.timeToLive&&n>t.timeToLive)&&U(e)}}var W={set:V,get:z,contains:H,clean:G,remove:U};var Q=n("4nJ1");function K(e){return"".concat(e.app.id,".").concat(e.userID,".smartSearch.history")}function Y(e){e.storage=ee(e);if("NONE"===e.storage)return;var t=K(e);if(e.storage.contains(t)){var n=se(e.storage.get(t));return n}return}function J(e,t){var n=K(e);var r=[];var i=[];if(e.storage.contains(n)){r=e.storage.get(n);i=te(t);var a=ne(i,r);var o=se(a);e.storage.set(n,a);e.searchHistory=o}else{i=te(t);r.unshift(i);e.storage.set(n,r);var s=se(r);e.searchHistory=s}}function Z(e){var t=K(e);if(e.storage.contains(t)){e.searchHistory=[];e.storage.remove(t)}}function X(e,t){var n=K(e);if(e.storage.contains(n)){var r=e.storage.get(n);r.splice(t,1);e.storage.set(n,r);var i=se(r);e.searchHistory=i}}function ee(e){if("DESKTOP"===e.userID){e.historyPermission=true;return W}if(e.userID&&"anonymous"!==e.userID.substring(0,9)){e.historyPermission=true;return W}e.historyPermission=false;return"NONE"}function te(e){return e.map((function(e){e.startQuote&&e.endQuote&&(e.string='"'.concat(e.string,'"'));return e.string}))}function ne(e,t){var n=ie(t);var r=ae(e);var i=oe(n,r);var a=[];if(i>=0){t.splice(i,1);t.unshift(e);a=re(t)}else{t.unshift(e);a=re(t)}return a}function re(e){e.length>4&&(e.length=4);return e}function ie(e){function t(e){return e.toLowerCase()}return e.map((function(e){return e.map(t)}))}function ae(e){return e.map((function(e){return e.toLowerCase()}))}function oe(e,t){for(var n=0;n<e.length;n++)if(Q["a"].isEqual(e[n],t))return n;return-1}function se(e){return e.map((function(e){return e.join(" ")}))}var le={initHistory:Y,createEntryInHistory:J,clearSearchHistory:Z,removeSingleHistory:X,getStoragePath:K};var ce=n("sWge");var ue=n("6uJb");var de=n("MGTR");var fe=n("Hb6E");var pe=n("Wtq8");var he=n("Z9ZH");var ve=n.n(he);var me='<div class="qv-search-input" ng-class="{\'focus\': isInputFocused}">\n\t<div class="search-field-area">\n\t\t<lui-search class="search-field" query="query" auto-focus="autoFocus" autocomplete="\'off\'" is-focused="isInputFocused" tid="globalSearch.searchField" placeholder="{{placeholder}}"></lui-search>\n\t</div>\n\t<div class="search-underlines">\n\t\t<span ng-repeat="underline in underlines" class="underline" ng-class="underline.isWhitespace ? \'term-space\' : \'term\' + underline.colorIx">{{underline.string}}</span><qv-global-search-input-hint></qv-global-search-input-hint>\n\t</div>\n</div>\n';var ge='<span ng-show="displaySuggestions" class="search-suggest" tid="globalSearch.suggestionString">{{hintString}}</span>\n';var be=n("5ezW");function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Se(e,t,n){t&&we(e.prototype,t);n&&we(e,n);return e}var xe=0;var Ce=6;var qe=1;function Ee(e,t,n,r){if(0===t.length)return;e[n]||(e[n]={});var i=e[n];i.string=t;i.isWhitespace=r||t.length<qe&&!Ie(t)||'"'===t;i.colorIx=i.isWhitespace?-1:xe;xe=i.isWhitespace?xe:(xe+1)%Ce}function Ie(e){return e.match(/[\u3040-\u9FBF]/)||e.match(/[\uFF65-\uFF9F]/)}function ke(e,t,n,r){if(t.length<qe&&!Ie(t))return;e.push({string:t,startQuote:n,endQuote:r})}var Ae=function(){function e(){ye(this,e);this._whitespaces=[" ","\t","\n","\r","\r\n","　"]}Se(e,[{key:"transformResult",value:function e(t,n){var r=n;t.matches=t.matches||[];t.searchTermGroups=t.searchTermGroups||[];t.searchVisualsGroups=t.searchVisualsGroups||[];for(var i=0;i<r.qSearchGroupArray.length;++i)if("DatasetType"===r.qSearchGroupArray[i].qGroupType){t.searchTermGroups.push(r.qSearchGroupArray[i]);var a=r.qSearchGroupArray[i];-1===t.matches.indexOf(a.qSearchTermsMatched.length)&&t.matches.push(a.qSearchTermsMatched.length)}else t.searchVisualsGroups.push(r.qSearchGroupArray[i]);t.displayResult.data=t.searchTermGroups.length>0;t.displayResult.visuals=t.searchVisualsGroups.length>0;t.searchVisualsGroups.length>0&&(t.existingChartGroupTitle=ue["default"].get("GlobalSearch.Existing.ChartsTitle",[t.searchVisualsGroups[0].qItems.length]))}},{key:"showMore",value:function e(t,n){if(!n||!t||1!==t.qSearchGroupArray.length)return;var r=t.qSearchGroupArray[0];var i;for(var a=0;a<r.qItems.length;a++)if(r.qItems[a].qIdentifier===n.qIdentifier){i=r.qItems[a].qItemMatches;break}i&&(n.qItemMatches=i)}},{key:"setHeaders",value:function e(t){var n;var r=0;for(n=0;n<t.searchTermGroups.length;n++)t.searchTermGroups[n].qTotalNumberOfItems>r&&(r=t.searchTermGroups[n].qTotalNumberOfItems);t.columnCount=r;t.columnWidth="".concat(Math.floor(100/r),"%");t.shadowHeaders=t.shadowHeaders||[];t.shadowHeaders.splice(0,t.shadowHeaders.length-r);for(n=t.shadowHeaders.length;n<r;n++)t.shadowHeaders[n]={}}},{key:"transformSuggest",value:function e(t,n,r){var i;var a=0;var o;var s=[];this.getUnderlinersAndSearchTerms(t.query,s,[]);r=void 0!==r?r:25;r=Math.min(r,n.qSuggestions.length);for(i=0;i<r;++i){o={value:n.qSuggestions[i].qValue,term:n.qSuggestions[i].qTerm};if(t.query===this.getResultingQueryFromSuggestion(s,o))continue;t.suggestions[a]=o;a++}t.suggestions.splice(a,t.suggestions.length-a)}},{key:"isWhiteSpaceAt",value:function e(t,n){var r=this._whitespaces;var i=t.charAt(n);var a;for(a=0;a<r.length;++a)if(i===r[a])return true;return false}},{key:"getUnderlinersAndSearchTerms",value:function e(t,n,r){var i=0;var a=0;var o=t.length;var s=0;var l;var c=this._whitespaces;var u=this;r.length=0;xe=0;function d(e,t){var n;var r;var i;for(r=0;r<c.length;++r){n=e.indexOf(c[r],t);n>=0&&(!i||n<i)&&(i=n)}return i||-1}function f(e,t){var n;do{n=e.indexOf('"',t);t=n+1}while(n>=0&&t<o&&!u.isWhiteSpaceAt(e,t));return n}function p(){while(a<o&&u.isWhiteSpaceAt(t,a))a++;a>i&&Ee(n,t.substring(i,a),s++,true);i=a}p();while(i<o){if('"'===t.charAt(i)){Ee(n,t.substring(i,i+1),s++);a=f(t,++i);l=a>=0?t.substring(i,a):t.substring(i);Ee(n,l,s++);ke(r,l,true,a>0);if(a<0)break;Ee(n,t.substring(a,a+1),s++);a+=1;i=a;p();continue}a=d(t,i);l=a>=0?t.substring(i,a):t.substring(i);Ee(n,l,s++);ke(r,l,false,false);if(a<0)break;i=a;p()}n.splice(s,n.length-s)}},{key:"getSuggestTerms",value:function e(t,n){var r=this;function i(e){e=e.trim();if(0===e.length)return null;var t=e.length;var n=t-1;var i=-1;while(n>-1){if(r.isWhiteSpaceAt(e,n)){i=n+1;break}n--}i=Math.max(i,0);return e.substring(i,t)}var a=i(t);var o=n.map((function(e){return e.string}));a&&2===a.length&&'"'===a.charAt(0)&&o.push(a.charAt(1));return o}},{key:"getUnderlineLengthFromTermIx",value:function e(t,n){var r=0;var i;var a=0;while(r<t.length){i=t[r];if(!(a<n||i.isWhitespace))break;if(r===t.length-1&&1===i.string.length&&!this.isWhiteSpaceAt(i.string,0)&&'"'!==i.string)break;i.isWhitespace||a++;r++}return r>0?r:0}},{key:"getResultingQueryFromSuggestion",value:function e(t,n){var r=this.getUnderlineLengthFromTermIx(t,n.term);var i=t.slice(0,r).reduce((function(e,t){return e+t.string}),"");var a='"'===i.charAt(i.length-1);var o=!a&&n.value.indexOf(" ")>=0;var s=o||a;return i+(o?'"':"")+n.value+(s?'"':"")}},{key:"getMinQueryLength",value:function e(){return qe}},{key:"getMaxColorsNum",value:function e(){return Ce}}]);return e}();var Te=new Ae;var De=null;var Oe=500;function Le(e,t){var n;if(e.length!==t.length)return false;for(n=0;n<e.length;++n)if(e[n]!==t[n])return false;return true}a["default"].directive("qvGlobalSearchInput",["$timeout",function(e){return{restrict:"E",replace:true,template:me,require:"^qvGlobalSearch",link:function t(n,r,i,o){var s=r.find("input");var c=[];var u=a["default"].getService("$document");s.on("keydown",(function(){n.ignoreQueryChange=false}));n.$watch("isSelectActiveInSmallDevice",(function(e){n.autoFocus=!Q["a"].isIos()&&!Q["a"].isAndroid()&&!e}));n.placeholder=ue["default"].get("GlobalSearch.SearchData");function d(e){if(n.isInputFocused)if(1===l()(e.target).closest(".qv-global-search-suggest").length||1===l()(e.target).closest(".qv-search-last-history").length);else{e.preventDefault();e.stopPropagation();ve.a.preventGestures(this.gestureHandler);n.$apply((function(){o.hideSuggestions();o.hideSoftKeyboard()}))}}n.isObjectsFeature&&!x["a"].treatAsDesktop()&&r.on("qv-outside",d);n.$watch("query",(function(t){var r=[];var i;var a;e.cancel(De);o.showHistory(n.isSearchHistoryFeature&&n.isInputFocused&&0===n.query.length);n.ignoreQueryChange||o.resetSuggestions();if(!t||0===t.length){o.emptyResult();n.underlines.length=0;c=[];return}Te.getUnderlinersAndSearchTerms(t,n.underlines,r);if(n.ignoreQueryChange){n.ignoreQueryChange=false;return}De=e((function(){if(Te.isWhiteSpaceAt(t,t.length-1)||'"'===t.charAt(t.length-1))o.hideSuggestions();else{a=Te.getSuggestTerms(t,r);o.suggest(a)}i=r.map((function(e){return e.string}));if(r.length>0&&!Le(i,c)){o.searchVisuals(i);o.search(i)}else t.length<Te.getMinQueryLength()&&o.emptyResult();c=i;De=null}),Oe)}));n.$watch("isInputFocused",(function(e){n.isSmallDevice&&(e?u.find("body").animate({scrollTop:r.offset().top},100):n.isObjectsFeature&&ve.a.utils.touch&&o.hideSuggestions());n.isSearchHistoryFeature&&e&&0===n.query.length&&o.showHistory(true)}));n.$on("focusInput",(function(){s.focus()}));n.$on("blurInput",(function(){s.blur()}));n.$on("$destroy",(function(){s.off()}))}}}]);a["default"].directive("qvGlobalSearchInputHint",[function(){return{restrict:"E",replace:true,template:ge,require:"^qvGlobalSearch",link:function e(t){function n(){var e=t.suggestions[-1===t.activeSuggestionIx?0:t.activeSuggestionIx];var n=[];var r=[];Te.getUnderlinersAndSearchTerms(t.query,n,r);var i=Te.getSuggestTerms(t.query,r);if(!t.displaySuggestions||t.suggestions.length<=0||0===i.length)return;var a=Te.getUnderlineLengthFromTermIx(n,e.term);var o=n.slice(a).reduce((function(e,t){return e+(t.isWhitespace?" ":t.string)}),"");var s=be["a"].string(o).length;o=be["a"].string(e.value).slice(0,s);var l=be["a"].string(e.value).slice(s);t.ignoreQueryChange=true;t.hintString=l}t.$watch("activeSuggestionIx",(function(){n()}));t.$watchCollection("suggestions",(function(){n()}));t.$watch("displaySuggestions",(function(){n()}))}}}]);var Me='<div class="qv-global-search-result" ng-class="classes" >\n\n\t<qv-global-search-suggest ng-if="displaySuggestions" class="qv-global-search-suggest" qv-scroll-to-active="{{activeSelectIx === -1 && focusState.activeStateName === focusState.Suggestions}}"></qv-global-search-suggest>\n\n\t<h3 ng-if="isObjectsFeature && ( displayResult.data || showNoResultsMessage() ) && matches.length > 0" class="title-section title-selections" >\n\t\t<span q-translation="GlobalSearch.Selections"></span>\n\t\t<i ng-click="resetDockState();" class="lui-icon lui-icon--arrow-up"></i>\n\t</h3>\n\n\t<qv-global-search-no-results class="search-no-results-message" ng-show="showNoResultsMessage()" ></qv-global-search-no-results>\n\n\t<div ng-if="(outsideSelection || currentSelections) && (!isPartials() || forcePartials)" class="qv-global-search-result-title strong" >\n\t\t<span ng-if="outsideSelection && !currentSelections" tid="globalSearch.matchesWholeDataset" q-translation="GlobalSearch.MatchesWholeDataset"></span>\n\t\t<span ng-if="currentSelections" tid="globalSearch.addToYourSelections" q-translation="GlobalSearch.AddToYourSelections"></span>\n\t</div>\n\n\t<div ng-repeat="m in matches" class="data-matches-group" ng-if="(!isPartials() || forcePartials)">\n\n\t\t<div ng-if="m !== searchTerms.length" class="caption-flex" q-translation="GlobalSearch.MatchedSearchTerms,{{m}}"></div>\n\n\t\t<div class="content-flex" ng-init="parentIndex = $index" ng-class="{ \'touch-off\':!isSmallDevice }" ng-repeat="row in getSearchTermGroup(m)" qv-scroll-to-active="{{( row.qId === activeSelectIx) && focusState.activeStateName === focusState.Results }}" tid="globalSearch.resultGroup" >\n\n\t\t\t<div class="cell" ng-repeat="item in row.qItems" tid="globalSearch.resultField" ng-class="{ \'maxcell\': !$last && !$first, \'maxcellfirst\': ($first && row.qTotalNumberOfItems > 1) }" >\n\t\t\t\t<div class="group-hits" ng-click="select( row, $parentIndex )" ng-class="{ \'shown\': (item.qTotalNumberOfMatches-item.qItemMatches.length) > 0  }">\n\t\t\t\t\t<span class="field-name" tid="globalSearch.resultField.Name">{{item.qIdentifier}}</span>\n\t\t\t\t\t<span ng-repeat="hit in item.qItemMatches" tid="globalSearch.resultField.Hit">\n\t\t\t\t\t\t<qv-global-search-highlights q-text="hit.qText" q-ranges="hit.qRanges"></qv-global-search-highlights >\n\t\t\t\t\t\t<span>{{$last ? \'\' : \', \'}}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div tid="globalSearch.resultField.MoreHits" ng-if="item.qTotalNumberOfMatches-item.qItemMatches.length > 0" ng-click="onShowMoreHits($event, item, row.qId)" class="more-hits"><span class="more-text" q-translation="GlobalSearch.MoreResults,{{(item.qTotalNumberOfMatches-item.qItemMatches.length)}}"></span></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="more-hits-area-mobile" ng-if="item.qTotalNumberOfMatches-item.qItemMatches.length > 0" tid="globalSearch.resultField.MoreHitsMobile" ng-click="onShowMoreHits($event, item, row.qId)">\n\t\t\t\t\t<button class="lui-button lui-button--rounded">\n\t\t\t\t\t\t<span class="lui-button__icon lui-icon lui-icon--more"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div ng-hide="matches.length === 0" qv-scroll-to-active="{{showMeMoreFocus}}" class="show-me-more"><button ng-if="paging.totalRows > paging.lastRowIx && (!isPartials() || forcePartials)" tid="globalSearch.showmemore" ng-click="loadNextPage($event)" class="lui-button" q-translation="GlobalSearch.ShowMeMore" ng-class="{\'lui-active\': showMeMoreFocus }"></button></div>\n\n\t<h3 class="title-section title-navigation" ng-if="displayResult.visuals && !isSmallDeviceLandscape" qv-scroll-to-active="{{focusState.activeStateName === focusState.Visuals}}">\n\t\t<span ng-if="!caoMobile" q-translation="GlobalSearch.Navigations"></span>\n\t\t<span ng-if="caoMobile">{{existingChartGroupTitle}}</span>\n\t\t<i ng-click="resetDockState();" class="lui-icon lui-icon--arrow-down"></i>\n\t</h3>\n\n\t<h3 class="title-section title-landscape" ng-if="displayResult.visuals && isSmallDeviceLandscape">\n\t\t<span class="lui-icon lui-icon--object"></span>\n\t\t<span q-translation="GlobalSearch.RotateForVisuals"></span>\n  </h3>\n\n\t<qv-smartsearch-visuals-group tid="smartsearch-visuals-group" items="searchVisualsGroups" app="app" search-terms="searchTerms" options="{\'preload\': false}" ng-if="displayResult.visuals " ng-hide="isSmallDeviceLandscape"></qv-smartsearch-visuals-group>\n\n\t<h3 class="title-section title-navigation"\n\t\tng-if="insightVisualsGroups.length > 0 && caoMobile && !isSmallDeviceLandscape"\n\t\tqv-scroll-to-active="{{focusState.activeStateName === focusState.SuggestedCharts}}">\n\t\t<span tid="global.search.suggested.charts.title">{{suggestedChartGroupTitle}}</span>\n\t\t<i ng-click="resetDockState();" class="lui-icon lui-icon--arrow-down"></i>\n  </h3>\n\n  <div class="insight-charts-unavailable" ng-if="unableTofetchInsightCharts === true" q-translation="GlobalSearch.SuggestedInsightsChartsUnavailable"></div>\n\n\t<div ng-if="isPartials()" qv-scroll-to-active="{{ focusState.activeStateName === focusState.Partials }}" class="qv-global-search-result-message search-partials-message">\n\t\t<qv-global-search-result-msg></qv-global-search-result-msg>\n\t\t<div>\n\t\t\t<button class="lui-button" ng-click="setShowPartialMatches($event)" tid="globalSearch.showPartialMatches" q-translation="{{ !forcePartials?\'GlobalSearch.ShowPartialMatches\' : \'GlobalSearch.HidePartialMatches\' }}"\n\t\t\t ng-class="{ \'lui-active\': focusState.activeStateName === focusState.Partials }"></button>\n\t\t</div>\n\t</div>\n\n\t<qv-smartsearch-visuals-group tid="smartsearch-visuals-group" items="insightVisualsGroups" app="app" search-terms="searchTerms" options="{\'preload\': false}" ng-if="insightVisualsGroups.length > 0 && caoMobile" ng-hide="isSmallDeviceLandscape"></qv-smartsearch-visuals-group>\n\n\t<div class="fixed-bar" ng-show="fixedbar">\n\t\t<span ng-click="resetDockState();" class="lui-fade-button">\n\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--arrow-down"></span>\n\t\t</span>\n\t</div>\n\n\t<qv-global-search-throbber></qv-global-search-throbber>\n</div>\n';var Pe='<div class="qv-global-search-result-message-inline">\n    <span ng-if="currentSelections" q-translation="GlobalSearch.NoMatchesWithinCurrentSelection"></span>\n    <span ng-if="!currentSelections" q-translation="GlobalSearch.NoMatchesForYourTerms"></span>\n</div>';var Ne='<div>\n    <div class="qv-global-search-result-groups" ng-if="!error.show">\n\n        <div class="qv-global-search-result-message" >            \n            <qv-global-search-result-msg></qv-global-search-result-msg>\n\n            <div ng-if="haveUnlockedSelections()">\n                <button class="lui-button qv-gs-new-search-button" qva-activate="searchOutsideSelections($event)" tid="globalSearch.newSearchJustFor"\n\t\t\t\t\t\tq-translation="GlobalSearch.ClearSelectionAndSearchAgain" q-title-translation="GlobalSearch.ClearSelectionAndSearchAgain"\n\t\t\t\t\t\tng-class="{ \'lui-active\': focusState.activeStateName === focusState.StartNewSearch }"></button>\n            </div>\n        </div>\n    </div>      \n\n    <div class="qv-global-search-result-error" ng-if="error.show">\n        <span q-translation="{{error.translation}}"></span>\n    </div>\n</div>';var Re="<span ng-repeat=\"slice in slices track by $index\" ng-class=\"slice.highlight ? 'highlighted' + slice.qTerm : ''\">{{slice.qSliceText}}</span>";a["default"].directive("qvGlobalSearchHighlights",[function(){return{restrict:"E",template:Re,replace:true,scope:{qText:"=",qRanges:"="},link:function e(t){var n=Te.getMaxColorsNum();t.slices=null;t.$watch("qRanges",(function(e){if(e){var i=0;var a=[];var o=e.sort((function(e,t){return e.qCharPos-t.qCharPos}));for(var s=0;s<o.length;s++){var l=o[s];l.qCharPos>i&&a.push({qTerm:-1,qSliceText:t.qText.slice(i,l.qCharPos),highlight:false,iStart:i,iEnd:l.qCharPos});i=l.qCharPos+l.qCharCount;var c={qTerm:l.qTerm%n,highlight:true,qSliceText:t.qText.slice(l.qCharPos,i),iStart:l.qCharPos,iEnd:i};r(a,c);s===e.length-1&&i<t.qText.length&&a.push({qTerm:-1,qSliceText:t.qText.slice(i,t.qText.length),highlight:false,iStart:i,iEnd:t.qText.length})}t.slices=a}}));function r(e,t){var n=null;for(var r=0;r<e.length;r++)if(e[r].iStart===t.iStart){n=e.splice(r,1,t);break}n||e.push(t)}}}}]);var Fe='<div class="qv-smartsearch-visuals-group" qva-smart-search-swipe-horizontal="onSwipePage(delta)" >\n\t<div class="nav-visual-arrow left" qva-activate="goToPage( pageIndex - 1 );" ng-show="pageIndex > 0">\n\t\t<span class="lui-fade-button">\n\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--arrow-left"></span>\n\t\t</span>\n\t</div>\n\t<div class="visuals-wrapper" >\n\t\t<div class="page" tid="swipeable-chart-page-container" ng-repeat="p in pages" ng-class="{ \'first\': $first, \'last\': $last }">\n\t\t\t<div class="content" >\n\t\t\t\t<qv-smartsearch-visual-preview\n\t\t\t\t\tng-repeat="visualItem in p"\n\t\t\t\t\tapp="app"\n\t\t\t\t\tactive-visual-ix="activeVisualIx"\n\t\t\t\t\tvisual-object="visualItem"\n\t\t\t\t\tsearch-terms="searchTerms"\n\t\t\t\t\tng-class="{ \'first\': $first && !$last, \'last\': $last, \'active\': focusState.activeStateName === focusState.Suggestions && activeVisualIx === visualItem.itemIndex }">\n\t\t\t\t</qv-smartsearch-visual-preview>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="nav-visual-arrow right" qva-activate="goToPage( pageIndex + 1 );" ng-show="pageIndex < (pages.length - 1)">\n\t\t<span class="lui-fade-button">\n\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--arrow-right"></span>\n\t\t</span>\n\t</div>\n\n\t<qv-global-search-more-indicator pages="pages" active-page-ix="pageIndex" on-page-change="goToPage(index);"></qv-global-search-more-indicator>\n</div>';var _e='<div class="visual-item">\n\t<div class="object" qva-activate="navigateToSheet($event, viz)" >\n\t\t<qv-object ng-if="viz && visualObject.load" model="viz.model" options="viz.options" object="viz.object"></qv-object>\n\t\t<div class="transparent-overlay"></div>\n\t\t<div ng-hide="visualObject.load" class="qv-animate progress">\n\t\t\t<div class="progress-loader"></div>\n\t\t</div>\n\t\t<div class="cao-mobile-manual-loader" ng-click="$event.stopPropagation()" ng-if="isManualLoad">\n\t\t\t<ul>\n\t\t\t\t<li class="cao-mobile-loader-text" q-translation="cao.card.complex">\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<lui-button ng-click="loadManually($event)" q-translation="cao.card.complex.load"></lui-button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t<div class="visual-data" qva-activate="showExtraInfo($event);">\n\t\t<div ng-if="visualObject.load" class="keywords">\n\t\t\t<div class="terms">\n\t\t\t\t<span ng-repeat="t in termsMatched"><span ng-if="!$first">&nbsp;</span><span class="highlighted{{t.pos}}">{{t.string}}</span></span>\n\t\t\t</div>\n\t\t\t<div class="lui-fade-button" ng-if="matches.length" tid="swipeableChartPageInfoButton">\n\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--info"></span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="extra-info" ng-if="visualObject.load" ng-class="{ \'show\': extra }">\n\t\t\t<div ng-if="matches.length" ng-repeat="hits in matches" class="hits">\n\t\t\t\t<div ng-repeat="hit in hits" class="match-hit">\n\t\t\t\t\t<span ng-if="$first"><b q-translation="{{hit.trans}}"></b>: </span><qv-global-search-highlights q-text="hit.qText" q-ranges="hit.qRanges" class="highlights"></qv-global-search-highlights><span ng-if="!$last">,&nbsp;</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="more-hits" qva-activate="showMoreHits($event)" ng-if="$last && (visualObject.qTotalNumberOfMatches-hitsDisplayed) > 0" q-translation="GlobalSearch.MoreResults,{{(visualObject.qTotalNumberOfMatches-hitsDisplayed)}}"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>';var je=n("/irJ");var Be=n("jaci");var Ve=n("jWHD");var He=n("Y9P5");var ze=n("90GT");function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),true).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}a["default"].directive("qvSmartsearchVisualPreview",["$timeout",function(e){var t={TITLE:0,SUBTITLE:1,FOOTNOTE:2,DIMENSION:3,MEASURE:4,ALTERNATIVE_DIMENSION:5,ALTERNATIVE_MEASURE:6,TYPE:7,VALUE:8};function n(e,t){return t.getObject(e.qIdentifier).then((function(e){return{model:e,options:{isReadonly:true,isPopover:false,selectionsDisabled:true,interactionState:Ve["a"].STATIC,components:{miniChart:{show:false},scrollArea:{showFlag:0}},direction:Be["a"].direction}}}))}function r(e){var t=e.split("/");t=t.map((function(e){return parseInt(e,10)})).filter((function(e){return!Number.isNaN(+e)}));return t.length?t[0]:-1}function i(e,n){e.id=-1;if(-1!==n.indexOf("qDimensions")||-1!==n.indexOf("qListObjectDef/qDef")){e.id=r(n);e.type=-1===n.indexOf("qLayoutExclude")?t.DIMENSION:t.ALTERNATIVE_DIMENSION;e.isLabel=-1!==n.indexOf("qFieldLabels")}else if(-1!==n.indexOf("qMeasures")){e.id=r(n);e.type=-1===n.indexOf("qLayoutExclude")?t.MEASURE:t.ALTERNATIVE_MEASURE;e.isLabel=-1!==n.indexOf("qLabel")}else{-1!==n.indexOf("subtitle")?e.type=t.SUBTITLE:-1!==n.indexOf("title")?e.type=t.TITLE:-1!==n.indexOf("footnote")?e.type=t.FOOTNOTE:-1!==n.indexOf("type")?e.type=t.TYPE:e.type=t.VALUE;e.isLabel=-1===n.indexOf("qExpr")}e.trans=a(e.type)}function a(e){var n="---";switch(e){case t.TITLE:n="Common.Title";break;case t.DIMENSION:n="Common.Dimensions";break;case t.MEASURE:n="Common.Measures";break;case t.ALTERNATIVE_DIMENSION:n="properties.alternative.dimensions";break;case t.ALTERNATIVE_MEASURE:n="properties.alternative.measures";break;case t.SUBTITLE:n="properties.subtitle";break;case t.FOOTNOTE:n="properties.footnote";break;case t.TYPE:n="properties.type";break;case t.VALUE:n="properties.dataPoints.labelmode.value";break;default:break}return n}return{restrict:"E",template:_e,replace:true,require:["^qvGlobalSearch"],scope:{visualObject:"=",searchTerms:"=",activeVisualIx:"=",app:"="},link:function t(r,a,o,s){var l=Te.getMaxColorsNum();var c=s[0];var u;r.viz=null;r.termsMatched=null;r.extra=false;r.matches=null;r.loadManually=function(e){e.stopPropagation();r.viz.object.retry();r.isManualLoad=false};function d(){r.loadTimer=e((function(){if(r.viz.object){r.viz.object.cancel();r.isManualLoad=true}}),r.visualObject.suggestedTimeout);r.viz.options.onRendered=function(){r.loadTimer&&e.cancel(r.loadTimer)}}r.$watch("visualObject.load",(function(e){if(true===e){p();if(u)r.viz=u;else{n(r.visualObject,r.app).then((function(e){u=e;r.viz=e;r.viz.object={};r.visualObject.suggestedTimeout&&d()}));h(r.visualObject.qItemMatches)}}else r.viz=null}));r.$watch("searchTerms",(function(e){e&&r.visualObject&&p()}));r.$on("selectActiveVisualItem",(function(){r.activeVisualIx===r.visualObject.itemIndex&&f()}));r.$on("$destroy",(function(){u=null}));r.showMoreHits=function(e){e.stopPropagation();c.showMoreHitsForVisual(r.visualObject).then((function(e){h(e.qItemMatches)}))};function f(e){var t=function e(t){t=t.filter((function(e){return e}));if(t.length)return t[0];return null};m().then((function(n){var r=t(n);if(r){je["a"].goToSheet(r.sheet.qInfo.qId);c.onNavigateToSheet(r.cell.name)}else if(e){var i={isReadonly:true,isPopover:false,selectionsDisabled:true,interactionState:Ve["a"].ANALYSIS,components:{miniChart:{show:true},scrollArea:{showFlag:1}},direction:Be["a"].direction};de["a"].publish(fe["a"].Events.PubSub.ExpandSmartSearchSuggestedChart,Ue(Ue({},e),{},{options:i}))}}))}function p(){r.termsMatched=r.visualObject.qSearchTermsMatched.map((function(e){return{string:r.searchTerms[e],pos:e%l}}))}function h(e){r.hitsDisplayed=e.length;e.forEach((function(e){e.qAttributes&&e.qAttributes.length&&i(e,e.qAttributes[0][1])}));var t=r.visualObject.qItemMatches.filter((function(t){if(t.isLabel)return true;var n=e.filter((function(e){return e.isLabel&&t.type===e.type&&t.id===e.id&&t!==e}));var r=t.qRanges.every((function(e){return n.some((function(t){return t.qRanges.some((function(t){return e.qTerm===t.qTerm}))}))}));return!r}));var n=F.a.groupBy(t,(function(e){return e.type}));var a=Object.keys(n).map((function(e){return n[e]}));r.matches?a.forEach((function(e,t){if(e.length>r.matches[t].length){var n=r.matches[t].length;for(var i=n;i<e.length;i++)r.matches[t].push(e[i])}})):r.matches=a}function v(e,t,n){var i={sheet:e,cell:t};if(t.name===r.visualObject.qIdentifier)return ce["a"].resolve(i);if("filterpane"===t.type)return n.getObject(t.name).then((function(e){return e.getLayout().then((function(e){if(e.qChildList&&e.qChildList.qItems.length){var t=e.qChildList.qItems.filter((function(e){return e.qInfo.qId===r.visualObject.qIdentifier}));return t.length?i:null}return null}))}));return ce["a"].resolve(null)}function m(){var e;var t=[];for(var n=0;n<He["a"].Sheets.UNSAFE_all.mashed.length;n++){e=He["a"].Sheets.UNSAFE_all.mashed[n];for(var i=0;i<e.qData.cells.length;i++)t.push(v(e,e.qData.cells[i],r.app))}return ce["a"].all(t)}r.showExtraInfo=function(e){r.extra=!r.extra&&r.matches.length;e.stopPropagation()};r.navigateToSheet=function(e,t){if(!r.isManualLoad){e.stopPropagation();f(t)}}}}}]);var We='<div class="qv-gs-more-indicator" ng-class="{ \'touch-on\': touchOn }">\n\t<div class="hit-area"  qva-activate="onPageClick($index);" ng-repeat="p in pages">\n\t\t<span tid="swipeableChartPageClickDot" class="dot" ng-class="{ \'active\': $index === activePageIx, \'pressed\': $index === pressedPageIx }"></span>\n\t</div>\n</div>';a["default"].directive("qvGlobalSearchMoreIndicator",[function(){return{replace:true,template:We,restrict:"E",scope:{pages:"=",activePageIx:"=",onPageChange:"&"},link:function e(t){t.touchOn=!x["a"].treatAsDesktop();t.pressedPageIx=void 0;t.onPageClick=function(e){t.pressedPageIx=e;t.onPageChange({index:e})};t.$watch("activePageIx",(function(){t.pressedPageIx=void 0}))}}}]);a["default"].directive("qvaSmartSearchSwipeHorizontal",["$parse",function(e){var t={up:false,down:false,right:true,left:true};return{restrict:"A",link:function n(r,i,a){var o=e(a.qvaSmartSearchSwipeHorizontal);function s(e,n){if(t[n.swipe.direction]){var i=n.swipe.curDeltaX>0?-1:0===n.swipe.curDeltaX?0:1;o(r,{delta:i});ve.a.preventGestures(this.gestureHandler)}}x["a"].treatAsDesktop()||ve()(i[0]).swipe({options:{radiusThreshold:50,preventDefault:false,useMomentum:true},start:s});r.$on("$destroy",(function(){ve()(i[0]).off()}))}}}]);var Qe={MAX_MOBILE_VISUALS:10,PAGE_VISUALS:3,PAGE_VISUALS_PORTRAIT:2,PADDING_PAGES:15};a["default"].directive("qvSmartsearchVisualsGroup",["$timeout",function(e){return{restrict:"E",template:Fe,replace:true,scope:{items:"=",searchTerms:"=",options:"=",app:"="},controller:function e(){this.loadPage=function(){};this.preparePages=function(){}},link:function t(n,r,i,a){var o=0;n.pageIndex=0;n.activeVisualIx=-1;n.pages=[];n.objects=null;var s=r.find(".visuals-wrapper");var l=false;var c=w["default"].isSmallDevice?400:600;var d=function e(){c=w["default"].isSmallDevice?400:600;s[0].scrollLeft=n.pageIndex*(s[0].offsetWidth+Qe.PADDING_PAGES)};var f=function e(){a.preparePages(n.items[0].qItems)};w["default"].OrientationChanged.bind(f);w["default"].ViewChanged.bind(f);n.setPageIndex=function(e){n.pageIndex=e;var t=function t(r){n.pages[r].forEach((function(t){n.options.preload?t.load=r===e||r===e+1||r===e-1:t.load=r===e}))};for(var r=0;r<n.pages.length;r++)t(r)};u["a"].on("update",d);n.goToPage=function(e){a.loadPage(e)};n.onSwipePage=function(e){a.loadPage(n.pageIndex+e)};n.$watch("items",(function(e){e&&e.length&&a.preparePages(e[0].qItems)}));n.$on("visualsGroupMoveActiveVisual",(function(e,t){if(l)return;var r=n.pages.reduce((function(e,t){return e+t.length}),0);var i;i=n.activeVisualIx>0||t>0?(n.activeVisualIx+t)%r:r-1;var s=Math.floor(i/o);s!==n.pageIndex&&a.loadPage(s);n.activeVisualIx=i}));n.$on("visualsGroupBlur",(function(){n.activeVisualIx=-1}));n.$on("visualsGroupFocus",(function(){n.activeVisualIx=0;0!==n.pageIndex&&a.loadPage(0)}));n.$on("$destroy",(function(){u["a"].off("update",d);w["default"].OrientationChanged.unbind(f);w["default"].ViewChanged.unbind(f)}));a.loadPage=function(t){if(!l&&t>=0&&t<n.pages.length){l=true;s.animate({scrollLeft:t*(s[0].offsetWidth+Qe.PADDING_PAGES)},c,"swing",(function(){l=false;e((function(){n.setPageIndex(t)}))}))}};a.preparePages=function(e){if(e){p();var t;var r=0;var i=[];w["default"].orientation===w["default"].Orientation.landscape?t=w["default"].isSmallDevice?1:Qe.PAGE_VISUALS:w["default"].orientation===w["default"].Orientation.portrait&&(t=w["default"].isSmallDevice?1:Qe.PAGE_VISUALS_PORTRAIT);o=t;for(var a=0;a<e.length;a++){if(w["default"].isSmallDevice&&i.length>=Qe.MAX_MOBILE_VISUALS&&i[r].length>=t)break;if(i[r]){if(i[r].length>=t){r++;i.push([])}}else i.push([]);e[a].itemIndex=a;e[a].load=n.options.preload?0===r||1===r:0===r;i[r].push(e[a])}n.pages=i}};function p(){n.pages=[];s.scrollLeft(0);n.pageIndex=0}}}}]);var Ke={INITIAL:0,VISUALS_DOCKED:1,DATA_DOCKED:2};a["default"].directive("qvGlobalSearchResult",["$timeout",function(e){return{restrict:"E",template:Me,replace:true,require:["^qvGlobalSearch","qvGlobalSearchResult"],controller:function e(){this.getElement=function(){};this.setDockState=function(){}},link:function t(n,r,i,a){var o=a[0];var s=a[1];var l;var c=function t(){var i=this;var a=0;x["a"].treatAsDesktop()&&!l&&(l=r.find(".qv-smartsearch-visuals-group"));e((function(){if(l&&l.length){a=l[0].offsetTop+l[0].offsetHeight-33;n.fixedbar=i.scrollTop>a}n.scrollShow=i.scrollHeight-i.scrollTop>i.clientHeight}))};var u=!x["a"].treatAsDesktop()&&n.isObjectsFeature?r.find(".data-container"):r;n.dockState=Ke.INITIAL;n.caoMobile=Object(v["b"])("CAO_MOBILE");n.emptyMessageEnabled=false;n.fixedbar=false;n.classes={"qv-global-search-result-throbber-open":n.activity.show,"with-objects":n.isObjectsFeature&&!n.isSmallDeviceLandscape};n.$watch("isObjectsFeature && !isSmallDeviceLandscape",(function(e){n.classes["with-objects"]=e}));n.$watch("activity.show",(function(e){n.classes["qv-global-search-result-throbber-open"]=e}));n.$watch((function(){return n.showNoResultsMessage()}),(function(e){n.classes.noresults=e}));n.select=function t(r,i){if(ve.a.utils.touch){n.activeResultIx=i;e((function(){o.select(n.searchTerms,r.qId)}),100)}else o.select(n.searchTerms,r.qId)};n.loadNextPage=function e(){o.loadNextPage()};s.getElement=function(){return r};s.setDockState=function(t){e((function(){n.dockState=t;n.classes["visuals-docked"]=t===Ke.VISUALS_DOCKED;n.classes["data-docked"]=t===Ke.DATA_DOCKED}))};n.setShowPartialMatches=function(){o.setShowPartialMatches()};n.showNoResultsMessage=function(){var e;e=n.caoMobile?n.emptyMessageEnabled&&n.searchTerms.length>0&&!n.displayResult.data&&!n.error.show&&!n.activity.show&&0===n.insightVisualsGroups.length&&!n.fetchingInsightChartsPending||n.error.show:n.emptyMessageEnabled&&n.searchTerms.length>0&&!n.displayResult.data&&!n.error.show&&!n.activity.show||n.error.show;return e};o.showNoResultsMessage=function(){return n.showNoResultsMessage()};n.resetDockState=function(){n.dockState=Ke.INITIAL;x["a"].treatAsDesktop()&&u.animate({scrollTop:0},300,"swing")};var d=n.$watch((function(){return u[0]&&u[0].scrollHeight?u[0].scrollHeight:0}),(function(e){e&&(n.scrollShow=e>u[0].clientHeight)}));u.on("scroll",c);n.$on("resultScrollToTop",(function(){r[0].scrollTop=0}));n.$on("$destroy",(function(){d();u.off("scroll",c)}))}}}]);a["default"].directive("qvScrollToActive",[function(){return{restrict:"A",require:"^qvGlobalSearchResult",link:function e(t,n,r,i){r.$observe("qvScrollToActive",(function(e){e="true"==="".concat(e);n.toggleClass("active",e);if(e){var t=i.getElement();var r=n.position();r.top<0?t[0].scrollTop=n[0].offsetTop:r.top+n.height()>t.height()&&n[0].scrollIntoView(false)}}))}}}]);a["default"].directive("qvGlobalSearchResultMsg",[function(){return{restrict:"E",template:Pe,replace:true,require:["^qvGlobalSearch","^qvGlobalSearchResult"],link:function e(t){t.capUnderlineMaxNumber=6}}}]);a["default"].directive("qvGlobalSearchNoResults",[function(){return{restrict:"E",template:Ne,replace:true,require:["^qvGlobalSearch","^qvGlobalSearchResult"],link:function e(){}}}]);var Ye='<div class="qv-search-suggest-wrapper" tid="globalSearch.suggestions">\n\t<span class="hidden">{{query}}</span>\n    <div ng-show="isSmallDevice" ng-if="!isObjectsFeature" class="dym" q-translation="GlobalSearch.DidYouMean"></div>\n\t<ul class="suggest-popup">\n\t\t<li ng-repeat="suggest in suggestions track by $index" qv-scroll-to-active-suggestion="{{$index === activeSuggestionIx && focusState.activeStateName === focusState.Suggestions}}" ng-class="{active: $index === activeSuggestionIx && focusState.activeStateName === focusState.Suggestions }" qva-activate="onSuggestSelect(null, suggest)" tid="globalSearch.suggestion" bold-suggest=\'{{suggest.value}}\'>\n\t\t\t{{suggest.value}}\n\t\t</li>\n\t</ul>\n</div>\n';a["default"].directive("qvGlobalSearchSuggest",[function(){return{restrict:"E",template:Ye,replace:true,require:["^qvGlobalSearch"],link:function e(){}}}]);a["default"].directive("qvScrollToActiveSuggestion",[function(){return{restrict:"A",link:function e(t,n,r){r.$observe("qvScrollToActiveSuggestion",(function(e){e="true"==="".concat(e);if(e){var t=n.position();var r=n.parent();var i=n[0].clientWidth>r[0].clientWidth;var a=t.left+n[0].clientWidth-r[0].clientWidth;n[0].scrollIntoView(i);t.left<=r[0].offsetLeft?r.scrollLeft(n[0].offsetLeft-r[0].offsetLeft):a>0&&!i&&(r[0].scrollLeft+=a)}}))}}}]);var Je='<div class="qv-search-last-history" tid="globalSearch.searchHistory">\n\t<div class="history-header" ng-show="searchHistory.length">\n\t\t<div class="title"  q-translation="GlobalSearch.RecentSearches"></div>\n\t\t<div class="clear-all-button" q-translation="GlobalSearch.ClearAll" qva-activate="clearSearchHistory($index)"></div>\n\t</div>\n\t<ul class="history-popup" ng-show="searchHistory.length">\n\t\t<li ng-repeat="items in searchHistory track by $index" qva-delegated-activate=".history-query#onSearchHistorySelect($index); .lui-icon--close#removeSelectedHistory($index);" tid="globalSearch.searchHistoryItem" ng-class="{active: $index === activeHistoryIx && focusState.activeStateName === focusState.History}" qv-scroll-to-active-history="{{$index === activeHistoryIx && focusState.activeStateName === focusState.History}}">\n\t\t\t<div class="history-query">{{searchHistory[$index]}}</div>\n\t\t\t<div class="lui-icon lui-icon--close" q-title-translation="Common.Delete" title="Delete"></div>\n\t\t</li>\n\t</ul>\n</div>';a["default"].directive("qvGlobalSearchHistory",["$timeout",function(e){return{restrict:"E",template:Je,replace:true,require:["^qvGlobalSearch"],link:function t(n,r,i,a){var o=a[0];var s=r.find(".history-popup")[0];n.colorsLimit=Te.getMaxColorsNum();n.$watch("searchInputFocused",(function(t){t&&e((function(){s.scrollTop=0}))}));n.onSearchHistorySelect=function(e){o.setQueryFromHistory(e)};n.clearSearchHistory=function(){o.clearHistory()};n.removeSelectedHistory=function(e){o.removeHistory(e)}}}}]);a["default"].directive("qvScrollToActiveHistory",[function(){return{restrict:"A",link:function e(t,n,r){r.$observe("qvScrollToActiveHistory",(function(e){e="true"==="".concat(e);n.toggleClass("active",e);e&&n[0].scrollIntoView(false)}))}}}]);var Ze='<div ng-show="activity.show" class="qv-qs-throbber-container qv-animate ng-hide">\n\n\t<div class="qv-gs-throbber-dimmer"></div>\n\n\t<div ng-show="throbber.show" class="qv-gs-throbber ng-hide"></div>\n\n\t<div ng-show="indexProgress.show" class="qv-gs-index qv-gs-index-progress qv-animate ng-hide">\n\n\t\t<div class="qv-gs-index-group" qva-smart-search-swipe-horizontal="onSwipePage(delta)">\n\t\t\t<div class="qv-gs-index-section">\n\t\t\t\t<div class="qv-gs-index-content qv-gs-index-content-shrink">\n\t\t\t\t\t<span class="qv-gs-index-header" q-translation="GlobalSearch.PreparingSmartSearch"></span>\n\n\t\t\t\t\t<qv-progress-bar percent-done="percentDone" on-completed="showIndexDone()"></qv-progress-bar>\n\n\t\t\t\t\t<span class="qv-gs-index-text" q-translation="GlobalSearch.NextTimeFaster"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="qv-gs-index-section">\n\t\t\t\t<div class="qv-gs-index-content qv-gs-index-content-shrink">\n\t\t\t\t\t<div class="qv-gs-index-help" qva-activate="openHelp()">\n\t\t\t\t\t\t<span class="qv-gs-index-header" q-translation="GlobalSearch.LearnHowToUse"></span>\n\t\t\t\t\t\t<img ng-src="{{imgSrc}}" class="qv-gs-index-image" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<qv-global-search-more-indicator pages="pages" active-page-ix="activePageIx" on-page-change="goToPage(index);"></qv-global-search-more-indicator>\n\n\t</div>\n\n\t<div ng-show="indexDone.show" class="qv-gs-index qv-gs-index-done qv-animate ng-hide">\n\t\t<div class="qv-gs-index-section qv-gs-index-section-single">\n\t\t\t<div class="qv-gs-index-content qv-gs-index-shrink">\n\t\t\t\t<span class="qv-gs-index-icon lui-icon lui-icon--tick" aria-hidden="true"></span>\n\t\t\t\t<span class="qv-gs-index-text-big" q-translation="GlobalSearch.Done"></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</div>';var Xe=n("Lj2P");var et=n("/2No");var tt=n("PcNG");var nt={};Object.defineProperties(nt,{THROBBER:{value:1e3},INDEX_PROGRESS:{value:5e3},NEXT_INDEX_PROGRESS:{value:500},HIDE_INDEX_DONE:{value:1e3}});a["default"].directive("qvGlobalSearchThrobber",["$timeout","$window","$animate",function(e,t,n){return{replace:true,template:Ze,restrict:"E",link:function r(i,a){var o;var s;var l;var c;var d=a.find(".qv-gs-index-progress .qv-gs-index-group");var f;i.asyncHideActivity=false;i.percentDone=void 0;i.imgSrc="".concat(et["a"].staticResourcesPath,"img/core/static/smart-search.png");i.pages=[{},{}];i.activePageIx=0;var p=function t(){e((function(){d[0].scrollLeft=i.activePageIx*d[0].offsetWidth}))};w["default"].OrientationChanged.bind(p);u["a"].on("update",p);i.goToPage=function(t){d.animate({scrollLeft:t*d[0].offsetWidth},400,"swing",(function(){e((function(){i.activePageIx=t}))}))};i.onSwipePage=function(e){if(i.isSmallDevice){var t=e>0?1:0;t!==i.activePageIx&&i.goToPage(t)}};i.openHelp=function(){t.open("".concat(Xe["a"].path,"SmartSearch_Intro"))};i.$on("$destroy",(function(){e.cancel(o);e.cancel(s);e.cancel(l);e.cancel(c);u["a"].off("update",p);w["default"].OrientationChanged.unbind(p);Dt.IndexProgressUpdate.unbind(I);n.off("removeClass",a[0])}));function h(e){var t=Object(ce["a"])();var r=a.find(e)[0];n.on("removeClass",r,(function(e,i){if("close"===i){n.off(r);t.resolve()}}));return t.promise}function v(){i.throbber.show=false;i.indexProgress.enabled=false;i.indexProgress.show=false;i.indexProgress.visible=false;i.indexDone.show=false;i.indexDone.visible=false}function m(){if(void 0!==i.percentDone&&i.percentDone<100)return true;return Dt.couldEngineBeIndexing(i.app)}function g(t){if(!f){Dt.IndexProgressUpdate.bind(I);f=true}e.cancel(c);c=e((function(){Dt.requestIndexProgressUpdate(i.app)}),t||0)}i.showIndexDone=function(){h(".qv-gs-index-done").then((function(){i.indexProgress.show=false;i.indexProgress.visible=false;i.indexDone.visible=true;i.percentDone=void 0;e.cancel(l);l=e(b,nt.HIDE_INDEX_DONE)}));i.indexDone.show=true};function b(){i.indexDone.visible=false;i.indexDone.show=false;e.cancel(o);i.$emit("updateForceShowDimmer",false);i.asyncHideActivity?q():o=e(C,nt.THROBBER)}function y(e){h(".qv-gs-index-progress").then((function(){i.indexProgress.visible=true;i.isSmallDevice||i.$emit("updateForceShowDimmer",true)}));i.percentDone=e;i.indexProgress.show=true;i.activity.show=true;i.throbber.show=false;e<100?g(nt.NEXT_INDEX_PROGRESS):x()}function S(e){i.percentDone=e;e<100?g(nt.NEXT_INDEX_PROGRESS):x()}function x(){e.cancel(c);if(f){Dt.IndexProgressUpdate.unbind(I);f=false}}function C(){i.activity.show=true;i.throbber.show=true;i.emptyMessageEnabled=false}function q(){e.cancel(o);e.cancel(s);e.cancel(l);e.cancel(c);x();i.activity.show=false;i.throbber.show=false;i.indexProgress.enabled=false;i.indexProgress.show=false;i.indexProgress.visible=false;i.emptyMessageEnabled=i.searchTerms.length>0}function E(){i.indexProgress.enabled=true;g()}function I(t,n){if(t!==(i.app.id||"").toUpperCase())return;var r=Number(n);if(Number.isNaN(+r)||!n){i.indexProgress.enabled=true;g(nt.INDEX_PROGRESS);return}if(!i.indexProgress.show&&r<100)y(r);else if(i.indexProgress.show)S(r);else{e.cancel(o);o=e(C,nt.THROBBER)}}function k(t,n,r){if(n){i.asyncHideActivity=false;if(i.activity.show)return;v();e.cancel(o);e.cancel(s);if(m())E();else{o=e(C,nt.THROBBER);s=e(E,nt.INDEX_PROGRESS)}}else{var a=i.percentDone&&i.percentDone<100;if(a&&r){Dt.setLastKnownIndexProgress(i.app,100);x();i.percentDone=100;i.asyncHideActivity=true}else if(a&&!r)i.isSmallDevice&&q();else if(100===i.percentDone){Dt.setLastKnownIndexProgress(i.app,100);x();i.asyncHideActivity=true}else q()}}i.$on("toggleActivityIndicator",k)}}}]);a["default"].directive("qvMobileIndexProgress",["$timeout",function(e){return{replace:true,template:'<div class="qv-mobile-index-progress"><qv-progress-bar ng-if="showMobileIndexProgressBar" percent-done="indexPercentDone" on-completed="hideMobileIndexProgressWhenDone()" options="progressBarOptions"></qv-progress-bar></div>',restrict:"E",link:function t(n){var r;var i;n.progressBarOptions={hideText:true};Dt.couldEngineBeIndexing(n.app)&&s(0);n.$on("$destroy",(function(){e.cancel(i);Dt.IndexProgressUpdate.unbind(a)}));n.hideMobileIndexProgressWhenDone=function(){n.showMobileIndexProgressBar=false};function a(e,t){if(e!==(n.app.id||"").toUpperCase())return;if(!n.showMobileIndexProgressBar&&t<100){n.indexPercentDone=t;n.showMobileIndexProgressBar=true;s(500)}else if(n.showMobileIndexProgressBar){n.indexPercentDone=t;t<100&&s(500)}else o()}function o(){e.cancel(i);if(r){Dt.IndexProgressUpdate.unbind(a);r=false}}function s(t){if(!r){Dt.IndexProgressUpdate.bind(a);r=true}e.cancel(i);i=e((function(){Dt.requestIndexProgressUpdate(n.app)}),t||0)}}}}]);var rt=n("plVp");function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),true).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var st={};Object(f["a"])().then((function(e){st=e}));function lt(e,t,n,r){var i={qOffset:t,qCount:n,qGroupOptions:[],qGroupItemOptions:[]};if(e===I.data){i.qGroupOptions.push({qGroupType:"DatasetType",qOffset:0,qCount:-1});i.qGroupItemOptions.push({qGroupItemType:"Field",qOffset:0,qCount:r})}else if(e===I.visuals){i.qGroupOptions.push({qGroupType:"GenericObjectsType",qOffset:0,qCount:30});i.qGroupItemOptions.push({qGroupItemType:"GenericObject",qOffset:0,qCount:r})}return i}function ct(e){var t={qContext:"CurrentSelections"};e&&(t.qCharEncoding="Utf16");return t}function ut(e,t){e.dimmerStyles["max-height"]=t;e.dimmerStyles.height=t}function dt(e){e.isSmallDeviceLandscape=w["default"].orientation===w["default"].Orientation.landscape&&w["default"].isSmallDevice}function ft(e,t,n,r){var i=a["default"].getService("$timeout");var o={search:{idCounter:0,requestState:q.idle,searchTerms:""},searchVisuals:{idCounter:0,requestState:q.idle,searchTerms:""},result:{requestState:q.idle},suggest:{idCounter:0,requestState:q.idle,suggestTerms:""}};var s=function e(){return n.offset().top+n[0].offsetTop+n.find(".qv-global-search-input").outerHeight()};var f=s();var p=n.parent().parent();var m=this;var C=function n(){ut(e,t.find("body").height()-f)};var E=function t(){i((function(){e.isSmallDevice=w["default"].isSmallDevice;e.isSmallDevice&&(e.forceShowDimmer=false);dt(e);f=s();C()}))};var k=function t(){e.isSmallDeviceLandscape=w["default"].orientation===w["default"].Orientation.landscape&&w["default"].isSmallDevice;dt(e);f=s();C()};e.inClient=c["a"].inClient();e.zoomedChart=false;e.focusState=new O(new N(O,this,e),O.Input);var A=new g(n,e,this);e.forceShowDimmer=false;e.isSmallDevice=w["default"].isSmallDevice;e.isSmallDeviceLandscape=w["default"].orientation===w["default"].Orientation.landscape&&w["default"].isSmallDevice;e.showMobileIndexProgressBar=false;e.isObjectsFeature=e.inClient&&(e.isSmallDevice||e.options&&e.options.objectSearchIsOn);e.isSearchHistoryFeature=true;e.suggestedChartExpanded=null;de["a"].subscribe(fe["a"].Events.PubSub.ExpandSmartSearchSuggestedChart,(function(t){e.zoomedChart=t;e.animateZoomedChart=Boolean(t);e.suggestedChartExpanded=Boolean(t);t&&e.isSmallDevice&&pe["a"].resizeCharts(r)}));de["a"].subscribe(fe["a"].Events.PubSub.RestoreSearchState,(function(){if(e.suggestedChartExpanded){e.query=e.suggestedChartExpanded;m.setQueryFromHistory()}}));e.minimizeExpandedChart=function(){e.suggestedChartExpanded=null;de["a"].publish(fe["a"].Events.PubSub.ExpandSmartSearchSuggestedChart,null)};if(e.isSearchHistoryFeature){st.userId?e.userID=st.userId:e.userID="DESKTOP";e.searchInputFocused=false;e.activeHistoryIx=-1;e.historyPermission=false;e.searchHistory=le.initHistory(e)}w["default"].ViewChanged.bind(E);w["default"].OrientationChanged.bind(k);u["a"].on("end",C);e.input="input goes here";e.result="result goes here";e.isSelectActiveInSmallDevice=false;e.$on("$destroy",(function(){n.off("qv-outside");A.delete();w["default"].ViewChanged.unbind(E);w["default"].OrientationChanged.unbind(k);u["a"].off("end",C);de["a"].unsubscribe(fe["a"].Events.PubSub.ExpandSmartSearchSuggestedChart);de["a"].unsubscribe(fe["a"].Events.PubSub.RestoreSearchState)}));e.$on("updateForceShowDimmer",(function(t,n){e.forceShowDimmer=n}));e.$watch("throbber.show",(function(t){t&&e.focusState.reset()}));e.app.getCurrentSelectionObject().then((function(t){e.modelSelections=t}));Object(d["a"])(e,"modelSelections",(function(t){var n=t.qSelectionObject.qSelections;var r=n.reduce((function(e,t){return e+(true===t.qLocked)?1:0}),0);e.currentSelections=n.length>0;e.allSelectionsLocked=n.length===r;e.isObjectsFeature&&m.searchVisuals(e.searchTerms);m.search(e.searchTerms)}));e.$watch("app.isModal()",(function(t){t&&i((function(){Dt.toggleGlobalSearch(e.app)}))}));e.$watch(rt["a"].isSelectActive.bind(null,e.app),(function(t){e.isSelectActiveInSmallDevice=t&&e.isSmallDevice}));e.$watch("query",(function(t){Dt.setHaveQuery(e.app,!!t)}));if(!e.isSmallDevice&&Dt.couldEngineBeIndexing(e.app)){e.forceShowDimmer=true;i((function(){e.$broadcast("toggleActivityIndicator",true)}))}e.underlines=[];e.query="";e.searchTerms=[];e.searchTermGroups=[];e.matches=[];e.displayResult={data:false,visuals:false};e.activity={show:false};e.throbber={show:false};e.indexProgress={enabled:false,show:false,visible:false};e.indexDone={show:false,visible:false};e.activeSelectIx=-1;e.showMeMoreFocus=false;e.forcePartials=false;e.allSelectionsLocked=false;e.dimmerStyles={};e.error={show:false,message:"",description:""};e.paging={lastRowIx:0,totalRows:0};e.searchOutsideSelections=function(){m.searchOutsideSelections()};e.onShowMoreHits=function(t,r,i){t.stopPropagation();if(r.disableShowMore)return;ut(e,n.find(".qv-global-search-dimmer").height());r.disableShowMore=true;r.mobileExpand=true;var a=lt(I.data,i,1,r.qItemMatches.length+15);m.callSearch(e.searchTerms,a).then((function(e){Te.showMore(e,r)})).finally((function(){r.disableShowMore=false}))};e.getSearchTermGroup=function(t){return e.searchTermGroups.filter((function(e){return e.qSearchTermsMatched.length===t}))};e.close=function(){m.closeSearch()};function T(e){var t=l()(e.target);if(1===t.closest(".qvt-selections").length||1===t.closest(".transparent-overlay-scroll").length)return;m.closeSearch()}n.on("qv-outside",T);e.suggestions=[];e.displaySuggestions=false;e.activeSuggestionIx=-1;e.ignoreQueryChange=false;e.onOutsideSearch=function(){e.isSearchHistoryFeature&&m.showHistory(false)};e.onSuggestSelect=function(t,n){var r;var i=[];if(!n){t=void 0!==t?t:e.activeSuggestionIx;n=e.suggestions[t]}Te.getUnderlinersAndSearchTerms(e.query,i,[]);var a=Te.getResultingQueryFromSuggestion(i,n);if(a.length>255){A.off();y["a"].showDialog({message:"ErrorDialog.SearchStringTooLong"});r=e.$on("errorHandlerClosed",(function(){A.on();r()}))}else{e.query="".concat(a," ");e.ignoreQueryChange=false}m.hideSuggestions();e.$broadcast("focusInput");e.getInsightsCharts(n.value)};e.haveUnlockedSelections=function(){return e.currentSelections&&!e.allSelectionsLocked};e.getInsightsCharts=function(t){if(Object(v["b"])("CAO_MOBILE"))if(e.query){e.unableTofetchInsightCharts=false;e.fetchingInsightChartsPending=true;h["a"].getInsights(e.app,t).then((function(t){var n=[].concat(t.recommendations).concat(t.chartMatches);var r=n.map((function(t){return t.visualization.loadChart(e.app)}));ce["a"].all(r).then((function(t){n=n.map((function(e,n){e=at(at({},e),{},{itemIndex:n,load:true,qItemType:"GenericObject",qTotalNumberOfMatches:0,qIdentifier:t[n].model.id,qItemMatches:[],qTermsMatched:[],qSearchTermsMatched:[]});return e}));if(n.length>0){e.suggestedChartGroupTitle=ue["default"].get("GlobalSearch.Insight.ChartsTitle",[n.length]);e.insightVisualsGroups=[{qGroupType:"GenericObjectsType",qid:0,qItems:n,insightCharts:true,qSearchTermsMatched:[0],qTotalNumberOfItems:n.length}]}e.fetchingInsightChartsPending=false}))}),(function(){e.unableTofetchInsightCharts=true;e.insightVisualsGroups=[];e.fetchingInsightChartsPending=false}))}else e.insightCharts=[]};this.hideSuggestions=function(){if(e.displaySuggestions){e.displaySuggestions=false;this.resetSuggestions()}};this.hideSoftKeyboard=function(){e.$broadcast("blurInput")};this.showNoResultsMessage=function(){return false};this.searchOutsideSelections=function(){e.outsideSelection=true;e.modelSelections.clearAll();e.$broadcast("focusInput")};this.setShowPartialMatches=function(){e.forcePartials=!e.forcePartials;x["a"].treatAsDesktop()&&e.$broadcast("focusInput")};e.isPartials=function(){return e.searchTermGroups.length&&e.searchTerms.length>e.searchTermGroups[0].qSearchTermsMatched.length};this.resetSuggestions=function(){e.activeSuggestionIx=-1;e.activeSelectIx=-1};this.showSuggestions=function(){e.displaySuggestions=true;e.activeSuggestionIx=-1;e.activeSelectIx=-1};this.showError=function(t){e.displayResult={data:false,visuals:false};e.error.show=true;e.error.translation="ErrorCode.".concat(t.code);t.isHandled=true};this.toogleSuggestions=function(e){e?this.showSuggestions():this.hideSuggestions()};this.emptyResult=function(){e.insightVisualsGroups=[];e.displayResult={data:false,visuals:false};e.activeSelectIx=-1;e.error.show=false;o.search.requestState=q.idle;o.searchVisuals.requestState=q.idle;o.suggest.requestState=q.idle;e.searchTerms=[];e.searchTermGroups=[];e.searchVisualsGroups=[];e.matches=[];e.outsideSelection=false;e.$broadcast("toggleActivityIndicator",false);e.forcePartials=false;e.focusState.reset();this.hideSuggestions();p.removeClass("queryon")};this.moveActiveResult=function(t){e.showMeMoreFocus=false;if(0===t)return;if(t>0){e.activeSelectIx=Math.min(e.activeSelectIx+1,e.searchTermGroups.length);e.activeSelectIx=Math.min(e.activeSelectIx,e.paging.totalRows-1);e.activeSelectIx===e.searchTermGroups.length&&(e.showMeMoreFocus=true)}else t<0&&(e.activeSelectIx=Math.max(e.activeSelectIx-1,0))};this.searchVisuals=function(n){if(!e.isObjectsFeature)return;ut(e,t.find("body").height()-f);if(0===n.length)return;o.searchVisuals.idCounter+=1;var r=o.searchVisuals.idCounter;var i=this;var a={qAttributes:["qProperty"],qCharEncoding:"Utf16"};var s=lt(I.visuals,0,-1,20);o.searchVisuals.requestState=q.pending;o.searchVisuals.searchTerms=n;function l(t){e.searchVisualsGroups=[];if(r===o.searchVisuals.idCounter&&o.searchVisuals.requestState===q.pending){o.searchVisuals.requestState=q.idle;o.searchVisuals.searchTerms="";Te.transformResult(e,t)}}function c(t){if(t.code===b["a"].NxLocalizedErrorCode.LOCERR_SEARCH_TIMEOUT){i.emptyResult();i.showError(t)}if(t.code===b["a"].NxLocalizedErrorCode.LOCERR_GENERIC_ABORTED)return;o.searchVisuals.requestState=q.idle;o.searchVisuals.searchTerms="";e.displayResult.visuals=false}e.app[I.visuals](a,n,s).then(l,c)};this.search=function(n){ut(e,t.find("body").height()-f);e.focusState.reset();if(0===n.length)return;p.addClass("queryon");o.search.idCounter+=1;var r=o.search.idCounter;var i=this;var a=lt(I.data,0,5,5);o.search.requestState=q.pending;o.search.searchTerms=n;e.$broadcast("toggleActivityIndicator",true);e.$broadcast("resultScrollToTop");function s(t){e.searchTermGroups=[];e.matches=[];if(r===o.search.idCounter&&o.search.requestState===q.pending){o.search.requestState=q.idle;o.search.searchTerms="";e.searchTerms=n;e.$broadcast("toggleActivityIndicator",false,true);e.$broadcast("resultScrollToTop");Te.transformResult(e,t);e.activeSelectIx=-1;e.paging.lastRowIx=e.searchTermGroups.length;e.paging.totalRows=t.qTotalNumberOfGroups}}function l(t){if(t.code===b["a"].NxLocalizedErrorCode.LOCERR_SEARCH_TIMEOUT){i.emptyResult();i.showError(t)}if(t.code===b["a"].NxLocalizedErrorCode.LOCERR_GENERIC_ABORTED){if(r!==o.search.idCounter||o.search.requestState!==q.pending)return;e.$broadcast("toggleActivityIndicator",false,true)}o.search.requestState=q.idle;o.search.searchTerms="";e.displayResult.data=false}e.error.show=false;this.callSearch(n,a).then(s,l)};this.loadNextPage=function(){ut(e,n.find(".qv-global-search-dimmer").height());var t=lt(I.data,e.paging.lastRowIx,5,5);var r=this;if(o.result.requestState!==q.idle)return;o.result.requestState=q.pending;e.showMeMoreFocus=false;e.$broadcast("toggleActivityIndicator",true);function i(t){o.result.requestState=q.idle;e.$broadcast("toggleActivityIndicator",false,true);Te.transformResult(e,t);e.paging.lastRowIx=e.searchTermGroups.length}function a(){if(a.code===b["a"].NxLocalizedErrorCode.LOCERR_SEARCH_TIMEOUT){r.emptyResult();r.showError(a)}if(a.code===b["a"].NxLocalizedErrorCode.LOCERR_GENERIC_ABORTED)return;o.search.requestState=q.idle;o.search.searchTerms="";e.displayResult.data=false}this.callSearch(e.searchTerms,t).then(i,a)};this.callSearch=function(t,n){return e.app[I.data](ct(true),t,n)};this.closeSearch=function(){if(e.isSmallDevice){m.emptyResult();e.query="";e.$broadcast("blurInput")}else Dt.toggleGlobalSearch(e.app)};this.suggest=function(t){if(0===t.length)return;var n=this;o.suggest.idCounter+=1;var r=o.suggest.idCounter;o.suggest.requestState=q.pending;o.suggest.suggestTerms=t;function i(t){if(Object(v["b"])("CAO_MOBILE")){var i=t.qFieldNames.map((function(e){return{qValue:e,qTerm:0}}));t.qSuggestions=t.qSuggestions.concat(i)}o.suggest.suggestTerms="";if(Te.isWhiteSpaceAt(e.query,e.query.length-1)||'"'===e.query.charAt(e.query.length-1))return;if(r===o.suggest.idCounter&&o.suggest.requestState===q.pending){Te.transformSuggest(e,t,10);n.toogleSuggestions(e.suggestions.length>0);e.$broadcast("suggestShow",true,true)}o.suggest.requestState=q.idle}function a(e){e.code===b["a"].NxLocalizedErrorCode.LOCERR_SEARCH_TIMEOUT&&(e.isHandled=true);if(e.code===b["a"].NxLocalizedErrorCode.LOCERR_GENERIC_ABORTED)return;o.suggest.requestState=q.idle;o.suggest.suggestTerms=""}e.app.searchSuggest({},t).then(i,a)};this.select=function(t,n){e.$broadcast("blurInput");if(0===t.length||0===e.searchTermGroups.length)return;if(n<0){n=0;e.activeSelectIx=0}var r=[];var i=[];Te.getUnderlinersAndSearchTerms(e.query,r,i);var a=i;e.app.selectAssociations(ct(),t,n).then((function(){e.isSearchHistoryFeature&&e.historyPermission&&le.createEntryInHistory(e,a)}));this.emptyResult();e.query="";x["a"].treatAsDesktop()&&e.$broadcast("focusInput")};this.setTestSearchTermGroups=function(t){e.searchTermGroups=t};this.onNavigateToSheet=function(t){var n=[];var r=[];Te.getUnderlinersAndSearchTerms(e.query,n,r);e.isSearchHistoryFeature&&e.historyPermission&&""!==e.query&&le.createEntryInHistory(e,r);if(x["a"].treatAsDesktop()){m.emptyResult();e.query="";e.isSearchHistoryFeature?e.$broadcast("blurInput"):e.$broadcast("focusInput")}else i((function(){m.emptyResult();e.query=""}),200);S["a"].highlightedCell(t)};this.showMoreHitsForVisual=function(t){var n={qOffset:0,qCount:1,qGroupOptions:[{qGroupType:"GenericObjectsType",qOffset:t.itemIndex,qCount:1}],qGroupItemOptions:[{qGroupItemType:"GenericObject",qOffset:0,qCount:t.qItemMatches.length+15}]};return e.app[I.visuals]({qAttributes:["qProperty"]},e.searchTerms,n).then((function(e){Te.showMore(e,t);return t}))};this.showHistory=function(t){e.searchInputFocused=t};this.setQueryFromHistory=function(t){e.ignoreQueryChange=false;t>=0&&(e.query=e.searchHistory[t]);this.showHistory(false);e.$broadcast("focusInput");Object(v["b"])("CAO_MOBILE")&&e.query&&e.getInsightsCharts(e.query)};this.clearHistory=function(){le.clearSearchHistory(e);this.showHistory(false)};this.removeHistory=function(t){le.removeSingleHistory(e,t)}}var pt=ft;var ht=n("1Rhw");a["default"].directive("qvGlobalSearch",[function(){return{restrict:"E",template:o,controller:["$scope","$document","$element","$window",pt],require:["qvGlobalSearch"],scope:true,replace:true,link:function e(){}}}]);var vt="<qv-global-search></qv-global-search>";var mt=n("z4LI");var gt=n("kr+q");var bt={};function yt(e){if(e.id)return e.id.toUpperCase();return e.id}function wt(e){return bt[yt(e)]}function St(e,t){bt[yt(e)]=t}function xt(e,t){e.$container=i.a.element("<div>");a["default"].getService("$document").find(e.$containerId).append(e.$container);e.$container.showComponent(e.getComponent(),["$scope",function(n){n.app=e.$app;n.options={objectSearchIsOn:t}}]);e.setup()}function Ct(e){return!!(e&&void 0!==e.$container)}function qt(e){if(e.$container){e.$container.remove();e.$container=void 0}e.destroy()}function Et(e){(mt["a"].isInEditMode()||!mt["a"].isInAnalysisMode||mt["a"].inObjectView())&&qt(wt(e))}function It(e){return{$container:void 0,$containerId:".qv-global-search-container",$app:e,$lastKnownIndexProgress:void 0,$haveQuery:false,getComponent:function e(){return vt},setup:function t(){mt["a"].StateChanged.bind(Et.bind(null,e));e.isInModalSelection()&&gt["a"].confirm()},destroy:function e(){mt["a"].StateChanged.unbind(Et)}}}function kt(e){var t=wt(e);if(!t){t=It(e);St(e,t)}return t}function At(e,t){try{var n=t.qTransientProgressMessage.qMessageParameters[0];var r=Number(n);var i=kt(e);!Number.isNaN(+r)&&n&&(i.$lastKnownIndexProgress=r);Tt.IndexProgressUpdate.emit(yt(e),r)}catch(e){}}var Tt={toggleGlobalSearch:function e(t,n){var r=kt(t);if(Ct(r)){qt(r);de["a"].publish("/smartsearch/close")}else{xt(r,n);de["a"].publish("/smartsearch/open")}},openGlobalSearch:function e(t){var n=kt(t);if(!Ct(n)){qt(n);xt(n)}},closeGlobalSearchIfNoQuery:function e(t){var n=wt(t);n&&n.$haveQuery||this.off()},off:function e(){Object.keys(bt).forEach((function(e){qt(bt[e])}))},isSearchOpen:function e(t){return Ct(wt(t))},setLastKnownIndexProgress:function e(t,n){var r=wt(t)||{};r.$lastKnownIndexProgress=n},getLastKnownIndexProgress:function e(t){var n=wt(t)||{};return n.$lastKnownIndexProgress},couldEngineBeIndexing:function e(t){var n=wt(t)||{};var r=n.$lastKnownIndexProgress;return void 0!==r&&r<100},requestIndexProgressUpdate:function e(t){t.global.getProgress(0).then(At.bind(null,t))},setHaveQuery:function e(t,n){var r=kt(t);r.$haveQuery=n}};k["a"].mixin(Tt);Tt.notification("IndexProgressUpdate");var Dt=t["a"]=Tt},Oi6C:function(e,t,n){"use strict";var r=n("mWu2");var i=n("U7Ny");var a;var o={openPreview:function e(t){o.close();a=t},openContextMenu:function e(t,n,i){o.close();r["default"].getService("qvContextMenu").show(t,{position:{x:i.pageX,y:i.pageY}})},close:function e(){if(a){a.close();a=null}r["default"].getService("qvContextMenu").close()}};t["a"]=o},OqXA:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},Oyoy:function(e,t,n){"use strict";var r=n("/2No");var i={barchart:{static:"faded_bar.svg",animation:"sweep_bar.json"},boxplot:{static:"faded_box_plot.svg",animation:"sweep_box_plot.json"},combochart:{static:"faded_combo.svg",animation:"sweep_combo.json"},default:{static:"faded_default.svg",animation:"sweep_default.json"},distributionplot:{static:"faded_distribution.svg",animation:"sweep_distribution.json"},filterpane:{static:"faded_filter_pane.svg",animation:"sweep_filter_pane.json"},gauge:{static:"faded_gauge.svg",animation:"sweep_gauge.json"},histogram:{static:"faded_histogram.svg",animation:"sweep_histogram.json"},kpi:{static:"faded_kpi.svg",animation:"sweep_kpi.json"},linechart:{static:"faded_line.svg",animation:"sweep_line.json"},map:{static:"faded_map.svg",animation:"sweep_map.json"},piechart:{static:"faded_pie.svg",animation:"sweep_pie.json"},"pivot-table":{static:"faded_pivot_table.svg",animation:"sweep_pivot_table.json"},scatterplot:{static:"faded_scatter.svg",animation:"sweep_scatter.json"},table:{static:"faded_table.svg",animation:"sweep_table.json"},"text-image":{static:"faded_text_image.svg",animation:"sweep_text_image.json"},treemap:{static:"faded_tree_map.svg",animation:"sweep_tree_map.json"},waterfallchart:{static:"faded_waterfall.svg",animation:"sweep_waterfall.json"}};function a(e){var t=i[e]?i[e].static:i.default.static;return"".concat(r["a"].staticResourcesPath,"assets/images/charts/").concat(t)}function o(e){var t=i[e]?i[e].animation:i.default.animation;return"".concat(r["a"].staticResourcesPath,"assets/images/charts/animations/").concat(t)}t["a"]={getImageNameFromChartType:a,getLoadingImageAnimationUrlFromChartType:o}},"P+p+":function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},PDtE:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e)){for(t=0;t<e.length;t++)if(e[t]&&(n=r(e[t]))){i&&(i+=" ");i+=n}}else for(t in e)if(e[t]){i&&(i+=" ");i+=t}return i}t["a"]=function(){var e=0,t,n,i="";while(e<arguments.length)if((t=arguments[e++])&&(n=r(t))){i&&(i+=" ");i+=n}return i}},PKO5:function(e,t,n){"use strict";var r=n("PX8M");var i=n("Ng1f");var a=n("4qR/");var o=n("uqsp");function s(e,t){t=t||function(){};r["a"].getApp().then((function(){var n=new a["a"];n.add({fieldName:e},(function(){i["a"].save();t()}))}))}function l(e,t){t=t||function(){};r["a"].getApp().then((function(n){o["a"].addMeasure({field:e},n,(function(){i["a"].save();t()}))}))}t["a"]={showAddDimensionDialog:s,showAddMeasureDialog:l}},PKzm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.name="InvalidLoadModel",this.message=e}return e}();t.InvalidLoadModelException=r},PX8M:function(e,t,n){"use strict";var r=n("wsF7");var i=n.n(r);var a=n("wKbf");var o=n.n(a);var s=n("F4xh");var l=n.n(s);var c=n("mWu2");var u=n("sWge");var d=n("1UIw");var f=n("7ME1");var p=n("+lRA");var h=n("TLJm");var v=n("4nJ1");var m=n("6uJb");var g={types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable","Field"],init:function e(t){var n=t.api;n.getAppLayout&&(n.session.app=n);n.app=n.session.app;n.enigmaModel=t.api;n.Promise=t.config.Promise}};var b={types:"Doc",extend:{getProperties:function e(){return this.getAppProperties()},setProperties:function e(t){return this.setAppProperties(t)},getLayout:function e(){return this.getAppLayout()},getPublishableStreams:function e(){return this.Promise.all([this.getLayout(),this.global.getStreamList()]).then((function(e){return e[1].filter((function(t){return e[0].stream?t.qId===e[0].stream.id&&-1!==t.privileges.indexOf("publish"):-1!==t.privileges.indexOf("publish")}))}))}},init:function e(t){this.Promise=t.config.Promise;var n=t.api;n.waitForOpen=this.Promise.defer();n.waitForOpen.resolve()}};var y={types:"Doc",extend:{abortModalSelection:function e(t){t=void 0===t||t;this.setModalSelection(null);return this.abortModal(t)},switchModalSelection:function e(t,n,r){t=t||null;n=n||"";r=void 0===r||r;var i=Array.isArray(n)?n:[n];this.isInModalSelection()&&t!==this.modalSelectionObject&&this.modalSelectionObject.endSelections(r);if(!t||t.isClosed)this.setModalSelection(null);else if(t!==this.modalSelectionObject){this.setModalSelection(t);return t.beginSelections(i)}return u["a"].resolve()},setModalSelection:function e(t){this.modalSelectionObject=t},isInModalSelection:function e(){return this.modalSelectionObject&&!this.modalSelectionObject.isClosed}}};function w(e){return function t(){var n=[].slice.call(arguments);var r=this._getCache;var i=n.splice(0,1)[0];var a=e+n.join("");if(r[a])return r[a];var o=i.apply(this,n).then((function(e){e.on("closed",(function(){delete r[a]}));if(e.migrate&&e.migrate.object)return e.migrate.object(e).then((function(){return e}));return e})).catch((function(){delete r[a];return u["a"].reject({error:{code:h["a"].NxLocalizedErrorCode.LOCERR_GENERIC_NOT_FOUND}})}));r[a]=o;return o}}var S=w("generic-get-");var x=w("variable-get-");var C=w("field-get-");var q={types:"Doc",override:{},init:function e(t){t.api._getCache={}}};["getObject","getBookmark","getDimension","getMeasure","getVariableById"].forEach((function(e){q.override[e]=S}));["getVariable","getVariableByName"].forEach((function(e){q.override[e]=x}));q.override.getField=C;var E=q;var I=[{resource:"sheet",canCreate:true},{resource:"bookmark",canCreate:true},{resource:"story",canCreate:true},{resource:"searchhistory",canCreate:true},{resource:"dimension",canCreate:true},{resource:"measure",canCreate:true},{resource:"masterobject",canCreate:true},{resource:"snapshot",canCreate:true}];var k=true;function A(e,t){e.length||(e=["update","publish","export","exportdata","changeowner","delete"]);k&&(e=[]);t=t||{};t.update=-1!==e.indexOf("update");t.publish=-1!==e.indexOf("publish");t.export=-1!==e.indexOf("export");t.exportData=-1!==e.indexOf("exportdata");t.changeOwner=-1!==e.indexOf("changeowner");t.remove=-1!==e.indexOf("delete");return t}function T(e,t){t=t||{};for(var n in t)delete t[n];if(k)return t;e.forEach((function(e){e.canCreate&&(t["create".concat(e.resource[0].toUpperCase()).concat(e.resource.substring(1))]=true)}));return t}function D(e,t){var n={};e.permissions||Object.defineProperty(e,"permissions",{configurable:false,enumerable:false,get:function r(){if(e){if(t){k=e.qReadOnly;T(e.create||I,n)}A(e.privileges||e.qMeta&&e.qMeta.privileges||[],n)}return n}});return e}var O={mapToLayout:D,parse:A,parseCreate:T};function L(e){L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return L(e)}var M={types:"Doc",override:{getContentLibraries:function e(t){return t().then((function(e){return e.qItems}))},getLibraryContent:function e(t,n){return t(n).then((function(e){return e.qItems}))}},extend:{getOrCreateSessionObject:function e(t){var n=this;var r=t.qInfo.qId;n._listCache[r]||(n._listCache[r]=n.createSessionObject(t));return n._listCache[r]},getListData:function e(t){return this.getListObject(t).then((function(e){return e.getLayout()}))},getListObject:function e(t){var n=this;var r=Object.keys(t).filter((function(e){return-1!==e.indexOf("ListDef")}))[0];if(!r)throw new Error("Invalid list definition");r&&(r=r.replace(/Def$/g,""));var i=t.qInfo.qId;n._listCache[i]||n.getOrCreateSessionObject(t).then((function(e){var t=e.getLayout.bind(e);e.getLayout=function(){return t().then((function(e){var t=e[r].qItems;t.forEach((function(e){"object"===L(e)&&O.mapToLayout(e)}));return e[r].qItems}))};return e}));return n._listCache[i]}},init:function e(t){t.api._listCache={}}};var P=n("Y8Ox");var N=n("XqCR");function R(e,t,n,r){return e.getField(t,r).then((function(e){return e[n]()}))}var F={types:["CurrentSelection"],extend:{clearField:function e(t,n){return R(this.app,t,"clear",n)},lockField:function e(t){return R(this.app,t,"lock")},unlockField:function e(t){return R(this.app,t,"unlock")},clearAll:function e(){return this.app.clearAll()},back:function e(){return this.app.back()},forward:function e(){return this.app.forward()}}};var _=F;var j=n("pKnl");var B={qInfo:{qId:"FieldList",qType:"FieldList"},qFieldListDef:{qShowSystem:false,qShowHidden:false,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true}};var V={qInfo:{qId:"FieldOnTheFlyList",qType:"FieldOnTheFlyList"},qFieldListDef:{qShowSystem:false,qShowHidden:false,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true,qShowDefinitionOnly:true}};var H={qInfo:{qId:"FieldOnTheFlyWithHiddenList",qType:"FieldOnTheFlyWithHiddenList"},qFieldListDef:{qShowSystem:false,qShowHidden:true,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true,qShowDefinitionOnly:true}};var z={types:"Doc",extend:{getFieldList:function e(){return this.getListData(B)},getFieldListObject:function e(){return this.getListObject(B)},getOnTheFlyListObject:function e(){return this.getListObject(V)},getOnTheFlyWithHiddenListObject:function e(){return this.getListObject(H)}}};var $=z;var U={types:["FieldList"],extend:{expand:function e(){return this.getLayout().then((function(e){var t=[];for(var n=0;n<e.length;++n){var r=e[n];t.push(r);if(r.qDerivedFieldData)for(var i=0;i<r.qDerivedFieldData.qDerivedFieldLists.length;++i){var a=r.qDerivedFieldData.qDerivedFieldLists[i];for(var o=0;o<a.qFieldDefs.length;++o){var s=a.qFieldDefs[o];t.push({qName:s.qName,qSrcTables:r.qSrcTables,qTags:s.qTags,isDerived:true,sourceField:r.qName,derivedDefinitionName:a.qDerivedDefinitionName})}}}return t}))}}};var G=U;var W=n("saOI");var Q=n("1irJ");var K={qInfo:{qId:"ODAGAppLinkList",qType:"ODAGAppLinkList"},qAppObjectListDef:{qType:"odagapplink",qData:{odagLinkRef:"/qMetaDef/odagLinkRef",timestamp:"/qMetaDef/timestamp"}}};var Y={types:"Doc",extend:{getODAGAppLinkList:function e(){return this.getListData(K)},getODAGAppLinkObject:function e(){return this.getListObject(K)}}};var J=Y;var Z={qInfo:{qId:"DynamicAppViewList",qType:"DynamicAppViewList"},qAppObjectListDef:{qType:"dynamicappview",qData:{odagLinkRef:"/qMetaDef/odagLinkRef",timestamp:"/qMetaDef/timestamp"}}};var X={types:"Doc",extend:{getDynamicAppViewList:function e(){return this.getListData(Z)},getDynamicAppViewObject:function e(){return this.getListObject(Z)}}};var ee=X;var te=n("28IR");var ne=n("5UsU");var re=n("u6tz");var ie={qInfo:{qId:"UndoInfo",qType:"UndoInfo"},qUndoInfoDef:{},markers:[]};var ae={types:["Doc"],extend:{getUndoInfoObject:function e(){return this.getOrCreateSessionObject(ie)}}};var oe=ae;var se=true;var le=[];var ce=null;var ue=false;function de(e){var t=le[le.length-1];var n;n=e(t||u["a"].resolve());le.push(n);return n}function fe(e){if(ue){e.markers.length=0;ue=false}}var pe={types:["UndoInfo"],extend:{undo:function e(){var t=this;function n(e){return e.then((function(){return t.getLayout().then((function(e){if(e.qUndoInfo.qUndoCount>0)return t.app.undo().then((function(){return t.getLayout().then((function(e){se=e.markers.length%2===0;if(!se)return n(u["a"].resolve());le.splice(0,1);return}))}));se=e.markers.length%2===0;se||(ue=true);le.splice(0,1);return}))}))}return de(n)},redo:function e(){var t=this;function n(e){return e.then((function(){return t.getLayout().then((function(e){if(e.qUndoInfo.qRedoCount>0){ue=false;return t.app.redo().then((function(){return t.getLayout().then((function(){se=e.markers.length%2===0;if(!se)return n(u["a"].resolve());le.splice(0,1);return}))}))}le.splice(0,1);return}))}))}return de(n)},reset:function e(){var t=this;return t.getLayout().then((function(e){if(!e.qUndoInfo.qUndoCount&&!e.qUndoInfo.qRedoCount)return;if(e.markers.length)return t.getProperties().then((function(e){e.markers.length=0;return t.setProperties(e).then((function(){return t.app.clearUndoBuffer()}))}));return t.app.clearUndoBuffer()}))},startGroup:function e(){var t=this;return t.getLayout().then((function(e){return t.getProperties().then((function(n){se=n.markers.length%2===0;if(se||ue){ce=Date.now();fe(n);n.markers.push(e.qUndoInfo.qUndoCount+1);return t.setProperties(n).then((function(){return u["a"].resolve(ce)}))}return u["a"].resolve(ce)}))}))},endGroup:function e(t){if(!t)throw new Error("Must provide groupId to stop group.");var n=this;return n.getLayout().then((function(e){return n.getProperties().then((function(r){se=r.markers.length%2===0;if(!se&&t===ce){ce=null;r.markers.push(e.qUndoInfo.qUndoCount+1);return n.setProperties(r)}return u["a"].resolve()}))}))}}};var he=n("FWpo");var ve={types:"GenericObject",override:{exportData:function e(t,n,r,i,a){n=n||"OOXML";r=r||"";i=i||"";a=a||"P";return t(n,r,i,a)}}};var me=ve;var ge=n("+GbC");var be=n("AHUl");var ye={VALID:1,INVALID:2,VALIDATING:3,CLOSED:5,CLOSING:6,CANCELLED:7};var we={types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{setState:function e(t){var n=this.state;this.state=t;n===this.state||(t===ye.INVALID?this.Invalidated.emit():t===ye.VALID?this.Validated.emit():t===ye.VALIDATING?this.Validating.emit():t===ye.CLOSED?this.Closed.emit():t===ye.CLOSING?this.Closing.emit():t===ye.CANCELLED&&this.Cancelled.emit())},markAsInvalid:function e(){this.state=-99;this.setState(ye.INVALID)},markAsCancelled:function e(){this.setState(ye.CANCELLED)},clearPending:function e(){var t=this;for(var n in t.ongoingRequests)delete t.ongoingRequests[n]}},override:{getLayout:function e(t,n){var r="GetLayout".concat(this.delta);var i=11e3;var a=this;var o=true===n;if(a.isValid&&a.layout)return a.Promise.resolve(o?a.pureLayout:a.layout);a.isValidating||a.setState(ye.VALIDATING);if(a.ongoingRequests[r]){var s=a.ongoingRequests[r];if(n)return s.then((function(){a.pureLayout.permissions||(a.pureLayout.permissions=a.layout.permissions);return a.pureLayout}));return s}var l=t().then((function(e){a.isValid||be["a"].updateObject(a.layout,e);if(a.ongoingRequests[r]===l){a.setState(ye.VALID);delete a.ongoingRequests[r]}a.pureLayout=e;a.pureLayout.permissions=a.layout.permissions;return o?a.pureLayout:a.layout})).catch((function(e){delete a.ongoingRequests[r];e.code===i&&(e.isHandled=true);return a.Promise.reject(e)}));a.ongoingRequests[r]=l;return l},getProperties:function e(t){var n="GetPropertiesfalse";var r=this;if(r.isValid&&!r.needCacheProperties)return r.Promise.resolve(r.properties);if(r.ongoingRequests[n])return r.ongoingRequests[n];var i=t().then((function(e){var t=be["a"].generate(r._properties,e);r._properties=e;be["a"].apply(r.properties,t);r.isValid&&(r.needCacheProperties=false);return r.properties}));r.ongoingRequests[n]=i;i.catch((function(){})).finally((function(){delete r.ongoingRequests[n]}));return i},setProperties:function e(t,n){var r=this;return t(n).then((function(){be["a"].updateObject(r._properties,r.properties)}))}},init:function e(t){var n=t.api;ge["a"].mixin(n);n.notification("Validated");n.notification("Invalidated");n.notification("Validating");n.notification("Closed");n.notification("Closing");n.notification("Cancelled");n.setState(ye.INVALID);n.layout={};n.pureLayout=null;n.properties={};n._properties={};n.needCacheProperties=true;n.ongoingRequests={};O.mapToLayout(n.layout,!!n.getAppLayout);n.on("changed",(function(){n.clearPending();n.needCacheProperties=true;n.setState(ye.INVALID)}));n.on("closed",(function(){for(var e in n.ongoingRequests)n.ongoingRequests[e].then&&n.ongoingRequests[e].then(null,(function(e){e.isHandled=true}));n.setState(ye.CLOSED)}));n.Cancelled.bind((function(){n.clearPending()}));Object.defineProperties(n,{isValid:{get:function e(){return this.state===ye.VALID}},isValidating:{get:function e(){return this.state===ye.VALIDATING}},isInvalid:{get:function e(){return this.state===ye.INVALID}},isClosed:{get:function e(){return this.state===ye.CLOSED}},isClosing:{get:function e(){return this.state===ye.CLOSING}},isCancelled:{get:function e(){return this.state===ye.CANCELLED}}})}};var Se=n("+ZlN");function xe(e){xe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return xe(e)}function Ce(e,t){var n=Se["a"].isSnapshotData(t)?e.migrate.snapshot:e.migrate.properties;if("function"!==typeof n)throw new Error("migration function not a function: expected function, got ".concat(xe(n)));return n(t)}var qe={types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{migrate:{properties:function e(t){return t},snapshot:function e(t){return t}}},override:{getProperties:function e(t){var n=this;return t().then((function(e){return Ce(n,e)}))},setProperties:function e(t,n){return t(Ce(this,n))}}};function Ee(e){this.getLayout=function(e){var t=this;this.requestPromise=e.getLayout().then((function(n){t.requestPromise=null;if(e.isCancelled)return;t.fn(n)})).catch((function(e){false}))}.bind(this,e);this.onInvalidated=function(){this.getLayout()}.bind(this);this.api=e;this.fn=null}Ee.prototype.subscribe=function(e){if("function"!==typeof e)throw new Error("Observer must be a function");if("function"===typeof this.fn)return;this.fn=e;this.api.Invalidated.bind(this.onInvalidated);this.getLayout()};Ee.prototype.dispose=function(){this.api.Invalidated.unbind(this.onInvalidated)};Ee.prototype.cancel=function(){if(this.requestPromise){this.api.app.global.cancelRequest(this.requestPromise.requestId);this.api.markAsCancelled();this.requestPromise=null;return true}return false};Ee.prototype.retry=function(){this.api.isCancelled&&this.getLayout()};var Ie={types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{layoutSubscribe:function e(t){var n=new Ee(this);n.subscribe(t);return n}}};function ke(e){var t=e.qHyperCubeDef;if(t&&t.qMeasures&&t.qDimensions){var n=t.qDimensions.concat(t.qMeasures);n.forEach((function(e){e.qAttributeExpressions&&e.qAttributeExpressions.forEach((function(e){e.qAttribute=true}))}))}}var Ae={types:["GenericObject"],override:{setProperties:function e(t,n){ke(n);return t(n)},getEffectiveProperties:function e(t){var n=this;return t().then((function(e){n.effectiveProperties=n.effectiveProperties||e;be["a"].updateObject(n.effectiveProperties,e);return n.effectiveProperties}))}}};var Te={types:"Doc",override:{createBookmark:function e(t,n){return t(v["a"].extend(true,{},{qInfo:{qType:"bookmark"},qMetaDef:{title:"",description:""},creationDate:(new Date).toISOString()},n))},createBookmarkEx:function e(t,n,r){return t(v["a"].extend(true,{},{qInfo:{qType:"bookmark"},qMetaDef:{title:"",description:""},creationDate:(new Date).toISOString()},n),r)}},extend:{createSheet:function e(t){return this.createObject({qInfo:{qType:"sheet"},qMetaDef:{title:t.title||"",description:t.description||""},rank:"undefined"!==typeof t.rank?t.rank:-1,thumbnail:{qStaticContentUrlDef:t.thumbnail||null},columns:24,rows:12,cells:[],qChildListDef:{qData:{title:"/title"}}})},createStory:function e(t){return this.createObject({qInfo:{qType:"story"},qMetaDef:{title:t.title||"",description:""},rank:"undefined"!==typeof t.rank?t.rank:-1,thumbnail:{qStaticContentUrlDef:t.thumbnail||null},qChildListDef:{qData:{title:"/title",rank:"/rank"}}})},createMasterObject:function e(t){t=t||{};return this.createObject({qInfo:{qType:"masterobject"},qMetaDef:{title:t.title||"",description:t.description||"",tags:t.tags||""}})}}};var De={types:["GenericObject"],override:{publish:function e(t){return this.getLayout().then((function(e){if(e.permissions.publish)return t();return u["a"].reject("Permission denied")}))},unPublish:function e(t){return this.getLayout().then((function(e){var n=e.qMeta;var r=n.published&&!n.approved;if(r)return t();return u["a"].reject("Permission denied")}))}}};var Oe=n("p3fE");var Le=n("2n0V");var Me=n("hVRC");var Pe=n("RZ9f");var Ne={types:"sheet",extend:{edit:function e(t){var n=this;return n.getProperties().then((function(e){t(e);return n.setProperties(e)}))},getObject:function e(t,n){return this.getLayout().then((function(e){return Oe["a"].getObject(e,t,n)}))},moveObject:function e(t,n){return this.edit((function(e){var r=Oe["a"].getObject(e,t);if(n.split){n=Oe["a"].splitCell(e,n.pos,n.split);if(!n)return u["a"].reject()}Oe["a"].moveObject(r,n,e);return}))},swapObjects:function e(t,n){return this.edit((function(e){Oe["a"].swapObjects(e,t,n)}))},addObject:function e(t){var n=this;var r=t.template;var i=t.cell.pos;var a=Le["a"].getType(r);var o=t.init;var s=t.children||[];var l;l=o.qExtendsId?u["a"].resolve(v["a"].extend({qInfo:{qType:r}},o)):a.getInitialProperties(o);return u["a"].all({initProps:l,props:n.getFullPropertyTree()}).then((function(e){var t=e.initProps;var r=e.props;if(i.split){i=Oe["a"].splitCell(r.qProperty,i.pos,i.split);if(!i)return u["a"].reject()}t.qInfo.qId=v["a"].generateId();Pe["a"].trackEvent(Pe["a"].customEvents.CHART_CREATED,{chart_type:a.type,chart_id:t.qInfo.qId,chart_isThirdParty:a.libraryInfo?a.libraryInfo.isThirdParty:void 0});var o=Oe["a"].setObject(r.qProperty,i,t.qInfo.qId,t.qInfo.qType);var l=false;if(o)for(var c=0;c<r.qChildren.length;c++)if(r.qChildren[c].qProperty.qInfo.qId===o){r.qChildren[c].qProperty=t;r.qChildren[c].qChildren=[];Oe["a"].addChildrenToObject(r.qChildren[c],s);l=true;break}if(!l){var d=r.qChildren.push({qChildren:[],qProperty:t});Oe["a"].addChildrenToObject(r.qChildren[d-1],s)}return n.setFullPropertyTree(r)}))},getObjectById:function e(t){var n;var r=this.layout.cells;for(var i=0;i<r.length;++i){n=r[i];if(t===n.name)return n}return null},removeObject:function e(t){var n=this;return n.getFullPropertyTree().then((function(e){var r=Oe["a"].objIndex(e.qProperty,t);var i=e.qProperty.cells[r].name;if(-1===r)throw new Error("invalid pos");e.qProperty.cells.splice(r,1);for(var a=0;a<e.qChildren.length;a++)if(e.qChildren[a].qProperty.qInfo.qId===i){Pe["a"].trackEvent(Pe["a"].customEvents.CHART_DELETED,{chart_type:e.qChildren[a].qProperty.qInfo.qType,chart_id:i,chart_isThirdParty:!!e.qChildren[a].qProperty.extensionMeta});e.qChildren.splice(a,1);break}return n.setFullPropertyTree(e)}))},setCloneChildrenInfos:function e(t){var n=this;return u["a"].all([n.getChildInfos(),t.getChildInfos(),t.getProperties()]).then((function(e){var n=e[0];var r=e[1];var i=e[2];n.forEach((function(e,t){var n=Oe["a"].findCellForId(e.qId,i.cells);n&&(n.name=r[t].qId)}));return t.setProperties(i).then((function(){return t}))}))},clone:function e(){var t=this;return t.app.cloneObject(this.id).then((function(e){return t.app.getObject(e)})).then((function(e){return t.setCloneChildrenInfos(e)}))},extendSheet:function e(t){var n=this;return this.getProperties().then((function(e){var r=e.rows;var i=Me["a"].calculateExtendedRowsAndHeight(e,t);e.height=i.height;e.rows=i.rows;for(var a=0;a<e.cells.length;a++)e.cells[a].bounds=Me["a"].recalculateBounds(e.cells[a],e.columns,r,e.columns,e.rows);return n.setProperties(e).then((function(){return[r,e.rows,e.columns]}))}))},isCustomSize:function e(){return this.layout&&this.layout.layoutOptions&&"CUSTOM"===this.layout.layoutOptions.sheetMode},migrate:{properties:function e(t){return t},object:function e(t){return t.getProperties().then((function(e){var n=false;var r=e.cells;var i=e.columns;var a=e.rows;var o=[];r&&r.length&&r.forEach((function(e,t){if(!Me["a"].hasMatchingBoundsAndPosition(e,i,a)){e.bounds=Me["a"].getBounds(e,i,a);n=true;o.push({qPath:"/cells/".concat(t,"/bounds"),qOp:"replace",qValue:JSON.stringify(e.bounds)})}}));if(n)return t.getLayout().then((function(n){if(n.permissions.update)return t.setProperties(e);return t.applyPatches(o,true)}));return}))}}}};var Re=n("8Bn3");var Fe=n("ESef");var _e={types:"sheet",extend:{removeNavPoint:function e(t){var n=this;return this.getProperties().then((function(e){if(!e.navPoints)return;for(var r=0;r<e.navPoints.length;r++){var i=e.navPoints[r];if(i.info.id===t){e.navPoints.splice(r,1);break}}return n.setProperties(e)}))},addNavPoint:function e(t){var n={info:{type:"odagNavPoint"},title:"",odagLinkRefID:""};n=v["a"].extend(n,t.data);n.info.id||(n.info.id=v["a"].generateId());var r=this;return this.getProperties().then((function(e){e.navPoints||(e.navPoints=[]);var i=e.navPoints.map((function(e){return e.title}));if(i.indexOf(n.title)>-1){var a=Re["a"].generateUniqueName(i,n.title);a=v["a"].crop(a,Fe["a"].name);n.title=a}var o=false;if(t.insertBeforeNavPointID)for(var s=0;s<e.navPoints.length;s++){var l=e.navPoints[s];if(l.info.id===t.insertBeforeNavPointID){e.navPoints.splice(s,0,n);o=true;break}}o||e.navPoints.push(n);return r.setProperties(e)}))},getNavPoints:function e(){return this.getProperties().then((function(e){return e.navPoints?e.navPoints:[]}))},reorderNavPoints:function e(t){var n=this;return this.getProperties().then((function(e){e.navPoints=t;return n.setProperties(e)}))},moveNavPoint:function e(t,n){var r=this;return this.getProperties().then((function(e){if(!t)return;var i=null;var a=null;n||(a=e.navPoints.length-1);for(var o=0;o<e.navPoints.length;o++){var s=e.navPoints[o];s.info.id===t?i=o:n&&s.info.id===n&&(a=o);if(null!==i&&null!==a)break}i<a&&n&&a--;null!==i&&null!==a&&e.navPoints.splice(a,0,e.navPoints.splice(i,1)[0]);return r.setProperties(e)}))},removeRefToLinkIDFromNavPoints:function e(t){var n=this;return this.getProperties().then((function(e){var r=e.navPoints?e.navPoints:[];for(var i=0;i<r.length;i++){var a=e.navPoints[i];a.odagLinkRefID===t&&(a.odagLinkRefID="")}return n.setProperties(e)}))}}};function je(e){function t(e,t){if(e.qData.rank<t.qData.rank)return-1;if(e.qData.rank>t.qData.rank)return 1;return 0}if(Array.isArray(e)&&e.length>0)return e.sort(t);return e}var Be={types:"slide",extend:{duplicate:function e(t){var n;var r=this;return t.getLayout().then((function(e){var i=je(e.qChildList.qItems.slice());for(var a=0;a<i.length;a++){var o=i[a];if(o.qInfo.qId===r.id){var s=i[a];var l=i[a+1];(l||s)&&(n=l&&!s?l.qData.rank-1:!l&&s?s.qData.rank+1:(s.qData.rank+l.qData.rank)/2)}}return t.createSlide({rank:n}).then((function(e){return e.copyFrom(r.id).then((function(){return e.getProperties().then((function(t){t.rank=n;return e.setProperties(t)}))}))}))}))}}};var Ve={types:"story",extend:{clone:function e(){var t=this;return t.app.cloneObject(this.id).then((function(e){return t.app.getObject(e)}))},createSlide:function e(t){return this.createChild(v["a"].extend(true,{qInfo:{qId:v["a"].generateId(),qType:"slide"},rank:-1,qChildListDef:{qData:{title:"/title",sheetId:"/sheetId",ratio:"/ratio",position:"/position",dataPath:"/dataPath",srcPath:"/srcPath",visualization:"/visualization",visualizationType:"/visualizationType",style:"/style"}}},t))}}};var He=[g,b,y,E,M,P["b"],N["b"],_,j["b"],$,G,W["b"],Q["b"],J,ee,te["a"],ne["a"],re["a"],oe,pe,he["a"],me,we,qe,Ie,Ae,Te,De,Ne,_e,Be,Ve];var ze=n("AJ0W");var $e=n("5Hbw");var Ue=n("wbKu");var Ge=n("tPZ6");var We=n("Cwu9");var Qe=n("4ToR");var Ke=n("acVu");function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),true).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function Xe(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function et(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xe(a,r,i,o,s,"next",e)}function s(e){Xe(a,r,i,o,s,"throw",e)}o(void 0)}))}}var tt="communication";var nt=[Ge["a"].SOCKET_RESUME_FAILED,Ge["a"].CLOSE_IDLE_TIMEOUT,Ge["a"].CLOSE_MANUAL_SUSPEND];var rt=["OnExcessLicenseAssignment","OnMaxParallelSessionsExceeded","OnLicenseAccessDenied","OnLicenseAccessDeniedPendingUserSync","OnNoAppFound","OnEngineWebsocketFailed","OnNoEngineAvailable","OnNoDataPrepServiceAvailable","OnDataPrepServiceWebsocketFailed"];var it=120;var at=["OnSessionLoggedOut","OnSessionTimedOut","OnSessionClosed"];var ot=["GetProperties","GetFullPropertyTree"];var st="SessionApp_";var lt=/(?!^GetHyperCube|^GetListObject)(^Get|^OpenDoc$)/i;var ct;var ut=function e(){window.location.reload(true)};function dt(e){true===e.mustAuthenticate&&e.loginUri&&(window.location.href=e.loginUri)}var ft=function(){var e=et(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:if(m["default"].locale){t.next=3;break}t.next=3;return m["default"].setup();case 3:case"end":return t.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();function pt(e,t,n,r,i){return ht.apply(this,arguments)}function ht(){ht=et(regeneratorRuntime.mark((function e(t,n,r,i,a){var o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:l.next=2;return ft();case 2:if(!(t.code===t.SECURITY_ERR&&"SecurityError"===t.name&&v["a"].isMSIE())){l.next=7;break}o=c["default"].getService("qvAlertDialog").show({message:m["default"].get("Core.Communication.IE11WebsocketLimitReached"),closeLabel:m["default"].get("Core.Communication.IE11WebsocketLimitReached.ActionButton"),closeOnEscape:false});o.closed.then((function(){window.open(window.location.href,"_blank");window.open("","_parent","");window.close();window.top.close()}));t.isHandled=true;return l.abrupt("return");case 7:s=a||"unknown";if(!(t.code===h["a"].LocalizedErrorCode.LOCERR_GENERIC_ABORTED)){l.next=10;break}return l.abrupt("return");case 10:c["default"].getService("$timeout")((function(){if(t.isHandled)return;t.isHandled=true;i&&i.hasHandlers("closed")&&"closed"===s?i.emit("closed",{message:"Session closed.",isHandled:t.isHandled}):i&&i.hasHandlers("error")&&"closed"!==s?i.emit("error",t):r?r():n?n(t):d["a"].showDialog(t)}),1e3);case 11:case"end":return l.stop()}}),e)})));return ht.apply(this,arguments)}function vt(e,t,n){var r=[];if(!e.warnings)return;if(1===e.warnings.length&&e.warnings[0]===h["a"].LocalizedWarningCode.LOCWARN_EXPORT_DATA_TRUNCATED)return;for(var i=0;i<e.warnings.length;i++)r.push({code:e.warnings[i]});n&&n.hasHandlers("warning")?n.emit("warning",e):t?t(e):f["a"].showDialog(r)}function mt(e,t,n){var r=t.handle?e.apis.getApi(t.handle):void 0;if(r&&!r.isCancelled&&n.code===h["a"].LocalizedErrorCode.LOCERR_GENERIC_ABORTED&&lt.test(t.method)){n.isHandled=true;return t.retry()}return u["a"].reject(n)}function gt(e,t,n){if(n.code===p["a"].enums.LocalizedErrorCode.LOCERR_HC_MODAL_OBJECT_ERROR){n.isHandled=true;return e.app.abortModalSelection().then((function(){return t.retry()}))}return u["a"].reject(n)}function bt(e){"undefined"===typeof e&&(e={});"undefined"===typeof e.urlParams&&(e.urlParams={});e.ttl=parseFloat(v["a"].getParameterByName("ttl"));Number.isNaN(+e.ttl)||(e.suspendOnClose=true);Object(Ke["b"])("CLIENT_WS_RECONNECT")&&!e._DO_NOT_USE_DISABLE_RECONNECT&&(e.suspendOnClose=true);"string"!==typeof e.host&&(e.host=v["a"].hostname);"string"!==typeof e.port&&(e.port=v["a"].port||void 0);"string"!==typeof e.prefix&&(e.prefix="/"===v["a"].basePath?"":v["a"].basePath);"boolean"!==typeof e.isSecure?e.secure=v["a"].isSecure:e.secure=e.isSecure;"string"!==typeof e.reloadURI?e.urlParams.reloadUri=v["a"].reloadURI:e.urlParams.reloadUri=e.reloadURI;if("undefined"===typeof e.identity){var t=v["a"].getParameterByName("identity");t&&(e.identity=t)}"/"===e.prefix&&(e.prefix="");var n;false;return e}var yt={};var wt;function St(e,t,n){var r=n.suppressErrorDialog,a=void 0!==r&&r;var s=yt[e];if(!s){var l=t.responseInterceptors?t.responseInterceptors:[];s=i.a.create({Promise:c["default"].getService("$q"),schema:p["a"],mixins:He,url:e,suspendOnClose:t.suspendOnClose,createSocket:function e(t){return new WebSocket(t)},requestInterceptors:[{onFulfilled:function e(t,n){if(-1!==ot.indexOf(n.method)){n.return_empty=true;n.delta=false}return n}}],responseInterceptors:l.concat([{onRejected:mt},{onRejected:gt},{onRejected:function e(n,r,i){if(i.code===o.a.NOT_CONNECTED)return u["a"].reject(i);a||pt(i,t.onError,void 0,t.qEvent,"error");return u["a"].reject(i)}}])});s.sessionConfig=t;s.createdAt=Date.now();s.on("notification:*",(function(e,n){var r=-1!==rt.indexOf(e);var i=-1!==at.indexOf(e);function o(e){if(t.qEvent&&t.qEvent.hasHandlers("error")){t.qEvent.originalEvent="ProxyError";t.qEvent.emit("error",e)}else t.onError&&t.onError(e)}if("OnAuthenticationInformation"===e){dt(n);ze["a"].setServerNodeId(n.serverNodeId)}"fatal"===n.severity&&o(r?{method:e,message:m["default"].get("ProxyError.".concat(e))}:{method:e,message:n.message?n.message:n});i&&(ct?ct():r=true);r&&!a&&pt({message:"ProxyError.".concat(e),refreshButton:true},t.onError,void 0,t.qEvent);"OnConnected"!==e||"SESSION_ERROR_NO_LICENSE"!==n.qSessionState||a||pt({message:"SessionError.SessionErrorNoLicense",refreshButton:false},t.onError,void 0,t.qEvent);"OnConnected"===e&&(s.sessionState=n.qSessionState)}));s.on("traffic:received",(function(e){vt(e,t.onWarning,t.qEvent)}));yt[e]=s;wt=wt||s}return s}function xt(){return navigator&&false!==navigator.onLine}function Ct(){if(Object(Ke["b"])("CLIENT_NET_EVENTS")){var e=xt();if(e){if(Object(Ke["b"])("CLIENT_WS_RECONNECT")){Object(Qe["b"])({loaderId:tt});Object.values(yt).forEach((function(e){e.suspendResume.isSuspended&&Object(Ue["a"])(e,{initiator:"network"})}))}}else{Object(Ke["b"])("CLIENT_WS_RECONNECT")&&Object.values(yt).forEach((function(e){e.suspend()}));Object(Qe["c"])({loaderId:tt,task:m["default"].get("Core.Communication.SuspendResume.BrowserDisconnected"),icon:"Disconnected",button:{title:m["default"].get("Common.Refresh"),onClick:function e(){ut()}}})}}}if(Object(Ke["b"])("CLIENT_NET_EVENTS")){window.addEventListener("online",Ct);window.addEventListener("offline",Ct)}function qt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=e||"";t.appId=e;var r=n.suppressErrorDialog,i=void 0!==r&&r,a=n.noData;var o=$e["a"].csrfToken();o&&(t.urlParams["qlik-csrf-token"]=o);var s=$e["a"].webIntegrationId();s&&(t.urlParams["qlik-web-integration-id"]=s);var c=l.a.buildUrl(t);var u=!!yt[c];var d=St(c,t,{suppressErrorDialog:i});return d.open().then((function(n){if(!u){d.on("suspended",function(){var e=et(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:d.suspendedAt=Date.now();if(Object(Ke["b"])("WEBSOCKET_KEEP_ALIVE")&&n.code===Ge["a"].CLOSE_IDLE_TIMEOUT){r=Number.isNaN(t.ttl)?it:t.ttl;if(r>0){Object(Qe["c"])({loaderId:tt,task:m["default"].get("Core.Communication.SuspendResume.SessionTimeoutActive"),icon:"Disconnected",button:{title:m["default"].get("Common.Reconnect"),onClick:function e(){Object(Qe["b"])({loaderId:tt});Object(Ue["a"])(d,n)}}});setTimeout((function(){Object(Qe["d"])({loaderId:tt,task:m["default"].get("Core.Communication.SuspendResume.SessionTimeoutUnactive"),icon:"Disconnected",button:{title:m["default"].get("Common.Refresh"),onClick:function e(){ut()}}})}),1e3*r)}else Object(Qe["c"])({loaderId:tt,task:m["default"].get("Core.Communication.SuspendResume.SessionTimeoutUnactive"),icon:"Disconnected",button:{title:m["default"].get("Common.Refresh"),onClick:function e(){ut()}}})}else if(Object(Ke["b"])("CLIENT_WS_RECONNECT")){i=xt();Object(Ke["b"])("CLIENT_NET_EVENTS")&&i?Object(Ue["a"])(d,n):Object(Ke["b"])("CLIENT_NET_EVENTS")||Object(Ue["a"])(d,n)}case 2:case"end":return a.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());d.on("closed",(function(e){e=e||{};if(!nt.includes(e.code)){var n=Pe["a"].customEvents.SOCKET_CLOSED;var r={message:e.reason,code:e.code||-1,subpath:t.subpath||"",url:e.target&&e.target.url||""};Object(We["b"])(We["a"].ERROR,n,d,r)}Object(Ke["b"])("WEBSOCKET_KEEP_ALIVE")&&e.code===Ge["a"].CLOSE_IDLE_TIMEOUT?Object(Qe["c"])({loaderId:tt,task:m["default"].get("Core.Communication.SuspendResume.ReconnectFailed"),icon:"Disconnected",button:{title:m["default"].get("Common.Refresh"),onClick:function e(){ut()}}}):i||pt({code:h["a"].LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST,message:m["default"].get("ErrorCode.".concat(h["a"].LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST))},t.onError,t.onClose,t.qEvent,"closed");wt===yt[c]&&(wt=void 0);delete yt[c]}))}if(!e)return{global:n};if(!d.openDocPromise){var r=function e(t){t.global=n;return t};var o=e.startsWith(st);d.openDocPromise=o?n.getActiveDoc().then(r):n.openDoc(e,"","","",!!a).then(r)}return d.openDocPromise})).catch((function(e){e.srcElement instanceof WebSocket&&(e={message:"ErrorDialog.NoConnectionCreated"});i||pt(e,t.onError,void 0,t.qEvent,"error");d.removeAllListeners("closed");d.close();delete yt[c];throw e}))}function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=e||v["a"].getParameterByName("app");if(!e&&!t&&wt)return u["a"].resolve(wt.app);t=bt(t);var r="true"===v["a"].getParameterByName("noData");return qt(e,t,Je(Je({},n),{},{noData:r}))}var It=t["a"]={get:function e(t,n){n=bt(n);return t?this.getApp(t,n):this.getGlobal(n)},getApp:function e(t,n,r){return Et(t,n,r)},getSessionApp:function e(t,n){return this.getGlobal(n).then((function(e){var r=t&&"engineData"!==t?e.createSessionAppFromApp(t):e.createSessionApp();return r.then((function(t){return{global:e,app:t}})).catch((function(t){if(t.code===h["a"].LocalizedErrorCode.LOCERR_APP_ALREADY_OPEN){t.isHandled=true;return e.getActiveDoc()}pt(t,n.onError,void 0,n.qEvent,"error");return u["a"].reject(t)}))}))},getGlobal:function e(t){t=bt(t);return qt(void 0,t).then((function(e){return e.global}))},setLogoutHandler:function e(t){ct=t},_unsupported_clearSessions:function e(){yt={}}}},PcNG:function(e,t,n){"use strict";var r=n("mWu2");var i='<div class="qv-progress-bar">\n\t<div class="progress-bar-bg">\n\t\t<div class="progress-bar-fg" ng-style="{ width: display }"></div>\n\t</div>\n\n\t<div class="progress-text" ng-bind="display" ng-hide="options.hideText"></div>\n</div>';r["default"].directive("qvProgressBar",["$interval",function(e){return{replace:true,template:i,restrict:"E",scope:{percentDone:"=",onCompleted:"&",options:"="},link:function t(n){var r;var i=true;n.display="0%";n.showPercent=0;function a(){if(n.showPercent>=100){e.cancel(r);n.onCompleted();return}if(n.showPercent>=n.percentDone){e.cancel(r);return}o(n.showPercent+1)}n.$watch("percentDone",(function(t){if(void 0!==t)if(i){o(t);i=false}else{e.cancel(r);r=e(a,10)}}));function o(e){n.showPercent=e;n.display="".concat(e,"%")}n.$on("$destroy",(function(){e.cancel(r)}))}}}])},PltQ:function(e){e.exports=JSON.parse('{"zz":"Developer language"}')},Pu84:function(e,t,n){"use strict";var r=n("ydY7");function i(e){var t=e.layout;var n=t&&t.showTitles?t.title:"";var i=r["a"].get(e);if(""===n&&"kpi"===i){var a=e.model.layout.qHyperCube.qMeasureInfo[0].qFallbackTitle;n=a||""}return n}t["a"]={getTitle:i}},"Pz+M":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("mWu2");var l=n("s0Tq");var c='<div dir={{direction}}>\n\t<div class="scroll-content" ng-transclude></div>\n\t<qv-scroll-area-affordance x-show="scrollbarY.showMinAffordance" x-direction="\'vertical\'" x-dock="\'min\'" ng-if="scrollbarY.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scroll-area-affordance x-show="scrollbarX.showMinAffordance" x-direction="\'horizontal\'" x-dock="\'min\'" ng-if="scrollbarX.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scrollbar x-data="scrollbarY" x-interactive="interactiveY" x-viewport-rect="viewportRect" ng-if="scrollbarY.enabled"></qv-scrollbar>\n\t<qv-scrollbar x-data="scrollbarX" x-interactive="interactiveX" x-viewport-rect="viewportRect" ng-if="scrollbarX.enabled"></qv-scrollbar>\n\t<qv-scroll-area-affordance x-show="scrollbarY.showMaxAffordance" x-direction="\'vertical\'" x-dock="\'max\'" ng-if="scrollbarY.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scroll-area-affordance x-show="scrollbarX.showMaxAffordance" x-direction="\'horizontal\'" x-dock="\'max\'" ng-if="scrollbarX.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n</div>\n';var u='<div class="scrollbar-animation scrollbar-track"\n\tng-class="data.classList"\n\tng-style="data.style">\n\t<qv-scrollbar-track-hit-area ng-style="trackHitAreaStyle" class="scrollbar-hitarea"></qv-scrollbar-track-hit-area>\n\t<qv-scrollbar-thumb ng-class="{ active: data.active }" class="scrollbar-thumb" ng-style="thumbStyle"></qv-scrollbar-thumb>\n</div>\n';var d=n("G1wx");var f=n("Vy0P");s["default"].directive("qvScrollAreaAffordance",[function(){return{restrict:"E",template:'<div ng-show="show" class="scroll-affordance" ng-class="[dock,direction]" ng-style="style"></div>',replace:true,require:"^qvScrollArea",scope:{viewportRect:"=",direction:"=",dock:"=",size:"=?",show:"="},link:function e(t){t.size=t.size||18;t.style={};t.updateAffordance=function(){switch(t.direction){case"vertical":t.style.width="".concat(t.viewportRect.width,"px");t.style.height="".concat(t.size,"px");switch(t.dock){case"min":t.style.left="".concat(t.viewportRect.left,"px");t.style.top="".concat(t.viewportRect.top,"px");break;case"max":t.style.left="".concat(t.viewportRect.left,"px");t.style.top="".concat(t.viewportRect.top+t.viewportRect.height-t.size,"px");break;default:throw new Error("Dock ".concat(t.dock," not supported"))}break;case"horizontal":t.style.width="".concat(t.size,"px");t.style.height="".concat(t.viewportRect.height,"px");switch(t.dock){case"min":t.style.left="".concat(t.viewportRect.left,"px");t.style.top="".concat(t.viewportRect.top,"px");break;case"max":t.style.left="".concat(t.viewportRect.left+t.viewportRect.width-t.size,"px");t.style.top="".concat(t.viewportRect.top,"px");break;default:throw new Error("Dock ".concat(t.dock," not supported"))}break;default:throw new Error("Direction ".concat(t.direction," not supported"))}};t.$watch("viewportRect",t.updateAffordance,true)}}}]);var p=n("o/J5");function h(e){h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return h(e)}s["default"].directive("qvScrollArea",["$document",function(e){return{restrict:"E",transclude:true,template:c,replace:true,scope:{scrollbarSize:"=?",nonMouseViewportScrolling:"=?",direction:"=?"},require:"qvScrollArea",controller:l["a"],link:function t(n,r,a,s){function l(e,t){var r=n.viewportRect.left;var i=n.viewportRect.top;var a=n.viewportRect.left+n.viewportRect.width;var o=n.viewportRect.top+n.viewportRect.height;return e>=r&&e<=a&&t>=i&&t<=o}"number"!==typeof n.scrollbarSize&&(n.scrollbarSize=8);n.direction||(n.direction="ltr");n.$watch("scrollbarX.enabled",(function(e){r.css("overflow-x",e?"hidden":"")}));n.$watch("scrollbarY.enabled",(function(e){r.css("overflow-y",e?"hidden":"")}));n.namespace=".scroll-area-".concat(n.$id);function c(){r.off(n.namespace);e.off(n.namespace);o()(r[0]).off("*",n.namespace)}n.on=function(){r.on("wheel".concat(n.namespace),(function(e){e.preventDefault();var t=e.originalEvent;var n=t.shiftKey?t.deltaY:t.deltaX;var r=t.shiftKey?t.deltaX:t.deltaY;var i=s.getScrollAmount(n,r,t.deltaMode);s.scroll(i.deltaX,i.deltaY,false,false);if(!d["a"].treatAsDesktop()){s.setNonMouseTrackSize();s.fadeInScrollbars();s.fadeOutScrollbarsDelayed()}s.digest()}));e.on("keydown".concat(n.namespace),(function(e){var t=0;var r=0;var a;var o;var l=i()(e.target);var c=l.is("input")||l.is("textarea");if(n.hover&&!c){switch(e.keyCode){case 33:r=1;a=p["e"];break;case 34:r=-1;a=p["e"];break;case 36:r=1;a=p["c"];break;case 35:r=-1;a=p["c"];break;case 38:r=1;a=p["d"];break;case 40:r=-1;a=p["d"];break;case 39:t=-1;a=p["d"];break;case 37:t=1;a=p["d"];break;default:return}o=s.getScrollAmount(t,r,a);s.scroll(-o.deltaX,-o.deltaY,false,false);s.digest()}}));r.on("mouseenter".concat(n.namespace,"pointerenter").concat(n.namespace),(function(e){n.isMouse=d["a"].isMouse(e.originalEvent);if(n.isMouse){n.hover=true;if(d["a"].treatAsDesktop()){s.setMouseTrackSize();s.fadeInScrollbars()}s.digest()}else e.preventDefault()}));r.on("mouseleave".concat(n.namespace,"pointerleave").concat(n.namespace),(function(e){n.isMouse=d["a"].isMouse(e.originalEvent);if(n.isMouse){n.hover=false;d["a"].treatAsDesktop()&&s.fadeOutScrollbars()}}));if("object"===h(n.nonMouseViewportScrolling)){"number"!==typeof n.nonMouseViewportScrolling.scrollbarSize&&(n.nonMouseViewportScrolling.scrollbarSize=36);"string"!==typeof n.nonMouseViewportScrolling.className&&(n.nonMouseViewportScrolling.className="show-non-mouse-scrollbars");o()(r[0]).swipe({id:n.namespace,options:{radiusThreshold:0,useMomentum:true,inertia:.7,preventDefault:true},start:function e(t,n){if(d["a"].isMouse(t)){this.cancel();return}if(!l(n.pagePoints[0].x-this.rect.x,n.pagePoints[0].y-this.rect.y)){this.cancel();return}s.setMouse(false);s.setNonMouseTrackSize();s.scrollStart();s.fadeInScrollbars();s.digest()},update:function e(t,r){var i=n.scrollbarX.getScrollDelta(r,p["a"])[0];var a=n.scrollbarY.getScrollDelta(r,p["a"])[1];s.scroll(-1*i,-1*a,false,true);s.digest()},end:function e(){s.scrollEnd();s.fadeOutScrollbars();s.digest()}})}return c};n.$on("$destroy",(function(){c();r.css("overflow-x","");r.css("overflow-y","")}))}}}]);s["default"].directive("qvScrollbar",[function(){return{restrict:"E",require:["^qvScrollArea","qvScrollbar"],scope:{data:"=",interactive:"=",viewportRect:"="},template:u,replace:true,controller:function e(){},link:function e(t,n,r,i){var a=i[0];var o=i[1];if("vertical"===t.data.direction){t.data.classList.push("vertical");a.addScrollbarYCtrl(o)}else{t.data.classList.push("horizontal");a.addScrollbarXCtrl(o)}function s(e){n[e?"addClass":"removeClass"]("fade")}o.allowFade=function(){return!t.data.active};o.fadeIn=function(){return s(true)};o.fadeOut=function(){return s(false)};t.thumbStyle={};t.$watch("data.thumb",(function(){f["a"].setThumbStyle(t.thumbStyle,t.data)}),true);t.$watch("data.vPage",(function(){f["a"].setThumbStyle(t.thumbStyle,t.data)}));t.$watch("data.vLength",(function(){f["a"].setThumbStyle(t.thumbStyle,t.data)}));t.$watch("data.enabled",(function(e){a.isMouseOver()&&e&&o.fadeIn()}));t.setThumbStyle=f["a"].setThumbStyle.bind(null,t.thumbStyle,t.data);t.trackHitAreaStyle={};t.$watch("data.trackSize",(function(e){if(void 0===e)return;f["a"].setTrackHitAreaStyle(t.trackHitAreaStyle,t.data,e)}));t.start=function(e){a.setMouse(e);if(!t.data.active&&!d["a"].treatAsDesktop()){e?a.setMouseTrackSize():a.setNonMouseTrackSize();a.fadeInScrollbars()}t.data.active=true;a.scrollStart()};t.update=function(e,t){a.scroll(e,t,false,true)};t.end=function(e){var n=t.data;var r=0;var i=n.vLength-n.vViewportLength;n.vPos<r?n.vPos=r:n.vPos>i&&(n.vPos=i);t.data.active=false;a.scrollEnd();e?a.fadeOutScrollbarsDelayed():a.fadeOutScrollbars()};t.on=function(){t.hitAreaOff=t.hitAreaOn();t.thumbOff=t.thumbOn();return function(){t.hitAreaOff();t.thumbOff()}};t.$watch("interactive",(function(e){e?t.off=t.on():t.off&&t.off()}))}}}]);s["default"].directive("qvScrollbarThumb",[function(){return{restrict:"E",template:"<div></div>",replace:true,require:"^qvScrollArea",link:function e(t,n,r,i){t.thumbOn=function(){o()(n[0]).tap({start:function e(n){o.a.preventGestures(this.gestureHandler);t.start(d["a"].isMouse(n));i.digest()}}).swipe({options:{radiusThreshold:0},update:function e(n,r){t.update.apply(t,t.data.getScrollDelta(r,p["b"]));i.digest()},end:function e(){t.end();i.digest()}});return function(){o()(n[0]).off()}};t.$on("$destroy",(function(){o()(n[0]).off()}))}}}]);s["default"].directive("qvScrollbarTrackHitArea",[function(){return{restrict:"E",replace:true,template:"<div></div>",require:"^qvScrollArea",link:function e(t,n,r,i){function a(e,n){var r=t.data.thumb.size;var a=t.data.thumb.pos;var o=0;var s=0;var l;var c;var u;var d;var f;switch(t.data.direction){case"vertical":c=e.pagePoints[0].y-n.y<a;u=e.pagePoints[0].y-n.y>a+r;if(u){l=i.getScrollAmount(0,-1,p["e"]);o=0;s=-l.deltaY}else if(c){l=i.getScrollAmount(0,1,p["e"]);o=0;s=-l.deltaY}break;case"horizontal":d=e.pagePoints[0].x-n.x<a;f=e.pagePoints[0].x-n.x>a+r;if(d){l=i.getScrollAmount(1,0,p["e"]);o=-l.deltaX;s=0}else if(f){l=i.getScrollAmount(-1,0,p["e"]);o=-l.deltaX;s=0}break;default:break}i.scroll(o,s)}function s(e,n){switch(t.data.direction){case"vertical":t.update(0,(e.pagePoints[0].y-n.y-(t.data.thumb.pos+t.data.thumb.size/2))*(1/t.data.scaleFactor));break;case"horizontal":t.update((e.pagePoints[0].x-n.x-(t.data.thumb.pos+t.data.thumb.size/2))*(1/t.data.scaleFactor),0);break;default:throw new Error("not implemented")}}t.hitAreaOn=function(){o()(n[0]).tap({start:function e(n,r){o.a.preventGestures(this.gestureHandler);t.start(d["a"].isMouse(n));t.setThumbStyle();d["a"].isMouse(n)?a(r,this.rect):s(r,this.rect);i.digest()},end:function e(){t.end(true);i.digest()}}).swipe({options:{radiusThreshold:0},start:function e(n,r){if(d["a"].isMouse(n)){this.cancel();return}t.update.apply(t,t.data.getScrollDelta(r,p["b"]));i.digest()},update:function e(n,r){t.update.apply(t,t.data.getScrollDelta(r,p["b"]));i.digest()},end:function e(){t.end(true);i.digest()}});return function(){o()(n[0]).off()}};t.$on("$destroy",(function(){o()(n[0]).off()}))}}}])},QCD8:function(e,t,n){"use strict";var r=n("G3JA");function i(e,t,n){var r={};var i=[];var a=false;n.forEach((function(e){r[e]?a=true:r[e]=true}));a=a||e.length+t.length!==Object.keys(r).length;Object.keys(r).forEach((function(e){i.push(parseInt(e,10))}));i=i.sort((function(e,t){return e-t}));for(var o=0;o<i.length;++o)a=a||i[o]!==o;return a}function a(e){var t=e.qDimensions;var n=e.qMeasures;function r(){var e=[];for(var r=0;r<t.length+n.length;r++)e.push(r);return e}i(t,n,e.qColumnOrder)&&(e.qColumnOrder=r());i(t,n,e.qInterColumnSortOrder)&&(e.qInterColumnSortOrder=r())}function o(e){a(e);var t=e.qDimensions;var n=e.qMeasures;var i=e.qColumnOrder;var o=e.qInterColumnSortOrder;var s=[];var l=[];var c;for(var u=0;u<i.length;u++){c=i[u];c<t.length?s.push(c):l.push(c)}function d(){for(var e=0;e<s.length;e++)if(s[e]!==e){var n=s[e];var a=s.indexOf(e);var l=s[a];r["a"].swap(s,e,a);r["a"].swap(t,n,l);r["a"].swap(i,i.indexOf(n),i.indexOf(l));r["a"].swap(o,o.indexOf(n),o.indexOf(l))}}function f(){for(var e=0;e<l.length;e++)if(l[e]!==e+t.length){var a=l[e];var s=l.indexOf(e+t.length);var c=l[s];r["a"].swap(l,e,s);r["a"].swap(n,a-t.length,c-t.length);r["a"].swap(i,i.indexOf(a),i.indexOf(c));r["a"].swap(o,o.indexOf(a),o.indexOf(c))}}d();f()}function s(e){var t=e.qColumnOrder,n=e.columnWidths,r=e.qDimensions,i=e.qMeasures;var a=r.length;t.forEach((function(e){n[e]=e<a?r[e].columnWidth:i[e-a].columnWidth}));r.forEach((function(e){return delete e.columnWidth}));i.forEach((function(e){return delete e.columnWidth}))}function l(e){var t=e.qDimensions,n=e.qMeasures,r=e.columnWidths;for(var i=0;i<t.length;i++)t[i].columnWidth=r[i];for(var a=0;a<n.length;a++)n[a].columnWidth=r[a+t.length]}t["a"]={validateTableHyperCube:a,fixTableHypercubeOrders:o,isInvalidOrderArray:i,updateColumnInfoOrders:s,storeColumnWidths:l}},QWTt:function(e,t,n){"use strict";var r=/[A-Z]/g;var i=/^ms-/;var a={};function o(e){return"-"+e.toLowerCase()}function s(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t}var l=s;function c(e){var t={};for(var n in e){var r=0===n.indexOf("--")?n:l(n);t[r]=e[n]}e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(c):t.fallbacks=c(e.fallbacks));return t}function u(){function e(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=c(e[t]);return e}return c(e)}function t(e,t,n){if(0===t.indexOf("--"))return e;var r=l(t);if(t===r)return e;n.prop(r,e);return null}return{onProcessStyle:e,onChangeValue:t}}var d=t["a"]=u},QsDr:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=i.a.module("qv.directives.qva-focus",[]);a.directive("qvaFocus",["$timeout",function(e){return{restrict:"A",link:function t(n,r,i){n.$watch(i.qvaFocus,(function(t){true===t&&e((function(){r[0].focus()}))}),true)}}}])},"Qx6/":function(e,t,n){"use strict";t["a"]={OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM:18,MIN_TABLE_RESIZE_WIDTH:150,TABLE_MINIMIZE_HEIGHT:28}},"R/u5":function(e,t,n){"use strict";var r=n("mWu2");var i=n("4nJ1");var a=n("6uJb");var o='<lui-dialog class="custom-connector-component-dialog select-dialog" ng-style="dialogStyle" tid="iframe-connector-select-dialog">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n\t<div class="lui-dialog__footer">\n\t\t<lui-button tid="cancelGenericSelectDialog" ng-click="cancel()" q-translation="Common.Cancel"></lui-button>\n\t\t<lui-button tid="closeGenericSelectDialog" ng-click="insertScript()" ng-disabled="isInsertDisabled" q-translation="scripteditor.dataconnectors.addToScript">Insert Script</lui-button>\n  </div>\n\n</lui-dialog>\n';var s='<div class="add-data-select-frame">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n</div>\n';var l=n("a15v");var c='<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" center-in-parent="true"></qv-spinner>\n\n<div class="lui-dialog connection-credentials-dialog" qv-global-escape="onEscape()" tid="iframe-connector-credentials-dialog">\n  <div class="lui-dialog__header">\n    <div class="lui-dialog__title" q-translation="{{input.title}}"></div>\n  </div>\n  <qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n  <div class="lui-dialog__footer connection-credentials-btn-container">\n    <lui-button class="connection-credentials-btn" ng-click="onCancelClicked()" q-translation="Common.Cancel"></lui-button>\n    <lui-button class="connection-credentials-btn" ng-click="onOKClicked()" q-translation="Common.OK"></lui-button>\n  </div>\n</div>\n';var u=n("rjaN");var d=n.n(u);var f=n("Lj2P");var p=n("B52N");var h=n("cph9");var v=n("/2No");var m=n("IGvc");var g=n("acVu");function b(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){b(a,r,i,o,s,"next",e)}function s(e){b(a,r,i,o,s,"throw",e)}o(void 0)}))}}var w=["$scope","input","$timeout",function(e,t,n){var r;var i=t;e.isInsertDisabled=true;e.iframeLoading=true;e.dialogLocation=t.connectorInstance.type.selectDialog;e.dialogStyle={height:"".concat(t.connectorInstance.associatedDatasource.getSelectHeightHint(),"%"),maxHeight:"".concat(t.connectorInstance.associatedDatasource.getSelectHeightHint(),"%")};function a(t){t&&e.cancel()}e.initialize=y(regeneratorRuntime.mark((function t(){var o,s;return regeneratorRuntime.wrap((function t(l){while(1)switch(l.prev=l.next){case 0:e.iframeLoading=false;p["default"].ViewChanged.bind(a);o=document.querySelector("#custom-connector-frame");r=d.a.connectToChild({url:e.dialogLocation,appendTo:o,methods:{processJsonRequest:function e(t){return i.serverside.sendJsonRequest.apply(this,t)},updateState:function t(r){n((function(){e.isInsertDisabled=r.isNextDisabled}))}}});l.prev=4;l.next=7;return r.promise;case 7:s=l.sent;s.initializeController({helpUrl:f["a"].path,tableModelToEdit:void 0,datasource:JSON.stringify(i.connectorInstance),useDcaas:Object(g["b"])("CONNECTOR_DCAAS"),dcaasHost:"".concat(v["a"].rootPath,"api/dcaas"),csrfToken:Object(h["a"])(document.cookie,"_csrfToken"),enableCredentialSeparation:Object(g["b"])("CREDENTIALS_SEPARATION"),qvxSelectedEntrypoint:i.connectorInstance.connector});l.next=13;break;case 11:l.prev=11;l.t0=l["catch"](4);case 13:case"end":return l.stop()}}),t,null,[[4,11]])})));e.$on("$destroy",(function(){r&&r.destroy();p["default"].ViewChanged.unbind(a)}));e.insertScript=y(regeneratorRuntime.mark((function n(){var i,a,o;return regeneratorRuntime.wrap((function n(s){while(1)switch(s.prev=s.next){case 0:e.isInsertDisabled=true;s.next=3;return r.promise;case 3:i=s.sent;s.next=6;return i.getFinalScript();case 6:a=s.sent;if(!(!a||!(null===a||void 0===a?void 0:a.success))){s.next=10;break}e.isInsertDisabled=false;return s.abrupt("return");case 10:o="string"===typeof a?a:a.script;t.scriptEditorProxy.insertCode(o,t.connectorInstance);e.close();case 13:case"end":return s.stop()}}),n)})));e.cancel=function(){e.close()}}];var S=w;var x=["$scope","input","$timeout",function(e,t,n){var r;var i=t;e.isInsertDisabled=true;e.iframeLoading=true;e.dialogLocation=t.dataconnectorInstance.type.selectAddData;e.initialize=function(){e.iframeLoading=false;var a=document.querySelector("#custom-connector-frame");r=d.a.connectToChild({url:e.dialogLocation,appendTo:a,methods:{processJsonRequest:function e(t){return i.serverside.sendJsonRequest.apply(this,t)},updateState:function t(r){n((function(){e.isInsertDisabled=r.isNextDisabled}))},getTableModelByDatabasePath:function e(n,r,i){return t.dataconnectionSelectionEditor.getTableModelByDatabasePath(n,r,i)},getTableModelsByDatabasePaths:function e(n){return n.map((function(e){return{index:e.index,model:t.dataconnectionSelectionEditor.getTableModelByDatabasePath(e.database,e.owner,e.name)}})).filter((function(e){return e.model}))}}});r.promise.then((function(n){n.initializeController({helpUrl:f["a"].path,tableModelToEdit:i.tableModelToEdit,datasource:JSON.stringify(i.dataconnectorInstance),useDcaas:Object(g["b"])("CONNECTOR_DCAAS"),dcaasHost:"".concat(v["a"].rootPath,"api/dcaas"),csrfToken:Object(h["a"])(document.cookie,"_csrfToken"),enableCredentialSeparation:Object(g["b"])("CREDENTIALS_SEPARATION")});t.dataconnectionSelectionEditor.setMetadataModelForConnection({});t.qvDialogContext.iframe=true;t.qvDialogContext.nextDisabled=function(){return e.isInsertDisabled};t.qvDialogContext.finishDisabled=function(){return e.isInsertDisabled};t.qvDialogContext.next=function(){return r.promise.then((function(e){var n=t.dataconnectionSelectionEditor.getTablesForConnector();return e.buildLoadModelTables(n,t.dataconnectorInstance.name).then((function(e){t.dataconnectionSelectionEditor.updateTablesForConnector(e);t.qvDialogContext.connectorNextComplete()}))}))};t.qvDialogContext.finish=function(){return r.promise.then((function(e){var n=t.dataconnectionSelectionEditor.getTablesForConnector();return e.buildLoadModelTables(n,t.dataconnectorInstance.name).then((function(e){t.dataconnectionSelectionEditor.updateTablesForConnector(e);t.qvDialogContext.connectorFinishComplete()}))}))}}),(function(){}))};e.close=function(){r&&r.destroy();e.destroyComponent()}}];var C=x;var q=n("McVw");function E(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){E(a,r,i,o,s,"next",e)}function s(e){E(a,r,i,o,s,"throw",e)}o(void 0)}))}}var k=["$scope","input",function(e,t){var n;var r=t;e.input=t;e.input.onSelectionChange=function(){e.isCreateCredentials="New Credentials"===e.model.name};e.onOKClicked=I(regeneratorRuntime.mark((function r(){var i,a,o;return regeneratorRuntime.wrap((function r(s){while(1)switch(s.prev=s.next){case 0:s.next=2;return n.promise;case 2:i=s.sent;s.next=5;return i.createCredentials();case 5:a=s.sent;if(!(!a||!a.success)){s.next=8;break}return s.abrupt("return");case 8:o=e.close;o();t.onClose&&t.onClose();case 11:case"end":return s.stop()}}),r)})));e.onCancelClicked=function(){return e.close()};e.onEscape=function(){return e.close()};e.iframeLoading=true;e.dialogLocation=t.connectorInstance.type.credentialsDialog;function i(t){t&&e.cancel()}e.initialize=I(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function t(l){while(1)switch(l.prev=l.next){case 0:e.iframeLoading=false;p["default"].ViewChanged.bind(i);a=document.querySelector("#custom-connector-frame");n=d.a.connectToChild({url:e.dialogLocation,appendTo:a,methods:{getConnection:function e(t){return r.serverside.getConnection.apply(this,t)},getConnectionList:function e(t){return r.serverside.getConnections.apply(this,t)},modifyConnection:function e(t){return r.serverside.modifyConnection.apply(this,t)},processJsonRequest:function e(t){return r.serverside.sendJsonRequest.apply(this,t)},createCredentials:function e(t){return r.serverside.createCredentials.apply(this,t)},modifyCredentials:function e(t){return r.serverside.modifyCredentials.apply(this,t)},getCredentialsList:function e(t){return r.serverside.getCredentialsList.apply(this,t)},getCredentials:function e(t){return r.serverside.getCredentials.apply(this,t)},updateState:function e(){return true}}});l.prev=4;l.next=7;return n.promise;case 7:o=l.sent;s=JSON.stringify(r.connectorInstance);o.initializeController({helpUrl:f["a"].path,instanceId:r.connectorInstance.id,editMode:r.editMode,endpoint:s,useDcaas:Object(g["b"])("CONNECTOR_DCAAS"),dcaasHost:"".concat(v["a"].rootPath,"api/dcaas"),dataConnectionServiceHost:"".concat(v["a"].rootPath,"api"),enableCredentialSeparation:true,csrfToken:Object(h["a"])(document.cookie,"_csrfToken")});l.next=14;break;case 12:l.prev=12;l.t0=l["catch"](4);case 14:case"end":return l.stop()}}),t,null,[[4,12]])})));e.$on("$destroy",(function(){n&&n.destroy();p["default"].ViewChanged.unbind(i)}));e.cancel=function(){e.close()}}];var A=k;function T(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){T(a,r,i,o,s,"next",e)}function s(e){T(a,r,i,o,s,"throw",e)}o(void 0)}))}}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),true).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=t.connectorInstance,r=t.scriptEditorProxy,i=t.serverside,a=t.title,s=t.onClose;switch(e){case"connectDialog":return{template:l["a"],controller:q["a"],input:L({},n),closeOnOutside:false,showArrow:false};case"selectDialog":return{template:o,controller:S,input:L(L({},n),{},{connectorInstance:n,serverside:i,scriptEditorProxy:r,componentName:e}),closeOnOutside:false,showArrow:false};case"credentialsDialog":return{template:c,controller:A,input:L(L({},n),{},{connectorInstance:n,serverside:i,scriptEditorProxy:r,componentName:e,title:a,onClose:s}),closeOnOutside:false,showArrow:false};default:throw Error("Invalid component ".concat(e))}}var N=t["a"]={getInstance:function e(t){var n=Object(g["b"])("CLIENT_DCAAS");var r;var o;var s;var l;var c;var u=a["default"].locale;if(n){s=encodeURI("".concat(i["a"].basePath||"/","api/dcaas/web/").concat(t.name,"/web/select-adddata.html?locale=").concat(u));r=encodeURI("".concat(i["a"].basePath||"/","api/dcaas/web/").concat(t.name,"/web/select-dialog.html?locale=").concat(u));o=encodeURI("".concat(i["a"].basePath||"/","api/dcaas/web/").concat(t.name,"/web/connect-dialog.html?locale=").concat(u));l=encodeURI("".concat(i["a"].basePath||"/","'api/dcaas/web/").concat(t.name,"/web/credentials-dialog.html?locale=").concat(u));c=encodeURI("".concat(i["a"].basePath||"/","api/dcaas/web/").concat(t.name,"/web/loadModelUpdate.js"))}else{s=encodeURI("".concat(i["a"].basePath||"/","customdata/64/").concat(t.name,"/web/standalone/select-adddata.html?locale=").concat(u));r=encodeURI("".concat(i["a"].basePath||"/","customdata/64/").concat(t.name,"/web/standalone/select-dialog.html?locale=").concat(u));o=encodeURI("".concat(i["a"].basePath||"/","customdata/64/").concat(t.name,"/web/standalone/connect-dialog.html?locale=").concat(u));l=encodeURI("".concat(i["a"].basePath||"/","customdata/64/").concat(t.name,"/web/standalone/credentials-dialog.html?locale=").concat(u));c=encodeURI("".concat(i["a"].basePath||"/","customdata/64/").concat(t.name,"/web/standalone/loadModelUpdate.js"))}var d={provider:t.qProvider||t.fileName,type:"custom",name:t.name,displayName:t.qDisplayName||t.displayName,isStandardConnector:false,isIframeCompatible:true,needsConnect:true,connectDialog:o,selectDialog:r,selectAddData:s,credentialsDialog:l,update:c};return d},getComponent:function e(t,n){return D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:if(!("selectStep"===n)){t.next=2;break}return t.abrupt("return",{template:s,controller:C});case 2:return t.abrupt("return",{showDialog:function e(t,i,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s=o.onClose,l=o.title;var c=P(n,{connectorInstance:t,scriptEditorProxy:i,serverside:a,title:l,onClose:s});var u=r["default"].getService("luiDialog").show(c);s&&(u.onClose=function(){u.close();s()});return u}});case 3:case"end":return t.stop()}}),e)})))()}}},R0oC:function(e,t,n){"use strict";var r=n("MoEg");var i=n("cQOM");function a(e){var t=Number.MAX_VALUE;var n=-Number.MAX_VALUE;var i=Number.MAX_VALUE;var a=-Number.MAX_VALUE;var o=e?e.length:0;var s;var l;if(!o)return null;for(l=0;l<o;l++){s=e[l];n=s.x>n?s.x:n;t=s.x<t?s.x:t;a=s.y>a?s.y:a;i=s.y<i?s.y:i}return new r["a"](t,i,n-t,a-i)}function o(){this._numPoints=this.points?this.points.length:0;this._closedPolygon=this._numPoints>1&&this.points[0].x===this.points[this._numPoints-1].x&&this.points[0].y===this.points[this._numPoints-1].y;this._closedPolygon?this._numLines=this._numPoints-1:this._numLines=this._numPoints;this._pointsChanged=true}function s(e){0===arguments.length?this.set([]):this.set(e);this._pointsChanged=true}s.prototype={clone:function e(){var t=this.points.map((function(e){return e.clone()}));return new s(t)},set:function e(t){this.points=t;o.call(this)},getPoints:function e(){return this.points},getNumPoints:function e(){return this.points?this.points.length:0},addPoint:function e(t){this.points.push(t);o.call(this)},pointInside:function e(t,n){this.calculateBounds();if(!this._bounds)return false;if(t<this._bounds.x||t>this._bounds.x+this._bounds.width||n<this._bounds.y||n>this._bounds.y+this._bounds.height)return false;var r;var i;var a;var o;var s;for(r=false,o=-1,i=this.points.length,a=i-1;++o<i;a=o){if(this.points[o].x===t&&this.points[o].y===n)return true;if(this.points[o].y===this.points[a].y&&this.points[o].y===n&&(t-this.points[o].x)*(t-this.points[a].x)<=0)return true;if(this.points[o].y<n&&n<=this.points[a].y||this.points[a].y<n&&n<=this.points[o].y){s=(this.points[a].x-this.points[o].x)*(n-this.points[o].y)/(this.points[a].y-this.points[o].y)+this.points[o].x;if(t===s)return true;t<s&&(r=!r)}}return r},intersectsLine:function e(t){if(!t)return false;if(this.pointInside(t.x1,t.y1)||this.pointInside(t.x2,t.y2))return true;if(0===this._numPoints)return false;if(1===this._numPoints){if(t.intersectsLine(new i["a"](this.points[0].x,this.points[0].y,this.points[0].x,this.points[0].y)))return true;return false}var n=this._numPoints-1;for(var r=0;r<n;r++)if(t.intersectsLine(new i["a"](this.points[r].x,this.points[r].y,this.points[r+1].x,this.points[r+1].y)))return true;if(!this._closedPolygon&&t.intersectsLine(new i["a"](this.points[n].x,this.points[n].y,this.points[0].x,this.points[0].y)))return true;return false},intersectsLines:function e(t){var n=t?t.length:0;for(var r=0;r<n;r++)if(this.intersectsLine(t[r]))return true;return false},intersectsRect:function e(t){if(!t)return false;this.calculateBounds();if(!this._bounds)return false;if(t.rectInside(this._bounds))return true;if(!this._bounds.intersectsWith(t))return false;var n=t.x;var r=t.getRight();var a=t.y;var o=t.getBottom();if(this.pointInside(n,a)||this.pointInside(r,a)||this.pointInside(r,o)||this.pointInside(n,o))return true;var s=[new i["a"](n,a,r,a),new i["a"](n,o,r,o),new i["a"](n,a,n,o),new i["a"](r,a,r,o)];return this.intersectsLines(s)},calculateBounds:function e(){if(this._pointsChanged){this._bounds=a(this.points);this._pointsChanged=false}return this._bounds},getBoundingRect:function e(){return this.calculateBounds()},translate:function e(t,n){if(!t&&!n)return;for(var r=0;r<this._numPoints;r++){this.points[r].x+=t;this.points[r].y+=n}this._pointsChanged=true},toString:function e(){var t;var n="";var r=this._numPoints-1;for(t=0;t<r;t++)n+="".concat(this.points[t].toString(),",");n+=this.points[r].toString();return n}};t["a"]=s},R2Yu:function(e,t,n){"use strict";function r(e){r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function o(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&c(e,t)}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function c(e,t){c=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return c(e,t)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;return d(e)}function p(e){return function(){var t=l(e),n;if(u()){var r=l(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return f(this,n)}}var h={fromSearchString:v};function v(e){if(!e)return[];"?"===e[0]&&(e=e.substr(1));var t=[];e.split("&").forEach((function(e){if(!e)return;var n=e.indexOf("=");var r;var i="";var a=false;if(-1===n)r=e;else{r=e.slice(0,n);i=e.slice(n+1);a=true}t.push(m(r,i,a))}));return t}function m(e,t,n){return{key:g(e),value:g(t),useEqualSign:n}}function g(e){try{return decodeURIComponent(e)}catch(t){return e}}function b(e){if(!(this instanceof b))throw new Error("Url needs to be called with the new keyword");if(!e)throw new Error("Url needs a string to operate on");var t=w(e);Object.defineProperties(this,{authorityAndPath:{value:t.authorityAndPath},search:{value:t.search},hash:{value:t.hash},searchParams:{get:function e(){return h.fromSearchString(t.search)}}})}b.encodeAuthorityAndPath=function(e){return encodeURI(e).replace(/%5B/gi,"[").replace(/%5D/gi,"]")};b.encodeSearchParams=function(e){var t="";var n;for(var r=0;r<e.length;r++){n=e[r];t+=0===r?"?":"&";t+=y(n.key);n.value?t+="=".concat(y(n.value)):t+=n.useEqualSign?"=":""}return t};function y(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function w(e){var t={authorityAndPath:"",search:"",hash:""};var n=e.indexOf("#");if(-1!==n){t.hash=e.substr(n);e=e.substr(0,n)}n=e.indexOf("?");if(-1!==n){t.search=e.substr(n);e=e.substr(0,n)}t.authorityAndPath=e;return t}var S=function(){o(e,[{key:"_hasNext",value:function e(){if(null==this._input)return false;if(0===this._input.length)return false;return this._index<this._input.length}}]);function e(t){i(this,e);this._input=t;this._pushback=null;this._temp=null;this._index=0;this._mark=0}o(e,[{key:"pushback",value:function e(t){this._pushback=t}},{key:"index",value:function e(){return this._index}},{key:"hasNext",value:function e(){if(null!=this._pushback)return true;return this._hasNext()}},{key:"next",value:function e(){if(null!=this._pushback){var t=this._pushback;this._pushback=null;return t}return this._hasNext()?this._input.charAt(this._index++):null}},{key:"nextHex",value:function e(){var t=this.next();if(null==t)return null;if(t.match(/[0-9A-Fa-f]/))return t;return null}},{key:"peek",value:function e(t){if(t){if(this._pushback&&this._pushback===t)return true;return!!this._hasNext()&&this._input.charAt(this._index)===t}if(this._pushback)return this._pushback;return this._hasNext()?this._input.charAt(this._index):null}},{key:"mark",value:function e(){this._temp=this._pushback;this._mark=this._index}},{key:"reset",value:function e(){this._pushback=this._temp;this._index=this._mark}},{key:"remainder",value:function e(){var t=this._input.substr(this._index);null!=this._pushback&&(t=this._pushback+t);return t}}]);return e}();var x=function(){function e(){i(this,e)}o(e,[{key:"decode",value:function e(t){var n="";var r=new S(t);var i;while(r.hasNext()){i=this.decodeCharacter(r);n+=null!=i?i:r.next()}return n}},{key:"decodeCharacter",value:function e(t){return t.next()}}]);return e}();var C=function e(t){return t>=0&&t<=1114111};var q=function e(t){return t.match(/[\s]/)};var E=function(e){s(n,e);var t=p(n);function n(){i(this,n);return t.apply(this,arguments)}o(n,[{key:"decodeCharacter",value:function e(t){t.mark();var n=t.next();var r;var i;var a;if(null==n||"\\"!==n){t.reset();return null}var o=t.next();if(null==o){t.reset();return null}switch(o){case"\r":t.peek("\n")&&t.next();case"\n":case"\f":case"\0":return this.decodeCharacter(t)}if("NaN"===parseInt(o,16))return o;r=o;for(i=0;i<5;i++){a=t.next();if(null==a||q(a))break;if("NaN"===parseInt(a,16)){t.pushback(a);break}r+=a}var s=parseInt(r,16);if(C(s))return String.fromCharCode(s);return"�"}}]);return n}(x);var I=function(){function e(t,n){i(this,e);this._key=t;this._value=n}o(e,[{key:"getKey",value:function e(){return this._key}},{key:"getValue",value:function e(){return this._value}},{key:"equals",value:function t(n){if(!(n instanceof e))return false;return this._key===n._key&&this._value===n._value}}],[{key:"newInstanceIfNeeded",value:function t(){var n=arguments[0];var r;var i;if("string"===typeof arguments[1]){r=arguments[1];i=n.length}else{i=arguments[1];r=arguments[2]}if(!r||!n)return null;n.length>i&&(n=n.substr(0,i));return new e(n,r)}}]);return e}();var k=function(){function e(){i(this,e)}o(e,[{key:"setValue",value:function e(t){this._nextMap=null;this._value=t}},{key:"getNextNode",value:function e(t){return this._nextMap?this._nextMap[t]:null}},{key:"put",value:function t(n,r,i){var a;var o;if(n.length===r){o=this._value;this.setValue(i);return o}var s=n.charAt(r);if(this._nextMap){a=this._nextMap[s];if(!a){a=new e;this._nextMap[s]=a}}else{this._nextMap={};a=new e;this._nextMap[s]=a}return a.put(n,r+1,i)}},{key:"get",value:function e(t,n){if(t.length<=n)return this._value;var r=this.getNextNode(t.charAt(n));return r?r.get(t,n+1):null}},{key:"getLongestMatch",value:function e(t,n){if(t.length<=n)return I.newInstanceIfNeeded(t,this._value);var r=this.getNextNode(t.charAt(n));if(!r)return I.newInstanceIfNeeded(t,n,this._value);var i=r.getLongestMatch(t,n+1);if(i)return i;return I.newInstanceIfNeeded(t,n,this._value)}}]);return e}();var A=function(){function e(){i(this,e);this.clear()}o(e,[{key:"getLongestMatch",value:function e(t){return this.root&&t?this.root.getLongestMatch(t,0):null}},{key:"getMaxKeyLength",value:function e(){return this.maxKeyLen}},{key:"clear",value:function e(){this.root=null;this.maxKeyLen=0;this.size=0}},{key:"put",value:function e(t,n){this.root||(this.root=new k);var r=this.root.put(t,0,n);if(r)return r;t.length>this.maxKeyLen&&(this.maxKeyLen=t.length);this.size++;return null}}]);return e}();var T=function(){var e=[];var t=[];var n=new A;e["&quot"]="34";e["&amp"]="38";e["&lt"]="60";e["&gt"]="62";e["&nbsp"]="160";e["&iexcl"]="161";e["&cent"]="162";e["&pound"]="163";e["&curren"]="164";e["&yen"]="165";e["&brvbar"]="166";e["&sect"]="167";e["&uml"]="168";e["&copy"]="169";e["&ordf"]="170";e["&laquo"]="171";e["&not"]="172";e["&shy"]="173";e["&reg"]="174";e["&macr"]="175";e["&deg"]="176";e["&plusmn"]="177";e["&sup2"]="178";e["&sup3"]="179";e["&acute"]="180";e["&micro"]="181";e["&para"]="182";e["&middot"]="183";e["&cedil"]="184";e["&sup1"]="185";e["&ordm"]="186";e["&raquo"]="187";e["&frac14"]="188";e["&frac12"]="189";e["&frac34"]="190";e["&iquest"]="191";e["&Agrave"]="192";e["&Aacute"]="193";e["&Acirc"]="194";e["&Atilde"]="195";e["&Auml"]="196";e["&Aring"]="197";e["&AElig"]="198";e["&Ccedil"]="199";e["&Egrave"]="200";e["&Eacute"]="201";e["&Ecirc"]="202";e["&Euml"]="203";e["&Igrave"]="204";e["&Iacute"]="205";e["&Icirc"]="206";e["&Iuml"]="207";e["&ETH"]="208";e["&Ntilde"]="209";e["&Ograve"]="210";e["&Oacute"]="211";e["&Ocirc"]="212";e["&Otilde"]="213";e["&Ouml"]="214";e["&times"]="215";e["&Oslash"]="216";e["&Ugrave"]="217";e["&Uacute"]="218";e["&Ucirc"]="219";e["&Uuml"]="220";e["&Yacute"]="221";e["&THORN"]="222";e["&szlig"]="223";e["&agrave"]="224";e["&aacute"]="225";e["&acirc"]="226";e["&atilde"]="227";e["&auml"]="228";e["&aring"]="229";e["&aelig"]="230";e["&ccedil"]="231";e["&egrave"]="232";e["&eacute"]="233";e["&ecirc"]="234";e["&euml"]="235";e["&igrave"]="236";e["&iacute"]="237";e["&icirc"]="238";e["&iuml"]="239";e["&eth"]="240";e["&ntilde"]="241";e["&ograve"]="242";e["&oacute"]="243";e["&ocirc"]="244";e["&otilde"]="245";e["&ouml"]="246";e["&divide"]="247";e["&oslash"]="248";e["&ugrave"]="249";e["&uacute"]="250";e["&ucirc"]="251";e["&uuml"]="252";e["&yacute"]="253";e["&thorn"]="254";e["&yuml"]="255";e["&OElig"]="338";e["&oelig"]="339";e["&Scaron"]="352";e["&scaron"]="353";e["&Yuml"]="376";e["&fnof"]="402";e["&circ"]="710";e["&tilde"]="732";e["&Alpha"]="913";e["&Beta"]="914";e["&Gamma"]="915";e["&Delta"]="916";e["&Epsilon"]="917";e["&Zeta"]="918";e["&Eta"]="919";e["&Theta"]="920";e["&Iota"]="921";e["&Kappa"]="922";e["&Lambda"]="923";e["&Mu"]="924";e["&Nu"]="925";e["&Xi"]="926";e["&Omicron"]="927";e["&Pi"]="928";e["&Rho"]="929";e["&Sigma"]="931";e["&Tau"]="932";e["&Upsilon"]="933";e["&Phi"]="934";e["&Chi"]="935";e["&Psi"]="936";e["&Omega"]="937";e["&alpha"]="945";e["&beta"]="946";e["&gamma"]="947";e["&delta"]="948";e["&epsilon"]="949";e["&zeta"]="950";e["&eta"]="951";e["&theta"]="952";e["&iota"]="953";e["&kappa"]="954";e["&lambda"]="955";e["&mu"]="956";e["&nu"]="957";e["&xi"]="958";e["&omicron"]="959";e["&pi"]="960";e["&rho"]="961";e["&sigmaf"]="962";e["&sigma"]="963";e["&tau"]="964";e["&upsilon"]="965";e["&phi"]="966";e["&chi"]="967";e["&psi"]="968";e["&omega"]="969";e["&thetasym"]="977";e["&upsih"]="978";e["&piv"]="982";e["&ensp"]="8194";e["&emsp"]="8195";e["&thinsp"]="8201";e["&zwnj"]="8204";e["&zwj"]="8205";e["&lrm"]="8206";e["&rlm"]="8207";e["&ndash"]="8211";e["&mdash"]="8212";e["&lsquo"]="8216";e["&rsquo"]="8217";e["&sbquo"]="8218";e["&ldquo"]="8220";e["&rdquo"]="8221";e["&bdquo"]="8222";e["&dagger"]="8224";e["&Dagger"]="8225";e["&bull"]="8226";e["&hellip"]="8230";e["&permil"]="8240";e["&prime"]="8242";e["&Prime"]="8243";e["&lsaquo"]="8249";e["&rsaquo"]="8250";e["&oline"]="8254";e["&frasl"]="8260";e["&euro"]="8364";e["&image"]="8365";e["&weierp"]="8472";e["&real"]="8476";e["&trade"]="8482";e["&alefsym"]="8501";e["&larr"]="8592";e["&uarr"]="8593";e["&rarr"]="8594";e["&darr"]="8595";e["&harr"]="8596";e["&crarr"]="8629";e["&lArr"]="8656";e["&uArr"]="8657";e["&rArr"]="8658";e["&dArr"]="8659";e["&hArr"]="8660";e["&forall"]="8704";e["&part"]="8706";e["&exist"]="8707";e["&empty"]="8709";e["&nabla"]="8711";e["&isin"]="8712";e["&notin"]="8713";e["&ni"]="8715";e["&prod"]="8719";e["&sum"]="8721";e["&minus"]="8722";e["&lowast"]="8727";e["&radic"]="8730";e["&prop"]="8733";e["&infin"]="8734";e["&ang"]="8736";e["&and"]="8743";e["&or"]="8744";e["&cap"]="8745";e["&cup"]="8746";e["&int"]="8747";e["&there4"]="8756";e["&sim"]="8764";e["&cong"]="8773";e["&asymp"]="8776";e["&ne"]="8800";e["&equiv"]="8801";e["&le"]="8804";e["&ge"]="8805";e["&sub"]="8834";e["&sup"]="8835";e["&nsub"]="8836";e["&sube"]="8838";e["&supe"]="8839";e["&oplus"]="8853";e["&otimes"]="8855";e["&perp"]="8869";e["&sdot"]="8901";e["&lceil"]="8968";e["&rceil"]="8969";e["&lfloor"]="8970";e["&rfloor"]="8971";e["&lang"]="9001";e["&rang"]="9002";e["&loz"]="9674";e["&spades"]="9824";e["&clubs"]="9827";e["&hearts"]="9829";e["&diams"]="9830";var r;var i;var a;for(r in e)"function"!==typeof e[r]&&e.hasOwnProperty(r)&&(t[e[r]]=r);for(i in t)if("function"!==typeof t[i]&&t.hasOwnProperty(i)){a=t[i].toLowerCase().substr(1);n.put(a,String.fromCharCode(i))}return n};var D=T();var O=function(e){s(n,e);var t=p(n);function n(){i(this,n);return t.apply(this,arguments)}o(n,[{key:"decodeCharacter",value:function e(t){var n;t.mark();var r=t.next();if(null==r||"&"!==r){t.reset();return null}var i=t.next();if(null==i){t.reset();return null}if("#"===i){n=this._getNumericEntity(t);if(null!=n)return n}else if(i.match(/[A-Za-z]/)){t.pushback(i);n=this._getNamedEntity(t);if(null!=n)return n}t.reset();return null}},{key:"_getNamedEntity",value:function e(t){var n="";var r;var i;var a;r=Math.min(t.remainder().length,D.getMaxKeyLength());for(a=0;a<r;a++)n+=t.next().toLowerCase();var o=D.getLongestMatch(n);if(null==o)return null;t.reset();t.next();r=o.getKey().length;for(i=0;i<r;i++)t.next();t.peek(";")&&t.next();return o.getValue()}},{key:"_getNumericEntity",value:function e(t){var n=t.peek();if(null==n)return null;if("x"===n||"X"===n){t.next();return this._parseHex(t)}return this._parseNumber(t)}},{key:"_parseHex",value:function e(t){var n="";var r;while(t.hasNext()){r=t.peek();if(Number.isNaN(+parseInt(r,16))){if(";"===r){t.next();break}break}n+=r;t.next()}var i=parseInt(n,16);if(!Number.isNaN(+i)&&C(i))return String.fromCharCode(i);return null}},{key:"_parseNumber",value:function e(t){var n="";var r;while(t.hasNext()){r=t.peek();if(Number.isNaN(+parseInt(r,10))){if(";"===r){t.next();break}break}n+=r;t.next()}var i=parseInt(n,10);if(!Number.isNaN(+i)&&C(i))return String.fromCharCode(i);return null}}]);return n}(x);var L=function(e){s(n,e);var t=p(n);function n(){i(this,n);return t.apply(this,arguments)}o(n,[{key:"decodeCharacter",value:function e(t){t.mark();var n=t.next();var r;var i;var a;var o;if(null==n){t.reset();return null}if("%"!==n){t.reset();return null}r="";for(i=0;i<2;i++){a=t.nextHex();null!=a&&(r+=a)}if(2===r.length){o=parseInt(r,16);if(C(o))return String.fromCharCode(o)}t.reset();return null}}]);return n}(x);var M;"undefined"!==typeof document&&(M=document.createElement("div"));var P=Array.prototype.indexOf;var N={js:[",",".","_"," "]};var R={default:[",",".","-","_"," "]};var F={width:["%"],height:["%"]};var _={default:["-"," ","%"],color:["#"," ","(",")"],image:["(",")",":","/","?","&","-",".",'"',"="," "]};var j={background:["(",")",":","%","/","?","&","-"," ",".",'"',"=","#"],"background-image":_.image,"background-color":_.color,"border-color":_.color,"border-image":_.image,color:_.color,icon:_.image,"list-style-image":_.image,"outline-color":_.color};var B={attr_name:["on[a-z]{1,}","style","href","src"],attr_val:["javascript:"],css_key:["behavior","-moz-behavior","-ms-behavior"],css_val:["expression"]};function V(e,t,n){var r;if(t){if(P)return P.call(t,e,n);r=t.length;n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1}function H(){var e;var t;var n;var r=arguments[0]||{};var i=1;var a=arguments.length;for(;i<a;i++)if(null!=(e=arguments[i]))for(t in e)if(e.hasOwnProperty(t)){n=e[t];if(r===n)continue;void 0!==n&&(r[t]=n)}return r}function z(e){if("undefined"===typeof e||null===e)return"";var t="";var n=document.createTextNode(e);M.appendChild(n);t=M.innerHTML;M.removeChild(n);return t}function $(e,t,n){var r;var i;var a;var o;var s;var l;var c;var u;var d;e=Y(e).toLowerCase();t=Y(t);if(V(e,B.attr_name)>=0)throw new Error("Unsafe attribute name used: ".concat(e));for(a=0;a<B.attr_val;a++)if(t.toLowerCase().match(B.attr_val[a]))throw new Error("Unsafe attribute value used: ".concat(t));r=F[e];r||(r=R.default);i="";if(!n){for(o=0;o<e.length;o++){s=e.charAt(o);if(!s.match(/[a-zA-Z\-0-9]/))throw new Error("Invalid attribute name specified");i+=s}i+='="'}for(l=0;l<t.length;l++){c=t.charAt(l);u=t.charCodeAt(l);if(!c.match(/[a-zA-Z0-9]/)&&V(c,r)<0){d=u.toString(16);i+="&#x".concat(d,";")}else i+=c}n||(i+='"');return i}function U(e){return $("nonsens",e,true)}function G(e,t,n){var r;var i;var a;var o;var s;var l;var c;var u;var d;var f;e=Y(e).toLowerCase();t=Y(t);if(V(e,B.css_key)>=0)throw new Error("Unsafe property name used: ".concat(e));for(r=0;r<B.css_val.length;r++)if(t.toLowerCase().indexOf(B.css_val[r])>=0)throw new Error("Unsafe property value used: ".concat(t));i=j[e];i||(i=_.default);a="";if(!n){for(o=0;o<e.length;o++){s=e.charAt(o);if(!s.match(/[a-zA-Z-]/))throw new Error("Invalid Property Name specified");a+=s}a+=": "}for(l=0;l<t.length;l++){c=t.charAt(l);u=t.charCodeAt(l);if(!c.match(/[a-zA-Z0-9]/)&&V(c,i)<0){d=u.toString(16);f="000000".substr(d.length);a+="\\".concat(f).concat(d)}else a+=c}return a}function W(e,t){var n="";if(t){t.match(/^[A-Za-z\-0-9]{1,}$/)?n+=Y(t).toLowerCase():te(this,"Illegal Attribute Name Specified");n+='="'}n+=encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A");n+=t?'"':"";return n}function Q(e){Y(e);0!==e.search("[a-zA-Z0-9]+:")&&(e="http://".concat(e));var t=new b(e);var n=b.encodeAuthorityAndPath(decodeURI(t.authorityAndPath));var r=t.searchParams;var i=b.encodeSearchParams(r);e=n+i+t.hash;if(-1!==e.indexOf("javascript:"))throw new Error("Attack Detected - Javascript in input");return e}function K(e,t){var n;var r;var i;var a;var o;var s;t||(t=N.js);s="";for(n=0;n<e.length;n++){i=e.charAt(n);a=e.charCodeAt(n);if(V(i,t)>=0||null==J[a]){s+=i;continue}r=a.toString(16);if(a<256){o="00".substr(r.length);s+="\\x".concat(o).concat(r.toUpperCase())}else{o="0000".substr(r.length);s+="\\u".concat(o).concat(r.toUpperCase())}}return s}function Y(e,t){var n;var r;var i;var a;var o=false;if(null===e)return null;n=e;r=e;i=0;var s=[new O,new L,new E];while(!o){r=n;for(var l=0;l<s.length;l++){a=s[l].decode(n);if(a!==n){i++;n=a}}if(r===n){o=true;continue}}if(t&&i>1)throw new Error("Attack Detected - Multiple/Double Encodings used in input");return n}var J=[];for(var Z=0;Z<255;Z++)J[Z]=Z>=48&&Z<=57||Z>=65&&Z<=90||Z>=97&&Z<=122?null:Z.toString(16);var X={html:function e(t){return z(t.unsafe)},css:function e(t){var n;var r=[];var i=[];var a={};var o="";t.map?r=t.map:r[t.name]=t.unsafe;for(n in r)if("function"!==typeof r[n]&&r.hasOwnProperty(n)){i[n]=G(n,r[n],true);o+=G(n,r[n],true);a[n]=i[n]}return t.map?a:o},attr:function e(t){var n=[];var r=[];var i={};var a="";t.map?n=t.map:n[t.name]=t.unsafe;for(var o in n)if("function"!==typeof n[o]&&n.hasOwnProperty(o)){r[o]=$(o,n[o],true);a+=$(o,n[o],true);i[o]=r[o]}var s=t.map?i:a;return s}};function ee(){var e=arguments.length;var t={context:"html",unsafe:null,name:null,map:null,setter:null,strict:true};if(1===e&&"object"===r(arguments[0]))H(t,arguments[0]);else{t.context=arguments[0];if(2===arguments.length)"html"===t.context?t.unsafe=arguments[1]:"attr"!==t.context&&"css"!==t.context||(t.map=arguments[1]);else{t.name=arguments[2];t.unsafe=arguments[1]}}if("html"===t.context)return X.html(t);if("css"===t.context){null!=t.map&&"object"!==r(t.map)&&te(this,"Invalid parameter type");return X.css(t)}if("attr"===t.context){null!=t.map&&"object"!==r(t.map)&&te(this,"Invalid parameter type");return X.attr(t)}te(this,"Invalid parameter type");return}function te(e,t){throw new Error(t)}var ne={canonicalize:Y,encode:ee,encodeForAttr:$,encodeForAttr2:U,encodeForCSS:G,encodeForHref:Q,encodeForJS:K,encodeForHTML:z,encodeForURL:W};t["a"]=ne},RBCx:function(e,t,n){"use strict";var r=n("2n0V");t["a"]={getChartType:i,getExtensionType:a,getInitialProperties:o,isChartSupported:s};function i(e){return r["a"].getType(e)}function a(e){var t;return null===(t=i(e))||void 0===t?void 0:t.getExtensionType()}function o(e){var t;return null===(t=i(e))||void 0===t?void 0:t.getInitialProperties()}function s(e){if(!e.chartType)return true;var t=r["a"].getRegisteredNames();return(null===t||void 0===t?void 0:t.indexOf(e.chartType))>-1}},RKW3:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("W0B4");var o=n.n(a);var s=n("0ghn");var l=n("jr/W");var c=n("g1uV");var u=i.a.memo((function(e){var t=e.tid,n=e.title,r=e.iconName,a=e.onSelect,o=e.onClickNewTab,u=e.disabled,d=e.selectable,f=e.children,p=e.showOpenInTab,h=e.divider,v=e.isParentMenu;var m=Object(s["c"])();var g=function e(t){u||a(t)};var b=function e(t){u||t.keyCode!==c["a"].ENTER&&t.keyCode!==c["a"].SPACE||a(t)};var y=function e(t){if(!u){o(t);t.preventDefault();t.stopPropagation()}};var w=d&&!u?0:-1;var S="qs-toolbar__menu-item";d||(S+=" no-hover");v&&(S+=" parentMenu");return i.a.createElement(l["i"].Item,{className:S,role:"menuitem",tid:t,onClick:g,onKeyDown:b,title:n,disabled:u,tabIndex:w},(null===r||void 0===r?void 0:r.length)>0?i.a.createElement(l["i"].Aside,{className:"qs-toolbar__menu-item-icon"},i.a.createElement(l["f"],{name:r})):null,i.a.createElement(l["i"].Text,null,f),p?i.a.createElement(i.a.Fragment,null,h&&i.a.createElement("div",{className:"list-divider"}),i.a.createElement(l["i"].Aside,{className:"lui-nopad"},i.a.createElement(l["e"],{disabled:u,title:m("Tooltip.OpenInNewTab"),onClick:h?y:g,tabIndex:"-1"},i.a.createElement(l["e"].Icon,{name:"new-tab",style:{textAlign:"center",margin:"auto"}})))):null)}));u.propTypes={tid:o.a.string.isRequired,title:o.a.string,iconName:o.a.string.isRequired,onSelect:o.a.func,onClickNewTab:o.a.func,disabled:o.a.bool,selectable:o.a.bool,children:o.a.node.isRequired,showOpenInTab:o.a.bool,divider:o.a.bool,isParentMenu:o.a.bool};u.defaultProps={disabled:false,onSelect:function e(){},onClickNewTab:function e(){},title:"",selectable:true,showOpenInTab:false,divider:true,isParentMenu:false};t["a"]=u},RM7h:function(e,t,n){"use strict";var r=n("2UuD");var i=n("FMzN");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function s(e,t,n){t&&o(e.prototype,t);n&&o(e,n);return e}var l={AUTO:"U",INTEGER:"I",NUMBER:"R",FIXED_TO:"F",MONEY:"M",DATE:"D",TIME:"T",DATE_TIME:"TS",INTERVAL:"IV"};var c=function(){function e(t,n,o,s,c){a(this,e);var u=t||{};this.localeInfo=u;this.pattern=n||"";this.decimalDelimiter="string"===typeof s?s:"string"===typeof u.qDecimalSep?u.qDecimalSep:".";this.thousandDelimiter="string"===typeof o?o:"string"===typeof u.qThousandSep&&this.decimalDelimiter!==u.qThousandSep?u.qThousandSep:"";this.type=c||l.AUTO;c===l.AUTO&&(this.pattern="#".concat(this.decimalDelimiter,"##A"));this._numberFormatter=new r["a"](t);this._dateFormatter=new i["a"](t);this.prepare()}s(e,[{key:"clone",value:function t(){return new e(this.localeInfo,this.pattern,this.thousandDelimiter,this.decimalDelimiter,this.type)}},{key:"prepare",value:function e(t,n,r){t||(t=this.pattern);if(!t)switch(this.type){case l.INTEGER:t="##############";break;case l.NUMBER:t=Array(this.localeInfo.qnDec||11).join("#");break;case l.FIXED_TO:t="#".concat(this.localeInfo.qDecimalSep)||false;break;case l.MONEY:t=this.localeInfo.qMoneyFmt;r||(r=this.localeInfo.qMoneyDecimalSep||".");n||r===this.localeInfo.qMoneyThousandSep||(n=this.localeInfo.qMoneyThousandSep);break;case l.DATE:t=this.localeInfo.qDateFmt||"YYYY-MM-DD";break;case l.DATE_TIME:t=this.localeInfo.qTimestampFmt||"YYYY-MM-DD hh:mm:ss";break;case l.TIME:case l.INTERVAL:t=this.localeInfo.qTimeFmt||"hh:mm:ss";break;default:t="##########";break}this._numberFormatter.pattern=this.pattern;this._dateFormatter.pattern=this.pattern;this._numberFormatter.thousandDelimiter=this.thousandDelimiter;this._numberFormatter.decimalDelimiter=this.decimalDelimiter;this._numberFormatter.type=this.type;this._numberFormatter.prepare(t,n,r);this._prepared={pattern:t,t:n,d:r}}},{key:"formatValue",value:function e(t,n){var r;var i=this._prepared;if("NaN"===t||"number"===typeof t&&Number.isNaN(+t))return"-";if(Number.isNaN(+t)||"number"!==typeof t)return"".concat(t);switch(this.type){case l.DATE:case l.TIME:case l.DATE_TIME:r=new Date(1899,11,30+Math.floor(t),0,0,86400*(t-Math.floor(t)));if(Number.isNaN(+r.getTime()))return this._numberFormatter.format(t,"0",i.t,i.d);return this._dateFormatter.format(r,n||i.pattern);case l.INTERVAL:return this._dateFormatter.format(t,i.pattern);default:return this._numberFormatter.formatValue(t)}}},{key:"format",value:function e(t,n,r,i){if("NaN"===t||"number"===typeof t&&Number.isNaN(+t))return"-";if(Number.isNaN(+t)||"number"!==typeof t)return"".concat(t);this.prepare(n,r,i);return this.formatValue(t)}},{key:"createPatternFromRange",value:function e(t,n,r){var i="";var a;var o=Number(Number(t).toExponential().split("e")[1]);var s=Number(Number(n).toExponential().split("e")[1]);var l=Math.min(Math.abs(o),Math.abs(s));var c=Math.abs(n-t);var u;var d=Number(Number(c/50).toExponential().split("e")[1]);var f;f=Math.abs(d);if(0===c)return"0".concat(this.decimalDelimiter,"##").concat(r?"A":"");if(d>=0)f=r?Math.max(2,l-d):0;else{u=(r?l-l%3:0)*(s<0?1:-1);f-=u}this.thousandDelimiter?i+="#".concat(this.thousandDelimiter,"##0"):i+="0";if(f){i+=this.decimalDelimiter;for(a=0;a<f;a++)i+="#"}return i+(r?"A":"")}}]);return e}();c.getSignificantIntegers=function(e){return u(e)};c.getSignificantDecimals=function(e){return d(e)};function u(e){if(Number.isNaN(+e)||!Number.isFinite(+e))return 1;var t=Number(e).toExponential();var n=t.split("e");var r=1;"+"===n[1][0]&&(r+=Number(n[1]));return r}function d(e){if(Number.isNaN(+e)||!Number.isFinite(+e))return 0;var t=Number(e).toExponential();var n=t.split("e");var r=0;var i;if("-"===n[1][0]){r=Math.abs(Number(n[1]));n=n[0].split(".");n[1]&&(r+=n[1].length)}else{i=Number(n[1]);n=n[0].split(".");r=n[1]?n[1].length-i:0}return r}t["a"]=c},Rg34:function(e,t,n){(function t(n,r){true;e.exports=r()})(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:false};e[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;var i=n(2);var a=r(i);var o=n(45);var s=r(o);var l=n(46);var c=n(51);var u=n(52);var d=r(u);var f=n(49);var p=r(f);var h=n(44);var v=r(h);var m=a["default"].create;function g(){var e=m();e.compile=function(t,n){return c.compile(t,n,e)};e.precompile=function(t,n){return c.precompile(t,n,e)};e.AST=s["default"];e.Compiler=c.Compiler;e.JavaScriptCompiler=d["default"];e.Parser=l.parser;e.parse=l.parse;e.parseWithoutProcessing=l.parseWithoutProcessing;return e}var b=g();b.create=g;v["default"](b);b.Visitor=p["default"];b["default"]=b;t["default"]=b;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=true},function(e,t,n){"use strict";var r=n(3)["default"];var i=n(1)["default"];t.__esModule=true;var a=n(4);var o=r(a);var s=n(37);var l=i(s);var c=n(6);var u=i(c);var d=n(5);var f=r(d);var p=n(38);var h=r(p);var v=n(44);var m=i(v);function g(){var e=new o.HandlebarsEnvironment;f.extend(e,o);e.SafeString=l["default"];e.Exception=u["default"];e.Utils=f;e.escapeExpression=f.escapeExpression;e.VM=h;e.template=function(t){return h.template(t,e)};return e}var b=g();b.create=g;m["default"](b);b["default"]=b;t["default"]=b;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t["default"]=e;return t};t.__esModule=true},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;t.HandlebarsEnvironment=g;var i=n(5);var a=n(6);var o=r(a);var s=n(10);var l=n(30);var c=n(32);var u=r(c);var d=n(33);var f="4.7.6";t.VERSION=f;var p=8;t.COMPILER_REVISION=p;var h=7;t.LAST_COMPATIBLE_COMPILER_REVISION=h;var v={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};t.REVISION_CHANGES=v;var m="[object Object]";function g(e,t,n){this.helpers=e||{};this.partials=t||{};this.decorators=n||{};s.registerDefaultHelpers(this);l.registerDefaultDecorators(this)}g.prototype={constructor:g,logger:u["default"],log:u["default"].log,registerHelper:function e(t,n){if(i.toString.call(t)===m){if(n)throw new o["default"]("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else this.helpers[t]=n},unregisterHelper:function e(t){delete this.helpers[t]},registerPartial:function e(t,n){if(i.toString.call(t)===m)i.extend(this.partials,t);else{if("undefined"===typeof n)throw new o["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=n}},unregisterPartial:function e(t){delete this.partials[t]},registerDecorator:function e(t,n){if(i.toString.call(t)===m){if(n)throw new o["default"]("Arg not supported with multiple decorators");i.extend(this.decorators,t)}else this.decorators[t]=n},unregisterDecorator:function e(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function e(){d.resetLoggedProperties()}};var b=u["default"].log;t.log=b;t.createFrame=i.createFrame;t.logger=u["default"]},function(e,t){"use strict";t.__esModule=true;t.extend=o;t.indexOf=u;t.escapeExpression=d;t.isEmpty=f;t.createFrame=p;t.blockParams=h;t.appendContextPath=v;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var r=/[&<>"'`=]/g,i=/[&<>"'`=]/;function a(e){return n[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var s=Object.prototype.toString;t.toString=s;var l=function e(t){return"function"===typeof t};l(/x/)&&(t.isFunction=l=function(e){return"function"===typeof e&&"[object Function]"===s.call(e)});t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!==typeof e)&&"[object Array]"===s.call(e)};t.isArray=c;function u(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function d(e){if("string"!==typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!i.test(e))return e;return e.replace(r,a)}function f(e){return!e&&0!==e||!(!c(e)||0!==e.length)}function p(e){var t=o({},e);t._parent=e;return t}function h(e,t){e.path=t;return e}function v(e,t){return(e?e+".":"")+t}},function(e,t,n){"use strict";var r=n(7)["default"];t.__esModule=true;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function a(e,t){var n=t&&t.loc,o=void 0,s=void 0,l=void 0,c=void 0;if(n){o=n.start.line;s=n.end.line;l=n.start.column;c=n.end.column;e+=" - "+o+":"+l}var u=Error.prototype.constructor.call(this,e);for(var d=0;d<i.length;d++)this[i[d]]=u[i[d]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{if(n){this.lineNumber=o;this.endLineNumber=s;if(r){Object.defineProperty(this,"column",{value:l,enumerable:true});Object.defineProperty(this,"endColumn",{value:c,enumerable:true})}else{this.column=l;this.endColumn=c}}}catch(e){}}a.prototype=new Error;t["default"]=a;e.exports=t["default"]},function(e,t,n){e.exports={default:n(8),__esModule:true}},function(e,t,n){var r=n(9);e.exports=function e(t,n,i){return r.setDesc(t,n,i)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;t.registerDefaultHelpers=b;t.moveHelperToHooks=y;var i=n(11);var a=r(i);var o=n(12);var s=r(o);var l=n(25);var c=r(l);var u=n(26);var d=r(u);var f=n(27);var p=r(f);var h=n(28);var v=r(h);var m=n(29);var g=r(m);function b(e){a["default"](e);s["default"](e);c["default"](e);d["default"](e);p["default"](e);v["default"](e);g["default"](e)}function y(e,t,n){if(e.helpers[t]){e.hooks[t]=e.helpers[t];n||delete e.helpers[t]}}},function(e,t,n){"use strict";t.__esModule=true;var r=n(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var i=n.inverse,a=n.fn;if(true===t)return a(this);if(false===t||null==t)return i(this);if(r.isArray(t)){if(t.length>0){n.ids&&(n.ids=[n.name]);return e.helpers.each(t,n)}return i(this)}if(n.data&&n.ids){var o=r.createFrame(n.data);o.contextPath=r.appendContextPath(n.data.contextPath,n.name);n={data:o}}return a(t,n)}))};e.exports=t["default"]},function(e,t,n){(function(r){"use strict";var i=n(13)["default"];var a=n(1)["default"];t.__esModule=true;var o=n(5);var s=n(6);var l=a(s);t["default"]=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new l["default"]("Must pass iterator to #each");var n=t.fn,a=t.inverse,s=0,c="",u=void 0,d=void 0;t.data&&t.ids&&(d=o.appendContextPath(t.data.contextPath,t.ids[0])+".");o.isFunction(e)&&(e=e.call(this));t.data&&(u=o.createFrame(t.data));function f(t,r,i){if(u){u.key=t;u.index=r;u.first=0===r;u.last=!!i;d&&(u.contextPath=d+t)}c+=n(e[t],{data:u,blockParams:o.blockParams([e[t],t],[d+t,null])})}if(e&&"object"===typeof e)if(o.isArray(e))for(var p=e.length;s<p;s++)s in e&&f(s,s,s===e.length-1);else if(r.Symbol&&e[r.Symbol.iterator]){var h=[];var v=e[r.Symbol.iterator]();for(var m=v.next();!m.done;m=v.next())h.push(m.value);e=h;for(var p=e.length;s<p;s++)f(s,s,s===e.length-1)}else(function(){var t=void 0;i(e).forEach((function(e){void 0!==t&&f(t,s-1);t=e;s++}));void 0!==t&&f(t,s-1,true)})();0===s&&(c=a(this));return c}))};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t,n){e.exports={default:n(14),__esModule:true}},function(e,t,n){n(15);e.exports=n(21).Object.keys},function(e,t,n){var r=n(16);n(18)("keys",(function(e){return function t(n){return e(r(n))}}))},function(e,t,n){var r=n(17);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(19),i=n(21),a=n(24);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n);r(r.S+r.F*a((function(){n(1)})),"Object",o)}},function(e,t,n){var r=n(20),i=n(21),a=n(22),o="prototype";var s=function(e,t,n){var l=e&s.F,c=e&s.G,u=e&s.S,d=e&s.P,f=e&s.B,p=e&s.W,h=c?i:i[t]||(i[t]={}),v=c?r:u?r[t]:(r[t]||{})[o],m,g,b;c&&(n=t);for(m in n){g=!l&&v&&m in v;if(g&&m in h)continue;b=g?v[m]:n[m];h[m]=c&&"function"!=typeof v[m]?n[m]:f&&g?a(b,r):p&&v[m]==b?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};t[o]=e[o];return t}(b):d&&"function"==typeof b?a(Function.call,b):b;d&&((h[o]||(h[o]={}))[m]=b)}};s.F=1;s.G=2;s.S=4;s.P=8;s.B=16;s.W=32;e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(23);e.exports=function(e,t,n){r(e);if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;var i=n(6);var a=r(i);t["default"]=function(e){e.registerHelper("helperMissing",(function(){if(1===arguments.length)return;throw new a["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}))};e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;var i=n(5);var a=n(6);var o=r(a);t["default"]=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new o["default"]("#if requires exactly one argument");i.isFunction(e)&&(e=e.call(this));return!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}));e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new o["default"]("#unless requires exactly one argument");return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("log",(function(){var t=[void 0],n=arguments[arguments.length-1];for(var r=0;r<arguments.length-1;r++)t.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level);t[0]=i;e.log.apply(e,t)}))};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",(function(e,t,n){if(!e)return e;return n.lookupProperty(e,t)}))};e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;var i=n(5);var a=n(6);var o=r(a);t["default"]=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new o["default"]("#with requires exactly one argument");i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;if(t.data&&t.ids){r=i.createFrame(t.data);r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])}return n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})}))};e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;t.registerDefaultDecorators=o;var i=n(31);var a=r(i);function o(e){a["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var r=n(5);t["default"]=function(e){e.registerDecorator("inline",(function(e,t,n,i){var a=e;if(!t.partials){t.partials={};a=function(i,a){var o=n.partials;n.partials=r.extend({},o,t.partials);var s=e(i,a);n.partials=o;return s}}t.partials[i.args[0]]=i.fn;return a}))};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var r=n(5);var i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function e(t){if("string"===typeof t){var n=r.indexOf(i.methodMap,t.toLowerCase());t=n>=0?n:parseInt(t,10)}return t},log:function e(t){t=i.lookupLevel(t);if("undefined"!==typeof console&&i.lookupLevel(i.level)<=t){var n=i.methodMap[t];console[n]||(n="log");for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];console[n].apply(console,a)}}};t["default"]=i;e.exports=t["default"]},function(e,t,n){"use strict";var r=n(34)["default"];var i=n(13)["default"];var a=n(3)["default"];t.__esModule=true;t.createProtoAccessControl=u;t.resultIsAllowed=d;t.resetLoggedProperties=h;var o=n(36);var s=n(32);var l=a(s);var c=r(null);function u(e){var t=r(null);t["constructor"]=false;t["__defineGetter__"]=false;t["__defineSetter__"]=false;t["__lookupGetter__"]=false;var n=r(null);n["__proto__"]=false;return{properties:{whitelist:o.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:o.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function d(e,t,n){return f("function"===typeof e?t.methods:t.properties,n)}function f(e,t){if(void 0!==e.whitelist[t])return true===e.whitelist[t];if(void 0!==e.defaultValue)return e.defaultValue;p(t);return false}function p(e){if(true!==c[e]){c[e]=true;l.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')}}function h(){i(c).forEach((function(e){delete c[e]}))}},function(e,t,n){e.exports={default:n(35),__esModule:true}},function(e,t,n){var r=n(9);e.exports=function e(t,n){return r.create(t,n)}},function(e,t,n){"use strict";var r=n(34)["default"];t.__esModule=true;t.createNewLookupObject=a;var i=n(5);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.extend.apply(void 0,[r(null)].concat(t))}},function(e,t){"use strict";t.__esModule=true;function n(e){this.string=e}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var r=n(39)["default"];var i=n(13)["default"];var a=n(3)["default"];var o=n(1)["default"];t.__esModule=true;t.checkRevision=v;t.template=m;t.wrapProgram=g;t.resolvePartial=b;t.invokePartial=y;t.noop=w;var s=n(5);var l=a(s);var c=n(6);var u=o(c);var d=n(4);var f=n(10);var p=n(43);var h=n(33);function v(e){var t=e&&e[0]||1,n=d.COMPILER_REVISION;if(t>=d.LAST_COMPATIBLE_COMPILER_REVISION&&t<=d.COMPILER_REVISION)return;if(t<d.LAST_COMPATIBLE_COMPILER_REVISION){var r=d.REVISION_CHANGES[n],i=d.REVISION_CHANGES[t];throw new u["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new u["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}function m(e,t){if(!t)throw new u["default"]("No environment passed to template");if(!e||!e.main)throw new u["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0];function i(n,r,i){if(i.hash){r=l.extend({},r,i.hash);i.ids&&(i.ids[0]=true)}n=t.VM.resolvePartial.call(this,n,r,i);var a=l.extend({},i,{hooks:this.hooks,protoAccessControl:this.protoAccessControl});var o=t.VM.invokePartial.call(this,n,r,a);if(null==o&&t.compile){i.partials[i.name]=t.compile(n,e.compilerOptions,t);o=i.partials[i.name](r,a)}if(null!=o){if(i.indent){var s=o.split("\n");for(var c=0,d=s.length;c<d;c++){if(!s[c]&&c+1===d)break;s[c]=i.indent+s[c]}o=s.join("\n")}return o}throw new u["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}var a={strict:function e(t,n,r){if(!t||!(n in t))throw new u["default"]('"'+n+'" not defined in '+t,{loc:r});return t[n]},lookupProperty:function e(t,n){var r=t[n];if(null==r)return r;if(Object.prototype.hasOwnProperty.call(t,n))return r;if(h.resultIsAllowed(r,a.protoAccessControl,n))return r;return},lookup:function e(t,n){var r=t.length;for(var i=0;i<r;i++){var o=t[i]&&a.lookupProperty(t[i],n);if(null!=o)return t[i][n]}},lambda:function e(t,n){return"function"===typeof t?t.call(n):t},escapeExpression:l.escapeExpression,invokePartial:i,fn:function t(n){var r=e[n];r.decorator=e[n+"_d"];return r},programs:[],program:function e(t,n,r,i,a){var o=this.programs[t],s=this.fn(t);n||a||i||r?o=g(this,t,s,n,r,i,a):o||(o=this.programs[t]=g(this,t,s));return o},data:function e(t,n){while(t&&n--)t=t._parent;return t},mergeIfNeeded:function e(t,n){var r=t||n;t&&n&&t!==n&&(r=l.extend({},n,t));return r},nullContext:r({}),noop:t.VM.noop,compilerInfo:e.compiler};function o(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];var r=n.data;o._setup(n);!n.partial&&e.useData&&(r=S(t,r));var i=void 0,s=e.useBlockParams?[]:void 0;e.useDepths&&(i=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]);function l(t){return""+e.main(a,t,a.helpers,a.partials,r,s,i)}l=x(e.main,l,a,n.depths||[],r,s);return l(t,n)}o.isTop=true;o._setup=function(r){if(r.partial){a.protoAccessControl=r.protoAccessControl;a.helpers=r.helpers;a.partials=r.partials;a.decorators=r.decorators;a.hooks=r.hooks}else{var i=l.extend({},t.helpers,r.helpers);C(i,a);a.helpers=i;e.usePartial&&(a.partials=a.mergeIfNeeded(r.partials,t.partials));(e.usePartial||e.useDecorators)&&(a.decorators=l.extend({},t.decorators,r.decorators));a.hooks={};a.protoAccessControl=h.createProtoAccessControl(r);var o=r.allowCallsToHelperMissing||n;f.moveHelperToHooks(a,"helperMissing",o);f.moveHelperToHooks(a,"blockHelperMissing",o)}};o._child=function(t,n,r,i){if(e.useBlockParams&&!r)throw new u["default"]("must pass block params");if(e.useDepths&&!i)throw new u["default"]("must pass parent depths");return g(a,t,e[t],n,0,r,i)};return o}function g(e,t,n,r,i,a,o){function s(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];var s=o;!o||t==o[0]||t===e.nullContext&&null===o[0]||(s=[t].concat(o));return n(e,t,e.helpers,e.partials,i.data||r,a&&[i.blockParams].concat(a),s)}s=x(n,s,e,o,r,a);s.program=t;s.depth=o?o.length:0;s.blockParams=i||0;return s}function b(e,t,n){if(e){if(!e.call&&!n.name){n.name=e;e=n.partials[e]}}else e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e}function y(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=true;n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;n.fn&&n.fn!==w&&function(){n.data=d.createFrame(n.data);var e=n.fn;i=n.data["partial-block"]=function t(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i.data=d.createFrame(i.data);i.data["partial-block"]=r;return e(n,i)};e.partials&&(n.partials=l.extend({},n.partials,e.partials))}();void 0===e&&i&&(e=i);if(void 0===e)throw new u["default"]("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function w(){return""}function S(e,t){if(!t||!("root"in t)){t=t?d.createFrame(t):{};t.root=e}return t}function x(e,t,n,r,i,a){if(e.decorator){var o={};t=e.decorator(t,o,n,r&&r[0],i,a,r);l.extend(t,o)}return t}function C(e,t){i(e).forEach((function(n){var r=e[n];e[n]=q(r,t)}))}function q(e,t){var n=t.lookupProperty;return p.wrapHelper(e,(function(e){return l.extend({lookupProperty:n},e)}))}},function(e,t,n){e.exports={default:n(40),__esModule:true}},function(e,t,n){n(41);e.exports=n(21).Object.seal},function(e,t,n){var r=n(42);n(18)("seal",(function(e){return function t(n){return e&&r(n)?e(n):n}}))},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t){"use strict";t.__esModule=true;t.wrapHelper=n;function n(e,t){if("function"!==typeof e)return e;var n=function n(){var r=arguments[arguments.length-1];arguments[arguments.length-1]=t(r);return e.apply(this,arguments)};return n}},function(e,t){(function(n){"use strict";t.__esModule=true;t["default"]=function(e){var t="undefined"!==typeof n?n:window,r=t.Handlebars;e.noConflict=function(){t.Handlebars===e&&(t.Handlebars=r);return e}};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=true;var n={helpers:{helperExpression:function e(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function e(t){return/^\.|this\b/.test(t.original)},simpleId:function e(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];var i=n(3)["default"];t.__esModule=true;t.parseWithoutProcessing=p;t.parse=h;var a=n(47);var o=r(a);var s=n(48);var l=r(s);var c=n(50);var u=i(c);var d=n(5);t.parser=o["default"];var f={};d.extend(f,u);function p(e,t){if("Program"===e.type)return e;o["default"].yy=f;f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)};var n=o["default"].parse(e);return n}function h(e,t){var n=p(e,t);var r=new l["default"](t);return r.accept(n)}},function(e,t){"use strict";t.__esModule=true;var n=function(){var e={trace:function e(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function e(t,n,r,i,a,o,s){var l=o.length-1;switch(a){case 1:return o[l-1];case 2:this.$=i.prepareProgram(o[l]);break;case 3:this.$=o[l];break;case 4:this.$=o[l];break;case 5:this.$=o[l];break;case 6:this.$=o[l];break;case 7:this.$=o[l];break;case 8:this.$=o[l];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[l]),strip:i.stripFlags(o[l],o[l]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[l],value:o[l],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[l-2],o[l-1],o[l],this._$);break;case 12:this.$={path:o[l-3],params:o[l-2],hash:o[l-1]};break;case 13:this.$=i.prepareBlock(o[l-3],o[l-2],o[l-1],o[l],false,this._$);break;case 14:this.$=i.prepareBlock(o[l-3],o[l-2],o[l-1],o[l],true,this._$);break;case 15:this.$={open:o[l-5],path:o[l-4],params:o[l-3],hash:o[l-2],blockParams:o[l-1],strip:i.stripFlags(o[l-5],o[l])};break;case 16:this.$={path:o[l-4],params:o[l-3],hash:o[l-2],blockParams:o[l-1],strip:i.stripFlags(o[l-5],o[l])};break;case 17:this.$={path:o[l-4],params:o[l-3],hash:o[l-2],blockParams:o[l-1],strip:i.stripFlags(o[l-5],o[l])};break;case 18:this.$={strip:i.stripFlags(o[l-1],o[l-1]),program:o[l]};break;case 19:var c=i.prepareBlock(o[l-2],o[l-1],o[l],o[l],false,this._$),u=i.prepareProgram([c],o[l-1].loc);u.chained=true;this.$={strip:o[l-2].strip,program:u,chain:true};break;case 20:this.$=o[l];break;case 21:this.$={path:o[l-1],strip:i.stripFlags(o[l-2],o[l])};break;case 22:this.$=i.prepareMustache(o[l-3],o[l-2],o[l-1],o[l-4],i.stripFlags(o[l-4],o[l]),this._$);break;case 23:this.$=i.prepareMustache(o[l-3],o[l-2],o[l-1],o[l-4],i.stripFlags(o[l-4],o[l]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[l-3],params:o[l-2],hash:o[l-1],indent:"",strip:i.stripFlags(o[l-4],o[l]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[l-2],o[l-1],o[l],this._$);break;case 26:this.$={path:o[l-3],params:o[l-2],hash:o[l-1],strip:i.stripFlags(o[l-4],o[l])};break;case 27:this.$=o[l];break;case 28:this.$=o[l];break;case 29:this.$={type:"SubExpression",path:o[l-3],params:o[l-2],hash:o[l-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[l],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[l-2]),value:o[l],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[l-1]);break;case 33:this.$=o[l];break;case 34:this.$=o[l];break;case 35:this.$={type:"StringLiteral",value:o[l],original:o[l],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[l]),original:Number(o[l]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[l],original:"true"===o[l],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:this.$=o[l];break;case 41:this.$=o[l];break;case 42:this.$=i.preparePath(true,o[l],this._$);break;case 43:this.$=i.preparePath(false,o[l],this._$);break;case 44:o[l-2].push({part:i.id(o[l]),original:o[l],separator:o[l-1]});this.$=o[l-2];break;case 45:this.$=[{part:i.id(o[l]),original:o[l]}];break;case 46:this.$=[];break;case 47:o[l-1].push(o[l]);break;case 48:this.$=[];break;case 49:o[l-1].push(o[l]);break;case 50:this.$=[];break;case 51:o[l-1].push(o[l]);break;case 58:this.$=[];break;case 59:o[l-1].push(o[l]);break;case 64:this.$=[];break;case 65:o[l-1].push(o[l]);break;case 70:this.$=[];break;case 71:o[l-1].push(o[l]);break;case 78:this.$=[];break;case 79:o[l-1].push(o[l]);break;case 82:this.$=[];break;case 83:o[l-1].push(o[l]);break;case 86:this.$=[];break;case 87:o[l-1].push(o[l]);break;case 90:this.$=[];break;case 91:o[l-1].push(o[l]);break;case 94:this.$=[];break;case 95:o[l-1].push(o[l]);break;case 98:this.$=[o[l]];break;case 99:o[l-1].push(o[l]);break;case 100:this.$=[o[l]];break;case 101:o[l-1].push(o[l]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function e(t,n){throw new Error(t)},parse:function e(t){var n=this,r=[0],i=[null],a=[],o=this.table,s="",l=0,c=0,u=0,d=2,f=1;this.lexer.setInput(t);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;a.push(p);var h=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);function v(e){r.length=r.length-2*e;i.length=i.length-e;a.length=a.length-e}function m(){var e;e=n.lexer.lex()||1;"number"!==typeof e&&(e=n.symbols_[e]||e);return e}var g,b,y,w,S,x,C={},q,E,I,k;while(true){y=r[r.length-1];if(this.defaultActions[y])w=this.defaultActions[y];else{null!==g&&"undefined"!=typeof g||(g=m());w=o[y]&&o[y][g]}if("undefined"===typeof w||!w.length||!w[0]){var A="";if(!u){k=[];for(q in o[y])this.terminals_[q]&&q>2&&k.push("'"+this.terminals_[q]+"'");A=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'");this.parseError(A,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:k})}}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(w[0]){case 1:r.push(g);i.push(this.lexer.yytext);a.push(this.lexer.yylloc);r.push(w[1]);g=null;if(b){g=b;b=null}else{c=this.lexer.yyleng;s=this.lexer.yytext;l=this.lexer.yylineno;p=this.lexer.yylloc;u>0&&u--}break;case 2:E=this.productions_[w[1]][1];C.$=i[i.length-E];C._$={first_line:a[a.length-(E||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(E||1)].first_column,last_column:a[a.length-1].last_column};h&&(C._$.range=[a[a.length-(E||1)].range[0],a[a.length-1].range[1]]);x=this.performAction.call(C,s,c,l,this.yy,w[1],i,a);if("undefined"!==typeof x)return x;if(E){r=r.slice(0,-1*E*2);i=i.slice(0,-1*E);a=a.slice(0,-1*E)}r.push(this.productions_[w[1]][0]);i.push(C.$);a.push(C._$);I=o[r[r.length-2]][r[r.length-1]];r.push(I);break;case 3:return true}}return true}};var t=function(){var e={EOF:1,parseError:function e(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},setInput:function e(t){this._input=t;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function e(){var t=this._input[0];this.yytext+=t;this.yyleng++;this.offset++;this.match+=t;this.matched+=t;var n=t.match(/(?:\r\n?|\n).*/g);if(n){this.yylineno++;this.yylloc.last_line++}else this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return t},unput:function e(t){var n=t.length;var r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-n-1);this.offset-=n;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);r.length-1&&(this.yylineno-=r.length-1);var a=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===i.length?this.yylloc.first_column:0)+i[i.length-r.length].length-r[0].length:this.yylloc.first_column-n};this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-n]);return this},more:function e(){this._more=true;return this},less:function e(t){this.unput(this.match.slice(t))},pastInput:function e(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function e(){var t=this.match;t.length<20&&(t+=this._input.substr(0,20-t.length));return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function e(){var t=this.pastInput();var n=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+n+"^"},next:function e(){if(this.done)return this.EOF;this._input||(this.done=true);var t,n,r,i,a,o;if(!this._more){this.yytext="";this.match=""}var s=this._currentRules();for(var l=0;l<s.length;l++){r=this._input.match(this.rules[s[l]]);if(r&&(!n||r[0].length>n[0].length)){n=r;i=l;if(!this.options.flex)break}}if(n){o=n[0].match(/(?:\r\n?|\n).*/g);o&&(this.yylineno+=o.length);this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length};this.yytext+=n[0];this.match+=n[0];this.matches=n;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=false;this._input=this._input.slice(n[0].length);this.matched+=n[0];t=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=false);return t||void 0}return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function e(){var t=this.next();return"undefined"!==typeof t?t:this.lex()},begin:function e(t){this.conditionStack.push(t)},popState:function e(){return this.conditionStack.pop()},_currentRules:function e(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function e(){return this.conditionStack[this.conditionStack.length-2]},pushState:function e(t){this.begin(t)}};e.options={};e.performAction=function e(t,n,r,i){function a(e,t){return n.yytext=n.yytext.substring(e,n.yyleng-t+e)}var o=i;switch(r){case 0:if("\\\\"===n.yytext.slice(-2)){a(0,1);this.begin("mu")}else if("\\"===n.yytext.slice(-1)){a(0,1);this.begin("emu")}else this.begin("mu");if(n.yytext)return 15;break;case 1:return 15;case 2:this.popState();return 15;case 3:this.begin("raw");return 15;case 4:this.popState();if("raw"===this.conditionStack[this.conditionStack.length-1])return 15;a(5,9);return"END_RAW_BLOCK";case 5:return 15;case 6:this.popState();return 14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:this.popState();this.begin("raw");return 23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:this.popState();return 44;case 16:this.popState();return 44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(n.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:this.popState();return 54;case 30:this.popState();return 33;case 31:n.yytext=a(1,2).replace(/\\"/g,'"');return 80;case 32:n.yytext=a(1,2).replace(/\\'/g,"'");return 80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1");return 72;case 43:return"INVALID";case 44:return 5}};e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return e}();e.lexer=t;function n(){this.yy={}}n.prototype=e;e.Parser=n;return new n}();t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;var i=n(49);var a=r(i);function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}o.prototype=new a["default"];o.prototype.Program=function(e){var t=!this.options.ignoreStandalone;var n=!this.isRootSeen;this.isRootSeen=true;var r=e.body;for(var i=0,a=r.length;i<a;i++){var o=r[i],d=this.accept(o);if(!d)continue;var f=s(r,i,n),p=l(r,i,n),h=d.openStandalone&&f,v=d.closeStandalone&&p,m=d.inlineStandalone&&f&&p;d.close&&c(r,i,true);d.open&&u(r,i,true);if(t&&m){c(r,i);u(r,i)&&"PartialStatement"===o.type&&(o.indent=/([ \t]+$)/.exec(r[i-1].original)[1])}if(t&&h){c((o.program||o.inverse).body);u(r,i)}if(t&&v){c(r,i);u((o.inverse||o.program).body)}}return e};o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(e){this.accept(e.program);this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,i=n;if(n&&n.chained){r=n.body[0].program;while(i.chained)i=i.body[i.body.length-1].program}var a={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:l(t.body),closeStandalone:s((r||t).body)};e.openStrip.close&&c(t.body,null,true);if(n){var o=e.inverseStrip;o.open&&u(t.body,null,true);o.close&&c(r.body,null,true);e.closeStrip.open&&u(i.body,null,true);if(!this.options.ignoreStandalone&&s(t.body)&&l(r.body)){u(t.body);c(r.body)}}else e.closeStrip.open&&u(t.body,null,true);return a};o.prototype.Decorator=o.prototype.MustacheStatement=function(e){return e.strip};o.prototype.PartialStatement=o.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:true,open:t.open,close:t.close}};function s(e,t,n){void 0===t&&(t=e.length);var r=e[t-1],i=e[t-2];if(!r)return n;if("ContentStatement"===r.type)return(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original)}function l(e,t,n){void 0===t&&(t=-1);var r=e[t+1],i=e[t+2];if(!r)return n;if("ContentStatement"===r.type)return(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original)}function c(e,t,n){var r=e[null==t?0:t+1];if(!r||"ContentStatement"!==r.type||!n&&r.rightStripped)return;var i=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,"");r.rightStripped=r.value!==i}function u(e,t,n){var r=e[null==t?e.length-1:t-1];if(!r||"ContentStatement"!==r.type||!n&&r.leftStripped)return;var i=r.value;r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,"");r.leftStripped=r.value!==i;return r.leftStripped}t["default"]=o;e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;var i=n(6);var a=r(i);function o(){this.parents=[]}o.prototype={constructor:o,mutating:false,acceptKey:function e(t,n){var r=this.accept(t[n]);if(this.mutating){if(r&&!o.prototype[r.type])throw new a["default"]('Unexpected node type "'+r.type+'" found when accepting '+n+" on "+t.type);t[n]=r}},acceptRequired:function e(t,n){this.acceptKey(t,n);if(!t[n])throw new a["default"](t.type+" requires "+n)},acceptArray:function e(t){for(var n=0,r=t.length;n<r;n++){this.acceptKey(t,n);if(!t[n]){t.splice(n,1);n--;r--}}},accept:function e(t){if(!t)return;if(!this[t.type])throw new a["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current);this.current=t;var n=this[t.type](t);this.current=this.parents.shift();if(!this.mutating||n)return n;if(false!==n)return t},Program:function e(t){this.acceptArray(t.body)},MustacheStatement:s,Decorator:s,BlockStatement:l,DecoratorBlock:l,PartialStatement:c,PartialBlockStatement:function e(t){c.call(this,t);this.acceptKey(t,"program")},ContentStatement:function e(){},CommentStatement:function e(){},SubExpression:s,PathExpression:function e(){},StringLiteral:function e(){},NumberLiteral:function e(){},BooleanLiteral:function e(){},UndefinedLiteral:function e(){},NullLiteral:function e(){},Hash:function e(t){this.acceptArray(t.pairs)},HashPair:function e(t){this.acceptRequired(t,"value")}};function s(e){this.acceptRequired(e,"path");this.acceptArray(e.params);this.acceptKey(e,"hash")}function l(e){s.call(this,e);this.acceptKey(e,"program");this.acceptKey(e,"inverse")}function c(e){this.acceptRequired(e,"name");this.acceptArray(e.params);this.acceptKey(e,"hash")}t["default"]=o;e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=true;t.SourceLocation=s;t.id=l;t.stripFlags=c;t.stripComment=u;t.preparePath=d;t.prepareMustache=f;t.prepareRawBlock=p;t.prepareBlock=h;t.prepareProgram=v;t.preparePartialBlock=m;var i=n(6);var a=r(i);function o(e,t){t=t.path?t.path.original:t;if(e.path.original!==t){var n={loc:e.path.loc};throw new a["default"](e.path.original+" doesn't match "+t,n)}}function s(e,t){this.source=e;this.start={line:t.first_line,column:t.first_column};this.end={line:t.last_line,column:t.last_column}}function l(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e}function c(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function u(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function d(e,t,n){n=this.locInfo(n);var r=e?"@":"",i=[],o=0;for(var s=0,l=t.length;s<l;s++){var c=t[s].part,u=t[s].original!==c;r+=(t[s].separator||"")+c;if(u||".."!==c&&"."!==c&&"this"!==c)i.push(c);else{if(i.length>0)throw new a["default"]("Invalid path: "+r,{loc:n});".."===c&&o++}}return{type:"PathExpression",data:e,depth:o,parts:i,original:r,loc:n}}function f(e,t,n,r,i,a){var o=r.charAt(3)||r.charAt(2),s="{"!==o&&"&"!==o;var l=/\*/.test(r);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:i,loc:this.locInfo(a)}}function p(e,t,n,r){o(e,n);r=this.locInfo(r);var i={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}}function h(e,t,n,r,i,s){r&&r.path&&o(e,r);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new a["default"]("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip);u=n.strip;c=n.program}if(i){i=c;c=t;t=i}return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:c,openStrip:e.strip,inverseStrip:u,closeStrip:r&&r.strip,loc:this.locInfo(s)}}function v(e,t){if(!t&&e.length){var n=e[0].loc,r=e[e.length-1].loc;n&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function m(e,t,n,r){o(e,n);return{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}}},function(e,t,n){"use strict";var r=n(34)["default"];var i=n(1)["default"];t.__esModule=true;t.Compiler=d;t.precompile=f;t.compile=p;var a=n(6);var o=i(a);var s=n(5);var l=n(45);var c=i(l);var u=[].slice;function d(){}d.prototype={compiler:d,equals:function e(t){var n=this.opcodes.length;if(t.opcodes.length!==n)return false;for(var r=0;r<n;r++){var i=this.opcodes[r],a=t.opcodes[r];if(i.opcode!==a.opcode||!h(i.args,a.args))return false}n=this.children.length;for(var r=0;r<n;r++)if(!this.children[r].equals(t.children[r]))return false;return true},guid:0,compile:function e(t,n){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=n;this.stringParams=n.stringParams;this.trackIds=n.trackIds;n.blockParams=n.blockParams||[];n.knownHelpers=s.extend(r(null),{helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true,lookup:true},n.knownHelpers);return this.accept(t)},compileProgram:function e(t){var n=new this.compiler,r=n.compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||r.usePartial;this.children[i]=r;this.useDepths=this.useDepths||r.useDepths;return i},accept:function e(t){if(!this[t.type])throw new o["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var n=this[t.type](t);this.sourceNode.shift();return n},Program:function e(t){this.options.blockParams.unshift(t.blockParams);var n=t.body,r=n.length;for(var i=0;i<r;i++)this.accept(n[i]);this.options.blockParams.shift();this.isSimple=1===r;this.blockParams=t.blockParams?t.blockParams.length:0;return this},BlockStatement:function e(t){v(t);var n=t.program,r=t.inverse;n=n&&this.compileProgram(n);r=r&&this.compileProgram(r);var i=this.classifySexpr(t);if("helper"===i)this.helperSexpr(t,n,r);else if("simple"===i){this.simpleSexpr(t);this.opcode("pushProgram",n);this.opcode("pushProgram",r);this.opcode("emptyHash");this.opcode("blockValue",t.path.original)}else{this.ambiguousSexpr(t,n,r);this.opcode("pushProgram",n);this.opcode("pushProgram",r);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function e(t){var n=t.program&&this.compileProgram(t.program);var r=this.setupFullMustacheParams(t,n,void 0),i=t.path;this.useDecorators=true;this.opcode("registerDecorator",r.length,i.original)},PartialStatement:function e(t){this.usePartial=true;var n=t.program;n&&(n=this.compileProgram(t.program));var r=t.params;if(r.length>1)throw new o["default"]("Unsupported number of partial arguments: "+r.length,t);r.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):r.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,a="SubExpression"===t.name.type;a&&this.accept(t.name);this.setupFullMustacheParams(t,n,void 0,true);var s=t.indent||"";if(this.options.preventIndent&&s){this.opcode("appendContent",s);s=""}this.opcode("invokePartial",a,i,s);this.opcode("append")},PartialBlockStatement:function e(t){this.PartialStatement(t)},MustacheStatement:function e(t){this.SubExpression(t);t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function e(t){this.DecoratorBlock(t)},ContentStatement:function e(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function e(){},SubExpression:function e(t){v(t);var n=this.classifySexpr(t);"simple"===n?this.simpleSexpr(t):"helper"===n?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function e(t,n,r){var i=t.path,a=i.parts[0],o=null!=n||null!=r;this.opcode("getContext",i.depth);this.opcode("pushProgram",n);this.opcode("pushProgram",r);i.strict=true;this.accept(i);this.opcode("invokeAmbiguous",a,o)},simpleSexpr:function e(t){var n=t.path;n.strict=true;this.accept(n);this.opcode("resolvePossibleLambda")},helperSexpr:function e(t,n,r){var i=this.setupFullMustacheParams(t,n,r),a=t.path,s=a.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new o["default"]("You specified knownHelpersOnly, but used the unknown helper "+s,t);a.strict=true;a.falsy=true;this.accept(a);this.opcode("invokeHelper",i.length,a.original,c["default"].helpers.simpleId(a))}},PathExpression:function e(t){this.addDepth(t.depth);this.opcode("getContext",t.depth);var n=t.parts[0],r=c["default"].helpers.scopedId(t),i=!t.depth&&!r&&this.blockParamIndex(n);if(i)this.opcode("lookupBlockParam",i,t.parts);else if(n)if(t.data){this.options.data=true;this.opcode("lookupData",t.depth,t.parts,t.strict)}else this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,r);else this.opcode("pushContext")},StringLiteral:function e(t){this.opcode("pushString",t.value)},NumberLiteral:function e(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function e(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function e(){this.opcode("pushLiteral","undefined")},NullLiteral:function e(){this.opcode("pushLiteral","null")},Hash:function e(t){var n=t.pairs,r=0,i=n.length;this.opcode("pushHash");for(;r<i;r++)this.pushParam(n[r].value);while(r--)this.opcode("assignToHash",n[r].key);this.opcode("popHash")},opcode:function e(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function e(t){if(!t)return;this.useDepths=true},classifySexpr:function e(t){var n=c["default"].helpers.simpleId(t.path);var r=n&&!!this.blockParamIndex(t.path.parts[0]);var i=!r&&c["default"].helpers.helperExpression(t);var a=!r&&(i||n);if(a&&!i){var o=t.path.parts[0],s=this.options;s.knownHelpers[o]?i=true:s.knownHelpersOnly&&(a=false)}return i?"helper":a?"ambiguous":"simple"},pushParams:function e(t){for(var n=0,r=t.length;n<r;n++)this.pushParam(t[n])},pushParam:function e(t){var n=null!=t.value?t.value:t.original||"";if(this.stringParams){n.replace&&(n=n.replace(/^(\.?\.\/)*/g,"").replace(/\//g,"."));t.depth&&this.addDepth(t.depth);this.opcode("getContext",t.depth||0);this.opcode("pushStringParam",n,t.type);"SubExpression"===t.type&&this.accept(t)}else{if(this.trackIds){var r=void 0;!t.parts||c["default"].helpers.scopedId(t)||t.depth||(r=this.blockParamIndex(t.parts[0]));if(r){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",r,i)}else{n=t.original||n;n.replace&&(n=n.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,""));this.opcode("pushId",t.type,n)}}this.accept(t)}},setupFullMustacheParams:function e(t,n,r,i){var a=t.params;this.pushParams(a);this.opcode("pushProgram",n);this.opcode("pushProgram",r);t.hash?this.accept(t.hash):this.opcode("emptyHash",i);return a},blockParamIndex:function e(t){for(var n=0,r=this.options.blockParams.length;n<r;n++){var i=this.options.blockParams[n],a=i&&s.indexOf(i,t);if(i&&a>=0)return[n,a]}}};function f(e,t,n){if(null==e||"string"!==typeof e&&"Program"!==e.type)throw new o["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{};"data"in t||(t.data=true);t.compat&&(t.useDepths=true);var r=n.parse(e,t),i=(new n.Compiler).compile(r,t);return(new n.JavaScriptCompiler).compile(i,t)}function p(e,t,n){void 0===t&&(t={});if(null==e||"string"!==typeof e&&"Program"!==e.type)throw new o["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=s.extend({},t);"data"in t||(t.data=true);t.compat&&(t.useDepths=true);var r=void 0;function i(){var r=n.parse(e,t),i=(new n.Compiler).compile(r,t),a=(new n.JavaScriptCompiler).compile(i,t,void 0,true);return n.template(a)}function a(e,t){r||(r=i());return r.call(this,e,t)}a._setup=function(e){r||(r=i());return r._setup(e)};a._child=function(e,t,n,a){r||(r=i());return r._child(e,t,n,a)};return a}function h(e,t){if(e===t)return true;if(s.isArray(e)&&s.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!h(e[n],t[n]))return false;return true}}function v(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:false,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}},function(e,t,n){"use strict";var r=n(13)["default"];var i=n(1)["default"];t.__esModule=true;var a=n(4);var o=n(6);var s=i(o);var l=n(5);var c=n(53);var u=i(c);function d(e){this.value=e}function f(){}f.prototype={nameLookup:function e(t,n){return this.internalNameLookup(t,n)},depthedLookup:function e(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function e(){var t=a.COMPILER_REVISION,n=a.REVISION_CHANGES[t];return[t,n]},appendToBuffer:function e(t,n,r){l.isArray(t)||(t=[t]);t=this.source.wrap(t,n);if(this.environment.isSimple)return["return ",t,";"];if(r)return["buffer += ",t,";"];t.appendToBuffer=true;return t},initializeBuffer:function e(){return this.quotedString("")},internalNameLookup:function e(t,n){this.lookupPropertyFunctionIsUsed=true;return["lookupProperty(",t,",",JSON.stringify(n),")"]},lookupPropertyFunctionIsUsed:false,compile:function e(t,n,r,i){this.environment=t;this.options=n;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!i;this.name=this.environment.name;this.isChild=!!r;this.context=r||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(t,n);this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||t.useBlockParams;var a=t.opcodes,o=void 0,l=void 0,c=void 0,u=void 0;for(c=0,u=a.length;c<u;c++){o=a[c];this.source.currentLocation=o.loc;l=l||o.loc;this[o.opcode].apply(this,o.args)}this.source.currentLocation=l;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s["default"]("Compile completed with content left on stack");if(this.decorators.isEmpty())this.decorators=void 0;else{this.useDecorators=true;this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]);this.decorators.push("return fn;");if(i)this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]);else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}var d=this.createFunctionContext(i);if(this.isChild)return d;var f={compiler:this.compilerInfo(),main:d};if(this.decorators){f.main_d=this.decorators;f.useDecorators=true}var p=this.context;var h=p.programs;var v=p.decorators;for(c=0,u=h.length;c<u;c++)if(h[c]){f[c]=h[c];if(v[c]){f[c+"_d"]=v[c];f.useDecorators=true}}this.environment.usePartial&&(f.usePartial=true);this.options.data&&(f.useData=true);this.useDepths&&(f.useDepths=true);this.useBlockParams&&(f.useBlockParams=true);this.options.compat&&(f.compat=true);if(i)f.compilerOptions=this.options;else{f.compiler=JSON.stringify(f.compiler);this.source.currentLocation={start:{line:1,column:0}};f=this.objectLiteral(f);if(n.srcName){f=f.toStringWithSourceMap({file:n.destName});f.map=f.map&&f.map.toString()}else f=f.toString()}return f},preamble:function e(){this.lastContext=0;this.source=new u["default"](this.options.srcName);this.decorators=new u["default"](this.options.srcName)},createFunctionContext:function e(t){var n=this;var i="";var a=this.stackVars.concat(this.registers.list);a.length>0&&(i+=", "+a.join(", "));var o=0;r(this.aliases).forEach((function(e){var t=n.aliases[e];if(t.children&&t.referenceCount>1){i+=", alias"+ ++o+"="+e;t.children[0]="alias"+o}}));this.lookupPropertyFunctionIsUsed&&(i+=", "+this.lookupPropertyFunctionVarDeclaration());var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams");this.useDepths&&s.push("depths");var l=this.mergeSource(i);if(t){s.push(l);return Function.apply(this,s)}return this.source.wrap(["function(",s.join(","),") {\n  ",l,"}"])},mergeSource:function e(t){var n=this.environment.isSimple,r=!this.forceBuffer,i=void 0,a=void 0,o=void 0,s=void 0;this.source.each((function(e){if(e.appendToBuffer){o?e.prepend("  + "):o=e;s=e}else{if(o){a?o.prepend("buffer += "):i=true;s.add(";");o=s=void 0}a=true;n||(r=false)}}));if(r)if(o){o.prepend("return ");s.add(";")}else a||this.source.push('return "";');else{t+=", buffer = "+(i?"":this.initializeBuffer());if(o){o.prepend("return buffer + ");s.add(";")}else this.source.push("return buffer;")}t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n"));return this.source.merge()},lookupPropertyFunctionVarDeclaration:function e(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function e(t){var n=this.aliasable("container.hooks.blockHelperMissing"),r=[this.contextName(0)];this.setupHelperArgs(t,0,r);var i=this.popStack();r.splice(1,0,i);this.push(this.source.functionCall(n,"call",r))},ambiguousBlockValue:function e(){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs("",0,n,true);this.flushInline();var r=this.topStack();n.splice(1,0,r);this.pushSource(["if (!",this.lastHelper,") { ",r," = ",this.source.functionCall(t,"call",n),"}"])},appendContent:function e(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation;this.pendingContent=t},append:function e(){if(this.isInline()){this.replaceStack((function(e){return[" != null ? ",e,' : ""']}));this.pushSource(this.appendToBuffer(this.popStack()))}else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,true)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,true)," }"])}},appendEscaped:function e(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function e(t){this.lastContext=t},pushContext:function e(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function e(t,n,r,i){var a=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[a++]));this.resolvePath("context",t,a,n,r)},lookupBlockParam:function e(t,n){this.useBlockParams=true;this.push(["blockParams[",t[0],"][",t[1],"]"]);this.resolvePath("context",n,1)},lookupData:function e(t,n,r){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data");this.resolvePath("data",n,0,true,r)},resolvePath:function e(t,n,r,i,a){var o=this;if(this.options.strict||this.options.assumeObjects){this.push(p(this.options.strict&&a,this,n,t));return}var s=n.length;for(;r<s;r++)this.replaceStack((function(e){var a=o.nameLookup(e,n[r],t);return i?[" && ",a]:[" != null ? ",a," : ",e]}))},resolvePossibleLambda:function e(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function e(t,n){this.pushContext();this.pushString(n);"SubExpression"!==n&&("string"===typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function e(t){this.trackIds&&this.push("{}");if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(t?"undefined":"{}")},pushHash:function e(){this.hash&&this.hashes.push(this.hash);this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function e(){var t=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(t.ids));if(this.stringParams){this.push(this.objectLiteral(t.contexts));this.push(this.objectLiteral(t.types))}this.push(this.objectLiteral(t.values))},pushString:function e(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function e(t){this.pushStackLiteral(t)},pushProgram:function e(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function e(t,n){var r=this.nameLookup("decorators",n,"decorator"),i=this.setupHelperArgs(n,t);this.decorators.push(["fn = ",this.decorators.functionCall(r,"",["fn","props","container",i])," || fn;"])},invokeHelper:function e(t,n,r){var i=this.popStack(),a=this.setupHelper(t,n);var o=[];r&&o.push(a.name);o.push(i);this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var s=["(",this.itemsSeparatedBy(o,"||"),")"];var l=this.source.functionCall(s,"call",a.callParams);this.push(l)},itemsSeparatedBy:function e(t,n){var r=[];r.push(t[0]);for(var i=1;i<t.length;i++)r.push(n,t[i]);return r},invokeKnownHelper:function e(t,n){var r=this.setupHelper(t,n);this.push(this.source.functionCall(r.name,"call",r.callParams))},invokeAmbiguous:function e(t,n){this.useRegister("helper");var r=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,n);var a=this.lastHelper=this.nameLookup("helpers",t,"helper");var o=["(","(helper = ",a," || ",r,")"];if(!this.options.strict){o[0]="(helper = ";o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))}this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function e(t,n,r){var i=[],a=this.setupParams(n,1,i);if(t){n=this.popStack();delete a.name}r&&(a.indent=JSON.stringify(r));a.helpers="helpers";a.partials="partials";a.decorators="container.decorators";t?i.unshift(n):i.unshift(this.nameLookup("partials",n,"partial"));this.options.compat&&(a.depths="depths");a=this.objectLiteral(a);i.push(a);this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function e(t){var n=this.popStack(),r=void 0,i=void 0,a=void 0;this.trackIds&&(a=this.popStack());if(this.stringParams){i=this.popStack();r=this.popStack()}var o=this.hash;r&&(o.contexts[t]=r);i&&(o.types[t]=i);a&&(o.ids[t]=a);o.values[t]=n},pushId:function e(t,n,r){"BlockParam"===t?this.pushStackLiteral("blockParams["+n[0]+"].path["+n[1]+"]"+(r?" + "+JSON.stringify("."+r):"")):"PathExpression"===t?this.pushString(n):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:f,compileChildren:function e(t,n){var r=t.children,i=void 0,a=void 0;for(var o=0,s=r.length;o<s;o++){i=r[o];a=new this.compiler;var l=this.matchExistingProgram(i);if(null==l){this.context.programs.push("");var c=this.context.programs.length;i.index=c;i.name="program"+c;this.context.programs[c]=a.compile(i,n,this.context,!this.precompile);this.context.decorators[c]=a.decorators;this.context.environments[c]=i;this.useDepths=this.useDepths||a.useDepths;this.useBlockParams=this.useBlockParams||a.useBlockParams;i.useDepths=this.useDepths;i.useBlockParams=this.useBlockParams}else{i.index=l.index;i.name="program"+l.index;this.useDepths=this.useDepths||l.useDepths;this.useBlockParams=this.useBlockParams||l.useBlockParams}}},matchExistingProgram:function e(t){for(var n=0,r=this.context.environments.length;n<r;n++){var i=this.context.environments[n];if(i&&i.equals(t))return i}},programExpression:function e(t){var n=this.environment.children[t],r=[n.index,"data",n.blockParams];(this.useBlockParams||this.useDepths)&&r.push("blockParams");this.useDepths&&r.push("depths");return"container.program("+r.join(", ")+")"},useRegister:function e(t){if(!this.registers[t]){this.registers[t]=true;this.registers.list.push(t)}},push:function e(t){t instanceof d||(t=this.source.wrap(t));this.inlineStack.push(t);return t},pushStackLiteral:function e(t){this.push(new d(t))},pushSource:function e(t){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=void 0}t&&this.source.push(t)},replaceStack:function e(t){var n=["("],r=void 0,i=void 0,a=void 0;if(!this.isInline())throw new s["default"]("replaceStack on non-inline");var o=this.popStack(true);if(o instanceof d){r=[o.value];n=["(",r];a=true}else{i=true;var l=this.incrStack();n=["((",this.push(l)," = ",o,")"];r=this.topStack()}var c=t.call(this,r);a||this.popStack();i&&this.stackSlot--;this.push(n.concat(c,")"))},incrStack:function e(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function e(){return"stack"+this.stackSlot},flushInline:function e(){var t=this.inlineStack;this.inlineStack=[];for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i instanceof d)this.compileStack.push(i);else{var a=this.incrStack();this.pushSource([a," = ",i,";"]);this.compileStack.push(a)}}},isInline:function e(){return this.inlineStack.length},popStack:function e(t){var n=this.isInline(),r=(n?this.inlineStack:this.compileStack).pop();if(!t&&r instanceof d)return r.value;if(!n){if(!this.stackSlot)throw new s["default"]("Invalid stack pop");this.stackSlot--}return r},topStack:function e(){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return n instanceof d?n.value:n},contextName:function e(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function e(t){return this.source.quotedString(t)},objectLiteral:function e(t){return this.source.objectLiteral(t)},aliasable:function e(t){var n=this.aliases[t];if(n){n.referenceCount++;return n}n=this.aliases[t]=this.source.wrap(t);n.aliasable=true;n.referenceCount=1;return n},setupHelper:function e(t,n,r){var i=[],a=this.setupHelperArgs(n,t,i,r);var o=this.nameLookup("helpers",n,"helper"),s=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:i,paramsInit:a,name:o,callParams:[s].concat(i)}},setupParams:function e(t,n,r){var i={},a=[],o=[],s=[],l=!r,c=void 0;l&&(r=[]);i.name=this.quotedString(t);i.hash=this.popStack();this.trackIds&&(i.hashIds=this.popStack());if(this.stringParams){i.hashTypes=this.popStack();i.hashContexts=this.popStack()}var u=this.popStack(),d=this.popStack();if(d||u){i.fn=d||"container.noop";i.inverse=u||"container.noop"}var f=n;while(f--){c=this.popStack();r[f]=c;this.trackIds&&(s[f]=this.popStack());if(this.stringParams){o[f]=this.popStack();a[f]=this.popStack()}}l&&(i.args=this.source.generateArray(r));this.trackIds&&(i.ids=this.source.generateArray(s));if(this.stringParams){i.types=this.source.generateArray(o);i.contexts=this.source.generateArray(a)}this.options.data&&(i.data="data");this.useBlockParams&&(i.blockParams="blockParams");return i},setupHelperArgs:function e(t,n,r,i){var a=this.setupParams(t,n,r);a.loc=JSON.stringify(this.source.currentLocation);a=this.objectLiteral(a);if(i){this.useRegister("options");r.push("options");return["options=",a]}if(r){r.push(a);return""}return a}};(function(){var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" ");var t=f.RESERVED_WORDS={};for(var n=0,r=e.length;n<r;n++)t[e[n]]=true})();f.isValidJavaScriptVariableName=function(e){return!f.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};function p(e,t,n,r){var i=t.popStack(),a=0,o=n.length;e&&o--;for(;a<o;a++)i=t.nameLookup(i,n[a],r);return e?[t.aliasable("container.strict"),"(",i,", ",t.quotedString(n[a]),", ",JSON.stringify(t.source.currentLocation)," )"]:i}t["default"]=f;e.exports=t["default"]},function(e,t,n){"use strict";var r=n(13)["default"];t.__esModule=true;var i=n(5);var a=void 0;try{var o;false}catch(e){}if(!a){a=function(e,t,n,r){this.src="";r&&this.add(r)};a.prototype={add:function e(t){i.isArray(t)&&(t=t.join(""));this.src+=t},prepend:function e(t){i.isArray(t)&&(t=t.join(""));this.src=t+this.src},toStringWithSourceMap:function e(){return{code:this.toString()}},toString:function e(){return this.src}}}function s(e,t,n){if(i.isArray(e)){var r=[];for(var a=0,o=e.length;a<o;a++)r.push(t.wrap(e[a],n));return r}if("boolean"===typeof e||"number"===typeof e)return e+"";return e}function l(e){this.srcFile=e;this.source=[]}l.prototype={isEmpty:function e(){return!this.source.length},prepend:function e(t,n){this.source.unshift(this.wrap(t,n))},push:function e(t,n){this.source.push(this.wrap(t,n))},merge:function e(){var t=this.empty();this.each((function(e){t.add(["  ",e,"\n"])}));return t},each:function e(t){for(var n=0,r=this.source.length;n<r;n++)t(this.source[n])},empty:function e(){var t=this.currentLocation||{start:{}};return new a(t.start.line,t.start.column,this.srcFile)},wrap:function e(t){var n=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];if(t instanceof a)return t;t=s(t,this,n);return new a(n.start.line,n.start.column,this.srcFile,t)},functionCall:function e(t,n,r){r=this.generateList(r);return this.wrap([t,n?"."+n+"(":"(",r,")"])},quotedString:function e(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function e(t){var n=this;var i=[];r(t).forEach((function(e){var r=s(t[e],n);"undefined"!==r&&i.push([n.quotedString(e),":",r])}));var a=this.generateList(i);a.prepend("{");a.add("}");return a},generateList:function e(t){var n=this.empty();for(var r=0,i=t.length;r<i;r++){r&&n.add(",");n.add(s(t[r],this))}return n},generateArray:function e(t){var n=this.generateList(t);n.prepend("[");n.add("]");return n}};t["default"]=l;e.exports=t["default"]}])}))},RgdY:function(e,t,n){"use strict";n.r(t);var r=n("z4LI");var i=n("s+sU");var a=n("J7Pl");var o=n("lEl7");var s=n("/irJ");var l=n("Y9P5");function c(){return l["a"].Sheets.UNSAFE_all.mashed}function u(){return l["a"].Stories.UNSAFE_all.mashed}function d(e){var t=r["a"].model.id;var n=-1;e.forEach((function(e,r){e.qInfo.qId===t&&(n=r)}));return n}function f(e,t){var n;t.forEach((function(t){t.qInfo.qId===e&&(n=t)}));return n}function p(e,t){var n;t.forEach((function(t){t.qInfo.qId===e&&(n=t)}));return n}function h(e){s["a"].goToSheet(e,Object.keys(r["a"].States)[r["a"].state]);return{success:true,sheetId:e}}function v(e){s["a"].goToStory(e,Object.keys(r["a"].States)[r["a"].States.play]);return{success:true,storyId:e}}function m(e,t,n){this.inClient=e;Object.defineProperties(this,{ANALYSIS:{get:function e(){return"analysis"}},EDIT:{get:function e(){return"edit"}},SNAPSHOT:{get:function e(){return"snapshot"}},sheets:{get:function n(){return e?c(this):t||[]}},stories:{get:function t(){return e?u(this):n||[]}}})}m.prototype.gotoSheet=function(e){var t=f(e,this.sheets);if(t)return h(e);return{success:false,error:"NOSUCHSHEET",errorMsg:"No such sheet"}};m.prototype.nextSheet=function(){if((r["a"].view===r["a"].Views.sheet||r["a"].view===r["a"].Views.object)&&r["a"].model){var e=d(this.sheets)+1;var t=this.sheets[e===this.sheets.length?0:e].qInfo.qId;return h(t)}return{success:false,error:"NOCURRENTSHEET",errorMsg:"No current sheet"}};m.prototype.prevSheet=function(){if((r["a"].view===r["a"].Views.sheet||r["a"].view===r["a"].Views.object)&&r["a"].model){var e=d(this.sheets)-1;var t=this.sheets[e<0?this.sheets.length-1:e].qInfo.qId;return h(t)}return{success:false,error:"NOCURRENTSHEET",errorMsg:"No current sheet"}};m.prototype.getCurrentSheetId=function(){if(r["a"].view===r["a"].Views.sheet&&r["a"].model)return{success:true,sheetId:r["a"].model.id};return{success:false,error:"NOCURRENTSHEET",errorMsg:"No current sheet"}};m.prototype.getMode=function(){return Object.keys(r["a"].States)[r["a"].state]};m.prototype.setMode=function(e){if(!this.isModeAllowed(e))return{success:false,error:"MODENOTALLOWED",errorMsg:"Mode not allowed"};r["a"].setState(r["a"].States[e]);return{success:true,mode:e}};m.prototype.isModeAllowed=function(e){switch(e){case this.ANALYSIS:return true;case this.EDIT:return this.inClient&&r["a"].model.layout&&r["a"].model.layout.permissions&&r["a"].model.layout.permissions.update;case this.SNAPSHOT:return this.inClient;default:return false}};m.prototype.gotoStory=function(e){var t=p(e,this.stories);if(t)return v(e);return{success:false,error:"NOSUCHSTORY",errorMsg:"No such story"}};var g=m;function b(e){var t=e.getAttribute("appid");if(t){var n=JSON.parse(e.getAttribute("config"));e.app=o["default"].openApp(t,n)}else e.app=o["default"].currApp()}function y(e){var t=e.getAttribute("visid");var n=JSON.parse(e.getAttribute("options"));e.app||b(e);if(e.app&&t)e.app.visualization.get(t).then((function(t){e.vis=t;n&&t.setOptions(n);t.show(e)}));else if(e.app){var r=JSON.parse(e.getAttribute("cols"));var i=e.getAttribute("type")||"barchart";e.app.visualization.create(i,r,n).then((function(t){e.vis=t;t.show(e)}))}}function w(e){if(e.vis){e.vis.close();delete e.vis}}function S(){this._options=null;this._appid=null;this._type=null;this._cols=null;return window.Reflect?window.Reflect.construct(HTMLElement,[],this.constructor):null}S.prototype=Object.create(HTMLElement.prototype);S.prototype.constructor=S;Object.setPrototypeOf(S,HTMLElement);S.prototype.connectedCallback=function(){y(this)};Object.defineProperty(S.prototype,"options",{get:function e(){return this._options},set:function e(t){this.setAttribute("options",t)}});S.observedAttributes=["options","appid","config"];S.prototype.attributeChangedCallback=function(e,t,n){if("options"===e&&this.vis){var r=JSON.parse(n);this.vis.setOptions(r)}else{w(this);"appid"!==e&&"config"!==e||b(this);y(this)}};S.prototype.disconnectedCallback=function(){w(this)};S.init=function(){window.customElements&&window.customElements.define&&customElements.define("qlik-visual",S)};var x=S;var C=n("BvTh");var q=n("6q8i");var E=n("L8/4");var I=n("ydcn");var k=n("+/4k");var A=n("9Fa8");var T=n("6dxF");var D=n("1Rhw");var O=n("51to");var L=i["a"].inClient();var M=new q["a"];M.scope="root";function P(){var e=Array.prototype.slice.call(document.querySelectorAll("body > .qvobject, body > .qvplaceholder"));if(0===e.length)return false;return!e.some((function(e){return"absolute"!==e.style.position}))}if(!L){r["a"].setState(r["a"].States.analysis);r["a"].setView(r["a"].Views.sheet)}if(P()){document.body.classList.add("absolute-position-mashup");document.documentElement.classList.add("absolute-position-mashup")}var N=new g(L);var R=new C["a"];x.init();function F(e,t){o["default"].setErrorCallback(e,t);a["a"].setErrorCallback(e,t)}function _(e,t){M.register({scope:"root",name:e,callback:t})}function j(e){M.clear(e)}var B={openApp:o["default"].openApp.bind({_qEvent:M}),currApp:o["default"].currApp,getGlobal:a["a"].get.bind({_qEvent:M}),setOnError:F,on:_,off:j,setLanguage:i["a"].setLanguage,setDeviceType:i["a"].setDeviceType,table:o["default"].table,getAppList:a["a"].getAppList.bind({_qEvent:M}),resize:i["a"].resize,getExtensionList:i["a"].getExtensionList,callRepository:i["a"].callRepository,registerExtension:i["a"].registerExtension,navigation:N,sessionApp:o["default"].sessionApp,sessionAppFromApp:o["default"].sessionAppFromApp,getThemeList:C["a"].getThemeList,theme:R};Object.defineProperty(B,"Promise",{get:function e(){return i["a"].Promise}});var V=t["default"]=B},RnDN:function(e,t,n){"use strict";function r(e){var t=0;e=String(e);if(0===e.length)return false;var n=e.split(",");for(var r in n){var i=n[r].trim();if(0===i.length)return false;if(Number.isNaN(+i))return false;if(Number(i)<=Number(t))return false;t=i}return true}t["a"]={isValid:r}},Rz9y:function(e){e.exports=JSON.parse('{"content":[{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-show-hide-container","name":"Show/hide container","source":{"repo":"ShowHide","service":"github","user":"qlik-oss"},"version":"2.14.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-variable-input","name":"Variable input","source":{"repo":"qsVariable","service":"github","user":"qlik-oss"},"version":"v6.15.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-button-for-navigation","name":"Button for navigation","source":{"repo":"sense-navigation","service":"github","user":"qlik-oss"},"version":"2.12.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-date-picker","name":"Date picker","source":{"repo":"SenseDateRangePicker","service":"github","user":"qlik-oss"},"version":"v2.27.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-tabbed-container","name":"Tabbed container","source":{"repo":"Qlik-Sense-Tabs","service":"github","user":"qlik-oss"},"version":"3.16.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-on-demand-reporting","name":"On demand reporting","source":{"repo":"nprinting-sense-on-demand","service":"github","user":"qlik-oss"},"version":"v2.21.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-share-button","name":"Share button","source":{"repo":"Dashboard-Link-Generator","service":"github","user":"qlik-oss"},"version":"v0.36.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-animator","name":"Animator","source":{"path":"@qlik/geo-animator/dist","service":"npm"},"version":"1.4.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"sn-video-player","name":"Video player","source":{"path":"@nebula.js/sn-video-player/dist","service":"npm"},"version":"0.16.0"}],"description":"This is a set of supported objects that will facilitate dashboard creation in Qlik Sense: A date picker, a variable input, a demand-reporting button and a share button. These can be used in addition to the objects found under \\"Charts\\".\\n\\nFor limitations and support conditions, see the documentation.","eula":"generic","id":"qlik-dashboard-bundle","name":"Qlik Dashboard bundle"}')},S1Uc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=n("yB4Y"),a=n("CTLX"),o=n("PKzm"),s=n("SD8o"),l=n("0/MV"),c=n("H+Zf"),u=function(){function e(){}return e.extractConcatenationQueries=function(e){return e=e||[],e.filter((function(e){return e.type===i.DSMTypes.ConcatenationQuery.name}))},e.flattenConcatenationQueries=function(e){e=e||[];var t=[];return r.each(e,(function(e){"ConcatenationQuery"===e.type?t=t.concat(e.sourceQueries):t.push(e)})),t},e.createConcatTableName=function(e,t){for(var n="("+e[0].name+"...)",i=0,a=n;r.find(t,(function(e){return e.name===a}));)a=n+"-"+ ++i;return a},e.mergeConcatenationQuery=function(t,n){var a,o,s;if(n){a=n.name,s=n.id,n.fields&&n.fields.forEach((function(n){var i=r.find(t.fields,(function(t){return!!e.doConcatFieldsMatch(n,t)}));i?(i.id=n.id,i.name=n.name,i.transformations=n.transformations,i.classifications=n.classifications,i.tags=n.tags):n.sourceFieldRefs||t.fields.push(n)}));var l=t.sourceQueries.length!==n.sourceQueries.length;o=l?i.DSMTypes.QueryStatus.update:n.status}else a=t.name,s=t.id,o=i.DSMTypes.QueryStatus.add;t.name=a,t.id=s,t.status=o},e.generate=function(t,n){var r=e.generateSimpleQueries(t);return e.surfaceConcatenationQueries(r,n)},e.cloneQuery=function(e){return s.SharedUtil.extend(!0,{},e)},e.checkIntegrity=function(t,n){var a=r.pluck(t,"id");if(a.length!==t.length)throw new o.InvalidLoadModelException("missing some table ids");var s=e.flattenConcatenationQueries(n),l=e.extractConcatenationQueries(n),c=s.concat(l),u=r.pluck(c,"id");if(u.length!==c.length)throw new o.InvalidLoadModelException("missing some query ids");var d=r.uniq(u);if(d.length!==u.length)throw new o.InvalidLoadModelException("not all query ids unique");var f=r.pluck(c,"type");if(f.length!==c.length)throw new o.InvalidLoadModelException("queries missing the type property");if(!t.every(e.checkTableIntegrity))throw new o.InvalidLoadModelException("Invalid table");var p=s.filter((function(e){return e.type===i.DSMTypes.Query.name}));if(!p.every(e.checkQueryIntegrity))throw new o.InvalidLoadModelException("Invalid simple query");if(!l.every(e.checkConcatenatedQueryIntegrity))throw new o.InvalidLoadModelException("Invalid concatenated query")},e.checkTableIntegrity=function(t){return!(r.isUndefined(t.id)||r.isUndefined(t.tableName)||r.isUndefined(t.tableAlias)||r.isUndefined(t.fields))&&t.fields.every(e.checkTableFieldsIntegrity)},e.checkTableFieldsIntegrity=function(e){return!(r.isUndefined(e.id)||r.isUndefined(e.name)||r.isUndefined(e.alias)||r.isUndefined(e.selected))},e.checkQueryIntegrity=function(t){return!(r.isUndefined(t.id)||r.isUndefined(t.type)||r.isUndefined(t.name)||r.isUndefined(t.fields)||r.isUndefined(t.tableRef))&&t.fields.every(e.checkFieldIntegrity)},e.checkConcatenatedQueryIntegrity=function(e){return!(r.isUndefined(e.id)||r.isUndefined(e.type)||r.isUndefined(e.name)||r.isUndefined(e.sourceQueries))},e.checkFieldIntegrity=function(e){return!(r.isUndefined(e.id)||r.isUndefined(e.type)||r.isUndefined(e.name)||e.type===i.DSMTypes.QueryField.name&&r.isUndefined(e.fieldRef)||e.type&&-1===r.indexOf(i.DSMTypes.GetFields(),e.type))},e.updateQueryTableStatus=function(e,t){if(e.type!==i.DSMTypes.ConcatenationQuery.name){if(0===e.fields.length)return void(e.status=i.DSMTypes.QueryStatus["delete"]);var n=r.pluck(e.fields,"name").sort(),a=r.pluck(t.fields,"name").sort(),o=!r.isEqual(n,a);return o?void(t.status===i.DSMTypes.QueryStatus.add?e.status=i.DSMTypes.QueryStatus.add:e.status=i.DSMTypes.QueryStatus.update):void(e.status=t.status)}},e.updateQueryTable=function(t,n,r){var i=s.SharedUtil.extend(!0,{},n),a=[],o=[];r.fields.forEach((function(t){var r=e.findQueryByFieldRef(n,t.id);t.selected?r?r.name=t.alias:a.push(e.generateFieldQuery(t)):r&&o.push(r)}));var l=t.wrapInTargetTableModel(n);o.forEach((function(t){e.deleteField(l,t)})),a.forEach((function(t){var i=e.findInsertionIndex(t,n,r);n.fields.splice(i,0,t)})),e.updateQueryTableStatus(n,i)},e.deleteField=function(t,n){var r=this.constructDependencyMap(t);e.removeFieldAndDependents(t,r,n)},e.updateQueries=function(t,n,i,a){var o=e.extractConcatenationQueries(n),s=n;n=r.clone(n),s.splice(0,s.length),n=e.flattenConcatenationQueries(n),t.forEach((function(t){var r=0!==t.fields.filter((function(e){return e.selected})).length,a=e.findQueryByTableRef(n,t.id);a?r&&e.updateQueryTable(i,a,t):r&&n.push(e.generateTableQuery(t))})),n.forEach((function(n){var r=e.findSourceTableByRef(t,n.tableRef);!r&&n.sourceQueries&&1===n.sourceQueries.length&&(r=e.findSourceTableByRef(t,n.sourceQueries[0].tableRef));var o=i.wrapInTargetTableModel(n);o.pruneFieldReferences(t),0===n.fields.length&&a&&a.push(n)})),n=e.surfaceConcatenationQueries(n,i);var l=e.extractConcatenationQueries(n);e.migrateAssocations(l,i),e.mergeConcatenationQueries(l,o,i),n.forEach((function(e){s.push(e)}))},e.createCompositeQueryFields=function(e){if(0===e.length)return[];var t=[],n=e[0],r={};return e.forEach((function(e){e.fields.forEach((function(e){r[e.name]||(r[e.name]=[]),r[e.name].push(e.id)}))})),n.fields.filter((function(e){return e.type===i.DSMTypes.QueryField.name})).forEach((function(e){var n={id:r[e.name][0],type:i.DSMTypes.CompositeQueryField.name,name:e.name,sourceFieldRefs:r[e.name]};t.push(n)})),t},e.migrateAssocations=function(e,t){e.forEach((function(e){c.CompositeOperations.migrateAssociations(e.sourceQueries,t.wrapInTargetTableModel(e),t)}))},e.surfaceConcatenationQueries=function(t,n){t=t||[];var r=[];return e.groupByQueryFieldNames(t).forEach((function(o){if(1===o.length)r.push(o[0]);else{var s={type:i.DSMTypes.ConcatenationQuery.name,status:i.DSMTypes.QueryStatus.add,name:e.createConcatTableName(o,t),sourceQueries:o,id:void 0,fields:[]};e.pruneGeoTransformFields(t,n),s.id=a.LoadModelIds.createConcatQueryId(),s.fields=e.createCompositeQueryFields(o).concat(e.extractNonQueryFields(o)),r.push(s)}})),r},e.extractNonQueryFields=function(e){if(0===e.length)return[];var t=[],n=e[0],r=n.fields.filter((function(e){return e.type!==i.DSMTypes.QueryField.name}));return r.forEach((function(e){t.push(e),n.fields.splice(n.fields.indexOf(e),1)})),t},e.removeFieldAndDependents=function(t,n,r){var i=n[r.id];if(i){i.forEach((function(r){var i=t.getField(r);i&&e.removeFieldAndDependents(t,n,i)}));var a=t.getFields(),o=a.indexOf(r);a.splice(o,1),n[r.id]=null}},e.constructDependencyMap=function(e){var t=new l.LoadModelUtils(e),n={},r=e.getFields();return r.forEach((function(e){n[e.id]||(n[e.id]=[]);var r=t.getAllReferences(e);r.forEach((function(t){n[t]||(n[t]=[]);var r=n[t],i=r.some((function(t){return e===t}));i||r.push(e.id)}))})),n},e.findInsertionIndex=function(e,t,n){var i=r.findWhere(n.fields,{id:e.fieldRef}),a=n.fields.indexOf(i);if(0===a)return 0;for(var o=t.fields.length+1,s=a-1;s>=0;s--){var l=n.fields[s],c=r.findWhere(t.fields,{fieldRef:l.id});if(c){o=t.fields.indexOf(c)+1;break}}return o},e.findMatch=function(t,n,i){var a=e.getConcatenatedQuerySignature(t,i),o=r.find(n,(function(t){var n=e.getConcatenatedQuerySignature(t,i);return r.isEqual(a,n)}));return o},e.mergeConcatenationQueries=function(t,n,r){t.forEach((function(t){var i=e.findMatch(t,n,r);e.mergeConcatenationQuery(t,i)}))},e.getConcatenatedQuerySignature=function(e,t){if(!e||e.type!==i.DSMTypes.ConcatenationQuery.name)throw new o.InvalidLoadModelException;if(e.sourceQueries.length<1)throw new o.InvalidLoadModelException;return this.getFieldsSignature(e.sourceQueries[0],t)},e.getFieldsSignature=function(e,t){var n=t.wrapInTargetTableModel(e),a=r.filter(e.fields,(function(e){return!n.wasGeneratedByTransformation(e,i.DSMTypes.QueryTransformField.name,[i.DSMTypes.Transformations.lookupGeoInfo,i.DSMTypes.Transformations.geoPoint])})),o=r.pluck(a,"name");return o.sort().join()},e.getQueryFieldsSignature=function(e){var t=r.filter(e.fields,(function(e){return e.type===i.DSMTypes.QueryField.name})),n=r.pluck(t,"name");return n.sort().join()},e.pruneGeoTransformFields=function(e,t){e.forEach((function(e){for(var n=t.wrapInTargetTableModel(e),r=e.fields,a=r.length-1;a>=0;a--)n.wasGeneratedByTransformation(r[a],i.DSMTypes.QueryTransformField.name,[i.DSMTypes.Transformations.lookupGeoInfo,i.DSMTypes.Transformations.geoPoint])&&r.splice(a,1)}))},e.generateFieldQuery=function(e){var t={id:a.LoadModelIds.createQueryFieldId(),type:i.DSMTypes.QueryField.name,name:e.alias?e.alias:e.name,fieldRef:e.id};return t},e.doConcatFieldsMatch=function(e,t){var n=!1;return t.sourceFieldRefs?n=t.sourceFieldRefs.some((function(t){return e.sourceFieldRefs&&e.sourceFieldRefs.indexOf(t)>0})):e.type===t.type&&e.type!==i.DSMTypes.CompositeQueryField.name&&(n=e.id===t.id),n},e.generateTableQuery=function(t){var n=t.tableAlias||t.tableName,r=a.LoadModelIds.createSimpleQueryId(),o={id:r,type:i.DSMTypes.Query.name,name:n,tableRef:t.id,status:i.DSMTypes.QueryStatus.add,fields:t.fields.filter((function(e){return e.selected})).map((function(t){return e.generateFieldQuery(t)}))};return o},e.generateSimpleQueries=function(t){var n=t.filter((function(e){return 0!==e.fields.filter((function(e){return e.selected})).length}));return n.map((function(t){return e.generateTableQuery(t)}))},e.groupByQueryFieldNames=function(e){var t=this,n={},a=[];return e.forEach((function(e){if(e.status===i.DSMTypes.QueryStatus["delete"]||0===e.fields.length)return void a.push([e]);var r=t.getQueryFieldsSignature(e)||e.id;n[r]?n[r].push(e):n[r]=[e]})),r.values(n).concat(a)},e.findQueryByTableRef=function(t,n){var i=r.find(t,(function(e){return e.tableRef===n}));return i||t.forEach((function(t){if(t.sourceQueries){var r=e.findQueryByTableRef(t.sourceQueries,n);r&&(i=r)}})),i},e.findQueryByFieldRef=function(e,t){return r.find(e.fields,(function(e){return e.fieldRef===t}))},e.findSourceTableByRef=function(e,t){return r.find(e,(function(e){return e.id===t}))},e}();t.QueryGenerator=u},S1lg:function(e,t,n){"use strict";t["a"]=function(){return n.e(86).then(n.t.bind(null,"c3D3",7)).then((function(e){var t=e.default;return t}))}},S4RG:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("wIyQ");var s='<button ng-click="onClick($event, \'inverse\')" qv-enter="onClick($event)" class="colorpicker-button lui-button {{variantClass}}" ng-class="{\'lui-active\': opened === true}" q-title-translation="ColorPicker.Choose">\n\t<span class="lui-button__icon  qv-color-picker-preview" tid="color-picker-preview"></span><span class="lui-button__caret lui-caret"></span>\n</button>\n';var l='<lui-popover class="qv-cp-popup qv-color-picker"\n\t\t\t\t\t  style="min-width: 100px;z-index: 1200;"\n\t\t\t          ng-style="{\'width\': \'auto\'}"\n\t\t\t\t\t  collision="\'flipfit\'"\n\t\t\t\t\t  align-to="$alignToElement"\n\t\t\t\t\t  on-close-view="closeView(event)"\n\t\t\t\t\t  tid="color-picker-popup"\n\t\t\t\t\t  qva-outside-ignore-for="media-toolbar">\n\n\t<div class="qv-cp-flex">\n\t\t<div class="qv-cp-main-stage" >\n\t\t\t<ul class="qv-colorpicker"\n\t\t\t\tng-show="!customColor"\n\t\t\t\tng-class="{\'extended\' : $extended}"\n\t\t\t\ttid="color-picker-palette">\n\t\t\t\t<li ng-repeat="color in $palette"\n\t\t\t\t\tqva-activate="colorClicked($index, color)"\n\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\tng-class="{\'selected\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}">\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div ng-show="customColor">\n\t\t\t\t<div hue-sat-wheel callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t\t<div value-slider callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="$useGlyph">\n\t\t\t<div class="qv-cp-glyphs-title" q-translation="properties.glyph"></div>\n\t\t\t<div class="qv-cp-glyphs">\n\t\t\t\t<button ng-repeat="glyph in $glyphPalette" \n\t\t\t\t\t\tclass="lui-fade-button  lui-fade-button--inverse"\n\t\t\t\t\t\tqva-activate="setGlyph($event, $index, glyph)"\n\t\t\t\t\t\tng-class="{\'lui-active\': glyphIcon === glyph.icon, \'border\': glyph.icon === \'\'}" >\n\t\t\t\t\t<span class="lui-fade-button__icon  lui-icon">{{glyph.icon}}</span>\n\t\t\t\t</button>\n\t\t\t\t\x3c!--<li ng-repeat="glyph in $glyphPalette" \n\t\t\t\tqva-activate="setGlyph($event, $index, glyph)" \n\t\t\t\tng-class="{\'selected\': glyphIcon === glyph.icon, \'border\': glyph.icon === \'\'}">{{glyph.icon}}</li>--\x3e\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\t\t<div ng-if="$extended">\n\t\t\t<div class="qv-cp-divider"></div>\n\t\t\t<div class="qv-cp-hex-result">\n\t\t\t\t<div class="qv-cp-preview"\n\t\t\t\t\t\ttid="color-picker-preview"\n\t\t\t\t\t\tng-class="{\'transparent\' : foreColor === \'none\'}"\n\t\t\t\t\t\tng-style="getBackgroundStyle(foreColor)"></div>\n\t\t\t\t<div class="qv-cp-hex-text">#</div>\n\t\t\t\t<input class="qv-cp-hex-input"\n\t\t\t\t\tng-model="hex.value"\n\t\t\t\t\tng-change="onHexChange(hex.value)"\n\t\t\t\t\tmaxlength="7"\n\t\t\t\t\ttid="{{hex.value}}"\n\t\t\t\t\tng-keypress="onKeyPress($event)"/>\n\n\t\t\t\t\t<button class="qv-cp-switch lui-button  lui-button--inverse"\n\t\t\t\t\t\t\ttid="color-picker-result"\n\t\t\t\t\t\t\tng-class="{\'lui-active\' : customColor }"\n\t\t\t\t\t\t\tqva-activate="onFoldoutClick($event)"\n\t\t\t\t\t\t\tq-title-translation="{{customColor ? \'ColorPicker.HideOptions\' : \'ColorPicker.ShowOptions\'}}">\n\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--palette"></span>\n\t\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n</lui-popover>\n';var c=n("GF7R");var u=n("Z9ZH");var d=n.n(u);a["default"].directive("hueSatWheel",[function(){return{require:"?hsv",replace:true,template:'<div class="cp-hue-sat"><div class="cp-hue-sat-wheel" tid="color-picker-wheel"><div class="cp-hsw-overlay"></div><div class="cp-hsw-pointer"><div class="cp-hsw-inside"></div></div></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(t,n){var r=n.find(".cp-hsw-pointer");var i=n.find(".cp-hsw-overlay");var a=n.find(".cp-hue-sat-wheel");var o=a.width()/2;var s=a.height()/2;var l=0;var c=0;function u(e,n){l=(180*Math.atan2(n,e)/Math.PI+360)%360;c=Math.min(Math.max(0,Math.sqrt(n*n+e*e)/o*100),100);t.hsv.h=l;t.hsv.s=c;t.callback&&t.callback({hue:l,sat:c})}function f(e,t){r.css({left:e,top:t})}function p(){var e=Math.cos(l/180*Math.PI)*(c/100*o);var t=Math.sin(l/180*Math.PI)*(c/100*o);f(e+o,s-t)}function h(e,t){var n=Math.sqrt(e*e+t*t);if(n>o){e=e/n*o;t=t/n*o}return{x:e,y:t}}function v(e){var t=a.offset();var n=h(e.x-o-t.left,2*s-e.y-o+t.top);f(n.x+o,s-n.y);u(n.x,n.y)}var m="cp-hsw";d()(a[0]).tap({id:m,end:function e(t,n){v(n.pagePoints[0])}}).swipe({id:m,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){v(n.pagePoints[0])}});t.$watch("hsv.v",(function(){i.css("background","rgba(0,0,0, ".concat((100-t.hsv.v)/100,")"))}));t.$watch("hsv.h",(function(){if(l!==t.hsv.h){l=t.hsv.h%360;p()}}));t.$watch("hsv.s",(function(){if(c!==t.hsv.s){c=t.hsv.s>100?100:t.hsv.s<0?0:t.hsv.s;p()}}));t.$watch("visible",(function(){p()}));t.$on("$destroy",(function(){d()(a[0]).off("*",m)}))}}}]);function f(e,t,n){return new c["a"]("hsv(".concat(e,",").concat(t,",").concat(n,")")).toRGB()}a["default"].directive("valueSlider",[function(){return{require:"?hsv",replace:true,template:'<div class="cp-value" tid="color-picker-slider"><div class="cp-val-slider"><span class="cp-val-pointer"></span></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(t,n){var r=n.find(".cp-val-pointer");var i=n.find(".cp-val-slider");var a=100;function o(e){return(e-r.outerWidth()/2)/(i.outerWidth()-r.outerWidth())*100}function s(e){return e/100*(i.outerWidth()-r.outerWidth())+r.outerWidth()/2}function l(e){a=Math.max(Math.min(100,o(e)),0);t.hsv.v=a;t.callback&&t.callback({value:o(e)})}function c(e){r.css({left:e})}function u(e){var t=s(e);c(t)}function p(e){return Math.min(Math.max(e,r.outerWidth()/2),i.outerWidth()-r.outerWidth()/2)}function h(e){var t=i.offset();var n=p(e.x-t.left);c(n);l(n)}var v="cp-hsw";d()(n[0]).tap({id:v,end:function e(t,n){h(n.pagePoints[0])}}).swipe({id:v,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){h(n.pagePoints[0])}});t.$watchCollection("[hsv.s, hsv.h]",(function(){i.css("background-color",f(t.hsv.h,t.hsv.s,100))}));t.$watch("hsv.v",(function(){if(a!==t.hsv.v){a=t.hsv.v;u(t.hsv.v)}}));t.$watch("visible",(function(){u(a)}));t.$on("$destroy",(function(){d()(n[0]).off("*",v)}))}}}]);function p(e,t){if(t[e])return t[e];return e||"none"}function h(e,t,n){if(!e||-1!==n.indexOf(t))return false;return"none"!==t&&!!t}var v={template:l,controller:["$scope","$element","$timeout",function(e,t,n){e.hsv={h:0,s:100,v:100};var r=new c["a"];if(e.$useGlyph){e.foreColor=p(e.$inputViewValue.color,e.$palette);e.glyphIcon=e.$inputViewValue.icon;e.customColor=h(e.$extended,e.$inputViewValue.color,e.$palette)}else{e.foreColor=p(e.$inputViewValue,e.$palette);e.customColor=h(e.$extended,e.$inputViewValue,e.$palette)}e.hex={value:""};e.getBackgroundStyle=function(e){if("none"!==e)return{"background-color":e};return};function i(){e.onColorChange(e.$useGlyph,e.index,e.foreColor,e.glyphIcon)}e.setGlyph=function(t,n,r){e.glyphIcon=r.icon;i()};function o(t){r=new c["a"](t);r.isInvalid()&&e.$disableNone&&(r=new c["a"](e.$defaultColor))}function s(t){var n=r.toHex();e.foreColor=r.isInvalid()?"none":n;e.index=t;i();e.isDark=r.isDark()}function l(){r.isInvalid()?e.hex.value="-":e.hex.value=r.toHex().substring(1,7)}function u(){if(!r.isInvalid()){var t=r.toHSVComponents();e.hsv.h=t.h;e.hsv.s=t.s;e.hsv.v=t.v}}var d=null;function f(e){return function(){var t=this;var r=arguments;d||(d=n((function(){e.apply(t,r);d=null}),100))}}e.hueSatValueChanged=f((function(){o("hsv(".concat(e.hsv.h,",").concat(e.hsv.s,",").concat(e.hsv.v,")"));l();s(-1)}));function v(e){e="#".concat(e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6));o(e);u();s(-1)}e.onHexChange=f(v);e.colorClicked=f((function(t,n){if(!e.$disableNone||"none"!==n){o(n);u();l();s(t)}}));e.onFoldoutClick=function(t){t.preventDefault();e.customColor=!e.customColor};e.onKeyPress=function(t){var n=t.which;13===n&&e.close()};o(e.foreColor);u();e.isDark=r.isDark();var m=n((function(){a["default"].$apply(e,(function(){l()}))}));e.$on("$destroy",(function(){n.cancel(m);t.find(".qv-cp-hex-input").off()}))}]};var m={popupComponent:v,isCustom:h};var g;var b;var y=m.popupComponent;var w=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"];var S=[{icon:""},{icon:"m"},{icon:"ï"},{icon:"R"},{icon:"S"},{icon:"T"},{icon:"U"},{icon:"P"},{icon:"Q"},{icon:"è"},{icon:"¢"},{icon:"©"}];function x(e,t){if(t[e])return t[e];return e||"none"}function C(e,t){if("none"===t){e.addClass("transparent");e.css("background-color","transparent")}else{e.css("background-color",t);e.removeClass("transparent")}}function q(){return"inverse"}function E(e,t,n,r,o,s){if(b&&b.element===t){g&&g.close();g=null;b=null;return}b={model:o,element:t,previewBox:r,scope:e};var l=e.$eval(n.palette)||w;var c=e.$eval(n.extended)||false;var u=a["default"].getService("luiPopover");var d=e.$eval(n.actualColor)||false;var f=e.$eval(n.dock)||"top";var p;function h(t,n,i){i.$setViewValue(t);e.onChange&&e.onChange();r&&C(r,n)}var v;var m;var q;var E=a["default"].getService("$timeout");g=u.show({template:y.template,controller:y.controller,input:{$palette:l,$glyphPalette:S,$useGlyph:e.$eval(n.useGlyph)||false,$disableNone:e.$eval(n.disableNone)||false,$defaultColor:x(o.$viewValue,l),$inputViewValue:o.$viewValue,$extended:c,onColorChange:function e(t,n,r,i){v&&E.cancel(v);m=t?{color:d?r:n,icon:i}:d?r:n;q=r;v=E((function(){h(m,q,o);v=null}),300)}},alignTo:t[0],variant:s,closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:f,autoFocus:false});g.closing.then((function(n){e.onClose&&e.onClose(n);var r;if(n){p=n;r=i()(n.target).closest(t[0]).length>0}if(v){E.cancel(v);h(m,q,o);v=null}r||(b=null)}));g.closed.then((function(){p&&p.target.classList.contains("color-scale-container")&&(b=null)}));e.onOpen&&e.onOpen(g)}a["default"].directive("qvColorPickerCustom",[function(){return{require:"?ngModel",scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"="},link:function e(t,n,r,i){t.callback&&(t.callback.close=function(){g&&g.close()});t.$parent&&(t.$parent.onClick=function(){var e=q();E(t,n,r,null,i,e)});function a(){g&&g.close()}o["a"].on("start",a);t.$on("$destroy",(function(){g&&b&&b.element===n&&g.close();o["a"].off("start",a)}))}}}]);a["default"].directive("qvColorPickerButton",[function(){return{require:"?ngModel",replace:true,scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"="},template:s,link:function e(t,n,r,i){var a=t.$eval(r.palette)||w;var s=x(i.$viewValue,a);var l=n.find(".qv-color-picker-preview");t.onClick=function(){var e=q();E(t,n,r,l,i,e)};t.callback&&(t.callback.close=function(){g&&g.close()});function c(){g&&g.close()}t.variantClass=r.variant?"lui-button--".concat(r.variant):"";o["a"].on("start",c);i.$render=function(){if(void 0===i.$viewValue)return;s=x(i.$viewValue,a);C(l,s)};t.$on("$destroy",(function(){g&&b&&b.element===n&&g.close();o["a"].off("start",c)}))}}}])},SD8o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.extend=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.internalExtend.apply(e,arguments)},e.each=function(t,n){return e.internalEach.apply(e,arguments)},e.internalExtend=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];for(var a=0;a<r.length;a++){var o=r[a];for(var s in o){var l=o[s],c=n[s];if(l!==c)if(t&&l&&"object"==typeof l){var u=void 0;u=l instanceof Array?c&&c instanceof Array?c:[]:c&&"object"==typeof c?c:{},n[s]=e.internalExtend(t,u,l)}else n[s]=l}}return n},e.internalEach=function(e,t){if(e instanceof Array)for(var n=0;n<e.length&&!1!==t.call(e[n],n,e[n]);n++);else for(var r in e)if(!1===t.call(e[r],r,e[r]))break;return e},e}();t.SharedUtil=r},SEYK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));n.d(t,"f",(function(){return s}));n.d(t,"g",(function(){return l}));n.d(t,"e",(function(){return c}));n.d(t,"c",(function(){return u}));n.d(t,"d",(function(){return d}));var r=n("9a/l");var i=n("acVu");function a(e){if(Object(i["b"])("IS_DESKTOPCLIENT"))return true;if(e)return e.qMeta.privileges&&-1!==e.qMeta.privileges.indexOf("update");return false}function o(e,t,n){var r=e.permissions.update;return a(t)&&r&&n||false}function s(e,t,n){if(r["a"].adaptationsEnabled())return false;var i=e.permissions,o=i.createSheet,s=i.update;return a(t)&&o&&s&&n||false}function l(e){var t=e.permissions,n=t.createSheet,r=t.update;var a=(null===e||void 0===e?void 0:e.qHasData)||false;if(Object(i["b"])("PUBLIC_DMV")&&a)return true;return e.qHasData&&n&&r||false}function c(e,t){var n=e.permissions,r=n.createSheet,i=n.update;return a(t)&&r&&i||false}function u(e,t){var n=e.permissions,r=n.createSheet,o=n.update;return Object(i["b"])("BUSINESS_MODEL")&&Object(i["b"])("BUSINESS_MODEL_UI")&&e.qHasData&&a(t)&&r&&o||false}function d(e,t){var n=e.permissions,r=n.createSheet,o=n.update;return Object(i["b"])("BUSINESS_MODEL")&&Object(i["b"])("BUSINESS_LOGIC_VOCABULARY_UI")&&e.qHasData&&a(t)&&r&&o||false}},SOxp:function(e,t,n){"use strict";var r=/xyz/.test((function(){var e}))?/\b_super\b/:/.*/;var i=function e(){};i.extend=function e(t,n){var i=this.prototype;if("string"!==typeof t){n=t;t="Class"}var a=Object.create(this.prototype);for(var o in n)a[o]="function"===typeof n[o]&&"function"===typeof i[o]&&r.test(n[o])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);this._super=n;return r}}(o,n[o]):n[o];if(!/^[_a-z][_a-z\d]*$/i.test(t))throw new Error("Invalid subclass name. Alphanumericals only.");var s=new Function("return (function ".concat(t,"(){ typeof this.init === 'function' && this.init.apply(this, [].slice.call(arguments)) });"))();s.prototype=a;s.prototype.constructor=s;s.extend=e;return s};t["a"]=i},SZnw:function(e,t,n){"use strict";var r=n("k+Ch");var i=n("JbzQ");var a=n("sWge");var o=n("r3g4");var s="$geopoint";var l="$geoline";var c="$geopolyline";var u="$geopolygon";var d="$geomultipolygon";var f=[l,c,u,d];function p(e){return e.qTags.indexOf(s)>-1||e.qTags.indexOf("$geotag")>-1}function h(e){return e.qTags.indexOf(u)>-1||e.qTags.indexOf(d)>-1}function v(e){return e.qTags.indexOf(l)>-1||e.qTags.indexOf(c)>-1}function m(e){var t=e.qTags,n=t?t.length:0;var r=[];for(var i=0;i<n;i++)"$relates_"===t[i].substring(0,9)&&r.push(t[i].substring(9,t[i].length));return r}function g(e,t){var n=m(e);var r=[];for(var i=0;i<t.length;i++)n.indexOf(t[i].qName)>=0&&r.push(t[i]);return r}var b=function(){function e(){}e.load=function(){r["a"].getOnTheFlyWithHiddenList().then((function(e){return e.getLayout()})).then((function(t){e.fields=t}));i["a"].getListLayout().then((function(t){e.dimensions=t}))};e.loadTest=function(t,n){e.fields=t;e.dimensions=n};e.setDefaultLabel=function(e,t){if(e.qLibraryId){t.label.expression.key=e.qLibraryId;t.label.expression.type="libraryItem";t.label.expression.label=""}else{t.label.expression.key=o["a"].bracketStringIfNeeded(e.qDef.qFieldDefs[0]);t.label.expression.type="expression";t.label.expression.label="dimension.qDef.qFieldDefs[0]"}};e.setDefaultLocation=function(t,n){var r=n;if(n.qHyperCubeDef&&n.qHyperCubeDef.qDimensions&&n.qHyperCubeDef.qDimensions[1]){var i=n.qHyperCubeDef.qDimensions[1];null!==i.qDef&&void 0!==i.qDef&&i.qDef.cId===t.qDef.cId&&n.location2&&(r=n.location2)}var a=!!t.qDef.qFieldDefs&&t.qDef.qFieldDefs.length>0;var s=a?t.qDef.qFieldDefs[0]:e.fieldNameFromDimension(t.qLibraryId);var l=false;var c=false;if(s&&(0===(r.locationOrLatitude.key||"").trim().length||r.locationOrLatitude.key===r.locationDefault)){var u=e.relatedFieldName(s,n.type);if(u){r.locationOrLatitude.key=o["a"].bracketStringIfNeeded(u);r.locationOrLatitude.label=u;r.locationOrLatitude.type="expression";r.locationDefault=r.locationOrLatitude.key;l=true}}if(!l&&(0===(r.locationOrLatitude.key||"").trim().length||r.locationDefault===r.locationOrLatitude.key))if(t.qDef.qFieldDefs&&t.qDef.qFieldDefs.length){r.locationOrLatitude.key=o["a"].bracketStringIfNeeded(s);r.locationOrLatitude.label=s;r.locationOrLatitude.type="expression";r.locationDefault=r.locationOrLatitude.key}else{r.locationOrLatitude.key=t.qLibraryId;r.locationOrLatitude.label="";r.locationOrLatitude.type="libraryItem";r.locationDefault=t.qLibraryId}if(s&&n.path&&(0===(n.path.field.key||"").trim().length||n.path.field.key===n.path.locationDefault)){var u=e.relatedFieldName(s,n.type);if(u){n.path.field.key=o["a"].bracketStringIfNeeded(u);n.path.field.label=u;n.path.field.type="expression";n.path.locationDefault=n.path.field.key;c=true}u&&e.fieldHasOneOfTags(u,f)&&(n.path.startEndPoint=false)}if(!c&&n.path&&(0===(n.path.field.key||"").trim().length||n.path.field.key===n.path.locationDefault)){if(t.qDef.qFieldDefs&&t.qDef.qFieldDefs.length){n.path.field.key=o["a"].bracketStringIfNeeded(s);n.path.field.label=s;n.path.field.type="expression";n.path.locationDefault=n.path.field.key}else{n.path.field.key=t.qLibraryId;n.path.field.label="";n.path.field.type="libraryItem";n.path.locationDefault=t.qLibraryId}e.fieldHasOneOfTags(s,f)&&(n.path.startEndPoint=false)}};e.relatedFieldName=function(t,n){var r=e.findField(t);if(r)return e.relatedField(r,n);return null};e.fieldNameFromDimension=function(t){for(var n in e.dimensions){var r=e.dimensions[n].qInfo.qId;if(r===t)return e.getFirstField(e.dimensions[n])}return null};e.relatedFieldNameAsync=function(e,t){var n=new a["a"];return r["a"].getOnTheFlyWithHiddenList().then((function(e){return e.getLayout()})).then((function(r){for(var i in r){var a=r[i];if(a.qName===e){var o=g(a,r);for(var s in o){var l=o[s];if("PointLayer"===t&&p(l)||"AreaLayer"===t&&h(l)||"LineLayer"===t&&v(l||p(l))||"DensityLayer"===t&&p(l)||"ChartLayer"===t&&p(l))return n.resolve(l.qName)}break}}return n.resolve(null)}))};e.findField=function(t){for(var n in e.fields){var r=e.fields[n];if(r.qName===t)return r}return null};e.findDimension=function(t){for(var n in e.dimensions){var r=e.dimensions[n];if(r.qInfo.qId===t)return r}return null};e.relatedField=function(t,n){var r=g(t,e.fields);for(var i in r){var a=r[i];if("PointLayer"===n&&p(a)||"AreaLayer"===n&&h(a)||"LineLayer"===n&&(v(a)||p(a))||"DensityLayer"===n&&p(a)||"ChartLayer"===n&&p(a))return a.qName}return null};e.relatedFieldTypes=function(t){var n=g(t,e.fields);var r=[];for(var i in n){var a=n[i];p(a)&&r.push("PointLayer","DensityLayer","LineLayer","ChartLayer");h(a)&&r.push("AreaLayer");v(a)&&r.push("LineLayer")}return r};e.getFirstField=function(e){return e.qData.info[0].qName};e.getRecommendedLayerTypeByTags=function(t){var n=e.findField(t);var r={PointLayer:false,AreaLayer:false,LineLayer:false,DensityLayer:false,ChartLayer:false};if(n){var i=e.relatedFieldTypes(n);(p(n)||i.indexOf("PointLayer")>=0)&&(r.PointLayer=true);(h(n)||i.indexOf("AreaLayer")>=0)&&(r.AreaLayer=true);(v(n)||i.indexOf("LineLayer")>=0)&&(r.LineLayer=true);(p(n)||i.indexOf("DensityLayer")>=0)&&(r.DensityLayer=true);(p(n)||i.indexOf("ChartLayer")>=0)&&(r.ChartLayer=true)}return r};e.getDrillDownDimension=function(t){var n=e.findDimension(t).qData;return n.info.length>1?n:null};e.fieldHasOneOfTags=function(t,n){var r=e.findField(t);if(r){for(var i in n)if(r.qTags.indexOf(n[i])>-1)return true;return false}return false};e.fieldContainsAllTags=function(t,n){var r=e.findField(t);if(r){for(var i in n)if(!(r.qTags.indexOf(n[i])>-1))return false;return true}return false};e.fields=[];e.dimensions=[];return e}();t["a"]=b},SbEb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("yB4Y"),i=n("PoH+"),a=n("q3TV"),o=n("o7dj"),s=n("1oM5"),l=function(){function e(e,t,n){this.targetTable=e,this.loadModel=t,this.locale=n}return e.prototype.updateTransformation=function(t,n,r){var a=i.where(e.supportedTransformations,{op:n});if(a.length>0){var o=a[0].handler,s=new o(this.targetTable,this.loadModel,this.locale);s.updateTransformation(t,r)}},e.prototype.handleRecommendation=function(t,n){var r=i.where(e.supportedTransformations,{op:t.op});if(r.length>0&&-1!==n.indexOf(t.op)){var a=r[0].handler,o=new a(this.targetTable,this.loadModel,this.locale);o.handleRecommendation(t)}},e}();l.supportedTransformations=[{op:r.DSMTypes.Transformations.interpretValues,handler:s.DateTimeRecommendation},{op:r.DSMTypes.Transformations.geoPoint,handler:a.GeoPointRecommendation},{op:r.DSMTypes.Transformations.lookupGeoInfo,handler:o.GeoLookupRecommendation}],t.TransformationRecommendationUtil=l},Sn1l:function(e,t,n){"use strict";var r=n("TmNk");var i=n.n(r);var a=n("2Hli");var o=n("5Hbw");var s={type:"array",component:"sorting",translation:"properties.sorting",sortIndexRef:"qHyperCubeDef.qInterColumnSortOrder",allowMove:true,schemaIgnore:true,items:{dimensions:{type:"items",component:"expandable-items",ref:"qHyperCubeDef.qDimensions",items:{autoSort:{ref:"qDef.autoSort",type:"boolean",translation:"properties.sorting",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],change:function e(t,n){if(t.qDef.autoSort)return n.autoSortDimension(t).then((function(){}));return}},dimension:{component:"sorting-dimension",type:"items",ref:"",sortingItems:{expression:true,frequency:false,numeric:true,ascii:true}}}},measures:{type:"items",component:"expandable-items",grouped:true,ref:"qHyperCubeDef.qMeasures",items:{autoSort:{ref:"qDef.autoSort",type:"boolean",translation:"properties.sorting",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],change:function e(t,n){if(t.qDef.autoSort)return n.autoSortMeasure(t).then((function(){}));return}},measure:{component:"sorting-measure",ref:"",sortingItems:{numeric:true,ascii:true}}}}}};var l=n("DXLV");var c=n("4nJ1");function u(e,t){var n=c["a"].getValue(e,"qHyperCubeDef.qMeasures",[]);return!l["a"].isContinuousChart(t)&&i.a.limitedSorting({measures:n,properties:e})}var d={type:"items",translation:"properties.sorting",items:{noContinuousSortingMessage:{component:"text",translation:"properties.sorting.noContinuousSortingMessage",show:function e(t,n,r){return l["a"].isContinuousChart(r.layout)}},defaultSorting:{uses:"sorting",show:function e(t,n,r){return!l["a"].isContinuousChart(r.layout)}},modifierDisclaimer:{component:"text",translation:"properties.modifier.sortingDisclaimer",show:function e(t,n,r){return u(n.properties,r.layout)}}}};var f=n("6uJb");var p=n("DGsO");var h={type:"items",items:{autoMinMax:{ref:"measureAxis.autoMinMax",type:"boolean",translation:"properties.axis.range",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},minMax:{type:"string",component:"dropdown",ref:"measureAxis.minMax",options:[{translation:"properties.axis.min",value:"min"},{translation:"Common.Max",value:"max"},{translation:"properties.axis.minMax",value:"minMax"}],defaultValue:"min",show:function e(t){return t.measureAxis&&!t.measureAxis.autoMinMax}},min:{ref:"measureAxis.min",translation:"properties.axis.min",expression:"optional",type:"number",show:function e(t){return t.measureAxis&&["min","minMax"].includes(t.measureAxis.minMax)&&!t.measureAxis.autoMinMax},invalid:function e(t){if(t.measureAxis&&"minMax"===t.measureAxis.minMax)return t.measureAxis.min>=t.measureAxis.max;return false}},max:{ref:"measureAxis.max",translation:"Common.Max",expression:"optional",type:"number",defaultValue:10,show:function e(t){return t.measureAxis&&["max","minMax"].includes(t.measureAxis.minMax)&&!t.measureAxis.autoMinMax},invalid:function e(t){if(t.measureAxis&&"minMax"===t.measureAxis.minMax)return t.measureAxis.min>=t.measureAxis.max;return false}}}};var v=[{value:"all",translation:"properties.axis.show.all"},{value:"labels",translation:"properties.axis.show.labels"},{value:"title",translation:"properties.axis.show.title"},{value:"none",translation:"Common.None"}];var m=[{value:2,translation:"properties.gridLine.wide"},{value:1,translation:"properties.gridLine.medium"},{value:.5,translation:"properties.gridLine.narrow"}];var g={type:"items",items:{show:{type:"string",component:"dropdown",ref:"dimensionAxis.show",translation:"properties.axis.labelsAndTitle",options:v,defaultValue:"all",snapshot:{title:function e(t){return f["default"].get("properties.".concat(this.getXYAxis(t),"Axis"))},getXYAxis:function e(t){return p["a"].isVertical(t)?"x":"y"},group:false,tid:function e(t){return"property-".concat(this.getXYAxis(t),"Axis")}}},label:{type:"string",component:"dropdown",ref:"dimensionAxis.label",translation:"properties.axis.labelOrientation",options:[{value:"auto",translation:"Common.Auto"},{value:"horizontal",translation:"Common.Horizontal"},{value:"tilted",translation:"properties.labels.tilted"}],defaultValue:"auto",show:function e(t,n,r){return p["a"].isVertical(r.layout)&&t.dimensionAxis&&["all","labels"].includes(t.dimensionAxis.show)&&!l["a"].isContinuousChart(r.layout)}},dock:p["a"].getAxisDockProperties("dimensionAxis",{major:true})}};var b={measureAxis:{type:"items",label:f["default"].get("properties.yAxis"),grouped:true,items:{axis:{type:"items",items:{show:{type:"string",component:"dropdown",ref:"measureAxis.show",translation:"properties.axis.labelsAndTitle",options:v,defaultValue:"all"},dock:p["a"].getAxisDockProperties("measureAxis"),spacing:{ref:"measureAxis.spacing",translation:"properties.axis.scale",type:"number",component:"dropdown",defaultValue:1,options:m,show:function e(t){return t.measureAxis&&"none"!==t.measureAxis.show}}}},minMax:h}},flippableMeasureAxis:{uses:"axis.measureAxis",label:function e(t,n){var e;var r="x";var i=p["a"].getMeasures(t,n).map((function(e){return e.qFallbackTitle})).join(", ");p["a"].isVertical(n.layout)&&(r="y");e=i?f["default"].get("properties.".concat(r,"AxisWithInfo"),[i]):f["default"].get("properties.".concat(r,"Axis"));return e},items:{axis:{type:"items",items:{show:{snapshot:{title:function e(t){return f["default"].get("properties.".concat(this.getXYAxis(t),"Axis"))},getXYAxis:function e(t){return p["a"].isVertical(t)?"y":"x"},group:false,tid:function e(t){return"property-".concat(this.getXYAxis(t),"Axis")}}},dock:{options:function e(t,n,r){var i;var a;if(p["a"].isVertical(n.layout)){i=r.yMirrorMode?"properties.dock.right":"properties.dock.left";a=r.yMirrorMode?"properties.dock.left":"properties.dock.right"}else{i="Common.Bottom";a="Common.Top"}return[{value:"near",translation:i},{value:"far",translation:a}]}}}}}},dimensionAxis:{type:"items",label:p["a"].dimensionAxisLabelFn,grouped:true,items:{continuousGroup:{type:"items",items:{auto:{ref:"dimensionAxis.continuousAuto",translation:"properties.axis.continuous",type:"boolean",component:"switch",defaultValue:true,undefinedValue:false,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},preferContinuous:{type:"boolean",ref:"preferContinuousAxis",translation:"properties.axis.preferContinuous",defaultValue:true,undefinedValue:false,show:function e(t){return!t.dimensionAxis.continuousAuto},readOnly:function e(t,n,r){return!l["a"].canBeContinuousChart(r.layout)}},miniChart:{type:"boolean",ref:"showMiniChartForContinuousAxis",translation:"properties.showMiniChart",defaultValue:true,undefinedValue:true,show:function e(t,n,r){return l["a"].isContinuousChart(r.layout)}}}},othersGroup:g}},picasso:{dimensionAxis:{type:"items",label:p["a"].dimensionAxisLabelFn,items:{othersGroup:g}},measureAxis:{type:"items",uses:"axis.flippableMeasureAxis"}}};var y={strokeWidth:{show:false,ref:"style.strokeWidth",type:"number",expression:"optional",defaultValue:0,translation:"LayerStyleEditor.style.strokeWidth"},strokeColor:{show:false,ref:"style.strokeColor",translation:"LayerStyleEditor.style.strokeColor",type:"object",component:"color-picker",dualOutput:true,defaultValue:function e(){return{index:-1,color:"#205891"}}}};var w={strokeWidth:y.strokeWidth,strokeColor:y.strokeColor,width:{show:false,ref:"style.width",type:"number",expression:"optional",defaultValue:.7,translation:"LayerStyleEditor.style.barWidth"}};var S={strokeWidth:y.strokeWidth,strokeColor:y.strokeColor,cornerRadius:{show:false,ref:"style.cornerRadius",type:"number",expression:"optional",defaultValue:0,translation:"LayerStyleEditor.style.cornerRadius"},innerRadius:{show:false,ref:"style.innerRadius",type:"number",expression:"optional",defaultValue:0,translation:"LayerStyleEditor.style.innerRadius"}};var x={box:{type:"items",components:"items",items:w},slice:{type:"items",components:"items",items:S}};var C=n("5Ska");var q=n("BcSl");var E=n("ESef");var I=n("tgnP");var k=n("acVu");function A(e){var t="tooltip.title";var n="tooltip.description";var r={type:"items",translation:"properties.tooltip",grouped:true,items:{auto:{ref:"tooltip.auto",type:"boolean",component:"switch",translation:"properties.tooltip",defaultValue:true,show:function e(t){var n=t.qHyperCubeDef.qDimensions.length>0;return n},options:[{value:true,translation:"properties.tooltip.basic"},{value:false,translation:"properties.tooltip.custom"}]},customTooltip:{type:"items",show:function e(t){var n=t.qHyperCubeDef.qDimensions.length>0;return t.tooltip&&!t.tooltip.auto&&n},items:{hideBasic:{show:function e(){return Object(k["b"])("CUSTOM_TOOLTIP_PHASE2")},ref:"tooltip.hideBasic",type:"boolean",title:{translation:"properties.tooltip.hideBasicInfo"},translation:"properties.tooltip.hideBasic",component:"checkbox",defaultValue:false}}}}};var o={type:"array",component:"tooltip-data",translation:"Common.Measures",allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.measures.add",grouped:false,ref:"tooltip.data.qHyperCubeDef.qMeasures",baseRef:"tooltip.data",items:c["a"].extend(true,{libraryId:{hideModifiersTab:true},inlineMeasure:{hideModifiersTab:true}},e.measures.items,{numberFormatting:{items:{useMasterFormat:null}}})};var s={type:"array",component:"tooltip-data-attr",translation:"Common.Measures",allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.measures.add",grouped:false,id:q["a"].CUSTOM.EXPRESSION,ref:"",items:{libraryId:{type:"string",component:"library-item",libraryItemType:"measure",ref:"qLibraryId",translation:"Common.Measure",hideModifiersTab:true,refFn:function e(t){return i.a.measureBase.getLibraryIdRef(t)},show:function e(t){return i.a.measureBase.getLibraryId(t)}},inlineExpression:{component:"inline-measure",expressionRef:"qExpression",labelRef:"qLabel",labelExpressionRef:"qLabelExpression",hideModifiersTab:true,show:function e(t){return!i.a.measureBase.getLibraryId(t)}},numberFormatting:C["a"].getNumberFormattingPropertiesWithMasterLink({ref:"",isLink:function e(t){return!!t.qLibraryId}})}};var l={type:"string",expression:"optional",translation:"properties.tooltip.custom.title",id:q["a"].CUSTOM.TITLE,change:function e(n,r,i){var o=t;var s=a["a"].getValue(i,o,[]);I["a"].setAttributeExpression(i,q["a"].CUSTOM.TITLE,s,void 0)},refFn:function e(n){var r=I["a"].getValueForAttrExprInfo(n,q["a"].CUSTOM.TITLE,void 0);n.tooltip.title!==r&&(n.tooltip.title=r);return t}};var u={type:"string",component:"textarea",expression:"optional",translation:"properties.tooltip.custom.description",maxlength:E["a"].description,id:q["a"].CUSTOM.DESCRIPTION,change:function e(t,r,i){var o=n;var s=a["a"].getValue(i,o,[]);I["a"].setAttributeExpression(i,q["a"].CUSTOM.DESCRIPTION,s,void 0)},refFn:function e(t){var r=I["a"].getValueForAttrExprInfo(t,q["a"].CUSTOM.DESCRIPTION,void 0);t.tooltip.description!==r&&(t.tooltip.description=r);return n}};var d={component:"image-picker",baseRef:"tooltip.imageComponents",id:q["a"].CUSTOM.IMAGES,max:1};if(Object(k["b"])("CUSTOM_TOOLTIP_REMOVE_LIMITS")){r.items.customTooltip.items.tooltipTitleAttr=l;r.items.customTooltip.items.tooltipDescAttr=u;r.items.customTooltip.items.tooltipDataAttr=s}else r.items.customTooltip.items.tooltipData=o;Object(k["b"])("CUSTOM_TOOLTIP_IMAGES")&&(r.items.customTooltip.items.tooltipImagesPicker=d);return r}var T=n("IlgW");var D=n("UV1h");var O=n("WFGH");function L(e){L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return L(e)}function M(e){if(void 0===e)return"";return"="===e[0]?e:"=".concat(e)}var P={type:"array",ref:"refLine.refLines",translation:"properties.referenceLines",itemTitleRef:function e(t){var n,r;return"object"===L(t.label)?M(null===(n=t.label)||void 0===n||null===(r=n.qStringExpression)||void 0===r?void 0:r.qExpr):t.label},allowAdd:true,allowRemove:true,allowMove:true,add:function e(t,n){var r=D["a"].initializeService("object.".concat(D["a"].getMatch(n.visualization||n.qInfo.qType)));var i=r.getStyle("referenceLine.label.name","color");var a=D["a"].currentPalette.indexOf(i);t.paletteColor={index:a,color:i}},addTranslation:"properties.referenceLines.add",items:{showCondition:{ref:"show",translation:"Object.Container.Props.ShowCondition",component:"expression",expressionType:"ValueExpression",defaultValue:true,convertFunctions:{get:function e(t,n){var r=t(n.type);if("boolean"===typeof r)return r?void 0:0;return r},set:function e(t,n,r){n(r.type,t,void 0)}}},label:{ref:"label",translation:"Common.Label",component:"string",expression:"optional",defaultValue:""},showLabel:{ref:"showLabel",translation:"properties.referenceLines.showLabel",type:"boolean",defaultValue:true},expressionValue:{ref:"refLineExpr.value",translation:"properties.referenceLines.expression",type:"number",expression:"optional",expressionType:"ValueExpression",defaultValue:0,change:function e(t){var n=t.refLineExpr;"object"===L(n.value)?n.label={qStringExpression:{qExpr:n.value.qValueExpression.qExpr}}:n.label="".concat(n.value)}},expressionLabel:{ref:"refLineExpr.label",translation:"properties.referenceLines.expression",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"0",show:false},showValue:{ref:"showValue",translation:"properties.referenceLines.showValue",type:"boolean",defaultValue:true},paletteColor:{ref:"paletteColor",translation:"properties.color",type:"object",component:"color-picker",dualOutput:true,show:function e(t){if(!(null===t||void 0===t?void 0:t.paletteColor)){var n=D["a"].resolveColor(null===t||void 0===t?void 0:t.color);var r={index:-1,color:n};a["a"].setValue(t,"paletteColor",r)}return true}},lineThickness:{component:"slider",type:"number",expression:"optional",ref:"style.lineThickness",translation:"LayerStyleEditor.style.lineThickness",show:false,defaultValue:2,min:1,max:5,step:1},lineType:{component:"dropdown",type:"string",expression:"optional",ref:"style.lineType",translation:"LayerStyleEditor.style.lineType",show:true,defaultValue:"",options:[{value:"",translation:"LayerStyleEditor.style.solid"},{value:"8 4",translation:"LayerStyleEditor.style.dashed"}],convertFunctions:{get:function e(t,n){var r=t(n.type);if(void 0===r||""===r)return"";return"8 4"}}},colorBackground:{ref:"coloredBackground",translation:"properties.referenceLines.coloredBackground",type:"boolean",defaultValue:false,show:true}}};var N={type:"array",ref:"refLine.refLines",translation:"properties.referenceLines",itemTitleRef:function e(t){var n,r;return"object"===L(t.label)?"=".concat((null===(n=t.label)||void 0===n||null===(r=n.qStringExpression)||void 0===r?void 0:r.qExpr)||""):t.label},allowAdd:true,allowRemove:true,allowMove:true,add:function e(t,n){var r=D["a"].initializeService("object.".concat(D["a"].getMatch(n.visualization||n.qInfo.qType)));var i=r.getStyle("referenceLine.label.name","color");var a=D["a"].currentPalette.indexOf(i);t.paletteColor={index:a,color:i}},addTranslation:"properties.referenceLines.add",items:{show:{ref:"show",translation:"Common.Show",type:"boolean",defaultValue:true},label:{ref:"label",translation:"Common.Label",component:"string",expression:"optional",defaultValue:""},paletteColor:{ref:"paletteColor",translation:"properties.color",type:"object",component:"color-picker",dualOutput:true,show:function e(t){if(!(null===t||void 0===t?void 0:t.paletteColor)){var n=D["a"].resolveColor(null===t||void 0===t?void 0:t.color);var r={index:-1,color:n};a["a"].setValue(t,"paletteColor",r)}return true}},expressionValue:{ref:"refLineExpr.value",translation:"properties.referenceLines.expression",type:"number",expression:"optional",expressionType:"ValueExpression",defaultValue:0,change:function e(t){var n=t.refLineExpr;"object"===L(n.value)?n.label={qStringExpression:{qExpr:n.value.qValueExpression.qExpr}}:n.label="".concat(n.value)}},expressionLabel:{ref:"refLineExpr.label",translation:"properties.referenceLines.expression",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"0",show:false}}};var R=Object(k["b"])("DIM_REF_LINES")?P:N;var F=R;function _(e){_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return _(e)}function j(e){if(void 0===e)return"";return"="===e[0]?e:"=".concat(e)}var B={type:"array",ref:"refLine.dimRefLines",translation:"properties.dimensionReferenceLines",show:function e(t){var n;return((null===t||void 0===t||null===(n=t.qHyperCubeDef)||void 0===n?void 0:n.qDimensions)||[]).length>0},itemTitleRef:function e(t){var n,r;return"object"===_(t.label)?j(null===(n=t.label)||void 0===n||null===(r=n.qStringExpression)||void 0===r?void 0:r.qExpr):t.label},allowAdd:true,allowRemove:true,allowMove:true,add:function e(t,n){void 0===n.refLine.dimRefLines&&(n.refLine.dimRefLines=[]);var r=D["a"].initializeService("object.".concat(D["a"].getMatch(n.visualization||n.qInfo.qType)));var i=r.getStyle("referenceLine.label.name","color");var a=D["a"].currentPalette.indexOf(i);t.paletteColor={index:a,color:i}},addTranslation:"properties.referenceLines.add",items:{showCondition:{ref:"show",translation:"Object.Container.Props.ShowCondition",component:"expression",expressionType:"ValueExpression",defaultValue:""},label:{ref:"label",translation:"Common.Label",component:"string",expression:"optional",defaultValue:""},showLabel:{ref:"showLabel",translation:"properties.referenceLines.showLabel",type:"boolean",defaultValue:true},expressionValue:{ref:"refLineExpr.value",translation:"properties.referenceLines.expression",type:"number",expression:"optional",expressionType:"ValueExpression",defaultValue:0,show:function e(t,n,r){return l["a"].canBeContinuousChart(r.layout)},change:function e(t){var n=t.refLineExpr;"object"===_(n.value)?n.label={qStringExpression:{qExpr:n.value.qValueExpression.qExpr}}:n.label="".concat(n.value)}},expressionLabel:{ref:"refLineExpr.label",translation:"properties.referenceLines.expression",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"0",show:false},stringValue:{ref:"refLineExpr.stringValue",translation:"properties.dimensionReferenceLines.dimensionValue",component:"string",expression:"optional",defaultValue:"",show:function e(t,n,r){return!l["a"].canBeContinuousChart(r.layout)}},showValue:{ref:"showValue",translation:"properties.referenceLines.showValue",type:"boolean",defaultValue:true},align:{ref:"align",translation:"properties.Alignment",type:"string",component:"item-selection-list",defaultValue:"center",horizontal:true,items:[{icon:"align_object_left",component:"icon-item",labelPlacement:"bottom",translation:"properties.AlignStart",value:"start"},{icon:"align_object_center",component:"icon-item",labelPlacement:"bottom",translation:"properties.AlignCenter",value:"center"},{icon:"align_object_right",component:"icon-item",labelPlacement:"bottom",translation:"properties.AlignEnd",value:"end"}],show:function e(t,n,r){return!l["a"].isContinuousChart(r.layout)}},paletteColor:{ref:"paletteColor",translation:"properties.color",type:"object",component:"color-picker",dualOutput:true,show:function e(t){if(!(null===t||void 0===t?void 0:t.paletteColor)){var n=D["a"].resolveColor(null===t||void 0===t?void 0:t.color);var r={index:-1,color:n};a["a"].setValue(t,"paletteColor",r)}return true}},lineThickness:{component:"slider",type:"number",expression:"optional",ref:"style.lineThickness",translation:"LayerStyleEditor.style.lineThickness",show:false,defaultValue:2,min:1,max:5,step:1},lineType:{component:"dropdown",type:"string",expression:"optional",ref:"style.lineType",translation:"LayerStyleEditor.style.lineType",show:true,defaultValue:"",options:[{value:"",translation:"LayerStyleEditor.style.solid"},{value:"8 4",translation:"LayerStyleEditor.style.dashed"}],convertFunctions:{get:function e(t,n){var r=t(n.type);if(void 0===r||""===r)return"";return"8 4"}}},colorBackground:{ref:"coloredBackground",translation:"properties.referenceLines.coloredBackground",type:"boolean",defaultValue:false}}};var V=B;function H(e){H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return H(e)}var z={sortingWithDisclaimer:d,sorting:s,axis:b,styling:x};var $=["barchart","linechart","piechart"];var U=O["default"].getLogicFor("hard","default");function G(e){var t=c["a"].getValue(e,"qHyperCubeDef.qMeasures",[]);return i.a.limitedSorting({measures:t,properties:e})}function W(e){void 0===a["a"].getValue(e,"color.useMeasureGradient")&&a["a"].setValue(e,"color.useMeasureGradient",false);var t=a["a"].getValue(e,"color.auto");var n=a["a"].getValue(e,"color.mode");return!t&&"byMeasure"===n&&"libraryItem"===a["a"].getValue(e,"color.byMeasureDef.type")}z.divider={type:"items",grouped:true,items:{divider:{type:"items"}}};z.general={type:"items",translation:"properties.general",grouped:true,items:{showTitles:{translation:"properties.showTitles",type:"boolean",ref:"showTitles",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],snapshot:{tid:"property-showTitles"}},titles:{type:"items",show:function e(t){return false!==t.showTitles},items:{title:{translation:"Common.Title",component:"string",expression:"optional",ref:"title",defaultValue:""},subtitle:{translation:"properties.subtitle",type:"string",expression:"optional",ref:"subtitle",defaultValue:""},footnote:{translation:"properties.footnote",type:"string",expression:"optional",ref:"footnote",defaultValue:""}}},cellNavMenu:{type:"items",show:Object(k["b"])("OBJECT_HOVER_TOGGLE"),items:{disableNavMenu:{ref:"disableNavMenu",type:"boolean",translation:"properties.disableHoverMenu",defaultValue:false}}},details:{type:"items",show:true,items:{showDetails:{translation:"properties.showDetails",type:"boolean",ref:"showDetails",component:"switch",defaultValue:false,options:[{value:true,translation:"Common.Show"},{value:false,translation:"properties.hide"}]},allowShowDetailsMessage:{component:"text",translation:"properties.allowShowDetails",style:"hint"}}}}};z.metadata={type:"items",translation:"properties.metadata",schemaIgnore:true,show:function e(t){return"masterobject"===t.qInfo.qType},grouped:true,items:{name:{translation:"Common.Name",type:"string",ref:"qMetaDef.title",minlength:1,rollbackInvalid:true,show:function e(t){return t.qMetaDef}},labelExpression:{translation:"metadata.labelExpression",type:"string",component:"expression",expressionType:"StringExpression",expression:"always",change:function e(t){var n=c["a"].getValue(t,"labelExpression.qStringExpression.qExpr");n||(t.labelExpression=void 0)},ref:"labelExpression",show:function e(t){return!!t.qMetaDef}},description:{translation:"Common.Description",type:"string",component:"textarea",expression:"optional",change:function e(t,n,r){if("object"===H(r.qMetaDef.description)){r.descriptionExpression=r.qMetaDef.description;r.qMetaDef.description=""}else if("string"===typeof r.descriptionExpression&&r.descriptionExpression){r.qMetaDef.description=r.descriptionExpression;r.descriptionExpression=void 0}},refFn:function e(t){var n="object"===H(t.descriptionExpression);return n?"descriptionExpression":"qMetaDef.description"},maxlength:E["a"].description,show:function e(t){return t.qMetaDef}},tags:{translation:"Common.Tags",component:"tags",type:"array",ref:"qMetaDef.tags",show:function e(t){return t.qMetaDef}}}};z.settings={type:"items",component:"expandable-items",translation:"Common.Appearance",items:{metadata:z.metadata,general:z.general}};o["a"].inClient()&&(z.settings.items.selections=T["a"]);z.addons={type:"items",component:"expandable-items",translation:"properties.addons",items:{}};z.dimensions={type:"array",component:"dimensions",translation:"Common.Dimensions",alternativeTranslation:"properties.alternative.dimensions",ref:"qHyperCubeDef.qDimensions",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions",min:1,allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.dimensions.add",grouped:true,items:{libraryId:{type:"string",component:"library-item",libraryItemType:"dimension",ref:"qLibraryId",translation:"Common.Dimension",show:function e(t){return t.qLibraryId}},inlineDimension:{component:"inline-dimension",show:function e(t){return!t.qLibraryId}},autoSort:{ref:"qDef.autoSort",type:"boolean",defaultValue:true,show:false},cId:{ref:"qDef.cId",type:"string",show:false},nullSuppression:{type:"boolean",ref:"qNullSuppression",defaultValue:false,translation:"properties.dimensions.showNull",inverted:true},dimensionLimits:{type:"items",items:{otherMode:{type:"string",component:"dropdown",ref:"qOtherTotalSpec.qOtherMode",translation:"properties.dimensionLimits.limitation",options:[{value:"OTHER_OFF",translation:"properties.dimensionLimits.none"},{value:"OTHER_COUNTED",translation:"properties.dimensionLimits.fixedNumber"},{value:"OTHER_ABS_LIMITED",translation:"properties.dimensionLimits.exactValue"},{value:"OTHER_REL_LIMITED",translation:"properties.dimensionLimits.relativeValue"}],defaultValue:"OTHER_OFF",readOnly:function e(t,n){return 0===n.getMeasures().length},change:function e(t){var n=a["a"].getValue(t,"qOtherTotalSpec.qOtherMode");var r;if("OTHER_REL_LIMITED"===n){r=a["a"].getValue(t,"qOtherTotalSpec.qOtherLimit.qv","0");if(r.length&&"%"!==r[r.length-1]&&c["a"].isNumeric(r)){t.qOtherTotalSpec.qOtherLimit||a["a"].setValue(t,"qOtherTotalSpec.qOtherLimit",{qv:"0"});t.qOtherTotalSpec.qOtherLimit.qv="".concat(r,"%")}}else if("OTHER_ABS_LIMITED"===n){r=a["a"].getValue(t,"qOtherTotalSpec.qOtherLimit.qv","0");if(r.length&&"%"===r[r.length-1]){t.qOtherTotalSpec.qOtherLimit||a["a"].setValue(t,"qOtherTotalSpec.qOtherLimit",{qv:"0"});t.qOtherTotalSpec.qOtherLimit.qv=r.substr(0,r.length-1)}}}},otherSortMode:{type:"string",component:"buttongroup",ref:"qOtherTotalSpec.qOtherSortMode",options:[{value:"OTHER_SORT_DESCENDING",translation:"properties.dimensionLimits.fixedNumber.sortDescendingLabel"},{value:"OTHER_SORT_ASCENDING",translation:"properties.dimensionLimits.fixedNumber.sortAscendingLabel"}],defaultValue:"OTHER_SORT_DESCENDING",show:function e(t,n){return"OTHER_COUNTED"===a["a"].getValue(t,"qOtherTotalSpec.qOtherMode")&&n.getMeasures().length>0}},otherCounted:{component:"expression",expressionType:"ValueExpr",ref:"qOtherTotalSpec.qOtherCounted",defaultValue:{qv:"10"},show:function e(t,n){return"OTHER_COUNTED"===a["a"].getValue(t,"qOtherTotalSpec.qOtherMode")&&n.getMeasures().length>0}},otherLimitMode:{type:"string",component:"buttongroup",ref:"qOtherTotalSpec.qOtherLimitMode",options:[{value:"OTHER_GE_LIMIT",label:">=",tooltipTranslation:"properties.greaterOrEqualTo"},{value:"OTHER_GT_LIMIT",label:">",tooltipTranslation:"properties.greaterThan"},{value:"OTHER_LT_LIMIT",label:"<",tooltipTranslation:"properties.lessThan"},{value:"OTHER_LE_LIMIT",label:"<=",tooltipTranslation:"properties.lessOrEqualTo"}],defaultValue:"OTHER_GE_LIMIT",icon:true,smallIconFont:true,show:function e(t,n){var r=a["a"].getValue(t,"qOtherTotalSpec.qOtherMode");return("OTHER_ABS_LIMITED"===r||"OTHER_REL_LIMITED"===r)&&n.getMeasures().length>0}},otherLimit:{component:"expression",expressionType:"ValueExpr",ref:"qOtherTotalSpec.qOtherLimit",defaultValue:{qv:"0"},show:function e(t,n){var r=a["a"].getValue(t,"qOtherTotalSpec.qOtherMode");return("OTHER_ABS_LIMITED"===r||"OTHER_REL_LIMITED"===r)&&n.getMeasures().length>0}},calculatedAgainstMessage:{component:"text",label:function e(t,n){var r=n.getMeasureLayouts()[0];if(r)return f["default"].get("Properties.DimensionLimits.CalculatedAgainst",r.qFallbackTitle);return f["default"].get("Properties.DimensionLimits.NoMeasure")},show:function e(t){var n=a["a"].getValue(t,"qOtherTotalSpec.qOtherMode");return"OTHER_OFF"!==n}},modifierDisclaimer:{component:"text",translation:"properties.modifier.dimensionLimitDisclaimer",show:function e(t,n){var r=a["a"].getValue(t,"qOtherTotalSpec.qOtherMode");return"OTHER_OFF"!==r&&G(n.properties)}}}},others:{type:"items",items:{suppressOther:{type:"boolean",ref:"qOtherTotalSpec.qSuppressOther",translation:"properties.dimensionLimits.showOthers",inverted:true,defaultValue:false,show:function e(t,n){return"OTHER_OFF"!==a["a"].getValue(t,"qOtherTotalSpec.qOtherMode")&&n.getMeasures().length>0}},othersLabel:{type:"string",expression:"optional",ref:"qDef.othersLabel",translation:"properties.dimensionLimits.othersLabel",defaultValue:function e(){return f["default"].get("properties.dimensionLimits.others")},change:function e(t){if(t.qDef){var n=t.qDef.othersLabel||"";if("object"===H(n)){n=n.qStringExpression&&n.qStringExpression.qExpr||"";t.qOtherLabel={qv:0===n.indexOf("=")?n:"=".concat(n)}}else t.qOtherLabel={qv:n}}},show:function e(t,n){return!a["a"].getValue(t,"qOtherTotalSpec.qSuppressOther")&&"OTHER_OFF"!==a["a"].getValue(t,"qOtherTotalSpec.qOtherMode")&&n.getMeasures().length>0}},othersLabel2:{type:"string",component:"expression",expressionType:"StringExpr",ref:"qOtherLabel",translation:"properties.dimensionLimits.othersLabel",defaultValue:function e(){return f["default"].get("properties.dimensionLimits.others")},show:false}}}}};z.measures={type:"array",component:"measures",translation:"Common.Measures",ref:"qHyperCubeDef.qMeasures",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",min:1,allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.measures.add",grouped:true,items:{libraryId:{type:"string",component:"library-item",libraryItemType:"measure",ref:"qLibraryId",translation:"Common.Measure",refFn:function e(t){return i.a.measureBase.getLibraryIdRef(t)},show:function e(t){return i.a.measureBase.getLibraryId(t)}},inlineMeasure:{component:"inline-measure",expressionRef:function e(t){return i.a.measureBase.getExpressionRef(t)},show:function e(t){return!i.a.measureBase.getLibraryId(t)}},autoSort:{ref:"qDef.autoSort",type:"boolean",defaultValue:true,show:false},cId:{ref:"qDef.cId",type:"string",show:false},numberFormatting:C["a"].getNumberFormattingPropertiesWithMasterLink({ref:"qDef",isLink:function e(t){return i.a.measureBase.getLibraryId(t)}})}};z.reflines=F;z.dimReflines=V;z.staticCalcCond={type:"items",items:{expr:{ref:"qHyperCubeDef.qCalcCond",type:"string",component:"expression",expressionType:"ValueExpr",translation:"properties.hyperCube.calcCond"},customErrorMessage:{ref:"qHyperCubeDef.customErrorMessage.calcCond",component:"textarea",defaultValue:"",type:"string",placeholderTranslation:"Object.ErrorMessage.CalculationCondition",translation:"properties.hyperCube.calcCondMessage",show:function e(t){var n=a["a"].getValue(t,"qHyperCubeDef.qCalcCond");return n.qv&&""!==n.qv}}}};z.dataHandling={type:"items",translation:"properties.dataHandling",grouped:true,items:{suppressZero:{ref:"qHyperCubeDef.qSuppressZero",defaultValue:false,translation:"properties.hyperCube.showZero",type:"boolean",inverted:true},calcCond:{uses:"staticCalcCond"}}};z.calcCond={component:"calc-cond",ref:"qHyperCubeDef",schemaIgnore:true};z.colorsAndLegend={type:"items",translation:"properties.colorsAndLegend",grouped:true,items:{colors:{type:"items",items:{autoColor:{ref:"color.auto",type:"boolean",translation:"properties.colors",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},colorMode:{ref:"color.mode",type:"string",component:"dropdown",options:U.color.colorMode.options,defaultValue:"primary",show:U.color.colorMode.show,globalChange:function e(t,n){U.color.colorBy.globalChange(t,n,"qHyperCubeDef.")}},colorByDimension:{ref:"color.byDimDef",schemaIgnore:true,translation:"properties.colorBy.selectDimension",type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"dimension",show:U.color.colorBy.dimension.show,change:U.color.colorBy.dimension.change},colorByMeasure:{numFormatRef:"color.formatting",ref:"color.byMeasureDef",schemaIgnore:true,translation:"properties.colorBy.selectMeasure",type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"measure",show:U.color.colorBy.measure.show,change:U.color.colorBy.measure.change},colorByLabel:{type:"string",ref:"color.altLabel",schemaIgnore:true,translation:"Common.Label",expression:"optional",show:U.color.colorBy.label.show,change:U.color.colorBy.label.change},numberFormatting:C["a"].getNumberFormattingPropertiesWithMasterLink({ref:"color.formatting",show:function e(t){var n,r,i,a,o,s,l,c;var u=Object(k["b"])("NUM_FMT_CBM_S1")&&$.indexOf(t.qInfo.qType)>-1;return u&&!(null===t||void 0===t||null===(n=t.color)||void 0===n?void 0:n.auto)&&"byMeasure"===(null===t||void 0===t||null===(r=t.color)||void 0===r?void 0:r.mode)&&(null===t||void 0===t||null===(i=t.color)||void 0===i||null===(a=i.byMeasureDef)||void 0===a||null===(o=a.key)||void 0===o?void 0:o.length)>0&&-1===(null!==(s=null===t||void 0===t||null===(l=t.color)||void 0===l||null===(c=l.byMeasureDef)||void 0===c?void 0:c.activeMeasureIndex)&&void 0!==s?s:-1)},isLink:function e(t){var n,r;return"libraryItem"===(null===t||void 0===t||null===(n=t.color)||void 0===n||null===(r=n.byMeasureDef)||void 0===r?void 0:r.type)}}),divider:z.divider,baseColors:{type:"items",items:{useBaseColor:{ref:"color.useBaseColors",type:"string",translation:"properties.useLibraryColors",component:"dropdown",show:U.color.baseColor.show,globalChange:function e(t){"byMultiple"===a["a"].getValue(t,"color.mode","")&&"dimension"===a["a"].getValue(t,"color.useBaseColors","")&&a["a"].setValue(t,"color.useBaseColors","measure")},defaultValue:"off",options:function e(t,n){var r=[{value:"off",translation:"Common.None"}];U.color.baseColor.hasMeasureColor(n)&&U.color.baseColor.isSupported(t.visualization)&&r.push({value:"measure",translation:"Common.Measure"});U.color.baseColor.hasDimensionColor(n)&&"byMultiple"!==t.color.mode&&r.push({value:"dimension",translation:"Common.Dimension"});return r}},measureColor:{translation:"properties.libraryColors",component:"measure-color",show:U.color.baseColor.showColors}}},paletteColor:{ref:"color.paletteColor",translation:"properties.color",type:"object",component:"color-picker",readOnly:U.color.paletteColor.readOnly,dualOutput:true,show:U.color.paletteColor.show,defaultValue:U.color.paletteColor.defaultValue},useDimColVal:{ref:"color.useDimColVal",translation:"properties.libraryColors",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],show:U.color.useDimColVal.show},useMeasureGradient:{ref:"color.useMeasureGradient",translation:"properties.libraryColors",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],show:function e(t){return W(t)}},persistentColors:{ref:"color.persistent",translation:"properties.colorPersistence",type:"boolean",defaultValue:false,show:U.color.persistentColors.show,readOnly:U.color.persistentColors.readOnly},attributeExpression:{type:"string",component:"expression",expressionType:"measure",schemaIgnore:true,ref:"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0.qExpression",change:U.color.attributeExpression.change,globalChange:U.color.attributeExpression.globalChange,translation:"Common.Expression",show:U.color.attributeExpression.show},expressionIsColor:{ref:"color.expressionIsColor",translation:"properties.expressionIsColor",type:"boolean",defaultValue:true,show:U.color.expressionIsColor.show},expressionLabel:{type:"string",ref:"color.expressionLabel",translation:"Common.Label",change:U.color.expressionLabel.change,show:U.color.expressionLabel.show},colorSchemeMeasure:{ref:"color.measureScheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",defaultValue:a["a"].getValue(D["a"],"scales.0.propertyValue","sg"),items:U.helpers.getMeasureSchemeOptions,show:function e(t){return U.color.colorSchemeMeasure.show(t)&&(!W(t)||!a["a"].getValue(t,"color.useMeasureGradient"))}},reverseScheme:{ref:"color.reverseScheme",translation:"properties.reverseColorScheme",type:"boolean",defaultValue:false,show:U.color.reverseScheme.show},colorSchemeDimension:{ref:"color.dimensionScheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",defaultValue:a["a"].getValue(D["a"],"dataPalettes.0.propertyValue","12"),items:U.helpers.getDimensionSchemeOptions,show:U.color.colorSchemeDimension.show},customRange:{type:"items",items:{autoMinMax:{ref:"color.autoMinMax",type:"boolean",translation:"properties.axis.range",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:U.color.customRange.autoMinMax.show},min:{ref:"color.measureMin",translation:"properties.axis.min",expression:"optional",type:"number",show:U.color.customRange.min.show,invalid:U.color.customRange.min.invalid},max:{ref:"color.measureMax",translation:"Common.Max",expression:"optional",type:"number",defaultValue:10,show:U.color.customRange.max.show,invalid:U.color.customRange.max.invalid}},show:U.color.customRange.show}}},legend:{show:U.legend.show,type:"items",items:{show:{ref:"legend.show",type:"boolean",translation:"properties.legend.show",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}]},dock:{type:"string",component:"dropdown",ref:"legend.dock",translation:"properties.legend.position",options:[{value:"auto",translation:"Common.Auto"},{value:"right",translation:"properties.dock.right"},{value:"bottom",translation:"Common.Bottom"},{value:"left",translation:"properties.dock.left"},{value:"top",translation:"Common.Top"}],defaultValue:"auto",show:U.legend.dock.show},showTitle:{ref:"legend.showTitle",translation:"properties.legend.showTitle",type:"boolean",defaultValue:true,show:U.legend.showTitle.show}}}}};z.data={type:"items",component:"hypercube-data",translation:"Common.Data",addTranslation:"Properties.AddData",allowAdd:true,items:{dimensions:z.dimensions,measures:z.measures}};z.layers={component:"layers"};z.tooltip=A(z);var Q=t["a"]=z},SrgQ:function(e,t,n){"use strict";t["a"]={DEFAULT_STATE_TRANSLATION:"AlternateState.DefaultState",DEFAULT_STATE_NAME:"$"}},SswE:function(e,t,n){"use strict";var r=n("sWge");var i=n("d2XC");var a=n("NWF7");var o=n("czhI");var s=n.n(o);var l=n("/2No");var c=[{dataSourceId:"scripteditor.flatfilechooser.files.all",id:"scripteditor.flatfilechooser.files.all",dataSourceName:"scripteditor.dataconnectors.filedirectory",displayName:"scripteditor.dataconnectors.filedirectory",category:"file",provider:"folder",connectorType:{provider:"folder",isStorageProvider:false,type:"folder",displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main",needsConnect:false,isStandardConnector:true}},{dataSourceId:"ODBC",dataSourceName:"scripteditor.dataconnectors.ODBC",displayName:"scripteditor.dataconnectors.ODBC",category:"database",provider:"ODBC",connectorType:{provider:"ODBC",isStorageProvider:false,type:"ODBC",displayName:"scripteditor.dataconnectors.ODBC",connectDialog:"scripteditor.views/odbcconnectdialog/odbcconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-odbc-connector/connector-main",needsConnect:true,isStandardConnector:true}},{dataSourceId:"OLEDB",dataSourceName:"scripteditor.dataconnectors.OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",category:"database",connectorType:{provider:"OLEDB",isStorageProvider:false,type:"OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",connectDialog:"scripteditor.views/oledbconnectdialog/oledbconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-oledb-connector/connector-main",needsConnect:true,isStandardConnector:true}},{dataSourceId:"internet",dataSourceName:"internet",displayName:"internet",category:"web",connectorType:{provider:"internet",isStorageProvider:false,type:"internet",displayName:"scripteditor.dataconnectors.webfile",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectDialog:"scripteditor.views/webfilechooser/webfilechooser",connectorMain:"assets/hldm/data-connectors/native-webfile-connector/connector-main",needsConnect:false,isStandardConnector:true}},{dataSourceId:"BDI",dataSourceName:"BDI",displayName:"QBDI",category:"database",connectorType:{provider:"BDI.exe",isStorageProvider:false,type:"BDI",displayName:"QBDI",selectDialog:"assets/hldm/data-connectors/bdi/bdi-select-dialog",connectDialog:"assets/hldm/data-connectors/bdi/bdi-connect-dialog",connectorMain:"assets/hldm/data-connectors/bdi/connector-main",needsConnect:true,isStandardConnector:true}}].map((function(e){return new a["a"](e)}));var u=c;function d(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){d(a,r,i,o,s,"next",e)}function s(e){d(a,r,i,o,s,"throw",e)}o(void 0)}))}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),true).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var m="".concat(l["a"].rootPath,"api/dcaas/datasources");var g=function e(t){var n={};var r=t.map((function(e){var t=h(h({},e),{},{providerInfo:{},connectorType:{}});var r=e.provider.substr(0,e.provider.lastIndexOf("."))||e.provider;var i="".concat(l["a"].rootPath,"customdata/64/").concat(r,"/web");var o="".concat(r,".root");n[o]=i;t.displayName=e.dataSourceName;t.connectorType.connectDialog="".concat(o,"/connectdialog");t.connectorType.selectDialog="".concat(o,"/selectdialog");t.connectorType.selectStep="".concat(o,"/select-step");t.connectorType.connectStep="".concat(o,"/connect-step");t.connectorType.connectorMain="".concat(o,"/connector-main");t.connectorType.isStorageProvider=false;t.connectorType.type="custom";t.connectorType.needsConnect=true;t.connectorType.provider=e.provider;t.connectorType.isStorageProvider=false;t.category="database";return new a["a"](t)}));window.requirejs.config.call(null,{paths:n});return r};var b=function(){var e=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return s()({method:"GET",url:m});case 2:t=n.sent;return n.abrupt("return",g(t.data.dataSources).concat(u));case 4:case"end":return n.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();var y=function e(){var t=s()({method:"GET",url:"".concat(l["a"].rootPath,"api/v0/connectorregistryproxy/datasources")}).then((function(e){return e.data}));return t};var w=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return b();return y()};var S=w;function x(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){x(a,r,i,o,s,"next",e)}function s(e){x(a,r,i,o,s,"throw",e)}o(void 0)}))}}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function I(e,t,n){t&&E(e.prototype,t);n&&E(e,n);return e}var k=function(){function e(t,n){q(this,e);this.app=t;this.useDcaas=n}I(e,[{key:"getConnections",value:function e(){this.connections=[];return this.connections}},{key:"getDataSources",value:function(){var e=C(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(this.dataSources){n.next=5;break}n.next=3;return S(this.useDcaas);case 3:t=n.sent;this.dataSources=t;case 5:return n.abrupt("return",this.dataSources);case 6:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]);return e}();var A=k;var T=n("acVu");function D(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){D(a,r,i,o,s,"next",e)}function s(e){D(a,r,i,o,s,"throw",e)}o(void 0)}))}}var L;var M;var P=[];var N={};var R={};var F;var _=Object(T["b"])("CLIENT_DCAAS");function j(e,t,n){if(M)return M.promise.then((function(){return L}));M=new r["a"];function o(e){var t=e.provider;if(!N[t]){var a=new r["a"];N[t]=a.promise;-1!==P.indexOf(e.connectorMain)?a.resolve(void 0):i["a"].loadComponent(e,"connectorMain").then((function(t){t&&t.create?r["a"].when(t.create(n.getServersideConnectorProxy(e.provider))).then((function(e){a.resolve(e)}),(function(){a.resolve(void 0)})):a.resolve(void 0)}),(function(){P.push(e.connectorMain);a.resolve(void 0)}))}return N[t]}function s(e){return c.apply(this,arguments)}function c(){c=O(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return o(t);case 3:n=a.sent;a.next=9;break;case 6:a.prev=6;a.t0=a["catch"](0);return a.abrupt("return",void 0);case 9:r={entrypoints:[{id:t.provider,scriptOnly:true}]};i={connectorType:t,connectorMain:n||r};return a.abrupt("return",i);case 12:case"end":return a.stop()}}),e,null,[[0,6]])})));return c.apply(this,arguments)}function u(e){return e.filter((function(e){return e&&(e.loadLater||e.connectorMain)}))}function d(){return f.apply(this,arguments)}function f(){f=O(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return n.getDataconnectorTypes();case 2:t=a.sent;r=t.map(s);a.next=6;return Promise.all(r);case 6:i=a.sent;return a.abrupt("return",i);case 8:case"end":return a.stop()}}),e)})));return f.apply(this,arguments)}function p(e){if(!R[e.id]){var t=new r["a"];R[e.id]=t.promise;if(e.type){if(_)return{connectorInstance:e,loadLater:true};o(e.type).then((function(n){var r={connectorInstance:e,connectorMain:n};t.resolve(r)}),(function(){t.resolve(void 0)}))}else t.resolve(void 0)}return R[e.id]}function h(e){var t="";switch(e){case"scripteditor.flatfilechooser.files.all":t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-folder-all-logo.png");break;case"scripteditor.flatfilechooser.files.excel":t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-folder-excel-logo.png");break;case"scripteditor.flatfilechooser.files.qvd":t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-folder-qvd-logo.png");break;case"scripteditor.flatfilechooser.files.qvx":t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-folder-qvx-logo.png");break;case"scripteditor.flatfilechooser.files.delimited":t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-folder-delimited-logo.png");break;case"internet":t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-internet-logo.png");break;case"odbc":t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-odbc-logo.png");break;case"oledb":t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-oledb-logo.png");break;default:t="".concat(l["a"].staticResourcesPath,"img/connector-logos/connector-generic-logo.png");break}return t}function v(){return m.apply(this,arguments)}function m(){m=O(regeneratorRuntime.mark((function e(){var t,r,i,s,l,c,f,v,m,g,b,y,w,S,x;return regeneratorRuntime.wrap((function e(C){while(1)switch(C.prev=C.next){case 0:L.selectDialogsEnabled=false;L.addButtonEnabled=false;L.connectorTypesByName={};if(!_){C.next=12;break}t=new A({},true);r={};i=L.allConnectorEntrypoints;if(i){C.next=10;break}i={database:[],file:[],web:[],datamarket:[]};return C.abrupt("return",t.getDataSources().then((function(e){e.forEach((function(e){e.setCanCreate(n.hasCreatePrivileges(F,e.getConnectorType()));e.getBestImage();e.setLoadConnectorMain(o);i[e.getCategory()].push(e)}));return n.getDataconnectorInstances().then((function(e){return Promise.all(e.map(p)).then(u).then((function(e){L.connections=e;L.allConnectorEntrypoints=i;L.entryPointProviderToIdMap=r;L.completeConnectionPromises=R;return L}))}))})));case 10:C.next=30;break;case 12:C.next=14;return d();case 14:s=C.sent;L.connectors=s;l=L.allConnectorEntrypoints;if(!l){l={database:[],file:[],web:[],datamarket:[]};f={};c={};for(v in s){m=s[v].connectorMain;for(g in m.entrypoints){b=m.entrypoints[g];b.imagePath||(b.imagePath=h(b.id));l[b.category]=l[b.category]||[];y=new a["a"]({entrypoint:b,connectorMain:m,connectorType:s[v].connectorType,canCreate:n.hasCreatePrivileges(F,s[v].connectorType.type.toLowerCase())});y.getBestImage();l[b.category].push(y)}1===m.entrypoints.length&&m.entrypoints[0].id&&(c[s[v].connectorType.provider.toLowerCase()]=m.entrypoints[0].id.toLowerCase());f[s[v].connectorType.type]=m}}C.next=20;return n.getDataconnectorInstances();case 20:w=C.sent;C.next=23;return Promise.all(w.map(p));case 23:S=C.sent;x=u(S);L.connections=x;L.allConnectorEntrypoints=l;L.entryPointProviderToIdMap=c;L.completeConnectionPromises=R;return C.abrupt("return",L);case 30:return C.abrupt("return",void 0);case 31:case"end":return C.stop()}}),e)})));return m.apply(this,arguments)}function g(e,t,r){return n.getServersideConnectorProxy(e,t,r)}function b(e,t){return n.getDataconnectorInstances().then((function(r){for(var i=0;i<r.length;i++){var a=t?e:n.appendUsernameSuffix(e);if(r[i].name.toLowerCase()===a.toLowerCase())return r[i]}return}))}function y(e){for(var t in L.connections)if(L.connections[t].connectorInstance.name===e)return L.connections[t];return}L={connectors:[],connections:[],completeConnectionPromises:{},allConnectorEntrypoints:void 0,populateList:v,getConnectionServersideProxy:g,getConnectionFromServer:b,getConnectionFromModel:y,getCompleteConnectionInstance:p};return t.getAppLayout().then((function(e){F=e.qLayout.create;return v().then((function(e){M.resolve();return e}))}))}var B=t["a"]={createDataconnectorsModel:j}},Sug7:function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("6uJb");var o=n("sWge");var s=n("Hb6E");var l=n("X8RK");var c=n("k+Ch");var u=n("JbzQ");var d=n("3ex9");var f=n("4nJ1");var p=n("5ezW");var h=n("crFG");var v=n("/uMw");var m=n("xy4o");var g=n("VqUS");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),true).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function C(e,t,n){t&&x(e.prototype,t);n&&x(e,n);return e}var q=function(){function e(){S(this,e);this.fieldList=[];this.queryString=[];this.queryTokens=[];this.caoSearchQueryHandlers=[];this.selectedFields=[];this.itemTokens=[];this.valueTokens=[]}C(e,[{key:"createFieldList",value:function e(){var t=this;var n=[];return c["a"].getList().then((function(e){return e.getLayout()})).then((function(e){n=n.concat(e);return t.getMasterItems()})).then((function(e){n=n.concat(e);t.fieldList=t.sortFields(n);return m["a"].filterFields(t.fieldList).then((function(e){t.fieldList=e;return t.fieldList}))}))}},{key:"getFields",value:function e(){return this.fieldList}},{key:"getSelectedFields",value:function e(t){return this.getFields().filter((function(e){return e.selected})).filter((function(e){var n=t.indexOf(e.qName);return n>-1}))}},{key:"getItemTokens",value:function e(){return this.itemTokens}},{key:"setItemTokens",value:function e(t){this.itemTokens=t}},{key:"getValueTokens",value:function e(){return this.valueTokens}},{key:"setValueTokens",value:function e(t){this.valueTokens=t}},{key:"syncFieldsInQueryWithFieldPicker",value:function e(t){var n=this.getSelectedFields(t);this.fieldList=this.fieldList.map((function(e){var t=i.a.find(n,(function(t){return t.caoFieldId===e.caoFieldId}));e.selected=!!t;return e}))}},{key:"getMeasureMasterItems",value:function e(){var t=this;return l["a"].getList().then((function(e){return e.getLayout().then((function(e){t.measureMasterItems=e.map((function(e){return{qName:e.qData.title,classifications:["measure"],simplifiedClassifications:["measure"],masterItem:true,libId:e.qInfo.qId,libIdLabel:e.qMeta.title,isDrillDown:"H"===e.qData.grouping}}));return t.measureMasterItems}))}))}},{key:"getDimensionMasterItems",value:function e(){var t=this;return u["a"].getList().then((function(e){return e.getLayout().then((function(e){t.dimensionMasterItems=e.map((function(e){return{qName:e.qData.title,classifications:["dimension"],simplifiedClassifications:["dimension"],dataTypes:e.qData.info[0]&&e.qData.info[0].qTags.indexOf("$text")>-1?["string"]:[],masterItem:true,libId:e.qInfo.qId,libIdLabel:e.qMeta.title}}));return t.dimensionMasterItems}))}))}},{key:"getMasterItems",value:function e(){var t=[];return o["a"].all({measureItems:this.getMeasureMasterItems(),dimItems:this.getDimensionMasterItems()}).then((function(e){t=e.measureItems.concat(e.dimItems);return t}))}},{key:"getMasterDimensions",value:function e(t){return this.getMatchingFields(void 0,t).filter((function(e){return e.masterItemDimension&&!e.isDrillDown})).map((function(e){return e.qName}))}},{key:"addDataValues",value:function e(t,n,r,i,a){var o=this;t.forEach((function(e){n.push({qName:e.qText,highlightedText:o.getHighlightedText(a,e.qText,r),qIdentifier:i,caoFieldId:"cao_data_value_".concat(g["a"].generateId())})}))}},{key:"getDataValuesResults",value:function e(t,n,r,i,a,o){var s=this;var l=[];var c=this.getMasterDimensions(a);r.lastGroupIndex+=t.qSearchGroupArray.length;r.lastSearchTerm=t.qSearchTerms[0];t.qSearchGroupArray.forEach((function(e){var t=e.qItems[0].qIdentifier;var r=e.qItems[0].qItemMatches;var u=m["a"].isFieldDisabled(t);var d=s.getFields().some((function(e){return t===e.qName}));a&&!c.includes(t)||o&&(u||!d)||s.addDataValues(r,l,n,t,i)}));return l.sort((function(e,t){return t.highlightedText.length-e.highlightedText.length}))}},{key:"sortFields",value:function e(t){var n=this;t=t.map((function(e){var t="cao_field_".concat(e.qName);t=t.split(" ").join("_");e.masterItem||(1===e.qSrcTables.length?e.tablesAssociated="".concat(e.qSrcTables[0]," ").concat(a["default"].get("cao.search.field.table")):e.tablesAssociated=a["default"].get("cao.search.field.table.title",e.qSrcTables.length));e.qSrcTables&&(e.tablesTooltip=e.qSrcTables.join(", "));e.name=e.qName;e.caoFieldId=e.masterItem?"".concat(t,"masterItem_").concat(e.libId):t;e.highlight=false;e.classificationIcon=n.getFieldClassificationIcon(e);e.displayNameTokens=[{text:e.qName,matching:false}];if(e.classifications&&e.classifications.length>0){e.masterItemDimension="dimension"===e.classifications[0]&&e.masterItem;e.masterItemMeasures="measure"===e.classifications[0]&&e.masterItem}e.masterItem&&(e.masterItemTitle=e.masterItemDimension?a["default"].get("cao.fieldPicker.masterItem.dimension"):a["default"].get("cao.fieldPicker.masterItem.measure"));return e}));return d["a"].localeOrderBy(t,(function(e){return e.qName}))}},{key:"getFieldClassificationIcon",value:function e(t){var n;var r=i.a.find(t.qTags,(function(e){return"$date"===e}));var a=i.a.find(t.qTags,(function(e){return"$geoname"===e}));r?n="lui-icon--calendar":a&&(n="lui-icon--map");return n}},{key:"indexesOfWordInString",value:function e(t,n){t=t.toLowerCase();n=n.toLowerCase();var r=[];var i=t.indexOf(n);i>-1&&r.push(i);while(i>-1){i=t.indexOf(n,++i);i>-1&&r.push(i)}return r}},{key:"updateUserSelectedToken",value:function e(t,n){var r=n.indexOf(t.text);if(-1===r)return false;r!==t.startPos&&(t.startPos=r);return true}},{key:"getQueryTokensBasedOnQuotes",value:function e(t,n){var r=this;var i=[];if(t&&t.length>0){var a=t.split(" ");var o=0;var s=null;var l=null;var c=null;var u=false;a.forEach((function(e,d){s='"'===e.charAt(0);l='"'===e.charAt(e.length-1);d<a.length-1&&(c='"'===a[d+1].charAt(0));if(s){o=d;u=true;if(1===a.length&&s){n||(e=e.substring(1));i.push(r.createToken(e,i,t,false));u=false}else if(d===a.length-1&&a.length>1){e=a.slice(o,d+1).join(" ");n||(e=e.substring(1));i.push(r.createToken(e,i,t,false));u=false}if(u&&c&&!l){e=a.slice(o,d+1).join(" ");n||(e=e.substring(1));i.push(r.createToken(e,i,t,false));u=false}}else if(u&&c&&!l){e=a.slice(o,d+1).join(" ");n||(e=e.substring(1));i.push(r.createToken(e,i,t,false));u=false}else if(l){e=a.slice(o,d+1).join(" ");i.push(r.createToken(e,i,t,!n));u=false}else if(u&&d===a.length-1){e=a.slice(o,d+1).join(" ");n||(e=e.substring(1));i.push(r.createToken(e,i,t,false));u=false}else u||i.push(r.createToken(e,i,t,false))}))}this.itemTokens=this.itemTokens.filter((function(e){return r.updateUserSelectedToken(e,t)}));this.valueTokens=this.valueTokens.filter((function(e){return r.updateUserSelectedToken(e,t)}));this.queryTokens=i;return this.queryTokens}},{key:"createToken",value:function e(t,n,r,i){var a;var o=t.length;if(n&&n.length>0){var s=n[n.length-1];a=r.indexOf(t,s.indexEnd)}else a=r.indexOf(t);""===t&&(o=1);return{word:i?t.substr(1).slice(0,-1):t,indexStart:""===t?a+1:a,indexEnd:a+o}}},{key:"addStringToQueryAtIndex",value:function e(t,n,r){var i="";if(n&&n.length>0){var a=n;var o=n.slice(0,r).trim();var s=a.slice(r).trim();i=o+t+s}return i}},{key:"getCurrentToken",value:function e(t,n,r){var i={index:null,token:null};var a=this.getQueryTokensBasedOnQuotes(t,r);a.some((function(e,r){if(n>=e.indexStart&&n<=e.indexEnd||n-1===e.indexEnd&&" "===t[e.indexEnd]){i.index=r;i.token=e;return true}return false}));return i}},{key:"mergeTokens",value:function e(t,n,r){var i=[y(y({},n.token),{},{index:n.index})];var a=n.index-1;var o=t[a];var s=n.token.word;var l=r.toLowerCase().indexOf(s.toLowerCase())>-1;while(o&&l){var c=f["a"].escapeRegExp(o.word);var u=f["a"].escapeRegExp(s);var d="".concat(c,".*").concat(u).toLowerCase();l=o.word.length&&r.toLowerCase().match(new RegExp(d));if(l){i.push(y(y({},o),{},{index:t.indexOf(o)}));s="".concat(o.word," ").concat(s)}a--;o=t[a]}if(i.length>1){t.splice(i[i.length-1].index,i.length,{word:s});n.index=i[i.length-1].index;n.token.indexStart=i[i.length-1].indexStart;n.token.indexEnd=i[i.length-1].indexStart+r.length}}},{key:"getHighlightedText",value:function e(t,n,r){var i="";var a=t.toLowerCase().trim();var o=n.toLowerCase();var s=a.length>o.length?a.length-o.length:0;var l=0===s||" "!==a.charAt(s)&&" "===a.charAt(s-1);while(s<=a.length){var c=a.substring(s++,a.length);if(l&&-1!==o.indexOf(c)){i=c;break}l=" "!==a.charAt(s)&&" "===a.charAt(s-1)}var u=o.indexOf(i);if(" "!==o.charAt(u-1)){var d=i.split(/\s+/);while(0!==u&&" "!==o.charAt(u))u--;var f=o.slice(u).split(/\s+/);d.length>1&&f.length>1&&d[0]!==f[0]&&(i=i.replace(/(\S+\s+){1}/,""))}var p=r&&""===i&&" "!==t.charAt(t.length-1);i=p?r:i;return i}},{key:"trimSpacesInQuery",value:function e(t){var n=this.itemTokens.map((function(e){return y({},e)}));var r=this.valueTokens.map((function(e){return y({},e)}));var i=/\s{2,}/g;var a=i.exec(t);while(null!==a){n=n.map((function(e){e.startPos>a.index&&(e.startPos=e.startPos-a[0].length+1);return e}));r=r.map((function(e){e.startPos>a.index&&(e.startPos=e.startPos-a[0].length+1);return e}));a=i.exec(t)}return{query:t.replace(/\s{2,}/g," "),itemTokens:n,valueTokens:r}}},{key:"getNluSearchPhraseAndTokens",value:function e(t){var n=this.trimSpacesInQuery(t);return{phrase:n.query,itemTokens:n.itemTokens,valueTokens:n.valueTokens}}},{key:"removeFieldFromQuery",value:function e(t,n,r){var i=this.indexesOfWordInString(n,t.qName);if(i.length>1){r=r.filter((function(e){return e.caoFieldId!==t.caoFieldId})).map((function(e){e.indexStartOfFieldInQuery=n.indexOf(e.qName);e.indexEndOfFieldInQuery=n.indexOf(e.qName)+e.qName.length;return e}));var a=-1;i.forEach((function(e){r.forEach((function(r){a=e!==r.indexStartOfFieldInQuery?e:n.indexOf(t.qName)}))}));if(-1===a)n=n.replace(t.qName,"");else{var o=n.split("");o.splice(a,t.qName.length);n=o.join("")}}else n=n.replace(t.qName,"");return n.replace(/^\s+/g,"")}},{key:"newUserSelectedToken",value:function e(t,n){var r={startPos:t,text:n.qName};if(n.libId)r.sourceLibId=n.libId;else if(n.qIdentifier){var i=this.getFields().some((function(e){return!e.libId&&e.qName===n.qIdentifier}));i&&(r.sourceField=n.qIdentifier)}else r.sourceField=n.qName;return r}},{key:"isMiddleOfField",value:function e(t,n,r){var i=false;var a=t.index;var o=n[a].word;while(!i&&a<n.length-1){o="".concat(o," ").concat(n[++a].word);i=o===r}return i}},{key:"addFieldToQuery",value:function e(t,n,r,i,a,o){n=n||"";var s=t.qName.match(" ")||t.qName.match(String.fromCharCode(160));var l=s&&!o?'"'.concat(t.qName,'"'):t.qName;var c=this.getQueryTokensBasedOnQuotes(n,o);var u=0;var d=a-i>0;if(d){var f=n.split("");f.splice(i,a-i,l);n=f.join("");u=i+l.length+1}else if(""===n){n=l;u=r+l.length+1}else if(c.length>0&&t){var p=this.getCurrentToken(n,r,o);if(null!==p.index){this.mergeTokens(c,p,l);var h=this.isMiddleOfField(p,c,l);h||(c[p.index]={word:t.qName});n=c.map((function(e,t){if(t===p.index&&t<c.length-1&&c[t+1].word){if(e.word.match(" ")&&!o)return'"'.concat(e.word,'"');return"".concat(e.word)}return e.word.match(" ")&&!o?'"'.concat(e.word,'"'):e.word})).join(" ");u=p.token.indexStart+l.length+1}else{var v=" ".concat(l);n=this.addStringToQueryAtIndex(v,n,r);u=r+l.length+1}}var m=this.newUserSelectedToken(u-l.length-1,t);var g=t.qIdentifier?this.valueTokens:this.itemTokens;var b=g.findIndex((function(e){return e.startPos===m.startPos}));b>-1?g[b]=m:g.push(m);n=n.replace(/^\s+/g,"");return{query:n,cursorPosition:u}}},{key:"registerForCaoSearchQuery",value:function e(t){this.caoSearchQueryHandlers.push(t)}},{key:"unRegisterFromCaoSearchQuery",value:function e(){this.caoSearchQueryHandlers=[]}},{key:"getMatchingFields",value:function e(t,n,r){var i=this;var a=[];var o=this.fieldList;var s;t?t=t?t.toLowerCase():"":t&&""!==t||(s=true);a=o.filter((function(e){var r=e.qName.toLowerCase();if(s||p["a"].string(r).indexOf(p["a"].string(t))>-1)return!n||n&&e.masterItem;return false}));a=f["a"].unique(a).filter((function(e){return d["a"].librarySearchFn(e,t)}));if(r){a.forEach((function(e){e.highlightedText=i.getHighlightedText(r,e.qName,t)}));return a.sort((function(e,t){return t.highlightedText.length-e.highlightedText.length}))}return d["a"].localeOrderBy(a,(function(e){return e.qName}))}},{key:"clearSelectedFields",value:function e(){this.selectedFields=[];v["a"].clearSelection()}},{key:"setSelectedFields",value:function e(t){this.selectedFields=t;return this.selectedFields}},{key:"selectField",value:function e(t,n){var r=this.selectedFields.filter((function(e){return e.caoFieldId===t.caoFieldId}))[0];r&&n?this.selectedFields.splice(this.selectedFields.indexOf(r),1):r&&!n?this.selectedFields=[]:n?this.selectedFields.push(t):this.selectedFields=[t];return this.selectedFields}},{key:"updateInsights",value:function e(t){var n=this;this.caoSearchQueryHandlers.forEach((function(e){e&&e({query:t,fields:n.selectedFields})}));v["a"].clearSelection()}},{key:"showIntro",value:function e(t){this.caoSearchQueryHandlers.forEach((function(e){e&&e({showIntro:t})}))}},{key:"matchingField",value:function e(t,n,r,i,a,o){var l;var c;var u;if(i){l=n>0&&n<=r.length+(a||0)+1;c=E(n,r,i,a,o)}else{l=n>0&&n<=r.length-1;c=n>=-1&&n<r.length-1}switch(t){case s["a"].KeyCodes.Up:l&&n--;break;case s["a"].KeyCodes.Down:c&&n++;u=n>=-1&&n===r.length+a+1;if(u)return{highlightShowMoreButton:true,index:n};break;case s["a"].KeyCodes.Tab:n<0&&n++;break;default:break}if(i){var d;n<r.length?d=r[n]:n>=r.length&&(d=i[n-r.length]);return{field:d,index:n}}return r[n]}},{key:"getLibLabelLookup",value:function e(){return this.getFields().filter((function(e){return e.libId})).reduce((function(e,t){e[t.libId]=t.libIdLabel;return e}),{})}},{key:"getLibItemLookup",value:function e(){return this.getFields().filter((function(e){return e.libId})).reduce((function(e,t){e[t.libId]=t;return e}),{})}},{key:"getFieldLookup",value:function e(){return this.getFields().filter((function(e){return!e.libId})).reduce((function(e,t){e[t.qName]=t;return e}),{})}}]);return e}();function E(e,t,n,r,i){var a=false;i||(a=e===t.length+n.length-1);var o=e>=-1&&e<t.length+(r||0)+1&&(i||!a);return o}t["a"]=new q},"T+/0":function(e,t,n){"use strict";var r=n("4nJ1");var i=function e(t,n,r){return"qLayoutExclude.quarantine.".concat(t,".").concat(n,".").concat(r)};function a(e,t,n,a,o){var s=r["a"].getValue(o,a);if(void 0===s)return;var l=r["a"].getValue(o,"qDef.cId");if(!l){l=r["a"].generateId();r["a"].setValue(o,"qDef.cId",l)}var c=i(t,n,l);r["a"].setValue(e,c,s);r["a"].setValue(o,a,void 0)}function o(e,t,n,a,o){var s=r["a"].getValue(o,"qDef.cId");if(!s)return;var l=i(t,n,s);var c=r["a"].getValue(e,l);if(void 0===c)return;r["a"].setValue(o,a,c);r["a"].setValue(e,l,void 0)}function s(e,t,n,i,o){var s=r["a"].getValue(e,t,[]);s.forEach((function(t){return a(e,o,i,n,t)}))}function l(e,t,n,i,a){var s=r["a"].getValue(e,t,[]);s.forEach((function(t){return o(e,a,i,n,t)}))}t["a"]={quarantineArrayProp:s,unquarantineArrayProp:l}},T0sl:function(e,t,n){"use strict";var r=n("TmNk");var i=n.n(r);var a=n("6uJb");var o=n("GF7R");var s=n("fwzx");var l=n("Zn0i");var c=n("TLJm");var u=n("R2Yu");var d=n("4nJ1");var f=n("e5Ml");var p=function e(t,n,r){var i=r===f["j"]?s["a"].IDMAP.CELL_LINK_URL:s["a"].IDMAP.CELL_LINK_LABEL;var a=s["a"].getIndexById(t.qAttrExprInfo,i);if(a>-1){var o=n.qAttrExps;o=void 0===o?{}:o;var l=o.qValues;l=void 0===l?[]:l;var c=l[a],u=void 0===c?{}:c;return u}return};var h=function e(t){return d["a"].isNumeric(t)?"".concat(t):void 0};var v=function e(t,n){return t?"":n.urlLabel};var m=" ";var g=function(e,t,n,r){var i=r||{},a=i.urlPosition,o=void 0===a?f["k"]:a;var s=p(n,t,o);var l=o===f["j"]?s:t;var c=o===f["j"]?t:s;if(l&&l.qText&&!l.qIsNull)try{e.url=u["a"].encodeForHref(l.qText);e.representation=f["e"]}catch(t){e.url="";e.representation=f["d"]}var d;var g=c||{},b=g.qText,y=g.qNum;var w=l||{},S=w.qText;d=o===f["k"]?b||h(y)||v(c,r)||S||m:b||h(y)||S||m;return{text:d}};var b=n("i72x");var y=n("gKi2");var w=function(e,t,n,r){var i=r.indicator,a=void 0===i?{}:i;var o=t.qNum,s=t.qIsNull;var l=n.conditionalColoring;var c=d["a"].getValue(n,"conditionalColoring.segments.limits");var u=b["a"].getAutoMinMax(c,o);var p=!Number.isNaN(+o);if(!p){e.representation=f["d"];return{}}var h=Math.abs(o);var v=u&&!Number.isNaN(+u.min)?u.min:o-h;var m=u&&!Number.isNaN(+u.max)?u.max:o+h;var g=b["a"].getSegmentIndex(l,o,v);var w=b["a"].getIcon(l.segments,g)||"";var S=y["a"].getIconClass(w);var x;if(b["a"].shouldBlend(l.segments,g)){var C=m===v?.5:(o-v)/(m-v);x=b["a"].blendValue(l.segments,C,v,m)}else x=b["a"].resolveColorSegment(l.segments,g);e.representation=f["b"];e.indicatorCssClass=s?"":S;e.indicatorColor=x;e.indicatorPosition="left"!==a.position?"right":"left";e.indicatorShowText=a.showTextValues;return{textColor:!(!a.applySegmentColors||s)&&x}};var S=function(e,t,n){if(!t.qMiniChart||!n.qMiniChart||t.qIsNull){e.representation=f["d"];return{}}e.representation=f["c"];e.miniChart={cellData:t.qMiniChart,measureData:n.qMiniChart,options:n.representation.miniChart};return{text:""}};function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function q(e,t,n){t&&C(e.prototype,t);n&&C(e,n);return e}var E=function(){function e(){x(this,e);this.index=0;this.table={}}q(e,[{key:"add",value:function e(t){this.table[this.index]=t;this.index++}},{key:"mapIndexToPseudoId",value:function e(t,n){var r=this;if(0===t.length){this.add((n||{}).qElemNo);return}t.forEach((function(e){var t="P"===e.qType?e:void 0;r.mapIndexToPseudoId(e.qSubNodes,t||n)}))}}]);return e}();var I=E;var k;function A(e){A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return A(e)}function T(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var D=new o["a"](255,255,255,1);var O=(k={},T(k,f["b"],w),T(k,f["c"],S),T(k,f["e"],g),k);function L(e,t,n,r){if(!Array.isArray(e))return false;if(!r)return true;return e.length===t.length+n.length}function M(e){var t=l["a"].getColumnOrder(e);var n=e.qDimensionInfo||[];var r=e.qMeasureInfo||[];if(L(t,n,r,false))return t;return P(n,r)}function P(e,t){var n;var r=[];var i=e.length;var a=t.length;for(n=0;n<i;++n)r.push(n);for(n=0;n<a;++n)r.push(i+n);return r}function N(e){var t=e.qDimensionInfo;var n=e.qMeasureInfo;var r=t.concat(n);var i=M(e);var a=[];var o;var s;for(o=0;o<i.length;++o){s=i[o];Oe(r[s])||a.push(s)}return a}function R(e,t){var n=[];var r=e.rows.length;for(var i=0;i<r;++i){var a=e.rows[i];var o=a.cells.length;t<o&&t>=0&&n.push(a.cells[t])}return n}function F(e,t,n,r){var i=_(e,t,n);var a=i.length;var o=[];for(var s=0;s<a;++s){var l=i[s];l.dataValue===r&&o.push(l)}return o}function _(e,t,n){var r=e.getRowsByCellType(t);var i=r.length;var a=[];for(var o=0;o<i;++o){var s=r[o];var l=s.cells.length;for(var c=0;c<l;++c){var u=s.cells[c];u.type===t&&u.dataColIx===n&&a.push(u)}}return a}function j(e,t,n){var r;var i;var a;var o;var s=e.getRowsByCellType(t);var l=s.length;var c;var u=[];for(r=0;r<l;++r){a=s[r];c=a.cells.length;for(i=0;i<c;++i){o=a.cells[i];o.type===t&&o.dataRowIx===n&&u.push(o)}}return u}function B(e,t,n,r){var i;var a;var o;var s=e.getRowsByCellType(t);var l=s.length;var c=null;var u;for(i=0;i<l;++i){o=s[i];u=o.cells.length;for(a=0;a<u;++a){c=o.cells[a];if(c.dataColIx===n&&c.dataRowIx===r)return c}}return null}function V(e,t,n){var r=n.isIndentMode?1:e.leftTreeDepth;return e.getHeaderCell(e.topTreeDepth,t+r)}function H(e,t){if(t.type===e.CELL_TYPE_LEFT||t.type===e.CELL_TYPE_DATA)return _(e,t.type,t.dataColIx);return j(e,t.type,t.dataRowIx)}function z(e,t,n){var r=H(e,t);var i=r.length;var a=[];var o;var s;for(s=0;s<i;++s){o=r[s];o.dataValue===n&&a.push(o)}return a}function $(e,t){var n=N(t);var r=n[e]||0;var i=t.qDimensionInfo.concat(t.qMeasureInfo);var a=i[r];var o=i.filter(Le);return{colInfo:a,dataColIx:r,effectiveDataColIx:o.indexOf(a)}}function U(e){return e.qDimensionInfo.filter(Le).length}function G(e,t){var n=t.qGrandTotalRow[e-U(t)];n&&n.qText||(n={qText:""});return n}function W(e){if(!e)return false;return"qDimensionType"in e}function Q(e){if(void 0===e)return true;return void 0===e.textAlign||e.textAlign.auto}function K(e){if(void 0===e)return"left";return e.textAlign&&e.textAlign.align}function Y(e){var t=e&&e.representation;if(!t)return{};if("object"!==A(t))return{type:t};return t}function J(e){return e.qHyperCube.qMeasureInfo.length>0&&e.qHyperCube.qGrandTotalRow.length>0}function Z(e){return 0===e.qHyperCube.qDimensionInfo.length}function X(e){var t;return true===(null===(t=e.totals)||void 0===t?void 0:t.show)}function ee(e){if(X(e)&&Z(e))return false;return J(e)&&e.totals&&(e.totals.show||"noTotals"!==e.totals.position)}function te(e){return!(ee(e)&&e.totals&&!e.totals.show&&"bottom"===e.totals.position)}function ne(e){return[{qText:e.qFallbackTitle,qSubNodes:[],qType:"P",qUp:0,qDown:0,qElemNo:0,qValue:"NaN"}]}function re(e,t,n,r,i,a,o,s,l){var c;var u;var d;var f;var p;var h;var v;var m;var g;for(c=0;c<a.length;++c){u=a[c];g=se(u)||!!l;m=s.getDimInfo(s.leftDimCnt,r);d=i.getHeaderRow(e);f=d.getNextCell();f.type=i.CELL_TYPE_TOP;f.locked=!ue(u)&&m.qLocked;f.isDimensionValue=!ue(u)&&!ae(u)&&!g&&!le(u);f.isNumeric=!Number.isNaN(+u.qNum);ue(u)||(f.textAlign=Q(m)?"center":K(m));p=u.qText;if(ae(u)){h=s.leftCellCnt+t;h>=s.pseudoDimIndex&&h--;p=s.layout.qHyperCube.qDimensionInfo[h].othersLabel}f.setTopHeader(p,u.qElemNo,1,1,t,o+n,oe(u),g);ge(f,u);if(g||u.qCanCollapse||u.qCanExpand){f.addClass("bold");f.setCollapseExpandClass(u);d.addClass("bold")}if(u.qSubNodes.length){v=re(e+1,t+1,n,r+1,i,u.qSubNodes,o,s,g);f.colspan=v-n;n=v}else n++}return n}function ie(e,t,n,r){r.dataColumnsInfo.cnt>0&&re(1,0,0,0,e,t,n,r);var i=e.topTreeDepth+1;if(!r.isIndentMode&&0===e.topTreeDepth){i=2;e.headerRows[0].addClass("last-top-row")}e.setNextHeaderIx(i);e.headerRows[i-1].addClass("last-top-row")}function ae(e){return-3===e.qElemNo}function oe(e){return-2===e.qElemNo}function se(e){return-1===e.qElemNo}function le(e){return-4===e.qElemNo}function ce(e){return se(e)||le(e)}function ue(e){return"P"===e.qType}function de(e){return e.qCanCollapse||e.qCanExpand||e.qSubNodes.length&&!ue(e.qSubNodes[0])}function fe(e,t){return 0===e&&(se(t)||ue(t))||!ce(t)&&!ue(t)}function pe(e,t,n,r,i,a,o,s){var l;var c=0;var u=i.getRow(e);var d=o.getDimInfo(n);var f=!ue(r)&&!ae(r)&&!se(r)&&!oe(r);var p=!!d&&d.qLocked;var h=se(r);if(n>0){l=u.addEmptyHeaderCell(a+e,t,1,n,"left",oe(r));l.type=i.CELL_TYPE_LEFT;l.isDimensionValue=f;l.locked=p;l.dataValue=r.qElemNo}if(r.qCanCollapse||r.qCanExpand){l=u.addLeftCollapseExpandCell(a+e,t,r,oe(r),h);l.type=i.CELL_TYPE_LEFT;l.isDimensionValue=f;l.locked=p;l.dataValue=r.qElemNo;c=-1}l=u.getNextCell();ge(l,r);l.type=i.CELL_TYPE_LEFT;l.isDimensionValue=f;l.locked=p;l.setTextAlign(Q(d),K(d));s=s||r.qText;ae(r)&&(s=d.othersLabel);l.setLeftHeader(s,r.qElemNo,1,o.leftCellCnt-n+c,a+e,t,oe(r),h);if(h||de(r)){l.addClass("bold");u.addClass("bold")}return l}function he(e,t,n,r,i,a,o,s,l,c,u){var d;var f;var p;var h;for(d=0;d<i.length;++d){f=i[d];if(fe(t,f)){a=f;o=t;s=n}t>0&&ue(f)&&(l=f);if(f.qSubNodes.length){h=n+(t>0&&ue(f)?0:1);e=he(e,t+1,h,r,f.qSubNodes,a,o,s,l,c,u)}else{p=a.qText;if(l){p+=oe(a)?" ":" - ".concat(l.qText);l=null}pe(e,o,s,a,r,c,u,p);++e}}return e}function ve(e,t,n,r,i,a,o){var s;var l;var c;var u;var d;var f;var p;var h=0;var v;var m;var g;var b;for(s=0;s<r.length;++s){l=r[s];b=se(l)||!!o;v=a.getDimInfo(t);m=!ue(l)&&!ae(l)&&!b;g=!!v&&v.qLocked;c=n.getRow(e);if(le(l)){u=c.getNextCell();u.type=n.CELL_TYPE_LEFT;u.dataValue=l.qElemNo;u.isDimensionValue=m;u.locked=g;u.setLeftHeader("",-4,1,2)}else{u=c.getNextCell();u.type=n.CELL_TYPE_LEFT;u.isDimensionValue=m;u.locked=g;if(l.qCanCollapse||l.qCanExpand){d=u;d.setLeftHeader("",l.qElemNo,1,1,i+e,t,oe(l),b);d.setCollapseExpandClass(l);u=c.getNextCell();u.type=n.CELL_TYPE_LEFT;u.isDimensionValue=m;u.locked=g;h=1}p=l.qText;ae(l)&&(p=v.othersLabel);u.setLeftHeader(p,l.qElemNo,1,2-h,i+e,t,oe(l),b);ge(u,l);u.setTextAlign(Q(v),K(v));if(b){u.addClass("bold");c.addClass("bold")}}if(l.qSubNodes.length){f=ve(e,t+1,n,l.qSubNodes,i,a,b);u.rowspan=f-e;d&&(d.rowspan=u.rowspan);e=f}else{var y=a.leftCellCnt-2*(t+1);if(y>0){u=c.getNextCell();u.type=n.CELL_TYPE_LEFT;u.dataValue=l.qElemNo;u.isDimensionValue=m;u.locked=g;u.setLeftHeader("",-4,1,y)}++e}}return e}function me(e,t,n,r){r.isIndentMode?he(0,0,0,e,t,null,-1,-1,null,n,r):ve(0,0,e,t,n,r)}function ge(e,t){var n;var r;e.style.backgroundColor="";e.color.bgByExpression=false;e.color.bgIsDark=false;if("U"!==t.qType&&t.qAttrExps&&t.qAttrExps.qValues&&t.qAttrExps.qValues.length){r="NaN"!==t.qAttrExps.qValues[0].qNum?t.qAttrExps.qValues[0].qNum:t.qAttrExps.qValues[0].qText;n=new o["a"](r,"argb");if(!n.isInvalid()){e.color.bgByExpression=true;1!==n.getAlpha()&&(n=o["a"].getBlend(D,new o["a"](n._r,n._g,n._b,1),n.getAlpha()));e.style.backgroundColor=n.toHex();e.color.bgIsDark=n.isDark()&&n.getAlpha()>.5}}e.style.color="";if(t.qAttrExps&&t.qAttrExps.qValues&&t.qAttrExps.qValues.length>1){r="NaN"!==t.qAttrExps.qValues[1].qNum?t.qAttrExps.qValues[1].qNum:t.qAttrExps.qValues[1].qText;n=new o["a"](r,"argb");n.isInvalid()||(e.style.color=n.toRGBA())}}function be(e,t,n,r,i,a){var o=i.layout.qHyperCube.qMeasureInfo.filter(Le);var s;var l;var c;var u;var d;var f;var p;var h;var v;for(s=0,c=t.length;s<c;++s){f=e.getNextRow();0===e.leftTreeDepth&&f.addEmptyHeaderCell(n+s,r,1,1);u=Math.min(i.dataColumnsInfo.cnt,t[s].length);0===u&&0===s&&f.cells[0].addClass("first-data-cell");for(l=0;l<u;++l){p=f.getNextCell();p.type=e.CELL_TYPE_DATA;d=t[s][l];p.setData(d.qText,1,1,n+s,r+l);p.addClass("data");v=i.pseudoInLeftTree?a.table[s]:i.pseudoInTopTree?a.table[l]:0;h=o[v];p.isNumeric=!Number.isNaN(+d.qNum);p.setTextAlign(Q(h),K(h));0===s&&0===l&&p.addClass("first-data-cell");"U"===d.qType&&p.setNullClass(true);Number.isNaN(+d.qNum)||p.addClass("numeric");(f.hasClass("bold")||V(e,l,i).isTotal)&&p.addClass("bold");ge(p,d)}}}function ye(e,t,n,r,i,a,o,s){var l;var c;var u;var d;var f;var p;for(l=0;l<o;++l){u=t.getRow(n+l);f=a&&a[l]?a[l].length:1;for(c=0;c<f;++c){d=u.getCell(r+c);d.rowspan=1;d.colspan=1;d.style.backgroundColor="";d.style.color="";d.color.bgByExpression=false;d.color.bgIsDark=false;d.isFillColumn=false;p=a&&a[l]&&a[l][c];if(p)xe(t,d,p,e,i,l,c,s);else{d.setDefaults();d.isFillColumn=true}}u.setNextCellIx(r+c)}t.setNextRowIx(n+l)}function we(e,t,n,r){var i=s["a"].getIndexById(t.qAttrExprInfo,n);if(-1!==i){var a="NaN"!==e.qAttrExps.qValues[i].qNum?e.qAttrExps.qValues[i].qNum:e.qAttrExps.qValues[i].qText;var l=new o["a"](a,"argb");if(r&&1!==l.getAlpha())return o["a"].getBlend(D,new o["a"](l._r,l._g,l._b,1),l.getAlpha());return l}return false}function Se(e){return e&&e.length>2048?"".concat(e.substring(0,2048),"…"):e}function xe(e,t,n,r,i,a,o,l){o=i?i.qLeft+o:null;var c=$(o,r.qHyperCube);var u=c.colInfo;var d=c.dataColIx;var p=c.effectiveDataColIx;var h;var v;var m=Y(u);t.colspan=W(u)?2:1;t.type=e.CELL_TYPE_DATA;t.isOtherCell=n.qIsOtherCell;t.isTotalCell=n.qIsTotalCell;t.representation=f["d"];t.isNumeric=!Number.isNaN(+n.qNum);var g=O[m.type];var b=g?g(t,n,u,m):{};var y=Se(b.text||n.qText);void 0!==y&&""!==y||(y=" ");t.setText(y);t.setTextAlign(Q(u),K(u));if(t.isOtherCell){t.setText(u.othersLabel);t.setTextAlign(Q(u),K(u))}t.locked=u.qLocked;t.dataValue=n.qElemNumber;t.dataColIx=d;t.effectiveDataColIx=p;t.dataRowIx=l?i.qTop+i.qHeight-a-1:i.qTop+a;t.isNumeric=!Number.isNaN(+n.qNum);t.isNullValue=t.isDimensionValue?-2===t.dataValue:n.qIsNull;t.isDimensionValue=!t.isNullValue&&W(u);t.selected=false;t.selectedHighlighted=false;t.color.bgByExpression=false;if(!t.isNullValue){h=we(n,u,s["a"].IDMAP.CELL_BACKGROUND_COLOR,true);if(h&&!h.isInvalid()){t.color.bgByExpression=true;t.style.backgroundColor=h.toHex();t.color.bgIsDark=h.isDark()&&h.getAlpha()>.5;if(1===e.headerRows.length){v=e.getHeaderRow(0).cells.filter((function(e){return e.dataColIx===t.dataColIx}))[0];v.color.bgIsDark=h.isDark()}}}if(b.textColor)t.style.color=b.textColor;else{h=we(n,u,s["a"].IDMAP.CELL_FOREGROUND_COLOR);h&&!h.isInvalid()&&(t.style.color=h.toRGBA())}}function Ce(e,t){var n;var r;var i;var a=e.getHeaderRow(0);n=e.getHeaderRow(e.topTreeDepth);var o=0===e.topTreeDepth&&!t.isIndentMode;o&&(n=e.getHeaderRow(1));if(t.dataColumnsInfo.cnt>0&&t.leftCellCnt>0){r=a.addEmptyMetaCell(e.topTreeDepth,t.leftCellCnt,"left-meta");r.templateSrc="pt-meta-left.ng.html";r.addClass("meta");a===n&&r.addClass("bottom-meta")}if(t.dataColumnsInfo.cnt>0){var s=o?2:1;i=a.addEmptyMetaCell(s,t.dataColumnsInfo.cnt);i.addClass("top-meta").addClass("meta");i.templateSrc="pt-meta-top.ng.html"}if(n!==a)for(var l=0;l<t.leftColumns.length;l++){r=n.addEmptyMetaCell(1,t.leftColumns[l].length,"left-meta");r.addClass("bottom-meta");r.text=" "}}function qe(e,t){if(t.length)return qe(e+1,t[0].qSubNodes);return e}function Ee(e,t){var n;var r;var i;var o;var s;var l;var c=e.headerRows[0].getCellSize();if(ee(t)&&te(t))r=e.getNextHeaderRow();else{if(!ee(t))return;r=e.getNextFooterRow()}for(n=0;n<c;++n){s=e.getHeaderCell(0,n);if(s.isSearchIcon)continue;o=r.getNextCell();o.type=e.CELL_TYPE_TOP;o.tid=s.isSearchIcon?"st.total.search":"st.total";o.style={};o.colspan=s.isDimension?2:1;o.isDimension=!te(t)&&s.isDimension;o.isMeasure=s.isMeasure;o.isFillColumn=s.isFillColumn;o.dataColIx=s.dataColIx;if(s.isMeasure){i=G(s.effectiveDataColIx,t.qHyperCube);l=i.qText;o.isNumeric=true}else{l=0===n?void 0!==t.totals.label?t.totals.label:a["default"].get("Object.Table.Totals"):" ";o.isNumeric=false}o.setText(l);s.info&&o.setTextAlign(Q(s.info),K(s.info));o.isTotal=true}}function Ie(e,t){var n;var r=t.length;var i;var a=e.getNextHeaderRow();for(n=0;n<r;++n){i=a.getNextCell();i.type=e.CELL_TYPE_TOP;i.setFromMetaHeader(t[n])}}function ke(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.tid="st.header";e.qvaOutsideIgnoreFor="";e.isSearchIcon=false;e.open=false;e.canCollapse=false;e.canExpand=false;e.rowspan=1;e.colspan=1;e.color={};if(t){e.isFillColumn=true;e.text="";e.sortable=false;e.isDimension=false;e.isSorted=false;e.reversed=false;e.style={width:"auto"}}else{var i=!!e.info.qDimensionType||r;e.isNumeric="N"===e.info.qDimensionType||void 0===e.info.qDimensionType;e.locked=e.info.qLocked;e.text=e.info.qFallbackTitle;e.sortable=i;e.isDimension=!!e.info.qDimensionType;e.fieldName=e.isDimension?e.info.qGroupFieldDefs[e.info.qGroupPos]:"";e.isMeasure=!e.isDimension;e.isSorted=!!i&&e.dataColIx===n[0];e.reversed=!!e.info.qReverseSort;e.sortIndicator=i?e.info.qSortIndicator:"N";e.autoAlignText=Q(e.info);e.explicitTextAlign=K(e.info);e.color={}}}function Ae(){var e={glyphCntRange:{min:0,ok:0,max:1e5}};ke(e,true,[]);return e}function Te(e,t,n,r,i){var a=i.column.glyphWidth;var o=Math.ceil(i.column.minColWidth/a);var s=Math.ceil(i.column.maxColWidth/a);var l=n.info;var c=[];var u=[];var d=[];var p=Math.ceil(i.column.paddingWidth/a);var h=Math.floor(e/a);var v=Y(l);var m=5;var g=t>0?Math.round(t/a*10)/10:NaN;var b=3;var y=Math.max(b,l.qApprMaxGlyphCount);var w=Math.max(b,l.qFallbackTitle.length);var S=0;c.push(b);if(n.isMeasure){ee(r)&&u.push(n.grandTotal.qText.length);if(v.type===f["c"]){y=Math.ceil(f["a"]/a);m=0}}else{v.type===f["e"]&&v.urlLabel&&(y=v.urlLabel.length);S=Math.ceil(i.column.minSearchWidth/a)}u.push(y);c.push(s);c.push(h-p-S);u.push(w+S);d.push(w+S);var x=Math.min.apply(null,c);u.push(x);var C=Math.max.apply(null,u);d.push(C);var q=Math.max.apply(null,d);return{min:Math.max(o+S,x)+p,ok:Math.min(s,C)+p,optimal:q+p+m,explicit:g,search:S}}function De(e,t,n,r,i){var a=i.column.glyphWidth;var o=Math.floor(e/a);var s=n.info;var l=Y(s);var c=4;var u=Math.max(c,Math.ceil(i.column.minColWidth/a));var d=Math.min(Math.ceil(i.column.maxColWidth/a),.8*o);var p=Math.ceil(i.column.paddingWidth/a);var h=5;var v=t>0?Math.min(Math.round(t/a*10)/10,.8*o):NaN;var m=Math.max(c,s.qApprMaxGlyphCount);var g=Math.max(c,s.qFallbackTitle.length);var b=Math.ceil(i.column.minSearchWidth/a);var y=u;var w=u;var S=u;if(n.isMeasure){ee(r)&&(S=Math.max(S,n.grandTotal.qText.length));if(l.type===f["c"]){S=Math.max(S,Math.ceil(f["a"]/a));h=0}S=Math.min(d,S)}else{l.type===f["e"]&&l.urlLabel&&(m=l.urlLabel.length);S=Math.min(d,Math.max(S,m));y+=b;g+=b}var x=.4+.6/(1+Math.exp((S-48)/12));return{min:Math.max(y,w,S*x)+p,ok:Math.min(d,Math.max(g,S))+p,optimal:Math.min(d,Math.max(g,S))+p+h,explicit:v,search:n.isMeasure?0:b}}function Oe(e){return!e||e.qError&&e.qError.qErrorCode===c["a"].NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function Le(e){return!Oe(e)}function Me(e,t,n,r,a,o){var s=e.qHyperCube;var l;var c=s.qDimensionInfo;var u=s.qMeasureInfo;var d=c.concat(u);var f=N(s);var p=Math.floor(r/a.column.glyphWidth);var h;var v;o||(o=[]);o=n.map((function(e){var t;var n;for(t=0;t<o.length;++t)if(o[t].dataColIx===e){n=o[t];break}return n||{style:{}}}));var m=!i.a.limitedSorting({measures:u,layout:e});for(h=0;h<n.length;++h){v=n[h];l=o[h];if(Oe(d[v])){l.isHidden=true;continue}var g=$(f.indexOf(v),s);l.info=g.colInfo;l.isDimension=v<c.length;l.isMeasure=v>=c.length;l.grandTotal=G(g.effectiveDataColIx,s);l.dataColIx=v;l.effectiveDataColIx=g.effectiveDataColIx;l.qLeft=v;ke(l,false,s.qEffectiveInterColumnSortOrder,m);if(a.horizontalScroll.enabled)l.glyphCntRange=De(r,t[v],l,e,a);else{l.glyphCntRange=Te(r,t[v],l,e,a);p-=l.glyphCntRange.explicit||l.glyphCntRange.min;if(p<0){o.splice(Math.max(1,h));break}}}o=o.filter((function(e){return!e.isHidden}));return o}function Pe(e,t){var n;var r;e=e.slice();for(n=e.length-1;~n;--n){r=e[n];r.isDimension||r.isMeasure||e.splice(n,1)}while(e.length>t)e.pop();return e}function Ne(e,t,n,r,i,a){var o=n.horizontalScroll.enabled?n.width:n.width-n.columnPicker.width;var s=M(e.qHyperCube);var l=N(e.qHyperCube);var c=n.column.glyphWidth;var u=c/o;var d;var f=1;var p;i&&(i=Pe(i,s.length));n.columnPicker.show=false;i=Me(e,t,s,o,n,i);n.columnCount=i.length;n.columnPicker.show=!n.horizontalScroll.enabled&&i.length<l.length;var h=i.length;for(var v=0;v<h;v++){d=i[v];d.widthFactor=d.glyphCntRange.min*c/o;f-=d.widthFactor}if(f>0){var m;p=f;if(n.useAllSpace){var g=(p-.015)/h;i.forEach((function(e){e.widthFactor+=g;f=0}))}else{m=i.reduce((function(e,t){return e+Math.max(0,t.glyphCntRange.ok-t.glyphCntRange.min)}),0);i.forEach((function(e){var t=Math.max(0,e.glyphCntRange.ok-e.glyphCntRange.min);var n=t/m;var r=Math.min(t*c/o,n*p);if(t>0)if(r>f){e.widthFactor+=f;f=0}else{e.widthFactor+=r;f-=r}}))}}if(f>0){var b=i.concat().sort((function(e,t){return e.glyphCntRange.optimal-e.glyphCntRange.ok-(t.glyphCntRange.optimal-t.glyphCntRange.ok)}));b.forEach((function(e){var t=e.glyphCntRange.optimal-e.glyphCntRange.ok;var n=Math.min(f,t*u);if(t>0)if(n>f){e.widthFactor+=f;f=0}else{e.widthFactor+=n;f-=n}}))}f=Be(i,n);Fe(i,o,n.column.minSearchWidth/o,r);Re(i,o,a,n);return i}function Re(e,t,n,r){var i;var a;var o;var s;var l=_e(e,t,r);for(a=0;a<e.length;++a){i=e[a];if(i.isFillColumn)continue;o=r.horizontalScroll.enabled&&r.horizontalScroll.keepFirstColumnInView&&0===a;s=Math.round(t*i.widthFactor);i.isDimension&&!o?s=Math.min(s,l-r.column.minSearchWidth):i.isMeasure&&!o&&(s=Math.min(s,l));i.calculatedWidth=s;r.horizontalScroll.enabled&&i.calculatedWidth<r.column.minColWidth&&(i.calculatedWidth=r.column.minColWidth);n&&i.isSearchIcon&&(i.calculatedWidth=1);i.style.width="".concat(i.calculatedWidth,"px")}}function Fe(e,t,n,r){var i;var a;var o=0;var s;var l=Math.round(t*n);for(i=0,a=e.length;i<o+a;++i){s=e[i];if(s.isDimension){e.splice(i+1,0,je(s,l,n,r));s.widthFactor=Math.max(0,s.widthFactor-n);++o}}}function _e(e,t,n){var r=t;if(n.horizontalScroll.enabled&&n.horizontalScroll.keepFirstColumnInView){var i=e[0];var a=0;if(i){a=i.widthFactor*t;a+=i.isDimension?n.column.minSearchWidth:0}r=Math.floor(t-a)}return r}function je(e,t,n,r){return{isSearchIcon:true,qvaOutsideIgnoreFor:"qv-st-header-cell-search-".concat(r),tid:"st.header.search",widthFactor:e.shouldBeRemoved?0:n,calculatedWidth:e.shouldBeRemoved?0:t,style:{width:"".concat(t,"px")},fieldName:e.fieldName,dataColIx:e.dataColIx,colspan:1,info:e.info}}function Be(e,t){var n=1;var r;var i;var a=t.width;var o=t.column.glyphWidth;var s=t.column.minSearchWidth/a;var l=.01;var c=false;e.forEach((function(e){e.shouldBeRemoved=false;if(c){e.widthFactor=0;e.shouldBeRemoved=true;return}if(e.glyphCntRange.explicit){r=e.glyphCntRange.explicit*o/a;e.isDimension&&(r+=s);if(n-r>=0||t.horizontalScroll.enabled){e.widthFactor=r;n-=e.widthFactor}else{i=e.glyphCntRange.min*o/a;if(n-i>-l){e.widthFactor=n;n-=e.widthFactor}else{e.widthFactor=n;e.shouldBeRemoved=true;c=true}}}else{i=e.glyphCntRange.min*o/a;if(n>=e.widthFactor||t.horizontalScroll.enabled)n-=e.widthFactor;else if(n-i>-l){e.widthFactor=n;n-=e.widthFactor}else{e.widthFactor=n;e.shouldBeRemoved=true;c=true}}}));var u=t.columnCount;e.forEach((function(t,n){if(t.shouldBeRemoved){u--;n>0&&(e[n-1].widthFactor+=t.widthFactor);t.widthFactor=0}}));t.horizontalScroll.enabled||t.columnPicker.show||u===t.columnCount||(t.columnPicker.show=true);if(!t.horizontalScroll.enabled&&!t.columnPicker.show){var d=e.concat().sort((function(e,t){return t.glyphCntRange.optimal-t.glyphCntRange.ok-(e.glyphCntRange.optimal-e.glyphCntRange.ok)}));d[0].widthFactor+=t.columnPicker.width/a}t.columnCount=u;e.push(Ae());return n}var Ve=t["a"]={getTopTreeDepth:function e(t){return qe(0,t.qTop)},getLeftTreeDepth:function e(t){var n=t?t.qLeft:[];return qe(0,n)},updatePivotItems:function e(t,n,r,i){var a=t.layout;var o=t.grid;var s=n[0].qTop;var l=n[0].qLeft;var c=n[0].qData;var u=qe(0,s);var d=qe(0,l);var f=r[0];var p=t.metaGhostHeaders;var h=a.qHyperCube.qIndentMode;var v=this.getPseudoDimIndex(a);var m=new I;if(0===s.length){var g=a.qHyperCube.qMeasureInfo.filter(Le);if(1===g.length){s=ne(g[0]);u=qe(0,s)}}o.reset(false,i,v,h);o.setTopTreeDepth(u);o.setLeftTreeDepth(d);Ce(o,p);p.pseudoInLeftTree?m.mapIndexToPseudoId(l):p.pseudoInTopTree&&m.mapIndexToPseudoId(s);ie(o,s,f.qLeft,p);me(o,l,f.qTop,p);be(o,c,f.qTop,f.qLeft,p,m);o.removeUnused()},updateStraightItems:function e(t,n,r,i,a,o){var s=t.layout;var l=t.grid;var c;var u=n.length+1;var d;var f;var p;i||l.reset(o);if(!o){Ie(l,r);Ee(l,s)}var h=l.getNextRowIx();for(p=0;p<u;++p){if(n[p]){d=n[p].qMatrix;f=n[p].qArea;c=d.length}else{d=null;f=null}ye(s,l,h,p,f,d,c,a)}i&&l.setNextRowIx(l.rows.length);l.removeUnused()},getPseudoDimIndex:function e(t){var n=t.qHyperCube.qEffectiveInterColumnSortOrder.indexOf(-1);return~n?n:t.qHyperCube.qEffectiveInterColumnSortOrder.length},getColumnInfo:$,getColumnCells:R,getCellsInColumnWithValue:F,getCellsInColumn:_,getCellsInRow:j,getSiblingCells:H,getSiblingCellsWithValue:z,getCellInColumnWithRowIndex:B,columnOrder:{get:M,create:P,isValid:L,getVisible:N},getStraightMetaHeaders:Ne}},T8oO:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("wIyQ");var s='<lui-popover position="input.menuOptions.position"\n\t\t\t\t\t  on-close-view="onOutsidePopover(event)"\n\t\t\t\t\t  class= "qv-guidance-popover"\n\t\t\t\t\t  ng-style="{\'opacity\': popupClosing? 0 : 1, \'width\': input.menuOptions.width, \'top\': input.menuOptions.bottom}" \n>\n\t<div tid="dm-gridview-guidance-popover-content" class="qv-guidance-popover-content">\n\t\t<div class="qv-guidance-popover-title">{{input.title}}</div>\n\t\t<div class="qv-guidance-popover-message">{{input.message}}</div>\n\t\t<div class="qv-guidance-popover-button">\n\t\t\t<button \n\t\t\t\ttid="dm-gridview-guidance-popover-ok-button"\n\t\t\t\tclass="lui-button  lui-button--success qui-popover-ok-button" qva-activate="onCloseClicked()">{{input.buttonText}}</button>\n\t\t</div>\n\t</div>\n</lui-popover>\n';var l=n("6uJb");var c={template:s,controller:["$scope","$timeout",function(e,t){e.popupClosing=false;e.input.buttonText=e.input.buttonText?e.input.buttonText:l["default"].get("Common.OK");e.input.title=e.input.title?e.input.title:"";e.input.message=e.input.message?e.input.message:"";function n(n){if(n){e.popupClosing=true;t((function(){e.destroyComponent()}),500)}else e.destroyComponent()}function r(){e.destroyComponent()}e.input.closeAfter&&t((function(){n(true)}),e.input.closeAfter);e.onOutsidePopover=function(e){e.stopPropagation();e.preventDefault();i()(e.target).closest(".qui-popover-ok-button").length||n()};e.onCloseClicked=function(){n(true)};e.$on("$destroy",(function(){o["a"].off("start",r)}));o["a"].on("start",r)}]};var u=t["a"]={show:function e(t){return a["default"].getService("luiPopover").show({controller:c.controller,template:c.template,alignTo:t.alignTo,input:{input:t,class:t.class?t.class:""}})}}},T9GI:function(e){e.exports=JSON.parse('{"_variables":{"@B20":"#333333","@B35":"#595959","@B45":"#737373","@B50":"#808080","@B60":"#999999","@B80":"#cccccc","@B90":"#e6e6e6","@B98":"#fbfbfb","@B100":"#ffffff","@H1":"24px","@H2":"18px","@H3":"14px","@H4":"13px","@H5":"12px","@H6":"10px"},"color":"@B35","fontSize":"13px","fontFamily":"QlikView Sans, sans-serif","backgroundColor":"transparent","object":{"line":{"highContrast":{"color":"@B60"},"major":{"color":"@B80"},"minor":{"color":"@B90"}},"title":{"main":{"color":"@B50","fontSize":"15px"},"subTitle":{"color":"@B50","fontSize":"12px"},"footer":{"color":"@B50","fontSize":"12px","backgroundColor":"transparent"}},"label":{"name":{"color":"@B20","fontSize":"13px"},"value":{"color":"@B20","fontSize":"13px"}},"axis":{"title":{"fontSize":"12px","color":"@B20"},"label":{"name":{"color":"@B35","fontSize":"12px"}},"line":{"major":{"color":"@B80"},"minor":{"color":"@B90"}}},"grid":{"line":{"highContrast":{"color":"@B60"},"major":{"color":"@B80"},"minor":{"color":"@B90"}}},"referenceLine":{"label":{"name":{"color":"@B20","fontSize":"12px"}},"outOfBounds":{"color":"@B90","backgroundColor":"@B45","fontSize":"@H6"}},"legend":{"title":{"fontSize":"15px","color":"@B20"},"label":{"fontSize":"13px","color":"@B35"}},"barChart":{"outOfRange":{"color":"@B60"},"label":{"value":{"color":"@B35","fontSize":"11px"}}},"bulletChart":{"outOfRange":{"color":"@B60"},"label":{"value":{"color":"@B35","fontSize":"11px"}}},"comboChart":{"outOfRange":{"color":"@B60"},"label":{"value":{"color":"@B35","fontSize":"11px"}}},"gauge":{"label":{"value":{"color":"@B20","fontSize":"42px"}}},"treemap":{"branch":{"backgroundColor":".alpha(5)","label":{"color":".inherit()","fontSize":"14px"}},"leaf":{"label":{"fontSize":"12px"}}},"scatterPlot":{"label":{"value":{"color":"@B35","fontSize":"12px"}}},"lineChart":{"outOfRange":{"color":"@B60"},"label":{"value":{"color":"@B35","fontSize":"12px"}}},"pieChart":{"axis":{"title":{"fontSize":"12px"}},"label":{"name":{"color":"@B20","fontSize":"14px"},"value":{"fontSize":"12px"}}},"straightTable":{"header":{"fontSize":"@H4","color":"@B35"},"content":{"fontSize":"@H4","color":"@B35","hover":{"backgroundColor":"inherit","color":"inherit"}}},"pivotTable":{"header":{"fontSize":"@H4","color":"@B35"},"content":{"fontSize":"@H4","color":"@B35","hover":{"backgroundColor":"inherit","color":"inherit"}}},"listBox":{"title":{"main":{"color":"@B35","fontSize":"13px"}},"content":{"color":"@B35","fontSize":"12px"}},"boxPlot":{"box":{"whisker":{"stroke":"@B35"},"line":{"stroke":"@B35"},"box":{"fill":"@B90","stroke":"@B35"}}},"distributionPlot":{"box":{"fill":"@B90"}},"histogram":{"label":{"value":{"color":"@B35","fontSize":"12px"}}},"waterfallChart":{"label":{"value":{"color":"@B35","fontSize":"12px"}},"value":{"color":{"default":"@B35","dark":"@B35","light":"@B90"}},"shape":{"positiveValue":{"fill":"#4477AA"},"negativeValue":{"fill":"#cc6677"},"subtotal":{"fill":"#c3c3c3"},"bridge":{"stroke":"@B50"}}},"mapChart":{"label":{"value":{"color":"@B35","fontSize":"12px"}}},"kpi":{"label":{"name":{"color":"@B35"}}}},"dataColors":{"primaryColor":"#4477aa","othersColor":"#a5a5a5","errorColor":"#ff4444","nullColor":"#d2d2d2"},"palettes":{"data":[{"name":"12 Colors","translation":"properties.colorNumberOfColors.12","propertyValue":"12","type":"pyramid","scale":[["#4477aa"],["#4477aa","#cc6677"],["#4477aa","#ddcc77","#cc6677"],["#4477aa","#117733","#ddcc77","#cc6677"],["#332288","#88ccee","#117733","#ddcc77","#cc6677"],["#332288","#88ccee","#117733","#ddcc77","#cc6677","#aa4499"],["#332288","#44aa99","#88ccee","#117733","#ddcc77","#cc6677","#aa4499"],["#332288","#44aa99","#88ccee","#117733","#999933","#ddcc77","#cc6677","#aa4499"],["#332288","#44aa99","#88ccee","#117733","#999933","#ddcc77","#cc6677","#882255","#aa4499"],["#332288","#44aa99","#88ccee","#117733","#999933","#ddcc77","#661100","#cc6677","#882255","#aa4499"],["#332288","#6699cc","#44aa99","#88ccee","#117733","#999933","#ddcc77","#661100","#cc6677","#882255","#aa4499"],["#332288","#6699cc","#88ccee","#44aa99","#117733","#999933","#ddcc77","#661100","#cc6677","#aa4466","#882255","#aa4499"]]},{"name":"100 Colors","translation":"properties.colorNumberOfColors.100","propertyValue":"100","type":"row","scale":["#99c867","#e43cd0","#e2402a","#66a8db","#3f1a20","#e5aa87","#3c6b59","#aa2a6b","#e9b02e","#7864dd","#65e93c","#5ce4ba","#d0e0da","#d796dd","#64487b","#e4e72b","#6f7330","#932834","#ae6c7d","#986717","#e3cb70","#408c1d","#dd325f","#533d1c","#2a3c54","#db7127","#72e3e2","#e2c1da","#d47555","#7d7f81","#54ae9b","#e9daa6","#3a8855","#5be66e","#ab39a4","#a6e332","#6c469d","#e39e51","#4f1c42","#273c1c","#aa972e","#8bb32a","#bdeca5","#63ec9b","#9c3519","#aaa484","#72256d","#4d749f","#9884df","#e590b8","#44b62b","#ad5792","#c65dea","#e670ca","#e38783","#29312d","#6a2c1e","#d7b1aa","#b1e7c3","#cdc134","#9ee764","#56b8ce","#2c6323","#65464a","#b1cfea","#3c7481","#3a4e96","#6493e1","#db5656","#747259","#bbabe4","#e33f92","#d0607d","#759f79","#9d6b5e","#8574ae","#7e304c","#ad8fac","#4b77de","#647e17","#b9c379","#8da8b0","#b972d9","#786279","#7ec07d","#916436","#2d274f","#dce680","#759748","#dae65a","#459c49","#b7934a","#51c671","#9ead3f","#969a5c","#b9976a","#46531a","#c0f084","#76c146","#bad0ad"]}],"ui":[{"name":"Palette","colors":["#ffffff","#46c646","#276e27","#b6d7ea","#7db8da","#4477aa","#8e477d","#ffcf02","#f8981d","#f93f17","#633d0c","#b0afae","#7b7a78","#545352","#000000"]}]},"scales":[{"name":"Sequential Gradient","translation":"properties.colorScheme.sequential","type":"gradient","propertyValue":"sg","scale":["#662506","#993404","#cc4c02","#ec7014","#fb9a29","#fec44f","#fee391","#fff7bc"]},{"name":"Sequential Classes","translation":"properties.colorScheme.sequentialC","propertyValue":"sc","type":"class","scale":["#662506","#993404","#cc4c02","#ec7014","#fb9a29","#fec44f","#fee391"]},{"name":"Diverging gradient","translation":"properties.colorScheme.diverging","propertyValue":"dg","type":"gradient","scale":["#ae1c3e","#d24d3e","#ed875e","#f9bd7e","#e6f5fe","#b4ddf7","#77b7e5","#3a89c9","#3d52a1"]},{"name":"Diverging Classes","translation":"properties.colorScheme.divergingC","propertyValue":"dc","type":"class","scale":["#ae1c3e","#d24d3e","#ed875e","#f9bd7e","#ffe3aa","#e6f5fe","#b4ddf7","#77b7e5","#3a89c9","#3d52a1"]}]}')},TJjZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("YZeP");function i(e,t){if(!e)return;if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Object(r["a"])(e,t)}},TLJm:function(e,t,n){"use strict";var r=n("+lRA");var i=r["a"].enums;for(var a in i)i["Nx".concat(a)]=i[a];t["a"]=i},TLc9:function(e,t,n){"use strict";var r=n("jaci");var i='<div class="q-card-content" qva-direction x-dir-setting="{{direction}}">\n\n\t<header ng-if="object.title || object.description">\n\t\t<div class="object-title" ng-if="object.title" qva-direction x-dir-text="{{object.title}}">{{object.title}}</div>\n\t\t<div ng-if="object.description" qva-direction x-dir-text="{{object.description}}" ng-bind-html="encodeDescriptionText(object.description)"></div>\n\t</header>\n\n\t<section ng-if="object.dimensions.length">\n\t\t<div class="item-header" qva-direction x-dir-setting="{{direction}}">\n\t\t\t<span q-translation="Common.Dimensions"></span>\n\t\t\t<span class="item-count" dir="ltr">({{ object.dimensions.length }})</span>\n\t\t</div>\n\t\t<div class="item" ng-repeat="dimension in object.dimensions">\n\t\t\t<div class="item-title" qva-direction x-dir-text="{{dimension.title || \'-\'}}"><span class="lui-icon lui-icon--small lui-icon--drill-down" q-title-translation="Tooltip.dimensions.drilldown" ng-if="dimension.isDrilldown"></span>{{ dimension.title || \'-\'}}</div>\n\t\t\t<div class="item-description" ng-if="dimension.description" qva-direction x-dir-text="{{dimension.description}}" ng-bind-html="encodeDescriptionText(dimension.description)"></div>\n\t\t</div>\n\t</section>\n\n\t<section ng-if="object.measures.length">\n\t\t<div class="item-header" qva-direction x-dir-setting="{{direction}}">\n\t\t\t<span q-translation="Common.Measures"></span>\n\t\t\t<span class="item-count" dir="ltr">({{ object.measures.length }})</span>\n\t\t</div>\n\t\t<div class="item" ng-repeat="measure in object.measures">\n\t\t\t<div class="item-title" qva-direction x-dir-text="{{measure.title || \'-\'}}">{{ measure.title || \'-\'}}</div>\n\t\t\t<div class="item-description" ng-if="measure.description" qva-direction x-dir-text="{{measure.description}}" ng-bind-html="encodeDescriptionText(measure.description)"></div>\n\t\t</div>\n\t</section>\n\n</div>';var a=n("qIEf");var o=n.n(a);var s=n("sWge");var l=n("8wLh");var c=n("4nJ1");function u(e,t,n){var r="dimension"===t?"getDimension":"getMeasure";var i="dimension"===t?"qDim":"qMeasure";if(!e||!n)return s["a"].resolve();return e.app[r](n).then((function(e){return e.getLayout().then((function(e){return e[i].descriptionExpression||e.qMeta.description}))}))}function d(e,t,n){return u(e,"dimension",t).then((function(e){var t="H"===n.qGrouping;var r=t?n.title:n.qFallbackTitle||n.title;return{title:r,description:e,isDrilldown:t}}))}function f(e,t,n){var r=t.layout;var i=c["a"].getValue(r,t.ext.options.hyperCubePath||"",r);var a=c["a"].getValue(n,t.ext.options.hyperCubePath||"",n);if("map"===r.visualization)return h(e,r,n);if("filterpane"===r.visualization)return v(e,r);if("table"===r.visualization)return m(e,r,n);if("pivot-table"===r.visualization)return g(e,r,n);return i.qHyperCube?p(e,i,a):null}function p(e,t,n){var r;var i=[];for(r=0;r<t.qHyperCube.qDimensionInfo.length;r++)i.push(d(e,n.qHyperCubeDef.qDimensions[r].qLibraryId,t.qHyperCube.qDimensionInfo[r]));return s["a"].all(i)}function h(e,t,n){var r;var i=[];for(r=0;r<t.layers.length;r++)i.push(d(e,n.layers[r].qHyperCubeDef.qDimensions[0].qLibraryId,t.layers[r].qHyperCube.qDimensionInfo[0]));return s["a"].all(i)}function v(e,t){var n=[];t.qChildList.qItems.forEach((function(t){n.push(l["a"].get(t.qInfo.qId).then((function(t){return s["a"].all({layout:t.getLayout(),properties:t.getProperties()}).then((function(t){return d(e,t.properties.qListObjectDef.qLibraryId,t.layout)}))})))}));return s["a"].all(n)}function m(e,t,n){var r;var i=[];var a;for(r=0;r<t.qHyperCube.columnOrder.length;r++){a=t.qHyperCube.columnOrder[r];a<t.qHyperCube.qDimensionInfo.length&&i.push(d(e,n.qHyperCubeDef.qDimensions[a].qLibraryId,t.qHyperCube.qDimensionInfo[a]))}return s["a"].all(i)}function g(e,t,n){var r;var i=[];var a;for(r=0;r<t.qHyperCube.qEffectiveInterColumnSortOrder.length;r++){a=t.qHyperCube.qEffectiveInterColumnSortOrder[r];a>-1&&i.push(d(e,n.qHyperCubeDef.qDimensions[a].qLibraryId,t.qHyperCube.qDimensionInfo[a]))}return s["a"].all(i)}function b(e,t,n){return u(e,"measure",t).then((function(e){return{title:n,description:e}}))}function y(e,t,n){var r=t.layout;var i=c["a"].getValue(r,t.ext.options.hyperCubePath||"",r);var a=c["a"].getValue(n,t.ext.options.hyperCubePath||"",n);if("map"===r.visualization)return S(e,r,n);if("filterpane"===r.visualization)return s["a"].resolve();if("table"===r.visualization)return x(e,r,n);return i.qHyperCube?w(e,i,a):null}function w(e,t,n){var r;var i=[];for(r=0;r<t.qHyperCube.qMeasureInfo.length;r++)i.push(b(e,n.qHyperCubeDef.qMeasures[r].qLibraryId,t.qHyperCube.qMeasureInfo[r].qFallbackTitle));return s["a"].all(i)}function S(e,t,n){var r;var i;var a=[];for(i=0;i<t.layers.length;i++)for(r=0;r<t.layers[i].qHyperCube.qMeasureInfo.length;r++)a.push(b(e,n.layers[r].qHyperCubeDef.qMeasures[0].qLibraryId,t.layers[r].qHyperCube.qMeasureInfo[r].qFallbackTitle));return s["a"].all(a)}function x(e,t,n){var r;var i=[];var a;for(r=0;r<t.qHyperCube.columnOrder.length;r++){a=t.qHyperCube.columnOrder[r];if(a>=t.qHyperCube.qDimensionInfo.length){a-=t.qHyperCube.qDimensionInfo.length;i.push(b(e,n.qHyperCubeDef.qMeasures[a].qLibraryId,t.qHyperCube.qMeasureInfo[a].qFallbackTitle))}}return s["a"].all(i)}function C(e,t,n){return s["a"].all({title:e.layout.showTitles?e.layout.title:null,description:e.layout.descriptionExpression||n.qMetaDef.description,dimensions:f(t,e,n),measures:y(t,e,n)})}function q(e){if(e.layout.qExtendsId)return e.model.app.getObject(e.layout.qExtendsId).then((function(t){return t.getProperties().then((function(n){return C(e,t,n)}))}));return e.model.getEffectiveProperties().then((function(t){return C(e,e.model,t)}))}function E(e){var t=/(https?:\/\/[^\s<]+)/g;if(e.indexOf("javascript:")>-1)return e;return e.replace(t,'<a href="$1" target="_blank">$1</a>')}function I(e){if(!e)return null;var t=o()("<div ></div>").text(e).html();return E(t)}var k={createObjectInfo:q,encodeDescriptionText:I};var A=t["a"]={template:i,scope:{close:"&"},controller:["$scope",function(e){e.direction=r["a"].direction;e.encodeDescriptionText=k.encodeDescriptionText;k.createObjectInfo(e.input.object).then((function(t){e.object=t}))}]}},TMGN:function(e,t,n){"use strict";var r=n("4nJ1");var i="undefined"!==typeof window&&"undefined"!==typeof document;var a=(i&&r["a"].getParameterByName("debug")||"").split("+");var o={LANGUAGES:false,DEVELOPER:false,RELEASEMODELS:false,ASSOCIATE:false,BUBBLES:false,DLE_SAFE_MODE:false,DM_LINEAGE:false,DM_PERF:false,DM_STU:false,NOCONNECTOR:false};a.forEach((function(e){e&&(o[e.toUpperCase()]=true)}));t["a"]=o},TXm2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e}();r.template="//Joined {{dependencies.from.model.tableAlias}} with {{dependencies.to.model.tableAlias}}",r.type="join",t.Join=r},TZGQ:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("sWge");var a=n("5Hbw");var o=n("LRRK");var s=n.n(o);var l=n("6uJb");var c={};var u;c.getApi=function(e,t,n,o,c,d,f){n=n||window.location.protocol.indexOf("https")>-1;o=o||window.location.hostname;c=c||window.location.port;d=d||r["a"].basePath;var p=new i["a"];var h="".concat(n?"https":"http","://").concat(o).concat(c?":".concat(c):"").concat(d||"/");var v=h+e;var m="".concat(v,"/").concat(t);var g=function e(t){var n=a["a"].withCredentials();n&&(t.credentials="include");var i=a["a"].csrfToken();i&&t.method&&"GET"!==t.method&&(t.headers["qlik-csrf-token"]=i);var o=a["a"].webIntegrationId();o&&(t.headers["qlik-web-integration-id"]=o);var s=r["a"].getRandomString(16);t.headers["X-Qlik-XrfKey"]=s;t.headers["Accept-Language"]=l["default"].language;f&&(t.headers["X-Qlik-ServerNodeId"]=f);-1!==t.url.indexOf("?")?t.url="".concat(t.url,"&xrfkey=").concat(s):t.url="".concat(t.url,"?xrfkey=").concat(s);return t};var b=function e(t){u&&u(t);return t};var y={scheme:n?"https":"http",usePromise:true,requestInterceptor:g,responseInterceptor:b};var w=new s.a(m,y);w.then((function(t){t.spec.basePath=d+e;t.spec.servers&&(t.spec.servers[0].url=v);p.resolve(t)}),(function(e){console.error("Failed to create api:".concat(e));u&&u(e);p.reject(e)}));return p.promise};c.registerSessionTimeoutCheck=function(e){u=e};t["a"]=c},Tf0a:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("sWge");var o=n("xiWV");var s=n("zkWp");var l=n("PX8M");var c=n("acVu");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}var p=function(){function e(t){u(this,e);this.properties={type:"dynamicView",data:{id:"",name:"",templateApp:"",rowEstExpr:"",privileges:[],properties:{rowEstRange:[{context:"*",highBound:null}]},dynamicView:true}};i.a.extend(true,this.properties.data,t)}f(e,[{key:"getProperties",value:function e(){return a["a"].resolve(this.properties)}},{key:"create",value:function e(t){return o["a"].createDynamicView(t,this.properties.data)}}],[{key:"get",value:function t(n){return l["a"].getApp().then((function(t){return o["a"].loadDynamicView(t,n).then((function(t){var n=Object(c["b"])("ODAG_SAAS_ENABLED")?t:t.objectDef;var r=new e(n);return r}))}))}},{key:"getList",value:function t(n,r){return o["a"].getDynamicViews(n,r).then((function(t){var r=[];for(var i=0;i<t.length;i++){var a=t[i];if(a&&a.link)if("decommissioned"===a.link.status)s["a"].removeODAGAppLinkWithODAGLinkId(n,a.link.id);else{var o=new e(a.link);r.push(o)}}return r}))}},{key:"refresh",value:function e(t,n){o["a"].publishStateChange(t,o["a"].VIEW_STATE.LOADING);return this.get(t,n).then((function(e){e.properties.generatedApp=null;return o["a"].getTempApp(n,e.properties.data).then((function(n){n.appId&&o["a"].publishStateChange(t,o["a"].VIEW_STATE.REFRESH,e,n)})).catch((function(n){n.message===o["a"].VIEW_STATE.VIOLATION?o["a"].publishStateChange(t,o["a"].VIEW_STATE.VIOLATION):o["a"].publishStateChange(t,o["a"].VIEW_STATE.ERROR,e.properties.data,n.message)}))}))}},{key:"cancelRefresh",value:function e(t,n){o["a"].cancelRefresh(n,t)}}]);return e}();t["a"]=p},TmCs:function(e,t,n){"use strict";var r=n("KvOU");var i=n("JUQR");var a=n("knjk");var o=n("Uzwy");var s=n("goAJ");var l=n("p+Qe");var c=n("acVu");function u(e,t,n,i){if(!Object(c["b"])("DISABLE_AUTO_CHART")&&!l["a"].isVariableDefined("DISABLE_AUTO_CHART")&&(!i||!i.shiftKey)&&(e.classifications||n.isDerived)){var u={id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qDimensions:[],qMeasures:[],qInterColumnSortOrder:[0]}},annotatedFields:t}};if(o["a"].isMeasure(e.classifications))return s["a"].getAggregationForFieldItem(e).then((function(t){u.args.init.qHyperCubeDef.qMeasures.push({qDef:{qDef:o["a"].getMeasureExpression(e.qName,t)},qSortBy:{qSortByNumeric:-1,qSortByLoadOrder:1}});return u}));var d={qDef:{qFieldDefs:[e.qName],qSortCriterias:[{qSortByLoadOrder:1}]}};u.args.init.qHyperCubeDef.qDimensions.push(d);return u}var f=r["a"].createFieldDimension(e.qName);r["a"].autoSortDimension(f,[e]);return{id:"newObject",args:{template:"filterpane",children:[r["a"].createDefaultListBox(f,a["a"].trimAutoCalendarName(e.qName))],init:{}}}}function d(e){var t=[];for(var n=0;n<e.length;++n){var r=e[n];r.isDateField=p(r);r.isGeoField=h(r);t.push(r);if(r.qDerivedFieldData)for(var i=0;i<r.qDerivedFieldData.qDerivedFieldLists.length;++i){var o=r.qDerivedFieldData.qDerivedFieldLists[i];for(var s=0;s<o.qFieldDefs.length;++s){var l=o.qFieldDefs[s];t.push({qName:l.qName,displayName:a["a"].trimAutoCalendarName(l.qName),qSrcTables:r.qSrcTables,qTags:l.qTags,isDerived:true,isDerivedFromDate:r.isDateField,sourceField:r.qName,derivedDefinitionName:o.qDerivedDefinitionName})}}}return t}function f(e,t,n){var r=[];if(t)for(var i=0;i<t.qDerivedFieldLists.length;++i){var o=t.qDerivedFieldLists[i];for(var s=0;s<o.qFieldDefs.length;++s){var l=o.qFieldDefs[s];r.push({id:l.qName,qName:l.qMethod,name:l.qName,displayName:a["a"].trimAutoCalendarName(l.qName),qSrcTables:e.qSrcTables,srcTables:e.qSrcTables,qTags:l.qTags,tags:l.qTags,type:"field",isDerived:true,isDerivedFromDate:n,getDropOption:u.bind(null,l,null),sourceField:e.qName,derivedDefinitionName:o.qDerivedDefinitionName})}}return r}function p(e){if(e.qDerivedFieldData)return e.qTags.indexOf("$date")>-1||e.qTags.indexOf("$timestamp")>-1;return false}function h(e){return e.qTags.indexOf("$geoname")>-1}var v={create:function e(t,n){var r=t.map((function(e){var t=p(e);var r=h(e);var a=u.bind(null,e,null);var o;var s;var l;if(n){var c=n._getFields(e.qName,e.qSrcTables);if(c.length>0){o=n.getClassifications(e.qName,e.qSrcTables);s=n.getDataTypes(e.qName,e.qSrcTables);l=n.getDefaultAggregation(e.qName,e.qSrcTables)}a=u.bind(null,e,c);e.defaultAggregation=l;e.classifications=o;e.dataTypes=s}var d={id:e.qName,name:e.qName,type:"field",dataTypes:[],classifications:[],defaultAggregation:"",isDateField:t,isGeoField:r,srcTables:e.qSrcTables,sourceField:e.sourceField,calendarTemplateName:e.derivedDefinitionName,getDropOption:a,tags:e.qTags,icon:i["a"].isDirectDiscoveryField(e)?"direct-discovery":"",iconTooltip:i["a"].getTypeTranslationKey(e.qTags),derivedFields:e.qDerivedFieldData?f(e,e.qDerivedFieldData,t):[]};if(n){d.dataTypes=s;d.classifications=o;d.defaultAggregation=l}return d}));return r},expand:d,createFromArray:function e(t,n){var r;var i=[];for(r=0;r<t.length;r++){n&&(t[r].qName=t[r][n]);i.push({name:t[r].qName,type:"field",getDropOption:u.bind(null,t[r],null)})}return i},getTables:function e(t){var n=t;var r=[];for(var i=0;i<n.length;++i)for(var a=0;a<n[i].qSrcTables.length;++a)-1===r.indexOf(n[i].qSrcTables[a])&&r.push(n[i].qSrcTables[a]);return r}};t["a"]=v},To6z:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},TsGx:function(e,t,n){"use strict";var r=n("khRo");var i=n("NFdj");var a=n.n(i);var o=n("qIEf");var s=n.n(o);var l=n("PoH+");var c=n.n(l);var u=n("vybQ");var d=n("DREr");var f={load:function e(t,n,r,i){function a(){"undefined"!==typeof window&&window.qvangularGlobal?r(window.qvangularGlobal.getService(t)):setTimeout(a,5)}i.isBuild||"undefined"===typeof window?r():a();console.warn("This plugin is unsupported and deprecated, use instead angularjs $injector")}};var p=n("KCQn");window.define=r["define"];window.require=r["require"];window.requirejs=r["requirejs"];window.$||(window.$=s.a);window["jQuery"]||(window["jQuery"]=s.a);window._||(window._=c.a);window.requirejs.config.call(null,{config:{text:{onXhr:function e(t,n){false},useXhr:function e(t,n,r,i){false;var a=window.requirejs("text");return a.useXhr(t,n,r,i)}}},context:window.requirejs.s.contexts.sense?"sense":null,paths:{},shim:{},waitSeconds:60});window.requirejs.s.contexts.sense&&(window.requirejs.s.contexts._.defined.angular=window.requirejs.s.contexts.sense.defined.angular);window.define("jquery",[],(function(){return s.a}));window.define("ng",[],(function(){return f}));window.define("underscore",[],(function(){return c.a}));window.define("angular",[],(function(){return a.a}));window.define("angular-animate",[],(function(){return a.a.module("ngAnimate")}));window.define("angular-sanitize",[],(function(){return a.a.module("ngSanitize")}));window.define("angular-route",[],(function(){return a.a.module("ngRoute")}));window.requirejs(["jquery"],(function(){}))},U3P2:function(e,t,n){"use strict";var r=n("mQSs");var i=l(r);var a=n("fuD2");var o=s(a);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function l(e){return e&&e.__esModule?e:{default:e}}var c=i.default.defaultOptions;var u={Upload:i.default,canStoreURLs:o.canStoreURLs,defaultOptions:c};if("undefined"!==typeof window){var d=window,f=d.XMLHttpRequest,p=d.Blob;u.isSupported=f&&p&&"function"===typeof p.prototype.slice}else{u.isSupported=true;u.FileStorage=o.FileStorage}e.exports=u},U408:function(e,t,n){"use strict";(function(e){var n=function(){function t(e){this.name=this.parseName(e);this.title=this.parseTitle(e);this.latLonBoundingBox=this.parseLatLonBoundingBox(e);this.boundingBox=this.parseBoundingBoxes(e);this.srs=this.parseSRS(e);this.crs=this.parseCRS(e)}t.prototype.parseName=function(e){return e.children("Name").text()};t.prototype.parseTitle=function(e){return e.children("Title").text()};t.prototype.parseLatLonBoundingBox=function(t){var n=this.getAllTag(t,"LatLonBoundingBox");if(n.length>0){var r=n[0];var i={minx:parseFloat(e(r).attr("minx")),maxx:parseFloat(e(r).attr("maxx")),miny:parseFloat(e(r).attr("miny")),maxy:parseFloat(e(r).attr("maxy"))};return i}return};t.prototype.parseBoundingBoxes=function(t){var n=this.getAllTag(t,"BoundingBox");var r=[];var i=[];for(var a=0;a<n.length;a++){var o=n[a];var s=e(o).attr("SRS");var l={srs:s,minx:parseFloat(e(o).attr("minx")),maxx:parseFloat(e(o).attr("maxx")),miny:parseFloat(e(o).attr("miny")),maxy:parseFloat(e(o).attr("maxy"))};var c=parseFloat(e(o).attr("resx"));var u=parseFloat(e(o).attr("resy"));isNaN(c)||(l.resx=c);isNaN(u)||(l.resy=u);if(-1===e.inArray(s,i)){r.push(l);i.push(s)}}return r};t.prototype.parseSRS=function(t){var n=this.getAllTag(t,"SRS");var r=[];for(var i=0;i<n.length;i++){var a=e(n[i]).text();-1===e.inArray(a,r)&&r.push(a)}return r};t.prototype.parseCRS=function(t){var n=this.getAllTag(t,"CRS");var r=[];for(var i=0;i<n.length;i++){var a=e(n[i]).text();-1===e.inArray(a,r)&&r.push(a)}return r};t.prototype.getAllTag=function(e,t){return this.getAllRec(e,t,[])};t.prototype.getAllRec=function(t,n,r){var i=t.children(n);i.each((function(t){r.push(e(i[t]))}));return t.length>0?this.getAllRec(t.parent(),n,r):r};return t}();t["a"]=n}).call(this,n("qIEf"))},U7Ny:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("5m/B");var o=n("wIyQ");var s=n("Vvj3");var l='<div class="qv-contextmenu" tid="context-menu" qva-outside="close($event)" ng-keydown="keyDown( $event )" qva-outside-ignore-for="{{options.qvaOutsideIgnore}}">\n  <lui-popover>\n    <ul class="lui-list" role="menu">\n      <li tabindex="0" ng-if="levels.length" class="lui-list__item lui-list__action back-item" qva-focus="levels.focus"\n        qva-activate="goBack();" tcl="context-menu-item">\n        <i class="lui-list__aside back-icon lui-icon  lui-icon--triangle-left"></i>\n        <span class="lui-list__text" q-translation="{{options.goBackTitle}}" tid="context-menu-back"></span>\n      </li>\n      <li ng-repeat="item in currentItems" ng-attr-tabindex="{{item.tabIndex}}" class="lui-list__item lui-list__action"\n        ng-class="{ \'lui-disabled\': item.disabled, \'qv-contextmenu-has-submenu\': item.hasSubmenu(), \'has-icon\': item.hasIcon(), \'context-divider\': item.divider }"\n        qva-focus="item.autoFocus" qva-activate="item.disabled || selectItem($event,item)" tcl="context-menu-item" id="{{item.tid}}"> \x3c!-- id attribute is here to support fullstory, for now we can use the same as tid --\x3e\n\n        <i class="lui-list__aside  item-icon  lui-icon  lui-icon--{{item.icon}}" q-title-translation={{item.qTranslationTitle}} ng-if="item.hasIcon()"></i>\n        <span class="lui-list__text" title="{{item.getLabel()}}" tid="{{item.tid}}">{{item.getLabel()}}</span>\n        <i ng-show="item.hasSubmenu()" class="next-icon lui-list__aside lui-icon lui-icon--triangle-right"></i>\n      </li>\n    </ul>\n  </lui-popover>\n</div>';var c=n("MGTR");var u={template:l,scope:{menu:"=",options:"=",closingFn:"="},controller:["$scope","$element",function(e,t){var n=null;var r={DOWN:40,UP:38,RIGHT:39,LEFT:37,TAB:9,ESC:27,ENTER:13};c["a"].publish("toggleStorytellingKeyboardShortcuts",false);function i(e,t){e.$$postDigest((function(){e.$$postDigest(t)}))}function l(t){i(e,(function(){if(e.options.alignTo)a["a"].align(p(),e.options.alignTo,{collision:e.options.collision||"flip",position:e.options.docking||"top"});else{t=t||n;n=t?s["a"].reposition(p(),t):s["a"].position(p(),e.options.docking,e.options.position)}}))}e.focusedItem=0;e.keyDown=function(t){t.preventDefault();t.stopPropagation();var n=t.target.parentElement.getElementsByTagName("li");t.keyCode===r.ESC&&e.close();if(t.keyCode===r.ENTER)if(e.levels.length)0===e.focusedItem?d(true):e.selectItem(t,e.currentItems[e.focusedItem-1],e.options.onCloseFn);else if(e.currentItems[e.focusedItem].items.length>0){f(e.currentItems[e.focusedItem],true);e.focusedItem=0}else e.selectItem(t,e.currentItems[e.focusedItem],e.options.onCloseFn);if(t.keyCode===r.UP&&-1!==e.focusedItem){if(e.focusedItem>0){u(n,e.focusedItem,"-1");e.focusedItem--}u(n,e.focusedItem,"0")}if(t.keyCode===r.DOWN)if(null===e.focusedItem){u(n,0,"-1");e.focusedItem=0}else{if(e.focusedItem<n.length-1){u(n,e.focusedItem,"-1");e.focusedItem++}u(n,e.focusedItem,"0")}if(t.keyCode===r.RIGHT){t.preventDefault();t.stopPropagation();for(var i=0;i<n.length;i++)n[i].setAttribute("tabindex","-1");if(e.currentItems[e.focusedItem].items.length>0){f(e.currentItems[e.focusedItem],true);e.focusedItem=0}}if(t.keyCode===r.LEFT){t.preventDefault();t.stopPropagation();if(e.levels.length){e.focusedItem=0;d(true)}}};function u(e,t,n){e[t].setAttribute("tabindex",n);e[t].focus()}e.levels=[];e.currentItems=e.menu.items;e.options.goBackTitle=e.options.goBackTitle||"Common.Back";function d(t){if(e.levels.length){var n=e.levels.pop();n.items[0].autoFocus=t;e.currentItems=n.items;l(n.offset)}}function f(t,r){var i=t.items;e.levels.focus=r;e.levels.push({items:e.currentItems,offset:n});e.currentItems=i;l()}function p(){return t.children().first()}e.goBack=function(){d()};e.selectItem=function(t,n,r){t.preventDefault();t.stopPropagation();if(n.hasSubmenu())f(n);else{n.select(r);e.close(!!n.suppressOnCloseCall)}};e.close=function(t){"function"===typeof e.menu.onClosing&&e.menu.onClosing.call(null);e.options.onCloseFn&&!t&&e.options.onCloseFn();e.$destroy()};e.exposedApi.close=e.close;o["a"].on("start",e.close);l();"function"===typeof e.menu.onOpen&&e.menu.onOpen.call(null);e.$on("$destroy",(function(){c["a"].publish("toggleStorytellingKeyboardShortcuts",true);o["a"].off("start",e.close);"function"===typeof e.destroyComponent?e.destroyComponent():t.off("*").html("").remove()}))}]};var d=u;var f=n("6uJb");var p=function e(t){var n=this;Object.keys(t||{}).forEach((function(e){n[e]=t[e]}));this.items=this.items||[]};p.prototype.addItem=function(e,t){var n=new p(e);n.tabIndex=0===this.items.length?0:-1;"undefined"===typeof t?this.items.push(n):this.items.splice(t,0,n);return n};p.prototype.hasSubmenu=function(){return this.items.length>0};p.prototype.hasIcon=function(){return!!this.icon};p.prototype.getLabel=function(){function e(e){if(Array.isArray(e))return f["default"].get(e[0],e.slice(1).join(","));return f["default"].get(e)}if("function"===typeof this.translation)return e(this.translation());if(this.translation)return e(this.translation);if("function"===typeof this.label)return this.label();if(this.label)return this.label;return"Missing translation/label"};var h=p;var v=i.a.module("qv.context-menu",["leonardo-ui.overlay"]);v.service("qvContextMenu",["luiOverlay","luiInlineOverlay",function(e,t){var n={};var r;n.show=function(t,n){if(0===t.items.length)return;this.close();var i=n.component||d;r=e.show(i,{menu:t,options:n});return r};n.showInline=function(e,n,i){if(0===e.items.length)return;var a=n.component||d;r=t.show(a,{menu:e,options:n,container:i});return r};n.close=function(){if(r){r.close();r=null}};n.menu=function(){var e=new h;var t={addItem:function t(n,r){return e.addItem(n,r)}};Object.defineProperty(t,"items",{get:function t(){return e.items}});return t};return n}])},UIGF:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("lpis");var s=n("d1VP");var l=n("IfNZ");var c;function u(e,t,n){var r=l["a"].NavigationMode.bookmark;c=a["default"].getService("luiPopover").show({controller:o["a"].controller,template:o["a"].template,dock:"bottom",alignTo:t,outsideIgnore:"nav-".concat(r),container:i()(t).parents(".popover-container,.qs-popover-container")[0],autoFocus:false,input:{showToolbar:true,showNavigation:false,navigationmode:r,isNavigator:true,canCreateBookmark:n,isOpenedByClick:e.isOpenedByClick,tid:"bookmarkNavigator"}});s["a"].open();c.closing.then((function(t){c=null;e.pressed=false;e.close&&e.close();var n=t&&i()(t.target).closest("[data-toolbar-navigator]");n&&n.length||s["a"].close()}))}function d(e,t,n){if(e.pressed)if(n.small){if(n.smallService.isOpen())return;n.smallService.open(n.scope,{navigationmode:l["a"].NavigationMode.bookmark,translations:{toolbarTitle:"Common.Bookmarks",toolbarButton:"Common.Done"},canCreateBookmark:n.create});e.pressed=false;n=null}else u(e,t,n.create);else{c.close();c=null;s["a"].close()}}t["a"]={toggle:d}},UJnM:function(e,t,n){"use strict";var r=n("+GbC");var i=n("4nJ1");var a=n("G1wx");var o=n("7TTN");var s=n("cLto");var l=n("s0Tq");var c=n("o/J5");var u=n("mWu2");var d=n("sWge");u["default"].directive("qvScrollLoader",["$animateCss","$timeout",function(e,t){return{restrict:"E",replace:true,template:function e(t,n){var r=n.tag||"div";var i=n.loader||"rain";return"<".concat(r,' ng-style="loaderStyle" class="qv-scroll-loader qv-animate"><qv-').concat(i,' ng-if="showRain" show="showRain"></qv-').concat(i,"></").concat(r,">")},scope:{},controller:function e(){},link:function n(r,i,a,o){var s;var l;var c;var u=!!a.noRain;r.loaderStyle={width:0,height:0};r.showRain=false;o.fadeIn=function(n,a,o){var c=Object(d["a"])();f(n,a,o);u||(s=t((function(){r.showRain=true})));l=e(i,{addClass:"fade"});l.start().done((function(){c.resolve()}));return c.promise};o.fadeOut=function(){var t=Object(d["a"])();r.showRain=false;c=e(i,{removeClass:"fade"});c.start().done((function(){r.loaderStyle.width=0;r.loaderStyle.height=0;r.$apply();t.resolve()}));return t.promise};function f(e,t,n){r.loaderStyle.top=e;r.loaderStyle.left=t;r.loaderStyle.width=n.width;r.loaderStyle.height=n.height}r.$on("$destroy",(function(){t.cancel(s)}))}}}]);var f=n("PoH+");var p=n.n(f);var h='<div class="qv-scroll-data-load-buttons" tid="load-more" ng-class="{ previous: previous }">\n\t<div ng-transclude></div>\n\t<button class="lui-button" qva-activate="load()" ng-disabled="disabled">\n\t\t<p q-translation="{{text}}"></p>\n\t</button>\n</div>\n';u["default"].directive("qvScrollLoadButton",[function(){return{restrict:"E",transclude:true,replace:true,template:function e(t,n){var r=n.tag||"div";return h.replace(/^\s*<div/,"<".concat(r)).replace(/<\/div>\s*$/,"</".concat(r,">"))},scope:{onLoad:"&",text:"@",previous:"=",disabled:"=",scrollApi:"=",watchResize:"=",showButton:"="},link:function e(t,n){t.load=function(){t.onLoad()};var r=n.find(".lui-button");function i(){if(!t.scrollApi)return;var e=t.scrollApi.domApi.$scrollContent[0].clientWidth;var n=t.scrollApi.settings.width;var i=t.scrollApi.domApi.$element[0].scrollLeft;var a=e-n;r[0].style.left="".concat(i-a/2,"px")}var a=t.$watch("watchResize",(function(e){if("function"===typeof e){e(i);a()}}));var o=t.$watch("showButton",(function(e){if(e){i();t.scrollApi.domApi.$element.scroll(p.a.debounce(i,40));o()}}))}}}]);var v=n("Pz+M");function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function b(e,t,n){t&&g(e.prototype,t);n&&g(e,n);return e}var y=function(){function e(t,n){m(this,e);r["a"].create(this,"Scroll");this.$timeout=t;this.initPromise=null;this.setVirtualSizePromise=null;this.resetVirtualScrollEnabled(n);this.loaderStyle={width:0,height:0};this.totalRows=0;this.totalColumns=0;this.alignBottomAbsolute=false;this.axisDelta={xAxis:0,yAxis:0};this.alignToBottomReduce={active:false,activeFromStart:false};this.ignoreScroll=false;this.loadNext=false;this.loadPrevious=false;this.settings=i["a"].extend(true,{alignToBottom:"absolute",minRowHeight:21,maxRowHeight:21,minColumnWidth:30,viewportRowCount:0,viewportColumnCount:0,width:0,height:0,blockSize:100,keepItemsCount:10},n);var a={};Object.defineProperties(a,{PIXEL:{value:c["f"]},LINE:{value:c["d"]},PAGE:{value:c["e"]},AREA:{value:c["c"]}});Object.defineProperty(this,"DELTA_MODE",{value:a})}b(e,[{key:"destroy",value:function e(){this.$timeout.cancel(this.initPromise);this.$timeout.cancel(this.setVirtualSizePromise);this.unpreventNativeScroll&&this.unpreventNativeScroll();this.domApi.destroy()}},{key:"initialize",value:function e(t,n,r,i){var a=this;if(!(t instanceof o["a"]))throw new Error("Must provide an instance of domApi");if(!(n instanceof s["a"]))throw new Error("Must provide an instance of dataApi");if(!(r instanceof l["a"][l["a"].length-1]))throw new Error("Must provide an instance of ScrollAreaController");if(!i||"function"!==typeof i.fadeIn||"function"!==typeof i.fadeOut)throw new Error("Must provide valid loader api");this.resetVirtualScrollEnabled(this.settings);this.virtualScrollEnabled||r.hideUi();this.domApi=t;this.dataApi=n;this.virtualScrollApi=r;this.loaderApi=i;this.bindNativeScroll();if(this.initPromise)return this.initPromise;this.initPromise=this.$timeout((function(){a.onInit();a.onInitVirtualScroll()}));return this.initPromise}},{key:"resetVirtualScrollEnabled",value:function e(t){var n;this.virtualScrollEnabled=null!==(n=t.virtualScrollEnabled)&&void 0!==n?n:a["a"].treatAsDesktop()}},{key:"onInit",value:function e(){this.updateViewport()}},{key:"onInitVirtualScroll",value:function e(){this.virtualScrollApi.onScroll(this.onVirtualScroll.bind(this));this.virtualScrollApi.getScrollAmount=this.getVirtualScrollAmount.bind(this)}},{key:"bindNativeScroll",value:function e(){this.domApi.bindNativeScroll(this.onNativeScroll.bind(this))}},{key:"activate",value:function e(){this.virtualScrollEnabled&&this.virtualScrollApi.on();if(this.unpreventNativeScroll){this.unpreventNativeScroll();this.unpreventNativeScroll=null}}},{key:"deactivate",value:function e(){this.unpreventNativeScroll=this.domApi.preventNativeScroll();this.virtualScrollApi.off()}},{key:"updateViewport",value:function e(){var t=this.domApi.getBoundingBox();this.settings.width=t.width;this.settings.height=t.height;this.settings.viewportRowCount=Math.ceil(this.settings.height/this.settings.minRowHeight);this.settings.viewportColumnCount=Math.ceil(this.settings.width/this.settings.minColumnWidth)}},{key:"setTotalRows",value:function e(t){this.totalRows=t}},{key:"setTotalColumns",value:function e(t){this.totalColumns=t}},{key:"getSpliceArgs",value:function e(){var t=this.dataApi.getRowCount();var n=this.settings.viewportRowCount;var r=this.settings.keepItemsCount;var i=t-n-r;return[0,i]}},{key:"onSetVirtualSize",value:function e(t){var n;var r=this.domApi.getScrollAreaBoundingBox();var i=this.domApi.getScrollContentBoundingBox();var a=this.virtualScrollApi.getVirtualPosition();var o=this.settings.minRowHeight*this.totalRows;var s;if("reduce"===this.settings.alignToBottom){this.alignToBottomReduce.active=false;this.alignToBottomReduce.activeFromStart=false;if(i.height>=r.height&&this.settings.viewportRowCount>=this.totalRows){n=this.domApi.getVisibleRowCount(this.settings.maxRowHeight);if(n<this.settings.viewportRowCount){this.alignToBottomReduce.active=true;this.alignToBottomReduce.activeFromStart=true;this.settings.viewportRowCount=n}}s={width:r.width,height:this.settings.viewportRowCount*this.settings.minRowHeight}}else s={width:r.width,height:r.height};var l={width:this.settings.minColumnWidth*this.totalColumns,height:o};var c={top:0,left:0,width:r.width,height:r.height};this.virtualScrollApi.setVirtualSize(l,s,c);t&&this.virtualScrollApi.scroll(a.vPosX,a.vPosY,true)}},{key:"setVirtualSize",value:function e(t){var n=this;if(!this.virtualScrollEnabled)return;this.setVirtualSizePromise=this.$timeout((function(){n.updateViewport();n.onSetVirtualSize(t);n.updateAlignToBottom()}));return this.setVirtualSizePromise}},{key:"getVirtualScrollAmount",value:function e(t,n,r){var i=this.virtualScrollApi.getVirtualPosition();var a=this.virtualScrollApi.getMaxPosition();switch(r){case c["d"]:return{deltaX:0,deltaY:this.settings.minRowHeight*n};case c["e"]:var o=Math.max(0,this.domApi.getVisibleRowCount()-1);return{deltaX:0,deltaY:o*this.settings.minRowHeight*n};case c["c"]:return{deltaX:0,deltaY:n>0?i.vPosY*n:i.vPosY-a.vPosY};default:return{deltaX:t,deltaY:n}}}},{key:"getPage",value:function e(t){t||(t=this.virtualScrollApi.getVirtualPosition());return{left:Math.floor(t.vPosX/this.settings.minColumnWidth),top:Math.floor(t.vPosY/this.settings.minRowHeight),width:this.settings.viewportColumnCount,height:this.settings.viewportRowCount}}},{key:"adjustPageToBounds",value:function e(t){if(t.top>0&&t.top+t.height>this.totalRows){t.top=Math.max(0,this.totalRows-t.height);t.height=Math.min(this.totalRows,t.height)}if(t.left>0&&t.left+t.width>this.totalColumns){t.left=Math.max(0,this.totalColumns-t.width);t.width=Math.min(this.totalColumns,t.width)}}},{key:"scroll",value:function e(t,n,r){var i=this.virtualScrollApi.getScrollAmount(t,n,r);this.virtualScrollApi.scroll(i.deltaX,i.deltaY,false,false)}},{key:"onVirtualScroll",value:function e(t,n){var r=this;this.Scroll.emit();var i=this.virtualScrollApi.getVirtualPosition();var a=this.virtualScrollApi.getMaxPosition();var o=this.getPage(i);if(this.alignToBottomReduce.active&&n<0){this.graduallyLeaveAlignToBottomReduce(o);a=this.virtualScrollApi.getMaxPosition()}"reduce"===this.settings.alignToBottom&&a.vPosY>0&&i.vPosY===a.vPosY&&(this.alignToBottomReduce.active=true);this.adjustPageToBounds(o);this.axisDelta.xAxis=t;this.axisDelta.yAxis=n;return this.dataApi.onVirtualScroll(o.top,o.height,o.left,o.width,t,n).then((function(){r.updateAlignToBottom()})).catch((function(e){false}))}},{key:"updateAlignToBottom",value:function e(){"reduce"===this.settings.alignToBottom?this.updateAlignToBottomReduce():this.updateAlignToBottomAbsolute()}},{key:"updateAlignToBottomAbsolute",value:function e(){var t=this.virtualScrollApi.getVirtualPosition();var n=this.virtualScrollApi.getMaxPosition();this.virtualScrollApi.isVerticalScrollEnabled()&&t.vPosY===n.vPosY?this.alignBottomAbsolute=true:this.alignBottomAbsolute=false}},{key:"updateAlignToBottomReduce",value:function e(){var t=false;if(this.alignToBottomReduce.active){if(this.axisDelta.yAxis>0){var n=this.domApi.getVisibleRowCount(this.settings.maxRowHeight);this.settings.viewportRowCount=Math.max(1,n)}else{var r=Math.ceil(this.domApi.getScrollAreaClientHeight()/this.settings.minRowHeight);this.settings.viewportRowCount>=r&&(this.alignToBottomReduce.active=false);t=true}var i=this.domApi.getScrollAreaBoundingBox();this.virtualScrollApi.setViewport({top:0,left:0,width:i.width,height:i.height});this.virtualScrollApi.setVirtualViewport({width:i.width,height:this.settings.viewportRowCount*this.settings.minRowHeight});t&&this.virtualScrollApi.setVirtualScrollPos(0,-1)}}},{key:"graduallyLeaveAlignToBottomReduce",value:function e(t){var n=Math.ceil(this.domApi.getScrollAreaClientHeight()/this.settings.minRowHeight);if(this.alignToBottomReduce.activeFromStart)return;t.height=Math.min(this.totalRows-t.top,n);this.settings.viewportRowCount=t.height}},{key:"updateLoadingButtons",value:function e(){var t=this.dataApi.getFirstElementIndex();var n=this.dataApi.getRowCount();t+n>=this.totalRows||0===this.totalRows||t<0?this.loadNext=false:this.loadNext=true;this.loadPrevious=t>0}},{key:"resetNativeScroll",value:function e(){this.ignoreScroll=true;this.loadNext=false;this.loadPrevious=false;this.domApi.resetNativeScroll();return function(){this.ignoreScroll=false}.bind(this)}},{key:"onNativeScroll",value:function e(){var t=this;if(this.virtualScrollEnabled)return;this.Scroll.emit();if(this.ignoreScroll)return;var n=this.dataApi.getLastElementIndex()+1;var r=this.settings.blockSize-n;this.ignoreScroll=true;this.dataApi.onInitialNativeScroll(n,r).then((function(){t.updateLoadingButtons()}))}},{key:"gotoNextBlock",value:function e(){var t=this;var n="function"===typeof this.domApi.getHorizontalScroll?this.domApi.getHorizontalScroll():0;this.loaderApi.fadeIn(this.domApi.getScrollAreaOffsetTop(),n,this.domApi.getBoundingBox()).then((function(){var e=t.domApi.alignToLastRow();var n=t.dataApi.getLastElementIndex()+1;var r=t.settings.blockSize-t.settings.keepItemsCount;t.dataApi.onGotoNextBlock(n,r).then((function(){t.updateLoadingButtons();t.$timeout((function(){e();t.$timeout((function(){t.loaderApi.fadeOut()}))}))}))}))}},{key:"gotoPreviousBlock",value:function e(){var t=this;var n="function"===typeof this.domApi.getHorizontalScroll?this.domApi.getHorizontalScroll():0;this.loaderApi.fadeIn(this.domApi.getScrollAreaOffsetTop(),n,this.domApi.getBoundingBox()).then((function(){var e=t.domApi.alignToFirstRow();var n=t.settings.blockSize-t.settings.keepItemsCount;var r=t.dataApi.getFirstElementIndex()-n;if(r<0){n+=r;r=0}t.dataApi.onGotoPreviousBlock(r,n).then((function(){t.updateLoadingButtons();t.$timeout((function(){e();t.$timeout((function(){t.loaderApi.fadeOut()}))}))}))}))}}]);return e}();var w=t["a"]=y},"UO/V":function(e,t,n){"use strict";var r=n("6uJb");function i(e){return"MessageCode.".concat(e||0)}function a(e){var t=r["default"].get(i(e.qMessageCode),e.qMessageParameters);return t}function o(e){var t="";if(e)for(var n in e){t+=a(e[n]);n<e.length-1&&(t+="\n")}return t}function s(e){e=Math.floor(e);return e>9?"".concat(e):"0".concat(e)}function l(e){var t;var n;var r=[];var i=[];for(t in e){n=e[t];!n.qErrorString||!n.qLine||(i[n.qLine]=true)}for(t in e){n=e[t];!n.qErrorString&&i[n.qLine]||r.push(n)}return r}t["a"]={translateMessage:a,translateMessageArray:o,formatNum:s,filterOutDuplicates:l}},UOQJ:function(e,t,n){"use strict";var r=n("mWu2");function i(e){var t=r["default"].getService("qvAlertDialog");return t.show({title:e.title,message:e.message,closeOnEscape:false})}t["a"]={show:i}},UV1h:function(e,t,n){"use strict";var r=n("T9GI");var i=n("sWge");var a=n("+GbC");var o=n("H6Kg");var s=n("6uJb");var l=n("/2No");var c=n("czhI");var u=n.n(c);var d={};d.getJson=function(e){return u.a.get(e,{responseType:"json"}).then((function(t){if(t.data)return t.data;console.warn("Theme parsing error for theme: ".concat(e));return{}})).catch((function(t){console.warn("Couldn't get theme: ".concat(e,". Error: ").concat(t));return{}}))};var f=d;var p=n("acVu");function h(e){return b(e)||g(e)||m(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}function g(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){w(a,r,i,o,s,"next",e)}function s(e){w(a,r,i,o,s,"throw",e)}o(void 0)}))}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function q(e,t,n){t&&C(e.prototype,t);n&&C(e,n);return e}var E="".concat(l["a"].staticResourcesPath,"assets/external/sense-themes-default/default-themes.json");var I="".concat(l["a"].staticResourcesPath,"assets/external/sense-themes-default/");var k=function(){function e(){x(this,e)}q(e,null,[{key:"getThemeLists",value:function(){var t=S(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return f.getJson(E);case 2:n=r.sent;return r.abrupt("return",e._resolveDefaultConfiguration(n));case 4:case"end":return r.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{key:"getResourcePath",value:function(){var e=S(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",I+encodeURIComponent(t));case 1:case"end":return n.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadJson",value:function(){var t=S(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function t(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return e.getResourcePath(n);case 2:r=a.sent;i=e._getJsonPath(r);return a.abrupt("return",f.getJson(i));case 5:case"end":return a.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"_resolveDefaultConfiguration",value:function(){var t=S(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function t(i){while(1)switch(i.prev=i.next){case 0:r={default:n.default,custom:[]};Object(p["b"])("THEME_HORIZON")&&(r.default=[].concat(h(r.default),[{id:"horizon",name:"Themes.Qlik.Horizon"}]));e._translateNames(r.default);e._setType(r.default);return i.abrupt("return",r);case 5:case"end":return i.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"_getJsonPath",value:function e(t){return"".concat(t,"/theme.json")}},{key:"_translateNames",value:function e(t){t.forEach((function(e){e.name=s["default"].get(e.name)}))}},{key:"_setType",value:function e(t){t.forEach((function(e){e.type="default"}))}}]);return e}();var A=k;var T=n("JZAc");function D(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){D(a,r,i,o,s,"next",e)}function s(e){D(a,r,i,o,s,"throw",e)}o(void 0)}))}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function P(e,t,n){t&&M(e.prototype,t);n&&M(e,n);return e}var N=function(){function e(){L(this,e)}P(e,null,[{key:"getThemeLists",value:function(){var t=O(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function t(a){while(1)switch(a.prev=a.next){case 0:n={default:[],custom:[]};a.prev=1;a.next=4;return e._getExtensionsFromQrs();case 4:r=a.sent;for(i in r)e._isThemeExtension(r,i)&&n.custom.push({id:i,name:r[i].name,type:"qrs"});a.next=11;break;case 8:a.prev=8;a.t0=a["catch"](1);return a.abrupt("return",n);case 11:return a.abrupt("return",n);case 12:case"end":return a.stop()}}),t,null,[[1,8]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"loadJson",value:function(){var t=O(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function t(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return e.getResourcePath(n);case 2:r=a.sent;i=e._getJsonPath(r);return a.abrupt("return",f.getJson(i));case 5:case"end":return a.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getResourcePath",value:function(){var e=O(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:n="".concat(l["a"].rootPath,"extensions/").concat(encodeURIComponent(t));return r.abrupt("return",n);case 2:case"end":return r.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_getExtensionsFromQrs",value:function e(){return T["a"].getExtensions()}},{key:"_isThemeExtension",value:function e(t,n){return t.hasOwnProperty(n)&&t[n].type&&"theme"===t[n].type}},{key:"_getJsonPath",value:function e(t){return"".concat(t,"/theme.json")}}]);return e}();var R=N;var F=n("1zeS");function _(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){_(a,r,i,o,s,"next",e)}function s(e){_(a,r,i,o,s,"throw",e)}o(void 0)}))}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function H(e,t,n){t&&V(e.prototype,t);n&&V(e,n);return e}var z=function(){function e(){B(this,e)}H(e,null,[{key:"getThemeLists",value:function(){var t=j(regeneratorRuntime.mark((function t(){var n,r,i,a,o;return regeneratorRuntime.wrap((function t(s){while(1)switch(s.prev=s.next){case 0:n={default:[],custom:[]};s.prev=1;s.next=4;return e._getThemesFromRls();case 4:i=s.sent;for(a in i){o=i[a];if(o.qextFilename&&o.name&&o.id){r=n[e._getListForSupplier(o.supplier)];r.push({id:o.qextFilename,name:o.name,rlsId:o.id,type:"rls"})}}s.next=11;break;case 8:s.prev=8;s.t0=s["catch"](1);return s.abrupt("return",n);case 11:return s.abrupt("return",n);case 12:case"end":return s.stop()}}),t,null,[[1,8]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"loadJson",value:function(){var t=j(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function t(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return e.getResourcePath(n);case 2:r=a.sent;i=e._getJsonPath(r);return a.abrupt("return",f.getJson(i));case 5:case"end":return a.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getResourcePath",value:function(){var t=j(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function t(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return e.getThemeLists();case 2:r=a.sent;i=e._getResourcePathForList(r.default,n);if(!i){a.next=6;break}return a.abrupt("return",i);case 6:i=e._getResourcePathForList(r.custom,n);if(!i){a.next=9;break}return a.abrupt("return",i);case 9:return a.abrupt("return",null);case 10:case"end":return a.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"_getResourcePathForList",value:function e(t,n){var r;t.forEach((function(e){e.id===n&&(r="".concat(l["a"].rootPath,"api/v1/themes/").concat(e.rlsId,"/file"))}));return r}},{key:"_getJsonPath",value:function e(t){return"".concat(t,"/theme.json")}},{key:"_getThemesFromRls",value:function e(){return F["a"].getCloudThemes()}},{key:"_getListForSupplier",value:function e(t){return t&&"qlik"===t.toLowerCase()?"default":"custom"}}]);return e}();var $=z;function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function W(e,t,n){t&&G(e.prototype,t);n&&G(e,n);return e}var Q;var K=20;var Y="Invalid theme id";var J={DEFAULT:"default",QRS:"qrs",RLS:"rls"};var Z=function(){function e(t){U(this,e);this._cachedThemes=null;this.config=t;this.providers={default:A,qrs:R,rls:$};this.THEME_TYPE=J;this.ERROR_THEME_ID=Y}W(e,[{key:"getAvailableThemes",value:function e(){var t=this;var n=new i["a"];var r=[];var a=Object.keys(this.providers);var o={default:[],custom:[]};if(this._cachedThemes)return i["a"].resolve(this._cachedThemes);if(!this.config||!this.config.providers)return i["a"].resolve(o);a.forEach((function(e){t.config.providers[e]&&r.push(t.providers[e].getThemeLists())}));i["a"].all(r).then((function(e){e.forEach((function(e){o.default=o.default.concat(e.default);o.custom=o.custom.concat(e.custom)}));t._sortAlphabetically(o.custom);t._cachedThemes=o;n.resolve(o)}));return n.promise}},{key:"getCustomThemesPage",value:function e(t){var n=this;var r;if(Q&&Q<t)return i["a"].resolve([]);var a=new i["a"];this.getAvailableThemes().then((function(e){r=n._getPageFromList(t,e.custom,K);a.resolve(r)}));return a.promise}},{key:"getType",value:function e(t){var n=this;var r=new i["a"];this.getAvailableThemes().then((function(e){var i=Object.keys(e);var a;var o;var s;var l=null;while(!l){for(o=0;o<i.length;o++){a=i[o];s=n._getThemeTypeInList(e[a],t);if(s){l=s;break}}break}l?r.resolve(l):r.reject(Y)}));return r.promise}},{key:"getRawJson",value:function e(t){var n=this;if(!t)return i["a"].reject(Y);return this.getType(t).then((function(e){return n.providers[e].loadJson(t)})).catch((function(e){return i["a"].reject(e)}))}},{key:"getThemePath",value:function e(t){var n=this;if(!t)return i["a"].reject(Y);return this.getType(t).then((function(e){return n.providers[e].getResourcePath(t)}))}},{key:"getPagesTotal",value:function e(){var t=this;var n=new i["a"];if(Q)return i["a"].resolve(Q);this.getAvailableThemes().then((function(e){Q=t._calculateNbrOfPages(e.custom,K);n.resolve(Q)}));return n.promise}},{key:"_sortAlphabetically",value:function e(t){return t.sort((function(e,t){var n="qps-ploc"===s["default"].language?"en-US":s["default"].language;return e.name.localeCompare(t.name,n)}))}},{key:"_getThemeTypeInList",value:function e(t,n){var r=null;if(t)for(var i=0;i<t.length;i++)if(t[i].id===n){r=t[i].type;break}return r}},{key:"_getPageFromList",value:function e(t,n,r){var i=t||t>0?t:0;var a=i*r;var o=(i+1)*r;n.length<o&&(o=n.length);return n.slice(a,o)}},{key:"_calculateNbrOfPages",value:function e(t,n){return Math.ceil(t.length/n)}}]);return e}();var X=n("qIEf");var ee=n.n(X);var te=n("4nJ1");var ne=n("qrwB");var re=n("GF7R");function ie(e,t,n){var r=.25+(t+1)/n*.25;var i=.5-r;var a=.5+r;var o=a-i;return i+e/1*o}function ae(e,t){var n=[];var r=new ne["a"];n.push(e[0]);t||n.push(e[0]);var i=1;for(;i<e.length-1;i++){n.push(e[i]);n.push(e[i])}n.push(e[i]);t||n.push(e[i]);for(var a=0;a<n.length;a+=2)r.addColorPart(n[a],n[a+1]);return r}function oe(e,t,n){var r=[];for(var i=0;i<t+1;i++){var a=void 0;switch(t){case 0:a=e.getColor(.5);break;default:var o=ie(1/t*i,t,n);a=e.getColor(o);break}r.push(new re["a"](a).toHex())}return r}function se(e,t,n){var r=ae(e,true);var i=oe(r,t-1,t);var a=ae(i,n);var o=[null];for(var s=0;s<t;s++)o.push(oe(a,s,t));return o}function le(e){e.forEach((function(e){if("class"===e.type){var t=se(e.scale,Math.max(e.scale.length,7),false);e.scale=t;e.type="class-pyramid"}}))}function ce(e,t){var n={};var r=[];e.forEach((function(e,i){t?-1===["pyramid","row"].indexOf(e.type)&&r.push("Improper type for data palette: ".concat(e.name)):-1===["class","class-pyramid","gradient"].indexOf(e.type)&&r.push("Improper type for data scale: ".concat(e.name));-1!==["pyramid","class-pyramid"].indexOf(e.type)?Array.isArray(e.scale)&&Array.isArray(e.scale[e.scale.length-1])&&"string"===typeof e.scale[e.scale.length-1][0]||r.push("Improper scale structure for: ".concat(e.name)):Array.isArray(e.scale)&&"string"===typeof e.scale[0]||r.push("Improper scale structure for: ".concat(e.name));e.propertyValue||(e.propertyValue="scale".concat(i));n[e.propertyValue]?r.push("Duplicate property values for: ".concat(e.name)):n[e.propertyValue]=true}));return r}var ue={createPyramidFromColors:se,generateScales:le,validatePalettesOrScales:ce};function de(e){de="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return de(e)}var fe=["palette","colorSchemes.qualitativeScales","colorSchemes.ordinalScales","scales","palettes.data","palettes.ui"];function pe(e,t){for(var n in e)"object"===de(e[n])&&null!==e[n]?pe(e[n],t):"string"===typeof e[n]&&"@"===e[n].charAt(0)&&(e[n]=t[e[n]])}function he(e){ue.generateScales(e)}function ve(e,t){var n;if(e){n=ue.validatePalettesOrScales(e);n&&n.length&&n.forEach((function(e){console.warn("Theme parsing error, scale declaration: ".concat(e))}))}if(t){n=ue.validatePalettesOrScales(t,true);n&&n.length&&n.forEach((function(e){console.warn("Theme parsing error, scale declaration: ".concat(e))}))}}function me(e){e.forEach((function(e){if(e.colors)for(var t=0;t<e.colors.length;t++)e.colors[t]&&(e.colors[t]=e.colors[t].toLowerCase())}))}var ge={};ge.setDefaultFont=function(e){e.fontFamily&&Object(p["b"])("THEME_FONT_FAMILY")||(e.fontFamily="QlikView Sans, sans-serif")};ge.injectStyleNode=function(e,t){var n=document.createElement("link");n.setAttribute("rel","stylesheet");n.setAttribute("href","".concat(e,"/").concat(t));document.head.appendChild(n);return n};ge.injectExtraStyleNodes=function(e,t){var n=[];e.customStyles&&e.customStyles.length&&e.customStyles.forEach((function(e){if(e.cssRef&&e.cssRef.length&&"css"===e.cssRef.split(".").pop()){n.push({node:ge.injectStyleNode(t,e.cssRef),cssClass:e.classRef});e.classRef&&e.classRef.length&&ge.toggleCssClass(e.classRef,true)}}));return n};ge.toggleCssClass=function(e,t){e&&e.length&&ee()("body").toggleClass(e,t)};ge.parseTheme=function(e,t,n){var r={};pe(e,e._variables);pe(t,t._variables);false===e._inherit?te["a"].extend(true,r,e):te["a"].extend(true,r,t,e);n&&fe.forEach((function(t){var n=te["a"].getValue(e,t);void 0!==n&&te["a"].setValue(r,t,n)}));ge.setDefaultFont(r);r.scales&&he(r.scales);r.palettes&&r.palettes.ui&&me(r.palettes.ui);ve(r.scales,r.palettes?r.palettes.data:null);return r};ge.patchPalettes=function(e,t){var n,r;(null===e||void 0===e?void 0:e.scales)&&e.scales.length||(e.scales=t.scales);e.palettes||(e.palettes={});(null===(n=e.palettes)||void 0===n?void 0:n.data)&&e.palettes.data.length||(e.palettes.data=t.palettes.data);(null===(r=e.palettes)||void 0===r?void 0:r.ui)&&e.palettes.ui.length||(e.palettes.ui=t.palettes.ui);return e};var be=ge;var ye=n("qpUu");var we="sense";var Se=null;var xe=[];var Ce={};var qe={};var Ee=true;var Ie={};var ke=new Z({providers:{default:true,qrs:!Object(p["b"])("DISABLE_ONPREM_THEMES"),rls:Object(p["b"])("CLOUD_THEMES")}});var Ae=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"];var Te=["none","#ffffff","#46c646","#276e27","#b6d7ea","#7db8da","#4477aa","#8e477d","#ffcf02","#f8981d","#f93f17","#633d0c","#b0afae","#7b7a78","#545352","#000000"];function De(){xe.forEach((function(e){e.node.parentNode.removeChild(e.node);be.toggleCssClass(e.cssClass,false)}));xe=[]}a["a"].create(Ie,"ThemeChanged");Ie.getCurrentTheme=function(){return Se||we};Ie.applyTheme=function(e){var t=new i["a"];e===Se&&t.resolve(true);ke.getRawJson(e).then((function(n){var i=be.parseTheme(n,r,true);i=be.patchPalettes(i,r);Se&&De();be.toggleCssClass("qv-card",true===n._cards);ke.getThemePath(e).then((function(n){xe=be.injectExtraStyleNodes(i,n);Ce=i;Se=e;Object.keys(qe).forEach((function(e){qe[e].setTheme(Se,Ce)}));Oe();Ie.ThemeChanged.emit();t.resolve(true)}))})).catch((function(){t.resolve(false)}));return t.promise};Ie.getThemeJSON=function(e){var t=new i["a"];ke.getRawJson(e).then((function(e){t.resolve(be.parseTheme(e,r,true))})).catch((function(e){t.reject(e)}));return t.promise};Ie.saveTheme=function(e){o["a"].setProperties({theme:e||Ie.getCurrentTheme()})};Ie.isValidTheme=function(e){return ke.getType(e).then((function(){return i["a"].resolve(true)})).catch((function(){return i["a"].resolve(false)}))};Ie.getAvailableThemes=function(){return ke.getAvailableThemes()};Ie.getCustomThemesPage=function(e){return ke.getCustomThemesPage(e)};Ie.getPagesTotal=function(){return ke.getPagesTotal()};Object.defineProperty(Ie,"currentPalette",{iterable:false,get:function e(){var t;t=Ce.palettes&&Ce.palettes.ui&&Ce.palettes.ui[0]?Ce.palettes.ui[0].colors:r.palettes.ui[0].colors;"none"!==t[0]&&t.unshift("none");return t}});Object.defineProperty(Ie,"smallPalette",{iterable:false,get:function e(){return Ae}});Object.defineProperty(Ie,"firstPalette",{iterable:false,get:function e(){if(Ce.palettes&&Ce.palettes.ui&&Ce.palettes.ui[0])return Ce.palettes.ui[0];return r.palettes.ui[0]}});Object.defineProperty(Ie,"themePalettes",{iterable:false,get:function e(){var t=[];var n;for(var i=0;i<Ce.palettes.ui.length;i++)if(Ce.palettes&&Ce.palettes.ui&&Ce.palettes.ui[i]){n=Ce.palettes.ui[i];t.push(n)}else{n=r.palettes.ui[0];t.push(n)}return t}});Object.defineProperty(Ie,"deprecatedPalette",{iterable:false,get:function e(){return Ae}});Object.defineProperty(Ie,"scales",{iterable:false,get:function e(){return Ce.scales||r.scales}});Object.defineProperty(Ie,"dataPalettes",{iterable:false,get:function e(){return Ce.palettes&&Ce.palettes.data||r.palettes.data}});Object.defineProperty(Ie,"dataColors",{iterable:false,get:function e(){return Ce.dataColors||r.dataColors}});Ie.initializeService=function(e){qe[e]||(qe[e]=new ye["a"](e,Se,Ce));return qe[e]};Ie.setOverrides=function(e,t){Ce._overrides||(Ce._overrides={});Ce._overrides[e]=t};Ie.getMatch=function(e){var t;var n={linechart:"lineChart",barchart:"barChart",combochart:"comboChart",scatterplot:"scatterPlot",piechart:"pieChart",straightable:"straightTable",pivottable:"pivotTable",table:"straightTable","pivot-table":"pivotTable",listbox:"listBox",referenceline:"referenceLine",datacolors:"dataColors","text-image":"textImage",boxplot:"boxPlot",map:"mapChart",mapchart:"mapChart"};t=n[e.toLowerCase()]?n[e.toLowerCase()]:e;return t};function Oe(){var e=Ie.currentPalette;var t=true;e.forEach((function(e,n){Te[n]&&Te[n].toLowerCase()===e.toLowerCase()||(t=false)}));Ee=t}Ie.resolveColor=function(e,t){t=t||Ie.currentPalette;if("undefined"!==typeof e&&null!==e){if(void 0!==e.index&&-1!==e.index&&t[e.index])return t[e.index];if(void 0!==e.color)return e.color?e.color:"none";if(Ee&&Ae[e])return Ae[e];if(t[e])return t[e];return e||"none"}return"none"};Ie.mapIndex=function(e,t,n){n=n||Ie.currentPalette;var r=t?n:Ae;var i=t?Ae:n;e=i.indexOf(r[e]);return-1!==e?e:t?3:6};Ie.getPaletteScale=function(e,t){var n=this.dataPalettes;var r;n.some((function(t){if(t.propertyValue.toLowerCase()===e.toLowerCase()){r=t;return true}return false}));r||(r=n[0]);if("pyramid"===r.type){t=t||r.scale.length;var i=Math.max(Math.min(r.scale.length-1,t-1)%r.scale.length,0);return r.scale[i]}return r.scale};Ie.hasCardLayout=function(){return!!Ce._cards};Se=we;Ce=be.parseTheme(r,r,true);Ie.current=function(){return Ce};var Le=t["a"]=Ie},UWXu:function(e,t,n){"use strict";var r=n("sWge");var i=n("BFYT");var a=n("1CiI");function o(e,t,n,r){this.chartId=e;this.searchReport=n;this.app=r;this.type="found";this.analysisPrecedentId="found";this.appearsOnSheets=t}o.prototype.getTitle=function(){var e=new r["a"];this.app.getObject(this.chartId).then((function(t){t.getLayout().then((function(t){e.resolve(t.title)}))}));return e.promise};o.prototype.getMatchDetails=function(){var e=[];var t=this.chartId;if(this.searchReport.search){var n=this.searchReport.search["chartFinder-Title"].searchHits;Object.keys(n).forEach((function(r){if(r.includes(t)){var i=n[r].matchingTypes;i.forEach((function(t){e.push({matchedOn:n[r].title,matchedField:t})}))}}))}return e};o.prototype.getChartType=function(){var e=new r["a"];this.app.getObject(this.chartId).then((function(t){t.getLayout().then((function(t){e.resolve(t.visualization)}))}));return e.promise};o.prototype.loadChart=function(e){var t=new r["a"];e.getObject(this.chartId).then((function(e){e.getProperties().then((function(n){t.resolve({model:e,options:{interactionState:0,showTitles:false},properties:n})}))}));return t.promise};var s=o;var l=n("ZFgA");var c=n("l/7o");var u=n("hwkd");var d=n("c71u");var f=n("6uJb");var p=n("2n0V");var h=n("jaci");var v=n("RBCx");var m=n("acVu");function g(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){g(a,r,i,o,s,"next",e)}function s(e){g(a,r,i,o,s,"throw",e)}o(void 0)}))}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),true).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var x;var C=new i["a"];function q(e,t,n){if(x)return D(x.app,x.searchPhrase,x.libItems,e,t,n);return r["a"].reject({norefresh:true})}function E(e){Object(m["b"])("CRE_ALLOW_EXTENSIONS")&&"qlik-radar-chart"===e.chartType&&!v["a"].isChartSupported(e)&&(e.chartType="barchart")}function I(e,t,n){var i=[];t.forEach((function(t){E(t.visualization);if(Object(m["b"])("CAO_MACRO_ANALYSIS")&&"macroAnalysis"===t.recommendationGroup){t.visualization=new a["a"](w(w({},t.visualization),{},{requiredSelections:e.requiredSelections}),e.__report);i.push(r["a"].resolve(t))}else v["a"].isChartSupported(t.visualization)&&i.push(l["a"].generateChartPropertiesForRecommendation(t.visualization,n).then((function(n){t.visualization=new a["a"](w(w({},t.visualization),{},{requiredSelections:e.requiredSelections}),e.__report,n);return t})))}));return i}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=w(w({},e),{},{analysis:{dims:[],msrs:[]},matchRecord:{matches:[]},options:w(w({},e.options),{},{isMonitored:n})});var i=w(w({},r),{},{chartType:e.type});if(v["a"].isChartSupported(i))return l["a"].generateChartPropertiesForRecommendation(i,t).then((function(e){return new c["a"]({visualization:new a["a"](w(w({},r),{},{visualization:r}),{},e),suggestedTimeout:3e3},t)}));return Promise.resolve()}function A(e,t,n,i){var a=[];var o=3e3;e.runtimeSettings&&e.runtimeSettings.suggestedTimeout&&(o=e.runtimeSettings.suggestedTimeout);e.appRecommendations.forEach((function(e){var r=e.recAnalyses?e.recAnalyses:e.visualizations;r.forEach((function(r){if("fact"===r.analysis.analysis&&r.relevance&&1!==r.relevance)return;n&&(r.libLabelLookup=n);var i={relevance:r.relevance,suggestedTimeout:o,visualization:r,complexity:u["a"].estimateComplexity(r,t),recommendationGroup:e.group,analysisIntentRelevance:r.analysisIntentRelevance};a.push(i)}))}));return r["a"].all(I(e,a,t,n)).then((function(n){var r=[];e.appCharts&&e.appCharts.forEach((function(n){n.appearsOnSheets.length>0&&r.push({relevance:n.relevance,suggestedTimeout:o,visualization:new s(n.id,n.appearsOnSheets,e.__report,t),complexity:-1})}));return{recommendations:n.map((function(e){return new c["a"](e,t,i)})),chartMatches:r.map((function(e){return new c["a"](e,t,i)})),requiredSelections:e.requiredSelections?e.requiredSelections:[],suggestedTimeout:o}}))}function T(e,t){var n=d["a"].getMatchRecordFromAnalysis(t);return F(n.matchRecord,n.analysisType).then((function(t){if(t){var n={appRecommendations:[{group:t.analysis.analysisGroup,recAnalyses:[t]}]};return A(n,e).then((function(e){return e.recommendations[0]}))}return}))}function D(e,t,n,r,i,a){x={app:e,searchPhrase:t,libItems:n};var o={exploreSupplemental:["appInsights"]};var s=[];var l={};n&&(l={scope:["libItems"]});"boolean"===typeof r&&false===r&&(l.appPrecedents="skip");if(Object(m["b"])("DPS_DERIVED_IA")){l.sortAppRecommendations=true;l.onDemandCalculations=true;s="complete"}return C.getInsightRecommendations(t,o,true,s,l,i,a).then((function(t){var n=A(t,e);if(Object(m["b"])("CAO_MACRO_ANALYSIS"))return n.then((function(t){return N(t,e,t.suggestedTimeout).then((function(e){return e}))}));return n}))}function O(e){var t=e.filter((function(e){return!!e.chart.analysisIntentRelevance}));if(!t.length)return e[0];return t.reduce((function(e,t){return t.chart.analysisIntentRelevance>e.chart.analysisIntentRelevance?t:e}))}function L(e,t){if(Object(m["b"])("DPS_DERIVED_IA")){if(e.recommendations&&e.recommendations.length){e.matchingRecommendation=1===e.recommendations[0].chart.relevance?e.recommendations[0]:void 0;e.recommendations=e.recommendations.slice(1)}}else{var n=e.recommendations.filter((function(e){return e.chart.recommendationGroup===t})).filter((function(e){return e.chart.relevance&&1===e.chart.relevance}));if(n.length)e.matchingRecommendation=O(n);else{var r=e.recommendations.filter((function(e){return e.chart.recommendationGroup!==t})).filter((function(e){return e.chart.relevance&&1===e.chart.relevance}));e.matchingRecommendation=O(r)}e.recommendations=e.recommendations.filter((function(t){return t!==e.matchingRecommendation})).sort((function(e){return e.chart.recommendationGroup===t?-1:1}))}return e}function M(e,t,n,r,i){x={app:e,searchPhrase:"",libItems:n};var a={exploreSupplemental:["appInsights"]};var o=[];var s={};n&&(s.scope=["libItems"]);if(Object(m["b"])("DPS_DERIVED_IA")){s.sortAppRecommendations=true;s.onDemandCalculations=true;o="complete"}t.sorting&&(s.sortHint=t.sorting);return C.getVisRecommendations(t,true,a,o,s).then((function(n){return P(n,e,t,r,i,s)}))}function P(e,t,n,r,i,a){return A(e,t,r,a).then((function(e){var r=i?L(e,n.analysisTypes&&n.analysisTypes[0]):e;if(Object(m["b"])("CAO_MACRO_ANALYSIS"))return N(r,t,r.suggestedTimeout).then((function(e){return e}));return r}))}function N(e,t,n){var i=[];e.recommendations.forEach((function(r){if(r.isMacroAnalysis()){var a=r.getVisualization();R(a,i,t,e.__report,n)}}));return r["a"].all(i).then((function(){return e}))}function R(e,t,n,r,i){e.partialCharts=new Array(e.parts.length);e.parts.forEach((function(o,s){v["a"].isChartSupported(o)&&t.push(l["a"].generateChartPropertiesForRecommendation(o,n).then((function(t){var l={complexity:u["a"].estimateComplexity(o,n),visualization:new a["a"](w({},o),r,t),suggestedTimeout:i};var d=new c["a"](l,n);e.partialCharts[s]=d})))}))}function F(e,t,n){var r=Object(m["b"])("DPS_DERIVED_IA")?"complete":void 0;return C.adaptMatchRecord("update",e,t,r,"appInsights",n).then((function(e){if(e){Array.isArray(e)&&(e=e[0]);return e}return}))}function _(e,t,n,r){return j.apply(this,arguments)}function j(){j=b(regeneratorRuntime.mark((function e(t,n,r,i){var o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:o={};s=[];o.visualization=new a["a"](w(w({},t),{},{requiredSelections:t.requiredSelections}),r);R(o.visualization.visualization,s,n,r,i);l.next=6;return Promise.all(s);case 6:return l.abrupt("return",o);case 7:case"end":return l.stop()}}),e)})));return j.apply(this,arguments)}function B(e,t,n,r,i,a){var o=e.matchRecord;var s=e.analysis.analysis;e.analysis.analysisEncodings&&(o.analysisEncodings=e.analysis.analysisEncodings);return F(o,s,i).then((function(e){if(e){var i;e.libLabelLookup=n;if("macroAnalysis"===(null===(i=e.analysis)||void 0===i?void 0:i.analysisGroup))return _(e,t,r,a);E(e);if(v["a"].isChartSupported(e))return l["a"].generateChartPropertiesForRecommendation(e,t).then((function(t){if(Object(m["b"])("DPS_DERIVED_IA"))return w({properties:t},e);return{properties:t,analysis:e.analysis,matchRecord:e.matchRecord,requiredSelections:e.requiredSelections}}))}return}))}function V(e,t){var n=e.getAnalysis();return n.precedents&&n.precedents.id&&n.precedents.id===t.id}function H(e,t){return!e.some((function(e){return V(e,t)}))}function z(e,t){return e.filter((function(e){return t.some((function(t){return V(e,t)}))}))}function $(e,t){var n={analysis:{precedents:{}},matchRecord:{analysisPrecedentId:t.analysis.analysisPrecedentId,matches:t.analysis.slots}};var r=new a["a"](n,void 0,{});var i={visualization:r};var o=new c["a"](i,e);o.setInvalidChart(true);o.setChartType(f["default"].get("Visualization.Requirements.IncompleteVisualization"));return o}function U(e){return e.filter((function(e){return e.analysis&&e.analysis.slots&&e.analysis.slots.length>0}))}function G(e){var t=e.qInfo.qType;var n=p["a"].getLibraryInfo(t);var r;n.translationKey?r=f["default"].get(n.translationKey):n.name&&(r=n.name);if(Object(m["b"])("DPS_DERIVED_IA")){var i;var a="";if("linechart"===t&&e.lineType){a="cao.insight.chartType.linechart.".concat(e.lineType);r+=" (".concat(f["default"].get(a),")")}else if("barchart"===t&&(null===(i=e.barGrouping)||void 0===i?void 0:i.grouping)){a="cao.insight.chartType.barchart.".concat(e.barGrouping.grouping);r+=" (".concat(f["default"].get(a),")")}}return{chartTypeTranslated:r,luiIcon:"lui-icon--".concat(n.icon)}}function W(e){var t,n;var r=(null===(t=e.dims)||void 0===t?void 0:t.map((function(e){var t={qDef:{qFieldDefs:[]}};e.libId?t.qLibraryId=e.libId:t.qDef.qFieldDefs.push(e.expr);return t})))||[];var i=(null===(n=e.msrs)||void 0===n?void 0:n.map((function(e){var t={qDef:{qDef:""}};e.libId?t.qLibraryId=e.libId:t.qDef.qDef=e.expr;return t})))||[];return{qDimensions:r,qMeasures:i}}function Q(e){var t,n;var r=(null===(t=e.dims)||void 0===t?void 0:t.map((function(e){var t={qDimensionType:"D"};e.libId&&(t.qLibraryId=e.libId);return t})))||[];var i=(null===(n=e.msrs)||void 0===n?void 0:n.map((function(e){if(e.libId)return{qLibraryId:e.libId};return{}})))||[];return{qDimensionInfo:r,qMeasureInfo:i}}function K(){return{isReadonly:true,isPopover:false,selectionsDisabled:true,interactionState:0,components:{miniChart:{show:false},xAxisTitle:{show:false},yAxisTitle:{show:false},scrollArea:{showFlag:0}},direction:h["a"].direction}}function Y(e,t){var n;return"table"!==(null===e||void 0===e?void 0:e.qInfo.qType)&&!(null===(n=e.recommendation)||void 0===n?void 0:n.matchRecord)||!e.isRecommended&&"kpi"===t&&("table"!==e.qInfo.qType||"kpi"===e.qInfo.qType)}function J(e){var t=null===e||void 0===e?void 0:e.getFollowupVisualizations();if((null===t||void 0===t?void 0:t.length)>0)return t.map((function(e){return{analysisInfo:e.analysis,analysis:e}}));return[]}function Z(e,t){if(t){var n,r;var i=[];var a=e.getParentVisualization();if((null===(n=a)||void 0===n||null===(r=n.alternativeVisualizations)||void 0===r?void 0:r.length)>0){i.push(a);i=i.concat(a.alternativeVisualizations)}else{a=e.getVisualization();a.isMainVisualization=true;i.push(a);i=i.concat(e.getAlternativeVisualizations())}var o=[];i.forEach((function(t){v["a"].isChartSupported(t)&&o.push(l["a"].getChartPropertiesForAlternativeVisualization(t,e.app,a))}));return Promise.resolve(o)}var s=e.getModel();return s.getLayout().then((function(t){var n=e.getProperties();n.qHyperCubeDef=n.qHyperCubeDef||W(e.getAnalysis());t.qHyperCube=t.qHyperCube||Q(e.getAnalysis());return l["a"].generateAlternativeChartProperties(n,t,e.app,true,true,e.getMatchRecord())}))}var X=function e(t,n,r,i,o,s){t.forEach((function(e){var t;if(s){t=e.parentVisualization;e=e.properties||e}if(e&&(s||!Y(e,n.chartType)))return a["a"].buildChart(e,n.app).then((function(l){var c,u;var d=new a["a"](w(w({},e.recommendation),{},{requiredSelections:n.getRequiredSelections()}),n.getSearchReport(),e);s&&(null===(c=t)||void 0===c||null===(u=c.alternativeVisualizations)||void 0===u?void 0:u.length)>0&&d.setParentVisualization(t);var f={type:e.qInfo.qType,chartTypeTranslated:G(e).chartTypeTranslated,options:K(),model:l.model,properties:e,visualization:d};if(s){var p,h;(null===(p=e.recommendation)||void 0===p?void 0:p.isRecommendedAlternative)||(null===(h=e.recommendation)||void 0===h?void 0:h.isMainVisualization)?r.push(f):i.push(f)}else e.isRecommended?r.push(f):o.push(f)}));return}))};function ee(e){var t=[];var n=[];var i=[];var a=Object(m["b"])("DPS_DERIVED_IA");return Z(e,a).then((function(o){return r["a"].all(o).then((function(r){X(r,e,t,n,i,a);return{recommendedCharts:t,notRecommendedCharts:n,otherCharts:i}}))}))}function te(e,t,n,i,a,o,s){var l=[];t=z(t,n);o(t);return U(n).filter((function(e){return H(t,e)})).reduce((function(t,n){return t.then((function(){if(i())return T(e,n).then((function(e){a(e,n.id);l.push(e);return e})).catch((function(){var t=$(e,n);a(t,n.id);l.push(t);return t}));return}))}),r["a"].resolve()).then((function(){s(l)}))}function ne(e,t,n){return C.getAffinity(e,t,n)}var re=t["a"]={getInsights:D,getVisualRecommendations:M,refreshInsights:q,adaptRecommendation:B,getAffinity:ne,filterRelevantRecommendations:L,getChartFromAdaptedAnalysis:T,populateUserPrefCharts:te,filterAnalysesWithSlots:U,getChartTypeInfo:G,getAlternativeCharts:ee,setAllAlternativeCharts:X,getAlternativeChartProperties:Z,getPropertiesHyperCubeDef:W,getVisualRecommendationFromChartDef:k,getVisualizationsFromRecommendations:I,parseMacroAnalysisParts:R,getFollowupCharts:J,parseChartResponse:P}},UbZW:function(e,t,n){var r,i;!(r=[],i=function(){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(t){if(null==t)return"";var n="";var r,i,a,o,s,l,c;var u=0;t=e.compress(t);while(u<2*t.length){if(u%2==0){r=t.charCodeAt(u/2)>>8;i=255&t.charCodeAt(u/2);a=u/2+1<t.length?t.charCodeAt(u/2+1)>>8:NaN}else{r=255&t.charCodeAt((u-1)/2);if((u+1)/2<t.length){i=t.charCodeAt((u+1)/2)>>8;a=255&t.charCodeAt((u+1)/2)}else i=a=NaN}u+=3;o=r>>2;s=(3&r)<<4|i>>4;l=(15&i)<<2|a>>6;c=63&a;isNaN(i)?l=c=64:isNaN(a)&&(c=64);n=n+e._keyStr.charAt(o)+e._keyStr.charAt(s)+e._keyStr.charAt(l)+e._keyStr.charAt(c)}return n},decompressFromBase64:function(t){if(null==t)return"";var n="",r=0,i,a,o,s,l,c,u,d,f=0,p=e._f;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<t.length){l=e._keyStr.indexOf(t.charAt(f++));c=e._keyStr.indexOf(t.charAt(f++));u=e._keyStr.indexOf(t.charAt(f++));d=e._keyStr.indexOf(t.charAt(f++));a=l<<2|c>>4;o=(15&c)<<4|u>>2;s=(3&u)<<6|d;if(r%2==0){i=a<<8;64!=u&&(n+=p(i|o));64!=d&&(i=s<<8)}else{n+=p(i|a);64!=u&&(i=o<<8);64!=d&&(n+=p(i|s))}r+=3}return e.decompress(n)},compressToUTF16:function(t){if(null==t)return"";var n="",r,i,a,o=0,s=e._f;t=e.compress(t);for(r=0;r<t.length;r++){i=t.charCodeAt(r);switch(o++){case 0:n+=s(32+(i>>1));a=(1&i)<<14;break;case 1:n+=s(a+(i>>2)+32);a=(3&i)<<13;break;case 2:n+=s(a+(i>>3)+32);a=(7&i)<<12;break;case 3:n+=s(a+(i>>4)+32);a=(15&i)<<11;break;case 4:n+=s(a+(i>>5)+32);a=(31&i)<<10;break;case 5:n+=s(a+(i>>6)+32);a=(63&i)<<9;break;case 6:n+=s(a+(i>>7)+32);a=(127&i)<<8;break;case 7:n+=s(a+(i>>8)+32);a=(255&i)<<7;break;case 8:n+=s(a+(i>>9)+32);a=(511&i)<<6;break;case 9:n+=s(a+(i>>10)+32);a=(1023&i)<<5;break;case 10:n+=s(a+(i>>11)+32);a=(2047&i)<<4;break;case 11:n+=s(a+(i>>12)+32);a=(4095&i)<<3;break;case 12:n+=s(a+(i>>13)+32);a=(8191&i)<<2;break;case 13:n+=s(a+(i>>14)+32);a=(16383&i)<<1;break;case 14:n+=s(a+(i>>15)+32,32+(32767&i));o=0;break}}return n+s(a+32)},decompressFromUTF16:function(t){if(null==t)return"";var n="",r,i,a=0,o=0,s=e._f;while(o<t.length){i=t.charCodeAt(o)-32;switch(a++){case 0:r=i<<1;break;case 1:n+=s(r|i>>14);r=(16383&i)<<2;break;case 2:n+=s(r|i>>13);r=(8191&i)<<3;break;case 3:n+=s(r|i>>12);r=(4095&i)<<4;break;case 4:n+=s(r|i>>11);r=(2047&i)<<5;break;case 5:n+=s(r|i>>10);r=(1023&i)<<6;break;case 6:n+=s(r|i>>9);r=(511&i)<<7;break;case 7:n+=s(r|i>>8);r=(255&i)<<8;break;case 8:n+=s(r|i>>7);r=(127&i)<<9;break;case 9:n+=s(r|i>>6);r=(63&i)<<10;break;case 10:n+=s(r|i>>5);r=(31&i)<<11;break;case 11:n+=s(r|i>>4);r=(15&i)<<12;break;case 12:n+=s(r|i>>3);r=(7&i)<<13;break;case 13:n+=s(r|i>>2);r=(3&i)<<14;break;case 14:n+=s(r|i>>1);r=(1&i)<<15;break;case 15:n+=s(r|i);a=0;break}o++}return e.decompress(n)},compress:function(t){if(null==t)return"";var n,r,i={},a={},o="",s="",l="",c=2,u=3,d=2,f="",p=0,h=0,v,m=e._f;for(v=0;v<t.length;v+=1){o=t.charAt(v);if(!Object.prototype.hasOwnProperty.call(i,o)){i[o]=u++;a[o]=true}s=l+o;if(Object.prototype.hasOwnProperty.call(i,s))l=s;else{if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++){p<<=1;if(15==h){h=0;f+=m(p);p=0}else h++}r=l.charCodeAt(0);for(n=0;n<8;n++){p=p<<1|1&r;if(15==h){h=0;f+=m(p);p=0}else h++;r>>=1}}else{r=1;for(n=0;n<d;n++){p=p<<1|r;if(15==h){h=0;f+=m(p);p=0}else h++;r=0}r=l.charCodeAt(0);for(n=0;n<16;n++){p=p<<1|1&r;if(15==h){h=0;f+=m(p);p=0}else h++;r>>=1}}c--;if(0==c){c=Math.pow(2,d);d++}delete a[l]}else{r=i[l];for(n=0;n<d;n++){p=p<<1|1&r;if(15==h){h=0;f+=m(p);p=0}else h++;r>>=1}}c--;if(0==c){c=Math.pow(2,d);d++}i[s]=u++;l=String(o)}}if(""!==l){if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++){p<<=1;if(15==h){h=0;f+=m(p);p=0}else h++}r=l.charCodeAt(0);for(n=0;n<8;n++){p=p<<1|1&r;if(15==h){h=0;f+=m(p);p=0}else h++;r>>=1}}else{r=1;for(n=0;n<d;n++){p=p<<1|r;if(15==h){h=0;f+=m(p);p=0}else h++;r=0}r=l.charCodeAt(0);for(n=0;n<16;n++){p=p<<1|1&r;if(15==h){h=0;f+=m(p);p=0}else h++;r>>=1}}c--;if(0==c){c=Math.pow(2,d);d++}delete a[l]}else{r=i[l];for(n=0;n<d;n++){p=p<<1|1&r;if(15==h){h=0;f+=m(p);p=0}else h++;r>>=1}}c--;if(0==c){c=Math.pow(2,d);d++}}r=2;for(n=0;n<d;n++){p=p<<1|1&r;if(15==h){h=0;f+=m(p);p=0}else h++;r>>=1}while(true){p<<=1;if(15==h){f+=m(p);break}h++}return f},decompress:function(t){if(null==t)return"";if(""==t)return null;var n=[],r,i=4,a=4,o=3,s="",l="",c,u,d,f,p,h,v,m=e._f,g={string:t,val:t.charCodeAt(0),position:32768,index:1};for(c=0;c<3;c+=1)n[c]=c;d=0;p=Math.pow(2,2);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}switch(r=d){case 0:d=0;p=Math.pow(2,8);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}v=m(d);break;case 1:d=0;p=Math.pow(2,16);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}v=m(d);break;case 2:return""}n[3]=v;u=l=v;while(true){if(g.index>g.string.length)return"";d=0;p=Math.pow(2,o);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}switch(v=d){case 0:d=0;p=Math.pow(2,8);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}n[a++]=m(d);v=a-1;i--;break;case 1:d=0;p=Math.pow(2,16);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}n[a++]=m(d);v=a-1;i--;break;case 2:return l}if(0==i){i=Math.pow(2,o);o++}if(n[v])s=n[v];else{if(v!==a)return null;s=u+u.charAt(0)}l+=s;n[a++]=u+s.charAt(0);i--;u=s;if(0==i){i=Math.pow(2,o);o++}}}};return e}.apply(t,r),void 0!==i&&(e.exports=i))},UdKW:function(e,t,n){"use strict";var r,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e);l=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(u,0))};i=function(e,t){c=setTimeout(e,t)};a=function(){clearTimeout(c)};o=function(){return!1};s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,h=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills");"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var b=!1,y=null,w=-1,S=5,x=0;o=function(){return t.unstable_now()>=x};s=function(){};t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):S=0<e?Math.floor(1e3/e):5};var C=new MessageChannel,q=C.port2;C.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();x=e+S;try{y(!0,e)?q.postMessage(null):(b=!1,y=null)}catch(e){throw q.postMessage(null),e}}else b=!1};r=function(e){y=e;b||(b=!0,q.postMessage(null))};i=function(e,n){w=h((function(){e(t.unstable_now())}),n)};a=function(){v(w);w=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){e=e[0];return void 0===e?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>A(o,n))void 0!==l&&0>A(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>A(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],D=[],O=1,L=null,M=3,P=!1,N=!1,R=!1;function F(e){for(var t=I(D);null!==t;){if(null===t.callback)k(D);else{if(!(t.startTime<=e))break;k(D),t.sortIndex=t.expirationTime,E(T,t)}t=I(D)}}function _(e){R=!1;F(e);if(!N)if(null!==I(T))N=!0,r(j);else{var t=I(D);null!==t&&i(_,t.startTime-e)}}function j(e,n){N=!1;R&&(R=!1,a());P=!0;var r=M;try{F(n);for(L=I(T);null!==L&&(!(L.expirationTime>n)||e&&!o());){var s=L.callback;if(null!==s){L.callback=null;M=L.priorityLevel;var l=s(L.expirationTime<=n);n=t.unstable_now();"function"===typeof l?L.callback=l:L===I(T)&&k(T);F(n)}else k(T);L=I(T)}if(null!==L)var c=!0;else{var u=I(D);null!==u&&i(_,u.startTime-n);c=!1}return c}finally{L=null,M=r,P=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;t.unstable_IdlePriority=5;t.unstable_ImmediatePriority=1;t.unstable_LowPriority=4;t.unstable_NormalPriority=3;t.unstable_Profiling=null;t.unstable_UserBlockingPriority=2;t.unstable_cancelCallback=function(e){e.callback=null};t.unstable_continueExecution=function(){N||P||(N=!0,r(j))};t.unstable_getCurrentPriorityLevel=function(){return M};t.unstable_getFirstCallbackNode=function(){return I(T)};t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}};t.unstable_pauseExecution=function(){};t.unstable_requestPaint=V;t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}};t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?s+l:s;o="number"===typeof o.timeout?o.timeout:B(e)}else o=B(e),l=s;o=l+o;e={id:O++,callback:n,priorityLevel:e,startTime:l,expirationTime:o,sortIndex:-1};l>s?(e.sortIndex=l,E(D,e),null===I(T)&&e===I(D)&&(R?a():R=!0,i(_,l-s))):(e.sortIndex=o,E(T,e),N||P||(N=!0,r(j)));return e};t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=I(T);return n!==L&&null!==L&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<L.expirationTime||o()};t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},UjZk:function(e,t,n){"use strict";var r=n("wvr8");var i=n("6uJb");var a=false;var o={Removable:"REMOVABLE",Fixed:"FIXED",Cd_rom:"CD_ROM",Ram:"RAM",UnknownType:"UNKNOWN_TYPE"};function s(e,t){e=e||[];function n(e){return{name:r["a"].removeSurroundingSlashes(e.qDrive),extraInfo:e.qUnnamedDrive?l(e.qTypeIdentifier,e):e.qName,path:e.qDrive,isFile:false}}var i=e.map(n);u(i);t||f(i,"");return i}function l(e,t){switch(e){case o.Removable:return i["default"].get("DriveName.0");case o.Fixed:return i["default"].get("DriveName.1");case o.Cd_rom:return i["default"].get("DriveName.2");case o.Ram:return i["default"].get("DriveName.3");case o.UnknownType:return i["default"].get("DriveName.4");default:return t.qName}}function c(e,t){if(void 0===t)return true;for(var n=0;n<t.length;n++)if(e.match(t[n]))return true;return false}function u(e){e.sort((function(e,t){return e.isFile===t.isFile?r["a"].sortSlightlyMoreNaturallySingle(e.name,t.name):e.isFile?1:-1}))}function d(e){if(e&&e.match(/^\\\\.*/)){var t=e.replace(/^\\\\/,"");return t.split("\\").length<=1}return false}function f(e,t){var n=r["a"].goUpOneFolderLevel(t);a?e.unshift({name:"",path:n,isFile:false,isAtRoot:0===t.length||d(n),disabled:false}):e.unshift({name:"",path:n,isFile:false,disabled:0===t.length||d(n)})}function p(e){function t(t){return!t.isFile||c(t.name,e)}return t}function h(e,t,n,i){function a(t){return{name:t.qName,path:e+(r["a"].endsWith(e,"\\")?"":"\\")+t.qName,isFile:"FILE"===t.qType}}var o=t.map(a).filter(p(n));u(o);i||f(o,e);return o}function v(e,t,n,i){e=e||"";var a=t.folders.map((function(t){return{id:t.id,name:t.name,path:e+(r["a"].endsWith(e,"\\")?"":"\\")+t.name,isFile:false}}));a=a.concat(t.files.map((function(t){return{id:t.id,name:t.name,path:e+(r["a"].endsWith(e,"\\")?"":"\\")+t.name,isFile:true}})));a=a.filter(p(n));u(a);i||f(a,e);return a}function m(e,t,n,i,a){function o(t){return{name:t.name,id:t.id,path:e?e+(r["a"].endsWith(e,"\\")?"":"\\")+t.name:t.name,isFile:false,isRemote:true,extraInfo:""}}function s(t){return{name:t.name,id:t.id,path:e?e+(r["a"].endsWith(e,"\\")?"":"\\")+t.name:t.name,isFile:true,isRemote:true,extraInfo:""}}var l=t.map(o);l=l.concat(n.map(s).filter(p(i)));u(l);a||f(l,e);return l}t["a"]={setNewBackStyle:function e(){a=true},postProcessDirectoryListing:h,postProcessDriveListing:s,postProcessDatafilesListing:v,postProcessStorageProviderDirectoryListing:m}},Umg0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=n("yB4Y"),a=n("SD8o"),o=function(){function e(){}return e.getAssociation=function(e,t){if(!e.associations||!e.associations[t])return null;var n={name:t,nodes:[]};return n.nodes=r.map(e.associations[t],r.clone),n.nodes.forEach((function(t){t.table=e.getTargetTableModelById(t.tableId),t.table&&(t.field=t.table.getField(t.fieldId))})),n},e.getAssociationNames=function(t,n,i){if(!t.associations)return[];var a=Object.keys(t.associations);if(!n)return a;var o=n?e.createSerializedNode(n,i):void 0,s=[];return a.forEach((function(e){var n=r.find(t.associations[e],(function(e){return i?o.fieldId===e.fieldId:o.tableId===e.tableId}));n&&s.push(e)})),s},e.removeAssociationByName=function(e,t){e.associations&&e.associations[t]&&delete e.associations[t]},e.renameAssociation=function(e,t,n){if(n!==t&&(e.associations||(e.associations={}),e.associations[t])){if(!e.associations[n])return e.associations[n]=e.associations[t],void delete e.associations[t];e.associations[t].forEach((function(t){var i=r.find(e.associations[n],(function(e){return e.tableId===t.tableId}));i||e.associations[n].push(t)})),delete e.associations[t]}},e.addAssociationBetween=function(t,n,i,a,o,s){var l=s||e.generateAssociationName(t,n,i,a,o);t.associations||(t.associations={}),n.setUpdateStatus(),a.setUpdateStatus();var c=e.createSerializedNode(n,i),u=e.createSerializedNode(a,o);if(!t.associations[l])return void(t.associations[l]=[c,u]);var d=[c,u];d.forEach((function(e){r.where(t.associations[l],e).length||t.associations[l].push(e)}))},e.getTargetFieldByName=function(e,t){return r.find(e.getFields(),(function(e){return e.name===t}))},e.getAssociationNamesBetween=function(t,n,i,a,o){var s=[],l=e.getAssociationNames(t,n,i),c=e.getAssociationNames(t,a,o);return l.forEach((function(e){r.indexOf(c,e)>-1&&s.push(e)})),s},e.addToAssociation=function(t,n,i,a){t.associations||(t.associations={}),t.associations[n]||(t.associations[n]=[]);var o=e.createSerializedNode(i,a);r.where(t.associations[n],o).length||(t.associations[n].push(o),i.setUpdateStatus())},e.removeFromAssociation=function(t,n,r,i){if(t.associations&&t.associations[n]){var a=e.createSerializedNode(r,i);t.associations[n]=t.associations[n].filter((function(e){return i?e.fieldId!==a.fieldId:e.tableId!==a.tableId})),0===t.associations[n].length&&delete t.associations[n],r.setUpdateStatus()}},e.generateAssociationName=function(t,n,r,i,a){var o=e._generateAssociationName(t,n,r,i,a);return e.cleanUpKey(o)},e.removeAssociationBetween=function(t,n,r,i,a){var o=e.getAssociationNamesBetween(t,n,r,i,a);o.forEach((function(o){e.removeFromAssociation(t,o,n,r),e.removeFromAssociation(t,o,i,a)}))},e.updateAssociations=function(t){var n=e.getFieldName2TargetTablesMap(t);Object.keys(n).forEach((function(r){var i=n[r];i.length>1&&i.forEach((function(n){var i=n.table,a=e.getFieldQualifiedName(i.data.name,r);t.renameTargetTableField(i.data.name,r,a),e.addToAssociation(t,r,i,a)}))}));var r=e.getAssociationNames(t,null,null);r.forEach((function(n){var r=e.getAssociation(t,n);r.nodes.forEach((function(e){var r=t.getTargetTableModelById(e.tableId),i=r?r.getField(e.fieldId):null;i||(t.associations[n]=t.associations[n].filter((function(t){return t.fieldId!==e.fieldId})))}))})),r=e.getAssociationNames(t,null,null),r.forEach((function(n){var r=e.getAssociation(t,n);r.nodes.length<=1&&e.removeAssociationByName(t,n)})),n=e.getFieldName2TargetTablesMap(t),r=e.getAssociationNames(t,null,null),r.forEach((function(r){var i=n[r];i&&i.forEach((function(n){var i=n.table,a=e.getFieldQualifiedName(i.data.name,r);t.renameTargetTableField(i.data.name,r,a)}))})),Object.keys(t.associations).forEach((function(n){e.renameAssociation(t,n,e.cleanUpKey(n))}))},e.getFieldQualifiedName=function(t,n){return e.cleanUpQualifiedNamePart(t)+"."+e.cleanUpQualifiedNamePart(n)},e.getDuplicateFieldInfo=function(t,n,r,i){var a={},o=e.getAssociation(t,i);t.targetTableModels.forEach((function(e){var t=e.getFields().filter((function(e){return e.name===r})),s=!1;o&&o.nodes.some((function(e){return e.field.name===r}))&&(s=!0),e.data.id!==n.data.id||i?!(t.length>0&&e.data.id!==n.data.id)||o&&s||(a.otherTable=e.data.name):a.duplicateInSameTable=t.length>0}));var s=e.getAssociation(t,r);if(s){var l=[];s.nodes.forEach((function(e){var t=e.table.data.name;-1===l.indexOf(t)&&l.push(t)})),l.length>=2&&(a.associatedTables=l)}return a.isUnique=!a.duplicateAssociation&&!a.duplicateInSameTable&&!a.associatedTables,a},e.serializeAssociations=function(e){var t=e.associations?e.associations:{};return a.SharedUtil.extend(!0,{},t)},e.hasDisconnectedBubbles=function(t){var n=t.targetTableModels.filter((function(e){return!e.isMarkedForDeletion()}));if(n.length<=1)return!1;for(var r=0;r<n.length;r++){var i=n[r];if(0===e.getAssociationNames(t,i).length)return!0}return!1},e.doNameBasedAssociations=function(t,n,r){function a(e){var t=n.getTargetTableModel(e.data.name),r=!t||t.getStatus()===i.DSMTypes.QueryStatus["delete"],a=e.getStatus()===i.DSMTypes.QueryStatus.add||e.getStatus()===i.DSMTypes.QueryStatus.update;return r&&a&&o(e)}var o=function(n){return n.getStatus()!==i.DSMTypes.QueryStatus["delete"]&&0===e.getAssociationNames(t,n).length},s=n?a:o,l=e.getFieldName2TargetTablesMap(t,!0,s);Object.keys(l).forEach((function(n){var i=l[n];i.length>1&&i.forEach((function(a){i.forEach((function(i){a!==i&&e.hasGoodScore(t,r,a,i)&&e.isSafeToAssociate(t,a.table,a.field,i.table,i.field)&&e.addAssociationBetween(t,a.table,a.field,i.table,i.field,n)}))}))}))},e.augmentRecommendationsWithNameBasedAssociations=function(t){var n={};t.result.associatedFields.forEach((function(t){var r=t.fieldL.tableName+"::"+t.fieldR.tableName,i=n[r];if(i||(i=n[r]={tablePairKey:r,associatedFields:[],maxAssociationFieldScore:0,nameBasedAssociationFields:[],maxNameBasedAssociationFieldScore:0}),i.associatedFields.push(t),i.maxAssociationFieldScore=Math.max(i.maxAssociationFieldScore,t.associationScore),t.associationScore>=.75){var a=e.getNonQualifiedFieldName(t.fieldL.tableName,t.fieldL.fieldName)||t.fieldL.fieldName,o=e.getNonQualifiedFieldName(t.fieldR.tableName,t.fieldR.fieldName)||t.fieldR.fieldName;a===o&&(i.nameBasedAssociationFields.push(t),i.maxNameBasedAssociationFieldScore=Math.max(i.maxNameBasedAssociationFieldScore,t.associationScore))}}));var r=function(e){var t=n[e];if(t.nameBasedAssociationFields.length){var r=Math.min(1,t.maxAssociationFieldScore+.02),i=r-.01,a=r-.02;t.associatedFields.forEach((function(e){e.associationScore>a&&t.nameBasedAssociationFields.indexOf(e)<0&&(e.associationScore=a)})),t.nameBasedAssociationFields.forEach((function(e){e.associationScore=e.associationScore===t.maxNameBasedAssociationFieldScore?r:i}))}};for(var i in n)r(i);return t},e.setAssociationGraph=function(e,t){var n={};t.forEach((function(t){n[t.name]=[],t.links.forEach((function(r){var i=e.getTargetTableModelById(r.query.id);i&&e.getTargetTableModelById(r.query.id).setUpdateStatus(),n[t.name].push({tableId:r.query.id,fieldId:r.field.id})}))})),e.associations=n},e.hasCycle=function(t,n){var r={};return Object.keys(t).forEach((function(e){t[e].forEach((function(e){r[e.tableId]=r[e.tableId]?r[e.tableId]:{tableId:e.tableId,color:0,children:[]}}))})),Object.keys(t).forEach((function(e){t[e].forEach((function(n){var i=r[n.tableId];t[e].forEach((function(e){var t=r[e.tableId];t!==i&&-1===i.children.indexOf(t)&&i.children.push(t)}))}))})),!!r[n]&&e.visit(r[n],r[n])},e.isSafeToAssociate=function(t,n,r,i,a){var o=e.getAssociationNamesBetween(t,n,null,i,null).length>0;if(o)return!1;var s=t.clone(),l=s.getTargetTableModel(n.data.name),c=s.getTargetTableModel(i.data.name),u=0===e.getAssociationNames(s,l).length||0===e.getAssociationNames(s,c).length;return e.addAssociationBetween(s,l,r,c,a),u||!e.hasCycle(s.associations,l.data.id)},e.visit=function(t,n){if(1===t.color)return!0;t.color=1;for(var r=0;r<t.children.length;r++){var i=t.children[r];if(i!==n&&e.visit(i,t))return!0}return t.color=2,!1},e.getFieldName2TargetTablesMap=function(t,n,r){var i={},a=r?t.targetTableModels.filter(r):t.targetTableModels;return a.forEach((function(t){t.getFields().forEach((function(r){var a=r.name;if(n){var o=e.getNonQualifiedFieldName(t.data.name,r.name);a=o||a}i[a]||(i[a]=[]),i[a].push({table:t,field:r.name})}))})),i},e.hasGoodScore=function(e,t,n,i){function a(e,t){return e.tableName===t.table.data.name&&e.fieldName===t.field}if(!t.result||!t.result.associatedFields)return!1;var o;return o=r.find(t.result.associatedFields,(function(e){return a(e.fieldL,n)&&a(e.fieldR,i)||a(e.fieldL,i)&&a(e.fieldR,n)})),o&&o.associationInfo.score>=.75},e.createSerializedNode=function(t,n){var r=t.data.id,i=n?e.getTargetFieldByName(t,n):void 0,a=i?i.id:void 0;return{tableId:r,fieldId:a}},e._generateAssociationName=function(t,n,r,i,a){var o,s=e.getAssociationNames(t,n,r);if(s&&s.length>=1)return s[0];var l=e.getAssociationNames(t,i,a);if(l&&l.length>=1)return l[0];var c=e.getNonQualifiedFieldName(n.data.name,r),u=e.getNonQualifiedFieldName(i.data.name,a);return c&&u&&c===u&&!e.getAssociation(t,c)?c:r===u?r:a===c?a:c&&u&&(o=[c,u].sort().join("-"),!e.getAssociation(t,o))||c&&!u&&(o=[c,a].sort().join("-"),!e.getAssociation(t,o))||!c&&u&&(o=[r,u].sort().join("-"),!e.getAssociation(t,o))?o:[r,a].sort().join("-")},e.cleanUpKey=function(e){return e.replace(/^_/,"-").replace(/\\/g,"-").replace(/\//g,"-").replace(/"/g,"'")},e.cleanUpQualifiedNamePart=function(e){return e.replace(/[\.]/g,"..")},e.getNonQualifiedFieldName=function(t,n){var r=e.cleanUpQualifiedNamePart(t);if(0!==n.lastIndexOf(r+".",0))return null;var i=n.substring(r.length+1);return i.split("..").join(".")},e}();t.LoadModelAssociations=o},Up9c:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("4nJ1");function o(e){e.invalidExpressionIndex=-1;e.segments.forEach((function(t,n){Number.isNaN(+t.limit)&&(e.invalidExpressionIndex=n)}));e.hasInvalidExpression=-1!==e.invalidExpressionIndex}function s(e,t,n){if(e===t)return;-1!==e&&n.children().eq(e).removeClass("active-handle");-1!==t&&n.children().eq(t).addClass("active-handle")}function l(e,t,n,r){e.hasInvalidExpression&&(r=e.invalidExpressionIndex);"number"!==typeof r&&(r=e.segments.length-1);s(e.activeIndex,r,n);if(-1!==r&&-1===e.activeIndex){t.find(".limit-options-arrow").removeClass("hidden");t.find(".qv-palette-creator-limit-options").removeClass("hidden")}else if(-1===r){t.find(".limit-options-arrow").addClass("hidden");t.find(".qv-palette-creator-limit-options").addClass("hidden")}e.activeIndex=r}function c(e,t,n,r){o(e);(e.segments.length>0&&r.hasClass("notVisible")||e.segments.length<1&&!r.hasClass("notVisible"))&&r.toggleClass("notVisible");p(e,{min:n.min,max:n.max,step:h(n.max,n.min),values:e.segments.map((function(e){return"NaN"!==e.limit?e.limit:(n.max+n.min)/2}))});d(e,t,n.max,n.min);f(e,n)}function u(e,t,n){this.limit=t;this.type=n;Object.defineProperties(this,{percent:{get:function t(){if(e.percentage&&""!==this.limit){if(this.currentInput&&this.currentInput.endsWith(".")){if(!e.inputFocus)return"".concat(parseFloat(Math.floor(100*this.limit*100)/100),"%");return this.currentInput}if(!e.inputFocus)return"".concat(parseFloat(Math.floor(100*this.limit*100)/100),"%");return parseFloat(Math.floor(100*this.limit*100)/100)}return this.limit},set:function t(n){this.currentInput=n;e.percentage?n.endsWith(".")?this.limit=parseFloat(n/100):e.inputFocus?this.limit=""!==n?parseFloat(n/100):"":this.limit=parseFloat(n.replace(/%/g,"")):this.limit=n}}})}function d(e,t,n,r){if(Number.isNaN(+e.activeIndex)||e.activeIndex<0)return;var i=(e.segments[e.activeIndex].limit-r)/(n-r)*100;i=i<0?0:i;i=i>100?100:i;i="".concat(i,"%");t.find(".limit-options-arrow-fg").css("left",i);t.find(".limit-options-arrow-bg").css("left",i)}function f(e,t){var n=t.max-t.min;e.colorSchemeLimits=[];e.types.length=0;e.limits.length=0;e.segments.map((function(e){return{limit:e.limit,type:e.type}})).sort((function(e,t){if(e.limit!==t.limit)return e.limit<t.limit?-1:1;return 0})).forEach((function(r){e.limits.push(r.limit);e.colorSchemeLimits.push((r.limit-t.min)/n);e.types.push(r.type)}))}function p(e,t){e.sliderOptions=a["a"].extend({},e.sliderOptions,t);e.sliderValues=e.sliderOptions.values}function h(e,t){return Number(((e-t)/1e3).toFixed(20))}function v(e){var t;var n;var r;var i=e.segments.length;if(e.percentage){t=0;n=1}else if(0===i){t=0;n=1}else if(1===i&&0===e.segments[0].limit){t=-10;n=10}else if(1===i||e.segments.every((function(t){return t.limit===e.segments[0].limit}))){var a=.9*e.segments[0].limit;var o=1.1*e.segments[0].limit;t=Math.min(a,o);n=Math.max(a,o)}else{t=null;n=null;e.segments.forEach((function(e){n=null!==n?Math.max(n,e.limit):e.limit;t=null!==t?Math.min(t,e.limit):e.limit}));r=n-t;t-=.3*r;n+=.3*r}return{max:n,min:t}}function m(e,t,n,r,i){var a=v(e);if(a.min!==r.min||a.max!==r.max){e.animate=true;c(e,n,a,i);t((function(){e.animate=false}),200)}return a}var g={updateOutDataArrays:f,SegmentLimit:u,getSliderStep:h,getRange:v,updateRange:m,updateSliderOptions:p,updateSelectedHandle:s,updateSegments:c,checkInvalidExpressionInLimits:o,updateActiveIndex:l,updateArrow:d};var b=n("UV1h");var y='<div class="qv-palette-creator">\n\t<button ng-if="!hasInvalidExpression && colors.length" class="lui-button  lui-button--block qv-palette-creator-btn" ng-disabled="addDisabled()" ng-click="addLimit($event)" tid="add-limit-button">\n\t\t<span class="lui-button__text" q-translation="properties.colorScaleCreator.addLimit"></span>\n\t</button>\n\t<div class="qv-palette-creator-container">\n\t\t<div>\n\t\t\t<div class="qv-palette-creator-color-scheme">\n\t\t\t\t<qv-color-scheme-display\n\t\t\t\t\tcolors="colors"\n\t\t\t\t\tlimits="colorSchemeLimits"\n\t\t\t\t\ttypes="types"\n\t\t\t\t\tallow-change="!!colorSchemeLimits"\n\t\t\t\t\tanimate-change="animate">\n\t\t\t\t</qv-color-scheme-display>\n\t\t\t</div>\n\n\t\t\t<div class="pp-component pp-slider-component" class="segment-slider" ng-class="{\'notVisible\': segments.length < 1}">\n\t\t\t\t<div class="value">\n\t\t\t\t\t<div class="slider paletteSlider" ng-class="{\'qv-palette-creator-animate\' : animate}" pp-slider="sliderOptions" ng-model="sliderValues"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-show="hasInvalidExpression" class="invalid-limit-warning invalid-expression-text" q-translation="properties.colorScaleCreator.cantShowSettings">\n\t\t</div>\n\t\t<div class="hidden limit-options-arrow" ng-class="{\'notVisible\': segments.length < 1}">\n\t\t\t<div class="limit-options-arrow-fg" ng-class="{\'no-transition\' : slide}"></div>\n\t\t\t<div class="limit-options-arrow-bg" ng-class="{\'no-transition\' : slide}"></div>\n\t\t</div>\n\n\t\t<div class="qv-palette-creator-limit-options hidden">\n\t\t\t<div ng-repeat="segment in segments track by $index">\n\n\t\t\t\t<div class="lui-input-group" ng-show="$index == activeIndex">\n\t\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" qv-enter="onEnter($index, $event)" ng-focus="onInputFocus()"\n\t\t\t\t\t qva-blur="onEnter($index, $event)" ng-model="segment.percent" type="text" maxlength="31">\n\t\t\t\t</div>\n\t\t\t\t<lui-checkbox id="qv-palette-creator-gradient" ng-show="$index == activeIndex" x-change="onGradient()" x-model="segment.type" title="{{\'properties.gradient\'|translate}}">{{\'properties.gradient\'|translate}}</lui-checkbox>\n\t\t\t\t<button ng-show="$index == activeIndex" class="lui-button  lui-button--block qv-palette-creator-btn" ng-click="removeLimit($index)" tid="remove-limit-button">\n\t\t\t\t\t<span class="lui-button__text" q-translation="properties.colorScaleCreator.removeLimit"></span>\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--bin  remove-icon" q-title-translation="Common.Delete"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n';var w=n("mWu2");var S=n("axmM");var x=n("a7yF");var C=b["a"].resolveColor(3);var q=b["a"].resolveColor(4);var E=["$scope",function(e){e.activeIndex=-1;e.colorSchemeLimits=[];e.animate=false;e.inputFocus=false}];w["default"].directive("qvPaletteCreator",["$timeout",function(e){return{template:y,controller:E,replace:true,scope:{colors:"=",percentage:"=",limits:"=",types:"=",maxColors:"=?"},link:function t(n,r){var a=false;var o=r.find(".paletteSlider");var s={min:null,max:null};var l={colors:null,types:null,limits:null};if("[object Array]"!==Object.prototype.toString.call(n.colors)||"[object Array]"!==Object.prototype.toString.call(n.limits)||"[object Array]"!==Object.prototype.toString.call(n.types)||0===n.colors.length)throw new Error("Invalid array parameters set for Palette Creator component");n.maxColors=n.maxColors||100;function c(){if(n.limits.some((function(e){return e>=1||e<=0}))){var e=1/n.colors.length;var t=n.colors.length<10?.1:0;n.limits.forEach((function(r,i){n.limits[i]=t+i*e}))}}n.onGradient=function(){e((function(){a=true;g.updateSegments(n,r,s,o);e((function(){a=false}))}))};n.onEnter=function(t,i){var l=parseFloat(n.segments[t].limit);if(Number.isNaN(+l)){n.segments[t].limit=n.limits[t];return}a=true;n.inputFocus=false;n.animate=true;n.percentage&&(l=Math.max(0,Math.min(l,1)));n.segments[t].limit=l;s=g.updateRange(n,e,r,s,o);g.updateSegments(n,r,s,o);e((function(){a=false}));e((function(){n.animate=false}),200);i.target.blur()};n.onInputFocus=function(){n.inputFocus=true};n.addLimit=function(t){var i;if(n.segments.length+1>=n.maxColors)return;a=true;var l=n.colors[n.colors.length-1]===C?q:C;if(0===n.segments.length)i=(s.max-s.min)/2;else if(1===n.segments.length)i=n.segments[0].limit-(n.segments[0].limit-s.min)/2;else{var c=n.segments[n.segments.length-1].limit;var u=n.segments[n.segments.length-2].limit;i=c-(c-u)/2}n.segments.push(new g.SegmentLimit(n,parseFloat(i.toFixed(2)),false));n.colors.push(b["a"].resolveColor(l));s=g.updateRange(n,e,r,s,o);g.updateActiveIndex(n,r,o);g.updateSegments(n,r,s,o);t.preventDefault();e((function(){a=false;d()}))};n.removeLimit=function(t){a=true;n.segments.splice(t,1);n.colors.splice(t+1,1);g.updateActiveIndex(n,r,o);s=g.updateRange(n,e,r,s,o);g.updateSegments(n,r,s,o);e((function(){a=false;d()}))};n.addDisabled=function(){return!n.segments||n.segments.length+1>=n.maxColors};n.$watch("percentage",(function(e,t){if(e!==t){e&&c();d(true)}}));n.$watch("colors",(function(){d()}),true);n.$watch("types",(function(){d()}),true);n.$watch("limits",(function(){d()}),true);function u(){var t;var c;var u;a=true;n.segments=n.limits.map((function(e,t){return new g.SegmentLimit(n,e,n.types[t])}));s=g.getRange(n);var d={min:s.min,max:s.max,step:g.getSliderStep(s.max,s.min),values:n.segments.map((function(e){return e.limit})),create:function e(){g.updateSelectedHandle(-1,n.activeIndex,o)},stop:function i(){w["default"].$apply(n,(function(){var i;var l=n.segments.length;for(i=0;i<l;i++)if(n.activeIndex===i&&n.slide){n.segments[i].limit=n.sliderOptions.values[i];n.slide=false;s=g.updateRange(n,e,r,s,o);break}g.updateOutDataArrays(n,s);t=false;e((function(){a=false}))}))},slide:function e(i,a){u+=a.values[n.activeIndex]-c;if(t&&Math.abs(c-u)<.05*(s.max-s.min))return false;n.slide=true;w["default"].$apply(n,(function(){n.segments[n.activeIndex].limit=n.sliderValues[n.activeIndex];g.updateOutDataArrays(n,s);g.updateArrow(n,r,s.max,s.min)}));return true},change:function e(){return false},start:function e(l,d){a=true;w["default"].$apply(n,(function(){var e=0;var a=d.handle;if(!a||!i()(a).hasClass("ui-slider-handle"))return;while(null!=(a=a.previousSibling))e++;if(e!==n.activeIndex){g.updateActiveIndex(n,r,o,e);t=true;c=n.sliderOptions.values[e];u=c}g.updateArrow(n,r,s.max,s.min)}))}};g.updateSliderOptions(n,d);g.updateActiveIndex(n,r,o);g.updateSegments(n,r,s,o);l.colors=n.colors.slice();l.types=n.types.slice();l.limits=n.limits.slice();a=false}function d(e){var t=false;if(a)return;if(!e){t||n.segments.length===n.limits.length||(t=true);t||l.colors.length===n.colors.length&&!l.colors.some((function(e,t){return e!==n.colors[t]}))||(t=true);t||l.types.length===n.types.length&&!l.types.some((function(e,t){return e!==n.types[t]}))||(t=true);t||l.limits.length===n.limits.length&&!l.limits.some((function(e,t){return e!==n.limits[t]}))||(t=true)}(t||e)&&u(false)}u(true)}}}])},"UuE/":function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a=n("8wLh");var o=n("n5Vb");var s=n("wIyQ");var l={template:null,controller:["$scope","$element","$timeout",function(e,t,n){var r=this;r.close=function(){a()};function a(){n((function(){e.destroyComponent();t.remove()}));s["a"].off("start.listbox-popover-error",a)}function o(){return n((function(){return t.find(".toolbar-wrapper").outerWidth()}))}var l=e.input.onPopoverClose;var c=null;e.closingDeferred.promise.then((function(e){c&&c();l(e);a()}));e.$on("listboxPopoverFocusSelectionsToolbar",(function(){e.$broadcast("focusSelectionsToolbar")}));i["a"].all({object:e.input.getVisualization(),width:o()}).then((function(t){var n=t.object;var r=t.width;n.getSelectionToolbar().then((function(t){e.toolbar=t;e.toolbar.showLock=e.input.options.showLock;e.toolbar.position={width:r};e.toolbar.onMoveFocus=function(e){n.focus(e)};n.activateSelections()}));n.loaded.then((function(){n.ext.hasError(n)&&s["a"].on("start.listbox-popover-error",a)}));n.selectionsApi.watchDeactivated((function(){a()}));c=function e(){n.selectionsApi.confirm()}}))}]};var c=l;var u=n("B52N");var d='<lui-popover\n\t\tclass="qv-listbox-popover"\n\t\tstyle="min-width: 200px;width: 234px;height: 332px"\n\t\ton-close-view="closeView(event)"\n\t\tqva-outside-ignore-for="{{input.qvaOutsideIgnoreFor}}"\n\t\tqva-mouse-wheel-outside="close()">\n\t<lui-popover-body style="height: 332px" class="lui-nopad">\n\t\t<qv-spinner show="!input.model" spinner-height="100px" spinner-width="100px" show-Delay="300" center-in-parent="true"></qv-spinner>\n\t\t<div class="toolbar-wrapper"\n\t\t\t qva-include-selection-toolbar\n\t\t\t component="input.selectionToolbarComponent"\n\t\t\t toolbar="toolbar"\n\t\t\t options="input.options"></div>\n\t\t<div class="listbox-wrapper">\n\t\t\t<qv-object object="object" model="input.model" options="input.options"></qv-object>\n\t\t</div>\n\t</lui-popover-body>\n</lui-popover>\n';var f=n("6dxF");var p;var h;var v=t["a"]={showDelayed:function e(t,n){var a=Object(i["a"])();p&&p.close();h={getVisualization:function e(){return a.promise},onPopoverClose:this.onPopoverClose,options:{setController:a.resolve,isPopover:true,showLock:n.showLock,search:n.search||{},smallDevice:u["default"].isSmallDevice,direction:n.direction},selectionToolbarComponent:o["a"],onClose:c};p=r["default"].getService("luiPopover").show({template:d,controller:c.controller,alignTo:n.$alignToElement[0],input:h,closeOnResize:false,dock:"top"});t.then((function(e){h.model=e})).catch((function(e){false}));return p},show:function e(t,n){return this.showDelayed(i["a"].when(t),n)},showField:function e(t,n,r,o){var s=this;return a["a"].createTransientField(n,t,o).then((function(e){return i["a"].resolve(s.show(e,r))})).catch((function(e){false}))},showDimension:function e(t,n,r,i){var o=this;a["a"].createTransientDimension(n,t,i).then((function(e){o.show(e,r)})).catch((function(e){false}))},close:function e(){p&&p.close();p=null},onPopoverClose:function e(){},getPopover:function e(){return p},onClosing:function e(){}}},Uzwy:function(e,t,n){"use strict";var r=n("fAEj");var i=n.n(r);var a=n("4nJ1");var o=n("sWge");var s=n("iqy1");var l={dimension:"dimension",measure:"measure",temporal:"temporal"};var c;function u(e,t){t&&e.forEach((function(e){var n;var r;var i;var a;var o=t._getFields(e.qName,e.qSrcTables);if(o.length>0){n=t.getClassifications(e.qName,e.qSrcTables);r=t.getSimplifiedClassifications(e.qName,e.qSrcTables);i=t.getDataTypes(e.qName,e.qSrcTables);a=t.getDefaultAggregation(e.qName,e.qSrcTables)}e.defaultAggregation=a;e.classifications=n;e.simplifiedClassifications=r;e.dataTypes=i}))}function d(e){if(e&&e.length>0){var t=e[0];return r["ClassificationHelper"].isDimension(t)}return false}function f(e){if(e&&e.length>0){var t=e[0];return r["ClassificationHelper"].isMeasure(t)}return false}function p(e){if(e&&e.length>0){var t=e[0];return r["ClassificationHelper"].isTemporal(t)}return false}function h(e){return a["a"].escapeField(e)}function v(e,t){if("countdistinct"===t.toLowerCase())return"Count(distinct ".concat(a["a"].escapeField(e),")");return"".concat(t,"(").concat(a["a"].escapeField(e),")")}function m(e){if(e)return e.replace(/=|\[|\]/g,"").toLowerCase();return e}function g(e){if(e)return e.replace(/^=/,"");return e}function b(){if(!c){c=new o["a"];s["a"].isRunning().then((function(){c.resolve(true)}),(function(){c.resolve(false)}))}return c.promise}var y={Constants:l,isCreRunning:b,isDimension:d,isMeasure:f,isTemporal:p,getDimensionExpression:h,getMeasureExpression:v,normalizeExpression:m,addClassificationDataToFields:u,convertEvaluationExpressionToLabel:g};t["a"]=y},"V/nl":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("5Pwf");var o=n("0RAe");var s=n("sWge");var l=n("TLJm");var c;var u;var d;var f=61;function p(e){if(c)return s["a"].resolve(c);var t=new s["a"];var n=200;var r=30;var o=i()(".table-container").width()-n;var d=i()(".table-container").height()-r+i()("#datamodelviewer_footer").height();var f={qcx:o,qcy:d};var p={qcx:0,qcy:0};var h=30;var v=e;var m=false;a["a"].currentApp.getTablesAndKeys(f,p,h,v,m).then((function(e){c=e;u=e;return t.resolve(e)}),(function(e){e.code===l["a"].LOCERR_RELOAD_IN_PROGRESS&&(e.isHandled=true);return t.resolve(u)}));return t.promise}function h(e){if(d){e(d);return}a["a"].currentApp.getLooselyCoupledVector().then((function(t){d=t;e(t)}))}function v(e,t){if(!t)throw new Error("Table name is empty.");var n=-1;var r=f;var i=e;var s=o["a"].decodeTableName(t);return a["a"].currentApp.getTableData(n,r,i,s)}function m(){return a["a"].currentApp.getViewDlgSaveInfo()}function g(e){return a["a"].currentApp.setViewDlgSaveInfo(e)}function b(){c=void 0;d=void 0}function y(e,t){return a["a"].currentApp.assignDerivedFieldFor(e,t)}function w(){return a["a"].currentApp.getAppLayout().then((function(e){return!!e.qLayout.qHasData}))}t["a"]={getTablesAndKeys:p,getLooselyCoupledVector:h,getTableData:v,getTablePositions:m,setTablePositions:g,clearAllCaches:b,setDerivedField:y,hasAppGotData:w}},VFzL:function(e,t,n){"use strict";var r=n("eb2x");var i=n.n(r);function a(e){if(void 0===e)throw new Error("String is undefined.");if(0===e.length)throw new Error("String is empty.");var t=i()(e);return t}t["a"]={sha256:a}},VIxP:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("qIEf");var o=n.n(a);var s=n("mWu2");var l='<div class="qv-mobile-download" tcl="mobile-download-settings">\n\t<div class="qui-toolbar qv-md-toolbar">\n\t\t<qui-toolbarbutton class="qv-md-toolbar-title">\n\t\t\t<span class="qv-md-toolbar-title-text" q-translation="Download.Title"></span>\n\t\t</qui-toolbarbutton>\n\t\t<qui-toolbarbutton qva-activate="cancel($event)" name="cancel" class="qv-md-toolbar-close" tid="mobile-download-close">\n\t\t\t<span class="qv-md-toolbar-close-text" q-translation="Common.Close"></span>\n\t\t</qui-toolbarbutton>\n\t</div>\n\t<div class="qv-md-download-body">\n\t\t<div class="section" ng-show="sourceType === \'visualization\' && output.show">\n\t\t\t<div class="section-title" q-translation="{{output.title}}"></div>\n\t\t\t<lui-select\n\t\t\t\ttid="download-format"\n\t\t\t\tx-model="export"\n\t\t\t\tx-change="onFormChange()"\n\t\t\t\tx-options="o as o.label for o in output.options">\n\t\t\t</lui-select>\n\t\t</div>\n\t\t<div ng-if="state === states.PENDING && !noDataExport" class="loader-overlay">\n\t\t\t<div class="section loader-container">\n\t\t\t\t<div class="qv-loader dm-p"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="noDataExport" class="no-data-export">\n\t\t\t<div class="lui-icon lui-icon--warning status-icon"></div>\n\t\t\t<div class="status-text">\n\t\t\t\t<div class="st-header" q-translation="Download.Data.NoData"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="!noDataExport" class="preview-section" ng-hide="state === states.PENDING">\n\t\t\t<dd-image-preview\n\t\t\t\tng-show="export.type === \'image\'"\n\t\t\t\tstate="state" states="states"\n\t\t\t\tpreview-url="printUrl"\n\t\t\t>\n\t\t\t</dd-image-preview>\n\t\t\t<dd-pdf-preview\n\t\t\t\tng-show="export.type === \'pdf\'"\n\t\t\t\tstate="state" states="states"\n\t\t\t\tpreview-url="embedUrl"\n\t\t\t>\n\t\t\t</dd-pdf-preview>\n\t\t</div>\n\t\t<div class="section" ng-show="export.type === \'image\'">\n\t\t\t<div class="section-title" q-translation="{{dataArea.title}}"></div>\n\t\t\t<lui-select\n\t\t\t\ttid="download-image-data-area"\n\t\t\t\tx-model="selectedDataArea"\n\t\t\t\tx-change="onDataAreaChange()"\n\t\t\t\tx-options="dataAreaOpt.label for dataAreaOpt in dataArea.options"\n\t\t\t>\n\t\t\t</lui-select>\n\t\t\t<div ng-show="selectedDataArea.isCustom" id="download-custom-data-area" tid="download-custom-data-area">\n\t\t\t\t<div class="section section-input">\n\t\t\t\t\t<div class="section-title" q-translation="Common.Width"></div>\n\t\t\t\t\t<dd-input\n\t\t\t\t\t\tng-class="{\'lui-invalid\': width.percError}"\n\t\t\t\t\t\ton-blur="changeCustomSize()"\n\t\t\t\t\t\ton-focus="scrollInView()"\n\t\t\t\t\t\tmodel="width.percentageValue"\n\t\t\t\t\t\ton-change="width.onDynamicPercentageChange()"\n\t\t\t\t\t\ton-submit="changeCustomSize()"\n\t\t\t\t\t\ttid="download-custom-width-percentage"\n\t\t\t\t\t\tid="download-custom-width-percentage"\n\t\t\t\t\t\taria-label="{{translate(\'Download.Aria.Image.CustomSizeWidth\')}}. {{translate(\'Download.Aria.Image.CustomSizeGeneral\')}}">\n\t\t\t\t\t</dd-input>\n\t\t\t\t\t<div class="section-customSize-unit">%</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Data Area - Height --\x3e\n\t\t\t\t<div class="section section-input">\n\t\t\t\t\t<div class="section-title" q-translation="Common.Height"></div>\n\t\t\t\t\t<dd-input\n\t\t\t\t\t\tng-class="{\'lui-invalid\': height.percError}"\n\t\t\t\t\t\ton-blur="changeCustomSize(2)"\n\t\t\t\t\t\ton-focus="scrollInView()"\n\t\t\t\t\t\tmodel="height.percentageValue"\n\t\t\t\t\t\ton-change="height.onDynamicPercentageChange()"\n\t\t\t\t\t\ton-submit="changeCustomSize(2)"\n\t\t\t\t\t\ttid="download-custom-height-percentage"\n\t\t\t\t\t\tid="download-custom-height-percentage"\n\t\t\t\t\t\taria-label="{{translate(\'Download.Aria.Image.CustomSizeHeight\')}}. {{translate(\'Download.Aria.Image.CustomSizeGeneral\')}}"\n\t\t\t\t\t>\n\t\t\t\t\t</dd-input>\n\t\t\t\t\t<div class="section-customSize-unit">%</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="download-customSize-hint" ng-show="selectedDataArea.isCustom">\n\t\t\t\t\t<span q-translation="{{dataArea.hint}}"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section" ng-show="export.type === \'pdf\' && paperFormat.show">\n\t\t\t<div class="section-title" q-translation="{{paperFormat.title}}"></div>\n\t\t\t<lui-select\n\t\t\t\ttid="download-paper-format"\n\t\t\t\tx-model="selectedPaperFormat"\n\t\t\t\tx-options="paperFormat.label for paperFormat in paperFormat.options"\n\t\t\t\tx-change="onFormChange()"\n\t\t\t\tx-disabled="state === states.PENDING">\n\t\t\t</lui-select>\n\t\t</div>\n\t\t<div class="section" ng-show="export.type === \'pdf\' && orientation.show">\n\t\t\t<div class="section-title" q-translation="{{orientation.title}}"></div>\n\t\t\t<lui-select\n\t\t\t\ttid="download-orientation"\n\t\t\t\tx-model="currentOrientation"\n\t\t\t\tx-options="o.label for o in orientation.options"\n\t\t\t\tx-change="onFormChange()"\n\t\t\t\tx-disabled="state === states.PENDING">\n\t\t\t</lui-select>\n\t\t</div>\n\t\t<div class="section" ng-show="export.type === \'pdf\' && orientation.show">\n\t\t\t<div class="section-title" q-translation="{{size.title}}"></div>\n\t\t\t<lui-select\n\t\t\t\ttid="download-fitcriteria"\n\t\t\t\tx-model="selectedFitCriteria"\n\t\t\t\tx-options="size.label for size in size.options"\n\t\t\t\tx-change="onFormChange()"\n\t\t\t\tx-disabled="state === states.PENDING">\n\t\t\t</lui-select>\n\t\t</div>\n\t</div>\n\t<div class="qv-md-download-footer">\n\t\t<div class="qv-md-btn-wrap" ng-if="state === states.COMPLETED || state === states.PENDING">\n\t\t\t<lui-button\n\t\t\t\tng-click="downloadFile()"\n\t\t\t\tclass="lui-button lui-button--success lui-button--x-large qv-md-btn"\n\t\t\t\tng-class="{ \'lui-disabled qv-md-btn-disabled\': state === states.PENDING || !printUrl || width.modifying || height.modifying || noDataExport}"\n\t\t\t\ttid="download-export"\n\t\t\t\tq-translation="Download.Title"\n\t\t\t\taria-label="{{translate(\'Download.Aria.DownloadButton\')}}"\n\t\t\t>\n\t\t\t</lui-button>\n\t\t</div>\n\t\t<div class="qv-md-btn-wrap" ng-if="state === states.FAILED">\n\t\t\t<lui-button\n\t\t\t\tclass="lui-button lui-button--warning lui-button--x-large qv-md-btn"\n\t\t\t\tqva-activate="onFormChange()"\n\t\t\t\ttid="download-try-again"\n\t\t\t\tq-translation="Common.TryAgain"\n\t\t\t\taria-label="{{translate(\'Download.Aria.TryAgain\')}}"\n\t\t\t>\n\t\t\t</lui-button>\n\t\t</div>\n\t</div>\n</div>\n';var c=n("52II");var u=n("8QXK");var d=n("tdr+");var f=n("n7R4");var p=n("hIUR");s["default"].directive("qvMobileDownload",[function(){return{restrict:"E",template:l,replace:true,scope:true,link:function e(t){if(t.input&&t.input.object){var n="visualization"===t.input.sourceType?t.input.object.model:t.input.object;var r=n.id;var i={id:r,model:n,options:{id:r,isVisible:true,isOnGrid:false,isZoomed:false},supportExportData:!!t.input.object.supportExportData&&t.input.object.supportExportData(),hasNoDataToExport:p["a"].hasNoDataToExport(t.input.object.layout)};t.obj=i}t.cancel=a;function a(e){e.preventDefault();d["a"].cancel();q.off("download")}t.states=d["a"].getStates();t.sourceType=t.input.sourceType;var l=u["a"].getForMobile(t.obj.model);t.obj.supportExportData||(l.output.options=l.output.options.filter((function(e){return"data"!==e.type})));t.dataArea=l.image.dataArea;t.selectedDataArea=t.dataArea.options[0];t.maxSize=5e3;var h=100;var v=f["a"].calculateInitialDimensions(t.input.currentWidth,t.input.currentHeight,1,t.maxSize);t.width={dimensionName:"width",orig:v.w,prev:v.w,current:v.w,percentageValue:h,percentageFallback:h,modifying:false,min:8,max:5e3,onDynamicPercentageChange:function e(){t.width.percentageValue?f["a"].verifyAndSetNewPercentage(t.width):t.width.percError=true}};t.height={dimensionName:"height",orig:v.h,prev:v.h,current:v.h,percentageValue:h,percentageFallback:h,modifying:false,min:8,max:5e3,onDynamicPercentageChange:function e(){t.height.percentageValue?f["a"].verifyAndSetNewPercentage(t.height):t.height.percError=true}};t.output=l.output;t.export=t.output.options[0];"sheet"===t.sourceType&&(t.export=t.output.options.find((function(e){return"pdf"===e.type})));t.paperFormat=l.pdf.paperFormat;t.selectedPaperFormat=t.paperFormat.options[1];t.size=l.pdf.size;t.selectedFitCriteria=t.size.options[1];t.orientation=l.pdf.orientation;t.currentOrientation=t.orientation.options[1];t.onFormChange=m;function m(){t.embedUrl="";t.printUrl="";"pdf"===t.export.type&&w();"image"===t.export.type&&y();t.noDataExport="data"===t.export.type&&t.obj.hasNoDataToExport;g(t,t.export.type)}t.onDataAreaChange=function e(){t.width.current=t.width.orig;t.height.current=t.height.orig;t.width.percentageValue=h;t.height.percentageValue=h;t.changeCustomSize()};function g(e,t){if("data"===t&&e.obj.hasNoDataToExport)return;var n=c["a"].create(e);n.confirm(t)}t.changeCustomSize=function e(){t.width.percentageValue=t.width.percentageValue?t.width.percentageValue:t.width.percentageFallback;t.height.percentageValue=t.height.percentageValue?t.height.percentageValue:t.height.percentageFallback;if(t.width.prev!==t.width.current||t.height.prev!==t.height.current){t.width.modifying=false;t.height.modifying=false;m()}};t.scrollInView=b;function b(){setTimeout((function(){o()(".download-customSize-hint")[0].scrollIntoView(false)}),500)}function y(){t.print={};t.imageCustomSize=t.selectedDataArea.isCustom||false;t.print.format=t.export.format;t.print.width=t.width.current;t.print.height=t.height.current;t.print.dpi=t.input.currentDpi;t.width.prev=t.width.current;t.height.prev=t.height.current}function w(){t.print={};t.print.dpi=200;t.minDpi=72;t.maxDpi=300;t.selectedSize=t.selectedPaperFormat;t.selectedLayout=t.currentOrientation;t.print.fitCriteria=t.selectedFitCriteria.value}var S="";t.embedUrl="";var x=s["default"].getService("$sce");var C=s["default"].getService("$timeout");t.$watch("printUrl",E);function E(e){if("pdf"===t.export.type&&e&&e!==S){S=e;d["a"].getPdfEmbedUrl(S).then((function(e){C((function(){t.embedUrl=x.trustAsResourceUrl(e)}))}),(function(){t.embedUrl=""}))}}t.onFormChange();t.downloadFile=I;function I(){var e=t.printUrl;var n=t.printFileName;var r=t.export.format;d["a"].downloadFile(e,n,r)}}}}]);var h="<qv-mobile-download></qv-mobile-download>";var v=n("B52N");var m=s["default"].getService("$document");var g={download:{$container:void 0,input:{},getComponent:function e(){return h},setup:function e(){v["default"].ViewChanged.bind(y)},destroy:function e(){v["default"].ViewChanged.unbind(y)}}};var b=i.a.element(window);function y(){S(g.download)}function w(e,t){e.$container=i.a.element("<div>");m.find(e.$containerId||"body").append(e.$container);e.$container.showComponent(e.getComponent(),["$scope",function(e){e.input=t}]);e.setup();b.bind("resize",(function(){var e=window.visualViewport.height;o()(".qv-mobile-download").height(e)}))}function S(e){if(e.$container){e.$container.remove();e.$container=void 0}b.unbind("resize");e.destroy()}function x(e){return!!e.$container}function C(e,t){x(e)?S(e):w(e,t)}var q=t["a"]={toggleMobileDownload:function e(t,n){var r={w:"1123",h:"794"};var i="visualization"===n&&t.objectSize&&t.objectSize.w?t.objectSize.w:r.w;var a="visualization"===n&&t.objectSize&&t.objectSize.h?t.objectSize.h:r.h;var o=200;var s={object:t,sourceType:n,currentWidth:i,currentHeight:a,currentDpi:o};C(g.download,s)},off:function e(t){var n=g[t];S(n)}}},"Vd/s":function(e,t,n){var r,i;var a=a||function(e){"use strict";if("undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))return;var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},o=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),s=e.webkitRequestFileSystem,l=e.requestFileSystem||s||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},u="application/octet-stream",d=0,f=4e4,p=function(e){var t=function(){"string"===typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,f)},h=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var i=e["on"+t[r]];if("function"===typeof i)try{i.call(e,n||e)}catch(e){c(e)}}},v=function(e){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type))return new Blob(["\ufeff",e],{type:e.type});return e},m=function(t,c,f){f||(t=v(t));var m=this,g=t.type,b=false,y,w,S=function(){h(m,"writestart progress write writeend".split(" "))},x=function(){if(w&&o&&"undefined"!==typeof FileReader){var r=new FileReader;r.onloadend=function(){var e=r.result;w.location.href="data:attachment/file"+e.slice(e.search(/[,;]/));m.readyState=m.DONE;S()};r.readAsDataURL(t);m.readyState=m.INIT;return}!b&&y||(y=n().createObjectURL(t));if(w)w.location.href=y;else{var i=e.open(y,"_blank");void 0===i&&o&&(e.location.href=y)}m.readyState=m.DONE;S();p(y)},C=function(e){return function(){if(m.readyState!==m.DONE)return e.apply(this,arguments)}},q={create:true,exclusive:false},E;m.readyState=m.INIT;c||(c="download");if(i){y=n().createObjectURL(t);setTimeout((function(){r.href=y;r.download=c;a(r);S();p(y);m.readyState=m.DONE}));return}if(e.chrome&&g&&g!==u){E=t.slice||t.webkitSlice;t=E.call(t,0,t.size,u);b=true}s&&"download"!==c&&(c+=".download");(g===u||s)&&(w=e);if(!l){x();return}d+=t.size;l(e.TEMPORARY,d,C((function(e){e.root.getDirectory("saved",q,C((function(e){var n=function(){e.getFile(c,q,C((function(e){e.createWriter(C((function(n){n.onwriteend=function(t){w.location.href=e.toURL();m.readyState=m.DONE;h(m,"writeend",t);p(e)};n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&x()};"writestart progress write abort".split(" ").forEach((function(e){n["on"+e]=m["on"+e]}));n.write(t);m.abort=function(){n.abort();m.readyState=m.DONE};m.readyState=m.WRITING})),x)})),x)};e.getFile(c,{create:false},C((function(e){e.remove();n()})),C((function(e){e.code===e.NOT_FOUND_ERR?n():x()})))})),x)})),x)},g=m.prototype,b=function(e,t,n){return new m(e,t,n)};if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(e,t,n){n||(e=v(e));return navigator.msSaveOrOpenBlob(e,t||"download")};g.abort=function(){var e=this;e.readyState=e.DONE;h(e,"abort")};g.readyState=g.INIT=0;g.WRITING=1;g.DONE=2;g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null;return b}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);true,e.exports?e.exports.saveAs=a:(true,null!==n("Z66Z"))&&null!==n("K2jg")&&!(r=[],i=function(){return a}.apply(t,r),void 0!==i&&(e.exports=i))},VlGz:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i;function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}function s(e){var t=/([^=?#&]+)=?([^&]*)/g,n={},r;while(r=t.exec(e)){var i=a(r[1]),o=a(r[2]);if(null===i||null===o||i in n)continue;n[i]=o}return n}function l(e,t){t=t||"";var n=[],a,s;"string"!==typeof t&&(t="?");for(s in e)if(r.call(e,s)){a=e[s];a||null!==a&&a!==i&&!isNaN(a)||(a="");s=o(s);a=o(a);if(null===s||null===a)continue;n.push(s+"="+a)}return n.length?t+n.join("&"):""}t.stringify=l;t.parse=s},Vpf1:function(e,t,n){"use strict";var r=n("iBBK");var i=r["f"]&&CSS?CSS.px:"px";var a=r["f"]&&CSS?CSS.ms:"ms";var o=r["f"]&&CSS?CSS.percent:"%";var s={"animation-delay":a,"animation-duration":a,"background-position":i,"background-position-x":i,"background-position-y":i,"background-size":i,border:i,"border-bottom":i,"border-bottom-left-radius":i,"border-bottom-right-radius":i,"border-bottom-width":i,"border-left":i,"border-left-width":i,"border-radius":i,"border-right":i,"border-right-width":i,"border-top":i,"border-top-left-radius":i,"border-top-right-radius":i,"border-top-width":i,"border-width":i,margin:i,"margin-bottom":i,"margin-left":i,"margin-right":i,"margin-top":i,padding:i,"padding-bottom":i,"padding-left":i,"padding-right":i,"padding-top":i,"mask-position-x":i,"mask-position-y":i,"mask-size":i,height:i,width:i,"min-height":i,"max-height":i,"min-width":i,"max-width":i,bottom:i,left:i,top:i,right:i,"box-shadow":i,"text-shadow":i,"column-gap":i,"column-rule":i,"column-rule-width":i,"column-width":i,"font-size":i,"font-size-delta":i,"letter-spacing":i,"text-indent":i,"text-stroke":i,"text-stroke-width":i,"word-spacing":i,motion:i,"motion-offset":i,outline:i,"outline-offset":i,"outline-width":i,perspective:i,"perspective-origin-x":o,"perspective-origin-y":o,"transform-origin":o,"transform-origin-x":o,"transform-origin-y":o,"transform-origin-z":o,"transition-delay":a,"transition-duration":a,"vertical-align":i,"flex-basis":i,"shape-margin":i,size:i,grid:i,"grid-gap":i,"grid-row-gap":i,"grid-column-gap":i,"grid-template-rows":i,"grid-template-columns":i,"grid-auto-rows":i,"grid-auto-columns":i,"box-shadow-x":i,"box-shadow-y":i,"box-shadow-blur":i,"box-shadow-spread":i,"font-line-height":i,"text-shadow-x":i,"text-shadow-y":i,"text-shadow-blur":i};function l(e){var t=/(-[a-z])/g;var n=function e(t){return t[1].toUpperCase()};var r={};for(var i in e){r[i]=e[i];r[i.replace(t,n)]=e[i]}return r}var c=l(s);function u(e,t,n){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=u(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=u(i,t[i],n);else for(var a in t)t[a]=u(e+"-"+a,t[a],n);else if("number"===typeof t){var o=n[e]||c[e];if(o)return"function"===typeof o?o(t).toString():""+t+o;return t.toString()}return t}function d(e){void 0===e&&(e={});var t=l(e);function n(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=u(r,e[r],t);return e}function r(e,n){return u(n,e,t)}return{onProcessStyle:n,onChangeValue:r}}t["a"]=d},VqUS:function(e,t,n){"use strict";var r={};Object.defineProperty(r,"empty",{value:"00000000-0000-0000-0000-000000000000",writable:false});r.generateId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;var n="x"===e?t:3&t|8;return n.toString(16)}))};t["a"]=r},"Vrq/":function(e,t,n){"use strict";var r=n("4nJ1");var i;function a(e,t,n,r,i){void 0===n&&(n=i.qDecimalSep);void 0===r&&(r=i.qThousandSep);var a="";var o;var s;var l;var c;if("F"===e)if(0===t)a="#".concat(r,"##0");else{a="#".concat(r,"##0").concat(n);for(l=0;l<t;++l)a+="0"}else{for(l=0;l<t;++l)a+="#";if(t>3){c=a.length;o=a.substring(0,c-3);s=a.substr(c-3);a=o+r+s}}return a}t["a"]={getNumFmtPattern:function e(t,n,r){var a={type:n.qType||"U",nDec:"qType"===t?("F"===n.qType,2):"R"===n.qType?n.qnDec||10:"number"===typeof n.qnDec?Math.max(0,n.qnDec):2,thousandSep:n.qThou,decimalSep:n.qDec};var o=this._getSeparators(t,"M"===n.qType,a.decimalSep,a.thousandSep,r);o.decimal!==i&&(a.decimalSep=o.decimal);o.thousand!==i&&(a.thousandSep=o.thousand);n.qType=a.type;n.qnDec=a.nDec;n.qDec=a.decimalSep;n.qThou=a.thousandSep;n.qFmt=this._getPattern(a.type,a.nDec,a.decimalSep,a.thousandSep,r);if(["D","T","TS","IV"].indexOf(a.type)>=0){n.qDec="";n.qThou=""}return n},_getSeparators:function e(t,n,r,i,a){var o=r;var s=i;var l="q".concat(n?"Money":"");if("qType"===t){s=a["".concat(l,"ThousandSep")]||"";o=a["".concat(l,"DecimalSep")]||"."}else if("qThou"===t&&void 0===i){s=a["".concat(l,"ThousandSep")]||"";o=r||"."}else if("qDec"===t&&(void 0===r||""===r)){o=a["".concat(l,"DecimalSep")]||".";s=i||""}return{decimal:o||".",thousand:s||""}},_getPattern:function e(t,n,i,a,o){var s;switch(t){case"U":return"";case"I":return"#".concat(a,"##0");case"R":case"F":return this.getNDecPattern("F",n,i,a,o);case"M":s=o.qMoneyFmt;o.qMoneyDecimalSep&&(s=s.replace(new RegExp(r["a"].escapeRegExp(o.qMoneyDecimalSep),"g"),i));o.qMoneyThousandSep&&(s=s.replace(new RegExp(r["a"].escapeRegExp(o.qMoneyThousandSep),"g"),a));return s;case"D":return o.qDateFmt;case"T":return o.qTimeFmt;case"TS":return o.qTimestampFmt;case"IV":return"h:mm:ss";default:return""}},getDefaultNumericFormat:function e(t,n){return a("F",2,t.qDec,t.qThou||"",n)},getNDecPattern:a,getNormalizedFormat:function e(t,n){var r=t.qDec+t.qThou;if(/\u00a0/.test(r)&&!/\u0020/.test(r))return n.replace(/\u0020/g," ");return n}}},Vvj3:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);function a(e,t,n,r){switch(t){case"BottomLeft":n-=e.outerWidth();break;case"Bottom":n-=e.outerWidth()/2;break;case"BottomRight":break;case"Left":n-=e.outerWidth();r-=e.outerHeight()/2;break;case"Center":n-=e.outerWidth()/2;r-=e.outerHeight()/2;break;case"Right":r-=e.outerHeight()/2;break;case"Top":r-=e.outerHeight();n-=e.outerWidth()/2;break;case"TopRight":default:r-=e.outerHeight()/2;break}return{left:n,top:r}}function o(e,t){var n=i()(window);var r=10;var a=r;var o=n.outerWidth()-e.outerWidth()-r;var s=Math.max(a,Math.min(o,t.left));var l=r;var c=n.outerHeight()-e.outerHeight()-r;var u=Math.max(l,Math.min(c,t.top));return{left:s,top:u}}function s(e,t,n){var r=a(e,t,n.x,n.y);r=o(e,r);e.offset(r);return r}function l(e,t){t=o(e,t);e.offset(t);return t}t["a"]={dock:a,limit:o,position:s,reposition:l}},Vy0P:function(e,t,n){"use strict";var r=n("o/J5");function i(e){if("rtl"===e.textDirection&&"horizontal"===e.direction){var t=e.showMinAffordance;e.showMinAffordance=e.showMaxAffordance;e.showMaxAffordance=t}}function a(e,t,n){if(n===r["b"])return e*(1/t.scaleFactor);return 3*e}t["a"]={createScrollbar:function e(){return{vLength:0,vViewportLength:0,vPos:0,vPage:0,thumb:{},style:{},classList:[],enabled:false,getScrollDelta:function e(t,n){var r="rtl"===this.textDirection?-1:1;var i=0;var o=0;if(!this.enabled)return[0,0];switch(this.direction){case"vertical":o=a(t.swipe.curDeltaY,this,n);break;case"horizontal":i=a(r*t.swipe.curDeltaX,this,n);break;default:throw new Error("not implemented")}return[i,o]},active:false}},setScrollbarData:function e(t,n,r,a,o,s,l){var c=3;var u;switch(n){case"vertical":u=s.height;break;case"horizontal":u=s.width;break;default:throw new Error("not implemented")}t.enabled=o<a&&u>0;if(!t.enabled)return;u-=2*c;t.uiOffset=c;t.direction=n;t.vLength=a;t.vViewportLength=o;t.vPos=0;t.vPage=u;t.length=u;t.trackSize=r;t.scaleFactor=u/a;t.thumb.pos=0;t.thumb.size=0;t.thumb.vPos=0;t.showMinAffordance=false;t.showMaxAffordance=true;t.textDirection=l;switch(t.direction){case"vertical":t.style.top="".concat(s.top+t.uiOffset,"px");t.style.width="".concat(r,"px");t.style.left="".concat("rtl"===l?t.uiOffset:s.left+s.width-r-t.uiOffset,"px");t.style.height="".concat(s.height-2*t.uiOffset,"px");break;case"horizontal":t.style.height="".concat(r,"px");t.style.top="".concat(s.top+s.height-r-t.uiOffset,"px");t.style.left="".concat(s.left+t.uiOffset,"px");t.style.width="".concat(s.width-2*t.uiOffset,"px");break;default:throw new Error("not implemented")}i(t)},setVirtualScrollPos:function e(t,n,r){var a=0;var o=n.vLength-n.vViewportLength;var s=0;var l=n.thumb.vPos;if(!n.enabled)return 0;n.vPos=Math.max(0,n.vPos+t);n.showMinAffordance=false;n.showMaxAffordance=false;if(n.vPos<a){l=a;n.vPos=r?n.vPos:a;n.showMaxAffordance=true}else if(n.vPos>o){l=o;n.vPos=r?n.vPos:o;n.showMinAffordance=true}else{n.vPos!==a&&(n.showMinAffordance=true);n.vPos!==o&&(n.showMaxAffordance=true);l=n.vPos}s=l-n.thumb.vPos;n.thumb.vPos=l;i(n);return s},setThumbStyle:function e(t,n){var r=n.thumb;var i=12;var a=n.scaleFactor;var o=Math.floor(r.vPos*a);var s=Math.floor(n.vViewportLength*a);if(s<i){o-=Math.floor((i-s)/2);s=i}o=Math.max(o,0);o+s>n.length&&(o=n.length-s);r.size=s;r.pos=o;switch(n.direction){case"vertical":t.top="".concat(o,"px");t.height="".concat(s,"px");break;case"horizontal":if("rtl"===n.textDirection){delete t.left;t.right="".concat(o,"px")}else{delete t.right;t.left="".concat(o,"px")}t.width="".concat(s,"px");break;default:throw new Error("not implemented")}},setTrackHitAreaStyle:function e(t,n,r){if("vertical"===n.direction){t.right="".concat(-n.uiOffset,"px");t.width="".concat(r+n.uiOffset,"px")}else{t.bottom="".concat(-n.uiOffset,"px");t.height="".concat(r+n.uiOffset,"px")}}}},"W/5s":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function e(){return"undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};t.default=r},W4iw:function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("JbRU");function o(e){if(-1===e.indexOf("[")&&-1===e.indexOf("]"))return"[".concat(e,"]");if(-1===e.indexOf('"'))return'"'.concat(e,'"');if(-1===e.indexOf("'"))return"'".concat(e,"'");if(-1===e.indexOf("´"))return"´".concat(e,"´");return e}function s(e,t,n){function r(t,n){var r="";var i="    ";var o;var l;if(n){o=t.databases;o&&o.forEach((function(t){t.owners&&t.owners.length>0&&t.owners.forEach((function(o){o.tables&&o.tables.length>0&&o.tables.forEach((function(u){l=a(u.fields);if(l&&l.length>0){r+="\r\nLOAD\r\n";for(var d=0;d<l.length;d++){d>0&&(r+=",\r\n");var f=l[d].originalFieldName?l[d].originalFieldName:l[d].name;l[d].alias&&l[d].name!==l[d].alias?r+="".concat(i+c(f,n)," AS ").concat(c(l[d].alias,n)):r+=i+c(f,n)}r+="\r\nFROM ".concat(s(t.name,o.name,u.name,e.dataconnectorPrefix),";\r\n")}}))}))}));return"".concat(r.trim(),"\r\n\r\n")}return""}function a(e){return i.a.filter(e,(function(e){return e.checked}))}function s(n,r,i,a){var s="internet"!==e.type.provider?"lib://".concat(a).concat(e.name,"/").concat(n):"lib://".concat(a).concat(e.name);var l="".concat(o(s),"\r\n").concat(t.getSettingsModelForTable(n,r,i).getFormatSpec());return l}var l={};function c(e,t){if(l[e]||u(e,t.specialchars)||f(e,t.keywords)||d(e)||""===e){l[e]=true;if(-1===e.indexOf('"'))return t.quoteprefix+e+t.quotesuffix;return t.quoteprefixfordoublequotes+e+t.quotesuffixfordoublequotes}return e}function u(e,t){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e.charAt(n)))return true;return false}function d(e){if(e.length>0){var t=e.charCodeAt(0);return t>=48&&t<=57}return false}function f(e){return n.isKeyword(e)}var p={generateScriptForSelections:r};return p}t["a"]={createScriptGenerator:s,quoteConnectionName:o}},WCAk:function(e,t,n){"use strict";var r=n("GF7R");var i={};var a={};var o=5e3;var s=0;var l=Math.floor;function c(e,t){return function(){var n=function e(){};n.prototype=e.prototype;var r=new n;var i=e.apply(r,t);return Object(i)===i?i:r}}function u(){s++}function d(){var e;var t;var n;if(arguments.length<3)"string"===typeof arguments[0]?e=arguments[0]:"number"===typeof arguments[0]&&arguments[0]>=0&&(e="".concat(arguments[0]));else if(arguments.length>=3){e=arguments[0];for(t=0;t>arguments.length;t++)e+=",".concat(arguments[t])}if(e&&i[e])return i[e];n=c(r["a"],arguments)();var l=n.isInvalid()?"INVALID":"".concat(n._r,",").concat(n._g,",").concat(n._b,",").concat(n._a);if(a[l])n=a[l];else{if(s>=o)return n;a[l]=n;u()}e&&(i[e]=n);return n}function f(e,t,n){var i;var d=l(e._r+(t._r-e._r)*n);var f=l(e._g+(t._g-e._g)*n);var p=l(e._b+(t._b-e._b)*n);var h=l(e._a+(t._a-e._a)*n);var v="".concat(d,",").concat(f,",").concat(p,",").concat(h);if(a[v])i=a[v];else{i=c(r["a"],[d,f,p,h])();if(s>=o)return i;a[v]=i;u()}return i}function p(){i={};a={};s=0}t["a"]={retriveColor:d,retriveBlend:f,clear:p}},WFGH:function(e,t,n){"use strict";n.r(t);var r=n("UV1h");var i=n("2Hli");var a=n("gl1R");var o=n("KBmc");var s=n("obmW");var l=n("acVu");var c=1e3;var u=o["a"].baseColor;function d(e){return true!==i["a"].getValue(e,"color.reverseScheme")}function f(e){return"byExpression"===i["a"].getValue(e,"color.mode")&&false===i["a"].getValue(e,"color.expressionIsColor")}function p(e){return"byExpression"===i["a"].getValue(e,"color.mode")&&true===i["a"].getValue(e,"color.expressionIsColor")}function h(e){var t=a["a"].getDimensionLayouts(e)[0];return t&&t.qCardinal>c}function v(e){return"byDimension"===e.color.mode&&!(i["a"].getValue(e,"color.byDimDef.activeDimensionIndex")>-1)||"byMeasure"===e.color.mode&&!(i["a"].getValue(e,"color.byMeasureDef.activeMeasureIndex")>-1)}function m(){var e=[];var t=r["a"].dataPalettes;t.forEach((function(t){if("true"!==t.disabled){var n={type:"classes",component:"color-scale",translation:t.translation||t.name,value:t.propertyValue};"pyramid"===t.type?n.colors=t.scale[t.scale.length-1]:n.colors=t.scale;e.push(n)}}));return e}function g(){var e=[];var t=r["a"].scales;t.forEach((function(t){if(!t.disabled){var n={component:"color-scale",reverse:this.helpers.schemeIsReverse,translation:t.translation||t.name,value:t.propertyValue};if("class-pyramid"===t.type){n.colors=t.scale[t.scale.length-1];n.type="classes"}else{n.colors=t.scale;n.type="gradient"}e.push(n)}}),this);return e}function b(e){if(!e)return false;if(e.coloring&&e.coloring.baseColor&&e.coloring.baseColor.color)return e.coloring.baseColor;if(e.baseColor&&e.baseColor.color)return e.baseColor;return false}function y(e){return i["a"].getValue(e,"layout.qHyperCube.qMeasureInfo",[]).filter((function(e){return!!b(e)})).length>0}function w(e){var t=i["a"].getValue(e,"layout.layers",false);if(!t)return i["a"].getValue(e,"layout.qHyperCube.qDimensionInfo",[]).filter((function(e){return!!b(e)})).length>0;return t.filter((function(e){return i["a"].getValue(e,"qHyperCube.qDimensionInfo",[]).filter((function(e){return!!b(e)})).length>0})).length>0}function S(e,t){var n=i["a"].getValue(e,t,void 0);if(!n||"undefined"===typeof n.label)return;"="===n.label.charAt(0)?e.color.altLabel={qStringExpression:{qExpr:n.label.substr(1)}}:e.color.altLabel=n.label}function x(e){return!i["a"].getValue(e,"color.auto")&&"byDimension"===i["a"].getValue(e,"color.mode")}function C(e){return!i["a"].getValue(e,"color.auto")&&"byMeasure"===i["a"].getValue(e,"color.mode")}function q(e,t){var n=C(e);var r=x(e);if(!n&&!r)return;var i=n?e.color.byMeasureDef:e.color.byDimDef;i.label=t}var E={showLegend:function e(t){var n=i["a"].getValue(t,"color.auto");var r=i["a"].getValue(t,"color.mode");var o=i["a"].getValue(t,"color.expressionIsColor");var s=a["a"].getNumDimensions(t);var l=a["a"].getNumMeasures(t);return n&&(s>1||l>1)||!n&&"primary"!==r&&("byExpression"!==r||!o)},colorModeOptions:{primary:function e(){return true},dimension:function e(t){return a["a"].getNumDimensions(t)>0&&a["a"].getNumMeasures(t)<=1},multiColor:function e(t){return a["a"].getNumMeasures(t)>1},measure:function e(t){return a["a"].getNumDimensions(t)>0},expression:function e(t){return a["a"].getNumMeasures(t)>=1}},persistentColorsShow:function e(t){return!i["a"].getValue(t,"color.auto")&&"byDimension"===i["a"].getValue(t,"color.mode")&&a["a"].getNumMeasures(t)<=1},useDimValColShow:function e(t){void 0===i["a"].getValue(t,"color.useDimColVal")&&i["a"].setValue(t,"color.useDimColVal",false);return!i["a"].getValue(t,"color.auto")&&"byDimension"===i["a"].getValue(t,"color.mode")&&"libraryItem"===i["a"].getValue(t,"color.byDimDef.type")},expressionLabelChange:function e(t){var n=i["a"].getValue(t,"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0");var r=i["a"].getValue(t,"color");if(n){n.label=i["a"].getValue(t,"color.expressionLabel");r&&(r.colorExpression=n.qExpression)}},attributeExpressionChange:function e(t){var n=i["a"].getValue(t,"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0");var r=i["a"].getValue(t,"color");if(n){n.id="colorByExpression";r&&(r.colorExpression=n.qExpression)}},attributeExpressionGlobalChange:function e(t){var n=i["a"].getValue(t,"qHyperCubeDef.qMeasures",[]);var r=i["a"].getValue(t,"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",[]);var a;var o;var s;var l=null;var c=function e(t,n){"colorByExpression"===t.id&&(o=n)};if(n.length+r.length>1){for(a=r.length-1;a>=0;--a){s=r[a].qAttributeExpressions||[];o=-1;s.every(c);o>=0&&(l=s.splice(o,1)[0])}for(a=n.length-1;a>=0;--a){s=n[a].qAttributeExpressions||[];o=-1;s.every(c);o>=0&&(l=s.splice(o,1)[0])}if(n.length){!n[0].qAttributeExpressions&&l&&(n[0].qAttributeExpressions=[]);l&&n[0].qAttributeExpressions.splice(0,0,l)}}var u=i["a"].getValue(t,"color.colorExpression");1!==n.length||n[0].qAttributeExpressions&&0!==n[0].qAttributeExpressions.length||!u||(n[0].qAttributeExpressions=[{qExpression:u,id:"colorByExpression"}])},colorByGlobalChange:function e(t,n,r){o["a"].colorByUpdater(t,r)},colorByDimensionChange:function e(t){S(t,"color.byDimDef")},colorByMeasureChange:function e(t){var n,r,i;S(t,"color.byMeasureDef");"libraryItem"!==(null===(n=t.color)||void 0===n||null===(r=n.byMeasureDef)||void 0===r?void 0:r.type)&&s["a"].isUsingMasterNumberFormat(null===t||void 0===t||null===(i=t.color)||void 0===i?void 0:i.formatting)&&s["a"].useLocalFormat(t.color.formatting)},colorByLabelChange:function e(t){var n=i["a"].getValue(t,"color.altLabel","");var r=n.qStringExpression?"=".concat(n.qStringExpression.qExpr):n;if("="===r)return;q(t,r)}};var I={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function e(){return true},expression:function e(t){return a["a"].getNumMeasures(t)>=1}},showLegend:function e(t){var n=i["a"].getValue(t,"color.auto");var r=i["a"].getValue(t,"color.expressionIsColor");var a=i["a"].getValue(t,"color.mode");return!(!n&&"primary"===a||!n&&"byExpression"===a&&(r||void 0===r))},persistentColorsShow:function e(t){return!i["a"].getValue(t,"color.auto")&&"byDimension"===i["a"].getValue(t,"color.mode")},dimPrimaryMode:true};var k={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function e(){return true},expression:function e(t){return a["a"].getNumMeasures(t)>=1}},showLegend:function e(t){return"primary"!==i["a"].getValue(t,"color.mode")&&!i["a"].getValue(t,"color.auto")},persistentColorsShow:function e(t){return!i["a"].getValue(t,"color.auto")&&"byDimension"===i["a"].getValue(t,"color.mode")}};var A={colorModeOptions:{primary:function e(){return true},dimension:function e(t){return a["a"].getNumDimensions(t)>1},multiColor:function e(t){return a["a"].getNumMeasures(t)>1},measure:function e(t){return a["a"].getNumDimensions(t)<=1},expression:function e(t){return a["a"].getNumMeasures(t)>=1}}};var T={colorModeOptions:{primary:function e(){return true},dimension:function e(t){return a["a"].getNumDimensions(t)>=1},multiColor:function e(t){return a["a"].getNumMeasures(t)>1},measure:function e(t){return a["a"].getNumDimensions(t)>=1},expression:function e(t){return a["a"].getNumDimensions(t)>=1}}};var D={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function e(){return Object(l["b"])("COLOR_BY_MEA")},expression:function e(t){return a["a"].getNumDimensions(t)>=1}}};var O={scatterplot:k,piechart:I,linechart:A,map:T,distributionplot:D};function L(e,t){var n=O[e]||E;return n[t]||E[t]}var M=function e(t,n){var o=L(n,"colorModeOptions");var s=L(n,"persistentColorsShow");var l=L(n,"useDimValColShow");var c=L(n,"expressionLabelChange");var b=L(n,"attributeExpressionChange");var S=L(n,"attributeExpressionGlobalChange");var q=L(n,"colorByGlobalChange");var E=L(n,"colorByDimensionChange");var I=L(n,"colorByMeasureChange");var k=L(n,"colorByLabelChange");this.helpers={schemeIsReverse:d,showCompressionResolution:h,colorModeOptions:o,getMeasureSchemeOptions:g.bind(this),getDimensionSchemeOptions:m};this.color={colorMode:{options:function e(n){var e=[];"explore"===t&&e.push({value:"auto",translation:"Common.Auto"});o.primary(n)&&e.push({value:"primary",translation:"properties.colorMode.primary"});o.multiColor(n)&&e.push({value:"byMultiple",translation:"properties.colorMode.multicolored"});o.dimension(n)&&e.push({value:"byDimension",translation:"properties.colorMode.byDimension"});o.measure(n)&&e.push({value:"byMeasure",translation:"properties.colorMode.byMeasure"});o.expression(n)&&"explore"!==t&&e.push({value:"byExpression",translation:"properties.colorMode.byExpression"});return e},show:function e(t){return!i["a"].getValue(t,"color.auto")}},paletteColor:{show:function e(t,n){if(!i["a"].getValue(t,"color.paletteColor")){var a=r["a"].resolveColor(i["a"].getValue(t,"color.singleColor"));var o={index:-1,color:a};i["a"].setValue(t,"color.paletteColor",o)}return!i["a"].getValue(t,"color.auto")&&"primary"===i["a"].getValue(t,"color.mode")&&!(u.isSupported(t.visualization)&&y(n)&&"measure"===i["a"].getValue(t,"color.useBaseColors")||w(n)&&"dimension"===i["a"].getValue(t,"color.useBaseColors"))},defaultValue:function e(){var t=r["a"].dataColors.primaryColor;var n=r["a"].currentPalette.indexOf(t);return{index:-1===n?Math.min(6,r["a"].currentPalette.length-1):n}}},colorBy:{globalChange:q,dimension:{show:x,change:E},measure:{show:C,change:I},label:{show:function e(t){return!i["a"].getValue(t,"color.auto")&&v(t)&&("byDimension"===i["a"].getValue(t,"color.mode")&&"libraryItem"!==i["a"].getValue(t,"color.byDimDef.type")||"byMeasure"===i["a"].getValue(t,"color.mode")&&"libraryItem"!==i["a"].getValue(t,"color.byMeasureDef.type"))},change:k}},baseColor:{show:function e(t,n){var r=i["a"].getValue(t,"color.mode");return!i["a"].getValue(t,"color.auto")&&("byMultiple"===r||"primary"===r)&&(y(n)&&u.isSupported(t.visualization)||w(n))},showColors:function e(t,n){return!i["a"].getValue(t,"color.auto")&&"byMultiple"===i["a"].getValue(t,"color.mode")&&"measure"===i["a"].getValue(t,"color.useBaseColors")&&u.isSupported(t.visualization)&&n.layout.qHyperCube.qMeasureInfo.length>1&&y(n)},hasMeasureColor:function e(t){return y(t)},hasDimensionColor:function e(t){return w(t)},isSupported:function e(t){return u.isSupported(t)}},persistentColors:{show:function e(t){if(l(t))return s(t)&&!i["a"].getValue(t,"color.useDimColVal");return s(t)},readOnly:function e(t){return i["a"].getValue(t,"qHyperCubeDef.qDimensions.length")>1}},useDimColVal:{show:l},attributeExpression:{change:b,globalChange:S,show:function e(t){return!i["a"].getValue(t,"color.auto")&&"byExpression"===i["a"].getValue(t,"color.mode")&&a["a"].getNumMeasures(t)>0}},expressionIsColor:{show:function e(t){return!i["a"].getValue(t,"color.auto")&&"byExpression"===i["a"].getValue(t,"color.mode")&&a["a"].getNumMeasures(t)>0}},expressionLabel:{change:c,show:function e(t){return!i["a"].getValue(t,"color.auto")&&f(t)&&a["a"].getNumMeasures(t)>0}},colorSchemeMeasure:{show:function e(t){return!i["a"].getValue(t,"color.auto")&&("byMeasure"===i["a"].getValue(t,"color.mode")||f(t))}},reverseScheme:{show:function e(t){return!i["a"].getValue(t,"color.auto")&&("byMeasure"===i["a"].getValue(t,"color.mode")||f(t))}},colorSchemeDimension:{show:function e(t,n){return(!l(t)||!i["a"].getValue(t,"color.useDimColVal"))&&!i["a"].getValue(t,"color.auto")&&("byDimension"===i["a"].getValue(t,"color.mode")||"byMultiple"===i["a"].getValue(t,"color.mode"))&&!("measure"===i["a"].getValue(t,"color.useBaseColors")&&u.isSupported(t.visualization)&&y(n)&&("byMultiple"===i["a"].getValue(t,"color.mode")||i["a"].getValue(t,"color.auto")&&n.layout.qHyperCube.qMeasureInfo.length>1))}},customRange:{show:function e(t){return!i["a"].getValue(t,"color.auto")},autoMinMax:{show:function e(t){return"byMeasure"===i["a"].getValue(t,"color.mode")||f(t)}},min:{show:function e(t){return("byMeasure"===i["a"].getValue(t,"color.mode")||f(t))&&false===i["a"].getValue(t,"color.autoMinMax")},invalid:function e(t){if("minMax"===i["a"].getValue(t,"color.minMax"))return i["a"].getValue(t,"color.measureMin")>=i["a"].getValue(t,"color.measureMax");return false}},max:{show:function e(t){return("byMeasure"===i["a"].getValue(t,"color.mode")||f(t))&&false===i["a"].getValue(t,"color.autoMinMax")},invalid:function e(t){if("minMax"===i["a"].getValue(t,"color.minMax"))return i["a"].getValue(t,"color.measureMin")>=i["a"].getValue(t,"color.measureMax");return false}}}};var A=L(n,"showLegend");this.legend={show:A,showTitle:{show:function e(t){var n=i["a"].getValue(t,"color.auto");return i["a"].getValue(t,"legend.show")&&A(t)&&(n||!p(t))}},dock:{show:function e(t){return i["a"].getValue(t,"legend.show")&&A(t)}}}};t["default"]={getLogicFor:function e(t,n){return new M(t,n)}}},WL5y:function(e,t,n){"use strict";var r=n("PX8M");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function o(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e}var s=function(){function e(t,n){i(this,e);this.storage=t;this.supportsLocalStorage=n}o(e,[{key:"get",value:function e(t){var n=this.supportsLocalStorage?this.storage.getItem(t):this.storage[t];return n}},{key:"set",value:function e(t,n){this.supportsLocalStorage?this.storage.setItem(t,n):this.storage[t]=n}},{key:"remove",value:function e(t){this.supportsLocalStorage?this.storage.removeItem(t):delete this.storage[t]}},{key:"keys",value:function e(){var e=[];var t;if(this.supportsLocalStorage)for(var n=0;n<this.storage.length;n++){t=this.storage.key(n);e.push(t)}else for(t in this.storage)e.push(t);return e}}]);return e}();var l=s;var c=n("acVu");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}var p="DataManager";var h=1;var v=2592e6;var m=function(){function e(){u(this,e);if(!Object(c["b"])("DISABLE_DM_LOCAL_STORAGE")&&b()){var t=new l(localStorage,true);this.storage=t;setTimeout((function(){y(t)}))}else this.storage=new l({},false)}f(e,[{key:"get",value:function e(t){var n=this.storage.get(g(t));var r=S(n);return r?r.value:void 0}},{key:"set",value:function e(t,n){var r=(new Date).getTime();var i={created:r,version:h,value:n};var a=w(i);this.storage.set(g(t),a)}},{key:"remove",value:function e(t){this.storage.remove(g(t))}}]);return e}();function g(e){return"".concat(p,".").concat(e)}function b(){try{localStorage.setItem(p,p);localStorage.removeItem(p);return true}catch(e){return false}}function y(e){var t="".concat(p,".");var n=(new Date).getTime();e.keys().forEach((function(r){if(0===r.lastIndexOf(t,0)){var i=e.get(r);var a=S(i);a&&a.created&&"number"===typeof a.created&&n-a.created>v&&e.remove(r)}}))}function w(e){return JSON.stringify(e)}function S(e){if(!e)return;try{return JSON.parse(e)}catch(e){return}}var x=new m;var C=function e(t){return r["a"].getApp().then((function(e){return"".concat(e.id,".").concat(t)}))};var q=t["a"]={get:function e(t){return C(t).then((function(e){return x.get(e)}))},set:function e(t,n){return C(t).then((function(e){x.set(e,n)}))},remove:function e(t){return C(t).then((function(e){x.remove(e)}))}}},WRI6:function(e,t,n){"use strict";var r=n("hmfc");var i=n("BcSl");var a=n("4nJ1");var o=n("pRem");var s=n("PX8M");var l=n("acVu");var c=n("k9vo");function u(e,t){return v(e)||h(e,t)||f(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function v(e){if(Array.isArray(e))return e}function m(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){m(a,r,i,o,s,"next",e)}function s(e){m(a,r,i,o,s,"throw",e)}o(void 0)}))}}function b(e){var t=e.split("/");return"qmem:"===t[0]&&""===t[1]}var y={getCustomTooltipImages:function e(t,n,r){return g(regeneratorRuntime.mark((function e(){var i,o;var c,d,f,p,h,v;return regeneratorRuntime.wrap((function e(m){while(1)switch(m.prev=m.next){case 0:m.next=2;return s["a"].getApp();case 2:c=m.sent;if(!(!n||!n._customTooltipInfoAttributes)){m.next=5;break}return m.abrupt("return",[]);case 5:d=a["a"].getValue(t,"tooltip.imageComponents",[]);if(!(0===d.length)){m.next=8;break}return m.abrupt("return",[]);case 8:f=u(d,1),p=f[0];h=p.size,v=p.type;if(!("media"===v&&(null===(i=p.ref)||void 0===i||null===(o=i.qStaticContentUrl)||void 0===o?void 0:o.qUrl))){m.next=12;break}return m.abrupt("return",w(p,h));case 12:if(!("url"===v)){m.next=14;break}return m.abrupt("return",x(p,n,h,c));case 14:if(!(Object(l["b"])("IMAGE_BUNDLE_LOAD")&&"field"===v&&c.getImage)){m.next=16;break}return m.abrupt("return",q(t,r,n,h,c));case 16:return m.abrupt("return",[]);case 17:case"end":return m.stop()}}),e)})))()},getImageSize:function e(t,n){var r;function i(){if(r){clearTimeout(r);r=null}}function a(e){var t=e;t.onload=null;t.onerror=null;i()}var o={small:50,medium:200,large:340,original:340};return new Promise((function(e){var s=new Image;s.referrerPolicy="no-referrer";s.onload=function(){var t;var r=s.height;var l=s.width;var c=r>l?1:r/l;var u=l>r?1:l/r;var d=o[n]*c;var f=o[n]*u;if(!r||!l||0===r&&0===l){t={height:20,width:20,imageError:true};a(s)}else if("original"===n){t={height:Math.min(d,r),width:Math.min(f,l)};i()}else{t={height:d,width:f};i()}e(t)};s.onerror=function(){a(s);e({height:20,width:20,imageError:true})};s.src=t;r=setTimeout((function(){a(s);e({height:20,width:20,imageError:true})}),3e3)}))}};function w(e,t){return S.apply(this,arguments)}function S(){S=g(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:r=t.ref.qStaticContentUrl.qUrl;c["a"].stripBasePath(r);r=r.replace(/"/g,'\\"');r=r.replace(/'/g,"\\'");r=c["a"].addBasePath(r);l.next=7;return y.getImageSize(r,n);case 7:i=l.sent;a=i.height;o=i.width;s=i.imageError;return l.abrupt("return",[{src:r,size:n,height:a,width:o,imageError:s}]);case 12:case"end":return l.stop()}}),e)})));return S.apply(this,arguments)}function x(e,t,n,r){return C.apply(this,arguments)}function C(){C=g(regeneratorRuntime.mark((function e(t,n,r,a){var o,s,c,d,f,p,h,v,m,g,w,S,x,C,q;return regeneratorRuntime.wrap((function e(E){while(1)switch(E.prev=E.next){case 0:o=[];s=t.ref;c=n._customTooltipInfoAttributes.filter((function(e){return e.id===i["a"].CUSTOM.IMAGES}));d=u(c,1),f=d[0];f&&f.value&&(s=f.value);if(!(Object(l["b"])("IMAGE_BUNDLE_LOAD")&&a.getImage&&b(s))){E.next=25;break}E.prev=6;E.next=9;return a.getImage(s);case 9:p=E.sent;if(!p){E.next=19;break}h="data:image/png;base64, ".concat(p);E.next=14;return y.getImageSize(h,r);case 14:v=E.sent;m=v.height;g=v.width;w=v.imageError;o=[{src:h,size:r,height:m,width:g,imageError:w}];case 19:E.next=23;break;case 21:E.prev=21;E.t0=E["catch"](6);case 23:E.next=32;break;case 25:E.next=27;return y.getImageSize(s,r);case 27:S=E.sent;x=S.height;C=S.width;q=S.imageError;o=[{src:s,size:r,height:x,width:C,imageError:q}];case 32:return E.abrupt("return",o);case 33:case"end":return E.stop()}}),e,null,[[6,21]])})));return C.apply(this,arguments)}function q(e,t,n,r,i){return E.apply(this,arguments)}function E(){E=g(regeneratorRuntime.mark((function e(t,n,r,s,l){var c;var d,f,p,h,v,m,g,w,S,x,C,q,E,I,k,A,T,D;return regeneratorRuntime.wrap((function e(O){while(1)switch(O.prev=O.next){case 0:d=[];f=o["a"].getPathToAttrExpr(t,n);p=a["a"].getValue(t,f,[]);p=p.filter((function(e){return e.id===i["a"].CUSTOM.IMAGES}));h=p,v=u(h,1),m=v[0];g=r._customTooltipInfoAttributes.filter((function(e){return e.id===i["a"].CUSTOM.IMAGES}));w=u(g,1),S=w[0];if(!(!m||!S||!S.value)){O.next=9;break}return O.abrupt("return",d);case 9:x=S.value;C=null!==(c=S.qText)&&void 0!==c?c:m.qFallbackTitle;q="qmem://".concat(C,"/").concat(x);if(!b(q)){O.next=30;break}O.prev=13;O.next=16;return l.getImage(q);case 16:E=O.sent;if(!E){O.next=26;break}I="data:image/png;base64, ".concat(E);O.next=21;return y.getImageSize(I,s);case 21:k=O.sent;A=k.height;T=k.width;D=k.imageError;d=[{src:I,size:s,height:A,width:T,imageError:D}];case 26:O.next=30;break;case 28:O.prev=28;O.t0=O["catch"](13);case 30:return O.abrupt("return",d);case 31:case"end":return O.stop()}}),e,null,[[13,28]])})));return E.apply(this,arguments)}var I=y;function k(e){return O(e)||D(e)||T(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}function D(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function O(e){if(Array.isArray(e))return L(e)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var P={getContent:function e(t,n,r,i,a){var o=this;var s=new Promise((function(e){var s;var c=o._getAttrExpsFormatters(n,r,a);var u=o._extractAttrExpr(n,i,c,a);var d=o._getCustomTooltipInfoAttrExpr(i);var f=(null===(s=i.children)||void 0===s?void 0:s.length)>0;if(Object(l["b"])("CUSTOM_TOOLTIP_IMAGES")&&!f)I.getCustomTooltipImages(n,i,a).then((function(r){var i=o._constructContent(u,t,n,d,r);e(i)}));else{var p=o._constructContent(u,t,n,d,[]);e(p)}}));return s},getCustomTooltipInfoIdList:function e(){var t;return t={},M(t,i["a"].CUSTOM.TITLE,true),M(t,i["a"].CUSTOM.DESCRIPTION,true),M(t,i["a"].CUSTOM.IMAGES,true),t},generateItemFromDataPage:function e(t,n,r){var s={_customTooltipAttributes:[],_customTooltipInfoAttributes:[]};var l=o["a"].getPathToAttrExpr(t,r);var c=void 0===l?[]:a["a"].getValue(t,l,[]);var u=a["a"].getValue(n,"qAttrExps.qValues");var d=this.getCustomTooltipInfoIdList();c.forEach((function(e,t){if(e.id===i["a"].CUSTOM.EXPRESSION)s._customTooltipAttributes.push(u[t]);else if(d[e.id]){var n=void 0===u[t].qText?e.qFallbackTitle:u[t].qText;s._customTooltipInfoAttributes.push({value:n,id:e.id})}}));return s},_getAttrExpsFormatters:function e(t,n,s){var l=o["a"].getPathToAttrExpr(t,s);if(void 0===l)return[];var c=a["a"].getValue(t,l,[]);c=c.filter((function(e){return e.id===i["a"].CUSTOM.EXPRESSION}));var u=new r["a"](n,c);return u.getFormatters()},_extractAttrExpr:function e(t,n,r,s){var l=[];var c=o["a"].getPathToAttrExpr(t,s);var u=a["a"].getValue(t,c,[]);u=u.filter((function(e){return e.id===i["a"].CUSTOM.EXPRESSION}));u.forEach((function(e,t){if(e.id===i["a"].CUSTOM.EXPRESSION&&n._customTooltipAttributes[t]){var a=e.qFallbackTitle;var o=n._customTooltipAttributes[t];var s=e.qIsAutoFormat&&"NaN"!==o.qNum&&r[t]?r[t].format(o.qNum):o.qText;l.push({label:a,value:s})}}));return l},_getCustomTooltipInfoAttrExpr:function e(t){var n={};t&&t._customTooltipInfoAttributes&&t._customTooltipInfoAttributes.forEach((function(e){e.id===i["a"].CUSTOM.TITLE?n.title=e.value:e.id===i["a"].CUSTOM.DESCRIPTION&&(n.description=e.value)}));return n},_shouldIgnoreHeader:function e(t,n,r){return 0===r.length&&(""!==t&&void 0!==t||""!==n&&void 0!==n)},_constructContent:function e(t,n,r,i,o){var s="tooltip.hideBasic";var l=a["a"].getValue(r,s,0)?[]:n.rows;var c=[].concat(k(l),k(t));var u=i.title,d=i.description;var f=this._shouldIgnoreHeader(u,d,c)?void 0:n.header;var p=[{title:u,description:d,header:f,rows:c,images:o}];return p}};var N=t["a"]=P},Wbap:function(e,t,n){"use strict";var r=n("acVu");var i={areExtensionsAllowed:function e(){var t="[object OperaMini]"===Object.prototype.toString.call(window.operamini);var n=!!window.MSInputMethodContext&&!!document.documentMode;return!Object(r["b"])("content_security_policy")||!t&&!n}};t["a"]=i},Wtq8:function(e,t,n){"use strict";var r={resizeCharts:function e(t){if("function"===typeof Event)t.dispatchEvent(new Event("resize"));else{var n=t.document.createEvent("UIEvents");n.initUIEvent("resize",true,false,t,0);t.dispatchEvent(n)}},getFieldsFromChartProperties:function e(t){var n=[];t&&t.length>0&&(n=t.map((function(e){return e.field||e.libIdLabel})));return n},addNonBreakingSpaces:function e(t){if(!t)return t;var n=[];for(var r=0;r<t.length;r++)r!==t.length-1?n.push("".concat(t[r],",&nbsp;")):n.push(t[r]);return n},isLanguageSupportedForNarrative:function e(t){var n=["en"];for(var r=0;r<n.length;r++)if(n[r]===t)return true;return false},isAnalysisTypeSupportedForNarrative:function e(t){var n=["fact","list","values"];for(var r=0;r<n.length;r++)if(n[r]===t)return false;return true}};t["a"]=r},X13V:function(e,t,n){"use strict";var r=n("TLJm");var i=n("6uJb");var a=r["a"].NxLocalizedErrorCode;function o(e){return"ErrorCode.".concat(e)}t["a"]={getDimensionError:function e(t){var n;n=t===a.LOCERR_CALC_INVALID_DEF?"Object.ErrorMessage.InvalidDimension":t===a.LOCERR_CALC_NOT_IN_LIB?"Object.ErrorMessage.MissingDimension":o(t);return i["default"].get(n)},getMeasureError:function e(t){var n;n=t===a.LOCERR_CALC_INVALID_DEF?"Object.ErrorMessage.InvalidMeasure":t===a.LOCERR_CALC_NOT_IN_LIB?"Object.ErrorMessage.MissingMeasure":o(t);return i["default"].get(n)},getHyperCubeError:function e(t){var n=o(t);return i["default"].get(n)},getListObjectError:function e(t){var n=o(t);return i["default"].get(n)}}},X3hd:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);function a(e,t){return u(e)||c(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function u(e){if(Array.isArray(e))return e}t["a"]=function(e,t,n){var i=Object(r["useState"])(e),o=a(i,2),s=o[0],l=o[1];Object(r["useEffect"])((function(){var r=setTimeout((function(){return l((function(t){n&&t===e&&!t&&n();return e}))}),t);return function(){return clearTimeout(r)}}),[e]);return s}},X4PC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=n("MAcB"),a=n("yB4Y"),o=n("S1Uc"),s=n("aPTL"),l=n("KaFi"),c=n("Umg0"),u=n("SD8o"),d=n("CTLX"),f=n("sYbK"),p=n("hmil"),h=n("jwTT"),v=n("ArTy"),m=n("kWMZ"),g=function(){function e(){this.queries=[],this.tableModels=[],this.targetTableModels=[],this.associations={},this.connectionMetaDataModels={},this.locale=i.Calendar.GetDefaultCalendarModel().locale,this.defaultCalendar=i.Calendar.GetDefaultCalendarModel().calendar,this.tempCounter=0,this.TEMP_NAME_PREFIX="9576934875038746211194868"}return e.CreateLoadModel=function(t,n){void 0===n&&(n=!0);var r=new e;return r.overwriteContent(t,n),r},e.findQueryByIdImpl=function(t,n){for(var r=void 0,i=0;i<t.length;i++){if(t[i].id===n){r=t[i];break}if(t[i].sourceQueries){var a=new s.TargetTableModel(t[i]),o=a.getSourceQueries(),l=e.findQueryByIdImpl(o,n);if(l){r=l;break}}}return r},e.prototype.getLocale=function(){return this.locale},e.prototype.wrapInTargetTableModel=function(e){return new s.TargetTableModel(e)},e.prototype.wrapInFieldModel=function(e){return new h.QueryField(e)},e.prototype.setMetadataModelForConnection=function(e,t){this.connectionMetaDataModels[e.name]=u.SharedUtil.extend(!0,{},e,{dbInfo:t})},e.prototype.getTableModelByDatabasePath=function(e,t,n,r,i){for(var a in this.tableModels)if(this.tableModels[a].data.dataconnectorName===e.name&&this.tableModels[a].data.databaseName===t&&this.tableModels[a].data.ownerName===n&&this.tableModels[a].data.tableName===r){if(!i)return this.tableModels[a];if(this.tableModels[a].data.tableAlias===i)return this.tableModels[a]}return},e.prototype.getOrCreateTableModelWithAliasByDatabasePath=function(e,t,n,r,i,a){var o={folder:"load-file",internet:"load-file","qix-datafiles.exe":"load-file","qvdatamarketconnector.exe":"load-sql",odbc:"load-sql",oledb:"load-sql",none:"none"},s=e.typeName?e.typeName:e.type?e.type.type:"none",l=void 0;l=e.type&&e.type.isStorageProvider?"load-file":o[s.toLowerCase()]||"blackbox";var c=this.getTableModelByDatabasePath(e,t,n,r,i);if(c)return c.data.boxType=l,c;var u={dataconnectorName:e.name,dataconnectorPrefix:e.dataconnectorPrefix,boxType:l,databaseName:t,ownerName:n,tableName:r,tableAlias:this.getUniqueTableName(r),loadProperties:a,key:e.name+":"+t+":"+n+":"+r,fields:[],connectionInfo:this.getConnectionMetaDataModel(e.name),state:"new"};return this.createAndAddToCollection(this.tableModels,u)},e.prototype.getOrCreateTableModelByDatabasePath=function(e,t,n,r,i){return this.getOrCreateTableModelWithAliasByDatabasePath(e,t,n,r,void 0,i)},e.prototype.getTablesForConnector=function(e){return this.tableModels.filter((function(t){return t.data.connectionInfo&&e.id===t.data.connectionInfo.id})).map((function(e){return e.data}))},e.prototype.updateTablesForConnector=function(e,t){var n=this;t.forEach((function(t){t.id?n.getTableModelById(t.id).updateFromOutputtedTableModel(t):n.getOrCreateTableModelWithAliasByDatabasePath(e,"","",t.tableName,void 0,void 0).updateFromOutputtedTableModel(t)}))},e.prototype.getDataconnectorSelectionEditor=function(e){var t={getTablesForConnector:this.getTablesForConnector.bind(this,e),updateTablesForConnector:this.updateTablesForConnector.bind(this,e),getTableModelByDatabasePath:this.getTableModelByDatabasePath.bind(this,e),getOrCreateTableModelByDatabasePath:this.getOrCreateTableModelByDatabasePath.bind(this,e),getOrCreateTableModelWithAliasByDatabasePath:this.getOrCreateTableModelWithAliasByDatabasePath.bind(this,e),setMetadataModelForConnection:this.setMetadataModelForConnection.bind(this,e)};return t},e.prototype.generateSourceFieldIds=function(){this.tableModels.forEach((function(e){e.updateId()}))},e.prototype.serialize=function(){return this.generateSourceFieldIds(),this.updateQueries(this.tableModels.map((function(e){return e.data}))),c.LoadModelAssociations.updateAssociations(this),this._rawSerialize()},e.prototype.changeTableFieldAlias=function(e,t,n){var i=this.findTableByKey(e),a=r.find(i.data.fields,(function(e){return e.alias===n}));return!a&&(i.changeFieldAlias(t,n),!0)},e.prototype.qualifyTableField=function(e,t){var n=this.findTableByKey(e);if(n){var r=n.getOriginalFieldNameFromAlias(t);this.isFieldNameInUse(r)&&(r=n.data.tableName+"."+r),r===t&&(r+="_"),n.changeFieldAlias(t,r)}},e.prototype.qualifyTableFields=function(e,t,n,r){var i=this.TEMP_NAME_PREFIX+this.tempCounter++,a=this.TEMP_NAME_PREFIX+this.tempCounter++,o=this.findTableByKey(e),s=this.findTableByKey(n),l=o.getOriginalFieldNameFromAlias(t),c=s.getOriginalFieldNameFromAlias(r);o.changeFieldAlias(t,i),s.changeFieldAlias(r,a),o.isFieldNameInUse(l)?o.changeFieldAlias(i,o.data.tableName+"."+t):o.changeFieldAlias(i,l),s.isFieldNameInUse(c)||c===l?s.changeFieldAlias(a,s.data.tableName+"."+r):s.changeFieldAlias(a,c)},e.prototype.clone=function(){return e.CreateLoadModel(this.serialize())},e.prototype.rawClone=function(){return e.CreateLoadModel(this._rawSerialize())},e.prototype.removeAllFieldsMarkedForDeletion=function(){var e=this;this.targetTableModels.filter((function(e){return e.isMarkedForDeletion()})).forEach((function(t){var n=e.getSourceTableByTableRefId(t.data.tableRef);n.data.fields=[],t.data.fields=[]})),this.removeUnusedConnections()},e.prototype.removeAllTablesMarkedForDeletion=function(){var e=this;this.targetTableModels.filter((function(e){return e.isMarkedForDeletion()})).forEach((function(t){e._removeTargetTable(t.data.name,!1)})),this.removeUnusedConnections()},e.prototype.updateQueriesStatus=function(e){var t=this;this.targetTableModels.filter((function(e){return"Query"===e.data.type&&e.isInSynchWithMaster()})).forEach((function(n){var r=n.data.id,i=t.getSourceTableByQueryId(r),a=e.getSourceTableByQueryId(r);if(i&&a){var o=i.data.loadSelectStatement!==a.data.loadSelectStatement||i.data.selectStatement!==a.data.selectStatement;o&&n.setUpdateStatus()}}))},e.prototype.resetLoadModel=function(){return this.updateProperties(e.CreateLoadModel({}).serialize())},e.prototype.getTargetTable=function(e){var t=r.find(this.queries,(function(t){return t.name===e}));return t},e.prototype.updateTargetTableWithTransformation=function(e,t){var n=this.getTargetTableModelById(e);return(!n.isDirty()||n.isUpdated())&&(t.status=a.DSMTypes.QueryStatus.update),this.removeTargetTableAndModel(n,!0),this.addQueryAndCreateTargetTableModel(t)},e.prototype.replaceTargetTableWithSourceQueries=function(e){var t=this.getTargetTableModelById(e),n=t.getSourceQueries()[0];return(!t.isDirty()||t.isUpdated())&&(n.status=a.DSMTypes.QueryStatus.update),this.removeTargetTableAndModel(t,!0),this.addQueryAndCreateTargetTableModel(n)},e.prototype.renameTargetTable=function(e,t){var n=this.getTargetTableModel(e);n.setUpdateStatus(),n.rename(t)},e.prototype.renameTargetTableField=function(e,t,n){var r=this,i=this.getTargetTableModel(e);i.setUpdateStatus();var o=i.data;(o.type===a.DSMTypes.ConcatenationQuery.name&&!v.Defaults.instance().isTreatConcatAsForcedConcat()||o.type===a.DSMTypes.CrossTableQuery.name)&&o.sourceQueries&&o.sourceQueries.forEach((function(e){r.renameQueryField(e,t,n)})),o.fields&&this.renameQueryField(o,t,n)},e.prototype.hideTargetTableField=function(e,t){var n=this.getTargetTableModel(e);n.addFieldTag(t,a.DSMTypes.tags.hidden),n.setUpdateStatus()},e.prototype.unhideTargetTableField=function(e,t){var n=this.getTargetTableModel(e);n.removeFieldTag(t,a.DSMTypes.tags.hidden),n.setUpdateStatus()},e.prototype.updateScriptTables=function(t,n,r,i){var a=e.CreateLoadModel({}),o=new m.ScriptTableUpdater(a,this,i),s=o.update(t,n,r);return s},e.prototype.unconcatenateTargetTable=function(e,t){var n=this,i=this.getTargetTableModel(e),o=i.data,l=[];t&&t.forEach((function(e){var t=r.findWhere(o.sourceQueries,{id:e});t&&l.push(t)}));var c=l;return 0===c.length&&(c=o.sourceQueries),c&&(c.forEach(function(e){var t=this;e.fields.forEach((function(n){t.renameQueryField(e,n.name,e.name+"."+n.name)}))}.bind(this)),o.fields.forEach((function(e){if(i.wasGeneratedByTransformation(e,a.DSMTypes.QueryTransformField.name,[a.DSMTypes.Transformations.lookupGeoInfo,a.DSMTypes.Transformations.geoPoint])){var t,r=e.transformations[0].appliedTo,o=[];if(r instanceof Array){var l=r;l.forEach((function(e){var n=i.getField(e);n&&(o.push(n),n.transformations&&n.transformations.length>0&&(t=n))}))}else t=i.getField(e.transformations[0].appliedTo),o.push(t);c.forEach((function(r){var i,a=new s.TargetTableModel(r),l=[];if(r.fields.forEach((function(e){o.forEach((function(n){-1!==n.sourceFieldRefs.indexOf(e.id)&&(l.push(e),n===t&&(i=e))}))})),i){var c=JSON.parse(JSON.stringify(e.transformations[0]));l.length>1?c.appliedTo=[l[0].id,l[1].id]:c.appliedTo=l[0].id,a.updateFieldTransformation(n,i.id,c.op,c,"en-US")}}))}e.sourceFieldRefs&&e.sourceFieldRefs.length>0&&e.classifications&&e.classifications.length>0&&c.forEach((function(t){t.fields.forEach((function(t){e.sourceFieldRefs.indexOf(t.id)>=0&&(t.classifications&&0!==t.classifications.length||(t.classifications=e.classifications.map((function(e){return e}))))}))}))}))),i.setUpdateStatus(),c},e.prototype.getTargetTableFieldsByName=function(e){return this.getFieldsByName(e,this.queries)},e.prototype.isTargetTableFieldNameInUse=function(e){return this.getFieldsByName(e,this.queries).length>0},e.prototype.isTargetTableNameInUse=function(e,t){var n=!1;t||(t=[]);var i=this.queries.filter((function(e){return!r.contains(t,e.name)}));return r.each(i,(function(t){n||t.name!==e||(n=!0),!n&&t.sourceQueries&&(n=r.any(t.sourceQueries,(function(t){return t.name===e})))})),n},e.prototype.getSourceFieldsByAlias=function(e){var t=[],n=function(t){return t.alias===e};return this.tableModels.forEach((function(e){var i=r.find(e.data.fields,n);i&&t.push(i)})),t},e.prototype.getTargetTableModelById=function(e){return r.find(this.targetTableModels,(function(t){return t.data.id===e}))},e.prototype.findQueryById=function(t){var n=this.getTargetTableModelById(t);if(n)return n;var r=e.findQueryByIdImpl(this.queries,t);return r?this.wrapInTargetTableModel(r):void 0},e.prototype.resetTargetTablesStatuses=function(){this.targetTableModels.forEach((function(e){e.resetStatus()}))},e.prototype.isDirty=function(){return r.any(this.targetTableModels,(function(e){return e.isDirty()}))},e.prototype.hasAssociations=function(e){for(var t=Object.keys(this.associations),n=0;n<t.length;n++){var i=this.associations[t[n]];if(r.find(i,(function(t){return t.tableId===e})))return!0}return!1},e.prototype.findAssociations=function(e){for(var t=Object.keys(this.associations),n=[],i=0;i<t.length;i++){var a=this.associations[t[i]];r.find(a,(function(t){return t.tableId===e}))&&n.push(new p.Association(a,t[i]))}return n},e.prototype.removeTargetTable=function(e,t){this.removeTargetTableImpl(e,t,!0)},e.prototype.removeTargetTableModel=function(e,t){this.removeTargetTableAndModel(e,t)},e.prototype.addTargetTableModel=function(e){this.queries.push(e.data),this.targetTableModels.push(e)},e.prototype.addAsTargetTableModel=function(e){this.queries.push(e);var t=new s.TargetTableModel(e);return this.targetTableModels.push(t),t},e.prototype.removeAssociation=function(e){delete this.associations[e]},e.prototype.addInlineTableModel=function(e,t,n){var r=this.getUniqueTableName(e),i={databaseName:"inlinedata",dataconnectorName:"inlinedata",tableName:r,tableAlias:r,key:"inlinedata."+r,connectionInfo:{name:"inlinedata",typeName:"inlinedata",type:{provider:"inlinedata",type:"inlinedata"}},loadStatementModel:{type:"inlinedata",data:n},caching:{enabled:!1,type:"qvd"},fields:[],state:"new"},a=new l.InputTableModel(i);return t.forEach((function(e,t){a.addField(e,t,!0)})),this.tableModels.push(a),this.connectionMetaDataModels.inlinedata||(this.connectionMetaDataModels.inlinedata=i.connectionInfo),i},e.prototype.createForcedConcatenationQuery=function(e,t,n){return this.createCompositeQuery(e,t,n,a.DSMTypes.ForcedConcatenationQuery.name)},e.prototype.createJoinedQuery=function(e,t,n,r){var i=this.createCompositeQuery(e,n,r,a.DSMTypes.JoinedQuery.name);return i.data&&t&&(i.data.joinType=t),i},e.prototype.splitQuery=function(e){var t=new f.CompositeQueryOperations;return t.splitCompositeQuery(e,this)},e.prototype.getTargetTableModel=function(e){return r.find(this.targetTableModels,(function(t){return t.data.name===e}))},e.prototype.addTableModel=function(e){this.tableModels.push(l.InputTableModel.create(e))},e.prototype.isFieldNameInUse=function(e){for(var t in this.tableModels)if(this.tableModels[t].isFieldNameInUse(e))return!0;return!1},e.prototype.getSourceTableByTableRefId=function(e){for(var t=0;t<this.tableModels.length;t++){var n=this.tableModels[t];if(n.data.id===e)return n}},e.prototype.removeTargetTableImpl=function(e,t,n){var r=this.getTargetTableModel(e);r.isAdded()?this._removeTargetTable(e,t):(this.removeFields(e),r.setMarkForDeletion()),n&&this.setProperties()},e.prototype.removeFields=function(e){var t,n,i=this,a=r.find(this.queries,(function(t){return t.name===e}));a&&("ConcatenationQuery"===a.type?(t=a.sourceQueries,n=r.pluck(t,"tableRef")):"Query"===a.type&&(t=[a],n=[a.tableRef]),r.each(n,(function(e){var t=i.getSourceTableByTableRefId(e);t&&(t.data.fields=[])})),r.each(t,(function(e){e.fields=[]})))},e.prototype._removeTargetTableImpl=function(e,t){var n=this;if(e){var i=[];e.sourceQueries&&e.sourceQueries.length>0?i=e.sourceQueries:"Query"===e.type&&(i=[e]),t||r.each(i,(function(i){e.sourceQueries&&e.sourceQueries.forEach((function(e){n._removeTargetTableImpl(e,t)}));var a=r.find(n.tableModels,(function(e){return e.data.id===i.tableRef}));if(a){var o=n.tableModels.indexOf(a);n.tableModels.splice(o,1)}}));var a=this.queries.indexOf(e);e=void 0,this.queries.splice(a,1)}},e.prototype._removeTargetTable=function(e,t){var n=r.find(this.queries,(function(t){return t.name===e}));this._removeTargetTableImpl(n,t)},e.prototype.getConnectionMetaDataModel=function(e){return this.connectionMetaDataModels[e]},e.prototype.getTableModelWithName=function(e){for(var t in this.tableModels){var n=this.tableModels[t];if(n.getTableAlias()===e)return n}return},e.prototype.getSourceTableByQueryId=function(e){for(var t=this.getQueryByQueryId(e),n=0;n<this.tableModels.length;n++){var r=this.tableModels[n];if(t&&r.data.id===t.tableRef)return r}},e.prototype.setProperties=function(){return this.updateProperties(this.serialize())},e.prototype.updateProperties=function(e){throw o.QueryGenerator.checkIntegrity(e.tables,e.queries),"Unsupported"},e.prototype.removeTargetTableAndModel=function(e,t){this._removeTargetTable(e.getName(),t);var n=this.targetTableModels.indexOf(e);this.targetTableModels.splice(n,1)},e.prototype.addQueryAndCreateTargetTableModel=function(e){this.queries.push(e);var t=this.createTargetTableModel(e);return this.targetTableModels.push(t),t},e.prototype.getQueryByQueryId=function(e){return r.find(this.queries,(function(t){return t.id===e}))},e.prototype.getTableModelById=function(e){return r.find(this.tableModels,(function(t){return t.data.id===e}))},e.prototype.getSourceFieldById=function(e){var t=[];return this.tableModels.forEach((function(e){t=t.concat(e.data.fields)})),r.find(t,(function(t){return t.id===e}))},e.prototype.renameQueryField=function(e,t,n){var i=r.find(e.fields,(function(e){return e.name===t}));if(i){i.name=n;var a=this.getSourceFieldById(i.fieldRef);a&&(a.alias=n)}},e.prototype.getFieldsBy=function(e,t){e||(e=this.queries);var n=[];return e.forEach((function(e){var i;e.sourceQueries&&(i=[],e.sourceQueries.forEach((function(a){i=r.find(a.fields,t),i&&n.push({table:e,field:i})}))),i=r.find(e.fields,t),i&&n.push({table:e,field:i})})),n},e.prototype.getFieldsByName=function(e,t){return this.getFieldsBy(t,(function(t){return t.name===e}))},e.prototype.createTargetTableModel=function(e){return s.TargetTableModel.CreateTargetTableModel(e)},e.prototype.createAndAddToCollection=function(e,t){var n=l.InputTableModel.create(t);return e.push(n),n},e.prototype.hasTableWithConnection=function(e){for(var t in this.tableModels)if(this.tableModels[t].data.dataconnectorName===e)return!0;return!1},e.prototype.removeUnusedConnections=function(){for(var e in this.connectionMetaDataModels)this.connectionMetaDataModels.hasOwnProperty(e)&&(this.hasTableWithConnection(e)||delete this.connectionMetaDataModels[e])},e.prototype.overwriteContent=function(e,t){var n=this;this.connectionMetaDataModels=e.connectionMetaDataModels||{},this.tableModels.splice(0,this.tableModels.length),e.tables&&e.tables.forEach((function(e){e.connectionInfo||(e.connectionInfo=n.getConnectionMetaDataModel(e.dataconnectorName)),n.addTableModel(e)})),e.queries?(this.queries.splice(0,this.queries.length),this.targetTableModels.splice(0,this.targetTableModels.length),e.queries.forEach((function(e){n.queries.push(e),n.targetTableModels.push(s.TargetTableModel.CreateTargetTableModel(e))}))):this.updateQueries(e.tables),this.associations=e.associations||{},t&&c.LoadModelAssociations.updateAssociations(this),this.version++},e.prototype.createCompositeQuery=function(e,t,n,r){var i=s.TargetTableModel.CreateTargetTableModel({type:r,name:e,id:d.LoadModelIds.generateUUID()}),a=new f.CompositeQueryOperations;return a.populateCompositeQuery(i,this,e,t,n),this.addTargetTableModel(i),i},e.prototype.updateQueries=function(e){var t=this;if(r.isEmpty(this.queries))this.queries.splice(0,this.queries.length),this.targetTableModels.splice(0,this.targetTableModels.length),o.QueryGenerator.generate(e||[],this).forEach((function(e){t.queries.push(e),t.targetTableModels.push(s.TargetTableModel.CreateTargetTableModel(e))}));else{var n=[];o.QueryGenerator.updateQueries(e,this.queries,this,n),this.targetTableModels.splice(0,this.targetTableModels.length),this.queries.forEach((function(e){t.targetTableModels.push(s.TargetTableModel.CreateTargetTableModel(e))})),n.forEach((function(e){t.removeTargetTableImpl(e.name,!1,!1)}))}return this.queries},e.prototype.getUniqueTableName=function(e){for(var t=0,n=e,r=e;this.getTableModelWithName(n);)n=r+"-"+ ++t;return n},e.prototype.findTableByKey=function(e){for(var t in this.tableModels)if(this.tableModels[t].data.key===e)return this.tableModels[t];return},e.prototype._rawSerialize=function(){var t={connectionMetaDataModels:{},tables:this.tableModels.map((function(e){e.isNothingSelected()&&(e.data.fields=[]);var t=e.serialize();return t})),queries:[],associations:{},locale:void 0,defaultCalendar:void 0,schemaVersion:e.SCHEMA_VERSION};for(var n in this.connectionMetaDataModels)this.connectionMetaDataModels.hasOwnProperty(n)&&(t.connectionMetaDataModels[n]=u.SharedUtil.extend(!0,{},this.connectionMetaDataModels[n]));return t.queries=[],r.each(this.queries,(function(e){t.queries.push(o.QueryGenerator.cloneQuery(e))})),t.associations=c.LoadModelAssociations.serializeAssociations(this),t.locale=u.SharedUtil.extend(!0,{},this.locale),t.defaultCalendar=u.SharedUtil.extend(!0,{},this.defaultCalendar),t},e}();g.SCHEMA_VERSION=2.1,t.LoadModel=g},X8RK:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");var a=n("4nJ1");function o(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var s={};s.get=function(e,t){return o(t).then((function(t){return t.getMeasure(e)}))};s.create=function(e,t){return o(t).then((function(t){e.qInfo.qId=e.qInfo.qId||a["a"].generateId();return t.createMeasure(e)}))};s.remove=function(e,t){return o(t).then((function(t){return t.destroyMeasure(e)}))};s.getList=function(e){return o(e).then((function(e){return e.getMeasureListObject()}))};s.getListLayout=function(e){return s.getList(e).then((function(e){return e.getLayout()}))};t["a"]=s},XJsW:function(e,t,n){"use strict";var r=n("SOxp");var i=r["a"].extend({init:function e(){},tap:{},taptwo:{},tapthree:{},swipe:{},swipetwo:{},rotate:{},mousemove:{},mouseleave:{},mousewheel:{},wheelswipe:{},exclusive:function e(){return false},active:function e(){return true}});t["a"]={extend:function e(){if(2===arguments.length)return i.extend.call(r["a"],arguments[0],arguments[1]);return new(i.extend(arguments[0]))}}},XP0P:function(e,t,n){"use strict";var r=n("avVS");var i=n("MoEg");var a;function o(e,t){var n;var r={};for(n in e)"qSubNodes"!==n&&e.hasOwnProperty(n)&&(r[n]=e[n]);t.push(r);return r}function s(e,t,n){var r;var i;var l;var c=[];var u=[];var d=0;var f=0;if(n.length){d=n[0].qUp||0;f=n[n.length-1].qDown||0}for(r=0;r<n.length;++r){i=n[r];i.qSubNodes.length>0&&(u=s(e,t,i.qSubNodes));l=null;if(0===i.qSubNodes.length&&a>=e&&a<=e+t||u.length>0){l=o(i,c);void 0!==l.qUp&&1===c.length&&(l.qUp=d+r);l.qSubNodes=u}0===i.qSubNodes.length&&a++;if(a===e+t){l&&void 0!==l.qDown&&(l.qDown=f+(n.length-1-r));break}}return c}function l(e,t,n){a=0;return s(e,t,n)}var c=new i["a"](0,0,0,0);var u=new i["a"](0,0,0,0);var d=r["a"].extend("PivotCubeSlicer",{init:function e(){this._super();this.requestedAreas=[]},getPage:function e(t){var n;var r;var a=[];var o;for(r=0;r<this.pages.length;r++){n=this.pages[r].qArea;c.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);u.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);o=u.intersection(c,true);a.push({coverage:o?o.clone():new i["a"](0,0,0,0),idx:r});if(n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight)return this._extract(t,this.pages[r])}a.sort((function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height}));if(a[0].coverage.height>0&&a[0].coverage.width>0)return this._extract(t,this.pages[a[0].idx]);return{qLeft:[],qTop:[],qData:[],qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0}}},_extract:function e(t,n){c.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);u.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var r=c.intersection(u,true);if(!r)return{qLeft:[],qTop:[],qData:[],qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0}};var i=Math.max(0,t.qTop-n.qArea.qTop);var a=Math.max(0,t.qLeft-n.qArea.qLeft);var o=n.qData.slice(i,i+r.height).map((function(e){return e.slice(a,a+r.width)}));var s=l(i,r.height,n.qLeft);var d=l(a,r.width,n.qTop);return{qLeft:s,qTop:d,qData:o,qArea:{qTop:r.y,qLeft:r.x,qWidth:r.width,qHeight:r.height}}}});t["a"]=d},XVJK:function(e,t,n){"use strict";var r=n("UV1h");var i={};i.get=function(){return r["a"]};i.getTheme=function e(){return r["a"].getCurrentTheme()};i.setTheme=function e(t){return r["a"].applyTheme(t)};i.getThemePalettes=function e(){return r["a"].themePalettes};t["a"]=i},Xaof:function(e,t,n){"use strict";var r=n("R2Yu");var i=n("mWu2");i["default"].componentDirective("gsdIncludeAddonContent",{onRefresh:"&",databaseName:"=",ownerName:"=",tableName:"="});i["default"].directive("gsdHighlightTerm",[function(){return{scope:{gsdHighlightTerm:"=",gsdHighlightContent:"="},link:function e(t,n){function i(){if(t.gsdHighlightContent){var e=t.gsdHighlightContent;var i=t.gsdHighlightTerm;n.text(t.gsdHighlightContent);if(i){i.indexOf(":")>0&&(i=i.substring(i.indexOf(":")+1));var a=e.toLowerCase().indexOf(i.toLowerCase());var o=a+i.length;if(a>=0){var s="<span>".concat(r["a"].encodeForHTML(e.substring(0,a)),"</span><span class='gsd__searchhighlight'>").concat(r["a"].encodeForHTML(e.substring(a,o)),"</span><span>").concat(r["a"].encodeForHTML(e.substring(o)),"</span>");n.html(s)}}}}t.$watch("gsdHighlightTerm",i);t.$watch("gsdHighlightContent",i)}}}])},Xb14:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("mWu2");var o=n("+GbC");var s=n("qIEf");var l=n.n(s);var c=n("Z9ZH");var u=n.n(c);var d=Math.floor;function f(e){var t={left:"right",right:"left",top:"bottom",bottom:"top"};return t[e]}function p(e,t,n,r){var i=f(n);var a={left:{width:0,height:.5},right:{width:1,height:.5},top:{width:.5,height:0},bottom:{width:.5,height:1}};var o=a[i];var s=0;var l=0;var c=0;var u=0;var d=t[0].getBoundingClientRect();var p=r.outerWidth();if("left"===i||"right"===i){c=parseInt(t.offset().top+d.height*(1-o.height)-e.offset().top-p*(1-o.height),10);"left"===i?l="auto":s="auto";u="auto"}else{s=parseInt(t.offset().left+d.width*(1-o.width)-e.offset().left-p*(1-o.width),10);"bottom"===i?c="auto":u="auto";l="auto"}r.css({left:s,right:l,top:c,bottom:u})}function h(e,t,n,r,i){var a=f(r);var o={left:{width:0,height:.5,size:-1},right:{width:1,height:.5,size:1},top:{width:.5,height:0,size:-1},bottom:{width:.5,height:1,size:1}};var s=o[a];var l;var c;var u=e[0].getBoundingClientRect();var p=i[0].getBoundingClientRect();if("left"===a||"right"===a){l=s.width*(u.width-p.width)+p.width*s.size-parseInt(e.css("padding-left"),10);c=n-e.offset().top-p.width*(1-s.height)}else{l=t-e.offset().left-p.width*(1-s.width);c=s.height*(u.height-p.height)+p.height*s.size}i.css({left:d(l),top:d(c)})}function v(e,t,n){var r=f(t);var i={left:{width:0,height:.5},right:{width:1,height:.5},top:{width:.5,height:0},bottom:{width:.5,height:1}};var a=i[r];var o;var s;var l=e.outerWidth();var c=e.outerHeight();var u=n.outerWidth();var d=n.outerHeight();if("left"===r||"right"===r){o=a.width*(l-u);s=n.offset().top-d*(1-a.height)}else{o=l*(1-a.width)-u*(1-a.width);s=a.height*(c-d)+d}n.css({left:o,top:s})}var m={align:p,alignToParent:v,alignToCoordinate:h};var g=n("5m/B");var b=n("wIyQ");var y='<div>\n\t<div ng-if="template" ng-include src="template"></div>\n\n\t<div ng-if="!template" qva-direction x-dir-setting="{{options.direction}}" class="qv-tooltip qvt-chart-tooltip" qva-press="hideTooltip($event)" tid="qv-chart-tooltip" ng-class="{\'above\':alwaysOnTop}" ng-style="styling">\n\t\t<div class="chart-tooltip-arrow"></div>\n\t\t<div class="qv-chart-tooltip-inner">\n\t\t\t<div ng-repeat="item in content" class="qv-chart-tooltip-item">\n\t\t\t\t<div class="qv-chart-tooltip-content">\n\t\t\t\t\t<div qva-direction x-dir-text="{{item.title}}" x-dir-setting="{{options.direction}}" class=\'qv-tp-title\' ng-if="item.title !== undefined">\n\t\t\t\t\t\t<strong>{{item.title}}</strong>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div qva-direction x-dir-text="{{item.description}}" x-dir-setting="{{options.direction}}" class=\'qv-tp-description\' ng-if="item.description !== undefined">\n\t\t\t\t\t\t<span class=\'qv-tp-description-row\'>{{item.description}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div qva-direction x-dir-text="{{item.header}}" x-dir-setting="{{options.direction}}" class=\'qv-tp-header\' ng-if="item.header !== undefined">\n\t\t\t\t\t\t<strong>{{item.header}}</strong>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr ng-repeat="row in item.rows" class="qv-tp-row">\n\t\t\t\t\t\t\t<td class=\'qv-tp-item\' ng-if="row.hasOwnProperty(\'label\')">\n\t\t\t\t\t\t\t\t<span qva-direction x-dir-text="{{row.label}}" class="qv-tp-rowPart" ng-class="{\'qv-tp-single\' : (content.length + item.rows.length) <= 3}">{{row.label}}</span>\n\t\t\t\t\t\t\t\t<span>:&nbsp;</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td ng-if="!row.template" class=\'qv-tp-value\'>\n\t\t\t\t\t\t\t\t<div class="qv-tp-rowPart" dir="ltr">{{row.value}}</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td ng-if="row.template" class=\'qv-tp-template qv-tp-value\' ng-bind-html="row.template" ng-attr-colspan="{{row.hasOwnProperty(\'label\') && 1 || 2 }}">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<div ng-repeat="image in item.images">\n\t\t\t\t\t\t<div class="qv-tp-image-container">\n\t\t\t\t\t\t\t<div class="qv-tp-image-content {{image.size}}" ng-style="{\'width\': image.width,\'height\': image.height, \'background-image\': image.size !== \'original\' && !image.imageError ? \'url(\\\'\' + image.src + \'\\\')\' : undefined }">\n\t\t\t\t\t\t\t\t<span class="qv-tp-image-align" ng-if="image.size===\'original\' || image.imageError"></span>\n\t\t\t\t\t\t\t\t<img class="qv-tp-image" referrerpolicy="no-referrer" ng-if="image.size===\'original\' || image.imageError" ng-style="{\'max-width\': image.width,\'max-height\': image.height}" src="{{image.src}}"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-chart-tooltip-excess" ng-if="numberInExcess > 0" q-translation="Object.ChartTooltip.NMore,{{numberInExcess}}">More</div>\n\t</div>\n</div>';var w=5;var S=5;var x=25;a["default"].directive("qvaChartTooltip",[function(){return{template:y,replace:true,scope:{content:"=",position:"=",visible:"=",direction:"=",template:"=",numberInExcess:"=",target:"=",hideCallback:"=",alwaysOnTop:"=",options:"=",styling:"="},link:function e(t,n){var r;var i=false;var o=function e(t){var r=t?"block":"none";n.css("display",r)};t.synchronAlign=function(){var e=n.find(".qv-tooltip");var r=n.find(".chart-tooltip-arrow");o(t.visible);var a=t.direction instanceof Array?t.direction:[t.direction];var s=g["a"].alignToBestCoordinate(e,t.position,a,t.target,false,w,S);var c=e.offset();var u=g["a"].getScrolledRect(l()(window));switch(s.position){case"right":c.left+=9;s.y=u.y+Math.min(u.height-x,Math.max(x,s.y-u.y));break;case"left":c.left-=9;s.y=u.y+Math.min(u.height-x,Math.max(x,s.y-u.y));break;case"bottom":c.top+=9;s.x=u.x+Math.min(u.width-x,Math.max(x,s.x-u.x));break;default:c.top-=9;s.x=u.x+Math.min(u.width+u.x-x,Math.max(x,s.x-u.x));break}e.offset(c);if(r.length){r.removeClass().addClass("chart-tooltip-arrow").addClass(s.position);m.alignToCoordinate(e,s.x,s.y,s.position,r)}i=false};t.align=function(){r=a["default"].getService("$timeout")(t.synchronAlign)};t.$watch("position",(function(e){if(e&&(e instanceof Array||e.x&&e.y)){i=true;t.align()}}));t.$watch("visible",(function(e){i||o(e)}));t.$watch("content",(function(e){e||(t.visible=false)}));t.hideTooltip=function(e){t.visible=false;t.hideCallback&&t.hideCallback();if(e&&e.stopPropagation){e.stopPropagation();e.preventDefault();u.a.preventGestures()}};t.$on("$destroy",(function(){a["default"].getService("$timeout").cancel(r);b["a"].off("end",t.hideTooltip)}));b["a"].on("end",t.hideTooltip)}}}]);var C={transclude:true,template:'<div qva-chart-tooltip position="position" content="content" direction="direction" visible="visible" template="template" number-in-excess="numberInExcess" target="target" hide-callback="hideCallback" always-on-top="alwaysOnTop" options="options" styling="styling"></div>',controller:["$scope",function(e){e.visible=false;this.hide=function(){e.visible=false};this.show=function(t){e.content=t.content;e.position=t.position;e.direction=t.direction;e.template=t.template;e.numberInExcess=t.numberInExcess;e.alwaysOnTop=t.alwaysOnTop;e.visible=true;e.hideCallback=t.hideCallback;e.target=t.target;e.options={direction:t.dir};e.styling=t.styling}}]};var q=C;var E;var I;var k;var A;var T=false;function D(){var e=a["default"].getService("$timeout");e.cancel(A);A=null;e.cancel(k);k=null}var O={open:function e(t,n,r){T&&E&&E.hide();D();if(!E){var o=a["default"].getService("$document");var s=o.find("body");I=i.a.element('<div id="qs-chart-tooltip">').appendTo(s);var l=t.position;t.position=void 0;E=I.showComponent(q,t);t.position=l}I.attr("dir",t.dir);var c=a["default"].getService("$timeout");k=c((function(){n&&(A=c((function(){O.close()}),n));T=true;E.show(t)}),r)},close:function e(){this.Closed.emit();if(E){var t=a["default"].getService("$timeout");t((function(){E&&E.hide()}))}D()},destroy:function e(){T&&E&&E.hide();I&&I.remove();I=null;E=null}};o["a"].create(O,"Closed");var L=t["a"]=O},XqCR:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"a",(function(){return r}));var r={qInfo:{qId:"CurrentSelection",qType:"CurrentSelection"},qSelectionObjectDef:{}};var i={types:["Doc"],extend:{getCurrentSelectionObject:function e(){return this.getOrCreateSessionObject(r)}}}},Xxft:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");function a(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var o={};o.create=function(e,t){return a(t).then((function(t){return t.createMasterObject(e)}))};o.remove=function(e,t){return a(t).then((function(t){return t.destroyObject(e)}))};o.get=function(e,t){return a(t).then((function(t){return t.getObject(e)}))};o.getList=function(e){return a(e).then((function(e){return e.getMasterObjectListObject()}))};t["a"]=o},Xyu7:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("lPl/");t["a"]=function(e){return i.a.createElement(a["a"],Object.assign({d:"M8,9 L12.5,4.5 L14,6 L9.5,10.5 L8,12 L2,6 L3.5,4.5 L8,9 Z"},e))}},Y8Ox:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"a",(function(){return r}));var r={qInfo:{qId:"BookmarkList",qType:"BookmarkList"},qBookmarkListDef:{qType:"bookmark",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",sheetId:"/sheetId",selectionFields:"/selectionFields",creationDate:"/creationDate"}}};var i={types:"Doc",extend:{getBookmarkList:function e(){return this.getListData(r)},getBookmarkListObject:function e(){return this.getListObject(r)}}}},Y9P5:function(e,t,n){"use strict";var r=n("z4LI");var i=n("gh04");var a=n("pnby");var o=n("NFAh");var s=n("+GbC");var l=n("vhuL");var c=n("4nJ1");var u=n("acVu");function d(e,t){return m(e)||v(e,t)||p(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function m(e){if(Array.isArray(e))return e}function g(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){g(a,r,i,o,s,"next",e)}function s(e){g(a,r,i,o,s,"throw",e)}o(void 0)}))}}var y=false;var w;function S(e,t){var n=e.filter((function(e){if("sheet"===e.qInfo.qType&&e.qData.showCondition&&r["a"].state!==r["a"].States.edit&&!(e.qInfo.qId===t.qInfo.qId))return c["a"].evaluateCondition(e.qData.showCondition);return true}));return n}function x(e,t){var n=e.filter(o["a"].filterApproved(w)).sort(o["a"].sortByRank);var r=e.filter(o["a"].filterMyPublishedCommunity(t,w)).sort(o["a"].sortPublishedTime);var i=e.filter(o["a"].filterPrivate).sort(o["a"].sortByRank);var a=e.filter(o["a"].filterCommunity(t,w)).sort(o["a"].sortCommunity(1));return[].concat(n,r,i,a)}function C(){return q.apply(this,arguments)}function q(){q=b(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return Object(l["a"])();case 2:t=i.sent;n=t.userId;r=t.userDirectory;if(!("NONE"===r)){i.next=7;break}return i.abrupt("return",{userId:void 0,userDirectory:void 0});case 7:return i.abrupt("return",{userId:n,userDirectory:r});case 8:case"end":return i.stop()}}),e)})));return q.apply(this,arguments)}var E={getAllStories:function e(){return b(regeneratorRuntime.mark((function e(){var t,n,r,i,s,l,c,u;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return a["a"].getList();case 2:t=d.sent;d.next=5;return t.getLayout();case 5:n=d.sent;d.next=8;return C();case 8:r=d.sent;i=n.filter(o["a"].filterApproved(w)).sort(o["a"].sortByRank);s=n.filter(o["a"].filterMyPublishedCommunity(r,w)).sort(o["a"].sortPublishedTime);l=n.filter(o["a"].filterPrivate).sort(o["a"].sortByRank);c=n.filter(o["a"].filterCommunity(r,w)).sort(o["a"].sortCommunity(1));u=[].concat(i,s,l,c);return d.abrupt("return",{mashed:u,approvedStories:i,publishedStories:s,privateStories:l,communityStories:c});case 15:case"end":return d.stop()}}),e)})))()},update:function e(){return b(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return E.getAllStories();case 2:t=n.sent;E.UNSAFE_all=t;E.StoriesChanged.emit(t);return n.abrupt("return",t);case 6:case"end":return n.stop()}}),e)})))()},UNSAFE_all:{mashed:[],approvedStories:[],publishedStories:[],privateStories:[],communityStories:[]},current:{},currentIndex:function e(t){for(var n=0;n<t.length;n++)if(E.current.id===t[n].qInfo.qId)return n;return 0},hasPrevious:function e(t){return E.currentIndex(t)>0},hasNext:function e(t){return E.currentIndex(t)<t.length-1},getPrevious:function e(t){if(E.hasPrevious(t))return t[E.currentIndex(t)-1];return null},getNext:function e(t){if(E.hasNext(t))return t[E.currentIndex(t)+1];return null},getById:function e(t,n){for(var r=0;r<t.length;r++)if(t[r].qInfo.qId===n)return t[r];return null}};s["a"].mixin(E);E.notification("StoriesChanged");var I={getAllSheets:function e(){return b(regeneratorRuntime.mark((function e(){var t,n,r,a,o,s,l,d,f,p;return regeneratorRuntime.wrap((function e(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return i["a"].getList();case 2:t=h.sent;h.next=5;return t.getLayout();case 5:n=h.sent;h.next=8;return C();case 8:r=h.sent;a=x(n,r);o=a;s=a[0];l=a[1];d=a[2];f=a[3];if(Object(u["b"])("SHEET_SHOW_CONDITION")){p=n.filter((function(e){return c["a"].evaluateCondition(e.qData.showCondition)}));o=x(p,r)}return h.abrupt("return",{mashedVisible:o,mashed:a,approvedSheets:s,publishedSheets:l,privateSheets:d,communitySheets:f});case 17:case"end":return h.stop()}}),e)})))()},update:function e(){return b(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return I.getAllSheets();case 2:t=n.sent;I.UNSAFE_all=t;I.SheetsChanged.emit(t);return n.abrupt("return",t);case 6:case"end":return n.stop()}}),e)})))()},UNSAFE_all:{mashedVisible:[],mashed:[],approvedSheets:[],publishedSheets:[],privateSheets:[],communitySheets:[]},current:{},currentIndex:function e(t){for(var n=0;n<t.length;n++)if(I.current.id===t[n].qInfo.qId)return n;return 0},hasPrevious:function e(t){return I.currentIndex(t)>0},hasNext:function e(t){return I.currentIndex(t)<t.length-1},getPrevious:function e(t){if(I.hasPrevious(t))return t[I.currentIndex(t)-1];return null},getNext:function e(t){if(I.hasNext(t))return t[I.currentIndex(t)+1];return null},getById:function e(t,n){for(var r=0;r<t.length;r++)if(t[r].qInfo.qId===n)return t[r];return null}};s["a"].mixin(I);I.notification("SheetsChanged");function k(e){return A.apply(this,arguments)}function A(){A=b(regeneratorRuntime.mark((function e(t){var n,s,l,c,f;return regeneratorRuntime.wrap((function e(p){while(1)switch(p.prev=p.next){case 0:r["a"].SheetChanged.bind((function(e){I.current=e}));r["a"].StoryChanged.bind((function(e){E.current=e}));p.next=4;return o["a"].hasShareMode(t);case 4:n=p.sent;w=n;p.next=8;return Promise.all([I.update(),E.update()]);case 8:p.next=10;return Promise.all([i["a"].getList(),a["a"].getList()]);case 10:s=p.sent;l=d(s,2);c=l[0];f=l[1];c.Invalidated.bind(I.update);f.Invalidated.bind(E.update);Object(u["b"])("SHEET_SHOW_CONDITION")&&r["a"].StateChanged.bind(I.update);y=true;case 18:case"end":return p.stop()}}),e)})));return A.apply(this,arguments)}t["a"]={isInitialized:function e(){return y},init:k,Sheets:I,Stories:E,filterSheets:S}},YUg5:function(e,t,n){"use strict";var r=n("CS0J");var i=n("VFzL");var a=n("27fy");var o=n("0RAe");var s={};var l;function c(e){return i["a"].sha256(l+e)}function u(e,t,n){if(!l)throw new Error("Application ID is undefined.");var r=c(e);s[r]={height:t,width:n}}function d(){var e=a["a"].getDataModel();for(var t in e){var n=o["a"].getTableElement(t);var i=n.height();var l=n.width();u(t,i,l)}r["a"].setTableSizeData(s)}function f(){s=r["a"].getTableSizeData()}function p(e){l=e;r["a"].hasTableSizeData()&&f()}function h(e){var t=c(e);var n=s[t];return n}function v(){return r["a"].hasTableSizeData()}t["a"]={setAppID:p,save:d,getWidthAndHeightForTable:h,hasLocalStorageData:v}},YZeP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},YevI:function(e,t,n){"use strict";n.r(t);var r=n("mXGw");var i=n.n(r);var a=n("xARA");var o=n.n(a);var s=n("mWu2");var l=n("6uJb");var c=n("9Ggg");var u=n("+GbC");var d=function e(t){this.pattern=t.pattern;this.isPartial="undefined"===typeof t.isPartial||t.isPartial;u["a"].create(this,"Route");u["a"].create(this,"DeRoute")};var f=d;var p=n("W0B4");var h=n.n(p);var v=n("tE54");var m=n("p8SL");var g=n("R82R");var b=n("9TP3");var y=n("n+X2");var w=n("v/w5");var S=n("qIEf");var x=n.n(S);var C=n("/2No");var q=n("MGTR");var E='<div class="add-data" ng-if="!$ctrl.firstOpen"\n\tng-class="{\'add-data-panel-open\': $ctrl.isOpen, \'add-data-ready\': $ctrl.initialized}">\n\n\t<div ng-if="!$ctrl.initialized" class="add-data-loading-screen">\n\t\t<qv-spinner class="spinner" show="true" show-delay="300" show-for-at-least="500" spinner-height="200px"\n\t\t\tspinner-width="200px" center-in-parent="true"></qv-spinner>\n\t\t<div class="loading-text" q-translation="quickdataload.initializeWizard"></div>\n\t</div>\n\n\t<div class="add-data-header">\n\n\t\t<div class="add-data-header-left">\n\t\t\t<div class="add-data-header-title" ng-bind="$ctrl.titleString"></div>\n\t\t</div>\n\n\t\t<button tid="add-data-cancel-button" class="add-data-close-button lui-fade-button"\n\t\t\tng-click="$ctrl.cancelAddData()" q-title-translation="Common.Cancel">\n\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--close"></span>\n\t\t</button>\n\t</div>\n\n\t<div class="add-data-body">\n\n\t\t<div class="add-data-body-left-side">\n\t\t\t<add-data-navigation-list ng-class="{\'collapsed\': !$ctrl.leftPanelOpen}"\n\t\t\t\tshow-space-selector="$ctrl.showSpaceSelector"\n\t\t\t\tspaces="$ctrl.addDataStateService.spacesModel.spaces"\n\t\t\t\tspace="$ctrl.addDataStateService.spacesModel.selectedSpace"\n\t\t\t\tspace-changed-callback="$ctrl.updateSpace"\n\t\t\t\tis-personal-mode="$ctrl.isPersonalMode" is-expanded="$ctrl.leftPanelOpen"\n\t\t\t\tconnections="$ctrl.existingConnections" storage-providers="$ctrl.existingStorageProviderConnections"\n\t\t\t\tattached-files-enabled="$ctrl.attachedFilesConnection.enabled" current-state="$ctrl.currentState"\n\t\t\t\tnetwork-files-enabled="$ctrl.networkFilesEnabled" delete-connection="$ctrl.deleteConnection">\n\t\t\t</add-data-navigation-list>\n\t\t</div>\n\n\t\t<div class="add-data-body-right-side">\n\n\t\t\t<add-data-title-bar ng-if="$ctrl.titleModel"\n\t\t\t\tshow-filter-tab="$ctrl.isReady() && $ctrl.shouldShowFilters"\n\t\t\t\tthe-title="$ctrl.titleModel.title" type="$ctrl.titleModel.type" icon="$ctrl.titleModel.icon"\n\t\t\t\timagepath="$ctrl.titleModel.imagepath" can-go-back="$ctrl.titleModel.canGoBack"\n\t\t\t\tmenu-actions="$ctrl.titleModel.menuActions"></add-data-title-bar>\n\n\t\t\t<div class="add-data-body-right-side-content"\n\t\t\t\tng-class="{\'nomargin\': $ctrl.activeView === \'newconnection\' || $ctrl.activeView === \'catalog\' }">\n\t\t\t\t<add-data-new-connection ng-if="$ctrl.activeView === \'newconnection\'" connectors="$ctrl.connectors"\n\t\t\t\t\tis-small="$ctrl.isContentSmall" attached-files-enabled="$ctrl.attachedFilesConnection.enabled" x-data-files-enabled="$ctrl.isElastic">\n\t\t\t\t</add-data-new-connection>\n\t\t\t\t<add-data-attach-files class="add-data-attach-files" ng-if="$ctrl.activeView === \'attachedfiles\'"\n\t\t\t\t\tattached-file-connection="$ctrl.attachedFilesConnection" file-to-upload="$ctrl.fileToUpload"\n\t\t\t\t\tshow-file-picker="$ctrl.showFilePicker"></add-data-attach-files>\n\t\t\t\t<add-data-manual class="add-data-manual" ng-if="$ctrl.activeView === \'manualdata\'"\n\t\t\t\t\tconnector-input="$ctrl.currentConnectorInput"></add-data-manual>\n\t\t\t\t<add-data-file-source ng-if="$ctrl.activeView === \'fileconnection\'"\n\t\t\t\t\tfile-connection-model="$ctrl.fileConnectionModel" space="$ctrl.addDataStateService.spacesModel.selectedSpace" show-file-picker="$ctrl.showFilePicker" file-to-upload="$ctrl.fileToUpload"></add-data-file-source>\n\t\t\t\t<add-data-datamarket ng-if="$ctrl.activeView === \'datamarket\'"\n\t\t\t\t\tstart-location="$ctrl.dataMarketStartLocation"></add-data-datamarket>\n\t\t\t\t<add-data-storage-provider ng-if="$ctrl.activeView === \'storageprovider\'"\n\t\t\t\t\tfile-connection="$ctrl.currentConnector" connector-input="$ctrl.currentConnectorInput">\n\t\t\t\t</add-data-storage-provider>\n\t\t\t\t<add-data-selection ng-if="$ctrl.activeView === \'selection\'" connector="$ctrl.currentConnector"\n\t\t\t\t\tconnector-input="$ctrl.currentConnectorInput"></add-data-selection>\n\t\t\t\t<dm-filter-pane is-ready="$ctrl.isReady()" database-name="$ctrl.titleModel.type"\n\t\t\t\t\tng-if="$ctrl.shouldShowFilters && $ctrl.isReady() && $ctrl.filterManagementService.isFilterPageVisible">\n\t\t\t\t</dm-filter-pane>\n\t\t\t\t<div class="add-data-body-react" id="qs-add-data-portal" ng-show="$ctrl.showReact($ctrl.activeView)">\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n\n\t<div class="add-data-bottom">\n\t\t\n\t\t<button class="panel-toggle lui-fade-button" tid="add-data-toggle-panel-button"\n\t\t\tng-class="{ \'lui-active\': $ctrl.leftPanelOpen }" ng-attr-title="{{$ctrl.leftPanelToggleTooltip}}"\n\t\t\tng-click="$ctrl.toggleLeftPanel()">\n\t\t\t<span class="lui-icon lui-icon--toggle-left"></span>\t\n\t\t\t<span class="panel-toggle__label" q-translation="{{$ctrl.leftPanelOpen ? \'DataManager.HidePanel\' : \'DataManager.ShowPanel\'}}"></span>\t\t\n\t\t</button>\n\t\t\n\t\t<div>\n\t\t\t<span ng-if="$ctrl.footerText" class="panel-footer-text">{{$ctrl.footerText}}</span>\n\n\t\t\t\x3c!--<lui-button class="cancel-button" ng-click="$ctrl.cancelAddData()">Cancel</lui-button>--\x3e\n\t\t\t<add-data-prepare-load-button ng-show="$ctrl.activeView !== \'catalog\'"\n\t\t\t\tconnector-context="$ctrl.currentConnectorInput.qvDialogContext" is-disabled="($ctrl.activeView !== \'selection\' || !$ctrl.currentConnectorInput)\n\t\t\t\t\t\t\t\t\t\t  \t\t\t   && $ctrl.activeView !== \'manualdata\'">\n\t\t\t</add-data-prepare-load-button>\n\n\t\t\t<add-data-catalog-next-button ng-show="$ctrl.activeView === \'catalog\'"></add-data-catalog-next-button>\n\n\t\t</div>\n\t</div>\n\n</div>';var I=n("sWge");var k=n("B52N");var A=n("CIJ1");var T=n("wvr8");var D=n("z4LI");var O=n("wIyQ");var L=n("6kXV");var M=n("Hb6E");var P=n("PX8M");var N=n("kh9L");var R=n("dhFh");var F=n("NFdj");var _=n.n(F);var j=n("endN");var B=n("McVw");var V=n("a15v");var H='<lui-dialog id="auth-connection-dialog" ng-class="{\'sizeS\': input.connectorScope.qvDialogContext.size == \'S\',\n\t\t\t \'sizeM\': input.connectorScope.qvDialogContext.size == \'M\',\n\t\t\t \'sizeL\': input.connectorScope.qvDialogContext.size == \'L\',\n\t\t\t \'sizeT\': input.connectorScope.qvDialogContext.size == \'T\'}">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title>{{input.connectorScope.qvDialogContext.title|translate}}</lui-dialog-title>\n\t</lui-dialog-header>\n\n\t<div class="qv-content">\n\t\t<div class="overlay" ng-if="connectionFinished"></div>\n\t\t<qv-auth-data-include id="connector-auth-include" ng-if="input" ng-class="{\'loading\': isConnectorLoading()}" data-destroy-component="input.destroyComponent" data-qv-dialog-context="" data-component="input.initialConnectStep" data-input="input.connectorScope"></qv-auth-data-include>\n\t</div>\n\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="onCancelClicked()" q-translation="Common.Cancel" ng-disabled="connectionFinished"></lui-button>\n\t\t<lui-button ng-click="input.connectorScope.qvDialogContext.next()"  ng-disabled="input.connectorScope.qvDialogContext.nextDisabled() || connectionFinished">{{createString}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>';var z='<lui-dialog id="auth-connection-dialog" ng-class="{\'sizeS\': input.connectorScope.qvDialogContext.size == \'S\',\n\t\t\t \'sizeM\': input.connectorScope.qvDialogContext.size == \'M\',\n\t\t\t \'sizeL\': input.connectorScope.qvDialogContext.size == \'L\',\n\t\t\t \'sizeT\': input.connectorScope.qvDialogContext.size == \'T\'}">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title>{{input.connectorScope.qvDialogContext.title|translate}}</lui-dialog-title>\n\t</lui-dialog-header>\n\n\t<div class="qv-content">\n\t\t<div class="overlay" ng-if="connectionFinished"></div>\n\t\t<qv-auth-data-include data-qv-dialog-context="" ng-class="{\'loading\': isConnectorLoading()}" data-component="input.credentialsDialog" data-input="input.connectorScope"></qv-auth-data-include>\n\t</div>\n\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="onCancelClicked()" q-translation="Common.Cancel" ng-disabled="connectionFinished"></lui-button>\n\t\t<lui-button ng-click="onStorageProviderCreate()" ng-disabled="input.connectorScope.qvDialogContext.nextDisabled() || connectionFinished || storageProviderCreating">{{createString}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>';function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function G(e,t,n){t&&U(e.prototype,t);n&&U(e,n);return e}var W=function(){function e(){$(this,e);this.luiDialog=s["default"].getService("luiDialog");this.DIALOGSTATE={SUCCESS:"SUCCESS",CANCEL:"CANCEL"}}G(e,[{key:"showEditConnectionDialog",value:function e(t,n,r,i,a){var o=this;var s=this;R["a"].getConnectorByName(t).then((function(e){R["a"].getServerSide(r).then((function(t){R["a"].getConfiguration().then((function(r){var c={};c.connectorScope={};c.connectorScope.kind="connect";c.connectorScope.serverside=t;c.connectorScope.editMode=true;c.connectorScope.instanceId=n;c.connectorScope.qvDialogContext={};c.connectorScope.qvxSelectedEntrypoint=e.entrypoint;c.connectorScope.configuration=r;c.destroyComponent=function(){};c.initialConnectStep=e.entrypoint.initialConnectStep;var u=H;if(e.entrypoint.isStorageProvider){e.connectorMain.updateServerSideProxy(t);c.credentialsDialog=e.entrypoint.credentialsDialog;c.connectorScope.deferredResult=new I["a"];u=z}o.uiDialog.show({template:u,controller:["$scope",function(t){t.status=s.DIALOGSTATE.CANCEL;t.createString=l["default"].get("Common.Edit");e.entrypoint.isStorageProvider?t.onStorageProviderCreate=function(){t.close();c.connectorScope.deferredResult&&c.connectorScope.deferredResult.promise.then((function(n){j["a"].modifyConnection(e.getConnectorMain(),c.connectorScope.instanceId,n,"").then((function(){i&&(n.isStorageProvider=true);i(n).then((function(){t.status=s.DIALOGSTATE.SUCCESS;t.close()}))}))}))}:c.destroyComponent=function(){i().then((function(){t.status=s.DIALOGSTATE.SUCCESS;t.close()}))};t.closingDeferred.promise.then((function(){t.status===s.DIALOGSTATE.CANCEL&&a&&a()}));t.onCancelClicked=function(){t.status=s.DIALOGSTATE.CANCEL;t.close()}}],input:c})}))}))}))}},{key:"showConnectionDialog",value:function e(t,n,r){var i=this;var a=this;R["a"].getConnectorByName(t).then((function(e){R["a"].getServerSide(e.getProvider()).then((function(t){R["a"].getConfiguration().then((function(o){e.loadConnectorMain().then((function(){var s=H;var c={};c.connectorScope={};c.connectorScope.serverside=t;c.connectorScope.qvDialogContext={};c.connectorScope.configuration=o;if(e.isIframeCompatible){c={kind:"connect",instanceId:e.getId(),datasource:e,connectorType:e.getConnectorType(),serverside:t,qvxSelectedEntrypoint:e.getEntrypoint(),qvDialogContext:{title:""},onCancel:r,onSuccess:n};i.luiDialog.show({template:V["a"],controller:B["a"],input:c,closeOnOutside:false,showArrow:false});return}c.connectorScope.qvxSelectedEntrypoint=e.getEntrypoint();c.initialConnectStep=e.getConnectStep();if(e.isStorageProvider()){e.getConnectorMain().updateConnection(void 0,t);c.credentialsDialog=e.getEntrypoint().credentialsDialog;c.connectorScope.deferredResult=new I["a"];s=z}i.luiDialog.show({template:s,controller:["$scope","$timeout",function(t,i){t.status=a.DIALOGSTATE.CANCEL;var o=null;t.createString=l["default"].get("Common.Create");if(!e.isStorageProvider()){t.connectorScope.continueWithNewConnection=function(e){i((function(){t.connectionFinished=true})).then((function(){n(e).then((function(){t.status=a.DIALOGSTATE.SUCCESS;t.close()}))}))};t.isConnectorLoading=function(){if(!o){var e=x()("#connector-auth-include");if(e){var t=e.children().first();o=_.a.element(t).scope()}}if(o){if(o.vm)return o.vm.isLoading;return o.isLoading}return false}}t.onStorageProviderCreate=function(){c.connectorScope.deferredResult&&i((function(){t.storageProviderCreating=true})).then((function(){c.connectorScope.deferredResult.promise.then((function(r){var i=r;r.getProperties&&(i=r.getProperties());i.datasource=e.getId();j["a"].saveConnection(e.getConnectorMain(),i,"",false).then((function(e){if(e.isError){t.status=a.DIALOGSTATE.CANCEL;t.storageProviderCreating=false;return}if(n){i.isStorageProvider=true;n(i).then((function(){t.status=a.DIALOGSTATE.SUCCESS;t.close();t.storageProviderCreating=false}))}}))}))}))};t.closingDeferred.promise.then((function(){t.status===a.DIALOGSTATE.CANCEL&&r&&r()}));t.onCancelClicked=function(){t.status=a.DIALOGSTATE.CANCEL;t.close()}}],input:c})}))}))}))}))}}]);return e}();var Q=new W;var K=n("hpYt");var Y=n("hL0k");var J='<div class="add-data-manual">\n\t<label class="lui-label" q-translation="DataManager.ForcedConcat.TableNameLabel"></label>\n\t<ds-grid-input class="tableNameInput"\n\t\tmodel="$ctrl.tableName"\n\t\tvalidate="$ctrl.validateTableName"\n\t\terror-state="[]"\n\t\teditable="true">\n\t</ds-grid-input>\n\t<div class="grid-container">\n\t\t<ds-edit-grid table-model="$ctrl.tableModel"></ds-edit-grid>\n\t</div>\n</div>';var Z=n("jg6w");var X={uniqueFieldNames:function e(t,n){n||(n=[]);var r=function e(r){var i=t[r];var a=t.filter((function(e,t){return t!==r})).map((function(e){return e.name})).concat(n);var o=i.name;var s=1;while(a.indexOf(o)>=0)o="".concat(i.name,"_").concat(s++);i.name=o};for(var i=t.length-1;i>=0;i--)r(i);return t},getActiveConnector:function e(){var t={name:M["a"].AddData.InlineData,typeName:M["a"].AddData.InlineData,id:M["a"].AddData.InlineData};return t}};var ee='<div class="ds-edit-grid">\n\t<div class="header-buttons">\n\t\t<div class="lui-buttongroup">\n\t\t\t<button class="lui-button lui-buttongroup__button delete-button" ng-disabled="$ctrl.model.selection.isDeleteDisabled()" ng-click="$ctrl.model.selection.deleteSelection()" q-translation="EditGrid.Delete.Label"></button>\n\t\t</div>\n\t</div>\n\n\t<div class="table" ng-mouseleave="$ctrl.model.selection.selectEnd()">\n\t\t<div class="header" ng-style="{ \'width\' : $ctrl.model.rowWidth }">\n\t\t\t<div class="line-number cell"></div>\n\t\t\t<div class="meta cell"\n\t\t\t\t ng-repeat="(columnIndex, column) in $ctrl.model.table.columns track by columnIndex"\n\t\t\t\t ng-dblclick="$ctrl.doubleClickHandler(columnIndex, -1)"\n\t\t\t\t ng-mousedown="$ctrl.mouseDownHandler($event, columnIndex, -1)"\n\t\t\t\t ng-mouseenter="$ctrl.mouseEnterHandler(columnIndex, -1)"\n\t\t\t\t ng-mouseup="$ctrl.mouseUpHandler(columnIndex, -1)"\n\t\t\t\t ng-class="{selected: $ctrl.model.selection.selectedHeaders.indexOf(columnIndex) >= 0, highlighted: $ctrl.model.selection.selectedColumns.indexOf(columnIndex) >= 0}"\n\t\t\t\t ng-style="{ \'min-width\' : column.width, \'width\' : column.width }">\n\n\t\t\t\t<div ng-if="!column.editing && column.name" class="text">{{column.name}}</div>\n\t\t\t\t<div ng-if="!column.editing && !column.name" class="text place-holder" q-translation="EditGrid.Column.Placeholder"></div>\n\t\t\t\t<input tid="column-currently-edited" ng-if="column.editing" ng-paste="$ctrl.onHeaderTextPaste()" ng-class="{\'warning\': column.invalidInput}" class="editor" ng-model="column.name" ng-blur="$ctrl.onBlur()" ng-keydown="$ctrl.editorKeydown($event)"/>\n\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="content" ng-style="{ \'width\' : $ctrl.model.rowWidth }">\n\t\t\t<div class="row" ng-repeat="(rowIndex, row) in $ctrl.model.table.rows track by rowIndex">\n\t\t\t\t<div class="line-number meta cell"\n\t\t\t\t\t ng-mousedown="$ctrl.mouseDownHandler($event, -1, rowIndex)"\n\t\t\t\t\t ng-mouseenter="$ctrl.mouseEnterHandler(-1, rowIndex)"\n\t\t\t\t\t ng-mouseup="$ctrl.mouseUpHandler(-1, rowIndex)"\n\t\t\t\t\t ng-class="{selected: $ctrl.model.selection.selectedRowHeaders.indexOf(rowIndex) >= 0, highlighted: $ctrl.model.selection.selectedRows.indexOf(rowIndex) >= 0}"></div>\n\n\t\t\t\t<div class="cell"\n\t\t\t\t\t ng-repeat="(columnIndex, cell) in row track by columnIndex" ng-class="{selected: cell.selected}"\n\t\t\t\t\t ng-style="{ \'min-width\' : $ctrl.model.table.columns[columnIndex].width, \'width\' : $ctrl.model.table.columns[columnIndex].width }">\n\n\t\t\t\t\t<div class="text"\n\t\t\t\t\t\t ng-if="!cell.editing"\n\t\t\t\t\t\t ng-bind="cell.value"\n\t\t\t\t\t\t ng-dblclick="$ctrl.doubleClickHandler(columnIndex, rowIndex)"\n\t\t\t\t\t\t ng-mousedown="$ctrl.mouseDownHandler($event, columnIndex, rowIndex)"\n\t\t\t\t\t\t ng-mouseenter="$ctrl.mouseEnterHandler(columnIndex, rowIndex)"\n\t\t\t\t\t\t ng-mouseup="$ctrl.mouseUpHandler(columnIndex, rowIndex)"></div>\n\t\t\t\t\t<input class="editor"\n\t\t\t\t\t\t   ng-class="{\'warning\': cell.invalidInput}"\n\t\t\t\t\t\t   ng-if="cell.editing"\n\t\t\t\t\t\t   ng-model="cell.value"\n\t\t\t\t\t\t   ng-blur="$ctrl.onBlur()"\n\t\t\t\t\t\t   ng-keydown="$ctrl.editorKeydown($event)"/>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="meta-data">\n\t\t<div class="columns">{{$ctrl.columnCount}}</div>\n\t\t<div class="rows">{{$ctrl.rowCount}}</div>\n\t</div>\n\n\t<div class="copy-area">\n\t\t<textarea class="text-area"></textarea>\n\t</div>\n</div>';var te=n("4nJ1");var ne=n("yRTf");var re=n("PoH+");var ie=n.n(re);function ae(e){this.tableModel=e;this.selectedRows=[];this.selectedColumns=[];this.selectedCells=[];this.selectedHeaders=[];this.selectedRowHeaders=[];this.selectionRange={start:void 0,end:void 0,isStillSelecting:false};this.editingCell=void 0;this.editingHeader=void 0;this.disableDelete=false;this.eventHandlers={}}ae.prototype.isSelecting=function(){return this.isSelectingCell()||this.isSelectingRange()||this.isSelectingHeader()};ae.prototype.isSelectingCell=function(){return 1===this.selectedCells.length};ae.prototype.isSelectingRange=function(){return this.selectedCells.length>1};ae.prototype.isSelectingRow=function(){return 1===this.selectedRowHeaders.length};ae.prototype.isSelectingRows=function(){return this.selectedRowHeaders.length>1};ae.prototype.isSelectingHeader=function(){return 1===this.selectedHeaders.length};ae.prototype.isSelectingHeaders=function(){return this.selectedHeaders.length>1};ae.prototype.isStillSelecting=function(){return this.selectionRange.isStillSelecting};ae.prototype.isStillSelectingRows=function(){return this.isStillSelecting()&&-1===this.selectionRange.start.columnIndex};ae.prototype.isStillSelectingColumns=function(){return this.isStillSelecting()&&-1===this.selectionRange.start.rowIndex};ae.prototype.isEditing=function(){return this.isEditingCell()||this.isEditingHeader()};ae.prototype.isEditingCell=function(){return void 0!==this.editingCell};ae.prototype.isEditingHeader=function(e){if(void 0!==e)return this.editingHeader&&this.editingHeader.columnIndex===e;return void 0!==this.editingHeader};ae.prototype.isDeleteDisabled=function(){return this.disableDelete||0===this.selectedCells.length||this.isEditing()};ae.prototype.getSelectionStart=function(){var e=this.selectedColumns[0];var t=this.selectedRows[0];return{columnIndex:e,rowIndex:t}};ae.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]);this.eventHandlers[e].push(t)};ae.prototype.fire=function(e){if(this.eventHandlers[e]){var t=arguments;this.eventHandlers[e].forEach((function(e){e.apply(this,t)}))}};ae.prototype.selectStart=function(e,t,n){if(this.isEditingHeader(t)&&-1===n)return;if(e.shiftKey&&this.selectionRange.start){this.selectionRange.isStillSelecting=true;this.selectExpand(t,n);return}this.clearAll();-1===t?this.selectRow(n):-1===n?this.selectColumn(t):this.selectCell(t,n);this.selectionRange.isStillSelecting=true;this.selectionRange.start={columnIndex:t,rowIndex:n};this.selectionRange.end={columnIndex:t,rowIndex:n}};ae.prototype.selectExpand=function(e,t){if(this.isStillSelecting())if(this.isStillSelectingColumns()){-1===e&&(e=0);this.clearAll();this.selectColumns(this.selectionRange.start.columnIndex,e)}else if(this.isStillSelectingRows()){-1===t&&(t=0);this.clearAll();this.selectRows(this.selectionRange.start.rowIndex,t)}else{-1===e&&(e=0);-1===t&&(t=0);this.clearAll();this.selectionRange.end={columnIndex:e,rowIndex:t};this.selectCells(this.selectionRange.start.columnIndex,this.selectionRange.start.rowIndex,e,t)}};ae.prototype.selectEnd=function(){if(this.isStillSelecting()){this.updateDeleteDisabled();this.selectionRange.isStillSelecting=false}};ae.prototype.selectRows=function(e,t){var n=Math.min(e,t);var r=Math.max(e,t);for(var i=n;i<=r;i++)this.selectRow(i)};ae.prototype.selectRow=function(e){this.selectedRowHeaders.indexOf(e)<0&&this.selectedRowHeaders.push(e);this.disableDelete=false;this.selectCells(0,e,this.tableModel.columns.length-1,e)};ae.prototype.selectColumns=function(e,t){var n=Math.min(e,t);var r=Math.max(e,t);for(var i=n;i<=r;i++)this.selectColumn(i)};ae.prototype.selectColumn=function(e){this.selectedHeaders.indexOf(e)<0&&this.selectedHeaders.push(e);this.disableDelete=false;this.selectCells(e,0,e,this.tableModel.rows.length-1)};ae.prototype.selectCells=function(e,t,n,r){var i=Math.min(e,n);var a=Math.max(e,n);var o=Math.min(t,r);var s=Math.max(t,r);for(var l=i;l<=a;l++)for(var c=o;c<=s;c++)this.selectCell(l,c)};ae.prototype.selectCell=function(e,t){var n=this.tableModel.rows[t][e];n.selected=true;this.selectedCells.push(n);this.selectedColumns.indexOf(e)<0&&this.selectedColumns.push(e);this.selectedRows.indexOf(t)<0&&this.selectedRows.push(t)};ae.prototype.clearAll=function(){this.clearSelection();this.clearEditing()};ae.prototype.clearSelection=function(){this.selectedCells.forEach((function(e){e.selected=false}));this.selectedCells.length=0;this.selectedColumns.length=0;this.selectedRows.length=0;this.selectedHeaders.length=0;this.selectedRowHeaders.length=0;if(!this.isStillSelecting()){this.selectionRange.start=void 0;this.selectionRange.end=void 0}};ae.prototype.clearEditing=function(){if(this.editingCell){var e=this.editingCell.columnIndex;var t=this.editingCell.rowIndex;var n=this.tableModel.rows[t][e];this.fire("editEnd",e,t,n.value!==this.editingCell.value);n.editing=false;this.editingCell=void 0}else if(this.editingHeader){var r=this.editingHeader.columnIndex;var i=this.tableModel.columns[r];""===i.name&&(i.name=this.editingHeader.name);this.fire("editEnd",this.editingHeader.columnIndex,-1,i.name!==this.editingHeader.name);i.editing=false;this.editingHeader=void 0}};ae.prototype.editCell=function(e,t){this.selectCell(e,t);var n=this.tableModel.rows[t][e];n.editing=true;this.editingCell=te["a"].extend({columnIndex:e,rowIndex:t},n);this.fire("editStart")};ae.prototype.editColumnHeader=function(e){this.selectColumn(e);var t=this.tableModel.columns[e];t.editing=true;this.editingHeader=te["a"].extend({columnIndex:e},t);this.fire("editStart")};ae.prototype.editNextRowCell=function(){if(this.isEditingCell()){var e=this.editingCell.rowIndex;var t=this.editingCell.columnIndex;this.clearAll();t===this.tableModel.columns.length-1&&e===this.tableModel.rows.length-1?this.editCell(0,0):t===this.tableModel.columns.length-1?this.editCell(0,e+1):this.editCell(t+1,e)}else if(this.isEditingHeader()){var n=this.editingHeader.columnIndex;this.clearAll();n===this.tableModel.columns.length-1?this.editCell(0,0):this.editColumnHeader(n+1)}};ae.prototype.editPrevRowCell=function(){if(this.isEditingCell()){var e=this.editingCell.rowIndex;var t=this.editingCell.columnIndex;if(0!==t){this.clearAll();this.editCell(t-1,e)}else if(0===t){this.clearAll();0!==e?this.editCell(this.tableModel.columns.length-1,e-1):this.editColumnHeader(this.tableModel.columns.length-1)}}else if(this.isEditingHeader()){var n=this.editingHeader.columnIndex;if(n>0){this.clearAll();this.editColumnHeader(n-1)}}};ae.prototype.selectNextRowCell=function(){if(this.isSelectingCell()&&!this.isEditing()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;if(t!==this.tableModel.columns.length-1){this.clearSelection();this.selectCell(t+1,n)}else if(t===this.tableModel.columns.length-1&&n!==this.tableModel.rows.length-1){this.clearSelection();this.selectCell(0,n+1)}this.updateDeleteDisabled()}else if(this.isSelectingHeader()&&!this.isEditing()){var r=this.selectedHeaders[0];this.clearAll();r===this.tableModel.columns.length-1?this.selectCell(0,0):this.selectColumn(r+1)}};ae.prototype.selectPrevRowCell=function(){if(this.isSelectingCell()&&!this.isEditing()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;if(0!==t){this.clearSelection();this.selectCell(t-1,n)}else if(0===t){this.clearSelection();0!==n?this.selectCell(this.tableModel.columns.length-1,n-1):this.selectColumn(this.tableModel.columns.length-1)}this.updateDeleteDisabled()}else if(this.isSelectingHeader()&&!this.isEditing()){var r=this.selectedHeaders[0];if(r>0){this.clearAll();this.selectColumn(r-1)}}};ae.prototype.editNextColumnCell=function(){if(this.isEditingCell()){var e=this.editingCell.rowIndex;var t=this.editingCell.columnIndex;this.clearAll();t===this.tableModel.columns.length-1&&e===this.tableModel.rows.length-1?this.editCell(0,0):e===this.tableModel.rows.length-1?this.editCell(t+1,0):this.editCell(t,e+1)}else if(this.isEditingHeader()){var n=this.editingHeader.columnIndex;this.clearAll();this.editCell(n,0)}};ae.prototype.editSelectedCell=function(){if(this.isSelectingCell()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;this.editCell(t,n)}else this.isSelectingHeader()&&this.editColumnHeader(this.selectedHeaders[0])};ae.prototype.editPrevColumnCell=function(){if(this.isEditingCell()){var e=this.editingCell.rowIndex;var t=this.editingCell.columnIndex;if(e>=1){this.clearAll();this.editCell(t,e-1)}else if(0===e){this.clearAll();this.editColumnHeader(t)}}};ae.prototype.selectNextColumnCell=function(){if(this.isSelectingCell()&&!this.isEditing()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;if(n!==this.tableModel.rows.length-1){this.clearSelection();this.selectCell(t,n+1)}this.updateDeleteDisabled()}else if(this.isSelectingHeader()&&!this.isEditing()){var r=this.selectedHeaders[0];this.clearSelection();this.selectCell(r,0);this.updateDeleteDisabled()}else if(this.isSelectingRow()&&!this.isEditing()){var i=this.selectedRowHeaders[0];if(i!==this.tableModel.rows.length-1){this.clearSelection();this.selectRow(i+1)}}};ae.prototype.selectPrevColumnCell=function(){if(this.isSelectingCell()&&!this.isEditing()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;this.clearSelection();0!==n?this.selectCell(t,n-1):this.selectColumn(t);this.updateDeleteDisabled()}else if(this.isSelectingRow()&&!this.isEditing()){var r=this.selectedRowHeaders[0];if(0!==r){this.clearSelection();this.selectRow(r-1)}}};ae.prototype.updateDeleteDisabled=function(){this.disableDelete=0===this.selectedColumns.length||0===this.selectedRows.length};ae.prototype.deleteSelection=function(){var e=this;if(!this.isDeleteDisabled())if(this.isSelectingRow()||this.isSelectingRows()){var t=this.getSelectionStart().rowIndex;var n=ie.a.sortBy(this.selectedRowHeaders);for(var r=n.length-1;r>=0;r--){var i=n[r];this.tableModel.rows.splice(i,1)}this.fire("delete","row");this.clearSelection();t<this.tableModel.rows.length?this.selectRow(t):this.tableModel.rows.length>0&&this.selectRow(this.tableModel.rows.length-1)}else if(this.isSelectingHeader()||this.isSelectingHeaders()){var a=this.getSelectionStart().columnIndex;var o=ie.a.sortBy(this.selectedHeaders);var s=function t(n){var r=o[n];e.tableModel.columns.splice(r,1);e.tableModel.rows.forEach((function(e){e.splice(r,1)}))};for(var l=o.length-1;l>=0;l--)s(l);this.fire("delete","column");this.clearSelection();a<this.tableModel.columns.length?this.selectColumn(a):this.tableModel.columns.length>0&&this.selectColumn(this.tableModel.columns.length-1)}else{this.selectedCells.forEach((function(e){e.value=""}));this.fire("delete","cell")}};var oe=ae;function se(e){this.model=e;this.lineNumberColumnWidth=15}se.prototype.initColumns=function(){while(this.model.table.columns.length<this.model.MIN_COLUMNS)this.addEmptyColumn();void 0!==this.model.table.columns[this.model.table.columns.length-1].name&&this.addEmptyColumn();this.setHeaders()};se.prototype.initRows=function(){while(this.model.table.rows.length<this.model.MIN_ROWS)this.addEmptyRow();var e=this.model.table.rows[this.model.table.rows.length-1];e.some((function(e){return e.value}))&&this.addEmptyRow()};se.prototype.initTable=function(){this.initColumns();this.initRows()};se.prototype.getSelectedCellRangeText=function(){var e=ie.a.min(this.model.selection.selectedColumns);var t=ie.a.max(this.model.selection.selectedColumns);var n=ie.a.min(this.model.selection.selectedRows);var r=ie.a.max(this.model.selection.selectedRows);var i="";for(var a=n;a<=r;a++){for(var o=e;o<=t;o++){i+=this.model.table.rows[a][o].value;o!==t&&(i+="\t")}a!==r&&(i+="\n")}return i};se.prototype.isFieldNameUnique=function(e){return void 0===ie.a.findWhere(this.model.table.columns,{name:e})};se.prototype.setColumnWidths=function(){var e=Math.max((this.model.rootElement.width()-this.lineNumberColumnWidth-this.model.table.columns.length-2)/this.model.table.columns.length,this.model.MIN_COLUMN_WIDTH);this.model.table.columns.forEach((function(t){t.width=e}));this.model.baseWidth=this.model.tableElement.width();this.model.rowWidth=this.model.baseWidth+this.model.offsetWidth};se.prototype.getTotalColumnWidth=function(){var e=this.lineNumberColumnWidth+this.model.table.columns.length+this.model.table.columns[0].width*this.model.table.columns.length;return e};se.prototype.addEmptyColumn=function(){this.model.table.columns.push({name:void 0});this.model.table.rows.forEach((function(e){e.push({value:"",selected:false,editing:false})}))};se.prototype.addEmptyRow=function(){var e=[];this.model.table.columns.forEach((function(){e.push({value:"",selected:false,editing:false})}));this.model.table.rows.push(e)};se.prototype.setHeaders=function(){for(var e=0;e<this.model.table.columns.length-1;e++)void 0!==this.model.table.columns[e].name&&this.model.table.columns[e].name.trim()||(this.model.table.columns[e].name=this.generateDefaultFieldName())};se.prototype.generateDefaultFieldName=function(){var e=l["default"].get("EditGrid.Column.DefaultName");e.indexOf("{0}")<0&&(e+="_{0}");var t;var n=1;do{t=e.replace("{0}",n++)}while(!this.isFieldNameUnique(t));return t};se.prototype.checkForNewColumnOrRow=function(e,t){if(e===this.model.table.columns.length-1){this.addEmptyColumn(this.model);this.setColumnWidths();this.setHeaders()}t===this.model.table.rows.length-1&&this.addEmptyRow(this.model)};se.prototype.breakExcelPasteIntoLines=function(e){var t="";var n=[];var r="";var i;var a=0;var o=0;var s=/(?:^"(?!")|^(?:"")+(?="(?!"))|\t"(?!")|\t(?:"")+(?="(?!")))"*[^\t\n]*\n(?:[^\t"])*"*(?:"$|"\t|"[^\t\n]+)/gm;while(null!=(i=s.exec(e))){if(i[0].length<3)break;o=i.index;if("\t"===i[0][0]){i[0]=i[0].substring(1);o+=1}t+=e.substring(a,o);a=s.lastIndex;r="";n=i[0].split("\n");for(var l=0;l<n.length;l++){r+=n[l];l<n.length-1&&(r+=" ")}if("\t"===r[r.length-1]){r="".concat(r.substring(1,r.length-2),"\t");s.lastIndex--}else r=r.substring(1,r.length-1);r=r.replace(/""/g,'"');t+=r}t+=e.substring(a);var c=t.split("\n");return c};se.prototype.pasteRawText=function(e){var t=this.breakExcelPasteIntoLines(e);var n=this.model.selection.selectedHeaders;var r=this.model.selection.getSelectionStart();var i;var a;var o;var s;t.length>1&&0===t[t.length-1].length&&t[t.length-2].length>0&&t.splice(t.length-1);for(var l=0;l<t.length;l++){var c=t[l];var u=c.split(/\t/);if(n.length>0)for(var d=0;d<u.length;d++){o=n[0];if(0===l){this.checkForNewColumnOrRow(o+d);var f=this.model.table.columns[o+d];f.name=u[d]?u[d]:void 0}else{this.checkForNewColumnOrRow(o+d,l-1);i=this.model.table.rows[l-1];a=i[o+d];a.value=u[d];a.selected=false;a.editing=false}}else{s=r.rowIndex;o=r.columnIndex;for(var p=0;p<u.length;p++){i=this.model.table.rows[s+l];this.checkForNewColumnOrRow(o+p,s+l);a=i[o+p];a.value=u[p];a.selected=false;a.editing=false}}}this.model.selection.clearSelection();this.setHeaders()};var le=se;var ce=n("k21Z");var ue=n("a8WH");var de={template:ee,bindings:{tableModel:"<"},controller:["$scope","$element","$timeout","luiTooltip",function(e,t,n,r){var i=this;var a=null;var o=t.find(".ds-edit-grid");var s=t.find(".ds-edit-grid .table");var c=t.find(".ds-edit-grid .copy-area .text-area");var u=2;var d=1;var f=180;var p;var h;var v=ne["a"].createGroup("dsEditGrid",9);i.$onInit=function(){h={table:this.tableModel,selection:new oe(this.tableModel),rootElement:o,tableElement:s,MIN_COLUMN_WIDTH:f,MIN_ROWS:d,MIN_COLUMNS:u};i.model=h;p=new le(h);h.rowWidth=0;h.baseWidth=0;h.offsetWidth=0;v.registerKeys("tab",D(h.selection.selectNextRowCell),{delay:0});v.registerKeys("right",D(h.selection.selectNextRowCell),{delay:0});v.registerKeys("enter",D(h.selection.editSelectedCell),{delay:0});v.registerKeys("down",D(h.selection.selectNextColumnCell),{delay:0});v.registerKeys("up",D(h.selection.selectPrevColumnCell),{delay:0});v.registerKeys("left",D(h.selection.selectPrevRowCell),{delay:0});v.registerKeys("shift+tab",D(h.selection.selectPrevRowCell),{delay:0});v.registerKeys("del",D(h.selection.deleteSelection),{delay:0});v.registerKeys("backspace",D(h.selection.deleteSelection),{delay:0});v.registerKeys("cmd+c",A);v.registerKeys("ctrl+c",A);v.registerKeys("cmd+x",T);v.registerKeys("ctrl+x",T);v.on();h.selection.on("editStart",(function(){n((function(){var e=o.find(".editor");e.focus();var t=p.getTotalColumnWidth();t!==h.rowWidth&&(h.rowWidth=t+p.lineNumberColumnWidth)}))}));h.selection.on("editEnd",(function(e,t,n,r){if(r){h.table.isDirty=true;p.checkForNewColumnOrRow(t,n)}m();h.rowWidth=h.baseWidth+h.offsetWidth}));h.selection.on("delete",(function(e,t){h.table.isDirty=true;if("row"===t){p.initRows();m()}else if("column"===t){p.initColumns();p.setColumnWidths();m()}}));O["a"].on("end",L);s.on("scroll",(function(){n((function(){h.offsetWidth=s.scrollLeft();h.rowWidth=h.baseWidth+h.offsetWidth}))}));g()};function m(){var e=h.table.columns.filter((function(e){return e.name})).length;var t=h.table.rows.length-1;i.columnCount=l["default"].get("EditGrid.MetaData.Columns",[e]);i.rowCount=l["default"].get("EditGrid.MetaData.Rows",[t])}function g(){p.initTable();m();n((function(){p.setColumnWidths()}))}var b=te["a"].isIos();var y=te["a"].isMSIE()||te["a"].isEdge();var w=b||y;var S;var C;this.mouseDownHandler=function(e,t,n){S={columnIndex:t,rowIndex:n};h.selection.selectStart(e,t,n)};this.mouseEnterHandler=function(e,t){h.selection.selectExpand(e,t)};this.mouseUpHandler=function(e,t){h.selection.selectEnd();if(w)if(S.columnIndex===e&&S.rowIndex===t)if(C){e>=0&&C.columnIndex===e&&C.rowIndex===t&&(t>=0?h.selection.editCell(e,t):h.selection.editColumnHeader(e));C=void 0}else{C=S;n((function(){C=void 0}),300)}else C=void 0;S=void 0};this.doubleClickHandler=function(e,t){if(!w)if(t>=0)h.selection.editCell(e,t);else{h.selection.editColumnHeader(e);h.selection.isEditingHeader()&&q(this.currentHeader())}};this.onBlur=function(){if(h.selection.isEditingHeader()){var e=this.currentHeader();e.invalidInput&&this.rollbackCurrentHeaderInput(e)}h.selection.clearEditing();I()};this.rollbackCurrentHeaderInput=function(e){e.name=h.selection.editingHeader.name};this.onHeaderTextPaste=function(){n((function(){h.selection.isEditingHeader()&&q(i.currentHeader())}))};this.currentHeader=function(){var e=h.selection.editingHeader.columnIndex;return h.table.columns[e]};this.editorKeydown=function(e){var t;var n;var r;var i;if(h.selection.isEditingHeader()){i=this.currentHeader();q(i)}switch(e.keyCode){case 27:if(h.selection.isEditingCell()){t=h.selection.editingCell.columnIndex;n=h.selection.editingCell.rowIndex;r=h.table.rows[n][t];r.value=h.selection.editingCell.value;h.selection.clearSelection();h.selection.selectCell(t,n)}else h.selection.isEditingHeader()&&this.rollbackCurrentHeaderInput(i);h.selection.clearEditing();I();break;case 13:h.selection.isEditingHeader()&&i.invalidInput&&this.rollbackCurrentHeaderInput(i);e.shiftKey?h.selection.editPrevColumnCell():h.selection.editNextColumnCell();I();break;case 9:h.selection.isEditingHeader()&&i.invalidInput&&this.rollbackCurrentHeaderInput(i);if(e.shiftKey){e.preventDefault();h.selection.editPrevRowCell()}else h.selection.editNextRowCell();I();break;default:break}};x()(document).on("paste.ds-edit-grid",(function(t){if(h.selection.isSelecting()&&!h.selection.isEditingCell()&&!h.selection.isEditingHeader()){var r=t.originalEvent.clipboardData.getData("text");e.$apply((function(){c.val("").select();n((function(){h.table.isDirty=true;var e=c.val();var t=e||r;p.pasteRawText(t);m()}))}))}}));function q(e){var t;var n=256;if(e.name||e.value){e.numberOfCharacters=e.name?e.name.length:e.value.length;if(e.numberOfCharacters>=n&&!a){t=l["default"].get("DataManager.GridEditor.Validator.FieldName.MaxLength",n);e.invalidInput=true;E(t)}if(e.numberOfCharacters<n){I();e.invalidInput=false}}}function E(e){n((function(){var n=t.find(".editor");n&&n[0]&&(a=r.show({template:ce["a"].template,controller:ce["a"].controller,input:{item:e,style:{width:"350px"}},alignTo:n[0],dock:"bottom"}))}),0,false)}function I(){if(a){a.close();a=null}}function k(e){c.val(e).select();document.execCommand("copy")}function A(){if(h.selection.isSelecting()){var e=p.getSelectedCellRangeText();k(e)}}function T(){if(h.selection.isSelecting()){var e=p.getSelectedCellRangeText();k(e);n((function(){h.selection.isDeleteDisabled()||h.selection.deleteSelection()}))}}function D(e){return function(){n((function(){e.bind(h.selection)()}))}}function L(){e.$apply(p.setColumnWidths.bind(p))}e.$on("$destroy",(function(){x()(document).off("paste.ds-edit-grid");v.delete();O["a"].off("end",L);I()}))}]};s["default"].nativeComponent("dsEditGrid",de);s["default"].nativeComponent("addDataManual",{bindings:{connectorInput:"<"},template:J,controller:[function(){var e=this;e.$onInit=function(){e.connectorInput.qvDialogContext.nextDisabled=i;e.connectorInput.qvDialogContext.finishDisabled=i;e.connectorInput.qvDialogContext.next=function(){a();e.connectorInput.qvDialogContext.connectorNextComplete()};e.connectorInput.qvDialogContext.finish=function(){a();e.connectorInput.qvDialogContext.connectorFinishComplete()};e.validateTableName=r;e.tableName=l["default"].get("Object.Table");e.tableModel={columns:[],rows:[]}};function t(e){var t=[];e.columns.forEach((function(e){void 0!==e.name&&t.push(e.name)}));return t}function n(e){var t=[];for(var n=0;n<e.rows.length-1;n++){var r=[];for(var i=0;i<e.rows[n].length-1;i++)r.push(e.rows[n][i].value);t.push(r)}return t}function r(t){var n=Z["a"].validateTableName(e.connectorInput.existingLoadModel,e.tableName,t);return n}function i(){var n;n=r(e.tableName);var i=t(e.tableModel);0===i.length&&(n=["no valid column!"]);return n.length>0}function a(){e.tableModel.columns=X.uniqueFieldNames(e.tableModel.columns);var t=n(e.tableModel);var r=e.tableModel.columns.filter((function(e){return!!e.name})).map((function(e){return e.name.trim()}));e.connectorInput.newLoadModel.addInlineTableModel(e.tableName,r,t);e.connectorInput.qvInternals.activeConnector=X.getActiveConnector()}}]});var fe=n("qfyE");var pe=n("DSgl");var he='<div class="add-data-navigation-list" ng-class="{\'collapsed\': !$ctrl.isExpanded}">\n\n\t\x3c!--<div class="new-connection" tid="create-new-connection" ng-click="$ctrl.navigateToNewConnection()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.STATES.NEW_CONNECTION}">--\x3e\n\t\t\x3c!--<span class="image-container lui-icon  lui-icon&#45;&#45;add" q-title-translation="AddData.LeftNav.New"></span>--\x3e\n\t\t\x3c!--<span class="new-connection-text" ng-if="$ctrl.isExpanded" q-translation="AddData.LeftNav.New"></span>--\x3e\n\t\x3c!--</div>--\x3e\n\n\t<ul class="add-data-navigation-list-connections" ng-class="{\'collapsed\': !$ctrl.isExpanded}">\n\n\t\t<li tid="create-new-connection" class="new-connection" ng-click="$ctrl.navigateToNewConnection()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.STATES.NEW_CONNECTION}">\n\t\t\t<span class="image-container lui-icon  lui-icon--add" q-title-translation="AddData.LeftNav.New"></span>\n\t\t\t<span class="new-connection-text" ng-if="$ctrl.isExpanded" q-translation="AddData.LeftNav.New"></span>\n\t\t</li>\n\n\t\t<li class="list-header" ng-if="$ctrl.isExpanded">\n\t\t\t<span q-translation="AddData.LeftNav.InApp"></span>\n\t\t</li>\n\n\t\t<li ng-if="$ctrl.attachedFilesEnabled" tid="connection-attachedFiles" ng-click="$ctrl.navigateToAttachedFiles()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.IN_APP_TYPES.ATTACHED_FILES}">\n\t\t\t<span class="lui-icon  lui-icon--paperclip" q-title-translation="AddData.LeftNav.UploadedFiles"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span q-translation="AddData.LeftNav.UploadedFiles"></span>\n\t\t\t</span>\n\t\t</li>\n\n\t\t<li class="lui-list__item" tid="connection-manualdata" ng-click="$ctrl.navigateToManualData()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.IN_APP_TYPES.MANUAL_DATA}">\n\t\t\t<span class="lui-icon lui-icon--edit"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span q-translation="AddData.LeftNav.ManualData"></span>\n\t\t\t</span>\n\t\t</li>\n\n\t\t<li class="lui-list__item space-title-container" ng-if="$ctrl.showSpaceSelector && $ctrl.spaceModel.selectedSpace">\n\t\t\t<span class="space-title" q-translation="AddData.LeftNav.ExistingConnections"></span>\n\t\t</li>\n\n\t\t<li class="lui-list__item space-selection-container" ng-if="$ctrl.showSpaceSelector && $ctrl.spaceModel.selectedSpace">\n\t\t\t\t<label title={{$ctrl.spaceModel.selectedSpace.name}}  class="select-label select-icon--{{$ctrl.spaceModel.selectedSpace.type === \'shared\' ? \'space-shared\' : \'person\'}}">\n\t\t\t\t<select class="lui-select" ng-model="$ctrl.spaceModel.selectedSpace" ng-change="$ctrl.updateSpace()"\n\t\t\t\t\t\tng-options="option.name for option in $ctrl.spaces track by option.id">\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</li>\n\n\n\t\t<li class="list-header" ng-if="$ctrl.isExpanded && $ctrl.networkFilesEnabled">\n\t\t\t<span q-translation="AddData.LeftNav.FileLocations"></span>\n\t\t</li>\n\n\t\t<li class="lui-list__item" tid="connection-sharedfiles" ng-click="$ctrl.navigateToFileConnection()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.FILE_CONNECTION_TYPES.NATIVE_FILES}" ng-if="$ctrl.networkFilesEnabled">\n\t\t\t<span class="lui-icon  lui-icon--{{$ctrl.sharedFilesIcon}}" ng-attr-title="{{$ctrl.sharedFilesString}}"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span ng-bind="$ctrl.sharedFilesString"></span>\n\t\t\t</span>\n\t\t</li>\n\n\t\t<li ng-repeat="connection in $ctrl.filteredStorageProviders" ng-show="!connection.scriptOnly" tid="connection-storage-{{$index}}" ng-click="$ctrl.navigateToStorageProvider(connection.name)" ng-class="{\'selected\': $ctrl.activeItem === connection.name}" qva-context-menu="$ctrl.openContextMenu($event, connection)">\n\t\t\t<span class="image-container connection-icon" ng-style="{\'background-image\': \'url(\' + connection.connectorImagePath + \')\'}"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span class="list-text-container-title">{{connection.providerName}}</span>\n\t\t\t\t<span class="list-text-container-subtitle">{{connection.name}}</span>\n\t\t\t</span>\n\n\t\t</li>\n\n\t\t<li class="list-header" ng-if="$ctrl.filteredConnections.length > 0">\n\t\t\t<span ng-if="$ctrl.isExpanded" q-translation="AddData.LeftNav.DataConnections"></span>\n\t\t\t<span class="divider-bar" ng-if="!$ctrl.isExpanded"><hr/></span>\n\t\t</li>\n\n\t\t<li ng-repeat="connection in $ctrl.filteredConnections" tid="connection-data-{{$index}}" ng-click="$ctrl.navigateToSelection($event, connection.connectorInstance.name, connection.connectorInstance.id)" ng-class="{\'selected\': $ctrl.activeItem === connection.connectorInstance.name}" qva-context-menu="$ctrl.openContextMenu($event, connection)">\n\t\t\t<span class="image-container connection-icon" ng-style="{\'background-image\': \'url(\' + connection.connectorInstance.connectorImagePath + \')\'}" ng-attr-title="{{connection.connectorInstance.name}}"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span class="list-text-container-title">{{connection.connectorInstance.connectorDisplayName|translate}}</span>\n\t\t\t\t<span class="list-text-container-subtitle">{{connection.connectorInstance.displayName||connection.connectorInstance.name}}</span>\n\t\t\t</span>\n\n\t\t</li>\n\n\t\t<li class="list-header" ng-if="$ctrl.showDataMarket || $ctrl.showCatalog" >\n\t\t\t<span ng-if="$ctrl.isExpanded" q-translation="AddData.LeftNav.DataContent"></span>\n\t\t\t<span class="divider-bar" ng-if="!$ctrl.isExpanded"><hr/></span>\n\t\t</li>\n\n\t\t<li class="lui-list__item" ng-click="$ctrl.navigateToCatalog()" ng-if="$ctrl.showCatalog" tid="connection-catalog" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.STATES.CATALOG}">\t\t\t\n\t\t\t<span class="lui-icon  lui-icon--book"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t<span q-translation="AddData.Catalog.Title"></span>\n\t\t</span>\n\t\t</li>\n\n\t\t<li class="lui-list__item" ng-click="$ctrl.navigateToDatamarket()" ng-if="$ctrl.showDataMarket" tid="connection-datamarket" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.STATES.DATAMARKET}">\n\t\t\t<span class="image-container connection-icon" ng-style="{\'background-image\': $ctrl.backgroundImage}" q-title-translation="quickdataload.datamarket"></span>\n\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t<span q-translation="quickdataload.datamarket"></span>\n\t\t</span>\n\t\t</li>\n\n\t</ul>\n\n</div>\n';var ve=n("czhI");var me=n.n(ve);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),true).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function xe(e,t,n){t&&Se(e.prototype,t);n&&Se(e,n);return e}var Ce=function(){function e(t,n){we(this,e);var r=[];t&&t.content&&t.content.forEach((function(e){e.dataConnections.forEach((function(t){var n=be({},e);n.fullId="".concat(n.entityId,"_").concat(t.id);n.connection=t;n.relativePath=t.relativePath;r.push(n)}))}));this.catalogJson=t.content?t:void 0;this.catalogJson&&(this.catalogJson.expandedContent=r);this.error=n}xe(e,[{key:"getError",value:function e(){return this.error}},{key:"getPage",value:function e(){return{entities:this.catalogJson?this.catalogJson.expandedContent:[],totalPages:this.catalogJson?this.catalogJson.page.totalPages:0}}},{key:"getEntities",value:function e(){return this.catalogJson?this.catalogJson.expandedContent:[]}}]);return e}();var qe=Ce;function Ee(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ee(a,r,i,o,s,"next",e)}function s(e){Ee(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Te(e,t,n){t&&Ae(e.prototype,t);n&&Ae(e,n);return e}var De=function e(){return"".concat(C["a"].rootPath,"api/qdc/v1/qdc")};var Oe=function e(){return"".concat(C["a"].rootPath,"api/qdc/v1/setup/setup")};var Le=function(){function e(){ke(this,e)}Te(e,null,[{key:"getIsSetup",value:function(){var e=Ie(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:t={section:"qdc"};r.prev=1;r.next=4;return me.a.get(Oe(),{params:t,withCredentials:true});case 4:n=r.sent;return r.abrupt("return",n.data.result&&n.data.response.server&&n.data.response.server.length>0);case 8:r.prev=8;r.t0=r["catch"](1);return r.abrupt("return",false);case 11:case"end":return r.stop()}}),e,null,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCatalog",value:function(){var e=Ie(regeneratorRuntime.mark((function e(t,n,r,i,a,o,s){var l,c,u;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:l="".concat(De(),"/catalog/v1/pagedQVD");c={page:t,size:n,searchText:a,searchCriteria:169,sort:r,sortDirection:i,sourceIds:s,tags:o};d.prev=2;d.next=5;return me.a.get(l,{params:c,withCredentials:true});case 5:u=d.sent;return d.abrupt("return",new qe(u.data));case 9:d.prev=9;d.t0=d["catch"](2);return d.abrupt("return",new qe({},d.t0));case 12:case"end":return d.stop()}}),e,null,[[2,9]])})));function t(t,n,r,i,a,o,s){return e.apply(this,arguments)}return t}()},{key:"getSampleData",value:function(){var e=Ie(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:r="".concat(De(),"/entity/sampleDataForEntity/").concat(t);i={sampleCount:n};o.prev=2;o.next=5;return me.a.put(r,{params:i,withCredentials:true});case 5:a=o.sent;return o.abrupt("return",a);case 9:o.prev=9;o.t0=o["catch"](2);return o.abrupt("return",void 0);case 12:case"end":return o.stop()}}),e,null,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAllTags",value:function(){var e=Ie(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:t="".concat(De(),"/entity/getAllTags");r.prev=1;r.next=4;return me.a.get(t,{withCredentials:true});case 4:n=r.sent;return r.abrupt("return",n.data.map?n.data.map((function(e){return{key:e.tag,name:e.tag}})):[]);case 8:r.prev=8;r.t0=r["catch"](1);return r.abrupt("return",[]);case 11:case"end":return r.stop()}}),e,null,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAllSources",value:function(){var e=Ie(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:t="".concat(De(),"/source/internal");r.prev=1;r.next=4;return me.a.get(t,{withCredentials:true});case 4:n=r.sent;return r.abrupt("return",n.data.subList?n.data.subList.map((function(e){return{key:e.id,name:e.name}})):[]);case 8:r.prev=8;r.t0=r["catch"](1);return r.abrupt("return",[]);case 11:case"end":return r.stop()}}),e,null,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()}]);return e}();var Me=Le;var Pe=n("U7Ny");var Ne=n("acVu");s["default"].nativeComponent("addDataNavigationList",{bindings:{connections:"<",space:"<",spaces:"<",showSpaceSelector:"<",spaceChangedCallback:"<",storageProviders:"<",attachedFilesEnabled:"<",networkFilesEnabled:"<",isExpanded:"<",isPersonalMode:"<",deleteConnection:"<"},controller:["qvContextMenu",function(e){var t=this;t.addDataStateService=w["a"];t.showDataMarket=false;t.showCatalog=false;t.isElastic=Object(Ne["b"])("ELASTIC_DND");t.overrideDeadDatamarket=Object(Ne["b"])("DATAMARKET_COME_BACK");t.backgroundImage="url(".concat(C["a"].staticResourcesPath,"img/connector-logos/DataMarket-Product-Icon.svg)");t.sharedFilesString=l["default"].get("AddData.LeftNav.FileLocations");t.sharedFilesIcon="folder";t.spaceModel={selectedSpace:void 0};function n(){var e=w["a"].getCurrentState();switch(e.page){case w["a"].STATES.STORAGE_PROVIDER:t.activeItem=e.params.name;break;case w["a"].STATES.IN_APP:t.activeItem=e.params.name;break;case w["a"].STATES.FILE_CONNECTION:t.activeItem=e.params.name;break;case w["a"].STATES.SELECTION:t.activeItem=e.params.connection;break;default:t.activeItem=e.page;break}}t.$doCheck=function(){n()};t.$onInit=function(){Object(Ne["b"])("QVD_CATALOG")&&Me.getIsSetup().then((function(e){t.showCatalog=e}))};t.$onChanges=function(e){if(t.connections){if(t.showSpaceSelector&&!t.space)return;t.overrideDeadDatamarket&&R["a"].getDataMarketConnector().then((function(e){t.showDataMarket=!(!e||!e.canCreate)&&e.canCreate()}));t.filteredConnections=t.connections.filter((function(e){return(!e.connectorInstance.privileges||e.connectorInstance.privileges.includes("read"))&&!e.connectorInstance.type.isFolderConnector&&!t.storageProviders.find((function(t){return t.id===e.connectorInstance.id}))&&"QvDataMarketConnector.exe"!==e.connectorInstance.typeName&&!e.connectorInstance.scriptOnly}));t.filteredStorageProviders=t.storageProviders;if(t.showSpaceSelector){t.spaceModel.selectedSpace=t.space;t.filteredConnections=t.filteredConnections.filter((function(e){if("personal"===t.space.id)return!e.connectorInstance.space;return e.connectorInstance.space===t.space.id}));t.filteredStorageProviders=t.storageProviders.filter((function(e){if("personal"===t.space.id)return!e.space;return e.space===t.space.id}))}}e.isPersonalMode&&t.isPersonalMode&&!t.isElastic&&(t.sharedFilesString=l["default"].get("AddData.LeftNav.DesktopFiles"));if(t.isElastic){t.sharedFilesString=l["default"].get("AddData.LeftNav.CloudDataFiles");t.sharedFilesIcon="cloud"}};t.openContextMenu=function(n,r){var i=e.menu();i.addItem({translation:"scripteditor.accordion.deleteconnection",tid:"delete",icon:"lui-icon lui-icon--bin",select:function e(){var n=r.connectorInstance||r;t.deleteConnection(n.id,n.name)}});e.show(i,{position:{x:n.pageX,y:n.pageY}})};t.updateSpace=function(){t.spaceChangedCallback&&t.spaceChangedCallback(t.spaceModel.selectedSpace)};t.navigateToNewConnection=function(){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{})};t.navigateToDatamarket=function(){w["a"].changeState(w["a"].STATES.DATAMARKET,{})};t.navigateToCatalog=function(){w["a"].changeState(w["a"].STATES.CATALOG,{})};t.navigateToFileConnection=function(){w["a"].changeState(w["a"].STATES.FILE_CONNECTION,{name:w["a"].FILE_CONNECTION_TYPES.NATIVE_FILES})};t.navigateToAttachedFiles=function(){w["a"].changeState(w["a"].STATES.IN_APP,{name:w["a"].IN_APP_TYPES.ATTACHED_FILES})};t.navigateToManualData=function(){w["a"].changeState(w["a"].STATES.IN_APP,{name:w["a"].IN_APP_TYPES.MANUAL_DATA})};t.navigateToStorageProvider=function(e){w["a"].changeState(w["a"].STATES.STORAGE_PROVIDER,{name:e,existing:true})};t.navigateToSelection=function(e,t,n){w["a"].changeState(w["a"].STATES.SELECTION,{connection:t,connectionId:n,existing:true,hidePreview:e.shiftKey})}}],template:he});var Re=n("RZ9f");var Fe='<div class="heading" ng-show="$ctrl.attachedFilesEnabled || $ctrl.dataFilesEnabled" q-translation="AddData.NewConnection.UploadFiles"></div>\n\n<div class="add-data-drop" ng-if="$ctrl.attachedFilesEnabled" id="add-data-drop-target" ng-class="{\'dragging-over\': $ctrl.draggingOver, \'isSmall\': $ctrl.isSmall}" ng-click="$ctrl.attachFileClicked()">\n\t<img class="icon" ng-src="{{$ctrl.iconUrl}}">\n\n\t</img>\n\t<div class="description" q-translation="AddData.NewConnection.DragOrSelect">\n\t</div>\n</div>\n\n<div class="add-data-drop" ng-if="$ctrl.dataFilesEnabled" id="add-data-drop-target" ng-class="{\'dragging-over\': $ctrl.draggingOver, \'isSmall\': $ctrl.isSmall}" ng-click="$ctrl.dataFilesClicked()">\n\t<img class="icon" ng-src="{{$ctrl.iconUrl}}">\n\n\t</img>\n\t<div class="description" q-translation="AddData.NewConnection.DragOrSelect">\n\t</div>\n</div>\n\n<div class="heading" q-translation="AddData.NewConnection.ConnectToDataSource"></div>\n\n<div class="connectors-toolbar">\n\t<div class="connectors-search">\n\t\t<lui-search query="$ctrl.searchFilter" auto-focus="focus" on-escape="$ctrl.searchFilter = \'\';" placeholder="quickdataload.connectors.ClickToSearch"></lui-search>\n\t</div>\n\t<div class="connectors-view-switch">\n\t\t<div class="lui-buttongroup">\n\t\t\t<button class="lui-button lui-button--toolbar" tid="add-data-connector-switch-view" ng-click="$ctrl.smallIconView = false" q-title-translation="quickdataload.connectors.LargeIconViewMode" ng-class="{\'lui-active\': !$ctrl.smallIconView }">\n\t\t\t\t<span class="lui-icon lui-icon--grid"></span>\n\t\t\t</button>\n\t\t\t<button class="lui-button lui-button--toolbar" tid="add-data-connector-switch-view" ng-click="$ctrl.smallIconView = true" q-title-translation="quickdataload.connectors.SmallIconViewMode" ng-class="{\'lui-active\': $ctrl.smallIconView }">\n\t\t\t\t<span class="logos-small"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n\n\x3c!-- Small Icons --\x3e\n<div class="connectors-logos" ng-if="$ctrl.smallIconView">\n\t<div ng-repeat="connector in $ctrl.otherConnectors track by $index" class="logo-item small" tid="qdl.connector.{{connector.getDisplayName()}}" ng-click="$ctrl.connectorClicked(connector)">\n\t\t<div class="name" title="{{connector.getDisplayName()}}">{{connector.getDisplayName()}}</div>\n\t\t<div class="icon" ng-style="{\'background-image\': \'url(\' + connector.getImagePath() + \')\'}"></div>\n\t</div>\n</div>\n\n\x3c!-- Large Icons --\x3e\n<div class="connectors-logos" ng-if="!$ctrl.smallIconView">\n\t<div ng-repeat="connector in $ctrl.otherConnectors track by $index" class="logo-item" tid="qdl.connector.{{connector.getDisplayName()}}" ng-click="$ctrl.connectorClicked(connector)">\n\t\t<div class="icon" ng-style="{\'background-image\': \'url(\' + connector.getImagePath() + \')\'}"></div>\n\t\t<div class="name" title="{{connector.getDisplayName()}}">{{connector.getDisplayName()}}</div>\n\t</div>\n</div>';s["default"].componentDirective("qvAuthDataInclude",{destroyComponent:"="});s["default"].nativeComponent("addDataNewConnection",{bindings:{connectors:"<",activeView:"=",searchFilter:"<",attachedFilesEnabled:"<",dataFilesEnabled:"<",isSmall:"<"},controller:["$element","$timeout",function(e,t){var n=this;var r="";n.dropRegistered=false;n.smallIconView=true;n.searchFilter="";n.folderConnectors=[];n.otherConnectors=[];n.iconUrl="".concat(C["a"].staticResourcesPath,"img/connector-logos/add_data_drag_green.svg");function i(e){return e.sort((function(e,t){var n=e.getDisplayName()?e.getDisplayName():"";var r=t.getDisplayName()?t.getDisplayName():"";return n.localeCompare(r)}))}n.$doCheck=function(){if(!n.dropRegistered){var i=e.find("#add-data-drop-target");if(0!==i.length){i.on("dragover",s);i.on("dragleave",l);i.on("drop",c);i.on("dragstart",u);n.dropRegistered=true}}if(n.searchFilter!==r){r=n.searchFilter;t((function(){n.$onChanges()}))}};n.$onChanges=function(){if(n.connectors){n.folderConnectors=[];n.otherConnectors=[];var e=[];n.connectors.forEach((function(t){if(!t.canCreate())return;if("datamarket"===t.getCategory()||t.isScriptOnly())return;if("data-connector-nfs.exe"===t.getId())return;if(n.searchFilter&&-1===t.getDisplayName().toLowerCase().indexOf(n.searchFilter.toLowerCase()))return;t.getNeedsConnect()||"internet"===t.getId()||t.isStorageProvider()?e.push(t):n.folderConnectors.push(t)}));n.otherConnectors=i(e)}};n.folderConnectorClicked=function(e){Re["a"].trackEvent(Re["a"].customEvents.FOLDER_CLICK);e.isStorageProvider()?n.connectorClicked(e):w["a"].changeState(w["a"].STATES.FILE_CONNECTION,{name:w["a"].IN_APP_TYPES.ATTACHED_FILES})};n.connectorClicked=function(e){Re["a"].trackEvent(Re["a"].customEvents.CONNECTOR_CLICKED,{id:e.getId(),name:e.getDisplayName(),category:e.getCategory()});w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{connector:e.getId()})};n.attachFileClicked=function(){w["a"].changeState(w["a"].STATES.FILE_CONNECTION,{name:w["a"].IN_APP_TYPES.ATTACHED_FILES,showPicker:true})};n.dataFilesClicked=function(){w["a"].changeState(w["a"].STATES.FILE_CONNECTION,{name:w["a"].FILE_CONNECTION_TYPES.NATIVE_FILES,showPicker:true})};var a=null;function o(e){var t=e.dataTransfer||e.originalEvent&&e.originalEvent.dataTransfer;var n=e.target.files||t.files;return n?n[0]:null}function s(e){e.stopPropagation();e.preventDefault();if(a){t.cancel(a);a=null}t((function(){n.draggingOver=true}))}function l(e){e.stopPropagation();e.preventDefault();if(e.relatedTarget)return;a&&t.cancel(a);a=t((function(){n.draggingOver=false}),100)}function c(e){e.stopPropagation();e.preventDefault();var t=o(e);n.draggingOver=false;n.attachedFilesEnabled?w["a"].changeState(w["a"].STATES.FILE_CONNECTION,{name:w["a"].IN_APP_TYPES.ATTACHED_FILES,file:t}):w["a"].changeState(w["a"].STATES.FILE_CONNECTION,{name:w["a"].FILE_CONNECTION_TYPES.NATIVE_FILES,file:t})}function u(e){e.preventDefault()}n.$onDestroy=function(){var t=e.find("#add-data-drop-target");t.off("dragover",s);t.off("dragleave",l);t.off("drop",c);t.off("dragstart",u)}}],template:Fe});var _e='<qv-uploaded-data-files-view\n\t\tng-if="$ctrl.attachedFileConnection"\n\t\tupload-folder-connection="$ctrl.attachedFileConnection.connection.connectorInstance"\n\t\ton-file-selected="$ctrl.onUploadedFileSelected(name)"\n\t\tselected-file-name="$ctrl.selectedFileName"\n\t\tstep-context="$ctrl.stepContext"\n\t\tshow-file-picker-on-open="$ctrl.showFilePicker"\n\t\tfile-to-upload-on-first-load="$ctrl.fileToUpload"\n\t\tchoose-on-single-click="true">\n</qv-uploaded-data-files-view>';var je=n("0SuS");s["default"].nativeComponent("addDataAttachFiles",{bindings:{attachedFileConnection:"<",fileToUpload:"<",showFilePicker:"<"},controller:[function(){this.stepContext={visible:true};this.selectedFileName={name:null};this.onUploadedFileSelected=function(){var e=T["a"].removeSurroundingSlashes(this.selectedFileName.name);w["a"].changeState("selection",{connection:"AttachedFiles",filename:e})}}],template:_e});var Be='<qv-select-data-include\n\t\tng-if="$ctrl.hasPermission && $ctrl.initialSelectStep && $ctrl.connectorInput && $ctrl.connector"\n\t\tdata-qv-dialog-context=""\n\t\tdata-component="$ctrl.initialSelectStep"\n\t\tdata-input="$ctrl.connectorInput"\n\t\tdata-options="$ctrl.connectorInput.options">\n</qv-select-data-include>\n\n<div class="add-data-selection-loading">\n\t<qv-spinner class="spinner" show="!$ctrl.initialSelectStep || !$ctrl.connectorInput || !$ctrl.connector" show-delay="200" show-for-at-least="500" spinner-height="200px" spinner-width="200px" center-in-parent="true"></qv-spinner>\n</div>\n\n<div ng-if="!$ctrl.hasPermission" class="permission-container">\n\t<div class="permission-container__message" q-translation="AddData.Selection.NoAccess"></div>\n</div>';var Ve=n("d2XC");s["default"].componentDirective("qvSelectDataInclude",{});s["default"].nativeComponent("addDataSelection",{bindings:{connector:"<",connectorInput:"<"},controller:["$timeout",function(e){var t=this;t.hasPermission=true;t.$onChanges=function(n){if(n.connector)if(n.connector.currentValue){var r,i;(null===(r=t.connectorInput)||void 0===r||null===(i=r.dataconnectorInstance)||void 0===i?void 0:i.privileges)&&(t.hasPermission=t.connectorInput.dataconnectorInstance.privileges.includes("read"));t.connector.getConnectorType()&&t.connector.isIframeCompatible?Ve["a"].loadFromDatasource(t.connector,"selectStep").then((function(n){t.initialSelectStep=n;e((function(){}))})):t.connector.loadConnectorMain().then((function(){t.initialSelectStep=t.connector.getSelectStep()}))}else t.initialSelectStep=null}}],template:Be});var He='<qv-connect-storage-provider-include\n\t\tng-if="$ctrl.fileConnection && $ctrl.connectorInput && $ctrl.loaded"\n\t\tdata-qv-dialog-context="$ctrl.connectorInput.qvDialogContext"\n\t\tdata-component="$ctrl.fileConnection.getConnectStep()"\n\t\tdata-input="$ctrl.connectorInput">\n</qv-connect-storage-provider-include>\n\n<div class="add-data-selection-loading">\n\t<qv-spinner class="spinner" show="!$ctrl.loaded" show-delay="100" show-for-at-least="100" spinner-height="200px" spinner-width="200px" center-in-parent="true"></qv-spinner>\n</div>';s["default"].componentDirective("qvConnectStorageProviderInclude",{});s["default"].nativeComponent("addDataStorageProvider",{bindings:{fileConnection:"<",connectorInput:"<"},controller:["$timeout",function(e){var t=this;t.$onChanges=function(){if(t.connectorInput){t.connectorInput.pathModel={path:""};t.connectorInput.continueWithNewConnection=function(e){var t=T["a"].removeSurroundingSlashes(e.singleFileName);w["a"].changeState(w["a"].STATES.SELECTION_STORAGEPROVIDER,{connection:e.connectionName,filename:t,existing:e.usingExisting.toString()})};t.loaded||t.connectorInput.storageProvider.testSavedConnection(t.connectorInput.storageProvider.id).then((function(n){if(!n){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{edit:true,connectorid:t.connectorInput.storageProvider.id,connectionid:t.connectorInput.dataconnectorInstance.id,connectortype:t.connectorInput.dataconnectorInstance.type});e((function(){}));return}t.loaded=true;e((function(){}))}))}else t.loaded=false}}],template:He});var ze='<qv-connect-file-source-include\n\t\tng-if="$ctrl.fileConnectionModel && $ctrl.connectorInput"\n\t\tdata-qv-dialog-context="$ctrl.context"\n\t\tdata-component="$ctrl.activeEntryPoint.initialConnectStep"\n\t\tdata-input="$ctrl.connectorInput">\n</qv-connect-file-source-include>\n\n';s["default"].componentDirective("qvConnectFileSourceInclude",{});s["default"].nativeComponent("addDataFileSource",{bindings:{fileConnectionModel:"<",space:"<",showFilePicker:"<",fileToUpload:"<"},controller:[function(){var e=this;e.activeEntryPoint=void 0;e.selectedFileName={name:null};e.$onInit=function(){w["a"].registerStateChangedListener("file-source",(function(){e.connectorInput&&w["a"].updateLastUsedFileData(e.connectorInput.pathModel.path,e.connectorInput.dataconnectorInstance?e.connectorInput.dataconnectorInstance.id:"")}))};e.$onChanges=function(){if(e.activeEntryPoint)return;if(e.fileConnectionModel){var t=w["a"].getLastUsedFileData();var n=e.fileConnectionModel.fileConnections;Object(Ne["b"])("SHOW_ALL_SPACE_CONNECTIONS")&&(n=n.filter((function(t){if("personal"===e.space.id)return!t.connectorInstance.space;return t.connectorInstance.space===e.space.id})));var r=e.fileConnectionModel.fileConnector;t.dataConnectionId&&(r=n.filter((function(e){return e.connectorInstance.id===t.dataConnectionId}))[0]);e.fileConnectionModel.fileConnector?e.activeEntryPoint=e.fileConnectionModel.fileConnector.getEntrypoint():e.activeEntryPoint=r?r.connectorMain.entrypoints[0]:n[0].connectorMain.entrypoints[0];e.connectorInput={fileToUploadOnFirstLoad:e.fileToUpload,showFilePicker:e.showFilePicker,canBrowseAll:e.fileConnectionModel.fileConnector&&e.fileConnectionModel.fileConnector.canCreate(),startPath:t.path,pathModel:{path:""},qvDialogContext:{},allFileConnections:n,dataconnectorInstance:r?r.connectorInstance:void 0,continueWithNewConnection:function e(t){var n=T["a"].removeSurroundingSlashes(t.singleFileName);n=n.replace(/\\/g,"/");w["a"].changeState("selection",{connection:w["a"].FILE_CONNECTION_TYPES.NATIVE_FILES,filename:n,foldername:t.connectionName,existing:t.usingExisting.toString(),connectionId:t.connectionId})}}}};e.$onDestroy=function(){w["a"].deregisterStateChangedListener("file-source")}}],template:ze});var $e='<div ng-if="$ctrl.templateLoaded && !$ctrl.connector" ng-include="\'datamarkettemplate\'"\n\t onload="views = $ctrl.views;\n\t \t\t fullScreenView = $ctrl.fullScreenView;\n\t \t\t connectorClicked = $ctrl.connectorClicked;">\n</div>\n\n<qv-datamarket-include\n\t\tng-if="$ctrl.connector"\n\t\tdata-component="$ctrl.connector.entrypoint.initialConnectStep"\n\t\tdata-input="$ctrl.connectorInput">\n</qv-datamarket-include>';s["default"].componentDirective("qvDatamarketInclude",{});s["default"].nativeComponent("addDataDatamarket",{bindings:{startLocation:"<"},controller:["$templateCache",function(e){var t=this;t.templateLoaded=false;t.connector=void 0;t.connectorInput={};t.fullScreenView=true;function n(){R["a"].getDataMarketTemplate().then((function(n){e.put("datamarkettemplate",n.template);t.views=n.views;t.templateLoaded=true}))}function r(e,n){return R["a"].getServerSide(e.provider).then((function(r){t.connectorInput.serverside=r;t.connectorInput.qvDialogContext={next:function e(){},fullScreenView:t.fullScreenView,navigateToHome:function e(){t.connector=void 0;t.connectorInput={};w["a"].changeState(w["a"].STATES.DATAMARKET,{})}};t.connectorInput.qvxSelectedEntrypoint=n||e.entrypoint;t.connectorInput.initialConnectStep=e.entrypoint.initialConnectStep;t.connectorInput.continueWithNewConnection=function(t){w["a"].updateLastUsedDataMarketConnector(e);w["a"].changeState("selection",{connection:t.connectionName,existing:t.usingExisting,isDataMarket:true,additionalConnectionInput:t})};t.connector=e}))}t.$onInit=function(){t.startLocation?r(t.startLocation.connector,t.startLocation.node).then((function(){n()})):n()};t.connectorClicked=function(e){var t=x()(e.currentTarget).scope().connector;r(t)}}],template:$e});var Ue='\n<div class="left-side">\n<button ng-if="$ctrl.canGoBack" class="lui-fade-button" ng-click="$ctrl.goBack()">\n\t<span class="lui-fade-button__icon  lui-icon lui-icon--direction-left"></span>\n</button>\n\n<div ng-if="$ctrl.imagepath" class="add-data-title-bar-image" ng-style="{\'background-image\': \'url(\' + $ctrl.imagepath + \')\'}"></div>\n<span ng-if="$ctrl.icon" class="lui-icon add-data-title-bar-image lui-icon--{{$ctrl.icon}}" aria-hidden="true"></span>\n\n<div class="add-data-title-bar-title">\n\t\t<div class="main">{{$ctrl.type|translate}}</div>\n\t\t<div class="sub" ng-if="$ctrl.theTitle">{{$ctrl.theTitle}}</div>\n</div>\n</div>\n\n<div class="right-side">\n\t<add-data-tabs-menu database-name="$ctrl.type" ng-if="$ctrl.showFilterTab"></add-data-tabs-menu>\n\t<add-data-action-menu ng-if="$ctrl.menuActions && $ctrl.menuActions.length > 0" actions="$ctrl.menuActions"></add-data-action-menu>\n</div>\n';var Ge='<button class="lui-fade-button add-data-action-menu"\n\t\tng-class="{\'lui-active\': $ctrl.menuIsOpen()}"\n\t\tng-click="$ctrl.openMenu($event)" qva-outside-ignore-for="add-data-action-menu">\n\t<span class="lui-button__icon  lui-icon  lui-icon--more"></span>\n</button>';s["default"].nativeComponent("addDataActionMenu",{bindings:{actions:"<"},controller:["luiPopover",function(e){var t=this;var n=false;var r='<lui-popover x-variant="{{::variant}}" x-arrow="arrow">\n        <lui-popover-body class="lui-nopad">\n            <ul class="lui-list">\n            <li class="lui-list__item" style="cursor: pointer" ng-repeat="action in actions">\n            <span class="lui-list__aside  lui-icon  lui-icon--{{action.icon}}"></span>\n            <span class="lui-list__text lui-list__action"\n                ng-click="executeAction(action)"\n                q-translation="{{action.label}}">\n            </span>\n            </li>\n            </ul>\n            </lui-popover-body>\n            </lui-popover>';var i;t.menuIsOpen=function(){return n};t.openMenu=function(a){if(i&&n){i.close();return}n=true;i=e.show({template:r,alignTo:a.target,outsideIgnore:"add-data-action-menu",controller:["$scope",function(e){e.actions=t.actions;e.executeAction=function(e){e.execute();i.close()}}],closeOnEscape:true});i.closed.then((function(){n=false}))}}],template:Ge});var We='<div class="filter-tab">\n    <ul class="lui-tabset filter-tab-menu" style="border-right: none;">\n        <li class="lui-tab filter-tab-item" ng-class="{\'lui-active\': !$ctrl.filterManagementService.isFilterPageVisible}" ng-click="$ctrl.showTables()" tid="add-data-header-table-tab">\n            <span class="lui-icon  lui-icon--database" aria-hidden="true"></span>\n            <span class="lui-tab__text" q-translation="DataManager.Filter.Tabs.Tables"></span>\n        </li>\n        <li class="lui-tab filter-tab-item" ng-class="{\'lui-active\': $ctrl.filterManagementService.isFilterPageVisible}" ng-click="$ctrl.showFilters()" tid="add-data-header-filter-tab">\n            <span class="lui-icon  lui-icon--filter" aria-hidden="true"></span>\n            <span class="lui-tab__text" q-translation="DataManager.Filter.Tabs.Filters"></span>\n            <span class="filter-tag" ng-if="$ctrl.filterCount">{{$ctrl.filterCount}}</span>\n        </li>\n    </ul>\n</div>\n';var Qe=n("AuIc");s["default"].nativeComponent("addDataTabsMenu",{bindings:{databaseName:"<"},controller:["$element","$scope",function(e,t){var n=this;n.filterManagementService=Qe["a"];n.filterCount=0;n.$onChanges=function(){Qe["a"].getFilterCount(n.databaseName).then((function(e){n.filterCount=e}))};s["default"].$rootScope.$on("filterCountUpdated",(function(){Qe["a"].getFilterCount(n.databaseName).then((function(r){n.filterCount=r;t.$evalAsync((function(){e.hide().show(0)}))}))}));n.showFilters=function(){Qe["a"].showFilterPage()};n.showTables=function(){Qe["a"].hideFilterPage()};n.showTables()}],template:We});s["default"].nativeComponent("addDataTitleBar",{bindings:{theTitle:"<",type:"<",imagepath:"<",icon:"<",canGoBack:"<",menuActions:"<",showFilterTab:"<"},controller:[function(){var e=this;e.goBack=function(){w["a"].goBackToLastState()}}],template:Ue});var Ke='<div class="lui-buttongroup">\n\t<lui-button tid="prepare-data-button-more" ng-disabled="$ctrl.determineIfDisabled()" class="add-data-button-drop" id="add-data-button-drop" qva-outside-ignore-for="add-data-button-drop" ng-click="$ctrl.showLoadPrepareMenu()">\n\t\t<span class="lui-icon  lui-icon--more" aria-hidden="true"></span>\n\t</lui-button>\n\t<lui-button tid="prepare-data-button" ng-disabled="$ctrl.determineIfDisabled()" class="add-data-button" ng-click="$ctrl.loadData()">\n\t\t<span class="prepare-data-button-text" q-translation="{{$ctrl.actionButtonText}}"></span>\n\t</lui-button>\n</div>';var Ye='<lui-popover class="add-data-prepare-load-dialog" x-arrow="arrow">\n\n\t<lui-popover-body class="add-data-prepare-load-dialog-body">\n\n\t\t<div class="switch-container">\n\t\t\t<div class="switch-container-left">\n\t\t\t\t<div q-translation="AddData.ProfilingDialog.DataProfiling"></div>\n\t\t\t\t<div q-translation="AddData.ProfilingDialog.ProfilingEnabled" class="status" ng-if="prepareLoadDataModel.isPrepOn"></div>\n\t\t\t\t<div q-translation="AddData.ProfilingDialog.ProfilingDisabled" class="status" ng-if="!prepareLoadDataModel.isPrepOn"></div>\n\t\t\t</div>\n\n\t\t\t<lui-switch class="add-data-prepare-load-dialog-switch" x-model="prepareLoadDataModel.isPrepOn" x-disabled="prepareLoadDataModel.isNoDataMode()" id="add-data-prepare-load-dialog-switch"></lui-switch>\n\t\t</div>\n\n\t\t<div class="text" q-translation="AddData.ProfilingDialog.ProfilingEnabledDetail" ng-if="prepareLoadDataModel.isPrepOn"></div>\n\t\t<div class="text" q-translation="AddData.ProfilingDialog.ProfilingDisabledDetail" ng-if="!prepareLoadDataModel.isPrepOn"></div>\n\n\t</lui-popover-body>\n\n</lui-popover>';var Je=n("FdxK");var Ze='<div class="qv-data-validation-results qv-modal-container qui-modalbackground" qva-outside-ignore-for="allOutside" ng-style="containerStyle">\n\t<div class="lui-dialog" qv-global-escape="onEscape()" qv-global-enter="onEnter()">\n\t\t<div class="lui-dialog__header">\n\t\t\t<div class="lui-dialog__title">{{validationHeading}}</div>\n\t\t</div>\n\t\t<div class="lui-dialog__body dm-main">\n\t\t\t<div>{{validationMessage}}</div>\n\t\t</div>\n\t\t<div class="lui-dialog__footer dm-footer">\n\t\t\t<div class="button-wrap">\n\t\t\t\t<lui-button ng-repeat="button in buttons" tid="{{ button.tid }}" class="qui-button" ng-click="button.eventHandler()" ng-disabled="button.disabled" q-translation="{{ button.title }}" qva-focus="button.focus"></lui-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n';var Xe={template:Ze,controller:["$scope","analysis",function(e,t){function n(){e.destroyComponent();e.deferredResult.resolve()}var r={title:"Common.Close",disabled:false,focus:false,tid:"dataValidationResults.close",eventHandler:function e(){n()}};e.onEnter=n;e.onEscape=n;e.buttons=[r];e.validationHeading="";e.validationMessage="";function i(){if(!t.canLoadData){e.validationHeading=l["default"].get("AnalyzeModel.title");e.validationMessage=l["default"].get("AnalyzeModel.warning.cannotAdd")}}i()}]};s["default"].nativeComponent("addDataPrepareLoadButton",{bindings:{isDisabled:"<",connectorContext:"<",promptForFilters:"<"},controller:["$element","luiPopover",function(e,t){var n=this;n.actionButtonText=Object(Ne["b"])("PS_13824_DATAFLOW")?"Common.Next":"AddData.BottomBar.AddDataButton";var r;var i;var a;n.determineIfDisabled=function(){if(n.isDisabled)return true;return w["a"].getPrepareLoadDataModel().isPrepOn?n.connectorContext.nextDisabled():n.connectorContext.finishDisabled()};n.$postLink=function(){a=e.find(".add-data-button-drop")[0]};n.loadData=function(){if(w["a"].getPrepareLoadDataModel().isPrepOn){n.connectorContext.connectorNextComplete=function(){K["a"].prepareData(n.promptForFilters).then((function(e){e.cancelled||n._loadDataHandler()}),(function(){}))};n.connectorContext.next&&n.connectorContext.next()}else{n.connectorContext.connectorFinishComplete=function(){K["a"].loadData(n.promptForFilters).then((function(e){e.cancelled||n._loadDataHandler()}),(function(e){Je["a"].show(Xe,{analysis:e})}))};n.connectorContext.finish&&n.connectorContext.finish()}};n._loadDataHandler=function(){w["a"].hideAddData();w["a"].changeState("newconnection",{})};n.showLoadPrepareMenu=function(){if(r&&i){r.close();return}var e={template:Ye,input:this,controller:["$scope",function(e){e.prepareLoadDataModel=w["a"].getPrepareLoadDataModel()}],dock:"bottom",alignTo:a,closeOnResize:true,outsideIgnore:"add-data-button-drop"};i=true;r=t.show(e);r.closed.then((function(){i=false}))}}],template:Ke});var et='<lui-button tid="catalog-next-button" ng-disabled="$ctrl.determineIfDisabled()" class="add-data-button" ng-click="$ctrl.loadData()">\n\t\t<span class="prepare-data-button-text" q-translation="AddData.BottomBar.Next"></span>\n</lui-button>\n';s["default"].nativeComponent("addDataCatalogNextButton",{bindings:{isDisabled:"<",connectorContext:"<"},controller:[function(){this.determineIfDisabled=function(){return!w["a"].areCatalogItemsSelected()};this.loadData=function(){var e=w["a"].getSelectedCatalogItems();return R["a"].getExistingConnections().then((function(t){e.forEach((function(e){var n=t.filter((function(t){return t.connectorInstance.id===e.connectionId}))[0];e.connection=n?n.connectorInstance:void 0}));if(1===e.length){Re["a"].trackEvent(Re["a"].customEvents.ADD_DATA_QVD_CATALOG_SINGLE_SELECTION);return w["a"].changeState("selection",{connection:w["a"].FILE_CONNECTION_TYPES.NATIVE_FILES,filename:e[0].fileName,foldername:e[0].connection.name,existing:true})}Re["a"].trackEvent(Re["a"].customEvents.ADD_DATA_QVD_CATALOG_MULTI_SELECTION);return K["a"].loadMultipleFiles(e.filter((function(e){return e.connection}))).then((function(){w["a"].hideAddData();w["a"].changeState("newconnection",{})}))}))}}],template:et});var tt=n("1s39");var nt=n("llSI");var rt=n("Xaof");s["default"].directive("qvGenericSelectDialog",[function(){return{restrict:"E",replace:true,template:"<div><qva-include data-component='genericSelectDialog' ng-if='!!provider && !!dataconnectionSelectionEditor' data-input='genericSelectDialogInput'></qva-include></div>",scope:{dataconnectionSelectionEditor:"=",provider:"=",options:"=",qvDialogContext:"=",qvInternals:"="},controller:["$scope",function(e){var t=new nt["a"](e.provider,e.dataconnectionSelectionEditor,e.qvInternals.newAssociationsModel,e.qvInternals.dataPreviewProvider);var n={insertCode:function e(){}};var r={generateScriptForSelections:function e(){}};e.destroyComponent=function(){e.close()};var i=e.provider.fileSelectOptions||e.provider.selectOptions||{};if(e.options)for(var a in e.options)e.options.hasOwnProperty(a)&&(i[a]=e.options[a]);e.genericSelectDialog=tt["a"];e.genericSelectDialogInput={dataSelectionModel:t,scriptGenerator:r,scriptEditorProxy:n,associationsModel:e.qvInternals.newAssociationsModel,inlineMode:true,options:i,qvDialogContext:e.qvDialogContext,cancel:e.cancel};e.genericSelectDialogInput.options.quickLoadContext=true}]}}]);var it=n("GMLQ");it["a"].directive("quiSelect",[function(){return{restrict:"E",replace:true,transclude:false,scope:true,template:'<div style="margin-right: 20px;"><lui-select x-model="prop.value" tid="{{prop.name}}" x-options="option.value as option.name for option in prop.inputOptions.items" x-disabled="!prop.isEnabled" qui-show="prop.isVisible" ng-show="prop.isVisible"></lui-select></div>',controller:[function(){}]}}]);var at=n("5Zq0");var ot=n("h/48");var st='<div class="table-filter-container" tid="table-filter-container">\n    <div class="subcontainer">\n        <div class="filterpane-root">\n        \n            <div class="flex-columns filter-table-header">\n                <div class="column table-column" q-translation="DataManager.Filter.Header.Table"></div>\n                <div class="column field-column" q-translation="DataManager.Filter.Header.Field"></div>\n                <div class="column condition-column" q-translation="DataManager.Filter.Header.Condition"></div>\n                <div class="column value-column" q-translation="DataManager.Filter.Header.Value"></div>\n            </div>\n\n            <div class="tables-container">\n                <div class="filter-tables-list" ng-repeat="table in $ctrl.sessionTables.tables">\n                    <qv-data-manager-filter-builder class="filter-builder-container" table="table" new-selections="$ctrl.newSelections" load-model="$ctrl.loadModel"></qv-data-manager-filter-builder>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>';var lt='<div class="table-filter-field flex-columns no-pad">\n\n    <div class="flex-columns pad-bottom">\n        \n        <div class="column table-name">\n            <span ng-attr-title="{{ $ctrl.table.tableName }}" ng-bind="$ctrl.table.tableName" ></span>\n        </div>\n\n        <div class="flex-columns field-row no-pad">\n            <div class="flex-columns filter-column" ng-repeat="filter in $ctrl.table.filter.operands" ng-focus="$ctrl.setInputState($event, \'focus\')" ng-mouseover="$ctrl.setInputState($event, \'hoverIn\')" ng-mouseleave="$ctrl.setInputState($event, \'hoverOut\')">\n\n                <div class="column field-column">\n                    <select ng-if="$ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled" ng-change="$ctrl.filterUpdated()" ng-class="{\'disabled\': $ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled}" class="lui-select filter-select field-select not-active" ng-disabled="$ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled" ng-model="$ctrl.table.filter.operands[$index].fieldId">\n                        <option  ng-repeat="field in $ctrl.actualFieldList" value="{{ field.id }}" ng-bind="field.name"></option>\n                    </select>\n                    \n                    <select ng-if="!$ctrl.table.filter.operands[$index].disabled && !$ctrl.table.disabled" ng-change="$ctrl.filterUpdated()" class="lui-select filter-select field-select not-active" ng-model="$ctrl.table.filter.operands[$index].fieldId">\n                        <option ng-repeat="field in $ctrl.sessionFieldList" value="{{ field.id }}" ng-bind="field.name"></option>\n                    </select>\n                </div>\n                <div class="column condition-column">\n                    <select class="lui-select filter-select basic-operator-select not-active" ng-change="$ctrl.filterUpdated()" ng-class="{\'disabled\': $ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled}" ng-disabled="$ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled" ng-model="$ctrl.table.filter.operands[$index].operator">\n                        <option value="contains">=</option>\n                        <option value=">">&gt;</option>\n                        <option value="<">&lt;</option>\n                        <option value=">=">&gt;=</option>\n                        <option value="<=">&lt;=</option>\n                    </select>\n                </div>\n                <div class="column">\n                    \n                    <div class="flex-columns value-column">\n                        \n                        <div class="column">\n                            <qv-advanced-dropdown value-model="$ctrl.table.filter.operands[$index].literalValues" max-selections="$ctrl.table.filter.operands[$index].operator === $ctrl.operations.CONTAINS.value ? 1000 : 1" options="$ctrl.advancedDropdownOptions" read-only="$ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled"></qv-advanced-dropdown>\n                        </div>\n                        \n                        <div class="column filter-action-button">\n                            <button class="lui-fade-button tooltip-trigger" ng-if="!$ctrl.table.filter.operands[$index].literalValues.length" aria-haspopup="true" q-title-translation="DataManager.Filter.InvalidFilterWarning">\n                                <span class="filter-incomplete-warning lui-fade-button__icon  lui-icon lui-icon--warning-triangle"></span>\n                            </button>\n                        </div>\n                        \n                        <div class="column filter-action-button filter-delete" ng-click="$ctrl.deleteFilter($index)">\n                            <button class="lui-fade-button">\n                                <span class="lui-fade-button__icon  lui-icon lui-icon--bin"></span>\n                            </button>\n                        </div>\n                        \n                    </div>\n                    \n                </div>\n            </div>\n            <div class="flex-columns button-row" ng-if"$ctrl.table.filter.operands.length || true">\n                <div class="column button-column" ng-class="{\'no-border\': !$ctrl.table.filter.operands.length}">\n                    <button class="lui-fade-button add-filter-button" ng-disabled="$ctrl.table.disabled" ng-click=$ctrl.addFilter()>\n                        <span class="lui-fade-button__icon  lui-icon  lui-icon--plus"></span>\n                        <span class="lui-fade-button__text" q-translation="DataManager.Filter.AddFilterButton"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>';var ct='<div class="advanced-dropdown" tabindex="0">\n    <div class="advanced-dropdown__input" ng-class="{\'read-only\': readOnly}" ng-click="vm.showOptions()">\n        <div class="advanced-dropdown__input__tag lui-tag" ng-class="{\'read-only\': readOnly}" ng-repeat="tag in vm.selectedValues">\n            <div class="advanced-dropdown__input__tag__content" ng-class="{\'read-only\': readOnly}" title="{{tag}}">{{tag}}</div>\n            <div class="advanced-dropdown__input__tag__icon icon-trash" ng-class="{\'read-only\': readOnly}" tabindex="0" ng-focus="handleFocus($event);" q-title-translation="Common.Delete" ng-click="removeTag($event, tag)"></div>\n        </div>\n        <div class="advanced-dropdown__input__container">\n            <input class="advanced-dropdown__input__field" ng-class="{\'read-only\': readOnly}" ng-hide="hideInput" ng-attr-placeholder="{{placeHolderMsg}}" ng-model="inputModel.text"></input>\n        </div>\n    </div>\n</div>';var ut=function e(t,n){var r=13;var i=9;t.inputModel={text:""};var a=s["default"].getService("$timeout");var o=n.find(".advanced-dropdown__input__field");t.handleFocus=function(e){e.preventDefault();e.stopPropagation()};t.removeTag=function(e,n){if(t.readOnly)return false;e.stopPropagation();t.vm.removeSelectedValue(n);t.vm.selectedValues.length||(t.placeHolderMsg=l["default"].get("DataManager.Filter.Input.PlaceHolderMessage"));return};var c=function e(){var n=t.inputModel.text.trim();""!==n&&a((function(){t.vm.addSelectedValue(n);t.inputModel.text="";t.placeHolderMsg=""}))};var u=function e(n){n.stopPropagation();if(t.vm.valueModel.isReadonly||t.readOnly)return false;n.which!==r&&n.which!==i||c();return};var d=function e(){o.focus()};n.on("focus",d);o.on("blur",c);o.on("keydown",u);t.$on("$destroy",(function(){n.off("focus",d);o.off("blur",c);o.off("keydown",u)}))};var dt=["$scope",function(e){e.placeHolderMsg=e.valueModel.length?"":l["default"].get("DataManager.Filter.Input.PlaceHolderMessage");function t(e,t,n){this.setSelectedValuesFromString(e);this.options=t;this.valueModel=e;this.maxSelections=n||1e3}t.prototype.setSelectedValuesFromString=function(e){this.selectedValues=e||[]};t.prototype.convertSelectedValuesToString=function(){return this.selectedValues.join(",")};t.prototype.addSelectedValue=function(t){if(-1===this.selectedValues.indexOf(t)){if(this.selectedValues.length>=e.maxSelections)return;this.selectedValues.push(t);this.valueModel=this.convertSelectedValuesToString();e.$emit("filterValueUpdated");this.selectedValues.length>=e.maxSelections&&(e.hideInput=true)}};t.prototype.getSelectedValues=function(){return this.selectedValues};e.$watch("maxSelections",(function(){e.hideInput?1e3===e.maxSelections&&(e.hideInput=false):1===e.maxSelections&&e.vm.getSelectedValues().length>=e.maxSelections?e.hideInput=true:e.hideInput=false}));t.prototype.removeSelectedValue=function(t){var n=this.selectedValues.indexOf(t);if(n>-1){this.selectedValues.splice(n,1);this.valueModel=this.convertSelectedValuesToString();0===this.selectedValues.length&&(e.hideInput=false);e.$emit("filterValueUpdated")}};var n=new t(e.valueModel,e.options,e.maxSelections);e.vm=n;return n}];s["default"].directive("qvAdvancedDropdown",[function(){return{scope:{valueModel:"=",options:"=",maxSelections:"=",readOnly:"="},link:ut,template:ct,controller:dt}}]);var ft={bindings:{table:"=",newSelections:"<",loadModel:"<"},template:lt,controller:["$scope",function(e){var t=this;var n={};t.$onInit=function(){t.operations=ot["a"];t.targetTable=ie.a.find(t.loadModel.targetTableModels,(function(e){return e.data.tableRef===t.table.id}));t.advancedDropdownOptions={items:[],isStaticCollection:false,collectionProperty:"",hideDownArrow:true};ie.a.each(t.newSelections,(function(e){n[e.id]=e}));t.collapsed=false;t.actualFieldList=[];t.sessionFieldList=[];t.actualFieldListHashMap={};t.sessionFieldListHashMap={};ie.a.each(t.newSelections,(function(e){e.id===t.table.id&&ie.a.each(e.fields,(function(e){t.actualFieldList.push({id:e.id,name:e.alias});t.actualFieldListHashMap[e.id]={id:e.id,name:e.alias}}))}));var e=!!t.table.filter;e?t.table=Qe["a"].synchronizeFields(t.table,n[t.table.id]):t.table.filter={operands:[],operator:"and"};ie.a.each(t.table.fields,(function(e){if(e.selected){t.sessionFieldList.push({id:e.id,name:e.alias});t.sessionFieldListHashMap[e.id]={id:e.id,name:e.alias}}else if(!e.selected&&t.table.disabled){t.actualFieldList.push({id:e.id,name:e.alias});t.actualFieldListHashMap[e.id]={id:e.id,name:e.alias}}}))};t.setInputState=function(e,t){switch(t){case"hoverOut":x()(e.currentTarget).find(".filter-select").addClass("not-active");x()(e.currentTarget).find(".advanced-dropdown__input").removeClass("active");break;case"focus":case"hoverIn":x()(e.currentTarget).find(".advanced-dropdown__input").addClass("active");x()(e.currentTarget).find(".filter-select").removeClass("not-active");break;default:x()(e.currentTarget).find(".filter-select").removeClass("not-active");break}};t.filterUpdated=function(){t.targetTable&&t.targetTable.setUpdateStatus()};t.addFilter=function(){var n={fieldId:t.sessionFieldList[0].id,operator:ot["a"].CONTAINS.value,literalValues:[]};var r=!!t.table.filter.operands;r||(t.table.filter.operands=[]);t.table.filter.operands.push(n);t.filterUpdated();e.$emit("filterCountUpdated")};t.deleteFilter=function(n){t.table.filter.operands.splice(n,1);t.filterUpdated();e.$emit("filterCountUpdated")};e.$on("filterValueUpdated",(function(){t.filterUpdated()}));t.collapseTable=function(){t.collapsed=!t.collapsed}}]};s["default"].nativeComponent("qvDataManagerFilterBuilder",ft);var pt=[function(){var e=this;e.filterManagementService=Qe["a"];e.populateFilters=function(){e.sessionTables={};e.isReady&&Qe["a"].isFilterPageVisible&&Qe["a"].getSelections().then((function(t){e.loadModel=t.loadModel;e.activeTable&&(Qe["a"].activeTable=e.activeTable);null!==Qe["a"].activeTable&&(t.tables=t.tables.filter((function(e){return e.data.id===Qe["a"].activeTable})));ie.a.each(t.tables,(function(e,n){t.tables.splice(n,1,e.data)}));e.databaseName&&(t.tables=t.tables.filter((function(t){return t.databaseName===e.databaseName})));e.newSelections=t.tables;if(null!==Qe["a"].sessionTables){e.sessionTables.tables=Qe["a"].synchronizeTables(t.tables);Qe["a"].sessionTables=e.sessionTables}else{Qe["a"].sessionTables={advanced:false,tables:[]};t.tables.forEach((function(e){var t=e;t.fields.length&&Qe["a"].sessionTables.tables.push(t)}));e.sessionTables=Qe["a"].sessionTables}}))};e.$onChanges=function(){e.populateFilters()}}];s["default"].nativeComponent("dmFilterPane",{bindings:{isReady:"<",activeTable:"<",databaseName:"<"},template:st,controller:pt});function ht(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ht(a,r,i,o,s,"next",e)}function s(e){ht(a,r,i,o,s,"throw",e)}o(void 0)}))}}s["default"].nativeComponent("addDataPanel",{bindings:{appname:"<",isPersonalMode:"<"},controller:["$element","$timeout","qvConfirmDialog","qvAlertDialog",function(e,t,n,r){var i=this;var a="addDataPanelListener";var o;var s;i.fetchSpacesPromise=Object(Ne["b"])("SHOW_ALL_SPACE_CONNECTIONS")?L["a"].fetchSpaces():Promise.resolve([]);i.showSpaceSelector=Object(Ne["b"])("SHOW_ALL_SPACE_CONNECTIONS");i.initialized=false;i.activeView="newconnection";w["a"].setActiveView(i.activeView);i.existingConnections=void 0;i.attachedFilesConnection=void 0;i.connectors=void 0;i.existingStorageProviderConnections=void 0;i.dataLoadInput=void 0;i.nativeFileConnections=void 0;i.isOpen=false;i.titleModel={};i.networkFilesEnabled=false;i.leftPanelOpen=true;i.stateId=0;i.footerText="";i.noDataMode=false;i.firstOpen=true;i.shouldShowFilters=false;i.filterManagementService=Qe["a"];i.isElastic=Object(Ne["b"])("ELASTIC_DND");i.addDataStateService=w["a"];i.isReady=function(){return!(("selection"!==i.activeView||!i.currentConnectorInput)&&"manualdata"!==i.activeView)};i.showReact=function(e){return w["a"].getReactViews().indexOf(e)>-1};i.initialize=function(){i.titleString=l["default"].get("AddData.TopBar.Title",i.appname);i.leftPanelToggleTooltip=i.leftPanelOpen?l["default"].get("AppOverview.Collapse"):l["default"].get("AppOverview.Expand");k["default"].ViewChanged.bind(B);D["a"].StateChanged.bind(j);R["a"].getDataLoadInput().then((function(e){i.dataLoadInput=e;V().then((function(){R["a"].getNativeFileModel().then((function(e){i.networkFilesEnabled=e.fileConnector||e.fileConnections.length>0;w["a"].registerStateChangedListener(a,(function(){t((function(){d(w["a"].getCurrentState())}))}));P["a"].getApp().then((function(e){e.getLayout().then((function(e){i.fetchSpacesPromise.then((function(t){t=t.filter((function(e){return i.existingConnections.find((function(t){return t.connectorInstance.space===e.id}))}));t.unshift({name:l["default"].get("scripteditor.dataconnectors.personalspace"),id:"personal"});w["a"].spacesModel.spaces=c(t);o=e.spaceId?e.spaceId:"personal";w["a"].spacesModel.selectedSpace||(w["a"].spacesModel.selectedSpace=t.find((function(e){return e.id===o})));i.initialized=true;d(w["a"].getCurrentState())}))}))}))}))}))}))};i.$onDestroy=function(){w["a"].deregisterStateChangedListener(a);D["a"].StateChanged.unbind(j);k["default"].ViewChanged.unbind(B);O["a"].off("end",u)};i.$doCheck=function(){i.isOpen||!w["a"].isOpen()||i.firstOpen||V();i.isOpen=w["a"].isOpen();if(i.isOpen){i.noDataMode=Y["a"].isNoData();i.footerText=i.noDataMode?l["default"].get("AddData.BottomBar.NoDataModeText"):""}if(i.firstOpen&&i.isOpen){i.firstOpen=false;i.initialize();t((function(){s=x()(".add-data-body-right-side");e.innerWidth()<=768&&i.toggleLeftPanel();O["a"].on("end",u);u()}))}};i.updateSpace=function(e){w["a"].spacesModel.selectedSpace=e;w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{})};i.cancelAddData=function(){q["a"].publish("datafile/upload/cancel");w["a"].hideAddData();w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{});Qe["a"].reset()};i.isDisableFilterButton=function(){var e=true;if(i.currentConnectorInput){var t=i.currentConnectorInput.qvDialogContext;e=w["a"].getPrepareLoadDataModel().isPrepOn?t.nextDisabled():t.finishDisabled()}return e};i.toggleLeftPanel=function(){i.leftPanelOpen=!i.leftPanelOpen;i.leftPanelToggleTooltip=i.leftPanelOpen?l["default"].get("AppOverview.Collapse"):l["default"].get("AppOverview.Expand");t(u)};function c(e){var t=e.sort((function(e,t){if(e.id===o)return-1;if(t.id===o)return 1;if("personal"===e.id)return-1;if("personal"===t.id)return 1;return e.name.localeCompare(t.name)}));return t}function u(){i.isContentSmall=s.innerWidth()<=1024}function d(e){i.stateId++;i.activeView=e.page;w["a"].setActiveView(i.activeView);i.currentConnectorInput=null;i.currentConnector=null;i.fileConnectionModel=null;i.fileToUpload=null;i.dataMarketStartLocation=null;i.showFilePicker=false;i.titleModel={};i.shouldShowFilters=false;w["a"].turnOnDataProfiling();Qe["a"].reset();(e.params.connection&&("AttachedFiles"===e.params.connection||"NativeFile"===e.params.connection)||e.params.fullPathToFile)&&(i.shouldShowFilters=true);switch(e.page){case w["a"].STATES.SELECTION:t((function(){e.params.fullPathToFile?N(i.stateId,e.params.fullPathToFile):_(i.stateId,e.params.connection,e.params.connectionId,e.params.filename,e.params.foldername,e.params.existing,e.params.isDataMarket,e.params.additionalConnectionInput,e.params.hidePreview)}));break;case w["a"].STATES.SELECTION_STORAGEPROVIDER:i.activeView=w["a"].STATES.SELECTION;w["a"].setActiveView(i.activeView);t((function(){F(i.stateId,e.params.connection,e.params.filename,e.params.existing)}));break;case w["a"].STATES.IN_APP:f(e.params.name,e.params.file,e.params.showPicker);break;case w["a"].STATES.FILE_CONNECTION:h(e.params.name,e.params.file,e.params.showPicker);break;case w["a"].STATES.DATAMARKET:b(e.params.startLocation);break;case w["a"].STATES.CATALOG:y();break;case w["a"].STATES.STORAGE_PROVIDER:t((function(){S(e.params.name,e.params.existing)}));break;case w["a"].STATES.NEW_CONNECTION:i.titleModel=null;if(e.params.edit){i.modifyConnection(e.params.connectorid,e.params.connectionid,e.params.connectortype);return}e.params.connector&&E(e.params.connector);break;default:break}}function f(e,t,n){switch(e){case w["a"].IN_APP_TYPES.ATTACHED_FILES:g(e,t,n);break;case w["a"].IN_APP_TYPES.MANUAL_DATA:p();break;default:break}}function p(){R["a"].getDataLoadInput().then((function(e){i.currentConnectorInput=e;i.currentConnectorInput.qvDialogContext={nextDisabled:function e(){},finishDisabled:function e(){}};i.titleModel={type:l["default"].get("AddData.LeftNav.ManualData"),title:l["default"].get("AddData.ManualData.Description"),icon:"edit"};i.activeView="manualdata";w["a"].setActiveView(i.activeView)}))}function h(e,t,n){switch(e){case w["a"].FILE_CONNECTION_TYPES.NATIVE_FILES:v(t,n);break;case w["a"].IN_APP_TYPES.ATTACHED_FILES:g(e,t,n);break;default:break}}function v(e,t){return m.apply(this,arguments)}function m(){m=vt(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:i.titleModel={type:Object(Ne["b"])("ELASTIC_DND")?l["default"].get("AddData.LeftNav.CloudDataFiles"):l["default"].get("AddData.LeftNav.SharedFiles"),title:null,icon:"folder"};if(!t){o.next=7;break}o.next=4;return R["a"].findDatafilesConnection(w["a"].spacesModel.selectedSpace);case 4:r=o.sent;w["a"].updateLastUsedFileData(void 0,r.id);i.fileToUpload=t;case 7:if(!n){o.next=13;break}o.next=10;return R["a"].findDatafilesConnection(w["a"].spacesModel.selectedSpace);case 10:a=o.sent;w["a"].updateLastUsedFileData(void 0,a.id);i.showFilePicker=true;case 13:R["a"].getNativeFileModel().then((function(e){i.fileConnectionModel=e}));case 14:case"end":return o.stop()}}),e)})));return m.apply(this,arguments)}function g(e,t,n){i.titleModel={type:l["default"].get("AddData.LeftNav.UploadedFiles"),title:l["default"].get("AddData.UploadedFiles.Description"),icon:"paperclip"};t&&(i.fileToUpload=t);n&&(i.showFilePicker=true);i.activeView="attachedfiles";w["a"].setActiveView(i.activeView)}function b(e){i.dataMarketStartLocation=e;i.titleModel={type:l["default"].get("quickdataload.datamarket"),imagepath:"".concat(C["a"].staticResourcesPath,"img/connector-logos/DataMarket-Product-Icon.svg")}}function y(){i.titleModel={type:l["default"].get("AddData.Catalog.Title"),icon:"book"}}function S(e,t){R["a"].getStorageProviderByName(e).then((function(n){R["a"].getConnectorByName(n.id).then((function(r){R["a"].getConnectionInputs(e,t).then((function(e){var t=[];t.push({label:"scripteditor.accordion.deleteconnection",icon:"bin",execute:function t(){i.deleteConnection(e.dataconnectorInstance.id,e.dataconnectorInstance.name)}});w["a"].isModifyEnabled()&&t.push({label:"scripteditor.accordion.editdata",icon:"edit",execute:function t(){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{edit:true,connectorid:n.id,connectionid:e.dataconnectorInstance.id,connectortype:e.dataconnectorInstance.type})}});i.titleModel={type:n.name,imagepath:n.imagePath,menuActions:t};n.updateConnection(e.dataconnectorInstance,e.serverside);e.storageProvider=n;e.qvxSelectedEntrypoint={id:e.storageProvider.id,name:e.storageProvider.name};i.currentConnectorInput=e;i.currentConnector=r}))}))}))}function E(e){Q.showConnectionDialog(e,(function(e){w["a"].spacesModel.selectedSpace=w["a"].spacesModel.spaces.find((function(e){return e.id===o}));if(e.isStorageProvider)return V().then((function(){w["a"].changeState(w["a"].STATES.STORAGE_PROVIDER,{name:e.connectionName,existing:false});q["a"].publish(M["a"].Events.PubSub.ConnectionCreated,e.connectionName)}));return R["a"].getConnectionInputs(e.connectionName).then((function(){return V().then((function(){w["a"].changeState(w["a"].STATES.SELECTION,{connection:e.connectionName});q["a"].publish(M["a"].Events.PubSub.ConnectionCreated,e.connectionName)}))}))}),(function(){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{})}))}function N(e,t){R["a"].getNativeFileConnectionByPathName(t).then((function(n){_(e,w["a"].FILE_CONNECTION_TYPES.NATIVE_FILES,void 0,T["a"].fileNameFromPath(t),n.name,n.existedPreviously)}),(function(){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{})}))}function F(e,t,n,r){R["a"].getConnectionInputs(t,r).then((function(r){if(e!==i.stateId)return;i.currentConnectorInput=r;i.currentConnectorInput.connectionInput={singleFileName:n,connectionName:t,usingExisting:true};R["a"].getConnectorByName(r.dataconnectorInstance.sourceConnectorID).then((function(e){i.currentConnector=e;i.titleModel={type:n,imagepath:A["a"].getIconForFile(n),canGoBack:true}}))}))}function _(e,t,n,a,o,s,c,u,d){if(c){R["a"].getConnectionInputs(t,s).then((function(t){if(e!==i.stateId)return;t.connectionInput=u;i.currentConnectorInput=t;R["a"].getDataMarketConnector().then((function(t){if(e!==i.stateId)return;i.currentConnectorInput.connectionInput.dataSetSelectionInfo.previousNode&&w["a"].updateLastUsedDataMarketNode(i.currentConnectorInput.connectionInput.dataSetSelectionInfo.previousNode);i.currentConnector=t;i.titleModel={type:i.currentConnectorInput.connectionInput.dataSetSelectionInfo.dataMarketDataSet.name,title:i.currentConnectorInput.connectionInput.dataSetSelectionInfo.dataMarketDataSet.description,imagepath:"./img/connector-logos/DataMarket-DataSet.svg",canGoBack:true}}))}));return}if(t===w["a"].IN_APP_TYPES.ATTACHED_FILES){R["a"].getAttachedFilesConnector().then((function(n){if(e!==i.stateId)return;i.currentConnector=n.connector;R["a"].getConnectionInputs(t,true).then((function(t){if(e!==i.stateId)return;i.currentConnectorInput=t;i.currentConnectorInput.connectionInput={singleFileName:a,connectionName:n.connection.connectorInstance.name,usingExisting:true};i.titleModel={type:a,imagepath:A["a"].getIconForFile(a),canGoBack:true}}))}));return}if(t===w["a"].FILE_CONNECTION_TYPES.NATIVE_FILES){R["a"].getConnectionInputs(o,s,void 0,void 0,n).then((function(t){if(e!==i.stateId)return;i.currentConnectorInput=t;i.currentConnectorInput.connectionInput={singleFileName:a};R["a"].getNativeFileModel().then((function(t){var n=t.fileConnector;n||(n=t.fileConnections[0]);if(e!==i.stateId)return;i.titleModel={type:a,imagepath:A["a"].getIconForFile(a),canGoBack:true};i.currentConnector=n}))}));return}R["a"].getConnectionInputs(t,s,false,void 0,n).then((function(n){if(n){if(e!==i.stateId)return;n.connectionInput=u;n.options||(n.options={});n.options.hidePreview=d;i.currentConnectorInput=n;R["a"].getConnectorByName(n.dataconnectorInstance.sourceConnectorID).then((function(n){if(e!==i.stateId)return;i.currentConnector=n;var r=[];r.push({label:"scripteditor.accordion.deleteconnection",icon:"bin",execute:function e(){i.deleteConnection(i.currentConnectorInput.dataconnectorInstance.id,t)}});w["a"].isModifyEnabled()&&r.push({label:"scripteditor.accordion.editdata",icon:"edit",execute:function e(){i.modifyConnection(i.currentConnector.getId(),i.currentConnectorInput.dataconnectorInstance.id,i.currentConnector.connectorType)}});i.titleModel={type:i.currentConnector.getDisplayName(),title:i.currentConnectorInput.dataconnectorInstance.displayName||i.currentConnectorInput.dataconnectorInstance.name,imagepath:i.currentConnector.getImagePath(),menuActions:r}}))}else r.show({title:l["default"].get("AddData.ConnectionRemoved.Title"),message:l["default"].get("AddData.ConnectionRemoved.DialogText"),closeLabel:l["default"].get("AddData.ConnectionRemoved.CloseLabel")}).closed.then((function(){V().then((function(){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{})}))}))}))}i.modifyConnection=function(e,t,n){Q.showEditConnectionDialog(e,t,n,(function(){return V().then((function(){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{})}))}),(function(){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{})}))};i.deleteConnection=function(e,r){R["a"].getDataLoadInput().then((function(a){var o=R["a"].isConnectionInUse(r,a.existingLoadModel.tableModels);var s=l["default"].get("scripteditor.dataconnectors.deletequestion");o&&(s=l["default"].get("AddData.DeleteConnection.ConnectionIsInUseWarning"));n.show({title:l["default"].get("AddData.DeleteConnection.Title"),message:s,okLabel:l["default"].get("Common.Delete")}).closed.then((function(n){if(n){i.initialized=false;R["a"].deleteConnection(e).finally((function(){V().finally((function(){w["a"].changeState(w["a"].STATES.NEW_CONNECTION,{});i.initialized=true;o&&q["a"].publish(M["a"].Events.PubSub.ConnectionDeleted);t((function(){}))}))}))}}))}))};function j(){i.isOpen&&w["a"].hideAddData()}function B(e){i.isOpen&&e&&w["a"].hideAddData()}function V(){R["a"].clearCache();return R["a"].getExistingConnections(true).then((function(e){return I["a"].all({attachedFilesConnector:R["a"].getAttachedFilesConnector(),storageProviderConnections:R["a"].getExistingStorageProviderConnections(),connectors:R["a"].getConnectors()}).then((function(t){i.attachedFilesConnection=t.attachedFilesConnector;i.existingStorageProviderConnections=t.storageProviderConnections;i.connectors=t.connectors;return R["a"].decorateExistingConnectionsWithImages(e).then((function(){i.existingConnections=e}))}))}))}}],template:E});var mt='\n\t<div class="add-data-edit" ng-if="$ctrl.isOpen">\n\n\t\t<div ng-if="!$ctrl.initialized" class="loading-screen">\n\t\t\t<qv-spinner class="spinner" show="true" show-for-at-least="300" spinner-height="200px" spinner-width="200px" center-in-parent="true"></qv-spinner>\n\t\t\t<div class="loading-text" q-translation="quickdataload.initializeWizard"></div>\n\t\t</div>\n\n\t\t<div class="add-data-edit-body">\n\t\t\t<add-data-edit-title-bar ng-if="$ctrl.titleModel" show-filter-tab="$ctrl.titleModel.shouldShowFilters" table-name="$ctrl.titleModel.tableName" the-title="$ctrl.titleModel.title" type="$ctrl.titleModel.type" icon="$ctrl.titleModel.icon" imagepath="$ctrl.titleModel.imagepath"></add-data-edit-title-bar>\n\n\t\t\t<div class="add-data-edit-body-content">\n\t\t\t\t<dm-filter-pane active-table="$ctrl.connectionToEdit.data.id" is-ready="$ctrl.isReady()" ng-if="$ctrl.isReady() && $ctrl.filterManagementService.isFilterPageVisible"></dm-filter-pane>\n\t\t\t\t<add-data-selection ng-if="!$ctrl.inlinedataConnector" connector="$ctrl.currentConnector" connector-input="$ctrl.currentConnectorInput"></add-data-selection>\n\t\t\t\t<edit-manual-data ng-if="$ctrl.inlinedataConnector" connector-input="$ctrl.currentConnectorInput"></edit-manual-data>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="add-data-bottom right-aligned">\n\t\t\t<lui-button class="cancel-button" ng-click="$ctrl.onCancelClicked()" q-translation="Common.Cancel"></lui-button>\n\t\t\t<lui-button tid="update-select-data-from-source" ng-disabled="!$ctrl.currentConnectorInput || $ctrl.currentConnectorInput.qvDialogContext.nextDisabled()" ng-click="$ctrl.onUpdateClicked()" q-translation="AddData.SelectDialog.Update"></lui-button>\n\t\t</div>\n\n\t</div>\n\n\n';var gt='\n\n<div class="left-side">\n\t<div ng-if="$ctrl.imagepath" class="add-data-title-bar-image" ng-style="{\'background-image\': \'url(\' + $ctrl.imagepath + \')\'}"></div>\n\t<span ng-if="$ctrl.icon" class="lui-icon add-data-title-bar-image lui-icon--{{$ctrl.icon}}" aria-hidden="true"></span>\n\t<div class="add-data-title-bar-title">\n\t\t<div class="main" ng-attr-title="{{ $ctrl.type|translate }}">{{$ctrl.type|translate}}</div>\n\t\t<div class="sub" ng-attr-title="{{ $ctrl.theTitle }}" ng-if="$ctrl.theTitle">{{$ctrl.theTitle}}</div>\n\t</div>\n\t<div q-translation="AddData.SelectDialog.EditTitle,{{$ctrl.tableName}}"></div>\n</div>\n<div class="right-side">\n\t<add-data-tabs-menu database-name="$ctrl.type" ng-if="$ctrl.showFilterTab"></add-data-tabs-menu>\n</div>\n\n\n';s["default"].nativeComponent("addDataEditTitleBar",{bindings:{theTitle:"<",type:"<",imagepath:"<",icon:"<",tableName:"<",showFilterTab:"<"},controller:[function(){}],template:gt});var bt=n("/zAH");var yt=n("yB4Y");var wt='<div class="edit-manual-data-table">\n\t<ds-edit-grid table-model="$ctrl.tableModel" class="manual-data-grid"></ds-edit-grid>\n</div>';var St={template:wt,bindings:{connectorInput:"<"},controller:[function(){var e=this;this.$onInit=function(){this.connectorInput.qvDialogContext.next=function(){e.updateInlineTableInLoadModel();e.connectorInput.qvDialogContext.connectorNextComplete()};this.connectorInput.qvDialogContext.nextDisabled=function(){return!e.tableModel.isDirty};this.tableModel={isDirty:false,data:e.connectorInput.tableModelToEdit.data,columns:t(e.connectorInput.tableModelToEdit),rows:n(e.connectorInput.tableModelToEdit)}};this.updateInlineTableInLoadModel=function(){var t=e.tableModel.rows.map((function(e){e=e.slice(0,-1);return e.map((function(e){return e.value}))})).slice(0,-1);var n=e.tableModel.columns.filter((function(e){return e.name}));n.forEach((function(e){e.name=e.name.trim()}));var r=e.connectorInput.newLoadModel;var i=r.getSourceTableByTableRefId(e.tableModel.data.id);var a=false;var o=i.data.fields;o.forEach((function(e){if(e.selected){var t=ie.a.findWhere(n,{id:e.id});if(!t){a=true;e.selected=false}}}));if(a){o.every((function(e){return!e.selected}))&&i.addField("$dummy",0,true);r.serialize()}var s=ie.a.find(r.targetTableModels,(function(e){return e.data.tableRef===i.data.id}));s.setUpdateStatus();var l=s.fields.filter((function(e){return e.type!==yt["DSMTypes"].QueryField.name})).map((function(e){return e.name}));n=X.uniqueFieldNames(n,l);var c=new bt["InlineTableOperations"](i);c.updateInlineTable(n,t);e.connectorInput.qvInternals.activeConnector=X.getActiveConnector()};function t(e){return e.data.fields.filter((function(e){return e.selected})).map((function(e){return{name:e.alias,id:e.id}}))}function n(e){var t=[];e.data.loadStatementModel.data.forEach((function(e){var n=e.map((function(e){return{value:e}}));t.push(n)}));return t}}]};s["default"].nativeComponent("editManualData",St);s["default"].nativeComponent("addDataEditPanel",{bindings:{},controller:[function(){var e=this;var t={};t[M["a"].AddData.Folder]=true;t[M["a"].AddData.QixDataFiles]=true;e.isOpen=false;e.filterManagementService=Qe["a"];function n(e,t){if(t){var n=t.newLoadModel||t.qvInternals.newLoadModel;if(n){var r=ie.a.find(n.targetTableModels,(function(t){return t.data.tableRef===e.data.id}));if(r)return r.data.name}}return e.data.tableName}function r(){var r=n(e.connectionToEdit,e.currentConnectorInput);t[e.connectionToEdit.data.connectionInfo.typeName]?e.titleModel={tableName:r,type:e.connectionToEdit.data.databaseName,imagepath:A["a"].getIconForFile(e.connectionToEdit.data.databaseName),shouldShowFilters:true}:e.currentConnector?e.titleModel={tableName:r,type:e.currentConnector.datasource.entrypoint.name,title:e.currentConnectorInput.dataconnectorInstance.name,imagepath:e.currentConnector.datasource.entrypoint.imagePath}:e.connectionToEdit.data.connectionInfo.name===M["a"].AddData.InlineData?e.titleModel={title:l["default"].get("ManualData.Entry.Label"),icon:"edit",tableName:r}:e.titleModel={}}function i(n){e.connectionToEdit=n;e.connectionToEdit.data.connectionInfo.name===M["a"].AddData.InlineData?R["a"].getDataLoadInput().then((function(t){e.currentConnectorInput=t;e.currentConnectorInput.tableModelToEdit=n;e.inlinedataConnector=true;r()})):R["a"].getConnectionInputs(e.connectionToEdit.data.connectionInfo.name,true,true,e.connectionToEdit,e.connectionToEdit.data.connectionInfo.id,true).then((function(n){var i=n.dataconnectorInstance.sourceConnectorID;e.currentConnectorInput=n;e.currentConnectorInput.tableModelToEdit=e.connectionToEdit;e.currentConnectorInput.editMode=true;t[i]?R["a"].getNativeFileModel().then((function(t){e.currentConnector=t.getConnector();r()})):R["a"].getConnectorByName(i).then((function(t){e.currentConnector=t;r()}))}))}e.$onInit=function(){e.initialized=true};e.onCancelClicked=function(){Qe["a"].reset();w["a"].hideEditAddData()};e.onUpdateClicked=function(){e.currentConnectorInput.qvDialogContext.connectorNextComplete=function(){K["a"].prepareData().then((function(){w["a"].hideEditAddData()}))};e.currentConnectorInput.qvDialogContext.next&&e.currentConnectorInput.qvDialogContext.next()};e.$doCheck=function(){!e.isOpen&&w["a"].isEditOpen()&&i(w["a"].editConnection);e.isOpen=w["a"].isEditOpen();if(!e.isOpen){e.connectionToEdit=null;e.currentConnector=null;e.currentConnectorInput=null;e.inlinedataConnector=null;e.titleModel={}}};e.isReady=function(){return!(!e.currentConnectorInput||!!e.currentConnectorInput.qvDialogContext.hasOwnProperty("nextDisabled")&&e.currentConnectorInput.qvDialogContext.nextDisabled())}}],template:mt});var xt=function(e){var t=e.appName;return{controller:["$scope",function e(n){n.addDataStateService=w["a"];n.appname=t;n.isPersonalMode=Object(Ne["b"])("IS_DESKTOPCLIENT");this.destroy=function(){return n.$destroy()}}],template:'  \n  <div id="qv-add-data-container">\n  <add-data-panel ng-hide="addDataStateService.editPanelOpen" is-personal-mode="isPersonalMode" appname=\'appname\'></add-data-panel>\n  <add-data-edit-panel ng-show="addDataStateService.editPanelOpen"></add-data-edit-panel>\n</div>'}};var Ct=n("jr/W");function qt(e){qt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return qt(e)}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function kt(e,t,n){t&&It(e.prototype,t);n&&It(e,n);return e}function At(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Tt(e,t)}function Tt(e,t){Tt=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Tt(e,t)}function Dt(e){var t=Mt();return function n(){var r=Pt(e),i;if(t){var a=Pt(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Ot(this,i)}}function Ot(e,t){if(t&&("object"===qt(t)||"function"===typeof t))return t;return Lt(e)}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Pt(e){Pt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Pt(e)}var Nt=function(e){At(n,e);var t=Dt(n);function n(){Et(this,n);return t.apply(this,arguments)}kt(n,[{key:"render",value:function e(){var t=this.props,n=t.percentage,r=t.label,a=t.size;var o=n>50?"green":"orange";var s=null===n?"N/A":"".concat(n,"%");return i.a.createElement("div",{className:"add-data-catalog__kpi"},i.a.createElement("div",{className:"css-circle__c100 ".concat(a," p").concat(n," ").concat(o)},i.a.createElement("span",null,s),i.a.createElement("div",{className:"css-circle__c100__slice"},i.a.createElement("div",{className:"css-circle__c100__bar"}),i.a.createElement("div",{className:"css-circle__c100__fill"}))),i.a.createElement("div",null,r))}}]);return n}(i.a.PureComponent);Nt.propTypes={percentage:h.a.number,label:h.a.string,size:h.a.string};Nt.defaultProps={percentage:null,label:"",size:"small"};var Rt=Nt;function Ft(e){Ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Ft(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Bt(e,t,n){t&&jt(e.prototype,t);n&&jt(e,n);return e}function Vt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Ht(e,t)}function Ht(e,t){Ht=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Ht(e,t)}function zt(e){var t=Gt();return function n(){var r=Wt(e),i;if(t){var a=Wt(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return $t(this,i)}}function $t(e,t){if(t&&("object"===Ft(t)||"function"===typeof t))return t;return Ut(e)}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Wt(e){Wt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Wt(e)}var Qt=function(e){Vt(n,e);var t=zt(n);function n(){_t(this,n);return t.apply(this,arguments)}Bt(n,[{key:"render",value:function e(){var t=this.props.tags;var n=t.length>2;var r=t.slice(0,2);var a=n?t.slice(2):[];return i.a.createElement("div",{className:"add-data-catalog__taglist"},r.map((function(e){return i.a.createElement("div",{className:"add-data-catalog__taglist__tag",title:e,key:e},e)})),n&&i.a.createElement("div",{className:"add-data-catalog__taglist__overflow",title:a.join(", ")},"+",a.length))}}]);return n}(i.a.PureComponent);Qt.propTypes={tags:h.a.array.isRequired};var Kt=Qt;function Yt(e){Yt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Yt(e)}function Jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){t&&Zt(e.prototype,t);n&&Zt(e,n);return e}function en(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&tn(e,t)}function tn(e,t){tn=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return tn(e,t)}function nn(e){var t=on();return function n(){var r=sn(e),i;if(t){var a=sn(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return rn(this,i)}}function rn(e,t){if(t&&("object"===Yt(t)||"function"===typeof t))return t;return an(e)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function sn(e){sn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return sn(e)}var ln=i.a.memo((function(e){var t=e.children;return i.a.createElement("div",{className:"add-data-catalog__card__column"},t)}));var cn=i.a.memo((function(e){var t=e.children;return i.a.createElement("div",{className:"add-data-catalog__card__row"},t)}));var un=function(e){en(n,e);var t=nn(n);function n(e){var r;Jt(this,n);r=t.call(this,e);r.handleClick=r.handleClick.bind(an(r));r.handleDetailsClicked=r.handleDetailsClicked.bind(an(r));return r}Xt(n,[{key:"handleClick",value:function e(){var t=this.props,n=t.card,r=t.onClick;r(n)}},{key:"handleDetailsClicked",value:function e(t){var n=this.props,r=n.card,i=n.onDetailSelected;t.stopPropagation();i(r)}},{key:"render",value:function e(){var t=this.props,n=t.card,r=t.selected,a=t.sizeHint,o=t.dateFormatter;var s="add-data-catalog__card";r&&(s+=" add-data-catalog__card--selected");var c={minWidth:a,maxWidth:a};return i.a.createElement("div",{className:s,style:c,onClick:this.handleClick,onKeyDown:this.handleClick,role:"button",tabIndex:0},i.a.createElement("div",{className:"add-data-catalog__card__header"},i.a.createElement(Rt,{percentage:n.popularityScore,label:l["default"].get("AddData.Catalog.Popularity")}),i.a.createElement(Rt,{percentage:n.qualityScore,label:l["default"].get("AddData.Catalog.Size")}),i.a.createElement(Rt,{percentage:n.operationalScore,label:l["default"].get("AddData.Catalog.Operational")})),i.a.createElement("div",{className:"add-data-catalog__card__details"},i.a.createElement("div",{className:"add-data-catalog__card__title",title:n.entityName},n.entityName),i.a.createElement(cn,null,i.a.createElement(ln,null,l["default"].get("AddData.Catalog.RowCount")),i.a.createElement(ln,null,n.rowCount)),i.a.createElement(cn,null,i.a.createElement(ln,null,l["default"].get("AddData.Catalog.FieldCount")),i.a.createElement(ln,null,n.fieldCount)),i.a.createElement(cn,null,i.a.createElement(ln,null,l["default"].get("AddData.Catalog.LastLoad")),i.a.createElement(ln,null,o(n.lastLoadDate))),i.a.createElement(cn,{title:n.relativePath},i.a.createElement(ln,null,l["default"].get("AddData.Catalog.RelativePath")),i.a.createElement(ln,null,i.a.createElement("div",{className:"add-data-catalog__card__column__content"},n.relativePath))),i.a.createElement(cn,null,i.a.createElement(ln,null,l["default"].get("AddData.Catalog.Source")),i.a.createElement(ln,null,n.sourceName)),i.a.createElement(cn,null,i.a.createElement(ln,null,l["default"].get("AddData.Catalog.Tags")),i.a.createElement(ln,null,i.a.createElement(Kt,{tags:n.tags?n.tags.split(","):[]})))),i.a.createElement("div",{className:"add-data-catalog__card__footer"}))}}]);return n}(i.a.PureComponent);un.propTypes={onClick:h.a.func.isRequired,card:h.a.object.isRequired,selected:h.a.bool.isRequired,onDetailSelected:h.a.func.isRequired,sizeHint:h.a.number.isRequired,dateFormatter:h.a.func.isRequired};var dn=un;var fn=n("ohkM");function pn(e){pn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return pn(e)}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),true).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function gn(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){gn(a,r,i,o,s,"next",e)}function s(e){gn(a,r,i,o,s,"throw",e)}o(void 0)}))}}function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){t&&wn(e.prototype,t);n&&wn(e,n);return e}function xn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Cn(e,t)}function Cn(e,t){Cn=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Cn(e,t)}function qn(e){var t=kn();return function n(){var r=An(e),i;if(t){var a=An(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return En(this,i)}}function En(e,t){if(t&&("object"===pn(t)||"function"===typeof t))return t;return In(e)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function An(e){An=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return An(e)}var Tn=function(e){xn(n,e);var t=qn(n);function n(){var e;yn(this,n);e=t.call(this);e.state={cardSize:300};e.lastScroll=0;e.ignoreLoadRequests=false;e.onScroll=e.onScroll.bind(In(e));e.handleCardSelected=e.handleCardSelected.bind(In(e));e.isCardSelected=e.isCardSelected.bind(In(e));e.onResize=e.onResize.bind(In(e));return e}Sn(n,[{key:"componentDidMount",value:function(){var e=bn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:t=this.props.fetchMoreEntities;this.tableRef&&this.tableRef.addEventListener("scroll",this.onScroll);window.addEventListener("resize",this.onResize);n.next=5;return t();case 5:this.onResize();case 6:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.tableRef&&this.tableRef.removeEventListener("scroll",this.onScroll);window.removeEventListener("resize",this.onResize)}},{key:"onResize",value:function e(){var t=document.getElementById("add-data-catalog-grid");if(!t)return;var n=300;var r=t.clientWidth;var i=10;var a=Math.floor(r/(n+i));var o=Math.floor(r/a)-i*a;this.setState({cardSize:o})}},{key:"onScroll",value:function e(t){var n=t.target.scrollHeight-t.target.clientHeight;var r=t.target.scrollTop;if(r<this.lastScroll){this.lastScroll=r;return}this.lastScroll=r;r>=.8*n&&this.handleInfiniteOnLoad()}},{key:"handleInfiniteOnLoad",value:function(){var e=bn(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:t=this.props,n=t.fetchMoreEntities,r=t.entitiesLoading;if(!r){i.next=3;break}return i.abrupt("return");case 3:i.next=5;return n();case 5:case"end":return i.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCardSelected",value:function e(t){var n=this.props,r=n.selectedEntities,i=n.onSelectionChanged;var a=vn({},r);a[t.fullId]=a[t.fullId]?void 0:t;i(a)}},{key:"isCardSelected",value:function e(t){var n=this.props.selectedEntities;return!!n[t.fullId]}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.entities,a=n.entitiesLoading,o=n.onDetailSelected,s=n.dateFormatter;var c=this.state.cardSize;return i.a.createElement("div",{className:"add-data-catalog__results",id:"add-data-catalog-grid",ref:function e(n){t.tableRef=n}},i.a.createElement(fn["a"],{show:a&&r&&0===r.length}),r&&r.length>0&&r.map((function(e){return i.a.createElement(dn,{key:e.fullId,card:e,onClick:t.handleCardSelected,selected:t.isCardSelected(e),onDetailSelected:o,sizeHint:c,dateFormatter:s})})),!a&&r&&0===r.length&&i.a.createElement("div",{className:"add-data-catalog__results__none"},l["default"].get("AddData.Catalog.List.NoDataFound")))}}]);return n}(i.a.PureComponent);Tn.propTypes={entities:h.a.array.isRequired,entitiesLoading:h.a.bool.isRequired,selectedEntities:h.a.object.isRequired,onSelectionChanged:h.a.func.isRequired,fetchMoreEntities:h.a.func.isRequired,onDetailSelected:h.a.func.isRequired,dateFormatter:h.a.func.isRequired};var Dn=Tn;function On(e){On="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return On(e)}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Pn(e,t,n){t&&Mn(e.prototype,t);n&&Mn(e,n);return e}function Nn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Rn(e,t)}function Rn(e,t){Rn=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Rn(e,t)}function Fn(e){var t=Bn();return function n(){var r=Vn(e),i;if(t){var a=Vn(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return _n(this,i)}}function _n(e,t){if(t&&("object"===On(t)||"function"===typeof t))return t;return jn(e)}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Vn(e){Vn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Vn(e)}var Hn=function(e){Nn(n,e);var t=Fn(n);function n(e){var r;Ln(this,n);r=t.call(this,e);r.state={value:""};r.handleClear=r.handleClear.bind(jn(r));r.handleChange=r.handleChange.bind(jn(r));r.handleKeyPressed=r.handleKeyPressed.bind(jn(r));return r}Pn(n,[{key:"componentDidMount",value:function e(){var t=this.props.defaultSearch;this.setState({value:t})}},{key:"handleClear",value:function e(){var t=this.props.onSearchChanged;this.setState({value:""});t("")}},{key:"handleChange",value:function e(t){var n=this.props.onSearchChanged;this.setState({value:t.target.value});n(t.target.value)}},{key:"handleKeyPressed",value:function e(t){if("Enter"===t.key){var n=this.props.onEnterPressed;n()}}},{key:"render",value:function e(){var t=this.state.value;var n=this.props.placeholderText;return i.a.createElement("div",{className:"add-data-catalog__search"},i.a.createElement(Ct["k"],{className:"add-data-catalog__search__input",value:t,title:l["default"].get("AddData.Catalog.SearchTooltip"),onKeyPress:this.handleKeyPressed,placeholder:n,onChange:this.handleChange,onClear:this.handleClear}))}}]);return n}(i.a.PureComponent);Hn.propTypes={onEnterPressed:h.a.func.isRequired,onSearchChanged:h.a.func.isRequired,placeholderText:h.a.string,defaultSearch:h.a.string};Hn.defaultProps={placeholderText:"",defaultSearch:""};var zn=Hn;function $n(e){$n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return $n(e)}function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),true).forEach((function(t){Wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){t&&Kn(e.prototype,t);n&&Kn(e,n);return e}function Jn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Zn(e,t)}function Zn(e,t){Zn=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Zn(e,t)}function Xn(e){var t=nr();return function n(){var r=rr(e),i;if(t){var a=rr(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return er(this,i)}}function er(e,t){if(t&&("object"===$n(t)||"function"===typeof t))return t;return tr(e)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function rr(e){rr=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return rr(e)}var ir=function(e){Jn(n,e);var t=Xn(n);function n(e){var r;Qn(this,n);r=t.call(this,e);r.state={open:false,selectedTags:{},searchValue:""};r.showTags=r.showTags.bind(tr(r));r.selectTag=r.selectTag.bind(tr(r));r.handleSearchChanged=r.handleSearchChanged.bind(tr(r));r.handleSearchClear=r.handleSearchClear.bind(tr(r));r.isSorted=false;return r}Yn(n,[{key:"componentDidMount",value:function e(){var t=this.props.defaultSelections;var n=this.state.selectedTags;t.forEach((function(e){n[e.key]=true}));this.setState({selectedTags:n})}},{key:"showTags",value:function e(){var t=this.state.open;this.isSorted=false;this.setState({open:!t})}},{key:"selectTag",value:function e(t){var n=this.state.selectedTags;var r=this.props,i=r.onTagsChanged,a=r.tags;var o=Gn({},n);o[t.key]=!o[t.key];this.setState({selectedTags:o});i(a.filter((function(e){return o[e.key]})))}},{key:"handleSearchChanged",value:function e(t){this.setState({searchValue:t.currentTarget.value})}},{key:"handleSearchClear",value:function e(){this.setState({searchValue:""})}},{key:"createTagSelectionContent",value:function e(){var t=this;var n=this.props.tags;var r=this.state,a=r.selectedTags,o=r.searchValue;var s=n;o&&(s=s.filter((function(e){return e.name.toLowerCase().indexOf(o.toLowerCase())>-1})));if(!this.isSorted){s=s.sort((function(e,t){if(a[e.key]&&!a[t.key])return-1;if(!a[e.key]&&a[t.key])return 1;return e.name.localeCompare(t.name)}));this.isSorted=true}return i.a.createElement("div",{className:"add-data-catalog__tagselect__list"},i.a.createElement(Ct["k"],{className:"add-data-catalog__tagselect__list__search",value:o,placeholder:"Filter",onChange:this.handleSearchChanged,onClear:this.handleSearchClear}),i.a.createElement(Ct["i"],{className:"add-data-catalog__tagselect__list__list"},s&&s.length>0&&s.map((function(e){return i.a.createElement(Ct["i"].Item,{key:e.key,onClick:function n(){return t.selectTag(e)}},i.a.createElement(Ct["i"].Text,null,e.name),a[e.key]&&i.a.createElement(Ct["i"].Aside,null,i.a.createElement(Ct["f"],{name:"tick"})))}))))}},{key:"render",value:function e(){var t=this;var n=this.state,r=n.open,a=n.selectedTags;var o=this.props,s=o.text,c=o.selectedText;var u=Object.keys(a).map((function(e){return a[e]}));var d=u.reduce((function(e,t){return e+t}),0);var f=s;d>0&&(f=l["default"].get(c,d));return i.a.createElement("div",{className:"add-data-catalog__tagselect"},i.a.createElement(Ct["a"],{className:"add-data-catalog__tagselect__button",onClick:this.showTags,ref:function e(n){t.tagExpansionButton=n&&n.element}},i.a.createElement("span",null,f),i.a.createElement("div",{className:"add-data-catalog__tagselect__button__caret"},i.a.createElement("span",{className:"lui-icon lui-button__icon cao-edit-expander-span lui-icon--arrow-down"}))),i.a.createElement(Ct["j"],{inline:true,noArrow:true,offset:2,alignTo:this.tagExpansionButton,show:r,onOutside:function e(n){var r=t.tagExpansionButton;r&&r.contains(n.target)&&n.stopImmediatePropagation();if(n.target.classList.contains("lui-icon--close"))return;t.setState({open:false})}},this.createTagSelectionContent()))}}]);return n}(i.a.PureComponent);ir.propTypes={defaultSelections:h.a.array.isRequired,onTagsChanged:h.a.func.isRequired,text:h.a.string.isRequired,selectedText:h.a.string.isRequired,tags:h.a.array.isRequired};var ar=ir;var or=n("8Jek");var sr=n.n(or);var lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function cr(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}var ur={get:dr,set:fr,takeRight:pr,last:hr,orderBy:mr,range:vr,remove:gr,clone:br,getFirstDefined:yr,sum:wr,makeTemplateComponent:Sr,groupBy:xr,isArray:qr,splitProps:kr,compactObject:Ar,isSortingDesc:Tr,normalizeComponent:Dr,asPx:Cr};function dr(e,t,n){if(!t)return e;var r=Er(t);var i=void 0;try{i=r.reduce((function(e,t){return e[t]}),e)}catch(e){}return"undefined"!==typeof i?i:n}function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=arguments[1];var n=arguments[2];var r=Er(t);var i=void 0;var a=e;while((i=r.shift())&&r.length){a[i]||(a[i]={});a=a[i]}a[i]=n;return e}function pr(e,t){var n=t>e.length?0:e.length-t;return e.slice(n)}function hr(e){return e[e.length-1]}function vr(e){var t=[];for(var n=0;n<e;n+=1)t.push(e);return t}function mr(e,t,n,r){return e.sort((function(e,i){for(var a=0;a<t.length;a+=1){var o=t[a];var s=false===n[a]||"desc"===n[a];var l=o(e,i);if(l)return s?-l:l}return n[0]?e[r]-i[r]:i[r]-e[r]}))}function gr(e,t){return e.filter((function(n,r){var i=t(n);if(i){e.splice(r,1);return true}return false}))}function br(e){try{return JSON.parse(JSON.stringify(e,(function(e,t){if("function"===typeof t)return t.toString();return t})))}catch(t){return e}}function yr(){for(var e=0;e<arguments.length;e+=1)if("undefined"!==typeof(arguments.length<=e?void 0:arguments[e]))return arguments.length<=e?void 0:arguments[e]}function wr(e){return e.reduce((function(e,t){return e+t}),0)}function Sr(e,t){if(!t)throw new Error("No displayName found for template component:",e);var n=function t(n){var r=n.children,a=n.className,o=cr(n,["children","className"]);return i.a.createElement("div",lr({className:sr()(e,a)},o),r)};n.displayName=t;return n}function xr(e,t){return e.reduce((function(e,n,r){var i="function"===typeof t?t(n,r):n[t];e[i]=qr(e[i])?e[i]:[];e[i].push(n);return e}),{})}function Cr(e){e=Number(e);return Number.isNaN(e)?null:e+"px"}function qr(e){return Array.isArray(e)}function Er(e){return Ir(e).join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}function Ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(qr(e))for(var n=0;n<e.length;n+=1)Ir(e[n],t);else t.push(e);return t}function kr(e){var t=e.className,n=e.style,r=cr(e,["className","style"]);return{className:t,style:n,rest:r||{}}}function Ar(e){var t={};e&&Object.keys(e).map((function(n){Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&"undefined"!==typeof e[n]&&(t[n]=e[n]);return true}));return t}function Tr(e){return!!("desc"===e.sort||true===e.desc||false===e.asc)}function Dr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return Mr(e)?i.a.createElement(e,t):"function"===typeof e?e(t):n}function Or(e){return"function"===typeof e&&!!Object.getPrototypeOf(e).isReactComponent}function Lr(e){return"function"===typeof e&&String(e).includes(".createElement")}function Mr(e){return Or(e)||Lr(e)}var Pr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Fr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _r=function(e){return function(e){Fr(t,e);function t(){Nr(this,t);return Rr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}Pr(t,[{key:"UNSAFE_componentWillMount",value:function e(){this.setStateWithData(this.getDataModel(this.getResolvedState(),true))}},{key:"componentDidMount",value:function e(){this.fireFetchData()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t,n){var r=this.getResolvedState();var i=this.getResolvedState(t,n);var a=["sorted","filtered","resized","expanded"];a.forEach((function(e){var t="default"+(e.charAt(0).toUpperCase()+e.slice(1));JSON.stringify(r[t])!==JSON.stringify(i[t])&&(i[e]=i[t])}));var o=["sortable","filterable","resizable"];o.forEach((function(e){if(r[e]!==i[e]){var t=e.replace("able","");var n=t+"ed";var a="default"+(n.charAt(0).toUpperCase()+n.slice(1));i[n]=i[a]}}));r.data===i.data&&r.columns===i.columns&&r.pivotBy===i.pivotBy&&r.sorted===i.sorted&&r.filtered===i.filtered||this.setStateWithData(this.getDataModel(i,r.data!==i.data))}},{key:"setStateWithData",value:function e(t,n){var r=this;var i=this.getResolvedState();var a=this.getResolvedState({},t);var o=a.freezeWhenExpanded;a.frozen=false;if(o){var s=Object.keys(a.expanded);for(var l=0;l<s.length;l+=1)if(a.expanded[s[l]]){a.frozen=true;break}}if(i.frozen&&!a.frozen||i.sorted!==a.sorted||i.filtered!==a.filtered||i.showFilters!==a.showFilters||!a.frozen&&i.resolvedData!==a.resolvedData){(i.sorted!==a.sorted&&this.props.collapseOnSortingChange||i.filtered!==a.filtered||i.showFilters!==a.showFilters||i.sortedData&&!a.frozen&&i.resolvedData!==a.resolvedData&&this.props.collapseOnDataChange)&&(a.expanded={});Object.assign(a,this.getSortedData(a))}i.filtered!==a.filtered&&(a.page=0);if(a.sortedData){a.pages=a.manual?a.pages:Math.ceil(a.sortedData.length/a.pageSize);a.page=a.manual?a.page:Math.max(a.page>=a.pages?a.pages-1:a.page,0)}return this.setState(a,(function(){n&&n();i.page===a.page&&i.pageSize===a.pageSize&&i.sorted===a.sorted&&i.filtered===a.filtered||r.fireFetchData()}))}}]);return t}(e)};var jr=function(){function e(e,t){var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Vr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();function Hr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function zr(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function $r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Gr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wr=function(e){return function(e){Gr(t,e);function t(){$r(this,t);return Ur(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}Vr(t,[{key:"getResolvedState",value:function e(t,n){var r=Br({},ur.compactObject(this.state),ur.compactObject(this.props),ur.compactObject(n),ur.compactObject(t));return r}},{key:"getDataModel",value:function e(t,n){var r=this;var a=t.columns,o=t.pivotBy,s=void 0===o?[]:o,l=t.data,c=t.resolveData,u=t.pivotIDKey,d=t.pivotValKey,f=t.subRowsKey,p=t.aggregatedKey,h=t.nestingLevelKey,v=t.originalKey,m=t.indexKey,g=t.groupedByPivotKey,b=t.SubComponent;var y=false;a.forEach((function(e){e.columns&&(y=true)}));var w=[].concat(zr(a));var S=a.find((function(e){return e.expander||e.columns&&e.columns.some((function(e){return e.expander}))}));S&&!S.expander&&(S=S.columns.find((function(e){return e.expander})));if(b&&!S){S={expander:true};w=[S].concat(zr(w))}var x=function e(t,n){var i=void 0;i=t.expander?Br({},r.props.column,r.props.expanderDefaults,t):Br({},r.props.column,t);i.maxWidth<i.minWidth&&(i.minWidth=i.maxWidth);n&&(i.parentColumn=n);if("string"===typeof i.accessor){i.id=i.id||i.accessor;var a=i.accessor;i.accessor=function(e){return ur.get(e,a)};return i}if(i.accessor&&!i.id){console.warn(i);throw new Error("A column id is required if using a non-string accessor for column above.")}i.accessor||(i.accessor=function(){return});return i};var C=[];var q=function e(t,n){var r=x(t,n);C.push(r);return r};var E=w.map((function(e){if(e.columns)return Br({},e,{columns:e.columns.map((function(t){return q(t,e)}))});return q(e)}));var I=E.slice();var k=[];I=I.map((function(e){if(e.columns){var t=e.columns.filter((function(e){return!(s.indexOf(e.id)>-1)&&ur.getFirstDefined(e.show,true)}));return Br({},e,{columns:t})}return e}));I=I.filter((function(e){return e.columns?e.columns.length:!(s.indexOf(e.id)>-1)&&ur.getFirstDefined(e.show,true)}));var A=I.findIndex((function(e){return e.pivot}));if(s.length){var T=[];s.forEach((function(e){var t=C.find((function(t){return t.id===e}));t&&T.push(t)}));var D=T.reduce((function(e,t){return e&&e===t.parentColumn&&t.parentColumn}),T[0].parentColumn);var O=y&&D.Header;O=O||function(){return i.a.createElement("strong",null,"Pivoted")};var L={Header:O,columns:T.map((function(e){return Br({},r.props.pivotDefaults,e,{pivoted:true})}))};if(A>=0){L=Br({},I[A],L);I.splice(A,1,L)}else I.unshift(L)}var M=[];var P=[];var N=function e(t,n){M.push(Br({},r.props.column,n,{columns:t}));P=[]};I.forEach((function(e){if(e.columns){k=k.concat(e.columns);P.length>0&&N(P);N(e.columns,e);return}k.push(e);P.push(e)}));y&&P.length>0&&N(P);var R=function e(t,n){var r;var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var a=(r={},Hr(r,v,t),Hr(r,m,n),Hr(r,f,t[f]),Hr(r,h,i),r);C.forEach((function(e){if(e.expander)return;a[e.id]=e.accessor(t)}));a[f]&&(a[f]=a[f].map((function(t,n){return e(t,n,i+1)})));return a};var F=this.resolvedData;if(!this.resolvedData||n){F=c(l);this.resolvedData=F}F=F.map((function(e,t){return R(e,t)}));var _=k.filter((function(e){return!e.expander&&e.aggregate}));var j=function e(t){var n={};_.forEach((function(e){var r=t.map((function(t){return t[e.id]}));n[e.id]=e.aggregate(r,t)}));return n};if(s.length){var B=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r===n.length)return t;var i=Object.entries(ur.groupBy(t,n[r])).map((function(e){var t;var i=jr(e,2),a=i[0],o=i[1];return t={},Hr(t,u,n[r]),Hr(t,d,a),Hr(t,n[r],a),Hr(t,f,o),Hr(t,h,r),Hr(t,g,true),t}));i=i.map((function(t){var i;var a=e(t[f],n,r+1);return Br({},t,(i={},Hr(i,f,a),Hr(i,p,true),i),j(a))}));return i};F=B(F,s)}return Br({},t,{resolvedData:F,allVisibleColumns:k,headerGroups:M,allDecoratedColumns:C,hasHeaderGroups:y})}},{key:"getSortedData",value:function e(t){var n=t.manual,r=t.sorted,i=t.filtered,a=t.defaultFilterMethod,o=t.resolvedData,s=t.allDecoratedColumns;var l={};s.filter((function(e){return e.sortMethod})).forEach((function(e){l[e.id]=e.sortMethod}));return{sortedData:n?o:this.sortData(this.filterData(o,i,a,s),r,l)}}},{key:"fireFetchData",value:function e(){var t=Br({},this.getResolvedState(),{page:this.getStateOrProp("page"),pageSize:this.getStateOrProp("pageSize"),filtered:this.getStateOrProp("filtered")});this.props.onFetchData(t,this)}},{key:"getPropOrState",value:function e(t){return ur.getFirstDefined(this.props[t],this.state[t])}},{key:"getStateOrProp",value:function e(t){return ur.getFirstDefined(this.state[t],this.props[t])}},{key:"filterData",value:function e(t,n,r,i){var a=this;var o=t;if(n.length){o=n.reduce((function(e,t){var n=i.find((function(e){return e.id===t.id}));if(!n||false===n.filterable)return e;var a=n.filterMethod||r;if(n.filterAll)return a(t,e,n);return e.filter((function(e){return a(t,e,n)}))}),o);o=o.map((function(e){if(!e[a.props.subRowsKey])return e;return Br({},e,Hr({},a.props.subRowsKey,a.filterData(e[a.props.subRowsKey],n,r,i)))})).filter((function(e){if(!e[a.props.subRowsKey])return true;return e[a.props.subRowsKey].length>0}))}return o}},{key:"sortData",value:function e(t,n){var r=this;var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n.length)return t;var a=(this.props.orderByMethod||ur.orderBy)(t,n.map((function(e){if(i[e.id])return function(t,n){return i[e.id](t[e.id],n[e.id],e.desc)};return function(t,n){return r.props.defaultSortMethod(t[e.id],n[e.id],e.desc)}})),n.map((function(e){return!e.desc})),this.props.indexKey);a.forEach((function(e){if(!e[r.props.subRowsKey])return;e[r.props.subRowsKey]=r.sortData(e[r.props.subRowsKey],n,i)}));return a}},{key:"getMinRows",value:function e(){return ur.getFirstDefined(this.props.minRows,this.getStateOrProp("pageSize"))}},{key:"onPageChange",value:function e(t){var n=this.props,e=n.onPageChange,r=n.collapseOnPageChange;var i={page:t};r&&(i.expanded={});this.setStateWithData(i,(function(){return e&&e(t)}))}},{key:"onPageSizeChange",value:function e(t){var e=this.props.onPageSizeChange;var n=this.getResolvedState(),r=n.pageSize,i=n.page;var a=r*i;var o=Math.floor(a/t);this.setStateWithData({pageSize:t,page:o},(function(){return e&&e(t,o)}))}},{key:"sortColumn",value:function e(t,n){var r=this.getResolvedState(),i=r.sorted,a=r.skipNextSort,o=r.defaultSortDesc;var s=Object.prototype.hasOwnProperty.call(t,"defaultSortDesc")?t.defaultSortDesc:o;var l=!s;if(a){this.setStateWithData({skipNextSort:false});return}var c=this.props.onSortedChange;var u=ur.clone(i||[]).map((function(e){e.desc=ur.isSortingDesc(e);return e}));if(ur.isArray(t)){var d=u.findIndex((function(e){return e.id===t[0].id}));if(d>-1){var f=u[d];f.desc===l?n?u.splice(d,t.length):t.forEach((function(e,t){u[d+t].desc=s})):t.forEach((function(e,t){u[d+t].desc=l}));n||(u=u.slice(d,t.length))}else u=n?u.concat(t.map((function(e){return{id:e.id,desc:s}}))):t.map((function(e){return{id:e.id,desc:s}}))}else{var p=u.findIndex((function(e){return e.id===t.id}));if(p>-1){var h=u[p];if(h.desc===l)if(n)u.splice(p,1);else{h.desc=s;u=[h]}else{h.desc=l;n||(u=[h])}}else n?u.push({id:t.id,desc:s}):u=[{id:t.id,desc:s}]}this.setStateWithData({page:!i.length&&u.length||!n?0:this.state.page,sorted:u},(function(){return c&&c(u,t,n)}))}},{key:"filterColumn",value:function e(t,n){var r=this.getResolvedState(),i=r.filtered;var a=this.props.onFilteredChange;var o=(i||[]).filter((function(e){return e.id!==t.id}));""!==n&&o.push({id:t.id,value:n});this.setStateWithData({filtered:o},(function(){return a&&a(o,t,n)}))}},{key:"resizeColumnStart",value:function e(t,n,r){var i=this;t.stopPropagation();var a=t.target.parentElement.getBoundingClientRect().width;var o=void 0;o=r?t.changedTouches[0].pageX:t.pageX;this.trapEvents=true;this.setStateWithData({currentlyResizing:{id:n.id,startX:o,parentWidth:a}},(function(){if(r){document.addEventListener("touchmove",i.resizeColumnMoving);document.addEventListener("touchcancel",i.resizeColumnEnd);document.addEventListener("touchend",i.resizeColumnEnd)}else{document.addEventListener("mousemove",i.resizeColumnMoving);document.addEventListener("mouseup",i.resizeColumnEnd);document.addEventListener("mouseleave",i.resizeColumnEnd)}}))}},{key:"resizeColumnMoving",value:function e(t){t.stopPropagation();var n=this.props,r=n.onResizedChange,i=n.column;var a=this.getResolvedState(),o=a.resized,s=a.currentlyResizing,l=a.columns;var c=l.find((function(e){return e.accessor===s.id||e.id===s.id}));var u=c&&null!=c.minResizeWidth?c.minResizeWidth:i.minResizeWidth;var d=o.filter((function(e){return e.id!==s.id}));var f=void 0;"touchmove"===t.type?f=t.changedTouches[0].pageX:"mousemove"===t.type&&(f=t.pageX);var p=Math.max(s.parentWidth+f-s.startX,u);d.push({id:s.id,value:p});this.setStateWithData({resized:d},(function(){return r&&r(d,t)}))}},{key:"resizeColumnEnd",value:function e(t){t.stopPropagation();var n="touchend"===t.type||"touchcancel"===t.type;if(n){document.removeEventListener("touchmove",this.resizeColumnMoving);document.removeEventListener("touchcancel",this.resizeColumnEnd);document.removeEventListener("touchend",this.resizeColumnEnd)}document.removeEventListener("mousemove",this.resizeColumnMoving);document.removeEventListener("mouseup",this.resizeColumnEnd);document.removeEventListener("mouseleave",this.resizeColumnEnd);n||this.setStateWithData({skipNextSort:true,currentlyResizing:false})}}]);return t}(e)};var Qr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Zr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xr=function e(t){return i.a.createElement("button",Kr({type:"button"},t,{className:"-btn"}),t.children)};var ei=function(e){Zr(t,e);function t(e){Yr(this,t);var n=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getSafePage=n.getSafePage.bind(n);n.changePage=n.changePage.bind(n);n.applyPage=n.applyPage.bind(n);n.state={page:e.page};return n}Qr(t,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.props.page!==t.page&&this.setState({page:t.page})}},{key:"getSafePage",value:function e(t){Number.isNaN(t)&&(t=this.props.page);return Math.min(Math.max(t,0),this.props.pages-1)}},{key:"changePage",value:function e(t){t=this.getSafePage(t);this.setState({page:t});this.props.page!==t&&this.props.onPageChange(t)}},{key:"applyPage",value:function e(t){t&&t.preventDefault();var n=this.state.page;this.changePage(""===n?this.props.page:n)}},{key:"getPageJumpProperties",value:function e(){var t=this;return{onKeyPress:function e(n){13!==n.which&&13!==n.keyCode||t.applyPage()},onBlur:this.applyPage,value:""===this.state.page?"":this.state.page+1,onChange:function e(n){var r=n.target.value;var i=r-1;if(""===r)return t.setState({page:r});t.setState({page:t.getSafePage(i)})},inputType:""===this.state.page?"text":"number",pageJumpText:this.props.pageJumpText}}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.pages,a=n.page,o=n.showPageSizeOptions,s=n.pageSizeOptions,l=n.pageSize,c=n.showPageJump,u=n.canPrevious,d=n.canNext,f=n.onPageSizeChange,p=n.className,h=n.PreviousComponent,v=n.NextComponent,m=n.renderPageJump,g=n.renderCurrentPage,b=n.renderTotalPagesCount,y=n.renderPageSizeOptions;return i.a.createElement("div",{className:sr()(p,"-pagination"),style:this.props.style},i.a.createElement("div",{className:"-previous"},i.a.createElement(h,{onClick:function e(){if(!u)return;t.changePage(a-1)},disabled:!u},this.props.previousText)),i.a.createElement("div",{className:"-center"},i.a.createElement("span",{className:"-pageInfo"},this.props.pageText," ",c?m(this.getPageJumpProperties()):g(a)," ",this.props.ofText," ",b(r)),o&&y({pageSize:l,rowsSelectorText:this.props.rowsSelectorText,pageSizeOptions:s,onPageSizeChange:f,rowsText:this.props.rowsText})),i.a.createElement("div",{className:"-next"},i.a.createElement(v,{onClick:function e(){if(!d)return;t.changePage(a+1)},disabled:!d},this.props.nextText)))}}]);return t}(r["Component"]);ei.defaultProps={PreviousComponent:Xr,NextComponent:Xr,renderPageJump:function e(t){var n=t.onChange,r=t.value,a=t.onBlur,o=t.onKeyPress,s=t.inputType,l=t.pageJumpText;return i.a.createElement("div",{className:"-pageJump"},i.a.createElement("input",{"aria-label":l,type:s,onChange:n,value:r,onBlur:a,onKeyPress:o}))},renderCurrentPage:function e(t){return i.a.createElement("span",{className:"-currentPage"},t+1)},renderTotalPagesCount:function e(t){return i.a.createElement("span",{className:"-totalPages"},t||1)},renderPageSizeOptions:function e(t){var n=t.pageSize,r=t.pageSizeOptions,a=t.rowsSelectorText,o=t.onPageSizeChange,s=t.rowsText;return i.a.createElement("span",{className:"select-wrap -pageSizeOptions"},i.a.createElement("select",{"aria-label":a,onChange:function e(t){return o(Number(t.target.value))},value:n},r.map((function(e,t){return i.a.createElement("option",{key:t,value:e},e+" "+s)}))))}};var ti=ei;var ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ri(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}var ii=function e(){return{}};var ai={data:[],resolveData:function e(t){return t},loading:false,showPagination:true,showPaginationTop:false,showPaginationBottom:true,showPageSizeOptions:true,pageSizeOptions:[5,10,20,25,50,100],defaultPage:0,defaultPageSize:20,showPageJump:true,collapseOnSortingChange:true,collapseOnPageChange:true,collapseOnDataChange:true,freezeWhenExpanded:false,sortable:true,multiSort:true,resizable:true,filterable:false,defaultSortDesc:false,defaultSorted:[],defaultFiltered:[],defaultResized:[],defaultExpanded:{},defaultFilterMethod:function e(t,n,r){var i=t.pivotId||t.id;return void 0===n[i]||String(n[i]).startsWith(t.value)},defaultSortMethod:function e(t,n,r){t=null===t||void 0===t?"":t;n=null===n||void 0===n?"":n;t="string"===typeof t?t.toLowerCase():t;n="string"===typeof n?n.toLowerCase():n;if(t>n)return 1;if(t<n)return-1;return 0},onPageChange:void 0,onPageSizeChange:void 0,onSortedChange:void 0,onFilteredChange:void 0,onResizedChange:void 0,onExpandedChange:void 0,pivotBy:void 0,pivotValKey:"_pivotVal",pivotIDKey:"_pivotID",subRowsKey:"_subRows",aggregatedKey:"_aggregated",nestingLevelKey:"_nestingLevel",originalKey:"_original",indexKey:"_index",groupedByPivotKey:"_groupedByPivot",onFetchData:function e(){return null},className:"",style:{},getProps:ii,getTableProps:ii,getTheadGroupProps:ii,getTheadGroupTrProps:ii,getTheadGroupThProps:ii,getTheadProps:ii,getTheadTrProps:ii,getTheadThProps:ii,getTheadFilterProps:ii,getTheadFilterTrProps:ii,getTheadFilterThProps:ii,getTbodyProps:ii,getTrGroupProps:ii,getTrProps:ii,getTdProps:ii,getTfootProps:ii,getTfootTrProps:ii,getTfootTdProps:ii,getPaginationProps:ii,getLoadingProps:ii,getNoDataProps:ii,getResizerProps:ii,column:{Cell:void 0,Header:void 0,Footer:void 0,Aggregated:void 0,Pivot:void 0,PivotValue:void 0,Expander:void 0,Filter:void 0,Placeholder:void 0,sortable:void 0,resizable:void 0,filterable:void 0,show:true,minWidth:100,minResizeWidth:11,className:"",style:{},getProps:ii,aggregate:void 0,headerClassName:"",headerStyle:{},getHeaderProps:ii,footerClassName:"",footerStyle:{},getFooterProps:ii,filterMethod:void 0,filterAll:false,sortMethod:void 0},expanderDefaults:{sortable:false,resizable:false,filterable:false,width:35},pivotDefaults:{},previousText:"Previous",nextText:"Next",loadingText:"Loading...",noDataText:"No rows found",pageText:"Page",ofText:"of",rowsText:"rows",pageJumpText:"jump to page",rowsSelectorText:"rows per page",TableComponent:function e(t){var n=t.children,r=t.className,a=ri(t,["children","className"]);return i.a.createElement("div",ni({className:sr()("rt-table",r),role:"grid"},a),n)},TheadComponent:ur.makeTemplateComponent("rt-thead","Thead"),TbodyComponent:ur.makeTemplateComponent("rt-tbody","Tbody"),TrGroupComponent:function e(t){var n=t.children,r=t.className,a=ri(t,["children","className"]);return i.a.createElement("div",ni({className:sr()("rt-tr-group",r),role:"rowgroup"},a),n)},TrComponent:function e(t){var n=t.children,r=t.className,a=ri(t,["children","className"]);return i.a.createElement("div",ni({className:sr()("rt-tr",r),role:"row"},a),n)},ThComponent:function e(t){var n=t.toggleSort,r=t.className,a=t.children,o=ri(t,["toggleSort","className","children"]);return i.a.createElement("div",ni({className:sr()("rt-th",r),onClick:function e(t){return n&&n(t)},role:"columnheader",tabIndex:"-1"},o),a)},TdComponent:function e(t){var n=t.toggleSort,r=t.className,a=t.children,o=ri(t,["toggleSort","className","children"]);return i.a.createElement("div",ni({className:sr()("rt-td",r),role:"gridcell"},o),a)},TfootComponent:ur.makeTemplateComponent("rt-tfoot","Tfoot"),FilterComponent:function e(t){var n=t.filter,r=t.onChange,a=t.column;return i.a.createElement("input",{type:"text",style:{width:"100%"},placeholder:a.Placeholder,value:n?n.value:"",onChange:function e(t){return r(t.target.value)}})},ExpanderComponent:function e(t){var n=t.isExpanded;return i.a.createElement("div",{className:sr()("rt-expander",n&&"-open")},"•")},PivotValueComponent:function e(t){var n=t.subRows,r=t.value;return i.a.createElement("span",null,r," ",n&&"("+n.length+")")},AggregatedComponent:function e(t){var n=t.subRows,r=t.column;var a=n.filter((function(e){return"undefined"!==typeof e[r.id]})).map((function(e,t){return i.a.createElement("span",{key:t},e[r.id],t<n.length-1?", ":"")}));return i.a.createElement("span",null,a)},PivotComponent:void 0,PaginationComponent:ti,PreviousComponent:void 0,NextComponent:void 0,LoadingComponent:function e(t){var n=t.className,r=t.loading,a=t.loadingText,o=ri(t,["className","loading","loadingText"]);return i.a.createElement("div",ni({className:sr()("-loading",{"-active":r},n)},o),i.a.createElement("div",{className:"-loading-inner"},a))},NoDataComponent:ur.makeTemplateComponent("rt-noData","NoData"),ResizerComponent:ur.makeTemplateComponent("rt-resizer","Resizer"),PadRowComponent:function e(){return i.a.createElement("span",null," ")}};var oi={data:h.a.any,loading:h.a.bool,showPagination:h.a.bool,showPaginationTop:h.a.bool,showPaginationBottom:h.a.bool,showPageSizeOptions:h.a.bool,pageSizeOptions:h.a.array,defaultPageSize:h.a.number,showPageJump:h.a.bool,collapseOnSortingChange:h.a.bool,collapseOnPageChange:h.a.bool,collapseOnDataChange:h.a.bool,freezeWhenExpanded:h.a.bool,sortable:h.a.bool,resizable:h.a.bool,filterable:h.a.bool,defaultSortDesc:h.a.bool,defaultSorted:h.a.array,defaultFiltered:h.a.array,defaultResized:h.a.array,defaultExpanded:h.a.object,defaultFilterMethod:h.a.func,defaultSortMethod:h.a.func,onPageChange:h.a.func,onPageSizeChange:h.a.func,onSortedChange:h.a.func,onFilteredChange:h.a.func,onResizedChange:h.a.func,onExpandedChange:h.a.func,pivotBy:h.a.array,pivotValKey:h.a.string,pivotIDKey:h.a.string,subRowsKey:h.a.string,aggregatedKey:h.a.string,nestingLevelKey:h.a.string,originalKey:h.a.string,indexKey:h.a.string,groupedByPivotKey:h.a.string,onFetchData:h.a.func,className:h.a.string,style:h.a.object,getProps:h.a.func,getTableProps:h.a.func,getTheadGroupProps:h.a.func,getTheadGroupTrProps:h.a.func,getTheadGroupThProps:h.a.func,getTheadProps:h.a.func,getTheadTrProps:h.a.func,getTheadThProps:h.a.func,getTheadFilterProps:h.a.func,getTheadFilterTrProps:h.a.func,getTheadFilterThProps:h.a.func,getTbodyProps:h.a.func,getTrGroupProps:h.a.func,getTrProps:h.a.func,getTdProps:h.a.func,getTfootProps:h.a.func,getTfootTrProps:h.a.func,getTfootTdProps:h.a.func,getPaginationProps:h.a.func,getLoadingProps:h.a.func,getNoDataProps:h.a.func,getResizerProps:h.a.func,columns:h.a.arrayOf(h.a.shape({Cell:h.a.oneOfType([h.a.element,h.a.string,h.a.func]),Header:h.a.oneOfType([h.a.element,h.a.string,h.a.func]),Footer:h.a.oneOfType([h.a.element,h.a.string,h.a.func]),Aggregated:h.a.oneOfType([h.a.element,h.a.string,h.a.func]),Pivot:h.a.oneOfType([h.a.element,h.a.string,h.a.func]),PivotValue:h.a.oneOfType([h.a.element,h.a.string,h.a.func]),Expander:h.a.oneOfType([h.a.element,h.a.string,h.a.func]),Filter:h.a.oneOfType([h.a.element,h.a.func]),sortable:h.a.bool,resizable:h.a.bool,filterable:h.a.bool,show:h.a.bool,minWidth:h.a.number,minResizeWidth:h.a.number,className:h.a.string,style:h.a.object,getProps:h.a.func,aggregate:h.a.func,headerClassName:h.a.string,headerStyle:h.a.object,getHeaderProps:h.a.func,footerClassName:h.a.string,footerStyle:h.a.object,getFooterProps:h.a.func,filterMethod:h.a.func,filterAll:h.a.bool,sortMethod:h.a.func})),expanderDefaults:h.a.shape({sortable:h.a.bool,resizable:h.a.bool,filterable:h.a.bool,width:h.a.number}),pivotDefaults:h.a.object,previousText:h.a.node,nextText:h.a.node,loadingText:h.a.node,noDataText:h.a.node,pageText:h.a.node,ofText:h.a.node,rowsText:h.a.node,pageJumpText:h.a.node,rowsSelectorText:h.a.node,TableComponent:h.a.elementType,TheadComponent:h.a.elementType,TbodyComponent:h.a.elementType,TrGroupComponent:h.a.elementType,TrComponent:h.a.elementType,ThComponent:h.a.elementType,TdComponent:h.a.elementType,TfootComponent:h.a.elementType,FilterComponent:h.a.elementType,ExpanderComponent:h.a.elementType,PivotValueComponent:h.a.elementType,AggregatedComponent:h.a.elementType,PivotComponent:h.a.elementType,PaginationComponent:h.a.elementType,PreviousComponent:h.a.elementType,NextComponent:h.a.elementType,LoadingComponent:h.a.elementType,NoDataComponent:h.a.elementType,ResizerComponent:h.a.elementType,PadRowComponent:h.a.elementType};var si=function(){function e(e,t){var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var ci=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function di(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function fi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pi=ai;var hi=function(e){fi(t,e);function t(e){ui(this,t);var n=di(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.getResolvedState=n.getResolvedState.bind(n);n.getDataModel=n.getDataModel.bind(n);n.getSortedData=n.getSortedData.bind(n);n.fireFetchData=n.fireFetchData.bind(n);n.getPropOrState=n.getPropOrState.bind(n);n.getStateOrProp=n.getStateOrProp.bind(n);n.filterData=n.filterData.bind(n);n.sortData=n.sortData.bind(n);n.getMinRows=n.getMinRows.bind(n);n.onPageChange=n.onPageChange.bind(n);n.onPageSizeChange=n.onPageSizeChange.bind(n);n.sortColumn=n.sortColumn.bind(n);n.filterColumn=n.filterColumn.bind(n);n.resizeColumnStart=n.resizeColumnStart.bind(n);n.resizeColumnEnd=n.resizeColumnEnd.bind(n);n.resizeColumnMoving=n.resizeColumnMoving.bind(n);n.state={page:e.defaultPage,pageSize:e.defaultPageSize,sorted:e.defaultSorted,expanded:e.defaultExpanded,filtered:e.defaultFiltered,resized:e.defaultResized,currentlyResizing:false,skipNextSort:false};return n}ci(t,[{key:"render",value:function e(){var t=this;var n=this.getResolvedState();var r=n.children,a=n.className,o=n.style,s=n.getProps,l=n.getTableProps,c=n.getTheadGroupProps,u=n.getTheadGroupTrProps,d=n.getTheadGroupThProps,f=n.getTheadProps,p=n.getTheadTrProps,h=n.getTheadThProps,v=n.getTheadFilterProps,m=n.getTheadFilterTrProps,g=n.getTheadFilterThProps,b=n.getTbodyProps,y=n.getTrGroupProps,w=n.getTrProps,S=n.getTdProps,x=n.getTfootProps,C=n.getTfootTrProps,q=n.getTfootTdProps,E=n.getPaginationProps,I=n.getLoadingProps,k=n.getNoDataProps,A=n.getResizerProps,T=n.showPagination,D=n.showPaginationTop,O=n.showPaginationBottom,L=n.manual,M=n.loadingText,P=n.noDataText,N=n.sortable,R=n.multiSort,F=n.resizable,_=n.filterable,j=n.pivotIDKey,B=n.pivotValKey,V=n.pivotBy,H=n.subRowsKey,z=n.aggregatedKey,$=n.originalKey,U=n.indexKey,G=n.groupedByPivotKey,W=n.loading,Q=n.pageSize,K=n.page,Y=n.sorted,J=n.filtered,Z=n.resized,X=n.expanded,ee=n.pages,te=n.onExpandedChange,ne=n.TableComponent,re=n.TheadComponent,ie=n.TbodyComponent,ae=n.TrGroupComponent,oe=n.TrComponent,se=n.ThComponent,le=n.TdComponent,ce=n.TfootComponent,ue=n.PaginationComponent,de=n.LoadingComponent,fe=n.SubComponent,pe=n.NoDataComponent,he=n.ResizerComponent,ve=n.ExpanderComponent,me=n.PivotValueComponent,ge=n.PivotComponent,be=n.AggregatedComponent,ye=n.FilterComponent,we=n.PadRowComponent,Se=n.resolvedData,xe=n.allVisibleColumns,Ce=n.headerGroups,qe=n.hasHeaderGroups,Ee=n.sortedData,Ie=n.currentlyResizing;var ke=Q*K;var Ae=ke+Q;var Te=L?Se:Ee.slice(ke,Ae);var De=this.getMinRows();var Oe=ur.range(Math.max(De-Te.length,0));var Le=xe.some((function(e){return e.Footer}));var Me=_||xe.some((function(e){return e.filterable}));var Pe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return[t.map((function(t,i){r+=1;var a=li({},t,{_viewIndex:r});var o=n.concat([i]);if(a[H]&&ur.get(X,o)){var s=e(a[H],o,r);var l=si(s,2);a[H]=l[0];r=l[1]}return a})),r]};var Ne=Pe(Te);var Re=si(Ne,1);Te=Re[0];var Fe=K>0;var _e=K+1<ee;var je=ur.sum(xe.map((function(e){var t=Z.find((function(t){return t.id===e.id}))||{};return ur.getFirstDefined(t.value,e.width,e.minWidth)})));var Be=-1;var Ve=li({},n,{startRow:ke,endRow:Ae,pageRows:Te,minRows:De,padRows:Oe,hasColumnFooter:Le,canPrevious:Fe,canNext:_e,rowMinWidth:je});var He=ur.splitProps(s(Ve,void 0,void 0,this));var ze=ur.splitProps(l(Ve,void 0,void 0,this));var $e=ur.splitProps(b(Ve,void 0,void 0,this));var Ue=I(Ve,void 0,void 0,this);var Ge=k(Ve,void 0,void 0,this);var We=function e(n,r){var a=function e(t){return(Z.find((function(e){return e.id===t.id}))||{}).value};var o=ur.sum(n.columns.map((function(e){return e.width||a(e)?0:e.minWidth})));var s=ur.sum(n.columns.map((function(e){return ur.getFirstDefined(a(e),e.width,e.minWidth)})));var l=ur.sum(n.columns.map((function(e){return ur.getFirstDefined(a(e),e.width,e.maxWidth)})));var c=ur.splitProps(d(Ve,void 0,n,t));var u=ur.splitProps(n.getHeaderProps(Ve,void 0,n,t));var f=[n.headerClassName,c.className,u.className];var p=li({},n.headerStyle,c.style,u.style);var h=li({},c.rest,u.rest);var v={flex:o+" 0 auto",width:ur.asPx(s),maxWidth:ur.asPx(l)};return i.a.createElement(se,li({key:r+"-"+n.id,className:sr()(f),style:li({},p,v)},h),ur.normalizeComponent(n.Header,{data:Ee,column:n}))};var Qe=function e(){var n=ur.splitProps(c(Ve,void 0,void 0,t));var r=ur.splitProps(u(Ve,void 0,void 0,t));return i.a.createElement(re,li({className:sr()("-headerGroups",n.className),style:li({},n.style,{minWidth:je+"px"})},n.rest),i.a.createElement(oe,li({className:r.className,style:r.style},r.rest),Ce.map(We)))};var Ke=function e(n,r){var a=Z.find((function(e){return e.id===n.id}))||{};var o=Y.find((function(e){return e.id===n.id}));var s="function"===typeof n.show?n.show():n.show;var l=ur.getFirstDefined(a.value,n.width,n.minWidth);var c=ur.getFirstDefined(a.value,n.width,n.maxWidth);var u=ur.splitProps(h(Ve,void 0,n,t));var d=ur.splitProps(n.getHeaderProps(Ve,void 0,n,t));var f=[n.headerClassName,u.className,d.className];var p=li({},n.headerStyle,u.style,d.style);var v=li({},u.rest,d.rest);var m=ur.getFirstDefined(n.resizable,F,false);var g=m?i.a.createElement(he,li({onMouseDown:function e(r){return t.resizeColumnStart(r,n,false)},onTouchStart:function e(r){return t.resizeColumnStart(r,n,true)}},A("finalState",void 0,n,t))):null;var b=ur.getFirstDefined(n.sortable,N,false);return i.a.createElement(se,li({key:r+"-"+n.id,className:sr()(f,m&&"rt-resizable-header",o?o.desc?"-sort-desc":"-sort-asc":"",b&&"-cursor-pointer",!s&&"-hidden",V&&V.slice(0,-1).includes(n.id)&&"rt-header-pivot"),style:li({},p,{flex:l+" 0 auto",width:ur.asPx(l),maxWidth:ur.asPx(c)}),toggleSort:function e(r){b&&t.sortColumn(n,!!R&&r.shiftKey)}},v),i.a.createElement("div",{className:sr()(m&&"rt-resizable-header-content")},ur.normalizeComponent(n.Header,{data:Ee,column:n})),g)};var Ye=function e(){var n=ur.splitProps(f(Ve,void 0,void 0,t));var r=ur.splitProps(p(Ve,void 0,void 0,t));return i.a.createElement(re,li({className:sr()("-header",n.className),style:li({},n.style,{minWidth:je+"px"})},n.rest),i.a.createElement(oe,li({className:r.className,style:r.style},r.rest),xe.map(Ke)))};var Je=function e(n,r){var a=Z.find((function(e){return e.id===n.id}))||{};var o=ur.getFirstDefined(a.value,n.width,n.minWidth);var s=ur.getFirstDefined(a.value,n.width,n.maxWidth);var l=ur.splitProps(g(Ve,void 0,n,t));var c=ur.splitProps(n.getHeaderProps(Ve,void 0,n,t));var u=[n.headerClassName,l.className,c.className];var d=li({},n.headerStyle,l.style,c.style);var f=li({},l.rest,c.rest);var p=J.find((function(e){return e.id===n.id}));var h=n.Filter||ye;var v=ur.getFirstDefined(n.filterable,_,false);return i.a.createElement(se,li({key:r+"-"+n.id,className:sr()(u),style:li({},d,{flex:o+" 0 auto",width:ur.asPx(o),maxWidth:ur.asPx(s)})},f),v?ur.normalizeComponent(h,{column:n,filter:p,onChange:function e(r){return t.filterColumn(n,r)}},ai.column.Filter):null)};var Ze=function e(){var n=ur.splitProps(v(Ve,void 0,void 0,t));var r=ur.splitProps(m(Ve,void 0,void 0,t));return i.a.createElement(re,li({className:sr()("-filters",n.className),style:li({},n.style,{minWidth:je+"px"})},n.rest),i.a.createElement(oe,li({className:r.className,style:r.style},r.rest),xe.map(Je)))};var Xe=function e(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var o={original:n[$],row:n,index:n[U],viewIndex:Be+=1,pageSize:Q,page:K,level:a.length,nestingPath:a.concat([r]),aggregated:n[z],groupedByPivot:n[G],subRows:n[H]};var s=ur.get(X,o.nestingPath);var l=y(Ve,o,void 0,t);var c=ur.splitProps(w(Ve,o,void 0,t));return i.a.createElement(ae,li({key:o.nestingPath.join("_")},l),i.a.createElement(oe,li({className:sr()(c.className,n._viewIndex%2?"-even":"-odd"),style:c.style},c.rest),xe.map((function(e,r){var a=Z.find((function(t){return t.id===e.id}))||{};var l="function"===typeof e.show?e.show():e.show;var c=ur.getFirstDefined(a.value,e.width,e.minWidth);var u=ur.getFirstDefined(a.value,e.width,e.maxWidth);var d=ur.splitProps(S(Ve,o,e,t));var f=ur.splitProps(e.getProps(Ve,o,e,t));var p=[d.className,e.className,f.className];var h=li({},d.style,e.style,f.style);var v=li({},o,{isExpanded:s,column:li({},e),value:o.row[e.id],pivoted:e.pivoted,expander:e.expander,resized:Z,show:l,width:c,maxWidth:u,tdProps:d,columnProps:f,classes:p,styles:h});var m=v.value;var g=void 0;var b=void 0;var y=void 0;var w=function e(n){var r=ur.clone(X);r=s?ur.set(r,v.nestingPath,false):ur.set(r,v.nestingPath,{});return t.setStateWithData({expanded:r},(function(){return te&&te(r,v.nestingPath,n,v)}))};var x=ur.normalizeComponent(e.Cell,v,m);var C=e.Aggregated||(e.aggregate?e.Cell:be);var q=e.Expander||ve;var E=e.PivotValue||me;var I=ge||function(e){return i.a.createElement("div",null,i.a.createElement(q,e),i.a.createElement(E,e))};var k=e.Pivot||I;if(v.pivoted||v.expander){v.expandable=true;g=true;!v.pivoted||v.subRows||fe||(v.expandable=false)}if(v.pivoted){b=o.row[j]===e.id&&v.subRows;y=V.indexOf(e.id)>V.indexOf(o.row[j])&&v.subRows;x=b?ur.normalizeComponent(k,li({},v,{value:n[B]}),n[B]):y?ur.normalizeComponent(C,v,m):null}else v.aggregated&&(x=ur.normalizeComponent(C,v,m));if(v.expander){x=ur.normalizeComponent(q,v,n[B]);if(V){v.groupedByPivot&&(x=null);v.subRows||fe||(x=null)}}var A=g?w:function(){};var T={onClick:A};d.rest.onClick&&(T.onClick=function(e){d.rest.onClick(e,(function(){return A(e)}))});f.rest.onClick&&(T.onClick=function(e){f.rest.onClick(e,(function(){return A(e)}))});return i.a.createElement(le,li({key:r+"-"+e.id,className:sr()(p,!v.expandable&&!l&&"hidden",v.expandable&&"rt-expandable",(b||y)&&"rt-pivot"),style:li({},h,{flex:c+" 0 auto",width:ur.asPx(c),maxWidth:ur.asPx(u)})},d.rest,f.rest,T),x)}))),o.subRows&&s&&o.subRows.map((function(t,n){return e(t,n,o.nestingPath)})),fe&&!o.subRows&&s&&fe(o,(function(){var e=ur.clone(X);ur.set(e,o.nestingPath,false)})))};var et=function e(n,r){var a=Z.find((function(e){return e.id===n.id}))||{};var o="function"===typeof n.show?n.show():n.show;var s=ur.getFirstDefined(a.value,n.width,n.minWidth);var l=s;var c=ur.getFirstDefined(a.value,n.width,n.maxWidth);var u=ur.splitProps(S(Ve,void 0,n,t));var d=ur.splitProps(n.getProps(Ve,void 0,n,t));var f=[u.className,n.className,d.className];var p=li({},u.style,n.style,d.style);return i.a.createElement(le,li({key:r+"-"+n.id,className:sr()(f,!o&&"hidden"),style:li({},p,{flex:l+" 0 auto",width:ur.asPx(s),maxWidth:ur.asPx(c)})},u.rest),ur.normalizeComponent(we))};var tt=function e(n,r){var a=y(Ve,void 0,void 0,t);var o=ur.splitProps(w(Ve,void 0,void 0,t));return i.a.createElement(ae,li({key:"pad-"+r},a),i.a.createElement(oe,{className:sr()("-padRow",(Te.length+r)%2?"-even":"-odd",o.className),style:o.style||{}},xe.map(et)))};var nt=function e(n,r){var a=Z.find((function(e){return e.id===n.id}))||{};var o="function"===typeof n.show?n.show():n.show;var s=ur.getFirstDefined(a.value,n.width,n.minWidth);var l=ur.getFirstDefined(a.value,n.width,n.maxWidth);var c=ur.splitProps(q(Ve,void 0,n,t));var u=ur.splitProps(n.getProps(Ve,void 0,n,t));var d=ur.splitProps(n.getFooterProps(Ve,void 0,n,t));var f=[c.className,n.className,u.className,d.className];var p=li({},c.style,n.style,u.style,d.style);return i.a.createElement(le,li({key:r+"-"+n.id,className:sr()(f,!o&&"hidden"),style:li({},p,{flex:s+" 0 auto",width:ur.asPx(s),maxWidth:ur.asPx(l)})},u.rest,c.rest,d.rest),ur.normalizeComponent(n.Footer,{data:Ee,column:n}))};var rt=function e(){var n=ur.splitProps(x(Ve,void 0,void 0,t));var r=ur.splitProps(C(Ve,void 0,void 0,t));return i.a.createElement(ce,li({className:n.className,style:li({},n.style,{minWidth:je+"px"})},n.rest),i.a.createElement(oe,li({className:sr()(r.className),style:r.style},r.rest),xe.map(nt)))};var it=function e(r){var a=ur.splitProps(E(Ve,void 0,void 0,t));return i.a.createElement(ue,li({},n,{pages:ee,canPrevious:Fe,canNext:_e,onPageChange:t.onPageChange,onPageSizeChange:t.onPageSizeChange,className:a.className,style:a.style,isTop:r},a.rest))};var at=function e(){return i.a.createElement("div",li({className:sr()("ReactTable",a,He.className),style:li({},o,He.style)},He.rest),T&&D?i.a.createElement("div",{className:"pagination-top"},it(true)):null,i.a.createElement(ne,li({className:sr()(ze.className,Ie?"rt-resizing":""),style:ze.style},ze.rest),qe?Qe():null,Ye(),Me?Ze():null,i.a.createElement(ie,li({className:sr()($e.className),style:li({},$e.style,{minWidth:je+"px"})},$e.rest),Te.map((function(e,t){return Xe(e,t)})),Oe.map(tt)),Le?rt():null),T&&O?i.a.createElement("div",{className:"pagination-bottom"},it(false)):null,!Te.length&&i.a.createElement(pe,Ge,ur.normalizeComponent(P)),i.a.createElement(de,li({loading:W,loadingText:M},Ue)))};return r?r(Ve,at,this):at()}}]);return t}(Wr(_r(r["Component"])));hi.propTypes=oi;hi.defaultProps=ai;var vi=hi;function mi(e){mi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return mi(e)}function gi(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function bi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){gi(a,r,i,o,s,"next",e)}function s(e){gi(a,r,i,o,s,"throw",e)}o(void 0)}))}}function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),true).forEach((function(t){Si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function qi(e,t,n){t&&Ci(e.prototype,t);n&&Ci(e,n);return e}function Ei(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Ii(e,t)}function Ii(e,t){Ii=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Ii(e,t)}function ki(e){var t=Di();return function n(){var r=Oi(e),i;if(t){var a=Oi(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Ai(this,i)}}function Ai(e,t){if(t&&("object"===mi(t)||"function"===typeof t))return t;return Ti(e)}function Ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Di(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Oi(e){Oi=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Oi(e)}var Li=65;var Mi=100;var Pi=160;var Ni=200;var Ri=function(e){Ei(n,e);var t=ki(n);function n(e){var r;xi(this,n);r=t.call(this,e);r.state={page:0,pages:-1};r.columns=[{Header:"",sortable:false,className:"add-data-catalog__list__checkbox",accessor:"fullId",minWidth:50,maxWidth:50,width:50,resizable:false,Cell:function e(t){return r.renderCheckbox(t.value)}},{Header:l["default"].get("AddData.Catalog.EntityName"),accessor:"entityName",width:Ni,Cell:function e(t){return i.a.createElement("span",{title:t.value},t.value)}},{Header:l["default"].get("AddData.Catalog.Source"),minWidth:Mi,maxWidth:Mi,width:Mi,resizable:false,accessor:"sourceName",Cell:function e(t){return i.a.createElement("span",{title:t.value},t.value)}},{Header:l["default"].get("AddData.Catalog.Rows"),minWidth:Li,maxWidth:Li,width:Li,className:"add-data-catalog__list__number",resizable:false,id:"rowCount",accessor:"rowCount",Cell:function e(t){return i.a.createElement("span",{className:"add-data-catalog__list__number",title:t.value},t.value)}},{Header:l["default"].get("AddData.Catalog.Fields"),minWidth:Li,maxWidth:Li,width:Li,resizable:false,className:"add-data-catalog__list__number",id:"fieldCount",accessor:"fieldCount",Cell:function e(t){return i.a.createElement("span",{className:"add-data-catalog__list__number",title:t.value},t.value)}},{Header:l["default"].get("AddData.Catalog.Popularity"),id:"popularityScore",minWidth:Mi,maxWidth:Mi,width:Mi,resizable:false,accessor:"popularityScore",Cell:function e(t){return i.a.createElement(Rt,{percentage:t.value,size:"mini"})}},{Header:l["default"].get("AddData.Catalog.Operational"),id:"operationalScore",minWidth:Mi,maxWidth:Mi,width:Mi,resizable:false,accessor:"operationalScore",Cell:function e(t){return i.a.createElement(Rt,{percentage:t.value,size:"mini"})}},{Header:l["default"].get("AddData.Catalog.Size"),id:"qualityScore",minWidth:Mi,maxWidth:Mi,width:Mi,resizable:false,accessor:"qualityScore",Cell:function e(t){return i.a.createElement(Rt,{percentage:t.value,size:"mini"})}},{Header:l["default"].get("AddData.Catalog.RelativePath"),id:"relativePath",accessor:"relativePath",sortable:false,minWidth:Pi,Cell:function e(t){return i.a.createElement("span",{title:t.value},t.value)}},{Header:l["default"].get("AddData.Catalog.LastLoad"),id:"lastLoadDate",minWidth:Pi,resizable:true,accessor:function t(n){return e.dateFormatter(n.lastLoadDate)}}];r.handleRowSelected=r.handleRowSelected.bind(Ti(r));r.fetchData=r.fetchData.bind(Ti(r));return r}qi(n,[{key:"handleRowSelected",value:function e(t){var n=this.props,r=n.onSelectionChanged,i=n.pagedData,a=n.selectedEntities;var o=wi({},a);var s=i.entities.filter((function(e){return e.fullId===t}))[0];o[t]=o[t]?void 0:s;r(o)}},{key:"fetchData",value:function(){var e=bi(regeneratorRuntime.mark((function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n=this.props,r=n.fetchMoreEntities,i=n.entitiesLoading;if(!i){s.next=3;break}return s.abrupt("return");case 3:if(t.sorted&&1===t.sorted.length){a=t.sorted[0].id;o=t.sorted[0].desc?"DESC":"ASC"}s.next=6;return r(t.pageSize,t.page,a,o);case 6:case"end":return s.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"renderCheckbox",value:function e(t){var n=this;var r=this.props.selectedEntities;return i.a.createElement(Ct["c"],{checked:!!r[t],onChange:function e(){return n.handleRowSelected(t)}})}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.pagedData,a=n.entitiesLoading;var o=this.state,s=o.page,c=o.pages;return i.a.createElement("div",{className:"add-data-catalog__list"},i.a.createElement(vi,{columns:this.columns,manual:true,data:r.entities,page:s,pages:c,loading:a,onFetchData:this.fetchData,defaultPageSize:50,showPageSizeOptions:false,defaultSortDesc:false,defaultSorted:[{id:"entityName",desc:false}],style:{height:"100%"},onSortedChange:function e(){t.setState({page:0},(function(){document.getElementsByClassName("rt-tbody")[0].scrollTop=0}))},onPageChange:function e(n){t.setState({page:n},(function(){document.getElementsByClassName("rt-tbody")[0].scrollTop=0}))},previousText:l["default"].get("AddData.Catalog.List.Previous"),nextText:l["default"].get("AddData.Catalog.List.Next"),loadingText:l["default"].get("AddData.Catalog.List.Loading"),noDataText:l["default"].get("AddData.Catalog.List.NoDataFound"),pageText:l["default"].get("AddData.Catalog.List.Page"),ofText:l["default"].get("AddData.Catalog.List.Of"),rowsText:l["default"].get("AddData.Catalog.List.Rows"),className:"-striped -highlight"}))}}],[{key:"getDerivedStateFromProps",value:function e(t,n){if(n.pages!==t.pagedData.totalPages)return{pages:t.pagedData.totalPages,page:0};return null}}]);return n}(i.a.PureComponent);Ri.propTypes={pagedData:h.a.object.isRequired,entitiesLoading:h.a.bool.isRequired,selectedEntities:h.a.object.isRequired,onSelectionChanged:h.a.func.isRequired,fetchMoreEntities:h.a.func.isRequired,dateFormatter:h.a.func.isRequired};var Fi=Ri;function _i(e){_i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return _i(e)}function ji(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Bi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ji(a,r,i,o,s,"next",e)}function s(e){ji(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function zi(e,t,n){t&&Hi(e.prototype,t);n&&Hi(e,n);return e}function $i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Ui(e,t)}function Ui(e,t){Ui=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Ui(e,t)}function Gi(e){var t=Ki();return function n(){var r=Yi(e),i;if(t){var a=Yi(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Wi(this,i)}}function Wi(e,t){if(t&&("object"===_i(t)||"function"===typeof t))return t;return Qi(e)}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ki(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Yi(e){Yi=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Yi(e)}var Ji=function(e){$i(n,e);var t=Gi(n);function n(e){var r;Vi(this,n);r=t.call(this,e);r.state={columns:void 0,data:void 0};return r}zi(n,[{key:"componentDidMount",value:function(){var e=Bi(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:t=this.props.entity;i.next=3;return Me.getSampleData(t.entityId,50);case 3:n=i.sent;r=n.columnInfo.map((function(e,t){return{Header:e.columnName,minWidth:100,id:e.columnName,accessor:function e(n){return n.columnVals[t]}}}));this.setState({columns:r,data:n.rows});case 6:case"end":return i.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeDetails",value:function e(){var t=this.props.onCloseDetails;t()}},{key:"render",value:function e(){var t=this.state,n=t.columns,r=t.data;var a=this.props,o=a.onCloseDetails,s=a.entity;return i.a.createElement("div",{className:"add-data-catalog__details"},i.a.createElement("div",{className:"add-data-catalog__details__header"},i.a.createElement(Ct["e"],{onClick:o},i.a.createElement(Ct["e"].Icon,{name:"arrow-left"})),i.a.createElement("span",null,"Sample data: ",s.entityName)),n&&i.a.createElement(vi,{columns:n,data:r,loading:!r,showPageSizeOptions:false,style:{height:"100%",overflow:"hidden"},previousText:l["default"].get("AddData.Catalog.List.Previous"),nextText:l["default"].get("AddData.Catalog.List.Next"),loadingText:l["default"].get("AddData.Catalog.List.Loading"),noDataText:l["default"].get("AddData.Catalog.List.NoDataFound"),pageText:l["default"].get("AddData.Catalog.List.Page"),ofText:l["default"].get("AddData.Catalog.List.Of"),rowsText:l["default"].get("AddData.Catalog.List.Rows"),className:"-striped -highlight"}))}}]);return n}(i.a.PureComponent);Ji.propTypes={entity:h.a.object.isRequired,onCloseDetails:h.a.func.isRequired};var Zi=Ji;var Xi=n("hIk4");function ea(e){ea="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return ea(e)}function ta(e){return ia(e)||ra(e)||sa(e)||na()}function na(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ra(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ia(e){if(Array.isArray(e))return la(e)}function aa(e,t){return ua(e)||ca(e,t)||sa(e,t)||oa()}function oa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sa(e,t){if(!e)return;if("string"===typeof e)return la(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return la(e,t)}function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ca(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function ua(e){if(Array.isArray(e))return e}function da(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function fa(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){da(a,r,i,o,s,"next",e)}function s(e){da(a,r,i,o,s,"throw",e)}o(void 0)}))}}function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function va(e,t,n){t&&ha(e.prototype,t);n&&ha(e,n);return e}function ma(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&ga(e,t)}function ga(e,t){ga=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return ga(e,t)}function ba(e){var t=Sa();return function n(){var r=xa(e),i;if(t){var a=xa(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ya(this,i)}}function ya(e,t){if(t&&("object"===ea(t)||"function"===typeof t))return t;return wa(e)}function wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sa(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function xa(e){xa=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return xa(e)}var Ca=function(e){ma(n,e);var t=ba(n);function n(){var e;pa(this,n);e=t.call(this);e.state={showDetails:false,activeView:"card",entities:[],pagedEntities:{},tags:[],selectedTags:[],sources:[],searchString:"",selectedSources:[],selectedEntities:{},entitiesLoading:false};e.catalogService=new Me;e.detailEntity=void 0;e.pageCount=-1;e.cardsPerPage=50;e.fetchPagedEntities=e.fetchPagedEntities.bind(wa(e));e.handleSearch=e.handleSearch.bind(wa(e));e.handleSearchChanged=e.handleSearchChanged.bind(wa(e));e.handleTagsChanged=e.handleTagsChanged.bind(wa(e));e.handleSourcesChanged=e.handleSourcesChanged.bind(wa(e));e.handleSelectionChanged=e.handleSelectionChanged.bind(wa(e));e.switchView=e.switchView.bind(wa(e));e.handleDetailSelected=e.handleDetailSelected.bind(wa(e));e.handleCloseDetails=e.handleCloseDetails.bind(wa(e));var r=w["a"].getCatalogState();r&&e.setState(r);return e}va(n,[{key:"componentDidMount",value:function(){var e=fa(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:this.mounted=true;a.next=3;return Promise.all([Me.getAllTags(),Me.getAllSources()]);case 3:t=a.sent;n=aa(t,2);r=n[0];i=n[1];this.mounted&&this.setState({tags:r,sources:i});Re["a"].trackEvent(Re["a"].customEvents.ADD_DATA_QVD_CATALOG_LOAD);case 9:case"end":return a.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentDidUpdate",value:function e(){w["a"].setCatalogState(this.state)}},{key:"componentWillUnmount",value:function e(){this.mounted=false}},{key:"setStateAsync",value:function e(t){var n=this;return new Promise((function(e){n.setState(t,e)}))}},{key:"fetchPagedEntities",value:function(){var e=fa(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,s,l,c,u,d;return regeneratorRuntime.wrap((function e(f){while(1)switch(f.prev=f.next){case 0:a=this.state,o=a.entities,s=a.pagedEntities,l=a.selectedTags,c=a.selectedSources,u=a.searchString;this.pageCount=n;if(!(s&&s.totalPages&&n>s.totalPages)){f.next=4;break}return f.abrupt("return");case 4:f.next=6;return this.setStateAsync({entitiesLoading:true});case 6:f.next=8;return Me.getCatalog(n,t,r||"entityName",i||"ASC",u,l.map((function(e){return e.key})).join(","),c.map((function(e){return e.key})).join(","));case 8:d=f.sent;!d.getError()&&this.mounted&&this.setState({entitiesLoading:false,pagedEntities:d.getPage(),entities:[].concat(ta(o),ta(d.getPage().entities))});case 10:case"end":return f.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"switchView",value:function e(t){var n=this.state.activeView;if(n===t.currentTarget.value)return;this.pageCount=-1;this.setState({entities:[],activeView:t.currentTarget.value})}},{key:"handleSelectionChanged",value:function e(t){this.setState({selectedEntities:t});var n=Object.keys(t).map((function(e){return t[e]}));w["a"].setSelectedCatalogItems(n.filter((function(e){return e})))}},{key:"handleSearch",value:function e(){var t=this;this.setState({entities:[]},(function(){return t.fetchPagedEntities(t.cardsPerPage,0)}))}},{key:"handleSearchChanged",value:function e(t){var n=this;var r=this.state.searchString;Re["a"].trackEvent(Re["a"].customEvents.ADD_DATA_QVD_CATALOG_SEARCH_CHANGED);r&&""===t?this.setState({searchString:t,entities:[]},(function(){return n.fetchPagedEntities(n.cardsPerPage,0)})):this.setState({searchString:t})}},{key:"handleTagsChanged",value:function e(t){var n=this;Re["a"].trackEvent(Re["a"].customEvents.ADD_DATA_QVD_CATALOG_TAG_CHANGED);this.setState({selectedTags:t,entities:[]},(function(){return n.fetchPagedEntities(n.cardsPerPage,0)}))}},{key:"handleSourcesChanged",value:function e(t){var n=this;Re["a"].trackEvent(Re["a"].customEvents.ADD_DATA_QVD_CATALOG_SOURCE_CHANGED);this.setState({selectedSources:t,entities:[]},(function(){return n.fetchPagedEntities(n.cardsPerPage,0)}))}},{key:"handleDetailSelected",value:function e(t){this.detailEntity=t;this.setState({showDetails:true})}},{key:"handleCloseDetails",value:function e(){this.detailEntity=void 0;this.setState({showDetails:false})}},{key:"formatDate",value:function e(t){if(!t)return"";var n={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timeZone:Object(Xi["c"])()};var r="string"===typeof t?new Date(t):t;return Intl.DateTimeFormat(l["default"].locale,n).format(r)}},{key:"render",value:function e(){var t=this;var n=this.state,r=n.entities,a=n.entitiesLoading,o=n.pagedEntities,s=n.searchString,c=n.tags,u=n.selectedTags,d=n.selectedSources,f=n.sources,p=n.selectedEntities,h=n.activeView,v=n.showDetails;var m=Object.keys(p).map((function(e){return p[e]}));var g=m.filter((function(e){return e})).length.toString();return i.a.createElement("div",{className:"add-data-catalog"},v&&i.a.createElement(Zi,{entity:this.detailEntity,onCloseDetails:this.handleCloseDetails}),i.a.createElement("div",{className:"add-data-catalog__main",style:{display:v?"none":null}},i.a.createElement("div",{className:"add-data-catalog__searchContainer"},i.a.createElement(zn,{onSearchChanged:this.handleSearchChanged,placeholderText:l["default"].get("AddData.Catalog.SearchPlaceholder"),onEnterPressed:this.handleSearch,defaultSearch:s}),i.a.createElement(Ct["a"],{onClick:this.handleSearch},l["default"].get("Common.Search"))),i.a.createElement("div",{className:"add-data-catalog__filters"},i.a.createElement(Ct["f"],{className:"add-data-catalog__filters__icon",name:"filter",size:"large"}),i.a.createElement(ar,{onTagsChanged:this.handleTagsChanged,tags:c,defaultSelections:u,selectedText:"AddData.Catalog.Tags.SelectedPlural",text:l["default"].get("AddData.Catalog.Tags")}),i.a.createElement(ar,{onTagsChanged:this.handleSourcesChanged,tags:f,defaultSelections:d,selectedText:"AddData.Catalog.Sources.SelectedPlural",text:l["default"].get("AddData.Catalog.Sources")})),i.a.createElement("div",{className:"add-data-catalog__topbar"},i.a.createElement("div",{className:"add-data-catalog__topbar__left"},l["default"].get("AddData.Catalog.QVDSelected",g.toString())),i.a.createElement("div",{className:"add-data-catalog__topbar__views"},i.a.createElement(Ct["b"],null,i.a.createElement(Ct["e"],{active:"card"===h,disabled:false,value:"card",onClick:this.switchView},i.a.createElement(Ct["e"].Icon,{name:"grid"})),i.a.createElement(Ct["e"],{active:"list"===h,disabled:false,value:"list",onClick:this.switchView},i.a.createElement(Ct["e"].Icon,{name:"list"}))))),"card"===h&&i.a.createElement(Dn,{entities:r,fetchMoreEntities:function e(){return t.fetchPagedEntities(t.cardsPerPage,++t.pageCount)},entitiesLoading:a,selectedEntities:p,onSelectionChanged:this.handleSelectionChanged,onDetailSelected:this.handleDetailSelected,dateFormatter:this.formatDate}),"list"===h&&i.a.createElement(Fi,{pagedData:o,entitiesLoading:a,fetchMoreEntities:this.fetchPagedEntities,selectedEntities:p,onSelectionChanged:this.handleSelectionChanged,dateFormatter:this.formatDate})))}}]);return n}(i.a.PureComponent);var qa=Ca;function Ea(e,t){return Da(e)||Ta(e,t)||ka(e,t)||Ia()}function Ia(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ka(e,t){if(!e)return;if("string"===typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aa(e,t)}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ta(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Da(e){if(Array.isArray(e))return e}function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;it["a"].getService("$timeout")(e,t)}function La(){var e=Object(r["useState"])(false),t=Ea(e,2),n=t[0],i=t[1];Object(r["useEffect"])((function(){function e(e){i(e)}w["a"].showAddDataBind(e);return function(){w["a"].showAddDataUnbind(e)}}),[]);return n}function Ma(){var e=Object(r["useState"])(false),t=Ea(e,2),n=t[0],i=t[1];Object(r["useEffect"])((function(){function e(e){i(e)}w["a"].showEditAddDataBind(e);return function(){w["a"].showEditAddDataUnbind(e)}}),[]);return n}function Pa(){var e=Object(r["useState"])(""),t=Ea(e,2),n=t[0],i=t[1];Object(r["useEffect"])((function(){function e(e){Oa((function(){return i(e)}))}w["a"].activeViewBind(e);return function(){w["a"].activeViewUnbind(e)}}),[]);return n}function Na(){return w["a"].getReactViews()}function Ra(){Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ra.apply(this,arguments)}function Fa(e,t){return Ha(e)||Va(e,t)||ja(e,t)||_a()}function _a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ja(e,t){if(!e)return;if("string"===typeof e)return Ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ba(e,t)}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Va(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Ha(e){if(Array.isArray(e))return e}function za(){var e=Object(b["a"])(te["a"].getParameterByName("app")),t=Fa(e,1),n=t[0];var r=Object(y["a"])(n),a=Fa(r,1),s=a[0];if(!n||!s)return null;return o.a.createPortal(i.a.createElement(qa,{appLayout:s}),document.getElementById("qs-add-data-portal"))}var $a=Object(g["a"])((function(){return{paper:{height:"100%",maxHeight:"95%"}}}));var Ua=function e(t){var n=t.appName,a=t.activeView,o=t.adlVisible,l=t.adlEditVisible;var c=$a();var u=Object(r["useRef"])(void 0);var d=Object(r["useRef"])(void 0);Object(r["useEffect"])((function(){if(!o&&!l&&u.current)try{u.current.destroy()}catch(e){console.error(e)}}),[o,l]);var f=function e(){var t=xt({appName:n});u.current=s["default"].showComponent(d.current,t)};var p=Na().indexOf(a)>-1;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m["a"],{disableBackdropClick:true,disableEnforceFocus:true,open:o||l,onEntered:f,classes:{paper:c.paper},fullWidth:true,maxWidth:"xl"},i.a.createElement("div",{id:"qs-adl-wrapper",ref:d})),p&&"catalog"===a&&i.a.createElement(za,null))};Ua.propTypes={appName:h.a.string.isRequired,activeView:h.a.string.isRequired};var Ga=function(e){var t=La();var n=Ma();var r=Pa();return i.a.createElement(Ua,Ra({},e,{activeView:r,adlVisible:t,adlEditVisible:n}))};function Wa(){Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Wa.apply(this,arguments)}function Qa(e,t){return Xa(e)||Za(e,t)||Ya(e,t)||Ka()}function Ka(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ya(e,t){if(!e)return;if("string"===typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ja(e,t)}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Za(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Xa(e){if(Array.isArray(e))return e}function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=Object(b["a"])(te["a"].getParameterByName("app")),n=Qa(t,1),r=n[0];var a=Object(y["a"])(r),o=Qa(a,1),s=o[0];if(!r||!s)return null;return i.a.createElement(Ga,Wa({},e,{appName:s.qTitle}))}var to=n("/ZiB");var no=n("26BU");var ro=n("V2/N");var io=n("0ghn");var ao=n("5Pwf");var oo=n("vkLz");var so=n("UO/V");function lo(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function co(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){lo(a,r,i,o,s,"next",e)}function s(e){lo(a,r,i,o,s,"throw",e)}o(void 0)}))}}function uo(e,t){return mo(e)||vo(e,t)||po(e,t)||fo()}function fo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function po(e,t){if(!e)return;if("string"===typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(e,t)}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vo(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function mo(e){if(Array.isArray(e))return e}function go(){var e=Object(r["useRef"])(void 0);var t=Object(r["useState"])(0),n=uo(t,2),i=n[0],a=n[1];var o=Object(r["useState"])(false),s=uo(o,2),l=s[0],c=s[1];var u=Object(r["useState"])(false),d=uo(u,2),f=d[0],p=d[1];var h=Object(r["useState"])(false),v=uo(h,2),m=v[0],g=v[1];var b=Object(r["useState"])(""),y=uo(b,2),w=y[0],S=y[1];var x=Object(r["useState"])(0),C=uo(x,2),q=C[0],E=C[1];var I=function t(){a(0);c(false);p(false);g(false);S("");E(0);if(e.current){clearInterval(e.current);e.current=void 0}};var k=function e(t){var n=/\$Syn \d+ =/gm;var r=t.qProgressData.qPersistentProgressMessages;var i=t.qProgressData.qErrorData;if((null===r||void 0===r?void 0:r.length)>0){var a=so["a"].translateMessageArray(r);var o=n.test(a);var s=o?a.match(n).length:0;o&&E((function(e){return e+s}))}i&&i.forEach((function(e){if("EDC_CIRCULAR_REFERENCE"===e.qErrorDataCode)p(true);else{S(e.qErrorString);g(true)}}))};var A=function t(){e.current=setInterval(co(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:a((function(e){return e+1}));n.next=3;return ao["a"].global.getProgress(0);case 3:t=n.sent;k(t);case 5:case"end":return n.stop()}}),e)}))),1e3)};var T=function t(){clearInterval(e.current)};var D=function e(){ao["a"].global.cancelReload();c(false);T()};var O=function(){var e=co(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;I();c(true);A();a.next=6;return t.executeBeforeRun();case 6:n=a.sent;a.next=9;return n.run();case 9:r=a.sent;T();a.next=13;return ao["a"].global.getProgress(0);case 13:i=a.sent;k(i);if(!r){a.next=18;break}a.next=18;return oo["a"].saveApp();case 18:a.next=20;return t.executeAfterRun(r);case 20:c(false);a.next=27;break;case 23:a.prev=23;a.t0=a["catch"](0);g(true);c(false);case 27:case"end":return a.stop()}}),e,null,[[0,23]])})));return function t(n){return e.apply(this,arguments)}}();return{loadStatus:{loadInProgress:l,progressTimeElapsed:i,wasReloadSuccessful:!l&&!m&&!f&&0===q,warnings:{syntheticCount:q,hasCircularRef:f},errors:{hasError:m,errorString:w}},startLoadData:O,cancelReload:D}}var bo=go;var yo=n("lxKZ");var wo=n("/NZN");var So=n("wtkB");function xo(e,t){return ko(e)||Io(e,t)||qo(e,t)||Co()}function Co(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qo(e,t){if(!e)return;if("string"===typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eo(e,t)}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function ko(e){if(Array.isArray(e))return e}var Ao=Object(g["a"])((function(e){return{stacked:{marginBottom:e.spacing(2)}}}));var To=function e(t){var n=t.onCancelled,a=t.progressTimeElapsed,o=t.cancelReload;var s=Ao();var l=Object(io["c"])();var c=Object(r["useState"])(false),u=xo(c,2),d=u[0],f=u[1];var p=function e(){f(true)};var h=function e(){f(false)};var v=function e(){f(false);o();n(true)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(ro["a"],{container:true,direction:"column",wrap:"nowrap",className:"{classes.progress}",alignItems:"center",justify:"center"},i.a.createElement(yo["a"],{size:150,className:s.stacked,tid:"load-data-dialog-progress-spinner"}),i.a.createElement(to["a"],{variant:"h5",className:s.stacked,tid:"load-data-dialog-progress-elapsed"},l("LoadDataDialog.Progress.ElapsedTime",new Date(1e3*a).toISOString().substr(11,8))),i.a.createElement(wo["a"],{variant:"outlined",size:"medium",onClick:p,className:s.stacked,tid:"load-data-dialog-abort-button"},l("scripteditor.progressindicator.abortbutton"))),i.a.createElement(So["a"],{title:l("scripteditor.cancelscriptrundialog.title"),content:l("scripteditor.cancelscriptrundialog.content"),open:d,actionText:l("scripteditor.progressindicator.abortbutton"),onClose:h,onConfirm:v}))};var Do=To;var Oo=n("xkWc");var Lo=n("N6eX");var Mo=n("lPl/");var Po=function(e){return i.a.createElement(Mo["a"],Object.assign({d:"M1.53333333,2 C1.66666667,2 1.8,2.08 1.86666667,2.16 C1.93333333,2.32 2,2.4 2,2.56 L2,10.96 C2,11.12 2,11.28 1.86666667,11.36 C1.8,11.6 1.66666667,11.6 1.53333333,11.6 L0.533333333,11.6 C0.4,11.6 0.266666667,11.6 0.2,11.44 C0.0666666667,11.36 0,11.2 0,11.04 L0,2.56 C0,2.4 0.0666666667,2.24 0.133333333,2.16 C0.266666667,2.08 0.4,2 0.533333333,2 L1.53333333,2 Z M5.53333333,4.4 C5.66666667,4.4 5.8,4.48 5.86666667,4.56 C6,4.72 6,4.88 6,5.04 L6,11.04 C6,11.2 6,11.36 5.86666667,11.44 C5.8,11.6 5.66666667,11.6 5.53333333,11.6 L4.53333333,11.6 C4.4,11.6 4.33333333,11.6 4.2,11.44 C4.06666667,11.36 4,11.2 4,11.04 L4,5.04 C4,4.88 4.06666667,4.72 4.13333333,4.56 C4.26666667,4.48 4.4,4.4 4.53333333,4.4 L5.53333333,4.4 Z M15.92,13.12 C16,13.2 16,13.36 15.92,13.44 L15.44,13.92 C15.36,14 15.2,14 15.12,13.92 L13.76,12.56 C13.12,12.96 12.4,13.28 11.68,13.28 C9.6,13.2 8,11.6 8,9.6 C8,7.6 9.6,6 11.6,6 C13.6,6 15.2,7.6 15.2,9.6 C15.2,10.4 14.96,11.12 14.48,11.68 L15.92,13.12 Z M11.6,11.6 C12.72,11.6 13.6,10.72 13.6,9.6 C13.6,8.48 12.72,7.6 11.6,7.6 C10.48,7.6 9.6,8.48 9.6,9.6 C9.6,10.72 10.48,11.6 11.6,11.6 Z"},e))};var No=n("/irJ");function Ro(){Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ro.apply(this,arguments)}var Fo=r["createElement"]("g",{fill:"none",fillRule:"evenodd"},r["createElement"]("path",{stroke:"#009A4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M38.201 26.271l-7.98-4.079c-2.304 5.72-1.467 11.98 1.78 16.794l6.938-5.657a9.092 9.092 0 01-.738-7.058zm-6.517-6.953a17.922 17.922 0 017.727-6.77l2.988 8.438a9.007 9.007 0 00-2.754 2.4l-7.96-4.068z"}),r["createElement"]("path",{stroke:"#009A4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M45.43 19.89l-2.98-8.424a17.923 17.923 0 0111.965 1.07c9.046 4.143 13.018 14.835 8.872 23.88-4.143 9.043-14.837 13.015-23.882 8.87a17.935 17.935 0 01-5.37-3.797l6.953-5.667c.631.541 1.318 1.035 2.114 1.4a9.14 9.14 0 0012.119-4.502A9.14 9.14 0 0050.72 20.6a9.099 9.099 0 00-5.29-.71z"}),r["createElement"]("path",{stroke:"#55565C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M88.233 55.929H6.188a5.383 5.383 0 01-5.384-5.383V6.188A5.383 5.383 0 016.188.803h82.045a5.384 5.384 0 015.384 5.384v44.358a5.384 5.384 0 01-5.384 5.383zm0 68.625H6.188a5.382 5.382 0 01-5.384-5.383V74.811a5.383 5.383 0 015.384-5.383h82.045a5.384 5.384 0 015.384 5.383v44.359a5.383 5.383 0 01-5.384 5.383zm104.625-68.625h-82.045a5.383 5.383 0 01-5.384-5.383V6.188a5.383 5.383 0 015.384-5.384h82.045a5.384 5.384 0 015.384 5.384v44.358a5.384 5.384 0 01-5.384 5.383zm-52.554 68.625h-29.492a5.382 5.382 0 01-5.383-5.383V74.811a5.383 5.383 0 015.383-5.383h82.046a5.383 5.383 0 015.383 5.383v44.359"}),r["createElement"]("path",{fill:"#009A4D",d:"M135.84 45.225h5.955V18.983h-5.955v26.242zm-1.316 1.314h8.585V17.667h-8.585v28.872zM150.731 26.066v19.815h-1.314V27.38h-4.934v-1.314zM157.01 45.225h5.956V12.711h-5.957v32.514zm-1.314 1.314h8.584V11.395h-8.584V46.54zM171.902 21.113v24.768h-1.314V22.429h-4.933v-1.316z"}),r["createElement"]("path",{fill:"#009A4D",d:"M128.875 46.539h48.677v-1.314h-48.677zM125.679 46.539h1.548v-1.314h-1.548zM179.257 46.539h1.547v-1.314h-1.547zM32.871 104.656H27l-1.95-1.949h-2.493v-1.786h3.234l1.948 1.948h4.392l5.748-5.748h4.752l4.625-4.623h8.524l5.696 5.694h2.634l10.17-10.17h6.586v1.788h-5.844L64.849 99.98h-4.113l-5.695-5.695h-7.046l-4.624 4.624h-4.752zM13.071 114.242h5.48v-1.787h-5.48zM13.071 106.764h5.48v-1.786h-5.48zM13.071 99.287h5.48v-1.788h-5.48zM13.071 91.808h5.48v-1.787h-5.48zM13.071 84.332h5.48v-1.788h-5.48z"}),r["createElement"]("path",{fill:"#54565B",d:"M180.952 122.855l1.767 1.765 2.81-2.81-1.765-1.766-2.812 2.81zm1.767 4.395l-4.397-4.395 5.442-5.44 4.397 4.394-5.442 5.44zm17.503 14.875l1.765 1.765 2.813-2.81-1.767-1.768-2.811 2.813zm1.765 4.395l-4.396-4.395 5.442-5.442 4.396 4.396-5.442 5.44z"}),r["createElement"]("path",{fill:"#54565B",d:"M164.78 85.096c-4.809 0-9.62 1.833-13.28 5.494-7.324 7.323-7.324 19.24 0 26.564 7.325 7.324 19.241 7.324 26.563 0 7.324-7.325 7.324-19.24 0-26.564a18.728 18.728 0 00-13.283-5.494m0 39.41c-5.286 0-10.572-2.012-14.596-6.037-8.048-8.049-8.048-21.147 0-29.194 8.047-8.048 21.144-8.05 29.193 0 8.05 8.047 8.05 21.145 0 29.194-4.023 4.025-9.31 6.036-14.597 6.036m-16.287-36.92c-8.982 8.98-8.982 23.594 0 32.575 8.982 8.982 23.594 8.983 32.576 0 8.98-8.98 8.98-23.595 0-32.576-8.982-8.98-23.595-8.98-32.576 0m16.289 41.17c-6.375 0-12.75-2.426-17.603-7.279-9.706-9.708-9.706-25.5 0-35.206 9.705-9.704 25.499-9.704 35.204 0 9.706 9.706 9.706 25.498 0 35.206-4.853 4.853-11.228 7.278-17.601 7.278m18.118-1.685l14.874 14.875 5.078-5.079-14.873-14.874-5.079 5.078zm14.874 17.505l-17.503-17.505 7.708-7.707 17.502 17.503-7.707 7.709z"}),r["createElement"]("path",{fill:"#54565B",d:"M194.881 140.365l-1.314-1.313 6.393-6.395 1.316 1.315zM185.79 131.275l-1.314-1.314 6.393-6.395 1.316 1.316z"}),r["createElement"]("path",{fill:"#009A4D",d:"M155.719 98.546h-1.316v4.933h-6.567c-.009.213-.031.422-.031.638 0 .228.024.451.034.676h7.88v-6.247zm8.398-1.374v-8.585h-6.036c-.863.368-1.68.816-2.46 1.316h7.18v5.955h-12.822c-.242.426-.458.865-.663 1.314h14.8zm-26.813 6.945c0-.216.029-.424.031-.638h-15.028v-6.307h15.924c.115-.438.216-.884.353-1.314h-16.277v-5.956h19.021c.27-.442.537-.888.832-1.315h-19.853v-5.649h-1.316v28.802h1.316v-6.947h15.032c-.005-.227-.035-.449-.035-.677"}));function _o(e){return r["createElement"]("svg",Ro({viewBox:"0 0 208 147"},e),Fo)}var jo="../../resources/analyze.6185b26cce27607bf8eaa450a5e04eef.svg";var Bo=n("p+Qe");var Vo=Object(g["a"])((function(e){return{imageWrapper:{width:"200px",height:"175px"},imageWrapperSmall:{width:"200px",height:"100px"},textWrapper:{height:"100px"},text:{textAlign:"center"},image:{width:"150px"},imageSmall:{width:"100px"},button:{marginBottom:e.spacing(2)}}}));var Ho=function e(t){var n=t.onNavigate,r=t.size;var a=Vo();var o=Object(io["c"])();var s=Bo["a"].isVariableDefined("DISABLE_INSIGHTS");var l=function e(){No["a"].goToInsightAdvisor();n()};return i.a.createElement(ro["a"],{container:true,direction:"column",wrap:"nowrap",alignItems:"center"},i.a.createElement(ro["a"],{container:true,className:"small"===r?a.imageWrapperSmall:a.imageWrapper,alignItems:"center",justify:"center"},i.a.createElement(_o,{className:"small"===r?a.imageSmall:a.image})),i.a.createElement(ro["a"],{container:true,className:a.textWrapper,alignItems:"flex-start",justify:"center"},i.a.createElement(to["a"],{variant:"body1",className:a.text},o("LoadDataDialog.InsightsButton.Explanation"))),i.a.createElement(wo["a"],{variant:"outlined",size:"medium",onClick:l,className:a.button,startIcon:i.a.createElement(Po,null),disabled:s,tid:"load-data-dialog-gotoinsights"},o("LoadDataDialog.InsightsButton.GoToInsights")))};var zo=Ho;var $o=n("t9Fd");var Uo=n("JP+O");var Go=n("gh04");var Wo=n("Y9P5");function Qo(){Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Qo.apply(this,arguments)}var Ko=r["createElement"]("defs",null,r["createElement"]("path",{id:"sheets_svg__a",d:"M0 125.696h186.913V0H0z"}));var Yo=r["createElement"]("g",{fill:"none",fillRule:"evenodd",transform:"translate(.629 -.196)"},r["createElement"]("path",{stroke:"#55565C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M159.075 22.668v11.057a6.633 6.633 0 006.634 6.634h11.057"}),r["createElement"]("path",{stroke:"#55565C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.978 62.473V22.667a8.845 8.845 0 018.846-8.845h131.009c2.347 0 4.595.932 6.256 2.59l16.932 16.934a8.85 8.85 0 012.59 6.255v75.947a8.847 8.847 0 01-8.845 8.846H28.824a8.846 8.846 0 01-8.846-8.846s.442-53.075 0-53.075z"}),r["createElement"]("path",{stroke:"#55565C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.148 111.874a8.847 8.847 0 01-8.846-8.845s.443-53.075 0-53.075V10.148a8.847 8.847 0 018.846-8.846h131.01c2.346 0 4.596.933 6.255 2.592"}),r["createElement"]("path",{fill:"#009A4D",d:"M64.688 52.859h-7.926l-4.996-4.995h-4.48l-2.382 2.381h-5.271v-1.487h4.655l2.382-2.382h5.712l4.996 4.995h6.694l8.423-8.419h5.673l2.689-2.689h7.28v1.486h-6.664l-2.69 2.69h-5.672zM48.212 42.271h-4.883l-1.622-1.622h-2.075v-1.486h2.691l1.622 1.621h3.651l4.781-4.781h3.954l3.847-3.846h7.093l4.737 4.738h2.19l8.461-8.462h5.477v1.487h-4.861l-8.461 8.462h-3.422l-4.737-4.739h-5.862l-3.846 3.848h-3.953z"}),r["createElement"]("mask",{id:"sheets_svg__b",fill:"#fff"},r["createElement"]("use",{xlinkHref:"#sheets_svg__a"})),r["createElement"]("path",{fill:"#009A4D",mask:"url(#sheets_svg__b)",d:"M41.073 61.941h1.488v-12.44h-1.488zM31.741 56.465h4.558v-1.487h-4.558zM31.741 50.245h4.558v-1.488h-4.558zM31.741 44.025h4.558v-1.488h-4.558zM31.741 37.804h4.558v-1.488h-4.558zM31.741 31.584h4.558v-1.487h-4.558zM31.741 25.363h4.558v-1.487h-4.558zM45.049 61.941h1.487V48.304h-1.487zM49.025 61.941h1.488V47.12h-1.488zM53.002 61.941h1.488V48.792h-1.488zM56.979 61.941h1.487v-9.826h-1.487zM60.954 61.941h1.488v-9.826h-1.488zM64.931 61.941h1.487V50.822h-1.487zM68.907 61.941h1.488V46.845h-1.488zM72.883 61.941h1.487V43.695h-1.487zM76.859 61.941h1.488V43.695h-1.488zM80.836 61.941h1.488V41.006h-1.488zM84.813 61.941H86.3V41.006h-1.487z"}),r["createElement"]("path",{fill:"#009A4D",mask:"url(#sheets_svg__b)",d:"M39.633 62.685h48.504v-1.487H39.633zM31.741 62.685h4.558v-1.487h-4.558zM90.065 62.685h1.75v-1.487h-1.75z"}),r["createElement"]("path",{stroke:"#009A4D",strokeDasharray:"2.963 2.963",strokeLinecap:"round",d:"M114.517 70.175h56.847a4.954 4.954 0 014.954 4.955v35.68a4.954 4.954 0 01-4.954 4.954h-56.847a4.955 4.955 0 01-4.955-4.955V75.13a4.955 4.955 0 014.955-4.954z",mask:"url(#sheets_svg__b)"}),r["createElement"]("path",{stroke:"#009A4D",strokeDasharray:"2.969 2.969",strokeLinecap:"round",d:"M34.899 70.175h60.918a4.954 4.954 0 014.953 4.955v35.68a4.954 4.954 0 01-4.953 4.954H34.899a4.955 4.955 0 01-4.955-4.955V75.13a4.955 4.955 0 014.955-4.954z",mask:"url(#sheets_svg__b)"}),r["createElement"]("path",{fill:"#009A4D",d:"M119.42 60.546h5.68V35.511h-5.68v25.035zm-1.254 1.255h8.189V34.257h-8.19v27.544zM133.625 42.27v18.904h-1.254v-17.65h-4.705V42.27zM139.618 60.546h5.68V29.527h-5.68v31.02zm-1.256 1.255h8.19V28.273h-8.19v33.528zM153.824 37.545v23.629h-1.255V38.799h-4.706v-1.254z",mask:"url(#sheets_svg__b)"}),r["createElement"]("path",{fill:"#009A4D",mask:"url(#sheets_svg__b)",d:"M112.775 61.801h46.438v-1.255h-46.438zM109.725 61.801h1.477v-1.255h-1.477zM160.84 61.801h1.476v-1.255h-1.476z"}),r["createElement"]("path",{fill:"#54565B",d:"M146.197 92.155s2.516 13.754 2.794 15.507c.143.916.586 1.343 1.073 1.343.448 0 .933-.358 1.26-1.021l2.167-4.002 3.143 3.167c.214.18.399.4.555.646.303.473.814.707 1.338.707.436 0 .882-.163 1.22-.486l2.289-2.177c.809-.772.61-2.044-.323-2.658a4.095 4.095 0 01-.722-.604l-3.052-3.074 3.972-2.182c1.375-.69 1.422-2.075-.32-2.35-1.74-.28-15.394-2.816-15.394-2.816m1.216 1.22c3.538.655 12.604 2.331 14.025 2.559.275.044.417.113.482.156-.051.08-.183.224-.48.375l-3.972 2.18-1.137.626.914.92 3.041 3.063c.28.29.579.54.89.744a.84.84 0 01.387.612.624.624 0 01-.2.521l-2.29 2.178a.803.803 0 01-.546.216c-.13 0-.37-.033-.515-.256a3.823 3.823 0 00-.714-.836l-3.114-3.138-.927-.934-.627 1.158-2.18 4.031c-.133.267-.27.396-.34.448-.043-.069-.112-.215-.154-.488-.227-1.432-1.893-10.577-2.543-14.135",mask:"url(#sheets_svg__b)"}));function Jo(e){return r["createElement"]("svg",Qo({viewBox:"0 0 188 126"},e),Ko,Yo)}var Zo="../../resources/sheets.48b8a2b80d71f10724fed818a51c6270.svg";function Xo(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function es(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xo(a,r,i,o,s,"next",e)}function s(e){Xo(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ts(e,t){return os(e)||as(e,t)||rs(e,t)||ns()}function ns(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rs(e,t){if(!e)return;if("string"===typeof e)return is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return is(e,t)}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function as(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function os(e){if(Array.isArray(e))return e}var ss=Object(g["a"])((function(e){return{imageWrapper:{width:"200px",height:"175px"},imageWrapperSmall:{width:"200px",height:"100px"},textWrapper:{height:"100px"},text:{textAlign:"center"},image:{width:"150px"},imageSmall:{width:"100px"},button:{marginBottom:e.spacing(2)}}}));var ls=function e(t){var n=t.onNavigate,r=t.size;var a=ss();var o=Object(io["c"])();var s=Object(b["a"])(),l=ts(s,1),c=l[0];var u=function(){var e=es(regeneratorRuntime.mark((function e(){var t,r,i,a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:t=Wo["a"].Sheets.UNSAFE_all.mashed;r=t.length;if(!(0===r)){l.next=16;break}l.next=5;return Uo["a"].addSheet(null);case 5:l.next=7;return Go["a"].getList();case 7:i=l.sent;l.next=10;return i.getLayout();case 10:a=l.sent;c.clearUndoBuffer();o=a[0];o&&No["a"].goToSheet(o.qInfo.qId,"edit");l.next=17;break;case 16:if(r>0){s=t[0];No["a"].goToSheet(s.qInfo.qId,"edit")}case 17:n();case 18:case"end":return l.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();return i.a.createElement(ro["a"],{container:true,direction:"column",wrap:"nowrap",alignItems:"center"},i.a.createElement(ro["a"],{container:true,className:"small"===r?a.imageWrapperSmall:a.imageWrapper,alignItems:"center",justify:"center"},i.a.createElement(Jo,{className:"small"===r?a.imageSmall:a.image})),i.a.createElement(ro["a"],{container:true,className:a.textWrapper,alignItems:"flex-start",justify:"center"},i.a.createElement(to["a"],{variant:"body1",className:a.text},o("LoadDataDialog.SheetButton.ExplanationText"))),i.a.createElement(wo["a"],{variant:"outlined",size:"medium",onClick:u,className:a.button,startIcon:i.a.createElement($o["a"],null),disabled:!c,tid:"load-data-dialog-go-to-sheet-button"},o("LoadDataDialog.SheetButton.GoToSheet")))};var cs=ls;var us=Object(g["a"])((function(e){return{contentContainer:{height:"100%",flex:"auto"},divider:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},continueContainer:{marginTop:e.spacing(4)},stacked:{marginBottom:e.spacing(2)},associationIcon:{fontSize:"46px",marginRight:e.spacing(2)},continueTextContainer:{width:"200px",marginRight:e.spacing(2)}}}));var ds=function e(t){var n=t.onClose;var r=us();var a=Object(io["c"])();var o=function e(){D["a"].inDataManager()||No["a"].goToDataManager();n()};return i.a.createElement(ro["a"],{container:true,direction:"column",wrap:"nowrap",className:r.contentContainer,alignItems:"center",justify:"space-evenly",tid:"load-data-dialog-success-container"},i.a.createElement(ro["a"],{container:true,direction:"row",alignItems:"center",justify:"center",wrap:"nowrap"},i.a.createElement(zo,{onNavigate:n}),i.a.createElement(Oo["a"],{orientation:"vertical",flexItem:true,className:r.divider}),i.a.createElement(cs,{onNavigate:n})),i.a.createElement(ro["a"],{container:true,direction:"row",alignItems:"center",justify:"center",wrap:"nowrap",className:r.continueContainer},i.a.createElement(Lo["a"],{size:"inherit",className:r.associationIcon}),i.a.createElement(ro["a"],{container:true,direction:"column",className:r.continueTextContainer},i.a.createElement(to["a"],{variant:"h5"},a("LoadDataDialog.ContinueInDataManager.Title")),i.a.createElement(to["a"],{variant:"body1"},a("LoadDataDialog.ContinueInDataManager.Explaination"))),i.a.createElement(wo["a"],{variant:"outlined",size:"medium",onClick:o,tid:"load-data-dialog-close-button"},a("Common.Close"))))};var fs=ds;var ps=function(e){return i.a.createElement(Mo["a"],Object.assign({d:"M8.86225926,1.6 L15.7815749,13.5 C16.2829746,14.3 15.8818548,15 14.9793354,15 L1.04042422,15 C0.0853772072,15 -0.232971797,14.3650794 0.172002787,13.6135407 L7.05722041,1.6 C7.55862009,0.8 8.36085958,0.8 8.86225926,1.6 Z M7.962,2.007 C7.95987183,2.02476599 7.95607967,2.03712023 7.94920396,2.05249845 L1.1033193,14 L14.915544,14 L7.99777452,2.10265906 L7.97779697,2.06138411 L7.96394459,2.01964415 L7.962,2.007 Z M7.5,11 L8.5,11 C8.76666667,11 8.95432099,11.1580247 8.99272977,11.4038409 L9,11.5 L9,12.5 C9,12.7666667 8.84197531,12.954321 8.59615912,12.9927298 L8.5,13 L7.5,13 C7.23333333,13 7.04567901,12.8419753 7.00727023,12.5961591 L7,12.5 L7,11.5 C7,11.2333333 7.15802469,11.045679 7.40384088,11.0072702 L7.5,11 L8.5,11 L7.5,11 Z M7.5,5 L8.5,5 C8.76666667,5 8.95432099,5.15802469 8.99272977,5.40384088 L9,5.5 L9,9.5 C9,9.76666667 8.84197531,9.95432099 8.59615912,9.99272977 L8.5,10 L7.5,10 C7.23333333,10 7.04567901,9.84197531 7.00727023,9.59615912 L7,9.5 L7,5.5 C7,5.23333333 7.15802469,5.04567901 7.40384088,5.00727023 L7.5,5 L8.5,5 L7.5,5 Z"},e))};var hs=n("FIcw");var vs=n("oQEK");var ms=n("Lj2P");var gs=function e(t){var n=t.helpId,r=t.tooltip;var a=function e(){var t="".concat(ms["a"].path).concat(n);window.open(t)};return i.a.createElement(vs["a"],{onClick:a,title:r},i.a.createElement(hs["a"],null))};var bs=gs;var ys=Object(g["a"])((function(e){return{contentContainer:{height:"100%",flex:"auto"},warningIconContainer:{width:"40%",textAlign:"center"},warningIcon:{fontSize:"70px",marginRight:e.spacing(2)},closeWarningContainer:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},closeButton:{margin:e.spacing(2)},continueJourneyDivider:{flex:"auto",margin:e.spacing("auto",2)},divider:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}));var ws=function e(t){var n=t.syntheticCount,r=t.hasCircularRef,a=t.onClose;var o=ys();var s=Object(io["c"])();var l=n>0?"QuickDataLoad_SyntheticKey":"QuickDataLoad_CircularReference";var c=s(n>0?"quickdataimport.progressindicator.readmoreaboutsynthetickey":"quickdataimport.progressindicator.readmoreaboutcircularreference");return i.a.createElement(ro["a"],{container:true,direction:"column",wrap:"nowrap",alignItems:"center",justify:"space-evenly",className:o.contentContainer},i.a.createElement(ro["a"],{container:true,wrap:"nowrap",alignItems:"center",justify:"center"},i.a.createElement("div",{className:o.warningIconContainer},i.a.createElement(ps,{size:"inherit",className:o.warningIcon})),i.a.createElement(ro["a"],{container:true,direction:"column",wrap:"nowrap",alignItems:"flex-start"},i.a.createElement(ro["a"],{container:true,direction:"row",wrap:"nowrap",alignItems:"center",justify:"center"},i.a.createElement(ro["a"],{container:true,direction:"column",alignItems:"flex-start",wrap:"nowrap"},i.a.createElement(ro["a"],{container:true,alignItems:"center"},i.a.createElement(to["a"],{variant:"h5"},s("LoadDataDialog.Warning.Title")),i.a.createElement(bs,{helpId:l,tooltip:c})),1===n&&i.a.createElement(to["a"],{variant:"body1"},s("scripteditor.progressindicator.one_synthetic_keysummary")),n>1&&i.a.createElement(to["a"],{variant:"body1"},s("scripteditor.progressindicator.multiple_synthetic_keysummary",n)),r&&i.a.createElement(to["a"],{variant:"body1"},s("scripteditor.progressindicator.edc_circular_referencesummary")))),i.a.createElement(ro["a"],{container:true,direction:"row",alignItems:"center",justify:"center",wrap:"nowrap",className:o.closeWarningContainer},i.a.createElement(to["a"],{variant:"body1"},s("LoadDataDialog.Warning.Explaination")),i.a.createElement(wo["a"],{variant:"outlined",size:"medium",onClick:a,className:o.closeButton,tid:"load-data-dialog-close-button"},s("Common.Close"))))),i.a.createElement(ro["a"],{container:true,direction:"row",wrap:"nowrap"},i.a.createElement(Oo["a"],{orientation:"horizontal",className:o.continueJourneyDivider}),i.a.createElement(to["a"],{variant:"h5"},s("LoadDataDialog.Warning.Continue")),i.a.createElement(Oo["a"],{orientation:"horizontal",className:o.continueJourneyDivider})),i.a.createElement(ro["a"],{container:true,direction:"row",alignItems:"center",justify:"center",wrap:"nowrap"},i.a.createElement(zo,{onNavigate:a,size:"small"}),i.a.createElement(Oo["a"],{orientation:"vertical",flexItem:true,className:o.divider}),i.a.createElement(cs,{onNavigate:a,size:"small"})))};var Ss=ws;var xs=Object(g["a"])((function(e){return{contentContainer:{height:"100%",flex:"auto"},errorIconContainer:{width:"40%",textAlign:"center"},errorIcon:{fontSize:"70px",marginRight:e.spacing(2)},closeErrorContainer:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},closeButton:{margin:e.spacing(2)}}}));var Cs=function e(t){var n=t.errorMessage,r=t.onClose;var a=xs();var o=Object(io["c"])();return i.a.createElement(ro["a"],{container:true,direction:"column",wrap:"nowrap",alignItems:"center",justify:"space-evenly",className:a.contentContainer},i.a.createElement(ro["a"],{container:true,wrap:"nowrap",alignItems:"center",justify:"center"},i.a.createElement("div",{className:a.errorIconContainer},i.a.createElement(ps,{size:"inherit",className:a.errorIcon})),i.a.createElement(ro["a"],{container:true,direction:"column",wrap:"nowrap",alignItems:"flex-start"},i.a.createElement(ro["a"],{container:true,direction:"row",wrap:"nowrap",alignItems:"center",justify:"center"},i.a.createElement(ro["a"],{container:true,direction:"column",alignItems:"flex-start",wrap:"nowrap"},i.a.createElement(to["a"],{variant:"h5"},o("LoadDataDialog.Error.ErrorTitle")),i.a.createElement(to["a"],{variant:"body1"},n))),i.a.createElement(ro["a"],{container:true,direction:"row",alignItems:"center",justify:"center",wrap:"nowrap",className:a.closeErrorContainer},i.a.createElement(to["a"],{variant:"body1"},o("LoadDataDialog.Error.CloseExplanation")),i.a.createElement(wo["a"],{variant:"outlined",size:"medium",onClick:r,className:a.closeButton,tid:"load-data-dialog-close-button"},o("Common.Close"))))))};var qs=Cs;function Es(e,t){return Ds(e)||Ts(e,t)||ks(e,t)||Is()}function Is(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ks(e,t){if(!e)return;if("string"===typeof e)return As(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return As(e,t)}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ts(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Ds(e){if(Array.isArray(e))return e}var Os=Object(g["a"])((function(){return{content:{minWidth:"500px",minHeight:"500px",display:"flex",flexDirection:"column",alignItems:"center"},contentError:{minWidth:"250px",minHeight:"250px",display:"flex",flexDirection:"column",alignItems:"center"},contentContainer:{height:"100%",flex:"auto"}}}));var Ls=function e(){var t=Os();var n=Object(io["c"])();var a=Object(r["useState"])(false),o=Es(a,2),s=o[0],l=o[1];var c=Object(r["useState"])(void 0),u=Es(c,2),d=u[0],f=u[1];var p=bo(),h=p.startLoadData,v=p.loadStatus,g=p.cancelReload;Object(r["useEffect"])((function(){q["a"].subscribe(M["a"].Events.PubSub.StartLoadData,(function(e){if(!s){l(true);f((function(){return e.resolveDataLoad}));h(e.actions)}}));return function(){q["a"].unsubscribe(M["a"].Events.PubSub.StartLoadData)}}),[]);var b=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d({cancelled:t});l(false)};var y=function e(){var r="";v.loadInProgress?r=n("LoadDataDialog.Title.Progress"):v.wasReloadSuccessful?r=n("LoadDataDialog.Title.Success"):v.errors.hasError?r=n("LoadDataDialog.Title.Error"):(v.warnings.syntheticCount>0||v.warnings.hasCircularRef)&&(r=n("LoadDataDialog.Title.Warning"));return i.a.createElement(to["a"],{variant:"h2",className:t.title,tid:"load-data-dialog-title"},r)};var w=function e(){if(v.wasReloadSuccessful)return i.a.createElement(fs,{onClose:b});if(v.loadInProgress)return i.a.createElement(Do,{onCancelled:b,cancelReload:g,progressTimeElapsed:v.progressTimeElapsed});if(v.warnings.syntheticCount>0||v.warnings.hasCircularRef)return i.a.createElement(Ss,{onClose:b,syntheticCount:v.warnings.syntheticCount,hasCircularRef:v.warnings.hasCircularRef});if(v.errors.hasError)return i.a.createElement(qs,{onClose:b,errorMessage:v.errors.errorString});return null};return i.a.createElement(i.a.Fragment,null,i.a.createElement(m["a"],{open:s,fullWidth:true,tid:"load-data-dialog"},i.a.createElement(no["a"],{className:!v.loadInProgress&&v.errors.hasError?t.contentError:t.content,tid:"load-data-dialog-content"},y(),i.a.createElement(ro["a"],{container:true,wrap:"nowrap",direction:"column",alignItems:"center",justify:"center",className:t.contentContainer},w()))))};var Ms=Ls;var Ps=n("r67N");var Ns=n("hEIc");var Rs=n("kktK");var Fs=n("oON4");var _s=n("z5ZW");var js='<div class="qv-block-ui fullscreen-message">\n\t<div>\n\t\t<div class="msg-text" ng-bind-html="message"></div>\n\t\t<button\n\t\t\tng-if="button"\n\t\t\tng-click="button.callback()"\n\t\t\tqv-enter="button.callback()"\n\t\t\tclass="lui-button"\n\t\t\tq-translation="{{button.name}}"\n\t\t\t></button>\n\t</div>\n</div>';function Bs(e){s["default"].getService("qvLoader").show({template:js,message:e.message,button:e.button,mode:e.mode})}function Vs(e){s["default"].getService("qvLoader").close(e)}var Hs={show:Bs,close:Vs};var zs=function e(){};var $s={init:function e(){zs();zs=s["default"].$rootScope.$on("errorHandlerClosed",(function(e,t,n){s["default"].getService("qvLoader").close(true);"function"===typeof CustomEvent&&document.dispatchEvent(new CustomEvent("onQvfLoadFailed"));Hs.show({mode:"error",message:t,button:n})}))},destroy:function e(){zs()}};function Us(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Gs(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Us(a,r,i,o,s,"next",e)}function s(e){Us(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ws=null;var Qs=function e(t){var n=ao["a"].bootstrap(t);n.name=t.id;t.engineApp=n;ao["a"].setCurrentApp(n)};var Ks=function(){var e=Gs(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return P["a"].getApp();case 2:t=n.sent;Qs(t);n.next=6;return t.getLayout();case 6:return n.abrupt("return",t);case 7:case"end":return n.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();var Ys=function e(t){document.addEventListener("onAppStateChanged",(function(e){if(e.detail&&e.detail.inForegroundNow){Ps["a"].close();t.enigmaModel.session.resume(true)}else if(e.detail&&!e.detail.inForegroundNow){t.enigmaModel.session.suspend();document.dispatchEvent(new CustomEvent("onSessionSuspended"))}}));document.addEventListener("onBackAndStatusBarFlagChanged",(function(){O["a"].force()}));Rs["a"].onBeforeLogout((function(){Fs["a"].unsetBeforeUnloadFunctions()}))};var Js=Gs(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(!Ws){n.next=2;break}return n.abrupt("return",Ws);case 2:n.next=4;return Ks();case 4:Ws=n.sent;$s.init();Ys(Ws);Ws.Closing.bind((function(){Je["a"].closeAll()}));Ns["a"].configureTouchSupport();oo["a"].init();t=te["a"].getParameterByName("app");_s["a"].init(t);return n.abrupt("return",Ws);case 13:case"end":return n.stop()}}),e)})));var Zs=n("giDN");var Xs=n("XVJK");var el=n("jaci");var tl=n("BUOA");var nl=n("H6Kg");var rl=n("1UIw");var il=n("1qo9");var al=n("5SH1");var ol=n("pRs/");var sl=n("rR8D");var ll=n("fBw5");var cl=n("3A43");var ul='<div class="lui-dialog file-already-exists-dialog">\n  <div class="lui-dialog__header">\n    <div class="lui-dialog__title" q-translation="{{title}}"></div>\n  </div>\n  \n  <div class="lui-dialog__body" q-translation="{{content}}"></div>\n \n  <div class="lui-dialog__footer">\n    <button class="lui-button lui-dialog__button" q-translation="Common.Cancel" ng-click="cancel()"></button>\n    <button class="lui-button lui-dialog__button" q-translation="UploadedFilesFolder.Button.Overwrite" ng-click="replace()"></button>\n  </div>\n</div>\n';var dl=n("mCu5");var fl=n("/crU");var pl=n("x1As");var hl=n("nyIj");function vl(e){vl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return vl(e)}function ml(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function gl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ml(a,r,i,o,s,"next",e)}function s(e){ml(a,r,i,o,s,"throw",e)}o(void 0)}))}}var bl=null;function yl(){var e=x()("body");var t=s["default"].getService("$timeout");var n=false;var r=false;var i=null;var a=null;var o=null;var u=null;var d=false;function f(){var n=s["default"].getService("qvLoader");if(n.isOpen())a=t(f,100);else{u={task:""};n.show({template:cl["a"],messageObj:u,appendTo:e})}}function p(){var e=s["default"].getService("qvLoader");t.cancel(a);e.close(true);u=null}function h(e,t){s["default"].$apply(s["default"].$rootScope,(function(){if(u){u.task=e;t&&(u.task+=",".concat(t))}}))}function v(){n=true;if(!i){var t=l["default"].get("DragAndDrop.Files.DropToLoadAllTables");i=x()("<div class='dnd-files-overlay'><span class='dnd-files-text'>".concat(t,"</span></div>"));e.append(i)}}function m(){n=false;if(i){i.remove();i=null}}function g(){return x()(".lui-dialog-container").length>0||x()(".modal-container, .qv-modal-container").length>0||x()(".add-data-panel-open").length>0}function b(){d=true}function y(){d=false}function w(e){var i=0;if(!n){if(r)return;if(D["a"].inDataSpaceScriptEditor())return;if(g())return}if(d)return;e.stopPropagation();e.preventDefault();if(o){t.cancel(o);o=null}n||v(i)}function S(e){if(!n)return;e.stopPropagation();e.preventDefault();if(e.relatedTarget)return;o&&t.cancel(o);o=t((function(){m()}),100)}function C(e){if(!e)return null;var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);return t}function q(e){var t=e.dataTransfer||e.originalEvent&&e.originalEvent.dataTransfer;var n=e.target.files||t.files;return n||null}function E(e){return k.apply(this,arguments)}function k(){k=gl(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:n=[];if(Object(Ne["b"])("DATAFILES_SPACES_ENABLED")){a.next=5;break}n=t.filter((function(e){return"MyDataFiles"===e.connectorInstance.name}));a.next=12;break;case 5:a.next=7;return P["a"].getApp();case 7:r=a.sent;a.next=10;return r.getLayout();case 10:i=a.sent;n=i.spaceId?t.filter((function(e){return i.spaceId===e.connectorInstance.space&&"qix-datafiles.exe"===e.connectorInstance.typeName})):t.filter((function(e){return!e.connectorInstance.space&&"qix-datafiles.exe"===e.connectorInstance.typeName}));case 12:if(!(0===n.length)){a.next=14;break}throw new Error("uploadfile.elastic.draganddrop.missingconnection");case 14:return a.abrupt("return",n[0].connectorInstance);case 15:case"end":return a.stop()}}),e)})));return k.apply(this,arguments)}function A(e,t){var n=Object(Ne["b"])("ELASTIC_DND");if(!n)return al["a"].preUploadValidateFile(e).then((function(){h("DragAndDrop.Files.UploadingFile",e.name);return al["a"].uploadFile(e)})).then((function(){return e}));try{return il["a"].startPreparingForOpening().then((function(){return il["a"].getDataSpaceInput().then((function(n){return E(n.dataconnectorsModel.connections).then((function(n){var r=ol["a"];return r.preUploadValidateFile(e,{path:"",id:void 0},n).then((function(){h("DragAndDrop.Files.UploadingFile",e.name);if(t&&t.existingFile)return r.updateFile(t.fileId,e,n).then((function(){return e}));return r.uploadFile(e,n).then((function(){return e}))}),(function(e){rl["a"].showDialog(e)}))}))}))}))}catch(e){rl["a"].showDialog(e)}return}function T(e,t,n){var r=s["default"].defer();var i=ol["a"];i.listFolder("",t&&t.path||"",n).then((function(t){var n=t.files&&t.files.filter((function(t){return e.some((function(e){return t.name===e.name}))}));n&&n.length>0?Ps["a"].open({title:"DataFiles.Confirm.Overwrite.Title",content:l["default"].get("DataFiles.Confirm.Overwrite.Description",n[0].name),buttons:[{name:"Common.Cancel",callback:function e(){r.reject()}},{name:"DataFiles.Button.Overwrite",defaultButton:true,callback:function e(){r.resolve({existingFile:true,fileId:n[0].id})}}]}):r.resolve({existingFile:false})}));return r.promise}function O(e){var t=s["default"].defer();e=e.map((function(e){e.encodedName=escape(e.name);return e}));al["a"].getAppStoreContent().then((function(n){var r=e.filter((function(e){return n.some((function(t){return e.encodedName.toLowerCase()===t.fileName.toLowerCase()}))}));if(r.length>0){var i=s["default"].getService("luiDialog");var a=1===r.length?"UploadedFilesFolder.Confirm.Overwrite.Title":"UploadedFilesFolder.Confirm.Overwrite.Plural.Title";var o=1===r.length?l["default"].get("UploadedFilesFolder.Confirm.Overwrite.Description",[r[0].name]):l["default"].get("UploadedFilesFolder.Confirm.Overwrite.Plural.Description",r.map((function(e){return e.name})).join("', '"));i.show({template:ul,closeOnEscape:false,controller:["$scope",function(e){e.title=a;e.content=o;e.cancel=function(){t.reject();e.close()};e.replace=function(){t.resolve(true);e.close()}}]})}else t.resolve()}),(function(e){t.reject(e)}));return t.promise}function L(e,t){if(null!=e&&e.length>0){var n=function(){var n=A(e[0],t);for(var r=1;r<e.length;++r)n=function(e){return n.then((function(){return A(e,t)}))}(e[r]);return{v:n.then((function(){return e}),(function(e){return I["a"].reject(e)}))}}();if("object"===vl(n))return n.v}return I["a"].resolve(e)}function M(e){return N.apply(this,arguments)}function N(){N=gl(regeneratorRuntime.mark((function e(t){var r,i,a,o,l,c,u,d,v,g,b,y,w,S;return regeneratorRuntime.wrap((function e(x){while(1)switch(x.prev=x.next){case 0:if(n){x.next=2;break}return x.abrupt("return",void 0);case 2:t.stopPropagation();t.preventDefault();m();r=C(q(t));i=s["default"].defer();a=Object(Ne["b"])("ELASTIC_DND");x.prev=8;if(a){x.next=13;break}i.resolve();x.next=22;break;case 13:f();h("uploadfile.elastic.draganddrop.initConnections");x.next=17;return il["a"].startPreparingForOpening();case 17:x.next=19;return il["a"].getDataSpaceInput();case 19:o=x.sent;p();i.resolve(o);case 22:x.next=24;return i.promise;case 24:l=x.sent;if(!a){x.next=35;break}x.prev=26;x.next=29;return E(l.dataconnectorsModel.connections);case 29:c=x.sent;x.next=35;break;case 32:x.prev=32;x.t0=x["catch"](26);rl["a"].showDialog(x.t0);case 35:if(!(null!==r&&r.length>0)){x.next=62;break}u=a?T(r,{path:"",id:void 0},c):O(r);x.next=39;return u;case 39:d=x.sent;f();x.next=43;return L(r,d);case 43:v=x.sent;g=v.map((function(e){return{fileName:e.name,connection:"ATTACHED"}}));al["a"].setAttachedFilesToReplace(g.map((function(e){return{fileName:e.fileName}})));h("DragAndDrop.Files.PreparingData");x.next=49;return il["a"].runDataLoadFlow(sl["a"].createLoadDataFilesFlowForServer(g));case 49:b=x.sent;y=al["a"].getAttachedFilesToReplace();w=al["a"].getTableIdsFromLoadModelWithFileNames(b.loadModel,y);if(!(w.length>0)){x.next=60;break}al["a"].setAttachedFilesToReplace([]);x.next=56;return fl["a"].updateTablesFromSource(b.loadModel,w);case 56:S=x.sent;if(!S.success){x.next=60;break}x.next=60;return fl["a"].invalidate(true);case 60:p();return x.abrupt("return",F(b));case 62:x.next=68;break;case 64:x.prev=64;x.t1=x["catch"](8);p();x.t1&&rl["a"].showDialog(x.t1);case 68:return x.abrupt("return",void 0);case 69:case"end":return x.stop()}}),e,null,[[8,64],[26,32]])})));return N.apply(this,arguments)}function R(e,t){if(!e||!t)return null;return t.targetTableModels.filter((function(t){return e.indexOf(t.data.name)>=0}))}function F(e){var t=null;e&&(t=R(e.loadedTableNames,e.loadModel));var n=D["a"].inDataManager();var r=e.addTableResults.loadModel;var i=1===r.queries.length;var a=!n&&i;if(a)return ll["a"].reloadData();if(n){_(t);return}a||P["a"].getApp().then((function(e){D["a"].StateChanged.once((function(){_(t)}));c["a"].setUrl(c["a"].buildUrl(true,"sense","app",e.id,"datamanager","datamanager"))}));return}function _(e){if(pl["a"]&&hl["a"]){e&&1===e.length?hl["a"].setSelectedTables(e):hl["a"].setSelectedTables([]);pl["a"].setSelectedView(pl["a"].views.BUBBLES)}}dl["a"].get().then((function(t){if(!t.isDataManagerHidden()){e.on("dragstart",b);e.on("dragend",y);e.on("dragover",w);e.on("dragleave",S);e.on("drop",M)}}));bl=function t(){e.off("dragend",y);e.off("dragstart",b);e.off("dragover",w);e.off("dragleave",S);e.off("drop",M);bl=null}}function wl(e,t){if(e&&t){if(t.qReadOnly||!t.permissions.update)return I["a"].resolve(false);var n=Object(Ne["b"])("ELASTIC_DND");if(n)return I["a"].resolve(true);return al["a"].isFileUploadEnabled()}return I["a"].resolve(false)}function Sl(){bl&&bl()}var xl={attach:function e(t,n){wl(t,n).then((function(e){if(e){Sl();yl()}}))},detach:Sl};var Cl={};var ql="drag-and-drop-file-overlay";var El="#".concat(ql);var Il="drag-and-drop-file-text";var kl="#".concat(Il);var Al="QVBrowser.DragAndDropFileHere";var Tl="quickdataload.dragndropfilehere";var Dl=function e(){w["a"].showAddData()};function Ol(){x()(El).remove();x()(kl).remove()}function Ll(e){if("qvf"===e.toLowerCase()||"qvw"===e.toLowerCase())return true;return false}window.showOverlay=function(e){var t=Al;if(0===x()(El).length){e||(t=Tl);x()("body").append('<div id="'.concat(Il,'"><span>').concat(l["default"].get(t),'</span></div><div id="').concat(ql,'"></div>'))}};window.hideOverlay=function(){Ol()};window.onFileDragEnter=function(e){var t=Tl;var n=Ll(e.split(".").pop());if(!n&&(x()("#qv-add-data-container").length>0||x()("#qv-scripteditor-container").length>0||x()("#qv-datamodelviewer-container").length>0))return false;if(0===x()(El).length){n&&(t=Al);x()("body").append('<div id="'.concat(Il,'"><span>').concat(l["default"].get(t),'</span></div><div id="').concat(ql,'"></div>'));x()(El).on("dragover",(function(e){e.preventDefault();e.stopPropagation()}));x()(El).on("dragleave",(function(e){e.preventDefault();e.stopPropagation();Ol()}));x()(El).on("drop",(function(t){t.preventDefault();t.stopPropagation();Ol();var n=e.split(".").pop();if(Ll(n.toLowerCase()))"undefined"!==typeof window.SendMessageToQvBrowser&&window.SendMessageToQvBrowser("OpenApp:".concat(e));else{var r=e.replace(/\//g,"\\");Dl&&Dl(r)}}));x()(El).click(Ol)}return};Cl.setOverlayText=function(e,t){Al=e||Al;Tl=t||Tl};Cl.setDropCallback=function(e){Dl=e};var Ml=Cl;var Pl=n("vhuL");var Nl=n("9a/l");var Rl=n("OAsn");var Fl=n("gVPc");var _l=n("aWUW");function jl(e,t,n,r){(function(e,t,n,r,i){var a,o,s,l,c;i=e[r]=e[r]||{};i._q=[];a=["initialize","identify","updateOptions","pageLoad"];for(o=0,s=a.length;o<s;++o)(function(e){i[e]=i[e]||function(){i._q[e===a[0]?"unshift":"push"]([e].concat([].slice.call(arguments,0)))}})(a[o]);l=t.createElement(n);l.async=!0;l.src="https://cdn.pendo.io/agent/static/fcf5a467-28be-4892-582f-cac5c784fd53/pendo.js";c=t.getElementsByTagName(n)[0];c.parentNode.insertBefore(l,c)})(window,document,"script","pendo");window.pendo.initialize({visitor:{id:e.subject,tenant:e.tenantId,locale:t,role:e.roles.join(","),environment:n,product:r},account:{id:e.tenantId}})}function Bl(){window.pendo&&window.pendo.hideGuides()}function Vl(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Hl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Vl(a,r,i,o,s,"next",e)}function s(e){Vl(a,r,i,o,s,"throw",e)}o(void 0)}))}}var zl=te["a"].getParameterByName("theme");var $l=function(){var e=Hl(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",nl["a"].getProperties(t).then((function(e){el["a"].setRtl(e.rtl);tl["a"].setIsDisabledForApp(e.disableCellNavMenu);Xs["a"].setTheme(zl||e.theme).then((function(e){e||Xs["a"].setTheme("sense")}));$s.destroy();"function"===typeof CustomEvent&&document.dispatchEvent(new CustomEvent("onQvfLoaded"));return e})));case 1:case"end":return n.stop()}}),e)})));return function t(n){return e.apply(this,arguments)}}();var Ul=function e(t){var n=t.app,r=t.result;var i=r.layout.qIsOpenedWithoutData||c["a"].isSuffixInUse("noData");il["a"].init(n,r.layout,r.configuration,i,false);il["a"].prepareLoadModel()};var Gl=function e(t){var n=t.app,r=t.result;return xl.attach(n,r.layout)};var Wl=function e(){Ml.setDropCallback&&Ml.setDropCallback((function(e){var t=s["default"].getService("$timeout");t((function(){w["a"].changeState(w["a"].STATES.SELECTION,{fullPathToFile:e});w["a"].showAddData()}))}))};var Ql=function e(t){t.permissions.update&&!t.qReadOnly&&ao["a"].global.configureReload(true,true,false).catch((function(e){e.isHandled=true}))};var Kl=function(e){Object(Pl["b"])(e.global);return I["a"].all({engineConfig:e.global.getConfiguration(),layout:e.getLayout(),appPropsLayout:$l(e),logoutServiceInitialized:Rs["a"].init()}).then(function(){var t=Hl(regeneratorRuntime.mark((function t(n){var r,i,a,o,c,u;return regeneratorRuntime.wrap((function t(d){while(1)switch(d.prev=d.next){case 0:r=n.appPropsLayout,i=n.layout;Re["a"].init(e.global,Re["a"].customEvents.SENSE_CLIENT,{appId:e.id,isRtl:r.rtl,theme:r.theme,published:i.published});Nl["a"].init(i);Wo["a"].init(i);Ul({app:e,result:n});Gl({app:e,result:n});Wl();Ql(i);s["default"].getService("qvLoader").close();try{a=Fl["a"].isQCS();o=Object(Rl["a"])();c="production";if(a&&Object(Ne["b"])("PENDO"))try{jl(o,l["default"].locale,c,"ANALYTICS_CLIENT")}catch(e){console.error(e)}if(a&&Object(Ne["b"])("CLIENT_LAUNCHDARKLY")&&_l["a"].get("enable-full-story")){u="production"===c;Zs["c"]({orgId:"S6WYV",namespace:"ANALYTICS_CLIENT",devMode:!u});Zs["b"](o.subject,{email:u?void 0:o.email,environment_str:c,product_str:"ANALYTICS_CLIENT"});Re["a"].enableFullstoryEvents()}}catch(e){}case 10:case"end":return d.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};var Yl=n("+PUV");var Jl=n("6Z/P");var Zl=n("O9PD");var Xl=n("plVp");var ec=n("UIGF");var tc=n("iSLG");var nc=n("OU/z");var rc=n("+/IW");var ic=n("VIxP");var ac=n("2X6M");var oc=function e(t){var n=t.tid,r=t.onClick,a=t.iconName,o=t.children;return i.a.createElement(Ct["i"].Item,{tid:n,onClick:r},i.a.createElement(Ct["i"].Aside,null,i.a.createElement(Ct["f"],{name:a})),i.a.createElement(Ct["i"].Text,null,o))};oc.propTypes={tid:h.a.string.isRequired,iconName:h.a.string.isRequired,onClick:h.a.func.isRequired,children:h.a.node.isRequired};var sc=oc;function lc(e){lc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return lc(e)}function cc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function dc(e,t,n){t&&uc(e.prototype,t);n&&uc(e,n);return e}function fc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&pc(e,t)}function pc(e,t){pc=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return pc(e,t)}function hc(e){var t=gc();return function n(){var r=bc(e),i;if(t){var a=bc(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return vc(this,i)}}function vc(e,t){if(t&&("object"===lc(t)||"function"===typeof t))return t;return mc(e)}function mc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gc(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function bc(e){bc=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return bc(e)}var yc=function(e){fc(n,e);var t=hc(n);function n(e){var r;cc(this,n);r=t.call(this,e);r.outsideListener=r.outsideListener.bind(mc(r));r.createGlobalSelectorMenuItem=r.createGlobalSelectorMenuItem.bind(mc(r));r.createGlobalSearchMenuItem=r.createGlobalSearchMenuItem.bind(mc(r));r.createExportMenuItem=r.createExportMenuItem.bind(mc(r));r.createDownloadMenuItem=r.createDownloadMenuItem.bind(mc(r));r.createAboutMenuItem=r.createAboutMenuItem.bind(mc(r));r.createHelpMenuItem=r.createHelpMenuItem.bind(mc(r));r.createBookmarksMenuItem=r.createBookmarksMenuItem.bind(mc(r));r.createGlobalOdagMenuItem=r.createGlobalOdagMenuItem.bind(mc(r));return r}dc(n,[{key:"componentDidMount",value:function e(){document.addEventListener("click",this.outsideListener)}},{key:"componentWillUnmount",value:function e(){document.removeEventListener("click",this.outsideListener)}},{key:"outsideListener",value:function e(t){var n;var r=this.props.toggleMenu;(null===(n=this.element)||void 0===n?void 0:n.contains(t.target))||r(false)}},{key:"createGlobalSelectorMenuItem",value:function e(){var t=this.props.toggleMenu;return i.a.createElement(sc,{key:"globalSelector",tid:"513asd",onClick:function e(){P["a"].getApp().then((function(e){Xl["a"].toggleGlobalSelection(e);t(false)}))},iconName:"global-selector"},l["default"].get("Tooltip.GlobalSelector"))}},{key:"createGlobalOdagMenuItem",value:function e(){var t=this.props.toggleMenu;return i.a.createElement(sc,{key:"odagNavBar",tid:"menu_item_odag_links",onClick:function e(){P["a"].getApp().then((function(e){rc["a"].toggleMobileOdag(e);t(false)}))},iconName:"sign-post"},l["default"].get("Tooltip.OdagNavBar"))}},{key:"createGlobalSearchMenuItem",value:function e(){var t=this.props.toggleMenu;return i.a.createElement(sc,{key:"globalSearch",tid:"513asd",onClick:function e(){P["a"].getApp().then((function(e){nc["a"].toggleGlobalSearch(e);t(false)}))},iconName:"search"},l["default"].get("Tooltip.GlobalSearch"))}},{key:"createExportMenuItem",value:function e(t){var n=this.props.toggleMenu;return i.a.createElement(sc,{key:"export",tid:t,onClick:function e(){if(D["a"].view===D["a"].Views.object){var t=Jl["a"].getZoomCell();ac["a"].toggleMobilePrint(t,"Object")}else ac["a"].toggleMobilePrint(D["a"],"Sheet");n(false)},iconName:"print"},l["default"].get(t))}},{key:"createDownloadMenuItem",value:function e(t){var n=this.props.toggleMenu;return i.a.createElement(sc,{key:"download",tid:t,onClick:function e(){if(D["a"].view===D["a"].Views.object){var t=Jl["a"].getZoomCell();ic["a"].toggleMobileDownload(t.object,"visualization")}else{var r=Jl["a"].getGrid();ic["a"].toggleMobileDownload(r,"sheet")}n(false)},iconName:"print"},l["default"].get(t))}},{key:"createAboutMenuItem",value:function e(){var t=this.props,n=t.toggleMenu,r=t.openAboutDialog;return i.a.createElement(sc,{key:"about",tid:"4dfe27",title:l["default"].get("Common.About"),onClick:function e(){r();n(false)},iconName:"info"},l["default"].get("Common.About"))}},{key:"createHelpMenuItem",value:function e(){var t=this.props,n=t.toggleMenu,r=t.helpKey;return i.a.createElement(sc,{key:"help",tid:"4dfe26",title:"Common.Tooltip.OpenHelpInNewTab",onClick:function e(){var t=ms["a"].path+r;window.open(t);n(false)},iconName:"help"},l["default"].get("GlobalMenu.Help"))}},{key:"createBookmarksMenuItem",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n=this.props,r=n.toggleMenu,a=n.appLayout;return i.a.createElement(sc,{key:"bookmarks",tid:"4e4ab2",onClick:function e(n){ec["a"].toggle({pressed:true},n.currentTarget,{create:!t&&a.permissions.createBookmark,small:true,smallService:tc["a"],scope:s["default"].$rootScope});r(false)},iconName:"bookmark"},l["default"].get("Common.Bookmarks"))}},{key:"render",value:function e(){var t=this;var n=this.props.appLayout;var r=[];if(D["a"].view===D["a"].Views.sheet){r.push(this.createGlobalSelectorMenuItem());r.push(this.createBookmarksMenuItem());r.push(this.createGlobalOdagMenuItem());Object(Ne["b"])("DOWNLOAD_USE_REPORTING")&&Object(Ne["b"])("DOWNLOAD_SHEET")?r.push(this.createDownloadMenuItem("GlobalMenu.DownloadSheetToPdf")):!Object(Ne["b"])("DOWNLOAD_USE_REPORTING")&&n.permissions.exportData&&r.push(this.createExportMenuItem("GlobalMenu.ExportSheetToPdf"))}else if(D["a"].view===D["a"].Views.object){r.push(this.createGlobalSelectorMenuItem());r.push(this.createGlobalSearchMenuItem());r.push(this.createBookmarksMenuItem());var a=Jl["a"].getZoomCell();a&&a.object&&a.object.supportExport()&&(Object(Ne["b"])("DOWNLOAD_USE_REPORTING")&&Object(Ne["b"])("DOWNLOAD_OBJECT_MOBILE")?r.push(this.createDownloadMenuItem("GlobalMenu.DownloadObject")):!Object(Ne["b"])("DOWNLOAD_USE_REPORTING")&&n.permissions.exportData&&r.push(this.createExportMenuItem("GlobalMenu.ExportObject")))}if(D["a"].view===D["a"].Views.insightAdvisor){r.push(this.createGlobalSelectorMenuItem());r.push(this.createBookmarksMenuItem(true))}r.push(this.createHelpMenuItem());Object(Ne["b"])("HIDE_ABOUT_BUTTON")||r.push(this.createAboutMenuItem());return i.a.createElement("div",{tid:"3df9b3",className:"qs-mobile-toolbar__menu"},i.a.createElement("div",{ref:function e(n){t.element=n}},i.a.createElement(Ct["i"],{variant:"inverse",className:"lui-bg-inverse"},r)))}}]);return n}(r["Component"]);yc.propTypes={helpKey:h.a.string.isRequired,toggleMenu:h.a.func.isRequired,appLayout:h.a.object.isRequired};var wc=yc;var Sc=n("ClzF");var xc=n("ZQDF");var Cc=n("e2Yl");var qc=n("wBre");var Ec=n("rx5w");var Ic=n("YZpo");var kc=n("Xyu7");function Ac(e,t){return Mc(e)||Lc(e,t)||Dc(e,t)||Tc()}function Tc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dc(e,t){if(!e)return;if("string"===typeof e)return Oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oc(e,t)}function Oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lc(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Mc(e){if(Array.isArray(e))return e}var Pc=Object(g["a"])((function(e){return{iconButton:{color:"white",marginRight:e.spacing(1)},menuContainer:{marginTop:e.spacing(4)},menuItem:{width:"calc(100vw - ".concat(e.spacing(2),"px)")}}}));function Nc(e){var t=e.tid,n=e.menuItems;var a=Object(r["useState"])(null),o=Ac(a,2),s=o[0],l=o[1];var c=Pc();var u=function e(t){l(s?null:t.currentTarget)};var d=function e(){l(null)};var f=function e(t,r){var i=n[r].onSelect;d();i(t)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(vs["a"],{tid:t,onClick:u,className:c.iconButton},i.a.createElement(kc["a"],{size:"large"})),i.a.createElement(qc["a"],{anchorEl:s,open:!!s,onClose:d,className:c.menuContainer},n.map((function(e,t){return i.a.createElement(Ec["a"],{tid:e.tid,key:e.tid,onClick:function e(n){f(n,t)},index:t,className:c.menuItem,disabled:e.disabled()},i.a.createElement(Ic["a"],null,e.icon),i.a.createElement(to["a"],{variant:"body2"},e.label))}))))}Nc.propTypes={tid:h.a.string,menuItems:h.a.array};Nc.defaultProps={tid:void 0,menuItems:[]};var Rc=n("O+L3");var Fc=n("yHaC");function _c(e){return Vc(e)||Bc(e)||Gc(e)||jc()}function jc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bc(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Vc(e){if(Array.isArray(e))return Wc(e)}function Hc(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function zc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Hc(a,r,i,o,s,"next",e)}function s(e){Hc(a,r,i,o,s,"throw",e)}o(void 0)}))}}function $c(e,t){return Kc(e)||Qc(e,t)||Gc(e,t)||Uc()}function Uc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gc(e,t){if(!e)return;if("string"===typeof e)return Wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wc(e,t)}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qc(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Kc(e){if(Array.isArray(e))return e}var Yc="sheet";var Jc="insightadvisor";var Zc=No["a"].getUrlForInsights();function Xc(e){var t=e.app,n=e.appLayout;var a=Object(Rc["a"])(),o=$c(a,1),s=o[0];var c=Object(r["useState"])(true),u=$c(c,2),d=u[0],f=u[1];Object(r["useEffect"])((function(){var e=function(){var e=zc(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return Bo["a"].load(t);case 2:r.next=4;return Fc["a"].isInsightsAvailable();case 4:r.t0=r.sent;if(!r.t0){r.next=7;break}r.t0=!Bo["a"].isVariableDefined("DISABLE_INSIGHTS");case 7:n=r.t0;f(n);case 9:case"end":return r.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();e()}),[]);var p=function(){var e=zc(regeneratorRuntime.mark((function e(){var r,i,a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:r=te["a"].getParameterByName("app");i=Sc["a"].analysis(r),a=i.overlay;o=Sc["a"].analysis(r);s=o.state||xc["a"].getDefaultSheetViewState();l.t0=No["a"];l.next=7;return Cc["a"].getSheetToNavigateTo(t,n);case 7:l.t1=l.sent;l.t2=s;l.t3=a;l.t0.goToSheet.call(l.t0,l.t1,l.t2,l.t3);case 11:case"end":return l.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();var h=function e(){var t;return D["a"].view===D["a"].Views.sheet||D["a"].view===D["a"].Views.object||!n.qHasData&&0===s.mashed.length&&(null===(t=n.permissions)||void 0===t?void 0:t.createSheet)};var v=function e(){var t=(null===n||void 0===n?void 0:n.qHasData)||false;return D["a"].view===D["a"].Views.insightAdvisor||!t};var m=[{name:Yc,label:l["default"].get("Common.Sheet"),tid:"navigation.menuoption.sheet",icon:i.a.createElement($o["a"],null),disabled:h,onSelect:function e(t){return p(t,Yc)}}].concat(_c(d?[{name:Jc,label:l["default"].get("Title.InsightAdvisor"),tid:"navigation.menuoption.insights",icon:i.a.createElement(Po,null),disabled:v,onSelect:function e(t){return Cc["a"].navigateToView(t,Zc)}}]:[]));return i.a.createElement(Nc,{tid:"mobile-analysis-nav-button",menuItems:m})}Xc.propTypes={app:h.a.object.isRequired,appLayout:h.a.object.isRequired};Xc.defaultProps={};var eu=n("dJqr");var tu=n("CXRx");var nu=n("BQn0");var ru=n("2vW9");var iu=n("8NVm");var au=n("1Dig");var ou=n("YvUk");var su=n("0g17");var lu=n("Rx6o");var cu=n("MK7S");function uu(e,t){return pu(e)||fu(e,t)||mu(e,t)||du()}function du(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fu(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function pu(e){if(Array.isArray(e))return e}function hu(e){return bu(e)||gu(e)||mu(e)||vu()}function vu(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mu(e,t){if(!e)return;if("string"===typeof e)return yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yu(e,t)}function gu(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function bu(e){if(Array.isArray(e))return yu(e)}function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wu(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Su(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){wu(a,r,i,o,s,"next",e)}function s(e){wu(a,r,i,o,s,"throw",e)}o(void 0)}))}}var xu=function(){var e=Su(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return me.a.get(t,{"x-qlik-capabilities":"about",cache:true});case 2:n=i.sent;r=n.data;return i.abrupt("return",r);case 5:case"end":return i.stop()}}),e)})));return function t(n){return e.apply(this,arguments)}}();var Cu;var qu=function(){var e=Su(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(!Cu){n.next=2;break}return n.abrupt("return",Cu);case 2:n.prev=2;n.next=5;return me.a.head("".concat(C["a"].rootPath,"api/about/v1/systemInfo"));case 5:t=n.sent;Cu=200===t.status;n.next=12;break;case 9:n.prev=9;n.t0=n["catch"](2);Cu=false;case 12:return n.abrupt("return",Cu);case 13:case"end":return n.stop()}}),e,null,[[2,9]])})));return function t(){return e.apply(this,arguments)}}();var Eu={hasAboutService:qu,features:function(){var e=Su(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return Object(Ne["a"])();case 2:t=n.sent;return n.abrupt("return",Object.keys(t).reduce((function(e,n){if(t[n])return[].concat(hu(e),[n]);return e}),[]).sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase(),"en")})));case 4:case"end":return n.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),components:function(){var e=Su(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xu("".concat(C["a"].rootPath,"api/about/v1/components")));case 1:case"end":return t.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),externalUrls:function(){var e=Su(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xu("".concat(C["a"].rootPath,"api/about/v1/externalUrls")));case 1:case"end":return t.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),systemInfo:function(){var e=Su(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xu("".concat(C["a"].rootPath,"api/about/v1/systemInfo")));case 1:case"end":return t.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),thirdParty:function(){var e=Su(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return xu("".concat(C["a"].rootPath,"api/about/v1/thirdParty"));case 2:t=r.sent;n={};t.forEach((function(e){e.name in n||(n[e.name]=e)}));return r.abrupt("return",Object.values(n).sort((function(e,t){var n=(null===e||void 0===e?void 0:e.name)||"";var r=(null===t||void 0===t?void 0:t.name)||"";return n.toLocaleUpperCase().localeCompare(r.toLocaleUpperCase())})));case 6:case"end":return r.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()};var Iu=function(){var e=Su(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,l,c;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:u.next=2;return Eu.hasAboutService();case 2:t=u.sent;u.next=5;return Eu.features();case 5:n=u.sent;if(!t){u.next=17;break}u.next=9;return Promise.all([Eu.thirdParty(),Eu.components(),Eu.externalUrls(),Eu.systemInfo()]);case 9:r=u.sent;i=uu(r,4);a=i[0];o=i[1];s=i[2];l=i[3];c="".concat(C["a"].rootPath,"api/about/v1/licenses/QlikSense.pdf");return u.abrupt("return",{hasAbout:t,systemInfo:l,componentsList:o,thirdPartyList:a,licenceAgreementLink:c,featuresList:n,webPageUrl:s.qlikWebPageUrl});case 17:return u.abrupt("return",{hasAbout:t,featuresList:n});case 18:case"end":return u.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();var ku={getSections:Iu};var Au=n("1LRU");var Tu=n("u44p");var Du=n("X3hd");var Ou=n("v6vt");var Lu=n("5bSt");var Mu=Object(r["memo"])((function(e){var t=e.feature;return i.a.createElement(Ou["a"],{button:true,dense:true,divider:true},i.a.createElement(Lu["a"],{primary:t}))}));var Pu=Mu;var Nu=n("6vEY");var Ru=n("59K6");var Fu=n("ls1z");var _u=n("tIy+");function ju(){ju=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ju.apply(this,arguments)}function Bu(e,t){if(null==e)return{};var n=Vu(e,t);var r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++){r=a[i];if(t.indexOf(r)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,r))continue;n[r]=e[r]}}return n}function Vu(e,t){if(null==e)return{};var n={};var r=Object.keys(e);var i,a;for(a=0;a<r.length;a++){i=r[a];if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var Hu=Object(g["a"])((function(){return{clearButton:{cursor:"pointer"}}}));var zu=function e(t){var n=t.value,r=t.onClear,a=Bu(t,["value","onClear"]);var o=Object(io["c"])();var s=Hu();return i.a.createElement(Nu["a"],ju({placeholder:o("Common.Search"),"aria-label":o("Common.Search"),value:n,startAdornment:i.a.createElement(Ru["a"],{position:"start"},i.a.createElement(Fu["a"],null)),endAdornment:i.a.createElement(Ru["a"],{position:"end",style:{visibility:n.length>0?"visible":"hidden"}},i.a.createElement(_u["a"],{className:s.clearButton,onClick:r}))},a))};var $u=zu;function Uu(e,t){return Yu(e)||Ku(e,t)||Wu(e,t)||Gu()}function Gu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wu(e,t){if(!e)return;if("string"===typeof e)return Qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qu(e,t)}function Qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ku(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Yu(e){if(Array.isArray(e))return e}var Ju=Object(g["a"])((function(e){return{list:{marginBottom:e.spacing(1)},hiddenInput:{position:"absolute",top:"-100000px"},search:{margin:e.spacing(1,0)}}}));var Zu=function e(t){var n=t.features;var a=Object(r["useRef"])(null);var o=Object(r["useState"])([]),s=Uu(o,2),l=s[0],c=s[1];var u=Object(r["useState"])(""),d=Uu(u,2),f=d[0],p=d[1];var h=Object(Du["a"])(f,150);var v=Ju();var m=function e(){if(document.execCommand)try{a.current.value=n.join(", ");a.current.select();document.execCommand("copy")}catch(e){}};var g=function e(t){p(t.target.value)};Object(r["useEffect"])((function(){var e=h.toLocaleLowerCase();var t=n.filter((function(t){return t.toLocaleLowerCase().includes(e)}));c(t)}),[h]);return i.a.createElement(i.a.Fragment,null,i.a.createElement($u,{className:v.search,"data-tid":"about-dialog-feature-flags-search",value:f,onChange:g,onClear:function e(){return p("")},fullWidth:true}),i.a.createElement(Tu["a"],{className:v.list,"aria-label":"third-party licenses",onClick:m,dense:true},l.map((function(e){return i.a.createElement(Pu,{key:e,feature:e})})),i.a.createElement("input",{className:v.hiddenInput,ref:a,value:"",readOnly:true})))};Zu.propTypes={features:h.a.arrayOf(h.a.string).isRequired};var Xu=Zu;var ed=Object(g["a"])((function(e){return{featuresSection:{width:"100%",marginRight:e.spacing(3)}}}));var td=function e(t){var n=t.features,r=t.hasAboutService,a=void 0!==r&&r;var o=Object(io["c"])();var s=ed();var l=function e(){if(a)return i.a.createElement(to["a"],{variant:"body2",gutterBottom:true},o("About.Features.Description"));return i.a.createElement(i.a.Fragment,null,i.a.createElement(to["a"],{variant:"body2",gutterBottom:true},o("About.Features.InfoHub.Description")),i.a.createElement(Au["a"],{target:"_blank",href:"https://infohub.qlikdev.com/dashboard"},"https://infohub.qlikdev.com/dashboard"))};return i.a.createElement(ro["a"],{container:true,direction:"column",className:s.featuresSection,"data-tid":"qsad-section-features"},i.a.createElement(to["a"],{variant:"h3",gutterBottom:true},o("About.Features.Title")),i.a.createElement(nu["a"],null,l()),i.a.createElement(Xu,{features:n}))};td.propTypes={features:h.a.arrayOf(h.a.string).isRequired,hasAboutService:h.a.bool};td.defaultProps={hasAboutService:false};var nd=td;var rd=n("Dze6");var id=function(e){return i.a.createElement(Mo["a"],Object.assign({d:"M16,12 L16,14 C16,14.5522847 15.5522847,15 15,15 L8,15 L8,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,12 L0,12 L0,11 C-6.76353751e-17,10.4477153 0.44771525,10 1,10 C1.55228475,10 2,10.4477153 2,11 L2,13 L2,13 L14,13 L14,10.9986478 C14,10.4471099 14.4471099,10 14.9986478,10 C15.5504041,10 15.9978999,10.4468912 15.998646,10.9986469 L16,12 L16,12 Z M4.1,6.6 C3.9,6.4 4,6 4.3,6 L7,6 L7,1.3 C7,1.1 7.1,1 7.3,1 L8.6,1 C8.9,1 9,1.1 9,1.3 L9,6 L11.7,6 C12,6 12.2,6.4 11.9,6.6 L8.2,9.9 C8,10 7.8,10 7.7,9.9 L4.1,6.6 Z"},e))};var ad=Object(g["a"])((function(e){return{root:{padding:e.spacing(1)}}}));var od=function e(t){var n=t.components;var r=ad();return i.a.createElement(nu["a"],{className:r.root},i.a.createElement(Tu["a"],{dense:true},n.map((function(e){return i.a.createElement(Ou["a"],{key:e.component},i.a.createElement(Lu["a"],{primary:e.component,secondary:e.version}))}))))};var sd=od;function ld(){ld=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ld.apply(this,arguments)}var cd=r["createElement"]("style",null,".Qlik-Logo_RGB_svg__st0{fill:#54565b}");var ud=r["createElement"]("path",{className:"Qlik-Logo_RGB_svg__st0",d:"M251.8 66.9c-1.9-3.1.6-5.7.6-5.7l22-22.7c2.5-2.6-1.1-2.6-1.1-2.6h-20.5c-3.6 0-6.1 2.6-6.1 2.6l-20.4 21.6c-2.5 2.6-2.5-1-2.5-1V12c0-3.6-3.6-3.6-3.6-3.6h-15.5c-3.5 0-3.5 3.5-3.5 3.5v98.7c0 3.6 3.6 3.6 3.6 3.6h15.4c3.5 0 3.5-3.5 3.5-3.5V93.3c0-3.6 2.6-6.1 2.6-6.1l7.3-6.8 18.2 30.6c1.8 3.1 5.4 3.1 5.4 3.1h19.5c3.6 0 1.7-3.1 1.7-3.1l-26.6-44.1zM185 110.5V39.4c0-3.6-3.6-3.6-3.6-3.6h-15.6c-3.6 0-3.6 3.6-3.6 3.6v71.1c0 3.6 3.6 3.6 3.6 3.6h15.6c3.6 0 3.6-3.6 3.6-3.6zm-.6-88.5V11.8s0-3.5-3.5-3.5h-15.2s-3.5 0-3.5 3.5V22s0 3.5 3.5 3.5H181s3.4 0 3.4-3.5zm-38.9 88.5V12c0-3.6-3.6-3.6-3.6-3.6H126c-3.6 0-3.6 3.6-3.6 3.6v98.5c0 3.6 3.6 3.6 3.6 3.6h15.9c3.6 0 3.6-3.6 3.6-3.6zm-35.7-4.2s2-2.3-.3-4.3L96.8 90.9c5.7-8.5 9.1-18.6 9.1-29.6 0-29.2-23.7-52.9-52.9-52.9C23.7 8.3 0 32 0 61.3c0 29.2 23.7 52.9 52.9 52.9 10.7 0 20.6-3.2 29-8.7l14 12.1s2.3 2 4.3-.3l9.6-11zm-26.3-45c0 16.9-13.7 30.6-30.6 30.6-16.9 0-30.6-13.7-30.6-30.6 0-16.9 13.7-30.6 30.6-30.6 16.9 0 30.6 13.7 30.6 30.6z"});var dd=r["createElement"]("path",{d:"M428.3 107.4l-17-14.3c5.9-9.4 9.4-20.5 9.4-32.4C420.7 27.2 393.5 0 360 0s-60.7 27.2-60.7 60.7 27.2 60.7 60.7 60.7c13 0 25.1-4.1 35-11.1l18.1 15.2s2.7 2.3 5-.4l10.8-12.8c-.2.1 2.1-2.6-.6-4.9zm-31.1-46.7c0 20.6-16.7 37.3-37.3 37.3-20.6 0-37.3-16.7-37.3-37.3 0-20.6 16.7-37.3 37.3-37.3 20.6 0 37.3 16.7 37.3 37.3z",fill:"#059848"});var fd=r["createElement"]("path",{className:"Qlik-Logo_RGB_svg__st0",d:"M336 60.7c0-13.2 10.7-23.9 23.9-23.9s23.9 10.7 23.9 23.9-10.7 23.9-23.9 23.9C346.7 84.7 336 74 336 60.7zM418 17.9c0-3.7 3-6.6 6.6-6.6 3.7 0 6.6 3 6.6 6.6 0 3.6-3 6.6-6.6 6.6-3.6 0-6.6-3-6.6-6.6zm6.6-5.7c-3.1 0-5.6 2.5-5.6 5.7s2.4 5.7 5.6 5.7c3.2 0 5.6-2.5 5.6-5.7s-2.4-5.7-5.6-5.7zm-1.5 9.7h-.9v-8.1h2.9c1.4 0 2.5.7 2.5 2.2 0 1.3-.7 2.1-1.9 2.2l2.3 3.6h-1.1l-2.1-3.6h-1.6v3.7zm0-4.3h1.8c1.1 0 1.8-.2 1.8-1.5 0-1-.8-1.4-1.8-1.4h-1.8v2.9z"});function pd(e){return r["createElement"]("svg",ld({id:"Qlik-Logo_RGB_svg__Layer_1",x:0,y:0,viewBox:"0 0 431.2 126.5",xmlSpace:"preserve"},e),cd,ud,dd,fd)}var hd="../../../../img/core/Qlik-Logo_RGB.c2035ae779c66c79cc08be73554fab47.svg";var vd=n("uvNq");function md(e,t){return Sd(e)||wd(e,t)||bd(e,t)||gd()}function gd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bd(e,t){if(!e)return;if("string"===typeof e)return yd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yd(e,t)}function yd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wd(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Sd(e){if(Array.isArray(e))return e}var xd=Object(g["a"])((function(e){return{container:{height:"100%"},item:{marginTop:e.spacing(1),display:"unset"},productButton:{marginTop:e.spacing(1)},logo:{marginBottom:e.spacing(1),width:"200px",display:"block"}}}));var Cd=function e(t){var n=t.systemInfo,r=t.componentsList,a=t.licenceAgreementLink,o=t.webPageUrl;var s=Object(io["c"])();var l=Object(vd["a"])(false),c=md(l,2),u=c[0],d=c[1];var f=xd();var p=function e(){if(r.length<=2)return i.a.createElement(sd,{components:r});return i.a.createElement(i.a.Fragment,null,i.a.createElement(wo["a"],{className:f.productButton,variant:"outlined","data-tid":"qsad-product-id",onClick:d,onKeyPress:d,"aria-label":n.senseId,endIcon:u?i.a.createElement(kc["a"],{size:"small"}):i.a.createElement(rd["a"],{size:"small"})},n.senseId),u?i.a.createElement(sd,{components:r}):null)};return i.a.createElement(ro["a"],{justify:"space-between",direction:"column",container:true,wrap:"nowrap",className:f.container,"data-tid":"qsad-section-about"},i.a.createElement(ro["a"],{alignItems:"flex-start",direction:"column",container:true,className:f.item},i.a.createElement(pd,{className:f.logo}),p()),i.a.createElement(ro["a"],{alignItems:"flex-start",direction:"column",container:true,className:f.item},i.a.createElement(to["a"],{variant:"body2",gutterBottom:true},s("About.LicenceAgreement")),i.a.createElement(wo["a"],{variant:"outlined",href:a,startIcon:i.a.createElement(id,null)},s("About.Download.PDF"))),i.a.createElement(ro["a"],{alignItems:"flex-start",direction:"column",container:true,className:f.item},i.a.createElement(to["a"],{variant:"body2",gutterBottom:true},s("About.Copyright",(new Date).getFullYear())),o?i.a.createElement(Au["a"],{target:"_blank",href:o},o):null))};Cd.propTypes={systemInfo:h.a.shape({contentHash:h.a.string.isRequired,senseId:h.a.string.isRequired,originalClassName:h.a.string.isRequired,version:h.a.string.isRequired,deploymentType:h.a.string.isRequired,releaseLabel:h.a.string.isRequired,productName:h.a.string.isRequired,copyrightYearRange:h.a.string.isRequired}).isRequired,componentsList:h.a.arrayOf(h.a.shape({contentHash:h.a.string.isRequired,component:h.a.string.isRequired,originalClassName:h.a.string.isRequired,version:h.a.string.isRequired})).isRequired,licenceAgreementLink:h.a.string.isRequired,webPageUrl:h.a.string};Cd.defaultProps={webPageUrl:""};var qd=Cd;var Ed=n("k9bD");var Id=n("ZBqy");var kd=n("3hCt");var Ad=Object(g["a"])((function(e){return{licenseDetails:{display:"flex",flexDirection:"column"},licenseText:{border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,background:e.palette.background.default,padding:e.spacing(1),whiteSpace:"pre-wrap"}}}));var Td=Object(r["memo"])((function(e){var t=e.license;var n=Ad();return i.a.createElement(Ed["a"],null,i.a.createElement(Id["a"],{"aria-controls":"panel-summary-".concat(t.url)},i.a.createElement(to["a"],{variant:"h6",noWrap:true},t.name)),i.a.createElement(kd["a"],null,i.a.createElement(nu["a"],{className:n.licenseDetails},i.a.createElement(Au["a"],{href:t.url,label:t.url},t.url),i.a.createElement("pre",{className:n.licenseText},t.text))))}));var Dd=Td;function Od(e,t){return Rd(e)||Nd(e,t)||Md(e,t)||Ld()}function Ld(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Md(e,t){if(!e)return;if("string"===typeof e)return Pd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pd(e,t)}function Pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nd(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Rd(e){if(Array.isArray(e))return e}var Fd=Object(g["a"])((function(e){return{search:{margin:e.spacing(1,0)},loadAllButton:{width:"100%"}}}));var _d=function e(t){var n=t.licenses;var a=Object(vd["a"])(false),o=Od(a,4),s=o[0],c=o[2],u=o[3];var d=Object(vd["a"])(false),f=Od(d,4),p=f[0],h=f[2],v=f[3];var m=Object(r["useState"])([]),g=Od(m,2),b=g[0],y=g[1];var w=Object(r["useState"])(""),S=Od(w,2),x=S[0],C=S[1];var q=Object(Du["a"])(x,150);var E=Fd();var I=function e(t){c();C(t.target.value)};Object(r["useEffect"])((function(){var e=q.toLocaleLowerCase();var t=n.filter((function(t){return!e||(t.url||"").toLocaleLowerCase().includes(e)||(t.name||"").toLocaleLowerCase().includes(e)}));if(t.length>=20)if(s){y(t);h()}else{v();y(t.slice(0,20))}else{y(t);h()}}),[q,s]);return i.a.createElement(i.a.Fragment,null,i.a.createElement($u,{className:E.search,"data-tid":"about-dialog-feature-flags-search",value:x,onChange:I,onClear:function e(){return C("")},fullWidth:true}),b.map((function(e){return i.a.createElement(Dd,{key:"".concat(e.name,"-").concat(e.url),license:e})})),p&&!s?i.a.createElement(wo["a"],{className:E.loadAllButton,onClick:function e(){return u()},"aria-label":l["default"].get("Common.LoadAll")},l["default"].get("Common.LoadAll")):null)};var jd=_d;var Bd=function e(t){var n=t.thirdPartyList;var r=Object(io["c"])();return i.a.createElement("div",{"data-tid":"qsad-section-thirdParty",id:"about-dialog-section__licenses"},i.a.createElement(to["a"],{variant:"h3",gutterBottom:true},r("About.3rdPartySoftware")),i.a.createElement(to["a"],{variant:"body2",gutterBottom:true},r("About.3rdPartySoftwareIntro")),i.a.createElement(jd,{licenses:n}))};Bd.propTypes={thirdPartyList:h.a.arrayOf(h.a.shape({name:h.a.string,copyright:h.a.string,year:h.a.string,version:h.a.string,license:h.a.string,url:h.a.string,text:h.a.string})).isRequired};var Vd=Bd;var Hd={normalWidthMediaQuery:"(max-width: 768px)",normalMediaQuery:"screen and (min-width: 768px) and (min-height: 481px)",mediumMediaQuery:"screen and (min-width: 641px) and (max-width: 767px) and (min-height: 481px)",normalMediumMediaQuery:"screen and (min-width: 641px) and (min-height: 481px)",smallDeviceMediaQuery:"screen and (max-width: 640px), screen and (max-height: 480px)",smallDeviceMediaQueryLandscape:"screen and (max-width: 640px) and (orientation: landscape)",smallDeviceMediaQueryPortrait:"screen and (max-width: 640px) and (orientation: portrait)"};var zd=Hd;function $d(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Ud(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$d(a,r,i,o,s,"next",e)}function s(e){$d(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Gd(e,t){return Jd(e)||Yd(e,t)||Qd(e,t)||Wd()}function Wd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qd(e,t){if(!e)return;if("string"===typeof e)return Kd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kd(e,t)}function Kd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yd(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Jd(e){if(Array.isArray(e))return e}function Zd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var Xd=Object(g["a"])((function(e){return{tabContainer:{flexGrow:"1",display:"flex",height:"100%"},tabs:Zd({},e.breakpoints.up("sm"),{borderRight:"1px solid ".concat(e.palette.divider),height:"100%"}),tab:{"&:hover":{backgroundColor:Object(lu["d"])(e.palette.common.black,.03),borderBottom:0,paddingBottom:6}},tabWrapper:{minWidth:"165px",textAlign:"left"},selectedTab:Zd({},e.breakpoints.down("sm"),{backgroundColor:Object(lu["d"])(e.palette.common.black,.05)}),dialogContent:{height:"430px",padding:"0px !important"},tabBox:Zd({overflow:"auto",padding:e.spacing(2)},e.breakpoints.up("sm"),{width:"80%"})}}));function ef(e){var t=e.systemInfo,n=e.componentsList,r=e.featuresList,a=e.licenceAgreementLink,o=e.thirdPartyList,s=e.hasAbout,c=e.webPageUrl;var u=[];s&&u.push({tid:"qsad-section-about",sectionName:l["default"].get("Common.About"),content:i.a.createElement(qd,{systemInfo:t,componentsList:n,licenceAgreementLink:a,webPageUrl:c})});o&&u.push({tid:"qsad-section-3rd-party",sectionName:l["default"].get("About.3rdPartySoftware"),content:i.a.createElement(Vd,{thirdPartyList:o})});u.push({tid:"qsad-section-features",sectionName:l["default"].get("About.Features"),content:i.a.createElement(nd,{features:r,hasAboutService:s})});return u}var tf=function e(t){var n=t.smallScreen,a=t.tabs,o=t.classes;var s=Object(r["useState"])(0),l=Gd(s,2),c=l[0],u=l[1];var d=n?"horizontal":"vertical";var f=Object(r["useCallback"])((function(e,t){u(t)}));var p=function e(){return i.a.createElement(eu["a"],{className:o.tabs,orientation:d,value:c,onChange:f,"data-tid":"qsad-sections"},a.map((function(e){var t=e.sectionName,r=e.tid;return i.a.createElement(tu["a"],{classes:n?null:{selected:o.selectedTab,wrapper:o.tabWrapper},className:n?null:o.tab,key:t,label:t,"aria-label":t,"data-tid":r})})))};var h=function e(){return a.map((function(e,t){var n=e.sectionName,r=e.content;return i.a.createElement(nu["a"],{className:o.tabBox,key:n,role:"tabpanel",hidden:c!==t},r)}))};if(n)return i.a.createElement(i.a.Fragment,null,i.a.createElement(ru["a"],{position:"sticky"},i.a.createElement(iu["a"],{variant:"dense"},p())),h());return i.a.createElement(nu["a"],{className:o.tabContainer},p(),h())};var nf=function e(t){var n=t.open,a=t.close;var o=Object(r["useState"])(null),s=Gd(o,2),c=s[0],u=s[1];var d=Xd();var f=Object(au["a"])(zd.normalWidthMediaQuery);var p=Fl["a"].getProductInfo();var h=function e(t){var n,r;var i=null===t||void 0===t?void 0:t.systemInfo;if(i){if(i.releaseLabel)return"".concat(i.productName," (").concat(i.releaseLabel,")");return i.productInfo}var a=null===p||void 0===p||null===(n=p.composition)||void 0===n?void 0:n.productName;var o=(null===p||void 0===p||null===(r=p.composition)||void 0===r?void 0:r.releaseLabel)||"-";if("-"===o)return a;return"".concat(a," (").concat(o,")")};Object(r["useEffect"])((function(){var e=u;var t=function(){var t=Ud(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return ku.getSections();case 2:n=r.sent;e(n);case 4:case"end":return r.stop()}}),t)})));return function e(){return t.apply(this,arguments)}}();n&&!c&&t();return function(){e=function e(){}}}),[n]);return i.a.createElement(m["a"],{onClose:a,onAbort:a,open:n,fullScreen:f,fullWidth:true,maxWidth:"md"},i.a.createElement(ou["a"],null,i.a.createElement(to["a"],{variant:"h5"},h(c)),i.a.createElement(vs["a"],{onClick:a,"data-tid":"qsad-close"},i.a.createElement(cu["a"],null))),i.a.createElement(no["a"],{className:d.dialogContent,dividers:true},c?i.a.createElement(tf,{smallScreen:f,tabs:ef(c),classes:d}):i.a.createElement(fn["a"],{show:true})),i.a.createElement(su["a"],null,i.a.createElement(wo["a"],{variant:"outlined","data-tid":"about-close","aria-label":l["default"].get("Common.Close"),autoFocus:true,onClick:a},l["default"].get("Common.Close"))))};nf.propTypes={open:h.a.bool.isRequired,close:h.a.func.isRequired};var rf=nf;var af=n("qN0E");function of(e){of="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return of(e)}function sf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function cf(e,t,n){t&&lf(e.prototype,t);n&&lf(e,n);return e}function uf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&df(e,t)}function df(e,t){df=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return df(e,t)}function ff(e){var t=vf();return function n(){var r=mf(e),i;if(t){var a=mf(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return pf(this,i)}}function pf(e,t){if(t&&("object"===of(t)||"function"===typeof t))return t;return hf(e)}function hf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vf(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function mf(e){mf=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return mf(e)}var gf=function e(){var t=te["a"].getParameterByName("app");var n=Sc["a"].story(t),r=n.storyId,i=n.slideId,a=n.state;No["a"].goToStory(r,a,i)};function bf(){return i.a.createElement(Ct["e"],{tid:"4dfd77",size:"large",variant:"inverse",onClick:No["a"].goToOverview},i.a.createElement(Ct["e"].Icon,{name:"previous",size:"large"}))}var yf=function(e){uf(n,e);var t=ff(n);function n(e){var r;sf(this,n);r=t.call(this,e);r.state={view:D["a"].view,state:D["a"].state,menuOpen:false,explorationOpen:false,selectionCount:0,qAutoSave:null,isAboutDialogOpen:false};r.toggleMenu=r.toggleMenu.bind(hf(r));r.stateChanged=r.stateChanged.bind(hf(r));r.smallExplore=r.smallExplore.bind(hf(r));return r}cf(n,[{key:"componentDidMount",value:function e(){var t=this;Zl["a"].toggle({isSmallDevice:true,showAppDetails:false,forcedValue:true});this.props.app.global.getConfiguration().then((function(e){var n=e.qFeatures;t.setState({qAutoSave:n.qAutoSave})}));D["a"].StateChanged.bind(this.stateChanged);q["a"].subscribe("/toolbar/invalidateMobileToolbar.mobileToolbar",(function(e){var n=t.state.selectionCount;e!==n&&t.setState({selectionCount:n})}))}},{key:"componentWillUnmount",value:function e(){q["a"].unsubscribe(".mobileToolbar");D["a"].StateChanged.unbind(this.stateChanged)}},{key:"stateChanged",value:function e(t,n){this.setState({view:t,state:n})}},{key:"toggleMenu",value:function e(t){var n=this.state.menuOpen;var r="undefined"!==typeof t?t:!n;this.setState({menuOpen:r})}},{key:"smallExplore",value:function e(){var t=this;s["default"].$apply(s["default"].$rootScope,(function(){var e=Jl["a"].getGrid();e&&e.exploreMenu(Jl["a"].getZoomCell());t.toggleExploration()}))}},{key:"toggleExploration",value:function e(t){var n=this.state.explorationOpen;var r="undefined"!==typeof t?t:!n;this.setState({explorationOpen:r})}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.appLayout,a=n.appIsDirty,o=n.view,s=n.app;var c=this.state,u=c.menuOpen,d=c.explorationOpen,f=c.qAutoSave,p=c.state,h=c.view,v=c.isAboutDialogOpen;if(p===D["a"].States.play)return null;var m=!!af["a"].isViewingSource&&p!==D["a"].States.editstory;var g=o&&o.renderMobileToolbarLeftContent;g||(g=bf);var b=a&&r&&r.permissions.update&&!f;var y=r&&r.qTitle||"";var w=o&&o.helpKey||"AppView";var S=Xl["a"].getSelectionCount(s);return i.a.createElement("div",{className:"qs-mobile-toolbar"},i.a.createElement("div",{className:"qs-mobile-toolbar__left"},g({app:s}),b?i.a.createElement(Ct["e"],{tid:"2fedad",size:"large",variant:"inverse",onClick:function e(){return oo["a"].saveApp((function(){}))}},i.a.createElement(Ct["e"].Text,null,l["default"].get("Common.Save"))):null),i.a.createElement("div",{className:"qs-mobile-toolbar__center",ref:function e(n){t.appInfoElem=n}},i.a.createElement("h1",{className:"qs-mobile-toolbar__title","data-tid":"toolbar-app-title"},r.qReadOnly?i.a.createElement(Ct["f"],{name:"lock",className:"qs-mobile-toolbar__title-lock-icon",title:l["default"].get("App.ReadOnly")}):null,y)),i.a.createElement("div",{className:"qs-mobile-toolbar__right"},m?i.a.createElement(Ct["e"],{tid:"returnToStoryButton",size:"large",variant:"inverse",title:l["default"].get("Tooltip.ReturnToStory"),onClick:gf},i.a.createElement(Ct["e"].Icon,{name:"back",size:"large"})):null,Object(Ne["b"])("MOBILE_INSIGHTS")?i.a.createElement(Xc,{app:s,appLayout:r}):null,D["a"].view===D["a"].Views.object||D["a"].view===D["a"].Views.insightAdvisor&&S>0?i.a.createElement(Ct["e"],{tid:"465dda",size:"large",variant:"inverse",className:"lui-bg-success",onClick:function e(){return Xl["a"].toggleGlobalSelection(s)}},i.a.createElement(Ct["e"].Text,null,S)):null,D["a"].view===D["a"].Views.object&&Jl["a"].getZoomCell()&&Jl["a"].getZoomCell().object.hasSoftProperties?i.a.createElement(Ct["e"],{tid:"small.explore",size:"large",variant:"inverse",active:d,onClick:this.smallExplore},i.a.createElement(Ct["e"].Icon,{name:"control"})):null,i.a.createElement(Ct["e"],{tid:"2fedac",size:"large",variant:"inverse",onClick:this.toggleMenu},i.a.createElement(Ct["e"].Icon,{name:"menu",size:"large"}))),u?i.a.createElement(wc,{show:u,appLayout:r,alignTo:this.appInfoElem,toggleMenu:this.toggleMenu,state:p,view:h,helpKey:w,openAboutDialog:function e(){return t.setState({isAboutDialogOpen:true})}}):null,i.a.createElement(rf,{open:v,close:function e(){return t.setState({isAboutDialogOpen:false})}}))}}]);return n}(r["Component"]);yf.propTypes={app:h.a.object.isRequired,appLayout:h.a.object.isRequired,appIsDirty:h.a.bool.isRequired,view:h.a.object};yf.defaultProps={view:null};var wf=yf;var Sf=n("1Swa");var xf=n("HtTR");var Cf=n("eoRd");var qf=n("SEYK");var Ef=n("CXq/");var If=n("RKW3");var kf=function e(){return i.a.createElement("div",{className:"qs-toolbar__divider"})};var Af=kf;var Tf=n("bmRg");var Df=n("G1wx");function Of(){var e=Tf["a"].get("deviceType",{value:"auto"}).value;var t="auto"===e?!Df["a"].treatAsDesktop():"touch"===e;return t}var Lf=function e(t){var n=t.openDialog;var r=Object(io["c"])();var a=Of();function o(e){"Enter"!==e.key&&" "!==e.key||n(true)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(If["a"],{tid:"4dfe29",iconName:"touch",title:r("TouchScreenMode.Title"),selectable:false},i.a.createElement("div",{className:"qs-toolbar__toggle-touch"},i.a.createElement("div",{className:"qs-toolbar__toggle-touch-label"},r("TouchScreenMode.Title"),i.a.createElement("strong",null,r(a?"properties.on":"properties.off"))),i.a.createElement("div",{className:"qs-toolbar__toggle-touch-switch"},i.a.createElement(Ct["m"],{defaultChecked:a,onClick:function e(){return n(true)},onKeyDown:o})))))};Lf.propTypes={openDialog:h.a.func.isRequired};var Mf=Lf;var Pf=function e(t){var n=t.closeMenu,r=t.openAboutDialog;var a=Object(io["c"])();return Object(Ne["b"])("HIDE_ABOUT_BUTTON")?null:i.a.createElement(If["a"],{tid:"4dfe27",iconName:"info",title:a("Common.About"),onSelect:function e(){r();n()}},a("Common.About"))};Pf.propTypes={closeMenu:h.a.func.isRequired,openAboutDialog:h.a.func.isRequired};var Nf=Pf;function Rf(e){Rf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Rf(e)}function Ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function jf(e,t,n){t&&_f(e.prototype,t);n&&_f(e,n);return e}function Bf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Vf(e,t)}function Vf(e,t){Vf=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Vf(e,t)}function Hf(e){var t=Uf();return function n(){var r=Gf(e),i;if(t){var a=Gf(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return zf(this,i)}}function zf(e,t){if(t&&("object"===Rf(t)||"function"===typeof t))return t;return $f(e)}function $f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uf(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Gf(e){Gf=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Gf(e)}var Wf=function(e){Bf(n,e);var t=Hf(n);function n(e){var r;Ff(this,n);r=t.call(this,e);r.state={error:null};return r}jf(n,[{key:"componentDidUpdate",value:function e(t){var n=this.props.view;n!==t.view&&this.setState((function(){return{error:null}}))}},{key:"componentDidCatch",value:function e(t){Re["a"].trackEvent(Re["a"].customEvents.VIEW_RENDER_ERROR,{message:t&&t.message});this.setState({error:t})}},{key:"render",value:function e(){var t=this.state.error;var n=this.props,r=n.view,i=n.urlParameters,a=n.disabled,o=n.closeMenu,s=n.showAddData,l=n.toggleDownloadDialog;var c=r&&r.renderMenuItems;if(!t&&c)return c({urlParameters:i,disabled:a,closeMenu:o,showAddData:s,toggleDownloadDialog:l});return null}}]);return n}(r["PureComponent"]);Wf.propTypes={view:h.a.object,urlParameters:h.a.array.isRequired,disabled:h.a.bool.isRequired,closeMenu:h.a.func.isRequired,showAddData:h.a.bool.isRequired,toggleDownloadDialog:h.a.func.isRequired};Wf.defaultProps={view:null};var Qf=Wf;function Kf(){Kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Kf.apply(this,arguments)}function Yf(e,t){return tp(e)||ep(e,t)||Zf(e,t)||Jf()}function Jf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zf(e,t){if(!e)return;if("string"===typeof e)return Xf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xf(e,t)}function Xf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ep(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function tp(e){if(Array.isArray(e))return e}var np=function e(t){var n=t.helpKey,r=t.closeMenu,a=t.alignTo,o=t.show,s=t.canGoToHub,l=t.view,u=t.disableContextualItems,d=t.appLayout,f=t.allowCreateApp,p=t.openTouchDialog,h=t.openAboutDialog,v=t.scriptEx,m=t.urlParameters,g=t.toggleDownloadDialog,b=t.warnUnsaved;var y=Object(io["c"])();var w=Object(Ne["b"])("CAO_FIRST_TIME");var S=!Object(Ne["b"])("DISABLE_TOGGLE_TOUCH");var x=!Object(Ne["b"])("DISALLOW_OPEN_IN_TAB");var C=Object(Ne["b"])("ALLOW_OPEN_HUB_IN_SAME_TAB");var q=No["a"].getUrlForHub();var E=No["a"].getUrlForOverview();var I=ms["a"].path+n;var k=function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r();if((t.ctrlKey||t.metaKey)&&x||i)window.open(n,"_blank");else{if(b&&!Cc["a"].allowNavigateFromView())return;c["a"].setUrl(n,false,false,a)}if(i){t.preventDefault();t.stopPropagation()}};var A=function e(t){if(a&&a.contains(t.target)){t.stopPropagation();t.preventDefault()}r()};if(!a)return null;return i.a.createElement(Ct["j"],{inline:true,tid:"3df9b3",alignTo:a,onOutside:A,onEscape:r,show:o},i.a.createElement(Ef["a"],{closeMenu:r},i.a.createElement("div",null,i.a.createElement(If["a"],{tid:"4dfdd3",iconName:"home",href:E,showOpenInTab:x,title:y("NavigationMenu.AppOverview"),disabled:D["a"].view===D["a"].Views.overview,onSelect:function e(t){return k(t,E)},onClickNewTab:function e(t){return k(t,E,x)}},y("NavigationMenu.AppOverview")),!s||C&&w?null:i.a.createElement(If["a"],{tid:"4dfdd2",iconName:"hub-logo",showOpenInTab:x,divider:C,title:y(C?"NavigationMenu.Hub":"NavigationMenu.Hub.OpenInTab"),onSelect:function e(t){return k(t,q,!C&&x,true)},onClickNewTab:function e(t){return k(t,q,x,true)}},y("NavigationMenu.Hub"))),i.a.createElement(Af,null),i.a.createElement("div",null,i.a.createElement(Qf,{view:l,disabled:u,urlParameters:m,closeMenu:r,showAddData:Object(qf["b"])(d,v,f),toggleDownloadDialog:g}),S?i.a.createElement(Mf,{openDialog:p}):null,i.a.createElement(If["a"],{tid:"4dfe26",iconName:"help",title:y("Common.Tooltip.OpenHelpInNewTab"),onSelect:function e(t){return k(t,I,true)}},y("GlobalMenu.Help")),i.a.createElement(Nf,{openAboutDialog:h,closeMenu:r}))))};np.propTypes={helpKey:h.a.string.isRequired,show:h.a.bool.isRequired,canGoToHub:h.a.bool.isRequired,allowCreateApp:h.a.bool,appLayout:h.a.object,disableContextualItems:h.a.bool.isRequired,scriptEx:h.a.object,openTouchDialog:h.a.func.isRequired,openAboutDialog:h.a.func.isRequired,view:h.a.object,closeMenu:h.a.func.isRequired,alignTo:h.a.object,urlParameters:h.a.array.isRequired,warnUnsaved:h.a.bool,toggleDownloadDialog:h.a.func.isRequired};np.defaultProps={view:null,appLayout:null,scriptEx:null,alignTo:null,warnUnsaved:false,allowCreateApp:false};function rp(e){var t=Object(b["a"])(te["a"].getParameterByName("app")),n=Yf(t,1),r=n[0];var a=Object(y["a"])(r),o=Yf(a,1),s=o[0];var l=Object(Sf["a"])(r),c=Yf(l,1),u=c[0];var d=Object(xf["a"])(null===r||void 0===r?void 0:r.global),f=Yf(d,1),p=f[0];var h=Object(Cf["a"])(null===r||void 0===r?void 0:r.global);if(!s)return null;return i.a.createElement(np,Kf({},e,{appLayout:s,scriptEx:u,allowCreateApp:p,canGoToHub:h}))}function ip(e,t){return cp(e)||lp(e,t)||op(e,t)||ap()}function ap(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function op(e,t){if(!e)return;if("string"===typeof e)return sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sp(e,t)}function sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lp(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function cp(e){if(Array.isArray(e))return e}function up(){var e=Object(r["useState"])(oo["a"].isAppDirty()),t=ip(e,2),n=t[0],i=t[1];Object(r["useEffect"])((function(){var e=function e(){i(false)};var t=function e(){i(true)};oo["a"].onAppIsNowClean(e);oo["a"].onAppIsNowDirty(t);return function(){oo["a"].onAppIsNowCleanRemove(e);oo["a"].onAppIsNowDirtyRemove(t)}}),[]);return n}function dp(){var e=Tf["a"].get("deviceType",{value:"auto"}).value;var t="auto"===e?!Df["a"].treatAsDesktop():"touch"===e;return t}function fp(e){var t=e.close,n=e.show;var r=Object(io["c"])();var a=up();function o(){var e=dp();Tf["a"].set("deviceType",{value:e?"desktop":"touch"});a?oo["a"].saveApp((function(){var e=window.setInterval((function(){if(!oo["a"].isAppDirty()){clearInterval(e);window.location.reload()}}),10)})):window.location.reload()}return i.a.createElement(Ct["d"],{"data-tid":"touch-confirm-dialog",show:n},i.a.createElement(Ct["d"].Header,null,i.a.createElement(Ct["d"].Title,null,r("TouchScreenMode.Dialog.Title"))),i.a.createElement(Ct["d"].Body,null,r(a?"TouchScreenMode.Dialog.Message.Save":"TouchScreenMode.Dialog.Message")),i.a.createElement(Ct["d"].Footer,null,i.a.createElement(Ct["a"],{"data-tid":"touch-dlg-cancel-btn",onClick:t},r("Common.Cancel")),i.a.createElement(Ct["a"],{"data-tid":"touch-dlg-confirm-btn",onClick:o},r(a?"TouchScreenMode.Dialog.Continue":"Common.Continue"))))}fp.propTypes={close:h.a.func.isRequired,show:h.a.bool.isRequired};var pp=fp;var hp=n("tdr+");var vp=n("yoX+");var mp=n("kZAH");function gp(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function bp(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){gp(a,r,i,o,s,"next",e)}function s(e){gp(a,r,i,o,s,"throw",e)}o(void 0)}))}}function yp(e,t){return qp(e)||Cp(e,t)||Sp(e,t)||wp()}function wp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sp(e,t){if(!e)return;if("string"===typeof e)return xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xp(e,t)}function xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cp(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function qp(e){if(Array.isArray(e))return e}var Ep=Object(g["a"])((function(e){return{dialogContent:{minHeight:"360px"},button:{margin:e.spacing(0,1)}}}));var Ip=function e(t){var n=t.open,a=t.toggleDownloadDialog,o=t.story;var s=Object(r["useState"])(n),c=yp(s,2),u=c[0],d=c[1];var f=Object(r["useState"])(0),p=yp(f,2),h=p[0],v=p[1];var g=hp["a"].getStates();var b=Ep();var y=l["default"].get("Common.Cancel");var w=l["default"].get("Common.Close");var S=l["default"].get("Common.TryAgain");function x(){return C.apply(this,arguments)}function C(){C=bp(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return hp["a"].requestDownloadStory(o);case 2:t=r.sent;n=hp["a"].getFileName(o,"sheet");hp["a"].downloadFile(t.qUrl,n,"pdf");a(false);case 6:case"end":return r.stop()}}),e)})));return C.apply(this,arguments)}function q(){return E.apply(this,arguments)}function E(){E=bp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:v(g.PENDING);t.prev=1;t.next=4;return x();case 4:t.next=9;break;case 6:t.prev=6;t.t0=t["catch"](1);(null===t.t0||void 0===t.t0?void 0:t.t0.status)?v(t.t0.status):v(t.t0.status.FAILED);case 9:case"end":return t.stop()}}),e,null,[[1,6]])})));return E.apply(this,arguments)}var I=function e(){hp["a"].cancel();a(false)};Object(r["useEffect"])((function(){d(n);n&&q()}),[n,o]);var k;switch(h){case g.PENDING:k=i.a.createElement(i.a.Fragment,null,i.a.createElement(ro["a"],{item:true},i.a.createElement(vp["a"],null)),i.a.createElement(ro["a"],{item:true},i.a.createElement(to["a"],{variant:"h5",align:"center",gutterBottom:true},l["default"].get("Download.Story.Pending")),i.a.createElement(to["a"],{variant:"body1",align:"center"},l["default"].get("Download.Autostart"))),i.a.createElement(ro["a"],{item:true},i.a.createElement(wo["a"],{title:y,variant:"outlined",onClick:I,className:b.button},y)));break;case g.CANCELED:case g.TIMEOUT:k=i.a.createElement(i.a.Fragment,null,i.a.createElement(ro["a"],{item:true},i.a.createElement(mp["a"],null)),i.a.createElement(ro["a"],{item:true},i.a.createElement(to["a"],{variant:"h5",align:"center",gutterBottom:true},l["default"].get("Download.PDF.Timeout")),i.a.createElement(to["a"],{variant:"body1",align:"center"},l["default"].get("Download.Error.Generic_2"))),i.a.createElement(ro["a"],{item:true},i.a.createElement(wo["a"],{title:w,variant:"outlined",onClick:I,className:b.button},w),i.a.createElement(wo["a"],{title:S,variant:"outlined",onClick:q,className:b.button},S)));break;case g.FAILED:default:k=i.a.createElement(i.a.Fragment,null,i.a.createElement(ro["a"],{item:true},i.a.createElement(mp["a"],null)),i.a.createElement(ro["a"],{item:true},i.a.createElement(to["a"],{variant:"h5",align:"center",gutterBottom:true},l["default"].get("Download.Error.Generic_1")),i.a.createElement(to["a"],{variant:"body1",align:"center"},l["default"].get("Download.Error.Generic_2"))),i.a.createElement(ro["a"],{item:true},i.a.createElement(wo["a"],{title:w,onClick:I,variant:"outlined",className:b.button},w),i.a.createElement(wo["a"],{title:S,onClick:q,variant:"outlined",className:b.button},S)));break}return i.a.createElement(m["a"],{open:u,maxWidth:"sm",fullWidth:true},i.a.createElement(ro["a"],{container:true,direction:"row",alignItems:"center",className:b.dialogContent},i.a.createElement(no["a"],null,i.a.createElement(ro["a"],{container:true,direction:"column",alignItems:"center",spacing:2},k))))};var kp=Ip;var Ap=function e(t){var n=t.appTitle,r=t.toggleAppDetails,a=t.title,o=t.readOnly;var s=Object(io["c"])();return i.a.createElement("section",{className:"qs-app-info-toggle-container qs-toolbar__element"},i.a.createElement(Ct["e"],{className:"lui-fade-button qs-app-info-toggle",onClick:r,"data-tid":"toggle-app-details","aria-labelledby":"sr-app-info",disabled:false,title:a},i.a.createElement(Ct["e"].Icon,{name:"more-rounded"}),o?i.a.createElement(Ct["e"].Icon,{name:"lock",title:s("App.ReadOnly")}):null,i.a.createElement(Ct["e"].Text,{"data-tid":"toolbar-app-title","aria-hidden":"true"},n)),Nl["a"].adaptationsEnabled()?i.a.createElement("div",{className:"bdi-token",title:"Big Data Index"},"BDI"):null)};Ap.propTypes={appTitle:h.a.string.isRequired,toggleAppDetails:h.a.func.isRequired,title:h.a.string.isRequired,readOnly:h.a.bool.isRequired};var Tp=Ap;function Dp(e){Dp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Dp(e)}function Op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Mp(e,t,n){t&&Lp(e.prototype,t);n&&Lp(e,n);return e}function Pp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Np(e,t)}function Np(e,t){Np=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Np(e,t)}function Rp(e){var t=jp();return function n(){var r=Bp(e),i;if(t){var a=Bp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Fp(this,i)}}function Fp(e,t){if(t&&("object"===Dp(t)||"function"===typeof t))return t;return _p(e)}function _p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jp(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Bp(e){Bp=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Bp(e)}var Vp=function(e){Pp(n,e);var t=Rp(n);function n(){Op(this,n);return t.apply(this,arguments)}Mp(n,[{key:"componentDidMount",value:function e(){var t=this;dl["a"].get().then((function(){if(t.destroying)return;document.body.classList.add("qv-app-details-enabled");t.component=s["default"].showComponent(t.elem,{template:"<qv-app-details/>",controller:["$scope","$timeout",function e(t,n){this.destroy=function e(){t.destroyComponent();document.body.classList.remove("qv-app-details-enabled");document.body.classList.remove("qv-app-details-options-enabled");n((function(){O["a"].force("end")}))};n((function(){O["a"].force("end")}))}]})}))}},{key:"componentWillUnmount",value:function e(){this.destroying=true;if(this.component)try{this.component.destroy()}catch(e){console.error(e)}}},{key:"render",value:function e(){var t=this;return i.a.createElement("div",{className:"qv-app-details-container",ref:function e(n){t.elem=n}})}}]);return n}(r["PureComponent"]);var Hp=Vp;var zp=n("wGBp");var $p=n("g1uV");function Up(){Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Up.apply(this,arguments)}function Gp(e,t){return Jp(e)||Yp(e,t)||Qp(e,t)||Wp()}function Wp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qp(e,t){if(!e)return;if("string"===typeof e)return Kp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kp(e,t)}function Kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yp(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Jp(e){if(Array.isArray(e))return e}var Zp=function e(t){var n=t.menuItems,r=t.selectItemHandler,a=t.closeMenu;if(!n)return null;return n.map((function(e,t){var n=e.tid,o=e.iconName,s=e.showOpenInTab,l=e.label,c=e.disabled,u=e.onClickNewTab;var d=function t(){return e.label===io["a"].get("BusinessModel.Title")};return i.a.createElement(If["a"],{tid:n,key:n,iconName:o,showOpenInTab:s,title:l,disabled:c&&c(),onSelect:function e(n){d()||r(n,t)},onClickNewTab:function e(t){if(!d()){a();u(t)}},selectable:!d(),isParentMenu:d()},l)}))};function Xp(e){var t=e.tid,n=e.active,r=e.disabled,a=e.isIcon,o=e.toggleMenuHandler,s=e.showMenu,l=e.preventFocusOnMouseDown,c=e.dropDownButtonTitle;var u=function e(t){switch(t.nativeEvent.keyCode){case $p["a"].SPACE:case $p["a"].ENTER:o();break;case $p["a"].TAB:t.shiftKey&&s&&o(false);break;default:break}};var d=function e(t){o(t)};return i.a.createElement("div",{tid:"".concat(t,"-dropdown-arrow"),className:"tab-dropdown-icon ".concat(a?"icon-only":""," ").concat(s?"highlight":""," ").concat(n?"active":""),tabIndex:r||n?-1:0,role:"button",onMouseDown:l,onKeyDown:u,onClick:d,title:c},i.a.createElement(Ct["f"],{size:"small",name:"arrow-down"}))}function eh(e){var t=e.isIcon,n=e.active,a=e.disabled,o=e.disabledTitle,s=e.onTabSelect,l=e.tid,c=e.label,u=e.className,d=e.getMenuItems,f=e.activeMenuItem,p=e.dropDownButtonTitle;var h;var v=Object(r["useRef"])(null);var m=Object(r["useRef"])(null);var g=Object(r["useRef"])(null);var b=Object(r["useState"])([]),y=Gp(b,2),w=y[0],S=y[1];var x=function e(){var t=f();if(w.length>0){for(var n=0;n<w.length;n+=1)if(w[n].name===t.name)return t;return w[0]}return t};var C=x();var q=function e(){var t=0;for(var n=0;n<w.length;n+=1)w[n].disabled()&&w[n].name!==C.name||(t+=1);return t>1};var E=q();var I=Object(r["useState"])(false),k=Gp(I,2),A=k[0],T=k[1];var O=Object(r["useState"])(0),L=Gp(O,2),M=L[0],P=L[1];var N=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!A;!h&&E&&(h=setTimeout((function(){T(t)}),30))};var R=function e(){return N()};var F=function e(t){if(t&&t.target instanceof Node&&"touchend"===t.type&&v.current.contains(t.target))return;T(false)};var _=function e(t){var n,r;(null===(n=g.current)||void 0===n?void 0:n.contains(t.target))||(null===(r=v.current)||void 0===r?void 0:r.contains(t.target))||F()};var j=function e(){var t,n;(null===(t=g.current)||void 0===t?void 0:t.innerHTML.length)>0&&!g.current.contains(document.activeElement)&&!(null===(n=v.current)||void 0===n?void 0:n.contains(document.activeElement))&&F()};var B=function e(t,n){var r=w[n].onSelect;F();r(t)};var V=function e(t){t.preventDefault();t.stopPropagation()};var H=function e(t){return JSON.stringify(t)!==JSON.stringify(w)};d().then((function(e){(0===w.length||w.length!==e.length||H(e))&&S(e)}));var z=function e(t){t.stopPropagation();n?N():s(t)};var $=function e(t){t.stopPropagation();switch(t.nativeEvent.keyCode){case $p["a"].SPACE:case $p["a"].ENTER:z(t);break;case $p["a"].TAB:t.shiftKey&&A&&n&&F();break;default:break}};var U=function e(t){t!==M&&P(t)};Object(r["useEffect"])((function(){window.addEventListener("resize",F);document.addEventListener("mousedown",_);document.addEventListener("keydown",j);D["a"].StateChanged.bind(U);return function(){window.removeEventListener("resize",F);document.removeEventListener("mousedown",_);document.removeEventListener("keydown",j);D["a"].StateChanged.unbind(U)}}),[]);var G={tid:l,isIcon:t,toggleMenuHandler:R,active:n,disabled:a,label:c,showMenu:A,preventFocusOnMouseDown:V,dropDownButtonTitle:p};var W={tid:l,ref:m,tabIndex:a?-1:0,role:"button",onMouseDown:V,onClick:z,onKeyDown:$,title:"".concat(c," - ").concat(C.label)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(zp["a"],{title:o||""},i.a.createElement("span",{className:"tab-menu-button-container"},i.a.createElement(Ct["n"],{active:n,disabled:a,className:"".concat(u," tab-menu-button ").concat(t?"icon-only":""),tid:l},t?i.a.createElement("div",{className:"icon-tab",ref:v},i.a.createElement("div",Up({},W,{className:"icon-container ".concat(E&&!n?"drop-down-icon-spacer":"","\n                ").concat(E&&n?"active":"","\n              ")}),i.a.createElement(Ct["f"],{className:n&&E?"active":"",name:C.iconName}),E&&n?i.a.createElement(Xp,G):null),E&&!n?i.a.createElement(Xp,G):null):i.a.createElement("div",{className:"double-label-tab",ref:v},i.a.createElement("div",Up({},W,{className:"tab-container ".concat(E?"drop-down-icon-spacer":""," ").concat(n?"active":"")}),i.a.createElement("div",{className:"label-container"},i.a.createElement("div",{className:"primary-label"},c),i.a.createElement("div",{className:"secondary-label"},C.label)),E&&n?i.a.createElement(Xp,G):null),E&&!n?i.a.createElement(Xp,G):null)))),E&&i.a.createElement("div",{ref:g},i.a.createElement(Ct["j"],{inline:true,tid:"".concat(l,"-tab-menu"),onOutside:F,alignTo:v.current,show:A,onEscape:F,ref:g},i.a.createElement(Ef["a"],{closeMenu:F},Zp({menuItems:w,selectItemHandler:B,closeMenu:F})))))}eh.propTypes={tid:h.a.string.isRequired,isIcon:h.a.bool.isRequired,active:h.a.bool.isRequired,disabled:h.a.bool.isRequired,onTabSelect:h.a.func.isRequired,label:h.a.string.isRequired,className:h.a.string.isRequired,activeMenuItem:h.a.func.isRequired,getMenuItems:h.a.func.isRequired,dropDownButtonTitle:h.a.string};eh.defaultProps={dropDownButtonTitle:""};Xp.propTypes={tid:h.a.string.isRequired,disabled:h.a.bool.isRequired,isIcon:h.a.bool.isRequired,toggleMenuHandler:h.a.func.isRequired,showMenu:h.a.bool.isRequired,preventFocusOnMouseDown:h.a.func.isRequired,dropDownButtonTitle:h.a.string.isRequired};function th(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function nh(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){th(a,r,i,o,s,"next",e)}function s(e){th(a,r,i,o,s,"throw",e)}o(void 0)}))}}function rh(e,t){return lh(e)||sh(e,t)||ah(e,t)||ih()}function ih(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ah(e,t){if(!e)return;if("string"===typeof e)return oh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oh(e,t)}function oh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sh(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function lh(e){if(Array.isArray(e))return e}function ch(){var e=Object(r["useState"])(Wo["a"].Stories.UNSAFE_all),t=rh(e,2),n=t[0],i=t[1];Object(r["useEffect"])((function(){var e=true;var t=function(){var t=nh(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return Wo["a"].Stories.getAllStories();case 2:n=r.sent;e&&i(n);case 4:case"end":return r.stop()}}),t)})));return function e(){return t.apply(this,arguments)}}();t();Wo["a"].Stories.StoriesChanged.bind(i);return function(){e=false;Wo["a"].Stories.StoriesChanged.unbind(i)}}),[]);return[n]}var uh=n("njJ6");function dh(){dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return dh.apply(this,arguments)}function fh(e,t){return gh(e)||mh(e,t)||hh(e,t)||ph()}function ph(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hh(e,t){if(!e)return;if("string"===typeof e)return vh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vh(e,t)}function vh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mh(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function gh(e){if(Array.isArray(e))return e}function bh(e){bh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return bh(e)}function yh(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function wh(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){yh(a,r,i,o,s,"next",e)}function s(e){yh(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Sh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Ch(e,t,n){t&&xh(e.prototype,t);n&&xh(e,n);return e}function qh(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Eh(e,t)}function Eh(e,t){Eh=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Eh(e,t)}function Ih(e){var t=Th();return function n(){var r=Dh(e),i;if(t){var a=Dh(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return kh(this,i)}}function kh(e,t){if(t&&("object"===bh(t)||"function"===typeof t))return t;return Ah(e)}function Ah(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Th(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Dh(e){Dh=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Dh(e)}function Oh(e){if(e&&void 0===e.button&&void 0!==e.key&&!("Enter"===e.key||" "===e.key))return false;return true}var Lh="businesslogic";var Mh="businessmodel";var Ph="businessmodelsettings";var Nh="dataloadeditor";var Rh="datamanager";var Fh="datamodelviewer";var _h="sheet";var jh="insightadvisor";var Bh="stories";var Vh="data";var Hh="analysis";var zh="story";var $h=function(e){qh(n,e);var t=Ih(n);function n(e){var r;Sh(this,n);r=t.call(this,e);r.onClickAnalysis=r.onClickAnalysis.bind(Ah(r));r.onClickAnalysisTab=r.onClickAnalysisTab.bind(Ah(r));r.onClickStory=r.onClickStory.bind(Ah(r));r.onClickData=r.onClickData.bind(Ah(r));r.onTabClick=r.onTabClick.bind(Ah(r));r.getDataMenuItems=r.getDataMenuItems.bind(Ah(r));r.getAnalysisMenuItems=r.getAnalysisMenuItems.bind(Ah(r));r.getActiveDataMenuItem=r.getActiveDataMenuItem.bind(Ah(r));r.getActiveAnalysisMenuItem=r.getActiveAnalysisMenuItem.bind(Ah(r));r.getStoryMenuItems=r.getStoryMenuItems.bind(Ah(r));r.onTabClick=r.onTabClick.bind(Ah(r));r.isSheetMenuItemDisabled=r.isSheetMenuItemDisabled.bind(Ah(r));r.isInsightAdvisorMenuItemDisabled=r.isInsightAdvisorMenuItemDisabled.bind(Ah(r));r.isDataModelViewerMenuItemDisabled=r.isDataModelViewerMenuItemDisabled.bind(Ah(r));r.isAnalysisTabDisabled=r.isAnalysisTabDisabled.bind(Ah(r));r.isStorytellingTabDisabled=r.isStorytellingTabDisabled.bind(Ah(r));r.getActiveDataMenuItem=r.getActiveDataMenuItem.bind(Ah(r));r.getActiveAnalysisMenuItem=r.getActiveAnalysisMenuItem.bind(Ah(r));r.getActiveStoryMenuItem=r.getActiveStoryMenuItem.bind(Ah(r));var i=!Object(Ne["b"])("DISALLOW_OPEN_IN_TAB");var a=No["a"].getUrlForBusinessModel();var o=No["a"].getUrlForBusinessModelSettings();var s=No["a"].getUrlForDataModelViewer();var c=No["a"].getUrlForDataLoadEditor();var u=No["a"].getUrlForDataManager();var d=No["a"].getUrlForInsights();r.menuItems={businesslogic:{name:Lh,label:l["default"].get("BusinessModel.Title"),iconName:"",tid:"navigation.menuoption.businesslogic",showOpenInTab:false,disabled:function e(){return false}},businessmodel:{name:Mh,label:l["default"].get("BusinessModel.LogicalModel"),tid:"navigation.menuoption.logicalmodel",iconName:"business-logic",showOpenInTab:i,disabled:function e(){return D["a"].view===D["a"].Views.businessModel},onSelect:function e(t){return Cc["a"].navigateToView(t,a)},onClickNewTab:function e(t){return Cc["a"].navigateToView(t,a,i)}},businessmodelsettings:{name:Ph,label:l["default"].get("BusinessModel.Vocabulary"),tid:"navigation.menuoption.vocabulary",iconName:"book",showOpenInTab:i,disabled:function e(){return D["a"].view===D["a"].Views.businessModelSettings},onSelect:function e(t){return Cc["a"].navigateToView(t,o)},onClickNewTab:function e(t){return Cc["a"].navigateToView(t,o,i)}},dataloadeditor:{name:Nh,label:l["default"].get("NavigationMenu.Scripteditor"),tid:"4dfdd5",iconName:"application",showOpenInTab:i,disabled:function e(){return D["a"].view===D["a"].Views.dataSpaceScriptEditor},onSelect:function e(t){return Cc["a"].navigateToView(t,c)},onClickNewTab:function e(t){return Cc["a"].navigateToView(t,c,i)}},datamodelviewer:{name:Fh,label:l["default"].get("NavigationMenu.DataModelViewer"),tid:"4dfdd4",iconName:"data-model",disabled:r.isDataModelViewerMenuItemDisabled,showOpenInTab:i,onSelect:function e(t){return Cc["a"].navigateToView(t,s)},onClickNewTab:function e(t){return Cc["a"].navigateToView(t,s,i)}},datamanager:{name:Rh,label:l["default"].get("NavigationMenu.DataSpace"),tid:"navigation.menuoption.datamanager",iconName:"data-manager",showOpenInTab:i,disabled:function e(){return D["a"].view===D["a"].Views.dataManager},onSelect:function e(t){return Cc["a"].navigateToView(t,u)},onClickNewTab:function e(t){return Cc["a"].navigateToView(t,u,i)}},insightadvisor:{name:jh,label:l["default"].get("Title.InsightAdvisor"),tid:"navigation.menuoption.insights",iconName:"analyze",showOpenInTab:i,disabled:r.isInsightAdvisorMenuItemDisabled,onSelect:function e(t){return Cc["a"].navigateToView(t,d)},onClickNewTab:function e(t){return Cc["a"].navigateToView(t,d,i)}},sheet:{name:_h,label:l["default"].get("Common.Sheet"),tid:"navigation.menuoption.sheet",iconName:"sheet",showOpenInTab:i,disabled:r.isSheetMenuItemDisabled,onSelect:function e(t){return r.onClickAnalysis(t,_h)},onClickNewTab:function e(){return r.onClickAnalysisInNewTab()}},stories:{name:Bh,tid:"tab-nav-story",label:l["default"].get("TabNavigation.Share.Storytelling"),iconName:"slide-show",showOpenInTab:false,disabled:function e(){return false},onSelect:function e(){}}};return r}Ch(n,[{key:"onTabClick",value:function(){var e=wh(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:r=this.props.warnUnsaved;if(!(r&&D["a"].view===D["a"].Views.dataSpaceScriptEditor)){o.next=11;break}i=false;a=Fs["a"].getMessage();if(!a){o.next=11;break}i=window.confirm(a);if(!i){o.next=10;break}Fs["a"].unsetBeforeUnloadFunctions();o.next=11;break;case 10:return o.abrupt("return");case 11:o.next=13;return t(n);case 13:case"end":return o.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"onClickData",value:function(){var e=wh(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,l,c,u;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:u=function e(){i(Vh);var t=Sc["a"].data(l).view;switch(t){case Fh:Object(qf["g"])(a,s)?No["a"].goToDataModelViewer(l):c();break;case Mh:Object(qf["c"])(a,s)?No["a"].goToBusinessModel():c();break;case Ph:Object(qf["d"])(a,s)?No["a"].goToBusinessModelSettings():c();break;case Nh:Object(qf["e"])(a,s)?No["a"].goToDataLoadEditor(l):c();break;default:c();break}};n=this.props,r=n.activeTab,i=n.setActiveTab,a=n.appLayout,o=n.allowCreateApp,s=n.scriptEx;l=te["a"].getParameterByName("app");if(!(r===Vh)){d.next=5;break}return d.abrupt("return");case 5:c=function e(){if(Object(qf["f"])(a,s,o)){No["a"].goToDataManager(l);return}if(Object(qf["e"])(a,s)){No["a"].goToDataLoadEditor(l);return}Object(qf["g"])(a,s)&&No["a"].goToDataModelViewer(l)};if(Oh(t)){d.next=8;break}return d.abrupt("return");case 8:d.next=10;return this.onTabClick(u);case 10:case"end":return d.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickStory",value:function(){var e=wh(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,d;return regeneratorRuntime.wrap((function e(f){while(1)switch(f.prev=f.next){case 0:d=function e(){d=wh(regeneratorRuntime.mark((function e(){var t,n,r,u,d,f,p,h,v,m;return regeneratorRuntime.wrap((function e(g){while(1)switch(g.prev=g.next){case 0:i(zh);t=te["a"].getParameterByName("app");n=Sc["a"].story(t);r=n.slideId,u=n.storyId;d=n.state;if(!u){g.next=14;break}g.prev=6;g.next=9;return a.getObject(u);case 9:f=g.sent;g.next=14;break;case 12:g.prev=12;g.t0=g["catch"](6);case 14:c&&(d=D["a"].States.play);p=function(){var e=wh(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:d=n.state;No["a"].goToStory(t,Object.keys(D["a"].States)[d],r);case 2:case"end":return i.stop()}}),e)})));return function t(n){return e.apply(this,arguments)}}();if(!(u&&f)){g.next=21;break}g.next=19;return p(u);case 19:g.next=39;break;case 21:h=s.mashed[0];if(!h){g.next=27;break}g.next=25;return p(h.qInfo.qId);case 25:g.next=39;break;case 27:if(!o.permissions.createStory){g.next=36;break}g.next=30;return a.createStory({title:l["default"].get("Storytelling.CreateNew")});case 30:m=g.sent;g.next=33;return m.createSlide();case 33:v=m.id;g.next=37;break;case 36:v="";case 37:g.next=39;return p(v);case 39:case"end":return g.stop()}}),e,null,[[6,12]])})));return d.apply(this,arguments)};u=function e(){return d.apply(this,arguments)};n=this.props,r=n.activeTab,i=n.setActiveTab,a=n.app,o=n.appLayout,s=n.allStories,c=n.isReadOnlyApp;if(!(r===zh)){f.next=5;break}return f.abrupt("return");case 5:if(Oh(t)){f.next=7;break}return f.abrupt("return");case 7:f.next=9;return this.onTabClick(u);case 9:case"end":return f.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickAnalysis",value:function(){var e=wh(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,l;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:l=function e(){l=wh(regeneratorRuntime.mark((function e(t){var n,r,s,l,c,u;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:i(Hh);n=te["a"].getParameterByName("app");r=Sc["a"].analysis(n),s=r.overlay;l=Sc["a"].analysis(n);c=l.state||xc["a"].getDefaultSheetViewState();u=t||l.view;d.t0=u;d.next=d.t0===jh?9:(d.t0===_h,11);break;case 9:No["a"].goToInsightAdvisor();return d.abrupt("break",18);case 11:d.t1=No["a"];d.next=14;return Cc["a"].getSheetToNavigateTo(o,a);case 14:d.t2=d.sent;d.t3=c;d.t4=s;d.t1.goToSheet.call(d.t1,d.t2,d.t3,d.t4);case 18:case"end":return d.stop()}}),e)})));return l.apply(this,arguments)};s=function e(t){return l.apply(this,arguments)};r=this.props,i=r.setActiveTab,a=r.appLayout,o=r.app;if(Oh(t)){c.next=5;break}return c.abrupt("return");case 5:c.next=7;return this.onTabClick(s,n);case 7:case"end":return c.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"onClickAnalysisTab",value:function(){var e=wh(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(Oh(t)){a.next=2;break}return a.abrupt("return");case 2:a.next=4;return Bo["a"].load(this.props.app);case 4:n=te["a"].getParameterByName("app");r=Sc["a"].analysis(n);i=r.view;Bo["a"].isVariableDefined("DISABLE_INSIGHTS")&&r.view===jh&&(i=_h);this.onClickAnalysis(null,i);case 9:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickAnalysisInNewTab",value:function(){var e=wh(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,l;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:t=this.props,n=t.app,r=t.appLayout;c.next=3;return Cc["a"].getSheetToNavigateTo(n,r);case 3:i=c.sent;a=te["a"].getParameterByName("app");o=Sc["a"].analysis(a),s=o.overlay;l=No["a"].getUrlForSheet(i,"analysis",s);window.open(l,"_blank");case 8:case"end":return c.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getActiveDataMenuItem",value:function e(){var t=xc["a"].getCurrentSheetInfo();var n=Sc["a"].data(t.appId).view;if(this.menuItems[n])return this.menuItems[n];return this.menuItems.datamanager}},{key:"getActiveAnalysisMenuItem",value:function e(){var t=xc["a"].getCurrentSheetInfo();var n=Sc["a"].analysis(t.appId).view;if(this.menuItems[n])return this.menuItems[n];return this.menuItems.sheet}},{key:"getActiveStoryMenuItem",value:function e(){return this.menuItems.stories}},{key:"getDataMenuItems",value:function(){var e=wh(regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:t=this.props,n=t.appLayout,r=t.allowCreateApp,i=t.scriptEx;a=[];Object(qf["f"])(n,i,r)&&a.push(this.menuItems.datamanager);Object(qf["e"])(n,i)&&a.push(this.menuItems.dataloadeditor);Object(qf["g"])(n,i)&&a.push(this.menuItems.datamodelviewer);if(Object(qf["c"])(n,i)||Object(qf["d"])(n,i)){a.push(this.menuItems.businesslogic);Object(qf["c"])(n,i)&&a.push(this.menuItems.businessmodel);Object(qf["d"])(n,i)&&a.push(this.menuItems.businessmodelsettings)}return o.abrupt("return",a);case 7:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAnalysisMenuItems",value:function(){var e=wh(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:t=[];r.next=3;return Fc["a"].isInsightsAvailable();case 3:n=r.sent;t.push(this.menuItems.sheet);r.next=7;return Bo["a"].load(this.props.app);case 7:n&&!Bo["a"].isVariableDefined("DISABLE_INSIGHTS")&&t.push(this.menuItems.insightadvisor);return r.abrupt("return",t);case 9:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getStoryMenuItems",value:function(){var e=wh(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",[this.menuItems.stories]);case 1:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isSheetMenuItemDisabled",value:function e(){var t=this.props,n=t.appLayout,r=t.allSheets;return this.isAnalysisTabDisabled()||D["a"].inSheetView()||D["a"].inObjectView()||!(r.mashed[0]||n.permissions&&n.permissions.createSheet)}},{key:"isInsightAdvisorMenuItemDisabled",value:function e(){var t=this.props.appLayout;var n=(null===t||void 0===t?void 0:t.qHasData)||false;return this.isAnalysisTabDisabled()||D["a"].view===D["a"].Views.insightAdvisor||!n}},{key:"isDataModelViewerMenuItemDisabled",value:function e(){var t=this.props.appLayout;var n=(null===t||void 0===t?void 0:t.qHasData)||false;if(Object(Ne["b"])("PUBLIC_DMV")&&n)return false;return D["a"].view===D["a"].Views.dataSpaceAssociations||D["a"].view===D["a"].Views.dataSpaceDataModel||!n}},{key:"isAnalysisTabDisabled",value:function e(){var t=this.props,n=t.appLayout,r=void 0===n?{}:n,i=t.allSheets;return!r.qHasData&&0===i.mashed.length}},{key:"isStorytellingTabDisabled",value:function e(){var t;var n=this.props,r=n.appLayout,i=void 0===r?{}:r,a=n.allStories;return!i.qHasData||0===a.mashed.length&&!(null===(t=i.permissions)||void 0===t?void 0:t.createStory)}},{key:"isDataLoaded",value:function e(){var t=this.props.appLayout,n=void 0===t?{}:t;return n.qHasData}},{key:"render",value:function e(){var t=this.props,n=t.displayMode,r=t.activeTab,a=t.appLayout,o=t.allowCreateApp,s=t.scriptEx;var c=n<=uh["a"].medium;var u="qs-toolbar__tabset".concat(c?" qs-toolbar__tabset--icons":"");var d="qs-toolbar__tabset--tab";return i.a.createElement(Ct["o"],{className:u},(Object(qf["f"])(a,s,o)||Object(qf["g"])(a,s)||Object(qf["e"])(a,s)||Object(qf["c"])(a,s))&&i.a.createElement(eh,{tid:"tab-nav-data",className:d,disabled:false,onTabSelect:this.onClickData,label:l["default"].get("Common.Prepare"),active:r===Vh,isIcon:c,getMenuItems:this.getDataMenuItems,activeMenuItem:this.getActiveDataMenuItem,dropDownButtonTitle:l["default"].get("TabNavigation.Prepare.DropButton.Title")}),i.a.createElement(eh,{tid:"tab-nav-analysis",className:d,disabled:this.isAnalysisTabDisabled(),disabledTitle:this.isAnalysisTabDisabled()&&!this.isDataLoaded()?l["default"].get("TabNavigation.Analyze.DisabledTitle.NoData"):"",onTabSelect:this.onClickAnalysisTab,label:l["default"].get("Common.Analyze"),active:r===Hh,isIcon:c,getMenuItems:this.getAnalysisMenuItems,activeMenuItem:this.getActiveAnalysisMenuItem,dropDownButtonTitle:l["default"].get("TabNavigation.Analyze.DropButton.Title")}),i.a.createElement(eh,{tid:"tab-nav-story",className:d,disabled:this.isStorytellingTabDisabled(),disabledTitle:this.isStorytellingTabDisabled()&&!this.isDataLoaded()?l["default"].get("TabNavigation.Analyze.DisabledTitle.NoData"):"",onTabSelect:this.onClickStory,label:l["default"].get("Common.Narrate"),active:r===zh,isIcon:c,activeMenuItem:this.getActiveStoryMenuItem,getMenuItems:this.getStoryMenuItems}))}}]);return n}(r["PureComponent"]);$h.propTypes={activeTab:h.a.string,setActiveTab:h.a.func.isRequired,app:h.a.object.isRequired,appLayout:h.a.object.isRequired,allSheets:h.a.object.isRequired,allStories:h.a.object.isRequired,allowCreateApp:h.a.bool,scriptEx:h.a.object,displayMode:h.a.number.isRequired,warnUnsaved:h.a.bool,isReadOnlyApp:h.a.bool.isRequired};$h.defaultProps={activeTab:null,scriptEx:null,warnUnsaved:false,allowCreateApp:false};function Uh(e){var t=Object(b["a"])(te["a"].getParameterByName("app")),n=fh(t,1),r=n[0];var a=Object(y["a"])(r),o=fh(a,1),s=o[0];var l=Object(Sf["a"])(r),c=fh(l,1),u=c[0];var d=Object(xf["a"])(r&&r.global),f=fh(d,1),p=f[0];var h=Object(Rc["a"])(),v=fh(h,1),m=v[0];var g=ch(),w=fh(g,1),S=w[0];if(!s)return null;return i.a.createElement($h,dh({},e,{app:r,appLayout:s,scriptEx:u,allowCreateApp:p,allSheets:m,allStories:S}))}function Gh(e){Gh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Gh(e)}function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Kh(e,t,n){t&&Qh(e.prototype,t);n&&Qh(e,n);return e}function Yh(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Jh(e,t)}function Jh(e,t){Jh=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Jh(e,t)}function Zh(e){var t=tv();return function n(){var r=nv(e),i;if(t){var a=nv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Xh(this,i)}}function Xh(e,t){if(t&&("object"===Gh(t)||"function"===typeof t))return t;return ev(e)}function ev(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tv(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function nv(e){nv=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return nv(e)}var rv=function(e){Yh(n,e);var t=Zh(n);function n(e){var r;Wh(this,n);r=t.call(this,e);r.state={error:null};return r}Kh(n,[{key:"componentDidUpdate",value:function e(t){var n=this.props.view;n!==t.view&&this.setState((function(){return{error:null}}))}},{key:"componentDidCatch",value:function e(t){Re["a"].trackEvent(Re["a"].customEvents.VIEW_RENDER_ERROR,{message:t&&t.message});this.setState({error:t})}},{key:"render",value:function e(){var t=this.state.error;var n=this.props,r=n.view,i=n.urlParameters,a=n.appLayout,o=n.displayMode;var s=r&&r.renderToolbarContent;if(!t&&s)return s({urlParameters:i,appLayout:a,displayMode:o});return null}}]);return n}(r["PureComponent"]);rv.propTypes={view:h.a.object,urlParameters:h.a.array.isRequired,appLayout:h.a.object.isRequired,displayMode:h.a.number.isRequired};rv.defaultProps={view:null};var iv=rv;function av(e,t){return uv(e)||cv(e,t)||sv(e,t)||ov()}function ov(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sv(e,t){if(!e)return;if("string"===typeof e)return lv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lv(e,t)}function lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cv(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function uv(e){if(Array.isArray(e))return e}var dv=function e(){var t=Object(r["useState"])(D["a"].state),n=av(t,2),i=n[0],a=n[1];var o=Object(r["useState"])(D["a"].view),s=av(o,2),l=s[0],c=s[1];var u=Object(r["useState"])(void 0),d=av(u,2),f=d[0],p=d[1];var h=Object(r["useState"])(void 0),v=av(h,2),m=v[0],g=v[1];var b=function e(t,n,r,i){c(t);a(n);p(r);g(i)};Object(r["useEffect"])((function(){D["a"].StateChanged.bind(b);return function(){D["a"].StateChanged.unbind(b)}}),[]);return[i,l,f,m]};var fv=dv;function pv(e,t){return bv(e)||gv(e,t)||vv(e,t)||hv()}function hv(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vv(e,t){if(!e)return;if("string"===typeof e)return mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mv(e,t)}function mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gv(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function bv(e){if(Array.isArray(e))return e}function yv(e){if(e===D["a"].Views.overview)return null;switch(e){case D["a"].Views.story:return"story";case D["a"].Views.sheet:case D["a"].Views.object:case D["a"].Views.masterObject:case D["a"].Views.insightAdvisor:return"analysis";case D["a"].Views.dataManager:case D["a"].Views.dataSpaceScriptEditor:case D["a"].Views.dataSpaceAssociations:case D["a"].Views.dataSpaceDataModel:case D["a"].Views.businessModel:case D["a"].Views.businessModelSettings:return"data";default:return null}}var wv=function e(t){var n=t.app,a=t.appLayout,o=t.appIsDirty,u=t.saveApp,d=t.urlParameters,f=t.view;var p=te["a"].getParameterByName("app");var h=fv(),v=pv(h,3),m=v[0],g=v[1],b=v[2];var y=Object(r["useState"])(false),w=pv(y,2),S=w[0],x=w[1];var C=Object(r["useState"])(Sc["a"].tab(p)||yv(g)),E=pv(C,2),I=E[0],k=E[1];var A=Object(r["useState"])(Object(uh["c"])()),T=pv(A,2),O=T[0],L=T[1];var M=Object(r["useState"])(false),P=pv(M,2),N=P[0],R=P[1];var F=Object(r["useState"])(false),_=pv(F,2),j=_[0],B=_[1];var V=Object(r["useState"])(false),H=pv(V,2),z=H[0],$=H[1];var U=Object(r["useState"])(null),G=pv(U,2),W=G[0],Q=G[1];var K=Object(r["useState"])(false),Y=pv(K,2),J=Y[0],Z=Y[1];var X=Object(vd["a"])(false),ee=pv(X,4),ne=ee[0],re=ee[2],ie=ee[3];var ae=Object(r["useState"])(null),oe=pv(ae,2),se=oe[0],le=oe[1];var ce=Object(r["useState"])(m===D["a"].States.play),ue=pv(ce,2),de=ue[0],fe=ue[1];var pe=Object(r["useRef"])(null);var he=false;var ve=Object(Ne["b"])("CAO_FIRST_TIME");var me=Object(Ne["b"])("ALLOW_OPEN_HUB_IN_SAME_TAB");var ge=function e(){};var be;var ye=function e(t){var n="boolean"===typeof t?t:!S;if(n!==S){Zl["a"].toggle({isSmallDevice:false,showAppDetails:S,forcedValue:false});x(n)}};var we=function e(t){var n=te["a"].getParameterByName("app");Sc["a"].setTab(t,n);k(t)};Object(r["useEffect"])((function(){fe(m===D["a"].States.play)}),[m]);Object(r["useEffect"])((function(){var e=yv(g);var t=te["a"].getParameterByName("app");Sc["a"].setTab(e,t);we(e);"undefined"!==typeof b&&g!==b?ye(g===D["a"].Views.overview):"undefined"===typeof b&&g===D["a"].Views.overview?ye(true):ye(false)}),[g]);var Se=function e(){L(Object(uh["c"])())};Object(r["useEffect"])((function(){var e=new URLSearchParams(window.location.search);be=e.get("hubUrl");ge=s["default"].$rootScope.$watch("isCalculatedFieldPaneOpen",(function(e){e&&ye(false)}));g===D["a"].Views.overview&&ye(true);n.global.getConfiguration().then((function(e){var t=e.qFeatures;Q(t.qAutoSave)}));q["a"].subscribe("/toolbar/setContextItemsVisibility.reactTb",(function(e){$(e)}));q["a"].subscribe("/resize/end",Se);return function(){q["a"].unsubscribe(".reactTb");q["a"].unsubscribe("/resize/end",Se);ge()}}),[]);var xe=function e(t){if(he&&!Cc["a"].allowNavigateFromView())return;var n;n=te["a"].getParameterByName("hubUrl")?decodeURIComponent(te["a"].getParameterByName("hubUrl")):be||No["a"].getUrlForHub();t.ctrlKey||t.metaKey?window.open(n,"_blank"):c["a"].setUrl(n,false,false,true)};var Ce=function e(){R(false)};var qe=function e(){R(!N)};var Ee=function e(t,n){Z(t);le(n)};var Ie=function e(){B(!j)};var ke=function e(){q["a"].publish("/data/save-script");u()};if(de)return null;var Ae=a.qReadOnly||false;he=!Ae&&(!(g!==D["a"].Views.dataSpaceScriptEditor||!Object(Ne["b"])("DISABLE_DLE_AUTOSAVE"))||!W);var Te=f&&f.helpKey||"AppView";var De=pe.current&&pe.current.element||null;return i.a.createElement("div",{id:"qs-toolbar-container",className:"qs-toolbar-container"},i.a.createElement("div",{className:"qs-toolbar"},i.a.createElement("div",{className:"qs-toolbar__left"},ve&&me?i.a.createElement(Ct["a"],{tid:"back-to-hub-button",className:"qs-toolbar__element",ref:pe,title:l["default"].get("Toolbar.Button.OpenHub"),onClick:xe},i.a.createElement(Ct["a"].Icon,{name:"direction-left"}),O>uh["a"].medium?i.a.createElement(Ct["a"].Text,null,l["default"].get("Toolbar.Button.OpenHub")):null):null,i.a.createElement("div",{className:"qs-popover-container qs-toolbar__element"},i.a.createElement(Ct["a"],{tid:"2f7a7e",ref:pe,title:l["default"].get("Common.Navigation"),onClick:qe,active:N},i.a.createElement(Ct["a"].Icon,{name:"menu"}),i.a.createElement(Ct["a"].Caret,null)),i.a.createElement(rp,{view:f,helpKey:Te,closeMenu:Ce,openTouchDialog:Ie,alignTo:De,show:N,disableContextualItems:z,warnUnsaved:he,urlParameters:d,toggleDownloadDialog:Ee,openAboutDialog:ie})),he?i.a.createElement(Ct["a"],{tid:"2fedad",className:"qs-toolbar__element",title:l["default"].get("Common.Save"),disabled:!o,onClick:ke},i.a.createElement(Ct["a"].Text,null,l["default"].get("Common.Save"))):null,a?i.a.createElement(Tp,{title:l["default"].get(S?"Toolbar.HideAppInformation":"Toolbar.ShowAppInformation"),appTitle:a.qTitle,readOnly:Ae,toggleAppDetails:ye}):null),i.a.createElement("div",{className:"qs-toolbar__center"},i.a.createElement(Uh,{app:n,appLayout:a,displayMode:O,activeTab:I,setActiveTab:k,warnUnsaved:he,isReadOnlyApp:Ae}),i.a.createElement(pp,{close:Ie,onEscape:Ie,show:j}),i.a.createElement(kp,{open:J,toggleDownloadDialog:Ee,story:se}),i.a.createElement(rf,{open:ne,close:re})),i.a.createElement("div",{className:"qs-toolbar__right"},Object(Ne["b"])("SUB_TOOLBAR")?null:i.a.createElement(iv,{view:f,appLayout:a,displayMode:O,urlParameters:d}))),S?i.a.createElement(Hp,null):null)};wv.propTypes={app:h.a.object.isRequired,appLayout:h.a.object,appIsDirty:h.a.bool.isRequired,saveApp:h.a.func.isRequired,urlParameters:h.a.array.isRequired,view:h.a.object};wv.defaultProps={appLayout:null,view:null};var Sv=wv;function xv(e){xv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return xv(e)}function Cv(){Cv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Cv.apply(this,arguments)}function qv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Iv(e,t,n){t&&Ev(e.prototype,t);n&&Ev(e,n);return e}function kv(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Av(e,t)}function Av(e,t){Av=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Av(e,t)}function Tv(e){var t=Lv();return function n(){var r=Mv(e),i;if(t){var a=Mv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Dv(this,i)}}function Dv(e,t){if(t&&("object"===xv(t)||"function"===typeof t))return t;return Ov(e)}function Ov(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lv(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Mv(e){Mv=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Mv(e)}var Pv=function(e){kv(n,e);var t=Tv(n);function n(e){var r;qv(this,n);r=t.call(this,e);r.state={appIsDirty:oo["a"].isAppDirty()};r.onAppIsDirty=r.onAppIsDirty.bind(Ov(r));r.onAppIsClean=r.onAppIsClean.bind(Ov(r));return r}Iv(n,[{key:"componentDidMount",value:function e(){oo["a"].onAppIsNowDirty(this.onAppIsDirty);oo["a"].onAppIsNowClean(this.onAppIsClean)}},{key:"componentWillUnmount",value:function e(){oo["a"].onAppIsNowDirtyRemove(this.onAppIsDirty);oo["a"].onAppIsNowCleanRemove(this.onAppIsClean)}},{key:"onAppIsClean",value:function e(){this.setState({appIsDirty:false})}},{key:"onAppIsDirty",value:function e(){this.setState({appIsDirty:true})}},{key:"render",value:function e(){var t=this.props,n=t.view,r=t.isSmallDevice,a=t.urlParameters;var o=this.state.appIsDirty;var s;s=r?i.a.createElement(wf,Cv({},this.props,{appIsDirty:o,saveApp:oo["a"].saveApp,view:n,urlParameters:a})):i.a.createElement(Sv,Cv({},this.props,{saveApp:oo["a"].saveApp,appIsDirty:o,view:n,urlParameters:a}));return i.a.createElement("div",{className:"qs-header"},s)}}]);return n}(r["PureComponent"]);Pv.propTypes={view:h.a.object,isSmallDevice:h.a.bool.isRequired,urlParameters:h.a.array.isRequired};Pv.defaultProps={view:null};var Nv=Pv;function Rv(){Rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Rv.apply(this,arguments)}function Fv(e,t){return Hv(e)||Vv(e,t)||jv(e,t)||_v()}function _v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jv(e,t){if(!e)return;if("string"===typeof e)return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(e,t)}function Bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vv(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Hv(e){if(Array.isArray(e))return e}function zv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=Object(b["a"])(te["a"].getParameterByName("app")),n=Fv(t,1),r=n[0];var a=Object(y["a"])(r),o=Fv(a,1),s=o[0];var l=Object(Yl["a"])();if(!r||!s)return null;return i.a.createElement(Nv,Rv({},e,{app:r,appLayout:s,isSmallDevice:l}))}function $v(e,t){return Kv(e)||Qv(e,t)||Gv(e,t)||Uv()}function Uv(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gv(e,t){if(!e)return;if("string"===typeof e)return Wv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wv(e,t)}function Wv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qv(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Kv(e){if(Array.isArray(e))return e}function Yv(){var e=Object(r["useState"])(Object(uh["c"])()),t=$v(e,2),n=t[0],i=t[1];var a=function e(){i(Object(uh["c"])())};Object(r["useEffect"])((function(){q["a"].subscribe("/resize/end",a);return function(){q["a"].unsubscribe("/resize/end",a)}}),[]);return n}var Jv=Yv;var Zv=n("d+uA");function Xv(e,t){return im(e)||rm(e,t)||tm(e,t)||em()}function em(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tm(e,t){if(!e)return;if("string"===typeof e)return nm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nm(e,t)}function nm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rm(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function im(e){if(Array.isArray(e))return e}var am=Object(g["a"])((function(e){return{root:{backgroundColor:e.palette.grey[50],height:"41px",borderBottom:"1px solid ".concat(e.palette.divider)}}}));var om=function e(t){var n=t.view,r=t.urlParameters;var a=Object(b["a"])(te["a"].getParameterByName("app")),o=Xv(a,1),s=o[0];var l=Object(y["a"])(s),c=Xv(l,1),u=c[0];var d=Jv();var f=Xv(r,2),p=f[1];var h=Zv["a"].view.inPlayMode(p);var v=Object(Sf["a"])(s),m=Xv(v,1),g=m[0];var w=am();var S=null===n||void 0===n?void 0:n.renderSubToolbarContent;if(!s||!u||!S||h)return null;if(("DataManager"===n.helpKey||"ScriptEditor_ScriptEditor"===n.helpKey)&&(!u.permissions.update||!Object(qf["a"])(g)))return null;return i.a.createElement(ro["a"],{container:true,direction:"row",wrap:"nowrap",className:w.root,tid:"qs-sub-toolbar"},i.a.createElement(S,{view:n,appLayout:u,displayMode:d,urlParameters:r}))};om.propTypes={view:h.a.object,urlParameters:h.a.array.isRequired};om.defaultProps={view:null};var sm=om;function lm(){window.location.reload(true)}var cm=function e(){var t=Object(io["c"])();return i.a.createElement("div",{className:"qs-page-error"},i.a.createElement("div",{className:"message-text"},t("ErrorDialog.Title")),i.a.createElement(Ct["a"],{onClick:lm},t("Common.Refresh")))};var um=cm;function dm(e){dm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return dm(e)}function fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function hm(e,t,n){t&&pm(e.prototype,t);n&&pm(e,n);return e}function vm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&mm(e,t)}function mm(e,t){mm=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return mm(e,t)}function gm(e){var t=wm();return function n(){var r=Sm(e),i;if(t){var a=Sm(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return bm(this,i)}}function bm(e,t){if(t&&("object"===dm(t)||"function"===typeof t))return t;return ym(e)}function ym(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wm(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Sm(e){Sm=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Sm(e)}var xm=function(e){vm(n,e);var t=gm(n);function n(e){var r;fm(this,n);r=t.call(this,e);r.state={error:null};return r}hm(n,[{key:"componentDidUpdate",value:function e(t){var n=this.props.view;n!==t.view&&this.setState((function(){return{error:null}}))}},{key:"componentDidCatch",value:function e(t){Re["a"].trackEvent(Re["a"].customEvents.VIEW_RENDER_ERROR,{message:t&&t.message});this.setState({error:t})}},{key:"render",value:function e(){var t=this.state.error;var n=this.props,r=n.view,a=n.urlParameters;var o;o=t?i.a.createElement("div",{className:"qs-view-error"},l["default"].get("ErrorDialog.Title")):r&&r.renderContent?r.renderContent({urlParameters:a}):null;return o}}]);return n}(r["PureComponent"]);xm.propTypes={view:h.a.object.isRequired,urlParameters:h.a.array.isRequired};var Cm=xm;function qm(){window.location.reload(true)}function Em(e){var t=e.show;var n=Object(io["c"])();return i.a.createElement(Ct["d"],{show:t,onEscape:qm,className:"qs-published-dialog"},i.a.createElement(Ct["d"].Header,null,i.a.createElement(Ct["d"].Title,null,n("ErrorDialog.AppPublished.Title"))),i.a.createElement(Ct["d"].Body,null,n("ErrorDialog.AppPublished")),i.a.createElement(Ct["d"].Footer,null,i.a.createElement(Ct["a"],{"data-tid":"close-published-dialog",onClick:qm},n("Common.Refresh"))))}Em.propTypes={show:h.a.bool.isRequired};var Im=Em;var km=n("4ToR");function Am(e){Am="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Am(e)}function Tm(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Dm(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Tm(a,r,i,o,s,"next",e)}function s(e){Tm(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function Mm(e,t,n){t&&Lm(e.prototype,t);n&&Lm(e,n);return e}function Pm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&Nm(e,t)}function Nm(e,t){Nm=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return Nm(e,t)}function Rm(e){var t=jm();return function n(){var r=Bm(e),i;if(t){var a=Bm(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Fm(this,i)}}function Fm(e,t){if(t&&("object"===Am(t)||"function"===typeof t))return t;return _m(e)}function _m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jm(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function Bm(e){Bm=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Bm(e)}var Vm=function(e){Pm(n,e);var t=Rm(n);function n(e){var r;Om(this,n);r=t.call(this,e);var i=e.view,a=e.urlParameters;r.state={view:i,urlParameters:a,isSmallDevice:k["default"].isSmallDeviceDirect,error:null,app:null,appLayout:null};r.setUrlParameters=r.setUrlParameters.bind(_m(r));r.setView=r.setView.bind(_m(r));r.getAppLayout=r.getAppLayout.bind(_m(r));r.focusMainContent=r.focusMainContent.bind(_m(r));r.isSmallDevice=r.setIsSmallDevice.bind(_m(r));r.appIsPublished=null;r.lastReloadTime=null;return r}Mm(n,[{key:"componentDidMount",value:function(){var e=Dm(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return Js();case 3:t=n.sent;this.setState({app:t});n.next=7;return Kl(t);case 7:t.Invalidated.bind(this.getAppLayout);k["default"].ViewChangedDirect.bind(this.setIsSmallDevice.bind(this));n.next=11;return this.getAppLayout();case 11:n.next=16;break;case 13:n.prev=13;n.t0=n["catch"](0);Object(Pl["b"])(null);case 16:case"end":return n.stop()}}),e,this,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentDidCatch",value:function e(t){Re["a"].trackEvent(Re["a"].customEvents.PAGE_RENDER_ERROR,{message:t&&t.message});this.setState({error:t})}},{key:"componentWillUnmount",value:function e(){var t=this.state.app;t.Invalidated.unbind(this.getAppLayout);k["default"].ViewChangedDirect.unbind(this.setIsSmallDevice)}},{key:"setUrlParameters",value:function e(t){this.setState({urlParameters:t})}},{key:"setView",value:function e(t,n){this.setState({view:t,urlParameters:n})}},{key:"setIsSmallDevice",value:function e(t){this.setState({isSmallDevice:t})}},{key:"getAppLayout",value:function(){var e=Dm(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:t=this.state.app;i.next=3;return t.getLayout(true);case 3:n=i.sent;r=n.qLastReloadTime||"1970-01-01T00:00:00.000Z";false===n.qIsOpenedWithoutData&&null!==this.lastReloadTime&&this.lastReloadTime!==r&&c["a"].isSuffixInUse("noData")&&c["a"].removePartialSuffix("noData");this.setState({appLayout:n,showPublishedDialog:false===this.appIsPublished&&n.published});this.appIsPublished=n.published;this.lastReloadTime=r;return i.abrupt("return",n);case 10:case"end":return i.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"focusMainContent",value:function e(t){t.keyCode!==$p["a"].ENTER&&t.keyCode!==$p["a"].SPACE||this.focusDiv.focus()}},{key:"render",value:function e(){var t=this;var n=this.state,r=n.error,a=n.view,o=n.urlParameters,s=n.isSmallDevice,c=n.appLayout,u=n.showPublishedDialog;var d=Object(Ne["b"])("SUB_TOOLBAR")&&!s&&(null===a||void 0===a?void 0:a.renderSubToolbarContent);if(r)return i.a.createElement(um,null);if(!c)return null;return i.a.createElement(v["a"],null,i.a.createElement("button",{onKeyDown:this.focusMainContent,className:"qs-skip-to-content-button"},i.a.createElement("span",null," ",l["default"].get("Toolbar.GoToContent"))),i.a.createElement(zv,{view:a,urlParameters:o}),i.a.createElement("div",{tabIndex:"-1",ref:function e(n){t.focusDiv=n}}),d?i.a.createElement(sm,{view:a,urlParameters:o}):null,i.a.createElement("div",{id:"qs-page-container",className:d?"sub-bar-present":""},a?i.a.createElement(Cm,{view:a,urlParameters:o}):null),c&&c.published?null:i.a.createElement(eo,null),Object(Ne["b"])("PS_13824_DATAFLOW")&&i.a.createElement(Ms,null),i.a.createElement(Im,{show:u}),i.a.createElement(km["a"],null))}}]);return n}(r["Component"]);Vm.propTypes={urlParameters:h.a.array.isRequired,view:h.a.object};Vm.defaultProps={view:null};var Hm=Vm;var zm=function e(t){var n=t.onClick;var r=Object(io["c"])();return i.a.createElement("div",{className:"qs-view-load-error"},i.a.createElement("div",{className:"message-text"},r("ErrorDialog.Title")),i.a.createElement(Ct["a"],{onClick:n},r("Common.Refresh")))};zm.propTypes={onClick:h.a.func.isRequired};var $m=zm;function Um(){window.location.reload(true)}var Gm={helpKey:"",loaderTranslationKey:"",init:function e(){},renderContent:function e(){return i.a.createElement($m,{onClick:Um})}};function Wm(){return n.e(95).then(n.bind(null,"NmA4"))}function Qm(){return n.e(96).then(n.bind(null,"9ONG"))}function Km(e){switch(e){case"overview":return Promise.all([n.e(92).then(n.bind(null,"qXgL")),Qm(),Wm()]).then((function(e){return e[0]}));case"analysis":return Promise.all([Promise.all([n.e(0),n.e(84),n.e(88),n.e(22),n.e(91)]).then(n.bind(null,"MFLt")),Qm(),Wm()]).then((function(e){return e[0]}));case"default":case"home":return Promise.all([n.e(100).then(n.bind(null,"zjil")),Qm(),Wm()]).then((function(e){return e[0]}));case"dataloadeditor":return Promise.all([n.e(97).then(n.bind(null,"J0/7")),Qm()]).then((function(e){return e[0]}));case"datamodelviewer":return Promise.all([Promise.all([n.e(0),n.e(99)]).then(n.bind(null,"4LCE")),Qm()]).then((function(e){return e[0]}));case"datamanager":return Promise.all([Promise.all([n.e(0),n.e(98)]).then(n.bind(null,"NaGg")),Qm(),Wm()]).then((function(e){return e[0]}));case"storytelling":return Promise.all([Promise.all([n.e(22),n.e(31),n.e(36),n.e(101)]).then(n.bind(null,"gxyG")),Qm(),Wm()]).then((function(e){return e[0]}));case"insightadvisor":return Promise.all([Promise.all([n.e(0),n.e(90),n.e(22),n.e(94)]).then(n.bind(null,"lNRq")),Qm(),Wm()]).then((function(e){return e[0]}));case"businesslogic":return Promise.all([Promise.all([n.e(0),n.e(89),n.e(93)]).then(n.bind(null,"ilHI")),Qm()]).then((function(e){return e[0]}));default:throw new Error('No view with name "'.concat(e,'"'))}}var Ym=function(e){return new Promise((function(t){Km(e).then(t,(function(e){console.error(e);Re["a"].trackEvent(Re["a"].customEvents.VIEW_LOAD_ERROR,{message:e&&e.message});var n={default:Gm};t(n)}))}))};var Jm={name:"home",pattern:"/"};var Zm={name:"overview",pattern:/\/overview/i};var Xm={name:"datamanager",pattern:/\/datamanager/i,isPartial:false};var eg={name:"dataloadeditor",pattern:/\/dataloadeditor/i};var tg={name:"datamodelviewer",pattern:/\/datamodelviewer/i};var ng={name:"analysis",pattern:/\/sheet\/([\w-]+)(?:\/state\/(\w+))?([/select/|/options/|/bookmark/|/alert/].*)?(?:\/singleobject\/(\w+))?/i,isPartial:false};var rg={name:"storytelling",pattern:/\/story\/([\w-]+)(?:\/state\/([\w-]+))?(?:\/slide\/([\w-]+))?/i,isPartial:false};var ig={name:"insightadvisor",pattern:/\/insightadvisor(\/query\/((?:[^%]|%[0-9A-Fa-f]{2})+))?/i,isPartial:false};var ag={name:"businesslogic",pattern:/\/businesslogic\/?([\w]+)?/i,isPartial:false};var og={name:"default",pattern:/[\w\W]*?/,isPartial:false};var sg={home:Jm,overview:Zm,dataManager:Xm,dataLoadEditor:eg,dataModelViewer:tg,analysis:ng,story:rg,insightAdvisor:ig,businessModel:ag,defaultView:og};var lg=n("bETz");var cg=n("MnS5");var ug=n("L8/4");var dg=n("M755");var fg=n("ydcn");var pg=n("+/4k");var hg=n("9Fa8");var vg=n("thg+");var mg;var gg;function bg(e,t){e!==mg&&yg(e);t!==gg&&wg(t)}function yg(e){var t;Object.keys(D["a"].Views).forEach((function(n){D["a"].Views[n]===e&&(t=n)}));Re["a"].trackEvent(Re["a"].customEvents.CLIENT_VIEW_LOADED,{viewName:t});mg=e}function wg(e){var t;Object.keys(D["a"].States).forEach((function(n){D["a"].States[n]===e&&(t=n)}));Re["a"].trackEvent(Re["a"].customEvents.CLIENT_STATE_LOADED,{stateName:t});gg=e}D["a"].StateChanged.bind(bg);function Sg(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function xg(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Sg(a,r,i,o,s,"next",e)}function s(e){Sg(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Cg=xg(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:Object(lg["initializeCodearea"])({angularModule:s["default"],publicPath:"".concat(C["a"].staticResourcesPath,"assets/external/sensei-codearea/")});case 1:case"end":return t.stop()}}),e)})));function qg(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Eg(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){qg(a,r,i,o,s,"next",e)}function s(e){qg(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ig=s["default"].getService("qvLoader");Ig.show({messageObj:{task:""}});var kg=false;var Ag;var Tg;var Dg={};Object.keys(sg).forEach((function(e){var t=sg[e];var n=t.name;var r=new f(t);var i={name:n,module:null,route:r,loaded:null};Dg[n]=i;c["a"].addRoute(r)}));Object.keys(sg).forEach((function(e){var t=sg[e].name;var n=Dg[t];var r=n.route;r.Route.bind(Eg(regeneratorRuntime.mark((function e(){var r,o,s,c,u,d,f=arguments;return regeneratorRuntime.wrap((function e(p){while(1)switch(p.prev=p.next){case 0:r=Tg!==n;Tg=n;for(o=f.length,s=new Array(o),c=0;c<o;c++)s[c]=f[c];if(kg){p.next=7;break}p.next=6;return Cg();case 6:Object(a["render"])(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Hm,{view:Tg.module,urlParameters:s,ref:function e(t){Ag=t}})),document.getElementById("qv-page-container"));case 7:if(Dg[t].loaded){p.next=15;break}p.next=10;return Ym(t);case 10:u=p.sent.default;Dg[t].module=u;Dg[t].loaded=true;if(!kg&&Ig.isOpen()){d=n.module.loaderTranslationKey?l["default"].get(n.module.loaderTranslationKey):"";Ig.setMessageObj(d)}"function"===typeof u.init&&u.init.call(null);case 15:if(r){Ag.setView(Tg.module,s);kg=true}else Ag.setUrlParameters(s);case 16:case"end":return p.stop()}}),e)}))));r.DeRoute.bind((function(){Ag.setView(null,[]);Tg=null}))}));c["a"].start()},Z66Z:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},ZFgA:function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("iqy1");var o=n("sWge");function s(){return a["a"].get().then((function(e){return e.getRestService()}))}function l(e){return e}function c(e,t){if(e.stats.dims>9||e.stats.msrs>9)return o["a"].resolve([]);var n=t?["appInsights"]:["appNMinExplore"];var r={exploreSupplemental:n};return s().then((function(t){return t.getVisRecommendations(e,true,r,[]).then((function(t){var n=[];var r=e.stats;t.appRecommendations.forEach((function(e){u(e)&&e.recAnalyses.forEach((function(e){d(e,r)&&n.push(e)}))}));return n}))})).catch(l)}function u(e){return e&&e.group&&"insight"!==e.group}function d(e,t){if(e.isExtendedAnalysis)return false;var n=e.analysis.dims||[];var r=e.analysis.msrs||[];return n.length===t.dims&&r.length===t.msrs}function f(e){function t(e){if(e.isLibraryItem())return{libId:e.libId,cType:"eLibItem"};if(e.isFieldItem())return{field:e.name,expr:e.expr,cType:"eField"};return{expr:e.expr,cType:"eInlineExpr"}}var n={analysis:{analysis:"list",dims:e.dimensions.map(t),msrs:e.measures.map(t)}};return n}var p={getChartRecommendations:c,getFallbackRecommendation:f};var h=n("rcQZ");function v(e,t){if("eLibItem"===e.cType)if(e.expr&&e.expr!==e.libId){this.type="expression";t&&(this.label=t[e.libId])}else this.type="library";else"eField"===e.cType?this.type="field":"eInlineExpr"===e.cType?this.type="expression":this.type="unknown";this.expr=e.expr;this.field=e.field;this.libId=e.libId}v.prototype.isLibraryValue=function(){return"library"===this.type};v.prototype.getLibraryId=function(){return this.libId};v.prototype.isFieldValue=function(){return"field"===this.type};v.prototype.getFieldName=function(){return this.field||this.expr};v.prototype.isExpressionValue=function(){return"expression"===this.type};v.prototype.getExpression=function(){return this.expr};v.prototype.getLabel=function(){return this.label};function m(e,t,n,r,i){this.key=e;this.classification=t;this.value=n;this.adapt=r;this.optionalObj=i}m.prototype.isMeasure=function(){return-1!==this.classification.indexOf("measure")};m.prototype.isDimension=function(){return-1!==this.classification.indexOf("dimension")};m.prototype.isColorBy=function(){return"color"===this.key};m.prototype.isCustom=function(){return"custom"===this.key};var g={Value:v,Encoding:m};var b=n("4nJ1");var y=n("Uzwy");function w(e){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return w(e)}function S(e,t){var n=e.analysis.dims||[];var r=e.analysis.msrs||[];var i=e.libLabelLookup;function a(e,t){var n=-1;e.some((function(e,r){if(e.mapLayer&&e.mapLayer===t){n=r;return true}return false}));return n}function o(e,t){var o;var s;var l={};if(void 0!==t.index){o=t.index;s=t.index}else if(void 0!==t.indexRange){o=t.indexRange.start;s=t.indexRange.end}else if("area"===t.key){var c=a(n,"geo_poly");if(c>-1){o=c;s=c;var u=n[c];u.relatedGeoDim&&(l.mapProperties=u.relatedGeoDim)}}else if("points"===t.key){var d=a(n,"geo_point");if(d>-1){o=d;s=d;var f=n[d];f.relatedGeoDim&&(l.mapProperties=f.relatedGeoDim)}}else{o=-1;s=-1}t.sorting&&(l.sorting=t.sorting);if(t.limit){l.limit=t.limit;delete t.limit}for(var p=o;p<=s;p++){var h=E(t.key,t.classification,t.adapt,p,n,r,l,i);h&&e.push(h)}return e}var s=[];t.forEach((function(e){var t={type:e.chartType,score:e.score,encodings:e.analysis.encodings.reduce(o,[]),adapt:e.adapt};s.push(t)}));return s}function x(e,t,n,r,i){for(var a in e){var o=e[a];if("object"===w(o)&&null!==o){var s=o.classification;if(s){var l=Number.isNaN(+o.max)?1:o.max;var c=o.min||0;if(-1!==s.indexOf("measure")){o.pseudoDim&&l>1&&t.unallocated>1&&n.unallocated++;l>1?o.indexRange={start:t.capacity,end:t.capacity+l-1}:o.index=t.capacity;t.unallocated-=l;t.capacity+=l;t.required+=c;r.push(o)}if(-1!==s.indexOf("dimension")&&"color"!==o.key){var u=-1!==s.indexOf("numeric");var d=false;if(i.dimensions.length){var f;d="N"===(null===(f=i.dimensions[0])||void 0===f?void 0:f.qDimensionType)}if(!u||u&&d){l>1?o.indexRange={start:n.capacity,end:n.capacity+l-1}:o.index=n.capacity;n.unallocated-=l;n.capacity+=l;n.required+=c;r.push(o)}}}x(o,t,n,r,i)}}}function C(e){e=e||[];var t=e.map((function(e){if(!e.qGroupFieldDefs&&e.libId)return e.libId;var t=e.qGroupFieldDefs||[];return t.map((function(e){return y["a"].normalizeExpression(e)})).join(",")}));return b["a"].unique(t).length!==t.length}function q(e,t){var n=[];e.forEach((function(e){var r=[];var i=h["a"].getChartDataDefinition(e);if(i.encodings){var a={length:t.measures?t.measures.length:0,capacity:0,required:0,unallocated:t.measures?t.measures.length:null,isSupported:function e(){return this.unallocated<1&&this.capacity>=this.length&&this.required<=this.length}};var o={length:t.dimensions?t.dimensions.length:0,capacity:0,required:0,unallocated:t.dimensions?t.dimensions.length:null,isSupported:function e(){var n=i.supportsDuplicateDimensions||!C(t.dimensions);return this.unallocated<1&&this.capacity>=this.length&&this.required<=this.length&&n}};x(i.encodings,a,o,r,t);if(a.isSupported()&&o.isSupported()){var s={chartType:e,score:-1,analysis:{encodings:r}};n.push(s)}}}));return n}function E(e,t,n,r,i,a,o,s){var l=-1!==t.indexOf("dimension");var c=l?i:a;if(c.length<=r)return;var u=new g.Value(c[r],s);var d=new g.Encoding(e,t,u,n,o);return d}function I(e,t){var n=[];var r=e.analysis;h["a"].getSupportedChartTypes().forEach((function(e){var i=h["a"].getChartDataDefinition(e);if(i.analyses){var a=i.analyses.filter((function(e){if(e.analysis!==r.analysis)return false;if(!D(r.dims,e.dimensions))return false;if(!D(r.msrs,e.measures))return false;if(e.criteria&&!e.criteria(t))return false;var n=i.supportsDuplicateDimensions||!C(t.dimensions);if(!n)return false;return true}));a.forEach((function(t){r.sorting&&k(t.encodings,r.sorting);r.limit&&A(t.encodings,r.limit);var a={chartType:e,encodings:i.encodings,score:t.score||0,adapt:t.adapt,analysis:t};n.push(a)}))}}));return n}function k(e,t){var n;e.forEach((function(e){var r=parseInt(e.index,10);n="dimension"===e.classification?T(t.dims,r):T(t.msrs,r);n&&(e.sorting=n)}))}function A(e,t){var n=e.find((function(e){if("dimension"===e.classification)return true;return false}));n&&(n.limit=t)}function T(e,t){if(e)return e.find((function(e){if(e.hasOwnProperty("index")&&e.index===t)return true;return false}));return}function D(e,t){if("object"===w(t)){if(O(e?e.length:0,t.min,t.max))return true}else if(O(e?e.length:0,t,t))return true;return false}function O(e,t,n){return e>=t&&e<=n}var L={createChartDataProperties:S,findPossibleCharts:q,findChartsByAnalysis:I};var M=L;var P=n("iVsF");var N=n("RBCx");var R=n("bTsw");var F=n("2eMM");var _=P["a"].__esModule&&P["a"].default?P["a"].default:P["a"];var j={generateProperties:$};function B(e,t,n,r,i,a,o){var s=_.getInitialProperties(e);s.cId=b["a"].generateId();var l=_.getDataSection().items.data;var c=t.gaLayers.length;for(var u=0;u<t.gaLayers.length;u++)if("GeodataLayer"===t.gaLayers[u].type){c=u;break}t.gaLayers.splice(c,0,s);var d=s;var f=new R["a"]({app:n,dimensionDefinition:l.dimension||{},measureDefinition:l.measure||{},dimensionProperties:s.qHyperCubeDef.qDimensions,measureProperties:s.qHyperCubeDef.qMeasures,globalChangeListeners:[function(e){F["a"].colorByUpdater(e,"qHyperCubeDef.",e.color)}]});f.setProperties(d);return U(f,t,d,r,i,a,o)}function V(e,t,n){var r=["points","custom"];var i=["area"];var a=["color"];var o=[];if(e||t){var s=[];var l=[];if(e){s=z(i,a,n);o[e]=s}if(t){l=s.length>0?z(r,[],n):z(r,a,n);o[t]=l}}return o}function H(e,t){var n=[];t.forEach((function(t){var r=t.key;e.indexOf(r)>=0&&n.push(t)}));return n}function z(e,t,n){var r=[];var i=H(e,n);if(i.length>0){r.push.apply(r,i);if(t.length>0){var a=H(t,n);r.push.apply(r,a)}}return r}function $(e,t,n){var r=e.type;return o["a"].all([N["a"].getExtensionType(r),N["a"].getInitialProperties(r)]).then((function(i){var a=i[0];var s=i[1];s.isRecommended=e.score>-1;var l=s;if("map"===r){var c="AreaLayer";var u="PointLayer";var d=[];var f=[];var p=V(c,u,e.encodings);p[c]&&(f=p[c]);p[u]&&(d=p[u]);if(d.length>0&&f.length>0){B(u,s,n,t,e,d,a);return B(c,s,n,t,e,f,a)}if(d.length>0)return B(u,s,n,t,e,d,a);if(f.length>0)return B(c,s,n,t,e,f,a);return o["a"].resolve()}l=s;a.mapProperties();var h=a.getCreatePropertyHandler.call(a,n);h.setProperties(l);return U(h,s,l,t,e,e.encodings,a)}))}function U(e,t,n,r,i,a,o){var s={dimensions:r?r.qHyperCubeDef.qDimensions.map((function(e){return e})):[],measures:r?r.qHyperCubeDef.qMeasures.map((function(e){return e})):[]};return Q(a,0,s,n,e).then((function(){i.adapt&&i.adapt(t);Z(t);var e=o.exportProperties&&o.importProperties;var n=e?o.importProperties(o.exportProperties({qProperty:t},o.options.hyperCubePath),t,o,o.options.hyperCubePath).qProperty:t;i.recommendation&&(n.recommendation=i.recommendation);G(i.encodings,n);return n}))}function G(e,t){var n;var r=W(e,"dimension",0);var i=W(e,"measure",r.lastCounter);var a=[];r.sortingIndexes.length>0&&a.push.apply(a,r.sortingIndexes);i.sortingIndexes.length>0&&a.push.apply(a,i.sortingIndexes);if(a.length>0&&(null===(n=t.qHyperCubeDef)||void 0===n?void 0:n.qInterColumnSortOrder)){t.qHyperCubeDef.qInterColumnSortOrder.forEach((function(e){a.indexOf(e)<0&&a.push(e)}));t.qHyperCubeDef.qInterColumnSortOrder.length===a.length&&(t.qHyperCubeDef.qInterColumnSortOrder=a)}}function W(e,t,n){var r=[];e.forEach((function(e){if(e.classification&&e.classification===t){e.optionalObj&&e.optionalObj.sorting&&r.push(n);n++}}));return{sortingIndexes:r,lastCounter:n}}function Q(e,t,n,r,i){if(t>=e.length)return o["a"].resolve();return K(e[t],n,r,i).then((function(){return Q(e,t+1,n,r,i)}))}function K(e,t,n,r){var i=e.value;if(e.isColorBy()){if(n.color){var a=e.isMeasure();var s=Y(e,t);var l;if(i.isFieldValue()||i.isExpressionValue()){l={type:a?"expression":"field",name:a||i.isExpressionValue()?i.getExpression():i.getFieldName()};s&&(l.label=s.qDef.qLabel||s.qDef.qLabelExpression);l.label||(l.label=y["a"].convertEvaluationExpressionToLabel(l.name))}else i.isLibraryValue()&&(l={type:a?"measure":"dimension",id:i.getLibraryId()});if(l){e.adapt&&e.adapt(l);F["a"].setColorByPropertyDef(n.color,l);r.updateGlobalChangeListeners()}}}else if(e.isCustom()&&e.adapt){var c=Y(e,t);e.adapt(n,i,c)}else if(e.isMeasure()){var u;var d=Y(e,t);if(d)u=b["a"].extend(true,{},d);else if(i.isFieldValue()||i.isExpressionValue()){var f=i.getExpression();var p=i.getLabel()||y["a"].convertEvaluationExpressionToLabel(f);u=r.createExpressionMeasure(f,p)}else if(i.isLibraryValue()){var h=i.getLibraryId();u=r.createLibraryMeasure(h)}if(u){e.adapt&&e.adapt(u);return r.addMeasure(u,void 0,void 0,true).then((function(t){if(e.optionalObj.sorting){var n=e.optionalObj.sorting;var r="desc"===n.order?-1:1;var i={qSortByNumeric:r,qSortByLoadOrder:1,qExpression:{}};t.qSortBy=i;t.qDef.autoSort=false}}))}}else if(e.isDimension()){var v;var m=Y(e,t);if(m)v=b["a"].extend(true,{},m);else if(i.isFieldValue()){var g=y["a"].convertEvaluationExpressionToLabel(i.getFieldName());var w=i.getExpression();v=r.createFieldDimension(w,g)}else if(i.isExpressionValue()){var S=i.getExpression();var x=i.getLabel()||y["a"].convertEvaluationExpressionToLabel(S);v=r.createFieldDimension(S,x)}else if(i.isLibraryValue()){var C=i.getLibraryId();v=r.createLibraryDimension(C)}if(v){e.adapt&&e.adapt(v);return r.addDimension(v).then((function(t){var n=e.optionalObj;if(n.sorting){var i=n.sorting;if(i.byCustom)t.qDef.qSortCriterias=[i.msrscustomSortProperties];else if(i.byExpression||i.numerically){var a="desc"===i.order?-1:1;var o={qSortByNumeric:a,qSortByAscii:a,qSortByLoadOrder:1};if(!i.numerically&&i.byExpression){o.qExpression={};o.qExpression.qv=void 0!==i.byExpression?i.byExpression.expr:{};o.qSortByExpression=a}t.qDef.autoSort=false;t.qDef.qSortCriterias=[o]}}if(n.limit){var s=n.limit.maxNum;var l=n.limit.direction;if(s&&l){var c={qOtherMode:"OTHER_COUNTED",qOtherCounted:{qv:s.toString()},qOtherLimit:{qv:"0"},qOtherLimitMode:"OTHER_GE_LIMIT",qSuppressOther:true,qForceBadValueKeeping:true,qApplyEvenWhenPossiblyWrongResult:true,qOtherSortMode:"OTHER_SORT_DESCENDING",qTotalMode:"TOTAL_OFF",qReferencedExpression:{}};"bottom"===l&&(c.qOtherSortMode="OTHER_SORT_ASCENDING");t.qOtherTotalSpec=c}}if(n&&n.mapProperties){var u=n.mapProperties;var d="";t.qDef&&t.qDef.qFieldDefs&&t.qDef.qFieldDefs.length>0&&(d=t.qDef.qFieldDefs[0]);r.properties.locationOrLatitude.key=u.expr;r.properties.locationOrLatitude.label=u.field;r.properties.locationOrLatitude.type="expression";r.properties.locationDefault=r.properties.locationOrLatitude.key;r.properties.label.expression.key=d;r.properties.label.expression.type="expression";r.properties.label.expression.label="dimension.qDef.qFieldDefs[0]"}}))}}return o["a"].resolve()}function Y(e,t){var n=e.value;if(e.isMeasure()){if(n.isFieldValue()||n.isExpressionValue()){var r=n.getExpression();var i=y["a"].normalizeExpression(r);var a=J(t.measures,(function(e){return e.qDef&&y["a"].normalizeExpression(e.qDef.qDef)===i}));return a}if(n.isLibraryValue()){var o=n.getLibraryId();var s=J(t.measures,(function(e){return e.qLibraryId===o}));return s}}else if(e.isDimension()){if(n.isFieldValue()){var l=n.getExpression();var c=y["a"].normalizeExpression(l);var u=J(t.dimensions,(function(e){return e.qDef&&e.qDef.qFieldDefs&&y["a"].normalizeExpression(e.qDef.qFieldDefs[0])===c}));return u}if(n.isExpressionValue()){var d=n.getExpression();var f=y["a"].normalizeExpression(d);var p=J(t.dimensions,(function(e){return e.qDef&&e.qDef.qFieldDefs&&y["a"].normalizeExpression(e.qDef.qFieldDefs[0])===f}));return p}if(n.isLibraryValue()){var h=n.getLibraryId();var v=J(t.dimensions,(function(e){return e.qLibraryId===h}));return v}}return}function J(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r)){e.splice(n,1);return r}}return}function Z(e){if(e.qHyperCubeDef){var t=e.qHyperCubeDef.qDimensions;var n=e.qHyperCubeDef.qMeasures;t.forEach((function(e){e.qDef.cId=b["a"].generateId()}));n.forEach((function(e){e.qDef.cId=b["a"].generateId()}))}}function X(e){this.name=e.name;this.expr=e.expr;this.defaultClassifications=e.defaultClassifications;this.libId=e.libId;this.dataTypes=e.dataTypes}X.prototype.isLibraryItem=function(){return!!this.libId};X.prototype.isFieldItem=function(){return!!this.name};function ee(e){this.name=e.name;this.aggregation=e.aggregation;this.defaultAggregation=e.defaultAggregation;this.defaultClassifications=e.defaultClassifications;this.expr=e.expr;this.libId=e.libId;this.dataTypes=e.dataTypes}ee.prototype.isLibraryItem=function(){return!!this.libId};ee.prototype.isFieldItem=function(){return!!this.name};function te(){this.dimensions=[];this.measures=[]}te.prototype.size=function(){return this.dimensions.length+this.measures.length};var ne={Dimension:X,Measure:ee,DataCollection:te};function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function ae(e,t,n){t&&ie(e.prototype,t);n&&ie(e,n);return e}var oe=["sum","count","avg","min","max"];var se=function(){function e(){re(this,e)}ae(e,[{key:"getField",value:function e(t,n){return i.a.find(t,(function(e){return e.qName===n}))}},{key:"isAggregation",value:function e(t){return t&&oe.indexOf(t.toLowerCase())>=0}},{key:"unwrapName",value:function e(t){var n="["===t.charAt(0)&&"]"===t.charAt(t.length-1)?t.substring(1,t.length-1):t;return n}},{key:"createDataCollection",value:function e(t,n,r){var i=this;var a=new ne.DataCollection;n.forEach((function(e){var n;if(e.qLibraryId)n=new ne.Dimension({libId:e.qLibraryId});else{var r=e.qDef.qFieldDefs[0];var o=i.unwrapName(r);var s=i.getField(t,o);n=s?new ne.Dimension({dataTypes:s.dataTypes,defaultClassifications:s.classifications,name:o,expr:r}):new ne.Dimension({expr:r})}n&&a.dimensions.push(n)}));r.forEach((function(e){var n;if(e.qLibraryId)n=new ne.Measure({libId:e.qLibraryId});else{var r=e.qDef.qDef;var o=/^=?(.+)\(((\[(.+)\])|((.+)))\)$/;var s=o.exec(r);if(s){s=s.filter((function(e){return e}));if(s.length>=5){var l=s[1];var c=s[4];l&&(l=l.trim());if(i.isAggregation(l)){var u=i.getField(t,c);u&&(n=new ne.Measure({dataTypes:u.dataTypes,defaultClassifications:u.classifications,defaultAggregation:u.defaultAggregation,aggregation:l,name:c,expr:r}))}}}n||(n=new ne.Measure({expr:r}))}n&&a.measures.push(n)}));return a}},{key:"merge",value:function e(t){var n=new ne.DataCollection;t.forEach((function(e){n.dimensions=n.dimensions.concat(e.dimensions);n.measures=n.measures.concat(e.measures)}));return n}}]);return e}();var le=new se;var ce=n("heHe");var ue=n("crFG");var de={createDataCollection:fe,adaptDataCollectionForRecommendations:he,createDataCollectionFromMatchRecord:pe};function fe(e,t,n){if(n)return le.createDataCollection(n,t.qHyperCubeDef.qDimensions,t.qHyperCubeDef.qMeasures);return o["a"].all({appFieldList:e.getFieldList(),classificationsResult:ue["a"].getClassification()}).then((function(e){var n=e.appFieldList;var r=e.classificationsResult;var i=r?new ce["a"](r):void 0;y["a"].addClassificationDataToFields(n,i);return le.createDataCollection(n,t.qHyperCubeDef.qDimensions,t.qHyperCubeDef.qMeasures)}))}function pe(e){var t;var n={fields:[],libItems:[],expressions:[]};var r=0;var i=0;e.matches.forEach((function(e){"dimension"===e.slotRole?r++:"measure"===e.slotRole&&i++;var t={};e.cond&&(t.cond=e.cond);if(e.libId){t.libId=e.libId;n.libItems.push(t)}else if(e.field){t.name=e.field;"measure"===e.slotRole&&e.aggr&&(t.overrides={defaultAggregation:e.aggr});n.fields.push(t)}else{var a=e.customExpr||e.inlineExpr;if(a){t.expr=a;n.expressions.push(t)}}}));null===(t=e.constraints)||void 0===t?void 0:t.forEach((function(e){e.cond&&(e.libId?n.libItems.push({libId:e.libId,cond:e.cond}):e.field&&n.fields.push({name:e.field,cond:e.cond}))}));n.stats={total:r+i,dims:r,msrs:i};return n}function he(e,t){var n={fields:[],libItems:[],expressions:[]};e.dimensions.forEach((function(e,r){var i={};if(t.qDimensionInfo&&t.qDimensionInfo.length>r){var a=t.qDimensionInfo[r];i.distinctCount=a.qCardinal}if(e.isLibraryItem())n.libItems.push({libId:e.libId,overrides:i});else if(e.isFieldItem()){n.fields.push({name:e.name,overrides:i});y["a"].isDimension(e.defaultClassifications)||(i.classifications=[y["a"].Constants.dimension])}else{n.expressions.push({expr:e.expr,overrides:i});ve(e.expr,t)?i.classifications=[y["a"].Constants.temporal]:i.classifications=[y["a"].Constants.dimension]}}));e.measures.forEach((function(e,r){var i={};if(t.qMeasureInfo&&t.qMeasureInfo.length>r){var a=t.qMeasureInfo[r];i.valueRange={min:a.qMin,max:a.qMax}}if(e.isLibraryItem())n.libItems.push({libId:e.libId,overrides:i});else if(e.isFieldItem()){n.fields.push({name:e.name,overrides:i});i.defaultAggregation=e.aggregation;y["a"].isMeasure(e.defaultClassifications)||(i.classifications=[y["a"].Constants.measure])}else{n.expressions.push({expr:e.expr,overrides:i});i.classifications=[y["a"].Constants.measure]}}));n.stats={total:e.dimensions.length+e.measures.length,dims:e.dimensions.length,msrs:e.measures.length};return n}function ve(e,t){if(t&&t.qDimensionInfo){var n=i.a.find(t.qDimensionInfo,(function(t){return t.qGroupFieldDefs&&t.qGroupFieldDefs.indexOf(e)>=0}));return n&&n.qDerivedField}return false}function me(e,t,n,r){this.measures=t;this.dimensions=e;this.overallIndicators=n;b["a"].extend(true,this,r)}me.prototype.getMetaDataForDimension=function(e){if(this.dimensions.length>e){var t=this.dimensions[e];return t}return};me.prototype.getMetaDataForMeasure=function(e){if(this.measures.length>e){var t=this.measures[e];return t}return};me.prototype.getIndicatorByName=function(e){var t;this.overallIndicators&&this.overallIndicators.some((function(n){var r=n.name===e;r&&(t=n);return r}));return t};me.prototype.isSummable=function(){var e=this.getIndicatorByName("summable");return e&&"1"===e.result};me.prototype.isPerfectHierarchy=function(){var e=this.getIndicatorByName("perfectHierarchy");return e&&"1"===e.result};var ge=me;var be={collectFromRecommendation:we,merge:xe};function ye(e,t,n,r){r=r||[];var i=-1;e&&t&&t.some((function(t,a){if("dimension"===n){var o;var s=e.qLibraryId;var l=null===(o=e.qDef)||void 0===o?void 0:o.qFieldDefs;(s&&s===t.libId||l&&y["a"].normalizeExpression(l[0])===y["a"].normalizeExpression(t.expr))&&-1===r.indexOf(a)&&(i=a)}else"measure"===n&&(e.qLibraryId&&e.qLibraryId===t.libId||y["a"].normalizeExpression(e.qDef.qDef)===y["a"].normalizeExpression(t.expr))&&(i=a);return-1!==i}));return i}function we(e){var t=e.analysis.dims?e.analysis.dims:[];var n=e.analysis.msrs?e.analysis.msrs:[];var r=e.matchRecord?e.matchRecord.matches:[];var a=t.map((function(e){var t={dataType:"",qCardinal:0};if("eField"===e.cType){t.expr=e.expr;t.qGroupFieldDefs=[e.field]}else"eInlineExpr"===e.cType?t.expr=e.expr:"eLibItem"===e.cType&&(t.libId=e.libId);if(e.fieldStats){t.dataType=e.fieldStats.dataType||"";t.qCardinal=e.fieldStats.distinctCount||0}return t}));var o=n.map((function(e){var t={dataType:"",qMax:0,qMin:0,aggregation:"",libItemLabel:""};if("eField"===e.cType){t.expr=e.expr;var n=i.a.findWhere(r,{field:e.field});n&&n.aggr&&(t.aggregation=n.aggr)}else"eInlineExpr"===e.cType?t.expr=e.expr:"eLibItem"===e.cType&&(e.expr?t.expr=e.expr:t.libId=e.libId);if(e.fieldStats){t.dataType=e.fieldStats.dataType||"";if(e.fieldStats.valueRange){t.qMax=e.fieldStats.valueRange.max;t.qMin=e.fieldStats.valueRange.min}if("eLibItem"===e.cType&&e.fieldStats.classification&&e.fieldStats.classification.length>0){var a=e.fieldStats.classification[0];t.classification=a}}return t}));var s=Se(e);var l={};l.intermediateHyperCube=false;l.recAnalyses=e;return new ge(a,o,s,l)}function Se(e){var t=[];var n=e.analysis;var r=e.matchRecord;if(r&&n.dims&&n.dims.length>1){var a=true;for(var o=1;o<n.dims.length;o++){var s=n.dims[o];var l={};l=s.field?{field:s.field}:s.libId?{libId:s.libId}:{inlineExpr:s.expr};if(!l){a=false;break}var c=i.a.findWhere(r.matches,l);if(!c.groupCriteria||c.groupCriteria.indexOf("sameHierarchy")<0){a=false;break}}a&&t.push({name:"perfectHierarchy",result:"1"})}return t}function xe(e,t,n,r){var i=r.analysis.dims?r.analysis.dims:[];var a=r.analysis.msrs?r.analysis.msrs:[];var o=new Array(a.length);var s=new Array(i.length);var l=[];e.qDimensionInfo.forEach((function(i,a){var o=t.qDimensions[a];var c=ye(o,r.analysis.dims,"dimension",l);l.push(c);s.splice(c,1,Ee(e.qDimensionInfo[a],a,"dimension",t,n))}));e.qMeasureInfo.forEach((function(i,a){var s=t.qMeasures[a];var l=ye(s,r.analysis.msrs,"measure");o.splice(l,1,Ee(e.qMeasureInfo[a],a,"measure",t,n))}));var c={qSize:b["a"].extend(true,{},e.qSize)};var u=Se(r);return new ge(s,o,u,c)}function Ce(e,t,n,r,i){var a;var o=[];switch(r){case"dimension":o=i.dimensions;break;case"measure":o=i.measures;break;default:break}o.some((function(r){var i=false;if(t){i=r.expr===t;e.dataType=r.dataTypes&&r.dataTypes.length>0?r.dataTypes[0]:null;e.aggregation=r.aggregation?r.aggregation:null}else n&&(i=r.libId===n);a=i?r:a;return i}))}function qe(e,t,n,r,i){var a;var o;var s;function l(e,t){var n=!!a.qLibraryId;n?s=a.qLibraryId:"dimension"===t?o=a.qDef.qFieldDefs[0]:"measure"===t&&(o=a.qDef.qDef)}if("dimension"===n){a=r.qDimensions[t];l(a,"dimension")}else if("measure"===n){a=r.qMeasures[t];l(a,"measure")}Ce(e,o,s,n,i)}function Ee(e,t,n,r,i){var a=b["a"].extend(true,{},e,t);qe(a,t,n,r,i);return a}var Ie=be;var ke=n("TMGN");var Ae=n("UV1h");function Te(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function De(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Te(a,r,i,o,s,"next",e)}function s(e){Te(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Oe(e){Oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Oe(e)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),true).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function Ne(e,t,n,r){if(n&&r)return de.createDataCollectionFromMatchRecord(r);return de.adaptDataCollectionForRecommendations(t,e.qHyperCube)}function Re(e,t,n,r,a,o){return de.createDataCollection(n,e).then((function(n){var s=Ne(t,n,a,o);return p.getChartRecommendations(s,a).then((function(s){var l=[];var c=!Array.isArray(s);c&&(s=[]);if(!a||0===s.length){var u=s.some((function(e){return"list"===e.analysis.analysis}));if(!u){var d=p.getFallbackRecommendation(n);s.push(Me(Me({},d),{},{matchRecord:o}))}}s.forEach((function(r){(null===o||void 0===o?void 0:o.constraints)&&r.matchRecord&&(r.matchRecord.constraints=o.constraints);var a=Ie.merge(t.qHyperCube,e.qHyperCubeDef,n,r);var s=M.findChartsByAnalysis(r,a);M.createChartDataProperties(r,s).forEach((function(e){var t=i.a.findWhere(l,{type:e.type});e.recommendation=r;if(t){if(e.score&&(!t.score||e.score>t.score)){var n=l.indexOf(t);l[n]=e}}else l.push(e)}))}));if(r){var f=h["a"].getSupportedChartTypes().slice().filter((function(e){var t=true;for(var n=0;n<l.length;n++)if(l[n].type===e){t=false;break}return t}));var v=Ie.merge(t.qHyperCube,e.qHyperCubeDef,n,s[0]);var m=M.findPossibleCharts(f,v);M.createChartDataProperties(s[0],m).forEach((function(e){a&&(e.recommendation=s[0]);l.push(e)}))}return{recommendations:s,allChartDataProperties:l}}))}))}function Fe(e,t,n,r,i,a){return Re(e,t,n,r,i,a).then((function(t){if(ke["a"].CRE_CHARTS){var r={recommendations:t.recommendations,allChartDataProperties:t.allChartDataProperties};console.log(r)}t.allChartDataProperties.length>1&&t.allChartDataProperties.sort((function(e,t){return t.score-e.score}));return t.allChartDataProperties.map((function(t){if(je(t.recommendation))return He(t.recommendation).then((function(e){e.isRecommended=t.score>-1;return Promise.resolve(e)}));return j.generateProperties(t,e,n)}))}))}function _e(e,t,n,r){return Re(e,t,n,r).then((function(t){var r=t.allChartDataProperties;r.length>1&&r.sort((function(e,t){return t.score-e.score}));var i=r[0];e&&e.preferredChart&&r.forEach((function(t,n){t.type===e.preferredChart&&(i=r[n])}));if(je(i.recommendation))return He(i.recommendation).then((function(e){return e}));return j.generateProperties(i,e,n).then((function(e){if(ke["a"].CRE_CHARTS){var n={recommendations:t.recommendations,allChartDataProperties:r,bestChartDataProperties:i,chartProperties:e};console.log(n)}return e}))}))}function je(e){if((null===e||void 0===e?void 0:e.options)&&e.chartType){var t,n,r,i;return Boolean((null===(t=e.options)||void 0===t?void 0:t.qHyperCubeDef)||(null===(n=e.options)||void 0===n?void 0:n.gaLayers)||(null===(r=e.options)||void 0===r||null===(i=r.boxplotDef)||void 0===i?void 0:i.qHyperCubeDef))}return false}var Be=function e(t,n,r){return t[r]&&Array.isArray(t[r])&&Array.isArray(n[r])&&0===n[r].length};var Ve=function e(t,n,r){return t[r]&&"object"===Oe(t[r])&&"object"===Oe(n[r])};function He(e){return N["a"].getInitialProperties(e.chartType).then((function(t){var n={};b["a"].extend(n,t);var r=e.options;for(var i in r)r.hasOwnProperty(i)&&(Ve(n,r,i)&&!Be(n,r,i)?b["a"].extend(n[i],r[i]):n[i]=r[i]);if(e.options.qHyperCubeDef){if("kpi"===e.chartType){var a=Ae["a"].dataColors.primaryColor;var o=Ae["a"].themePalettes[0];var s="pyramid"===o.type?o.colors[o.colors.length-1]:o.colors;var l=s.indexOf(a);e.options.qHyperCubeDef.qMeasures[0].qDef.conditionalColoring.paletteSingleColor={index:-1===l?Math.min(6,s.length-1):l}}b["a"].extend(n.qHyperCubeDef,e.options.qHyperCubeDef)}e.options.gaLayers&&b["a"].extend(n.gaLayers,e.options.gaLayers);e.options.mapSettings&&b["a"].extend(n.mapSettings,e.options.mapSettings);n.recommendation=e;return n}))}function ze(e,t){var n=[];var r=[e];if(je(e))return He(e).then((function(e){return e}));var a=r.some((function(e){return"list"===e.analysis.analysis}));if(!a){var o={analysis:{analysis:"list",dims:e.analysis.dims,msrs:e.analysis.msrs},libLabelLookup:e.libLabelLookup};r.push(o)}r.forEach((function(e){var t=Ie.collectFromRecommendation(e);var r=[];if(e.analysis.analysisEncodings&&e.chartType&&N["a"].isChartSupported(e)){var a=e.chartType;var o={chartType:a,encodings:e.analysis.analysisEncodings.encodings,score:0,adapt:void 0,analysis:e.analysis.analysisEncodings,sorting:e.analysis.sorting};r.push(o)}else r=M.findChartsByAnalysis(e,t);M.createChartDataProperties(e,r).forEach((function(e){var t=i.a.findWhere(n,{type:e.type});if(t){if(e.score&&(!t.score||e.score>t.score)){var r=n.indexOf(t);n[r]=e}}else n.push(e)}))}));n.length>1&&n.sort((function(e,t){return t.score-e.score}));var s=n[0];return j.generateProperties(s,void 0,t).then((function(e){if(ke["a"].CRE_CHARTS){var t={recommendations:r,allChartDataProperties:n,bestChartDataProperties:s,chartProperties:e};console.log(t)}e.components=[];return e}))}function $e(e,t,n){return Ue.apply(this,arguments)}function Ue(){Ue=De(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return ze(t,n);case 2:i=a.sent;return a.abrupt("return",{properties:i,parentVisualization:r});case 4:case"end":return a.stop()}}),e)})));return Ue.apply(this,arguments)}var Ge=t["a"]={generateAlternativeChartProperties:Fe,generateDefaultChartProperties:_e,generateChartPropertiesForRecommendation:ze,getChartPropertiesForAlternativeVisualization:$e,recommendationContainsHypercube:je}},ZPcf:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);t["a"]=i.a.createContext(null)},ZQDF:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("/irJ");var a=n("ClzF");var o=n("z4LI");var s=n("5Hbw");function l(){var e=r["a"].getParameterByName("app");var t=r["a"].getParameterByName("sheet");var n=a["a"].analysis(e);var i=(null===n||void 0===n?void 0:n.sheetId)?n.sheetId:t;return{appId:e,sheetId:i}}function c(){return"analysis"}function u(e){var t=a["a"].analysis(r["a"].getParameterByName("app"));if(s["a"].inClient()&&(null===t||void 0===t?void 0:t.state)&&!e)return t.state;return c()}function d(e,t,n,r){a["a"].setSheet(e,t,n,r);i["a"].goToSheet(e,t,r)}function f(e){var t=r["a"].getParameterByName("app");var n=a["a"].analysis(t).overlay;return n===o["a"].getAllStateKeys()[e]}function p(){return f(o["a"].States.insight)}function h(){return f(o["a"].States.selections)}function v(e,t,n){if(s["a"].inClient()){var r=a["a"].analysis(t).state;var i=o["a"].getAllStateKeys()[n]||c();d(e,r,t,i)}}function m(e,t){if(s["a"].inClient()){var n=a["a"].analysis(t).state||c();d(e,n,t,null)}}t["a"]={getCurrentSheetInfo:l,closeAnalysisOverlay:m,openAnalysisOverlay:v,getDefaultSheetViewState:c,getCurrentSheetViewState:u,isInInsightMode:p,isInSelectionsMode:h}},ZYaI:function(e,t,n){"use strict";var r=["$date","$timestamp","$time"];var i=["D","TS","T"];var a={hasTimeTag:function e(t){return t&&t.qTags&&t.qTags.some((function(e){return r.indexOf(e)>=0}))},hasUnknownFormat:function e(t){return!!(t&&t.qNumFormat&&"U"===t.qNumFormat.qType)},hasTimeFormat:function e(t){return!!(t&&t.qNumFormat&&i.some((function(e){return e===t.qNumFormat.qType})))},isTimeDimension:function e(t,n){return!!(t&&n&&(a.hasTimeTag(n)&&a.hasUnknownFormat(n)||a.hasTimeFormat(n)))},maxNumberOfLines:12,maxNumberOfDataPoints:2e3};t["a"]=a},Zn0i:function(e,t,n){"use strict";var r=n("Al5b");var i=n("z4LI");var a=n("QCD8");var o=n("rQnm");var s=n("4nJ1");var l=new o["a"];function c(e,t){if(void 0===t&&0===e.length)return false;var n=e.every((function(e,n){return e===t[n]}));return n&&e.length===t.length}function u(e,t){return r["a"].canModifyHardProperties(i["a"],e,t)}function d(e){if(!e)return true;for(var t=1;t<e.length;t++)if(e[t]<e[t-1])return false;return true}function f(e){var t=e.qColumnOrder||e.columnOrder;if(!t)return false;var n=e.qDimensionInfo;var r=n?n.length:0;var i=t.filter((function(e){return e<r}));var a=t.filter((function(e){return e>=r}));return!d(i)||!d(a)}function p(e,t){return e&&e.length>0&&t&&0===t.length}function h(e,t){return t&&t.length>0&&e&&0===e.length||!c(t,e)}function v(e){return e&&e.qHyperCube&&e.qHyperCube.qColumnOrder&&e.qHyperCube.qColumnOrder.length>0}function m(e){var t=e&&e.qHyperCubeDef;t&&p(t.columnOrder,t.qColumnOrder)?t.qColumnOrder=t.columnOrder.slice():t&&h(t.columnOrder,t.qColumnOrder)&&(t.columnOrder=t.qColumnOrder.slice());t&&a["a"].fixTableHypercubeOrders(t);return e}function g(e){var t=e.qHyperCube;if(t.columnOrder&&!t.qColumnOrder||0===t.qColumnOrder.length){var n=e.snapshotData.object.origDataPages||t.qDataPages;t.qColumnOrder=n.filter((function(e){return e&&e.qArea})).map((function(e){return e.qArea.qLeft}));n.forEach((function(e){e&&e.qArea&&(e.qArea.qLeft=t.qColumnOrder.indexOf(e.qArea.qLeft))}));n=n.filter((function(e){return e&&e.qArea&&-1!==t.columnOrder.indexOf(t.qColumnOrder[e.qArea.qLeft])}));t.columnOrder=t.qColumnOrder.slice();t.qDataPages=n;e.snapshotData.object.origDataPages=n}else if(t.columnOrder&&t.columnOrder.length!==t.qColumnOrder.length){t.qDataPages=t.qDataPages.filter((function(e){return e&&e.qArea&&-1!==t.qColumnOrder.indexOf(t.columnOrder[e.qArea.qLeft])}));t.qColumnOrder=t.columnOrder.slice();e.snapshotData.object.origDataPages=t.qDataPages}else{t.columnOrder=new Array(t.qColumnOrder.length);for(var r=0;r<t.columnOrder.length;r++)t.columnOrder[r]=t.qColumnOrder[r]}return e}function b(e){var t=Array.isArray(e.qColumnOrder)?e.qColumnOrder.slice():e.qColumnOrder;var n=Array.isArray(e.columnOrder)?e.columnOrder.slice():e.columnOrder;return t&&t.length>0?t:n}function y(e,t){var n=e.qHyperCube.columnOrder;var r=e.qHyperCube.qColumnOrder;if(!r||n&&n.length>r.length)return n[t];return r&&r.length>0?r[t]:t}function w(e){return e&&e.qColumnOrder&&e.qColumnOrder.length>0}function S(e,t){return w(e)||v(t)}function x(e,t){var n=e&&e.qHyperCube;var r=n&&n.qDataPages;var i=b(e.qHyperCube);var a;r&&(r=r.filter((function(e){return e})));r&&r.length&&r.forEach((function(n){n&&n.qArea&&n.qArea.qLeft===t&&(a=i.indexOf(e.qHyperCube.qColumnOrder[t]))}));r&&r.length&&r.length===i.length&&void 0===a&&(a=r[t].qArea.qLeft);return a}function C(e,t,n,r){var i=x(n,t);if(i>=0)return i;if(S(n.qHyperCube,r))return t;return e&&e.qLeft}function q(e,t){var n=p(t.columnOrder,t.qColumnOrder);var r=f(t);(n||r)&&e&&e.model&&e.model.getEffectiveProperties&&e.model.getEffectiveProperties().then((function(t){if(u(e.model,t)){n&&(t.qHyperCubeDef.qColumnOrder=t.qHyperCubeDef.columnOrder.slice());r&&a["a"].fixTableHypercubeOrders(t.qHyperCubeDef);e.model.setProperties(t);e.model.app.clearUndoBuffer()}else{var i=s["a"].extend(true,{},t);n&&(t.qHyperCubeDef.qColumnOrder=t.qHyperCubeDef.columnOrder.slice());r&&a["a"].fixTableHypercubeOrders(t.qHyperCubeDef);l.setModel(e.model);l.saveSoftProperties(i,t)}}))}t["a"]={migrateProperties:m,migrateSnapshot:g,getColumnOrder:b,getColumnDataIndex:y,getLeftOfDataArea:C,useNewColumnOrderIdx:S,updatePropertiesOnRefresh:q,findLeftForSnapshots:x}},ZszH:function(e,t,n){"use strict";var r={getCharacterCount:i,getCharacterIndexes:a,getIsCharacterEncapsulated:o,getNormalizedExpression:s,getFormattedAggregation:l};t["a"]=r;function i(e,t){if(!e||!t)return 0;return e.split(t).length-1}function a(e,t){var n=[];if(!e||!t)return n;for(var r=0;r<e.length;r++){var i=e.charAt(r);i===t&&n.push(r)}return n}function o(e,t,n,r){if(!e||!n||!r)return false;var a=n===r;var o=i(e,n);var s=i(e,r);var l=a?o>1:o+s>1;if(!l)return false;var c=e.substr(0,t);var u=i(c,n);if(a){var d=o%2===0;var f=u%2!==0;if(d)return f;var p=u>0&&u!==o;return p&&f}var h=i(c,r);var v=o===s;if(v)return u>h;var m=u<h;if(m||0===s)return false;var g=o-s;return u<=g}function s(e){if(!e)return"";"="===e.charAt(0)&&(e=e.substr(1));var t=e.length-1;"["===e.charAt(0)&&"]"===e.charAt(t)&&(e=e.substring(1,t));return e}function l(e){if(!e)return"";return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}},a0ag:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("TZGQ");var a=n("AJ0W");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}var c;var u;var d;var f=function(){function e(){o(this,e)}l(e,[{key:"_errorHandler",value:function e(t){console.error("Network failure in the Precedents Service");console.error(t);this.dislikedFieldsPromise=void 0;this.definedItemsPromise=void 0;this.apiClient=void 0}},{key:"_getAPI",value:function e(){c||(c=i["a"].getApi("api/precedent/v1","openapi",void 0,void 0,void 0,void 0,a["a"].getServerNodeId()).catch((function(){c=void 0})));return c}},{key:"_handleRestResponse",value:function e(t,n,r){return r.body.response}},{key:"_getAppName",value:function e(){return r["a"].getParameterByName("app")}},{key:"defineDimension",value:function e(t){var n=this;var r=this;var i=arguments;var a={};a.targets=[{type:"dimension",dimension:t}];a.source={type:"user"};a.relation={relation:"define"};return this._getAPI().then((function(e){return e.apis.precedents.addPrecedent({appId:r._getAppName()},{requestBody:a,server:e.spec.servers[0].url}).then(r._handleRestResponse.bind(r,"defineDimension",i)).catch(n._errorHandler.bind(n))}))}},{key:"defineMeasure",value:function e(t){var n=this;var r=this;var i=arguments;var a={};a.targets=[{type:"measure",measure:t}];a.source={type:"user"};a.relation={relation:"define"};return this._getAPI().then((function(e){return e.apis.precedents.addPrecedent({appId:r._getAppName()},{requestBody:a,server:e.spec.servers[0].url}).then(r._handleRestResponse.bind(r,"defineMeasure",i)).catch(n._errorHandler.bind(n))}))}},{key:"dislikeField",value:function e(t){var n=this;var r=this;var i=arguments;u=void 0;var a={};a.targets=[{type:"field",field:t}];a.source={type:"user"};a.relation={relation:"dislike"};return this._getAPI().then((function(e){return e.apis.precedents.addPrecedent({appId:r._getAppName()},{requestBody:a,server:e.spec.servers[0].url}).then(r._handleRestResponse.bind(r,"dislikeField",i)).catch(n._errorHandler.bind(n))}))}},{key:"removeDefinedItem",value:function e(t){var n=this;var r=this;var i=arguments;d=void 0;return this._getAPI().then((function(e){return e.apis.precedents.removePrecedent({appId:r._getAppName(),sourceType:"user",relation:"define",targetNodeId:t}).then(r._handleRestResponse.bind(r,"removeDefinedItem",i)).catch(n._errorHandler.bind(n))}))}},{key:"getLearnedItems",value:function e(){var t=this;var n=this;var r=arguments;if(d&&d.pending)return d;var i={};i.targets=[{type:"field"},{type:"libItem"},{type:"dimension"},{type:"measure"}];i.source={type:"user"};i.relations=[{relation:"define"},{relation:"dislike"}];d=this._getAPI().then((function(e){return e.apis.precedents.getRelationships({appId:n._getAppName()},{requestBody:i,server:e.spec.servers[0].url}).then(n._handleRestResponse.bind(n,"getDefinedItems",r)).catch(t._errorHandler.bind(t))}));return d}},{key:"undislikeItem",value:function e(t){var n=this;var r=this;var i=arguments;u=void 0;return this._getAPI().then((function(e){return e.apis.precedents.removePrecedent({appId:r._getAppName(),sourceType:"user",relation:"dislike",targetNodeId:t}).then(r._handleRestResponse.bind(r,"undislikeItem",i)).catch(n._errorHandler.bind(n))}))}},{key:"getDislikedItems",value:function e(){var t=this;var n=this;var r=arguments;if(u)return u;var i={};i.targets=[{type:"field"},{type:"libItem"}];i.source={type:"user"};i.relations=[{relation:"dislike"}];u=this._getAPI().then((function(e){return e.apis.precedents.getRelationships({appId:n._getAppName()},{requestBody:i,server:e.spec.servers[0].url}).then(n._handleRestResponse.bind(n,"getDislikedItems",r)).catch(t._errorHandler.bind(t))}));return u}},{key:"getAnalysis",value:function e(t){var n=this;var r=this;var i=arguments;var a={targets:[{type:"analysis"}],source:{type:"user"},relations:[{relation:t}]};return this._getAPI().then((function(e){return e.apis.precedents.getRelationships({appId:r._getAppName()},{requestBody:a,server:e.spec.servers[0].url}).then(r._handleRestResponse.bind(r,"getAnalysis",i)).catch(n._errorHandler.bind(n))}))}},{key:"getLikedAnalysis",value:function e(){return this.getAnalysis("like")}},{key:"getDislikedAnalysis",value:function e(){return this.getAnalysis("dislike")}},{key:"dislikeLibItem",value:function e(t){var n=this;var r=this;var i=arguments;u=void 0;var a={};a.targets=[{type:"libItem",libItem:t}];a.source={type:"user"};a.relation={relation:"dislike"};return this._getAPI().then((function(e){return e.apis.precedents.addPrecedent({appId:r._getAppName()},{requestBody:a,server:e.spec.servers[0].url}).then(r._handleRestResponse.bind(r,"dislikeLibItem",i)).catch(n._errorHandler.bind(n))}))}},{key:"likeAnalysis",value:function e(t){var n=this;var r=this;var i=arguments;var a={};a.targets=[{type:"analysis",analysis:t}];a.source={type:"user"};a.relation={relation:"like"};return this._getAPI().then((function(e){return e.apis.precedents.addPrecedent({appId:r._getAppName()},{requestBody:a,server:e.spec.servers[0].url}).then(r._handleRestResponse.bind(r,"likeAnalysis",i)).catch(n._errorHandler.bind(n))}))}},{key:"dislikeAnalysis",value:function e(t){var n=this;var r=this;var i=arguments;var a={};a.targets=[{type:"analysis",analysis:t}];a.source={type:"user"};a.relation={relation:"dislike"};return this._getAPI().then((function(e){return e.apis.precedents.addPrecedent({appId:r._getAppName()},{requestBody:a,server:e.spec.servers[0].url}).then(r._handleRestResponse.bind(r,"dislikeAnalysis",i)).catch(n._errorHandler.bind(n))}))}},{key:"undislikeAnalysis",value:function e(t){var n=this;var r=this;var i=arguments;return this._getAPI().then((function(e){return e.apis.precedents.removePrecedent({appId:r._getAppName(),sourceType:"user",relation:"dislike",targetNodeId:t.precedents.id}).then(r._handleRestResponse.bind(r,"undislikeAnalysis",i)).catch(n._errorHandler.bind(n))}))}},{key:"removeLikedAnalysis",value:function e(t){var n=this;var r=this;var i=arguments;return this._getAPI().then((function(e){return e.apis.precedents.removePrecedent({appId:r._getAppName(),sourceType:"user",relation:"like",targetNodeId:t}).then(r._handleRestResponse.bind(r,"removeLikedAnalysis",i)).catch(n._errorHandler.bind(n))}))}},{key:"removeAllPrecedents",value:function e(){var t=this;var n=this;var r=arguments;return this._getAPI().then((function(e){return e.apis.precedents.removePrecedent({appId:n._getAppName(),sourceType:"user"}).then(n._handleRestResponse.bind(n,"removeAllPrecedents",r)).catch(t._errorHandler.bind(t))}))}},{key:"scrapeApp",value:function e(){var t=this;var n=this;var r=arguments;u=void 0;return this._getAPI().then((function(e){return e.apis.precedents.scrapeApp({appId:n._getAppName()}).then(n._handleRestResponse.bind(n,"scrapeApp",r)).catch(t._errorHandler.bind(t))}))}}]);return e}();t["a"]=f},a15v:function(e,t,n){"use strict";t["a"]='<lui-dialog class="custom-connector-component-dialog connect-dialog" ng-style="dialogStyle" qv-global-escape="onEscape()">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" class="custom-connector-component-dialog-spinner" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n\n\t<div class="lui-dialog__footer">\n        <lui-button tid="cancelCustomConnection" ng-click="cancel()" q-translation="Common.Cancel"></lui-button>\n        <lui-button tid="testCustomConnection" ng-click="testConnection()" ng-disabled="iframeLoading || isTestConnectDisabled" q-translation="scripteditor.dataconnectors.testconnection"></lui-button>\n\t\t<lui-button tid="saveCustomConnection" ng-click="createConnection()" ng-disabled="iframeLoading || isConnectDisabled" ng-bind="okString"></lui-button>\n  </div>\n\n</lui-dialog>\n'},a7Z2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=o;var r=n("W/5s");var i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if((0,i.default)())return n(null,s(e,t));return n(null,["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}function s(e,t){var n=e.exif?l(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",n,t.endpoint].join("/")}function l(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r;t&=t}return t}},a7yF:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("NFdj");var o=n.n(a);var s=n("mWu2");var l=n("wIyQ");var c=n("GG1N");var u=n("3I2r");var d=n("CyFZ");var f=n("4nJ1");var p=n("rwJ+");var h=n("G1wx");var v=n("MEqe");var m=n.n(v);function g(e){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return g(e)}s["default"].directive("ppSortable",[function(){return{scope:"=",link:function e(t,n,r){t.$watch(r.ppSortable,(function(e){if(!e)return;e=f["a"].extend({},{handle:"[pp-sortable-handle]",start:function e(t,n){n.item.data("startPos",n.item.index())},scrollSpeed:h["a"].treatAsDesktop()?25:60,distance:h["a"].treatAsDesktop()?10:0,items:"> :not(.locked)",cancel:".locked",update:function n(r,i){var a=i.item.index();var o=i.item.data("startPos");t.$apply((function(){e.onMove(o,a)}))},stop:function e(){h["a"].treatAsDesktop()||n.sortable("option","disabled",true)}},e);var r=n.closest(".pp-section");r.length&&(e.containment=r);n.sortable(e);h["a"].treatAsDesktop()||n.sortable("option","disabled",true);t.enableTouchDrag=function(){n.sortable("option","disabled",false);var e=i.a.Event(window.event,{type:"mousedown"});e.which=1;e.pageX=window.event.pageX;e.pageY=window.event.pageY;e.target=window.event.target;i.a.ui.mouse.prototype._touchStart.call(n.data("ui-sortable"),e)}}))}}}]);s["default"].directive("ppSlider",[function(){return{require:"?ngModel",link:function e(t,n,r,i){var a=false;t.$watch(r.ppSlider,(function(e){if(!e)return;if(e.range){e=f["a"].extend({},{min:0,max:10,step:1,values:i.$modelValue,stop:function e(n,r){s["default"].$apply(t,(function(){i.$setViewValue(r.values)}))}},e);a||t.$watchCollection((function(){return i.$modelValue}),(function(e,t){o.a.equals(e,t)||n.slider("values",e)}))}else{e=e.values?f["a"].extend({},{min:0,max:10,step:1,values:i.$modelValue,stop:function e(n,r){s["default"].$apply(t,(function(){i.$setViewValue(r.values)}))}},e):f["a"].extend({},{min:0,max:10,step:1,value:i.$modelValue,stop:function e(n,r){s["default"].$apply(t,(function(){i.$setViewValue(r.value)}))}},e);a||t.$watch((function(){return i.$modelValue}),(function(e,t){e!==t&&(Array.isArray(e)?n.slider("values",e):n.slider("value",e))}))}a&&n.slider("destroy");n.slider(e);a=true}))}}}]);s["default"].directive("ppPlaceholder",[function(){return{link:function e(t,n,r){function i(){var e=t.$eval(r.ppPlaceholder);var i=t.$eval(r.ppPlaceholderSuppressEqual);e&&i&&"="===e[0]&&(e=e.substr(1));n.attr("placeholder",e)}n.on("focus",(function(){n.attr("placeholder","")}));n.on("blur",(function(){i()}));t.$watch(r.ppPlaceholder,(function(){i()}))}}}]);s["default"].directive("ppHeaderWithSwitch",[function(){return{scope:{definition:"=",data:"=",args:"="}}}]);s["default"].directive("ppAccordion",[function(){return{template:"<div ng-transclude></div>",transclude:true,scope:{ppAccordion:"=",definition:"=",args:"="},controller:["$scope","$element","$timeout",function(e,t,n){var r=e.args.cache;var a=null;var o="accordion_path";e.definition.cacheKey&&(o="".concat(o,"_").concat(e.definition.cacheKey));function s(){a=n((function(){t.accordion("refresh");a=null}))}function c(t){var n=t.split(".")[0];var r=Object.keys(e.definition.items||{}).filter((function(t){var n=e.definition.items[t];return false!==n.show}));for(var i=0;i<r.length;++i)if(r[i]===n)return i;return-1}this.loadit=function(n){var a=r.get(o);var u=void 0!==e.definition.defaultActiveTabIndex?e.definition.defaultActiveTabIndex:-1;a&&(u=c(a));if(n===e.ppAccordion.length-1){t.accordion({header:".pp-section-header",active:u,heightStyle:"fill",animate:!!h["a"].treatAsDesktop()&&"swing",activate:function t(n,a){var s=i()(a.newPanel).attr("x-path");r.put(o,s);e.$broadcast("ppAccordionNewPath",s)}});l["a"].on("end",s)}};e.$on("pp-open-path",(function(e,n){var r=c(n);r>=0&&t.accordion("option","active",r)}));e.$on("$destroy",(function(){if(a){n.cancel(a);a=null}l["a"].off("end",s)}))}]}}]);s["default"].directive("ppAccordionItem",[function(){return{require:"^ppAccordion",link:function e(t,n,r,i){i.loadit(t.$index)}}}]);function b(e){if("ValueExpr"===e||"ValueExpression"===e)return u["a"].Modes.NumberOrExpression;return u["a"].Modes.Expression}s["default"].directive("ppInputValidator",["$parse",function(e){return{require:"ngModel",link:function t(n,r,i,a){var o=null;var s=n.definition;var l=i.expressionType;function d(e,t){if(s&&"function"===typeof s.isExpression)return s.isExpression(e);if(void 0===e)return false;if("always"===s.expression)return true;switch(t){case"StringExpression":return 0===e.indexOf("=");case"ValueExpression":return"string"===typeof e&&0===e.indexOf("=");case"StringExpr":return 0===e.indexOf("=");case"ValueExpr":return true;case"dimension":return true;case"measure":return true;default:return false}}function p(t){i.ppValidationOnResult?e(i.ppValidationOnResult)(n,{isValid:t}):n.invalid=!t}function h(e){p(e.valid)}if(l){var v=n.args?n.args.app:n.app;o=new u["a"].ExpressionValidator(v,b(l));o.Update.bind(h)}function m(e){if("measure"===l)if(""===e)p(true);else{var t=n.args?n.args.handler.getLabels():[];o.validate(e,t)}else if("dimension"===l)if(""===e)p(false);else{e&&"="!==e[0]&&(e="=".concat(f["a"].escapeField(e)));o.validate(e)}else o.validate(e)}function g(e){d(e,l)?m(e):p(c["a"].validateType(e,s,n.data,n.args))}n.$on("datachanged",(function(){g(a.$modelValue)}));n.$on("pp-revalidate",(function(){g(a.$modelValue)}));n.$watch((function(){return a.$modelValue}),(function(e){g(e)}));n.$on("$destroy",(function(){o&&o.Update.unbind(h)}))}}}]);function y(e){e=e||"";return"="===e[0]?e:"=".concat(e)}s["default"].directive("ppExpressionEditor",["$parse","$timeout",function(e,t){return{link:function n(r,a,s){function l(e,t){if(void 0===e)return false;switch(t){case"StringExpression":return"object"===g(e);case"ValueExpression":return"object"===g(e);case"StringExpr":return"object"===g(e)&&0===e.qv.indexOf("=");case"ValueExpr":return"object"===g(e);case"dimension":return true;case"measure":return true;default:return false}}function c(e){return"'"!==e[0]&&"'"!==e[e.length-1]&&-1===e.indexOf("(")&&-1===e.indexOf(")")&&!f["a"].isNumeric(e)}function u(){var t=e(s.ppExpressionEditor)(r);var n=s.expressionType;var i=b(n);var a=t;var u=[];var p=l(t,n);"object"===g(t)&&("StringExpression"===n?t=y(t.qStringExpression.qExpr):"ValueExpression"===n?t=y(t.qValueExpression.qExpr):("StringExpr"===n||"ValueExpr"===n)&&(t=t.qv));if("dimension"===n&&t.length)"="!==t[0]&&(t="=".concat(f["a"].escapeField(t)));else if("measure"===n)u=r.args?r.args.handler.getLabels():[];else if(!p&&("StringExpr"===n||"StringExpression"===n)){"StringExpr"===n&&t.qv&&(t=t.qv);t&&c(t)&&(t="='".concat(t.replace(/'/g,"''"),"'"))}d["a"].show({expr:t,title:t?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title",allowEmpty:true,mode:i,labels:u,app:r.args?r.args.app:r.app,stateName:r.args&&r.args.layout?r.args.layout.qStateName:void 0}).then((function(t){if("ValueExpression"===n&&t.length)t={qValueExpression:{qExpr:t}};else if("StringExpression"===n&&t.length)t={qStringExpression:{qExpr:t}};else if("ValueExpr"===n)t={qv:t};else if("StringExpr"===n){"="!==t[0]&&(t="=".concat(t));t={qv:t}}else"dimension"===n&&t.length&&"="!==t[0]&&(t="=".concat(t));if(s.ppExpressionEditorOnApply)e(s.ppExpressionEditorOnApply)(r,{value:t});else if(!o.a.equals(a,t)){r.value=t;r.change()}}),(function(){}))}a.on("keypress.pp-expression",(function(e){13!==e.which&&32!==e.which||i()(e.target).trigger("qv-activate")}));a.on("qv-activate.pp-expression",(function(){var n=null;var a;if(s.editorDisabled){n=e(s.editorDisabled)(r);if(n)return}if(p["a"].isInput(document.activeElement)){a=i()(document.activeElement);a.on("blur.pp-expression",(function(){t((function(){u()}));a.off("blur.pp-expression")}));a.blur()}else u()}));r.$on("$destroy",(function(){a.off(".pp-expression")}))}}}]);s["default"].directive("ppScrollableAutoContent",[function(){var e=".property-content";return{link:function t(n){n.$watch((function(){return n.isAutoChart}),(function(e){r(e)}));function r(t){var n=i()(e);n.length&&n.css({"overflow-y":t?"auto":"hidden"})}n.$on("$destroy",(function(){r(false)}))}}}]);s["default"].directive("ppDiDraggableHover",[function(){var e=".pp-nm-di__header";var t="hovered";return{link:function n(r,i){var a=i.closest(e);if(!a.length)return;i.hover((function(){a.addClass(t)}),(function(){a.removeClass(t)}))}}}]);s["default"].componentDirective("includePpComponent",{definition:"=",data:"=",args:"="});var w={}},a8WH:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("mWu2");var o='<input\n\t\tclass="lui-input ds-input"\n\t\tng-class="{calculated: isCalculated, inputClass: inputClass, \'validation-error\': errorState === true}"\n\t\ttype="text"\n\t\tng-model="model"\n\t\ttitle="{{model}}"\n\t\tng-keydown="onKeyDown( $event )"\n\t\tid="column-{{inputId}}"\n\t\tng-change="onChange($event)"\n\t\tng-blur="onBlur( $event )"\n\t\tng-focus="onFocus()"\n\t\ttabindex="{{inputId + 1}}"\n\t\tng-disabled="!editable"\n\t\tng-trim="true"\n    ng-click="editName()"\n/>\n';var s=n("k21Z");a["default"].directive("dsGridInput",["luiTooltip",function(e){return{restrict:"E",template:o,scope:{validate:"=",model:"=",context:"=",inputId:"@",errorState:"=",editable:"=",modifiedCallback:"=",inputClass:"@",focusCallback:"=",fieldType:"=",autoExpand:"=?"},link:function t(n,r){var a;var o;var l;var c={template:s["a"].template,controller:s["a"].controller,input:{item:"",style:{}},alignTo:r.find(".ds-input")[0],dock:"bottom"};n.hasFocus=false;n.realErrors=false;n.isCalculated="QueryExpressionField"===n.fieldType;n.$watch("model",p);var u=n.$on("straight-table-virtual-scroll",(function(e,t){if(n.hasFocus&&t&&"data-manager-editor-straight-table"===t.id){r.find(".ds-input").blur();n.hasFocus=false}}));n.$on("$destroy",(function(){u()}));function d(){l&&l.close()}function f(t){c.input.item=t[0].msg;l=e.show(c)}function p(){n.autoExpand&&n.$evalAsync((function(){var e=r.find("input");var t=parseInt(e.attr("size"),10);var n=e.val().length;n>0&&(n>=t?e.attr("size",n+1):e.attr("size",n))}))}n.onChange=function(){n.field&&(n.field.isDirtyLocally=true);d();a=n.model===o?[]:n.validate(n.model,n.context);n.errorState=false;if(a.then)a.then((function(e){if(e.length){n.errorState=e.some((function(e){return"error"===e.type}));f(e)}}));else if(a.length){n.errorState=a.some((function(e){return"error"===e.type}));f(a)}};n.editName=function(){var e;null===(e=i.a.element("#column-".concat(n.inputId)))||void 0===e?void 0:e.focus()};n.onFocus=function(){n.hasFocus=true;n.focusCallback&&n.focusCallback(o,n.model,n.inputId);o=i.a.copy(n.model)};n.onBlur=function(e,t){d();if(n.errorState){n.model=i.a.copy(o);n.onChange()}else{n.modifiedCallback&&o!==n.model&&n.modifiedCallback(o,n.model);o=i.a.copy(n.model)}(t&&n.focusCallback||e&&void 0!==e.relatedTarget&&n.focusCallback)&&n.focusCallback(null)};n.onKeyDown=function(e){e.stopPropagation();switch(e.which){case 27:n.model=i.a.copy(o);n.onChange();case 9:case 13:setTimeout((function(){r.find("input").blur()}),0);break;default:}}}}}])},aNYv:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cpn1");function i(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}var a=n("TJjZ");var o=n("IoK0");function s(e,t){return Object(r["a"])(e)||i(e,t)||Object(a["a"])(e,t)||Object(o["a"])()}},aPTL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=n("yB4Y"),a=n("CTLX"),o=n("0/MV"),s=n("jwTT"),l=n("SbEb"),c=n("S1Uc"),u=function(){function e(t){var n=t.fields=t.fields||[];t.status=void 0!==t.status?t.status:e.Statuses.add,this.data=t,this.fields=n}return e.CreateTargetTableModel=function(t){var n=new e(t);return n},e.findSourceTableByRef=function(e,t){return r.find(e,(function(e){return e.id===t}))},e.findFieldByRef=function(e,t){for(var n,i=0;i<e.length&&!(n=r.find(e[i].fields,(function(e){return e.id===t})));i++);return n},e.getSourceFields=function(t,n){var r=[];return t.forEach((function(t){n.forEach((function(n){var i=new e(n),a=i.getField(t);a&&r.push({field:a,sourceQuery:n})}))})),r},e.findTransformRelatedFields=function(t,n){var r=[];return n.forEach((function(n){var i=n.field,a=new e(n.sourceQuery),o=a.getTransformRelatedFields(i,t,!1);if(o.length>0)r.push.apply(r,o);else if(i.sourceFieldRefs){var s=e.getSourceFields(i.sourceFieldRefs,n.sourceQuery.sourceQueries),l=e.findTransformRelatedFields(t,s);if(l.length>0){var c=a.findReferencingField(l);c&&r.push(c)}}})),r},e.setTableRefsRecursively=function(t,n){n.sourceQueries?n.sourceQueries.forEach((function(n){e.setTableRefsRecursively(t,n)})):t.push(n.tableRef)},e.prototype.getSourceFields=function(t){if(this.data.sourceQueries){var n=this.getField(t),r=new s.QueryField(n),i=r.getSourceFieldReferences();return e.getSourceFields(i,this.data.sourceQueries)}return[]},e.prototype.createTransformField=function(e,t,n){var o={id:a.LoadModelIds.generateUUID(),type:i.DSMTypes.QueryTransformField.name,name:e,transformations:[],classifications:n?[n]:[]};return t&&o.transformations.push(r.clone(t)),this.fields.push(o),this.setUpdateStatus(),o},e.prototype.createField=function(e,t){var n={id:a.LoadModelIds.generateUUID(),type:t,name:e};return this.fields.push(n),this.setUpdateStatus(),new s.QueryField(n)},e.prototype.deleteTransformField=function(e){var t=this.findTransformField(e);c.QueryGenerator.deleteField(this,t),this.setUpdateStatus()},e.prototype.createCalculatedField=function(e,t){var n={id:a.LoadModelIds.generateUUID(),type:i.DSMTypes.QueryExpressionField.name,name:e,expression:t};this.fields.push(n),this.setUpdateStatus()},e.prototype.updateCalculatedField=function(e,t,n){var r=this.findCalculatedField(e);if(!r)throw Error("field not found");r.name=t,r.expression=n,this.setUpdateStatus()},e.prototype.deleteCalculatedField=function(e){var t=this.findCalculatedField(e);c.QueryGenerator.deleteField(this,t),this.setUpdateStatus()},e.prototype.setMarkForDeletion=function(){this.data.status=e.Statuses["delete"],this.data.sourceQueries&&this.data.sourceQueries.forEach((function(t){t.status=e.Statuses["delete"]}))},e.prototype.addFieldTag=function(e,t){var n=this.getField(e);n.tags?n.tags.push(t):n.tags=[t]},e.prototype.removeFieldTag=function(e,t){var n=this.getField(e);n.tags=n.tags?n.tags.filter((function(e){return e!==t})):void 0},e.prototype.setFieldTag=function(e,t){var n=this.getField(e);n.tags=t},e.prototype.isMarkedForDeletion=function(){return this.data.status===e.Statuses["delete"]},e.prototype.isInSynchWithMaster=function(){return this.data.status===e.Statuses.inSynchWithMaster},e.prototype.setUpdateStatus=function(){this.isAdded()||(this.data.status=e.Statuses.update),this.data.sourceQueries&&this.data.sourceQueries.forEach((function(t){t.status!==e.Statuses.add&&(t.status=e.Statuses.update)}))},e.prototype.isConcatenatedTable=function(){return this.data.type===i.DSMTypes.ConcatenationQuery.name||this.data.type===i.DSMTypes.ForcedConcatenationQuery.name},e.prototype.isJoinedTable=function(){return this.data.type===i.DSMTypes.JoinedQuery.name},e.prototype.isQueryTable=function(){return this.data.type===i.DSMTypes.Query.name},e.prototype.isCrossTable=function(){return this.data.type===i.DSMTypes.CrossTableQuery.name},e.prototype.getStatus=function(){return this.data.status},e.prototype.setStatusAdded=function(){this.data.status=e.Statuses.add,this.data.sourceQueries&&this.data.sourceQueries.forEach((function(t){t.status=e.Statuses.add}))},e.prototype.isAdded=function(){return this.data.status===e.Statuses.add},e.prototype.isUpdated=function(){return this.data.status===e.Statuses.update},e.prototype.resetStatus=function(){this.data.status=e.Statuses.inSynchWithMaster,this.data.sourceQueries&&this.data.sourceQueries.forEach((function(t){t.status=e.Statuses.inSynchWithMaster}))},e.prototype.isFieldNameInUse=function(e){return r.find(this.getFields(),(function(t){return t.name===e}))},e.prototype.getFieldByName=function(e){return r.find(this.getFields(),(function(t){return t.name===e}))},e.prototype.generateUniqueFieldName=function(e){for(var t=e,n=0;this.isFieldNameInUse(t);)n++,t=e+"_"+n;return t},e.prototype.isDirty=function(){return!(void 0===this.data.status||this.data.status===e.Statuses.inSynchWithMaster)},e.prototype.rename=function(e){this.data.name=e,this.setUpdateStatus()},e.prototype.getFields=function(){return this.data.fields},e.prototype.getField=function(e){return r.find(this.getFields(),(function(t){return t.id===e}))},e.prototype.updateFieldTransformation=function(e,t,n,r,i){var a=this.getField(t),o=new l.TransformationRecommendationUtil(this,e,i);o.updateTransformation(a,n,r)},e.prototype.deleteFieldTransformations=function(e,t){var n=this,r=this.getField(e),a=new o.LoadModelUtils(this);r.transformations&&(r.transformations.forEach((function(t){if(t.op===i.DSMTypes.Transformations.lookupGeoInfo){var r=a.findCorrespondingTransformedField(e,i.DSMTypes.Transformations.lookupGeoInfo);r&&n.deleteTransformField(r.id)}})),r.transformations=[]),r.classifications=["dimension"]},e.prototype.setFieldSplit=function(e,t,n){this.addTransformation(e,t,i.DSMTypes.Transformations.fieldSplit,n)},e.prototype.setOrdinal=function(e,t){this.addTransformation(e,e,i.DSMTypes.Transformations.defineOrder,t)},e.prototype.setMapping=function(e,t){this.addTransformation(e,e,i.DSMTypes.Transformations.mapValues,t)},e.prototype.setBucketing=function(e,t,n){var r={},a=!0;n&&n.buckets&&(a=!1,r.intervals=n.buckets),n&&n.bucketMethod&&(a=!1,r.method=n.bucketMethod),a&&(r=void 0),this.addTransformation(e,t,i.DSMTypes.Transformations.bucketed,r)},e.prototype.getBucketingAppliesTo=function(e){var t,n=this.getField(e);if(n.transformations){var r=n.transformations.filter((function(e){return e.op===i.DSMTypes.Transformations.bucketed}));if(r&&r.length>0){var a=r[0].appliedTo[0];t=this.getField(a)}}return t},e.prototype.hasOrdinal=function(e){var t=this.getField(e);if(t.transformations){var n=t.transformations.filter((function(e){return e.op===i.DSMTypes.Transformations.defineOrder}));return n.length>0}return!1},e.prototype.setFieldType=function(e,t,n,r,a){var o=this.getField(e);"noclassification"===t?(o.classifications=o.classifications||[],o.classifications=o.classifications.filter((function(e){return"date"!==e&&"timestamp"!==e}))):t&&(o.classifications=[t]),this.addTransformation(e,e,i.DSMTypes.Transformations.interpretValues,{name:t,inputPattern:n,displayPattern:r,sourceFieldType:a})},e.prototype.getSourceQueries=function(){return this.data.sourceQueries||[]},e.prototype.addSourceQuery=function(e){this.data.sourceQueries||(this.data.sourceQueries=[]),this.data.sourceQueries.push(e)},e.prototype.getId=function(){return this.data.id},e.prototype.getType=function(){return this.data.type},e.prototype.getSources=function(){return this.data.sourceQueries},e.prototype.getTableRefs=function(t){if(this.isConcatenatedTable()||this.isCrossTable()||this.isJoinedTable()){if(t&&t.recursive){var n=[];return this.getSourceQueries().forEach((function(t){t.sourceQueries?e.setTableRefsRecursively(n,t):n.push(t.tableRef)})),n}return this.getSourceQueries().map((function(e){return e.tableRef}))}return[this.data.tableRef]},e.prototype.getName=function(){return this.data.name},e.prototype.pruneFieldReferences=function(t){var n=this,r=[];if(this.data.tableRef){var a=e.findSourceTableByRef(t,this.data.tableRef);this.data.fields.forEach((function(t){if(t.fieldRef){var n=a?e.findFieldByRef([a],t.fieldRef):void 0;n&&n.selected||r.push(t)}}))}else this.data.sourceQueries&&(this.data.sourceQueries.forEach((function(n){new e(n).pruneFieldReferences(t)})),this.data.fields.forEach((function(t){if(t.fieldRef||t.sourceFieldRefs){var i=[];t.fieldRef?i.push(t.fieldRef):t.sourceFieldRefs&&(i=t.sourceFieldRefs),i.forEach((function(a){e.findFieldByRef(n.data.sourceQueries,a)||(i.splice(i.indexOf(a),1),0===i.length&&r.push(t))}))}})));r.forEach((function(e){var t=n.data.fields.indexOf(e);n.data.fields.splice(t,1)}));var o=this.data.fields.filter((function(e){return e.type===i.DSMTypes.QueryTransformField.name||e.type===i.DSMTypes.QueryExpressionField.name})).length===this.data.fields.length;o&&this.data.fields.splice(0)},e.prototype.getFieldForSourceField=function(e){for(var t=0;t<this.data.fields.length;t++)for(var n=this.data.fields[t],r=0;n.sourceFieldRefs&&r<n.sourceFieldRefs.length;r++)if(n.sourceFieldRefs[r]===e)return n;return},e.prototype.getGeoRelatedFields=function(e,t){return this.getTransformRelatedFields(e,i.DSMTypes.Transformations.lookupGeoInfo,t)},e.prototype.getTransformRelatedFields=function(t,n,r){var a=[];if(this.fields.forEach((function(e){var r=new s.QueryField(e);e.type===i.DSMTypes.QueryTransformField.name&&r.getTransformation(n,t.id)&&a.push(e)})),0===a.length&&r&&(t.fieldRef||t.sourceFieldRefs)&&this.getSourceQueries()&&this.getSourceQueries().length>0){var o=e.getSourceFields(t.fieldRef?[t.fieldRef]:t.sourceFieldRefs,this.getSourceQueries()),l=e.findTransformRelatedFields(n,o);l.length>0&&(a=l)}return a},e.prototype.wasGeneratedByTransformation=function(t,n,r){var i=new s.QueryField(t),a=!1;if(!n||i.data.type===n){var o=r.some((function(e){return!!i.hasTransformation(e)||void 0}));a=o}if(!a){var l=i.data.sourceFieldRefs;if(!l&&i.data.fieldRef&&(l=[i.data.fieldRef]),l&&l.length>0){var c=e.getSourceFields(l,this.getSourceQueries());a=c.some((function(t){var i=new e(t.sourceQuery);return i.wasGeneratedByTransformation(t.field,n,r)}))}}return a},e.prototype.findReferencingField=function(e){for(var t,n=0;n<this.fields.length;n++){var r=new s.QueryField(this.fields[n]);if(r.references(e)){t=this.fields[n];break}}return t},e.prototype.findTransformField=function(e){return r.find(this.fields,(function(t){return t.id===e&&t.type===i.DSMTypes.QueryTransformField.name}))},e.prototype.findCalculatedField=function(e){return r.find(this.fields,(function(t){return t.id===e&&t.type===i.DSMTypes.QueryExpressionField.name}))},e.prototype._applyInterpretValueTransformation=function(e,t,n){var i=n.inputPattern,a=n.displayPattern,o=n.sourceFieldType,s=n.name;r.isEmpty(r.compact(i))?a&&(t.arguments={targetType:s,displayPattern:a},e.transformations=[t]):(t.arguments={targetType:s,patterns:i},e.transformations=[t],a&&(e.transformations[0].arguments.displayPattern=a),o&&(e.transformations[0].arguments.sourceFieldType=o))},e.prototype.addTransformation=function(e,t,n,r){var a=this.getField(e),o=this.getField(t||e),s={op:n,appliedTo:[o.id],arguments:{}},l=[];switch(a.transformations&&(l=a.transformations.filter((function(e){return e.op!==n}))),n){case i.DSMTypes.Transformations.defineOrder:r&&r.length>0?(s.arguments={orderedValues:r},this.setUpdateStatus(),a.transformations=[s]):a.transformations=[];break;case i.DSMTypes.Transformations.mapValues:r&&r.length>0?(s.arguments={mapping:r},this.setUpdateStatus(),a.transformations=[s]):a.transformations=[];break;case i.DSMTypes.Transformations.bucketed:r?(s.arguments=r,a.transformations=[s]):a.transformations=[];break;case i.DSMTypes.Transformations.interpretValues:"noclassification"===r.name?a.transformations=[]:this._applyInterpretValueTransformation(a,s,r);break;case i.DSMTypes.Transformations.fieldSplit:r?(s.arguments=r,a.transformations=[s]):a.transformations=[]}l.length>0&&(a.transformations=a.transformations.concat(l))},e}();u.Statuses=i.DSMTypes.QueryStatus,t.TargetTableModel=u},aQvt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e}();r.template="{{#each calculatedFields}}\nLOAD *, {{expr}} AS [{{alias}}];\n{{/each}}\n{{#each inject.prefix}}\n{{.}}\n{{/each}}\n{{#if dependencies.keep.enabled}}\nKEEP ([{{dependencies.keep.model.tableName}}])\n{{/if}}\nLOAD {{load-field-list fields}}\nFROM {{load-file-from-lib dataconnectorName databaseName}}\n{{formatSpec}};\n",r.type="load-file",t.LoadFile=r},"ai+P":function(e,t,n){"use strict";var r=n("mWu2");var i=n("6uJb");var a=n("vkLz");var o=n("iE90");function s(){var e;function t(){e.content=[]}function n(t){e.content.push(t)}function r(){e.currentErrorIndex>e.content.length&&(e.currentErrorIndex=e.content.length>0?e.content.length-1:0);i()}function i(){for(var t=0;t<e.content.length;t++)e.content[t].selected=t===e.currentErrorIndex}function a(t){if(e.currentErrorIndex<e.content.length-1){e.currentErrorIndex++;i()}else{e.currentErrorIndex=0;i();t()}}function o(t){if(e.currentErrorIndex>0){e.currentErrorIndex--;i()}else{e.currentErrorIndex=e.content.length>0?e.content.length-1:0;i();t()}}function s(){e.currentErrorIndex=0}function l(){e.currentErrorIndex=e.content.length-1;e.currentErrorIndex<0&&(e.currentErrorIndex=0)}e={content:[],currentErrorIndex:0,_clearErrors:t,_addError:n,_errorsUpdated:r,selectFirstError:s,selectLastError:l,selectNextError:a,selectPreviousError:o};return e}var l={createQScriptTabErrorModel:s};function c(e,t){var n;function r(e){return e?2:1}var i;var a={name:e.name,content:e.content,autogenerated:e.autogenerated||false};a.headerSize=r(a.autogenerated);var o=l.createQScriptTabErrorModel();i=t?{name:e.name,content:e.content,autogenerated:e.autogenerated||false}:{name:void 0,content:void 0,autogenerated:void 0};function s(){return a}function c(){n.lineCount=n.content.split("\n").length}function u(e){n.debugLineNbr=e}function d(){if(a.autogenerated)return false;return a.content!==i.content||a.name!==i.name||a.autogenerated!==i.autogenerated}function f(){i={name:a.name,content:a.content,autogenerated:a.autogenerated||false}}function p(e){-1===n.includedFileTabs.indexOf(e)&&n.includedFileTabs.push(e)}n={lineCount:void 0,errors:o,nbrOfSearchHits:0,headerSize:a.headerSize||r(e.autogenerated),type:"qscript",breakpoints:e.breakpoints||{},debugLineNbr:void 0,setCurrentlyRunningLocalLineNbr:u,isModified:d,resetModified:f,toData:s,calculateRowCount:c,readOnly:e.autogenerated,includedFileTabs:[],addIncludedFileTab:p,mode:e.isComplex?"reloadScriptMode":"sense-script"};Object.defineProperty(n,"modified",{get:function e(){return d()},enumerable:true});Object.defineProperty(n,"content",{set:function e(t){a.content=t},get:function e(){return a.content},enumerable:true});Object.defineProperty(n,"name",{set:function e(t){a.name=t},get:function e(){return a.name},enumerable:true});Object.defineProperty(n,"autogenerated",{set:function e(t){a.autogenerated=t;a.headerSize=r(a.autogenerated)},get:function e(){return a.autogenerated},enumerable:true});return n}function u(e){return c(e,true)}function d(){return c({name:"Main",content:""},false)}function f(e){return c({name:e,content:""},false)}var p={createQScriptTabModelFromData:u,createNewQScriptTabModel:f,createTabForEmptyScript:d};var h=n("qIEf");var v=n.n(h);var m=n("sWge");function g(e,t,n){var r=null;var i;if(n)for(i=0;i<n.length;i++)if(n[i][e]===t){r=n[i];break}return r}function b(e,t){var n=[];e&&(n=e.map((function(e){var n=g("key",e.qTag,t);var r={key:e.qTag,current:e.qDisplayString,refSeq:e.qRefSeqNo,setSeq:e.qSetSeqNo,type:e.qIsSystem&&true===e.qIsSystem?"system":e.qIsReserved&&true===e.qIsReserved?"reserved":"user",previous:n&&n.current!==e.qDisplayString?n.current:n?n.previous:null};return r})));return y(n)}function y(e){e.sort((function(e,t){if(e.setSeq<t.setSeq)return 1;if(e.setSeq>t.setSeq)return-1;if(e.refSeq<t.refSeq)return 1;if(e.refSeq>t.refSeq)return-1;return 0}));return e}var w={processVariables:b,updateVariableSorting:y};var S=n("yOLm");var x=n("UO/V");var C={qType:0,qTitle:"",qMsg:"",qButtons:0,qLine:"",qOldLineNr:0,qNewLineNr:0,qPath:"",qHidden:false,qInput:""};var q=v.a.extend({},C,{qResult:0});var E=v.a.extend({},C,{qResult:1});function I(e){return{content:e.qLine}}function k(e,t,n,a){var o;var s;var l;function c(t){var r=new m["a"];if(t.qPath){var i=e.getTabForIncludeFile(t.qPath);i?n.getIncludeFileContent(t.qPath).then((function(e){i.content=e.qContent;r.resolve(t)})):n.getIncludeFileContent(t.qPath).then((function(n){e.createIncludeTabForIncludeFile(t.qPath,n.qContent);r.resolve(t)}),(function(){e.createIncludeTabForIncludeFile(t.qPath,"")}))}else r.resolve(t);return r.promise}function u(){o.idle=false;return g().then(A).then(h).then(c).then((function(t){if("IT_END"===t.qType){o.errorInLastStep=void 0;return g().then((function(){o.idle=true;e.distributeDebugRunInfo(void 0,void 0);e._removeDebugger();return t}))}if("IT_MSGBOX"===t.qType){o.errorInLastStep=t.qMsg;o.idle=true;return t}o.pauseRequested=false;o.errorInLastStep=void 0;o.idle=true;e.distributeDebugRunInfo(t.qNewLineNr,t.qPath);o.nextLine=I(t);return t}))}function d(){o.errorInLastStep=void 0;return g().then(h).then((function(){o.idle=true;e.distributeDebugRunInfo(void 0);e._removeDebugger()}))}function f(){var t=new m["a"];o.idle=false;function n(r){if("IT_END"===r.qType)return d();if("IT_MSGBOX"===r.qType){o.errorInLastStep=r.qMsg;h().then((function(){o.idle=true;t.resolve(r)}))}else{o.errorInLastStep=void 0;e.distributeDebugRunInfo(r.qNewLineNr,r.qPath);if(e.isOnBreakpoint(r.qNewLineNr,r.qOldLineNr)||o.pauseRequested){o.pauseRequested=false;h().then((function(){o.idle=true;o.nextLine=I(r);t.resolve(r)}))}else{o.nextLine=I(r);g().then(A).then(c).then(n)}}return}g().then(A).then(c).then(n);return t.promise}function p(){o.pauseRequested=true}function h(t){return n.getTextMacros().then((function(n){var r=w.processVariables(n.qMacros,e.variables);e.distributeVariableList(r);return t}))}function v(){o.cancelRequested=true;var n=new m["a"];t.cancelReload().then((function(){function t(){o.cancelRequested=false;o.idle=true;e.distributeDebugRunInfo(void 0,void 0);e._removeDebugger();n.resolve()}s?s.then(t,t):t()}),(function(){o.cancelRequested=false}));return n.promise}function g(){return t.interactDone({qRequestId:l,qDef:o.errorInLastStep?E:q}).then((function(e){return e}))}function b(e){var t=[];for(var n in e){var r=e[n];var i=x["a"].translateMessage(r);i.trim()&&t.push(i)}return t}function y(e){return/\$Syn \d+ =/gi.test(e)?S["a"].MESSAGE_TYPE.WARNING:S["a"].MESSAGE_TYPE.DEFAULT}function C(e){var t=e.qErrorString+(e.qLine?": ".concat(e.qLine):"");if("EDC_CIRCULAR_REFERENCE"===e.qErrorDataCode){S["a"].addMessage(S["a"].MESSAGE_TYPE.WARNING,"".concat(i["default"].get("scripteditor.progressindicator.edc_circular_referencesummary"),":"));S["a"].addMessage(S["a"].MESSAGE_TYPE.WARNING,t)}else S["a"].addMessage(S["a"].MESSAGE_TYPE.ERROR,t)}function k(){var e;var n=new m["a"];var i=200;function a(o){var s=o.qProgressData;if(s.qTransientProgress){e&&S["a"].removeMessage(e);e=S["a"].addMessage(S["a"].MESSAGE_TYPE.DEFAULT,s.qTransientProgress)}else if(s.qPersistentProgress){e&&S["a"].removeMessage(e);var c=b(s.qPersistentProgressMessages);for(var u in c){var d=c[u];var f=y(d);S["a"].addMessage(f,d)}e=void 0}if(s.qErrorData&&s.qErrorData.length)for(var p in s.qErrorData){var h=s.qErrorData[p];C(h)}o.qProgressData.qUserInteractionWanted||o.qProgressData.qFinished?n.resolve(o.qProgressData):r["default"].getService("$timeout")((function(){t.getProgress(l).then(a)}),1.3*i)}t.getProgress(l).then(a);return n.promise}function A(){return k().then((function(){return t.enigmaGlobal.getInteract(l)}))}function T(){e.distributeVariableList([]);return e.setScript().then((function(){return t.configureReload(false,true,true)})).then((function(){o.idle=false;o.errorInLastStep=void 0;s=n.doReload({qMode:0,qPartial:false,qDebug:true});l=s.__protocolRequestId;n.setFetchLimit({qLimit:e.debugLimitedLoadEnabled?Number(e.debugLimitedLoadValue):-1}).then(A).then(h).then((function(t){e.distributeDebugRunInfo(t.qNewLineNr,t.qPath);o.nextLine=I(t);"IT_END"===t.qType?d():a&&!e.isOnBreakpoint()?f():o.idle=true}))}))}function D(){alert("Not yet implemented: Go to highlighted row.")}o={idle:false,step:u,runToBreakpoint:f,pause:p,cancel:v,onGotoHighligtedRow:D,errorInLastStep:false,lineContent:void 0,pauseRequested:false,cancelRequested:false};T();return o}var A={createDebugDriver:k};var T=n("e0dV");var D=n("z5ZW");var O="save-done-by-data-load-editor";function L(){D["a"].publish(O)}function M(e){D["a"].subscribe(O,e)}var P={saveDone:L,onSaveDone:M};var N=n("Mj5g");function R(e,t,n,s,l){var c;var u=[];var d;var f=false;var h=n.map(p.createQScriptTabModelFromData);0===h.length&&h.push(p.createTabForEmptyScript());function v(e,t){var n=c.tabs.indexOf(t);var r=o["a"].parse(e).map(p.createQScriptTabModelFromData);if(r.length!==h.length)Array.prototype.splice.apply(c.tabs,[0,c.tabs.length].concat(r));else for(var i in h)r[i].content!==h[i].content&&(h[i]=r[i]);if(n>=0&&c.tabs.length>n)return c.tabs[n];return c.tabs[0]}function m(e){var t=0;var n=1;var r=0;var i=e-t;for(var a=0;a<h.length;a++){var o=h[a].lineCount+h[a].headerSize;if(i<r+o){var s={tabIndex:a,lineNbr:i-r-h[a].headerSize+n,globalLineNbr:i};return s}r+=o}return}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n].qlineIx;var i=m(r);if(i)for(var a=0;a<e.length;a++)i.tabIndex===a&&(e[a].breakpoints[i.lineNbr]={lineNbr:i.lineNbr,enabled:t[n].qEnabled||false})}}function b(){for(var e=0;e<c.tabs.length;e++)if(c.tabs[e].isModified())return true;return f}function y(){u.splice(0,u.length);Array.prototype.push.apply(u,c.tabs);for(var e in c.includeFileTabs)u.push(c.includeFileTabs[e]);return u}function w(){for(var e=0;e<c.tabs.length;e++)c.tabs[e].resetModified();f=false}function x(e){return c.includeFileTabs[e]}function C(e,t){c.includeFileTabs[e]=p.createQScriptTabModelFromData({name:e,content:t});c.includeFileTabs[e].readOnly=true;d.addIncludedFileTab(c.includeFileTabs[e])}function q(e,t){c.currentlyExecutingTab=void 0;c.lastLocation=c.currentLocation;var n=c.tabsAndIncludedFiles;for(var r=0;r<n.length;r++)n[r].setCurrentlyRunningLocalLineNbr(void 0);if(t){var i=x(t);i.setCurrentlyRunningLocalLineNbr(e+1);c.currentlyExecutingTab=i;c.currentLocation={tabIndex:t,lineNbr:e+1,globalLineNbr:e+1}}else if(e){var a=e>=0?m(e):void 0;if(a){h[a.tabIndex].setCurrentlyRunningLocalLineNbr(a.lineNbr);c.currentlyExecutingTab=h[a.tabIndex];c.currentLocation=a;d=h[a.tabIndex]}else{c.currentLocation=void 0;c.currentlyExecutingTab=void 0}}}function E(){if(c.currentlyExecutingTab&&c.currentlyExecutingTab.debugLineNbr){for(var e in c.currentlyExecutingTab.breakpoints){var t=parseInt(e,10);var n=c.currentlyExecutingTab.breakpoints[t].enabled;if(n&&c.currentLocation.lineNbr===t)return true}return false}return false}function I(){return t.checkScriptSyntax().then((function(e){k(e.qErrors);return{clear:function e(){k([])}}}))}function k(e){c.errorCount=e.length;var t;for(t in c.tabs)c.tabs[t].errors._clearErrors();for(t in e){var n=e[t];var r=e[t].qTabIx;r<c.tabs.length&&c.tabs[r].errors._addError(n)}for(t in c.tabs)c.tabs[t].errors._errorsUpdated()}function D(){return h.map((function(e){return e.toData()}))}function O(){var e=o["a"].stringify(D());return t.setScript({qScript:e})}function L(){return M().then(R).then(O)}function M(){var e=[];var n=[];var r=0;var i=c.tabs;function a(e){return{qlineIx:e.lineNbr+r,qEnabled:e.enabled}}for(var o=0;o<i.length;o++){var s=[];i[o].calculateRowCount();for(var l in i[o].breakpoints)s.push(i[o].breakpoints[l]);n=s.map(a);e=e.concat(n);r+=i[o].lineCount+i[o].headerSize}return t.setScriptBreakpoints({qBreakpoints:e})}function R(){return t.setFavoriteVariables({qNames:c._savedFavoriteVariables})}function F(e){return c._savedFavoriteVariables.indexOf(e)>-1}function _(e){var t=c._savedFavoriteVariables.indexOf(e.key);t>-1?c._savedFavoriteVariables.splice(t,1):c._savedFavoriteVariables.push(e.key)}function j(){return M().then(R).then(O).then((function(){return a["a"].saveApp((function(){a["a"].isAutoSaveOn(true)||S["a"].addMessage(S["a"].MESSAGE_TYPE.DEFAULT,i["default"].get("scripteditor.console.appsuccessfullysaved"));P.saveDone()}))}))}function B(){return e.configureReload(true,true,false).then((function(){return e.enigmaGlobal.session.rpc.send({handle:e.enigmaGlobal.session.app.handle,method:"DoReload",params:[]}).then((function(e){if(e.result)return e.result.qReturn;if(e.error)return false;return}))}))}function V(e,t){var n=0;for(var r=0;r<c.tabs.length;r++){var i=c.tabs[r];i.nbrOfSearchHits=e?N["a"].getMaxNumberOfHits(i.content,e,t):0;n+=i.nbrOfSearchHits}return n}function H(){for(var e=0;e<c.tabs.length;e++){var t=c.tabs[e];t.nbrOfSearchHits=0}}function z(){for(var e in h)h[e].calculateRowCount()}function $(n){z();return r["default"].getService("$timeout")((function(){c.debugDriver=A.createDebugDriver(c,e,t,n)}))}function U(e){for(var t in c.tabs)if(h[t].name===e)return true;return false}function G(){var e=i["default"].get("scripteditor.vtabs.newtabname");if(!U(e))return e;var t=2;while(true){var n="".concat(e," ").concat(t);if(!U(n))return n;t++}}function W(e){c.tabs.splice(e,0,p.createNewQScriptTabModel(G()))}function Q(e,t){f=true;c.tabs.splice(t,0,c.tabs.splice(e,1)[0])}function K(e){f=true;c.tabs.splice(c.tabs.indexOf(e),1)}function Y(e){c.tabs.splice(0,c.tabs.length);var t=o["a"].parse(e);var n=t.map(p.createQScriptTabModelFromData);Array.prototype.push.apply(c.tabs,n)}function J(e){c.variables=e}function Z(){c.debugDriver=void 0}function X(){return true}function ee(e,t){t=t||X;var n=e;do{var r=c.tabs.indexOf(n);n=r>=0&&r<c.tabs.length-1?c.tabs[r+1]:c.tabs[0]}while(!t(n)&&n!==e);return n}function te(e,t){t=t||X;var n=e;do{var r=c.tabs.indexOf(n);n=r>0&&r<c.tabs.length?c.tabs[r-1]:c.tabs[c.tabs.length-1]}while(!t(n)&&n!==e);return n}function ne(){if(d)return d;return c.tabs[c.tabs.length-1]}if(s){z();g(h,s)}c={tabs:h,includeFileTabs:{},setScript:O,setAndPersistScript:j,fastSave:L,toData:D,run:B,variables:[],currentLocation:void 0,lastLocation:void 0,errorCount:0,currentlyExecutingTab:void 0,calculateRowCounts:z,distributeDebugRunInfo:q,distributeSyntaxCheckResult:k,distributeVariableList:J,getTabForIncludeFile:x,createIncludeTabForIncludeFile:C,updateFavoriteVariables:_,variableIsFavorite:F,_removeDebugger:Z,_savedFavoriteVariables:l||[],isOnBreakpoint:E,checkScriptSyntax:I,startDebugDriver:$,addNewTab:W,moveTab:Q,removeTab:K,replaceTabsWithRawScript:Y,getNextTab:ee,getPreviousTab:te,debugDriver:void 0,debugLimitedLoadValue:T["a"].register("scriptModel.debugLimitedLoadValue",100),debugLimitedLoadEnabled:T["a"].register("scriptModel.debugLimitedLoadEnabled",false),markGlobalFindings:V,clearGlobalFindings:H,resetModified:w,getTabToFocusAfterDebugExit:ne,overwriteTabsWithRawScript:v};Object.defineProperty(c,"modified",{get:function e(){return b()},enumerable:true});Object.defineProperty(c,"tabsAndIncludedFiles",{get:function e(){return y()},enumerable:true});return c}function F(e,t,n,r,i){var a=o["a"].parse(n);return R(e,t,a,r,i)}var _=t["a"]={createQScriptModelFromRawText:F,createQScriptModelFromTabDataArray:R}},akA2:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("mWu2");var o=n("sWge");var s=n("8wLh");var l=n("n5Vb");var c=n("wIyQ");var u={template:null,controller:["$scope","$element","$timeout",function(e,t,n){var r=this;r.selectionsActivated=function(){};r.selectionsDeactivated=function(){};r.close=function(){i()};function i(){n((function(){e.destroyComponent();t.remove()}));c["a"].off("start.listbox-popover-error",i)}function a(){return n((function(){return t.find(".toolbar-wrapper").outerWidth()}))}e.closeView=function(t){e.onPopoverClose(t);i()};o["a"].all({object:e.getVisualization(),width:a()}).then((function(t){var n=t.object;var a=t.width;n.getSelectionToolbar().then((function(t){e.toolbar=t;e.toolbar.showLock=e.options.showLock;e.toolbar.position={width:a};n.activateSelections()}));n.loaded.then((function(){n.ext.hasError(n)&&c["a"].on("start.listbox-popover-error",i)}));n.selectionsApi.watchActivated((function(){r.selectionsActivated()}));n.selectionsApi.watchDeactivated((function(){r.selectionsDeactivated();i()}));e.closeView=function(t){n.selectionsApi.confirm();e.onPopoverClose(t);i()}}))}]};var d=u;var f=n("B52N");var p='<div\n\tclass="qv-listbox-popover-small-device">\n\t<div class="toolbar-wrapper"\n\t\tqva-include-selection-toolbar\n\t\tcomponent="selectionToolbarComponent"\n\t\ttoolbar="toolbar"\n\t\toptions="options">\n\t</div>\n\t<h1 qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{model.layout.title || model.layout.qListObject.qDimensionInfo.qFallbackTitle}}" class="qvt-visualization-title">{{model.layout.title || model.layout.qListObject.qDimensionInfo.qFallbackTitle}}</h1>\n\t<div class="listbox-wrapper">\n\t\t<qv-object object="object" model="model" options="options"></qv-object>\n\t</div>\n</div>\n';var h=n("6dxF");var v;var m=t["a"]={show:function e(t,n,r,s){var c=Object(o["a"])();var u={$alignToElement:n.$alignToElement,popupPosition:n.position||"bottom",collision:n.collision||"none",qvaOutsideIgnoreFor:n.qvaOutsideIgnoreFor,getVisualization:function e(){return c.promise},model:t,onPopoverClose:this.onPopoverClose,options:{setController:c.resolve,isPopover:true,showLock:n.showLock,search:n.search||{},smallDevice:f["default"].isSmallDevice,direction:n.direction},selectionToolbarComponent:l["a"]};if(v){v.selectionsActivated=function(){};v.selectionsDeactivated=function(){};v.close()}var h=a["default"].getService("$document");var m=h.find("body");var g=i.a.element("<div>");m.append(g);d.template=p;v=g.showComponent(d,u);v.selectionsActivated=function(){"function"===typeof s&&s()};v.selectionsDeactivated=function(){"function"===typeof r&&r();r=null;s=null};return v},showField:function e(t,n,r,i,a,l){var c=this;return s["a"].createTransientField(n,t,i).then((function(e){return o["a"].resolve(c.show(e,r,a,l))}))},showDimension:function e(t,n,r,i,a,o){var l=this;s["a"].createTransientDimension(n,t,i).then((function(e){l.show(e,r,a,o)}))},close:function e(){v&&v.close()},onPopoverClose:function e(){}}},avVS:function(e,t,n){"use strict";var r=n("SOxp");var i=n("MoEg");var a=new i["a"](0,0,0,0);var o=new i["a"](0,0,0,0);var s=r["a"].extend("CubeSlicer",{init:function e(){this.pages=[]},get:function e(t){var n=this;return t.map((function(e){return n.getPage(e)}))},getPage:function e(t){var n;var r;var s=[];var l;for(r=0;r<this.pages.length;r++){n=this.pages[r].qArea;a.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);o.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);l=o.intersection(a,true);s.push({coverage:l?l.clone():new i["a"](0,0,0,0),idx:r});if(n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight)return this._extract(t,this.pages[r])}s.sort((function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height}));if(s[0].coverage.height>0&&s[0].coverage.width>0)return this._extract(t,this.pages[s[0].idx]);return{qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0},qMatrix:[]}},destroy:function e(){this.clear()},isEmpty:function e(){return!this.pages||!this.pages[0]||!this.pages[0].qArea.qHeight||!this.pages[0].qArea.qWidth},clear:function e(){this.pages=[]},store:function e(t){this.pages=t},containsArea:function e(t){var n;for(var r=0;r<this.pages.length;r++){n=this.pages[r].qArea;if(n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight)return true}return false},contains:function e(t){var n=this;if(!this.pages||!this.pages.length)return false;return 0===t.filter((function(e){return!n.containsArea(e)})).length},_extract:function e(t,n){a.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);o.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var r=a.intersection(o,true);if(!r)return{qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0},qMatrix:[]};var i=Math.max(0,t.qTop-n.qArea.qTop);var s=Math.max(0,t.qLeft-n.qArea.qLeft);var l=n.qMatrix.slice(i,i+r.height).map((function(e){return e.slice(s,s+r.width)}));return{qArea:{qTop:r.y,qLeft:r.x,qWidth:r.width,qHeight:r.height},qMatrix:l}}});t["a"]=s},axmM:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o='<div class="qv-color-scheme-display">\n\t<div class="gradient" >\n\t\t<div class="segment" \n\t\t\t ng-class="{\'animate\': animateChange, \'interactive\': allowChange}"\n\t\t\t ng-repeat="color in colors track by $index" \n\t\t\t qva-activate="allowChange && onClick($event, $index)" \n\t\t\t ng-style="segmentStyles[$index]">\n\t\t</div>\n\t\t<div class="marker" ng-class="{\'animate\': animate}" ng-if="allowChange" ng-repeat="limit in lims track by $index" ng-style="{left: getLimitPos(limit)}"></div>\n\t</div>\n</div>';var s=n("4nJ1");var l=n("wIyQ");var c=n("l7Dq");var u=n("gKi2");var d;var f=c["a"].popupComponent;var p=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"];function h(e,t,n,r,i){var o=s["a"].extend({palette:null,glyphPalette:null,useGlyph:false,disableNone:false,defaultColor:"#4477aa",extended:true,dock:"top",actualColor:true},n);o.palette||(o.palette=p);o.glyphPalette||(o.glyphPalette=u["a"].getDefaultGlyphs());function c(e,t,n){n.value=e;i&&i()}function h(){d&&d.close()}l["a"].on("start",h);var v;var m;var g;var b=a["default"].getService("luiPopover");var y=a["default"].getService("$timeout");d=b.showToPosition({template:f.template,controller:f.controller,input:{$palette:o.palette,$glyphPalette:o.glyphPalette,$useGlyph:o.useGlyph,$disableNone:o.disableNone,$defaultColor:o.defaultColor,$inputViewValue:r.value,$extended:o.extended,onColorChange:function e(t,n,i,a){v&&y.cancel(v);m=t?{color:o.actualColor?i:n,icon:a}:o.actualColor?i:n;g=i;v=y((function(){c(m,g,r);v=null}),300)}},x:e,y:t,variant:"inverse",closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:o.dock,autoFocus:false});d.closed.then((function(){l["a"].off("start",h)}))}var v={openColorPicker:h};var m=n("GF7R");var g=n("UV1h");var b=n("CpIe");var y=n("Z9ZH");function w(e,t){var n=[];var r=[];for(var i=0;i<e.length;i++){r=[];0!==i&&t[i-1]?r.push(m["a"].toHex(m["a"].blend(e[i-1],e[i],.5))):r.push(e[i]);0!==i&&i!==e.length-1&&r.push(e[i]);i!==e.length-1&&t[i]?r.push(m["a"].toHex(m["a"].blend(e[i],e[i+1],.5))):r.push(e[i]);n.push(r)}return n}function S(e,t){if(e.top>t/2)return{x:e.left+e.width/2,y:e.top,dock:"top"};return{x:e.left+e.width/2,y:e.top+e.height,dock:"bottom"}}function x(e,t,n){n=n||100;if(!e||e.length!==t-1){var r=[];for(var i=1;i<t;i++)r.push(i/t*n);return r}return e.map((function(e){return e*n}))}function C(e,t){if(!e||!e.length){e=[];for(var n=0;n<t-1;n++)e.push(0)}return e}function q(e,t,n){var r={};if(0===e){r.width=1===t.length?"100%":"".concat(100*n[0],"%");r.left="0%";r.background="linear-gradient(to right, ".concat(t[e][0]," 0%, ").concat(t[e][1]," 100%)")}else if(e===n.length){r.width="".concat(100*(1-n[e-1]),"%");r.left="".concat(100*n[e-1],"%");r.background="linear-gradient(to right, ".concat(t[e][0]," 0%, ").concat(t[e][1]," 100%)")}else{r.width="".concat(100*(n[e]-n[e-1]),"%");r.left="".concat(100*n[e-1],"%");r.background="linear-gradient(to right, ".concat(t[e][0]," 0%, ").concat(t[e][1]," 50%, ").concat(t[e][2]," 100%)")}return r}a["default"].directive("qvColorSchemeDisplay",["$timeout",function(e){return{require:"?colors",template:o,replace:true,scope:{colors:"=",limits:"=",types:"=",allowChange:"=",animateChange:"=?"},link:function t(n){var r=-1;Object.defineProperty(n,"value",{get:function e(){return n.colors[r]},set:function e(t){n.colors[r]=t}});n.getLimitPos=function(e){return"calc(".concat(100*e,"% - 1px)")};n.segmentStyles=[];var a;function o(){a||(a=e((function(){n.typs=C(n.types,n.colors.length);n.lims=x(n.limits,n.colors.length,1);n.cols=w(n.colors,n.typs);n.segmentStyles=n.colors.map((function(e,t){return q(t,n.cols,n.lims)}));a=null})))}n.$watchCollection("limits",(function(){o()}));n.$watchCollection("colors",(function(){o()}));n.$watchCollection("types",(function(){o()}));n.getSegmentSize=function(e){if(0===e)return"".concat(100*n.lims[1],"%");return"".concat(100*(n.lims[e]-n.lims[e-1]),"%")};n.onClick=function(e,t){var a=e.target.getBoundingClientRect();r=t;var o=S(a,i()(window).outerHeight());0===t&&n.typs[0]?o.x=a.left:t===n.colors.length-1&&n.typs[t-1]&&(o.x=a.left+a.width);v.openColorPicker(o.x,o.y,{palette:g["a"].currentPalette,dock:o.dock,disableNone:true},n)}}}}]);var E={getBestPos:S,getLimits:x,getSegmentColors:w,getSegmentStyle:q}},bETz:function(e,t,n){!function(t,r){e.exports=r(n("qIEf"),n("UvZF"))}(window,(function(e,t){return function(e){function t(t){for(var n,i,a=t[0],o=t[1],s=0,c=[];s<a.length;s++)i=a[s],r[i]&&c.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(l&&l(t);c.length;)c.shift()()}var n={},r={11:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({0:"help",1:"help1",2:"help10",3:"help11",4:"help3",5:"help4",6:"help5",7:"help6",8:"help7",9:"help8",10:"help9"}[e]||e)+"-"+{0:"afa26c129ec09d1f612e",1:"75f156e5a54ad35dccd4",2:"5399d425ba2f6edfbe31",3:"0ebbf0c0b7b88cbe94c7",4:"6f425d209d7f2c480f3c",5:"b370e1eb55e55bbbe30e",6:"e86063fbba2400274e36",7:"03494b0f06a71063bb81",8:"8218b1ec31123fe40251",9:"f6c087af682b82194d92",10:"93f470a8bc9c2cddd216"}[e]+".js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",l.type=i,l.request=a,n[1](l)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var a=window.webpackJsonpsensei_codearea=window.webpackJsonpsensei_codearea||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=o;return i(i.s=18)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){var r=n(3);e.exports=r.decompressFromBase64("N4KABGBEA2CGB2BzArrRBTAzpAXGA2iAJCQAm6AtACICikANMZOvBQKoDKDTWFNXjEgDMAThQBiAJW4kAlgBcKASQAqMyACtYFAFIAFdfGgUAcgBl1AB0UAhaYMgjkFSW3WYAbhQ50HALwALCgBhE0hwMABdRghIS1gRWABbdHl0EUlkaHQTZKxcMFASAEEAY1KsTCV4IQB7AsgyiswqmvqHYuhZWExxWXRoUlyUhs7u3v7B4fR1Yvhm+VqRJVJR+axF5dWO9cxN6bWFpYOd2vgATyTa5ExJWAB3FXQAD3k1s8vr24en19mLjjyESyJBrc6A4GgnbgoEgxAAeREc3BlwARrVoGCIXDEciOGiMbN5LDUcg0n0Bqs8I1icDSeTJtsmMFaklLLVMAp0H1sgdqTycnl1Cz4PB0KV5NjQdSRWKJVLEMKboskrLxZLYdKoMFlay1fLNYqHFRYPJYBTBg0TWaLUySFQqAB9W1mWR7Bout1vY1OvlQE5MB2OkzIFLA0qutKJTHUkNh2QRrnR9RBgCKqC6Qn6QyF1PTsEz2YD9qd6dqaVIKxY8lkWfSDTLFar8BrdZEKdLyHL6FICobXYrfZ9joAagXkOgaM9LCJKrIzg0x9AJ1OZ3OF8PcjWPJPp7OWvP4A0t7Id6v95yN4GnTpaiDgnAbjNqbf74/MDNhyzl0l4A/YE+2AyhioZ/u++TDuIIh6uBHrQaqsHDgA6gE6ToP+T4NChaEYR+KboFm8AKIetrnuuR7UlQBEgsRZykXu5H4YRtHwLafqQFRzE1nRjLFhx1FEdx8AAOLQcglhsXkQFQJxNFCaJ1wSbxUlMXJh4KeJ7GyYJ6liZYfHaSxWkCUZQrGiZQl6AkeRRsZXGHlZiQpLZZmBhZDnWc56RLhOVruWcjk2d546fm51gBFQtZCH54WRUI0XmcCO6eu6lHpKe3KMq67oOGRB4LtSeWXkeDg2D0CZFYeDRlZypSVVeJC2h6jLqClbz8llXqtZ1ey2oigIJM1lLZfIfUiAN7YOJJIwdZSfHTeg/Vmu2s1THkS2DVNvGhqi9arUMO31lt2Q8lGShpEkkjoJYcAVN+oHNSdsjQGdF1XTdsB3SBv7dSdSxJKaHCWOK53oEkj3cv9gPA6UoPg8d6BXaUSykDY5xpNJkACkjKNoxjv2I+KKMcHC2SumKEM4yIvak+g5OhSQAAS/SJCIpQBOcVHhQ0zPpAk7Oc9d8gBOoSi0CYKhKOISg0NI1JizQEtSzL9hMEoAMYIz6CyIgATtVA6toOgWs63rosa+gSGyKQwsNIbGBWzbIsONUXRitasANPgAA68C+5E6gANLoOcTXUsHoctQ4ZiqLLxRmM6MtmFQQ1rSM0ex5I8fBmwACyNiy8eh2TUwMcqHHCccCokhKCYwkNJGfPQGAQ5MLnsCWGwnJIO3+m5lAvdd3Cvd8e38js2HA+mhPUdMCYtTkCsx4L+gS8OPP5DsRvgrp0wjnVkv1L7y2a97wk1bscf8h8VZwtUV0SRJg0t8RQMsiP1G6gv5fpoBDfv8cGuGzZ8UAX6AOQMA9Q+ZCzpFtJjaBtYWZwPUHcR4Lx9aQFQb8b0TArqcnIC2FQsBURk2IQMBoeDrbViISQumZDMQOBJmybICoRoNCYTddArCuqMM2JDEQANJQw3YXw8QUMhHinUBwZAqJApJHYtI2Rnk+KAiWJlSkV1or7RUaIxkmixg9FTqQAx2AHA0N5P3SA5id4MysWgNh1IiGIDYQ4Ng8AEjnHqhRKAbiPFePUDVBMviRCeIYvlbxkBAmlGCaEtc4T1BjmBMQixM0oCJO6LQg4EQAC+MQoCkDdLORACRyCVngE8Zhpo4QFCKJAMwtRYCkFwvkakQJfII0ROQEQaMGhtNsRwAY6o9CzizM8REZh6G9KcLYziAEXrDOos8KZ7TS4NNIAs0Z4zJmtOmVI1I/idm+RyXkyASQsg1gjvcFGvdLDVLwIQIgRRYikFqKUdhpRgTWHxC2WAzxHT1MaTIWIABrEOVzqbSSKCQAFvYzQXWrAAOjMPCYoKdqSOkdOQTAHyZCNUZAi4oXBqR1kGF0HKxBoVrIGvClsCKqBKCrrXYIahqQFL2CCCUuKsbPUtqhWcCKkKM1lnQak9w+UM0pY0yhBD5AIskPwBWEsGj7ioS2LlMLihklqMJFgfM0gErYCoeEwlFZx3Lg0ACiwMBikSGkdVVK4Vg2rA0DFWKcWCElWUt26AEW1xjiYEVUAQTevtY0qCrIEVSHhLnBoohWShtIOGpItpI2SGjYnGgydY3wUdCSu0eLsidPSGjBFwk01sD0AAHxsAATQaIgPSYBUTnC5QKDSlgS3wkkLQSQ1a63UhRukJtLbiAQFyaOqA8QnKQopdy7I2F+UHKgGKtCCbqVOtpW1WNjIyU4KIJ6zViwdU2tND6pdkBLW1GtXqiVdS1lJoRSyNkHIuQCnYnG+Gs6YVJpTdY99Oa80Jp/fiha2bWS5tnvuu9UqsCqtldK6hyS6G7RjFAFVMrwhEDHYIWIGLkDwCfOszyrQqCvIKA8kgYqeWYYgJEYg47HkTrIGR6kHAPmyC+ecH5fyn0pDVThqAoLzjgtIDOqDvHqzrr47K4I0bc6KxZVAV1WB3Wzoky2IeSAEWcFrvXdFmKVMl3E6yaTVthYCtUIzF1BnsVGZIOpjUp7pORqTmipTNnVPGaSNJqTiLpaZqoES9zbr2wToY7EKdyQxP2ZM9WTTiAEV/ssQDSw7jd5edMwoAIiWkPvsZGl29DmzPZbxIaBoyNvPOrCwJyAeGCMfiI9O6opG3n3NnQAKjzbumjUR6OCCefkljUA2OfMlFxs0PHYstkdNYoFgmwUo2i5ABzvnaWydzvJpV+mQtcpW465zKhig2DMIG2rHm7PLam45mlsrDvHf4NZnb1WmORaSEthz8WcuZOSx3Aru2rvFa+ykkBkAzS0L+x6y7lWWyA9K5CRU1IKvSZ6+F9z+HCNyJI0NijoOkPdYnXRogDGBvMda8N9jnHuOOhMXNyAQmRNLZMat2V8clCEse4ZrlTP9vViugVglQWztPaw2AVHcRiM1NndzpzvOWB5EjcpVJkA80Q6l10HozO+fy5MaB6kBZxh/bC314gJOXlk8gCNjjY2qc6j2PGmr9PFuS/E7qVUZw5TXY3TJzgRrc6VtkyYANzLK1Go57Z9VshUT6k985mONh/fwkDzQYPoftuc8h9H5nj7E9B5UCH+EYfPMxdFEMkZshngIvhFQGwwRK3whO9XwvF3o8AGYABMWeA+5/b/npv/2S8SgAGwABZO85+TyoEfve0/h8h00SocMu7pDFtpnwNcqCVoZX3uf5QF8XQABpL+WFQBFh+19i034L5Ts+pe75aHDKyLQRMIr0ISjgSEu0b63zPovjQ79VAP0f0wGf331fw4Hf0/0v231v2aAALBlzhXgRVzirxoEv0rSQhrnNR/wu3n3vwukPVqF4wUANSNXW1zlUDr3EHED72exF3F2nWd2hUj0zx5zW3d3VD7ER3YIlCqgz24PkBH0734M4KgGRgH0UD2Hh37w93byEPEJEMgDEI9woEkOqT4PkNYJk2ELKy4PEJULKwz1dxYJlzWyMO0KkN0OUNUNBCNyJ36yYzN3eVG2+Qm0dGRnIHiAwEdDdFp0dwhUYL/1gLhhZHICsgwErQFGCEsGPXSlKGz1oFfxNSgK4I8KNjAB8J3yCIuhCPQDCPQAiJ5SiOmAJRMA4CUAtXgE5C53/2CJXjyIKOyCKPl3hBoBjQHTBlbUKL7hSCQOKGCAaABjeUh0iO6J9UNXEAAA4GgyQhApjMi98wYcj6iRjii2ATAlBZNaBpiiJ3Db0Vj5dxiAB2GgkXMXV7SFbJY3RjOgxw1jCna3VwsRSBB3BbfwvAKFLGJYCoLPcQLtYIVA4IYoPQVQVnAALWKElkT390JVQPIP3xoDcyF051oIiwl3eMuLsJNwcKGwt3uJcN+UdAGWyE5ReOEyd3eNnSJI4M0IRR8BO2ZROOwxezRMKEpMGQNBMJZ3gA+CuBuCwXQQaBRxqzqwx2I2a2x1nTZRrHmD3RIClI5SBFqHuC5S6x4VnQ/S5RXVnC5QbUUmHS5QCFgA8DUNnUHREH1Mhw0DvCPAJyuNNxxMt0p1cIGR4IahBVeNEwCJdKEizx8GZSUET2gKg29MPBUHOGBgJWCH+PAMrSBL0BjkBMhLCGwKFOZIYPRLtOxPN0dIeIJNUW1NJIZy9L4V9KNXlU3wlgLxTJRMnRZI+PzK4RpKSyVzB2yC5QbKEOfU5AZGB23WyEN1OOFMdHRwa0x3FLJxx1VL2BwBwAAF4wAAAKMAdrMAX2MAStMAPNMAAASkKDAHoE3MZFFx3JVPERUJhjABnNnKXKXPkFeHXLAAAEcPBSAdyTzbTMTrjnkHS8TxsCSnFfCPSlsnEs9Ds9Ngt09Z0QKiZ4BGtbtihhIIjXMOAkKAtGTRcatziAinF4trEgcbEBjftXIoMnFbRAddcoAVdiKSBSLGRYcAQdCoAzREABymS6CRTRyxT4AWtyN1Sd0uoPzicsynCrd8S/k3FmLAKyS3jWSoMJK0As81iwKgySB5LEAXSzg4KXMAtULk4r9ztUy6CsKKSSK0BcKkN8L2IUtVdTLEAyKssFc5pLEqL0saK0B7LzM4c7kmK0BWKMKmMOKewxzuKJSoMpy3hBL7CbifznC/y/kbBkB4ojomM/DPSTKSAEqkqRANly8EUbA2AqDC4UzIdMqhB0gcqxlrBDxqgPkvcCxfUTBgh5VNtDsLBqQOVZxpMCwuVSryqy9KqfSzRshaTWrUCqBiga0ULGZ4Q2BJAULihxBy45YoA9gCx0ACBYAhAoxIgwBkhrgWwCAFzSBYBzhMAHyAggFMBtyA4az6CosakMShLorszfyqdSMpKiz0qOJCCzhFToA6UqyIKb8oMpwFBSMRQ/qAaGgXgFAwAXkuVwbfroJ/rBUlATsGgqNsgwAAB6MAfDGsBhWdRGlsZG7TJWNq5dAIHlHGvGlsZ6e1WoSwCG0m5FeEAwaswctM+6r64myG89TG9a3G/G+m2wp678l62KqnJ4j68k2SxqJYZmjESNLtFSyAUG0aBWpGpWmgffCg345apE4G+WkQFQH6kmpWquGgdmoGnFW64yuWz4kQGgT6AIRW6ACIpYU2t2hFdJXLSxZGfG5KqDJ4r2rW/689F4GcAARlbU9rNr5rCWKjb2hr3GTuGLju9q8RbxTpnGztusCsayi3HN4qgzEIKSEi5VWpu2wEiqxOepEqdIJOdvZhlpko+KeObtdrDoRRoD6MZgrNVo7pdoFBcxOxjirkHqWE7sihEDpSUEkHHsU0Nt/yHpnkpB8h9X82ThHHjjYEzQZSXuv1ts5qMrrNnVXoilkFnvPQ8E2nPqnuHp5R7sTqqmpFvouwvq8WfriWKgaHftjqdsfvXpCm/ovFfqgH/tFqivFobtzL+SUAShSqAoCIQbdsrRoFgtQe7qllVqwfNvdpoGgA/DwchpUCFWTJtou0IeIaEEzrMB8BweKtnWofQm7szR8FVowcrFobYZMA30VnpWoI5rYtRPTIdpIdJvPTLpYi5RYYke1pfoKlEM0pkfzuHPqyCq4p4raygyrq9xrpF0JzFsGwltErisJJkVbrSodsUTQa4dsbDvQeeAUAcfwdpLYBsE4dgtcb5r4Y4A8fQb4crX8c8aYZBucfkF5uRqcZcfuLsYiaePiZcZkUzt1sPoMsh3Vp8dJpCfQrOLPuDJSewfFkln8wNpspIGyYtpkTkXYle3xxPtw3UdFKaxConNnT0ekwMdo0zPrruMludPuAUBbsLNlvrKGfHi7vweCYmfZi4e9vf1UGCCszCcqdmYCHmd4cCyQiWf7oEeCZ2ZUGWdVo4HWdmXOW9toHEGKDYDMHSeFxEdrLEfGeGamYTp/vAeYEUZtMabRw0cLre2Lp0ZIFvuXDfnJV0c0O6d60/PtNMcbr+SoGgksGdEg3dOkusY+KRcZttCzyoDTSrS3o3yJf0oef8tPueaJuRdxZpIouXou2xaUkpFAr9qVyPtC1ON6Zgf6bMbeuRZmyQysaW0ZesTxYJZDyOxOwlfu1JeRN+burewCJFaQxZe+zZYMqgbru5fJwGYJK1xSAFdoSFYCP1fQFFZpPlRMGKHk2lalbuxOxQp0zrlVtNesVNcS0BvpcMtEe5odtdZVabNZZB2suoswTlxSDdfDZ9WbJBwxFIAqbDYK0jf5xjeTupDFHuD8seugZMdgbEsdFNdRcpFMSQYxaW1NZpc5LlUVmtdQJJd0o3ydfAq9chwrb0SjY9bycwoKZIDbeZcDbVeDaItcsTbyFtHdbpbjYTb7cGAncV3QDTagAzaza5dzZ5YRcdDvL3XRc+odoFDDOBmCd0WyAPejf33ucguDp5VPZc330HuvfDJ9UEfvZPcfbyqliEcoc6NfYjMZhUFzgppbfPofcPYbP3bfdTBHERPZe/bNcfaPbUXA4jMg7vdWbnTg4jPhHhH3wA5fYw59R0A4EDOEfJZ9cVYzNheEvXbgYMwfiflGbbuA+yHvnfiTDpX3vIKWuSK/eGJ5RY4/nSFpNf2jPK0NI5ceYVaWwFH47Y8VVKZVkrTLgrhznzllkU8zmzirhrjrmCZrQlmKH30dFk2RQocULE5R1XdJzzfMfQFqEQboNSqk55XnhoDs4RRMHhHQfhE/a9btrrOza1bXZ1d5dcO5MdDgBQxLYc+Qa+oFAmRQ3c8851vjI2IoNaILgdARMU6O3Ya7a5vI8KAC6/KC9xN1b+VQkaSDp3bGaY+NnQEq+WEwARSFVRTU+/y/b8+eaK7hes6p1nGRmpmNdi55SpkrCa/lVk27W498/lftuADFwLuCu0YIFnRKlnRDUh3gDAG9WhaMZzas+o/zbC8fIHAglLd3fbp5UbB9Q84aG5KfNO6i4LXQGu4RVTDYHhHLkF3u5O+7Ce/Q9e9zg4FTAGMwEfO9aed9fm8s9uOC43dbPQG8Ki+q8Y6vZPaQyUCa/tdQPa6A6g3pkuRRiRVrlQP9QezQ8iKu0x4aLNeIUx99VlaNvQ/i4GBp+u5p5c7c9u5I/ya65h5ipC4JLEWgGgCVOR/mzLZNYGCqTOALHhGBhEE2GF9F/uCa9+LMGRSQkZ9/yujgCEjl4V82AWQqCxRfwm4RPJ469m/8/5/hZo9RAUG5O3Yl4u9nRsAUHl71WOHLHfZUA84vaZ/d/kE99tSWDmFIF9+KD4dVqD5D9NCWERF95VrQ9j4V/j5EH3yWF9/32T6t4k7m+66o7h5o+eCSEJui8l+G5/Z9Rw8A5g94+r9PwA7KNznjNO3r9q5vdr44AM7y4pah8L76eL/zcjq6FKAUCG4dqoiSl3BugTAUGaR7tAITNUFVun4ykrZu3Y5rhHHb4yaJvSh3HVjn/H/kEX6UFb5X4D9/3X7PGnDH4X/AkrVv9XmYXn7P/AkSwQoleEm1/E9I8h4Fd5uQ5Ecpo1abLccc5AeyA1GECMhwuapKDMxXgHuha6xXA7sP3MY6pagNgfagUiQA4ClkDHTFrOiwE4D8MeAxAAQOdD4Y4iJqeEDYBmp8NdMDA1DjxxIG2cdU8gMgbBThBUDxANA0tDQGNQ0AVADAtYvSjrgsDVaWAzgXoAxDnBEAZwYINWHSDUD5ggg4QSoD0D14a0wkRPP8QlhFU2BUGLAdUA8DDJagGgdUFgOcghI1BtAoQbXBHB6A00OgCfHQPkzVx+0xgkgFgPbigo5BIIeQPYI0G5xiggcK2vCFrjX8LsWAiwVYIlAhC6BLg+EG4IZJoc4h0EBIfIBsGpA7B/A9QckNcHuChBngyQN4Lx6+DbOV0UgMgAqC5CgQ5wJIUIPlRUA2A/xDwSIPKHSDbOxQRAA2gaH5CBBdAhCmWk6FeCehP1fGiOHSBpA/kBQhwfCFkxKVd+kgcuKwJm758belHIfqV0F5/IBk/MZ2Odxq7Bl6ubMAIL6V7qSBjmaHQ4RcKzxMozAbALYncPOHsws8OtYIM8NeF58ABknL0u8MuG0t52G0FaFAE6z8UUBnLHYdqz2EbsZ66oSfliydCIiJQ6YdIDCCrb0oJueed7rLAqEd8oMQYCOEhEWzP8nQ90X8De3pSbYyiUJeTISlmpjURBxQNGn3zI4XEQB/zJbqFVgGUhuskOBHoKNnRalEepQWCKgJ66HdzGVECUefGREH9oB8APFsnjMDFByyRLBtihSua1xVAAZUzkSJIAVUewTiEaF/2EgmpoO+/Ykf5HgByJUg6QJrq/izieDZYf/BGnaPbRNcy0M1PQB6M64D9uRLTIum0xLokAkBIoqDK9kdEiBkBspZXHAKjFyk7RjoBNjDXZRIADMyorlDGKjCOgegnIFisjilFF94RNHYIAWHL4o9rGOOSsSL29qAkNePWaIPl3exVi5EI0OGKA0YjUh6mAlGEcYzpwxcVuUGbCPAERBuJsgLQCqgKnIaVo1iDrLgATm7aUsxxqECcSICnGVBZx56ccZOKMA7j+qPY+JJqzQGw9yx+bMwKkEn445rxMeRFCdjUAri2xARe8Vnl9qDsCgQgAsB+EhzviaSS6H8UQ3QBnjpRGAqnO73cQhJbxbvWuBqLrQvj++QAt3iCA8RZ5+SfwakFBPQkWsfgApMCWWJzL5s0RmwFtEQOkg44cRE+LtIhMMarioeRNK+uqCWBYit+mEjBKRNYkYT8JfwQibsOImyi3QShJERRPDEcQGUXeCfC2IYlADB+cIwSVTinDigyQDMGsZROYbwlgghqOgEhM5EBFlJpQVSVnjmA8kvgHE8rCZgQCkAQ0/EhSa9VcL1IOQLAWbGJOBZ3pnJ5SANlW1Zo+ATAtrXSfRNfFfUnJH4LybQlVa9k8AwEj8HZJd6y0ccg8buOpRpJhCq0TbGScFIdpJS4QbURymnEWjjRlo26AUQgJIA5SkAWeCqYgBHg/ZUsQoOKegMvHmMQwIvYoJgA3qwSoMrU6AO1I3rM4cAJgW5uqI4A71nhgU2jLJKWw9S+pIUH4qCKKmDRqQkI0qdCLHS29eurhGaZgB6ldSSA20nqQNKGka9CUx0iwHpMAHTSsgvUnaddPmlOUUgYIhoCtNJQDj1psIkropNcIIIhA5Ek4TJRxw/S2JXuN7mwFZziA6Jk0rKR8SBn3SCpT05aeFQs4fSmpX0gkm4hO765fpe0yABjIzC1hgZzmNYu93BmQyogU0gInjKxmEy/MC0iaM9KRmNSLxaMv5FdE/QV9d2OONmRhNaKZTkJ5bMGDxLQRYSVqZWJmQLw3YDJnew4yvqOMqapArhz4oKfzMBEPjaUn4qKZuV/HoBIcUsoWdgm/HazxZdvfNhwGyDXQcZZs9ANdF9InYrafM/SV9Stk2zAJ3zdhObMsCfC3ZjUxzuJI4CPloAvpVMOdOVmOybGAckydyQuC8lvgwsjBGD2gBuErJsFZGUOOZkOS8ywcqkZUUtkBzs5mAIOWYGM55xSiDsy6Q9Q2kyiqcwPO5khnF4yzOZlJAOdYgLk0ka52PZcaHPLkUc05Esmju3Mfb1zfZ7k/2dAFPatyq27cmtHoAewXSARPc/bunLK6ElipbkuWRbmWilkNRUBOeXN0pKbyaSXlJALiABAEhUMkAawoqGNmbT/yiQCoDjJUB3zGyVbauH0QmnkzoZUFJ+frIFLRSjZg4xeX3PzZuIUsOMkBR3EUomA0pZc+eQ7XAWeyQRD0kHC9JslvTRc9GCIK2NiApZbkWoWpEjiUYk4a5N8g4cHNpx9F4QguFmQWORj1zUUVAZAhLEZhUKM5fyYoKQFIAIEWwAQOhSahIUFiMA5Cu5vwoLDSy4yZgGtJsStoIVTs1C4oJYBujnAcinhNSVAHEU1poFVc1wvIsUW9xyFZRUztQvKhrc6CEJKPiIrNAmLYgZikwIu2alU5TQCANOkxhsBLNGBS9ahQ73Hj7VpZgJYEq1SUCglZFrCozh3AUD64/Aqi5bDQHZFaKCSyg+mjVmWZKA28X3FQI6Gtr2LXCwQKmqko2COhLAtOZJakv4DpKqAPnahTktkB5K9gmKezrEGKVpKjOjMFJfwqqU1Lgh7MapUUpaX0oJ6cSv5F0qlI9KlATg/hV0pBAeAelBtahezCMwNKRpLC5efKJaBFKY4CmeMhCX1ptEIJ2SroNWD0B686gAiIpdGlcWGKQlT6B3lYu1DRo9AOkyQFa3kxtLWQlgVSSIGLCxBxqenPOAXDTQQzrh/Ck0OcDjC7QRA8IIQDWnOG04aAu/C5cvJoA7gblWMVzGNL3rLCtsuyoXoyA3osh8atOaWHw0TxCCKlISvoLBXhBigIVtORmISkZhR1B8AABn4WMwegAQBlcypqy1xGFZDJZfsMdDVAuFwseudENlhjT+F1QKMKC1pwH0daHikJZjwNk1ZnhVrSQEhBoA0AIh0fAZf8nwwJAkI1s4FFw1pxhCjmKzLFX8jHgjMmMPK81VkoJJCrjhdBe5ZIBNTLMNR/CvQBAgwA5K76dBAPKsJUBGpkUTYyWM8p1UigdwivU2vUlKAFgVA78KJbJj5UbtaFpyjgHatmUcgnVXyiEsEuXnWgol41cuAAGIgVp6MtTVm+Xlq/pdBb5QIxrXGqq1E1GOMJD/Y98RwumGtV0F1iSgjSJpOtRNSeX5r+VwKz5TJCHW/LZY3nEmWsKMH2rEWJ1UFekAhX5hFeVXCdZNUOxrCa1E0aWfShHBArTwtOKgEsLzgKZh1QK15KGAvjEUvlZ6lqq/jIZXqjJ0mF+CeofUKZJYKgdGjqpaw3rCECgNslWrBmAdqFVADMDCv4VRLku0G6cASqOwpqaOP41EPXOubpCLVzoT6NLOub0MR1G7XDRwxqziA+l8q5eSRoPoErXMtcWgBsOoW2hqg5AQgUxiJZor8NNHW0J1OI1jKdVhKw9dxrmoqAP8kgQOMWvY35s+gIgPYGSJEDApC1BK1mjMrJWi8lgBK5AoiWoVCArgdoWIFID6L8KoIn0AlYet438amMJqI1DYDSEqAiW/CzgfCFRDZCmoNWYSLnDI38rXNagGrLSozVR028UxHVayswDsr/NNKulW3gACsg+FlWysi3RbvNM1JTcvMZhAIZVfDCahKu4onU0t3yo1GGvE3mNmsJ1U2gmvSyxAaNOtTLUxrS0qqNR6qzVZlrMB6qRABq9AMChq1rE6tGqwOEajE2NbmtrW4FKbXk1cqoFieZ9TqsFW/Uc1BsMbUwqrhV481mWx1ZgGG2no0ttq3rUtsm3wBHVa2u1KNtnVLVMta6z+IdrBlzq1hi2rAphuqCnb0g+2qJaKskBjSy1O2qVQWErVMZa49WwOJlsG1pbftW2m7QuoFXwBBtj2tLTWkBU7aoVfq8rSYGh0ajgdBWqnNUDh0m1agI277RwDOkSrbpIvGVbjrzj464wtOCIVbXdVJb+Vwca6L6vmVQARpQmrtKJu22YaJk0mpYHJvW3KrFY/C68cipDXxx8t/O15PGsTW05kUzbahaLyNBMYpdUdZlTqtl2K7Jd8IdVdTo3b1J7gG6upNXAv787H578SXZ1rVXdbL1OqprdBMG3jq6kpu37VXGR386BthqvdSavCEIk2doO/wegGx10EwhEQkXTqp92laolAemgL9r63B7YAoKQbX7tiBpSQmWnLtdHs9kyJW4/usWPwtzjWwTVtcHSdnpBCqS89OHCErcMw057ngVqmbZAHU3Z6F4Jq4lRUOoVcKQ4jegNDWje0V6zgIcL7f7vG3kMNNISx1U2ptUD6Ld3e7hbbttV+Sh9y8lbaPv73zaJ93u6bTtLvUDwB94Bbde5o3Yra3dNWGfTvvr3cKD9TGANMzpE3fKkN+bEwKkBk3c7TqtODzpIFzikb+FL+t/ZRpqyf6eNmG3/SYDM10EPOSED/UqWf0zzNdNHe0brrx06rdpP+knfAdDDP684Xe0HXGD72xAq8c+/lfCA4W05P8/CzpIQf8Zr5iD/jD8AzsgCQHc4hqT1ekDOTSzgSnq2QLTmBLBA/tOqvQAmHa01Y9Abmz1UkGYPq7+F7IZUvwZM2Ya9AQB2IEduFTarMN92p2inJqzyHHltbfhcodt3qHHdO6nVcobP10Es4ih0HXcFUNMYTDJqYoCOGl0hLzDGAYoB4Dl3GGo+bqrtPKjA32GEAPqpYLOGrFQArDyedxfwocOsN8VNWII3pv9K/rMNYRwzTwWA2WG3DMSyQFAfzZhH56qsVw3XE1WzUjUZRG/eYzCOBwIEiwTkPXKCNhC6N3hpAOgHbjMacjJqao8nudY6qwjDRjPbECqO1xQjPh+oyCFpw9HSi+uto3Ef6M56VRBhZI7kfILgFdMGK3fTRw6NuhkpeK/jDMeaMoE+jdRhAuQCGMpGTAMhnYxgCOOyHAjhx4aYsZOM5Brp6x6WUEaGnyYa4UZEI+0f6NxhYi9xg47kcTwSKbjlK6ALWu6MpGOAEQ0A+8bqMcBQUEhzY6UtoBSGzD/RwEOQCmWRHQTSB8Y1CZQPoncj6wo5m8axMYBsE3x3Eyal1ppGbjFJ7IyCdyP74zjVJhk5EeEihM4jLJ8ha6tZOg6NR7J7zRwC8PJb+TBxkHdQruAHbLDmaFFFQCD1xGBgayUPUMatq90ljGR66PVweOMDcDG7SQLgKGP66dlZho3ezNiB+lE8Wp/uTBR03DYRBYmpHekfMZSzC1GO2nD4BUC2nrhtq/hY6dPQY7HVLppQMJHhX8qSYLFf00GY3bdwwzmakJd3Br3A97TVOMHtQfjMqnzGSZ6WSE1s06rFEzmpjEntGPCRrj2Z9PYaFJNMZDs4ZmjpYtpwVnozy8yxTXrdOUadVTZiejVnxP8KlV5ZuVQXCE0arKz+bbBDYFSA66WANZi/qjtcIKn2zE59A9QtD1YGoA+Wx3a307OJrVqbIcc/JhXN6A5zIS0PRucsCLmrEE50EsSrXMpBQSPe8c4Ac7NjL2zi25vfuYXjZb2zNcA0/OeBDGmlzrgSc/+V/M1mmlAeUlcvKDX5KxC9Spc00vKWdmngtS0gJBasTQXGGmGsC/BdrCAXSl/ydXfOvnNwXghKvXXUGqwtlE7DoF/C46CLGYWq4hJJagmanMUW9g6Qag8RZoupmqcaF4IdLNYvpKK0kB2C/kvEgK9qLKgKOkZ0TwgX+VnFsSxBZEtiWYLLZ/C2JYQtyXHQz7RSxsGUsYX2zaSsS5r1wv7mlL4XJUkRd0uEkAzAlvYGJaos6XSlYly2pSY0tWXKLUYFi2ZfYsMXNLm7VS3xYMvkWvLQl0y3ZaQjiWTAkljdtJfuBJyagclkKwpdQtKWorKl2y1XCjpxWULoOyK5im0vlndLIV/S/Rf/KJXjLOuty8FfMtkWpLxVmy7lfKsOXCrfyLK0xZEBlXUrIVjy0Vc0tRXuLeVx0L5YaszZirgV1q0JtCvhWaOnFqK7JZSujX4rmV/C0lcQs8X0r41wcwteytLW0l+VnCwNcmslWgrVcEK6RcsvyAorNVugstdouyxdr615qyNfasnXurIlkK/1cevDkFFuu16zqrYAfXqDhqfot9aOa05ft/CgHTVkj0ZadVce180xl+0NqobhqxfbEF+0r7qFNujfZAAd3H6EbbWow8je612nQbhq50+DbRoMKy9dZ/lVbEGDV7achNnVSTaYx2n4bmGjHUjagB2nUbISjHbbrtN6GOrfyDHXjY5vXCUd/CjHZDpqygkgLEl/hdLfAtnBEL0trC+pcw3y30LStppQVblsUXCL1B5WzReOs6r1bwQ867EANvpL6rOt/JXddpwW2+regfi8bYovDW7bTS0EtbdqV+A3bpSkK8Bc9unXormt322pYyvUKTbSVnK3QQtvbWNdAdqK3rZ9uHWKr8dyizrCTujWrbztjYGddcsZ2Xrjtvy/yojvvXhLUtra46A9vZ29gUV72zVnoV83+F7C0gBjroWGppqA1w9BdWoMWb5UwkA+uUNaOVWN2nAq6IgC9AhIujBsHzvTpo4INMMDGC+fcWdzWKHQTdgg4fu2PB6V4pyxqnmqtYinLlZwONWkHcTin/VaabfZKz/M8ZoILQVySxvnr9LMNkmiFrEBNQBoXjdm3VOGBpUqwNRyzJ88lpZhHDgTUAFpXHBuGMwa0BcEzr/1TyYbeYrMAWMOdF5IBVt7Qb7UngGvVAbUtOHQFEIHPmNXwyKinZkuoW07Clo2pamNNNXl7Qdkq9IKC1pu87FqzoNYgDe1BicaO14rapLpoCLUXBAjpQDUeXm8PpZaU4EmMe90dxcFLh2IB5wDyJka2h95efPBFAn25c597Aw8uIPvLFTmy/4qEeui3QolNcNtVoPlTSxRH/KyQKbAeMBm/27Dxqg0FnsZH7HLp61m3y9PJBOELp1olH0licPQdAyAGHTSGKw3yGoNjcbTkXH8AijVObcasvrtBqa4+VVR/ytNAkhi99dw1IninWd2tUy66gzcyNRPG/lPm+laFp1UEFinQWkLXMSYylP8nqnSQJU7i1N2inxcepx0/ru2GRFzh2nMdj6KBwo+gWZZvXhvuOgbAt0YFOHzYwXUkj/qwk6DrLN0Eyeht3mZbpJ6bOY0ahqDk1WVMiCJzWhl8sEFnCnppzTGJRxCReXzBTQu93PEPbuce4p7y2Dw5mheUtXyENWWFbvS93ULEV44HnUxh1oH0EnrhUGnsDQ2uYub5G+dlRoCzlOi7BG7aEkDBVUaTsNgGEnC/5UCgaoBFbjQ3nnoGa+OV9TFxqvPaKx6RRDqWjyinCn3f6RLmtuGpfvOcMb0sE7E+spuovsg765l2USCWkuWEsgSJRS5lOg792EugTVXCI5zqqAbG0l1JslBLAKwXGx+4JsVe8ar6ewdV3QWiOSxYjkru+QTSiUWb1ePabl9/Y1qDByqv8GVY5du2UmuVS1bnrdtsiYO6CgcfI5Qtx4UOyjL6euUzq1fs6eg8gPV7EA2fpKuT1CqN9M8l07Oylq18xnG5gvKrE3zofnRm+oLpuA0NFj8yErjd7P5dGbyQHYtjelvnF6zjNz4BjeFua3NATxrm5Is0AgH/KuNz4DrTNvDbHAPu1m7zeW3e3NAeuN28Hfyoyi5pq8TW6HcTu1d8Ib1+Q8Le1BagwKcSO7psd77fk67559HueBvP5M9KcxcHp7DdBkV5BWl64UmN56Rj2nYezR0mP7uGUBiwsys5b2rG4QazhR1hyoLIUwDEK5BD/u/dpotef7oQDqdV7P7v3Hc0Dy3IgOInqFTJ8/VcdfchKepn7/0OepeNFn/9N68MOh8gB/G23G7QE2A5oPdaGDbW9g/Kk7UzUIXBJBZMaS+C05IO5S2F5oYMMvlQM+zqgB5284ktTnQwWoP+8ZD1yWPvHqQMEe7R0e/kqYF8vPAhWjdRPUHbHri43ayfSAMbRU6EE9ainxQ88IY+rrddmGlS+nmrGCYj1emYTLpt07Cq9PyBUT1n663Z+YuOea0G7/ueXDc8unMTITnE+WevuqeJrQbGswF4KedncsxcGs3Kuw+ZX0E+H6k/woS81Z6TxxnVSl/OONBTDciiw8Ac+5gHpZufUHYiFpw58BrmfagzHAiH87ZAoKcnbhx1XAoy+tOCzcZ3VFJkhdRr6hZwO/B69DwsatagvYcDswEg+sEnNUdcfcP82DR69xN5G9TfBjm934ctkm/mM9jUSwj7N8V75sSP3ng0244dN+f9XT9lQHK/LgKvd6p2fb3S+VeAJ11pACN7cqUqbeKxPi1A88Y2IxervW03DwmHw/4nPvK3ji3F9e+H6n3CxlZ194dXvukA+Hs6QD7m8tS7jIP8zayLuaywD7SgXfvD62+YDUgnQKMGfYyj4eWvs1S1id8zQT4DRguSH38m68QJZwLYKkq6RzkuaRBXwn4QiWx80dOBU4CUcgFKTE+RBJLCn/6UTzU/AfrhTgbi3ZJCR65Fm7QfMfuxc/82sgjkJyFoSC/yf9JM78r9x+SgZfPYfD1kee/5tjfP+1L1w4R9U5EPdBBLzKAl8EkkvTGdLyb/MYu/67DA3fq76pzFB0QO4IZ5KYhOW+cfkEuU7CboIMCg10ab364RwHEh7c1z+vCXJj/xLvoyK2kdS4NGs4VAFQmn2pcTWVFDw+ueQKR6NSZK8/ptKhzMa4PB/ljCAPg00/6f2+rfrhI0vI9uVpHPnzfkP9kr8M/OWNWcGI5d4d/zCTX1GGrN66u2FGU/fyUo4r0DcJuB38b7vzw4zdNuS3S/ua3n9Tc5uN/WFmeyP/+TZvF/WFvb4f6Lcn+aLZbmf0f6X/X/R3hJRtzf47dP+H/PgM/y34JIv/i31bpf52+f8NuXbnv49ufbiv5Tuf/kO4juwAWO4KoiJNv7Tu47lnqH6CJGzimcefrnAnuCAC6bgmN/tCboA4fiaY2eiJnn4om6AGiZ5mdFrgF52Znp54bCJAbQG72iZDf4aODzofoGcO7rX5TevyI+43uKepwGreIIG85sai9Df4b0LiExjCBWHOX6H+Ygcu5V+pipaIG0efn0INo/DotTP+BEA8ZW06okY5gBxRiY6fQZjo45L0efnY69qzXiIL+8dJBPic+EPof6cC88Pr7EkFYPh6O65cCvokBjqLbqMwJhjX7Len/n8g+B9fuQqLU86soFbUuugXD60w/gEHTOBEGohUagmjf6v20skzrP+Ybv44B441OUIZ+pRFn5lwufof4aUsFB4iRQfGMVDF+pfp9zxwN/qbRDUg3kwCYAMMN0DQAs9hXJMksQEIA0ClkJ5CxiNyN5S1IwzpwZjOHABM6xGJOOIKywEinwGQA5AukBAmcIAUrhgSavHAJwXaBkr0GrSI+wNBvbCkaTcnhivZQAhnGxqC4zwBQCgsE4AeTnA5wSFB02o4Bd6nBNwWCxXBTwUcifkkADHbYWcdiZT42xgfWgiA8gbEAhukABcFRKpFmELQ0j5I6D/0ZnhZbUgVFlcQfBFdl9ayUvwRY7/BgIWkgXef9LcGwhrmsUCQh0IfDrDYcIStTp2iIRwY1+JOAr76ixHEuw7BViD2YiC9WhQwk4MXj8yL2ENt4Ik4y5odirmrKOtqIh4elHqohIthqIqcfyg0A1o0oUAFL6ZDBKHzqG2CeoTUCoQbRr2QoR7oQ2N2iTi/adpqqFShMocDbda+odSBIQoBuDbda3yiaEyQDIXQ7mqPIXKoNAkhO7pgmjoMlySAMdNSCR0IgDHSIh9CjPqHBHEF7qrUivMdTaO/oPCCOg3nI6ABh6bAyEN21wkFgk4IoRfLLQ9niC65eUYeICOgjdnGEahgeic4/B4DoloNAAQDXrnuBetSDeYmQWaZOhBjIvbqKmiqKG16QJAKqIkKWGmIY27oTnRgMC4BqH+iHjBwFjerYVnpVhHcJ2FlaS5o6Feh3su8F2mYtkWGQAeoXx6umDQOcDnCdnEIAfgGZjvoxhA+tujKuVwNwqKm2YbyFeOvSC+bnAYYTMCIhtcOoaBhZ4fyFMU65maBsg9YS7DmA9ut1oLhzYZAYBkvoJ6wK8d4KQBpinrrprHejoL9pqWkNsuiGqLliN4MhHXjKbUhOgadg1gKQH4DXmXKoGZdoNAGpbP2kADrDcks4IFhKyi9ix6HOeashFMYLHonAnYwYOx6UUPKAOTkRUHOJ4Tcn+EmE0RUHHRF4RK+lmD9kDUu8Fie37vx6LhtEZy58RjEYmKCRIwIiEseRLBPok4EkWjRSRrLjJFRsiLsnDBgnrCrj1A8kcp4BejEcpE8RkkQxHqRAkZpGIhkkdRFHe9EfxHMRQkYvaSRgroGgk4ZkQ5GyRN4e8EQk+uuk5uRj9vZHSRlkTZTWKqTkoD+R5kadhZOdIKpIsRDgOa714lrhCT2hLGklHzqdQLa4iA8UW3C9Gi4d2EzhM4GAD+IuJn4GJA8AMCjFRs4Yvbje+UaAQG03oVVEfMbpBcYmAZUfX5NRvYRyHrwXaF/rP2JOMCGghJqr3SmcKQFgE0BYzhqKoitnvCGWKx1NTAGY5Af6p5wtzBCSY+gaDFKgS7wXxqBhKQlyYzgtQKiAnqw7vKj8AzoKdGnqucJ6H5I6AA2jWymALmizgPYAn51qJ0RqocA50RqqXRi7JtGIh9ttraLhg0biF5mAZhCHUgDaJiEW4pIRfLkh7wfbYohA0diFv0wMXQTghBIeDEAh/ps2wIh7wY0pYW1tGyH14lktAAHk0EAQGBGohlwQkxYAGTHkKzKKBr3B40hagSgGYESFgsMKqAQ2BToMCGR06oD2BsxbwYvZ4xNFvFaExgHMjDUxtMZEaUxyjJLHgG9dvTHZwwIdhqsxQ0b86cxzKAiSMxe9DnR8xIEUNGIhwsekrFKgYcZzExpMfLGWGMsYoQYgFseTGNAisQnDKxLMQWACxMGhrFne2sadi8xEoPzEGxuMYsqBhGwt6GMQSSosqQRYsBNpBoLYEw7dUxGr1E1B1IBFz9+EfmziC4m4duEMhnJoGGSAXscqgHkiAAeRHRLmnnHUgIgAXFFxQzqXFoYFcU2jxh2cYuHxwegLSrVxF6NACWAhpEMatx5cWACFxdcSXHAhPcX3HFxLit3G1xR0YiHMKFNCTiMwOsdSABAlwWACYApoBAgy88AAeQ/gIIC+gl+njioCzUa0XSGQAC8TrJLxK8baiHgG8aGBbx3ZKR7PC57r645+pYYvHLx8gKvFCQl8Y/DckN8VnGXG73q8ZPef8iBIOAQRv4w7Km0cAkpGNhuBTgJuCKCZEBhskAmwJuRuZ5B+MCbsG5Gk/gUbtcaCZgiXGGvNh44JQRv96EmhCSkZzGz7gQnayECbkaUJiCegl0C5gN4KkJsxrXAcBzCc0bsBBZggl/iSCVsa/C7CQI6D+hrhtFUJTAM07Iuy1CTgFRUACHHxIXKoiQEES8H6F5OEiZU5+aAWs2HSJXzM1HdRYiSokFO7TlFqBhWibIm/0t4XNpkMP4TyETmO5r0gvhvjkM4wk0ESDqogPQIjzXh7BrLD/hOkQ0AK884CBHckiQfm4D6WYTmEw6WsiBKIhoCcYn1RsaJaCIhTxl4n/xmKlImxJhUeaT+ICSch4AJmiWkkyJe4J1GMQiIcQk5JqSS4I9hhSaeK4xhJmUkNRBSZknvB5CeD6lJoLnknaJGSdVEOANzophEKXaOkrqqfwfCGquFADroeO1kcd6neCJCG6IxTMcjFgslSUy55mfSZBExK6IUMmK8IydrC9qCybwTV+yqB1ENJQsR87TxEgRd7XRIISFBR0B5KCFVuQIRd52KoIVclgANyYhFr+gYTWitxTQmrHO+rcX8jfJdBDWiMqoVgRHnAC5IyrbkB5M8Bgp25CV5ApAeCCnQpkKdCmvJm/p+wk4HycCFfJKMbEDHBSMVAB/J2KRzZwpYvkvSgp4KUingpsKcCmkpiKWABQplKYiFxuaKUzafJbsSV6/JbKTViAp1KWuG0p9KTCnJexKSMa8p5KXSnIpjKRm47K6Kayn/JOKRymypRKTynUgZKRCliplKYKlKpUACqkUpMKRKl3+i7NKmYpnKT8nAhBKezFcpQqQimip/KVSnwpNKdanip7wS/6smhqXimQAWKeakmpbqWakrIAKZan2pqqTakapdqSKmBpjqYvbf+7yTKmEpkALimzJ+Kcal+pmqe6l8pyKcGkkpoaTqkopLbtyEspRqQqmxp8qTGncpIacqmpp6qc77+pmaWqm6pTqQgHDuUafmkxpcaXPEJpBaSWkZpZaQ6kVptvlWldpYaQyl1pEAYgFuYrqfGnupiaXKmmpk6YqmlpWqeWkCplacmnapNaQyEoWhMUwJJklkjwIV07ZuQxuhbScLBjmvznhoHp5SV6EgSDIdWqLhj4ZkqmJVUJPElhN6TYl8hd6dVHHIEQGQDXQ/XKehUgslEvajYJdA0pmE4hHTbnCbePHpMRL0E6LA2z0JwrTwAQBFoyq8wMhmeYDSsnJWmswfAD3AiQJDFAgCAE0HOStOIsCQxkhKUA5esQCGHSywWqq666ZMeRmYZUsUxjQQjqLTidUtQP76YUHILTgEY8YHGoBGMAGcAYA1Bv2SIAtsDVhBC6QGuDSyQQgkCJApHpHTWStOGQGYiymZjICZYhGaALeTGBVjsg5ArTgSxrwNQYSxTQV0DSyEsYIjWqdBBLEGZAwNAAFp6IPH7fmkAM+RPg1Brxlt+PGaGAB0GxnQS8ZAMI0axA/mdpl+ZoYJgAoGxAK2IkAw3orxAZaSOYYN+dBKmBdAwKCOD9A9wDMJSauyUlkpZTwOzAzOvqXIa5Z4oAECiQMNnQTU28GZMxIZNWB5mDOtWd5nI+oWd5hbuDWd5ghZQWWFmHesQK5lUGmGHRgdBS7OWDSICirRl/ptSLZhW4cWZAA8+rwCwClIFgobykeyWTV5pZ+AZllmJRAFFlmcCETozv2qQDqDfOLYLmZ0Es2afYLZyLLMIjoW2R+mxA5AterSYhvhiBLACwrL7O4AGVNl7ZUAAVlJqz2dQbfgSwL3CMwhWdqB/ZvcDoA3iSSmDnl4MdFDmi8IgJXq3J2oOcDjRTGCaCyaZWaR6iQ1soLr2OP2ZLr2OwQCjm45vapjkE5pOU9Ek5esO3DWoZoOTl6wNQiapGwPyMx7FZ+WZ6k5ZNXnlmlZ8mUMY9gLpqdQA51BlCoi8lsRVlU04YZAAkIn0IlmxAqIGTE/M22TFn6wDyLED45cOapoa5COR3DA5v2fDng5kOdc7Q5zwLDlG5+ueXhI5y2MTknqCQMChk5LmpTn05XAhzmRuhOdbnKq9jvbny6nuY7ke5vajTnVgnsH7kM5/OYfrM5dOZEah5eZoLl/ZYGaLn2xKEFyC040uaUCy5UAPLlKkiuTkggAlxEAA=")},function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":a._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var o=t.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(t){if(null==t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var o=[];return n.forEach((function(t){o.push(e(t))})),a.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return a._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,a,o={},s={},l="",c="",u="",d=2,f=3,p=2,h=[],v=0,m=0;for(a=0;a<e.length;a+=1)if(l=e.charAt(a),Object.prototype.hasOwnProperty.call(o,l)||(o[l]=f++,s[l]=!0),c=u+l,Object.prototype.hasOwnProperty.call(o,c))u=c;else{if(Object.prototype.hasOwnProperty.call(s,u)){if(u.charCodeAt(0)<256){for(r=0;r<p;r++)v<<=1,m==t-1?(m=0,h.push(n(v)),v=0):m++;for(i=u.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}else{for(i=1,r=0;r<p;r++)v=v<<1|i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete s[u]}else for(i=o[u],r=0;r<p;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++),o[c]=f++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(s,u)){if(u.charCodeAt(0)<256){for(r=0;r<p;r++)v<<=1,m==t-1?(m=0,h.push(n(v)),v=0):m++;for(i=u.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}else{for(i=1,r=0;r<p;r++)v=v<<1|i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete s[u]}else for(i=o[u],r=0;r<p;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(i=2,r=0;r<p;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;for(;;){if(v<<=1,m==t-1){h.push(n(v));break}m++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,a,o,s,l,c,u,d=[],f=4,p=4,h=3,v="",m=[],g={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(o=0,l=Math.pow(2,2),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),o|=(s>0?1:0)*c,c<<=1;switch(o){case 0:for(o=0,l=Math.pow(2,8),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),o|=(s>0?1:0)*c,c<<=1;u=e(o);break;case 1:for(o=0,l=Math.pow(2,16),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),o|=(s>0?1:0)*c,c<<=1;u=e(o);break;case 2:return""}for(d[3]=u,a=u,m.push(u);;){if(g.index>t)return"";for(o=0,l=Math.pow(2,h),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),o|=(s>0?1:0)*c,c<<=1;switch(u=o){case 0:for(o=0,l=Math.pow(2,8),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),o|=(s>0?1:0)*c,c<<=1;d[p++]=e(o),u=p-1,f--;break;case 1:for(o=0,l=Math.pow(2,16),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),o|=(s>0?1:0)*c,c<<=1;d[p++]=e(o),u=p-1,f--;break;case 2:return m.join("")}if(0==f&&(f=Math.pow(2,h),h++),d[u])v=d[u];else{if(u!==p)return null;v=a+a.charAt(0)}m.push(v),d[p++]=a+v.charAt(0),a=v,0==--f&&(f=Math.pow(2,h),h++)}}};return a}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(a).concat([i]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){var r,i,a={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=s.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,u=0,d=[],f=n(12);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(y(r.parts[o],t))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(y(r.parts[o],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function v(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertAt.before,n);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return b(t,e.attrs),v(e,t),t}function b(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var o=u++;n=c||(c=g(t)),r=x.bind(null,n,o,!1),i=x.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),v(e,t),t}(t),r=q.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=C.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i];(s=a[o.id]).refs--,r.push(s)}e&&p(h(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var w,S=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function x(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=S(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function C(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function q(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports='<div>\n\t<div ng-show="state.paramInfo" class="qv-param-info"></div>\n\t<div class="qv-bnf-autocomplete-container">\n\t\t<div class="bnf-complete-container">\n\t\t\t<ul class="codearea-bnf-autocomplete-hints">\n\t\t\t\t<li ng-repeat="item in state.hints track by item.text"\n\t\t\t\t    qva-scroll-into-view="{ scroll: state.selectedHint == $index, scrollSelector: \'.codearea-bnf-autocomplete-hints\' }"\n\t\t\t\t    class="codearea-bnf-autocomplete-hint"\n\t\t\t\t    ng-class="{ \'codearea-bnf-autocomplete-hint-active\': state.selectedHint == $index }"\n\t\t\t\t    ng-mouseover="state.selectedHint = $index;"\n\t\t\t\t    qva-activate="state.choose( $index )">\n\n\t\t\t\t\t<div class="codearea-bnf-autocomplete-hint-text">{{item.text}}</div>\n\t\t\t\t\t<div ng-repeat="type in item.types track by $index"\n\t\t\t\t\t     class="codearea-bnf-autocomplete-hint-type {{type.id}}"\n\t\t\t\t\t     q-translation="{{type.key}}"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div ng-if="state.selectedHintHelp.summary" class="hint-help-container">\n\t\t\t<div class="hint-help-content">\n\t\t\t\t<div>{{state.selectedHintHelp.summary}}</div>\n\t\t\t\t<div class="syntax">{{state.selectedHintHelp.syntax}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</div>\n'},function(e,t){e.exports='<div class="qv-bnf-function-tip-container">\n\t<div class=\'qv-bnf-function-tip-view\' ng-show=\'content\'>\n\t\t<div ng-hide="content.paramName">\n\t\t\t<a class="title" target=\'_blank\' href="{{helpBaseUrl}}{{content.doc}}"> {{content.title}} </a>\n\t\t\t<div class="description" ng-hide="content.summary">{{content.title}}</div>\n\t\t\t<div class="description" xng-hide="modeInfo.showParameters">{{content.summary}}</div>\n\t\t\t<div class="title">Syntax</div>\n\t\t\t<div class="syntax" xng-show="modeInfo.showParameters" ng-bind-html="content.highlightedSyntax"></div>\n\t\t</div>\n\t\t<div ng-show="content.paramName">\n\t\t\t<a class="title" target=\'_blank\' href="{{helpBaseUrl}}{{content.doc}}"> {{content.title}} </a>\n\t\t\t<div class="description" xng-hide="modeInfo.showParameters">{{content.summary}}</div>\n\t\t\t<div class="title" xng-show="modeInfo.showParameters">{{content.paramName}}</div>\n\t\t\t<div class="description" xng-show="modeInfo.showParameters">{{content.paramSummary}}</div>\n\t\t\t<div class="title">Syntax</div>\n\t\t\t<div class="syntax" xng-show="modeInfo.showParameters" ng-bind-html="content.highlightedSyntax"></div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){var r=n(3);e.exports=r.decompressFromBase64("FACgVBldO38MUmBKUYAEBFANgSwGsA1PAUwHcMBlAYwCc8AHAF2oE8A7ZgQwA8MBgocJGix4iULBpwyOfIWK4MzADE8OUhgAy3NgHsArswBck8xctWpKjAAVudVgEYzAWTwBnGqRzcOeEaeGAASvoykdBgASoaawdaJltLo9o6sAExmAKK8jHSknp6BHKHhkTFxhUk1FingaU4YAMxmVDzMpAC2pFyV8RgAghwAJtQd3b2sVBE0eABmeDRlOBFRsQO1GPWYDk0ALGYAIngFNKwn3voAbpFsWw/JtnusAKxmdgWL/BvVj/91Z7pDAANjMAGF9Fw6PocONuJ0en1fgkAY8do1WAB2Y6RPC3MbtBGTZFVVForYYinUtFUmn0ym2bK3OhsZgACzwHAA5hgvHzSjh9Nyltw4foooNVuzuAAjUjMUXiugjCrkPAcrkYUjcGjsjCMYGJOkM03WDEASVKEowngmSOYABoDcYMBytEKeYVWDRuJ5qos6Hbbfo3TLWO6DY5ijyMCMoaw7fpGKIMQiw1pA8HZa7POyJZ1g10EXqAHRm822CvV8wYgBCADlVOwuHwa9WTVK4eQJSNgo4tHQye2HiaAOSCCc6DWRMW25gMHnBXo0IX+sZamPczQYACOhn0hfpJpAGAAPhgUAI9lN2YV+cW6AQM/Pgf4xr0xvp5hh/BgAPLRK+iJTEkJoANqCAAugI/4sCUc4jv8JoAN6CAAvgIABakShjaXQSoOpCMBqJTkkhIgmgAPIIAB8AhdhgNocIenI8s6kY0AmoH8vMcQ4PcxbMHqpBflELGsOmYpwrWVbiIMGB8Rw5wlBgHDcD0GBdIY2aZrCQrkKJGCyvc3AYGOIATjaGrBBJv6KQAtOpmniCaGAABoOQAmoIzD6AQvRaSW+rucZroNv+AAqGA+RRqZyXFI5uYlHYJSlqWpIIAD8RIgVwWUiJFd79Fo/Jmd4DAsMBJKsMeCVZZC0KwgVohFVovx8v2GBcU1cJ2sSDp1ZlAgNQmMI4B4IwjJoAC87kFY1C6wtOHBaH6UZNN+HkYEOO40iao29dkoxzS1AiLeNK1aI+BBcryn5MT+oW7VoAIHUpNBnWIbU7VUnX2R9ipQkhB3cNy3J0F9rXFS9/1/mDEOkNyCKqYDqlvfViy+CMUPCD9sNlYpZA4GMzmvRlDTZQ2GmkLj6WjvV0QKpFbARHT9PGvVqr5KQvqdDjeMw39NqeJwPD8Py3NnMSYzvlpeDcuyrDyjt3Q3EZ8XDUkWqRnxzCGAU5YAKr+mpFC/jgnR0Opiq3AKdo6mMYH1f69AKuzGA/T1nR9DrQs7vyrsFJJoxaTprB2SrjCulqNha4kQrcosAxy/kwoFEUcZ4GKwrkRSB1pyMhjnOzWWF8XzAzf6HD+gVNplzCRfnDNu74AQ1xkOQHtWMlVh1vcqrzNwcSSb9Af9tc3AaHKO5+RbcLl+ceeuWl1j/hwAm/owjD4L6sqz6GL3BCA8rzIRcakIsARA6UlkzWOV6SL3HP7avL+v6kVD6JpR/Om3maGGUjfNSNN+wFF/FNIy6YhxcDwC5fOb934IPjkg6kVJIpHH/EcT2WD/yoMZKkAA4tEQYDZsH8gKDvXURl1QciGNobQ9lPS8kVJpMG+hnQ5kkjQHwLAjJnyiJoZGNB7iAlSAUP0UJPDljaqbAc2p9z4jFKBWh+pIxUAVA5UgeQM7FGBihZwmFPChjMs7T+2RIpaJ0YUPRpRfR9BVlxLosouQ0I1PqQYDCMAgBtMQ0hRwUDljQYg/B6IQmhIIbIJQ0SYmxKgGgYAiSolxJSak1A6A0mZMyUCJorgMAeG8L4fwgQdIrDWCVZeFMsnVJSSoGp9SlAJOiNwcgkVtGsBmhgFCVBwSkIbNkaIAB9SK/4ADS2QGyDLcIMSK4IQiDNIV5SKIQLQNkIehAA3MADRbtmDNNae0jAnSspB3dl0npfSBnDLGRMqZMy5kLIbEslZazNnAGGFCNgBEdL7LabwDp5zekNn6UMkZ4zJnTNmfMxZyzVnrK2e8jgbB2iLl5J008FojgTMihaVQFoBnnh0BaSKAzPGDKoJFaIcLCXaGJaS7Qgy8XZG0NglAWzhjIoXHdf8dAOVUC+bKZa6KMCYuxbi/FQELy0pJSQhlFKqVrJpXS2VjL8UssJRc4FVywW3MhQ8mFLzCFssRZy1FPKGyGGcRUYVoqGw4qZZKolMqyXyupVK5VZKmXqvdc6hlDYjZuDrAM41kUZ6kGpppG1WK7XioJT6+l5LKVuqdQmr12D40qv9YG4NWz1DYwjVoKNYqHVKt9YmhVhDS2prVay3NxMRgWqtVETp0qE1ZqDdELZQgpTZ08HmkmBajneJFdG+1Eqq0qtdYqjNnqa2XgRf2htNMeVEmbcO21Y640psnUm6d27Z3MvTSNO8qw8AjBmvsEEAAGAAHFegqY4wATmNe8nAOBF2rqHRgLKJ6SLnsvbe5wD6n0Lo0OGmmX6MWjtjY61tO6K0ToPeql9kIuiMH0MUTo6hNCDs6ah9DmHSDYfAz0F4XSMD4YwzOYjBayNvMo4RmjNMyPCuAIkBoTMxT3FWkZOeOk1pqSWBUQeXJSLAxSIkAA6isklVA7CDHBNkRDfqA0dsJRumDyny3Jrg0h9NbG152FJSMoZdhtBGyoIS/8RmSEmamasizVmbMzMAlMo22gcVmYtL0nF/4GxOeM65o4FoiAWioBaPz54DNWGs4FoZU7CGDPBH5nzUXEixds657Q2QqCWYvBllzQzsu5cGdkLARtPEBcy0M4h2QZlboK3Z2r9WhllYq4w/Lzm7Ntcq51uLgyIqRVK+V3r0XLCNdc1SwhIQhtUBWaoaKfXquDOywt8l83FsAS6655L2g/NJf/Ht/zZ4xsWCoF5O1gx3KDKmzNwZ8nogTI1RdyKV2DtuGmc9y713duRYvOd77pX3Lgm0IMSFEXjvUBe29nFLKlMXlO+YCbpnzNUGG+1qrhX7P+rRz1jrW3+tuHc0NvHmPusjYZaTpbWPgtEHR54xHkhjXscwMyO4mpYxcKh4Dqg2Q3AWgO0dgQAPXvXdW0Nh7T2KP/g+9i7YaAWcYGyFJN9bp/K9GCIAxUcILJjmdPxjcpRixIoNH4HwwQtRYCILaegTBWApESUQRw2d94kcLeu6DJaHIUbGrCSTvZggzrlbuyt3uLp+4D1ptNGAw++5wP7lUwRmeCHD/HyPwrv2/rPRe69N6MgPvBNJCcF5M/hGzwBm9zQC9+lIMX49Zf/25/2A+o4+g6+l9PY329rwH3ZBwP6BY7ef0N5z7ekED7VASiH1nrvN6sQPotPMafI+K83ofQ2dpy/O+j5vQATgfVQQwsot9/tH7v+95kqC0L1M+hF2zebBz5Vy2MJyH9nKLTGktQftN7t0wy6PL6GSDSwByAdSIB4B8AOSmQOQ1iRQqkYQqwFQKI6UOwEBaB6SyS6B6BCSiSKK3KawCIEo2ghA7uHep+AGu+QG5k/8Y4CK2gwoSocEs4fkdADYh4X6w+2+FB+e5kEktBwA9BIovoOATBdAhBvKocnSZB5e16u+Ve5k74/BghjBBBLBPKHBM+Z+ze5kU+Wyyhwhoh4h7kNoUhnB5BshPe5kvAuhiSTMfgN8YoohLBk+b6+g5AwQphmhFB4+5kZ8rh7h/BdhKMUIjhawLBnwvMok1QnhK+sh8+5kPMPgqong/BwAdYGohhLBbBAK0hXeu+a+5kLizAfBWy6RzAmREowwYwMRXBsh++hRGoihpRGRqhEo6hUhuROezgV6F+Y4RRNhZRFRdAxha6nRl63RVBfRGo1hdAqRwAuQPMcBUIjU/UfQwqf+A2qmW6GxCW868xsBtii6TMP46xHq/+c6F4GmJaxqCxuiJQRxl86gvAk+dAQkQ6NEVx46YxII3RPBY4JgE49EIAnxAyZ4Gx7awaGA4Ep4ZhMh3R8hY4kUJ+cJV62hY4DYyJje3RlhY40QmJXRV6PhY4Fo+J4xV68RY4RspJPxt6D6dYz6UECKtxNiJQRs6krIQxQ6p4yO92qOZOrm/OOONKDBBhrRrB7BF4gxYp2RexzJSxHA6R7JbAnJ6KPJZmjm1OdmgpGpBOy2ROHmFoXmPmEO/JQytOYWJpJ21IPJCWB2DYqW/2z+3IQxxBAUaWFI+hoRzBlRocUqIpXpYhahUQfpQhAZRhNoVpFIPJxWeWupWOMZ9O+OPJzWMqppgyKZVyVOcZ5OGOmprmg2iZ7p9IQRDhIhYREoLhBkgeAgJZCEZZkQ4RZwURgejOWwUp3pEhYwkpLRHZ6h3Z5RYpIxaZt2s2G2aZ4u62uK0UgBbJjgbAcptiXJAgdYfoSwqggCKkyx0kRZFggw4MBQyMN865QCJQhequkZlgbg+gRcmgx5m5HAZ5cIF5FgVEC5rJSpnJb5UI9Ez55gX5D5UiPAfQv5kg/5DxP4IFEgYF9axxTxLxbxkF4guuSuBxqkD8Y4rZYggB/5X6s5rIOFKE/5ipc5nJeF85qFUIbyiSK5xQNAZFOFGeNFa5G5N8j5O55gV5N5RGLFp525iFYgr5FFHAZFnJTFNA/5P5mFog/5KxQFrA/F0lQl4F7FoFSlMFjxeAzxEoCFUlIgyFYlOF6FulwggBDQOFqiRgkk+5SMwRpQaMUi8uaRq54lQlX6Yl9FrlhFQlxFHJYpGA7lSp/5VFQBWB2BIVoVEBUBLQbQ9ooEyBVR8IeU0wswCwSwZSSBw4PcYBEVkV4VOVwBOBPafouUNUQ6KERwl8w8lsER3wmEOUsV+U3x3R9RY4RVKRQw+AxVDVeyvQEGKEeuE4bVJVDoTMZMby3anVngw1Uwo1EGnSi6g6TV3RD6fog1k1C1NMCKgwxg+gja8odA01axXSFVQ8I8NVmldVh1zALUsJWJzgkx21fkHAlq+1E4G1PQK6PAUQ/Vjob19aBan1jgmEkEt1XRzgfxJsd0g1SKeBPIjJ1FXIc5V1ZVJ1VVzA51vAl13VN1XhPxzgCJPlbAE4vy7SCKqGDoyNnS5VlVZ1XwF136V1ONsR91aJ5NUwE40JS1OJoaru7VJeoN4xzgRJPNmg1J91FJi6fN9etR91BRY4i6DJw6bNXAkNsYF4ytzAkm7iexQgGtqtaK0t5h91LV+tE4ItbuXaKe38DoWtdCnS5ti1AtPxGQvRtt7I0Npqd0d+DQwwcwoEyWWq4I0U/USVWcpM7BBQii4CiJ/4U4TwqQdYMcpQHI6YvopshkYdak7Bnghg28BYv4PCNiAoZ8QSskqQRU6Yq0LIGAPYT4bidCNA4c383UUIq0S8yECS4ITdXQjUbdzAlNx1NN1VdNmNw69VA0UwBUWUUsvMMsTNMtGQkxXdSYPdrdvMzAYtGQfx4IFmIybgU449SV89RtGQCJvd69D82UuN4NaJkUbeFG3d595wsN3IltAgDQy9fkq9HAfdL9Q6mqIK1y4KdyUKjyzy1KaEAD2qNyEK9y0KTysKiqmyjlutj9a9z9Tp/9b+zAT+qKdBeAsoT9/d3VKNQ96NI9mETVGQOJtK9JDN2NhtcJGQRJRDB919GQFJd9E4xBhD6DxDeD1FIweARDA91Np1w9l89NVDctdYwWE4h9NUx9TDLVrDjDWJzQvRXDQwLESK3yngJN/yCKdYQjxBtwA9TVzQkxFobgdggESJ9DE9jVFjfxtKRA2QU4HyujQQBjzAZNfDGNS5FjCJWCdY4IYtzQaJh22QRwdDbK3imAUTMT/0g8aNfIP47o4C/ILEPuP969ATKQRDII+wojqNtNkjo94ERDGNMECjDoSj6jOJhT+wbDzNzQwt99IjmD4EgwhdRQVoZ88NRDzQGQJTZDGNwNVTI9NTjNajXRzQFJQzGQLTMtzQctWjnTqKUJPT5ung/T+ggzfD5jg94j5D5TEz/jUzDjR9sz4xzQKjfDyzRt+wmjHThzXT2zNiez8NQglMGzd036py11S5IJsGZxP+la3+ABGyKDggH9bzmzr+uyBUeG38BG1GYGtGwIaEDG6LOGzGwIyDEmVtuTGDmznSOyj+MNTpb904vDJL/D/znSuDXtiSY2HzfTHAZ8Q6yF7LuziI5GA1QwvTfL3QmE6FNL3awrFo/L6KvL0r3Qj1+g5NGohKcriIkIqoDg3IWgF4ar3QnFOrQrOz8rXQDgRQtdXZxlEgerXQuWeCurUriIJskQmKqrjr3Q7kZrngFrbrxriI7kzrdArrye1r7rXQgbrrNRTzkxEbRwjzcJ+wfxXgE4FLCozLPIErogNrAb/oQb2CUbCbCJObLrcbNzPx+waJyb1A2D6br9xlNrXrPrBbWJ+wOJjbvY8bLbRJVbqbODVLAj5g2b7bKoGhzN+wFJnrfo3rHbZbzg+wctPbNb/bLLg7YbBro7Mt+wLVBEqonbXRrwvRVbTVrwkx5ADAnQ/Bq7frCrO1yrORTtzgrwfxird7E4p4x7CJV6YtrwaJ34S+cTDQUIm8L71tKr5A60awHcGGm80kbhoknCMc3ILEBQYwRLob17q9mrYMpBD7rwjT15pAWrtes7rw3b7VMJ19rwFJf737ct/gxQ37LVgCSwBHYt16D6+g3Qde4JWx0QIb8kYbdrG7RtPxB+VAsdd+JwZwLBnKjjAKYjaN4zVzijs7IIfxUn69EoRNMQLSfyvjiSlwnTcnpDJzSntTk9qnCJhnDzCKRwMIjAH6JDVNpTEjtVyndTqnaJdnyYb7TVIIOJCtF4D7IIRJktl971WgP1f1+aNMwNfnEtMIXQZtYag6UXnsKXsXGA8NwA3njA5tozpnFD7nFnfnctuXvnwXLV5tY4QX19WImjYaKRV4DtfVgrLXPQVFuQvMxgpABXinRX5nTjD7WIkxXXjdF72jnyejPjC6OAOk7IghfXZTbng3QLs7WIfxqgc3eYghqRLxPgS3rn9Nq39TXRWICJAiPgvnTVWIaJvoJEPA+AAAXrZWLViDiWncR++8N0SbnWsG9xSQZJEG93LV0JpaJM+nscAFaNHMwI58Zw3NeRXC3G3B3BQMi8c/12c8V0N3Vy1TD8YArRgBF10oKxF8g4B7KMYpoJ0AKLaBrloA7toAqId6cytzM01Xeg+szxvRgE7gwBl5pGOPfFCf+dl6y4kvQdwCMKI1LyMBjTyroPKDgFjXJ6d+MTepMXLxzZz+p14IqEAmODBIusQcGOBHL1/AbD4N84ICb/r0Onb3aIuoDd9WT/Wqb3D/Wi7xgONaII7579jN71Id99fZXsBnXoujrX7/WkucpReDhVeJBJz2iatcT+pfMG1TbxIMpR/puqC2WlC8ZeBW1cC57uOpCxcfuiptmvnwmrsfxxb0YHQD4EuY31b6QOTcDH6dL5b836QEzMUKqMBToPoD303z4LkD7Iud3yMJWW4f8/x0IHL3P+qLGJ0ub6PyMOCH4Pxp4Fn8IG333536UOinL4q4Qr0MwYa8v4l8KdL6oIl5HzP1aPgKtJeFCcRvBQiDMLzDBFCXL9v2Hj+g9+mbEQDf2brNsuiN6ALolwnA4ssMGLTasZTl4v9XEwnOEjeiJKoDVoE4bAaQCOAIhuAoA8QHgIIE8AuSOxEPFHhrSL9RA4AroJH0gEa8Eu38RlPWgnC652uWgN3jFyF4oBL2kgM/jtQv6rRAyOHUPnLXP6X8xBE4f8sQMP4+AB+Z6UCC2k35KCh+rADftL0AG78YI4EYjDylVB0B+4+/MQHL3UEqDZ2e+B9BYK4DE17wGg82kr18DECxAtg5gE4LlC+Ah0XA+QZv174T9/kGuVSEwJ+Ln5e8QQmuCUFkGRDDiPFYGMhUgiT9ghUIPYBpGCAwRxWxlZIVEKhB3lgEnSEFrO0oIPpSwuAsvgMlcGCAchtiNIV0A8LDoahJQWgJVE0HmRfqKFKfs0PH6kB8uswLLoSiaFQgAhvQsND/2WC0CRAQwjgC0LtxDpKBFaKoQIGmEjC+hvMHwYLy0BJ8H2u+P4v1U6EpCOA/vYoQiXQgThTBUFWIfcXd729Ok0w53gdS+qk8Oh9wr3o8McA+8lhYgV4YH3eFroQ+zNXfGiSfSDCrheQmPpMOsA/CSYXJaESMGOKgiuhwwp0nHwOG5COAHgXgKJHAqJ9ihOJVPsX0moXCtgcIhEfNXT5fCrAKwlEen3QFYld8RJF+hwMshp9sYCIrIRSGmGYjsRtI0Ic4F3wUluRIwZkdFxJjsj+BCKIQJ/20rf9+hnSZCtKNeKyjeYJrZ4X9VvIyj+6swVUWKwlGtlFRQkcYaqOFTEYWYEQQlMRnBApgLwxGZwU+TT6aAsAB4WnjaLAwVV8AYPK2BaIxb6BsgW0V0ZoHNoWhqyVrJIMRjCDS8XW1ZYjEzC4gqhgx3ozQBrQTEBjRhsoFMQ6KIwaAvRqYq0FbFWjMAjY0QWlNGLAx5jIgBYwNnuSmAJiX05gU0azHdwAiZa+RB9C4nmBL5CUTVXfC1SEadj+auNF2r0W+DUkXakxJWF0BwCjir0fxAAFbGIOA04hEgQEnHTjf2+gXgKuK7FO0XaOJXcNcGFHbjBxhJB9PuN4DTiKSzAf5NOLlqbipxR42Ii7Rap3iRBeIGgKOOWpWFJxVAPgB+MmJ3iqAcCHeMR0hFSiwMVo2PuBMYCDpUxVo18QwBoCgTo+SY6CXNTHqDjwaK1KIR+IRKcckuD42oovTRLFh3xBE8wovRxLGB5gN6D8b92YDzAsQH4ikqLGcSwgPxctZjlxF3ZISRAloxgPBLSqhDF6LVLicRGw57tL0W9Q9u1R4418vhtorwXCAzw7jF6D6boPKEgSHiBxj4rempLyC7wNQo40+g+hYiQ9viW9NEn4GV4pF5JYGJ0YeCbFlst6OJeobuCMlElTJTkjhqeOdGFBb8RfN0b4DgQzhRiKkuWqqA9EhSJJanDIC1SrbNjyJGjB9J4ENDm468RQ7/BCVr7wZk0IuN7L9n8w8ThADQZ1nuF8ljB8AVsMUMEAEQXxIpVscsJCE9C2gUqiwYQjB00nGRZ6/GPkMwGCBOICIpQNDhYAaDujgpXowmFuB3B+g5geAbqDKDELnBIgzoG0H+EKD3ctA/ofcCuA9AkEzAAAHX2nOh9pToDAPtLoDHTZQx0jgMdKvT6BzgYoY6bwDCD8BHKAUnDL6K2hCTLGJk++uZOGZqTvwAg7PmBiDEND/pCJark5IiYPoq2vg96aQAjFGCEx30nEkjOB7QyyOvnGMbzF7CASeQmgYgm/1TGxjew/cI8CTNxkqg3A/gNgETOqBFScZcYkYCjOhkUlSZKoaKafQXbkdMxHMmXndEJloDKZzM8mdUBFm9gaZSKemUnkpG28wM/M/GduFID0z5hriUZKQDYAWs5ZAgJmWTLZDREq+mxOSaGN1kKyqZIwKWXTNcQNDZJamemRrK1m9gdZB/dWZrKbbDp/pLVV/sR20mETnmD6H2e1TrGSBLR1tGseDJ3H7Al64cuwU5MTawz2qtbWyYGLlCszzJ+wBEjwGPzxzK2MksFllMlGhywM2GL0cchnp8xRI6vNTq2wfTJwrY7VBUSXOzEut+WaXT/i3KDaIhdRE4F2R3MtitzugkE28p3JNZNSZglUlSjSH7lWwx5sIS1BwEn6LT5Kps2oDPMHldAFicsBSgCHXldzug5YugDzBXnVg95JrJmARDtg7z/gZ8xEEzCoQt9r5jwW+d0GiCHhiQU86kC/K6Doy6As1TSAjlPnNyB5+8roJFDEI1wCMhrVeTUG/lskz23AFMCHLDHALZ5d84iGbnEGPjL0NgjBdQhFGZjS5G8++ZgqakLz2h6orMSAvPl4KfAD/b+Bp3vIULCFncl+o1DGAcjn5qC4hbQo77zyugJ/I2YXJgXISqFaC1+bwvoVdBGFBQ9CdgsvE+cyJMhDIPOzbGHgv6o4rdg+gYCKxeefs8iQe0DmXxeeRUsQN/Ivnqw6ROeahpMQsW3ACFFHR8U+xsFuEau5k14GfTYlXhBWIAPeW/PIDsLExYiyIEGNGDaJvFeotedwtAW/z/5WCwiT+wfR31GABCu2QSkFa1tzIkS2BdEpNaHzj5ViySXhwXxcBIgx81JQXN47MLtGntWMMwsyWCshFVSgQJwpQUjzqFTrDgAgpTBCTSOD6eBWIRSXmQWRjihJezNcW1cnFctJqZfUaW+LoloS1UPwDPB+K3C7CiJcDMSDmL35tPXpS1TfkTAHF5k9jtQWMVuKdxoncyDoqViX0Wl2StpcEtAVkKBFS83UPe0HFqcC8sIdyAuAqVlospzC1ZQEqhAcKOhaSoCFks2XWBv54C+jlAsKVqcQQkMiBSlIwzEdkKrSrZbksRBbzJCTkophEMNCjA/lbaKpRkuXaxhBW4KqEm73aVWx/FgSv/uhQwAuywJdKjeePJ3gqshJ/nL5TgAnmGThl3DSpTX2qVnyuAgwOgGIXuBZCRFDyohY8NRSBKeVjIhcOCGJVCq5FhEkEBSWepvpi8cqiJMcrlqkB9wYoDgR0MyVPyjVIgC5SJITBTxFx9SilbyGtU2qhAO4+rslK+q89yVtS11YaoiSerJin4C1R7T/pur3VTkjbkYp5Acgw1TS0VZGqjWeqESeYAsBjKpUiqO0F4H2o3WkiCQdQNcecKimCDMIKgKdUoPwAACE5YMcInXBjacyYGAatQIGGlRrzAnqyyVCG1azFmF1K3NZgB6aGAC1WkItcEDtClrbQ+YJwBWplBVqW15kBtdyCbUQZW17ajtRIE9U4lnqPQBCeasT57y2FIKuCDfA96ZD+BLKwNTkvZWKq7o7C09SUA95lVaVjy49aMEfXAxfeiUI9U6QfXwRgYykwcViA8mHhRxWICkp938nXrLAe8xZdogRUcM5adgDDEcs9VVcfOkywiVzyXXqLv4syjoYmrUyYrTQR63wHkwRD5jENmvA/ORvOAkrM0ZKsFdmvSV6iYNFgIFcqu8ScaQVlGQBF2RYUgKGVIKwCWhh3CmKKQPG0YHxrxXmS88LigJRquQpybPFaGIwEpo6FSaBZYmyLq+oVXCbRgom4CT3NZVcLb1Bm7TcBOHmPKLN4IXwDgCdxzdDWWmw+ZPHtFaampNM4SPqFTH6a1lIKtnKyCj4/roltm+zY5sMDxLyJN6NEgyqU0si5NjTcLWKEi0JrqVem1hX+pBWQrTNaIFzaUroBubqNRJOLYeOU1yaKSrm81YCoWVhorQSymrbevg38AMtICjRJoHOAOBmAVGkjUhA82wgvNeoajXLVK0EKnJ1g8yJ5uCgcD7lcULTYFvuBCTwh5kUbZqqcklDzIC2mbakRrDiqcGUqvQIht2ElL9t0qghZBGpVpdwVmEC9VCtEWHzKxxY9OTuLkL9LixXMoEYnPDXUsEZD2hUFWO1ZcBntg43fDiQB3s11tWMmpS/SLkCAABO/YAUOmhLEZJMd4cBKmNR1gYUAeg4jIQhhC50TBNLFHWjqi3KKBRD6VHZEGI4GUhKROsDJjp3BLa5aDO6nc5TkFjZcd+OxgP3CO0tU8dRgIZd8Q0a9F+4MQxYouTS5BU6dmgQwZEB52hCNGkxWXX2qF0zi6S2nAwSqDl1sBF0gwbwBVW8BqjMxyu/uLrv13rTPh+osDCbp131o9dNAA3csHRQRcVl/1F6pEET6jLzCGjBEjNPOW40NGaJZIu+Ox134BC+gNFRwHy5OdMey3Y7hzydoaMaGEe6uBVwD0njzI1XLDd7vJJJLGul9LgUbq4FUUaZjAfWqI1L360zOCe9PXLVL0ThK9W4Y4arqY5bgG9iC/WqXoLQ0tG9d0Y4c7v+rLo/hRuiLi70wj8de9PILvWhOTmJILUb6PXRFt64x6FOce0eidzLaWNei8+nAIvpS3EdR9w+9uYPo+p/CqKO+vXTvtZ7V6GGQu+6uvn4iX7+IoopdKfs/TH7eBpAMfQiidFigFgsnUOs5zGYDca9sRSxn8V/34B5gGuk/V/qP08CB0Q+1dG8jZJmqoDAB0qkAcK7Y8N9d+hEqgZHXoGX9ANeA5ptgPf7bC3QAergcT1ztcF+E3tjN0oNkx4egB2PUd3X2gHailjHEnErT1gGhaE+dgdnpkKWMJa9aJrlqu93OAOJbe9Lq7hgkxBeqPQB4s2rS5xLVDsXfjhofUrNryRn+zffyIfR+RiDSA4AHEuj3GcsDWPdnrfsT0u1cFZMfg9wdUmZ6w0/usA7pLcO81L6Xu0Q8ZPMg6Qoa8hvFgAqUNkxzacSo3RYbDRxL0I2h5Q2mM0BRH7amwzfSouMP314ZuBdes0Jj00GA91DWjfeRTa5GoQZo0gDSx2Q3wKjgTew0SV5bUlhmFJQYNvF3ivcoe7W9eqIy6OdaR6ivRSar2uZC6MgctXo7z08ZfJvGunUmjkeIZWH2DbPePXYcKMtUNEvPfni7lCPcCRe4EHxtlyoCaBiI1+kAysbANJTL8RxoZezu2StwejdGpY7wAGPK8hjKnIXT9MvxYBtA0NKbtMYOSGNcCrcZ5TXBOM4GuD3ugGZ8e0DAmbJtxnAObSmor6XOjx14x53eMIkqAXxhE/wSoCtwKjiJhY6vo4OomSuiemGVCfxOpEsAngflSvvGMK86Adokk7j3OM4ksAVAb45Ny8Y/IZjAJ7ZF9VBO2G1em+tpgfi+rRTmg8zL7VsxdU8o+UAqWEAcZYLL7CTyJm/cKfeNjHlTHNKiO0EIjN6yTLVeYLANogwRC9QugOeZC5AmGfcamxjIgM0jgQ9TBQL/lqN/5VHlTrp8YdyxZHOmiMmoo0W3MFZ+mvT2o/liZtbIhmAzYZoecKhDOgzGxQSsaZ6IqDBbxA8ZwMYmeFSJ7o5p4g8U0YTnmQrxeizfZnLzPnjkF4wfUzcODDktnCNZgPiTG95pdnT/vB4Z+m/XCBWzDZ9s08OD6lngRdeeM9jDTNCBhzMIus9WbZGXwoSpZ/Ee1XHPwjL4mfL4YubJEe5i05fI2dHm/z19Vznp9PiX1z6aYK+h6LTACt3NUDACoabkIKeWMamczwtMGMl1vO4zRgLwLZGyR4C3mkTwBsE2ce4Pjt+lrYbkC+Z2QgqPzY2G8+BffPAgpCnNHM3LTC5KLG8ETFqkT2x3Dobz+tc2oShvOLo3ao5wQNha3C4WFdhi8yKbRCMW1Wy+F+tIRf0OIHNIH+pi6QEoaJ6T2FO9xN9s2Zpda2wVWFQd1/PYGhTwxji38UEvEcmDwANksWEYB3nODAF73R4uAtyW32XYeHsGVZGsWR9sB8fWHo0SOA9QCl5k2tw4tolDLzfd2lIdEPFLzIVoVcIYF3YoWc8zQPpZtt4COXnLV4Q/e/oQOv64DyBhFJgXyoNJsqoVsK6kDIyHAMAMi2K14C4gshRESCVAhFYKp5U0rWSHAqkDiuXBErdwDABkFLBXo3pRwI4IMkdkJ4+wdRgPVRywlaTN9rwOjlLSF2vARJMIIoE0ZOVjhVQPAG/C5cvRtNJivVqePeP0WiHPl5kIRkiFsRdWESQjO0FyHo0DWkVBK8yO0grHVbk1ie3lb4Wqm+zN9IXOubAJWttMKSfEfVadZBALsnV411CyCDim5M+1d11y16qtMtXE9I3B9LOP0BcgmjMa05fMBLNC7zugckgv9eIk6gc6BQA1YkE+s7qUY9i06yBpMkIgDYW1zfRBt+nA3PrctPVWNcxstUoQTRnDWOCnynWaNVyhWDcopt/EFwqWimwiSCM8gSbaJcgCTug1lXyUQEzQBaA0GpVrUI6TcwSm9xc3KrAeLZFzfsn8w+bUwAW2ug2JppJb5V3DMOi5tGbeb/NrGFpalvlTZbsCbW3sS5ttVVbNEU8Fzepi2xSAOFC8FzaX0J9N90Alau1QtsQZaItncq5AYFsBWlyXNyKNTeYBe2sYPt22+VYf6kBl9bAR0YQe9uDp+OftgO0HbIA+3OkCd3RalwwA0QhdmA0oRODTtKxB09ETs0IHzvMBVbitmtDSy5vh3I70dv/cHdVuu3mLmd2c4nrny52YI1dgoLXbdwYAi7xAruxHfaBR3e7wqJu9fxY1AQAOmAMcKWHcZ09Z72QMTfoDYAR32q8oJxNUDMi7q3xGASqbODhAABqcyMvdXt+TSrnt8qX/RbRgsEsytgbJajfHEEqpSkojZUJy7lXxh2cHAM/YPs1WwDN6OWkPH7wHXs7LVfG00eW1jh6bIE++7/bEIOb99vtlW4/YQnwO5wodwZNLdEgRrYrn9lKmKHQdwhjUdt53GMKPyLX9YsioXRtrHD7D1bPN0gPrcVCG2aHfxM4R7cGQyKnRdwURp4JeM48zLAe17eZGCyPYg6Epz7eZHKwDIvIed8q8CZ0GI6u738JR5FzweDIAAUr9YfII6tAwNLm5ToKBqPxeKjnuno4RV3MAu0QGXPI6wcx2G7Zhrm4o70cNDnH/C3R0AMi7uO5uAitR52Z8cLy1HQ6QJwItqPV2GzA9hRx49qNAawDDIh9CNf6svXBr5OqawqFGuQPwpcCQ4ZA5aobXrYGN74s816I9A/QBsWB62QifYxn1qd8qxVQYAEhgTArDoVzYaf4hRIzT4u6IDad4gmnHj5BwskmqKHdb9d5O3Hc4faOuQwTse+VYtBialgGoKZ5456mYPwQHVzwMs+CeYOrQogrZxY8wfZBFE+zrx4Sldv6wEHJz1Zxo//A9c6AVz02PHbmcLO5gzAB5+7hoiCtRnUB8Z27arsKONn7z94mW2eZL0bHuWaKc8z+KaP/wqyOx0ndEiF3/ngyXZ5ECBedIaI2w3Gs8wRKrIQU5wkF6iQfQwu4XGjhFz7eKdXocSfmOx/bdcru2xsXNo54YDwDouW7lLokiS4xJkuHHvzlyE7WeYUkLMcKOxwWmfUMuxA492p5qvHstPRXEGCMyXZVto3LnOjmZ+y4Fe0lzIDYGZEWM8SQur0LVLl/C95eIu/njL8q7c6thsuzbILz8fLXcycmUnRTe/eZHFzUlo5fxEcpDxBrYv8aD6f8EbBlRG87XaJY1zy7Gdmv+Xfr6l9y9IdOacKDLj+4MiMcd8LHoQ6OUSWkwDJ575t8q3S/F2qRMHltjpwn04clvbgDFO1xSR1c4o3GBC3Ww5Jl6YMsh8byLVW7be9DIgXQWc52//KhoNAWXZF0vraSvFBn+Q3iueUDXfPY7EGZNUq8GQeVC3Xfad+VaIdL7P5FgLmzeC4B3higT3USDbdXeDJNj5DqnoqCoeqQX01d+IQ+WkiSruQj9rgG4/zf76CKXz19wm9cpvIb3J5LcqrgxcaONbTDrW2QCiDIV6IkEEAL+/vKPkH3T7+YzrbDu3u4PdAR9w6CTwDDMVMH1ive7Q8IfP0GbmQ+H04f/lpXyFHD5O9334eMPOWxJAu6Xd3FANGjkSimD7e06LX92AcLu/vAHuRgVbij5+/beuVsP5V1j//dqLRyWqh9j1w4fMgORZPkxQbNBoXcFumPUe0a4M8JpwRgnZzuZxwB08WPIRXN7T4wHVcaPTPGjtTyyShBROUXBnsz+m40dWg4IGjsj/r1h3OeHPCKxNkm0XHIvLPcTyTwEbHAABSWT4OZWuJscSMnqL8wwfQKeuxxT7yeZAAD0snuWlRFk8tUqIIvZ15nN6JURaIdeYXh64+NjhivUXyExV7y8gvJTD6M8GeFhu1ABX5JscIoSq84kj2+X0U9QXBs9fqOfal9CFcyvZIMro31JFFXeD2AR6FSG1alYm9ZXxvi32JNlZG9KBdaqLdTWMACbIFBAk34APw+8EYvzTrXuWgCSTcNB/wMI/cRgBZC2J+w/hXjMVGzk7grJ3gueCrBEyrRZYSKdm1TudCwdKAXODEPGD6Argm+2HcsNK2CDaQhtUNsD2rl/DqQBIB7l8BVDmELAXw73uEITH2+2AeY3wJH5GDeWEGdA/4QYNghtC85ssQdaqINAdwFIH5okI76/enrERpY/MAqKz+haS9N+DJu0UuVZ9395es3vYnLwCYZ5BgU0AJpKUMAdjIgsvnJpXJtiEdZv6tDZ+bSV/qAgwjxwlKvIEk0AlfIQMD0ZfZBsBjfpvqy2wDrC+Ae1ngO+kr72ZK/V5qLugE74K1ubBt7IJX8s6V8aziISv5nkDZd/WBS9JEHkEr7YKNQVfxIJX1a7Rc6OlfJC6hMn4Duh+rAP4nTUr40TG5FQRv9XxgEp0Ge6AbJeIJ4Axovp6T/Rxk4pKF9hpBf/2B4wE2NTV/ymS5aX6L/b9y+Ff7vwvzH+JCq+lf6zjDA77DQBNvRuvjP1YEN+W/Zw1vuf2IWt+2/mEDv/QB77PjT/LAbvj31bC9/BRffSfwvwH8YBB/jFW/iwOH7uhR+lWUIWP50Hj93O/fhflPz4Av/mBog6fwv1n+Ak5/ug/gfPyV9i/HlDL8bESvzvxJ9bkEl9h0Tv2T9eFIALvAS/UAKKAW/Wzj/MifYVGADS/DeDADC/Jn0wURgYX1Mo0kIQHq18QM9DJ9dvTKjbVakRJFgDZvDNzuYH0Tvx14BXS0zHB14ASCN4jGeX3mBFfBgJBdczJdV4CMZSCH0oRAvv3KZP1DgDECOhROl78FeADQ4AmVS9X355AvgMkDvgaQKXJ1A/gKkClAhywKAHQDB38oJAxQJvgiQcTWIFdAzQM0ppAywNJ1G8Ctj+IHA1gOxcyzcyEGAgbYHhghqVKD2KcK2RJz0APDST1rkprPQBSIRDJwJwVzIfMANgQg8wgrYKSOIKDBL6YkVMCFA/owMDlIIwKmA5wIL0SDVFeyxyCaoDG3Z9EiOekED8eZSDrxygznyrkQXCi2JIcg6DWAAB/H2Dj8BA4p04tJtO/0H9iQDmmQpC9dCmy4R/IoC18uggV2cVJtTX3cNNVQYG60GALhCzERzL50IFI+cCEFYEXOgElosPWbQWCuUZYMYFtLAKyrt1gmPkYtTgsbG2Ddgm+3+VeOGlmAAdfO0GgDughEmeDeednVn9Jg7F0SVzIQ31SITfefz1ALfH4NiJW2NGSt8QQghTYJVQPm2YUd3ZgHhDBWWELdx2NCQE2COhcCERCC0KCHRDxATEI5outdkBGE8QisEJCoSYkNxD8QsQApDsQhEHZBkzEKTJCzQOkKBCl/EEIqoWAdkBZDTQGCH5CBhP/juVNlVEPhDLg7vTGxEQsUJOCJQoQFRDVbCLhpYcQtCUVDJQhkJGEHeWAyVCGQ1W1n0hAYkKZCy5aHR+0hAdkLN82ALkLtpjQgRmAAzQ5fzt8lwR3zBDJPdyzHA7QkEJX97fLRmQpRQ0FQnApQv0IwB5QiDHJVzcFgmRDLVZSG9AJQQdApDLQxkIWB5gW7RpZfaaMKDZqia0JXZBAVMKTBWCGfRdUq7YiA5ATgDsSHRZ9aHk5Z1/AQL8MnAuq2EDRgUWlbtfguWj2YQ3fLzasSlM+B9dE6BsKYdiwbVnGE1A/jV5t+w3rjlEQXbq3mdsObmwPcCFKcO1YtaEYDoRBWecMRlSAAOzo8xAVcMXCrQ8FWIFVwsIA3C7g0lRNlgAZZx5QT/CT0SDLlMcGWcPXSazHAT/aDR39nQ68NxcnrCcHPC6AS8M2DLILgRGCEUKrQmgD/V8JkJL0NEiAjvfAhW99I+NLkdlI+RV0EAYIi4JlCkBIQHgiUI1ULPCj/dvwzddrW8J0dBglkX/D+BeGhP9XggVyOtzIJ8JpViIzYQAiBCc/1AinAnVW54zlDAC/CfwoYPojSIhFCv9I/ZiJzxL0OvUQUI/UCy2Ro/PoI6CH/QSPAiHrdfFv9lIfoIvYtkBP3uccIjAJBc3rDgLudIXL63Mg7w2iOS4FDEMN4jzDeANkiimAG1xJeFNwPBDQbcyE4CiaeGk/9dFCiOxdbuGwQDtPwnRwvCI7FMF/DjI7Y0hUDjDSF/9LI8dhxIf/RsPZ1c/AAKWB3I+yMZF//WBHfEEULAOQCK/asOKcsbcyH+9FxKIKEisQDiRwDOrK8BuN1vFbxiRwrKqLiQoqMEByYloOEGRo9vRKAW9aouqOW8OohQBwIMo0qM8Aq3GsKKiWqfKISCwI0m0ARy/S+huNHyVPA4JU8auXnYl6IvCFtP8cdEqZpIOoXPUaWR8i2jbhTVV2jHADSA95VRNLkOixCLoBOjwzYUOIFzo46P15jRYdAIMm3U9xMiVDCUDYp4+VyiKlno/mFejtjF4jYpjzL/Dfs+OK9XMArvGEXlAZQKDgNgzAX6N4x1cYtXkRJ4AXldwQEHoGPglrObiEZYwXdX2pPAK8AdxW8OaOORU8W3xFAOARaPk1RHe+n8CBXMPjyjOQRsPy8YtB9C1wNAaaKEp9+XIA1ASYuPCHRDoJqMmhpoUgBmh+Y3qGpicSXmN55inHO1piOaPqPL8xeGlnoJkwUmO/RU8Y6HPQJYpqOpiKSNWKGV6Y7F0AcH0dmzAwPXCbTHAOYqcXKjuYpkl4ANQWYRYANYoWPGhFoqBxljIXWh2djeecCCVibEFWMSRAYgWLJi48CmK5APYzbnJtTwF4jvo5om0QlBlcPUFTx+OOOMUimoodH+je7UrxQpl3UoGKcRHaB3vocKfQSIII9eS06BGAffheJk49kA1jC4tEjriJwbOMdpsXUHVhknVWuN1AFuDz31Ek4nuOldY4geL1ApOC0RHj2QYjHHi6AOuJttieCeMXQN3Ii14kF4sDB88EncyFtF9eAhUMpL1eSQnix4jNzScxwKTg94d4kTz3ii+VeOxgN3I+KQt60JfTPjNVXeN7kr4meJ7iq3d9xeFv3feMZMK49oGIh14lqgdhrjDjzGwZYkON6hBY1PBFjZoSBL1iy2A9l6IvYxBKvRJiF4kVjEAkAP6ig4qURjD2kV2K1iToeBPdjUEv4g3xrxKElbiaYbLkXxCE8OKRhI41BNxdOxHCm+ID2NEndB/PcBJAc6E0OM1i48WBLFi+EyWNQTpY3hNYTXKdhIz1oHRAM2U+8f0HoTeoIRJmgREhBOkSKSBRNrwaWbWLUTLodFDdjYQbWNUT5gBaNQS5abWOikD2fHn7EBE0RPYT7XXRP/Y6CBUDmjDEnAAx4qIahKF574SDyDjtkI/CUSmoiOKpjEE11zHBD8HOSKFAo6gCPw6hVLmDM4ko6K6AC0HuR5jDNQJP4SQAdxOMTIksxPcTq5E9j+JLEsJIxMj8WoLMSHEpuIySc5fjhli8k/hLsThYs9FFiZoBpPsSnaE9mljHY2WM6TBDS/HKSoSAOKKBcE0QEiT4ktCRBYEUK/A1AU4/hPcSQkwpOcAKSGZO80xddTyqNr8euJrwgk8aBUTVkuZI6TcaE9mmUa8dZJs9SgSXSEpOzA5MZCyGXZIG0Wk2aFuTKkvpJapkTTZVuTtYjWOySiE89BeS48QpLk8xwEpPYTXDCJK2SKkwFMQSvDEFMM1IUqHi6juouQBqjkUxQCiocQWKz6cjIFqOoC4odqLRT0UpFMJSEABJBOpRMCwJIZEeJuErhq4WuBCdJGa+CfU6/Ao1iIn2Kzl5g/AGGyhIhoy9CfY0SInmdcn2ALgkMH4P/k6T4vUR0ZSxMJ1Wg9pUiwIVBc6bZyxSr4GVP1pgneO3lTmU5XneJyUplKhA24tlJS9/iCrwHstUg1LQkoMYW2ykXUKgVPNvUUGMrM9UmVPWMlUpz2xCR6FnzBhz1KEmdSb4OoQVBIgPfhVSKU64WxhggcCD9SSgfnVzoQBVsgxovU7kGlcwUtZgRgIedLiTS+48wBvMh4q1UaBbwQoEKAX6D3gk1rwbj3dBgBYtP2ieWF1SN1+LOjyqdzUjgADSG5BFSfYWqFtKDS87JtM7TeUOAiQ4MPL4SjTUhZJMDS+04oAHSpgNxx7TR0q2D10J0jgEGg0uYdObTZ0yIHnSFYRdKmBunCQBXTe0jdMnSjqPdLXS8wnxO7TVU/1JPSl9XLRDT9U1dIuix02+JgDZTVgnd0tLMil7Tl4xIA/ST0odB5JtSSzD3DDVY9IfSrYXUILD6PHpybTbgxBIuN5aUVNvSZU2CK+doM+tB3ThAFdOODMM+tDYTOk8rz11z00NPBEDDSCATTCA71Pt50gyV1QzsYKt0Qyb4RjwuTRebykRpfKDsnoyw0kmFGSkgFdMYz5SQJjEoJ3f9yfIaQgED3JEYQ8nuIUPPilEz/gTiiqAhMu9yndQkQSnzjWPdjOwzaMoSkkpQkGSkAoAAzdxSgV06CmnMIKWTMeAQMmmDAy53czIeATMsURnN53CsAo8aMrjIviMKUJFLTxAYzLUpTMttOq8AAEmFV7gk2WsBNMnSyZYX0vakiBPPEuybSY0xgEjljk+r3+CudF23iyudI3RXSEs9DLiyL06NMyzU7DLIF0IuBIDwzb6RsUIy70hLNqN2Ety2YD0s/LKhAEs2UKsBssrnVKz/6RhyrS7QG9OA8esgFEyU+LF1VyyoMprI4AasrM09k8MokhGAGAN9HjByAW61gzINfSDKMnVLzPayBdcDP9VPPXjK3BzPPDLloqLFdNjC6slqjdoqsmVP3T+0rdOfdsudp1uBWDUqmpTkeOlNphBY8ExkIf2XokeziOBC2OShA+DOxhqSH9k25RUzCz+ypFYJz+z1UvR0LDGnIjES5DswHPeCTrc22xSFiAyWYBlUv7PmcuVV51xzsUxdA1SzUxHJJz3U3lP85AgzePYEVrH9hFTw0sVKxTycyJ2Moochsy6ydNAbLJzS3fSUWcccpz3YSYgkFP5zXnDmipyf2ThmfN6cooMRIwYJrjNMKM3rMbTEc/HOxyUctlK0V7LF50FUActlKaCbzUHJ6D5c7kEVyEcjpzhzTnUITw4IaOQ1OyzDCXkEzpMgD28QemDDEZQNyfX1DYMMdkE9zlIb3PkgpoK8l3dPAf3OWBAFIPJGAvIHUCDBw8wPLEBqxePMjzE8y2GTyMAKSlaMd4NgA1YxJbVnTzM8tozYBS9AvOtZogQhDrBS8+SBjAq8xPJjA/cu8gTys2IClrzm8/wAyBW8kQAWD/ABvK9yU85vMOCeuTvOEBHqGdWHzu0Hamiy6AcfOzDJ8t9JCA/QdkHBob0GfIYg58ptAXy8wahhBBV8/yg1BIQLXF3y6wM3AIAj8k/KqJaAfME0Az8yLSPyYQJbN3zC8B7j/0D3R/PXCcAR/M5BLgZgE/y8AK0GuBP86fMbz+8kQEAEigR/PwApgOwHsIBELoEfzR+eIB8B4CoUCAK+8jPIkAmpCUFL0QgW/OAL0C8QEwK6AUvU0cFQZAqwLNKZwDIKiCzSg7y8CqSlQwXEDgHgK0MO5wLR4C+lhfp2ClkA8F9AegmEJ/bHoHgKw8ugowLfcx/INgCgLgGIxAJV/JEKCCiQqmBTRHJ0fy2AfwF3yCBJ8Dx09AdQuJAdCzoAABiHQrYAjC7WKML8AXRR/EO4HkCMK2CuQslc9AKfP/B5gX/VnVUCgPJAKMMhwrfSnCmPMcAjC1dB/y7Cnp3xB1C+6QQ9bCtAqkpW8RugdBiQ0IpiKpgf22YBr8oIpEAjgQg13zSAXfL7xEFdcBgs+wbIrQxmANgGDEd9bIp5BXEIgCDSSgbIrc0R1ToFqLegbIsdi7QYQsiLLhRgF3yM+Knl3zVAN5V6L9rXou/zeinDM0AUk/QBGLsYerW0RJi1i1mKG0N9PmKl9JYv30D8rgBGLNAGijdwNi/AVOAdi6YR2KIi9wvwKzFMDDiLUi4QGkK8AWQvaLxAJQsEKLisCQ/VVoJwt6L/8kYt18E8AgDIEsix4tt4hQCUC6LOKXosWleiunD+KBAC/n0BxMugChKegBcGMKISjAChK6wbbzuhUS3gF3yoStYuYAqi2dUxKkSqEov5mAVEv410SjcSxLSAfQGJKUNASG5BliKYEiBKS/QH/zPgfQFnF16OEoVBWQZkppkAoFDWtNmStko5LzgIUphARS5gC5KES5kqZgm4UgClKeSwktcT9IWyj4LlESkuYAyBbgANYcATfN7zjiqSmJKXCIwXOLbisQGJL/wWUAlLF0LErcAhsQku7smCpEr1Ll83fJdLr0N0sXzt8t0qb43Sjk13zF8AMo4ACBRErNLRAK0BDK76AQt+KwykQGmKCS2MuEArQbQEARHASTAjtT8pEuTLUyugHTLSAAgDvofioMpDyOQYsoTB2QNooNKJAK0BLKKywst0KsyjEXLL6yhosbKXCq2CDL2ykJX0Aiyxsr38xQIMv7KcAQwsbK8yzMsTLSAjgDHKWymMqrKSBDgF8K3CiPJOLwyhctjyZygMs8AyirMq3LLUTcpeBv7Owk35NyvTgDKwMiYqRKT/cEAWld83QDtAvi3sonLBAYP0CKnyuHSaKkS5nluAa4JWHXDgy/XlvKA7Y/NwK3y6cF0VwQVQqdLQK4gl0UtC0MrnKzBAOzx0I7KCoQq6BAOxplAdHgEArdFWUtvL7pMUGjL8K7kGIruifCv8hc6fCsMglypvLAFwFOBFvKcysctMLPypiozKji5cqkoUy9kjHKAi3fMwq8g/iu4AAoR8rQqRAPkt6FlCpEokqxy0Ss4qJAUvUiTOC6SuCh+Ks9DUrnqVstArMRb334rryPStWh4K+SvEAQ8zWRHLtK8soMqOQFiosrd3DitorhAWsoGjRgKyorL7KjwqEAnKviukryy7ytAqN8TWglBviiIN3y2CJwslpQq/QCcL/FSsuMqxAMKvmAETSKteJhipErYJXid4rSq3CXfObSmStKv4hQqvcvyqugcyrErhARtEGBrgEiuKqcSwqq6AaZBMrKq5Qy1A8BUKuKtEBG0Q/DgKkS/8Cmhd8wwX6qqAQNl3y7ADMpGru3YwBGq8AKapoBxypqsEA7ALoFfL5q68GyqkSiIlhjYqhyv1DG4CuDxLbEEaoNhtWa8r8L1q8EtArcAQgDaQ9QYCtnL2qkQEuqCy3mHZA4K3fMeqSACgH2qaipEq7KZ4lyp+qR1VwvcqVyh6sBqrYPypWrsAA8XWcdQToCIqfqg8Qi43qg8QSqIqhGobQoq+YH5ktqjysEAsAA8S4E3qogGGqkS5pH+rQKsmu1ZKq6qopr/AY6olACgD/NJq6avhUPzmar0Af43lMDF3zKaphylUealmtGQDYPyGKAcakGuEBeahqoFqvQBquUraamWq5Bpa7Vlaq5ayGslqvAA7PU1lq+6olqWag1iVrw0RgAAL2a7Vh31aqk2vDRUHJYHNr5a7ViciDaqgAChyAB2s1LSAY2ttreuIqo9q9OG2rVqWa9yFOAaK3GprJ/ajgCNqBarSrVreYNgh5rRIWOqFBpeeGopriIWGtjrmfHmoryeagOx5rtvHOvIAY60mvoruq0CvyLd89Yx+LFysuoVAK62PNrKy6zdPrq2q7asEB8ZfUp1qxzXcCDrxajuqcAy6o/BtKkSpSqy02akurYBPAQgt3zCapEodpFi6erUK56jgDbrm6gQAwQAK6evaRJ69pFt9mAQyA/LQKpOshroy0qvbriLHJ36g0MSerPqeANDGPrl6z2BycsIKEDuq76nFA4B3aw+uvJtC6eoYBi6w+qHBn64OowAjYbeDyrQKoN3BBd8scsgaMykMugb8ymyshqxy4GqkpeKn1TgaCASuqRLMdSOpPqBALWhJhdKpEswbQKxcoyA5Ku+sXKEG3BpihY85BokBFyiGuobFyjcqIb7NNao3JgAQAhhKbKI8hdzX7EAGprf8jIDaQ7QJLE5BaC0CuvK8AYRu9AuHVQCEaRGn/M6KkS9oPgKpVXwHgKR6yGo+Cv4WdRGBlipEo+CDG0CtUA7ALqpBKualItAqLQfmsvLhaqjDFquKv0FxL99QCsXlRGyvM/KuQbIFEajgeRq8b3GwIrcafGn/LcBgm0RuiAJGyGqJkQm8lGyBPG6Cu8bRG3nDCaAm2Jt5wvIcJp/zcsJmBprompJuyaqAdQSErGq6htlqnSfitEhs4JusAbWqjStVqymjWvvUtavStVBQq8Ovyq30X2uobG0N8W6a76+2sHqnasutdr366hvaBsgWxpLrmAbIC8hrsQeq9rD6ghJabp6xRsoLGoeYEnq1muRq2bvQSgpLDdmu0EoL6CaisObmASgsAk8m6hsihtmiZqmbD67Zu1qX67ZuAa1gM5ucBnajZvebnavxu+auHBYD+aTm0Boea9m52sua/mu5q7qpKG5tBbBkJ5sAaYWo5udrXm4FuubFGpLChBNm1Ztkbfm7Ft8aAWvFp/ygWqFokBEW7JoVgzm8lBmb7mtFtkb4W7uuIt0WlFpJbxAMls+bMWs5p+b/G/esUafmglp5bvQZ2uJbOW7myubnmwVqpbJmllu+heWuFpFbmW3fIDqaWu+vcgw6sZrvqsIdFq+akSzVpxb+WyGt1bRG4Vp1b0W8FpNbZGyFt3zDWn/IVbzW0Rqe4rW2Vu1bQK61r5asWl1tlbjWj1olazW71rtAwW6lulbRAV1sXcQGoNpEAQ2h1rvJOGsPTsBpqu8kA8soJmA8FGxGaF3Up6D6Cno7yBLJmhIUEICnoEsj3lzaZkfNpuYD2OsLHA42qcAg8bo4AG3KNyRNuTaKjGaCLgxQDNo3Is2jchza82gtq50i2vNsdB/UBhHV5y2lqh31q2lkXog6PO6sbbmYVNvTbv0TNu/Rs2rnWLblkXtoF1+2ktpHbCSENQnbASWtvAUQK5SFnaU2iIBbbCDdtuUhO25SG7bt279ELb9eNdpCBHQPbEIQd2pFSSV/6/dr7ta2vopAdw809ubbW2jxMXaO25dq7bV2ntofa+2p9oHa32j9oC59rH9qnbW3PQHMKlYSwruhAOluyTa5289oXasoJdqygV2gXXFj6sDdtzoi2o4Ao6y2wkgpIQyjDv7puAKwtAsWlSdsPaH6p+pw6aIPDrPaxYkDqvbPoCDtvbV2mjpJRKOxgGo7aOsYgPZ5IzPS46cBdjoPa6PMmpGAeO79Cbb52y1CE6b2mgBza7AGxzrBJOotsM7/wYzro79I3Eg69NVVDr1EUNZ2oTbcOrToI6dOsDuvaRO/TtXbsgT1hM6n2nzrsAd2hyMrbXFZTt/asoAtBmheAAqEMoOhCLppgZoNgBi73M9lCAoommgCA7tOroF07POnNqTR32mDs3an2/LqC6cSbvI4AlmMLvoh4unoES7ku/OOYUausWOi6849Tzo95gYEqc7eOlzrFjCO4jtI7c6GaCzQ/Ou0CG6A0ILvOtOKFDu/RIu7gHq62uwVia6ZoWUHm6mMrIXdzYqzLtc7su9zuE6SOyDrI6Suwrqo7iuqbCC6WqDbum6lulrpfj2UGvK67NO/Dt663OojvA79u0TsO6zu47qk7Tui0AK7ZOwDAay/rKrpm6Eum7pS73kevI06+O5tr663ugbsYAZoI7qyhH20bqO6AexmNap68q7si7wehrvW6W8h7ph6sunLve6vOz7r+6RuyuHR6BaA9idtPAoChx6we1bv4z1uriDzBoenrrTaXu/roO7Bu5HtR7qer7ox6WjdnustbO0Htq68ehbr1FIQTbuc6nu7np27XujzrJ68ur7pR7YOtHuF7ae29HuZ2qCXuu6WexciyE5etuq27nu5Xt56Pu/no17BepHp16vCaxJjk8wJnql7jetCj1EFiTnsV64e1XoR6ZoALqp7A+3zro6i4hYjd7muj3oSE9Rbovl7uu33p574evnsR7hu77qLa0+gHo7jfCQYCp5I+qLuj7SgLIS24I9Jcot6le0noD60+zXqK7RuzPt17j4kvvJtDe3HsL7ZA+Rki6QEtvsa7Iuv9n9AgWMXmTC2g9/J97+Oivt269OnNur77e+vqd7DXFRnfz8+6XouT2+yXrFiu+1rpX6e+hLr76zkQftU7c6onq56/evbqr7xu9PqfbZ+lfBPY0ElxX40l+7vsW7O+quMf64u3vo7F++wvqggh+uwHOqT2hXrH6T+yftXa8UBsGD7QBkdvhIH0X/vz6xBQvu37ausOsiB4Bp/oS7GAJatf6O+hLvmBrgTAbX6ZoYorZhN++Um/66PVQD/6MugAdh6k+/3pT6ZoCAYv7Ruhgdk7sSCfCIBYB4kBQG3+hLqQHIYYgZN7uB2rvQGB+oSlX6luo2rwGluwgY+z9+rIUWrta8vqAHcukAdWRwB1QbLbuiCknkGOBzoC4GsBxAbWA9B/AYkH+BkoDEHIunAckHIu6Qa/6h+3KrL6qBknon7lBsjoYGa+k7qYH1BlgcNcTJUapV0a2pbrgHTBhIUEGxY4QaMHxB3AeCGZAhAbFjLB6IfMGEumweiHSBrIWaQcGxQZoHT+ugbcH7e5gdp77qWxQGCQepbt4GIhyLvCHoh2IZmgTB/8kSHau+IbqHqh5IdkG9RQQlH7qBq3uT6bexHqD7GByuD6GWB/1zddhQB/qqGshQQjIqj+xPq6HaBnoZD7Au/oYWHIBx9m55hQbojGHbu7ZEVrphwAayHgBinoK73Bn7u17KejQeWSD8YHpb7me8Yb1FW6joacGVe7IfmGBerXqF6zhoYbWMuQcXoCHW+24ZxNO6hQccHtuyvroG+h44aLbBhgofBTcTJwE2GIe2EYeGQR5wbV7vO0PohH/O0PpYGQvWEfhH8evUXK7ze4Ect7QRl4bt63hh3o+HoRsrqAofhjjqN7/hrZFDQ2qzIdmHnh8ntt6zhjEdOH/u6EelynVa4fd7GRw7x7ykRkkZRGA+14dr73h3kad7waKrh7y8RmXpxMG63Yc6HSRjkdT7z+7kcrgr+rghPZyvS5oFHfhm4a2G+i0UrVHHh63s1GxutwGD69R8ggNH3gt5SVG1u+zomqgRhPrH7rTDUYM6jO4PrM6LOlgfqzzIPwe0hZYk0aEHyhhLt3AUB2Xu/hGCsUZmgfRiUboHAxgMf9GNBqU16DnEK4cjGwh6Mdq7Yx4UePzdQOasoGvR5tpTGnhg4cG6QcaIGD76xyAaYCl1E/Om7wIJbrFBGAGUC/66PW6qTHqx60ZzamxpYZHGWBoHNur2xzselA5ulIbo9kKvev/7Kx1NsHHuhm0ZHGdRmaDHGChjwLHAFx40Y46Ox2bpnHex03sgqBxxqhrGXBuse0AGx0cdvHIBsILHAIK/wCnHjx7sdnGxeVTrjrLR89tXG5h9cYfH7xu8fHH2ZdNIl6jxhLq7GexucayEBK1sAvGgWK8dRGyOjcft7txuUe1yxweCZ4A3xqCZPHYJvUTrB78lkeJHkxy8aHHV2tCYpGMJ6/sfZJiYibcIDxg9sgnau6Cc/HuYujxgqlYV6t/GxY/8fZHhxoCc3HaJ/UcfYESbiclKztEHtYmxY9idPG9RDQoIBeJhtrImBJ2scR7qJ6Ua3GgJlgbssT4xwGUnpJiCenGPxhSaUIgKpzUQnfRqieEn0J3SYKGK2yScnGZJ0yZgmvxiYaQrHS6ydTH5hrSY8HK4UScdHH2Fqkkn9xvCbYmCJjybaGA7F8dInlxv8Yom1xoSbvGRJhyblGbwySbimIpuSainOJzydwqfx1SYSn+JpKYAmUpxsfSm6Jz9rdcA7WUpymZoeScImLJ3RRwnuAHyeQmA+/yZOHApqqbEn8IySbamGppqein+CGPP8IOpyidQm7Jmib6ngp1iPMhxpgyGGm8p/OKH7sGmdrUmypwSdsnUp+yZAmCh+TrHANplabMnmprZEerrq9kH7G+J8iaQmppwbuywjh+3qenIB/SLqDZ6Ln2kc24K6ZcmTJ98fcn8pvUUunnqlSaXHHu70e2mNJmaFemlh2GZYGHIj6crkBYMcBBm9QOCtOnAZtadU6WahsA6bipiGfVHfJm0dyGKR0AcdBogNZDeneDXGaNr8+hay4hD8oIdi79BsWLqKZBoSiuT84iM15qbGhwZKnx+zqZyH1BzcfJnKZ2Ubonco6zq9A+Z/PvZnCxtmf31C+rmfU8eZ0OvxnwZ4nuRGhZ+YdJntJsWapmNBrEH2V1Z64HpmErFpuZmRPUIZmh2ZzwAVmW24kHtnohlWYuS1Zr0CVb+ZwmatHkplQbAGlhg2YlmxJym2lntWT2bln99Z2ZZn8BkYCdnlZwViCo+x8/MM09QWEE2mBZpQZQnBuvWYCn6BrwYKHMe0sdmqL81OcbDBR9fq5QAoB2dYQsizQCBsHZ/jUiABIO6AdnrgZqHGGbZhgE8BT840wjtBkK2fx6bZ9qUGRAS2HjjHAiFmshB1GpmoJmtZ8UZ1mbR8WeD6l5jQfp7Q5vhWnml+wZDtmHZ4wp3mXZhOeuS6PKRtSrZ54/v2HrxxHvTGlh6+ZYH27SbS/zt4koci75ZjudZmW2pGG7sw83udEhv4cea2QpGzKrPmZhmybI7r5zcdvmC5lRk5B/8/PrTgVut+ZjnP5te0GQf5+MB26th9KukU164Bb2G2R6GfAX7eyBblHaHLBe/yI5pzSsGEusp1CSmh1Adq7ViWOZVBBkVUCiG6FoectQ4gRGw5m1p1Ib1EsFoBc1nz5/BcvmZoQhYpHiFuiaLiBFt+rgWYQBBejmlumhYdnGFxwHU7WF/+cO9T5oRZAXiZv0fM6MxgxY0Hs+xEnIXn5hLtfnFFyLtVBEYQoFQXu7dBernRrKOYh7X6sZtZHQFwbvEXtJyRbEnj4txbkX9ABRetn35mxa/n7FiO0cXhR1QG0WKx72e1mHpq+czGIFzMZYGexCfDMXy522aVnEFpbrCWUFtBe/gqCKxYS78luxcKWugHgjNHBFuJbnnBZxJbEXklohdSXaescQnxYF8xaEH5Fh2bKXv5hxaKWel5BfKX+lypc0WUStEp5AMSpMcnVPFxHsIRsgf8GD75lxZbLaXaBEnGWySyZY3F8+rGBJhBkMmDGWqS2UuLh5SqkvhLFS3BebaZlvRdXbllpZYWWR23cQfQoS45Z8AFS7TiyXdl9ToOWEh6ocsWgZ/gihLhSzkrOXuSoyvL7rlheZza7lpYZhXZOl2gpIgV8UpBXv4MFfz6WhkJfwGvl/ZZphDllkrfrgV84HeXplhcFmWZoGFc3G4V1pZ8H/gqktZLkVoldBWES9FcbEHZ7FZ+WthpFfZL16Elb4GoV25YeXYVwVfhXwkrlYlKWVogZKWGh+tBxWegPFeJLSS0YHJLSmiFdJWblsjopX7eqlad7F6dZapKFViZe5AMSnZZlWOViHqJKFQWkrYB6Sh8kZKvZupchWGlzVYpHtV6/oolnl/VctXYQa1YZKCtE1exhZVnheVGtkKEokqBS9YtunHV32Y1XBVyleFXWli4dpX9AMNZ0cIx+kci77CVBdNXcV3JYzWoQLNYDWzV/EcBWqSmEuJXI1tVf5WY1lZbjWVlkVb51S1/cneX/VvZaLXg14AGxKtavEs6AVVrafuno1wbudXtJ11f1Gt6SYk7Wtcbte0QW175ZzWthslrlbbpwjoRg+VgPu8Xc5wMcdBBgQhGIRHlkLwXW01g9qW6IYRgFbmcl9hffnTVbeccBzJpkdlbPR+JfnmV1ghaaWJFozq3Wd1g6Z1WijTPXvX8+wyADsHZk9bPXKF35foWxYq9dRjb1w73RbcWy5ceHn10RfXWepxpfM6P13ddWXjUhdb8b8+4DdzWLF89dEHqhyDZvXzpmDYla4NnRbwWp6RDazmkloxZSW0N7dYw34V2KSSVZWnDc6WxYgDd0UgNo+RA3ItKhdq6SNvgdGm71i1opal1l7to21119Z8X315ja/W3V8rwXXLm3Df438N2rv+X84+oYg3dwa9dE2AV8Tf9bRWpMeXX9yF9YY3mlpjc/XHllLMRJZWtTa42ZoHjaVg+N09c03FZ0DYvX8BkTeg3sN/VtqXhFmjYs2kNuTY3WFN2zdWWQxhzb1bOxLJbw2pVrzcE3hRtlv+b3WqjaJmsoGTbTHwtlDc3XFNuzc4YONwfGc3XNkQcHn35xLcxWlu7TfbXVNwNrM3pN0Lbo3UNizsY26wdDaU3R1lsdi3kmwNvU2PNpLeyXvNojfA2ZoPzbI20ty1qk3lenLfmHkN0zsi2WN1paBzptgbbK31w3jc82Zoarcq38Bura37xtybbE3yN0RudbMthDZa3ZNqzbfWbNlbZ1XdxhdY2bBtgTaDWjtm2YnShNvTYM3bBujzS2LtoLd0Xst67dy3bt+Tfu3utx0ZUVuaJ1sxb/1rbbc2dtvbYW6bZw7flJdNquAVhvtibf02oNlIaH6F1r1su3tZ+bZtHFtp9oK2ot+FaAtf12RuJbXtnbfR3bETHa+2wNm2ZO3uYwnc9a4Oe1eC3v0Mnf0X2t6zc63Ct1Zawm0thnc23AN5HY03ht5nbMHqhtnZ82luznd4X/tplrDamtubdB2FtvLaW3Idx5ZNyF15lsZ35dwjZ02ld7HfZ3L1vHdI3Wh/gjS3bW+DdJ3dd8nf13Kd5bah3y8YVMhlZW03el3tt4bZR21utHYt31PVnet2VdyLrV31PPhcd3Hm7XZC2IYSzeF27t0Xep3Wl/SbJbKCw9fC6X58PbdGE92FofW6l8zZT2wt8HYi3Dd1ZYrac952rz3quyLvK23tzRZz2dm2beT3V1sHbT2IdjPYe23VjsLp2jmuRooWUt+dbWauWpPYF23doXcMX+973f/Qn2G8Pr3R9wPaR3zd0beLXjN85tM3O9mfYr3WtindG6qdgfdHWapvrd32nNrJYV2Y+4vaRa99l3afXZ91duP3K4U/cX2L0Zfdh3YW6/fzGXNxHYq3Ud9+dv2i+vUXb2Dm/fZB3D9m7d73q9hfceWFpy/f2bStm/cL3We8A8n30t6fegPu9vXar38tr3cQOquLA5LCEdmXc33x91xdubGtqA8F3X9j3ZP2iD1Zas729yFrH33tjA/v3zmgNqlacD+g7AXGD9/eYP4V4LtX32D9faAPQ9kA/QOTezA72aMWzln4OX9wQ4IODdhA5YOf9kfZe3nN0A8j3uQfzawPAdjxYP28D93bUPPdmvdEPit2Fp0OsllvaZ3ZDxXfG3ldozbO3d94naB3qN0w9T359rrceXjZ9jYUOpdtA632I9q3YMOptrA88OTD3A98Ob5kQ9aWQ51fZCP/9hw8oPODlnYiPDDhQ+d2Sd5/ZgOe9vw7F34VzHvb2A90I6oPLdlw6j23D1fbyOvDrLYEOvFoQ7a3/D1ZbXn6jsNvIOg9mrYL2wjj7ffnXD7GayFrWwZCjan9wWeaP6NuA8IOrDpI4pIxjp7g4OcdidOLBoNyNuUPCj/A9mP1D9o9KOWqSNp6ON9vo4I2BjjHYiP1jsjbGPfW/I6mOVDlo4sOmD+Y51XaHG44VgVjm3fwG1jjiZGO9RENtuPGjq7e2PzD3Y8sOND+FaLiATj48kPW9r46W6fjjY9g3At2I+mO2t4o8z3XjnEjGOyD3Q6cOoQfQ6uPTtkNsgPJj8vbMO59hI5eO3V4+JJPUDtI8AO4T6PYS7ET649NbaDsk+a2QTyk4639j1pfSXzIG4423KjzI+cPPthWCJO3DgE45O7j8k/iPeTko9p7FdB9GlOpW446kPWesPfOOsjmo+5BJTv4/4Ixj4w7Im5TyvbBPnjiE6VOr0BEiNP4dvE+1OxToY4lPfj8I91O/t0Y7h2lDug4eOZjjE7P3HRpPRVPPT+LYZOKD046038TmId1P9T10/FPIjh3a2QxjmI5NOuTik4YOnj4Q+pP9RjRkWP0W1I/TWzjqo9jOnTvU5dPBj749qP1dj04lbkzjOdTP5TkXb5OnejRkOOed6ivVOmTsbbjOYz8s4RPKzuPaH6xjho9ROfT9E6pPLT5s/CShz7o/tOiz3s877nT1Y/7OLk+PcTP/drXe9PuT9M/NPMzic+v7LGG0/XP/uWE8cOHTgk8uOyzi47dOCd4+fEb0W5Rs5Oddrc9UOdzto8VPJzxpjvPZGwXX/2uIUDuG378h2dJ8ByvQ+I28gdejjrQDofqkaZG3xu5bZT+s7NO/Tz/dbYxDAvC/O4L/Pr/OHZwC523gLj/NAvjt8C6Wl1OqC9vPpGrVvEatjtM5fPkLkdssZoFii9kaYLrC/bmALtwiAvzgDIsIuOd4i/5hr1s8+UC6PQMtunBO9VbrGyERsckuy24ZisYQzgs9q6eoIRhvhq5xAMGRtEfIBx3fAf0HUudEaDbjbZqpMbEuq1iS6OApLsy5kuQvAy4IA4FqjBUuD57+O5m6PQhsmP1J0RfBBpLkSekvZO4ZhxIoI5zZ7WNTgQffniwbud0v8gYpc5nD5py7gnNKFy7uO3L1rY8uLLry4sufL41J0rptAK/aQHZ0K9PyNLugEiv8412flIIzfBstlVK26cSuupzy/QnvLpU7Y3zIcq/8uslwK9yu/QfK50Qir9TxKvbECMylBS9rnuMuGl5K/Mv6L/DMth8+gq+6uLk3q5KAIzSEGURCkIy8vbxLzSdquaJ+q+bP7Nxa8QLiOLJemv45xy9Vm6PJexYASi3crfQVrttrWutxja+0nRrmS5i2zr4otKLn9ZzcOvUtn+t5WyV+VGD6/rp684Yf69FZyvhRjzG+uK1vlYaWAbzcYBufL3rfBu4EEG/+RNF6ICLqfr265hv7euG6VOgctG+BvsrlG+FG7AI6o74byyG9+vKUf66puZL3cZJu0PMm8cBkboK7QpO5tWFuBBkPUGjBNFr8o1xfyrkFiXy+6q7oGsbikZxvmzp8d5ufyzoAFun51q/aQZrzU/fnArqpYh6ry8m8mOo18qdXbRb7SfFv9z2ncfD/Ik6v8GFLsWLaudtgKGIhObhaRcXt9xiKBsMbky8R7db3Of1vszrCZfLmbh2cZnGqLYdcilYJ2+huab2G5pufLk3IDvG9/AYtvht325Zu79rZEmgg7gdZduQ77G7DulTlS3MhJob2523+oJwBx2476DciSB6zW8rXg7vabFuM75s/0mS7unPluib4bYilxpZAfhOLB01f0B/NreoVBd6+KcfWq4cu5Tu2ktO6ruULjxTr3u7nepQrc7pu6CkUzQq8GX6pSIFVvqjoea1roN++VTqKbzG5Hu9b6u/3Oh9myIiAEQGe/DOxYyhFTqi74UevK+dxXq1udpsjtduUN924DObwm+/z6UxrYbAL4+/u/vvoZx69Sv6Li/e/vXRpW/wHVwKdkGR1QJcPZAcd2ApuvmT2rpcQ/Qd071F4yyaaHun7otpfufdtphxJ4y0+/22ETihydJC79e7I31AZ4q/0MtoE8Sn+17W8fvd7t2/3vszpA8oeRgdeGofCH4A/Aebyz/rbuEuq+9O3mePu7qXhb+Yawen2nB6X22mUKd6BuHovcTv9Kqq6hnRF6fopGHR3B6s6pu5zetMkYJkvxjIgRW+Cv8BvR97V9lt9JXv213qvU7bpwVHbnnb20ftHz+ny+C6bHj+9KVzHwx8M37btnFEeue+x9A7HH9R+0nNHmR/e5e8b8o8fOgLx7fTNF8BpwOGl8TuyBg+5J/oupZ8BoamJES2BydoNwhDtLEnoe7Selh4p9ce+dO0qyedQHJ7lWyNtgkc7HzsleKfNx0p6VOQ5up4ama56fJ3ZRTqEEJ3P68FZTORF1raaf7elp+bOyj/p46ecnLp4I5oNnIsSycHN8wKKoDpJ9o7mnmTtafxE3IsWelLg3pra6PEIF9KVH+h4fvBukZ4pGxn/c/vm3QpvnRWr6sKM0XWqofOOfGntZ9GeNn8Z5aonniblav7ntDE0XS6l59uvzn7Scufszn2KWe7nzGOvqhtiHs5qaAQp4YfBukJ9zmwnr/buY0c3UChfvQB5+FGTgdxb7WyVlF5Q20X1C5MX8X6J/0fp87x+MfWb9+bMeDHyx80X0igctEvVr4J4DQLQZx/5x6L4+JZf7xBu/jui+m2e8fNFsom6ahb1R9a3iXjPpcelTgU/rV98rWspfYnptE0WBqoF8cfJH0bukev90FwDdOZZza5ufH9teHOyJv+9EXtXyuF1fW2HF36UZzwV80Ws8gSFzzDQfPO3utXph+fuWHx0eeYyuovNdfxJQm6Ffqh0STdeensA6UJed5O6RfU7yu73ux7wVzWH2z4N80Wn8xome5053+8HvY34e/jfmHxN5pXnxxBQzfri/a//2Y7iHvLyEmhK6leupmaYeu5pn3ejlbFCvNgGBLuc7Afj1jt4jfqh2UB7enX6t4wfc37qaLagp5t+GHWqat/z72Jgd523p80A+qGSKxd/G3+3ld71EQgf0s1eRrht9znx3pfejk0ZDk3z72QTt5MeETlV1soHZ3xy5A7LpLuvvYQQEu3eh70d6fb93vV8TXnxx99Nuj1ioeURutLIq5AllAF7HqJ6595Hfd3lDfffbXow2/QK5SoIiTQP79/z7RYMPKA/tENN+/fMRSgvA/TnzScg+x3pt4PfwUwguw/8+pfW3re7nCBhAqiTh4dnCC6j87udtwgro+H3lAsxF0uyV5Of/7gj7feiPvV5C9SPmgvI/99Sj5QqnnzwE4faP1aHo+sPrkB0hWP4bZY+ZPgR9q6GP3CGg3SPxBRILBrxXvEfAJ/N6g/+P215/Wv39j+0+FQET6c0xP3oEY/pP3t9N6sPxBRwKs3sR7re6B199G7oPsHIWYnPxgBc+rPyLRs+OAOz6ofNFt66uu7HiPSCeGlodu0BnHhhFfb/wIOd9fGr4kkuuBX//YKvwv3ct/raHsWMCeyVhDrhnkvkdszkrGXL6mu9L4UeDFTyqL4ceGl4r83Hiv2TszlcXB303wPr6r/9vo6i8tcv3PvycDc7URsaG/IoMr5i3YxNgmm7hL88uHe8PrcdG+Rvo2GG+y2zOSwFzy6b6yEEqmKrm/oZyKDrB4vpYf2/Dv1r+zH0STGpir0VsNEDXNF1GokNdv0ReO/g+p79W/VmBSPCqEM1q+u+21xR6eDYDGN/m+XvzcZe/Tv9C1gMZ1ix7Vedt17yyKfvrg7rR80Wev6/uPx74O/nvtH9W/2AhajfSIfuH/PfrB777nWq3twgLrkfsleiBwQaIBSv7ein6p+yvvG5J+/pGts2CRkV7G+NCdv54fO7j4a6Hus0Ll6WG+f+n6q5Of/PtFfVPuIc1FoNuSvL6ef3N8F+Bfzl7K+Tcn4tF+4n8X5mh4HoV45+HiyY9l/5v+X83H5f1r6zvESHJ1V+ofxB4l+lRLX+EvPfVl91/2X2L8V+Ffnl9W/9JoCPN/9qOB8l/anxZvy+L2m645fXfw3+d/jfmt0tRPf1u8t+Nfn3+j/VQBF/9BYX1e+Vu4gwZET/bBoftMqBngWb1/oZg35n7Q/2ntbYvnp+o+X/9sX+j/NfnHfj+0/4iBx2OQIwFr+k/gc8J2N6tl8D+nf4P4L/Xf1r5X3Ovg6+6/XFzn+PqZfx395/nfkP57+i/i/ejLz6xgH0KFHq85tmq/sjZ+KR/sidz+1Hif+7/+f3v5xI1/xf51Pl/2P7qOcndf5z+x/uX+3+NHwv6d7L0ThjP/D/x06xWT/g062QgI8//7vN/6V+v/Qn2/+v7L0NUEhygv9U3ur8V/qdtG0J/86lt/8z+l38b/lP87/lZ1IAU/9zzuNtwAV2dQlrzAm/vX9U/un8Cdpn9S/lAChrpf99fr/9UXv/99RuOwESFn8QAY68wAa/9izkgsE/nX91fg39DANgD8Ac5dLKrh9oZiC9c5mC9fXhE9s7uWVsXnP9mXl/UyfsC83nhc8PngACpZiGVRATC9NFlA0eAaIs+AShsBAc29Ajk1cMyooDcXpX9TgKI1d6qflY5ve9o/rKAYQAFAmCsYC7bowDAhpfAqdFGEWFnoAM/nR5ZKhIDa3ij9hntIDQXrIDKASHN3AWX8zbgQNOfnA9DAT/ljAc4CzAW4cxysQ1PAa88JOiU8/Ab69MerEDY8noD/nsKM4gf799Pjm11AdJ1Ega1815ouUMgc39fvknlVAd4DEges9CgUX9rntWJSgT0tdCt+BBkC4gnALA9hRgFUHyiFVKgQH18gU+1NAQe8rYl0CgqiGU9nsED87j/lY5roMdtp+BnATMDo/lfkz0C4CHLuclSrkP07yoFUnwNL9CXlIDqge89agXf9aHJsDugT89/9pMD5gQ58RXhMUWgbXQCAKYDbAfOcEuksDTAUdc1gX1ch+h8FTga58uerkCxOj4D+AckDm3kXEvgaMDihgdcXKtMCrge/MWICPNNmncCHgTjsXgSsD/yHNdKKJn9hKvgIGyg78O/kU8AQRoCgQQe8TFhJUVfs5tV7H4UK/hgD8BoNJSypSDk/jHNtCnSCBzs5dMQe4CMhhv8SAbwD8QQUCUnqt9j4jJUYGuCCGTvmVyQdS81fsNtIgUyCngbV1jAaYDIfl78yNp34nKtdcYvniD9gTIDDgQACFXkqDyyuMDf3qUtOBjttYQS0CaQRWUcdt09oNp35Fyj/doAZyC1AdyCBgYSCv9gewHqFNBrQfTNDQcNtjQZs1RQY8D4fsAAJKgfV/fjAC6Bv0DRuoMDnQdacH0IGCzfs5sUguaD5PgsCqQQiclnqg9+CJ1U/frEdGvtkBnphSN4ZrT1y2lPR4Pl9N0SJaguqiatdfOFcTXrNdoridctvi1Udhg09brrDNmvjmCR2gex4iEjMEPo2hWqhWDRGtl9VgdEMIzD2C+AIi95vi2CXpm2Cy2tYkiwRz5Ppg0FSwfVVfxM5sswD/kBwaiDawW7M6PBVUqqmODoZhOC8wVODZOiewqCF2CSwTuC2Op8twgVWC3gUODtwZagJXrsDHHgeDtJvmCnegaNZwRUFzwQ+DlXiuDrweuCorsdctwWkNcZlbUaAI+CBZn8CyOivNNxivNjwasMVtKBC91NbVfwVeDKwQBDirpuDSrjjMvQOY0VnkPcYITT9DZvBD2ZCzVywX+D0IYP9MIUBDsISBCFav49gdg0tCIRSM4IQWDYPuvNewRRD+wVRCerlhC+rjhDlaqOD8Ibm9mIdpNWIe+DwUpLVlwWhDuIZpdBwYnM6IVTVdwcJD5vqJDc5uJDr+uykbBCzVqan2C1wTxCawTRD+IYpDl9BVQCXnWchngH01IShsNIfqNhUtpDcIaM09ITeD5IUfMTIY7UKAHuDRFtZCi2rZDHRk+xSIbhCnas5CMIbxCjIfNcBIaQAhak4AHGl5DWtj5Cn2n5Cfdu2kHIdqxooSLUj2P/tVwS5CNweFDKKJFCzais1JAY48EoaN1xZoO1HXO2DyvLzVCoVrgQoQZD5SGiCOAO7NtWD7UiofEDbrqVDK4ElCl9h4oESLzU2oXVCuIfpC5IblD3gRFCTIQUhNalo0cgQN9F5obNYIcRCCwRN89ak00eQDiV6oaNDAIeND8oSZCIIf3coIYN0uoTNAeoc6CzvrzUNocNCcodtC7wSZDBmjiDVQSJCFoURCUvslDetrzUnIptDqwY1C+IRNC9ROrUZhBU0PXkxDnoSxCloe+C8bqtDAYaigvobeCFIf9C9anwAGmqqsobgRDQYWJDwYZpDdxlJDeAEyIroaFDDITtDmoZFD9aipDoZsdDToRCEnxpLVWOPjCGobYgmoS1CkcpY0fgYxC0YbmCMYa9DeoYbdeavC9tcOW9ggcaYWYWyt/wfTCSgIzC6PBtUSkDaDiAbiCnoRzD1IZjC7IVhMpYUEAqvltD7bqNV8yiqDyfpT9qfixC9Ye2CmglrCbLn+DC1kT96QYENsqixB6/oT8angmdw9BRUufsGC7QfFDDYUsNafmlcCwSbk1YgQBc6Lj8LYTw8lFqpV2VoHDpDtSCQ4TKseLsrc7YRG8h+rzFWikmNCvp1D3YbBD3YceCL9gnC+pAHD7YcmCY9mLDenmQMH4q412/o9DAfhj9gfhj8M4YzkSYEvoc4dCDfNmMV9lkx8zRsXCnNPtC3Pl4DJRhXD7eiD8CwWw824ZFpLoVeDzYbnD7bouh0Hr0C6BkD9e4VXD+4WD8pimEpzxGbDW1mHCu3v0cz3p71+CIug+8N0BSfh1DHHjPCKRn3D3wVZ0d4WMUpvivDZ1mPD21oqwp8g98krot9Rxk/DjwSHM74Tj8uvhrC7AZF0z0JaD18vtQXSqMYH4V1Mn4SJMX4QWCaYq1R/4ZEBAETRJP4d9CGYb9DdoQSNoEXQA9St6Up4YN9lvmN9n4dgj2wZj134RvkvSqRx1YQgjxYUgjiYVkJYEQD9oZla883vgi0SLAjSEXDC3IRu9F8kLQr0DQjLXl69sHj69kofLE3Quwjr0MwjXITFc2EVvlSOFwjWtnQibXnhxTYuZB0ESQj4ESwixEfwRnXsXlEFDrDbrtMg7AIsNNxjojFhseCoHOoj69M5s5LIMhf4bMCC4VGcbZikwR4IMg5LGJFoNopUj8MjDzXjm95vgYjg+l4jpwbQ4XEbKA8YVktzEZYjhtpW97bq/5WYWP0LXtIieEVI8+Eb1DjtCtpbIqADhtsaZWBNctQkRMUMkQiNXEcPUI1k2DPXoZ9eEWPc2rBZZckUqpUIRW9QbsNsc6P29J1C3NhRsyAUtNiDufq7CA+jIj4kc6CN4iCk6ikKDggQVcLknC1qkRD1/wENVc2FIj2kV5AqAP9cpke2Dj4qMjA2Jt89RMSUtSjqU9ShMiRbrMilhudhpkb4iG1pqVCBGsjF8ksj+CNEUEPKaU7jtEjJkbsjYblsjZOtehJiGcjYigyETkZLYwig6AOKijDfrlsjbkbsj7kVGDaYgkUuAAWhXkTlx3kYkUNQFY1LkR4jaET8jsbncjaeteh9/uCiuAEkUy5vs8tvpjUkqmTDLXnCixbgiinetega3Fij89CD1/tpsINkRI88UXrcCUdf1c8Hno3ogLD9QbV0YfvKCo/q4sUuEj8ELpZDNkTcj4UX8jEUUW8Z6k2grvq7gbvsKNiSk1J7CE+oCKlCj/flcjeUTMiBUYSj7XJKiVSmepZUUyjf2nR53qp3AvqvmtgYUPcXwbnM3wXSjMJHB85wcjMH0LqjPqtUVibGSi5BrtVzgPqiGIVEiYUbii+UfijlUWai0SGyUaUi6jQUcdBKYqQAXUZSibRjsilUSO0fiESQg0ZUU7UcxNtUVkIrcCTUy7qjDc3saiUNqaj9Rj8QCiGeCFwcmjc2KCj8MKwUaYGGic2hGjtkbSjs0cCli0dZkegKCjR8k+9U0d8jPUTSjvUdWjn2MYAZ1KCijyonUpKg9CW0ZGiy2jXJcFAnVCArGCJevOMFQJaVrSjKtDUbm8j4dpMT4XSjJUnuNp0VaV16ETx/pgl10Psv0l/u/MglhKUQkVztj5pAUuANAUEQLAUy0TrdqUW7cq0Y6MkVL0Rt+GQBz0TAVtKKCiQyo4V5gNkCuPgkDeQTUDeQfci2vJ+jvCt+j0gQFdQger8LgaaCpfl4Um0E4VfqsAjQwQ6DwwU6DW2KtYW8HBj9qAhiwahjJfntC99AXnCWTmg0YMWRtSGjsCBZsnDHHmGDK4BGD0MW98LUV+CFweRi+kcyjzbpBjo/qKC4QfMB+HtH9oMeWUcdl8A4WhxiudkP1mGj2UWkf78qMas91Qb4DNQdmj2AuJjSQfhicXpkDOMbHluMbxiiMQwsSMQJj1fkJia5mIDOAVkIrQD+iyJtJi1Qf+iDgYBjEUYWZmgiUCIMQRi1MWfdlujXhLgQ7M1gIEBvli3DtMXENrwaaC4QYMhRQdBtTMeuUJMeyDKMdF8/0ak80MaRwacvZiwscpiK3iJiiHpF1ZQG5ioQR5i8QPpUbYWAD/MZZUWgcFiyNlaBEMfV8y4VyDZMYCD5MQ+iRciVjcMT+989kkMUsUHC0sRljPQS5jPMTlifMZbD27pWCAsYVjY8iFiOAL9UWGpMcLMbm8aMeR1qsT7simC2FhsfViZyo0CdtulidLplidtp1jvMWEC+sQVifQYNjisU2Vd3EnCosXsCrMRqCbMYSimgjWURAY5jVMWUD14Ql0VsVkU1scNsNsc3CtsaI1+sbtj7dm4crsbu5RsXcdxsfN9JsXRjSONMFmgrWVFsTdijMcNtHse5j1sdljNsXljtsYdiBsd9i3/hWFlQWVjosUkDpsUvtqciUonKqL8HEbqDq5s1jw4Ut1Ycc9iOsQji3sUjiPsTtigsXtjTtr9iOQGv4KMf3dAcRVjTsXJjzsXSjXQizi6yuFitUU3seBsTjQ8qTinMXdj8fg9i2sUmDUsWgMacbliDAcjjSyqjiyEYXCTMVOUxqljiTsTFjccV/t/OHNixyktiYcbLiG4eINFcd1jv4dgNrwZEDXgftjpykLijsQ19LMXrjecdmjJwlrj8ypDiVMdDiXMZTj2sfLihBpbj3sRECxqvbjmcRwBuKmmVtcWNjjsdRiUMbRjYsSFw/iNmUeKroCocUoDlsWbissQwAusaHioHuHiUQT9io8WxVvcU7idcQnjKsQSD9cehi1rM0Fo8bmUMyj7jksZLiHZgHi5cS1iFcXnjEccrijAUXjogejiIyh4CpMfHiZMdziqse7iH0VRFmggoDM8YRig8QV83MYZis8S9iQ8er85QZMChsZGV9AEGDy+pzj7QdXieQVGjrrCUod8dGUTcf7jl8WTj7scHie8bTi4/toUt8WRjY8ow1R/nLCgcYnipsVPiZsdpEGGj6oPQZ3jpQWEN18X3if8p9jGcWjjmQUmj6sW/iOQR/iucW7io0dZFfqgEVACRG9Mdq9ilcb5iNfvliUcV9j1ccoECAbu44CRf8ECYfiJ8TXif8XjjPIsICSCQATnNlTiesd3ivMQ/i3Dl5U0GqXDscQBjkCUSQOCekAicaaC/QdLjaukwTrcXfjWCdgTmCdKsVcX7k1cWmCtkKg10gFoiq8ZQTj8cOjiohToMymgTGCYHjxCSAT78VIT9CbgTKwXbji8VWc2hmXiCAKQSv/m0jkMUfjHQbXjSOKTZG8UoS4RroSgCfujjBqAScCdlCzCYPjoCYpM9ADYTbQeQSqgWoTHCdQSDcZAiQyjoSVMTjssCVbjgCY7NjCs/iHYZQ1yaq0iwiX0Cv8SDjrrGiQMiYeIslmITkiYkSC8RASisQ7DfqlQ138eViKCUgTh0QIjqiRqpiiXoTSiT4TpCX5jZCYFjKiSei4JuWUaifAS6ieESGifcj5EdhMBiS0T/9iUSvCRbjDCUkSSBlwDQ8oMSyCcMSciQ4TUMU4SHrL0QnKqCly/mLjWcU0DPCUf935mUS6ceASGcb0SLCfwRmKpkSXYdkT7CRETNiVET0MYkjjphmU9icECZiScTvCfMSC8f4SFCQIQrCSsTbCQ8T5hsDjk8VI4xwK4SPiVMSviW0TZiRUMOicYS/CQPjASSGUQSaES1iY8TRiYijukRiS4SWxiQgTfD2iX8SN8U/ifVICTFyp8ihidwTrMVGjWxItNaGjTB0CQkTkSckTsoRUSmcX0TgZvViaSasS6SWdiR2vVxeiL9UQUR4SMCdUMziWASDiXISCCYCTayvyTQSdiTwSbkTYsfVw/iIqSWSRKS2SWSTTtk5UlSViTBSTzjhSUS46CazjxSVksmCkISjiZKTxttKTfCXgTVcfKSbzlkIkGqWiuCbriccS8SqODIl3SfWidSer8HSZ0STCf3jtYRHieSUoQrCYaTZYSqSbRhCSnCfVw5aDCT8ypaTpiQiSfiXMTJCQsTMyb1iwySYDzCYETTkQ4UPSQOivSTwSy2iNxfsiWSAyfESgyeyTESQaDUiZSTXSXcNq6sSAzMQKTyyfSTKyeaiIku2TOgA5jfcaviXMVcT21uXUOybXVuAWWTVCbiSneiNwLLAOTSAIuVaypfjF8Yl1uSeuTSMVsM1SvCZ+0VkS4yXkC1SYmT+ktCTZURfjXJhUNMFDjtN0oRAWFnaBASY1BuCnfRdyXvjaSd2ShSb2TplFCBnybwVzyROjW8bdiEideT1freSCgPeStfkP18alvwJEHDV9yf79M5gH08UNlg1BihTKycCloKTDViQBeSslvuJ1OsnBYfmvC5DvwRoKdt8LZDLC2Ybm9kKU8TK4NRThSeClSKRd9yKfn08KVmtr8nj8t4RdMUapjU0agUiGlnRSA5haA0KbJ0NuBAZuKR98mcs5tWKQRTxUVsNoKUjV50fN8BKaLMhKT6SNuAiR5KeD8pKQeI2KYRSSSbfi/MYWscyZxTgANBSp6s2jbrspS8hqpT6KWiQzKfRFtKfhTuahxSE7n99AxPBSswUPcrKWTMbKehSRUu5Taycz8lujJSXKUJdi+mBgZCpEiqxnNCc2t5T9Zr5SRKauirirOFLyTbj2KURSSgNBcFClIVQZB5TBnmSs4qbnMBKYlSFmNlTPeAFThcbW0u6Oo0cqZoBIqUhjdZr5SVKcJTaehtxplGVTkqZVS6PAcElgs88ZyfxSmqdZSWqfOS0vj1SCGD1wTVulT9KSIS5JosFxqQ0VQqUXDNABcj5Ue6jWtoVSUNsVTWqXBliMMSEGpiFSMqRri9RExgdftCi00UpTBqT5Thqdf1zuOgkHTJVTZJrgSpqXHClqbsVb7m6jzqdDMNqUW0tqfOTqvMRgpOPtTnKYdSwqcsiFQMaVFfAyFr0a4NLqfFTrqfqNzuPIQ80SjMjSrCATSi8jUqQ0M0aeyj0ccRgtijGS77mtSkKbDSiqQlTtqQKkwMPjTtSdujpVs9ToNsRgDiopSvqSTTNqWTS/qf5TrbGCIE0ZB5gqcDTpqZlThLhX50gIeU7fNLxncYeSb0a2i70e2jHRudwsBELSnACLSx0UWj4WNh0maaItvqU+1fqTdSzvn8wWbA6i7hpmD8qT4dRFmLtNxu+cbqUDlyIRBMT4mFgcUPaQkSFBBVdtYjnLo2DuUV3toZmbT7ehbSEabuNOIQP8v4ckSIFAQBnEUJCCkWicvaRSMfabLSnxg1UREdH9g6ZaDlIeHTRzpHTtJtHSfdrdwWjFVV2xrbSKUKsgJHE7T84YHT/Qe0AzIdRdPaVFtzaZidLaWsYnITJM86fbTC6c7SS6cRStkB5D6nu7STaa1s06bnMM6Uvt3uJMQO6bnTgsPnSHaUbwW6YQS6POlDYoZucaLoN1e6Sht+6V/t3uAiQZ6aLUR6XbSC6Y7TJ6bd8wIR3DfgZeMI6VXTvaTXSEafpNemghJh4cz9G6dvSJ6cXSp6fWCumu1DZoUhNj6Rhtq6f6dM6RW1aoXHIbaaPSm6TvSH6W3tlmjNDf0d3SA+ovSi2svTW2O9wquKAy/6TfSAGXfSi6Ql0CYf6CD6Xp8j6anST6VHSz6bLS37pUjDxrfTx6agzhNi7TYrnAR1oS/TwGXEdTabgz06fgzM6Rfspoc00hof/St6aQzd6cKMVakDCZye/SikU+0YGVRx8IrwyYYcoieGUjC+GQeSPafQyP6afSv6QPSkDuU1xGQHTH6XqJ7oTIyIGXQMoGUIymGUoyWqJ9CJGVsNSYfwycGfIy8GYoyV6do9aYWozNFnzDuanPTK6RYzGGVYzYGcF0HGeijiGaz99XFBBNgp4h2fpsFkGVwzgGTtshYfeRHnlU156inTnzgvSGGX3T9GdYy/LlEzuaTSofGYEzWqAwgjeEEzOGc3TQma3DdfMY0tGXQye6fEyl6Ykz3GeIZCmfvp46RD1NgUUz7iUE8BGcH1hGRBpkyc4064cYyERjKcEKYhdSmS4yEmW4yqONoCIksKckGbkygGWgyKGfGMlIrp8PqbIz+mYIzRuq0yQ5u0FN6WPTC6Sz8ooL4yETqQ8N8XPcQpKscCwIXiwztcS60Lr5dGn9ES4WYzYmYj1dGcsyKmVRxMejo0M1Po0amQ3TgmZszMmRkz0mffTCzubjO+scz0jjgTE6bU8NZr0ynzvPTEejnNWaQ2AmzjdThgXTNGCRbMmZhmS6XgdtIzsJcaWiOdbmXnN/ZipS4Wa0yoHLLNZzg589RKq1wWTiyoWXiy1BoSzHmcbNJiBSyzZsiyrgKizjieizxBhgMdtt8STKZ7MK6RrSRZtZS6WUMzjZn8Rw5s5tKhk3c0Wa5TTGnhCYmdSz7mZXAiWe8EzGhH9SWbS9XKVPNGavyzFmS0z6WSYstWb4Bc6b8yyGcltSABqzhXjIcnNFY9fvhM05mjqzIGWUzoGfqyVkjM05msaztmez8lunvNMWeNtMSuu8LJoE1BkDW8IWQszHWQMzymSKyFXjE0PGh6y2fn8zauj6zBLtUN/WZGdMdmwBOET1AHyer9eAJmzAKICSY2T/lKNqGztGfMNFWTNBhGXegteAU019jbSTWd6y53sNtU2YJd02Xmya4EK9MdrmzObvmzWyYGzYmvBcS2SUzw2UsylWY8y70BJMa2aoA42TszIukmzN4SEN35s2z52TYj35hmzu2e2ycdl2ys2ZBSuJjWzUmvKznGSOyK2WOyqXNzw92dOyvWbOzG2S5il2XaSbZmuzt2Zuy22dmyHYYWybsJx9jaUOydGU6y9GUMy70AbEa2ZE0L2QmyxYnOyAWWD1r2SGSH2T2zo/luyYOZGS9CDWzecCGyqWYey9WX+yi3m+zkOcBzTWYl1IOV3ipevhzkidByN2Tmzn2TuzPJkGyUmg6zv2RGznWX+zwklhy+cDhyG2Su8bZreycdiRyX2TgS4OaRzX2UhzZmjRyy2T+yHmQxyJ2VRzZmixyr2WxzF2URzGyYmzyOU+z12dxyzmQIQkOUU0kYEJybRuWzK2QhDoSepzcmlJyEumByHZhxz1flxyO2SmzFOb2zEOVRyNOYPwtOTm0dOWOzP3lhz7OWegjOYmy5OTNSout5zn/t6zrObBzAuQhyJeMAAgAA")},function(e,t,n){var r=n(3);e.exports=r.decompressFromBase64("FACgVBldO38MUglKMACAigGwJYGsA1XAUwHd0BRADwAcAnEgZydwHsA7dAZQE8OALgENq6MeImSp0mbIlhU4JMpWq1sRRgCCXEtQEkOAExJH0TAK4AjJiQHo2AM3QCAFiXMBjerlr2m/MKijrjYHnIRsgpokbFx8QlS0eDoACquuBwA5kzoePgejhYcngLsHAA06CEk2EZVALZC3mzoQsboVmxs+E30+OgcQg3MbYxtRiZmQvb0xWUj6MkYiatr60ua6ts7u5CowABC3b1C/QBywx4AvOgg6ACSACKU56kPAGIPlABK6AA+6AAMg9Ur8tECAPrcVI/B7nADiAOBoPBUK+lCBT3QyAA3EcTn18A8zLd7s9Xu8MX9ASCwT8IdDYfCkbTUQz0d8sTj8U8SCEOKZCGdcEIrGFLosyY8Xm9Pt8aSj6YyYXDEci6WjIRjuXjgB9SHVJTc7jLKfLfhr2Srmeq2crOZjsXqaAxmKxOECxbV0NKKXLqVaHUy1aylVqdc78cAY8AfkIyKk9PZbgBvbgAYS053Ov0hqQA8gBpV6QgCyWlSGYAEpDswBNVLVlkAX3xOl43AEPmyvtN/qpCqDWtVLOHHO1XKjwA7XZ7WQL9HOFgaVhI9D75Nlg8t9pHtrDmonkfHjPOAFUy4dfnqY3PMgvaOuZmx6ECCCb0AB+dzYWi4IxrgAFgANgADiAsCv3QAByfISBg6MgTYLJcE8IRsALJ96BfJc2BTMQf1qf9ANAiCAE5oJgjh8MQ4BkNQ9DMOw3CdFJQjfxI4DwIAVgABio9ojDohi0IwrDnwEV9Fz7b9OIA7iwJ4gBGKjXxElCxOYyTXwADVfWSiL/BSyJ4gAmKjqHU6MflqGZynE7CpPoD42GwbA2DIXJbjk4iTN4gBmKjHDcjyvLo2zsHszhHPXZyAAVGE8UxRh8oyuNMoCqLdZKTCYOijlwAQJJw5zznwwz5NI3ieKoqwipogQ6MOIqStYjo0qqxSeJAuqiqE5rWpY5yZJ83zjOqpSAHY+ucwbiuGvSDM6vzJp4qDYPqgQrPoArgFdRgWHKDNOCYYRBE3cMJwvK9dyum1Qx5fa6EOj0OANWojFs5xbg+o0rnxA73XKP6vv5A1qFc+gmgIgAeM0AyHcaMt4yjYIALhg9AAD47gHC0fn+I8z0va8fmQdAAG17nS/ywJAgTYNSLHAWRumQNU2DzhZjjVsUkCLNgn4ebZyaQKC2CHhF2mxay2Dz2lrqyJA2rYMOLHkAAXWjIGjs4c8hnoXg2ucy6C3i8FCx+SF4qBc9uGRc3LYLa2y3he2NU0piTdfcr7EBFqFp0vD7BdF7gc4FrDeNxaNzJJ2GStm27YdwEE8rF3y3d1P0HTpOy3PIF3lth4s3eAtzkdi3E8zp4HkIB5uAeCuAWADZpDzzPR0RSEMwrsvkXvbIfbfD9W/bqRRO92O2M9xjYtK6SN1pL2F9w/Tl7bieJE762gUobgc93yF98PyFKEwc8ISr53rYRH5KErO7j/vx/6XPy/r7T6uM+ti+r6BDfGu1tzgFlSB/AB49t7SEitFIY2l6DOVcu5TyuRWawLKDFBBCUkopTQVvaB6BA4j1ngHIawcZJkKDovegG8gG/0hHCBE1ZwHcGbB8VI9Ck77w4dCdhnDbzAANmcXgus3qXSoOHPW71iilGOhhbAUC4jgDLGwIwFgwgfFkZgjgGYFHImiAkWGYjyjCKNiPSRbppG43+AQ2IJjOAnQ4Gddo/s7GRAce9Q0YNnC2ISJ40G30IZQxhko2IMEQBY08bBZALN3ERE8V6Ncii/HxD5AKIUIoxQSiuPEuQgjnpWPET5MxoipHiMpp4qOIiLGeO1nebsFhSgWEYEYeKZwrgGDjncaJgIIlYznE0gQLTTDtJwiMLp6BUwwQqAMxpzTWljM6euFsMSYKCO4HYaJK0Jr816rBaZmyBCUEEEVMpRTyjiBlvzGasEWx0QkEck5ZQBDnNepc24pSnmnNedEymRyLHfJeW8iOHB6kyC+Vsn5ILpGXSBWc5E/SeBQuBdE9ZWMxC3gkCkeFry+z/LsCSQwZQaj0E1lTI5qijC4FJdrTYdjcW8DhYSkwpzSUUrsFSmlpAyWD05Wo7l64noyCOUStlPLLrXOVhtGCfFFZ82VmjGCykeZPBQsiPR9hkRqqyBjTG6BNXCoiIa6UUrwJTTljBAAJDzUVrKBCksOM0AYgI7XEtJecZMyJjg9CJCSb1hIzj4GNEauQbrBCOudZKpW5rVbWpVWIVmZqwJTX2dasyGKk0xpTbc61AVM2812WRKaMqrVAQLaLRSU0lVWp4hivUkRw0Op5Z6/Q0aFXgTAoza1kIE1Zo7WBMCnMe0ZuRJWsiYFBY9vzWO5NYEJY9vLbO7NEEqJWshHWp6DK7AWOlOOztcaADU8qi2drTQAWhPSjQduawBXrpoOqiAB6DW+JHn8upeynZ16wJKthljUGmywhyM4FMmZAHvFAZICBjgqz92/u7djB50hAO1GgzovsoMQ2UzuDBa497JrkWHYe/Dy6B3kSnee0j/bT2/oXWAajhbr3kUtU+/DWsqaUDCCMQQTzynlHBeILjJAeMCD4xc0DtxhOiaOVM5F1DcJUG48S2Tqy33SGkypuwcLhAGEwBYDCgqjBYauGR2j5E43TM48pwQ74zrkvg+RNN9zkSacEFokoGGG0JJswIOzBE3P2GmbMpTIniVtjyZIQLHmYMSOTeRXN8UYKAnizKyg6zYKRLuAS45/HODkspiZkY5LXW6ZIPpwzNRjPeONBTdF6m4iBbENKaL3jhTYAsB4QEgXNlnE8K4MsQgmADG86sVrn12udb7LObsD5FzLlXOuBriQeskD6wNobAxbgzfnMtxtZWKt4Cq0Vk0IAdWJoNTMC752YLo31ZqimJ3owxk8c8o2+K8MwXJZ4/ESZ9AFg4NgURgh3u3HjImZMz3YxdhmCQENfptwE1PFCbuh5rSOl1LydVZJrW2rK7VqHsYicBO0fI9ym4tBdAAG4kG1LIsJUhmhsCYHTkoDPJBaEmKowQrgWcxfZxITnRh6xrfoHz+nqSZBaEcF01nngBfiC0FkWn/PJfSCV1kegcuFdiC0NgAQ2u1dSC0LQWgQOTomFoEIZXhvIu65+AiQ4tu5BDcyM72QMx2ju5kJ7jgZlvfq4sG4V8AfjdU6yKHyQhx+SvhVxLu3RDaieUjxIQOJ15gp/EIcKKnh8CZ7ENn51bFuD9bcnHtnRuo8dfL/Lyvqf8JSQaPnoh9BPIcGb3o/8wg8AAC8a864NSQUIHeMhmSTGdSE/XcD+9VwnjMo/x8G6MI4Ef0/F+QloB35sdcYRb4ePCQgI+tez7kBmKKLAO94GJfFKKDrXxN5P7IE6Hlj/x9P25V8g3aDVk6x3j/9Av8AApOwP/F/MsXAagZSUAz/CAmfN/J/NyFcdvR/GQZ/JA8qP/VcN3FA6QE6BoWgIPdcY0P/EoGYEgmnRBVINgZCJiVIXAEYP/egRgbAZvTwZnVg5nVwP/DPHAqQDMXgL3XgyQJ4INBEHCXgZvEQgwSQ2HAAYhkIkKEIkBEOByMAULwCyFcDEyECpwfAUOIKUPEBUIWzXHoALEcAq0QXXH0JXFMPMJFzOAUJh0QUkPoMMDekM1eVcKp0kLYE8BXGJQMPgJkDVX8NE3aTcF8LCOJToIEDCEkIMxYMMLEH7zryExp2QOCOkD0E32SOqDFHFwrwTw+GaANzyJKOwFsGbw+B33AXKO8QeGMD0GqLawwl/3qImzaJIHT0EBaOMABxIHMOqIPxaLFzKKyKkANDGO4FfAMCMEm1SOKNwDGIAHVXx8ApDFi5APgPIQ88jHAGg1FqicJPBjjSjQgtjZAPhD88iEQSA2ANd6A7i2AJkjZm9njjhihqVshjhqB3j7ieiBBCA4pmjbj7i7iBBPjjAHxfj/i2AIT4o3JeAshHFiVrCwS2BGiqdEo2AAArdDZ414xQiYyQZ4wbAoREzIcYoouQZ4nE/E0oOE+kgk+4okuE2ydRZKQkuwN4sEgQPXLpIYMoGnQE/4gQZ/W/coGgjCS4mQCEjMFpRgXjNDGDQo2vBPCEmgTwDrKYUUvk1DYDHRNUgfCEv2KDUoUwPUkkiQCEgsKwBkgQUGMUxEo6cUbotgHg608QCE2yVCM6I2IeCPPk80uYq0mk2QBEMsOor0sQMQkgQwZvasIbVwZSMyMCRM5M5SBmDMpgVwMyHqRMj01/cMmQaseMDgPPPI6sbgdEGMx4FfPIxolQ5vJsoQXgKgughgxspov47skKFsjgIEYoM4FY+Mysusxoocw2UckgfAKgzYgc7nSI7spc3nRczgNwJgec2Hdcnnbc6Q7syw2XQ8gzKw+gfc2U6QRorpKnDCAcm8jCeQ7smc8cksq8jgF8i8gchw4s9UuQRon8r8xsn4a2RspgZcdyFs8ClcKCv7akv82QIseM2gefRwvIosMsNbZxMyJ4ZvDCrCpgDMYlVvACHCvCzC9oQi4itgACc4XC9Cii5xOivClpKSVgY0tIsQL0CfPI7igQNY/oBc3i/keCgfIEBM3i3ATQyE6vZvd8aS/gwQus+SrQsQtsuSqS1SxgCS5SzSgQQbZXQQIQDS6SjkuS+EA+cBJ3Xiiy3fJ4D4cy3MXfBymypy8BMsRyyyxhOAt8yeWy1hSgay5S/y6ESgDy1yry7gSgesTy3fQ+B+BEWK1hbgB+Juei5SvwjCTsy8qQDyIMusvK5SPiOSzydE5S1IHwB/ZS4c+gF8k5NQ3imql8oI3yyQKckcsc5w0Szi9AAy4lYyvI8kkgISusoa7K5vIal8ka1qiQQbAQfrCakQRa6gQMia0wUUTIma8QcAhq0a7AvajgVawazIQgia3AI6bIMMhCmQcA6gOahawao4x6kwCazgEgYkrasQbnd6p80ajcrgx6nneq16nnFq666QVcpgYGwGzcsGgfSGrqkGtwRGvI84SseuSgZvT1fi9YlQjihPcqcwtAhoZxLGtgcwn4VBLGl2MsWo6mn4N2c4G4us8qMgZvDgeKMqz69Ac4eKZm7miCpIlmjRbAK6gfBbLGlcX6gWlcLQcPSWhoMWnqhbdcNCJWgmlcQbXs4WhocAza8GqQBbbgGCvIgsSYZvAHIHC2+gXa7mgsbgc8WwX8gfTm6GIPZveKXAD2tCV8g2yQeKBobqhPWgZPPInEzkoE9cN6D2lpZXVC52nqvm5vAAR3yAaGwAADoS8fA/BHjDd0AE9U6CB06s7vBfB+SshNcaB87C607M7s7y7HiaA5wa65Ai7eh66y7c7K76AW7VcC62667S6c7jlbyhaK8B7ZB26S6G6/BKAx7q7+7a7i7O6R756MJm7uxW6p6h7Z7R6MI+6JdJ6ZAcACAkx+ts92i6zT65zoNXA1KPq/aJAb7iByBgSxdyhm8jz1xobr7Tyuk4aerv7e7hAXC8jMBCBHauan7xByzbaYGxByzlc5b8ruakH3SmDahm90H1a5B0GPgTiyh4i8j0GHgQLsH2hlcixWLmdzqKHsgSAtb6Hlctajq6z0G9bmHGHMg2G0HKHuGLqshcHZAOG1EcrJB0Heb+aEH0BJGRbhGZA5GRgfBPAFGYF+HLbH6B90HuACg2aSH+GuwTAfCDGGHjaqq+GGG4K1GpB0HdIyHQL2H+HdIpH6HfbtGdySHTBsGk8hAjBxqvGnwyDAmc9xGJAHcgq0G9LsGPTjAYmyAMCSGKr6Dm9Nk2C4m8i0nOAjAREng3DnEHI8AvDMm7BNifzUnSnYcfzVzUmpL9aB9WB6merGmAa6zdHyBm8mBk6E6E8umwG2n8crhUmBBjHhn1wemw0wR6xdJUnrAnTMnrBAybHJBzHUneBCL/9m9zotn2hWnubUg6a8i4Lm84Lo8BAyB4ymmE9rHYmg65AAm6zsrpaZHsqXF8CTm3C3naBnmB9sqAAtN6k5kYo5tRdSkF3Ix5yqk5uYMJ8QVIRfKA9Jhsx5hFyEZfE51Fz9DF5gAQKAsKaB351F1gVBl5olrpCZ2QeFnFqAu5yl1FiwU3Alnqqls6ZSNmpF7F1ltm9Fo5hF7lmlTl3Ftm/FilmQFloVyEYlwVtlyV8l6Vtm2lsVvlyEBl7CQVyfTgZF/Z9fHllFnFtFgV3l/VkV9VqVo1ifM6cZ9VxV6QcVlVxl0V21xfdlzVwV7lrV0lnF/lj1wlr1yEE18185yVqSt12Vq1wNhV0N1VplhPc8B15vc8KsZvBY/zZNro5CNgCF7mwgcs9xnql85vKasFusuqjJktscwBhPF8lG8t2c8pvIlYjIA8kt0IIwe6vZmRlY1t9tniZvex8hvIlxpOvI+tusn8nCzxsd0XX+7mn8ytuQH8mt2d0XICqdlBfRusv59fDlvIrd/VrF3d9fANzd9fM1k9/Vy1pg5vPdifaNx1qQG9g3Hva951jVjgH1nqx971l9v1497mr94NklgfADy9+9yQADu9n9s6Nm59mLYAApNG94QgTGmLW4L8WyAQVIXgJ8a4dRDCaCL8IoEoaCeGL8GLMQj02ga4UBXMaCcdfiHqKiRDjGjFJFXGL8Y0a4FxAwUTaCNFWJfET2uXNDjDrDnDjgFcAjojzwEj78cj1vBl64CsJsOjqVBjmVT21jrLXGNZfEQW4T78UT7DkgXDxIqT2RWTsj2RCjxT5T6sVTpWfiBmJjkWrTrGHT+rYAGvETuwMTkziThocz4j9AUj+TyjpTysezpjEyJzqdBCMQNjhLgT4ACqq+koHzzD4z64ALoLmTkLuT6zhTqjuzhzhVJzy1VL+LzLdzpLuiCoqo1Dwz3zrLnL78aTyzsL2zyL0rotJztNerqrxL3T4AFQjQrQ7gHQvQxr9D5r8TyTtriz/LqzkoGzqjp4J+HrjKJzmVUbvSib3Q7INznGWr37NwgFwUAzmbzLnDvD7AXLjrwr8L9bsETbmLviKabtf5t6o7jz5LuBy7ozubwLhb4L0Lx7rrlT6L0ifiKaKdOBn7k74AEOjd9Lpr67/z+bwjxbsHlbor64ZkBEV76H97y1ZHhHjjq4a4agPjvLLgcDb8Tj3gGniTOn5L33HyzwDLvz7LzH9rpbzrqjgnon4CGHtNdn8nxn5n95UDeninkYKnqX0FYbg4p62RLnlr3n7Hgr3H8Lm6YXoCGHmVFX4SBL7ThnynoQRX2FWXzjqwK38RTzpnNU9XoH+7/n8HwXphfX/iLtQSNg/KU3mruXkz6nyxaX1nuiV3fWl3jH4HrH0H7XzwVb/Hr3qHkXviSdQSRpiXyn0P/jyP7Z6bwH2Pt3nHpPvHoXtPg3jPy1X3HP+XvP2n4b/3gH2bkvkHvLsv5Pyv+jjPtNf3+vkP+3y5Tz/3jtmPnnuPvnrviv1P3vx9WCMfwfhXsPpXzznI1v9Hyf0vxP5PygXSeKb3vicibtHI5fxvln5Xgozf7n1r+Pzv3fvHvXqv/iCjYKAo8/4fmX5LnY7oX8ifu/tP0f669LwR/FjFRF/7qRA+x3YPiv08Q4YbelPS1rQC/4cAEBIWWAU4EcC2ABAqAzWOSk85EVh8RfNvtvw74PcdeinZ/r3ycxUQiB2AT/qv2kToCsYsA5AagJYHm95eWAnAXgIIF/dYm8DAAZrwT7Ldy+IAssGAJlSU0vijA+AbBAwGcd2BTAt6JwMwGOBsBdgPgcN2HZq80et/EQQ/zEHJ8vg5wb3kVW7R81l+pUEgKgIUGsDOOHAbCHYMQHy9aAgdDgfYK4EmdHAVOAjuknazXBGY8g1wSZ1eRPh/B/IQIcENp74Dhu1xG/hryn5a9jBePUweYL4hTpri1g2HC4MUGU8nB64PIQ4Mp7uDcBKg8oGoM460A/B34AIRhCCGeDQh1wcIbYLqFRCGhMQlnnEM84B14Kwg5IaIIF7XB0hL/Iqpaj6E5CDAxQ7wdl2cEVCZe+QtwbUJCFLCfBtQr8PUOwCNCFhaArwbANaGRDHA0Q7QZ5w5rQMBhO/VIeF1GH0ciqaac4btGgHsdOONgmYbALKHvDqhKw2nlUMp6+CjhJw3YX8Pl6HD2hxwzoacL+6TtUeV3AwYMKMHDDbhanIqtINhzL9Ch9AL4aUI8G7D9h3wpoWsOuAAjwRQI1YSUNBHGdARkI3YT0OS55VEhrvcge70oFUd9+h/MYUVSoh5U5BTfTzoVWKokCt+gAlIcMPZHmDUy3IlCEVV5GX9POjTRke33v4UDxBinHviiOUiWps+zw2YRf3D7DcWmiosgcqJZGqjPeDwQnpyLTQtNZR+o+Ud036H6CkhVwsUQfwlEyo+mTUHUbAL1Fr9kufTI0SKKGEe9rg4osYWZG7R9NbRfouiIXz0FwjnRzImfuF3VGOdUyU6c6NGOt7Jdzo4/J0UyJNHJi1Rc/FEWZEtS5isxDvZLtwDqaBjDBKo5PtQNLFpoaxWQDgJWJH4/9SidYhEQ2Kf6gDwxMqEoqUA7Hf86IrtBoO7SFHc8qSLokMU2LTEBRLB64ScV6Oq4wDqh2I+XsnRcHJc8C9UaPvmJM6zikxwAqgQOLuEBQp0+4zIMvxQF4jmhO4h8cl0Ly54jRJ4wsWeKo4ZggQPwcwQFEtSvj8ACPSmLAIwi0BXAlvUkQ0PzKqw6kw3S+t5yPHXAPxQA64Ypx/F/ixhAUNNIhJAlgS/wkE6kdsNgl4DhucZHSrCOL4oTBAc41kdcEwn/iZUFE9sTqNAmcdwJRE6CSRJ4hwTYhw3RSoeITE4dUJookMYxLGFARu0gk/CRxMIlQTNhHQniXxO6HDczK04rLqJODH0SJJdwoCHD1MCySLe8k4idcFIm0jhufVIyu+Nomnj0J3438eYKAiWorJwgIyfL04kKSthZk3iWRM86HBW8ZAISdRK0mIjxJjkySbhMCmsT1xuMdicZIgleSlJPklSeH34EiQ9KD9GyeUM/H2SGJEUvSTKhUoCAH67kkzp5NMnmT4JnnEQv0CykaSRJtk3KcMN0koj+IVEWqfgFKlsSCJiUyqb5IsmedipiE7KXRLNH5SsJdw8yFRGGnV4yp1wCqdxJSl+TkuxUliaNLsktSCpbUy1GtO0oxTEu8UjySZKWlVT+JQ0vSoJI2nNTwpk0tqWmmKkySepckvqadIGnVTVpeldSfGJClNS0JW0u6WmPWgzSvphk56QlK4mKSIRyklaRlOkquSBqP00gaFL7HhdWpaY5zrBGKkIz5pi0qGYELOmqTPOIuddtdP+m3TzBAsKiCTLCi4yTp+MmCe9POnJdG2RUJCcJOPF/SxJOk7aRjMtSsyDAdM16QzJhmDTkuN9c+q4BGkNTOZOU8mTzMBllcsy+yL8JbiSiw4jAVECWXfTwngzjpws7yYTLSnDdtZ/WeqUjK34ozTRyfdGUrPAgEc1Z0GDWVrPyCSzupsUqmL1MhmGymZRM6EQw1cYyzjR8s8aciLTEfcqIkjKwd6M47UomAbBDPG8IfFEix6nWVAcFiiS09VknnUhgOwtnwixpJg+EOYNh6Rz+GDjZfqnLaFooU5XRdOfT08TZz/ZyuIdtI0uGbSQxYcpWRajLkMNW5y/OOQnN6JJya5FIkzlXKYBbiTOOTAwJPN2EZzdhTciKM4wcY9jC5aQ4uWMNTS9yW5FcmOZTwnlTzcOsOOeZ4gXmNyEJOefAMXlLzEN85iYm6fRK7m9dlIJaKiEBJvmuAy8y/f0h+CPkLBacYQGXEfK+LrggcD4I+VTjchHyfAw2SEI4G0qQgR5fIokUxBYIh4CC5Q/PviBwavhmCa8jufRIXFKzfeQsfhidEwYMD95DfSEIfOTljzrgEhOhWfIblZyBJ2+RuNGSomkCgxYUohReJRGZ9YINYZ4Jwsrl1z6FswkwJrnjIs4EF8ZIwC8V3F0QRFwLe+QWJDmNiBFaY1dMIubAH47xreO3pItgHSLtKci7SoouB7YLgAoCBmoc3UVKjNF/YyQWMPphMcaatRcRdXkJEMKRg7QUyXxAzpdDw+IIkzi4mMBnA1CxjUycpGCW+LZhYRDRPZBpyxK+B6UvTjTTUXcLhR9Y62S4vMEL8YIdixmoQEMVsBjFo82Yf4o4BHyIlOTG2mixIA/C5RyXA5pwoIWPzxpxCl+SfyojtKYQ3itOSYtjkkAZFzAeBZYqUUjLKewgUIKfL5FtLslnPZCbwtRnnjXFdwt/kzAMXUKTODACpUfLMWyLJlCi6ZTYpqIdKg5ay/JRIPMHgDYIlywZXsuuBVyjlYy8xactMAvFOYVS0xR8pOXyLvlDQQWBcuWXtyulWizZSiNoGPLdlHsj4UYveXjKLFZyhoL8pQUMLjlEyoFVYtBWLK6IHxQQTCTYDa0cl3Pf0uvJuHnhzgGYSEPfALDnh4okIGlUWFAQrEzBYw8iMxPuJQlviWQX4svxqB1BIQQwEYMovxDPEOSTSEgNyW7CP0J+lKwhaHJpV0qGVTKllecDZUFgOV3vCMd2ilWmAZVcqo2EKu8SiqrgCS2AW8rFmEr7izJUoCaoVXISlVkKtIaqvpU/BGVzK1leys5X0cIxU6Okq3gdJOrl+YIv5Zx2FVqExV1cglZKvuJYkHVJU1kjyWdUcyuO3YKlYpw+Aer1VPqrVX6r1V8RLUzxJNSGpZIvE014aqkTMvl7RqLV4q58XarYDJqjRrq5xdStpWervVmq7Vbqpf4Ri00wavEuhhrURC61Pg81bGolXABniEJPlSSrJUrKM1Ha7mSqu7X5q+1RawdRnyojzq7Ai6n4qSrNWfRG1ca1pS2oRJIkUSuiNEv/xdVZrlVJgvNV6o1W+qdV/qtTmZC5GwQD1AgREkDlvVEVBA64U9SKpnXNqE1bAIapSV6JBy112kjdWqrfUFr+1X6xzj+qDX3FYNNFQQMv1vzwLp1lqyddcA8jt4G1kGmxc8UeJOr21T6t1V2pQ29qP1A6gNZqP3X3FaNqa+VeBpjUkbqNAJW5u/QMDLrFVDGztTmtfUsbC1n6vVVmU41sBASImvQHxvPWzq7WjojNTcqLFUcelW3H9TKk03L9Nc94yNQfIkXkjZhJAZOrQrOBpLbVv2V9lpuok6avx1HbRWVzMgRj+lzm5fhcz0pHzTNkCyzb8PxGU8bNdmrEUtIxV+y6IdrXVuSofmSa9Nnm3rt5qnQJbHAJm+gGZsxWzCbVVm2AZFtvLRaRZ1wWLcbM87it3WnSlLR5uhWYayxvmv1svn81D5pKQW3LSFp8XAjwt8vErfZpi2wynNF7ENtcryW6aGteqsyGmjtbEscteWuUbXN61FbOOg2srd5Mq2goMlKXV9meyS0aL11UKmbUZv21SV2tgW0jcFtI2FawtzQjbQ5o+nxadWhrRxcHOO0FLB1S4lrRPk/SLaetwymxTVoNYesIV9W/TTFzMhXjftQbf7S8oC2dbrt3W27aFsvWjaLWcrCbb2NuUbK9VAE2HWGyYIA7Udq2+7USMe3DbHNe2v1qBzq2fa7l32ubftvJaXakd5m+Xjdo53jy0doS/rSZ0p3lbtt0iXbXax3bva3NeUyHdD2h1nb9WSLEndzteW87QUYSrjlJUCXBL8yVq9bbZtK1PbYhou19uLsO1OKGdeOwdVJNh0ut32bOrQl1qW12iVtQO8nQwuJaa7MhqU1XfzuuCC6ttUIl7ca1KoPrtNk29zdLpF5ljMtR7YPYrvy3WqVdzAn3e7qWlBLPdOuiLXrqG1C6A9GOoNn+xXWuaw9UutLQZucnW7/WsehHR1vt3I7Hda/Z3Rer53NCU95WtPdrr60Pas9m25KcLreh0jA9t7eNtjuzWpbGtXm0CITrvZx7ltDCu7SzzV2t7vJ7er3Unq71RaDd3Qo3X60g4j7n1X2gNZBAr3T7q9V2pXVzvj2cd59zeokUvuSkr6M9A27vZvrSnb7WWkIFzTwuL3DCI9BvfMp91RZrjEuCesnejpp1csP99OpDSdsHXTSmYyrIA2b1gGI7a9Su6/TGLz1QFEther/Tjqm2/7zIPECrpi2y0vL0D2YwfRK2wPg7zdY+vVYx3gPUt3WdurBZfos2gG7RbSoluNol3f75xpeqHcDMYPv6FtZBxPVWMoMysDtOB3JXgfD0CGZdmMmCOKykMXbT97Otg/L3IMSHMDoOqA3wu6UKHI9VM4Q7i1B1DKm9GB8A1Qbe2m6Pt0Bg/d+pAjEGmD5h9Q6gc0M86ODVhlQ0TpD1F65DJe8felpAjM7qWfhiwxpuVZ0699jGi3QGvtmmGpDrO9w6wdn0FbxDnYyQ2+zB2rK+D/C4IwZojlJGcjkRzvbfo12p6tdq+/vcNxUM27cjoewIz/qMN/7S5SRhoywcB2WG19FRrIB7o73PbdDBemgw4cZ0Bqe5JRkVmUbW1IDKjbe6oyNusMysRjeR5o/wcKNQ7t5HRyvRcyeEIrOOKBtI07rn2ZHOAi++Y8vsWPU7fDu+3g+sYKN6q35JRk/QcfYMu6F9yey4/fuuNDHljbNO43Ycl0tHNjMu0hcoeVavHgDhxmvccYb2nHvDvRt3d8ehlBDfjzMuiI+0hCwd7jo+6bYOqEUwQsTPeGY67tmHEsmgSxgDjiaBP5HDDoJyPboqJOvsSTqR7o4/vCVSVKT1OrE9IdGMGGYDAa9xbBF5NqG3jWhs43sJb1cmoJfxkDjwdpMPH6TeqopfKayBdHSdHxm/ciayDcm5Tr2xowEbxMEGzIfSkUwadJOfHpTup2UxifxAAcD2uJ/feMe/XbLmTrWmlBqbQOSmLjNpqk6eyx1Om4jdBwdQ8vdOY7xmlp7U+SZlP+nadgZxU8adaPmRYV4ZoNqBy9OeHldiJ1QV8b9M8nt2rrWIxDuTOmmZUWJhXWIZzOVC8zepsk2wJRPRD0TW+4bgBxN0yGC5zp+I2pyXHdo2zmrTM+kZANanvd1pus1ab6MDGajAmXbVidWNNGkzDJg3kuKnRzmq94prwyOaRMxn8zsx+XnftRMP7aRs519vOaNNdmQz9HJcZagA7TG2Tmpno7mbHO2mJzOpqc7nuABYnATHZ5LbQfxNXm+IaaL8w6yjOjm+j456Mw2f6NVH09x51s6+2/P8n1ll5ns3uvNM76QL95709WfOO1mXzkFpQY2c6HNnX9AkhfPqyzY/mjtYx7s45wCi/qYI8+NfBReX5sE7upGwKUfNKKJE7NOFqUxTroDoZvG2hgTGReYt/bDTuBxc973ovXjyLEl1i9Ao4ueQuLzSO8iJdwsPbBLFpNQhpbBRiWx88u0fPoeQv/mezHG4RfJYNxT5R0G564GxZgUqXSN3F9Sz6Z905EhLulyU7toeCSWt+t3PExmDooyWFNksUg3ZfSbUodE/89wO3hyLRa9zAuyorTnitLHPab4oOQFYvMMTgrL/eixpx9p3jaG0V+eawpZ5Lz8Q7bMmX+aCtPAZLPm2CO23DXJgj5TQOBfFb73lBz5bCzzrdSqtByrZU22q/VanR9WZg/WZq/oFaubZIQHV+uSFgvmecu2dQfq+9sGvubhreV5rbBGWtttxrrgSa3Cet5Ei2reeOa6VYWs9WWZ3bfa72wGtcyaL343K1edm0OySAOUZ2TtZuvzVXAm6Oy6JqOsO8TrM186ywsuvlXhuApI0VleDM5W6rW1mVAKWX6g3ae3ViG9VqhYIaJNf51UDJZ+1MxKqh12dUXExvvbENApvHrjbysw6sZyTBoETag1xg6b9GsrfVqptXmCdQsOmwzZsXxRY63RSCf4dIHk3TL7NnszhKoh836AcdQWzzazOMBDiNOSfILYWVgGkK71+OizbxNi26LAUGVOrZQqy2XlANo+QUHevK2zgqtzgyJBEpa3srOtsrgBO7TiUZcctoc5xyHmA2sjOC6JljdZs43YQMl/SZHL0pu2TjiS25rOp2p23YbDt3rgBJckAQw78J8k6Ay9uaXUFkd6ncbSsDzMyb2Nx69cDjtbcAJLYuZt4mTvHWsVtQegmzISv1mo106tgC/p211HkwZzC5pRKovhKC7FN8LsXZi4ASjN7duwJ3YOlIHOOJt0jSYDwANA67nVxYdXdnt138Vr5iO/MBbsi61J71tbJ/q34i3cdVHAe9DwCjtShYO9mYJXaBsMLGAQTay1nZsXz4hb+93u6LcDt5W4DjF1wPsehOU8Txj98/M70fX+3C7m1q80QboGAPRxdPVBYA8hBkAAIbgDk8SPvz4dyjDC+qENkCUfnGiJgMTchPWt5Tj7IvU+2mlweqbjbLV0jZYBsCzZsgyDz20sYND9FBQQxe63LIDuKz47QhmCMw6MADFzCV9kfqgsFuSstB6D9e7ZL+PiVgpyMh633cU7EPlzShmR0I7HGVXVedhwhyCZksmGYIVKZflSTGXWEAuphBezA4YVGPlcWuUx+uFXvW38QZtIQchK6BKXYbBBnCZaiceGPQN1j0VbYSKGM356Xdifq4/YvuPkzOEtNME/HtB9OOVjkxwE/rtgHE2dK4s3+ee6UBdHMqVJ/NMYAYQAFm92o550jJcLu79hhR2tw255XijMEUp3k7Wz643CRT0S551ZomXD71wTJzJfaPFLPI80gBVrkOImAWn+WOo6C3TXnnYb3TmpxVwmcDO3CQzsRpVKWPVgiy1VwuzM6vPbGYIazlpOGs+bCB8CUdk6s2y0fyPTLWzns88f0enPBuE92ZYc+GD16KD+ILJmW3OccPNn1Tq8+Cfecm9/rTz454zYIbNAOn+ByJ4SdBeeADnIwL5rOryYmM1rFzzpx46ZOIufHBgPx7Y/oDmOfdCTmx0k/sdWGngPFzK2Z2ysfAGaqQGS8KZgikuMIajix7MJxezq08tzDZ5U7Mt0Wil7L+YJi+MeEvFsyThx8AEXDOOM12jkMUo54gBQzTMEcV6xcFuzq42arP29rfftXm3TqrsDZQ6muM2TcZuXgBbnevW52Z1Eg+1NpldyvLUhr83GIytzK4mXPutgpbjNfE3g9Mdtm5q57OpnkIex514QKEBd5DMfeL15w5kvcq6Bwb/qL3nudxPZlVDmxRE05emXbZvXKSd2gibWDeLW56+7MIjx6WfdVgXN4+e9szgU37DwK7zLK5SSp0WgbNy8s8mluYFLb67W26V0lui3nnasrWU+fVuuHW3KSZal7fL9XAeb4R27pmAtI4ER8jrHPZoisBXks65/HsWRdfOuX6bod4BboH/47xMpAQNIUyB4PZ1fADZi/lTedOt3MXKSTKjPeruf7Dz/c+s0hDHu9AK7//LdSgJVvsr176HkBAYsPuv3y/BYh3cuZ/N1wDxFh2W8XuzCH3EH1vEfIfcDEP3YBWApe6Gs1uM3ko4RZ+9gIgeuiYHwwHrQsBMABibEFD6RqA8nUyPgoJD//ko+JWGJ/+BD83ep1Afg3wBPezOJReYfB3N7iy4xc/ece7ABH6vER44CseKPdHxmxx+/xpdynUrhWd7wA9po5PP+eNxuMp6gfR74HyD9J5g8R98QDwaCpBSDlhOkzQIIECp+UgyoTPgtZGy9FnX2eTa72iz9laBAFhLR9HfSd2hc/02XlqVxmyZ+Obmfug4T+rZ5+89qd9JU6EL8mEc8MBZ1lNBJmwAw8bXGVbwFT/jZggpfyoIE5Q2AghBfZhuhNRwCl6AeSveP7mn4BmB+Dw2fP9FpjuTXK+oICvhYVIMV923E0OAiTdd3idq/1fsv14xAiTXy9sTCvnXoECV7acteevlX36Ru9MuDeGvMXgKAujK/zf2vRX6b919G+yP/LFL2Gyt+y+Woevy/Hr+VARf5MPCRTSZ3I6W+dOTvL/ICKfY6k3fCmZyBHsN3+e5MPvWCM5Ol7ynPfGvLY6DNkz+88ZbvX3nUXUaBeUWJ+MN+rVS6jLZejN8PjEUk+QchRoYMwJY9NXKdI+/zKPmly96t2wRNimP4V9j9Qfp39L1WtwtDaO/I/qXKn4O0zDcJU/TCNP3H3T58ugb6AY9Jn2g9hsk+2flqa8uuDHpc/AnTHnHzDCWMS1yXIvln6j7J9poFsMvkV2BYYXy+8fEj/5acVsAvOnzRI4PBYDEcm+Zzu276vd8O8q/ifrPsnzKlt9a+efCvg36MqN/vXkH5vy3+krbv6BhfEXv8zdAeAqez7yhhL4F6c+M3XmRz75sH8XPh+Xvn9+P889kJMu1devvn8N02LPNEfzP0P5eBT8+eIHFPuQln5905+ljTzJP9lbD8R+5tbhTP3q7p/Z/afSxyX4L8fL1+InbsCP3Z4F9j1W//1pNw3f+Gd/qdC2Av8hKJ+F3G/L3pQzP6r/NCa/nvyniYG99W+M7DCv38b4D+9W3qvAWfxmvn9cvF/PnvR7b9H+/3QR4/te7APX9Met//vjf6CK/kW+D/x5m3/9SB/DCrnRzlAgXJf6lhccWZ5wRdi2ft2ytAA2t1CMOpNsjAD4XRmwLYf3aZx+cYvRIxggXyJAIT9sfZYgnxO7PPByYmeVPWQcrAVvAKB28IgLnk29ZB0YBHAdcEMBkoNFjbJTJOWDqQB9fECLY7fHj0e8ptWAIzdanHgNwCIA9/ynUxieBzHJWA0gLoDqdF8lHZoA9AJe4XvXpwUDRcUQOBcbFRQMU9qvPKUECh3SYxggfyTQJ38jPGcBtw0A+rQMCb3HZyVxNPF4Uec4XPAOnsdyJwEhB6oRBFcBZ1bGgEoNiNsgW8HvPExsD/3G518DcaAIJ/k07VgOmFSNQwGiVchcQOuAv5PABID5rTOXKtdtPij8CCfCfiU9xpEIJF5IIZ2yGwcaQSnREXlFxBcIZ5Qzx90aISEHcCyAdYhICrbHX1mEUggCDYCLrDIPD4WwXbSmIzoHIJhFdA/gPc1Cgg3kggshAgLKD/AwWUC84mGoKPl6gxoOaCAg5Bw6C0g7oMXkbfIQAKBcgufyL9vnFQJ88mTIakp8XlXgFFx/HanySDDiHnGuDufKnRf91KVlyeDDdSyV2CSAItjOdCfQ4K5dxgogzpdJqMcnOC7LIgMuDHCV4KV0iAh4Nl8J/eXiICSA2EJ71DzJYyFxIaPv2sCMAoAKKV0Q/6gD47LRYNI1lglfDuDNyZB2Gc2hHPWp0hcH8kCD7fEPyOCsnF73ldaQ0XAJC7/aeUSCldEkMhAIQsXCjtPgh5jsNz/S52xDa3N0zGpOfF5U/9tfbc1gEF3Qgmwckg2wEitlQzgNK8VwVZnScF/ZMyAgHlVWXet1ZOYhc4GgcxjNVJAoLzBseg0FAqtbFTWn2pEzBvz1DYVQ0I+sTQrmAdDYnLT3rVpg2a1j9rQxeU1DdaJah1CL/F0I2g3Q40NMBTQrWgtCJ8K0NRsyrXoODCUGcF3kMlzXiT4hGYKMKdkPQ4pVlpw8eMINxEwlnjRsUwtpxXArqPIL0CdHF/n4hBYXMPQh8whbEBJiw/0KS8tgxa2bk4cAIhUZqwgh1rCQxH4ERBvefiEtQlGVWlUZbmdsNLDw+csNtC1JQxlc8nQ471HD6wndzIUzGFcFnCAwpMPBsKwnsM4Yww5b3XD6OH3h3luGb0McDfQy0L3Cyw5MMXCc5fhiYYTwp7zPC1OFSCzcXwkQF3DOwwMO7Dl5BhjTC3wqbRHDovRzhUg4efhhQY/wuULegFw6RDtCdGEZmaV0w4Hw/DIIwTxQjjGOCPSCgw58LMY9GdCOGFwIscNCtcvQxj0Y8IrsKusgIqhhoZ2KEiOHDMIsrhUg0RBhmoZEEWhg5Cn3CQITD7w+cMfCkIpcIDl5GDlysC/zMiPrCGrSiLEj3INsJeUQgO8P/D9wm0JEjCI5XBuZPSJQPq1pI88O81Lw7SPw0lIv0LnDQURCLehkIl8POpGmIRgkj+vbK30jPw7azkiWGWyIfBFIuy2UiBI1SIfCDwp8J7CBwqr1GCMIiCLYjXrLcLjoZw0yJUj4Irq2EirI0SOVxNGTEKkjWI3rnMgOIlKMBxeAGiIAi6InBRsjDqOhxJZxNEBy5dnIyCJy8OGHhlKj8otSIIijwkQF4ZynS1xq8MorblldoIhhlYZ6o2KN8j4ozgEsjygayN6ixGZiPokqotiM5s3IxhjEYGo/yPUikozznwpKKZika5SOaiVFCOoosAI5VufzGuARwvaPPDP7NaKYongLGE5DJ+SfA6xL2VoKrsWXGCjrsj5HyJLDBIiyMSjRo4bnOiqKEHBoojADaL0Eto0gR2iMIk6K/ADo86gEAjorVQI5II2VyohfokDW7AAYuiiui+Im6O1JSPLpAej83WAQC5X3LpCOV/vWpVI03ojsKGiOAEaM4A7Q36LIpNog4Id9gucGP2iiuQ6OOj4YtiPL8YIemMui7LQmOxj7o16LMiPox6LYFwfOJnMjXnYAGRjqKUinSpUeEGIZC3eVmO/AoYs6FhiIYhGLjQ5Y/6IViMYhN3l5BYu6NxiSYqH3KARYuKLqVJYtQmlidDOMH4ZoXIhnNcpLJyM6iYuWVzTR8GQhguIhVX2LCArYwaPwjAIoqIrI0owu05j6w8nzkjgJCbw68uvYrTFjTfPxWWcyApIIOIcpZfQ/Mc2doF9pC/ZmMqi4Y6OM5gmwz6xghc4ism28pvL7CTi/Igi0p5KQ9UPhCfBXETkCNQnt1zYI4ouJOjzw9n12dc2auMTj1tZOJrNmhJuPTi5fNuOzi4LarUzZu45bzq9VvSCNe9+lTNiHjdvOuKpi1dHgXEdqQpj0Yc3gls38kG8F4gXinvJeLHDy9NWFPiAvD2UphJvYeIi1R43f1mFd4rON70GHLO33j3gzzkpw2AJW2V9GQyqMvjo4uNH/iacDeNriR4+uLaD1BTQQ/jUTcxzV1D4n+OPiXxJPBR5fgwuMXihvaONwlMEqBM1gt45B3fjRnfiwYVUE/3Vnif+P0KASBvUBL7jc0AYMQMauB+ITjN4mBO3ifdMhKPiG4+XioTP4mhOagY8RgHPiwIxhM/Cj9NWFESHAqmEfjOE5+NgT5Qzjl4S0E/hJM5BEpBI/NpcY8ne0doiRLwS+4pVF0TdXe+IUToEpRO4TmhNROoSD47+LsTf41aVKDxEmr0kSEYkoLOgiEkhKSDbEoRPsSN7PhJ21+ffsnVd7bH1wRi4vd9jYA1NKjXjV9QVolkp6EpyPcTuYy1FBgFiWJIE0szNDCbwaIWdQySuiYKMW8GEoxM/CGDXh0STOsLyOujKNbJLANQYch3wcQo0pOXjuYocQaIeyLJKbVsLCd3Uc51OwBdJWAN0mKSgg+23rBuAMcJ4glUa9VdIwgGpMxi6knpPiSISEMktIHI3SJxsJkscKUNVklUlDIYo7yOI1lkx/3icSgHUhStqAbGKmBTJRwAwhbAZB245acOJPQS7VAQDNJ9k9ZJ0iRg7W22T6wjmE413k/CDWSjABZKNip1M9ReSNEmiWuTLk2FM1klpO5OSsljTUiuSLk0FI2Sfk8ZMmT/k7DVyx4UsFJ9CIUiDXqTRXCEgFJ1wIUlwARSTFJrDQo4YW4A/k88PFhAUilPoAqUmlP5dTIyFNJSrDCEgNJ0McoHpCKVV+06dGUnFOZTS1OwAFTVSbpMM81dKuTf8mPJoD+I6FcrX2QmPJ5PU0f/ciTsAFSTBmVJDSIVPDdC7cVJ2S40eUkVItMI1NOgGnNgkaVv/Jj2EAI8R1JbjszX/FdTTkxuKWo1U7yQ1S3UrVKhTgk/AV20YcAwDBpyo35IlTPw+ANggw0uHCuBvvHt0zI0yE1K5cZXHiCmhh0JMlzJUyMCES8qYmmNgxhuHNJTJsyMJNjsIktiKmgF0UtKzI5UGP2USEIr6NpiS05MnzIQINNLft+PaHkzS40UtI7SC0kOMKi4wd61CYu0sVKrTMo6tEjkx05oDkSDhB/3Dsn/VvCbwlVJXSkhZWKmJ+9FmUqNGTZDDVx7SRedaGHQc7JZkOTroqeyV0aHLdIgVGbe2igZn7EVIqjRbJlM/CmTB9Kdok05LlCIAiQQAiI8xVdVFSrXN9Mgi6XX9PCIZgA61h8apPwj/T3koZgrS2bUDLYiilCDMCJE0mDJ/S4M0TFiI75Ow3aiiHFDMyj5XdDMEA8MuRN1TxSUKDgRpSfDLajgM9zTNT6wizEBSJSWjMyowgb9LogX6UgDIB36aOiQytk6NMgiEsN63dCYw2CF4y36KOnKBuMwTlbwI6ATM/ohM01OIyuo8iCVRw6IZGUzOAeTOAAIGR9InSQMkTLK4GYUuMdlmwyTJghDMr9Kwy3k30mhiAyUqOMymM9TJi4GYBdB9IxlJzM7B+ouyytwkHUjQKBSAx+xeJMFIgkQz87F9LFT3M6HgZg40PAgiylwTDI9lIbIPC/kn0rLkIyGUuLJF4GYXNC0AMsqATSyc5Xxn8ZGfZJNjs8sg3gZglUSKDYA/GbKn0zbSe0nQw87AjMYyiM0zN64OYYdFayHSUGHmk33X0RUTKeCpQdIAID8zPxSAf9Nvx5fVzO6zveDmAXQZs6/Hmz78fTOMIknewiuDJIpkOWzlIONG2zhXXbLOBTAx5OiCyQ7wKCSt7GqTbITCdcHMJgGf/xDEAQjmFzQTsuwgsJ/6MxMvT4fS7LOADca7PITdtcdn2CM1dz2UDmQ+jg5g0YMuPzDwcioMBdnAsQKY9+QhoI0FeBSeIDSrs/6nIS1dBgI/0AcnVOJkV2NgAhzqJKHKxDjgtTgFhh0QCgpzkc/7NRytAt1Ixy/E1EJVC8cnnAJyfdInIAVkAzgP58dA0J3C9gg8UN6zodKiAAoNA42xJzO3IbFpwiQpXWwh2AGNTY85fP0OuzMcvkNFxQc4bllyzgVdjsNqcjJ0lytuAWDjQjc88iZy5glHPAC2c920p4rAJXJiDag5oTVyjifJIzjtcv/3cD+Qg3M85GiF7LC83HGnJhy6csyFzQQ837MfdwUloQVyszV3KqIVcrMy9yNc/AMkCdcgPP1zbs4p2S5Y8oHPXATc8pzNyDsl/gFglUIvLPILyC7NI0U85XO5D081Wm9zNct1Ipic8lfEDz881p0LyOAGpjDzgEsUNpzHOcWGHRGiVcnrzFc1PObznctwVbzM833Ozz/c7vLzz1E1u2DyB8/6lLyxc8PPNzR8szPW8Zc7fL3I7chdMnsk8+fJM5G893KPkM80VXbyvU28Inwu8vXOz1HEuLWM9T8zciNFy8/4ItyPMt70lgf83nAxFIQa7LxjJ3WYUFyXAmfKbzYg1XMXzH8rPNfzV89/JRDAhcx359IaXfJcdxcmAMAL4sgKBjzQCrcnPzwCyAv/kr85dNt43ctPOvzrgB/J9ytclfPuDc8j/P8S7TYAEaJUAtzwILoc5bLlcT8nAPlzWcswOLd6CufNoLShZApYKO8v0JhDNg9uO4LeCscjwLIcgQojzlsgDxEL1CigrELHciQuaFb8hgpkKF8nwDbzUCg3CUKuglQq/yeCwciappAofIlzD83rNXiQC9qlqoxyafOTypCxApbzLCpfNYLCA6QOUKZ4v40nJnC2cg0KqcrQoPzI8sfIN4T87ws/IDCh3KFz/C2fMCLGC5gqfzoUimNsLZAyItUKOAZslcLCC9wstygIUgpUI/CxgtvzYCtHKCL1clAqSCkQqoNz8t8lQg7JKs/gv3yK82HP1CT83orYBmswwqyLGit3OaKnc8wv2U5CgorgTY5dSi6KljRdmiCqs7QsryVIamVFwuqAeWkLli2QuCL2i+wsKK/c9grXzOC7ROET8QYBiXZsE4fM6d3sxGKky48g4peUzC44osK2in3POKfi/iOBz0CnvI3yRdX/x5xHiguOeKBAogvyyBpfR3+pPiwkKOKxs34qsKcchwoRpNi/RL+CR8pIrMzM0qiGxKgcygvxCjlVEpTjZhfIubjn8oEogKQS9fM/zSLJa06ocSkULxKXiuEtqzpkqiGrY07Q4tyLoUmksxKLiyQOKLaSlktWkYi/AChKmYmErGDuSnqABSsZGUuRLro74rRKFi04v+LSiukuJFFC8IrsK9SqUrogVCOUrP9OS2EuqKPMllIr8/M0ksMLkHEUoBKtS4+QkI1iu4uAAfyGdieK3Cgkt6yVYPYrOB6qQUvlSfdF0pNLASg0rYLIiDgswKGhbAt21gGX0uhL/S5bJAhc0FMuMAwy50sWLJS6Ms7zGSm4qwKPzVclTL5S9MsryQIJVHLKcyr4spKx4okUjL79JY0hoKyy0pwSuSm0viys04kvxDQyl5XbwqC1wKFLoylsq5zQi4EquKMC0HN21S2CV22irSxUp7L8smtL5KxyQcpRKxyt0onKyRBQvFKjSkotbKvStIs3KPnP0qqKAyy3Kmg40M8tnItyjUsbLX4j4XzLRSwssNLZyGQILLwSvPzbIOypcq7LrS68o8ypoT7P/L6yh3LzKdStj1dKqS0xVWK07D8znYosjkqAqVykCt7KlUFCpGBcypIL3KaRKcoZKZy0EuZLgkk2TjyI0ysqvLlsodC1lKK1LKfKdy+CuqE3yuCqbLdfS4rjLrihMu2EkyyyX+oqKzsoVL9ApUvAgF0VcmNA8KpjwIrthEJU3zkuSGiErAKkSoACxKpSH7KeccCkYrMY4cvJLRy8Ms9y2KqMrdKiykiqZKuC15O4CK2VCsvLBCyvJTQNy2cikqGy5io4rqS4ypPKiKiUvfLfyoaRlLlK0GOXLRK1ctqzf0GaQCqdKhPM1KWKk4r+LYKkytiqX8mwqPKfy/vV21jCWyrTKaKyvKIwEA3gBcqoK/Cs8rJyt1M6KkKr0qOQymPbNxL0KkKswr8s8iAXQqqqpjlzMiuAqzMe8mxRaqDAapj/8tixIuWzWMuNMqZeq0XCnzJijqsYKuqrMxBzGbOjOFC7K7YthyxMrGU4yJi++I+FQmZBzqZY8NFjOhbk+5MM8uA4ACcQKCTDmoJ1q/orQrVKt7LErNM3dw4BzqqggWrpQ9qpaL9Ss3HnSdqtsT2qjAA6sRSjqnRJ7pXEqXQrgGqg3izS00R4m+9UweRNqJ4QDMGZhNYB+NAQEa2lWRr0AVZB8SqlQZAWRRkDpAmR1wBeTxrhkRZEJq7AFZGG4U2aGNBqf9cGu94s03NBpqvEsg3Mci0u0JTZugBH2or3HBmpf4s0mVC5r14pSNXTffJYrdLlBDuOrEVw8pzv5rcTXFMstABEHvhGa2SPNDYfOGpyw6kB+PRqkar7AfiIQXb3YSdvLGAfj/0WYUcA6gVAUCR+QMDCJErahFICRvEb6GzkkMclHJRsarhJOcDvTsy/AFa6LSm1la1WoFrDIxq1vFNajlFyxuhQ2qs8DaixPkSLap/2trdhW2ucAF5ZOqdraeNOrdqSvT2us0X4ihNmEcICsjbLQwoMwDqlalWqPTIa1yLjDI67WtiFY642oTrza3XxTrnaz6G+h7a9uqzqWeHOtgh3a9AHzqcat1JLr8ANEPlpYjSus6dg6muszTIomCFgiG68TDSldazhURrka5uvjqOEs2pggk6qNQ7rs6l2rtqM6w+r7rw+Aepggh6keu9rGbIxjQjp6nuirqQ6+jlh473VCKpxYaqOp1r6XDeoxr46o2p3rTaxOt7qbak+vTq1/I+v7qIG3Oo9qsaguqbTy3dpiwSIVGeqDrq6xmpy8UG7+sbqY6v+phBN6wBrjqUa1uv3qwG1Oogae6y2ugbL62BsHq86hBtHq1bRiLoYn6xWtnrMGgWppteY1ht4iauOTDwa16ghveAAG0hqAbSG3etAaaGi+tBQ066hszrwGruv5A4G4eqYa76mxRVp+w2lMHCcpdBvc056rBstQtGtWgvSzeQRtXqdtdesIaxG7eskaQGtupkalGuoG7qz6/4Voa5G+huvrGGr2qsSfA8SO+S6Ugjn0a8pQxu4aNfAJpMi0srWssaRdaxtEb9a8RpIaTamuOkbFGyhuUbIGh2o8bpEK+pvr1Gvxrj9kwfdL4Dgm5+s4bX6tThrTh7fQEJSdOGJq2Qm6kRqIakmluqkbHG9Js7qXG0+qgbZG3Jq8b8m3xoG1C6gSR0aWk78BCbhhMJrfqY4uprEAGm6OuEa9areqXrkmshoPr3Gvpreh5GtxvrUcm7ZoGafGxBu3TerDyMuoxmkpImbymjBsqbHOC1FGszm+yK5Tomn+qablm4hraaHG8hqcaMm7pqyaKGrpp8RVG2+sKabFPWlajsq/2uuaDGrhpmbE7EqPnBcG2Jv70Um4rzSbz65xp8QFGjFt+agWhhvgahmgXRGberFqJcyqsyZpDFpmqpsn1GrUlsRaV6xpvwb2m75s6bj6zJuxbNmzFtdr8WtRsJbfdYluS5Uo8luhbQm2FupaZUTRiRbGW4RuZaNmvZq2aQYKht2afBfZsVbMm4FoKbhmpBv6SqUV2JVirmjhpub5628u7RdWqVsWarG9ZoBa2Wv5o5b5WrlpUaeWkFq1aTmn/gDi9Wv2opb6JKlrubP7Z2L9iGWi1riarWn5sBbXG3podbHAYFrsb4mlps1aiW7VuZcV084k4Ao7daiUpVwr1vGkfWsrlvKXJdNuvD5m15qZavmuVpVaFWzgB2aI23Fu5bvGj2pjbmmsRvjb+WxNp+8EzOWsx4s25PhzbeuW8o/rIzQNt/r3m+xtSaOmnFrDaem7JoravEdVqdbm2+2PLcnEZsJjsu2vHh7atuVNGklOAZsPNah2/+sSbUW6b3RbOWmtsnbrWmBtna623ltTt5wZBxnta7YmJVDZiKQLP0nEurmmCZiKwnmIuiPv1Xbwuddpi5U0KYOmJZiTJDmlB2t5v3aVmiRsPa96stuJFVWytqVbq2idqja52vlu7db9Z9qON6AvOMV9dBVcOR9N5N+ucMmOaOXMTd64hNjlzqT2yQVnypNqv1JTQ3LzlCO4n2I6qm2NJgg95CjtNqqO94w9zkuVuUmjQ5djruasA/uXjjeO0xRo6OXZBTyLcRJXRiry3ftkcZWOwu2fkN22pxU7vE6oQU6szJTv6SKFfBXYbA6mFtubc23pyM7agXdqabZW89rob2W5VoQ7p2vJqObhzEgDxdmhKuWJcZYmEGioZmEzpfrjWowL87pmGzpLbR2llvHabWrFqc7HayNo1a+WphSY7mhVVJS7VpEKkiYO2uPj/bFOADuh4wKh6Uy7wumVtLb7Ozxsc6UOmLtrbBm2YWS6+LH3TS6+LNXV4BiqdJgBqmPagDa7ToRBP3KrK+iBCp7KTpVy6qOfLpF4wKoqUG6PgErsta7O0Nuq6z2+bova/mxLrq6O3LMya6+koutgFWut9g663Urrr27euwirfb8QEEDcptQYbpFapmsVrubwTc7q8ppuiDoi60WsdpPbUOu1vLaEu9DrW7MOhhU27DKokV272u9v0a7uu5xGO65Kj8we7d8cKgrrruyltu7c2wkxh73KGbuDa5u1luW7Yuqrux6autzsZ51uxgoB7kHYHp67kHQ7pB60qmc2G5Ue7yiu7DWszuNamTOnp+BbLIbgWbf6zHui68exbqx6HOlbp+6duonvmKqeEXujKyeiHop7wegGvYr8sLIJCooqLLrQaEe71qR7e2ulzp6le9HpRaQ2/noq7bWuLsQ6Z2wXqvbnWkznq6tuxrvF63SyXv279SynvJ7fK9Ktp7FesKgZ7TO0VvM6Neybou6oqMsB16BMWDuPb7W09v+alugXrxaze5tst6PcokRJ6kgu3tB7UumXsh6dhaWpEg3emKkC6Km41vlcte6KkD78sYPre7Q+j7qN6XOw5oJbfulLvj6bepKot7U+6XqO7qe+Xtd6/elKkoBEqHPqNbGat0y17O+hECL6wUEvqi73uhbvD79e/psvbau4Xr+7dRevvcqdupvqSDHeqXud6aeoaUV7O+tKg96guvvt2lt+1KmeBh+kdte6x+svon7Pu5zu+7o+pLsX7YPH0Qf7tuxnhX7Oulfrl6wUXbWnpV6cunXpx6FZWVi/avnjyl9+Un0hj2Y6GNDFdIUn3o5J0XNB/7h6P/ul9Kgrujp8Oa4bkQG96f/sXpgYtY1VjXRcAY1iYYsAe95J0JVCwG0BnAeoBl+M4ByA6lNAeHT0bZLkoG16MekPolY4BwIGQxUgfVjIBzWN4G4Bpr1ghWB5AYPpuwH+UYHaI5gbohRBuegXoVqLekZigMmLNAGYBtmMo5DowQbU550BdDkH96bAE3p48olIWlpbKAsf6lBKQYKiZB/EH0G86ZQamcQBwgY0GGWLQfUGX+edDjQ7BnukkGR6JgcPDZB3ejQGm6fByAHfzFmOcG+BzQagHtBxznnQEBoIZHoQh2gbMGGBvwekGAh2wcSHG6Hug4HAB/AeZE1Bogf4GSB9waEGKB7Ie7pNcOcF8Hy6fwcCjAhleiQGqh+gCMGDOMIeos8uIoZcHaANwdgGdB3QpEHKhiuirpFB4wZvDypVIeocrBxqNDiicYACAA")},function(e,t,n){var r=n(11);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){var r=n(14);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"/* Sense Default theme. */\n/* Sense Default theme. */\n.qv-codearea .cm-s-default span.cm-normaltext {\n  color: #000000;\n}\n.qv-codearea .cm-s-default span.cm-string {\n  color: #44751d;\n}\n.qv-codearea .cm-s-default span.cm-number {\n  color: #3a7391;\n}\n.qv-codearea .cm-s-default span.cm-operator {\n  color: #000000;\n}\n.qv-codearea .cm-s-default span.cm-keyword {\n  color: #6A8FDE;\n  font-weight: bold;\n}\n.qv-codearea .cm-s-default span.cm-function {\n  color: #6A8FDE;\n  font-weight: bold;\n}\n.qv-codearea .cm-s-default span.cm-comment {\n  color: #808080;\n  font-style: italic;\n}\n.qv-codearea .cm-s-default span.cm-field {\n  color: #CC9966;\n  font-weight: bold;\n}\n.qv-codearea .cm-s-default span.cm-table {\n  color: #8e477d;\n  font-weight: bold;\n}\n.qv-codearea .cm-s-default span.cm-variable {\n  color: #CC99CC;\n  font-weight: bold;\n}\n.qv-codearea .cm-s-default span.cm-template {\n  color: #ffb0b0;\n  font-style: italic;\n}\n.cm-codearea-expression-missing {\n  border-bottom: 2px solid #f05555;\n}\n.cm-servererror {\n  text-shadow: 2px 2px 10px #f05555;\n}\n.cm-error {\n  color: #522121;\n  font-weight: bold;\n  text-shadow: 2px 2px 5px #f05555;\n  border-bottom: 1px dashed #f05555;\n}\n.cm-posterror {\n  text-shadow: 2px 2px 5px #f05555;\n}\n.qv-codearea .cm-s-default span.CodeMirror-matchingbracket {\n  color: #ffce26;\n  font-weight: bold;\n}\n.qv-bnf-autocomplete-container {\n  pointer-events: auto;\n  z-index: 1022;\n  padding: 1px;\n  position: absolute;\n  border-radius: 3px;\n  border: 1px solid #808080;\n  background: #FFFFFF;\n  font-size: 12px;\n  height: auto;\n}\n.qv-bnf-autocomplete-container .title {\n  font-weight: bold;\n  margin-top: 5px;\n  margin-bottom: 3px;\n}\n.qv-bnf-autocomplete-container .complete-container {\n  position: relative;\n  display: inline-block;\n}\n.qv-bnf-autocomplete-container .help-container {\n  position: relative;\n  display: inline-block;\n}\n.qv-bnf-autocomplete-container.hint-help-left .hint-help-container {\n  right: auto;\n  left: 0;\n}\n.qv-bnf-autocomplete-container.hint-help-left .hint-help-container .hint-help-content {\n  left: auto;\n  right: 5px;\n}\n.qv-bnf-autocomplete-container .hint-help-container {\n  position: absolute;\n  right: 0;\n  top: 0;\n  overflow: visible;\n}\n.qv-bnf-autocomplete-container .hint-help-container .hint-help-content {\n  position: absolute;\n  left: 5px;\n  width: 200px;\n  line-height: normal;\n  padding: 2px 5px;\n  border-radius: 3px;\n  background: #ffb;\n  font-size: 12px;\n  -webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\n  -webkit-transition: opacity 0.25s;\n  -moz-transition: opacity 0.25s;\n  -o-transition: opacity 0.25s;\n  transition: opacity 0.25s;\n  pointer-events: none;\n}\n.qv-bnf-autocomplete-container .hint-help-container .hint-help-content .syntax {\n  margin-top: 3px;\n  font-style: italic;\n  color: #303030;\n}\n.codearea-bnf-autocomplete-hints {\n  list-style: none;\n  width: 400px;\n  overflow: hidden;\n  overflow-y: auto;\n  max-height: 20em;\n  padding: 0px;\n  margin: 0px;\n}\n.codearea-bnf-autocomplete-hint {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0 4px;\n  overflow: hidden;\n  color: #000000;\n  cursor: pointer;\n  border-bottom: 1px solid #D9D9D9;\n  height: 24px;\n  line-height: 24px;\n}\n.codearea-bnf-autocomplete-hint:last-child {\n  border-bottom: none;\n}\n.codearea-bnf-autocomplete-hint-active {\n  background-color: #F2F2F2;\n}\n.codearea-bnf-autocomplete-hint-text {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.codearea-bnf-autocomplete-hint-type {\n  padding-left: 5px;\n  -webkit-box-flex: 0;\n  -moz-box-flex: 0;\n  -webkit-flex: 0 0 auto;\n  -ms-flex: 0 0 auto;\n  flex: 0 0 auto;\n  font-size: 10px;\n}\n.codearea-bnf-autocomplete-hint-type.function {\n  color: #6A8FDE;\n}\n.codearea-bnf-autocomplete-hint-type.field {\n  color: #CC9966;\n}\n.codearea-bnf-autocomplete-hint-type.variable {\n  color: #CC99CC;\n}\n.codearea-bnf-autocomplete-hint-type.keyword {\n  color: #6A8FDE;\n}\n.codearea-bnf-autocomplete-hint-type.operator {\n  color: #000000;\n}\n.codearea-bnf-autocomplete-hint-type.template {\n  color: #ffb0b0;\n}\n.codearea-bnf-autocomplete-tips {\n  color: darkgray;\n  font-style: italic;\n}\n",""])},function(e,t,n){var r=n(16);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".qv-bnf-function-tip-container {\n  pointer-events: none;\n}\n.qv-bnf-function-tip-view {\n  pointer-events: auto;\n  z-index: 1021;\n  max-width: 50%;\n  position: relative;\n  padding: 2px 5px;\n  border-radius: 3px;\n  background: #ffb;\n  -webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\n}\n.qv-bnf-function-tip-view .title {\n  font-size: 13px;\n  font-weight: bold;\n  margin: 5px;\n}\n.qv-bnf-function-tip-view .syntax {\n  font-family: monospace;\n  font-size: 13px;\n  margin: 5px;\n}\n.qv-bnf-function-tip-view .description {\n  font-style: italic;\n  font-size: 13px;\n  margin-top: 5px;\n  margin: 5px;\n}\n.qv-bnf-function-tip-view .highlighted-tooltip-param {\n  font-weight: bold;\n  font-style: italic;\n  text-decoration: underline;\n  text-decoration-color: #3a7391;\n  margin: 5px;\n}\n",""])},function(e,t,n){var r={"./help-config.json":[2],"./help-de-DE.json":[20,1],"./help-en-US.json":[19,0],"./help-es-ES.json":[21,4],"./help-fr-FR.json":[22,5],"./help-it-IT.json":[23,6],"./help-ja-JP.json":[24,7],"./help-nl-NL.json":[25,8],"./help-pt-BR.json":[26,9],"./help-ru-RU.json":[27,10],"./help-sv-SE.json":[28,2],"./help-zh-CN.json":[29,3]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=17,e.exports=i},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=(n(10),n(1)),o=n.n(a),s=o.a.commands.singleSelection;o.a.commands.singleSelection=function(e){var t=1===e.listSelections().length;if(s(e),t)return o.a.Pass};var l=n(6),c=n.n(l);n(13);function u(e){e.directive("codeareaAutocompleteDropdown",(function(){return{scope:{state:"="},template:c.a,replace:!0,controller:["$scope","$element",function(e,t){var n=i()(".qv-bnf-autocomplete-container",t[0]),r=i()(window);function a(){var t={width:r.width(),height:r.height()},i=n[0].getBoundingClientRect(),a=function(e,t,n){var r=n.bottom+e.height<=t.height?n.bottom:n.top-e.height,i=Math.max(0,n.left+e.width-t.width);return{top:r,left:n.left-i}}(i,t,e.state.cursorPos);n.css({left:a.left+"px",top:a.top+"px"}),a.left+i.width+200+20>t.width?n.addClass("hint-help-left"):n.removeClass("hint-help-left")}e.$watch("state.hints.length",(function(){!function(e,t){e.$$postDigest((function(){e.$$postDigest(t)}))}(e,a)})),e.$watch("state.selectedHint",(function(t){e.state.selectedHintHelp=e.state.helpProvider.getHelpFromTokenTooltip(e.state.hints[t].tooltip)}))}]}}))}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var h=function(){var e=[];for(n=0;n<=256;n++)e[n]=28;for(n="0".charCodeAt(0);n<="9".charCodeAt(0);n++)e[n]=26;var t=[9,10,11,12,13,32,160];for(var n in t)e[t[n]]=1;for(n=0;n<=32;n++)e[n]=1;var r=[",","(",")","+","-","*",">","<","=","&","/","!","{","}","~"];for(n in r)e[r[n].charCodeAt(0)]=32;e[";".charCodeAt(0)]=32,e[".".charCodeAt(0)]=26,e[":".charCodeAt(0)]=32,e["@".charCodeAt(0)]=28,e["$".charCodeAt(0)]=0;var i=['"'.charCodeAt(0),"'".charCodeAt(0),96,180,"[".charCodeAt(0)];for(n in i)e[i[n]]=120;return e}();var v=function(){function e(t,n,r,i){d(this,e),this.possibleTokenTypes=t,this.text=n,this.tokenStream=r,this.pos=i,this.isMultiLine=!1,this.startLineNbr=-1,this.endLineNbr=-1,this.competition=[],this.isSof=!1,"<EOF>"===t[0]?(this.isEof=!0,this.isInteresting=!0):"<WHITESPACE>"===t[0]?this.isWhitespace=!0:"<COMMENT>"===t[0]?this.isComment=!0:"<LITERAL_STRING>"===t[0]?(this.isLiteralString=!0,this.isInteresting=!0):"<LITERAL_NUMBER>"===t[0]?(this.isLiteralNumber=!0,this.isInteresting=!0):this.isInteresting=!0}return p(e,[{key:"computeInteresting",value:function(){for(var e=this;!e.isInteresting;)e=e.next();return e}},{key:"getQuotedToken",value:function(t,n){var r,i,a,o=this.pos,s=this.tokenStream,l="",c=s.string.substring(this.pos);"'"===t&&"'"===n&&"'"===s.string.charAt(o+2)?(r="'",o=this.pos+3,i="''",a="<LITERAL_STRING>"):"'"===t?(r="'","'"!==n&&(i="''"),a="<LITERAL_STRING>"):"["===t?(r="]",i="]]",a="<LITERAL_FIELD>"):'"'===t?(r='"',a="<LITERAL_FIELD>"):"`"===t?(r="`",a="<LITERAL_FIELD>"):"´"===t&&(r="´",a="<LITERAL_FIELD>");do{o=s.string.indexOf(r,o+1)}while(this.shouldKeepSearchingString(o,s.string,i,r));if(-1===o){for(var u,d=!1;-1===o&&!d;){l+=c;var f=s.getNextLineStream();if(f){c="\n"+(s=f).string;do{o=c.indexOf(r,o+1)}while(this.shouldKeepSearchingString(o,c,i,r))}else d=!0}var p;return d?u=s.string.length:(l+=c.substring(0,o+1),u=o),(p=new e([a],l,s,u)).isMultiLine=!0,p.startLineNbr=this.tokenStream.lineNbr,p.endLineNbr=s.lineNbr,p}return new e([a],this.tokenStream.string.substring(this.pos,o+1),this.tokenStream,o+1)}},{key:"shouldKeepSearchingString",value:function(e,t,n,r){if(e<0)return!1;if(t[e+1]===r)return!0;if(!n)return!1;for(var i=e+1;i>=0;)i=(t=t.substring(0,i)).substring(t.length-n.length,t.length)===n?t.length-n.length:-1;return 0===t.length||t[t.length-1]!==r}},{key:"scanAlpha",value:function(e,t){for(var n=t||this.tokenStream,r=n.string.charCodeAt(e),i=h[r];8&i||r>=256||"$"===n.string.charAt(e)&&"("!==n.string.charAt(e+1);)e++,r=n.string.charCodeAt(e),i=h[r];return e}},{key:"getMultilineComment",value:function(t){var n=this.tokenStream,r=n.string.indexOf("*/",t+2);if(-1==r){for(var i,a="",o=n.string.substring(t),s=!1;-1===r&&!s;)a+=o,n.getNextLineStream()?r=(o="\n"+(n=n.getNextLineStream()).string).indexOf("*/"):s=!0;var l;return s?i=n.string.length:(a+=o.substring(0,r+2),i=r+1),(l=new e(["<COMMENT>"],a,n,i)).isMultiLine=!0,l.startLineNbr=this.tokenStream.lineNbr,l.endLineNbr=n.lineNbr,l}return new e(["<COMMENT>"],this.tokenStream.string.substring(t,r+2),this.tokenStream,r+2)}},{key:"getExpansion",value:function(t,n){var r,i,a,o=this.tokenStream,s=o.string,l=!1;for(i=n?this.scanAlpha(t):t;"$("===s.substring(i,i+2);){l=!0;for(var c=1,u=i+2;c>0;){var d=s.indexOf("(",u),f=s.indexOf(")",u);if(d>=0&&(d<f||-1===f))u=d+1,c++;else if(f>=0&&(f<d||-1===d))u=f+1,c--;else{u=s.length;var p=o.getNextLineStream();r=s.length,p?(a=!0,s=s+"\n"+(o=p).string):c=0}}i=this.scanAlpha(u,o)}var h=s.substring(t,i);if(l){if(a){var v=new e(["<IDENTIFIER>","<$>"],h,o,i-r);return v.isMultiLine=!0,v.startLineNbr=this.tokenStream.lineNbr,v.endLineNbr=o.lineNbr,v}return new e(["<IDENTIFIER>","<$>"],h,this.tokenStream,i)}return new e([h.toUpperCase(),"<IDENTIFIER>"],h,this.tokenStream,i)}},{key:"getTemplateToken",value:function(t){var n=this.tokenStream.string.indexOf("›",this.pos);if(n>=0)var r=this.tokenStream.string.substring(t,n+1),i=new e(["<IDENTIFIER>"],r,this.tokenStream,n+1);else i=new e(["<IDENTIFIER>"],r,this.tokenStream,this.pos+1);return i.isTemplate=!0,i}},{key:"computeNext",value:function(){var t;if(this.pos>=this.tokenStream.string.length){var n=this.tokenStream.getNextLineStream();n?t=n.startToken().next():((t=new e(["<EOF>"],"<EOF>",this.tokenStream,this.tokenStream.string.length)).specialFinalContext="WHITESPACE",t.startPos=t.endPos={line:this.tokenStream.lineNbr,ch:this.tokenStream.string.length})}else{var r=this.pos,i=this.tokenStream.string.charCodeAt(r),a=this.tokenStream.string.charAt(r),o=this.tokenStream.string.charAt(r+1),s=h[i],l={line:this.tokenStream.lineNbr,ch:r};if(64&s)t=this.getQuotedToken(a,o);else if("/"!==a||"/"!==o||function(e,t){return"HTTP:"===e.substring(t-5,t).toUpperCase()||"HTTPS:"===e.substring(t-6,t).toUpperCase()||"LIB:"===e.substring(t-4,t).toUpperCase()}(this.tokenStream.string,r))if("/"===a&&"*"===o)t=this.getMultilineComment(r);else if(32&s){var c=function(e,t){return"<"===e&&"="===t?"<=":">"===e&&"="===t?">=":">"===e&&">"===t?">>":"<"===e&&"<"===t?"<<":"<"===e&&">"===t?"<>":":"===e&&":"===t?"::":"+"===e&&"="===t?"+=":"-"===e&&"="===t?"-=":"*"===e&&"="===t?"*=":"="===e&&"="===t?"==":"/"===e&&"="===t?"/=":"+"===e?"+":"-"===e?"-":"*"===e?"*":"/"===e?"/":"<"===e?"<":">"===e?">":"&"===e?"&":"="===e?"=":":"===e?":":","===e?",":"("===e?"(":")"===e?")":"{"===e?"{":"}"===e?"}":";"===e?";":"!"===e?"!":"~"===e?"~":"$"===e?"$":void 0}(a,o);(t=new e([c],c,this.tokenStream,r+c.length)).isOperator=!0}else if(1&s){do{r++,i=this.tokenStream.string.charCodeAt(r),s=h[i]}while(1&s);(t=new e(["<WHITESPACE>"],this.tokenStream.string.substring(this.pos,r),this.tokenStream,r)).specialFinalContext="WHITESPACE"}else if("$"===a&&"("===o)t=this.getExpansion(r,!1);else if("$"===a&&"("!==o)t=this.getExpansion(r,!0);else if(4&s||i>=256&&"‹"!==a)t=this.getExpansion(r,!0);else if(2&s){do{r++,i=this.tokenStream.string.charCodeAt(r),s=h[i]}while(2&s);t=new e([u=this.tokenStream.string.substring(this.pos,r),"<LITERAL_NUMBER>"],u,this.tokenStream,r)}else"‹"===a?t=this.getTemplateToken(r):(t=new e(["<EOF>"],"<EOF>",this.tokenStream,this.tokenStream.string.length)).specialFinalContext="WHITESPACE";else{var u;t=new e(["<COMMENT>"],u=this.tokenStream.string.substring(this.pos,this.tokenStream.string.length),this.tokenStream,this.tokenStream.string.length)}t.startPos=l,t.endPos={line:t.tokenStream.lineNbr,ch:t.pos}}return t._prev=this,t}},{key:"overrideNextLineStream",value:function(e){this._next&&(this._next._prev=void 0,this._next=void 0),this.__interesting=void 0,this._nextLineStream=void 0,this.tokenStream.overrideNextLineStream(e)}},{key:"setTokenStream",value:function(e){this.tokenStream=e}},{key:"clearNexts",value:function(){for(var e=this;e;){var t=e._next;e.__interesting=void 0,e.__next=void 0,e._nextLineStream=void 0,this.overrideNextLineStream(void 0),e=t}}},{key:"clearNextInteresting",value:function(){for(var e=this;e;)e.__interesting=void 0,e=e._next}},{key:"interesting",value:function(){return this.__interesting||(this.__interesting=this.computeInteresting()),this.__interesting}},{key:"nextNonTemplateInteresting",value:function(){var e=this;do{e=e.next().interesting()}while(e.isTemplate);return e}},{key:"next",value:function(){return this._next||(this._next=this.computeNext()),this._next}},{key:"backwards",value:function(e,t){for(var n=this,r=0;n&&r<e;)n=n._prev,r++;for(;n&&!t(n);)n=n._prev;return n}},{key:"forward",value:function(e,t){for(var n=this,r=0;n&&r<e;)n=n.next(),r++;for(;n&&!n.isEof&&!t(n);)n=n.next();return n}},{key:"spansIntoLineNbr",value:function(e){return this.isMultiLine&&this.endLineNbr>=e}}]),e}(),m=function(){function e(t,n,r,i){d(this,e),this.string=t,this.lineNbr=n,this.getEditorLine=r,this._nextLineStream=void 0,this.lastTokenFromLastStream=i}return p(e,[{key:"getNextLineStream",value:function(){if(!this._nextLineStream){var t=this.lineNbr+1,n=this.getEditorLine(t);this._nextLineStream=void 0!==n?new e(n,t,this.getEditorLine):void 0}return this._nextLineStream}},{key:"overrideNextLineStream",value:function(e){this._nextLineStream=e}},{key:"startToken",value:function(){this._next||(this._next=new v([],"",this,0),this._next.endPos=this._next.startPos={line:0,ch:0});return this._next}}]),e}();function g(e){return new RegExp(e)}function b(e,t,n){return e.replace(new RegExp(t,"g"),n)}g("[\\w#]+");var y=g("[\\w#.]+"),w=g("[^\\?]+"),S=g(";"),x=g("[^;]*"),C=g("[^']*"),q=g("[|\\)]");g("s+");function E(e){return e.replace(/[0-9]+/g,(function(e){var t=""+e.length;return"000".substring(0,"000".length-t.length)+t+""+e}))}function I(e,t){e.sort((function(e,n){return function(e,t){var n=E(e).toLowerCase(),r=E(t).toLowerCase();return n.localeCompare(r)}(e[t],n[t])}))}function k(e,t){return-1!==e.indexOf(t,e.length-t.length)}function A(e){return"["===e[0]?e="]"===(e=e.substring(1))[e.length-1]?e.substring(0,e.length-1):e:'"'===e[0]&&(e='"'===(e=e.substring(1))[e.length-1]?e.substring(0,e.length-1):e),e}function T(e){return e&&"]"!==e?/^[A-Za-z][A-Za-z0-9_]*$/.test(e)?e:"["+e.replace(/\]/g,"]]")+"]":e}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n,r,i,a){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.help=t.doc.mode.bnfHelp,this.dialogHandle=null,this.dialogOptions={},this.state=null,this.options=n,this.cm=t,this.currentOptions=null,this.once=null,this.closingOnBlur=null,this.$scope=r,this.$timeout=i,this.codeareaPopupper=a,this.bound={cursorActivity:this.cursorActivity.bind(this),pickFinish:this.pickFinish.bind(this),pickContinue:this.pickContinue.bind(this),close:this.close.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),choose:this.choose.bind(this),showHint:this.showHint.bind(this)};var s=this;this.ourMap={Up:function(){s.changeActive(s.state.selectedHint-1),o.$scope.$apply()},Down:function(){s.changeActive(s.state.selectedHint+1),o.$scope.$apply()},PageUp:function(){s.changeActive(s.state.selectedHint-8),o.$scope.$apply()},PageDown:function(){s.changeActive(s.state.selectedHint+8),o.$scope.$apply()},Enter:this.bound.pickFinish,Tab:this.bound.pickContinue,Esc:this.bound.close}}var t,n,r;return t=e,(n=[{key:"_createNewAutocompleteState",value:function(e,t,n){var r=t.getHints(e),i=r.list;if(0!==i.length){i.length>50&&(i=i.slice(0,50));var a=e.cursorCoords(!1!==t.alignWithWord?r.from:null),o=n&&n.hints[n.selectedHint],s=r.selectFirstItem?0:-1;if(o)for(var l=0;l<i.length;l++)i[l].text===o.text&&(s=l);return{condenses:r.condenses,from:r.from,to:r.to,cursor:r.cursor,hints:i,tokenEndPos:r.tokenEndPos,help:r.help,selectedHint:s,helpProvider:this.help,cursorPos:a}}}},{key:"cursorActivity",value:function(){this.state&&(this.$timeout.cancel(this.once),this.once=null,this.cm.getCursor().line!==this.startLine||this.cm.somethingSelected()?this.close():this.once=this.$timeout(this.bound.showHint,100))}},{key:"choose",value:function(e){this.changeActive(e),this.pickFinish()}},{key:"placeCursor",value:function(e,t){var n=t.indexOf("‹");if(n>=0)return this.cm.setCursor({line:e.line,ch:e.ch+n}),!0;var r=t.indexOf("(");r>=0&&-1===t.indexOf("$(")&&this.cm.setCursor({line:e.line,ch:e.ch+r+1})}},{key:"paste",value:function(e){if(e){var t=e.replaceStartToken?e.replaceStartToken.startPos:this.state.from,n=e.replaceEndToken?e.replaceEndToken.startPos:this.state.to;return n.line>t.line&&(n={line:t.line,ch:this.cm.doc.getLine(t.line).length}),this.cm.replaceRange(e.value,t,n),this.placeCursor(t,e.value)}}},{key:"pickContinue",value:function(){this.paste(this.state.hints[this.state.selectedHint])&&this.close(!0),this.$scope.$root.$$phase||this.$scope.$apply()}},{key:"pickFinish",value:function(){this.paste(this.state.hints[this.state.selectedHint]),this.close(!0),this.$scope.$root.$$phase||this.$scope.$apply()}},{key:"onBlur",value:function(){this.closingOnBlur=this.$timeout(this.bound.close,300)}},{key:"onFocus",value:function(){this.$timeout.cancel(this.closingOnBlur),this.closingOnBlur=null}},{key:"changeActive",value:function(e){this.state&&(e=Math.max(0,Math.min(e,this.state.hints.length-1)),this.state.selectedHint!==e&&(this.state.selectedHint=e))}},{key:"close",value:function(e){this.debugLocked||(this.$timeout.cancel(this.once),this.$timeout.cancel(this.startTimeout),this.dialogHandle&&(this.dialogHandle.destroy(),this.dialogHandle=null,this.cm.removeKeyMap(this.ourMap),this.cm.off("cursorActivity",this.bound.cursorActivity),this.cm.off("blur",this.bound.onBlur),this.cm.off("focus",this.bound.onFocus),this.cm.off("scroll",this.bound.close),this.state=null,this.$scope.$root.$$phase||this.$scope.$apply(),e&&this.cm.focus()))}},{key:"open",value:function(){this.dialogHandle=this.codeareaPopupper.popup("codearea-autocomplete-dropdown",this.dialogOptions),this.startLine=this.cm.getCursor().line,this.cm.addKeyMap(this.ourMap),this.cm.on("cursorActivity",this.bound.cursorActivity),this.cm.on("blur",this.bound.onBlur),this.cm.on("focus",this.bound.onFocus),this.cm.on("scroll",this.bound.close)}},{key:"showHint",value:function(){var e=this.state;this.state=this._createNewAutocompleteState(this.cm,this.options,e),this.state?(this.state.hints[this.state.selectedHint]&&(this.state.selectedHintHelp=this.help.getHelpFromTokenTooltip(this.state.hints[this.state.selectedHint].tooltip)),this.state.choose=this.bound.choose,this.dialogOptions.state=this.state,e||this.open()):e&&this.close()}},{key:"manualStart",value:function(){this.state||(this.startTimeout&&this.$timeout.cancel(this.startTimeout),this.startTimeout=this.$timeout(this.bound.showHint,0))}},{key:"autoStart",value:function(){var e,t;this.state||(this.startTimeout&&this.$timeout.cancel(this.startTimeout),e=this.cm,(t=e.getTokenAt(e.getCursor(),!0).state.lastToken)&&(t.possibleTokenTypes.indexOf("<IDENTIFIER>")>=0||0==t.text.indexOf("$("))&&(this.startTimeout=this.$timeout(this.bound.showHint,250)))}}])&&D(t.prototype,n),r&&D(t,r),e}();var L=n(7),M=n.n(L);n(15);function P(e){e.directive("functionTipView",(function(){return{scope:{offset:"=",modeInfo:"=",content:"=",helpBaseUrl:"="},template:M.a,controller:["$scope","$element",function(e,t){var n=i()(".qv-bnf-function-tip-view",t[0]),r=i()(window);function a(){var t={width:r.width(),height:r.height()},i=function(e,t,n){var r=n.top-e.height>=0?n.top-e.height-3:n.bottom+3,i=Math.max(10,n.left+e.width-t.width);return{top:r,left:n.left-i}}(n[0].getBoundingClientRect(),t,e.offset);n.css({left:i.left+"px",top:i.top+"px"})}e.$watch("state.hints.length",(function(){!function(e,t){e.$$postDigest((function(){e.$$postDigest(t)}))}(e,a)}))}]}}))}function N(e){e.directive("qvCodeareaBnfFunctionTip",["codeareaPopupper",function(e){return{restrict:"A",require:"qvCodearea",link:function(t,n,r,i){function a(e){t.$root.$$phase?e():t.$apply(e())}var o,s,l=t.$watch(r.qvCodeareaBnfFunctionTip,(function(n){var r=!1,c={showParameters:!0};function u(t,n){clearTimeout(s),s=setTimeout((function(){return function(t){var n=t.getCursor(),i=t.getTokenAt(n,!1),s=i.state.lastInteresting,l=(i.state.lastToken,t.doc.mode.bnfHelp.getParameterHelpFromToken(i.state.lastToken));a((function(){if(o&&(o.destroy(),o=void 0),l&&l.highlightedSyntax){c.showParameters=!0;var n=t.charCoords(s.startPos);o=e.popup("function-tip-view",{content:l,helpBaseUrl:t.doc.mode.options.mode.helpBaseUrl,offset:n,modeInfo:c})}else r=!1}))}(t)}),n)}function d(e){}function f(e){r?u(e,250):function(e){var t=e.getTokenAt(e.getCursor(),!0),n=t&&t.state&&t.state.lastToken;return n&&(n.isTemplate||n.next()&&n.next().isTemplate)}(e)&&(r=!0,c.showParameters=!0,u(e,250))}function p(){if(o){var e=o;setTimeout((function(){return a((function(){return e.destroy()}))}),500)}}var h={"Shift-Ctrl-Space":function(e){r?a((function(){c.showParameters=!c.showParameters})):(r=!0,c.showParameters=!0,u(e,0))},Esc:function(){r=!1,a((function(){clearTimeout(s),o&&(o.destroy(),o=void 0)}))}};function v(e,t){if("("===t.text[0]||","===t.text[0]){var n=e.getTokenAt(e.getCursor(),!0),i=n&&n.state&&n.state.lastToken;i.meta&&i.finalContext&&"root/LoadStatement/FieldList"===!i.finalContext&&(r=!0,c.showParameters=!0,u(e,0))}}function m(e){r=!1,a((function(){clearTimeout(s),o&&(o.destroy(),o=void 0)}))}i.codemirror.on("blur",p),i.codemirror.on("cursorActivity",f),i.codemirror.on("renderLine",d),i.codemirror.on("change",v),i.codemirror.on("scroll",m),i.codemirror.addKeyMap(h),t.$on("$destroy",(function(){i.codemirror.off("blur",p),i.codemirror.off("cursorActivity",f),i.codemirror.off("renderLine",d),i.codemirror.off("change",v),i.codemirror.off("scroll",m),i.codemirror.removeKeyMap(h),o&&o.destroy()})),l()}),!0)}}}])}function R(e){e.directive("qvCodeareaExposedContext",["$parse",function(e){return{restrict:"A",require:"qvCodearea",link:function(t,n,r,i){var a,o=e(r.qvCodeareaExposedContext);i.codemirror.doc.mode.bnfLang;i.codemirror.on("cursorActivity",(function(e,n){a&&clearTimeout(a),a=setTimeout((function(){var e,n=(e=i.codemirror.getTokenAt(i.codemirror.getCursor()).state.lastToken)&&e.metaInfo&&e.metaInfo.advanceList?e.metaInfo.isKeyword?"keyword:"+e.metaInfo.finalContext+":"+e.metaInfo.advanceList.bnf.text:e.metaInfo.isText?"text:"+e.metaInfo.finalContext+":"+e.metaInfo.advanceList.bnf.text:e.metaInfo.isOperator?"operator:"+e.metaInfo.finalContext+":"+e.metaInfo.advanceList.bnf.text:"variable:"+e.metaInfo.finalContext:"not-interesting";t.$apply((function(){return o.assign(t,n)}))}),200)})),t.$on("$destroy",(function(){i.codemirror.off("cursorActivity",onKeyup)}))}}}])}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=this.start=0,this.string=t,this.tabSize=8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0}var t,n,r;return t=e,(n=[{key:"_match",value:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0}},{key:"eatSpace",value:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}},{key:"eat",value:function(e){this.eatSpace();var t=this.pos;if(this._match(e,!0))return this.start=t,this.string.slice(this.start,this.pos)}},{key:"not",value:function(e){return this.eatSpace(),!this._match(e,!1)}},{key:"eol",value:function(){return this.pos>=this.string.length}}])&&F(t.prototype,n),r&&F(t,r),e}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}var H=0;var z=function(){function e(t,n){j(this,e),this.item=t,this.parent=n}return V(e,[{key:"find",value:function(e){for(var t=this;t&&!e(t.item);)t=t.parent;return t&&t.item}}]),e}(),$=function(){function e(t){j(this,e),this.depth=t.depth,this.lastToken=t.lastToken,this.parent=t.parent,this.meaning=t.meaning,this.advanceList=t.advanceList,this.contextNames=t.contextNames,this.significantLinebreaks=t.significantLinebreaks,this.tokenType=t.tokenType,this.isError=t.isError}return V(e,[{key:"filterOutContext",value:function(){var e=this;return this.contextNames.filter((function(t){return k(t,e.meaning)}))}}]),e}(),U=function(){function e(t,n){j(this,e),this.tokenId=t,this.suggestedText=n,this.meanings={}}return V(e,[{key:"getAdvancementListForAdvanceMeaning",value:function(e,t,n,r){var i;return this.meanings[e]||(this.meanings[e]=new G(n)),(i=this.meanings[e]).contextNames[t]=!0,i.contextTags=r,i}},{key:"getMeaningsArray",value:function(){var e,t=[];for(e in this.meanings)t.push(this.meanings[e]);return t}}]),e}(),G=function(){function e(t){j(this,e),this.bnf=t,this.nbr=H++,this.possibleAdvances={},this.contextNames={},this.prepareFns=[],this.nextStates={},this.combinedNexts=void 0}return V(e,[{key:"getId",value:function(){return"L-"+this.nbr}},{key:"_addAllContextNamesToMap",value:function(e,t){if(!t[this.nbr]){var n;for(n in t[this.nbr]=!0,this.contextNames)e[n]=this.contextNames[n];for(n in this.nextStates)this.nextStates[n]._addAllContextNamesToMap(e,t)}}},{key:"getContextNamesArray",value:function(){if(!this.__cache__getContextNamesArray){var e={};this._addAllContextNamesToMap(e,{}),this.__cache__getContextNamesArray=Object.keys(e)}return this.__cache__getContextNamesArray}},{key:"getContextNamesArrayFlat",value:function(){if(!this.__cache__getContextNamesArrayFlat){var e,t={};for(e in this.contextNames)t[e]=this.contextNames[e];this.__cache__getContextNamesArrayFlat=Object.keys(t)}return this.__cache__getContextNamesArrayFlat}},{key:"getAllAdvances",value:function(e){if(!(e=e||{})[this.nbr]){var t;e[this.nbr]=!0,this.prepareLazyParts();var n=[];for(t in this.possibleAdvances)n.push(this.possibleAdvances[t]);for(t in this.nextStates){var r=this.nextStates[t].getAllAdvances(e);n.push.apply(n,r)}return n}}},{key:"getAllTags",value:function(e){var t;for(t in e||(e={}),this.prepareLazyParts(),this.contextTags)e[t]=this.contextTags[t];if(this.bnf)for(t in this.bnf.tags)e[t]=this.bnf.tags[t];for(t in this.nextStates)this.nextStates[t].getAllTags(e);return e}},{key:"getOrCreatePossibleAdvancement",value:function(e,t){return this.possibleAdvances[e]||(this.possibleAdvances[e]=new U(e,t)),this.possibleAdvances[e]}},{key:"getOrCreateAdvanceTokenWithOutgoingList",value:function(e,t,n,r,i,a){return this.getOrCreatePossibleAdvancement(e,t).getAdvancementListForAdvanceMeaning(r,n,i,a)}},{key:"getOrCreateNextState",value:function(t,n){return this.nextStates[t]||(this.nextStates[t]=new e(n)),this.nextStates[t]}},{key:"setNextState",value:function(e,t,n){this.nextStates[e]&&this.nextStates[e]!==t&&console.log("WARNING  overwriting next state list",e,this.nextStates[e],t,n),this.nextStates[e]=t}},{key:"canonicalRuleName",value:function(){return this.bnf&&this.bnf.canonicalRuleName()||"Unknown"}},{key:"addWildcardStuff",value:function(e){return this.possibleAdvances["<*>"]&&";"!==e.possibleTokenTypes[0]?["<*>"].concat(e.possibleTokenTypes):e.possibleTokenTypes}},{key:"prepareLazyParts",value:function(){for(;this.prepareFns.length>0;)this.prepareFns.shift()()}},{key:"addAllMatchingAdvances",value:function(e,t,n,r,i){if(!i[this.nbr])for(var a in i[this.nbr]=!0,r=r||this.isError,this.prepareLazyParts(),this.addAllMatchingAdvancesForThis(e,t,n,r),this.nextStates)this.nextStates[a].addAllMatchingAdvances(e,t,n,r,i)}},{key:"addAllMatchingAdvancesForThis",value:function(e,t,n,r){var i=this.addWildcardStuff(t);for(var a in i){var o=i[a],s=this.possibleAdvances[o];if(s)for(var l in s.meanings){var c=s.meanings[l],u="i"+c.nbr;e[u]||(e[u]=new $({tokenType:o,lastToken:t,parent:n,meaning:l,advanceList:c,contextNames:c.getContextNamesArray(),isError:r,depth:n.depth+1}))}}}},{key:"__old_stragegy_advance",value:function(e,t){var n,r={};return this.addAllMatchingAdvances(r,e,t,!1,{}),n=r,Object.keys(n).map((function(e){return n[e]}))}},{key:"advance",value:function(e,t){var n=[];this.combinedNexts||(this.combinedNexts={},this.gatherAllAdvances(this.combinedNexts,!1,{}));var r=this.addWildcardStuff(e);for(var i in e.possibleTokenTypes){var a=r[i],o=this.combinedNexts[a];for(var s in o){var l=o[s];n.push(new $({tokenType:a,lastToken:e,parent:t,meaning:l.meaning,advanceList:l.advanceList,contextNames:l.advanceList.getContextNamesArray(),isError:l.isError,depth:t.depth+1}))}}var c=this.combinedNexts["<*>"];if(c&&";"!==e.text)for(var s in c){l=c[s];n.push(new $({tokenType:a,lastToken:e,parent:t,meaning:l.meaning,advanceList:l.advanceList,contextNames:l.advanceList.getContextNamesArray(),isError:l.isError,depth:t.depth+1}))}return n}},{key:"skipNewLine",value:function(){return this.combinedNexts||(this.combinedNexts={},this.gatherAllAdvances(this.combinedNexts,!1,{})),this.combinedNexts["<NEWLINE>"]?this.combinedNexts["<NEWLINE>"][Object.keys(this.combinedNexts["<NEWLINE>"])[0]].advanceList:void 0}},{key:"gatherAllAdvances",value:function(e,t,n){if(!n[this.nbr])for(var r in n[this.nbr]=!0,t=t||this.isError,this.prepareLazyParts(),this.gatherAllAdvancesForThis(e,t),this.nextStates)this.nextStates[r].gatherAllAdvances(e,t,n)}},{key:"gatherAllAdvancesForThis",value:function(e,t){for(var n in this.possibleAdvances){var r=this.possibleAdvances[n];if(r)for(var i in r.meanings){var a=r.meanings[i];e[n]=e[n]||{},e[n][a.nbr]||(e[n][a.nbr]={meaning:i,advanceList:a,isError:t})}}}},{key:"getFutureParamContext",value:function(){var e=[];return function e(t,n,r){if(!(r=r||{})[t.nbr])for(var i in r[t.nbr]=!0,n(t),t.nextStates)e(t.nextStates[i],n,r)}(this,(function(t){t.prepareLazyParts();var n=t.possibleAdvances["<IDENTIFIER>"];n&&e.push(n)})),e}}]),e}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t,n){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var i=X(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e}var re=0,ie=0;var ae=function(){function e(){ee(this,e),this.nbr=re++,this.basicExpressionParamCounter=0,this.expressionParamCounter=0,this.tableNameParamCounter=0,this.fieldNameParamCounter=0,this.tags={}}return ne(e,[{key:"appendThisContextName",value:function(e){return this.contextName?e+"/"+this.contextName:e}},{key:"appendThisContextTags",value:function(e){if(this.tags&&Object.keys(this.tags).length>0){var t=function(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}(e,this.tags);return this.contextName&&k(this.contextName,"_Func")&&(t.functionName=this.contextName.replace(/_Func/,"")),t}return e}},{key:"canonicalRuleName",value:function(){return"Anonymous"+this.nbr}}]),e}(),oe=function(e){K(n,e);var t=J(n);function n(e){var r;return ee(this,n),(r=t.call(this)).name=e.name,r.text=e.text,r.suggestedText=e.suggestedText,r}return ne(n,[{key:"addAdvancements",value:function(e,t,n){n=this.appendThisContextName(n),t=this.appendThisContextTags(t);var r=n,i=this.text,a=this.suggestedText;return e.getOrCreateAdvanceTokenWithOutgoingList(i,a,n,r,this,t)}},{key:"canonicalRuleName",value:function(){return this.name}}]),n}(ae),se=function(e){K(n,e);var t=J(n);function n(e){return ee(this,n),t.call(this,{name:"SCANNER_TOKEN_MATCH_ANYTHING",text:"<*>"})}return n}(oe),le=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this,{name:"NEWLINE",text:"<NEWLINE>"})}return n}(oe),ce=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this,{name:"IDENTIFIER",text:"<IDENTIFIER>"})}return n}(oe),ue=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this,{name:"LITERAL_STRING",text:"<LITERAL_STRING>"})}return n}(oe),de=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this,{name:"LITERAL_FIELD",text:"<LITERAL_FIELD>"})}return n}(oe),fe=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this,{name:"LITERAL_NUMBER",text:"<LITERAL_NUMBER>"})}return n}(oe),pe=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this,{name:"WHITESPACE",text:"<WHITESPACE>"})}return n}(oe),he=function(e){K(n,e);var t=J(n);function n(e){var r;return ee(this,n),(r=t.call(this,e)).text=e.text,r}return n}(oe),ve=function(e){K(n,e);var t=J(n);function n(e){var r;return ee(this,n),(r=t.call(this,e)).text=e.text.toUpperCase(),r.suggestedText=e.text,r}return ne(n,[{key:"canonicalRuleName",value:function(){return this.name||this.text}}]),n}(oe),me=function(e){K(n,e);var t=J(n);function n(){var e;return ee(this,n),(e=t.call(this)).items=[],e}return ne(n,[{key:"addItem",value:function(e){this.items.push(e)}},{key:"canonicalRuleName",value:function(){return this.__canonicalRuleName,this.name?this.name:(this.__canonicalRuleName||(this.__canonicalRuleName=this.constructor.name+"Of"+this.items.map((function(e){return e.canonicalRuleName()})).filter((function(e){return!!e})).join("And")),this.__canonicalRuleName)}}]),n}(ae),ge=function(e){K(n,e);var t=J(n);function n(e){return ee(this,n),t.call(this,e)}return ne(n,[{key:"addAdvancements",value:function(e,t,n){var r;n=this.appendThisContextName(n),t=this.appendThisContextTags(t);var i=[];for(var a in this.items){var o=this.items[a].addAdvancements(e,t,n);i.push(o),o.nextStates.exitList&&(r?r!==o.nextStates.exitList&&console.warning("WARNING lists are differing"):r=o.nextStates.exitList)}for(var s in r||(r=new G(this)),i)i[s].nextStates.afterOr=r;return r.contextNames[n]=!0,r}}]),n}(me),be=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this)}return ne(n,[{key:"_addAdvancements",value:function(e,t,n,r){var i=this;if(1===this.items.length)return this.items[0].addAdvancements(e,t,n);var a=new G(this),o=this.items[0].addAdvancements(e,t,n);return o.prepareFns.push((function(){for(var e=1;e<i.items.length;e++)o=i.items[e].addAdvancements(o,t,n),e<i.items.length-1&&(o.stoppingHereNotAllowed=!0);o.setNextState("endSeq"+ie++,a,i)})),a}},{key:"addAdvancements",value:function(e,t,n){return n=this.appendThisContextName(n),t=this.appendThisContextTags(t),this._addAdvancements(e,t,n)}}]),n}(me),ye=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this)}return ne(n,[{key:"addAdvancements",value:function(e,t,r){return r=this.appendThisContextName(r),t=this.appendThisContextTags(t),Q(X(n.prototype),"_addAdvancements",this).call(this,e,t,r,!0)}}]),n}(be),we=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this)}return ne(n,[{key:"addAdvancements",value:function(e,t,r){var i=this;r=this.appendThisContextName(r),t=this.appendThisContextTags(t);var a=e.getOrCreateNextState("begin"+this.canonicalRuleName(),this),o=new G(this);return a.setNextState("skip"+this.canonicalRuleName()+ie++,o,this),a.prepareFns.push((function(){Q(X(n.prototype),"_addAdvancements",i).call(i,a,t,r).setNextState("endListAfterLazyLoadingPart",o)})),o}}]),n}(be),Se=function(e){K(n,e);var t=J(n);function n(){return ee(this,n),t.call(this)}return ne(n,[{key:"addAdvancements",value:function(e,t,r){r=this.appendThisContextName(r),t=this.appendThisContextTags(t);var i=e.getOrCreateNextState("begin"+this.canonicalRuleName(),this);i.contextNames[r]=!0;var a=Q(X(n.prototype),"_addAdvancements",this).call(this,i,t,r);a.setNextState("reloop"+this.canonicalRuleName(),i,this);var o=a.getOrCreateNextState("end"+this.canonicalRuleName(),this);return o.contextNames[r]=!0,e.setNextState("skip"+this.canonicalRuleName()+ie++,o,this),o}}]),n}(be),xe=function(e){K(n,e);var t=J(n);function n(e){var r;return ee(this,n),(r=t.call(this)).ref=e.ref,r.target=void 0,r}return ne(n,[{key:"addAdvancements",value:function(e,t,n){if(n=this.appendThisContextName(n),t=this.appendThisContextTags(t),Object.keys(this.tags).length){var r=e.getOrCreateNextState("beginParam"+this.canonicalRuleName(),this);return this.target.addAdvancements(r,t,n)}return this.target.addAdvancements(e,t,n)}}]),n}(ae),Ce=function(e){K(n,e);var t=J(n);function n(e){var r;return ee(this,n),(r=t.call(this)).text=e.text,r}return n}(ae),qe={IDENTIFIER:new ce,LITERAL_STRING:new ue,LITERAL_FIELD:new de,LITERAL_NUMBER:new fe,SCANNER_TOKEN_MATCH_ANYTHING:new se,WHITESPACE:new pe,NEWLINE:new le},Ee=[new he({name:"ModuleFunctionCall",text:"%%%%%%6458972365729385698732456"}),new he({name:"OPERATOR_COLON_COLON",text:"::"}),new he({name:"OPERATOR_DIV_EQUAL",text:"/="}),new he({name:"OPERATOR_DIVISION",text:"/"}),new he({name:"OPERATOR_EQUAL",text:"="}),new he({name:"OPERATOR_EQUAL_EQUAL",text:"=="}),new he({name:"OPERATOR_GREATER",text:">"}),new he({name:"OPERATOR_GREATER_EQUAL",text:">="}),new he({name:"OPERATOR_LEFT_SHIFT",text:"<<"}),new he({name:"OPERATOR_LESS",text:"<"}),new he({name:"OPERATOR_LESS_EQUAL",text:"<="}),new he({name:"OPERATOR_MINUS",text:"-"}),new he({name:"OPERATOR_MINUS_EQUAL",text:"-="}),new he({name:"OPERATOR_MULT_EQUAL",text:"*="}),new he({name:"OPERATOR_MULTIPLICATION",text:"*"}),new he({name:"OPERATOR_NOT_EQUAL",text:"<>"}),new he({name:"OPERATOR_PLUS",text:"+"}),new he({name:"OPERATOR_PLUS_EQUAL",text:"+="}),new he({name:"OPERATOR_RIGHT_SHIFT",text:">>"}),new he({name:"OPERATOR_STRING_CONCAT",text:"&"}),new he({name:"SYNTAX_COLON",text:":"}),new he({name:"SYNTAX_SEMICOLON",text:";"}),new he({name:"SYNTAX_COMMA",text:","}),new he({name:"SYNTAX_EXCLAMATION",text:"!"}),new he({name:"SYNTAX_LEFT_PAREN",text:"("}),new he({name:"SYNTAX_RIGHT_PAREN",text:")"}),new he({name:"SYNTAX_TILDE",text:"~"}),new he({name:"SYNTAX_DOLLAR",text:"$"})],Ie=[qe.IDENTIFIER,qe.LITERAL_STRING,qe.LITERAL_FIELD,qe.LITERAL_NUMBER,qe.SCANNER_TOKEN_MATCH_ANYTHING,qe.WHITESPACE].concat(Ee),ke={};for(var Ae in Ee)ke[Ee[Ae].text]=Ee[Ae];function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),e}var Le=function(){function e(t,n){Te(this,e),this.t=t,this.allCombinators=[],this.rulesWithExceptions=[],this.ruleMap=n,this.allRuleTags={},this.currentRuleName=void 0}return Oe(e,[{key:"parseTagList",value:function(){for(var e={};this.t.eat("?");){var t=this.t.eat(w),n=t.indexOf("=");if(n>0){var r=t.substring(0,n),i=t.substring(n+1);e[r]=i,this.allRuleTags[r]=i}else e[t]=!0,this.allRuleTags[t]=!0;this.t.eat("?")}return e}},{key:"parseSequence",value:function(e,t){var n=new ye;return t&&(this.currentNamedRule=n),this.parseSequenceUntilEndToken(n,e),n.items.length>1?(this.allCombinators.push(n),n):n.items[0]}},{key:"parseSingle",value:function(){var e=this.parseTagList(),t=this.parseOr()||this.parseMandatorySequence()||this.parseOptionalSequence()||this.parseRepeat()||this.parseLiteralString()||this.parseRuleRef()||this.parseUnknown();return t.tags=e,this.t.eat("-")&&(t.except=this.parseSingle(),this.rulesWithExceptions.push(t)),t}},{key:"parseRuleRef",value:function(){var e=this.t.eat(y);if(e)return new xe({ref:e})}},{key:"parseLiteralString",value:function(){if(this.t.eat("'")){var e=this.t.eat(C);return this.t.eat("'"),ke[e]?ke[e]:new ve({text:e})}}},{key:"parseOr",value:function(){if(this.t.eat("(")){var e=new ge;do{e.addItem(this.parseSequence(q))}while(this.t.eat("|"));return this.t.eat(")"),this.allCombinators.push(e),e}}},{key:"parseSequenceUntilEndToken",value:function(e,t){for(var n=0;this.t.not(t);){n++;var r=this.parseSingle();if("BasicExpression"!==r.ref||r.tags.Name||(this.currentNamedRule.basicExpressionParamCounter++,this.currentNamedRule.basicExpressionParamCounter>1&&(r.tags.Name="BasicExpression"+this.currentNamedRule.basicExpressionParamCounter)),"Expression"!==r.ref||r.tags.Name||(this.currentNamedRule.expressionParamCounter++,this.currentNamedRule.expressionParamCounter>1&&(r.tags.Name="Expression"+this.currentNamedRule.expressionParamCounter)),"TableName"!==r.ref||r.tags.Name||(this.currentNamedRule.tableNameParamCounter++,this.currentNamedRule.tableNameParamCounter>1&&(r.tags.Name="TableName"+this.currentNamedRule.tableNameParamCounter)),"FieldName"!==r.ref||r.tags.Name||(this.currentNamedRule.fieldNameParamCounter++,this.currentNamedRule.fieldNameParamCounter>1&&(r.tags.Name="FieldName"+this.currentNamedRule.fieldNameParamCounter)),e.addItem(r),!r||n>100)throw this.t.debug("Don't know where to go from here"),"error"}}},{key:"parseMandatorySequence",value:function(){if(this.t.eat("<")){var e=new ye;return this.parseSequenceUntilEndToken(e,">"),this.t.eat(">"),this.allCombinators.push(e),e}}},{key:"parseOptionalSequence",value:function(){if(this.t.eat("[")){var e=new we;return this.parseSequenceUntilEndToken(e,"]"),this.t.eat("]"),this.allCombinators.push(e),e}}},{key:"parseRepeat",value:function(){if(this.t.eat("{")){var e=new Se;return this.parseSequenceUntilEndToken(e,"}"),this.t.eat("}"),this.allCombinators.push(e),e}}},{key:"parseUnknown",value:function(){var e=this.t.eat(x);return console.log(e),new Ce({text:e})}},{key:"evaluteCrossReferences",value:function(){for(var e in this.ruleMap)if(this.ruleMap[e]instanceof xe){var t=this.ruleMap[e],n=this.ruleMap[e].tags.Name;t&&n&&(this.ruleMap[e].contextName=n+"_Param"),this.ruleMap[e].target=this.ruleMap[t.ref]}for(var r in this.allCombinators){var i=this.allCombinators[r];for(var a in i.items)if(i.items[a]instanceof xe){t=i.items[a];var o=this.ruleMap[t.ref];i.items[a].target=o;n=i.items[a].tags.Name;t&&n&&(i.items[a].contextName=n+"_Param"),o||console.log("Undefined rule",t.ref)}}for(var s in this.rulesWithExceptions){var l=this.rulesWithExceptions[s];l.except=this.ruleMap[l.except.ref]}}},{key:"parseNamedRules",value:function(){for(var e=0;!this.t.eol()&&e<5e3;){var t=this.t.eat(y);if(this.allRuleTags={},this.parseTagList(),this.t.eat("="),this.currentContextName=t,this.ruleMap[t]=this.parseSequence(S,!0),!(this.ruleMap[t]instanceof he)){if(this.ruleMap[t].name=t,k(t,"_Func")&&(this.ruleMap[t].tags.functionName=t.replace(/_Func/,""),this.ruleMap[t].tags.functionParams=[]),t)var n=["Statement","Control","ControlBegin","ControlMiddle","ControlEnd"];for(var r in n){var i=n[r];this.allRuleTags[i]&&(this.ruleMap[t].tags[i]=this.allRuleTags[i])}}this.ruleMap[t].tags=this.ruleMap[t].tags||{},this.ruleMap[t].contextName=this.ruleMap[t].name,this.t.eat(S),this.t.eatSpace(),e++}this.evaluteCrossReferences()}}]),e}(),Me=function(){function e(){Te(this,e)}return Oe(e,[{key:"removeCommentsAndLineBreaks",value:function(e){return e=b(e,"\\(\\*.*?\\*\\)",""),b(e,"\\n"," ")}},{key:"parseBnf",value:function(e){try{var t={};for(var n in Ie)t[Ie[n].name]=Ie[n];var r=new _(this.removeCommentsAndLineBreaks(e));new Le(r,t).parseNamedRules()}catch(e){console.log(e)}return t}},{key:"extractStatementRulesArray",value:function(e){var t=[];for(var n in e){var r=e[n];r.tags&&r.tags.Statement&&(t.push(r),window.statementRules=window.statementRules||[],window.statementRules.push(r))}return t}},{key:"extractControlRulesArray",value:function(e){var t=[];for(var n in e){var r=e[n];r.tags&&(r.tags.Control||r.tags.ControlBegin||r.tags.ControlMiddle||r.tags.ControlEnd)&&(t.push(r),window.controlRules=window.controlRules||[],window.controlRules.push(r))}return t}},{key:"loadScriptBnf",value:function(e){var t=this.parseBnf(e),n=this.extractStatementRulesArray(t),r=this.extractControlRulesArray(t),i=new ge;i.name="statementOr",i.items=n;var a=new be;a.addItem(i),a.addItem(t.SYNTAX_SEMICOLON);var o=new ge;o.name="controlOr",o.items=r;var s=new ge;s.name="controlEnder",s.addItem(t.SYNTAX_SEMICOLON),s.addItem(qe.NEWLINE);var l=new be;l.contextName="control",l.addItem(o),l.addItem(s);var c=new ve({name:"TOP_LEVEL_EXPANSION",text:"<$>"}),u=new ge;u.name="TopLevelOr",u.items.push(a),u.items.push(l),u.items.push(c);var d=new Se;return d.name="StatementRepeat",d.addItem(u),{tree:d,namedRules:t,statementRules:n,controlRules:r}}},{key:"loadExpressionBnf",value:function(e){var t=this.parseBnf(e);return{tree:t.Expression,namedRules:t}}}]),e}();function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t,n){return e.isMultiLine?e.endLineNbr===n?e.pos:t.length:e.pos}function Re(e,t){var n,r=e.filterOutContext();if(e.lastToken.specialFinalContext)n=e.lastToken.specialFinalContext;else if(1===r.length)n=r[0],t=r[0];else if(t)n=function(e,t){for(var n=t,r=0;r>=0;)for(var i in r=n.lastIndexOf("/"),n=n.substring(0,r),e){var a=e[i];if(0===a.indexOf(n))return a}}(r,t);else{var i=function(e){for(var t=0,n=0;n<e.length;n++)e[t].length<e[n].length&&(t=n);return e[t]}(r);n=r.filter((function(e){return 0===i.indexOf(e)})).length===r.length?i:"unknown"}return n||(n="error"),n}var Fe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bnf=function(e,t){return"script"===t?(new Me).loadScriptBnf(e):(new Me).loadExpressionBnf(e)}(t,n),this.modeName=n;var r=new ae;r.name="root",this.startAdvanceList=new G(r),this.bnf.tree.addAdvancements(this.startAdvanceList,void 0,"root",0)}var t,n,r;return t=e,r=[{key:"getColorForToken",value:function(e){return e.isWhitespace?"":e.isComment||e.metaInfo&&"root/RemStatement/RawText"===e.metaInfo.finalContext?"comment":!e.metaInfo||e.metaInfo.isAfterError?"posterror":e.metaInfo&&e.metaInfo.isError?"error":e.isOperator?"operator":e.isLiteralString?"string":e.isLiteralNumber?"number":e.isTemplate?"template":e.metaInfo.isFunction?"function":e.metaInfo.isKeyword?"keyword":"FieldName"===e.metaInfo.rulesTrail[0]||"FieldRef"===e.metaInfo.rulesTrail[0]||"FieldRefAlias"===e.metaInfo.rulesTrail[0]||"StoreFieldRef"===e.metaInfo.rulesTrail[0]||"StoreFieldRefAlias"===e.metaInfo.rulesTrail[0]||"ExpressionFieldRef"===e.metaInfo.rulesTrail[0]?"field":"TableName"===e.metaInfo.rulesTrail[0]?"table":"VariableName"===e.metaInfo.rulesTrail[0]?"variable":"FieldName"===e.metaInfo.rulesTrail[0]||"QualifierFields"===e.metaInfo.rulesTrail[0]?"field":"ExpressionConstant"===e.metaInfo.rulesTrail[0]?"string":"normalText"}}],(n=[{key:"getRuleByName",value:function(e){return this.bnf.namedRules[e]}},{key:"_markAsError",value:function(e,t,n,r){if(";"===e.text)e.metaInfo={advanceList:t},e.advanceList=t;else if(n){var i=(a=this.getPossibleAdvancesAfterToken(r).map((function(e){return e.suggestedText||e.tokenId})),a.filter((function(e,t,n){return n.indexOf(e)==t}))).join(", ");e.metaInfo={isError:!0,expectedTokens:i,unexpectedToken:e.text,errorMessage:"Unexpected token:"+e.text+". Expected any of the following: "+i,expected:this.getPossibleAdvancesAfterToken(r)}}else e.metaInfo={isAfterError:!0};var a}},{key:"getPossibleAdvancesAfterToken",value:function(e){var t=[];if(e.advanceList){var n=(e.competition||[e.advanceList]).map((function(e){return e.getAllAdvances().map((function(e){return e}))}));for(var r in n)for(var i in n[r]){var a=n[r][i];t.push(a)}}return t}},{key:"getTokenIdentifierSuggestionEntry",value:function(e){if(!e.isTemplate&&e.metaInfo&&e.metaInfo.rulesTrail){if("FieldName"===e.metaInfo.rulesTrail[0]||"FieldRef"===e.metaInfo.rulesTrail[0]||"FieldRefAlias"===e.metaInfo.rulesTrail[0]||"ExpressionFieldRef"===e.metaInfo.rulesTrail[0])return"["===e.text.charAt(0)?{text:A(e.text),type:"field",foundQuoted:!0}:'"'===e.text.charAt(0)?{text:A(e.text),type:"field",foundDoubleQuoted:!0}:{text:e.text,type:"field",foundNotQuoted:!0};if("TableName"===e.metaInfo.rulesTrail[0])return{text:e.text,type:"table"};if("VariableName"===e.metaInfo.rulesTrail[0])return{text:"$("+e.text+")",type:"variable"}}}},{key:"analyzeNextTokenAfter",value:function(e){var t=[],n=e.interesting().next().interesting();if(e.advanceList||e.isEof){if(!e.isEof){var r,i,a=new $({parent:void 0,lastToken:e.interesting(),meaning:e.meaning||"",advanceList:e.advanceList,contextNames:e.advanceList.getContextNamesArray(),depth:0,significantLinebreaks:!1}),o=[],s=0,l=1;t.push(a);do{if(l<(i=t.shift()).depth){if(o[l]&&1===o[l].length)break;l=i.depth}var c;for(var u in-1===i.lastToken.competition.indexOf(i.advanceList)&&i.lastToken.competition.push(i.advanceList),o[i.depth]){var d=o[i.depth][u];if(d.advanceList===i.advanceList){c=!0,"<*>"===d.parent.advanceList.bnf.text&&(o[i.depth][u]=i);break}}c||(o[i.depth]=o[i.depth]||[],o[i.depth].push(i));var f=(r=i.lastToken.next().interesting()).startPos.line>i.lastToken.endPos.line,p=0===i.meaning.indexOf("root/control");if(f&&p)i.importantNewLine=!0;else if(!r.isEof){var h=i.advanceList.advance(r,i);if(h.sort((function(e,t){return e.tokenType>t.tokenType})),h&&h.length>0)for(var v in h){var m=h[v];t.push(m)}else if(0===t.length){t.push(i);break}}}while(t.length>0&&s++<500);var g=function(e){var t;for(var n in e)if(e[n].advanceList.bnf instanceof ve){t=e[n];break}return t||(t=e[0]),t}(o[o.length-1]);return this.populateTokenFindings(g,e),n.metaInfo||this._markAsError(n,this.startAdvanceList,!0,e),g.lastToken}}else this._markAsError(n,this.startAdvanceList,!1)}},{key:"populateTokenFindings",value:function(e,t){var n=t.interesting().startLineNbr>=0?t.interesting().startLineNbr:t.interesting().tokenStream.lineNbr;if(e.importantNewLine){var r=e.advanceList.skipNewLine();r&&(e.overridenAdvanceList=r)}var i=e;do{i.lastToken.isError=i.isError,i.lastToken.tokenType=i.tokenType,i.lastToken.advanceList=e.overridenAdvanceList||i.advanceList,i.lastToken.affectedLineNbr=n;var a=Re(i,void 0);i.lastToken.metaInfo={rulesTrail:a.split("/").reverse(),isFunction:!!i.advanceList.bnf.tags.FuncGroup,isKeyword:!!i.advanceList.bnf.tags.helpid,isOperator:!!(i.advanceList.bnf instanceof he),isText:!!(i.advanceList.bnf instanceof ve),isError:i.isError,tokenType:i.tokenType,advanceList:i.overridenAdvanceList||i.advanceList,finalContext:a},i=i.parent}while(i&&!i.lastToken.metaInfo);return e}},{key:"createStartToken",value:function(e){var t=new v([],"",new m("",-1,e),0);return t.endPos=t.startPos={line:-1,ch:0},t.advanceList=this.startAdvanceList,t.isSof=!0,t.meta={advanceList:this.startAdvanceList},t}},{key:"getNextToken_Line",value:function(t,n,r,i,a,o,s,l){var c;t?!t.tokenStream&&a>t.endPos.line&&t.setTokenStream(new m("",a-1,l)):((t=new m(r,a,l).startToken()).advanceList=this.startAdvanceList,t.meta={advanceList:this.startAdvanceList}),t.isMultiLine&&t.endLineNbr>=a&&0===i?c=t:(c=t.next()).isMultiLine&&c.endLineNbr!==a||c.tokenStream.string===r||(n&&n.clearNextInteresting(),t.overrideNextLineStream(new m(r,a,l)),c=t.next()),t.isInteresting&&(n=t),c.isInteresting&&!c.metaInfo&&this.analyzeNextTokenAfter(n);var u=e.getColorForToken(c),d=this.getTokenIdentifierSuggestionEntry(t);o=d?new z(d,o):o;var f=n;return(t=c).isInteresting&&(n=t),{lastToken:t,lastInteresting:n,tokenForSuggestions:f,newStreamPos:Ne(c,r,a),tokenColor:u,identifierList:o}}},{key:"getFakeStartToken",value:function(){var e=new m("",0,(function(){})).startToken();return e.advanceList=this.startAdvanceList,e.competition=[this.startAdvanceList],e.metaInfo={advanceList:this.startAdvanceList,competition:[this.startAdvanceList]},e}},{key:"parseIntoTokens",value:function(e){var t=e.split("\n"),n=new m(t[0],0,(function(e){return t[e]}),void 0).startToken(),r=n;n.advanceList=this.startAdvanceList,n.metaInfo={advanceList:this.startAdvanceList};for(var i=[];!n.isEof;)n.isInteresting&&!n.metaInfo&&this.analyzeNextTokenAfter(r),n.isInteresting&&(r=n),(n=n.next()).isEof||i.push(n);return i}},{key:"parseTextIntoColorStructure",value:function(t){var n=this.parseIntoTokens(t),r=[];for(var i in n){var a=n[i];r.push([a.text,e.getColorForToken(a)])}return r}},{key:"getIdentifiers",value:function(e){var t="string"==typeof e?this.parseIntoTokens(e):e,n=[];for(var r in t){var i=t[r],a=this.getTokenIdentifierSuggestionEntry(i);a&&n.push(a)}return n}}])&&Pe(t.prototype,n),r&&Pe(t,r),e}();function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return""===e||"("===e.charAt(e.length-1)||","===t||"("===t||")"===t?e+t:e+" "+t}var Be=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bnfLang=t,this.help=n}var t,n,r;return t=e,(n=[{key:"_buildParamPrototype",value:function(e,t){var n,r=t.arrayRepeaterFollows?" List":"";return-1===(n=e.tags.Name?""+this.help.mapParamName(t.functionName,e.tags.Name):e.name||e.ref?""+this.help.ruleToParameterName(e):"Param").indexOf("\n")?"‹"+n+r+"›":n}},{key:"_isSimilar",value:function(e,t){if(e&&!t||!e&&t)return!1;if(e.items&&t.items){for(var n in e.items)if(!this._isSimilar(e.items[n],t.items[n]))return!1;return!0}return!!(e.name&&e.name===t.name||e.ref&&e.ref===t.ref)}},{key:"_isArrayRepeater",value:function(e,t){return t instanceof Se&&","===t.items[0].text}},{key:"_visitBnfNode",value:function(e,t,n,r,i){var a=this;if(e===t.firstTokenRule&&(n=!0),this.help.isAlwaysDisregarded(e))i(n,r);else if(this.help.isTypicalParameterRule(e)){var o=this._buildParamPrototype(e,t);n&&(r=je(r,o)),i(n,r)}else if(e instanceof xe)this._visitBnfNode(e.target,t,n,r,i);else if(e instanceof ve||e instanceof he)n&&(r=je(r,e.suggestedText||e.text)),i(n,r);else if(e instanceof Se)","===e.items[0].text?i(n,r):this._visitBnfNode(e.items[0],t,n,r,i);else if(e instanceof ye||e instanceof we)e instanceof we&&i(n,r),function n(r){return function(o,s){r<e.items.length?(t.arrayRepeaterFollows=a._isArrayRepeater(e.items[r],e.items[r+1]),a._visitBnfNode(e.items[r],t,o,s,n(r+1))):i(o,s)}}(0)(n,r);else if(e instanceof ge)for(var s in e.items)this._visitBnfNode(e.items[s],t,n,r,i);else i(n,r)}},{key:"_buildFunctionPrototypes",value:function(e,t,n){var r=[],i={functionName:e.name,paramNames:t,counter:0,firstTokenRule:n};return this._visitBnfNode(e,i,!1,"",(function(e,t){r.push(t)})),r}},{key:"build",value:function(e){if(e.metaInfo.isKeyword){var t=e.text,n=this.bnfLang.getRuleByName(e.metaInfo.rulesTrail[0]),r=n.tags.functionName?this.help.getParamList(t):[];return this._buildFunctionPrototypes(n,r,e.metaInfo.advanceList.bnf).map((function(e){return e+(n.tags.Statement?";":"")})).filter((function(t){return t.length>e.text.length}))}return[]}}])&&_e(t.prototype,n),r&&_e(t,r),e}();function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),e}var $e=["Expression","FieldName","FieldNumber","AliasFieldName","ExpressionFieldRef","ExpressionFieldRefFixFormat","BasicFunctionCall","ExpressionFunctionCall","FieldRefAlias","ExpressionConstant","StoreFieldRef"],Ue=["TableName","ResidentTableLabel"],Ge=["Expression","VariableName","TableName","FieldName","AnyString","AnyStringOrAnySymbol","AnyStringOrNumber","FieldNumber","AliasFieldName","FileName","ExpressionFieldRef","ExpressionFieldRefFixFormat","DefinitionName","ExpressionFunctionCall","BasicFunctionCall","FieldRefAlias","ExpressionConstant"],We=["VariableName","TableName","FieldName","AnyString","AnyStringOrAnySymbol","AnyStringOrNumber","FieldNumber","AliasFieldName","FileName","ExpressionFieldRef","ExpressionFieldRefFixFormat","DefinitionName","FieldRefAlias","ExpressionConstant","CompositeFileNamePart","StoreFieldRef"];function Qe(e,t){return'"'===t?'"'+e.replace(/\]/g,'""')+'"':"["+e.replace(/\]/g,"]]")+"]"}function Ke(e,t){return e?0===t.indexOf(e)?t.substring(e.length):t.substring(function(e){for(var t=e.concat().sort(),n=t[0],r=t[t.length-1],i=n.length,a=0;a<i&&n.charAt(a)===r.charAt(a);)a++;return n.substring(0,a)}([t,e]).length):t}function Ye(e,t){for(var n in t)if(k(e,"/"+t[n])||e.indexOf("/"+t[n]+"/")>=0)return t[n]}var Je=function(){function e(t){Ve(this,e),this.userQuoted="["===t[0]||'"'===t[0],this.userQuoteToken=this.userQuoted?t[0]:void 0,this.startWithoutQuotes=A(t).toLowerCase(),this.isStartOfVariable=0===this.startWithoutQuotes.indexOf("$("),this.list=[],this.condensesFound={},this.condenses=[],this.found={},this.result=[],this.typeInfo={keyword:{translation:"Common.Keyword",allowQuote:!1},variable:{translation:"Common.Variable",allowQuote:!1},field:{translation:"Common.Field",allowQuote:!0},table:{translation:"Common.Table",allowQuote:!0},function:{translation:"Common.Function",allowQuote:!1},template:{translation:"Codearea.ScriptTemplate",allowQuote:!1},operator:{translation:"Codearea.ScriptOperator",allowQuote:!1}}}return ze(e,[{key:"maybeAddCondensedType",value:function(e){this.condensesFound[e]||(this.condensesFound[e]=!0,this.condenses.push({text:e}))}},{key:"maybeAdd",value:function(e){e.text,"string"==typeof e&&(e={text:e});var t=0===e.text.toLowerCase().indexOf(this.startWithoutQuotes),n=this.typeInfo[e.type]&&this.typeInfo[e.type].allowQuote,r=!this.userQuoted||n,i="variable"===e.type;if(t&&r&&(!i||i&&this.isStartOfVariable)){var a=this.found[e.text];a?(a.foundNotQuoted=a.foundNotQuoted||e.foundNotQuoted,a.foundQuoted=a.foundQuoted||e.foundQuoted,a.foundDoubleQuoted=a.foundDoubleQuoted||e.foundDoubleQuoted,a.putOnTopOfTheList=a.putOnTopOfTheList||e.putOnTopOfTheList):(a={text:e.text,types:[],value:"",putOnTopOfTheList:e.putOnTopOfTheList,foundQuoted:e.foundQuoted,foundDoubleQuoted:e.foundDoubleQuoted,foundNotQuoted:e.foundNotQuoted,replaceStartToken:e.replaceStartToken,replaceEndToken:e.replaceEndToken,tooltip:e.tooltip},this.found[e.text]=a,this.result.push(a)),"field"===e.type?this.userQuoted?a.value=Qe(e.text,this.userQuoteToken):a.foundNotQuoted?a.value=T(e.text):a.foundQuoted?a.value=Qe(e.text,"["):a.foundDoubleQuoted?a.value=Qe(e.text,'"'):a.value=T(e.text):(e.type,a.value=e.text),this.typeInfo[e.type]&&!a.types.filter((function(t){return t.id===e.type})).length>0&&a.types.push({id:e.type,key:this.typeInfo[e.type].translation})}}},{key:"getFinalList",value:function(){I(this.result,"text");var e=this.result.filter((function(e){return e.putOnTopOfTheList})),t=this.result.filter((function(e){return"operator"===e.types[0].id&&!e.putOnTopOfTheList})),n=this.result.filter((function(e){return"template"===e.types[0].id&&!e.putOnTopOfTheList})),r=this.result.filter((function(e){return"keyword"===e.types[0].id&&!e.putOnTopOfTheList})),i=this.result.filter((function(e){return"function"===e.types[0].id&&!e.putOnTopOfTheList})),a=this.result.filter((function(e){return"variable"===e.types[0].id&&!e.putOnTopOfTheList})),o=this.result.filter((function(e){return"field"===e.types[0].id&&!e.putOnTopOfTheList})),s=this.result.filter((function(e){return"table"===e.types[0].id&&!e.putOnTopOfTheList}));return[].concat(e).concat(n).concat(s).concat(o).concat(a).concat(t).concat(r).concat(i)}},{key:"getCondenses",value:function(){return this.condenses}}]),e}();function Ze(e){return!e||e.isEof||e.isInteresting&&!e.metaInfo||e.metaInfo.finalContext&&(0===e.metaInfo.finalContext.indexOf("root/LoadStatement/LoadSource")||"root/SqlStatement"===e.metaInfo.finalContext||"root/SelectStatement"===e.metaInfo.finalContext)}function Xe(e){var t=(e.bnf.suggestedText||e.bnf.text).toUpperCase(),n=Object.keys(e.contextNames)[0];if(n){var r=n.split("/");return{fn:r[r.length-1],param:t}}}var et=function(){function e(t,n,r){Ve(this,e),this.bnfLang=t,this.bnfTemplateBuilder=n,this.bnfHelp=r}return ze(e,[{key:"addIdentifiers",value:function(e,t,n,r,a,o,s,l,c){var u={replaceStartToken:a,replaceEndToken:o};function d(e){e&&(s&&"field"===e.type||c&&"table"===e.type||l&&"variable"===e.type)&&r.maybeAdd(i.a.extend({},e,u))}for(var f=t;f;)d(f.item),f=f.parent;if(n)for(var p in n)d(n[p]);if(e.metaInfo&&e.metaInfo.finalContext&&0===e.metaInfo.finalContext.indexOf("root/LoadStatement"))for(var h=0,v=e.forward(3,(function(e){return e.isInteresting}));!Ze(v)&&!h++<1e3;)v.metaInfo&&v.metaInfo.rulesTrail&&("ExpressionFieldRef"===v.metaInfo.rulesTrail[0]||"FieldRefAlias"===v.metaInfo.rulesTrail[0])&&d(this.bnfLang.getTokenIdentifierSuggestionEntry(v)),v=v.next().interesting()}},{key:"addBnfStuff",value:function(e,t,n,r,i,a){var o,s,l,c=function(e){var t=[];if(e.advanceList){var n=(e.competition&&e.competition.length>0?e.competition:[e.advanceList]).map((function(e){return e.getAllAdvances().map((function(e){return e}))}));for(var r in n)for(var i in n[r]){var a=n[r][i];t.push(a)}}return t}(t);for(var u in c){var d=c[u],f=d.getMeaningsArray();for(var p in f){var h=f[p],v=f[p].getContextNamesArrayFlat();for(var m in v){var g=v[m],b=Ke(t.finalContext,g),y=Ye(b,We);$e.indexOf(y)>=0&&(o=!0),Ue.indexOf(y)>=0&&-1===b.indexOf("SelectPrefixOrLabel/TableLabel")&&-1===b.indexOf("MisplacedTableLabel/TableLabel")&&-1===b.indexOf("LoadPrefixOrLabel/TableLabel")&&-1===b.indexOf("DD_DirectQueryStatement/TableLabel")&&(l=!0),Ge.indexOf(y)>=0&&(s=!0),y?e.maybeAddCondensedType(y):"<IDENTIFIER>"===d.tokenId||"<$>"===d.tokenId||"<LITERAL_STRING>"==d.tokenId||"<LITERAL_FIELD>"===d.tokenId||"<LITERAL_NUMBER>"===d.tokenId||"<NEWLINE>"===d.tokenId||(h.bnf.tags&&h.bnf.tags.FuncGroup?e.maybeAdd({text:(d.suggestedText||d.tokenId)+"()",type:"function",replaceStartToken:i,replaceEndToken:a,tooltip:Xe(h)}):h.bnf instanceof he?e.maybeAdd({text:d.suggestedText||d.tokenId,type:"operator",replaceStartToken:i,replaceEndToken:a}):h&&h.bnf&&("MisplacedTableLabel"===h.bnf.name||"TableLabel"===h.bnf.name)||e.maybeAdd({text:d.suggestedText||d.tokenId,type:"keyword",replaceStartToken:i,replaceEndToken:a,tooltip:Xe(h)}))}}}this.addIdentifiers(t,n,r,e,i,a,o,s,l)}},{key:"buildHintData",value:function(e,t,n,r){var i,a,o,s=t&&t.backwards(1,(function(e){return e.isInteresting})),l=s,c=!1,u=!1,d=!1,f=!1;if(t?t.isInteresting&&t.metaInfo?t.isTemplate?(i=l,c=!1,f=!1):function(e,t){return e.line===t.endPos.line&&e.ch===t.endPos.ch}(e,t)?t.metaInfo.isKeyword?(u=!0,i=t,c=!1,f=!0):t.isOperator?"("===t.text&&(a=l).metaInfo&&a.metaInfo.isFunction&&")"===t.nextNonTemplateInteresting().text?(d=!0,i=l,c=!1,f=!0):(i=t,!1,c=!1,f=!1):(i=l,c=!0,f=!0):function(e,t){return e.line>t.endPos.line||e.line===t.endPos.line&&e.ch>t.endPos.ch}(e,t)?(i=t,c=!1,f=!1):(i=l,c=!0,f=!0):t.isWhitespace||t.isComment?s&&s.advanceList?(i=s,c=!1,f=!1):(i=t={advanceList:this.bnfLang.startAdvanceList,text:"",metaInfo:{advanceList:this.bnfLang.startAdvanceList},endPos:t.endPos,startPos:t.startPos},c=!1,f=!1):t.isSof&&(i=t,c=!1,f=!1):(i=t=this.bnfLang.getFakeStartToken(),c=!1),i){if(u){var p=t,h=t.next(),v=new Je("");if("NEWLINE"!==i.metaInfo.advanceList.bnf.name){var m=(i.metaInfo.advanceList.bnf.suggestedText||i.metaInfo.advanceList.bnf.text)+(i.metaInfo.isFunction?"()":"");v.maybeAdd({text:m,type:i.metaInfo.isFunction?"function":"keyword",replaceStartToken:p,replaceEndToken:h,putOnTopOfTheList:!0,tooltip:{fn:i.metaInfo.rulesTrail[0],param:i.metaInfo.advanceList.bnf.text.toUpperCase()}}),this.bnfTemplateBuilder.build(i).forEach((function(e){m!==e&&v.maybeAdd({text:e,type:"template",replaceStartToken:p,replaceEndToken:h})}))}}else if(d){p=l,h=t.nextNonTemplateInteresting().next(),v=new Je("");this.bnfTemplateBuilder.build(i).forEach((function(e){v.maybeAdd({text:e,type:"template",replaceStartToken:p,replaceEndToken:h})})),this.addBnfStuff(v,i,n,r,t.next(),t.next())}else{var g;g=t.startPos.line>e.line?t.text:t.text.substring(0,e.ch-t.startPos.ch);v=new Je(c?g:"");if(c){var b=f?t:t.next();this.addBnfStuff(v,i,n,r,b,void 0)}else this.addBnfStuff(v,i,n,r,void 0,void 0)}var y=t.endPos;o={list:v.getFinalList(),condenses:v.getCondenses(),from:e,to:e,cursor:e,noClueMode:!0,tokenEndPos:y,replaceCurrentToken:f,selectFirstItem:!0}}else o={list:[],condenses:[]};return o}}]),e}();function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e){if(-1===e.indexOf("|"))return[e];var t=e.split("."),n=t[0].split("|"),r=t[1].split("|"),i=[];for(var a in n)for(var o in r)i.push(n[a]+"."+r[o]);return i}function rt(e,t){if(t&&t.params){if(!isNaN(e))return t.params[e];var n=t.params.filter((function(t){return t.name===e}));if(1===n.length)return n[0]}}var it=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.helpData={},this.helpConfig=t,this.bnfLang=n,this.modeName=r,this.helpNodeEntryByParameterName={},this.helpNodeEntryByKeyword={},window.helpNodeEntryByParameterName=this.helpNodeEntryByParameterName,window.helpNodeEntryByKeyword=this.helpNodeEntryByKeyword}var t,r,i;return t=e,(r=[{key:"setHelpData",value:function(e){this.helpData=e,this.buildMultiKeywordHelpTopics()}},{key:"buildMultiKeywordHelpTopics",value:function(){var e=this;for(var t in this.helpConfig.multiKeywordMapping){var n=this.helpConfig.multiKeywordMapping[t];if(n.doc){var r=this.helpData[n.doc];if(r){for(var i in n.params)if(s=n.params[i]){var a=rt(s,r);this.helpNodeEntryByParameterName[i]={doc:n.doc,topicNode:r,paramNode:a}}for(var o in n.keywords){var s=n.keywords[o];nt(o).forEach((function(t){if("__descr"===n.keywords[o])e.helpNodeEntryByKeyword[t]={doc:n.doc,topicNode:r,paramNode:void 0};else{var i=rt(s,r);e.helpNodeEntryByKeyword[t]={doc:n.doc,topicNode:r,paramNode:i}}}))}}}}}},{key:"lookupHelp",value:function(e){var t,n=e.fn+"."+e.param,r=this.helpNodeEntryByParameterName[n],i=this.helpNodeEntryByKeyword[n];return r?t=r.paramNode?{doc:r.doc,title:r.topicNode.title||e.param,summary:r.topicNode.summary,paramName:r.paramNode.name,paramSummary:r.paramNode.summary,syntax:r.topicNode.syntax,highlightedSyntax:this.highlightSyntax(r.topicNode.syntax,r.paramNode.name)}:{doc:r.doc,title:r.topicNode.title||e.param,summary:r.topicNode.summary,paramName:"",paramSummary:"",syntax:r.topicNode.syntax,highlightedSyntax:r.topicNode.syntax}:i&&(t=i.paramNode?{doc:i.doc,title:i.paramNode.name||e.param,summary:i.paramNode.summary,paramName:"",paramSummary:"",syntax:i.topicNode.syntax,highlightedSyntax:this.highlightSyntax(i.topicNode.syntax,i.paramNode.name)}:{doc:i.doc,title:i.topicNode.title||e.param,summary:i.topicNode.summary,paramName:"",paramSummary:"",syntax:i.topicNode.syntax,highlightedSyntax:i.topicNode.syntax}),t}},{key:"ruleToParameterName",value:function(e){return(t=this.helpConfig.parameterRuleNames[e.name]||this.helpConfig.parameterRuleNames[e.ref])&&t.replace(/([a-z\d])([A-Z])/g,"$1 $2");var t}},{key:"_extractContextInfo",value:function(e){var t={},n=e.advanceList&&e.advanceList.getAllAdvances()||[];for(var r in n){var i=n[r],a=Object.keys(i.meanings);for(var o in a)t[a[o]]=!0}return e.finalContext+JSON.stringify(Object.keys(t))}},{key:"getFnAndParam",value:function(e){var t=e.backwards(0,(function(e){return e.isInteresting}));if(t&&t.metaInfo&&t.metaInfo.advanceList){var n;if(e.isWhitespace||"("===t.text||","===t.text){var r=t.metaInfo.advanceList.getFutureParamContext();n=[].concat.apply([],r.map((function(e){return Object.keys(e.meanings)})))}else n=t.metaInfo.finalContext?[t.metaInfo.finalContext]:[];return function(e,t){var n;for(var r in t)for(var i=!1,a=t[r].split("/"),o=a.length-1;o>=0;o--){var s=a[o];if(e[s])n=s,i=!0;else if(k(s,"_Param"))n=s.substring(0,s.length-"_Param".length),i=!0;else if(i)return{fn:s,param:n}}}(this.helpConfig.parameterRuleNames,n)}}},{key:"isTypicalParameterRule",value:function(e){var t=this.ruleToParameterName(e);return t||(e instanceof ge?this.ruleToParameterName(e.items[0]):void 0)}},{key:"isAlwaysDisregarded",value:function(e){return!(!this.helpConfig.disregardedInTemplating[e.ref]&&!this.helpConfig.disregardedInTemplating[e.name])||!!(e instanceof Se&&(this.helpConfig.disregardedInTemplating[e.items[0].ref]||this.helpConfig.disregardedInTemplating[e.items[0].name]))||void 0}},{key:"findFirstKeyword",value:function(e){if(e){if(e instanceof ve)return e.suggestedText||e.tokenId;if(this.isAlwaysDisregarded(e));else if(this.isTypicalParameterRule(e));else if(e instanceof ge&&e.items.length>1);else{if(e instanceof xe)return this.findFirstKeyword(e.target);if(!(e instanceof ye))return;for(var t in e.items){var n=this.findFirstKeyword(e.items[t]);if(n)return n}}}}},{key:"expandHelpLookupPathsToUsingKeywords",value:function(e){if(e){var t=this.bnfLang.getRuleByName(e.fn),n=this.findFirstKeyword(t);return n?[e,{fn:n,param:e.param}]:e}}},{key:"buildFunctionPrototypeFromHelp",value:function(e,t,n){console.log(e)}},{key:"getParamList",value:function(e){var t=this.helpData[e];if(t){var n=t.params;if(n)return n.map((function(e){var t=e.name.indexOf("::");return t>=0?e.name.substring(0,t).trim():e.name}))}}},{key:"highlightSyntax",value:function(e,t){return t=t.replace(/\sExpression$/i,""),"<span>"+e.replace(new RegExp("(([\\(,\\]\\[\\s])\\s*('*"+t.replace("-","\\-").replace("(","\\(").replace(")","\\)")+"'*))"),"$2<span class='highlighted-tooltip-param'>$3</span>")+"</span>"}},{key:"findFunctionHelpEntry",value:function(e){var t=this.getFunctionDoc(e);if(t)return this.helpData[t]}},{key:"getFunctionDoc",value:function(e){var t=e.toUpperCase();return this.helpConfig.mapping[this.modeName][t]||this.helpConfig.mapping.common[t]}},{key:"mapParamName",value:function(e,t){var n=e.replace("_Func",""),r=this.helpConfig.functionParameterMapping[n.toUpperCase()];return r&&r[t.toUpperCase()]||t}},{key:"getParamNode",value:function(e,t){return e.params&&e.params.filter((function(e){return e.name.toUpperCase()===t.toUpperCase()||e.name.toUpperCase()===t.toUpperCase()+" EXPRESSION"}))[0]}},{key:"getKeyword",value:function(e){var t=this.bnfLang.getRuleByName(e.fn);return this.findFirstKeyword(t)}},{key:"lookupFunctionKeywordHelp",value:function(e){var t=this.getKeyword(e),n=this.expandHelpLookupPathsToUsingKeywords(e);if(n&&n.length>0)for(var r in n){var i=this.findFunctionHelpEntry(n[r].fn);if(i)return{doc:this.getFunctionDoc(n[r].fn),title:i.title||t,summary:i.summary,paramSummary:"",paramName:"",syntax:i.syntax,highlightedSyntax:i.syntax}}}},{key:"lookupFunctionParamHelp",value:function(e){var t=this.expandHelpLookupPathsToUsingKeywords(e);if(t&&t.length>0)for(var n in t){var r=this.findFunctionHelpEntry(t[n].fn);if(r){var i=this.mapParamName(t[n].fn,t[n].param),a=this.getParamNode(r,i);if(a)var o={doc:this.getFunctionDoc(t[n].fn),title:r.title||t[n].fn,summary:r.summary,paramName:a.name,paramSummary:a.summary,syntax:r.syntax,highlightedSyntax:this.highlightSyntax(r.syntax,a.name)};else o={doc:this.getFunctionDoc(t[n].fn),title:r.title||t[n].fn,summary:r.summary,paramSummary:"",paramName:i,syntax:r.syntax,highlightedSyntax:this.highlightSyntax(r.syntax,i)};return o}}}},{key:"getHelpFromTokenTooltip",value:function(e){return e&&(this.lookupHelp(e)||this.lookupFunctionKeywordHelp(e))}},{key:"getParameterHelpFromToken",value:function(e){if(e.metaInfo&&e.metaInfo.isKeyword){var t={fn:e.metaInfo.rulesTrail[0],param:e.text.toUpperCase()};return this.lookupHelp(t)||this.lookupFunctionKeywordHelp(t)}if(t=this.getFnAndParam(e))return this.lookupHelp(t)||this.lookupFunctionParamHelp(t)}},{key:"getHelpFromTokenText",value:function(e){var t={name:"",summary:""};if(e){var n=e.replace(/[\(\)\s]+/,"").toUpperCase(),r=this.findFunctionHelpEntry(n);r&&(t.syntax=r.syntax,t.summary=r.summary,t.name=r.functionName)}return t}},{key:"loadHelpBundle",value:function(e){var t=this;if(e){if(-1===this.helpConfig.languages.indexOf(e)){var r=e.split("-")[0],i=this.helpConfig.languages.filter((function(e){return 0===e.indexOf(r+"-")}));e=i.length>0?i[0]:"en-US"}}else e="en-US";try{n(17)("./help-"+e+".json").then((function(e){t.setHelpData(JSON.parse(e.default))}))}catch(e){n.e(0).then(n.t.bind(null,19,7)).then((function(e){t.setHelpData(JSON.parse(e.default))}))}}}])&&tt(t.prototype,r),i&&tt(t,i),e}();function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),e}var lt=function(){function e(t,n,r,i){at(this,e),this.bnfLang=t,this.bnfHelp=n,this.templateBuilder=r,this.hintBuilder=i}return st(e,[{key:"getIdentifiers",value:function(e){return this.bnfLang.getIdentifiers(e)}},{key:"parseIntoTokens",value:function(e){return this.bnfLang.parseIntoTokens(e)}},{key:"parseTextIntoColorStructure",value:function(e){return this.bnfLang.parseTextIntoColorStructure(e)}},{key:"getTokenHelp",value:function(e){return this.bnfHelp.getParameterHelpFromToken(e)}},{key:"getTokenTemplates",value:function(e){return this.templateBuilder.build(e)}}]),e}();function ct(e,t,n,r){var i=new Fe(e,n),a=new it(t,i,n),s=new Be(i,a),l=new et(i,s,a);if("sense-script"===r)return o.a.defineMode(r,(function(e){return new ft(i,a,l,e)})),new lt(i,a,s,l)}var ut,dt,ft=function(){function e(t,n,r,i){at(this,e),this.bnfHelp=n,this.bnfLang=t,this.hintBuilder=r,this.options=i,this.preciseStartState=!0,this.noUpdateFrontier=!0,this.lineComment="//",this.helpBootstrapped=!1}return st(e,[{key:"updateFrontierFoReflectChangeOnLine",value:function(e){}},{key:"getExternalIdentiferList",value:function(){return this.options.service&&this.options.service.getAutocompleteList?this.options.service.getAutocompleteList().filter((function(e){return!0})):[]}},{key:"getLine",value:function(e){return this.options.exposeCodemirrorToMode?this.options.exposeCodemirrorToMode().getDoc().getLine(e):void 0}},{key:"startState",value:function(){var e=this;this.helpBootstrapped||(this.helpBootstrapped=!0,this.bnfHelp.loadHelpBundle(this.options.mode.language)),this.codemirror||setTimeout((function(){e.codemirror||(e.codemirror=e.options.exposeCodemirrorToMode(),e.codemirror.getDoc().on("beforeChange",(function(t,n){var r=n.from.line;if(r>0){var i=e.options.exposeCodemirrorToMode().getTokenAt({line:r,ch:0});if(i.state.lastToken){var a=i.state.lastToken.backwards(0,(function(e){return";"===e.text})),o=a&&a.forward(1,(function(e){return!e.isWhitespace})),s=o?o.startPos.line:0;s>r&&(s=r);for(var l=s;l<=n.to.line;l++)t.getLineHandle(l).stateAfter=null;var c=function(e){for(var n=e-1;n>=0;n--)if(t.getLineHandle(n).stateAfter)return t.getLineHandle(n).stateAfter}(s);c&&(c.lastToken&&c.lastToken.clearNexts(),c.lastInteresting&&c.lastInteresting.clearNextInteresting()),t.frontier=s}}})))}));var t=this.bnfLang.createStartToken((function(t){return e.getLine(t)}));return{initialState:!0,rootAdvanceList:this.startAdvanceList,lastToken:t,lastInteresting:t,lineNbr:-1}}},{key:"copyState",value:function(e){return{lastToken:e.lastToken,lastInteresting:e.lastInteresting,rootAdvanceList:e.rootAdvanceList,identifierList:e.identifierList,bnfLang:e.bnfLang,tokenHistory:e.tokenHistory,lineNbr:e.lineNbr}}},{key:"blankLine",value:function(e){e.lineNbr++}},{key:"token",value:function(e,t){var n=this;0===e.pos&&t.lineNbr++;var r=t.lineNbr,i=this.bnfLang.getNextToken_Line(t.lastToken,t.lastInteresting,e.string,e.pos,r,t.identifierList,t.tokenHistory,(function(e){return n.getLine(e)}));return t.lastToken=i.lastToken,t.lastInteresting=i.lastInteresting,t.tokenForSuggestions=i.tokenForSuggestions,t.identifierList=i.identifierList,t.bnfLang=this.bnfLang,t.tokenHistory=i.tokenHistory,e.pos=i.newStreamPos,i.tokenColor}},{key:"buildHintData",value:function(e){var t=e.getCursor(),n=e.getTokenAt(t,!0),r=n.state.lastToken,i=n.state.identifierList,a=this.options.mode.service?this.options.mode.service.getAutocompleteList():[];return this.hintBuilder.buildHintData(t,r,i,a)}}]),e}(),pt=n(8),ht=n.n(pt),vt=n(9),mt=n.n(vt),gt=n(2),bt=n.n(gt);function yt(e,t){return ut||(t||(t=ht.a),ut=ct(t,JSON.parse(bt.a),"script",e)),ut}function wt(e){return dt||(e||(e=mt.a),dt=ct(e,bt.a,"chart","sense-expression")),dt}function St(e){n.p=e&&e.publicPath||"./",e.angularModule&&(!function(e){e.service("codeareaPopupper",["$compile","$rootScope",function(e,t){var n=0;return{popup:function(r,a){var o="codearea-popupper-container"+n++,s=t.$new();s.popupInput=a;var l="<"+r+" ";for(var c in a)l+=" data-"+c.replace(/([A-Z])/g,"-$1").toLowerCase()+"='popupInput."+c+"'";var u=e("<div style='position:absolute;top:0;left:0;pointer-events: none' id='"+o+"'>"+(l+=">")+"</div>")(s);return i()("body").append(u),{destroy:function(){s.$destroy(),i()("#"+o).remove()}}}}}])}(e.angularModule),function(e){e.directive("qvCodearea",(function(){return{replace:!0,restrict:"EA",priority:2,scope:{mode:"=",showBreakpointGutter:"=",resizeTrigger:"=",options:"=",showLineNumbers:"@",useLineWrapping:"@",disabled:"="},template:"<div class='qv-codearea' ng-class='cssClasses'></div>",controller:["$scope","$element","$timeout",function(e,t,n){var r=this;e.cssClasses={},void 0===e.showLineNumbers&&(e.showLineNumbers=!0),t.on("keydown",(function(e){e.isDefaultPrevented()&&e.stopPropagation()}));var a=[],s="true"===e.showLineNumbers||!0===e.showLineNumbers,l="true"===e.useLineWrapping||!0===e.useLineWrapping;s&&a.push("CodeMirror-linenumbers"),e.showBreakpointGutter&&a.push("qv-codearea-breakpoint");var c={lineWrapping:l,lineNumbers:s,mode:e.mode,exposeCodemirrorToMode:function(){return r.codemirror},matchBrackets:!0,gutters:a,finishInit:function(e){r.codemirror=e}};return e.options&&(c=i.a.extend({},c,e.options)),o()(t[0],c),r.cssClasses=e.cssClasses,r.setCustomFocusFn=function(e){r.customfocusFn=e},r.focus=function(){r.customfocusFn?r.customfocusFn():r.codemirror.hasFocus()||r.codemirror.focus()},e.codemirror=r.codemirror,e.codemirror.on("drop",(function(e,t){t.dataTransfer.files.length>0&&t.preventDefault()})),e.$watch("mode",(function(e,t){e!==t&&(r.codemirror.setOption("mode",e),n((function(){r.codemirror.refresh()})))})),e.$watch("disabled",(function(e){r.disabled=e,r.cssClasses["qv-codearea-disabled"]=e,e&&"nocursor"!==r.codemirror.getOption("readOnly")?r.codemirror.setOption("readOnly","nocursor"):e||"nocursor"!==r.codemirror.getOption("readOnly")||(r.codemirror.setSelection({line:0,ch:0},{line:0,ch:0}),r.codemirror.setOption("readOnly",!1))})),e.$watch("resizeTrigger",(function(e){e&&n((function(){r.codemirror.refresh()}))})),e.$on("$destroy",(function(){e.codemirror=void 0,setTimeout((function(){r.codemirror=void 0,r.overrideCustomFocus=void 0}),1e3)})),n((function(){i()(".qv-codearea .CodeMirror textarea").css("font-size","13px")})),r}]}}))}(e.angularModule),function(e){e.directive("qvCodeareaBnfAutocomplete",["$timeout","codeareaPopupper",function(e,t){return{restrict:"A",require:"qvCodearea",link:function(n,r,a,o){var s=[37,38,39,40,33,34,27,8,9,13,35,36,46,16,17,18],l=function(r){function a(e,t){if(!d.state&&9===t.keyCode){var n=e.getCursor(),r=e.doc.getLine(n.line);if(r.indexOf("‹")>=0&&!function(e,t){return e.substring(0,t.ch)===e.substring(0,t.ch).match(/\s*/)[0]}(r,n)){var i;t.shiftKey?(i=r.lastIndexOf("‹",n.ch-1))>=0&&e.setCursor({line:n.line,ch:i}):(i=r.indexOf("‹",n.ch+1))>=0&&e.setCursor({line:n.line,ch:i});t.preventDefault()}}32===t.keyCode&&t.ctrlKey&&!t.shiftKey&&t.preventDefault()}function l(e,t){t.ctrlKey||-1!==i.a.inArray(t.which,s)?32===t.which&&t.ctrlKey&&!t.shiftKey&&d.manualStart():d.autoStart()}function u(e,t){if("undo"!==t.origin&&"setValue"!==t.origin&&function(e,t){for(var n=t.from.line;n<=t.to.line;n++)if(e.doc.getLine(n).indexOf("‹")>=0)return!0}(e,t)){var n=e.getTokenAt(t.from,!0).state,r=e.getTokenAt(t.to,!0).state,i=n.lastToken,a=i.next(),o=r.lastToken;if(o){var s,l,c=i?i.backwards(0,(function(e){return e.isInteresting})):void 0;a.isInteresting&&!a.isOperator&&!a.isEof&&!a.startPos.line>c.startPos.line||!c||!c.isTemplate||(s=c.startPos);var u=o.next().interesting();o.isInteresting&&!o.isOperator||!u.isTemplate?o.isTemplate&&(l=o.endPos):l=u.endPos,(s||l)&&t.update(s||t.from,l||t.to,t.text)}}}var d;r&&(n.autocompleteOptions=r,r.getHints||(r.getHints=function(e){return o.codemirror.doc.mode.buildHintData(e)}),n.$evalAsync((function(){d=new O(o.codemirror,r,n,e,t)})),o.codemirror.on("keydown",a),o.codemirror.on("beforeChange",u),o.codemirror.on("keyup",l),n.$on("$destroy",(function(){o.codemirror.off("keyup",l),o.codemirror.off("beforeChange",u),o.codemirror.off("keydown",a),d.close()})),c())},c=n.$watch(a.qvCodeareaBnfAutocomplete,l,!0);n.$watch(a.mode,(function(e,t){e!==t&&"sense-script"===e&&l(n.autocompleteOptions)}))}}}])}(e.angularModule),N(e.angularModule),R(e.angularModule),function(e){e.directive("qvCodeareaCodeContainer",(function(){return{require:"qvCodearea",priority:-1,link:function(e,t,n,r){var i;function a(e){r.supressChangeEvent=!0,r.codemirror.setValue(e),r.supressChangeEvent=!1,setTimeout((function(){r.codemirror.refresh(r.codemirror)}),0)}function o(){return r.codemirror.getValue()}e.$watch(n.qvCodeareaCodeContainer,(function(e,t){t&&t!==e&&(t.editorState={history:JSON.stringify(r.codemirror.getHistory()),selectionFrom:r.codemirror.getCursor(!0),selectionTo:r.codemirror.getCursor(!1),scrollInfo:r.codemirror.getScrollInfo()},t.content=o()),e&&(e.mode&&r.codemirror.mode!==e.mode?(r.codemirror.setOption("mode","none"),a(e.content||""),r.codemirror.setOption("mode",e.mode)):a(e.content||""),e.editorState?(r.codemirror.setHistory(JSON.parse(e.editorState.history)),r.codemirror.setSelection(e.editorState.selectionFrom,e.editorState.selectionTo),r.codemirror.scrollTo(e.editorState.scrollInfo.left,e.editorState.scrollInfo.top)):r.codemirror.clearHistory()),i=e}));var s=null;function l(){r.supressChangeEvent||(i.content=o(),clearTimeout(s),s=setTimeout((function(){e.$apply()}),250))}r.codemirror.on("change",l),e.$on("qvCodearea-refresh-current-tab",(function(){i&&a(i.content||"")})),e.$on("$destroy",(function(){r.codemirror.off("change",l)}))}}}))}(e.angularModule),u(e.angularModule),P(e.angularModule))}n.d(t,"initializeScriptCodemirrorMode",(function(){return yt})),n.d(t,"initializeExpressionCodemirrorMode",(function(){return wt})),n.d(t,"initializeCodearea",(function(){return St}))}])}))},bF7x:function(e,t,n){"use strict";var r=n("6uJb");var i="landscape";var a={w:33.1,h:46.8};var o=function e(t,n,r){this.name=t;this.unit=r||"in";this.dimensions=n};o.prototype={toPixels:function e(t){var n=0;switch(this.unit){case"in":n=t;break;case"pi":n=1;break;case"cm":n=.393701*t;break;default:break}var r=this.dimensions.w*n;var i=this.dimensions.h*n;return{w:Math.round(r),h:Math.round(i)}},toMillimeters:function e(){var t=0;switch(this.unit){case"in":t=1/.0393701;break;case"cm":t=10;break;default:break}var n=this.dimensions.w*t;var r=this.dimensions.h*t;return{w:Math.floor(n),h:Math.floor(r)}},setLabel:function e(t){var n=this;var i;var a=r["default"].localeDetected&&"en"===r["default"].localeDetected.substring(0,2);var o=a?n.dimensions:n.toMillimeters();var s=o["portrait"===t?"w":"h"];var l=o["portrait"===t?"h":"w"];"Print.PaperSize.Letter"===n.name&&(n.name=r["default"].get(n.name));i=a?" (".concat(s,'" x ').concat(l,'")'):" (".concat(s," mm x ").concat(l," mm)");n.label=n.name+i}};function s(e,t){var n;var r;if(e<t){n=e;r=t/2}else{n=e/2;r=t}return{w:n>r?r:n,h:r>n?r:n}}var l=[new o("A0",{w:a.w,h:a.h})];for(var c=1;c<8;c++)l.push(new o("A".concat(c),s(l[c-1].dimensions.w,l[c-1].dimensions.h)));l.push(new o("Print.PaperSize.Letter",{w:8.5,h:11}));for(var u=0;u<3;u++)l.shift();l.forEach((function(e){e.setLabel(i)}));var d=[{orientation:"portrait",translationKey:"Print.Portrait"},{orientation:"landscape",translationKey:"Print.Landscape"}];d.forEach((function(e){e.label=r["default"].get(e.translationKey)}));var f=[{type:"pdf",format:"pdf",label:"PDF"},{type:"image",format:"png",label:"PNG"},{type:"image",format:"jpeg",label:"JPEG"}];t["a"]={sizes:l,layouts:d,outputs:f}},bTsw:function(e,t,n){"use strict";var r=n("h2z3");var i=n("sWge");var a=n("oxue");var o=n("G3JA");var s=n("4nJ1");var l=n("KBmc");var c=n("WFGH");function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function p(e,t,n){t&&f(e.prototype,t);n&&f(e,n);return e}function h(e,t,n){h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=v(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return h(e,t,n||e)}function v(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=x(e);if(null===e)break}return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}function b(e){var t=S();return function n(){var r=x(e),i;if(t){var a=x(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return y(this,i)}}function y(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function x(e){x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return x(e)}var C=1e3;var q=1e3;function E(e,t){if(!e)return[];return t&&s["a"].getValue(e,t)?s["a"].getValue(e,t).qHyperCube:e.qHyperCube}var I=function(e){m(n,e);var t=b(n);function n(e){var r;d(this,n);r=t.call(this,e);r.path=e.path;return r}p(n,[{key:"setProperties",value:function e(t){if(!t)return;h(x(n.prototype),"setProperties",this).call(this,t);this.hcProperties=this.path?s["a"].getValue(t,"".concat(this.path?"".concat(this.path,"."):"","qHyperCubeDef")):t.qHyperCubeDef;if(!this.hcProperties)return;this.hcProperties.qDimensions||(this.hcProperties.qDimensions=[]);this.hcProperties.qMeasures||(this.hcProperties.qMeasures=[]);this.hcProperties.qInterColumnSortOrder||(this.hcProperties.qInterColumnSortOrder=[]);this.hcProperties.qLayoutExclude||(this.hcProperties.qLayoutExclude={});this.hcProperties.qLayoutExclude.qHyperCubeDef||(this.hcProperties.qLayoutExclude.qHyperCubeDef={});this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions||(this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions=[]);this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures||(this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures=[]);this.hcProperties.qDimensions.forEach((function(e){if(void 0!==e.autoSort){e.qDef.autoSort=e.autoSort;delete e.autoSort}}));this.hcProperties.qMeasures.forEach((function(e){if(void 0!==e.autoSort){e.qDef.autoSort=e.autoSort;delete e.autoSort}}))}},{key:"canColorBy",value:function e(t,r){var i=t||{qHyperCubeDef:this.hcProperties||this.properties.qHyperCubeDef};var a=this.layout?this.layout.visualization:null;var o=i.qHyperCubeDef.qDimensions.length>=this.minDimensions()&&i.qHyperCubeDef.qMeasures.length>=this.minMeasures();if(l["a"].colorBy.isSupported(a)||r)return o&&this.layout&&this.layout.color?n.canColorBy(i,a):{};return false}},{key:"getDimensions",value:function e(){return this.hcProperties?this.hcProperties.qDimensions:[]}},{key:"getMeasures",value:function e(){return this.hcProperties?this.hcProperties.qMeasures:[]}},{key:"getLabels",value:function e(){return this.getMeasures().filter((function(e){return!e.qLibraryId&&!!e.qDef.qLabel})).map((function(e){return e.qDef.qLabel}))}},{key:"getSorting",value:function e(){return this.hcProperties.qInterColumnSortOrder}},{key:"addDimension",value:function e(t,n,r){var a=this.getDimensions();var l=this;t.qDef.cId||(t.qDef.cId=s["a"].generateId());t.qOtherTotalSpec||(t.qOtherTotalSpec={});if(n){r=void 0!==r?r:this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(r,0,t);return i["a"].resolve(t)}if(a.length<this.maxDimensions()){r=void 0!==r?r:a.length;a.splice(r,0,t);return this.autoSortDimension(t).then((function(){o["a"].indexAdded(l.hcProperties.qInterColumnSortOrder,"undefined"!==typeof r?r:a.length-1);if("function"===typeof l.dimensionDefinition.add)return i["a"].when(l.dimensionDefinition.add.call(l,t,l.properties,l)).then((function(){return t}));return t}))}if(a.length<C){r=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(r,0,t);return i["a"].resolve(t)}return i["a"].resolve()}},{key:"reinsertDimension",value:function e(t,n,r){var a=this.getDimensions();var l=this;t.qDef.cId||(t.qDef.cId=s["a"].generateId());if(n){r=void 0!==r?r:this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(r,0,t);if("function"===typeof l.dimensionDefinition.move)return i["a"].when(l.dimensionDefinition.move.call(l,t,l.properties,l)).then((function(){return t}))}else if(a.length<this.maxDimensions()){r=void 0!==r?r:a.length;a.splice(r,0,t);o["a"].indexAdded(l.hcProperties.qInterColumnSortOrder,"undefined"!==typeof r?r:a.length-1);if("function"===typeof l.dimensionDefinition.move)return i["a"].when(l.dimensionDefinition.move.call(l,t,l.properties,l)).then((function(){return t}))}else if(a.length<C){r=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(r,0,t)}return i["a"].resolve(t)}},{key:"addMeasure",value:function e(t,n,r){var a=this.getMeasures();var l=this;t.qDef.cId||(t.qDef.cId=s["a"].generateId());if(n){r=void 0!==r?r:this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(r,0,t);return i["a"].resolve(t)}r=void 0!==r?r:a.length;if(a.length<this.maxMeasures()){a.splice(r,0,t);return this.autoSortMeasure(t).then((function(){o["a"].indexAdded(l.hcProperties.qInterColumnSortOrder,l.getDimensions().length+a.length-1);if("function"===typeof l.measureDefinition.add)return i["a"].when(l.measureDefinition.add.call(null,t,l.properties,l)).then((function(){return t}));return t}))}if(a.length<q){r=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(r,0,t);return i["a"].resolve(t)}return i["a"].resolve()}},{key:"getDimensionLayouts",value:function e(){var t=E(this.layout,this.path);return t?t.qDimensionInfo:[]}},{key:"getDimensionLayout",value:function e(t){return this.getDimensionLayouts().filter((function(e){return t===e.cId}))[0]}},{key:"getMeasureLayouts",value:function e(){var t=E(this.layout,this.path);return t?t.qMeasureInfo:[]}},{key:"getMeasureLayout",value:function e(t){return this.getMeasureLayouts().filter((function(e){return t===e.cId}))[0]}},{key:"reinsertMeasure",value:function e(t,n,r){var a=this.getMeasures();var l=this;t.qDef.cId||(t.qDef.cId=s["a"].generateId());if(n){r=void 0!==r?r:this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(r,0,t)}else{r=void 0!==r?r:a.length;if(a.length<this.maxMeasures()){a.splice(r,0,t);o["a"].indexAdded(l.hcProperties.qInterColumnSortOrder,l.getDimensions().length+a.length-1);if("function"===typeof l.measureDefinition.move)return i["a"].when(l.measureDefinition.move.call(null,t,l.properties,l,true)).then((function(){return t}))}else if(a.length<q){r=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(r,0,t)}}return i["a"].resolve(t)}},{key:"replaceDimension",value:function e(t,n){var r=this.getDimensions();var i=r[t];var a=this;return this.autoSortDimension(n).then((function(){n.qDef.cId=s["a"].generateId();r[t]=n;"function"===typeof a.dimensionDefinition.replace&&a.dimensionDefinition.replace.call(null,n,i,t,a.properties,a);return n}))}},{key:"replaceMeasure",value:function e(t,n){var r=this.getMeasures();var i=r[t];var a=this;return this.autoSortMeasure(n).then((function(){n.qDef.cId=s["a"].generateId();r[t]=n;"function"===typeof a.measureDefinition.replace&&a.measureDefinition.replace.call(null,n,i,t,a.properties,a);return n}))}},{key:"autoSortDimension",value:function e(t){var n=this;function r(e){e.forEach((function(e,r){var i=e.qTags;var a={qSortByLoadOrder:1};if("function"===typeof n.dimensionDefinition.autoSort)n.dimensionDefinition.autoSort(t,n.properties,i,a,n);else{a.qSortByNumeric=1;a.qSortByAscii=1}t.qDef.qSortCriterias?t.qDef.qSortCriterias[r]=a:t.qDef.qSortCriterias=[a]}))}if(t.qLibraryId)return this.app.getDimensionList().then((function(e){var n=a["a"].findLibraryDimension(t.qLibraryId,e);n&&r(n.qData.info);return t}));return this.app.getFieldList().then((function(e){var n=a["a"].findField(t.qDef.qFieldDefs[0],e);n&&r([n]);return t}))}},{key:"autoSortMeasure",value:function e(t){t.qSortBy={qSortByLoadOrder:1,qSortByNumeric:-1};return i["a"].resolve(t)}},{key:"removeDimension",value:function e(t,n){var r;if(n){r=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(t,1);if("function"===typeof this.dimensionDefinition.remove)return i["a"].when(this.dimensionDefinition.remove.call(null,r,this.properties,this,t))}else{r=this.hcProperties.qDimensions.splice(t,1)[0];o["a"].indexRemoved(this.hcProperties.qInterColumnSortOrder,t);if("function"===typeof this.dimensionDefinition.remove)return i["a"].when(this.dimensionDefinition.remove.call(null,r,this.properties,this,t))}return i["a"].resolve(r)}},{key:"removeMeasure",value:function e(t,n){var r;if(n)r=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(t,1)[0];else{r=this.hcProperties.qMeasures.splice(t,1)[0];o["a"].indexRemoved(this.hcProperties.qInterColumnSortOrder,this.getDimensions().length+t);if("function"===typeof this.measureDefinition.remove)return i["a"].when(this.measureDefinition.remove.call(null,r,this.properties,this,t))}return i["a"].resolve(r)}},{key:"moveDimension",value:function e(t,n){var r=this.getDimensions();var a=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions;var s;var l;var c;if(t<r.length&&n<r.length)o["a"].move(r,t,n);else if(t<r.length&&n>=r.length){l=n-r.length;c=a.splice(0,1)[0];r.push(c);c=r.splice(t,1)[0];a.splice(l,0,c)}else if(t>=r.length&&n<r.length){s=t-r.length;c=r.splice(r.length-1,1)[0];a.splice(0,0,c);c=a.splice(s+1,1)[0];r.splice(n,0,c)}else{s=t-r.length;l=n-r.length;o["a"].move(a,s,l)}return i["a"].resolve(c)}},{key:"moveMeasure",value:function e(t,n){var r=this.getMeasures();var a=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures;var s;var l;var c;if(t<r.length&&n<r.length)o["a"].move(r,t,n);else if(t<r.length&&n>=r.length){l=n-r.length;c=a.splice(0,1)[0];r.push(c);c=r.splice(t,1)[0];a.splice(l,0,c)}else if(t>=r.length&&n<r.length){s=t-r.length;c=r.splice(r.length-1,1)[0];a.splice(0,0,c);c=a.splice(s+1,1)[0];r.splice(n,0,c)}else{s=t-r.length;l=n-r.length;o["a"].move(a,s,l)}return i["a"].resolve(c)}},{key:"changeSorting",value:function e(t,n){o["a"].move(this.hcProperties.qInterColumnSortOrder,t,n)}},{key:"setSorting",value:function e(t){t&&t.length===this.hcProperties.qInterColumnSortOrder.length&&(this.hcProperties.qInterColumnSortOrder=t)}}]);return n}(r["a"]);I.canColorBy=function(e,t){var n={primary:true};if(e){var r=c["default"].getLogicFor("hard",t).helpers.colorModeOptions;n.byDimension=r.dimension(e);n.byMeasure=r.measure(e);n.byMultiple=r.multiColor(e);n.byExpression=r.expression(e)}return n};t["a"]=I},bam4:function(e,t,n){"use strict";var r='<qui-float qui-offset="offset" qui-resize-on-change="content" class="qv-function-tip-container">\n\t<div class=\'qv-function-tip-view\' ng-show=\'content\'>{{content}}</div>\n</qui-float>\n';var i=t["a"]={scope:{offset:"=",content:"="},template:r,controller:[function(){}]}},bdjB:function(e,t,n){"use strict";var r={SPARK:{width:0,height:0},XSMALL:{width:150,height:75},SMALL:{width:300,height:150},MEDIUM:{width:400,height:220},FULL:{width:550,height:450}};function i(){return r}i.getLayoutModeKeys=function(){var e=[];var t;for(t in r)e.push(t);return e};t["a"]=i},bmRg:function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("wvr8");var o="localstorageservice";function s(e){if(!i.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));return"".concat(o,".").concat(e)}function l(e,t,n){var r=(new Date).getTime();if(!i.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));if(!i.a.isObject(t))throw new Error('The value "'.concat(t,'" for the key "').concat(e,'" is not valid object.'));if(n){if(!i.a.isNumber(n))throw new Error('The time to live value "'.concat(n,'" is not numeric.'));n+=r}var a={timeToLive:n,value:t};var o=JSON.stringify(a);localStorage[s(e)]=o}function c(e){if(!i.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));var t=i.a.isEmpty(localStorage[s(e)]);return!t}function u(e,t){if(!i.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));if(!c(e)){if(void 0!==t)return t;throw new Error('There is no data set for the key "'.concat(e,'". Please use contains() first to verify you should actually do a get().'))}var n=d(e);return n.value}function d(e){var t=JSON.parse(localStorage[s(e)]);return t}function f(e){if(!i.a.isString(e))throw new Error('The key "'.concat(e,'" is not a String.'));if(!c(e))throw new Error('There is no data set for the key "'.concat(e,'". Please use contains() first to verify you should actually do a get().'));delete localStorage[s(e)]}function p(){var e;var t;var n;for(e in localStorage)if(a["a"].startsWith(e,o)){e=e.substring(o.length+1);t=d(e);n=(new Date).getTime();i.a.isNumber(t.timeToLive&&n>t.timeToLive)&&f(e)}}t["a"]={set:l,get:u,contains:c,clean:p,remove:f}},c71u:function(e,t,n){"use strict";var r=n("RZ9f");var i=n("a0ag");var a=n("acVu");var o=new i["a"];var s=Object(a["b"])("CAO_LIKED_ANALYSIS");function l(e){r["a"].trackEvent(r["a"].customEvents.INSIGHTS_NOT_A_MEASURE_CLICKED);return o.defineDimension({expr:"[".concat(e,"]")})}function c(e){r["a"].trackEvent(r["a"].customEvents.INSIGHTS_NOT_A_DIMENSION_CLICKED);return o.defineMeasure({expr:"[".concat(e,"]")})}function u(e,t){var n={analysis:t.analysis,analysisGroup:t.analysisGroup,analysisPrecedentId:e.analysisPrecedentId,slots:[]};e.visType&&(n.visType=e.visType);e.matches.forEach((function(e){var t={slot:e.slot};e.field&&(t.field=e.field);e.slotRole&&(t.slotRole=e.slotRole);e.aggr&&(t.aggr=e.aggr);e.libId&&(t.libId=e.libId);e.libIdLabel&&(t.libIdLabel=e.libIdLabel);e.groupCriteria&&(t.groupCriteria=e.groupCriteria);n.slots.push(t)}));return n}function d(e){var t=e.analysis;var n={action:"update",analysisType:t.analysis,detailLevel:[],matchRecord:{analysisPrecedentId:t.analysisPrecedentId,matches:t.slots}};t.visType&&(n.matchRecord.visType=t.visType);return n}function f(){return E().then((function(e){if(e&&e[0]&&e[0].nodes)return e[0].nodes;return[]}))}function p(){return I().then((function(e){if(e&&e[0]&&e[0].nodes)return e[0].nodes;return[]}))}function h(e){return o.dislikeLibItem({name:e})}function v(e){return o.dislikeField({name:e})}function m(e){var t;t=s?u(e.getMatchRecord(),e.getAnalysis()):e.getAnalysis();return o.dislikeAnalysis(t).then((function(n){s&&e.setPrecedents(n.nodes[0].id,true);r["a"].trackEvent(r["a"].customEvents.INSIGHTS_HIDE_CHART_CLICKED,{chart:e.getAnalysisPrecedentId()});t.precedents={id:n.nodes[0].id,disliked:true};return t.precedents}))}function g(e){var t=e.getAnalysis();return o.undislikeAnalysis(t).then((function(){s&&e.setPrecedents(t.precedents.id,false);delete t.precedents}))}function b(e,t){return e.filter((function(e){if(e.field)return e.field.name===t;return e.libItem.name===t}))[0]}function y(e){return o.getDislikedItems().then((function(t){var n=t[0].nodes;r["a"].trackEvent(r["a"].customEvents.INSIGHTS_PROPOSE_FIELD_AGAIN_CLICKED);var i=b(n,e);return o.undislikeItem(i.id)}))}function w(e){var t=u(e.getMatchRecord(),e.getAnalysis());return o.likeAnalysis(t).then((function(n){e.setPrecedents(n.nodes[0].id,void 0,true);t.precedents={id:n.nodes[0].id,liked:true};return t.precedents}))}function S(e){return o.dislikeAnalysis(e).then((function(t){e.precedents={id:t.nodes[0].id,disliked:true};return true}))}function x(e){return o.undislikeAnalysis(e).then((function(){delete e.precedents;return false}))}function C(){return o.getLearnedItems()}function q(){return o.getDislikedItems()}function E(){return o.getLikedAnalysis()}function I(){return o.getDislikedAnalysis()}function k(e){return o.removeDefinedItem(e)}function A(e){return o.undislikeItem(e)}function T(e){return o.removeLikedAnalysis(e.precedents.id).then((function(){delete e.precedents;return false}))}function D(){return o.removeAllPrecedents()}t["a"]={applyDimensionLearning:l,applyMeasureLearning:c,getAnalysisFromMatchRecord:u,dislikeLibItem:h,dislikeField:v,hideChart:m,unHideChart:g,unDislikeItem:y,likeChart:w,dislikeAnalysis:S,unDislikeAnalysis:x,getDislikedItems:q,getLearnedItems:C,getLikedAnalysis:E,getDislikedAnalysis:I,removeDefinedItem:k,unDislikeField:A,removeLikedAnalysis:T,removeAllPrecedents:D,getMatchRecordFromAnalysis:d,getLikedAnalysisNodes:f,getDislikedAnalysisNodes:p}},cC4h:function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a=n("uVcZ");var o=null;function s(){function e(){Promise.all([n.e(1),n.e(2),n.e(38),n.e(6),n.e(102)]).then((function(){var e=[n("/EBH"),n("LbcM"),n("Ow2L"),n("+Z8m"),n("wrfk"),n("h5Bm"),n("TFfc"),n("d9Vk"),n("JRPt"),n("lIOl"),n("N5Bn"),n("khNO"),n("sWkO"),n("tkJJ"),n("wjs+"),n("UYVP"),n("LB5b"),n("poXS"),n("2sMT"),n("GzpM"),n("HXEA"),n("a5hU"),n("edM1"),n("1L6A"),n("71Dx"),n("GxrR"),n("fUuM"),n("URmv"),n("hSVP"),n("jwMR"),n("ujh9"),n("kBqq"),n("otw7"),n("naOk"),n("IL/a"),n("iSqg"),n("fcHB"),n("Xhga"),n("JQia"),n("5rlx"),n("jHdw"),n("hHMc"),n("9pi8"),n("yE3b"),n("s0yP"),n("fOjz"),n("HUhx"),n("dFmT"),n("QrGG"),n("CxxQ"),n("Vyxi"),n("JGF7"),n("xxN6"),n("9AZI"),n("noUX"),n("p8j/"),n("nQ1F"),n("dX5N"),n("nkvf"),n("sPK5"),n("JCP6"),n("kaF8"),n("Eqtb"),n("Ogpq"),n("Adu7"),n("cC1C"),n("wzaI"),n("K6JV"),n("k0VT"),n("eLyq"),n("Hils"),n("bhQ1"),n("70EH"),n("ekjZ"),n("jhii")];(function(e,t,n,i,s,l,c,u,d,f,p,h,v,m,g,b,y,w,S,x,C,q,E,I,k,A,T,D,O,L,M,P,N,R,F,_,j,B,V,H,z,$,U,G,W,Q,K,Y,J,Z,X,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,fe,pe,he,ve,me,ge,be,ye,we,Se,xe,Ce){a["a"].addComponent("button",t.default);a["a"].addComponent("accordion",n.default);a["a"].addComponent("checkbox",i.default);a["a"].addComponent("dimensions",s.default);a["a"].addComponent("dropdown",l.default);a["a"].addComponent("custom-formatter-dropdown",c.default);a["a"].addComponent("expression",u.default);a["a"].addComponent("buttongroup",d.default);a["a"].addComponent("radiobuttons",f.default);a["a"].addComponent("expandable-items",p.default);a["a"].addComponent("expandable-light",h.default);a["a"].addComponent("header",v.default);a["a"].addComponent("hypercube-data",m.default);a["a"].addComponent("hypercube-sorting",g.default);a["a"].addComponent("sorting",g.default);a["a"].addComponent("inline-dimension",b.default);a["a"].addComponent("inline-measure",y.default);a["a"].addComponent("integer",w.default);a["a"].addComponent("items",S.default);a["a"].addComponent("layers",x.default);a["a"].addComponent("link",C.default);a["a"].addComponent("list",q.default);a["a"].addComponent("measures",E.default);a["a"].addComponent("measures-tab",I.default);a["a"].addComponent("number",k.default);a["a"].addComponent("slider",A.default);a["a"].addComponent("string",T.default);a["a"].addComponent("library-item",D.default);a["a"].addComponent("item-selection-list",O.default);a["a"].addComponent("switch",L.default);a["a"].addComponent("color-scale",M.default);a["a"].addComponent("image-item",P.default);a["a"].addComponent("icon-item",N.default);a["a"].addComponent("color-picker",R.default);a["a"].addComponent("color-scale-creator",F.default);a["a"].addComponent("sorting-dimension",_.default);a["a"].addComponent("sorting-measure",j.default);a["a"].addComponent("image-picker",B.default);a["a"].addComponent("image-picker-list",V.default);a["a"].addComponent("text",H.default);a["a"].addComponent("textarea",z.default);a["a"].addComponent("dimension-dropdown",$.default);a["a"].addComponent("media",U.default);a["a"].addComponent("align-matrix",G.default);a["a"].addComponent("number-formatter-dropdown",W.default);a["a"].addComponent("number-formatter",Q.default);a["a"].addComponent("scope",K.default);a["a"].addComponent("tags",Y.default);a["a"].addComponent("sheet-dropdown",J.default);a["a"].addComponent("attribute-expression-reference",Z.default);a["a"].addComponent("color-by-dropdown",X.default);a["a"].addComponent("measure-color",ee.default);a["a"].addComponent("sort-by-element",te.default);a["a"].addComponent("no-data",ne.default);a["a"].addComponent("calc-cond",re.default);a["a"].addComponent("options-list",ie.default);a["a"].addComponent("header-with-switch",ae.default);a["a"].addComponent("chart-type",oe.default);a["a"].addComponent("icon-button",se.default);a["a"].addComponent("palette-creator",le.default);a["a"].addComponent("style-editor",ce.default);a["a"].addComponent("style-measures",ue.default);a["a"].addComponent("tooltip-data",de.default);a["a"].addComponent("tooltip-data-attr",fe.default);a["a"].addComponent("expression-with-dropdown",pe.default);a["a"].addComponent("size-color-dropdown",he.default);a["a"].addComponent("wms-setup",ve.default);a["a"].addComponent("columns",me.default);a["a"].addComponent("pivot-data",ge.default);a["a"].addComponent("filterpane-data",be.default);a["a"].addComponent("filterpane-sorting",ye.default);var qe=r["default"].getService("$templateCache");qe.put("pp-data-item.ng.html",we.default);qe.put("pp-pseudo-item.ng.html",Se.default);qe.put("pp-empty-data-item.ng.html",xe.default);qe.put("pp-sorting-item.ng.html",Ce.default);o.resolve(a["a"])}).apply(null,e)})).catch(n.oe)}if(!o){o=new i["a"];e()}return o.promise}t["a"]={loadComponents:s}},cLto:function(e,t,n){"use strict";var r=n("sWge");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function o(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e}var s=function(){function e(){i(this,e)}o(e,[{key:"getRowCount",value:function e(){return 0}},{key:"getFirstElementIndex",value:function e(){return-1}},{key:"getLastElementIndex",value:function e(){return-1}},{key:"getIndexOf",value:function e(t){return t.getIndex()}},{key:"onVirtualScroll",value:function e(){return r["a"].resolve()}},{key:"onGotoNextBlock",value:function e(){return r["a"].resolve()}},{key:"onGotoPreviousBlock",value:function e(){return r["a"].resolve()}},{key:"onInitialNativeScroll",value:function e(){return r["a"].resolve()}}]);return e}();t["a"]=s},cMY5:function(e,t,n){"use strict";var r=n("sWge");var i=n("h2z3");var a=n("KvOU");var o=n("oxue");var s=n("4nJ1");function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function d(e,t,n){t&&u(e.prototype,t);n&&u(e,n);return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&p(e,t)}function p(e,t){p=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return p(e,t)}function h(e){var t=g();return function n(){var r=b(e),i;if(t){var a=b(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return v(this,i)}}function v(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var y=function(e){f(n,e);var t=h(n);function n(){var e;c(this,n);e=t.call(this);e.removeDimension=void 0;return e}d(n,[{key:"minDimensions",value:function e(){return 1}},{key:"maxDimensions",value:function e(){return 1}},{key:"minMeasures",value:function e(){return 0}},{key:"maxMeasures",value:function e(){return 0}},{key:"autoSortDimension",value:function e(t){return a["a"].autoSortDimension(t)}},{key:"getDimensions",value:function e(){var t=this.properties.qListObjectDef.qDef;if((!t||!t.qFieldDefs||!t.qFieldDefs.length)&&!this.properties.qListObjectDef.qLibraryId)return[];return[this.properties.qListObjectDef]}},{key:"addDimension",value:function e(t){var n=this;function r(){n.properties.qListObjectDef=s["a"].extend(true,n.properties.qListObjectDef,t);"function"===typeof n.dimensionDefinition.add&&n.dimensionDefinition.add.call(null,t,n.properties,n)}if(t.qLibraryId)return this.app.getDimensionList().then((function(e){var n=o["a"].findLibraryDimension(t.qLibraryId,e);n&&a["a"].autoSortDimension(t,n.qData.info);r();return t}));return this.app.getFieldList().then((function(e){var n=o["a"].findField(t.qDef.qFieldDefs[0],e);n&&a["a"].autoSortDimension(t,[n]);r();return t}))}},{key:"replaceDimension",value:function e(t,n){var i=this;var o=s["a"].extend(true,this.properties.qListObjectDef,n);a["a"].autoSortDimension(n);if(n.qLibraryId){delete o.qDef.qFieldDefs;delete o.qDef.qFieldLabels}else delete o.qLibraryId;i.properties.qListObjectDef=o;return r["a"].resolve(n)}},{key:"getDimensionLayouts",value:function e(){return[this.getDimensionLayout()]}},{key:"getDimensionLayout",value:function e(){if(this.layout&&this.layout.qListObject&&this.layout.qListObject.qDimensionInfo)return this.layout.qListObject.qDimensionInfo;return""}},{key:"getMeasures",value:function e(){return this.properties.qListObjectDef.qExpressions}},{key:"getMeasureLayout",value:function e(){if(this.layout&&this.layout.qListObject&&this.layout.qListObject.qExpressions&&this.layout.qListObject.qExpressions[0])return this.layout.qListObject.qExpressions[0].qExpr;return""}}]);return n}(i["a"]);t["a"]=y},cQOM:function(e,t,n){"use strict";var r=n("x/4K");function i(e,t,n,r){0===arguments.length?this.set(0,0,0,0):2===arguments.length?this.set(e.x,e.y,t.x,t.y):this.set(e,t,n,r)}i.prototype={toString:function e(){return"".concat(this.x1," ").concat(this.y1," ").concat(this.x2," ").concat(this.y2)},clone:function e(){return new i(this.x1,this.y1,this.x2,this.y2)},set:function e(t,n,r,i){this.x1=t;this.y1=n;this.x2=r;this.y2=i},intersectsLine:function e(t){return r["a"].checkLineSegmentIntersectingLineSegment(this.getPoints(),t.getPoints())},intersectsRect:function e(t){return this.intersectsLine(new i(t.x,t.y,t.x+t.width,t.y))||this.intersectsLine(new i(t.x+t.width,t.y,t.x+t.width,t.y+t.height))||this.intersectsLine(new i(t.x,t.y+t.height,t.x+t.width,t.y+t.height))||this.intersectsLine(new i(t.x,t.y,t.x,t.y+t.height))},getPoints:function e(){var t=[];t.push({x:this.x1,y:this.y1});t.push({x:this.x2,y:this.y2});return t}};t["a"]=i},cWJj:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");t["a"]={get:function e(t){var n=t?i["a"].resolve(t.enigmaModel):r["a"].getApp();return n.then((function(e){return e.getCurrentSelectionObject()}))}}},cmwo:function(e,t,n){"use strict";n.d(t,"a",(function(){return vt}));var r=n("Rx6o");var i=n("P7QW");var a=n("mXGw");var o=n.n(a);var s=n("Xyu7");var l=n("MK7S");var c=function(){c=Object.assign||function e(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};return c.apply(this,arguments)};var u={GREYSCALE_0:"#000000",GREYSCALE_5:"#0E0E0E",GREYSCALE_10:"#1A1A1A",GREYSCALE_15:"#262626",GREYSCALE_20:"#333333",GREYSCALE_25:"#404040",GREYSCALE_30:"#4D4D4D",GREYSCALE_35:"#595959",GREYSCALE_40:"#666666",GREYSCALE_45:"#737373",GREYSCALE_50:"#808080",GREYSCALE_55:"#8C8C8C",GREYSCALE_60:"#999999",GREYSCALE_65:"#A6A6A6",GREYSCALE_70:"#B3B3B3",GREYSCALE_75:"#BFBFBF",GREYSCALE_80:"#CCCCCC",GREYSCALE_85:"#D9D9D9",GREYSCALE_90:"#E6E6E6",GREYSCALE_95:"#F2F2F2",GREYSCALE_98:"#FAFAFA",GREYSCALE_100:"#FFFFFF"};var d=c(c({WHITE:"#FFFFFF",GREY:"#999999",GREY_PALE:"#B2B2B2",GREEN:"#009845",GREEN_PALE:"#0AAF54",GREEN_DARK:"#0D6932",BLUE:"#3F8AB3",BLUE_PALE:"#469DCD",BLUE_DARK:"#2F607B",RED:"#DC423F",RED_PALE:"#F05551",RED_DARK:"#97322F",ORANGE:"#EF960F",ORANGE_PALE:"#FFC629",ORANGE_DARK:"#A4681C"},u),{GREYSCALE_0_0:"rgba(0, 0, 0, 0)",GREYSCALE_0_03:"rgba(0, 0, 0, 0.03)",GREYSCALE_0_05:"rgba(0, 0, 0, 0.05)",GREYSCALE_0_10:"rgba(0, 0, 0, 0.1)",GREYSCALE_0_15:"rgba(0, 0, 0, 0.15)",GREYSCALE_0_20:"rgba(0, 0, 0, 0.2)",GREYSCALE_0_25:"rgba(0, 0, 0, 0.25)",GREYSCALE_0_30:"rgba(0, 0, 0, 0.3)",GREYSCALE_0_60:"rgba(0, 0, 0, 0.6)",GREYSCALE_0_65:"rgba(0, 0, 0, 0.65)",GREYSCALE_100_05:"rgba(255, 255, 255, 0.05)",GREYSCALE_100_15:"rgba(255, 255, 255, 0.15)",GREYSCALE_100_25:"rgba(255, 255, 255, 0.25)",GREYSCALE_100_50:"rgba(255, 255, 255, 0.5)",GREYSCALE_100_60:"rgba(255, 255, 255, 0.6)",MISC_FOCUS_BORDER:"#177FE6",TEXT_PRIMARY:"#404040",TEXT_SECONDARY:"rgba(0, 0, 0, 0.55)"});var f={TEXT_SMALL:12,TEXT_MEDIUM:14,TEXT_LARGE:16,TEXT_EXTRA_LARGE:24,BORDER_RADIUS:2,RADIO_SIZE:"16px",SWITCH_HEIGHT:16,SWITCH_WIDTH:32,SWITCH_THUMB_SIZE:12};var p={LIGHT:300,REGULAR:400,MEDIUM:600,BOLD:700};var h={FONT_FAMILY:"'Source Sans Pro', 'HelveticaNeue', 'Helvetica Neue', Helvetica, Arial, sans-serif"};var v={root:{backgroundColor:d.GREYSCALE_98,"&:before":{backgroundColor:"unset"},"&$expanded":{margin:"0px"}}};var m=Object.freeze({__proto__:null,light:v});var g={root:{backgroundColor:d.WHITE}};var b=Object.freeze({__proto__:null,light:g});var y={root:{padding:"0px 16px 0px 16px",minHeight:"auto",boxShadow:"inset 0px -1px 0px 0px "+d.GREYSCALE_0_15,"&$focused":{borderColor:d.MISC_FOCUS_BORDER,boxShadow:"inset 0 0 0 2px "+d.MISC_FOCUS_BORDER,borderRadius:f.BORDER_RADIUS,backgroundColor:d.GREYSCALE_0_03},"&$expanded":{minHeight:"auto"}},content:{overflow:"hidden",textOverflow:"ellipsis"}};var w=Object.freeze({__proto__:null,light:y});var S={root:{flex:"0 0 48px",flexDirection:"row",boxShadow:"inset 0 -1px 0 0 "+d.GREYSCALE_0_15},colorPrimary:{backgroundColor:d.WHITE,color:d.TEXT_PRIMARY}};var x=Object.freeze({__proto__:null,light:S});var C={inputRoot:{'&[class*="MuiOutlinedInput-root"]':{padding:0,"& $input":{padding:"8px 4px"},"& $input:first-child":{paddingLeft:8},"& $endAdornment":{right:4}},'&[class*="MuiOutlinedInput-root"] [class*="MuiOutlinedInput-marginDense"]':{padding:"4px"}},root:{"& .MuiOutlinedInput-notchedOutline":{boxSizing:"border-box",border:"solid 1px "+d.GREYSCALE_0_15,borderRadius:f.BORDER_RADIUS,boxShadow:"inset 0px 2px 0px 0px "+d.GREYSCALE_0_05,"&:hover":{border:"solid 1px "+d.GREYSCALE_0_03},"&:focused":{border:"solid 1px "+d.GREYSCALE_0_03}},'&[class*="MuiOutlinedInput-root"][class*="Mui-focused:not(Mui-error)"][class*="MuiOutlinedInput-notchedOutline"]':{border:"solid 1px "+d.GREYSCALE_0_15}},listbox:{paddingTop:0,paddingBottom:0},option:{height:"48px",'&[data-focus="true"]':{backgroundColor:d.GREYSCALE_0_03}},endAdornment:{top:"auto",bottom:"4px",position:"absolute"},popupIndicator:{borderRadius:f.BORDER_RADIUS,border:"solid 1px "+d.GREYSCALE_0_15,color:d.GREYSCALE_0_60,marginRight:0,"& svg":{fontSize:"0.7em"},"& i":{lineHeight:"1 !important"},'&[class*="MuiIconButton-root"]':{"&[type=button]":{width:f.TEXT_EXTRA_LARGE,height:f.TEXT_EXTRA_LARGE}}},paper:{marginTop:"5px",boxShadow:"0px 2px 4px 0px "+d.GREYSCALE_0_15},clearIndicator:{"& svg":{fontSize:"0.5em",position:"absolute"},color:d.GREYSCALE_25,'&[class*="MuiIconButton-root"]':{"&[type=button]":{width:"16px",height:"24px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}}},borderRadius:f.BORDER_RADIUS,backgroundColor:"unset",marginRight:"4px"},popupIndicatorOpen:{backgroundColor:d.GREYSCALE_0_10}};var q=Object.freeze({__proto__:null,light:C});var E={badge:{height:"16px",minWidth:"16px",fontSize:"12px"},anchorOriginTopRightRectangle:{top:"-6px",right:"-6px"}};var I=Object.freeze({__proto__:null,light:E});var k={root:{height:"32px",lineHeight:"16px",minWidth:"24px",fontSize:14,borderRadius:f.BORDER_RADIUS,"& > $label > i:only-child":{marginLeft:"-9px",marginRight:"-9px"}},text:{padding:"8px 16px","&:active":{backgroundColor:d.GREYSCALE_0_10},"&$focusVisible":{boxShadow:"0 0 0 2px "+d.MISC_FOCUS_BORDER}},outlined:{padding:"7px 16px",borderColor:d.GREYSCALE_0_15,backgroundColor:d.GREYSCALE_100_60,"&:active":{backgroundColor:d.GREYSCALE_0_10},"&$focusVisible":{borderColor:d.MISC_FOCUS_BORDER,boxShadow:"0 0 0 1px "+d.MISC_FOCUS_BORDER}},contained:{padding:"8px 16px",boxShadow:"none","&:hover":{boxShadow:"none"},"&:active":{boxShadow:"none"}},containedPrimary:{"&:hover":{backgroundColor:d.GREEN_PALE},"&:active":{backgroundColor:d.GREEN_DARK},"&$focusVisible":{borderColor:d.GREEN_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.GREEN_PALE,.5)}},containedSecondary:{"&:hover":{backgroundColor:d.BLUE_PALE},"&:active":{backgroundColor:d.BLUE_DARK},"&$focusVisible":{borderColor:d.BLUE_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.BLUE_PALE,.5)}},sizeSmall:{fontSize:12,height:"24px","& > $label > i:only-child":{marginLeft:"-7px",marginRight:"-7px"}},sizeLarge:{fontSize:16,height:"40px",lineHeight:"20px","& > $label > i:only-child":{marginLeft:"-10px",marginRight:"-10px"}},textSizeSmall:{padding:"4px 11px"},textSizeLarge:{padding:"10px 19px"},outlinedSizeSmall:{padding:"3px 11px"},outlinedSizeLarge:{padding:"9px 19px"},containedSizeSmall:{padding:"4px 11px"},containedSizeLarge:{padding:"10px 19px"}};var A=Object.freeze({__proto__:null,light:k});var T={root:{height:"32px",lineHeight:"16px",fontSize:14,borderRadius:f.BORDER_RADIUS},text:{padding:"8px 16px","&:active":{backgroundColor:d.GREYSCALE_0_10},"&$focusVisible":{boxShadow:"0 0 0 2px "+d.MISC_FOCUS_BORDER}},outlined:{padding:"7px 16px",borderColor:d.GREYSCALE_0_15,backgroundColor:d.GREYSCALE_100_60,"&:active":{backgroundColor:d.GREYSCALE_0_10},"&$focusVisible":{borderColor:d.MISC_FOCUS_BORDER,boxShadow:"0 0 0 1px "+d.MISC_FOCUS_BORDER}},contained:{padding:"8px 16px",boxShadow:"none","&:hover":{boxShadow:"none"},"&:active":{boxShadow:"none"}},containedPrimary:{"&:hover":{backgroundColor:d.GREEN_PALE},"&:active":{backgroundColor:d.GREEN_DARK},"&$focusVisible":{borderColor:d.GREEN_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.GREEN_PALE,.5)}},containedSecondary:{"&:hover":{backgroundColor:d.BLUE_PALE},"&:active":{backgroundColor:d.BLUE_DARK},"&$focusVisible":{borderColor:d.BLUE_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.BLUE_PALE,.5)}},sizeSmall:{fontSize:12,height:"24px"},sizeLarge:{fontSize:16,height:"40px",lineHeight:"20px"},textSizeSmall:{padding:"4px 11px"},textSizeLarge:{padding:"10px 19px"},outlinedSizeSmall:{padding:"3px 11px"},outlinedSizeLarge:{padding:"9px 19px"},containedSizeSmall:{padding:"4px 11px"},containedSizeLarge:{padding:"10px 19px"}};var D=Object.freeze({__proto__:null,light:T});var O={root:{borderWidth:1,"&.sprout-focus-visible":{borderColor:"transparent",boxShadow:"none"},"&.sprout-focus-visible i":{borderRadius:3}},colorPrimary:{"&.sprout-focus-visible i":{borderColor:d.GREEN_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.GREEN_PALE,.5)}},colorSecondary:{"&.sprout-focus-visible i":{borderColor:d.BLUE_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.BLUE_PALE,.5)}}};var L=Object.freeze({__proto__:null,light:O});var M={root:{height:"24px",fontSize:f.TEXT_SMALL,borderRadius:f.BORDER_RADIUS,color:d.TEXT_PRIMARY,backgroundColor:d.WHITE,"&.sprout-focus-visible":{borderColor:d.MISC_FOCUS_BORDER,boxShadow:"0px 0px 0px 1px "+d.MISC_FOCUS_BORDER},"&$disabled":{backgroundColor:d.GREYSCALE_0_05,color:d.GREYSCALE_0_30,border:"none",opacity:1}},outlined:{border:"solid 1px "+d.GREYSCALE_0_15,backgroundColor:d.GREYSCALE_98,"$clickable&:active ":{boxSizing:"border-box",borderRadius:f.BORDER_RADIUS,boxShadow:"none",backgroundColor:d.GREYSCALE_0_10},"& $deleteIconSmall":{height:13,color:"inherit"}},label:{fontFamily:h.FONT_FAMILY,lineHeight:"16px"}};var P=Object.freeze({__proto__:null,light:M});var N={root:{padding:"8px",backgroundColor:d.GREYSCALE_98,borderTop:"1px "+d.GREYSCALE_0_15+" solid"}};var R=Object.freeze({__proto__:null,light:N});var F={root:{padding:"24px"}};var _=Object.freeze({__proto__:null,light:F});var j={root:{marginBottom:0}};var B=Object.freeze({__proto__:null,light:j});var V={root:{display:"flex",alignItems:"center",justifyContent:"space-between",boxSizing:"content-box",height:"24px",padding:"12px 8px 12px 24px",fontSize:"16px",lineHeight:"24px",backgroundColor:d.GREYSCALE_98,borderBottom:"1px "+d.GREYSCALE_0_15+" solid"}};var H=Object.freeze({__proto__:null,light:V});var z={middle:{margin:"4px 8px"}};var $=Object.freeze({__proto__:null,light:z});var U={root:{marginLeft:"-10px"}};var G=Object.freeze({__proto__:null,light:U});var W={root:{color:d.GREYSCALE_25,fontSize:f.TEXT_SMALL,fontFamily:h.FONT_FAMILY,fontWeight:p.MEDIUM,fontStretch:"normal",fontStyle:"normal",letterSpacing:"normal",lineHeight:1,"&$focused":{color:d.TEXT_SECONDARY},"&$error":{color:d.TEXT_SECONDARY},"&[optional=true]":{"&:after":{color:d.TEXT_SECONDARY,position:"absolute",content:"'(optional)'",fontWeight:p.REGULAR,marginLeft:"4px"}}},asterisk:{visibility:"hidden",display:"inline-flex","&::after":{visibility:"visible",color:d.TEXT_SECONDARY,position:"absolute",content:"'(required)'",fontWeight:p.REGULAR,marginLeft:"4px"}}};var Q=Object.freeze({__proto__:null,light:W});var K={root:{fontSize:f.TEXT_SMALL,lineHeight:"16px",margin:"4px 0 0 0","&$error":{color:d.RED}},contained:{marginLeft:0,marginRight:0}};var Y=Object.freeze({__proto__:null,light:K});var J={root:{padding:7,borderRadius:f.BORDER_RADIUS,border:"1px solid transparent","&.sprout-focus-visible":{borderColor:d.MISC_FOCUS_BORDER,boxShadow:"0 0 0 1px "+d.MISC_FOCUS_BORDER},"&&&:hover":{backgroundColor:"transparent"}}};var Z=Object.freeze({__proto__:null,light:J});var X={root:{padding:"4px 8px",color:d.GREYSCALE_55},positionStart:{marginRight:0},positionEnd:{marginLeft:0}};var ee=Object.freeze({__proto__:null,light:X});var te={input:{padding:"8px 12px",lineHeight:"16px"}};var ne=Object.freeze({__proto__:null,light:te});var re={outlined:{fontSize:f.TEXT_SMALL+"px",fontWeight:p.MEDIUM,color:d.GREYSCALE_25,"&$shrink":{transform:"translate(0px, -8px)",fontWeight:p.MEDIUM}}};var ie=Object.freeze({__proto__:null,light:re});var ae={root:{color:d.MISC_FOCUS_BORDER}};var oe=Object.freeze({__proto__:null,light:ae});var se={padding:{paddingTop:"0px",paddingBottom:"0px"}};var le=Object.freeze({__proto__:null,light:se});var ce="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%228px%22%20height%3D%227px%22%20viewBox%3D%220%200%208%207%22%20%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20aria-labelledby%3D%22Tick%22%3E%20%20%20%20%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%20%20%20%20%3Cg%20id%3D%22ExportIcons%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Artboard%22%20transform%3D%22translate%280.000000%2C%20-1.000000%29%22%20%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M7.51662484%2C1.29325%20C7.12545778%2C0.90225%206.49218732%2C0.90225%206.10202068%2C1.29325%20L2.73658335%2C4.65725%20L1.90722914%2C3.82925%20C1.5170625%2C3.43825%200.883792042%2C3.43825%200.492624979%2C3.82925%20C0.102458344%2C4.21925%200.102458344%2C4.85225%200.492624979%2C5.24325%20L2.02928127%2C6.77825%20C2.4194479%2C7.16925%203.05271836%2C7.16925%203.44388542%2C6.77825%20L7.51662484%2C2.70725%20C7.9077919%2C2.31725%207.9077919%2C1.68425%207.51662484%2C1.29325%22%20id%3D%22Tick%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";var ue={root:{height:"48px","&$selected":{backgroundColor:"unset","&:not($disabled)":{"&::after":{content:"url('"+ce+"')",fontFamily:"LUI icons",position:"absolute",fontSize:"10px",right:"10px",color:d.RED}}}},button:{"&:hover":{backgroundColor:d.GREYSCALE_0_03},"&:active":{backgroundColor:d.GREYSCALE_0_05}}};var de=Object.freeze({__proto__:null,light:ue});var fe={root:{color:d.GREYSCALE_25,minWidth:"16px",marginRight:"16px"}};var pe=Object.freeze({__proto__:null,light:fe});var he={root:{fontSize:"12px"},primary:{fontSize:"12px",color:d.TEXT_SECONDARY,lineHeight:"16px"},secondary:{fontSize:f.TEXT_MEDIUM,fontWeight:p.MEDIUM,lineHeight:"16px"}};var ve=Object.freeze({__proto__:null,light:he});var me={list:{paddingTop:4,paddingBottom:4},paper:{marginTop:4,marginBottom:4}};var ge=Object.freeze({__proto__:null,light:me});var be={root:{height:"32px","& div i":{color:d.GREYSCALE_55}}};var ye=Object.freeze({__proto__:null,light:be});var we={root:{fontSize:"14px",lineHeight:"16px",backgroundColor:d.WHITE,borderRadius:f.BORDER_RADIUS,"&:not($focused):not($error):not($disabled):hover $notchedOutline":{border:"solid 1px "+d.GREYSCALE_0_05,borderColor:d.GREYSCALE_0_30},"&$focused:not($error) $notchedOutline":{border:"solid 1px "+d.MISC_FOCUS_BORDER,boxShadow:"0px 0px 0px 1px "+d.MISC_FOCUS_BORDER+", inset 0 2px 0 0 "+d.GREYSCALE_0_05},"&$focused$error $notchedOutline":{border:"solid 1px "+d.RED,boxShadow:"0px 0px 0px 1px "+d.RED+", inset 0 2px 0 0 "+d.GREYSCALE_0_05},"&$disabled":{backgroundColor:"transparent"},"&$disabled $notchedOutline":{border:"solid 1px "+d.GREYSCALE_0_10,borderColor:d.GREYSCALE_0_10,backgroundColor:d.GREYSCALE_0_05}},adornedStart:{paddingLeft:0},adornedEnd:{paddingRight:0},input:{color:d.TEXT_PRIMARY,padding:"8px 12px","&$disabled":{opacity:.45}},notchedOutline:{borderColor:d.GREYSCALE_0_15,borderRadius:f.BORDER_RADIUS,boxShadow:"inset 0 2px 0 0 "+d.GREYSCALE_0_05},multiline:{padding:"8px 12px"}};var Se=Object.freeze({__proto__:null,light:we});var xe={paper:{minWidth:"160px",top:"60px",marginTop:"5px","&ul":{padding:"0px"}}};var Ce=Object.freeze({__proto__:null,light:xe});var qe={root:{fill:d.GREYSCALE_100_60,stroke:"black","&.sprout-focus-visible":{borderColor:"transparent",boxShadow:"none"},"&.sprout-focus-visible i":{borderRadius:"50%",boxShadow:"0 0 0 2px "+d.MISC_FOCUS_BORDER},"&$checked":{"&$colorPrimary":{"&.sprout-focus-visible i":{borderColor:d.GREEN_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.GREEN_PALE,.5)}},"&$colorSecondary":{"&.sprout-focus-visible i":{borderColor:d.BLUE_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.BLUE_PALE,.5)}},"&$disabled":{color:d.GREYSCALE_0_20}},"&$disabled":{fill:d.GREYSCALE_0_20,stroke:"none"}}};var Ee=Object.freeze({__proto__:null,light:qe});var Ie={root:{height:"32px",zIndex:1,borderRadius:"3px !important",border:"solid 1px "+d.GREYSCALE_0_15,"& em":{color:d.TEXT_SECONDARY,WebkitFontSmoothing:"antialiased","&::after":{content:""}},"& ~i":{position:"absolute",right:0},"&[aria-expanded=true]":{backgroundColor:d.GREYSCALE_0_05},"& ~fieldset":{boxShadow:"none !important",border:"none !important",backgroundColor:"unset !important"},"&:hover":{backgroundColor:d.GREYSCALE_0_03},"&:active":{backgroundColor:d.GREYSCALE_0_10},"&:focus":{backgroundColor:d.GREYSCALE_0_03,borderRadius:"3px !important",border:"solid 1px "+d.MISC_FOCUS_BORDER,boxShadow:"inset 0px 0px 0px 1px "+d.MISC_FOCUS_BORDER},"&$disabled":{opacity:"unset",color:d.GREYSCALE_0_30,"&:hover":{backgroundColor:d.GREYSCALE_0_0,borderColor:d.GREYSCALE_0_15},"& ~i":{color:d.GREYSCALE_0_30}}},selectMenu:{height:"14px"},outlined:{"& ~i":{right:"12px"}}};var ke=Object.freeze({__proto__:null,light:Ie});var Ae={root:{height:"24px"},rail:{backgroundColor:d.GREYSCALE_0_05,height:"6px",opacity:"1",border:"solid 1px "+d.GREYSCALE_0_05,borderRadius:f.BORDER_RADIUS},track:{backgroundColor:d.GREEN,height:"6px",opacity:"1",border:"solid 1px "+d.GREYSCALE_0_05,borderRadius:f.BORDER_RADIUS},thumb:{height:"16px",width:"16px",borderRadius:f.BORDER_RADIUS,backgroundColor:"#FFF",boxShadow:"0px 1px 2px 0px "+d.GREYSCALE_0_15+", 0px 0px 0px 1px "+d.GREYSCALE_0_05},mark:{width:"1px",height:"4px",margin:"16px 0px 0px 0px",backgroundColor:d.GREYSCALE_0_15},markActive:{backgroundColor:"rgba(0, 0, 0, 0.55)",width:"1px",height:"4px"}};var Te=Object.freeze({__proto__:null,light:Ae});var De={root:{backgroundColor:d.WHITE,color:d.GREYSCALE_25}};var Oe=Object.freeze({__proto__:null,light:De});var Le={root:{padding:"10px",width:"60px",height:"40px"},switchBase:{padding:"11px","&$disabled":{"& $thumb":{backgroundColor:d.GREYSCALE_100_50}},"&$checked + $track":{opacity:1},"&$disabled + $track":{opacity:.12},"&.sprout-focus-visible":{borderColor:"transparent",boxShadow:"none"}},colorPrimary:{"&.sprout-focus-visible + $track":{borderColor:d.GREEN_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.GREEN_PALE,.5)}},colorSecondary:{"&.sprout-focus-visible + $track":{borderColor:d.BLUE_PALE,boxShadow:"0 0 0 3px "+Object(r["d"])(d.BLUE_PALE,.5)}},track:{opacity:1,backgroundColor:d.GREYSCALE_0_15,borderRadius:f.BORDER_RADIUS},thumb:{height:"16px",width:"16px",borderRadius:f.BORDER_RADIUS,backgroundColor:d.GREYSCALE_100},sizeSmall:{height:"32px",width:"52px",padding:"8px 10px","& $thumb":{height:"12px",width:"12px"},"& $switchBase":{padding:"9px 11px"}}};var Me=Object.freeze({__proto__:null,light:Le});var Pe={root:{fontSize:f.TEXT_MEDIUM,fontWeight:p.MEDIUM,textTransform:"none",minWidth:"auto",boxSizing:"border-box","&:hover":{borderBottom:"2px solid "+d.GREYSCALE_80,paddingBottom:"4px"},"&.sprout-focus-visible":{boxShadow:"inset 0 0 0 2px "+d.MISC_FOCUS_BORDER,paddingTop:"4px",backgroundColor:d.GREYSCALE_0_03,borderRadius:f.BORDER_RADIUS,minHeight:"44px",paddingBottom:"4px",border:"none"},"&$disabled":{opacity:.3}},textColorPrimary:{"&$selected":{color:d.GREYSCALE_25}},textColorInherit:{opacity:"unset"},fullWidth:{"&.sprout-focus-visible":{paddingRight:12,paddingLeft:12}},wrapper:{alignItems:"initial"},labelIcon:{minWidth:"40px",minHeight:"48px","&.sprout-focus-visible":{minHeight:"auto",height:"30px",marginTop:9,marginBottom:9,flexDirection:"column",paddingRight:"12px",paddingBottom:"2px"},"& $wrapper":{display:"block"}}};var Ne=Object.freeze({__proto__:null,light:Pe});var Re={scroller:{height:"100%"},flexContainer:{height:"100%",marginLeft:2,marginRight:2},root:{fontSize:f.TEXT_MEDIUM,fontWeight:"bold"},indicator:{height:2}};var Fe=Object.freeze({__proto__:null,light:Re});var _e={root:{display:"flex",flex:1,padding:"0 16px"},dense:{minHeight:"46px",padding:"0 8px"}};var je=Object.freeze({__proto__:null,light:_e});var Be={arrow:{color:d.GREYSCALE_20},tooltip:{backgroundColor:d.GREYSCALE_20,fontSize:f.TEXT_SMALL,lineHeight:"16px"}};var Ve=Object.freeze({__proto__:null,light:Be});var He={root:{padding:"0px 8px 0px 16px",borderBottom:"1px solid "+d.GREYSCALE_85,borderRight:"1px solid "+d.GREYSCALE_85,height:"39px"},head:{height:"41px",fontWeight:p.MEDIUM,backgroundColor:d.GREYSCALE_98},paddingCheckbox:{width:"40px",padding:"0px"},sizeSmall:{padding:"0px 8px",height:"29px","&$head":{height:"31px"},"&$paddingCheckbox":{width:"40px",padding:"0px"}},stickyHeader:{backgroundColor:d.GREYSCALE_98,borderBottom:"1px solid "+d.GREYSCALE_85}};var ze=Object.freeze({__proto__:null,light:He});var $e={root:{borderBottom:"1px solid "+d.GREYSCALE_85,borderTop:"1px solid "+d.GREYSCALE_85}};var Ue=Object.freeze({__proto__:null,light:$e});var Ge={root:{backgroundColor:d.GREYSCALE_98}};var We=Object.freeze({__proto__:null,light:Ge});var Qe={hover:{"&$selected":{backgroundColor:d.GREYSCALE_0_05,"&:hover":{backgroundColor:d.GREYSCALE_0_03}},"&&:hover":{backgroundColor:d.GREYSCALE_0_03}}};var Ke=Object.freeze({__proto__:null,light:Qe});var Ye={root:{display:"flex",justifyContent:"space-between","&:hover":{"& icon":{opacity:.5}},"&$active":{"&& icon":{opacity:1}}},icon:{opacity:0},iconDirectionDesc:{transform:"rotate(180deg)"},iconDirectionAsc:{transform:"rotate(0deg)"}};var Je=Object.freeze({__proto__:null,light:Ye});var Ze={root:{borderLeft:"1px solid "+d.GREYSCALE_85}};var Xe=Object.freeze({__proto__:null,light:Ze});var et={root:{height:"100%","& $focusHighlight":{opacity:0},"&:hover":{boxShadow:"none",backgroundColor:d.GREYSCALE_0_03,"& $focusHighlight":{opacity:0}},"&:active":{backgroundColor:d.GREYSCALE_95,boxShadow:"none"},"&$focusVisible":{borderRadius:f.BORDER_RADIUS,boxShadow:"inset 0 0 0 2px "+d.MISC_FOCUS_BORDER,"& $focusHighlight":{opacity:0}}}};var tt=Object.freeze({__proto__:null,light:et});var nt={MuiAccordion:m,MuiAccordionSummary:w,MuiAccordionDetails:b,MuiAppBar:x,MuiToolbar:je,MuiTab:Ne,MuiTabs:Fe,MuiBadge:I,MuiButton:A,MuiButtonGroup:D,MuiInputAdornment:ee,MuiInputLabel:ie,MuiAutocomplete:q,MuiFormHelperText:Y,MuiFormLabel:Q,MuiInputBase:ne,MuiOutlinedInput:Se,MuiMenuItem:ye,MuiSlider:Te,MuiSwitch:Me,MuiSelect:ke,MuiIconButton:Z,MuiLink:oe,MuiList:le,MuiListItem:de,MuiListItemIcon:pe,MuiListItemText:ve,MuiPopover:Ce,MuiFormControlLabel:G,MuiCheckbox:L,MuiRadio:Ee,MuiDialogContent:_,MuiDialogContentText:B,MuiDialogActions:R,MuiDialogTitle:H,MuiSnackbarContent:Oe,MuiTooltip:Ve,MuiChip:P,MuiExpansionPanel:m,MuiExpansionPanelSummary:w,MuiExpansionPanelDetails:b,MuiTableCell:ze,MuiTableContainer:Ue,MuiTableHead:We,MuiTableRow:Ke,MuiTableSortLabel:Je,MuiTable:Xe,MuiCardActionArea:tt,MuiMenu:ge,MuiDivider:$};var rt=function(e){var t={};Object.keys(nt).forEach((function(n){var r=nt[n];var i=r[e]||r.light;t[n]=i}));return t};var it={type:"light",primary:{light:d.GREEN_PALE,main:d.GREEN,dark:d.GREEN_DARK,contrastText:d.WHITE},secondary:{light:d.BLUE_PALE,main:d.BLUE,dark:d.BLUE_DARK,contrastText:d.WHITE},error:{light:d.RED_PALE,main:d.RED,dark:d.RED_DARK,contrastText:d.WHITE},warning:{light:d.ORANGE_PALE,main:d.ORANGE,dark:d.ORANGE_DARK,contrastText:d.WHITE},success:{light:d.GREEN_PALE,main:d.GREEN,dark:d.GREEN_DARK,contrastText:d.WHITE},info:{light:d.BLUE_PALE,main:d.BLUE,dark:d.BLUE_DARK,contrastText:d.WHITE},text:{primary:d.TEXT_PRIMARY,secondary:d.TEXT_SECONDARY,disabled:d.GREYSCALE_0_30,hint:d.TEXT_SECONDARY},action:{hover:d.GREYSCALE_0_30,hoverOpacity:.05},background:{paper:d.WHITE,default:d.GREYSCALE_95},divider:d.GREYSCALE_0_15};var at=function(e){switch(e){case"light":default:return it}};function ot(e){var t=void 0===e?{}:e,n=t.fontSize,r=void 0===n?"medium":n,i=t.children,a=void 0===i?null:i,s=t.className,l=void 0===s?"":s;var c="small"===r?"16px":"20px";var u="small"===r?"-2px 0":void 0;return o.a.createElement("i",{style:{fontSize:c,margin:u,display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-.125em",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},className:l},a)}var st=function(e){void 0===e&&(e={});return o.a.createElement(ot,c({},e),o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"Misc-/Checkbox-Atom-/Light/Default",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0.603119339",strokeOpacity:"0.146654212"},o.a.createElement("rect",{id:"CheckboxDefault",stroke:"#000000",fill:"#FFFFFF",x:"0.5",y:"0.5",width:"15",height:"15",rx:"2"}))))};var lt=function(e){void 0===e&&(e={});return o.a.createElement(ot,c({},e),o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("defs",null,o.a.createElement("rect",{id:"checkbox-checked-path-1",x:"0",y:"0",width:"16",height:"16",rx:"3"})),o.a.createElement("g",{id:"Misc-/Checkbox-Atom-/Selected",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("mask",{id:"checkbox-checked-mask-2",fill:"white"},o.a.createElement("use",{href:"#checkbox-checked-path-1"})),o.a.createElement("use",{id:"CheckboxChecked",fill:"currentColor",href:"#checkbox-checked-path-1"}),o.a.createElement("path",{d:"M11.3135,5.29325 C10.9225,4.90225 10.2895,4.90225 9.8995,5.29325 L6.5355,8.65725 L5.7065,7.82925 C5.3165,7.43825 4.6835,7.43825 4.2925,7.82925 C3.9025,8.21925 3.9025,8.85225 4.2925,9.24325 L5.8285,10.77825 C6.2185,11.16925 6.8515,11.16925 7.2425,10.77825 L11.3135,6.70725 C11.7045,6.31725 11.7045,5.68425 11.3135,5.29325",id:"Tick",fill:"#FFFFFF",mask:"url(#checkbox-checked-mask-2)"}))))};var ct=function(e){void 0===e&&(e={});return o.a.createElement(ot,c({},e),o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"Misc-/Checkbox-Atom-/Indeterminate",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("rect",{id:"CheckboxIndeterminate",fill:"currentColor",x:"0",y:"0",width:"16",height:"16",rx:"3"}),o.a.createElement("rect",{id:"CheckboxIndeterminate-Part",fill:"#FFFFFF",x:"4",y:"7",width:"8",height:"2",rx:"1"}))))};var ut=function(e){void 0===e&&(e={});return o.a.createElement(ot,c({},e,{fontSize:"small"}),o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"Misc-/Radio-Atom-/Light/Default",strokeWidth:"1",fillRule:"evenodd",fillOpacity:"0.603119339",strokeOpacity:"0.146654212"},o.a.createElement("rect",{id:"RadioDefault",stroke:"currentStroke",fill:"currentFill",x:"0.5",y:"0.5",width:"15",height:"15",rx:"7.5"}))))};var dt=function(e){void 0===e&&(e={});return o.a.createElement(ot,c({},e,{fontSize:"small"}),o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("defs",null,o.a.createElement("rect",{id:"radio-checked-path-1",x:"0",y:"0",width:"16",height:"16",rx:"8"})),o.a.createElement("g",{id:"Misc-/Radio-Atom-/Selected",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("mask",{id:"radio-checked-mask-2",fill:"white"},o.a.createElement("use",{href:"#radio-checked-path-1"})),o.a.createElement("use",{id:"RadioSelected",fill:"currentColor",href:"#radio-checked-path-1"}),o.a.createElement("circle",{id:"Dot",fill:"#FFFFFF",mask:"url(#radio-checked-mask-2)",cx:"8",cy:"8",r:"3"}))))};var ft=function(e){var t=e.className;return o.a.createElement(ot,{fontSize:"small",className:t},o.a.createElement("svg",{width:"8px",height:"14px",viewBox:"0 0 8 14",version:"1.1","aria-labelledby":"SortIcon"},o.a.createElement("desc",null,"Created with Sketch."),o.a.createElement("g",{id:"Undefined",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Misc-/Sort-icon-/Default",transform:"translate(-4.000000, -1.000000)",fill:"#404040",fillRule:"nonzero"},o.a.createElement("g",{id:"Group",transform:"translate(4.324187, 1.300372)"},o.a.createElement("path",{d:"M4.06624695,13.2115849 L7.28588573,9.1870364 C7.3893886,9.05765782 7.36841219,8.8688701 7.23903361,8.76536724 C7.18583969,8.72281211 7.11974654,8.69962788 7.05162509,8.69962788 L0.3,8.69962788 C0.134314575,8.69962788 -1.25807407e-14,8.83394246 -1.26010313e-14,8.99962788 C-1.26093738e-14,9.06774933 0.0231842256,9.13384248 0.0657393572,9.1870364 L3.28537814,13.2115849 C3.45788292,13.4272158 3.7725291,13.4621765 3.98816007,13.2896718 C4.01699242,13.2666059 4.04318107,13.2404172 4.06624695,13.2115849 Z",id:"Combined-Shape",opacity:"0.300390625"}),o.a.createElement("path",{d:"M4.06624695,0.187670888 L7.28588573,4.21221937 C7.3893886,4.34159795 7.36841219,4.53038566 7.23903361,4.63388852 C7.18583969,4.67644366 7.11974654,4.69962788 7.05162509,4.69962788 L0.3,4.69962788 C0.134314575,4.69962788 2.1918781e-12,4.56531331 2.19185781e-12,4.39962788 C2.19184946e-12,4.33150643 0.0231842256,4.26541328 0.0657393572,4.21221937 L3.28537814,0.187670888 C3.45788292,-0.0279600799 3.7725291,-0.0629207673 3.98816007,0.109584007 C4.01699242,0.132649888 4.04318107,0.158838536 4.06624695,0.187670888 Z",id:"Triangle-Copy"}))))))};var pt={MuiAppBar:{elevation:0},MuiButtonBase:{disableRipple:true,disableTouchRipple:true,focusVisibleClassName:"sprout-focus-visible"},MuiButtonGroup:{disableRipple:true},MuiButton:{focusVisibleClassName:"sprout-focus-visible"},MuiChip:{deleteIcon:o.a.createElement(l["a"],{size:"small"})},MuiAutocomplete:{popupIcon:o.a.createElement(s["a"],null),forcePopupIcon:true},MuiOutlinedInput:{notched:false},MuiSelect:{IconComponent:function(){return o.a.createElement(s["a"],{size:"small"})},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},MuiInputLabel:{shrink:true},MuiRadio:{color:"primary",size:"small",icon:o.a.createElement(ut,null),checkedIcon:o.a.createElement(dt,null)},MuiCheckbox:{color:"primary",size:"small",icon:o.a.createElement(st,null),checkedIcon:o.a.createElement(lt,null),indeterminateIcon:o.a.createElement(ct,null)},MuiCircularProgress:{thickness:3,disableShrink:true},MuiDialog:{fullWidth:true},MuiDialogTitle:{disableTypography:true},MuiDialogContentText:{variant:"body2"},MuiSwitch:{color:"primary",size:"small"},MuiTabs:{indicatorColor:"primary",textColor:"primary"},MuiToolbar:{disableGutters:true},MuiTooltip:{arrow:true},MuiExpansionPanelSummary:{expandIcon:o.a.createElement(s["a"],{size:"small",style:{color:d.TEXT_PRIMARY}})},MuiTableSortLabel:{IconComponent:function(e){return o.a.createElement(ft,{className:e.className})}}};var ht=function(e){var t=rt(e);var n=at(e);return{palette:n,props:pt,breakpoints:{keys:["xs","sm","md","lg","xl"],values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},spacing:8,shadows:["none","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 1px 2px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 2px 4px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 4px 10px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)","0px 6px 20px 0px rgba(0,0,0,0.15)"],overrides:t,transitions:{easing:{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration:{standard:300,short:250,enteringScreen:225,shorter:200,leavingScreen:195,shortest:150,complex:375}},typography:{fontSize:f.TEXT_MEDIUM,fontWeightLight:p.LIGHT,fontWeightRegular:p.REGULAR,fontWeightMedium:p.MEDIUM,fontWeightBold:p.BOLD,htmlFontSize:f.TEXT_MEDIUM,fontFamily:h.FONT_FAMILY,button:{fontWeight:p.MEDIUM,fontSize:f.TEXT_MEDIUM,textTransform:"none"},body1:{fontSize:f.TEXT_LARGE,lineHeight:"24px"},body2:{fontSize:f.TEXT_MEDIUM,lineHeight:"20px"},h1:{fontSize:32,lineHeight:"32px"},h2:{fontSize:28,lineHeight:"32px"},h3:{fontSize:f.TEXT_EXTRA_LARGE,lineHeight:"24px"},h4:{fontSize:20,lineHeight:"24px"},h5:{fontSize:f.TEXT_LARGE,fontWeight:p.MEDIUM,lineHeight:"16px"},h6:{fontSize:f.TEXT_MEDIUM,fontWeight:p.MEDIUM,lineHeight:"16px"},caption:{color:d.TEXT_SECONDARY},subtitle1:{fontSize:f.TEXT_MEDIUM,color:d.TEXT_SECONDARY},subtitle2:{fontSize:f.TEXT_SMALL,color:d.TEXT_SECONDARY}},zIndex:{modal:1200,snackbar:1200,drawer:1200,appBar:1200,mobileStepper:1200,tooltip:1200},shape:{borderRadius:f.BORDER_RADIUS}}};var vt=c(c({},u),{MISC_FOCUS_BORDER:d.MISC_FOCUS_BORDER});var mt=ht("light");var gt=Object(i["a"])(mt);var bt=function(e){void 0===e&&(e="light");return Object(i["a"])(ht(e))};var yt=function(e){return ht(e)};var wt=mt;t["b"]=gt},crFG:function(e,t,n){"use strict";var r=n("sWge");var i=n("PX8M");var a=n("4nJ1");var o=n("TZGQ");var s=n("AJ0W");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function u(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}var d=function(){function e(){l(this,e)}u(e,[{key:"_errorHandler",value:function e(t){var n;console.error("Network failure in the Classification Service");console.error(t);null===(n=this._deferredClassificationResult)||void 0===n?void 0:n.reject(t);this._deferredClassificationResult=void 0;this.apiClient=void 0}},{key:"_getAPI",value:function e(){var t=this;this.apiClient||(this.apiClient=o["a"].getApi("api/dataprepservice/v1","openapi",void 0,void 0,void 0,void 0,s["a"].getServerNodeId()).catch((function(){t.apiClient=void 0})));return this.apiClient}},{key:"_getAppName",value:function e(){return a["a"].getParameterByName("app")}},{key:"_waitForLoadComplete",value:function e(t){var n=this;var i=new r["a"];this._progressIntervalTimer=setInterval((function(){t.global.getProgress(0).then((function(e){if(e.qFinished){i.resolve(true);clearInterval(n._progressIntervalTimer)}}))}),1e3);return i.promise}},{key:"_getClassification",value:function e(t,n){var i=this;return t.getAppProperties().then((function(e){if(!i._deferredClassificationResult||e.qLastReloadTime!==i._appLastReload){i._appLastReload=e.qLastReloadTime;i._deferredClassificationResult=new r["a"];i._waitForLoadComplete(t).then((function(){n.apis.model.getClassification({appId:a["a"].getParameterByName("app")}).then((function(e){i._deferredClassificationResult.resolve(e.obj.response)})).catch(i._errorHandler.bind(i))}))}return i._deferredClassificationResult.promise}))}},{key:"getClassification",value:function e(){var t=this;return this._getAPI().then((function(e){return i["a"].getApp().then((function(n){return t._getClassification(n,e).then((function(e){return e}))}))})).catch(this._errorHandler.bind(this))}}]);return e}();t["a"]=new d},cujW:function(e,t,n){"use strict";var r=true;function i(e,t){if(!r){if(e)return;var n="Warning: "+t;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(e){}}}t["a"]=i},"d+uA":function(e,t,n){"use strict";var r=n("z4LI");t["a"]={view:{inPlayMode:function e(t){return r["a"].States.play===r["a"].States[t]},inEditMode:function e(t){return r["a"].States.editstory===r["a"].States[t]}}}},d1VP:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("acVu");var s='<div class="stage-dimmer"></div>';var l=false;t["a"]={open:function e(t){if(l)return;var n=i()(".stage-dimmer");if(!n.length){i()("body").append(s);n=i()(".stage-dimmer")}l=true;var r=t&&Object(o["b"])("NEW_STORY_TOP")?39:0;var c=i()("#qs-page-container")[0].clientHeight-r;var u=a["default"].getService("$timeout");u((function(){n.css("height",c);n.addClass("open")}))},close:function e(){if(!l)return;var t=i()(".stage-dimmer");t.removeClass("open");var n=a["default"].getService("$timeout");n((function(){t.first().remove();l=false}),200)}}},d2XC:function(e,t,n){"use strict";var r=n("R/u5");var i=n("00lr");function a(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function s(e,t){return l.apply(this,arguments)}function l(){l=o(regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.t0=t;a.next="folder"===a.t0?3:"qix-datafiles.exe"===a.t0?7:"ODBC"===a.t0?11:"OLEDB"===a.t0?15:"internet"===a.t0?19:"BDI"===a.t0?23:27;break;case 3:a.next=5;return Promise.all([n.e(37),n.e(32),n.e(46)]).then(n.bind(null,"1nqB"));case 5:i=a.sent;return a.abrupt("break",28);case 7:a.next=9;return Promise.all([n.e(37),n.e(32),n.e(46)]).then(n.bind(null,"rO78"));case 9:i=a.sent;return a.abrupt("break",28);case 11:a.next=13;return n.e(47).then(n.bind(null,"oKhv"));case 13:i=a.sent;return a.abrupt("break",28);case 15:a.next=17;return n.e(48).then(n.bind(null,"LX61"));case 17:i=a.sent;return a.abrupt("break",28);case 19:a.next=21;return Promise.all([n.e(37),n.e(32),n.e(49)]).then(n.bind(null,"3N4I"));case 21:i=a.sent;return a.abrupt("break",28);case 23:a.next=25;return Promise.all([n.e(1),n.e(0),n.e(2),n.e(3),n.e(4),n.e(16),n.e(14),n.e(19),n.e(45)]).then(n.bind(null,"JuWn"));case 25:i=a.sent;return a.abrupt("break",28);case 27:return a.abrupt("return",Promise.reject(new Error("No native connector with type: ".concat(t))));case 28:return a.abrupt("return",i.default[r]);case 29:case"end":return a.stop()}}),e)})));return l.apply(this,arguments)}function c(e,t){return u.apply(this,arguments)}function u(){u=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return Object(i["a"])();case 2:return r.abrupt("return",new Promise((function(e,r){var i=t[n];window.requirejs([i],e,r)})));case 3:case"end":return r.stop()}}),e)})));return u.apply(this,arguments)}function d(e,t){if(e.isIframeCompatible&&"connectorMain"!==t)return r["a"].getComponent(e,t);if(e.isStandardConnector())return s(e.getConnectorType(),t);return c(e.datasource.connectorType,t)}function f(e,t){if(e.isIframeCompatible&&"connectorMain"!==t)return r["a"].getComponent(e.type,t);if(e.isStandardConnector)return s(e.type,t);return c(e,t)}t["a"]={loadFromDatasource:d,loadComponent:f}},d2hu:function(e,t,n){"use strict";var r=n("QFtD");var i=n("UV1h");var a=n("2V7U");var o=n("acVu");var s=function(){var e;var t;var n=function e(){};return{getCurrentId:function e(){return i["a"].getCurrentTheme()},getApplied:function r(){var o=i["a"].getCurrentTheme();if(t&&e===o)return t;n();e=o;t=new Promise((function(e,t){n=t;i["a"].getThemeJSON(o).then((function(t){e(new a["a"](o,t))}))}));return t}}}();var l=function(e){return e.then((function(e){var t=e.default||e;if("function"===typeof t)return t({flags:{getFlag:function e(t){return true===Object(o["b"])(t)},isEnabled:function e(t){return true===Object(o["b"])(t)}},theme:s});return t}))};var c=n("CIFd");var u=n("Wv+9");var d=n("6uJb");var f={STATIC:0,ANALYSIS:1,EDIT:2};function p(e){if(e.tooltips)return true;return e.interactionState===f.ANALYSIS&&false!==e.tooltips}function h(e,t){var n=[];p(e)&&n.push("passive");e.interactionState===f.ANALYSIS&&false!==e.tooltips&&true!==e.limitedInteraction&&n.push("interact");if(!t.isSnapshot){false!==e.selections&&n.push("select");n.push("fetch")}return n}var v=h;var m=n("r/uX");var g=n.n(m);function b(e){return x(e)||S(e)||w(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}function S(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function x(e){if(Array.isArray(e))return C(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(e){var t=function e(t){Object.keys(g.a.prototype).forEach((function(e){t[e]=g.a.prototype[e]}));g.a.init(t);return t};var n={begin:function t(){e.selectionsApi.activated();e.backendApi.beginSelections();n.emit("activated")},clear:function t(){n.emit("cleared");e.backendApi.model.resetMadeSelections()},confirm:function t(){e.selectionsApi.confirm()},cancel:function t(){e.selectionsApi.cancel()},select:function t(n){var r;e.selectionsApi.active||e.backendApi.beginSelections();(r=e.backendApi.model)[n.method].apply(r,b(n.params)).then((function(t){if(!t){e.selectionsApi.selectionsMade=false;e.backendApi.model.resetMadeSelections()}}));e.selectionsApi.selectionsMade="resetMadeSelections"!==n.method},isActive:function t(){return e.selectionsApi.active},refreshToolbar:function t(){e.selectionsApi.refreshToolbar()}};t(n);e.selectionsApi.confirm=function(){e.backendApi.endSelections(true).then((function(){e.selectionsApi.deactivated();n.emit("deactivated")}))};e.selectionsApi.clear=function(){e.backendApi.clearSelections();e.selectionsApi.selectionsMade=false;n.emit("cleared")};e.selectionsApi.cancel=function(){e.backendApi.endSelections(false);e.selectionsApi.deactivated();n.emit("canceled")};return n};var E=n("z4LI");var I=n("/irJ");var k=n("Y9P5");var A={getUrlForSheet:function e(t){return I["a"].getUrlForSheet(t,"analysis")},goToSheet:function e(t){var n=k["a"].Sheets.getById(k["a"].Sheets.UNSAFE_all.mashed,t);if(n){I["a"].goToSheet(t,Object.keys(E["a"].States)[E["a"].state]);return true}return false},nextSheet:function e(){if(k["a"].isInitialized()){var e=k["a"].Sheets.getNext(k["a"].Sheets.UNSAFE_all.mashedVisible);if(e){A.goToSheet(e.qInfo.qId);return true}return false}return false},prevSheet:function e(){if(k["a"].isInitialized()){var t=k["a"].Sheets.getPrevious(k["a"].Sheets.UNSAFE_all.mashedVisible);if(t){A.goToSheet(t.qInfo.qId);return true}return false}return false},goToStory:function e(t){var n=k["a"].Stories.getById(k["a"].Stories.UNSAFE_all.mashed,t);if(n){I["a"].goToStory(t,Object.keys(E["a"].States)[E["a"].States.play]);return true}return false},getCurrentSheetId:function e(){if(E["a"].view===E["a"].Views.sheet&&E["a"].model)return E["a"].model.id;return false},getCurrentStoryId:function e(){if(E["a"].view===E["a"].Views.story&&E["a"].model)return E["a"].model.id;return false}};var T=A;function D(e){return P(e)||M(e)||L(e)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}function M(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function P(e){if(Array.isArray(e))return N(e)}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),true).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var j=c["__DO_NOT_USE__"].generator,B=c["__DO_NOT_USE__"].theme;var V=B();i["a"].ThemeChanged.bind((function(){var e=i["a"].current();V.internalAPI.setTheme(e,i["a"].getCurrentTheme())}));var H=Object(u["a"])({initial:d["default"].language});var z=F(F({},H.translator),{},{get:function e(t,n){var r=n?d["default"].get(t,n):d["default"].get(t);if(r===t)return H.translator.get(t,n);return r}});var $={get translator(){false;return z},sense:{theme:V.externalAPI,navigation:T}};var U={translator:z,flags:{getFlag:function e(t){false;return true===Object(o["b"])(t)},isEnabled:function e(t){return true===Object(o["b"])(t)}},anything:$,get sense(){return $.sense}};var G=["viewState","direction","freeResize","effect","renderer"];function W(e,t){var n={};var r=false;Object.keys(e).forEach((function(i){if(-1===G.indexOf(i))return;n[i]=e[i];t[i]!==e[i]&&(r=true)}));if(r)return n;return t}function Q(e){return e.map((function(e){var t={isIcon:true,buttonClass:"sel-toolbar-icon-toggle",isActive:function t(){return e.active},isDisabled:function t(){return e.disabled},action:function t(){e.action()},getSvgIcon:function t(){var n=e.getSvgIconShape();var r=n.viewBox,i=void 0===r?"0 0 16 16":r;var a=n.shapes.map((function(e){var t=e.type,n=e.attrs;return"<".concat(t," ").concat(Object.keys(n).map((function(e){return"".concat(e,'="').concat(n[e],'"')})).join(" "),"/>")})).join("");return'<i style="display:inline-block;font-style:normal;line-height:0;text-align:center;text-transform:none;vertical-align:-.2em;text-rendering:optimizeLegibility;web-kit-font-smoothing:antialiased;moz-osx-font-smoothing:grayscale"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="'.concat(i,'" fill="currentColor">').concat(a,"</svg></i>")}};Object.defineProperties(t,{name:{get:function t(){return e.label}},hidden:{get:function t(){return e.hidden}}});return t}))}var K=function(e){V.internalAPI.setTheme(i["a"].current(),i["a"].getCurrentTheme());var t=j(e,U);var n=t.definition.ext||{};var r;if(t.qae.data.targets[0]){var a=t.qae.data.targets[0];var o=function e(t){return F(F({},t),{},{add:t.added,remove:t.removed,replace:t.replaced,move:t.moved})};r={};a.dimensions&&(r.dimensions=o(a.dimensions));a.measures&&(r.measures=o(a.measures))}return F(F({definition:{type:"items",component:"accordion",items:{data:r?{uses:"data"}:void 0,sorting:r?{uses:"sorting"}:void 0,settings:{uses:"settings"}}},data:r,getSelectionToolbar:function e(){return[].concat(D(this.senseItems),[{name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}}])}},n),{},{initialProperties:t.qae.properties.initial,template:'<div style="height: 100%;position: relative"></div>',mounted:function e(n){var r=this;var i=n[0].children[0];var a=q(this.$scope);var o=t.create({model:this.backendApi.model,app:this.backendApi.model.session.app,selections:a,explicitResize:true});this.sn=o;this.snComponent=o.component;this.snComponent.created();this.snComponent.mounted(i);this.senseItems=[];var s=this.senseItems;this.snComponent.observeActions((function(e){s.length=0;s.push.apply(s,D(Q(e)));r.$scope.selectionsApi.refreshToolbar()}))},suppressOnPaint:function e(){return false},paint:function e(){var t=this.sn.component.context.element.getBoundingClientRect();if(t.width<=0||t.height<=0)return this.snComponent.resize();var n=v(this.options,this.backendApi);var r={passive:-1===n.indexOf("passive")||void 0,active:-1===n.indexOf("interact")||void 0,select:-1===n.indexOf("select")||void 0};var i=W(this.options,this.snComponent.context.options);this._pureLayout=this.backendApi.model.pureLayout||this.backendApi.model.layout;return this.snComponent.render({layout:this.backendApi.model.pureLayout||this.backendApi.model.layout,context:{appLayout:{qLocaleInfo:this.backendApi.localeInfo},constraints:r,theme:V.externalAPI},options:i})},resize:function e(){if(this._pureLayout!==this.backendApi.model.pureLayout){this.snComponent.resize();return this.paint()}var t=W(this.options,this.snComponent.context.options);this.snComponent.context.options=t;return this.snComponent.resize()},setInteractionState:function e(){this.paint()},setSnapshotData:function e(t){return this.snComponent.setSnapshotData(t)},getViewState:function e(){var t=this.snComponent.getImperativeHandle();if(t&&"function"===typeof t.getViewState)return t.getViewState();return},destroy:function e(){this.sn.destroy();if(this.snComponent){this.snComponent.willUnmount();this.snComponent.destroy()}}})};var Y={};function J(e,t){!t&&false;if(!t)return K(e);Y[t]||(Y[t]=K(e));return Y[t]}var Z=function(e,t){return e.then((function(e){return J(e.__esModule&&e.default?e.default:e,t)}))};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var t=["jqueryoutside","jqueryui","jqueryuitouch","eventable","sirtrevor","angular-aria","crossroads","d3","element-queries","resize-sensor","jszip","filesaver","sha256","dropzone","handlebars","angular-vs-repeat","lottie-web","hammerjs","angular-leonardo-ui","enigma-sense-utilities","dragoman","sensei-codearea","qlikmetrics","engine-definition","sense-themes-default","guid","pubsub","xsrfplugin","widget.","general.","core.","client.","objects.","storytelling.","scripteditor.","dev-hub.","cm.","@qlik/codemirror","extensions.qliktech","apis/","assets/","chart/","js/","translate/","md-components/"];return t.some((function(t){return 0===e.indexOf(t)}))}var ee=n("00lr");var te=n("RZ9f");var ne=n("/2No");var re={};function ie(e){switch(e){case"auto-chart":return Promise.all([n.e(29),n.e(56)]).then(n.bind(null,"pfF9"));case"barchart":return l(Promise.all([n.e(1),n.e(0),n.e(3),n.e(28),n.e(39)]).then(n.t.bind(null,"sMiu",7)));case"boxplot":return Promise.all([n.e(1),n.e(6),n.e(24),n.e(33),n.e(57)]).then(n.bind(null,"HtL+"));case"combochart":return Promise.all([n.e(2),n.e(4),n.e(6),n.e(12),n.e(58)]).then(n.bind(null,"+Lr6"));case"container":return Promise.all([n.e(2),n.e(4),n.e(12),n.e(22),n.e(53)]).then(n.bind(null,"zZJ7"));case"distributionplot":return Promise.all([n.e(1),n.e(6),n.e(24),n.e(33),n.e(59)]).then(n.bind(null,"0aWg"));case"filterpane":return Promise.all([n.e(30),n.e(60)]).then(n.bind(null,"fcQb"));case"gauge":return Promise.all([n.e(6),n.e(12),n.e(31),n.e(34),n.e(61)]).then(n.bind(null,"3ru6"));case"histogram":return Promise.all([n.e(1),n.e(6),n.e(24),n.e(62)]).then(n.bind(null,"j37C"));case"kpi":return Z(n.e(3).then(n.t.bind(null,"FraZ",7)),"@nebula.js/sn-kpi");case"linechart":return l(Promise.all([n.e(1),n.e(0),n.e(3),n.e(28),n.e(41)]).then(n.t.bind(null,"DCI9",7)));case"listbox":return Promise.all([n.e(35),n.e(64)]).then(n.bind(null,"gMMy"));case"map":case"map-chart":return de().then((function(){return Promise.all([n.e(1),n.e(29),n.e(85),n.e(6),n.e(65)]).then(n.bind(null,"s81S"))}));case"piechart":return Z(Promise.all([n.e(1),n.e(0),n.e(3),n.e(28),n.e(42)]).then(n.t.bind(null,"3zoa",7)),"@qlik/pie-chart-ext");case"pivot-table":return Promise.all([n.e(30),n.e(35),n.e(66)]).then(n.bind(null,"Y2ww"));case"scatterplot":return Promise.all([n.e(2),n.e(4),n.e(6),n.e(12),n.e(67)]).then(n.bind(null,"Qd8t"));case"table":return Promise.all([n.e(1),n.e(2),n.e(4),n.e(30),n.e(68)]).then(n.bind(null,"1GDf"));case"text-image":return Promise.all([n.e(38),n.e(12),n.e(36),n.e(69)]).then(n.bind(null,"YK9/"));case"treemap":return Promise.all([n.e(6),n.e(12),n.e(31),n.e(34),n.e(70)]).then(n.bind(null,"XnU3"));case"waterfallchart":return Promise.all([n.e(1),n.e(6),n.e(24),n.e(71)]).then(n.bind(null,"85hC"));case"mekkochart":return Z(Promise.all([n.e(1),n.e(3)]).then(n.bind(null,"xv2G")),"@nebula.js/sn-mekko-chart");case"action-button":return Z(n.e(3).then(n.bind(null,"md98")),"@nebula.js/sn-action-button");case"bulletchart":return Z(Promise.all([n.e(1),n.e(0),n.e(3),n.e(28),n.e(40)]).then(n.t.bind(null,"UbXe",7)),"@qlik/bullet-chart-ext");case"widget":return Promise.all([n.e(2),n.e(4),n.e(19),n.e(29),n.e(72)]).then(n.bind(null,"ORTe"));default:return n.e(63).then(n.bind(null,"wDFR"))}}function ae(e,t){t.forEach((function(t){"js/qlik-require-plugin!"===t?console.error("Error in extension '".concat(e,"': Can not use 'js/qlik' in extensions - use 'qlik' instead.")):X(t)&&console.error("Error in extension '".concat(e,"': Can not use internal module '").concat(t,"'."))}))}var oe=null;function se(e){oe||(oe=Object(ee["b"])().then((function(){window.requirejs.config.call(null,{paths:{extensions:"".concat(ne["a"].rootPath,"extensions"),mapchart:"".concat(ne["a"].staticResourcesPath,"extensions/qliktech/mapchart"),"_dashboard-bundle":"".concat(ne["a"].rootPath,"resources/_dashboard-bundle"),"_visualization-bundle":"".concat(ne["a"].rootPath,"resources/_visualization-bundle")}})}),(function(e){te["a"].trackEvent(te["a"].customEvents.EXTENSION_LOAD_ERROR,{type:"amd-code-split",message:e&&e.message});throw e})));return oe.then((function(){return new Promise((function(t,n){if(re[e]){n(re[e]);return}window.requirejs([e],(function(e){e=e.__esModule&&e.default?e.default:e;t(e)}),(function(t){ae(e,t.requireModules);console.error(t);re[e]=t;te["a"].trackEvent(te["a"].customEvents.EXTENSION_LOAD_ERROR,{type:"3rd-party-requirejs",message:t&&t.message||t});n(t)}))}))}))}function le(e){return se(e).then((function(e){return l(Promise.resolve(e))}))}function ce(e){return se(e).then((function(t){return Z(Promise.resolve(t),e)}))}function ue(e){return new Promise((function(t,n){var r=e.path;if(e.libraryInfo.supernova)return e.getResourceUri().then((function(e){return ce(e).then(t,(function(e){te["a"].trackEvent(te["a"].customEvents.EXTENSION_LOAD_ERROR,{type:"supernova-code-split",message:e&&e.message||e});n(e)}))}));if(e.libraryInfo.isThirdParty&&e.libraryInfo.__next)return le(r).then(t,(function(e){te["a"].trackEvent(te["a"].customEvents.EXTENSION_LOAD_ERROR,{type:"la-vie-code-split",message:e&&e.message||e});n(e)}));if(e.libraryInfo.isThirdParty)return se(r).then(t,n);var i=e.typePath||e.type;return ie(i).then((function(e){e=e.__esModule&&e.default?e.default:e;t(e)}),(function(e){te["a"].trackEvent(te["a"].customEvents.EXTENSION_LOAD_ERROR,{type:"qlik-extension-code-split",message:e&&e.message});n(e)}))}))}function de(){return se("mapchart/WebMap5")}var fe=t["a"]={loadExtension:ue}},d4GZ:function(e,t,n){"use strict";var r=n("MoEg");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function o(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e}var s=new r["a"](0,0,0,0);var l=new r["a"](0,0,0,0);var c=function(){function e(){i(this,e);this.pages=[]}o(e,[{key:"get",value:function e(t){var n=this;return t.map((function(e){return n.getPage(e)}))}},{key:"getPage",value:function e(t){var n=[];for(var i=0;i<this.pages.length;i++){var a=this.pages[i].qArea;s.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);l.set(a.qLeft,a.qTop,a.qWidth,a.qHeight);var o=l.intersection(s,true);n.push({coverage:o?o.clone():new r["a"](0,0,0,0),idx:i});if(a.qLeft<=t.qLeft&&a.qLeft+a.qWidth>=t.qLeft+t.qWidth&&a.qTop<=t.qTop&&a.qTop+a.qHeight>=t.qTop+t.qHeight)return this._extract(t,this.pages[i])}n.sort((function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height}));if(n[0].coverage.height>0&&n[0].coverage.width>0)return this._extract(t,this.pages[n[0].idx]);return{qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0},qData:[]}}},{key:"destroy",value:function e(){this.clear()}},{key:"isEmpty",value:function e(){return!this.pages||!this.pages[0]||!this.pages[0].qArea.qHeight||!this.pages[0].qArea.qWidth}},{key:"clear",value:function e(){this.pages=[]}},{key:"store",value:function e(t){this.pages=t}},{key:"containsArea",value:function e(t){for(var n=0;n<this.pages.length;n++){var r=this.pages[n].qArea;if(r.qLeft<=t.qLeft&&r.qLeft+r.qWidth>=t.qLeft+t.qWidth&&r.qTop<=t.qTop&&r.qTop+r.qHeight>=t.qTop+t.qHeight)return true}return false}},{key:"contains",value:function e(t){var n=this;if(!this.pages||!this.pages.length)return false;return 0===t.filter((function(e){return!n.containsArea(e)})).length}},{key:"_extract",value:function e(t,n){s.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);l.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var r=s.intersection(l,true);if(!r)return{qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0},qData:[]};var i=Math.max(0,t.qTop-n.qArea.qTop);var a=n.qData[0];var o=a.qSubNodes;var c={};for(var u in a)a.hasOwnProperty(u)&&(c[u]="qSubNodes"===u?o.slice(i,i+r.height):a[u]);c.qUp+=i;c.qDown+=n.qArea.qHeight-r.height-i;return{qArea:{qTop:r.y,qLeft:r.x,qWidth:r.width,qHeight:r.height},qData:[c]}}}]);return e}();t["a"]=c},dHXv:function(e,t,n){"use strict";var r=n("mWu2");var i=n("+GbC");var a=n("sWge");var o=n("PX8M");var s=n("TLJm");var l=n("wbKu");var c=n("acVu");var u=s["a"].NxLocalizedErrorCode;var d=null;var f=[];var p=1e3;var h=/(?!^GetHyperCube|^GetListObject)(^Get)/i;function v(e,t,n,r){e.Send.emit(n);n.outKey=-1;var i=t.send(n);e.dfdCache[n.id]=r;e.reqCache[n.id]=n;r.id=n.id;r.promise.requestId=i.requestId;return r.promise}function m(e){var t=this;i["a"].mixin(t);t.notification("Open");t.notification("Close");t.notification("Send");t.notification("Data");t.notification("Error");t.notification("ClosedHandles");t.notification("ChangedHandles");t.notification("Notification");t.notification("Warning");t.changeHandlers={};t.cacheName=e.cacheName;t.dfdCache={};t.reqCache={};t.modelCache={};t.options=e;t.socket={url:""}}m.prototype={open:function e(){return this.enigmaPromise},onError:function e(t){var n=this;Object.keys(n.dfdCache).forEach((function(e){t.error={err:t,isHandled:true};n.dfdCache[e].reject(t)}));n.Error.emit(t)},_cleanup:function e(){var t=this;if(!t.Close)return;t.Close.emit();for(var n in t.modelCache)t.modelCache[n].then((function(e){e.close(true)}));i["a"].release(t)},onClose:function e(){var t=this;if(t._isClosed)return;delete m.__cache[t.cacheName];m.useTimeoutOnClose?setTimeout(t._cleanup.bind(t),p):t._cleanup();t._isClosed=true},onData:function e(t){var n=this;var r=n.dfdCache[t.id];t.change&&n.handleChanged(t);t.close&&n.handleClosed(t);m.debounceApply((function(){if(t.handle&&!n.changeHandlers[t.handle]&&r)r.reject("No model mapped to handle");else if(t.result){n.Data.emit(t);t.warnings&&n.Warning.emit(t);r&&r.resolve(t)}else if(t.params){n.Notification.emit(t);r&&r.resolve(t)}else if(t.suspend){n.rpc({method:"Resume",params:[],handle:t.suspend[0]});r&&r.resolve(t)}else if(t.error){var e=n.reqCache[t.id];if(e)if(t.error.code===u.LOCERR_GENERIC_ABORTED&&h.test(e.method)){t.error.isHandled=true;v(n,n.__enigmaSession,e,r)}else{r&&r.reject(t);n.Error.emit(t)}}delete n.dfdCache[t.id];delete n.reqCache[t.id]}))},handleChanged:function e(t){var n=this;t.change.forEach((function(e){var t=n.changeHandlers[e];t&&t.forEach((function(e){e()}))}));n.ChangedHandles.emit(t.change)},handleClosed:function e(t){var n=this;Object.keys(n.modelCache).forEach((function(e){n.modelCache[e].then((function(e){t.close.indexOf(e.handle)>-1&&e.close(true)}))}));n.ClosedHandles.emit(t.close)},close:function e(t,n){var r=this;r.enigmaPromise.then((function(){r.__enigmaSession.close(t,n)}))},suspend:function e(){var t=this;t.enigmaPromise.then((function(){t.__enigmaSession.suspendResume.suspend()}))},resume:function e(t){var n=this;return n.enigmaPromise.then((function(){return n.__enigmaSession.suspendResume.resume(t)}))},rpc:function e(t,n){var r=this;n||(n=new a["a"]);if(r.__enigmaSession)return v(r,r.__enigmaSession,t,n);return r.enigmaPromise.then((function(){return v(r,r.__enigmaSession,t,n)}))},onChange:function e(t,n){this.changeHandlers[t]||(this.changeHandlers[t]=[]);this.changeHandlers[t].push(n)},getRequest:function e(t){return this.reqCache[t]||null}};m.useTimeoutOnClose=true;m.__cache={};m.createInput=function(e,t){t=t||{};t.appName=e;t.cacheName=m.buildUrl(t);return t};m.debounceApply=function(e){clearTimeout(d);f.push(e);d=setTimeout((function(){r["default"].$apply(r["default"].$rootScope,(function(){for(var e=0;e<f.length;e++)try{f[e]()}catch(e){}f.length=0}))}))};function g(e,t,n,r){n.open().then((function(){e[t](r)}))}function b(e){var t=e.__enigmaSession;t.on("suspended",(function(t){Object(c["b"])("CLIENT_WS_RECONNECT")||"network"===t.initiator&&e.close()}));t.on("resumed",(function(){Object.values(e.dfdCache).length&&Object(l["b"])();Object.values(e.dfdCache).forEach((function(e){var t=e.reject;t()}))}));t.on("closed",(function(n){g(e,"onClose",t,n)}));t.rpc.on("error-socket",(function(n){g(e,"onError",t,n)}));t.rpc.on("message",(function(n){g(e,"onData",t,n)}));t.rpc.on("notification",(function(n){g(e,"onData",t,n)}))}m.get=function(e,t){e=e||"";var n=m.createInput(e,t);var r;function i(e){r.__enigmaApp=e.app||e;r.__enigmaGlobal=e.global||e;r.__enigmaSession=(e.app||e.global||e).session;b(r)}function a(){delete m.__cache[n.cacheName]}r=new m(n);m.__cache[n.cacheName]=r;if(e&&"engineData"!==e&&!t.sessionApp)r.enigmaPromise=o["a"].get(e,t).then(i).catch(a);else if(t.sessionApp&&t.sessionApp.value&&t.sessionApp.fromApp){t.route=Object.is(t.sessionApp.route,null)?"app/".concat(encodeURIComponent(t.sessionApp.fromApp)):t.sessionApp.route;t.urlParams="engineData"!==t.sessionApp.fromApp?{from:t.sessionApp.fromApp}:t.urlParams;r.enigmaPromise=o["a"].getSessionApp(t.sessionApp.fromApp,t).then(i).catch(a)}else{"engineData"===e&&(t.route="app/".concat(encodeURIComponent(e)));r.enigmaPromise=o["a"].getGlobal(t).then(i).catch(a)}return r};m.getIfCached=function(e,t){var n=m.createInput(e,t);return m.__cache[n.cacheName]};m.buildUrl=function(e){var t="";var n=e.host;var r="string"===typeof e.port?e.port:e.isSecure?443:4848;t+=e.isSecure?"wss":"ws";t+="://";t+=n||"localhost";if(e.port){t+=":";t+=r}t+=e.prefix||"/";e.subpath&&(t+="".concat(e.subpath,"/"));e.route?t+=e.route:t+="app/".concat(encodeURIComponent(e.appName));e.identity&&(t+="/identity/".concat(encodeURIComponent(e.identity)));t+="?reloadUri=".concat(e.reloadURI||"");return t};t["a"]=m},dJ5t:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("6uJb");t["a"]={isNameValid:o,generateUniqueName:s,hasAnyMatches:l,isClickOnScrollbar:c,getSelections:u};function o(e,t){return"string"===typeof e&&e.length>0&&!t.includes(e)}function s(e,t){if(!e||!e.length)return e;var n=a["default"].get(e).replace(/\(\{0\}\)/,"").trim();var r=0;while(t.indexOf(n)>-1){r+=1;n=a["default"].get(e,r)}return n}function l(e,t){var n=false;for(var r in t)if(t[r].showItem){n=true;break}e.hasSearchMatch=n}function c(e){var t=i()(e.target).offset().left+i()(e.target).width();var n=e.pageX;if(n>t-17&&i()(e.target).hasClass("bm-desc")&&i()(e.target).hasClass("bm-margin"))return true;return false}function u(e){var t;var n=e.qSelectionObject?e.qSelectionObject.qSelections:null;var r={};r.currentSelectFields=[];r.currentSelectCount=0;r.currentSelectValuesCount=[];r.currentSelectedValues=[];if(n&&n.length>0){r.currentSelectCount=n.length;for(t=0;t<n.length;t++){r.currentSelectFields.push(n[t].qReadableName||n[t].qField);r.currentSelectValuesCount.push(n[t].qStateCounts.qSelected+n[t].qStateCounts.qLocked+n[t].qStateCounts.qSelectedExcluded);r.currentSelectedValues[t]=n[t].qSelected}}return r}},"dNq/":function(e,t,n){(function(n){var r,i;(function(){var a=[];var o=a.slice;var s={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);r.push({callback:t,context:n,ctx:n||this});return this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this;var a=n.once((function(){i.off(e,a);t.apply(this,arguments)}));a._callback=t;return this.on(e,a,r)},off:function(e,t,r){var i,a,o,s,l,u,d,f;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r){this._events={};return this}s=e?[e]:n.keys(this._events);for(l=0,u=s.length;l<u;l++){e=s[l];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(d=0,f=o.length;d<f;d++){a=o[d];(t&&t!==a.callback&&t!==a.callback._callback||r&&r!==a.context)&&i.push(a)}i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e];var r=this._events.all;n&&u(n,t);r&&u(r,arguments);return this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;"object"===typeof t&&(n=this);e&&((r={})[e._listenerId]=e);for(var a in r){r[a].off(t,n,this);i&&delete this._listeners[a]}return this}};var l=/\s+/;var c=function(e,t,n,r){if(!n)return true;if("object"===typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return false}if(l.test(n)){var a=n.split(l);for(var o=0,s=a.length;o<s;o++)e[t].apply(e,[a[o]].concat(r));return false}return true};var u=function(e,t){var n,r=-1,i=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,a);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,a,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,a,o,s);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}};var d={listenTo:"on",listenToOnce:"once"};n.each(d,(function(e,t){s[t]=function(t,r,i){var a=this._listeners||(this._listeners={});var o=t._listenerId||(t._listenerId=n.uniqueId("l"));a[o]=t;"object"===typeof r&&(i=this);t[e](r,i,this);return this}}));s.bind=s.on;s.unbind=s.off;true;!(r=[],i=function(){return s}.apply(t,r),void 0!==i&&(e.exports=i));this.Eventable=s})();e.exports=Eventable}).call(this,n("PoH+"))},dOe6:function(e,t,n){"use strict";(function(e){var r=n("U408");var i=function(){function t(e){var t=e;e&&"#document"!==e.nodeName&&"string"===typeof e&&(t=(new DOMParser).parseFromString(e,"text/xml"));this.formats=this.parseFormats(t);this.styles=this.parseStyles(t);this.srs=this.parseSrs(t);this.layers=this.parseLayers(t)}t.prototype.parseFormats=function(t){var n=[];var r=t.getElementsByTagName("GetMap");for(var i=0;i<r.length;i++){var a=e(r[i]);var o=a.children("Format");for(var s=0;s<o.length;s++){var l=o[s].textContent;null!==l&&n.push(l)}}return n};t.prototype.parseStyles=function(e){};t.prototype.parseSrs=function(t){var n=[];var r=t.getElementsByTagName("Layer");if(r.length>0){var i=e(r[0]);var a=i.children("SRS,CRS");for(var o=0;o<a.length;o++){var s=a[o].textContent;null!==s&&(n=s.split(" ").concat(n))}}return n};t.prototype.parseLayers=function(t){var n=[];var i=t.getElementsByTagName("Layer");for(var a=0;a<i.length;a++){var o=e(i[a]);var s=o.children("Name").text();if(s.length>0){var l=new r["a"](o);n.push(l)}}return n};return t}();t["a"]=i}).call(this,n("qIEf"))},"dV/x":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("+I+c");function i(e,t){if(null==e)return{};var n=Object(r["a"])(e,t);var i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++){i=o[a];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}},dhFh:function(e,t,n){"use strict";var r=n("6uJb");var i=n("sWge");var a=n("5Pwf");var o=n("1S8k");var s=n("PX8M");var l=n("1qo9");var c=n("5SH1");var u=n("endN");var d=n("Nwy7");var f=n("qSTF");var p=n("v/w5");var h=n("acVu");function v(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){v(a,r,i,o,s,"next",e)}function s(e){v(a,r,i,o,s,"throw",e)}o(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function y(e,t,n){t&&b(e.prototype,t);n&&b(e,n);return e}function w(){if(Object(h["b"])("IS_DESKTOPCLIENT"))return a["a"].getCurrentApp().saveObjects();return i["a"].resolve(true)}function S(e){var t={nextDisabled:function e(){return true},hasNextStep:true,nextText:r["default"].get("AnalyzeModel.label.addDataManager"),nextTooltipText:r["default"].get("AnalyzeModel.description.addDataManager"),hideNextIcon:true,fullScreenView:true,back:function t(){e?p["a"].hideEditAddData():p["a"].goBackToLastState()},connectorNextComplete:function e(){}};t.next=function(){this.connectorNextComplete()}.bind(t);if(e)t.editMode=e;else{t.finishDisabled=function(){return true};t.connectorFinishComplete=function(){};t.finish=function(){this.connectorFinishComplete()}.bind(t)}return t}var x=function(){function e(){g(this,e);this.dataModelInputPromise=null;this.getConnectDataInputPromise=null;this.getConnectorsPromise=null;this.getConnectorsMapPromise=null;this.currentConnections=void 0}y(e,[{key:"getDataModelInput",value:function e(t){!t&&this.dataModelInputPromise||(this.dataModelInputPromise=l["a"].getDataSpaceInput().then((function(e){return e})));return this.dataModelInputPromise}},{key:"getDataMarketConnector",value:function e(){return this.getDataModelInput().then((function(e){var t=e.dataconnectorsModel.allConnectorEntrypoints.datamarket;return t[0]}))}},{key:"getDataMarketTemplate",value:function e(){return this.getDataModelInput().then((function(e){var t=e.dataconnectorsModel.allConnectorEntrypoints.datamarket;var n={datamarket:[]};for(var r=0;r<t.length;++r)n.datamarket.push(t[r].getDataMarketView());return{template:t[0].getConnectorMain().template,views:n}}))}},{key:"clearCache",value:function e(){this.dataModelInputPromise=null;this.getConnectorsPromise=null;this.getConnectorsMapPromise=null;this.getConnectDataInputPromise=null}},{key:"getDataLoadInput",value:function e(t,n){!t&&this.getConnectDataInputPromise||(this.getConnectDataInputPromise=l["a"].getConnectDataInput(n));return this.getConnectDataInputPromise}},{key:"getExistingConnections",value:function(){var e=m(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return this.getDataModelInput(t);case 2:n=o.sent;if(!Object(h["b"])("SHOW_ALL_SPACE_CONNECTIONS")){o.next=5;break}return o.abrupt("return",n.dataconnectorsModel.connections);case 5:o.next=7;return a["a"].getCurrentApp();case 7:r=o.sent;o.next=10;return r.getAppLayout();case 10:i=o.sent;return o.abrupt("return",n.dataconnectorsModel.connections.filter((function(e){if(!i.qLayout.spaceId)return!e.connectorInstance.space;return!e.connectorInstance.space&&"qix-datafiles.exe"===e.connectorInstance.typeName||e.connectorInstance.space===i.qLayout.spaceId})));case 12:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findDatafilesConnection",value:function(){var e=m(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return this.getDataModelInput();case 2:n=i.sent;r=n.dataconnectorsModel.connections.find((function(e){return("personal"===t.id&&!e.connectorInstance.space||t.id===e.connectorInstance.space)&&"qix-datafiles.exe"===e.connectorInstance.typeName}));if(r){i.next=6;break}throw new Error("uploadfile.elastic.draganddrop.missingconnection");case 6:return i.abrupt("return",r.connectorInstance);case 7:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getExistingStorageProviderConnections",value:function e(){return u["a"].getConnections()}},{key:"getStorageProviderByName",value:function e(t){return this.getExistingStorageProviderConnections().then((function(e){var n=e.filter((function(e){return 0===e.name.toLowerCase().indexOf(t.toLowerCase())}))[0].sourceConnectorID;return u["a"].getStorageProviders().then((function(e){var t=e.filter((function(e){return e.id.toLowerCase()===n.toLowerCase()}));return t[0]}))}))}},{key:"getNativeFileModel",value:function e(){return i["a"].all({nativeConnector:this.getNativeFilesConnector(),nativeFileConnections:this.getNativeFileConnections()}).then((function(e){return{fileConnector:e.nativeConnector,fileConnections:e.nativeFileConnections,getConnector:function t(){if(e.nativeConnector)return e.nativeConnector;if(e.nativeFileConnections.length>0)return e.nativeFileConnections[0];return}}}))}},{key:"getNativeFilesConnector",value:function e(){return this.getConnectorsMap().then((function(e){return e["scripteditor.flatfilechooser.files.all"]}))}},{key:"getNativeFileConnections",value:function(){var e=m(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return this.getExistingConnections();case 2:t=n.sent;return n.abrupt("return",t.filter((function(e){return e.connectorInstance.type.isFolderConnector&&"DataPrepAppCache"!==e.connectorInstance.name&&"__GEO_TABLES"!==e.connectorInstance.name&&!c["a"].isUploadFolderConnection(e.connectorInstance)})));case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAttachedFilesConnector",value:function e(){var t=this;var n={enabled:true,connection:void 0,connector:void 0};return c["a"].isFileUploadEnabled().then((function(e){n.enabled=e;if(e)return t.getExistingConnections().then((function(e){n.connection=e.filter((function(e){return c["a"].isUploadFolderConnection(e.connectorInstance)}))[0];n.connection?c["a"].canUserReadAppStore().then((function(e){n.enabled=e})):n.enabled=false;return t.getNativeFilesConnector().then((function(e){n.connector=e;return n}))}));return}))}},{key:"decorateExistingConnectionsWithImages",value:function e(t){var n=[];return this.getConnectorsMap().then((function(e){t.forEach((function(t){var r=e[t.connectorInstance.sourceConnectorID.toLowerCase()];if(r){var i=r.isInitialized().then((function(){t.connectorInstance.connectorImagePath=r.getImagePath();t.connectorInstance.connectorDisplayName=r.getDisplayName();t.connectorInstance.scriptOnly=r.isScriptOnly()}));n.push(i)}}));return i["a"].all(n)}))}},{key:"deleteConnection",value:function(){var e=m(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return o["a"].deleteConnection(t);case 2:return n.abrupt("return",w());case 3:case"end":return n.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isConnectionInUse",value:function e(t,n){return n.filter((function(e){return e.data.connectionInfo.name===t})).length>0}},{key:"getConnectors",value:function e(){var t=[];this.getConnectorsPromise||(this.getConnectorsPromise=this.getDataModelInput().then((function(e){var n=e.dataconnectorsModel.allConnectorEntrypoints;Object.keys(n).forEach((function(e){t=t.concat(n[e])}));return t})));return this.getConnectorsPromise}},{key:"getConnectorsMap",value:function e(){var t={};this.getConnectorsMapPromise||(this.getConnectorsMapPromise=this.getConnectors().then((function(e){e.forEach((function(e){if(e.getId()){t[e.getId().toLowerCase()]=e;t[e.getProvider().toLowerCase()]=e}}));return t})));return this.getConnectorsMapPromise}},{key:"getConnectorByName",value:function e(t){return this.getConnectorsMap().then((function(e){return e[t.toLowerCase()]}))}},{key:"getConnectionByNameOrId",value:function(){var e=m(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:if(!t){l.next=6;break}l.next=3;return this.getExistingConnections();case 3:i=l.sent;a=i.filter((function(e){return t===e.connectorInstance.id}))[0];return l.abrupt("return",a?a.connectorInstance:void 0);case 6:l.next=8;return this.getDataModelInput(false);case 8:o=l.sent;l.next=11;return o.dataconnectorsModel.getConnectionFromServer(n,r);case 11:s=l.sent;return l.abrupt("return",s);case 13:case"end":return l.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"getNativeFileConnectionByPathName",value:function e(t){return d["a"].createConnector(f["a"].getServersideConnectorProxy(),t).then((function(e){return w().then((function(){return e}))}))}},{key:"getConnectionInputs",value:function e(t,n,r,i,a,o){var s=this;return this.getDataLoadInput(o,i).then((function(e){return s.getDataModelInput(o).then((function(i){return w().then((function(){return s.getConnectionByNameOrId(a,t,n).then((function(t){e.qvInternals.activeConnector=t;return t?{qvDialogContext:S(r),dataconnectionSelectionEditor:e.newLoadModel.getDataconnectorSelectionEditor(t),dataconnectorInstance:t,qvInternals:e.qvInternals,tableModelToEdit:void 0,serverside:i.dataconnectorsModel.getConnectionServersideProxy(t.type.provider,t.name,t)}:null}))}))}))}))}},{key:"getServerSide",value:function e(t){return this.getDataModelInput().then((function(e){return e.dataconnectorsModel.getConnectionServersideProxy(t)}))}},{key:"getConfiguration",value:function e(){return s["a"].getApp().then((function(e){return e.global.getConfiguration()}))}}]);return e}();t["a"]=new x},dtUF:function(e,t,n){"use strict";var r=n("mWu2");var i="<div ng-transclude></div>";function a(e){this.container=e.container;this.body=e.body;this.alignAgainst=e.alignAgainst}a.prototype.showTranscluded=function(e){var t=this;e((function(e){t.container.appendTo(t.body).append(e)}))};a.prototype.showContent=function(e){this.container.appendTo(this.body).append(e)};a.prototype.update=function(){var e=this.alignAgainst.offset();this.container.css({top:e.top,left:e.left,width:this.alignAgainst.width(),height:this.alignAgainst.height(),zIndex:1021})};a.prototype.hide=function(){this.container.remove()};var o=a;r["default"].directive("objectAddTypeahead",[function(){return{template:i,scope:{},transclude:true,replace:true,restrict:"E",controller:["$scope",function(e){var t=this;e.items=[];function n(){var t=e.menu;if(e.activeItem){var n=e.activeItem;var r=n.getPosition();r.top<0?t.setScrollTop(n.getOffsetTop()):r.top+n.getHeight()>t.getHeight()&&n.scrollIntoView(false)}else t.setScrollTop(0)}this.activate=function(t){e.activeItem=t};this.nextItem=function(r){var i=e.items.indexOf(e.activeItem);"undefined"!==typeof r&&(i=(i+r)%e.items.length);i===e.items.length-1?t.activate(null):-1===i?t.activate(e.items[0]):t.activate(e.items[i+1]);n()};this.prevItem=function(r){var i=e.items.indexOf(e.activeItem);"undefined"!==typeof r&&(i=(i-r+e.items.length)%e.items.length);0===i?t.activate(null):-1===i?t.activate(e.items[e.items.length-1]):t.activate(e.items[i-1]);n()};this.getActiveItem=function(){return e.activeItem};this.selectActiveItem=function(){e.activeItem&&e.activeItem.select()};this.select=function(t){e.select({item:t});e.activeItem=null};this.setMenu=function(t){e.menu=t};this.addItem=function(t){e.items.push(t)};this.removeItem=function(t){var n=e.items.indexOf(t);n>=0&&e.items.splice(n,1)}}]}}]);r["default"].directive("objectAddTypeaheadInput",[function(){return{require:["^objectAddTypeahead","ngModel"],link:function e(t,n,r,i){var a=i[0];var o=i[1];n.on("keydown",(function(e){e.stopPropagation();if(13===e.which||9===e.which){e.preventDefault();a.getActiveItem()?t.$apply((function(){a.selectActiveItem()})):t.$apply((function(){t.$eval(r.onEnter,{$event:e})}))}else if(33===e.which){e.preventDefault();t.$apply((function(){a.prevItem(10)}))}else if(34===e.which){e.preventDefault();t.$apply((function(){a.nextItem(10)}))}else if(40===e.which){e.preventDefault();t.$apply((function(){a.nextItem()}))}else if(38===e.which){e.preventDefault();t.$apply((function(){a.prevItem()}))}else if(27===e.which){e.preventDefault();t.$apply((function(){t.$eval(r.onEscape,{$event:e})}))}}));t.$watch(a.getActiveItem,(function(e){e?e.item.label&&n.val(e.item.label):n.val(o.$modelValue)}));t.$watch(o.$modelValue,(function(e){e||a.activate(null)}))}}}]);r["default"].directive("objectAddTypeaheadMenu",[function(){return{require:"^objectAddTypeahead",link:function e(t,n,r,i){t.controller=i;i.setMenu({getHeight:function e(){return n.height()},setScrollTop:function e(t){n[0].scrollTop=t}})}}}]);r["default"].directive("objectAddTypeaheadItem",[function(){return{require:"^objectAddTypeahead",link:function e(t,n,r,i){var a=t.$eval(r.objectAddTypeaheadItem);var o={item:a,getOffsetTop:function e(){return n[0].offsetTop},scrollIntoView:function e(t){n[0].scrollIntoView(t)},getPosition:function e(){return n.position()},getHeight:function e(){return n.height()},select:function e(){s()}};function s(){t.$eval(r.onSelect,{item:a})}i.addItem(o);t.$on("$destroy",(function(){i.removeItem(o)}));t.$watch((function(){var e=i.getActiveItem();if(e)return e.item===a;return false}),(function(e){e?n.addClass("object-add-typeahead-active"):n.removeClass("object-add-typeahead-active")}));n.on("mouseenter",(function(){n.addClass("object-add-typeahead-hover")}));n.on("mouseleave",(function(){n.removeClass("object-add-typeahead-hover")}));n.on("qv-activate",(function(e){e.preventDefault();t.$apply((function(){s()}))}))}}}])},e0dV:function(e,t,n){"use strict";var r=n("bmRg");var i={};function a(e){function t(e){return{value:e}}function n(t){if(e)return e+t;return t}function i(e){try{return r["a"].get(n(e)).value}catch(e){}return}function a(e,i){r["a"].set(n(e),t(i));return i}function o(e,t){r["a"].contains(n(e))||a(e,t);return i(e)}function s(e,t,n){e.$watch(t,(function(e){a(t,e)}));return o(t,n)}var l={registerWatcher:s,register:o,get:i,set:a};return l}function o(e){i[e]||(i[e]=a(e));return i[e]}var s={forAppName:o,global:o("globalSettings")};var l=n("4nJ1");function c(e){if(e)return e.replace(/.*\\/g,"");return}var u=t["a"]=s.forAppName("".concat(c(l["a"].getParameterByName("app")),"."))},e2Yl:function(e,t,n){"use strict";var r=n("Y9P5");var i=n("6uJb");var a=n("4nJ1");var o=n("ClzF");var s=n("z4LI");var l=n("oON4");var c=n("9Ggg");function u(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function f(e,t){return p.apply(this,arguments)}function p(){p=d(regeneratorRuntime.mark((function e(t,n){var s,l,c,u,d,f,p;return regeneratorRuntime.wrap((function e(h){while(1)switch(h.prev=h.next){case 0:s=a["a"].getParameterByName("app");l=o["a"].analysis(s),c=l.sheetId;h.prev=2;h.next=5;return t.getObject(c);case 5:u=h.sent;h.next=11;break;case 8:h.prev=8;h.t0=h["catch"](2);u=void 0;case 11:if(!(c&&u)){h.next=13;break}return h.abrupt("return",c);case 13:h.next=15;return r["a"].Sheets.getAllSheets();case 15:d=h.sent;f=d.mashed[0];if(!f){h.next=19;break}return h.abrupt("return",f.qInfo.qId);case 19:if(!n.permissions.createSheet){h.next=24;break}h.next=22;return t.createSheet({title:i["default"].get("SheetItem.myNewSheet")});case 22:p=h.sent;return h.abrupt("return",p.id);case 24:return h.abrupt("return","");case 25:case"end":return h.stop()}}),e,null,[[2,8]])})));return p.apply(this,arguments)}function h(){if(s["a"].view===s["a"].Views.dataSpaceScriptEditor){var e=false;var t=l["a"].getMessage();if(t){e=window.confirm(t);if(!e)return false;l["a"].unsetBeforeUnloadFunctions()}}return true}function v(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n||e.ctrlKey||e.metaKey)window.open(t,"_blank");else{if(s["a"].view===s["a"].Views.dataSpaceScriptEditor){var i=false;var a=l["a"].getMessage();if(a){i=window.confirm(a);if(!i)return;l["a"].unsetBeforeUnloadFunctions()}}c["a"].setUrl(t,false,false,r)}n&&e.preventDefault()}t["a"]={getSheetToNavigateTo:f,allowNavigateFromView:h,navigateToView:v}},e5Ml:function(e,t,n){"use strict";n.d(t,"i",(function(){return r}));n.d(t,"h",(function(){return i}));n.d(t,"f",(function(){return a}));n.d(t,"g",(function(){return o}));n.d(t,"j",(function(){return s}));n.d(t,"k",(function(){return l}));n.d(t,"b",(function(){return c}));n.d(t,"c",(function(){return u}));n.d(t,"d",(function(){return d}));n.d(t,"e",(function(){return f}));n.d(t,"a",(function(){return p}));var r="TOTAL_OFF";var i="TOTAL_EXPR";var a="auto";var o="inherit";var s="attribute";var l="dimension";var c="indicator";var u="miniChart";var d="text";var f="url";var p=80},eXNX:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},"eg+O":function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");var a=n("4nJ1");function o(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var s={};s.create=function(e,t){return o(e).then((function(e){var n={qInfo:{qId:a["a"].generateId(),qType:"odagapplink"},qMetaDef:{odagLinkRef:"",timestamp:Date.now()}};return e.createObject(a["a"].extend(true,n,t))}))};s.remove=function(e,t){return o(e).then((function(e){return e.destroyObject(t)}))};s.get=function(e,t){return o(e).then((function(e){return e.getObject(t)}))};s.getList=function(e){return o(e).then((function(e){return e.getODAGAppLinkObject()}))};t["a"]=s},egqJ:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){if(e instanceof Array&&!e[0].pointInside&&!e.pointInside)throw new Error('The shape must implement a "pointInside" function');this.setShape(e);this.selected=!!t;this.value=n;this.parent=r;this.index=i;this.objectShapes={};if(a){this.parent=a.parent;this.node=a;this.rowIndex=a.data.rowIndex;this.label=a.data.qText;this.id=a.data.qElemNo}o&&e&&(this.objectShapes[o]=e instanceof Array?e:[e])}r.prototype={getShapes:function e(t){if((t||0===t)&&this.objectShapes&&this.objectShapes[t])return this.objectShapes[t];return this.shapes?this.shapes:[this.shape]},addShape:function e(t,n){this.objectShapes[t]instanceof Array||(this.objectShapes[t]=[]);this.objectShapes[t].push(n);this.shapes.push(n)},setShape:function e(t){this.shape=t instanceof Array?t[0]:t;this.shapes=t?t instanceof Array?t:[t]:[]},addValue:function e(t){void 0===this.value&&(this.value=[]);this.value instanceof Array||(this.value=[this.value]);this.value.push(t)}};t["a"]=r},ejmI:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},ekpb:function(e,t,n){"use strict";var r={getLevel:function e(){if(!this||this.parent===this)return;var t=this.parent;var n=0;while(t){n+=1;t=t.parent}return n},each:function e(t){var n=this&&this.children;var i;if(!n)return;for(i=0;i<n.length;i+=1){if(t&&false===t(n[i],i,n.length-1))return false;if(false===r.each.call(n[i],t))return false}return},getLeaves:function e(){if(!this||!this.children)return[];var t=[];var n;for(n=0;n<this.children.length;n+=1)this.children[n]&&this.children[n].children&&this.children[n].children.length?t=t.concat(r.getLeaves.call(this.children[n])):t.push(this.children[n]);return t}};t["a"]=r},endN:function(e,t,n){"use strict";var r=n("5Pwf");var i=n("qSTF");var a=n("SswE");var o=n("wvr8");var s=n("sWge");var l=n("1UIw");var c=null;var u=[];function d(){var e;var t=true;var n=a["a"].createDataconnectorsModel(r["a"],r["a"].currentApp,i["a"],e,t);return n.then((function(e){c=[];var t=e;if(!t.allConnectorEntrypoints.folder)return[];var n=t.allConnectorEntrypoints.folder.map((function(e){return e.isInitialized()}));return s["a"].all(n).then((function(){return t.allConnectorEntrypoints.folder.map((function(e){c[e.getId()]=e.getDisplayName();var t={id:e.getId(),name:e.getDisplayName(),imagePath:e.getImagePath(),isScriptOnly:e.isScriptOnly(),providerName:e.getConnectorMain().providerName,credentialsDialog:e.getCredentialsDialog(),requiresAuthentication:!!e.getConnectorMain().requiresAuthentication,authenticate:e.getConnectorMain().authenticate,getDirectoryInfo:e.getConnectorMain().getDirectoryInfo,saveConnection:e.getConnectorMain().saveConnection,getConnectionMatch:e.getConnectorMain().getConnectionMatch,updateConnection:e.getConnectorMain().updateConnection,getAccountId:e.getConnectorMain().getAccountId,modifyConnection:e.getConnectorMain().modifyConnection,testSavedConnection:e.getConnectorMain().testSavedConnection};u[t.id]=t;return t}))}))}))}function f(e,t,n){var r=e.filter((function(e){return!!c[e.sourceConnectorID]}));r.forEach((function(e){var n=t[e.id];var r=u[e.sourceConnectorID];e.scriptOnly=r.isScriptOnly;e.providerName=c[e.sourceConnectorID];e.connectorImagePath=r.imagePath;n&&r&&r.getAccountId&&(e.accountId=r.getAccountId(n))}));if(n){var i=[];r=r.filter((function(e){var t=false;if(i[e.providerName]){if(!i[e.providerName][e.accountId]){i[e.providerName][e.accountId]=true;t=true}}else{var n={};n[e.accountId]=true;i[e.providerName]=n;t=true}return t}))}return r}function p(e){var t=[];return i["a"].getDataconnectorInstances((function(e,n){t[e.id]=n.qConnectionString||n.qConnectStatement})).then((function(n){if(!c)return d().then((function(){return f(n,t,e)}));return f(n,t,e)}))}function h(e,t,n){e.updateConnection(t,n)}function v(e,t,n,r){return e.modifyConnection(t,n,r)}function m(e,t){var n=e.filter((function(e){return o["a"].startsWith(e.name,t)}));var r=1;var i="".concat(t.replace(/["'()]/g,"_"),"_").concat(r);while(n.find((function(e){return o["a"].startsWith(e.name,i)}))){r++;i="".concat(t.replace(/["'()]/g,"_"),"_").concat(r)}return i}function g(e,t,n){var r={isError:false,name:"",existedPreviously:false};return p().then((function(i){var a=m(i,t.connectionName);t.connectionName=a;return e.saveConnection(t,n).then((function(e){if(e.isError){r.isError=true;l["a"].showDialog(e)}else r.name=e.name;return r}))}))}function b(e){return i["a"].getDataconnectorTypes().then((function(t){var n=t.filter((function(t){return t.provider===e}))[0];return n}))}t["a"]={getStorageProviders:d,getConnections:p,saveConnection:g,updateConnection:h,modifyConnection:v,getConnectorType:b}},eoRd:function(e,t,n){"use strict";n.d(t,"b",(function(){return O}));n.d(t,"a",(function(){return M}));var r=n("mXGw");var i=n("acVu");var a=n("JZAc");function o(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}function l(e,t){return p(e)||f(e,t)||u(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function p(e){if(Array.isArray(e))return e}var h;function v(e){var t=Object(r["useState"])(null),n=l(t,2),i=n[0],a=n[1];var o=Object(r["useState"])(null),c=l(o,2),u=c[0],d=c[1];Object(r["useEffect"])((function(){var t=true;function n(){return r.apply(this,arguments)}function r(){r=s(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function n(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;h=h||e.getAuthenticatedUser();i.next=4;return h;case 4:r=i.sent;if(t){d(null);a(r)}i.next=11;break;case 8:i.prev=8;i.t0=i["catch"](0);if(t){d(i.t0);a(null)}case 11:case"end":return i.stop()}}),n,null,[[0,8]])})));return r.apply(this,arguments)}e&&n();return function(){t=false}}),[e]);return[i,u]}function m(){false;throw new Error("This funcion is intended to be used in a testing environment only.")}function g(e,t){return w(e)||y(e,t)||E(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function w(e){if(Array.isArray(e))return e}function S(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){S(a,r,i,o,s,"next",e)}function s(e){S(a,r,i,o,s,"throw",e)}o(void 0)}))}}function C(e){return k(e)||I(e)||E(e)||q()}function q(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}function I(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function k(e){if(Array.isArray(e))return A(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T="HubSection_Home";function D(e){var t="string"===typeof e&&e.toLowerCase().indexOf("userdirectory")>-1&&e.toLowerCase().indexOf("userid")>-1;if(t){var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return[].concat(C(e),[t[1].trim()])}),[]);return n[0]||null}return null}function O(e){return L.apply(this,arguments)}function L(){L=x(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n=Object(i["b"])("HAS_QRS");if(n){s.next=3;break}return s.abrupt("return",true);case 3:r=D(t);if(!("NONE"===r)){s.next=6;break}return s.abrupt("return",true);case 6:s.next=8;return Object(a["b"])([T]);case 8:o=s.sent;return s.abrupt("return",o.includes(T));case 10:case"end":return s.stop()}}),e)})));return L.apply(this,arguments)}function M(e){var t=Object(i["b"])("HAS_QRS");var n=Object(r["useState"])(!t),a=g(n,2),o=a[0],s=a[1];var l=v(e),c=g(l,1),u=c[0];Object(r["useEffect"])((function(){t&&u&&O(u).then(s)}),[u]);return o}},f4pQ:function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a=n("6uJb");var o=n("/2No");var s=n("4nJ1");var l=n("zkWp");var c=n("UO/V");var u=n("93Vl");var d=n("acVu");var f=n("hIk4");function p(e,t){t.value=true;for(var n=0;n<e.length;n++){var r="";var i=e[n];if(i.selectedSize>1e4){t.value=false;r=a["default"].get("odag.toolbar.navpoint.popup.request.tab.xNumSelectedValues",i.selectedSize);i.valuesDisplayString=r}else{var o=0;for(;o<i.values.length&&o<5;o++){o>0&&(r+=", ");r+=i.values[o].strValue}5===o&&i.values.length>5&&(r+=a["default"].get("odag.toolbar.navpoint.popup.request.tab.moreSelectedValues",["".concat(i.values.length-5)]));i.valuesDisplayString=r}}return e}function h(e,t){var n=new Date(e.modifiedDate);var r=Object(d["b"])("ODAG_SAAS_ENABLED");function i(e){var t={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZone:Object(f["c"])()};return Intl.DateTimeFormat(a["default"].locale,t).format(e)}var o=!!e.loadState.finishedAt;var s=i(n);var l=null;if(e.loadState&&e.loadState.finishedAt&&"pending"!==e.loadState.status){var u=new Date(e.loadState.finishedAt);l=i(u)}var h="";var v=false;var m="";var g="lui-icon--bin";var b=a["default"].get("odag.toolbar.navpoint.popup.tooltip.delete");var y=[];var w=[];var S=[];m=e.generatedAppOrigName?e.generatedAppOrigName:"";e.generatedApp&&e.generatedApp.name&&(m=e.generatedApp.name);e.validation&&e.validation.contents&&e.validation.contents.forEach((function(e){y.push({id:y.length,message:e});w.push({id:w.length,message:e})}));if(!r&&e.loadState&&e.loadState.messages&&e.loadState.messages.progressData){e.loadState.messages.progressData.persistentProgressMessages&&e.loadState.messages.progressData.persistentProgressMessages.forEach((function(e){w.push({id:w.length,message:c["a"].translateMessage(e)})}));e.loadState.messages.progressData.transientProgressMessage&&w.push({id:w.length,message:c["a"].translateMessage(e.loadState.messages.progressData.transientProgressMessage)});e.loadState.messages.progressData.errorData&&e.loadState.messages.progressData.errorData.forEach((function(e){S.push({id:S.length,message:e.qErrorString})}))}r&&S.push({id:w.length,message:e.errorMessage});switch(e.state){case"validating":case"queued":case"loading":case"canceling":v=true;h="";m=m||a["default"].get("odag.toolbar.navpoint.popup.status.generating");g="lui-icon--remove";b=a["default"].get("odag.toolbar.navpoint.popup.tooltip.cancel");if("canceling"===e.state){g="";s=a["default"].get("odag.toolbar.navpoint.popup.status.canceling");l=s;b=""}break;case"failed":h="warning";m=m||a["default"].get("odag.toolbar.navpoint.popup.status.failed");g="lui-icon--remove";b=a["default"].get("odag.toolbar.navpoint.popup.tooltip.remove");break;case"canceled":h="";g="lui-icon--remove";b=a["default"].get("odag.toolbar.navpoint.popup.tooltip.remove");break;case"succeeded":h="";m=e.generatedApp?e.generatedApp.name:"";g="lui-icon--bin";b=a["default"].get("odag.toolbar.navpoint.popup.tooltip.delete");break;default:break}var x={value:false};e.selectionState&&p(e.selectionState,x);var C={name:m,createdDate:e.createdDate,requestId:e.id,owner:e.owner,lastLoadedTime:l,generatedAppId:e.generatedApp?e.generatedApp.id:null,published:!!e.generatedApp&&e.generatedApp.published,publishToStreamName:e.publishToStreamName?e.publishToStreamName:a["default"].get("odag.toolbar.navpoint.popup.request.tab.info.notPublished"),targetSheet:e.targetSheet,timestamp:s,status:h,state:e.state,loading:v,parentContext:t,deleteIcon:g,deleteIconTooltip:b,actionInProgress:false,statusMessageArray:w,selectionsState:e.selectionState,canApplySelections:x.value,progressErrors:S,isReload:o};return C}function v(e){var t=new Image;var n=e.templateThumbnail;if(n){t.src=n;t.onerror=function(){e.imgSrc=u["a"].staticSrc().staticApp()};t.onload=function(){var t=r["default"].getService("$timeout");t((function(){e.imgSrc=n}))}}}var m={createGeneratedAppWrapper:h,updateImageOnItemHeader:v,getSelectedValuesDisplayString:p};var g=n("r67N");var b={};var y={SUCCEEDED:"succeeded",FAILED:"failed",VALIDATING:"validating",QUEUED:"queued",LOADING:"loading",CANCELING:"canceling",CANCELED:"canceled"};var w=[y.SUCCEEDED,y.FAILED,y.CANCELED];function S(e,t){m.updateImageOnItemHeader(t);return e.getLoadedLinkInfo(e).then((function(e){if(e.templateApp){t.templateName=e.templateApp.name;t.templateDescription=e.templateApp.description;if(e.templateApp.thumbnail){"/"===e.templateApp.thumbnail.substr(0,1)&&(e.templateApp.thumbnail=e.templateApp.thumbnail.substr(1));t.templateThumbnail=o["a"].staticResourcesPath+e.templateApp.thumbnail}m.updateImageOnItemHeader(t)}else{t.invalid=true;t.templateName=a["default"].get("odag.toolbar.navpoint.popup.noTemplate");t.templateDescription=""}}))}function x(e){switch(e.state){case y.SUCCEEDED:var t=a["default"].get("odag.toolbar.navpoint.popup.delete.confirmation",[e.name]);var n=new i["a"];g["a"].open({title:a["default"].get("odag.toolbar.navpoint.popup.delete.confirmation.title"),content:t,buttons:[{name:"Common.Cancel",tid:"odag-applist-modal-cancelBtn",callback:function e(){n.resolve()}},{name:"Common.Delete",tid:"odag-applist-modal-deleteBtn",defaultButton:true,callback:function t(){return l["a"].deleteGenApp(e.parentContext.app,e.requestId).then((function(){n.resolve()}))}}]});return n.promise;case y.FAILED:return l["a"].requestAction(e.parentContext.app,e.requestId,l["a"].ODAGRequestActionConst.FAIL_ACK,true,true);case y.VALIDATING:case y.QUEUED:case y.LOADING:case y.CANCELING:var r=true;var o=true;if(e.isReload||e.lastTimeLoaded){r=false;o=false}return l["a"].requestAction(e.parentContext.app,e.requestId,l["a"].ODAGRequestActionConst.CANCEL,r,o);case y.CANCELED:return l["a"].requestAction(e.parentContext.app,e.requestId,l["a"].ODAGRequestActionConst.CANCEL_ACK,true,true);default:return}}function C(e,t,n){return e.getLoadedLinkInfo(e).then((function(r){return l["a"].reloadApp(e.model.parent.app,r,t,n,e.actualRowEst)}))}function q(e,t){return l["a"].getSelections(e,t)}function E(e,t){return m.getSelectedValuesDisplayString(e,t)}function I(e){return e.getLoadedLinkInfo(e).then((function(t){return l["a"].generateApp(e.model.parent.app,e.model.parent.id,t,e.id,e.actualRowEst)}))}function k(e){delete b[e.id]}function A(e,t,n,a){if(!n){a=Date.now();b[e.id]=a}if(b[e.id]&&a>=b[e.id])return l["a"].getGeneratedAppsForLink(e.model.parent.app,e.model.parent.id,e.data.odagLinkRefID,e.id).then((function(n){n.forEach((function(n){var r=m.createGeneratedAppWrapper(n,e.model.parent);var i=t.map((function(e){return e.requestId})).indexOf(n.id);if(i>-1){var a=t[i];var o=Object.keys(r).every((function(e){return a.hasOwnProperty(e)&&s["a"].isEqual(r[e],a[e])}));o||t.splice(i,1,r)}else t.push(r)}));var i=function e(r){var i=t[r];n.some((function(e){return e.id===i.requestId}))||t.splice(r,1)};for(var o=t.length-1;o>-1;o--)i(o);t.sort((function(e,t){var n=new Date(e.createdDate);var r=new Date(t.createdDate);return r-n}));if(t.some((function(e){return e.loading}))){var l=r["default"].getService("$timeout");return l((function(){A(e,t,true,a)}),3e3)}delete b[e.id];return}));return i["a"].resolve()}function T(e){var t=a["default"].get("Common.None");e.range&&(e.range.lowerBound&&e.range.lowerBound===e.range.upperBound?t=e.range.lowerBound:void 0===e.range.lowerBound||e.range.upperBound?void 0===e.range.upperBound||e.range.lowerBound?void 0!==e.range.lowerBound&&void 0!==e.range.upperBound&&(t="[".concat(e.range.lowerBound," - ").concat(e.range.upperBound,"]")):t="<=".concat(e.range.upperBound):t=">=".concat(e.range.lowerBound));return t}function D(e,t){var n=true;e.range&&(e.range.lowerBound&&e.range.lowerBound===e.range.upperBound?n=e.range.lowerBound===t.length:void 0===e.range.lowerBound||e.range.upperBound?void 0===e.range.upperBound||e.range.lowerBound?void 0!==e.range.lowerBound&&void 0!==e.range.upperBound&&(n=t.length>=e.range.lowerBound&&t.length<=e.range.upperBound):n=t.length<=e.range.upperBound:n=t.length>=e.range.lowerBound);return n}function O(e,t){t.length=0;e.getLoadedLinkInfo(e).then((function(n){l["a"].getConstraintFieldBindingValues(e.model.parent.app,n.bindings).then((function(e){for(var r=0;r<n.bindings.length;r++){var i=e[r];var a={fieldName:n.bindings[r].selectAppParamName,values:i.fieldValues,hasConstraint:!i.noConstraint,constraint:T(n.bindings[r]),bindingPassesConstraint:D(n.bindings[r],i.fieldValues)};t.push(a)}}))}))}function L(e,t,n){return l["a"].renameGenApp(e,t,n)}function M(e){var t=e.parentContext.app;return l["a"].clearSelections(t).then((function(){var n=[];for(var r=0;r<e.selectionsState.length;r++){var a=e.selectionsState[r];var o=a.selectionAppParamName;var s=a.values;n.push(l["a"].selectFieldValuesForField(t,o,s))}return i["a"].all(n)}))}var P=t["a"]={ODAG_STATE:y,ODAG_TERMINAL_STATES:w,updateItemHeader:S,loadGeneratedApps:A,stopLoadGeneratedApps:k,deleteGeneratedApp:x,reloadApp:C,getSelections:q,getSelectedValuesDisplayString:E,generateApp:I,renameGenApp:L,applySelections:M,initializeBindings:O}},fAEj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isMeasure=function(e){return this.gMeasures.indexOf(e)>=0},e.isDimension=function(t){return this.gDimensions.indexOf(t)>=0||e.isTemporal(t)||e.isGeographical(t)||this.gIntervals.indexOf(t)>=0||e.gOrdinals.indexOf(t)>=0},e.isTemporal=function(t){return this.gTemporals.indexOf(t)>=0||e.gDays.indexOf(t)>=0},e.isGeographical=function(e){return this.gGeographical.indexOf(e)>=0},e.getGeoClassification=function(t){for(var n=void 0,r=0;r<t.length;r++)if(e.gGeographical.indexOf(t[r])){n=t[r];break}return n},e.getAllSelectableClassificationTypes=function(){return[{name:"dimension"},{name:"measure"},{name:"boolean"},{name:"date"},{name:"timestamp"},{name:"year"},{name:"week"},{name:"quarter"},{name:"month"},{name:"weekDay"},{name:"monthDay"},{name:"yearDay"},{name:"hour"},{name:"email"},{name:"address"},{name:"country"},{name:"stateProvince"},{name:"city"},{name:"geoPoint"},{name:"geoPolygon"},{name:"geographical"},{name:"postalCode"},{name:"longitude"},{name:"latitude"},{name:"percentage"},{name:"monetary"},{name:"ordinal"},{name:"temporal"}]},e}();r.gMeasures=["measure","monetary","percentage"],r.gDimensions=["dimension","boolean"],r.gOrdinals=["ordinal","interval"],r.gIntervals=["interval","longitude","latitude","temporal"],r.gTemporals=["date","time","timestamp","year","quarter","month","week","minute","second","hour"],r.gDays=["day","weekDay","monthDay","yearDay"],r.gGeographical=["geographical","postalCode","city","stateProvince","country","geopoint"],t.ClassificationHelper=r},fBw5:function(e,t,n){"use strict";t["a"]={runDataLoadFlow:function e(){},openDataSpaceWithTableModel:function e(){},getTableModelWithName:function e(){},resetLoadModel:function e(){},reloadData:function e(){},hasNoTable:function e(){}}},fLVW:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},fWOy:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},fXVZ:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("sWge");var a=n("PX8M");function o(e){return e?i["a"].resolve(e.enigmaModel):a["a"].getApp()}var s={};s.get=function(e,t){return o(t).then((function(t){return t.getObject(e)}))};s.create=function(e,t){var n={qInfo:{qId:r["a"].generateId(),qType:"slideitem"},qEmbeddedSnapshotDef:{},title:"",sheetId:"",ratio:e.ratio,position:e.position,dataPath:e.dataPath,srcPath:e.srcPath,visualization:e.visualization,visualizationType:e.visualizationType,style:e.style};return t.createChild(r["a"].extend(true,n,e),null)};t["a"]=s},"fca/":function(e,t,n){"use strict";var r=n("RBCx");var i=n("sWge");t["a"]={createInitialChart:s,createChart:o,convertChart:l,getPropertyTreeForConvertedChart:c,createConvertedChart:u};function a(e){var t=e.qHyperCubeDef;if(t&&t.qMeasures&&t.qDimensions){var n=t.qDimensions.concat(t.qMeasures);n.forEach((function(e){e.qAttributeExpressions&&e.qAttributeExpressions.forEach((function(e){e.qAttribute=true}))}))}}function o(e,t,n){var r=d(t,n).bind(t);a(e);return r(e)}function s(e,t,n){f(e,t,n);return r["a"].getInitialProperties(e).then((function(e){return o(e,t,n)}))}function l(e,t,n){if(!e)throw new Error("No extension provided");var r=n||e.model;return c(e,t,n).then((function(e){return n.setFullPropertyTree(e).then((function(){return r}))}))}function c(e,t,n){if(!e)throw new Error("No extension provided");var a=n||e.model;return i["a"].all([r["a"].getExtensionType(t),r["a"].getInitialProperties(t),a.getFullPropertyTree()]).then((function(t){var n=t[0];var r=t[1];var i=t[2];var a;delete i.qProperty.qInfo.qId;if(e.exportProperties&&n.importProperties){var o;"boxplot"===e.type&&(o="boxplotDef");i.qProperty.containerChildId&&(r.containerChildId=i.qProperty.containerChildId);a=n.importProperties(e.exportProperties(i,o),r,n)}else a={qProperty:r,qChildren:[]};return a}))}function u(e,t,n,r){f(t,n,r);return(e.model.properties,n,r).then((function(n){return l(e,t,n)}))}function d(e,t){return t?e.createObject:e.createSessionObject}function f(e,t,n){if(!t||!e)throw new Error("Invalid inparameters: type or app missing");if(n)throw new Error("Persisted objects not implemented yet")}},ftSa:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("io1p");var o=n("s+sU");var s=n("sWge");var l=n("mYEk");var c=n("tdr+");function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function d(e,t,n){if(t instanceof d)return t;Object.defineProperties(this,{id:{value:t.id},qapp:{value:e},model:{value:t},rendered:{value:new s["a"]},support:{value:n,writable:true},_isToggled:{value:false,writable:true}});t.layout.qHyperCube&&Object.defineProperties(this,{table:{value:new a["a"](this.qapp,t),configurable:true}})}d.prototype.setOptions=function(e){var t=[];o["a"].addPatches("/",e,t);return this.model.applyPatches(t,true)};d.prototype.show=function(e,t){t=t||{};var n=this;var r=t.onRendered;t.onRendered=function(e){r&&r(e);n.rendered.resolve(e)};return o["a"].showVisualization(e,n.model.enigmaModel,t,n.model.enigmaModel.app).then((function(t){n._scopes=n._scopes||[];n._scopes.push(t);n._elements=n._elements||[];n._elements.push(e);return t}))};d.prototype.close=function(){if(this._scopes){this._scopes.forEach((function(e){e.$destroy()}));delete this._scopes}if(this._elements){this._elements.forEach((function(e){o["a"].clearElement(e)}));delete this._elements}if(this.table){this.table.destroy();delete this.table}this.model&&this.model._expendable&&this.model.close();return o["a"].Promise.resolve()};d.prototype.resize=function(){o["a"].resize(this.id)};d.prototype.toggleDataView=function(){var e=this;return e.rendered.promise.then((function(){return o["a"].getExtensionSupport(e.model).then((function(t){if(t.viewData){e.dataView||(e.dataView=e._elements.map((function(t){return new l["a"](e.qapp.model,e.model,t,e._scopes[0].options)})));return o["a"].Promise.all(e.dataView.map((function(e){return e.toggle()}))).then((function(t){e._isToggled=t.every((function(e){return e}));return e._isToggled})).catch((function(){return o["a"].Promise.reject("toggleDataView was not successful")}))}return o["a"].Promise.reject("toggleDataView is not supported for this visualization type")}))}))};function f(e){var t;var n;var r;var i;var a;var o;if(e&&e.session&&e.session.options||e&&e.enigmaModel&&e.enigmaModel.session&&e.enigmaModel.session.sessionConfig){t=e.session.options||e.enigmaModel.session.sessionConfig;o=void 0!==t.secure?t.secure:t.isSecure;n=o?"https://":"http://";r=t.host||"localhost";i=t.port?":".concat(t.port):"";a=t.prefix?t.prefix:"/";"/"!==a[a.length-1]&&(a="".concat(a,"/"));return{baseUrl:n+r+i,prefix:a}}return{baseUrl:"",prefix:""}}function p(e,t){return-1!==e.indexOf("/printing/export/")?e:t.baseUrl+t.prefix+e.replace("../","")}d.prototype.exportImg=function(e){if(!e||!e.height||!e.width)throw new Error("Image dimensions missing in settings argument.");var t=this;var n="image";var r=f(t.qapp.model);var i="png";e&&e.format&&("jpeg"===e.format.toLowerCase()||"jpg"===e.format.toLowerCase())&&(i="jpeg");var a={imageType:i,captureSize:{dpi:96,height:e.height,width:e.width}};return c["a"].requestDownloadExternal(t.qapp.model,{model:t.model,qapp:t.qapp},r.baseUrl,void 0,a.captureSize,a,n,"visualization").then((function(e){return e.reporting?e.qUrl:p(e.qUrl,r)}))};function h(e,t){var n=void 0!==t&&t;var r={a3:{height:420,width:297},a4:{height:297,width:210},a5:{height:210,width:148},a6:{height:148,width:105},a7:{height:105,width:74},letter:{height:279.4,width:215.9}};if("object"===u(e)&&e.width&&e.height)return e;if(!r.hasOwnProperty(e.toLowerCase()))return{};return n?{height:r[e.toLowerCase()].width,width:r[e.toLowerCase()].height}:r[e.toLowerCase()]}d.prototype.exportPdf=function(e){var t=this;var n="pdf";var r=f(t.qapp.model);var i=!!(e&&e.orientation&&"landscape"===e.orientation.toLowerCase());var a=e&&e.documentSize?e.documentSize:"a4";var o=h(a,i);var s=e&&-1!==[0,2].indexOf(e.aspectRatio)?e.aspectRatio:2;var l=0!==s?{height:1,width:1}:e.objectSize;var u={dpi:200,fitCriteria:s,height:o.height,width:o.width,sourceSize:{dpi:96,width:l.width,height:l.height},size:{name:a}};return c["a"].requestDownloadExternal(t.qapp.model,{model:t.model,qapp:t.qapp},r.baseUrl,void 0,u.captureSize,u,n,"visualization").then((function(e){return e.reporting?e.qUrl:p(e.qUrl,r)}))};d.prototype.exportData=function(e){var t="data";var n=this;var r=f(n.qapp.model);var a=e?i.a.copy(e):{};a.download=false;a.filename&&delete a.filename;return c["a"].requestDownloadExternal(n.qapp.model,{model:n.model,qapp:n.qapp},r.baseUrl,n,void 0,a,t,"visualization",n).then((function(e){return e.reporting?e.qUrl:e}))};t["a"]=d},fuD2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();t.getStorage=c;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=false;try{a="localStorage"in window;var o="tusSupport";localStorage.setItem(o,localStorage.getItem(o))}catch(e){if(e.code!==e.SECURITY_ERR&&e.code!==e.QUOTA_EXCEEDED_ERR)throw e;a=false}var s=t.canStoreURLs=a;var l=function(){function e(){i(this,e)}r(e,[{key:"setItem",value:function e(t,n,r){r(null,localStorage.setItem(t,n))}},{key:"getItem",value:function e(t,n){n(null,localStorage.getItem(t))}},{key:"removeItem",value:function e(t,n){n(null,localStorage.removeItem(t))}}]);return e}();function c(){return a?new l:null}},fv37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e}();r.type="newGeneration",r.template="/*new version of a table {{tableName}}: {{key}}. Depends on transformation {{dependencies.parent.key}}. \n New fields list:\n {{load-field-list fields}} \n*/",t.NewGeneration=r},fwzx:function(e,t,n){"use strict";function r(e){return s(e)||o(e)||a(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={cellBackgroundColor:true,cellForegroundColor:true,colorByAlternative:true,colorByExpression:true,tooltip:true,urlLabel:true,url:true};t["a"]={create:function e(t,n){if(!t||!c[t])throw new Error("Attribute Expressions Util: ID required");var r={};n&&Object.keys(n).forEach((function(e){r[e]=n[e]}));r.id=t;r.qAttribute=true;return r},getById:function e(t,n,r){if(t){r=r||"id";return t.filter((function(e){return e[r]===n}))[0]}return false},getIndexById:function e(t,n,r){var i=-1;if(t){r=r||"id";t.forEach((function(e,t){e[r]===n&&(i=t)}))}return i},moveById:function e(t,n,r,i){var a=this.getIndexById(t,r,i);n=n||[];var o=this.getIndexById(n,r,i);if(-1!==a&&-1===o){var s=t.splice(a,1);n.push(s[0])}return n},moveAllById:function e(t,n,i,a){var o=t.filter((function(e){return e.id===i}));var s=n.filter((function(e){return e.id===i}));var l=o.filter((function(e){var t=s.filter((function(t){return t[a]===e[a]}));if(t.length>0)return false;return true}));return[].concat(r(n),r(l))},moveByIdFromGroup:function e(t,n,r,i,a){r=r||"qAttributeExpressions";a=a||"id";for(var o=0;o<t.length;o++){var s=t[o][r];var l=n.length;this.moveById(s,n,i,a);if(l!==n.length)return n}return n},clean:function e(t){return t.filter((function(e){return e&&e.id}))},IDMAP:{CELL_BACKGROUND_COLOR:"cellBackgroundColor",CELL_FOREGROUND_COLOR:"cellForegroundColor",COLOR_BY_ALTERNATIVE:"colorByAlternative",COLOR_BY_EXPRESSION:"colorByExpression",TOOLTIP:"tooltip",CELL_LINK_LABEL:"urlLabel",CELL_LINK_URL:"url"}}},"g/0T":function(e,t,n){"use strict";var r=n("+lRA");t["a"]=r["a"].structs},g1uV:function(e,t,n){"use strict";var r={};Object.defineProperties(r,{ENTER:{value:13},ESCAPE:{value:27},SPACE:{value:32},TAB:{value:9},BACKSPACE:{value:8},DELETE:{value:46},ALT:{value:18},CTRL:{value:17},SHIFT:{value:16},ARROW_UP:{value:38},ARROW_DOWN:{value:40},ARROW_LEFT:{value:37},ARROW_RIGHT:{value:39},PAGE_DOWN:{value:34},PAGE_UP:{value:33},HOME:{value:36},END:{value:35},F10:{value:121},A:{value:65},F:{value:70},ZERO:{value:48},NINE:{value:57},NUMPAD_ZERO:{value:96},NUMPAD_NINE:{value:105},SUBTRACTION:{value:189},DECIMAL:{value:190},NUMPAD_DECIMAL:{value:110}});r.isArrow=function(e){return e===r.ARROW_UP||e===r.ARROW_DOWN||e===r.ARROW_LEFT||e===r.ARROW_RIGHT};t["a"]=r},gAHE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(){}return t.loadLanguageBundle=function(r,i){var a=t.getLongLanguageDesc(r);if(true,e.exports)try{var o=n("riME")("./load-model-"+a);t.resourceBundles[a]=o,i(o)}catch(e){}else{var s=["text!./assets/load-model/translations/load-model-"+a+".json"],l=function(e){var n=JSON.parse(e);t.resourceBundles[a]=n,i(n)};try{window.requirejs.apply(window.requirejs,[s,l])}catch(e){}}},t.GetString=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];for(var a=t.getLoadedResourceBundle(t.getLongLanguageDesc(e))[n],o=0;o<r.length;o++){var s="{"+o+"}";a=a.replace(s,r[o])}return a},t.getLoadedResourceBundle=function(e){return t.resourceBundles[e]},t.getShortLanguageDesc=function(e){return"pseudo"!==e.toLowerCase()&&(e=e.substring(0,2)),e.toLowerCase()},t.getLongLanguageDesc=function(e){var n;return n=t.languageList.filter((function(t){return t["long"].toLowerCase()===e.toLowerCase()})),n.length?e=n[0]["long"]:(n=t.languageList.filter((function(n){return n["short"]===t.getShortLanguageDesc(e)})),n.length&&(e="zh-hk"===e.toLocaleLowerCase()||"zh-mo"===e.toLocaleLowerCase()?"zh-TW":n[0]["long"])),n.length||(e=t.DEFAULT_LANGUAGE),e},t}();r.resourceBundles=[],r.DEFAULT_LANGUAGE="en-US",r.languageList=[{short:"es",long:"es-ES",label:"Spanish"},{short:"sv",long:"sv-SE",label:"Swedish"},{short:"ja",long:"ja-JP",label:"Japanese"},{short:"en",long:"en-US",label:"English"},{short:"de",long:"de-DE",label:"German"},{short:"fr",long:"fr-FR",label:"French"},{short:"it",long:"it-IT",label:"Italian"},{short:"nl",long:"nl-NL",label:"Dutch"},{short:"pt",long:"pt-BR",label:"Brazilian Portuguese"},{short:"ru",long:"ru-RU",label:"Russian"},{short:"zh",long:"zh-CN",label:"Simplified Chinese"},{short:"zh",long:"zh-TW",label:"Traditional Chinese"},{short:"pl",long:"pl-PL",label:"Polish"},{short:"tr",long:"tr-TR",label:"Turkish"},{short:"ko",long:"ko-KR",label:"Korean"}],t.Translator=r},gF9a:function(e,t,n){"use strict";var r=n("sWge");var i=n("5ezW");var a=n("4nJ1");var o=n("G3JA");var s=n("G1wx");var l=n("oxue");var c='<lui-popover class="add-popover-wrapper" style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<div ng-show="!step2">\n\t\t<object-add-typeahead>\n\t\t\t<lui-popover-header>\n\t\t\t\t\t<div class="lui-input-group">\n\t\t\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-measure" autocomplete="off" ng-model="search.term" tid="add-measure-input" qva-focus="autoFocus"\n\t\t\t\t\t\t\t   maxlength="255" object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)"/>\n\n\t\t\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addExpressionMeasure({value:value})" expression-type="measure"\n\t\t\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t</lui-popover-header>\n\t\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in activeMeasures" tid="measure-item"\n\t\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addActiveMeasure(measure)">\n\t\t\t\t\t\t<span qve-highlight text="{{measure.translatedTitle}}" title="{{measure.translatedTitle}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-list-header" ng-if="measures.length"  q-translation="Common.Measures"></div>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in measures" tid="measure-item"\n\t\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addLibraryMeasure(measure)">\n\t\t\t\t\t\t<span qve-highlight text="{{measure.value}}" title="{{measure.value}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-list-header" ng-if="fields.length" q-translation="Visualization.Requirements.FromField"></div>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in fields" tid="field-item"\n\t\t\t\t\t\tobject-add-typeahead-item="field" on-select="showFromField(field)"\n\t\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}"\t>\n\t\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-icon--map lui-list__aside"></span>\n\t\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-icon--calendar lui-list__aside"></span>\n\t\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t\t<i class="object-add-popover-toogle-step2-icon  lui-list__aside lui-icon  lui-icon--triangle-right"></i>\n\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-nohits" ng-if="!measures.length && !fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t\t</div>\n\t\t</object-add-typeahead>\n\t</div>\n\t<div class="object-add-popover back" ng-show="step2">\n\t\t<div class="object-add-popover-header">\n\t\t\t<div qva-activate="goBack($event);">\n\t\t\t\t<i class="object-add-popover-back-icon  lui-icon  lui-icon--triangle-left"></i>\n\t\t\t\t<span q-translation="Visualization.Requirements.Back"></span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="object-add-popover-content">\n\t\t\t<div class="object-add-popover-list-header" q-translation="Visualization.Requirements.Aggregation"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="suggestion in fieldSuggestions" qva-activate="addFromField(suggestion)" tid="from-field-item">\n\t\t\t\t\t<span class="lui-list__text lui-list__text--ellipsis" title="{{suggestion.aggregation}}({{suggestion.field}})">{{suggestion.aggregation}}({{suggestion.field}})</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</lui-popover>\n';var u=n("JUQR");var d=n("knjk");var f=n("6uJb");var p=n("dtUF");var h=100;function v(e,t){if(""===t)return e;return e.filter((function(e){if("undefined"===typeof e.value)return false;return i["a"].string(e.value.toLowerCase()).indexOf(i["a"].string(t.toLowerCase()))>-1}))}var m={template:c,controller:["$scope",function(e){e.search={term:""};e.isDirectDiscoveryField=u["a"].isDirectDiscoveryField;e.getDirectDiscoveryTypeTranslationKey=u["a"].getTypeTranslationKey;e.autoFocus=s["a"].treatAsDesktop();e.position||(e.position="right");e.onEscape=function(t){if(""!==e.search.term){t.stopPropagation();e.search.term=""}else e.close()};e.onEnter=function(t){if(""!==e.search.term){t.stopPropagation();e.addExpressionMeasure({value:e.search.term})}else e.close()};e.showFromField=function(t){e.currentField=t;e.step2=true};e.goBack=function(t){t.preventDefault();e.currentField=null;e.step2=false};e.$watch("currentField",(function(t){e.fieldSuggestions=t?["Sum","Count","Avg","Min","Max"].map((function(t){var n=a["a"].escapeField(e.currentField.value);return{aggregation:t,field:n}})):[]}));e.addFromField=function(t){var n="".concat(t.aggregation,"(").concat(t.field,")");e.addExpressionMeasure({value:n})};e.getFieldDisplayName=function(t){return""===e.search.term?t.label:d["a"].trimAutoCalendarName(t.value)};var t=null;e.$watch("search.term",(function(n){function i(){var r=v(t.measures,n);var i=v(t.fields,n);var a=v(t.activeMeasures,n);if(r.length+a.length>h){r=o["a"].limit(r,Math.max(h-a.length,0));i=[]}else r.length+a.length+i.length>h&&(i=o["a"].limit(i,Math.max(h-r.length-a.length,0)));e.fields=i;e.measures=r;e.activeMeasures=a}t?i():r["a"].all({fields:l["a"].getSortedFields(e.app),measures:l["a"].getSortedMeasures(e.app),activeMeasures:e.activeMeasures}).then((function(e){var r=e.fields.map((function(e){var t=e.isDerived&&""===n?e.qName.substring(e.qName.lastIndexOf(".")+1,e.qName.length):e.qName;return{toolTip:e.qName,value:e.qName,trimmedValue:e.displayName,label:t,field:e.qName,qTags:e.qTags,isDerived:e.isDerived,isDateField:e.isDateField,isGeoField:e.isGeoField,activeMeasureIndex:-1}}));var a=e.measures.map((function(e){return{value:e.qData.title,label:e.qData.title,libraryId:e.qInfo.qId,activeMeasureIndex:-1}}));var o=[];e.activeMeasures&&e.activeMeasures.length&&(o=e.activeMeasures.map((function(e,t){var n={};e.qLibraryId?a.forEach((function(t){if(t.libraryId===e.qLibraryId){n.value=t.value;n.label=t.label}n.libraryId=e.libraryId})):r.forEach((function(t){if(t.value===e.qDef.qDef){n.label=t.label;n.value=t.value}}));n.translatedTitle=f["default"].get("properties.colorBy.currentMeasure",t+1);n.activeMeasureIndex=t;return n})));t={fields:r,measures:a,activeMeasures:o};i()}))}))}],scope:{alignTo:"=",app:"=",addExpressionMeasure:"=",addLibraryMeasure:"=",addActiveMeasure:"=",close:"=",qvaOutsideIgnoreFor:"=",position:"=",allowExpressionEditor:"@"}};var g=t["a"]=m},gKi2:function(e,t,n){"use strict";var r=["","m","ï","R","S","T","U","P","Q","è","¢","©","23F4","2013","&","add","minus-2","dot"];var i=[{key:"m",value:"lui-icon--tick"},{key:"ï",value:"lui-icon--star"},{key:"R",value:"lui-icon--triangle-top"},{key:"S",value:"lui-icon--triangle-bottom"},{key:"T",value:"lui-icon--triangle-left"},{key:"U",value:"lui-icon--triangle-right"},{key:"P",value:"lui-icon--plus"},{key:"Q",value:"lui-icon--minus"},{key:"è",value:"lui-icon--warning-triangle"},{key:"¢",value:"lui-icon--hand"},{key:"©",value:"lui-icon--flag"},{key:"23F4",value:"lui-icon--lightbulb"},{key:"2013",value:"lui-icon--stop"},{key:"&",value:"lui-icon--pie-chart"},{key:"add",value:"lui-icon--add"},{key:"minus-2",value:"lui-icon--minus-2"},{key:"dot",value:"lui-icon--dot"}];t["a"]={getIconClass:function e(t){var n;var r=null;if(void 0!==t&&null!==t)if(0===t.length)r="";else for(n=0;n<i.length;n++)if(i[n].key===t){r=i[n].value;break}return r},getDefaultGlyphs:function e(){return r.map((function(e){return{icon:e}}))}}},gh04:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");function a(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var o={};o.create=function(e,t){return a(t).then((function(t){return t.createSheet(e)}))};o.remove=function(e,t){return a(t).then((function(t){return t.destroyObject(e)}))};o.get=function(e,t){return a(t).then((function(t){return t.getObject(e)}))};o.getList=function(e){return a(e).then((function(e){return e.getSheetListObject()}))};t["a"]=o},ghLF:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("UvZF");var s=n.n(o);var l=n("BPQk");var c=/[^\s()"',+$*\-<>=&/!{};:@`´[\]]/;var u=/[\s()"',+$*\-<>=&/!{};:@`´[\]]/;var d={REGEXP_WORD:c,REGEXP_WORD_SEPARATOR:u};var f=d.REGEXP_WORD;var p={state:null,column:null,marked:null,cc:null};var h=function e(t,n){var r=/[+\-*&=<>]/;var i=/[\u0022\u0027\u0060\u00b4[]/;function a(e,t,n){t.tokenize=n;return n(e,t)}function o(e,t){var n;while(null!=(n=e.next()))if(n===t)return false;return false}var s;var l;function c(e,t,n){s=e;l=n;return t}function u(e,t){if(e.eatSpace()){s="whitespace";return null}s="any";var o=e.next();if(i.test(o)){if("["===o)return a(e,t,h("]"));return a(e,t,h(o))}if(/[[\]{}(),;:]/.test(o))return c(o);if("0"===o&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return c("number","number")}if(/[.\d]/.test(o)){e.match(/^\d*(?:\.\d*)?(?:[eE][+-]?\d+)?/);if(!e.eol()){o=e.peek();if(/[A-z]/.test(o))return"normaltext"}return"number"}if("/"===o){if(e.eat("*"))return a(e,t,v);if(e.eat("/")){e.skipToEnd();return"comment"}e.eatWhile(r);return"operator"}if(r.test(o)){e.eatWhile(r);return c(o,"operator")}if("$"===o&&e.match(/^\(=/,false,true))return c("$");if("$"===o&&e.match(/^\((MUST_INCLUDE|INCLUDE)=/i,false,true))return c("$");if("$"===o&&e.match(/^\(/,false,true)){e.eat("(");t.tokenize=g;return c("$(")}e.eatWhile(f);var l=e.current();var u=l.toLowerCase();if("rem"===u)return a(e,t,m);if(n.service.isFunction(u)&&e.match(/(^\s*\()/,false,true))return c("function","keyword",u);if(n.service.isMeasure(l,t))return c("measure","measure");if(n.service.isField(l))return c("field","field");if(n.service.isVariable(l))return c("variable","variable");if(n.service.isKeyword(u))return c("keyword","keyword");return"normaltext"}function d(e){return e.substr(1,e.length-2)}function h(e){return function(t,r){if(!o(t,e)){r.tokenize=u;if("'"!==e){var i=d(t.current(),e);if(n.service.isMeasure(i,r))return c("measure","measure");if(n.service.isField(i))return c("field","field");if(n.service.isVariable(i))return c("variable","variable")}}return c("string","string")}}function v(e,t){var n=false;var r;while(r=e.next()){if("/"===r&&n){t.tokenize=u;break}n="*"===r}return c("comment","comment")}function m(e,t){var n;while(n=e.next())if(";"===n){t.tokenize=u;break}return c("comment","comment")}function g(e,t){s="any";var r=e.next();")"!==r&&"("!==r||(t.tokenize=u);if(/[()]/.test(r))return c(r);e.eatWhile(/[^()]/);var i=e.current();if(!/^\d/.test(i)&&n.service.isVariable(i))return c("variable","variable");return"normaltext"}function b(e,t,n,r){this.type=e;this.prev=t;this.info=n;this.pos=r}function y(e,t,n,r,i){var a=e.cc;p.state=e;p.stream=i;p.marked=null;p.cc=a;while(true){var o=a.length?a.pop():I;if(o(n,r)){while(a.length&&a[a.length-1].lex)a.pop()();if(p.marked)return p.marked;return t}}}function w(){for(var e=arguments.length-1;e>=0;e--)p.cc.push(arguments[e])}function S(){w.apply(null,arguments);return true}function x(e,t){var n=function n(){var r=p.state;r.lexical=new b(e,r.lexical,t,p.stream.pos)};n.lex=true;return n}function C(){var e=p.state;e.lexical.prev&&(e.lexical=e.lexical.prev)}C.lex=true;function q(e){return function t(n){if(n===e)return S();if(";"===e)return w();return S(t)}}function E(e,t){return function n(r){if(r===t)return S();return w(e,n)}}function I(e){if("function"===e)return S(x("qvfunction",l),q("("),E(I,")"),C);if("("===e)return S(E(I,")"));if("$("===e)return S(E(I,")"));return S()}return{startState:function e(){return{tokenize:u,lastType:null,cc:[],lexical:new b("block")}},token:function e(t,n){var r=n.tokenize(t,n);if("comment"===s)return r;n.lastType=s;return y(n,r,s,l,t)},lineComment:"//"}};s.a.defineMode("qlikviewscript",h);var v={REGEXP_WORD:f,mode:h};var m=n("FdxK");a["default"].directive("qvCodeareaFunctionTip",[function(){return{restrict:"A",require:"qvCodearea",link:function e(t,n,r,i){var o;var s;var l=22;var c=t.$watch(r.qvCodeareaFunctionTip,(function(e){function n(){var e=i.codemirror.getCursor();var t=i.codemirror.getTokenAt(e,true);if("comment"!==t.type){var n=0;var r=t.state.lexical;while(r&&"qvfunction"!==r.type||0===n&&r.info&&t.string.toLowerCase()===r.info.toLowerCase()){r=r.prev;n++}return r}return}function r(e,t){var n=i.codemirror.getCursor();var r={line:n.line,ch:n.ch};var a;var o;while(r.line>=0){a=i.codemirror.getLine(r.line).toLowerCase();o=a.substring(e.pos-t.length,e.pos);if(o===t){r.ch=e.pos-t.length;break}r.line-=1}var s=i.codemirror.charCoords(r);s.top-=i.codemirror.defaultTextHeight()+l;return s}function u(){var t=n();var i=t?t.info:void 0;var s=i?e.service.getFunctionTip(i):void 0;a["default"].$apply(a["default"].$rootScope,(function(){d();if(s){var n=r(t,i);v();o=m["a"].show(e.view,{content:s,offset:n})}}))}function d(){g();if(o){o.destroy();o=void 0}}function f(){clearTimeout(s);s=setTimeout(u,250)}function p(){d()}var h={Esc:function e(){t.$apply((function(){d()}))}};function v(){i.codemirror.addKeyMap(h)}function g(){i.codemirror.removeKeyMap(h)}if(e){i.codemirror.on("blur",p);i.codemirror.on("cursorActivity",f);t.$on("$destroy",(function(){i.codemirror.off("blur",p);i.codemirror.off("cursorActivity",f);d()}));c()}}),true)}}}]);var g='<div class="qv-autocomplete-container">\n\t<ul class="codearea-autocomplete-hints">\n\t\t<li ng-repeat="item in state.hints track by item.text"\n\t\t\tqva-scroll-into-view="{ scroll: state.selectedHint == $index, scrollSelector: \'.codearea-autocomplete-hints\' }"\n\t\t\tclass="codearea-autocomplete-hint"\n\t\t\tng-class="{ \'codearea-autocomplete-hint-active\': state.selectedHint == $index }"\n\t\t\tng-mouseover="state.selectedHint = $index;"\n\t\t\tqva-activate="state.choose( $index )">\n\n\t\t\t<div class="codearea-autocomplete-hint-text">{{item.text}}</div>\n\t\t\t<div ng-repeat="type in item.types track by $index"\n\t\t\t\t class="codearea-autocomplete-hint-type {{type.id}}"\n\t\t\t\t q-translation="{{type.key}}"></div>\n\t\t</li>\n\t</ul>\n</div>\n';function b(e,t,n){var r=n.bottom+e.height<=t.height;var i=r?n.bottom:n.top-e.height;var a=Math.max(0,n.left+e.width-t.width);var o=n.left-a;return{top:i,left:o}}function y(e,t){e.$$postDigest((function(){e.$$postDigest(t)}))}var w={scope:{state:"="},template:g,controller:["$scope","$element",function(e,t){var n=t.find(".qv-autocomplete-container");var r=i()(window);function a(){var t={width:r.width(),height:r.height()};var i=n[0].getBoundingClientRect();var a=e.state.cursorPos;var o=b(i,t,a);n.css({left:o.left,top:o.top})}e.$watch("state.hints.length",(function(){y(e,a)}))}]};var S=n("wIyQ");var x=100;var C=d.REGEXP_WORD_SEPARATOR;function q(e){var t=e.getTokenAt(e.getCursor()).type;return"keyword"===t||"field"===t||"variable"===t||"measure"===t}function E(e,t,n){if(e.somethingSelected()||q(e)&&!n||t.disabled)return null;var r=t.getHints(e);var i=r.list;if(0===i.length)return null;i.length>x&&(i=i.slice(0,x));var a=e.cursorCoords(false!==t.alignWithWord?r.from:null);return{from:r.from,to:r.to,hints:i,selectedHint:n?n.selectedHint:0,cursorPos:a}}function I(e,t){this.dialogHandle=null;this.dialogOptions={};this.state=null;this.options=t;this.cm=e;this.currentOptions=null;this.once=null;this.closingOnBlur=null;this.bound={cursorActivity:this.cursorActivity.bind(this),pick:this.pick.bind(this),close:this.close.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),choose:this.choose.bind(this),showHint:this.showHint.bind(this)};function n(){return 8}var r=this;this.ourMap={Up:function e(){r.changeActive(r.state.selectedHint-1);a["default"].$rootScope.$apply()},Down:function e(){r.changeActive(r.state.selectedHint+1);a["default"].$rootScope.$apply()},PageUp:function e(){r.changeActive(r.state.selectedHint-n());a["default"].$rootScope.$apply()},PageDown:function e(){r.changeActive(r.state.selectedHint+n());a["default"].$rootScope.$apply()},Home:function e(){r.changeActive(0);a["default"].$rootScope.$apply()},End:function e(){r.changeActive(r.state.hints.length-1);a["default"].$rootScope.$apply()},Enter:this.bound.pick,Tab:this.bound.pick,Esc:this.bound.close}}I.prototype.cursorActivity=function(){var e=a["default"].getService("$timeout");e.cancel(this.once);this.once=null;var t=this.cm.getCursor();t.line!==this.startLine||this.cm.somethingSelected()?this.close():this.once=e(this.bound.showHint,70)};I.prototype.choose=function(e){this.changeActive(e);this.pick()};I.prototype.pick=function(){this.cm.replaceRange(this.state.hints[this.state.selectedHint].value,this.state.from,this.state.to);this.cm.focus();this.close();a["default"].$apply(a["default"].$rootScope)};I.prototype.onBlur=function(){var e=a["default"].getService("$timeout");this.closingOnBlur=e(this.bound.close,300)};I.prototype.onFocus=function(){var e=a["default"].getService("$timeout");e.cancel(this.closingOnBlur);this.closingOnBlur=null};I.prototype.changeActive=function(e){if(!this.state)return;e=Math.max(0,Math.min(e,this.state.hints.length-1));if(this.state.selectedHint===e)return;this.state.selectedHint=e};I.prototype.close=function(){var e=a["default"].getService("$timeout");e.cancel(this.once);e.cancel(this.startTimeout);if(!this.dialogHandle)return;this.dialogHandle.destroy();this.dialogHandle=null;this.cm.removeKeyMap(this.ourMap);this.cm.off("cursorActivity",this.bound.cursorActivity);this.cm.off("blur",this.bound.onBlur);this.cm.off("focus",this.bound.onFocus);this.cm.off("scroll",this.bound.close);this.state=null;a["default"].$apply(a["default"].$rootScope)};I.prototype.open=function(){this.dialogHandle=m["a"].show(this.options.view,this.dialogOptions);this.startLine=this.cm.getCursor().line;this.cm.addKeyMap(this.ourMap);this.cm.on("cursorActivity",this.bound.cursorActivity);this.cm.on("blur",this.bound.onBlur);this.cm.on("focus",this.bound.onFocus);this.cm.on("scroll",this.bound.close)};I.prototype.showHint=function(){var e=this.state;this.state=E(this.cm,this.options,e);if(!this.state){e&&this.close();return}this.state.choose=this.bound.choose;this.dialogOptions.state=this.state;e||this.open()};I.prototype.start=function(){var e=a["default"].getService("$timeout");if(this.state)return;this.startTimeout&&e.cancel(this.startTimeout);this.startTimeout=e(this.bound.showHint,500)};var k={keyword:{translation:"Common.Keyword",allowQuote:false},variable:{translation:"Common.Variable",allowQuote:true},field:{translation:"Common.Field",allowQuote:true},function:{translation:"Common.Function",allowQuote:false},measure:{translation:"Common.Measure",allowQuote:true}};function A(e){return"[".concat(e.replace(/\]/g,"]]"),"]")}function T(e,t){var n={};var r=[];var i=e.toLowerCase();var a="["===e[0];function o(e){"string"===typeof e&&(e={text:e});var t=e.text;if(a){if(!k[e.type]||!k[e.type].allowQuote)return;t=A(t)}if(!t||0!==t.toLowerCase().indexOf(i))return;if(!n[t]){n[t]={text:e.text,types:[],value:e.value||t};r.push(n[t])}k[e.type]&&n[t].types.push({id:e.type,key:k[e.type].translation})}function s(e,t){var n=e.text.toLowerCase();var r=t.text.toLowerCase();if(n===r)return 0;if(n>r)return 1;return-1}if(!a&&C.test(e)||/^\d+$/.test(e))return[];if(""!==e){t.forEach(o);r.sort(s)}1===r.length&&e===r[0].value&&(r=[]);return r}function D(e,t){var n=e.getCursor();var r=e.getTokenAt(n);var i=T(r.string,t);return{list:i,from:{line:n.line,ch:r.start},to:{line:n.line,ch:r.end}}}a["default"].directive("qvCodeareaAutocomplete",[function(){return{restrict:"A",require:"qvCodearea",link:function e(t,n,r,a){var o=[37,38,39,40,33,34,27];var s=t.$watch(r.qvCodeareaAutocomplete,(function(e){var n;function r(t){return D(t,e.service.getAutocompleteList())}function l(){n.start()}function c(e,t){-1===i.a.inArray(t.which,o)&&l()}if(e){e.view||(e.view=w);e.getHints||(e.getHints=r);n=new I(a.codemirror,e);var u=n.close.bind(n);a.codemirror.on("focus",l);a.codemirror.on("keyup",c);S["a"].on("end",u);t.$on("$destroy",(function(){a.codemirror.off("focus",l);a.codemirror.off("keyup",c);S["a"].off("end",u);n.close()}));s()}}),true)}}}]);var O={getCompletions:T};var L=s.a.Pos;function M(e,t,n,r){this.atOccurrence=false;this.cm=e;r||"string"!=typeof t||(r=false);n=n?e.clipPos(n):L(0,0);this.pos={from:n,to:n};t||(t="");if("string"!=typeof t){t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g"));this.matches=function(n,r){var i;var a;var o;if(n){t.lastIndex=0;i=e.getLine(r.line).slice(0,r.ch);a=t.exec(i);o=0;while(a){o+=a.index+1;i=i.slice(o);t.lastIndex=0;var s=t.exec(i);if(!s)break;a=s}o--}else{t.lastIndex=r.ch;i=e.getLine(r.line);a=t.exec(i);o=a&&a.index}if(a&&a[0])return{from:L(r.line,o),to:L(r.line,o+a[0].length),match:a};return}}else{r||(t=t.toLowerCase());var i=r?function(e){return e}:function(e){return e.toLowerCase()};var a=t.split("\n");1==a.length?t.length?this.matches=function(n,r){var a=i(e.getLine(r.line));var o=t.length;var s;if(n?r.ch>=o&&-1!=(s=a.lastIndexOf(t,r.ch-o)):-1!=(s=a.indexOf(t,r.ch)))return{from:L(r.line,s),to:L(r.line,s+o)};return}:this.matches=function(){}:this.matches=function(t,n){var r=n.line;var o=t?a.length-1:0;var s=a[o];var l=i(e.getLine(r));var c=t?l.indexOf(s)+s.length:l.lastIndexOf(s);if(t?c>=n.ch||c!=s.length:c<=n.ch||c!=l.length-s.length)return;for(;;){if(t?!r:r==e.lineCount()-1)return;l=i(e.getLine(r+=t?-1:1));s=a[t?--o:++o];if(o>0&&o<a.length-1){if(l!=s)return;continue}var u=t?l.lastIndexOf(s):l.indexOf(s)+s.length;if(t?u!=l.length-s.length:u!=s.length)return;var d=L(n.line,c);var f=L(r,u);return{from:t?f:d,to:t?d:f}}}}}M.prototype={findNext:function e(){return this.find(false)},findPrevious:function e(){return this.find(true)},find:function e(t){var n=this;var r=this.cm.clipPos(t?this.pos.from:this.pos.to);function i(e){var t=L(e,0);n.pos={from:t,to:t};n.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(t,r)){this.atOccurrence=true;return this.pos.match||true}if(t){if(!r.line)return i(0);r=L(r.line-1,this.cm.getLine(r.line-1).length)}else{var a=this.cm.lineCount();if(r.line==a-1)return i(a);r=L(r.line+1,0)}}},from:function e(){if(this.atOccurrence)return this.pos.from;return},to:function e(){if(this.atOccurrence)return this.pos.to;return},replace:function e(t){if(!this.atOccurrence)return;var n=s.a.splitLines(t);this.cm.replaceRange(n,this.pos.from,this.pos.to);this.pos.to=L(this.pos.from.line+n.length-1,n[n.length-1].length+(1==n.length?this.pos.from.ch:0))}};function P(e,t,n,r){return new M(e,t,n,r)}var N={getSearchCursor:P};var R=n("Mj5g");var F;function _(){this.posFrom=null;this.posTo=null;this.query=null;this.marked=[]}function j(e){var t=new _;var n;function r(t,n,r){return N.getSearchCursor(e,t,n,r)}function i(e){F.validQuery=true;var t=false;try{return t?new RegExp(t[1],-1===t[2].indexOf("i")?"":"i"):e}catch(t){F.validQuery=false;return e}}function a(){e.operation((function(){var e;if(!t.query)return;t.query=null;for(e=0;e<t.marked.length;++e)t.marked[e].clear();t.marked.length=0}));l()}function o(o,s,l,c){var d=2e3;var f=0;a();if(o){e.operation((function(){t.query=i(o);var a={line:0,ch:0};!s&&n&&n.from()&&(a=n.from());n=r(t.query,{line:0,ch:0},c);f=R["a"].getMaxNumberOfHits(e.getValue(),o,c);if(e.lineCount()<d)while(n.findNext())t.marked.push(e.markText(n.from(),n.to(),{className:"cm-searching"}));t.posTo=e.getCursor();t.posFrom=t.posTo;n=r(t.query,a,c)}));l&&u();F.hits=f;return f}F.hits=0;return 0}var s;function l(){s&&s.clear()}function c(){l();s=e.markText(n.from(),n.to(),{className:"cm-current"});e.setCursor(n.to());t.posFrom=n.from();t.posTo=n.to()}function u(t,r){var i=n.find(t);if(i){c();e.scrollIntoView(n.from(),e.getScrollInfo().clientHeight/2)}else r&&r();return i}function d(e){n=r(t.query,{line:0,ch:0},e);return u(false)}function f(i){var a=e.lastLine();var o=e.getLine(a).length;n=r(t.query,{line:a,ch:o},i);return u(true)}function p(e,r,i,a){var o="string"===typeof t.query?r:n.pos.match[0].replace(t.query,r);n.atOccurrence||d(i);n.replace(o);F.hits--;var s=n.find(e);s?c():a&&a()}function h(a,o,s){if(!a)return;var l=0;a=i(a);e.operation((function(){for(n=r(a,void 0,s);n.findNext();){l++;var e="string"===typeof t.query?o:n.pos.match[0].replace(t.query,o);n.replace(e)}}));F.hits=0;return l}F={doSearch:o,clearMarkedSearch:a,doFindNext:u,doFindFirst:d,doFindLast:f,doReplaceAll:h,doReplace:p,hits:0,validQuery:true};return F}var B={createSingleCodeareaSearcher:j};var V=n("Lvlw");var H="\r\n";a["default"].directive("qvCodeareaExposedContextApi",["$parse","$timeout",function(e,t){return{require:["qvCodearea","qvCodeareaExposedContextApi"],link:function t(n,r,i,a){var o=a[0];var s=a[1];s._connectCodeArea(o);var l=e(i.qvCodeareaExposedContextApi);l.assign(n,s);n.$on("$destroy",(function(){l.assign(n,void 0);s._connectCodeArea(void 0)}))},controller:function e(){var n;function r(e){n=e}function i(){var e=n.codemirror.getTokenAt(n.codemirror.getCursor());var t=0;var r=e.state.lexical;while(r&&"qvfunction"!==r.type||0===t&&r.info&&e.string.toLowerCase()===r.info.toLowerCase()){r=r.prev;t++}return!!r&&r.info}function a(){n.focus()}function o(){n.codemirror.undo()}function l(){n.codemirror.redo()}function c(){s.a.commands.toggleComment(n.codemirror);a()}function u(){n.codemirror.indentSelection("add");a()}function d(){n.codemirror.indentSelection("subtract");a()}function f(){return n.codemirror.options.readOnly}function p(e){var t=n.codemirror.getDoc().getSelection();var r=e(t);n.codemirror.replaceSelection(r)}function h(e){n.codemirror.setCursor(n.codemirror.getCursor("end"));var t=n.codemirror.getCursor().line;var r=n.codemirror.getCursor().ch;var i=n.codemirror.getLine(t).length;if(i>0)if(r===i){n.codemirror.setCursor(t,i);n.codemirror.replaceSelection(H)}else{n.codemirror.setCursor(n.codemirror.lineCount(),0);e=H+H+e}n.codemirror.setCursor(n.codemirror.getCursor("end"));n.codemirror.replaceSelection(e);n.focus()}function v(e){n.codemirror.replaceSelection(e,"end");n.focus()}function m(e){t((function(){var t=n.codemirror.lineCount();e<t?n.codemirror.setCursor(e-1,0):n.codemirror.setCursor(t-2,0);n.focus()}))}function g(e){return n.codemirror.getCursor(e)}function b(e,t,r){n.codemirror.setCursor(e,t,r)}function y(){return n.codemirror.lineCount()}var w={applyToSelection:p,focus:a,undo:o,redo:l,comment:c,indent:u,outdent:d,insertCode:h,replaceSelection:v,getFunctionNameUnderCursor:i,gotoLine:m,isReadOnly:f,getCursor:g,setCursor:b,lineCount:y,_connectCodeArea:r,codemirror:void 0};Object.defineProperty(w,"canUndo",{get:function e(){return n&&n.codemirror&&n.codemirror.historySize().undo>0},enumerable:true});Object.defineProperty(w,"canRedo",{get:function e(){return n&&n.codemirror&&n.codemirror.historySize().redo>0},enumerable:true});return w}}}]);function z(e,t){var n=e.length;var r=t.length;var i;var a=Math.min(e.length,t.length);for(i=0;i<a;i++)if(e.charAt(i)!==t.charAt(i))break;if(i===e.length&&i===t.length)return;var o=i;var s;var l;for(i=0;i<a;i++){s=n-i-1;l=r-i-1;if(s<o||l<o)break;if(e.charAt(n-i-1)!==t.charAt(r-i-1))break}var c=n-i-1;var u=r-i-1;return{start:o,targetRange:{from:o,to:c+1},sourceRange:{from:o,to:u+1}}}a["default"].directive("qvCodeareaExposedTouchApi",["$parse","$timeout",function(e,t){return{require:["qvCodearea","qvCodeareaExposedTouchApi"],link:function n(r,i,a,o){var s=o[0];var l=o[1];l._connectCodeArea(s);var c=e(a.qvCodeareaExposedTouchApi);c.assign(r,l);r.$on("$destroy",(function(){c.assign(r,void 0);t((function(){l._connectCodeArea(void 0)}))}))},controller:["$scope",function(e){var n;var r;function a(e){n=e}function o(e,t){n.codemirror.scrollTo(t,e)}function s(e){n.setCustomFocusFn(e)}function l(t){function r(){var e=i()(n.codemirror.getScrollerElement());t(e.scrollTop(),e.scrollLeft())}n.codemirror.on("scroll",r);e.$on("$destroy",(function(){n.codemirror.off("scroll",r);t=void 0}))}function c(t){function i(){var e={anchor:n.codemirror.indexFromPos(n.codemirror.getCursor("anchor")),head:n.codemirror.indexFromPos(n.codemirror.getCursor("head"))};t(n.codemirror.getValue(),e)}function a(){r||i()}i();n.codemirror.on("change",a);e.$on("$destroy",(function(){n.codemirror.off("change",a);t=void 0}))}function u(r){e.$watch((function(){return String(n.codemirror.lineCount()).length}),(function(){t((function(){var e=i()(n.codemirror.getGutterElement()).outerWidth();var t={top:0,left:e,bottom:0,right:0};r(t)}))}));e.$on("$destroy",(function(){r=void 0}))}function d(e,t,r){n&&n.codemirror.setSelection(e,t,r)}function f(e,t){var i=n.codemirror.getValue("\n");var a=z(i,t);if(a){var o=t.substring(a.sourceRange.from,a.sourceRange.to);var s=n.codemirror.posFromIndex(a.targetRange.from);var l=n.codemirror.posFromIndex(a.targetRange.to);r=true;n.codemirror.replaceRange(o,s,l);r=false}}function p(){n.cssClasses["qv-codearea-disable-selection"]=true}function h(){n.cssClasses["qv-codearea-disable-selection"]=false}var v={_connectCodeArea:a,scrollTo:o,onScroll:l,setOverlayFocuser:s,replicateSelection:d,replicateContent:f,onNewContent:c,onResize:u,disableSelections:p,restoreSelections:h};return v}]}}]);var $={diff:z};a["default"].directive("qvCodeareaExposedSearchApi",["$parse",function(e){return{require:"qvCodearea",link:function t(n,r,i,a){var o=e(i.qvCodeareaExposedSearchApi);o.assign(n,B.createSingleCodeareaSearcher(a.codemirror));n.$on("$destroy",(function(){o.assign(n,void 0)}))},controller:function e(){}}}]);function U(e){U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return U(e)}a["default"].directive("qvCodeareaAccelerators",[function(){return{require:["qvCodearea","qvCodeareaExposedContextApi"],link:function e(t,n,r,i){var o=i[0];var s=i[1];var l={keyCode:void 0,ctrlKey:void 0,shiftKey:void 0};function c(e,t){return e.keyCode===t.keyCode&&e.ctrlKey===(t.ctrlKey||false)&&e.shiftKey===(t.shiftKey||false)}function u(e,n){var i=t.$eval(r.qvCodeareaAccelerators);var o=function e(t){var r=i[t];if(c(n,r)&&(!r.previous||c(l,r.previous))){a["default"].$apply(a["default"].$rootScope,(function(){r.fn(s)}));l={keyCode:void 0,ctrlKey:void 0,shiftKey:void 0};n.preventDefault();return{v:void 0}}};for(var u in i){var d=o(u);if("object"===U(d))return d.v}l={keyCode:n.keyCode,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey}}o.codemirror.on("keydown",u);t.$on("$destroy",(function(){o.codemirror.off("keydown",u)}))}}}]);function G(e){var t=i()("<div class='qv-codearea-breakpoint-marker'><span class='lui-icon lui-icon--minus'></span></div>");t.data("breakpoint",e);return t[0]}function W(e,t){if(t.enabled){i()(e).addClass("qv-codearea-breakpoint-marker-enabled");i()(e).removeClass("qv-codearea-breakpoint-marker-disabled")}else{i()(e).addClass("qv-codearea-breakpoint-marker-disabled");i()(e).removeClass("qv-codearea-breakpoint-marker-enabled")}}a["default"].directive("qvCodeareaBreakpoints",[function(){return{require:"qvCodearea",link:function e(t,n,r,o){var s;function l(e){if(e){s=e;var t=o.codemirror.getDoc().lineCount();for(var n=0;n<t;n++){var r=n+1;var i=e[r];var a=o.codemirror.lineInfo(n).gutterMarkers;var l=a&&a["qv-codearea-breakpoint"];if(i){if(!l){l=G(i);o.codemirror.setGutterMarker(n,"qv-codearea-breakpoint",l)}W(l,i)}else l&&o.codemirror.setGutterMarker(n,"qv-codearea-breakpoint",null)}}}t.$watch(r.qvCodeareaBreakpoints,l);t.$watch(r.qvCodeareaBreakpoints,l,true);function c(e){var t=o.codemirror.getDoc().lineCount();for(var n=e.from.line;n<t;n++){var r=o.codemirror.lineInfo(n).gutterMarkers;if(r&&r["qv-codearea-breakpoint"])return true}return false}function u(e){return e.text.length!==e.removed.length}function d(e,t){!o.supressChangeEvent&&u(t)&&c(t)&&a["default"].$apply(a["default"].$rootScope,(function(){var e=s;for(var t in e)e.hasOwnProperty(t)&&delete e[t];var n=o.codemirror.getDoc().lineCount();for(var r=0;r<n;r++){var a=r+1;var l=o.codemirror.lineInfo(r).gutterMarkers;var c=l&&l["qv-codearea-breakpoint"];if(c){var u=i()(c);var d=u.data("breakpoint");d.lineNbr=a;e[a]=d}}}))}function f(e,n){o.disabled||t.$apply((function(){var e=n+1;var t=s[e];t?delete s[e]:s[e]={enabled:true,lineNbr:e}}))}o.codemirror.on("change",d);o.codemirror.on("gutterClick",f);var p={F9:function e(){f(o.codemirror,o.codemirror.getCursor().line)}};o.codemirror.addKeyMap(p);t.$on("$destroy",(function(){o.codemirror.off("change",d);o.codemirror.off("gutterClick",f);o.codemirror.removeKeyMap(p)}))}}}]);a["default"].directive("qvCodeareaDebugLocation",[function(){return{require:"qvCodearea",link:function e(t,n,r,i){var a;t.$watch(r.qvCodeareaDebugLocation,(function(e){if(e){var t=i.codemirror.lastLine()+1;var n=e.lineNbr;n>t&&(n=t);if(a){i.codemirror.removeLineClass(a,"background","qv-codearea-current-debug-line");i.codemirror.removeLineClass(a,"background","qv-codearea-current-debug-line-error")}if(n>0&&n<=t){i.codemirror.addLineClass(n-1,"background","qv-codearea-current-debug-line");e.errorMessage&&i.codemirror.addLineClass(n-1,"background","qv-codearea-current-debug-line-error");i.codemirror.scrollIntoView({line:n-1,ch:0},200);a=i.codemirror.getLineHandle(n-1)}}}),true)}}}]);a["default"].directive("qvCodeareaErrors",[function(){return{require:"qvCodearea",link:function e(t,n,r,i){var a=[];t.$watch("".concat(r.qvCodeareaErrors,".content"),(function(e){if(e){var t;for(t=0;t<a.length;t++)a[t].clear();for(t=0;t<e.length;t++){var n=e[t];var r={line:n.qLineInTab,ch:n.qColInLine};var o={line:n.qLineInTab,ch:n.qColInLine+n.qErrLen};var s=i.codemirror.markText(r,o,{className:"cm-servererror"});a.push(s)}}}),true);t.$on("$destroy",(function(){a=[]}))}}}]);function Q(e,t,n){var r=t.text.join("\n");var i=e.getRange(t.from,t.to).length;var a=r.length;var o=a-i;var s=e.getValue().length;if(s>=n&&0===i)t.cancel();else if(s+o>n){a=Math.max(0,n-s+i);r=r.substr(0,a);t.update(null,null,r.split("\n"))}}var K=Q;a["default"].directive("qvCodeareaLimit",[function(){return{require:"qvCodearea",link:function e(t,n,r,i){function a(e,n){var i=t.$eval(r.qvCodeareaLimit);i&&i>0&&K(e,n,i)}i.codemirror.on("beforeChange",a);t.$on("$destroy",(function(){i.codemirror.off("beforeChange",a)}))}}}]);var Y=n("Lj2P");var J;var Z;var X;function ee(e,t){var n=[];for(var r=0;r<e.length;r++){var i=e[r].split(" ");for(var a=0;a<i.length;a++)if(i[a].toLowerCase()===t.toLowerCase()){if(!J){J=i.length>1;Z=a>0}n.push(e[r])}}return n}function te(e,t,n){if(" "===n.string){var r=e.getTokenAt({ch:n.end+1,line:t.line});if(r.string.length>1)return r}return n}function ne(e,t,n,r){var i=r?t.end-(t.string.length+1):t.end+2;var a=e.getTokenAt({ch:i,line:n.line});return a}function re(e,t,n,r){J=false;Z=false;n=n||"scriptsyntax";var i="".concat(Y["a"].path+n,".");if("keyword"!==t.type&&"function"!==t.type)return false;t=te(e,e.getCursor(),t);var a=ee(r.getAutocompleteList().map((function(e){return e.text})),t.string);var o;if(J){var s=ne(e,t,e.getCursor(),Z);var l=ee(a,s.string);o=l.length>0&&s.string!==t.string?Z?"".concat(s.string,"_").concat(t.string):"".concat(t.string,"_").concat(s.string):t.string}else o=t.string;i+=o;/firefox/.test(window.navigator.userAgent.toLocaleLowerCase())&&X&&X.close();X=window.open(i,"__qlikviewhelp");return true}function ie(e,t,n,r){var i={left:t.pageX,top:t.pageY};var a=e.coordsChar(i,"window");var o=e.getTokenAt(a);return re(e,o,n,r)}function ae(e,t,n,r){var i=e.getTokenAt(e.getCursor());return re(e,i,n,r)}a["default"].directive("qvCodeareaHelpMode",["$parse",function(e){return{require:"qvCodearea",link:function t(n,r,a,o){var s;var l=n.$watch(a.qvCodeareaHelpModeOptions,(function(t){l();function c(r){if(s){r.preventDefault();var i=ie(o.codemirror,r,t.syntax,t.service);i&&n.$apply((function(){e(a.qvCodeareaHelpMode).assign(n,false)}))}}function u(e,n){if((72===n.keyCode||104===n.keyCode)&&n.ctrlKey){n.preventDefault();ae(o.codemirror,n,t.syntax,t.service)}}n.$watch(a.qvCodeareaHelpMode,(function(e){s=e;o.cssClasses["qv-codearea-help-mode"]=e}));i()(r).on("click",c);o.codemirror.on("keydown",u);n.$on("$destroy",(function(){i()(r).off("click",c);o.codemirror.off("keydown",u)}))}))}}}]);a["default"].directive("qvCodeareaTouchOverlay",[function(){return{restrict:"E",replace:true,scope:{codeareaTouchApi:"=",enabled:"=",helpMode:"="},template:'<div class="qv-codearea-touch-overlay-container" ng-style="containerStyle"><textarea class="qv-codearea-touch-overlay" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" wrap="off"></textarea></div>',link:function e(t,n){var r=n.find("textarea");var i=false;t.containerStyle={};function a(e){var n=/iPad|iPhone|iPod/.test(navigator.userAgent);n&&r.css("padding-left","1px");e.disableSelections();t.$on("$destroy",(function(){e.restoreSelections()}));e.onNewContent((function(e,t){r.val(e);if(r[0]!==document.activeElement)return;if(r[0].selectionStart!==t.anchor||r[0].selectionEnd!==t.head){r[0].selectionStart=t.anchor;r[0].selectionEnd=t.head}}));e.setOverlayFocuser((function(){}));e.onResize((function(e){t.containerStyle.left=e.left}));e.onScroll((function(e,t){r.scrollTop(e);r.scrollLeft(t);document.activeElement===r[0]&&(""===r[0].style.textShadow?r[0].style.textShadow="rgba(0,0,0,0) 0 0 0":r[0].style.textShadow="")}));r.on("scroll",(function(){e.scrollTo(r.scrollTop(),r.scrollLeft())}));r.on("input",(function(t){var n=r.val();e.replicateContent(t,n)}));function a(e,t){var n=e.substring(0,t).split("\n");var r=n.length-1;var i=n[n.length-1].length;return{line:r,ch:i}}function o(){var t=r.val();var n=r[0].selectionStart;var i=r[0].selectionEnd;var o=a(t,n);var s=a(t,i);e.replicateSelection(o,s,{scroll:false})}var s;var l;function c(){if(!i){if(r[0].selectionStart!==s||r[0].selectionEnd!==l){s=r[0].selectionStart;l=r[0].selectionEnd;o()}setTimeout(c,200)}}setTimeout(c,200)}t.$watch("helpMode",(function(e){e?n.hide():n.show()}));var o=t.$watch("codeareaTouchApi",(function(e){if(e){a(e);o()}}));t.$on("$destroy",(function(){i=true;r=void 0}))}}}]);a["default"].directive("qvCodeareaBlockLargePastes",[function(){var e=function e(t){if(""===t||Number.isNaN(+t))return 1e6;return t};var t=function e(t){if(t.originalEvent.clipboardData)return t.originalEvent.clipboardData.getData("text/plain").length;return window.clipboardData.getData("Text").length};return{restrict:"A",controller:["$scope","$element","$attrs",function(n,r,i){r.find("textarea").on("paste",(function(n){t(n)>e(i.qvCodeareaBlockLargePastes)&&n.preventDefault()}));n.$on("$destroy",(function(){r.find("textarea").off("paste")}))}]}}]);a["default"].directive("qvCodeareaExposedGutterWidth",["$parse","$timeout",function(e,t){return{require:"qvCodearea",link:function n(r,a,o,s){var l=e(o.qvCodeareaExposedGutterWidth);r.$watch((function(){return String(s.codemirror.lineCount()).length}),(function(){var e=i()(s.codemirror.getGutterElement()).outerWidth();l.assign(r,e);t((function(){var e=i()(s.codemirror.getGutterElement()).outerWidth();l.assign(r,e)}))}));r.$on("$destroy",(function(){l.assign(r,void 0)}))},controller:function e(){}}}]);var oe="CodeMirror-text-in-composition";var se={inclusiveLeft:true,inclusiveRight:true,className:oe};function le(e){var t;var n=e.getAllMarks();for(var r=0;r<n.length;r++){t=n[r];null!=t&&t.className===oe&&t.clear()}return true}var ce;var ue;var de;var fe;var pe;var he;var ve;var me;var ge;var be;var ye;function we(e,t){var n=t;e.options.enableCompositionMod=true;pe=function t(){he&&he();e.display.input.blur();e.display.input.focus()};fe=function t(n){ve=n.char;he&&he();if(e.display.inCompositionMode){var r=e.getCursor();var i=e.display.compositionHead;var a=e.charCoords(r).left-e.charCoords(i).left;a+=void 0!==ve?30:1;e.display.input.style.width="".concat(a,"px")}};ce=function t(){if(e.options.enableCompositionMod){ye.disabled=true;e.display.inCompositionMode=true;ge=n.offset();e.display.inputDiv.classList.add("CodeMirror-input-wrapper");e.display.inputDiv.classList.add("in-composition");e.setOption("readOnly",true);e.somethingSelected()&&e.replaceSelection("");e.display.compositionHead=e.getCursor();void 0===ve?e.display.input.value="":" "===ve&&ue({data:" "})}};ue=function t(n){var r;var i;if(!e.options.enableCompositionMod||!e.display.inCompositionMode)return;var a=e.display.compositionHead;if(e.display.textMarkerInComposition){r=e.display.textMarkerInComposition.find();if(r){e.replaceRange(n.data,a,r.to);e.display.textMarkerInComposition.clear();e.display.textMarkerInComposition=void 0}}else e.replaceRange(n.data,a,a);var o=e.getCursor();i=e.charCoords(o).left-e.charCoords(a).left;void 0===ve&&(i+=1);e.display.input.style.width="".concat(i,"px");e.display.textMarkerInComposition=e.markText(a,o,se);me()};function r(){var e=window.navigator.userAgent;var t=e.indexOf("MSIE ");return t>0||!!navigator.userAgent.match(/Trident.*rv:11\./)}de=function t(n){var i;if(!e.options.enableCompositionMod||!e.display.inCompositionMode)return;r()?"\b"===ve&&ue(n):ue(n);e.display.inCompositionMode=false;e.display.compositionHead=void 0;null!=(i=e.display.textMarkerInComposition)&&i.clear();e.display.textMarkerInComposition=void 0;e.setOption("readOnly",false);e.display.inputDiv.classList.remove("in-composition");e.display.inputDiv.classList.remove("CodeMirror-input-wrapper");le(e);he=function t(){ye.disabled=false;s.a.off(e.display.input,"input",he);if(!e.display.inCompositionMode){e.display.input.value="";e.display.input.style.width="0px";he=void 0}};s.a.on(e.display.input,"input",he)};me=function t(){if(e.display.inCompositionMode){var n=e.charCoords(e.display.compositionHead).top-ge.top;void 0!==ve&&(n-=1);e.display.inputDiv.style.top="".concat(n,"px");var r=e.charCoords(e.display.compositionHead).left-ge.left;e.display.inputDiv.style.left="".concat(r,"px")}};be=function t(n){var r=i()(e.display.scroller);r.scrollTop(r.scrollTop()-n.wheelDelta)}}a["default"].directive("qvCodeareaCompositionEvent",[function(){return{restrict:"A",require:"qvCodearea",link:function e(t,n,r,a){we(a.codemirror,n);var o=a.codemirror.display.input;var l=t.$watch(r.qvCodeareaAutocomplete,(function(e){ye=e;l()}));l=t.$watch("codeareaTouchApi",(function(e){if(e){e.onResize((function(){me()}));e.onScroll((function(){me()}));l()}}));i()(window).on("resize",me);s.a.on(a.codemirror,"mousedown",pe);s.a.on(o,"keydown",fe);s.a.on(o,"compositionstart",ce);s.a.on(o,"compositionupdate",ue);s.a.on(o,"compositionend",de);s.a.on(o,"mousedown",pe);s.a.on(o,"mousewheel",be);t.$on("$destroy",(function(){i()(window).off("resize",me);s.a.off(a.codemirror,"mousedown",pe);s.a.off(o,"compositionstart",ce);s.a.off(o,"keydown",fe);s.a.off(o,"compositionupdate",ue);s.a.off(o,"compositionend",de);s.a.off(o,"input",he);s.a.off(o,"mousedown",pe);s.a.off(o,"mousewheel",be)}))}}}])},gl1R:function(e,t,n){"use strict";var r=n("2Hli");var i={getDimensions:function e(t){return r["a"].getValue(t,"qHyperCubeDef.qDimensions",[])},getNumDimensions:function e(t){return r["a"].getValue(t,"qHyperCubeDef.qDimensions.length",0)},getMeasures:function e(t){return r["a"].getValue(t,"qHyperCubeDef.qMeasures",[])},getNumMeasures:function e(t){return r["a"].getValue(t,"qHyperCubeDef.qMeasures.length",0)},getDimensionLayouts:function e(t,n){var i=r["a"].getValue(t,n?"".concat(n,".qHyperCube"):"qHyperCube",null);if(i)return i.qDimensionInfo;return[]},getDimensionLayout:function e(t,n,r){return this.getDimensionLayouts(n,r).filter((function(e){return t===e.cId}))[0]},getMeasureLayouts:function e(t,n){var i=r["a"].getValue(t,n?"".concat(n,".qHyperCube"):"qHyperCube",null);if(i)return i.qMeasureInfo;return[]},getMeasureLayout:function e(t,n,r){return this.getMeasureLayouts(n,r).filter((function(e){return t===e.cId}))[0]}};t["a"]=i},goAJ:function(e,t,n){"use strict";var r=n("sWge");var i=n("LoC2");var a=n("ZszH");var o=n("9oDI");var s={getAggregationForExpression:l,getAggregationForFieldItem:c};t["a"]=s;function l(e,t,n){if(!e||"string"!==typeof e)throw new Error("Aggregation-retriever: Expression must be a string");if(!t)throw new Error("Aggregation-retriever: App is required");if(!n||"function"!==typeof n)throw new Error("Aggregation-retriever: FindFieldFn is required");var r=a["a"].getNormalizedExpression(e);if(i["a"].has(r))return u(r);var o=t.getFieldList().then((function(e){var t=n(r,e);var i=t?d(t):f();return p(i)}));return o}function c(e){if(!e)throw new Error("Aggregation-retriever: FieldItem is required");if(!e.value&&!e.name&&!e.qName)throw new Error("Aggregation-retriever: Either FieldItem.value, FieldItem.name or FieldItem.qName is required");var t=e.value||e.name||e.qName;var n=a["a"].getNormalizedExpression(t);if(i["a"].has(n))return u(n);var o=d(e);return r["a"].when(p(o))}function u(e){var t=i["a"].get(e);return r["a"].when(p(t))}function d(e){if(e.defaultAggregation)return e.defaultAggregation;var t=e.qTags||[];return t.indexOf("$numeric")>-1?"Sum":"Count"}function f(){return o["a"].FALLBACK_FUNCTION}function p(e){return a["a"].getFormattedAggregation(e)}},"h/48":function(e,t,n){"use strict";t["a"]={EQUAL:{value:"="},GREATER_THAN:{value:">"},LESS_THAN:{value:"<"},GREATER_THAN_EQUAL:{value:">="},LESS_THAN_EQUAL:{value:"<="},AND:{value:"and"},OR:{value:"or"},CONTAINS:{value:"contains"}}},h2z3:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("6uJb");var a=n("obmW");var o=n("acVu");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function c(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e}var u="Not supported in this object, need to implement in subclass.";var d=function(){function e(t){s(this,e);t=t||{};this.dimensionDefinition=t.dimensionDefinition||{max:0};this.measureDefinition=t.measureDefinition||{max:0};t.dimensionDefinition&&(this.dimensionProperties=t.dimensionProperties||{});t.measureDefinition&&(this.measureProperties=t.measureProperties||{});t.globalChangeListeners&&(this.globalChangeListeners=t.globalChangeListeners);t.addDimensionLabel&&(this.addDimensionLabel=t.addDimensionLabel);this.app=t.app}c(e,[{key:"setProperties",value:function e(t){this.properties=t}},{key:"setGlobalChangeListeners",value:function e(t){this.globalChangeListeners=t}},{key:"setLayout",value:function e(t){this.layout=t}},{key:"type",value:function e(){throw new Error("Must override this method")}},{key:"getDimensions",value:function e(){return[]}},{key:"getDimension",value:function e(t){var n=this.getDimensions();var r=0;for(r;r<n.length;++r)if(n[r].qDef.cId===t)return n[r];return null}},{key:"minDimensions",value:function e(){if("function"===typeof this.dimensionDefinition.min)return this.dimensionDefinition.min.call(null,this.properties,this);return this.dimensionDefinition.min||0}},{key:"maxDimensions",value:function e(t){t=t||0;if("function"===typeof this.dimensionDefinition.max)return this.dimensionDefinition.max.call(null,this.getMeasures().length-t);return Number.isNaN(+this.dimensionDefinition.max)?1e4:this.dimensionDefinition.max}},{key:"canAddDimension",value:function e(){return this.getDimensions().length<this.maxDimensions()}},{key:"minMeasures",value:function e(){if("function"===typeof this.measureDefinition.min)return this.measureDefinition.min.call(null,this.properties,this);return this.measureDefinition.min||0}},{key:"maxMeasures",value:function e(t){t=t||0;if("function"===typeof this.measureDefinition.max)return this.measureDefinition.max.call(null,this.getDimensions().length-t);return Number.isNaN(+this.measureDefinition.max)?1e4:this.measureDefinition.max}},{key:"canAddMeasure",value:function e(){return this.getMeasures().length<this.maxMeasures()}},{key:"getMeasures",value:function e(){return[]}},{key:"getLabels",value:function e(){return[]}},{key:"getMeasure",value:function e(t){var n=this.getMeasures();var r=0;for(r;r<n.length;++r)if(n[r].qDef.cId===t)return n[r];return null}},{key:"addDimension",value:function e(){throw u}},{key:"getSorting",value:function e(){throw u}},{key:"addFieldDimension",value:function e(t,n,r){var i=this.createFieldDimension(t,n,r);return this.addDimension(i)}},{key:"addLibraryDimension",value:function e(t,n){var r=this.createLibraryDimension(t,n);return this.addDimension(r)}},{key:"addMeasure",value:function e(){throw u}},{key:"addExpressionMeasure",value:function e(t,n,r){var i=this.createExpressionMeasure(t,n,r);return this.addMeasure(i)}},{key:"addLibraryMeasure",value:function e(t,n){var r=this.createLibraryMeasure(t,n);return this.addMeasure(r)}},{key:"addAlternativeFieldDimension",value:function e(t,n,r){var i=this.createFieldDimension(t,n,r);return this.addDimension(i,true)}},{key:"addAlternativeLibraryDimension",value:function e(t,n){var r=this.createLibraryDimension(t,n);return this.addDimension(r,true)}},{key:"addAlternativeExpressionMeasure",value:function e(t,n,r){var i=this.createExpressionMeasure(t,n,r);return this.addMeasure(i,true)}},{key:"addAlternativeLibraryMeasure",value:function e(t,n){var r=this.createLibraryMeasure(t,n);return this.addMeasure(r,true)}},{key:"replaceDimension",value:function e(){throw u}},{key:"replaceMeasure",value:function e(){throw u}},{key:"autoSortDimension",value:function e(){throw u}},{key:"autoSortMeasure",value:function e(){throw u}},{key:"createFieldDimension",value:function e(t,n,i){var a=r["a"].extend(true,{},this.dimensionProperties||{},i||{});a.qDef||(a.qDef={});a.qOtherTotalSpec||(a.qOtherTotalSpec={});if(t){a.qDef.qFieldDefs=[t];a.qDef.qFieldLabels=n?[n]:[""];a.qDef.qSortCriterias=[{qSortByLoadOrder:1}]}else{a.qDef.qFieldDefs=[];a.qDef.qFieldLabels=[];a.qDef.qSortCriterias=[]}a.qDef.autoSort=true;return a}},{key:"createLibraryDimension",value:function e(t,n){var i=r["a"].extend(true,{},this.dimensionProperties||{},n||{});i.qDef||(i.qDef={});i.qOtherTotalSpec||(i.qOtherTotalSpec={});i.qLibraryId=t;i.qDef.qSortCriterias=[{qSortByLoadOrder:1}];i.qDef.autoSort=true;delete i.qDef.qFieldDefs;delete i.qDef.qFieldLabels;return i}},{key:"createExpressionMeasure",value:function e(t,n,i){var a=r["a"].extend(true,{},this.measureProperties||{},i||{});a.qDef||(a.qDef={});a.qDef.qNumFormat||(a.qDef.qNumFormat={});a.qDef.qDef=t;a.qDef.qLabel=n;a.qDef.autoSort=true;return a}},{key:"createLibraryMeasure",value:function e(t,n){var i=r["a"].extend(true,{},this.measureProperties||{},n||{});i.qDef||(i.qDef={});i.qDef.qNumFormat||(i.qDef.qNumFormat={});Object(o["b"])("MASTER_MEASURE_FORMAT")&&a["a"].useMasterNumberFormat(i.qDef);i.qLibraryId=t;i.qDef.autoSort=true;delete i.qDef.qDef;delete i.qDef.qLabel;return i}},{key:"updateGlobalChangeListeners",value:function e(){var t=this;this.globalChangeListeners&&(this.globalChangeListeners||[]).forEach((function(e){e&&"function"===typeof e&&e(t.properties,t)}))}},{key:"removeDimension",value:function e(){throw u}},{key:"removeMeasure",value:function e(){throw u}},{key:"moveDimension",value:function e(){throw u}},{key:"moveMeasure",value:function e(){throw u}},{key:"changeSorting",value:function e(){throw u}},{key:"getAddDimensionLabel",value:function e(){return this.addDimensionLabel||i["default"].get("Visualization.Requirements.AddDimension")}}]);return e}();t["a"]=d},"hE/5":function(e,t,n){"use strict";t["a"]={sectionIDs:{template:"template",extensions:"extensions",field:"field",time:"time",dimension:"dimension",measure:"measure",visualization:"visualization",odag:"odag",dynamic:"dynamic"}}},hEIc:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("G1wx");t["a"]={configureTouchSupport:function e(){i()(document.body.parentElement).addClass("touch-".concat(a["a"].treatAsDesktop()?"off":"on"))}}},hIUR:function(e,t,n){"use strict";var r=n("4nJ1");function i(e){var t=function e(t){return t.qcy*t.qcx===0};var n=a(e);var r=n.some((function(e){if(e.qSize&&false===t(e.qSize))return true;return false}));return!r}function a(e){var t=["qHyperCube","qUndoExclude.box.qHyperCube","boxplotDef.qHyperCube","qUndoExclude.qHyperCubeDef","qUndoExclude.generated.qHyperCubeDef","qUndoExclude.generated.qHyperCube"];var n=[];t.forEach((function(t){var i=r["a"].getValue(e,t,false);i&&n.push(i)}));return n}function o(e,t,n){var r=e?e[t]:void 0;if(r)return r.state===n;return false}t["a"]={checkCurrentState:o,hasNoDataToExport:i}},hL0k:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");var a=n("9Ggg");var o=a["a"].isSuffixInUse("noData");var s=false;var l=o;function c(){r["a"].getApp().then((function(e){e.getLayout().then((function(t){if(!s&&!t.qIsOpenedWithoutData){s=true;l=false;e.Invalidated.unbind(c)}}))}))}o&&r["a"].getApp().then((function(e){e.Invalidated.bind(c)}));t["a"]={defaultTimeFormatPromise:void 0,getDefaultTimeFormat:function e(){if(this.defaultTimeFormatPromise)return this.defaultTimeFormatPromise;this.defaultTimeFormatPromise=r["a"].getApp().then((function(e){return e.getScript().then((function(t){var n=/DateFormat='(.*)';/g;var r=/TimestampFormat='(.*)';/g;var a=n.exec(t.qScript);var o;var s;a&&(o=a[1]);a=r.exec(t.qScript);a&&(s=a[1]);if(!o||!s)return e.getEmptyScript().then((function(e){o||(o=n.exec(e)[1]);s||(s=r.exec(e)[1]);return{dateFormat:s,timestampFormat:s}}));return i["a"].resolve({dateFormat:o,timestampFormat:s})}))}));return this.defaultTimeFormatPromise},isNoData:function e(){return l}}},hPNO:function(e,t,n){"use strict";var r=n("TmNk");var i=n.n(r);var a=n("mWu2");var o=n("4nJ1");var s=n("sWge");var l=n("I+mr");var c=n("q6LT");function u(e,t){if(t){if(e[t]){if(e[t].qHyperCube)return"".concat(t,".qHyperCube");if(e[t].qListObject)return"".concat(t,".qListObject")}if(-1!==t.indexOf("Def",t.length-3))return t.slice(0,t.length-3);return t}if(e.qHyperCube)return"qHyperCube";return"qListObject"}var d=c["a"].extend("GenericApi",{init:function e(t,n){var r=u(t.layout,n);this._super(t,"/".concat(r,"Def"));this.isHyperCube=-1!==this.dataPath.indexOf("qHyperCube");this.cacheCube.setMethodName(this.isHyperCube?"getHyperCubeData":"getListObjectData")},getBackendApi:function e(t){return new d(this.model,t)},getProperties:function e(){return this.model.getProperties()},setProperties:function e(t){return this.model.setProperties(t)},applyPatches:function e(t,n){return this.model.applyPatches(t,n)},clearSoftPatches:function e(){return this.model.clearSoftPatches()},save:function e(){return this.model.setProperties(this.model.properties)},clearSelections:function e(){return this.model.resetMadeSelections()},updateCache:function e(t){if(t&&t[this.dataPath]){this.cacheCube.set(t[this.dataPath].qDataPages);this.cacheCube.setCubeSize(t[this.dataPath].qSize)}else this.cacheCube.clear()},getData:function e(t){var n=this.cacheCube.getData(t);var r=this;n.then((function(e){r.model.layout[r.dataPath].qDataPages.push(e[0])}));return n},getDataRow:function e(t){var n=this.model.layout[this.dataPath];if(n){var r=n.qDataPages.length;for(var i=0;i<r;i++){var a=n.qDataPages[i];if(t>=a.qArea.qTop&&t<a.qArea.qTop+a.qArea.qHeight)return a.qMatrix[t-a.qArea.qTop]}}return null},selectValues:function e(t,n,r){if(this.isHyperCube)return this.model.selectHyperCubeValues(this.path,t,n,r);return this.model.selectListObjectValues(this.path,n,r)},select:function e(t,n,r){return this.selectValues(n,t,r)},getReducedData:function e(t,n,r){if(this.isHyperCube)return this.model.getHyperCubeReducedData(this.path,t,n,r||"D1");return null},selectRange:function e(t,n,r){n=!!n;r=r||[];return this.model.rangeSelectHyperCubeValues(this.path,t,r,n)},search:function e(t){if(this.isHyperCube)return null;return this.model.searchListObjectFor(this.path,t)},abortSearch:function e(){if(this.isHyperCube)return null;return this.model.abortListObjectSearch(this.path)},acceptSearch:function e(t){if(this.isHyperCube)return null;return this.model.acceptListObjectSearch(this.path,t)},getPivotData:function e(t){if(this.isHyperCube)return this.model.getHyperCubePivotData(this.path,t);return null},getStackData:function e(t,n){if(this.isHyperCube)return this.model.getHyperCubeStackData(this.path,t,n||1e3);return null},expandTop:function e(t,n,r){return this.model.expandTop(this.path,t,n,r||false)},expandLeft:function e(t,n,r){return this.model.expandLeft(this.path,t,n,r||false)},collapseTop:function e(t,n,r){return this.model.collapseTop(this.path,t,n,r)},collapseLeft:function e(t,n,r){return this.model.collapseLeft(this.path,t,n,r)}});var f=d;var p=n("/5Yl");var h=n("bTsw");var v=n("cMY5");var m='<div style="height: 100%; position: relative;"></div>\n';var g=n("2n0V");var b=n("oxue");var y=n("4zDG");var w=n("qYY7");var S=n("TLJm");var x=n("KBmc");var C=n("z4LI");function q(e,t){var n=l["a"].getHyperCube(e,t);if(n)return n.qDimensionInfo||[];if(e.qChildList){var r=e.qChildList.qItems||[];return r.map((function(){return{}}))}var i=!e.qListObject||!e.qListObject.qDimensionInfo||e.qListObject.qDimensionInfo.qError;return i?[]:[e.qListObject.qDimensionInfo]}function E(e,t){var n=l["a"].getHyperCube(e,t);return n&&n.qMeasureInfo||[]}function I(e,t,n){var r;var i;var a;var o;var s;var l;for(r=0;r<e.data.length;++r){for(i=0;i<e.data[r].dimensions.length;++i){a=e.data[r].dimensions[i];if(a.qLibraryId){s=b["a"].findLibraryDimension(a.qLibraryId,t);s&&(a.title=s.qData.title)}}for(i=0;i<e.data[r].measures.length;++i){o=e.data[r].measures[i];if(o.qLibraryId){l=b["a"].findLibraryMeasure(o.qLibraryId,n);l&&(o.title=l.qData.title)}}for(i=0;i<e.data[r].excludedDimensions.length;++i){a=e.data[r].excludedDimensions[i];if(a.qLibraryId){s=b["a"].findLibraryDimension(a.qLibraryId,t);s&&(a.title=s.qData.title)}}for(i=0;i<e.data[r].excludedMeasures.length;++i){o=e.data[r].excludedMeasures[i];if(o.qLibraryId){l=b["a"].findLibraryMeasure(o.qLibraryId,n);l&&(o.title=l.qData.title)}}}}function k(e){var t=e.model,n=e.newType,r=e.objectPropTree;var i=C["a"].model.moveObject&&"masterobject"!==r.qProperty.qInfo.qType?C["a"].model:null;if(i)return i.getFullPropertyTree().then((function(e){e.qProperty.cells.forEach((function(e){e.name===t.id&&(e.type=n)}));e.qChildren.forEach((function(n,i){n.qProperty.qInfo.qId===t.id&&(e.qChildren[i]=r)}));return i.setFullPropertyTree(e)}));return t.setFullPropertyTree(r)}var A=t["a"]={BackendApi:f,template:m,hasDefaultTemplate:function e(){return this.template===m},mapProperties:function e(){this.mappedDefinition=p["a"].mapDefinition(this.definition,this.type);this.globalChangeListeners=p["a"].findGlobalListeners(this.mappedDefinition);var t=this.data&&this.data.dimensions;if(t){t.min="undefined"!==typeof t.min?t.min:1;t.max="undefined"!==typeof t.max?t.max:1e3}else if(!this.data){t=p["a"].findDefinition(this.mappedDefinition,"qHyperCubeDef.qDimensions",true);t||(t=p["a"].findDefinition(this.mappedDefinition,"qListObjectDef",true));t&&(t.obsolete=true)}this.dimensionDefinition=t;var n=this.data&&this.data.measures;if(n){n.min="undefined"!==typeof n.min?n.min:1;n.max="undefined"!==typeof n.max?n.max:1}else if(!this.data){n=p["a"].findDefinition(this.mappedDefinition,"qHyperCubeDef.qMeasures",true);n&&(n.obsolete=true)}this.measureDefinition=n},getDefaultDimensionProperties:function e(){if(this.dimensionDefinition&&this.dimensionDefinition.obsolete)return p["a"].mapProperties(this.dimensionDefinition);if(this.dimensionDefinition)return p["a"].mapProperties(this.mappedDefinition.items.data.items.dimensions);return},getDefaultMeasureProperties:function e(){if(this.measureDefinition&&this.measureDefinition.obsolete)return p["a"].mapProperties(this.measureDefinition);if(this.measureDefinition)return p["a"].mapProperties(this.mappedDefinition.items.data.items.measures);return},getCreatePropertyHandler:function e(t){var n=this.globalChangeListeners;var r=this.getDefaultDimensionProperties();var i=this.getDefaultMeasureProperties();if(this.model&&this.model.layout&&this.model.layout.qListObject){r=p["a"].mapProperties(this.dimensionDefinition);return new v["a"]({app:t,dimensionDefinition:this.dimensionDefinition,dimensionProperties:r})}return new h["a"]({app:t,dimensionDefinition:this.dimensionDefinition,measureDefinition:this.measureDefinition,dimensionProperties:r,measureProperties:i,globalChangeListeners:n})},mapSoftProperties:function e(){if(!this.softDefinition)return;var t=p["a"].mapDefinition(this.softDefinition,null,w["a"]);function n(e){var t=[{diffs:e.ref||e.sortIndexRef?[e.ref||e.sortIndexRef]:e.diffs||[]}];e.items&&Object.keys(e.items).forEach((function(r){t.push({diffs:n(e.items[r])})}));e._diffs=t;return t}n(t);this.mappedSoftDefinition=t},hasError:function e(t){var n=t.layout;var r=t.ext&&t.ext.options.hyperCubePath?n[t.ext.options.hyperCubePath].qHyperCube:n.qHyperCube;if(r)return!!r.qError;if(n.qListObject)return!!n.qListObject.qError;return false},showRequirements:function e(t){var n=t.ext.dimensionDefinition?t.ext.dimensionDefinition.min:0;var r=t.ext.measureDefinition?t.ext.measureDefinition.min:0;var i=q(t.layout,t.ext.options.hyperCubePath);var a=E(t.layout,t.ext.options.hyperCubePath);var o;function s(e){return e.qError&&e.qError.qErrorCode===S["a"].NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function l(e){return e&&e.qErrorCode!==S["a"].NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function c(e){return e.filter((function(e){return!s(e)})).length}var u=c(i);var d=c(a);"function"===typeof n&&(n=n.call(null,d));"function"===typeof r&&(r=r.call(null,u));if(n>0&&u<n)return true;for(o=0;o<i.length;++o)if(l(i[o].qError))return true;if(r>0&&d<r)return true;for(o=0;o<a.length;++o)if(l(a[o].qError))return true;return false},addFieldDimension:function e(t,n){return n.model.getProperties().then((function(e){var r=n.getCreatePropertyHandler();r.setProperties(e);return r.addFieldDimension(t.value,t.trimmedValue).then((function(t){r.updateGlobalChangeListeners();a["default"].$rootScope.$broadcast("pp-open-path","data.".concat(t.qDef.cId));return n.model.setProperties(e)}))}))},addLibraryDimension:function e(t,n){return n.model.getProperties().then((function(e){var r=n.getCreatePropertyHandler();r.setProperties(e);return r.addLibraryDimension(t.libraryId).then((function(t){r.updateGlobalChangeListeners();a["default"].$rootScope.$broadcast("pp-open-path","data.".concat(t.qDef.cId));return n.model.setProperties(e)}))}))},addLibraryMeasure:function e(t,n){return n.model.getProperties().then((function(e){var r=n.getCreatePropertyHandler();r.setProperties(e);return r.addLibraryMeasure(t.libraryId).then((function(t){r.updateGlobalChangeListeners();a["default"].$rootScope.$broadcast("pp-open-path","data.".concat(t.qDef.cId));n.model.setProperties(e)}))}))},addExpressionMeasure:function e(t,n){return n.model.getProperties().then((function(e){var r=n.getCreatePropertyHandler();r.setProperties(e);return r.addExpressionMeasure(t.value,t.trimmedValue).then((function(t){r.updateGlobalChangeListeners();a["default"].$rootScope.$broadcast("pp-open-path","data.".concat(t.qDef.cId));return n.model.setProperties(e)}))}))},getDropFieldOptions:function e(t,n,r,i,a){t.Add(r,n,a);t.ReplaceDimensions(r,n,a);t.AddFieldAsMeasure(r,n,a);t.ColorBy(r,n,a);i()},getDropDimensionOptions:function e(t,n,r,i,o){var s=n.getDimensions().length;if(s<n.minDimensions()||0===s&&s<n.maxDimensions())n.addLibraryDimension(t.item.id).then((function(e){r.setProperties(n.properties);a["default"].$rootScope.$broadcast("pp-open-path","data.".concat(e.qDef.cId))}));else{t.Add(r,n,o);t.ReplaceDimensions(r,n,o);t.ColorBy(r,n,o);i()}},getDropMeasureOptions:function e(t,n,r,i,o){var s=n.getMeasures().length;if(s<n.minMeasures()||0===s&&s<n.maxMeasures())"expression"===t.item.type?n.addExpressionMeasure(t.item.name,"").then((function(e){r.setProperties(n.properties);a["default"].$rootScope.$broadcast("pp-open-path","data.".concat(e.qDef.cId))})):n.addLibraryMeasure(t.item.id).then((function(e){r.setProperties(n.properties);a["default"].$rootScope.$broadcast("pp-open-path","data.".concat(e.qDef.cId))}));else{t.Add(r,n,o);t.ReplaceMeasures(r,n,o);t.ColorBy(r,n,o);i()}},getDropStateOptions:function e(t,n,r,i){t.ApplyAlternateState(r,n,t.item.id,"contextMenu.applyState");i()},getDropTemplateOptions:function e(t,n,r,i,a){var o=this;var s=g["a"].getType(t.item.template);var l=["contextMenu.convertTo",t.item.name];o.type!==s.type?s.getExtensionType().then((function(e){!a.isReadonly&&!r.layout.qHasSoftPatches&&o.exportProperties&&e.importProperties&&t.menu.addItem({translation:l,tid:"convert",select:function n(){o._convert(s,e,t.item,r)}});i()}),(function(){i()})):i()},getDropOptions:function e(t,n,r){var i=t.model;var a=this;var s={field:"getDropFieldOptions",dimension:"getDropDimensionOptions",measure:"getDropMeasureOptions",template:"getDropTemplateOptions",expression:"getDropMeasureOptions",state:"getDropStateOptions"};var l=n.item.type;var c=s[l];if(c)return i.getProperties().then((function(e){var s=t.getCreatePropertyHandler();var l=o["a"].extend(true,{},e);s.setProperties(l);s.setLayout(t.model&&t.model.layout);return a[c](n,s,i,r,t)}));r();return},_convert:function e(t,n,r,a){var l;var c;var u=this;return s["a"].all({initialProperties:t.getInitialProperties(r.init),propertyTree:u.model.getFullPropertyTree()}).then((function(e){try{l=u.exportProperties(e.propertyTree,u.options?u.options.hyperCubePath:void 0);return s["a"].all({dimensionList:u.model.app.getDimensionList(),measureList:u.model.app.getMeasureList()}).then((function(r){I(l,r.dimensionList,r.measureList);c=n.importProperties(l,e.initialProperties,n,n.options?n.options.hyperCubePath:void 0);o["a"].setValue(c.qProperty,"qInfo.qId",u.model.id);function d(){var e=o["a"].getValue(n,"support.modifiers");if(i.a.isSupportedModifiers(e)){var t=o["a"].getValue(c.qProperty,"qHyperCubeDef.qMeasures");return i.a.applyModifiers({model:a,properties:c.qProperty,measures:t}).then((function(){return x["a"].colorByUpdater(c.qProperty,"qHyperCubeDef.")}))}return s["a"].resolve()}return d().then((function(){return k({model:u.model,newType:t.type,objectPropTree:c})}))}))}catch(e){}return s["a"].resolve()}))},exportProperties:function e(t){if(t.qProperty.qHyperCubeDef)return y["default"].hypercube.exportProperties(t);if(t.qProperty.qListObjectDef)return y["default"].listbox.exportProperties(t);return y["default"].other.exportProperties(t)},importProperties:function e(t,n,r){if(n.qHyperCubeDef)return y["default"].hypercube.importProperties(t,n,r);if(n.qListObjectDef)return y["default"].listbox.importProperties(t,n,r);return y["default"].other.importProperties(t,n,r)},support:{cssScaling:false,sharing:false,colorBy:false,quickMobile:false,snapshot:false,export:false,exportData:true,viewData:false},options:{},hasNewType:function e(t,n){return t.type!==n}}},hVRC:function(e,t,n){"use strict";function r(e){return Math.round(100*e)/100}t["a"]={recalculateBounds:function e(t,n,r,i,a){if(t.bounds){var o;var s={x:t.bounds.x,y:t.bounds.y,width:t.bounds.width,height:t.bounds.height};if(n!==i){o=i/n;s.x/=o;s.width/=o}if(r!==a){o=a/r;s.y/=o;s.height/=o}return s}return this.getBounds(t,i,a)},compareBounds:function e(t,n){return t&&n&&t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},alignToGrid:function e(t,n){if(n.bounds){var r=this.getAligmentToGrid(n.bounds,t.columns,t.rows);n.row=r.row;n.col=r.col;n.rowspan=r.rowspan||1;n.colspan=r.colspan||1}return n},getAligmentToGrid:function e(t,n,i){var a={};a.row=Math.ceil(r(t.y/100*i));a.col=Math.ceil(r(t.x/100*n));a.rowspan=Math.floor(r(t.y/100*i+t.height/100*i))-a.row;a.colspan=Math.floor(r(t.x/100*n+t.width/100*n))-a.col;return a},hasMatchingBoundsAndPosition:function e(t,n,r){if(t.bounds&&void 0!==t.row){var i=this.alignToGrid({columns:n,rows:r},{bounds:t.bounds});return i.row===t.row&&i.col===t.col&&i.rowspan===t.rowspan&&i.colspan===t.colspan}return true},getInfluenceOnGrid:function e(t,n,i){var a=t;var o={};o.row=Math.floor(r(a.y/100*i));o.col=Math.floor(r(a.x/100*n));o.rowspan=Math.ceil(r(a.y/100*i+a.height/100*i))-o.row;o.colspan=Math.ceil(r(a.x/100*n+a.width/100*n))-o.col;return o},getBounds:function e(t,n,r){return{y:t.row/r*100,x:t.col/n*100,width:t.colspan/n*100,height:t.rowspan/r*100}},splitBounds:function e(t,n,r,i){var a;var o;if("left"===n||"right"===n){a=r%2;o=t.width/r*(r-a)/2;return{near:{width:o,x:t.x,y:t.y,height:t.height},far:{width:t.width/r*(r+a)/2,x:t.x+o,y:t.y,height:t.height}}}a=i%2;o=t.height/i*(i-a)/2;return{near:{width:t.width,x:t.x,y:t.y,height:o},far:{width:t.width,x:t.x,y:t.y+o,height:t.height/i*(i+a)/2}}},calculateCollapseHeight:function e(t,n){var r=0;for(var i=0;i<n.length;i++)n[i].row+n[i].rowspan>r&&(r=n[i].row+n[i].rowspan);var a=Math.floor(t.height-t.height*(r/t.rows));return a},calculateExtendedRowsAndHeight:function e(t,n){var r={height:t.height,rows:t.rows};t.height||(t.height=100);r.height=t.height+n;r.height<100&&(r.height=100);var i=r.rows/t.height*100;r.rows=Math.floor(i*r.height/100);return r}}},heHe:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("PoH+");var i=n.n(r);var a=n("4nJ1");function o(e){return u(e)||c(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function h(e,t,n){t&&p(e.prototype,t);n&&p(e,n);return e}var v=function(){function e(t){f(this,e);this.spec=t}h(e,[{key:"getDataTypes",value:function e(t,n){var r=this._getFields(t,n);var i=r.map((function(e){return e.recommendedDataType||e.dataType}));return a["a"].unique(i)}},{key:"getClassifications",value:function e(t,n){var r;var i=this._getFields(t,n);var s=i.map((function(e){return e.classifications}));s=(r=[]).concat.apply(r,o(s));return a["a"].unique(s)}},{key:"getSimplifiedClassifications",value:function e(t,n){var r;var i=this._getFields(t,n);var s=i.map((function(e){return e.simplifiedClassifications}));s=(r=[]).concat.apply(r,o(s));return a["a"].unique(s)}},{key:"getDefaultAggregation",value:function e(t,n){var r=this._getFields(t,n);return r[0].defaultAggregation}},{key:"_getFields",value:function e(t,n){var r=this;var a=[];n.forEach((function(e){var n=i.a.findWhere(r.spec.datasets,{name:e});if(n){var o=i.a.findWhere(n.fields,{name:t});o&&a.push(o)}}));return a}}]);return e}()},hisu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},hmfc:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("RM7h");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function s(e,t,n){t&&o(e.prototype,t);n&&o(e,n);return e}function l(e){return!!e.qIsAutoFormat&&["M","D","T","TS","IV"].indexOf(e.qNumFormat.qType)<0}var c=function(){function e(t,n){a(this,e);this.localeInfo=t;var i=this.getFormattersForMeasures(n);var o=r["a"].extend(true,[],i);if(o&&1===o.length&&n[0].isCustomFormatted)o=null;else{var s=0;for(var l=0;l<o.length;l++)if(n[l].isCustomFormatted){o[l]=null;s++}s===o.length&&(o=null)}this.measureFormatters=o;this.combinedMeasuresFormatter=this.getFormatterFromFormatters(i)}s(e,[{key:"createFormatter",value:function e(){return new i["a"](this.localeInfo)}},{key:"getLocaleInfo",value:function e(){return this.localeInfo||{}}},{key:"getFormatters",value:function e(){return this.measureFormatters||[]}},{key:"getMeasureFormatter",value:function e(t){if(this.measureFormatters&&this.measureFormatters[t])return this.measureFormatters[t];return}},{key:"getCombinedMeasuresFormatter",value:function e(){return this.combinedMeasuresFormatter}},{key:"formatMeasure",value:function e(t,n){var r=this.measureFormatters[n];if(r)return r.format(t);return t}},{key:"getFormatterFromFormatters",value:function e(t){var n=0;var r=0;var a;var o;var s;var l=0;var c=t?t.filter((function(e){return!!e.values&&!Number.isNaN(+e.values.range)})):[];var u;var d;if(t&&t.length){t.forEach((function(e){"U"===e.type||e.values&&Number.isNaN(+e.values.range)?r++:["D","T","TS","IV"].includes(e.type)?n=1:l=1;e.prepare();return e}));if(c.length){a=c.reduce((function(e,t){return Math.min(t.values.min,e)}),c[0].values.min);o=c.reduce((function(e,t){return Math.max(t.values.max,e)}),c[0].values.max);s=Math.abs(o-a)}if(n+l>1){d=t.filter((function(e){return"datetime"!==e.type}))[0]||{};u=new i["a"](this.localeInfo,d.pattern,d.thousandDelimiter,d.decimalDelimiter,"U");Number.isNaN(+s)||(u.pattern=u.createPatternFromRange(a,o,true))}else if(n+l===1&&0===r){d=t[0]||{};u=new i["a"](this.localeInfo,d.pattern,d.thousandDelimiter,d.decimalDelimiter,d.type)}else{d=t.filter((function(e){return"U"!==e.type}));d=d.length?d[0]:t[0]||{};u=new i["a"](this.localeInfo,d.pattern,d.thousandDelimiter,d.decimalDelimiter,d.type);Number.isNaN(+s)||"U"!==d.type||(u.pattern=u.createPatternFromRange(a,o,true))}u.prepare()}u||(u=new i["a"](this.localeInfo,"0"));return u}},{key:"getFormattersForMeasures",value:function e(t,n){var r=[];var a;if(t&&t.length){a=n?t.filter((function(e,t){return n.indexOf(t)>=0})):t;r=a.map((function(e){var t=l(e);var n=new i["a"](this.localeInfo,e.qNumFormat.qFmt,e.qNumFormat.qThou,e.qNumFormat.qDec,t?"U":e.qNumFormat.qType);var r=Math.abs(e.qMax-e.qMin);var a=Number.isNaN(+r);n.values={min:e.qMin,max:e.qMax,range:r};!a&&t&&(n.pattern=n.createPatternFromRange(e.qMin,e.qMax,true));n.prepare();return n}),this)}return r}}]);return e}();t["a"]=c},hmil:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=function(){function e(e,t){this.data=e,this.name=t}return e.prototype.getName=function(){return this.name},e.prototype.getFieldsReferencing=function(e){var t=new Array;return this.data.forEach((function(n){n.tableId===e.id&&t.push(n)})),t},e.prototype.replaceFieldReferences=function(e,t,n){for(var r=this.data.length-1;r>=0;r--){var i=this.data[r];i.tableId===e.tableId&&i.fieldId===e.fieldId&&(this.hasMappingForTable(t.id)?this.data.splice(r,1):(i.tableId=t.id,i.fieldId=n.id))}},e.prototype.getUniqueTableReferenceCount=function(){var e={};return this.data.forEach((function(t){e[t.tableId]=!0})),Object.keys(e).length},e.prototype.hasMappingForTable=function(e){var t=r.findWhere(this.data,{tableId:e}),n=!1;return t&&(n=!0),n},e}();t.Association=i},hpYt:function(e,t,n){"use strict";var r=n("st+L");var i=n("C5K+");var a=n("mWu2");var o=n("6uJb");var s=n("PX8M");var l=n("9Ggg");var c=n("hw1Z");var u="good";var d="warn";var f="bad";function p(e,t){e.canLoadData=true===t.canLoad;e.canLoadData||e.warnings.push(new g("AnalyzeModel.warning.cannotAdd"))}function h(e,t){t.circularReferences&&t.circularReferences.length>0&&e.warnings.push(new g("AnalyzeModel.warning.circularReferences"))}function v(e,t){t.syntheticKeys&&t.syntheticKeys.length>0&&e.warnings.push(new g("AnalyzeModel.warning.syntheticKeys",[t.syntheticKeys.length]))}function m(e){e.status=e.canLoadData?0===e.warnings.length?u:d:f}function g(e,t){this.messageKey=e;this.args=t;this.message=o["default"].get(e,t)}var b={get:function e(t){t=t||{};var n={status:u,canLoadData:false,warnings:[]};p(n,t);h(n,t);v(n,t);m(n);return n}};var y=b;var w=n("2zlL");var S=n("1qo9");var x=n("rR8D");var C=n("UOQJ");var q=n("RZ9f");var E=n("/irJ");var I=n("5Zq0");var k=n("dhFh");var A=n("AuIc");var T=n("acVu");function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function L(e,t,n){t&&O(e.prototype,t);n&&O(e,n);return e}var M=a["default"].getService("$q");var P=function(){function e(){D(this,e)}L(e,[{key:"loadMultipleFiles",value:function e(t){var n=_();return S["a"].runDataLoadFlow(x["a"].createLoadDataFilesFlowForServer(t)).finally((function(){n.close();E["a"].goToDataManager()}))}},{key:"updateLoadSelectStatements",value:function e(t,n,r,i){return N(t,n,r,i)}},{key:"getSelectedTables",value:function e(t,n){var r=[];var i=t.activeConnector;n.tableModels.forEach((function(e){var t=e.data.connectionInfo;t.connectionString===i.connectionString&&t.name===i.name&&t.sourceConnectorID===i.sourceConnectorID&&t.typeName===i.typeName&&("new"===e.data.state||"modified"===e.data.state||e.data.fields.length>0&&!e.data.fields[0].id)&&r.push(e)}));return r}},{key:"loadData",value:function e(){var t=this;return k["a"].getDataLoadInput().then((function(e){if(!i["LoadModelHelpers"].areSourceFieldAliasesUnique(e.newLoadModel)){C["a"].show({title:"DataManager.Error.Title",message:"DataManager.Error.NoDuplicateFieldNames"});return}var n=e.qvInternals.activeConnector.type&&e.qvInternals.activeConnector.type.isIframeCompatible;return A["a"].sanitizeTables(e.newLoadModel.tableModels).then((function(){var r=t.getSelectedTables(e.qvInternals,e.newLoadModel);r.forEach((function(e){e.data.loadProperties||(e.data.loadProperties={});e.data.loadProperties.profiling="off"}));var i=_();var a=e.newLoadModel.rawClone();return N(a,r,n).then((function(){return F().then((function(){return R(a).then((function(t){i.close();if(t.canLoadData)return e.loadModelRunner.runMainLoadModelGraphically(a,e.existingLoadModel);return M.reject(t)}))}))}))}))}))}},{key:"prepareData",value:function e(){var t=this;return k["a"].getDataLoadInput().then((function(e){q["a"].trackEvent(q["a"].customEvents.ADD_DATA_BY_CONNECTOR,{connector_name:e.qvInternals.activeConnector.name,connector_typename:e.qvInternals.activeConnector.typeName,connector_id:e.qvInternals.activeConnector.id});q["a"].trackEvent(q["a"].customEvents.DATA_MANAGER_TABLES_COUNT,{tables_count:e.newLoadModel.tableModels.length});var n=e.qvInternals.activeConnector.type&&e.qvInternals.activeConnector.type.isIframeCompatible;return A["a"].sanitizeTables(e.newLoadModel.tableModels).then((function(){var i=t.getSelectedTables(e.qvInternals,e.newLoadModel);A["a"].reset();var a=_(i);i.forEach((function(e){e.data.loadProperties&&delete e.data.loadProperties.profiling}));r["DSFieldsQualifications"].qualifyNewDuplicatedFieldNames(e.existingLoadModel,e.newLoadModel,r["DSFieldsQualifications"].FLAGS.DetectAutoConcatenate.Yes);return N(e.newLoadModel,i,n).then((function(){a.close();return F().then((function(){return e.loadModelRunner.runLoadModelToDataManagerGraphically(e.existingLoadModel,e.newLoadModel,e.tableModelToEdit?e.tableModelToEdit.data.id:null)}))}))}))}))}}]);return e}();function N(e,t,n,r){w["a"].forceConnectionListUpdate();var i=e.tableModels.map((function(e){var i=t.some((function(t){return t.data.id===e.data.id}));if(i)return w["a"].getLoadSelectStatement(e.data,void 0,n,r).then((function(t){e.data.loadSelectStatement=t&&t.loadSelectStatement;e.data.selectStatement=t&&t.selectStatement}));return}));return M.all(i).then((function(){e.serialize()}))}function R(e){return s["a"].getApp().then((function(t){return t.getLayout().then((function(t){var n=t.qIsOpenedWithoutData||l["a"].isSuffixInUse("noData");return c["a"].get().then((function(t){return t.analyzeModel(e,n).then((function(e){var t=y.get(e);return t}))}))}))}))}function F(){if(Object(T["b"])("DATAPREP_REST"))return c["a"].get().then((function(e){return e.getRestService().then((function(e){return e.getProgress()}))}));return M.resolve()}function _(){return I["a"].show({title:o["default"].get("AnalyzeModel.title"),message:o["default"].get("AnalyzeModel.loading.message")})}var j=t["a"]=new P},hw1Z:function(e,t,n){"use strict";var r=n("gAHE");var i=n("sWge");var a=n("iqy1");var o=n("u/FM");var s=n("wSFN");var l=n("NFdj");var c=n.n(l);var u=n("ai+P");var d=n("5Pwf");function f(e){e=e.clone();var t=d["a"].global;var n=d["a"].getCurrentApp();function r(){return n.getScript().then((function(e){return u["a"].createQScriptModelFromRawText(t,n,e.qScript,[],[])}))}function a(){return r().then((function(e){var t={prefix:[],suffix:[]};var n=t.prefix;e.tabs.forEach((function(e){e.autogenerated?n=t.suffix:n.push({type:"verbatimStatement",content:"///$tab ".concat(e.name,"\n").concat(e.content)})}));return t}))}function o(){var t=e.tableModels.map((function(t){var n=c.a.extend({},t.data,{dataconnectorName:t.data.dataconnectorName,connectionInfo:e.getConnectionMetaDataModel(t.data.dataconnectorName)});n.fields=n.fields.filter((function(e){return e.selected}));return n})).filter((function(e){return e&&e.connectionInfo}));return t}function s(e,t){var n=t.tableAlias||t.tableName;var r=n;var i=1;while(e.journal[r])r="".concat(n,"-").concat(i++);e.journal[r]=true;return t}function l(e){return i["a"].all(o().map((function(t){return s(e,t)})))}var f={journal:{}};return i["a"].all([a(f),l(f)]).then((function(t){var n={schemaVersion:2,prefix:t[0].prefix,suffix:t[0].suffix,tables:t[1]};n.queries=e.queries;n.associations=e.associations;n.locale=e.locale;n.defaultCalendar=e.defaultCalendar;return n}))}var p={extend:f};var h=n("UOQJ");var v=n("4nJ1");var m=n("6uJb");var g=n("TMGN");function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function w(e,t,n){t&&y(e.prototype,t);n&&y(e,n);return e}var S={};var x=false;function C(e){var t=e.error;var n;if(e.consoleOnly)throw e;if((null===t||void 0===t?void 0:t.dpsError)&&!(null===t||void 0===t?void 0:t.dpsHandled)){t instanceof Object&&t.message&&(n=t.parameters?m["default"].get(t.name,t.parameters):m["default"].get(t.name));if(!x){x=true;h["a"].show({title:m["default"].get("DataManager.Error.Title"),message:n}).closed.then((function(){x=false}))}}throw e}var q=function(){function e(t){b(this,e);var n=this;this.dps=null;this.waitForOpen=null;this.errorHandler=t;this.dataPrepProcessor=new o["a"];this.waitForOpen=new i["a"];r["Translator"].loadLanguageBundle(m["default"].localeDetected,(function(){a["a"].get().then((function(e){n.dps=e;s["default"].getLoadModel().then((function(e){n.loadModel=e;n.waitForOpen.resolve(n)}))}),(function(e){n.errorHandler(e);n.waitForOpen.reject(e)}))}))}w(e,[{key:"subscribe",value:function e(t,n){var r=this;this.waitForOpen.promise.then((function(){r.dps.subscribe(t,n)}))}},{key:"unsubscribe",value:function e(t,n){var r=this;this.waitForOpen.promise.then((function(){r.dps.unsubscribe(t,n)}))}},{key:"analyzeModel",value:function e(t){var n=this;return p.extend(t||n.loadModel).then((function(e){return n.dps.analyzeModel(e).then((function(e){return e.result}))})).catch(n.errorHandler)}},{key:"getAndApplyClassificationData",value:function e(t,n){var r=this;var i=t||r.loadModel;return p.extend(i).then((function(e){var t={};t.detectAssociations=false;return r.dps.getRecommendations(e,t).then((function(e){e.result&&e.result.classificationResult&&r.dataPrepProcessor.applyLoadModelClassification(i,e.result.classificationResult,n)})).then((function(){return s["default"].updateProperties(i.serialize())}))})).catch(r.errorHandler)}},{key:"updateSources",value:function e(t,n){var r=this;n=n||[];return p.extend(t||r.loadModel).then((function(e){return r.dps.updateSources(e,n,{}).then((function(e){return e.result}))})).catch(r.errorHandler)}},{key:"getTargetTables",value:function e(t,n){n=void 0!==n&&n;var r=this;t||(t=false);return p.extend(r.loadModel).then((function(e){return r.dps.getTargetTables(e,{forceReload:t,noData:n}).then((function(e){return r.dataPrepProcessor.processTargetTablesResponse(e.result,r.loadModel)}))})).catch(r.errorHandler)}},{key:"warmUpDPS",value:function e(t){t=void 0!==t&&t;var n=this;return p.extend(n.loadModel).then((function(e){return n.dps.warmUpDPS(e,{forceReload:false,noData:t}).then((function(e){return n.dataPrepProcessor.processTargetTablesResponse(e.result)}))})).catch(n.errorHandler)}},{key:"getTableFields",value:function e(t){var n=this;return p.extend(n.loadModel).then((function(e){return n.dps.getTableFields(e,t,{}).then((function(e){return e.result}))})).catch(n.errorHandler)}},{key:"getTargetTablePreview",value:function e(t,n){n=void 0!==n&&n;var r=this;return p.extend(r.loadModel).then((function(e){return r.dps.getTablePreview(e,t,{noData:n}).then((function(e){e.result.fields||e.result.sourceQueries&&(e.result.fields=e.result.res.result.sourceQueries[0].fields);return e.result}))})).catch(r.errorHandler)}},{key:"getLoadScript",value:function e(t,n,r){n=void 0!==n&&n;var i=this;var a={noData:n};a.useCache=!!r;return p.extend(t||i.loadModel).then((function(e){return i.dps.getLoadScript(e,a).then((function(e){return e.result}))})).catch(i.errorHandler)}},{key:"getVisRecommendations",value:function e(t,n){var r=this;return p.extend(n||r.loadModel).then((function(e){return r.dps.getVisRecommendations(t,e).then((function(e){return e.result}))})).catch(r.errorHandler)}},{key:"syncLoadModel",value:function e(t){var n=this;return p.extend(t||n.loadModel).then((function(e){return n.dps.syncLoadModel(e).then((function(e){return e.result}))})).catch(n.errorHandler)}},{key:"adaptVisualization",value:function e(t,n){var r=this;return p.extend(n||r.loadModel).then((function(e){return r.dps.adaptVisualization(t,e).then((function(e){return e.result}))})).catch(r.errorHandler)}},{key:"getRecommendations",value:function e(t,n){var r=this;var i={detectAssociations:!!n};t&&(i.customAssociationsTable=t);g["a"].ASSOCIATE&&(i.topics=["report"]);i.version=2;return p.extend(r.loadModel).then((function(e){return r.dps.getRecommendations(e,i).then((function(e){var n=t?0:.5;return r.dataPrepProcessor.processGetRecommendationsResponse(e,n)}))})).catch(r.errorHandler)}},{key:"getDataPreview",value:function e(t){var n=this;return p.extend(n.loadModel).then((function(e){return n.dps.getDataPreview({tableName:t,numberOfRows:20,syntheticMode:false,dataPrepModel:e}).then((function(e){return e}))})).catch(n.errorHandler)}},{key:"getRestService",value:function e(){return a["a"].get().then((function(e){return e.getRestService()}))}}]);return e}();q.get=function(e,t){var n=void 0!==t?t:C;e=e||v["a"].getParameterByName("app");var r=S[e.toLowerCase()]||new q(n);return r.waitForOpen.promise};q.GetSerializedLoadModel=function(){return a["a"].isRunning().then((function(){return a["a"].get().then((function(e){return e.getRestService().then((function(e){return e.getSerializedLoadModel()}))}))}))};var E=t["a"]=q},hwkd:function(e,t,n){"use strict";var r=n("Fusc");var i=[];var a=/aggr|rangeSum|FirstSortedValue/gi;function o(e){var t=i.filter((function(t){return t.qName===e}));return t[0]&&t[0].qCardinal?t[0].qCardinal:0}function s(e){try{var t=r["a"].classify(e);var n=0;var i=false;t.results.forEach((function(e){(-1!==e.content.search(a)||e.remainder&&-1!==e.remainder.content.search(a))&&(i=true);(e.function&&""!==e.function.content||e.isOperator)&&n++}));return n*(i?3:1)}catch(e){console.error(e)}return}function l(e){var t=s(e.expr);var n=o(e.field,e)*t;return n*(t+1)}t["a"]={init:function e(t){t.getFieldList().then((function(e){i=e}))},estimateComplexity:function e(t){var n=0;t.analysis.dims&&t.analysis.dims.forEach((function(e){n+=e.libId?0:l(e)}));t.analysis.msrs&&t.analysis.msrs.forEach((function(e){n+=e.libId?0:l(e)}));return n}}},hzxK:function(e,t,n){"use strict";var r=n("yB4Y");var i=n.n(r);var a=n("kM/7");function o(e){return e.map((function(){return-1}))}function s(e){return e.map((function(e,t){return t}))}function l(e){return e.map((function(e,t){return t}))}function c(e,t){var n=a["a"].filterTransformationFieldsWithType(e,[r["DSMTypes"].Transformations.lookupGeoInfo]);var i=n.map((function(e){var n=t[e.name];return{name:n.expression?n.expression:"[".concat(n.internalName,"]"),label:e.name}}));function o(e,t){return{qDef:{autoSort:true,othersLabel:"Others",textAlign:{auto:true,align:"left"},qFieldDefs:[e],qFieldLabels:[t],qSortCriterias:[{qSortByLoadOrder:1,qSortByAscii:1}]},qNullSuppression:false,qOtherTotalSpec:{qOtherMode:"OTHER_OFF",qOtherSortMode:"OTHER_SORT_DESCENDING",qOtherCounted:{qv:"10"},qOtherLimitMode:"OTHER_GE_LIMIT",qOtherLimit:{qv:"0"},qSuppressOther:false}}}var s=[];i.forEach((function(e){s.push(o(e.name,e.label))}));return s}t["a"]={getDimensions:c,getDimensionWidths:o,getDimensionSortOrder:s,getDimensionColumnOrder:l}},i72x:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("4nJ1");var o=n("UV1h");var s=n("GF7R");var l={blendValue:g,getIcon:u,getSegmentIndex:p,shouldBlend:f,resolveColorSegment:m,resolveColor:v,getAutoMinMax:b,_getBlendInfo:h};function c(e,t){return e.paletteColors?e.paletteColors[t]:e.colors[t].color}function u(e,t){return e.paletteColors?e.paletteColors[t].icon:e.colors[t].icon}function d(e,t,n){var r=i.a.extend(true,{},e);if(r&&r.limits){r.limits=r.limits.concat().sort((function(e,t){return e.value-t.value}));r.limits.forEach((function(e){e.value=n===t?.5:(e.value-t)/(n-t)}))}var a=r.paletteColors||r.colors;r&&a&&(r.localColors=a.concat().map((function(e,t){return{color:m(r,t)}})));return r}function f(e,t){if(0===e.limits.length)return false;var n;n=0===t?e.limits[t].gradient:t===e.limits.length?e.limits[t-1].gradient:e.limits[t].gradient||e.limits[t-1].gradient;return n}function p(e,t,n){if(Number.isNaN(+t))return 0;var r=a["a"].isNumeric(n)?Math.min(n,t):0;var i=e.segments.limits.concat().sort((function(e,t){return e.value-t.value}));var o=e.segments.paletteColors||e.segments.colors;var s;var l;for(l=0;l<o.length;l++){if(l===o.length-1)return l;s=i[l].value;if(t<s&&t>=r)return l;r=s}return 0}function h(e,t,n){var r;var i;var a=e.limits.concat().sort((function(e,t){return e.value-t.value}));var o=t>0?a[t-1]:{value:0,gradient:false};var s=e.localColors[t-(t>0?1:0)];var l=a[t]?a[t]:{value:1,gradient:false};var c=e.localColors[t+(t<e.localColors.length-1?1:0)];var u=n===l.value?1:(n-o.value)/(l.value-o.value);if(o&&o.gradient&&l&&l.gradient)if(n-o.value<l.value-n){r=s.color;i=.5-u}else{r=c.color;i=u-.5}else if(o&&o.gradient){r=s.color;i=1-(.5+u/2)}else if(l&&l.gradient){r=c.color;i=u/2}else{r=e.localColors[t].color;i=n}return{color:r,t:i}}function v(e){return o["a"].resolveColor(e)}function m(e,t){return l.resolveColor(c(e,t))}function g(e,t,n,r){var i;var a;var o=0;var l;var c;var u=d(e,n,r);if(t<=0)return u.localColors[0].color;if(t>=1)return u.localColors[u.localColors.length-1].color;for(l=0;l<u.localColors.length;l++){a=u.limits[l]?u.limits[l].value:1;if(t>=o&&t<a){i=h(u,l,t,n,r);c=new s["a"](u.localColors[l].color).blend(new s["a"](i.color),i.t);break}o=a}return c}function b(e,t){function n(e){return e.hasOwnProperty("value")?e.value:e}var r=e.map(n);var i;var a=0;r=r.sort((function(e,t){return e-t}));var o=r.some((function(e){return Number.isNaN(+e)}));var s=Number.isNaN(+t)?Number.isNaN(+r[0])?.5:r[0]:t;if(0===r.length||o)a=0===s?0:.5*s;else{if(1!==r.length){i=r[r.length-1]-r[0];i=i>0?i:1;return{min:Math.min(s,r[0])-i/2,max:Math.max(s,r[r.length-1])+i/2}}i=r[0]-s;if(0!==i&&!Number.isNaN(+i))return i>0?{min:s-.5*Math.abs(s),max:r[0]+2*i}:{min:r[0]+2*i,max:s+.5*Math.abs(s)};a=0===s?.5:Math.abs(.5*s)}return{min:s-a,max:s+a}}t["a"]=l},i7ks:function(e,t,n){"use strict";var r=n("Z9ZH");var i=n.n(r);var a=n("mWu2");var o=i.a.Gesture.augment((function(e){this.defaults={which:2,radiusThreshold:3};this.start=function(e,t){if(i.a.utils.touch)return;if(i.a.utils.msPointer&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType)return;if(this.isValidMouseButton(e,this.options.which)){this.initiated=true;t.startPoint=t.points[0];this.binder.start.call(this,e,t)}};this.update=function(e,t){if(!this.started&&t.startPoint&&t.startPoint.distanceTo(t.points[0])>=this.options.radiusThreshold){this.started=true;this.binder.update.call(this,e,t)}else this.started&&this.binder.update.call(this,e,t)};this.end=function(e,t){if(this.initiated){this.binder.end.call(this,e,t);this.initiated=false}};function t(){e.apply(this,arguments)}return t}));i.a.gestures.add("wheelswipe",o);function s(e,t){e.gestures.forEach((function(n){n!==t&&e.cancelGesture(n)}))}function l(e){var t=0;var n=0;var r=0;var i=60;e.wheelDelta&&(t=e.wheelDelta/i);e.detail&&(t=-e.detail/3);r=t;if(void 0!==e.axis&&e.axis===e.HORIZONTAL_AXIS){r=0;n=-1*t}void 0!==e.wheelDeltaY&&(r=e.wheelDeltaY/i);void 0!==e.wheelDeltaX&&(n=-1*e.wheelDeltaX/i);return{delta:t,deltaX:n,deltaY:r,x:e.pageX,y:e.pageY}}function c(e,t,n){var r;var i;return function(){var a=n||this;var o=+new Date;var s=arguments;if(r&&o<r+t){clearTimeout(i);i=setTimeout((function(){r=o;e.apply(a,s)}),t)}else{r=o;e.apply(a,s)}}}var u={debouceTimer:null};function d(e,t,n){return function(){var r=this;var i=arguments;n=n||u;f(n);var a=setTimeout((function(){e.apply(r,i)}),t);n.debounceTimer=a}}function f(e){e=e||u;e.debounceTimer&&clearTimeout(e.debounceTimer);e.debounceTimer=null}function p(e){if(!e)return;e=e.map((function(e){return e.qGroupFieldDefs?e.qGroupFieldDefs[e.qGroupPos||0]:e.qFallbackTitle}));a["default"].$rootScope.$broadcast("locked-feedback",[e]);d((function(){a["default"].$rootScope.$broadcast("locked-feedback",[e,true])}),100)()}t["a"]={getMouseWheelData:l,cancelGestures:s,throttle:c,debounce:d,cancelDebounce:f,showLockedFeedback:p}},i9Gt:function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;t["a"]=i},iBBK:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));n.d(t,"b",(function(){return Z}));n.d(t,"c",(function(){return Ee}));n.d(t,"d",(function(){return f}));n.d(t,"e",(function(){return xe}));n.d(t,"f",(function(){return qe}));n.d(t,"g",(function(){return h}));var r=n("Fcif");var i=n("i9Gt");var a=n("cujW");var o=n("yBJb");var s=n("7L9N");var l=n("0942");var c=n("+I+c");var u={}.constructor;function d(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(d);if(e.constructor!==u)return e;var t={};for(var n in e)t[n]=d(e[n]);return t}function f(e,t,n){void 0===e&&(e="unnamed");var r=n.jss;var i=d(t);var a=r.plugins.onCreateRule(e,i,n);if(a)return a;"@"===e[0]&&void 0;return null}var p=function e(t,n){var r="";for(var i=0;i<t.length;i++){if("!important"===t[i])break;r&&(r+=n);r+=t[i]}return r};function h(e,t){void 0===t&&(t=false);if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length;r++){if("!important"===e[r])break;n&&(n+=", ");n+=p(e[r]," ")}else n=p(e,", ");t||"!important"!==e[e.length-1]||(n+=" !important");return n}function v(e,t){var n="";for(var r=0;r<t;r++)n+="  ";return n+e}function m(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n,a=i.indent,o=void 0===a?0:a;var s=t.fallbacks;e&&o++;if(s)if(Array.isArray(s))for(var l=0;l<s.length;l++){var c=s[l];for(var u in c){var d=c[u];if(null!=d){r&&(r+="\n");r+=""+v(u+": "+h(d)+";",o)}}}else for(var f in s){var p=s[f];if(null!=p){r&&(r+="\n");r+=""+v(f+": "+h(p)+";",o)}}for(var m in t){var g=t[m];if(null!=g&&"fallbacks"!==m){r&&(r+="\n");r+=""+v(m+": "+h(g)+";",o)}}if(!r&&!n.allowEmpty)return r;if(!e)return r;o--;r&&(r="\n"+r+"\n");return v(e+" {"+r,o)+v("}",o)}var g=/([[\].#*$><+~=|^:(),"'`\s])/g;var b="undefined"!==typeof CSS&&CSS.escape;var y=function(e){return b?b(e):e.replace(g,"\\$1")};var w=function(){function e(e,t,n){this.type="style";this.key=void 0;this.isProcessed=false;this.style=void 0;this.renderer=void 0;this.renderable=void 0;this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e;this.options=n;this.style=t;r?this.renderer=r.renderer:i&&(this.renderer=new i)}var t=e.prototype;t.prop=function e(t,n,r){if(void 0===n)return this.style[t];var i=!!r&&r.force;if(!i&&this.style[t]===n)return this;var a=n;r&&false===r.process||(a=this.options.jss.plugins.onChangeValue(n,t,this));var o=null==a||false===a;var s=t in this.style;if(o&&!s&&!i)return this;var l=o&&s;l?delete this.style[t]:this.style[t]=a;if(this.renderable&&this.renderer){l?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,a);return this}var c=this.options.sheet;c&&c.attached&&void 0;return this};return e}();var S=function(e){Object(s["a"])(t,e);function t(t,n,r){var i;i=e.call(this,t,n,r)||this;i.selectorText=void 0;i.id=void 0;i.renderable=void 0;var a=r.selector,o=r.scoped,s=r.sheet,c=r.generateId;if(a)i.selectorText=a;else if(false!==o){i.id=c(Object(l["a"])(Object(l["a"])(i)),s);i.selectorText="."+y(i.id)}return i}var n=t.prototype;n.applyTo=function e(t){var n=this.renderer;if(n){var r=this.toJSON();for(var i in r)n.setProperty(t,i,r[i])}return this};n.toJSON=function e(){var t={};for(var n in this.style){var r=this.style[n];"object"!==typeof r?t[n]=r:Array.isArray(r)&&(t[n]=h(r))}return t};n.toString=function e(t){var n=this.options.sheet;var i=!!n&&n.options.link;var a=i?Object(r["a"])({},t,{allowEmpty:true}):t;return m(this.selectorText,this.style,a)};Object(o["a"])(t,[{key:"selector",set:function e(t){if(t===this.selectorText)return;this.selectorText=t;var n=this.renderer,r=this.renderable;if(!r||!n)return;var i=n.setSelector(r,t);i||n.replaceRule(r,this)},get:function e(){return this.selectorText}}]);return t}(w);var x={onCreateRule:function e(t,n,r){if("@"===t[0]||r.parent&&"keyframes"===r.parent.type)return null;return new S(t,n,r)}};var C={indent:1,children:true};var q=/@([\w-]+)/;var E=function(){function e(e,t,n){this.type="conditional";this.at=void 0;this.key=void 0;this.query=void 0;this.rules=void 0;this.options=void 0;this.isProcessed=false;this.renderable=void 0;this.key=e;this.query=n.name;var i=e.match(q);this.at=i?i[1]:"unknown";this.options=n;this.rules=new K(Object(r["a"])({},n,{parent:this}));for(var a in t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;t.getRule=function e(t){return this.rules.get(t)};t.indexOf=function e(t){return this.rules.indexOf(t)};t.addRule=function e(t,n,r){var i=this.rules.add(t,n,r);if(!i)return null;this.options.jss.plugins.onProcessRule(i);return i};t.toString=function e(t){void 0===t&&(t=C);null==t.indent&&(t.indent=C.indent);null==t.children&&(t.children=C.children);if(false===t.children)return this.query+" {}";var n=this.rules.toString(t);return n?this.query+" {\n"+n+"\n}":""};return e}();var I=/@media|@supports\s+/;var k={onCreateRule:function e(t,n,r){return I.test(t)?new E(t,n,r):null}};var A={indent:1,children:true};var T=/@keyframes\s+([\w-]+)/;var D=function(){function e(e,t,n){this.type="keyframes";this.at="@keyframes";this.key=void 0;this.name=void 0;this.id=void 0;this.rules=void 0;this.options=void 0;this.isProcessed=false;this.renderable=void 0;var i=e.match(T);if(i&&i[1])this.name=i[1];else{this.name="noname";void 0}this.key=this.type+"-"+this.name;this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;this.id=false===a?this.name:y(s(this,o));this.rules=new K(Object(r["a"])({},n,{parent:this}));for(var l in t)this.rules.add(l,t[l],Object(r["a"])({},n,{parent:this}));this.rules.process()}var t=e.prototype;t.toString=function e(t){void 0===t&&(t=A);null==t.indent&&(t.indent=A.indent);null==t.children&&(t.children=A.children);if(false===t.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(t);n&&(n="\n"+n+"\n");return this.at+" "+this.id+" {"+n+"}"};return e}();var O=/@keyframes\s+/;var L=/\$([\w-]+)/g;var M=function e(t,n){if("string"===typeof t)return t.replace(L,(function(e,t){if(t in n)return n[t];void 0;return e}));return t};var P=function e(t,n,r){var i=t[n];var a=M(i,r);a!==i&&(t[n]=a)};var N={onCreateRule:function e(t,n,r){return"string"===typeof t&&O.test(t)?new D(t,n,r):null},onProcessStyle:function e(t,n,r){if("style"!==n.type||!r)return t;"animation-name"in t&&P(t,"animation-name",r.keyframes);"animation"in t&&P(t,"animation",r.keyframes);return t},onChangeValue:function e(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return M(t,i.keyframes);case"animation-name":return M(t,i.keyframes);default:return t}}};var R=function(e){Object(s["a"])(t,e);function t(){var t;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t=e.call.apply(e,[this].concat(r))||this;t.renderable=void 0;return t}var n=t.prototype;n.toString=function e(t){var n=this.options.sheet;var i=!!n&&n.options.link;var a=i?Object(r["a"])({},t,{allowEmpty:true}):t;return m(this.key,this.style,a)};return t}(w);var F={onCreateRule:function e(t,n,r){if(r.parent&&"keyframes"===r.parent.type)return new R(t,n,r);return null}};var _=function(){function e(e,t,n){this.type="font-face";this.at="@font-face";this.key=void 0;this.style=void 0;this.options=void 0;this.isProcessed=false;this.renderable=void 0;this.key=e;this.style=t;this.options=n}var t=e.prototype;t.toString=function e(t){if(Array.isArray(this.style)){var n="";for(var r=0;r<this.style.length;r++){n+=m(this.at,this.style[r]);this.style[r+1]&&(n+="\n")}return n}return m(this.at,this.style,t)};return e}();var j=/@font-face/;var B={onCreateRule:function e(t,n,r){return j.test(t)?new _(t,n,r):null}};var V=function(){function e(e,t,n){this.type="viewport";this.at="@viewport";this.key=void 0;this.style=void 0;this.options=void 0;this.isProcessed=false;this.renderable=void 0;this.key=e;this.style=t;this.options=n}var t=e.prototype;t.toString=function e(t){return m(this.key,this.style,t)};return e}();var H={onCreateRule:function e(t,n,r){return"@viewport"===t||"@-ms-viewport"===t?new V(t,n,r):null}};var z=function(){function e(e,t,n){this.type="simple";this.key=void 0;this.value=void 0;this.options=void 0;this.isProcessed=false;this.renderable=void 0;this.key=e;this.value=t;this.options=n}var t=e.prototype;t.toString=function e(t){if(Array.isArray(this.value)){var n="";for(var r=0;r<this.value.length;r++){n+=this.key+" "+this.value[r]+";";this.value[r+1]&&(n+="\n")}return n}return this.key+" "+this.value+";"};return e}();var $={"@charset":true,"@import":true,"@namespace":true};var U={onCreateRule:function e(t,n,r){return t in $?new z(t,n,r):null}};var G=[x,k,N,F,B,H,U];var W={process:true};var Q={force:true,process:true};var K=function(){function e(e){this.map={};this.raw={};this.index=[];this.counter=0;this.options=void 0;this.classes=void 0;this.keyframes=void 0;this.options=e;this.classes=e.classes;this.keyframes=e.keyframes}var t=e.prototype;t.add=function e(t,n,i){var a=this.options,o=a.parent,s=a.sheet,l=a.jss,c=a.Renderer,u=a.generateId,d=a.scoped;var p=Object(r["a"])({classes:this.classes,parent:o,sheet:s,jss:l,Renderer:c,generateId:u,scoped:d,name:t,keyframes:this.keyframes,selector:void 0},i);var h=t;t in this.raw&&(h=t+"-d"+this.counter++);this.raw[h]=n;h in this.classes&&(p.selector="."+y(this.classes[h]));var v=f(h,n,p);if(!v)return null;this.register(v);var m=void 0===p.index?this.index.length:p.index;this.index.splice(m,0,v);return v};t.get=function e(t){return this.map[t]};t.remove=function e(t){this.unregister(t);delete this.raw[t.key];this.index.splice(this.index.indexOf(t),1)};t.indexOf=function e(t){return this.index.indexOf(t)};t.process=function e(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)};t.register=function e(t){this.map[t.key]=t;if(t instanceof S){this.map[t.selector]=t;t.id&&(this.classes[t.key]=t.id)}else t instanceof D&&this.keyframes&&(this.keyframes[t.name]=t.id)};t.unregister=function e(t){delete this.map[t.key];if(t instanceof S){delete this.map[t.selector];delete this.classes[t.key]}else t instanceof D&&delete this.keyframes[t.name]};t.update=function e(){var t;var n;var r;if("string"===typeof(arguments.length<=0?void 0:arguments[0])){t=arguments.length<=0?void 0:arguments[0];n=arguments.length<=1?void 0:arguments[1];r=arguments.length<=2?void 0:arguments[2]}else{n=arguments.length<=0?void 0:arguments[0];r=arguments.length<=1?void 0:arguments[1];t=null}if(t)this.updateOne(this.map[t],n,r);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],n,r)};t.updateOne=function t(n,r,i){void 0===i&&(i=W);var a=this.options,o=a.jss.plugins,s=a.sheet;if(n.rules instanceof e){n.rules.update(r,i);return}var l=n;var c=l.style;o.onUpdate(r,n,s,i);if(i.process&&c&&c!==l.style){o.onProcessStyle(l.style,l,s);for(var u in l.style){var d=l.style[u];var f=c[u];d!==f&&l.prop(u,d,Q)}for(var p in c){var h=l.style[p];var v=c[p];null==h&&h!==v&&l.prop(p,null,Q)}}};t.toString=function e(t){var n="";var r=this.options.sheet;var i=!!r&&r.options.link;for(var a=0;a<this.index.length;a++){var o=this.index[a];var s=o.toString(t);if(!s&&!i)continue;n&&(n+="\n");n+=s}return n};return e}();var Y=function(){function e(e,t){this.options=void 0;this.deployed=void 0;this.attached=void 0;this.rules=void 0;this.renderer=void 0;this.classes=void 0;this.keyframes=void 0;this.queue=void 0;this.attached=false;this.deployed=false;this.classes={};this.keyframes={};this.options=Object(r["a"])({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes});t.Renderer&&(this.renderer=new t.Renderer(this));this.rules=new K(this.options);for(var n in e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;t.attach=function e(){if(this.attached)return this;this.renderer&&this.renderer.attach();this.attached=true;this.deployed||this.deploy();return this};t.detach=function e(){if(!this.attached)return this;this.renderer&&this.renderer.detach();this.attached=false;return this};t.addRule=function e(t,n,r){var i=this.queue;this.attached&&!i&&(this.queue=[]);var a=this.rules.add(t,n,r);if(!a)return null;this.options.jss.plugins.onProcessRule(a);if(this.attached){if(!this.deployed)return a;if(i)i.push(a);else{this.insertRule(a);if(this.queue){this.queue.forEach(this.insertRule,this);this.queue=void 0}}return a}this.deployed=false;return a};t.insertRule=function e(t){this.renderer&&this.renderer.insertRule(t)};t.addRules=function e(t,n){var r=[];for(var i in t){var a=this.addRule(i,t[i],n);a&&r.push(a)}return r};t.getRule=function e(t){return this.rules.get(t)};t.deleteRule=function e(t){var n="object"===typeof t?t:this.rules.get(t);if(!n)return false;this.rules.remove(n);if(this.attached&&n.renderable&&this.renderer)return this.renderer.deleteRule(n.renderable);return true};t.indexOf=function e(t){return this.rules.indexOf(t)};t.deploy=function e(){this.renderer&&this.renderer.deploy();this.deployed=true;return this};t.update=function e(){var t;(t=this.rules).update.apply(t,arguments);return this};t.updateOne=function e(t,n,r){this.rules.updateOne(t,n,r);return this};t.toString=function e(t){return this.rules.toString(t)};return e}();var J=function(){function e(){this.plugins={internal:[],external:[]};this.registry=void 0}var t=e.prototype;t.onCreateRule=function e(t,n,r){for(var i=0;i<this.registry.onCreateRule.length;i++){var a=this.registry.onCreateRule[i](t,n,r);if(a)return a}return null};t.onProcessRule=function e(t){if(t.isProcessed)return;var n=t.options.sheet;for(var r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](t,n);t.style&&this.onProcessStyle(t.style,t,n);t.isProcessed=true};t.onProcessStyle=function e(t,n,r){for(var i=0;i<this.registry.onProcessStyle.length;i++)n.style=this.registry.onProcessStyle[i](n.style,n,r)};t.onProcessSheet=function e(t){for(var n=0;n<this.registry.onProcessSheet.length;n++)this.registry.onProcessSheet[n](t)};t.onUpdate=function e(t,n,r,i){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](t,n,r,i)};t.onChangeValue=function e(t,n,r){var i=t;for(var a=0;a<this.registry.onChangeValue.length;a++)i=this.registry.onChangeValue[a](i,n,r);return i};t.use=function e(t,n){void 0===n&&(n={queue:"external"});var r=this.plugins[n.queue];if(-1!==r.indexOf(t))return;r.push(t);this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e?e[n].push(t[n]):void 0;return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]})};return e}();var Z=function(){function e(){this.registry=[]}var t=e.prototype;t.add=function e(t){var n=this.registry;var r=t.options.index;if(-1!==n.indexOf(t))return;if(0===n.length||r>=this.index){n.push(t);return}for(var i=0;i<n.length;i++)if(n[i].options.index>r){n.splice(i,0,t);return}};t.reset=function e(){this.registry=[]};t.remove=function e(t){var n=this.registry.indexOf(t);this.registry.splice(n,1)};t.toString=function e(t){var n=void 0===t?{}:t,r=n.attached,i=Object(c["a"])(n,["attached"]);var a="";for(var o=0;o<this.registry.length;o++){var s=this.registry[o];if(null!=r&&s.attached!==r)continue;a&&(a+="\n");a+=s.toString(i)}return a};Object(o["a"])(e,[{key:"index",get:function e(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]);return e}();var X=new Z;var ee="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();var te="2f1acc6c3a606b082e5eef5e54414ffb";null==ee[te]&&(ee[te]=0);var ne=ee[te]++;var re=1e10;var ie=function e(t){void 0===t&&(t={});var n=0;return function(e,r){n+=1;n>re&&void 0;var i="";var a="";if(r){r.options.classNamePrefix&&(a=r.options.classNamePrefix);null!=r.options.jss.id&&(i=String(r.options.jss.id))}if(t.minify)return""+(a||"c")+ne+i+n;return a+e.key+"-"+ne+(i?"-"+i:"")+"-"+n}};var ae=function e(t){var n;return function(){n||(n=t());return n}};function oe(e,t){try{if(e.attributeStyleMap)return e.attributeStyleMap.get(t);return e.style.getPropertyValue(t)}catch(e){return""}}function se(e,t,n){try{var r=n;if(Array.isArray(n)){r=h(n,true);if("!important"===n[n.length-1]){e.style.setProperty(t,r,"important");return true}}e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(e){return false}return true}function le(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){void 0}}function ce(e,t){e.selectorText=t;return e.selectorText===t}var ue=ae((function(){return document.querySelector("head")}));function de(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function fe(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function pe(e){var t=ue();for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}function he(e){var t=X.registry;if(t.length>0){var n=de(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};n=fe(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=pe(r);if(i)return{parent:i.parentNode,node:i.nextSibling};void 0}return false}function ve(e,t){var n=t.insertionPoint;var r=he(t);if(false!==r&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&"number"===typeof n.nodeType){var i=n;var a=i.parentNode;a?a.insertBefore(e,i.nextSibling):void 0;return}ue().appendChild(e)}var me=ae((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}));var ge=function e(t,n,r){var i=t.cssRules.length;(void 0===r||r>i)&&(r=i);try{if("insertRule"in t){var a=t;a.insertRule(n,r)}else if("appendRule"in t){var o=t;o.appendRule(n)}}catch(e){void 0;return false}return t.cssRules[r]};var be=function e(){var t=document.createElement("style");t.textContent="\n";return t};var ye=function(){function e(e){this.getPropertyValue=oe;this.setProperty=se;this.removeProperty=le;this.setSelector=ce;this.element=void 0;this.sheet=void 0;this.hasInsertedRules=false;e&&X.add(e);this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||be();this.element.setAttribute("data-jss","");n&&this.element.setAttribute("media",n);r&&this.element.setAttribute("data-meta",r);var a=me();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;t.attach=function e(){if(this.element.parentNode||!this.sheet)return;ve(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);if(this.hasInsertedRules&&t){this.hasInsertedRules=false;this.deploy()}};t.detach=function e(){var t=this.element.parentNode;t&&t.removeChild(this.element)};t.deploy=function e(){var t=this.sheet;if(!t)return;if(t.options.link){this.insertRules(t.rules);return}this.element.textContent="\n"+t.toString()+"\n"};t.insertRules=function e(t,n){for(var r=0;r<t.index.length;r++)this.insertRule(t.index[r],r,n)};t.insertRule=function e(t,n,r){void 0===r&&(r=this.element.sheet);if(t.rules){var i=t;var a=r;if("conditional"===t.type||"keyframes"===t.type){a=ge(r,i.toString({children:false}),n);if(false===a)return false}this.insertRules(i.rules,a);return a}if(t.renderable&&t.renderable.parentStyleSheet===this.element.sheet)return t.renderable;var o=t.toString();if(!o)return false;var s=ge(r,o,n);if(false===s)return false;this.hasInsertedRules=true;t.renderable=s;return s};t.deleteRule=function e(t){var n=this.element.sheet;var r=this.indexOf(t);if(-1===r)return false;n.deleteRule(r);return true};t.indexOf=function e(t){var n=this.element.sheet.cssRules;for(var r=0;r<n.length;r++)if(t===n[r])return r;return-1};t.replaceRule=function e(t,n){var r=this.indexOf(t);if(-1===r)return false;this.element.sheet.deleteRule(r);return this.insertRule(n,r)};t.getRules=function e(){return this.element.sheet.cssRules};return e}();var we=0;var Se=function(){function e(e){this.id=we++;this.version="10.4.0";this.plugins=new J;this.options={id:{minify:false},createGenerateId:ie,Renderer:i["a"]?ye:null,plugins:[]};this.generateId=ie({minify:false});for(var t=0;t<G.length;t++)this.plugins.use(G[t],{queue:"internal"});this.setup(e)}var t=e.prototype;t.setup=function e(t){void 0===t&&(t={});t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId);t.id&&(this.options.id=Object(r["a"])({},this.options.id,t.id));(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id));null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint);"Renderer"in t&&(this.options.Renderer=t.Renderer);t.plugins&&this.use.apply(this,t.plugins);return this};t.createStyleSheet=function e(t,n){void 0===n&&(n={});var i=n,a=i.index;"number"!==typeof a&&(a=0===X.index?0:X.index+1);var o=new Y(t,Object(r["a"])({},n,{jss:this,generateId:n.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));this.plugins.onProcessSheet(o);return o};t.removeStyleSheet=function e(t){t.detach();X.remove(t);return this};t.createRule=function e(t,n,i){void 0===n&&(n={});void 0===i&&(i={});if("object"===typeof t)return this.createRule(void 0,t,n);var a=Object(r["a"])({},i,{name:t,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId);a.classes||(a.classes={});a.keyframes||(a.keyframes={});var o=f(t,n,a);o&&this.plugins.onProcessRule(o);return o};t.use=function e(){var t=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(e){t.plugins.use(e)}));return this};return e}();function xe(e){var t=null;for(var n in e){var r=e[n];var i=typeof r;if("function"===i){t||(t={});t[n]=r}else if("object"===i&&null!==r&&!Array.isArray(r)){var a=xe(r);if(a){t||(t={});t[n]=a}}}return t}var Ce=function(){function e(){this.length=0;this.sheets=new WeakMap}var t=e.prototype;t.get=function e(t){var n=this.sheets.get(t);return n&&n.sheet};t.add=function e(t,n){if(this.sheets.has(t))return;this.length++;this.sheets.set(t,{sheet:n,refs:0})};t.manage=function e(t){var n=this.sheets.get(t);if(n){0===n.refs&&n.sheet.attach();n.refs++;return n.sheet}Object(a["a"])(false,"[JSS] SheetsManager: can't find sheet to manage");return};t.unmanage=function e(t){var n=this.sheets.get(t);if(n){if(n.refs>0){n.refs--;0===n.refs&&n.sheet.detach()}}else Object(a["a"])(false,"SheetsManager: can't find sheet to unmanage")};Object(o["a"])(e,[{key:"size",get:function e(){return this.length}}]);return e}();var qe="undefined"!==typeof CSS&&CSS&&"number"in CSS;var Ee=function e(t){return new Se(t)};var Ie=Ee();var ke=Ie},iE90:function(e,t,n){"use strict";var r=n("6uJb");var i=n("MGTR");var a="///$tab ";var o=r["default"].get("scripteditor.vtabs.newtabname");i["a"].subscribe("/language/dataSet",(function(){o=r["default"].get("scripteditor.vtabs.newtabname")}));function s(e){var t;var n="";for(t=0;t<e.length;t++){t>0&&(n+="\r\n");n+=a;n+=e[t].name;n+="\r\n";if(e[t].autogenerated){n+="///$autogenerated";n+="\r\n"}n+=e[t].content}return n.replace(/\n/g,"\r\n").replace(/\r\r\n/g,"\r\n")}function l(e){var t=false;var n=e;var r=0;var i=10;var a=0;var o=10;var s=/\s+and\s+|\)and\s+|\)and\(/g;var l=/\s+or\s+|\)or\s+|\)or\(/g;var c=/\s+xor\s+|\)xor\s+|\)xor\(/g;var u=e.split("\n");var d=[];for(var f=0;f<u.length;f++){var p=u[f].trim();0!==p.indexOf("//")&&d.push(p)}e=d.join("\n");e=e.replace(/(\r\n|\n|\r\t|\s+)/gm,"");e=e.toLowerCase();var h=n.replace(/if\s+\(/gm,"if(");function v(e,t){var n=e.indexOf("if(");if(-1===n||0===e.length)return;e=e.slice(n+2);var r=1;var i=1;while(i>0){void 0===e[r]&&(i=0);"("===e[r]&&i++;")"===e[r]&&i--;0===i&&t(e,r);r++}}function m(e){v(e,(function(e,t){var n=/if[(]/gi;var i;var a=[];var o=e.slice(0,t);while(i=n.exec(o))a.push(i.index+2);var s=a.length+1;r=r<s?s:r;m(e.slice(t))}))}function g(e,t){v(e,(function(e,n){var r=n;var i=e.substring(t,r).match(s)||[];var o=e.substring(t,r).match(l)||[];var u=e.substring(t,r).match(c)||[];var d=i.length+o.length+u.length;a=Math.max(a,d);g(e,r)}))}m(e);t=r>i;if(!t){g(h,0);t=a>=o}return t}function c(e){e=e.replace(/\r\n/g,"\n");function t(e,t){var n;var r="///$tab ";var i=0;if(10===e.charCodeAt(t)){i+=1;t+=1}for(n=0;n<r.length;n++){if(r.charCodeAt(n)!==e.charCodeAt(t+n))return 0;i++}return i}function n(e,t){var n;var r="";while(t<e.length){n=e.charCodeAt(t);if(10===n){t++;break}r+=e.charAt(t);t++}return{name:r,pos:t}}function r(e,t){var n="///$autogenerated";var r=0;10===e.charCodeAt(t)&&(t+=1);while(r<n.length){if(e.charCodeAt(t+r)!==n.charCodeAt(r))return{autogenerated:false,pos:t};r++}return{autogenerated:true,pos:t+r+1}}function i(e,t,n){e[e.length]={name:t,content:"",isHidden:false,matches:0,autogenerated:n}}e=e.replace(/\r\n/g,"\n");e=e.replace(/\r/g,"\n");var a;var s;var c;var u=0;var d=[];while(u<e.length){c=t(e,u);if(c>0){u+=c;a=n(e,u);u=a.pos;s=r(e,u);u=s.pos;i(d,a.name,s.autogenerated)}else{0===d.length&&i(d,o);d[d.length-1].content+=e.charAt(u);u++}}0===d.length&&i(d,o);d.forEach((function(e){e.isComplex=l(e.content)}));return d}t["a"]={stringify:s,parse:c}},iSLG:function(e,t,n){"use strict";var r='<div class="qv-small-av" tid="appOverivewSmallDevice" ng-class="ngClasses">\n\t<div class="qv-tbar">\n\t\t<div class="title" q-translation="{{translations.toolbarTitle}}"></div>\n\t\t<qui-toolbarbutton ng-disabled="disableButton" class="qv-bm-toolbar-close" ng-click="closeMenu( $event )" q-translation="{{translations.toolbarButton}}" tid="button-close"></qui-toolbarbutton>\n\t</div>\n\t<div class="qv-av" qv-small-appview navigationmode="{{navigationmode}}" ccb="canCreateBookmark" tid="nav-content"></div>\n</div>\n';var i=n("B52N");var a=n("FdxK");var o=false;var s=null;var l;var c={open:function e(t,n){if(c.isOpen())return;var u={template:r,scope:{},controller:["$scope","$timeout",function(e,t){e.ngClasses={qsAnimate:false};o=false;i["default"].ViewChanged.bind(c.close);for(var r in n)e[r]=n[r];e.is={smallAppView:true};e.disableButton=true;e.$on("$destroy",(function(){o=true;l=null;e.onClose&&"function"===typeof e.onClose&&e.onClose()}));e.closeMenu=function(e){e&&e.preventDefault();c.close()};t((function(){e.ngClasses={qsAnimate:true};e.disableButton=false}));l=function n(){return new Promise((function(n){t((function(){e.ngClasses={qsAnimate:false}}));setTimeout(n,250)}))}}]};s=a["a"].show(u)},close:function e(){if(o||!s)return;o=true;i["default"].ViewChanged.unbind(c.close);l().then((function(){s.destroy();l=null;s=null}))},isOpen:function e(){return null!=s}};var u=t["a"]=c},iVe3:function(e,t,n){"use strict";var r=n("Fcif");var i=n("iBBK");var a="@global";var o="@global ";var s=function(){function e(e,t,n){this.type="global";this.at=a;this.rules=void 0;this.options=void 0;this.key=void 0;this.isProcessed=false;this.key=e;this.options=n;this.rules=new i["a"](Object(r["a"])({},n,{parent:this}));for(var o in t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;t.getRule=function e(t){return this.rules.get(t)};t.addRule=function e(t,n,r){var i=this.rules.add(t,n,r);this.options.jss.plugins.onProcessRule(i);return i};t.indexOf=function e(t){return this.rules.indexOf(t)};t.toString=function e(){return this.rules.toString()};return e}();var l=function(){function e(e,t,n){this.type="global";this.at=a;this.options=void 0;this.rule=void 0;this.isProcessed=false;this.key=void 0;this.key=e;this.options=n;var i=e.substr(o.length);this.rule=n.jss.createRule(i,t,Object(r["a"])({},n,{parent:this}))}var t=e.prototype;t.toString=function e(t){return this.rule?this.rule.toString(t):""};return e}();var c=/\s*,\s*/g;function u(e,t){var n=e.split(c);var r="";for(var i=0;i<n.length;i++){r+=t+" "+n[i].trim();n[i+1]&&(r+=", ")}return r}function d(e){var t=e.options,n=e.style;var i=n?n[a]:null;if(!i)return;for(var o in i)t.sheet.addRule(o,i[o],Object(r["a"])({},t,{selector:u(o,e.selector)}));delete n[a]}function f(e){var t=e.options,n=e.style;for(var i in n){if("@"!==i[0]||i.substr(0,a.length)!==a)continue;var o=u(i.substr(a.length),e.selector);t.sheet.addRule(o,n[i],Object(r["a"])({},t,{selector:o}));delete n[i]}}function p(){function e(e,t,n){if(!e)return null;if(e===a)return new s(e,t,n);if("@"===e[0]&&e.substr(0,o.length)===o)return new l(e,t,n);var r=n.parent;r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=false);false===n.scoped&&(n.selector=e);return null}function t(e){if("style"!==e.type)return;d(e);f(e)}return{onCreateRule:e,onProcessRule:t}}t["a"]=p},iVsF:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("6uJb");var o=n("4nJ1");var s=n("WFGH");var l=n("tgnP");var c=n("pRem");var u=n("6KC5");var d=n("xCba");var f=n("SZnw");var p=n("r3g4");var h=n("mhIG");var v;function m(e,t,n,r,i){void 0===n&&(n=i.qDecimalSep);void 0===r&&(r=i.qThousandSep);var a="";var o;var s;var l;var c;if("F"===e)if(0===t)a="#"+r+"##0";else{a="#"+r+"##0"+n;for(l=0;l<t;++l)a+="0"}else{for(l=0;l<t;++l)a+="#";if(t>3){c=a.length;o=a.substring(0,c-3);s=a.substr(c-3);a=o+r+s}}return a}var g={getNumFmtPattern:function e(t,n,r){var i={type:n.qType||"U",nDec:"qType"===t?("F"===n.qType,2):"R"===n.qType?n.qnDec||10:"number"===typeof n.qnDec?Math.max(0,n.qnDec):2,thousandSep:n.qThou,decimalSep:n.qDec};var a=this._getSeparators(t,"M"===n.qType,i.decimalSep,i.thousandSep,r);a.decimal!==v&&(i.decimalSep=a.decimal);a.thousand!==v&&(i.thousandSep=a.thousand);n.qType=i.type;n.qnDec=i.nDec;n.qDec=i.decimalSep;n.qThou=i.thousandSep;n.qFmt=this._getPattern(i.type,i.nDec,i.decimalSep,i.thousandSep,r);if(["D","T","TS","IV"].indexOf(i.type)>=0){n.qDec="";n.qThou=""}return n},_getSeparators:function e(t,n,r,i,a){var o=r;var s=i;var l="q"+(n?"Money":"");if("qType"===t){s=a[l+"ThousandSep"]||"";o=a[l+"DecimalSep"]||"."}else if("qThou"===t&&void 0===i){s=a[l+"ThousandSep"]||"";o=r||"."}else if("qDec"===t&&(void 0===r||""===r)){o=a[l+"DecimalSep"]||".";s=i||""}return{decimal:o||".",thousand:s||""}},_getPattern:function e(t,n,r,i,a){var o;switch(t){case"U":return"";case"I":return"#"+i+"##0";case"R":case"F":return this.getNDecPattern("F",n,r,i,a);case"M":o=a.qMoneyFmt;a.qMoneyDecimalSep&&(o=o.replace(new RegExp(p["a"].escapeRegExp(a.qMoneyDecimalSep),"g"),r));a.qMoneyThousandSep&&(o=o.replace(new RegExp(p["a"].escapeRegExp(a.qMoneyThousandSep),"g"),i));return o;case"D":return a.qDateFmt;case"T":return a.qTimeFmt;case"TS":return a.qTimestampFmt;case"IV":return"h:mm:ss";default:return""}},getDefaultNumericFormat:function e(t,n){return m("F",2,t.qDec,t.qThou||"",n)},getNDecPattern:m,getNormalizedFormat:function e(t,n){var r=t.qDec+t.qThou;if(/\u00a0/.test(r)&&!/\u0020/.test(r))return n.replace(/\u0020/g," ");return n}};var b=n("2Hli");function y(e,t){void 0===e&&(e="");var n=e.length>0?e+".":"";var r=e.length>0?e:"";function i(e,t){return b["a"].getValue(e,n+"qNumFormat.qFmt")===g.getDefaultNumericFormat(b["a"].getValue(e,n+"qNumFormat"),t?t.localeInfo:"")}function a(e){var t=b["a"].getValue(e,n+"qNumFormat.qType");return["R","M","IV"].indexOf(t)>-1||"U"!==t&&false===b["a"].getValue(e,n+"numFormatFromTemplate",true)}var s={type:"string",component:"custom-formatter-dropdown",ref:n+"qNumFormat.qType",numFormatRef:r,translation:"properties.numberFormatting",defaultValue:"U",schemaIgnore:true,options:[{value:"U",translation:"Common.Auto"},{value:"F",translation:"properties.numberFormatting.types.number"},{value:"M",translation:"properties.numberFormatting.types.money"},{value:"D",translation:"properties.numberFormatting.types.date"},{value:"IV",translation:"properties.numberFormatting.types.duration"},{value:"R",translation:"Common.Custom"},{value:"OFF",translation:"properties.numberFormatting.types.customFormatting"}],change:function e(t,r,i,a){var o=g.getNumFmtPattern("qType",b["a"].getValue(t,n+"qNumFormat"),a.localeInfo);b["a"].setValue(t,n+"qNumFormat",o)}};var l={type:"boolean",component:"switch",ref:n+"numFormatFromTemplate",translation:"properties.numberFormatting.formatting",defaultValue:true,options:[{value:true,translation:"properties.numberFormatting.simple"},{value:false,translation:"Common.Custom"}],show:function e(t){return["F","D","TS","T"].indexOf(b["a"].getValue(t,n+"qNumFormat.qType"))>-1}};var c={type:"string",component:"number-formatter-dropdown",ref:n+"qNumFormat.qFmt",numFormatRef:r,defaultValue:"#,##0",schemaIgnore:true,show:function e(t){var r=b["a"].getValue(t,n+"qNumFormat.qType");return["F","D","TS","T"].indexOf(r)>-1&&true===b["a"].getValue(t,n+"numFormatFromTemplate",true)}};var u={type:"integer",ref:n+"qNumFormat.qnDec",translation:"properties.numberFormatting.nDec",defaultValue:2,schemaIgnore:true,min:0,max:14,show:false};var d={type:"integer",ref:n+"qNumFormat.qnDec",translation:"properties.numberFormatting.significantFigures",defaultValue:10,schemaIgnore:true,min:1,max:14,show:false};var f={type:"string",ref:n+"qNumFormat.qDec",translation:"properties.numberFormatting.dec",defaultValue:".",schemaIgnore:true,show:function e(t){var r=b["a"].getValue(t,n+"qNumFormat.qType");return"R"===r},change:function e(t,r,i,a){var o=g.getNumFmtPattern("qDex",b["a"].getValue(t,n+"qNumFormat"),a.localeInfo);b["a"].setValue(t,n+"qNumFormat",o)},invalid:function e(t){return b["a"].getValue(t,n+"qNumFormat.qDec")===b["a"].getValue(t,n+"qNumFormat.qThou")},readOnly:function e(t,n,r,a){return!i(t,a)}};var h={type:"string",ref:n+"qNumFormat.qThou",translation:"properties.numberFormatting.thousandSeparator",defaultValue:"",schemaIgnore:true,show:function e(t){var r=b["a"].getValue(t,n+"qNumFormat.qType");return"R"===r},change:function e(t,r,i,a){var o=g.getNumFmtPattern("qThou",b["a"].getValue(t,n+"qNumFormat"),a.localeInfo);b["a"].setValue(t,n+"qNumFormat",o)},invalid:function e(t){var r=b["a"].getValue(t,n+"qNumFormat.qType");if("I"===r)return false;return b["a"].getValue(t,n+"qNumFormat.qDec")===b["a"].getValue(t,n+"qNumFormat.qThou")},readOnly:function e(t,n,r,a){return!i(t,a)}};var v={type:"string",component:"number-formatter",ref:n+"qNumFormat.qFmt",numFormatRef:r,resetTranslation:"properties.numberFormatting.resetPattern",translation:"properties.numberFormatting.formatPattern",defaultValue:"",schemaIgnore:true,show:function e(t){return a(t)},change:function e(t){b["a"].setValue(t,n+"qNumFormat.qFmt",g.getNormalizedFormat(b["a"].getValue(t,n+"qNumFormat"),b["a"].getValue(t,n+"qNumFormat.qFmt")))},invalid:function e(t,r,i){if(["D","T","TS","IV"].indexOf(b["a"].getValue(t,n+"qNumFormat.qType"))>-1)return false;var a="R"===b["a"].getValue(t,n+"qNumFormat.qType")?b["a"].getValue(t,n+"qNumFormat.qDec"):i.localeInfo["q"+("M"===b["a"].getValue(t,n+"qNumFormat.qType")?"Money":"")+"DecimalSep"];var s=new RegExp("(0|#)"+o["a"].escapeRegExp(a)+"0*#*");var l=(b["a"].getValue(t,n+"qNumFormat.qFmt")||"").split(";");var c=l[0].match(s);var u=c&&c[0]?c[0].length-2:0;var d=l[1]?l[1].match(s):null;var f=d&&d[0]?d[0].length-2:0;return u>15||f>15}};var m={type:"items",show:function e(n){var r=p["a"].isToggled("GEO_NUM_FORMAT");var i="function"===typeof t?t(n):t;return r&&i},items:{numberFormattingType:s,numberFormattingMode:l,numberFormattingTemplates:c,numDecimals:u,numPrecisionDigits:d,decimalSep:f,thousandSep:h,format:v}};return m}function w(e,t,n){void 0===e&&(e="");if(!p["a"].isToggled("MASTER_MEASURE_FORMAT"))return y(e,t);var r=e.length>0?e+".":"";var i=r+"quarantine.qNumFormat";return{type:"items",show:t,items:{useMasterFormat:{type:"boolean",component:"switch",translation:"properties.libraryFormatting",convertFunctions:{get:function e(t,n,r,a){return!!b["a"].getValue(a,i,false)},set:function t(n,r,i,a,o){var s,l;var c=e?b["a"].getValue(o,e):o;if(!c&&e){c={};b["a"].setValue(o,e,c)}if(n){c.quarantine={qNumFormat:c.qNumFormat||{},isCustomFormatted:c.isCustomFormatted||false};c.qNumFormat=null;c.isCustomFormatted=void 0}else{c.qNumFormat=(null===(s=c.quarantine)||void 0===s?void 0:s.qNumFormat)||{};c.isCustomFormatted=(null===(l=c.quarantine)||void 0===l?void 0:l.isCustomFormatted)||false;c.quarantine=void 0}}},show:function e(t){return n(t)},options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}]},numberFormat:y(e,(function(e){return!n(e)||!o["a"].getValue(e,i,false)}))}}}var S={getNumberFormattingProperties:y,getNumberFormattingPropertiesWithMasterLink:w};var x;(function(e){e.ZOOM_RANGE_MAX=20;e.ZOOM_RANGE_MIN=0;var t="tooltip.title";var n="tooltip.description";var r;function v(t){var n=m();var i={type:"items",items:{haveVisibleRange:{ref:"showInAllLevels",translation:"geo.properties.showInZoomLevels",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.All"},{value:false,translation:"Common.Custom"}]},zoomRange:{ref:"zoomRange",type:"array",min:e.ZOOM_RANGE_MIN,max:e.ZOOM_RANGE_MAX,step:1,defaultValue:[e.ZOOM_RANGE_MIN,e.ZOOM_RANGE_MAX],show:function e(t){return!t.showInAllLevels},label:function t(n){var r=Math.abs(n.zoomRange[0]);var i=Math.abs(n.zoomRange[1]);return r===e.ZOOM_RANGE_MIN&&i!==e.ZOOM_RANGE_MAX?a["default"].get("geo.properties.zoomRangeMin",[i]):r!==e.ZOOM_RANGE_MIN&&i===e.ZOOM_RANGE_MAX?a["default"].get("geo.properties.zoomRangeMax",[r]):r===e.ZOOM_RANGE_MIN&&i===e.ZOOM_RANGE_MAX?a["default"].get("geo.properties.zoomRangeMinMax"):a["default"].get("geo.properties.zoomRange",[r,i])}}}};var o={type:"items",items:{drillDownAuto:{ref:"drillDown.auto",translation:"geo.properties.drilldown.visible.levels",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"geo.properties.drilldown.all"},{value:false,translation:"Common.Custom"}],show:function e(t){try{var n=t.qHyperCubeDef.qDimensions[0].qLibraryId;var i=void 0;if(!n)return false;i=f["a"].getDrillDownDimension(n);if(i){r=i;return true}return false}catch(e){return false}}},drillDown0:{ref:"drillDown.showLevel0",label:function e(){try{return r.info[0].qName}catch(e){}},type:"boolean",defaultValue:true,show:function e(t){try{return r.info[0]&&!t.drillDown.auto}catch(e){return false}}},drillDown1:{ref:"drillDown.showLevel1",label:function e(){try{return r.info[1].qName}catch(e){}},type:"boolean",defaultValue:true,show:function e(t){try{return r.info[1]&&!t.drillDown.auto}catch(e){return false}}},drillDown2:{ref:"drillDown.showLevel2",label:function e(){try{return r.info[2].qName}catch(e){}},type:"boolean",defaultValue:true,show:function e(t){try{return r.info[2]&&!t.drillDown.auto}catch(e){return false}}},drillDown3:{ref:"drillDown.showLevel3",label:function e(){try{return r.info[3].qName}catch(e){}},type:"boolean",defaultValue:true,show:function e(t){try{return r.info[3]&&!t.drillDown.auto}catch(e){return false}}},drillDown4:{ref:"drillDown.showLevel4",label:function e(){try{return r.info[4].qName}catch(e){}},type:"boolean",defaultValue:true,show:function e(t){try{return r.info[4]&&!t.drillDown.auto}catch(e){return false}}},drillDown5:{ref:"drillDown.showLevel5",label:function e(){try{return r.info[5].qName}catch(e){}},type:"boolean",defaultValue:true,show:function e(t){try{return r.info[5]&&!t.drillDown.auto}catch(e){return false}}},drillDown6:{ref:"drillDown.showLevel6",label:function e(){try{return r.info[6].qName}catch(e){}},type:"boolean",defaultValue:true,show:function e(t){try{return r.info[6]&&!t.drillDown.auto}catch(e){return false}}},drillDown7:{ref:"drillDown.showLevel7",label:function e(){try{return r.info[7].qName}catch(e){}},type:"boolean",defaultValue:true,show:function e(t){try{return r.info[7]&&!t.drillDown.auto}catch(e){return false}}}}};var s={type:"items",items:{calcCond:{uses:"dataHandling",items:{calcCond:{uses:"calcCond"},suppressZero:null}},hideCalcCond:{ref:"hideCalcCond",translation:"geo.properties.hideCalcCond",type:"boolean",defaultValue:false}}};var l={ref:"exclFromAutozoom",translation:"geo.properties.exclFromAutozoom",type:"boolean",defaultValue:false,show:function e(t,n,r){var i=p["a"].isToggled("GEO_EXCL_AUTOZOOM");var a=r.model.layout;return i&&a.autoZoomOnSelection}};var c={};switch(t){case"GeodataLayer":c={visible:n,zoomLevels:i,dataHandling:s};break;default:c={visible:n,excludeFromAutozoom:l,zoomLevels:i,drillDown:o,dataHandling:s}}return{groups:{type:"items",grouped:true,items:c}}}function m(){return{ref:"showLayer",translation:"geo.properties.showLayer",type:"boolean",defaultValue:true}}e.getShowLayerOption=m;function g(){return{type:"items",items:{showLabel:y(),expression:{ref:"label.expression",label:a["default"].get("properties.labels"),type:"string",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",change:function e(t){var n=t.label.expression;N(t,n)},show:function e(t){return t.label.show}},position:{ref:"label.position",translation:"geo.properties.labelPosition",type:"string",component:"dropdown",options:[{value:"BOTTOM",translation:"geo.properties.labelPosition.above"},{value:"MIDDLE",translation:"geo.properties.labelPosition.centered"},{value:"TOP",translation:"geo.properties.labelPosition.below"}],defaultValue:"TOP",show:function e(t){return t.label.show&&t.label&&t.label.expression&&0!==(t.label.expression.key||"").trim().length&&"PointLayer"===t.type}},haveVisibleRange:{ref:"label.showInAllLevels",translation:"geo.properties.showInZoomLevels",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.All"},{value:false,translation:"Common.Custom"}],show:function e(t){return t.label.show}},visibleRange:{ref:"label.visibleRange",type:"array",min:e.ZOOM_RANGE_MIN,max:e.ZOOM_RANGE_MAX,step:1,defaultValue:[e.ZOOM_RANGE_MIN,e.ZOOM_RANGE_MAX],label:function t(n){var r=Math.abs(n.label.visibleRange[0]);var i=Math.abs(n.label.visibleRange[1]);return r===e.ZOOM_RANGE_MIN&&i!==e.ZOOM_RANGE_MAX?a["default"].get("geo.properties.zoomRangeMin",[i]):r!==e.ZOOM_RANGE_MIN&&i===e.ZOOM_RANGE_MAX?a["default"].get("geo.properties.zoomRangeMax",[r]):r===e.ZOOM_RANGE_MIN&&i===e.ZOOM_RANGE_MAX?a["default"].get("geo.properties.zoomRangeMinMax"):a["default"].get("geo.properties.zoomRange",[r,i])},show:function e(t){return t.label&&t.label.show&&!t.label.showInAllLevels&&t.label.expression&&0!==(t.label.expression.key||"").trim().length}}}}}function y(){return{ref:"label.show",translation:"geo.properties.showLabel",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}]}}e.getShowLabelOption=y;function w(e){var t={type:"items",items:{showLegend:{ref:"displayLegend",translation:"geo.properties.displayLegend",type:"string",component:"dropdown",options:"GeodataLayer"===e?[{value:"auto",translation:"Common.Auto"},{value:"small",translation:"geo.properties.displayLegend.small"},{value:"none",translation:"geo.properties.displayLegend.none"}]:[{value:"auto",translation:"Common.Auto"},{value:"full",translation:"geo.properties.displayLegend.full"},{value:"small",translation:"geo.properties.displayLegend.small"},{value:"none",translation:"geo.properties.displayLegend.none"}],defaultValue:"full"}}};var n={ref:"showSizeLegend",translation:"geo.properties.showSizeLegend",type:"boolean",component:"switch",defaultValue:false,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}],show:function e(t){var n=p["a"].isToggled("GEO_SIZE_LEGEND");return n&&"none"!==t.displayLegend&&"small"!==t.displayLegend&&"barChart"!==t.chartType}};var r={type:"items",items:{popUp:{ref:"showPopUp",translation:"geo.properties.showPopUp",type:"boolean",defaultValue:true,change:function e(t){},show:function e(t){return"DensityLayer"!==t.type}},maxObjects:{ref:"maxObjects",translation:"geo.properties.maxObjects",type:"number",defaultValue:1e3,change:function e(t){}}}};var i={};switch(e){case"GeodataLayer":i={legend:t};break;case"DensityLayer":i={legend:t,showThings:r};break;case"PointLayer":case"LineLayer":case"ChartLayer":t.items.sizeLegend=n;default:i={legend:t,showThings:r,label:g()}}var a={ref:"layerSelectionsDisabled",translation:"geo.properties.layerSelectionsDisabled",type:"boolean",defaultValue:false,show:function e(){return p["a"].isToggled("GEO_DISABLE_SELECTION")}};-1!==["PointLayer","LineLayer","ChartLayer","AreaLayer"].indexOf(e)&&(i.layerSelectionsDisabled=a);return{groups:{type:"items",grouped:true,items:i}}}function x(e){var r={type:"items",component:"expandable-items",translation:"geo.properties.options",items:{otherOptions:{type:"items",translation:"geo.properties.other.options",items:w(e)},visibilityOptions:{type:"items",translation:"geo.properties.layer.visibility",items:v(e)},tooltipOptions:{}}};"GeodataLayer"===e&&p["a"].isWm5AtLeast("6.18.0")&&(r.items.appearance={type:"items",translation:"properties.presentation",items:{opacity:{ref:"opacity",translation:"properties.opacity",type:"number",defaultValue:1,min:0,max:1,step:.05,component:"slider"}}});if(["AreaLayer","ChartLayer","LineLayer","PointLayer"].indexOf(e)>=0){var i=[];i.push({value:true,translation:"properties.tooltip.basic"});p["a"].isToggled("CUSTOM_TOOLTIP_BASIC")&&i.push({value:"custom",translation:"properties.tooltip.custom"});i.push({value:false,translation:"properties.off"});r.items.tooltipOptions={type:"items",translation:"properties.tooltip",grouped:false,items:{popUp:{type:"object",component:"dropdown",options:i,defaultValue:true,ref:"showPopUp",translation:"properties.tooltip",show:function e(t){return"DensityLayer"!==t.type}},tooltipOptions:{uses:"tooltip",show:function e(t){return"custom"===t.showPopUp&&p["a"].isToggled("CUSTOM_TOOLTIP_BASIC")},items:{auto:{show:false},customTooltip:{show:function e(t){var n=t.qHyperCubeDef.qDimensions.length>0;return"custom"===t.showPopUp&&n},items:{tooltipTitleAttr:{change:function e(n){var r=t;var i=b["a"].getValue(n,r,[]);l["a"].setAttributeExpression(n,"customTooltipTitle",i,0)},refFn:function e(n){var r=l["a"].getValueForAttrExprInfo(n,"customTooltipTitle",0);n.tooltip&&n.tooltip.title!==r&&(n.tooltip.title=r);return t}},tooltipDescAttr:{change:function e(t){var r=n;var i=b["a"].getValue(t,r,[]);l["a"].setAttributeExpression(t,"customTooltipDescription",i,0)},refFn:function e(t){var r=l["a"].getValueForAttrExprInfo(t,"customTooltipDescription",0);t.tooltip&&t.tooltip.description!==r&&(t.tooltip.description=r);return n}},tooltipDataAttr:{targetDimIndex:0},tooltipImagesPicker:{targetDimIndex:0}}}}}}}}else delete r.items.tooltipOptions;return r}e.getOptionsSection=x;function C(e){var t={component:"text",translation:"geo.properties.dimension.hint",style:"hint",show:function e(t){return 0===t.qHyperCubeDef.qDimensions.length}};var n={uses:"data",translation:"Common.Dimensions",dimension:{min:1,max:e,description:function e(t,n){switch(t.type){case"PointLayer":return a["default"].get("Visualizations.Descriptions.Point");case"AreaLayer":return a["default"].get("Visualizations.Descriptions.Area");case"LineLayer":return 0===n?a["default"].get("Visualizations.Descriptions.Line"):"";case"DensityLayer":return 0===n?a["default"].get("Visualizations.Descriptions.Density"):"";default:return""}},add:function e(t,n,r){t.qDef.qSortCriterias[0]["qSortByLoadOrder"]=1;t.qDef.qSortCriterias[0]["qSortByAscii"]=1;t.qDef.qSortCriterias[0]["qSortByNumeric"]=1;f["a"].setDefaultLocation(t,n);t.qLibraryId&&n.color&&(n.color.useBaseColors="dimension");f["a"].setDefaultLabel(t,n);if(p["a"].isToggled("CUSTOM_TOOLTIP_REMOVE_LIMITS"))if(n.qHyperCubeDef.qDimensions.length>1)c["a"].moveCustomTooltipAttrs(n,{},0);else{c["a"].setCustomTooltipAttrs(n,0);c["a"].unquarantineCustomTooltipAttrs(n)}},move:function e(t,n){p["a"].isToggled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&c["a"].moveCustomTooltipAttrs(n,{},0)},remove:function e(t,n,r){if(n.locationOrLatitude.key===n.locationDefault){n.locationOrLatitude.key="";n.locationOrLatitude.label="";n.locationOrLatitude.type=""}p["a"].isToggled("CUSTOM_TOOLTIP_REMOVE_LIMITS")&&(n.qHyperCubeDef.qDimensions.length>0?c["a"].moveCustomTooltipAttrs(n,t,0):c["a"].quarantineCustomTooltipAttrs(n,t))},replace:function e(t,n,r){if(p["a"].isToggled("CUSTOM_TOOLTIP_REMOVE_LIMITS"))if(n.qHyperCubeDef.qDimensions.length>1)c["a"].moveCustomTooltipAttrs(n,t,0);else{c["a"].quarantineCustomTooltipAttrs(n,t);c["a"].setCustomTooltipAttrs(n,0);c["a"].unquarantineCustomTooltipAttrs(n)}}},measure:{min:0,max:0,show:false},items:{dimensions:{disabledRef:""},measures:{disabledRef:""}}};return{component:"items",translation:"Common.Data",items:{helpText:t,data:n}}}e.getDataSection=C;function q(){var e={component:"text",translation:"geo.properties.dimension.hint",style:"hint",show:function e(t){return 0===t.qHyperCubeDef.qDimensions.length}};var t={uses:"data",translation:"Common.Dimensions",dimension:{min:2,max:2,description:function e(t,n){if(0===n)return a["default"].get("Visualizations.Descriptions.Location");switch(t.chartType){case"pieChart":return a["default"].get("Visualizations.Descriptions.Slice");case"barChart":return a["default"].get("Visualizations.Descriptions.Bar")}},add:function e(t,n,r){var i=n.qHyperCubeDef.qDimensions.length;t.qDef.qSortCriterias[0]["qSortByLoadOrder"]=1;t.qDef.qSortCriterias[0]["qSortByAscii"]=1;t.qDef.qSortCriterias[0]["qSortByNumeric"]=1;if(1===i){f["a"].setDefaultLocation(t,n);f["a"].setDefaultLabel(t,n)}if(2===i&&t!==n.qHyperCubeDef.qDimensions[0]){t.qLibraryId&&n.color&&(n.color.useBaseColors="dimension");t.qOtherTotalSpec.qOtherMode="OTHER_COUNTED";t.qOtherTotalSpec.qOtherCounted={qv:"10"};t.qOtherLabel={qv:a["default"].get("properties.dimensionLimits.others")}}var o=n.qHyperCubeDef.qDimensions[0];o&&(o.qOtherTotalSpec.qSuppressOther=true)},move:function e(t,n,r){var i=n.qHyperCubeDef.qDimensions[0];i&&(i.qOtherTotalSpec.qSuppressOther=true)},remove:function e(t,n,r){if(n.locationOrLatitude.key===n.locationDefault){n.locationOrLatitude.key="";n.locationOrLatitude.label="";n.locationOrLatitude.type=""}var i=n.qHyperCubeDef.qDimensions[0];i&&(i.qOtherTotalSpec.qSuppressOther=true)}},measure:{min:1,max:1,show:true,description:function e(t){switch(t.chartType){case"pieChart":return a["default"].get("Visualizations.Descriptions.Angle");case"barChart":return a["default"].get("Visualizations.Descriptions.Height")}},add:function e(t,n,r){}},items:{dimensions:{items:{others:{items:{suppressOther:{show:function e(t,n){var r=0===n.properties.qHyperCubeDef.qDimensions.indexOf(t);return!r&&"OTHER_OFF"!==t.qOtherTotalSpec.qOtherMode&&n.getMeasures().length>0}}}}},disabledRef:""},measures:{disabledRef:""}}};return{component:"items",translation:"Common.Data",items:{helpText:e,data:t}}}e.getChartLayerDataSection=q;function E(){return{component:"items",translation:"geo.properties.geodata",items:{common:{type:"items",items:{title:{ref:"title",type:"string",translation:"Common.Label"},dataType:{ref:"dataType",translation:"geo.properties.dataType",component:"dropdown",type:"string",options:function e(){var e=[];e.push({value:"tms",translation:"geo.properties.tms"});var t=p["a"].isToggled("GEO_BACKGROUND_WMS");t&&e.push({value:"wms",translation:"geo.properties.wms"});var n=p["a"].isToggled("GEO_BACKGROUND_IMAGE");n&&e.push({value:"image",translation:"geo.properties.image"});return e},defaultValue:"tms"}}},tms:{component:"items",items:{url:{ref:"tms.url",translation:"Common.URL",minlength:1,expression:"optional",type:"string",defaultValue:"",change:function e(t){!t.title&&t.tms&&t.tms.url&&(t.title=i()("<a>").attr("href",t.tms.url).prop("hostname"))}},attribution:{ref:"tms.attribution",type:"string",translation:"properties.attribution",component:"textarea",maxlength:1024},toggle:{ref:"tms.auto",translation:"geo.properties.advancedSettings",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:true},advancedOptions:{component:"items",items:{tileSize:{ref:"tms.tileSize",type:"number",translation:"geo.properties.tileSize",defaultValue:256},tileWidth:{ref:"tms.tileWidth",type:"number",translation:"geo.properties.tileWidth",defaultValue:40075016},tileHeight:{ref:"tms.tileHeight",type:"number",translation:"geo.properties.tileHeight",defaultValue:40075016},originLeft:{ref:"tms.originLeft",type:"number",translation:"geo.properties.originX",defaultValue:-20037508},originTop:{ref:"tms.originTop",type:"number",translation:"geo.properties.originY",defaultValue:20037508}},show:function e(t){return t.tms.hasOwnProperty("auto")&&!t.tms.auto}}},show:function e(t){return"tms"===t.dataType}},wms:{component:"items",items:{wmsSetup:{ref:"wms.setup",component:"wms-setup",translation:"geo.properties.wms.setup",getCapabilities:function e(){return h["a"].getWMSCapabilities}},url:{ref:"wms.url",translation:"Common.URL",minlength:1,type:"string",defaultValue:"",readOnly:true},wmsHint:{component:"items",grouped:true,items:[{component:"text",translation:"geo.properties.wms.hint",style:"hint"}]},attribution:{ref:"wms.attribution",type:"string",translation:"properties.attribution",component:"textarea",maxlength:1024}},show:function e(t){return"wms"===t.dataType}},image:{component:"items",grouped:true,items:{url:{ref:"image.url",translation:"Common.URL",minlength:1,expression:"optional",type:"string",defaultValue:"",change:function e(t){!t.title&&t.image&&t.image.url&&(t.title=i()("<a>").attr("href",t.image.url).prop("hostname"))}},positionSection:{component:"items",items:{imagePostion:{ref:"image.position",translation:"geo.properties.image.position",component:"text",style:"header"},settingsHint:{ref:"image.settingshint",translation:"geo.properties.image.hint",component:"text",style:"hint"},topLeftLabel:{ref:"image.topLeftCorner",translation:"geo.properties.image.topLeftCorner",component:"text",style:"sHeader"},maxX:{ref:"image.maxX",translation:"geo.properties.image.top",expression:"optional",type:"number",defaultValue:5},minY:{ref:"image.minY",translation:"geo.properties.image.left",expression:"optional",type:"number",defaultValue:0},bottomRightLabel:{ref:"image.bottomRightCorner",translation:"geo.properties.image.bottomRightCorner",component:"text",style:"sHeader"},minX:{ref:"image.minX",translation:"geo.properties.image.bottom",expression:"optional",type:"number",defaultValue:0},maxY:{ref:"image.maxY",translation:"geo.properties.image.right",expression:"optional",type:"number",defaultValue:5}}},attribution:{ref:"image.attribution",type:"string",translation:"properties.attribution",component:"textarea",maxlength:1024}},show:function e(t){return"image"===t.dataType}}}}}e.getGeodataSection=E;function I(){var t={chartType:{ref:"chartType",type:"string",component:"item-selection-list",defaultValue:"pieChart",horizontal:true,grouped:true,items:[{icon:"pie_chart",component:"icon-item",labelPlacement:"bottom",translation:"Object.PieChart",value:"pieChart"},{icon:"bar_chart",component:"icon-item",labelPlacement:"bottom",translation:"Object.BarChart",value:"barChart"}]},pieChart:{component:"items",translation:"geo.properties.pieChart",grouped:true,items:{sizeField:e.sizeLayout.sizeField("ChartLayer"),sizeFieldLabel:e.sizeLayout.sizeFieldLabel(),sizeFormatting:e.sizeLayout.sizeFormatting(),divider:{uses:"divider"},sizeSlider:e.sizeLayout.sizeSlider("ChartLayer",20,100,[30,80]),sizeSingleSlider:e.sizeLayout.sizeSingleSlider("ChartLayer",20,100,60),sizeRange:e.sizeLayout.sizeRange(),minSizeValue:e.sizeLayout.minSizeValue("ChartLayer"),maxSizeValue:e.sizeLayout.maxSizeValue("ChartLayer")},show:function e(t){return"pieChart"===t.chartType}},barChart:{component:"items",translation:"geo.properties.barChart",grouped:true,items:{barHeight:e.sizeLayout.barHeight(10,150,100),barWidth:e.sizeLayout.barWidth(5,40,20)},show:function e(t){return"barChart"===t.chartType}}};return{component:"items",translation:"geo.properties.sizeShape",items:t,grouped:true}}e.getSizeAndShapeSection=I;function k(t){var n="";var r={};switch(t){case d["a"].POINT:n="geo.properties.sizeShape";r={sizeField:e.sizeLayout.sizeField("PointLayer"),sizeFieldLabel:e.sizeLayout.sizeFieldLabel(),sizeFormatting:e.sizeLayout.sizeFormatting(),divider:{uses:"divider"},sizeSlider:e.sizeLayout.sizeSlider("PointLayer",1,100,[4,12]),sizeSingleSlider:e.sizeLayout.sizeSingleSlider("PointLayer",1,50,8),sizeRange:e.sizeLayout.sizeRange(),minSizeValue:e.sizeLayout.minSizeValue("PointLayer"),maxSizeValue:e.sizeLayout.maxSizeValue("PointLayer"),sizeShape:e.sizeLayout.sizeShape(),imageToggle:e.sizeLayout.imageToggle(),imageUrlExpression:e.sizeLayout.imageUrlExpression(),imageSelector:e.sizeLayout.imageSelector(),imageRotationField:e.sizeLayout.imageRotationField()};break;case d["a"].LINE:n="geo.properties.widthStyle";r={sizeField:e.sizeLayout.sizeField("LineLayer"),sizeFieldLabel:e.sizeLayout.sizeFieldLabel(),sizeFormatting:e.sizeLayout.sizeFormatting(),divider:{uses:"divider"},sizeSlider:e.sizeLayout.sizeSlider("LineLayer",1,70,[4,12]),sizeSingleSlider:e.sizeLayout.sizeSingleSlider("LineLayer",1,50,8),sizeRange:e.sizeLayout.sizeRange(),minSizeValue:e.sizeLayout.minSizeValue("LineLayer"),maxSizeValue:e.sizeLayout.maxSizeValue("LineLayer"),curve:e.sizeLayout.curve(),arrowStyle:e.sizeLayout.arrowDirection(),arrowPosition:e.sizeLayout.arrowPosition()};break;case d["a"].DENSITY:n="geo.properties.weightRadius";r={weightField:e.densityLayout.weightField(),weightFieldLabel:e.densityLayout.weightFieldLabel(),weightFieldText:e.densityLayout.weightFieldText(),radiusSlider:e.densityLayout.radiusSlider(),radiusUnit:e.densityLayout.unitDropdown()};break}return{component:"items",translation:n,items:r}}e.getSizeSection=k;function A(){return{component:"items",translation:"properties.colors",items:{toggle:{ref:"color.auto",translation:"library.colors.autoFillSwitch",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:true},paletteCreator:{ref:"color.segments",component:"palette-creator",colors:["#050555","#00EAF2","#00B441","#DCFC05","#FF0101","#FFEDED"],limits:[.1,.3,.5,.7,.9],types:[true,true,true,true,true],percentage:true,minMax:{min:0,max:100},show:function e(t){return!t.color.auto}},densityRangeToggle:{ref:"color.densityRangeAuto",translation:"properties.axis.range",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},minDensityValue:{ref:"color.densityRangeMin",translation:"Visualization.ValueRanges.Min",expression:"optional",type:"number",defaultValue:0,show:function e(t){return!t.color.densityRangeAuto}},maxDensityValue:{ref:"color.densityRangeMax",translation:"Visualization.ValueRanges.Max",expression:"optional",type:"number",defaultValue:0,show:function e(t){return!t.color.densityRangeAuto}},opacity:{ref:"color.opacity",translation:"properties.opacity",type:"number",defaultValue:1,min:0,max:1,step:.05,component:"slider"}}}}e.getDensityColorSection=A;e.densityLayout={weightField:function e(){return{ref:"weightRadius.expression",label:a["default"].get("geo.properties.weightField"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"measure",change:function e(t){var n=t.weightRadius.expression;N(t,n)}}},weightFieldLabel:function e(){return{ref:"weightRadius.label",translation:"Common.Label",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"",show:function e(t){return!(void 0===t.weightRadius.expression.key||""===t.weightRadius.expression.key||"libraryItem"===t.weightRadius.expression.type)}}},weightFieldText:function e(){return{component:"text",translation:"geo.properties.weightFieldText.hint",style:"hint"}},radiusSlider:function t(){return{ref:"weightRadius.radiusSliderValue",label:function t(n){var r=n.weightRadius.radiusUnit;var i=n.weightRadius.radius;var o=n.weightRadius.radiusSliderValue;switch(r){case"pixels":r=a["default"].get("geo.properties.radiusType.pixelsPrefix");i=Math.round(5*n.weightRadius.radiusSliderValue)+5;return a["default"].get("geo.properties.influenceRadius",[i,r]);case"feet":r=e.DENSITY_RADIUS_VALUES[o].feet>=5280?a["default"].get("geo.properties.radiusType.milesPrefix"):a["default"].get("geo.properties.radiusType.feetPrefix");return a["default"].get("geo.properties.influenceRadius",[e.DENSITY_RADIUS_VALUES[o].imperialStr,r]);case"meters":r=e.DENSITY_RADIUS_VALUES[o].meter>=1e3?a["default"].get("geo.properties.radiusType.kilometersPrefix"):a["default"].get("geo.properties.radiusType.metersPrefix");return a["default"].get("geo.properties.influenceRadius",[e.DENSITY_RADIUS_VALUES[o].metricStr,r])}},type:"number",defaultValue:10,min:0,max:e.DENSITY_RADIUS_VALUES.length-1,step:1,component:"slider",change:function t(n){var r=0;switch(n.weightRadius.radiusUnit){case"pixels":r=Math.round(5*n.weightRadius.radiusSliderValue)+5;break;case"feet":r=e.DENSITY_RADIUS_VALUES[n.weightRadius.radiusSliderValue].feet;break;case"meters":r=e.DENSITY_RADIUS_VALUES[n.weightRadius.radiusSliderValue].meter;break}n.weightRadius.radius=r}}},unitDropdown:function t(){return{ref:"weightRadius.radiusUnit",translation:"geo.properties.radiusType",type:"string",component:"dropdown",options:[{value:"pixels",translation:"geo.properties.radiusType.pixels"},{value:"meters",translation:"geo.properties.radiusType.meters"},{value:"feet",translation:"geo.properties.radiusType.feet"}],defaultValue:"pixels",change:function t(n){var r=0;switch(n.weightRadius.radiusUnit){case"pixels":r=Math.round(5*n.weightRadius.radiusSliderValue)+5;break;case"feet":r=e.DENSITY_RADIUS_VALUES[n.weightRadius.radiusSliderValue].feet;break;case"meters":r=e.DENSITY_RADIUS_VALUES[n.weightRadius.radiusSliderValue].meter;break}n.weightRadius.radius=r}}}};e.sizeLayout={sizeField:function e(t){var n="";n="LineLayer"===t?"geo.properties.widthBy":"geo.properties.size";return{numFormatRef:"size.formatting",ref:"size.expression",label:a["default"].get(n),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"measure",change:function e(t){var n=t.size.expression;R(t,n)}}},sizeFormatting:function e(){return S.getNumberFormattingPropertiesWithMasterLink("size.formatting",(function(e){var t,n,r,i;return(null===(i=null===(r=null===(n=null===(t=e)||void 0===t?void 0:t.size)||void 0===n?void 0:n.expression)||void 0===r?void 0:r.key)||void 0===i?void 0:i.length)>0}),(function(e){var t,n,r;return"libraryItem"===(null===(r=null===(n=null===(t=e)||void 0===t?void 0:t.size)||void 0===n?void 0:n.expression)||void 0===r?void 0:r.type)}))},sizeFieldLabel:function e(){return{ref:"size.label",translation:"Common.Label",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"",show:function e(t){return!(void 0===t.size.expression.key||""===t.size.expression.key||"libraryItem"===t.size.expression.type)}}},sizeSlider:function e(t,n,r,i){return{ref:"size.slider",label:function e(n){var r="";var i="";switch(n.size.shape){case"points":r="Bubble";break;case"squares":r="Square";break;case"triangles":r="Triangle";break;case"hexagons":r="Hexagon";break;case"pentagons":r="Pentagon";break;default:r="Bubble";break}i="LineLayer"===t?"geo.properties.widthRangeLine":"ChartLayer"===t?"geo.properties.sizeRangePie":"geo.properties.sizeRange"+r;return a["default"].get(i)},type:"array",component:"slider",min:n,max:r,step:1,defaultValue:i,change:function e(t){var n=L(t.size.slider[0]);var r=L(t.size.slider[1]);t.size.radiusMin=n;t.size.radiusMax=r},show:function e(t){return t.size.expression.key&&t.size.expression.key.length>0}}},sizeSingleSlider:function e(t,n,r,i){return{ref:"size.sliderSingle",label:function e(n){var r="";var i="";switch(n.size.shape){case"points":r="Bubble";break;case"squares":r="Square";break;case"triangles":r="Triangle";break;case"hexagons":r="Hexagon";break;case"pentagons":r="Pentagon";break;default:r="Bubble";break}i="LineLayer"===t?"geo.properties.widthSingleLine":"ChartLayer"===t?"geo.properties.sizeSinglePie":"geo.properties.sizeSingle"+r;return a["default"].get(i)},type:"number",component:"slider",min:n,max:r,step:1,defaultValue:i,change:function e(t){var n=L(t.size.sliderSingle);var r=Math.ceil(n/2);t.size.radiusMin=n-r;t.size.radiusMax=n+r},show:function e(t){return!(t.size.expression.key&&t.size.expression.key.length>0)}}},sizeRange:function e(){return{ref:"size.autoRadiusValueRange",translation:"properties.axis.range",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:function e(t){return t.size.expression.key&&t.size.expression.key.length>0}}},minSizeValue:function e(t){var n="";n="LineLayer"===t?"geo.properties.width.min":"geo.properties.radius.min";return{ref:"size.radiusValueMin",translation:n,expression:"optional",type:"number",defaultValue:0,show:function e(t){return!t.size.autoRadiusValueRange&&t.size.expression.key&&t.size.expression.key.length>0}}},maxSizeValue:function e(t){var n="";n="LineLayer"===t?"geo.properties.width.max":"geo.properties.radius.max";return{ref:"size.radiusValueMax",translation:n,expression:"optional",type:"number",defaultValue:0,show:function e(t){return!t.size.autoRadiusValueRange&&t.size.expression.key&&t.size.expression.key.length>0}}},sizeShape:function e(){var t=[{value:"points",translation:"geo.properties.marker.points"},{value:"triangles",translation:"geo.properties.marker.triangles"},{value:"squares",translation:"geo.properties.marker.squares"},{value:"pentagons",translation:"geo.properties.marker.pentagons"},{value:"hexagons",translation:"geo.properties.marker.hexagons"}];p["a"].isToggled("GEO_POINT_SYMBOLS")&&t.push({value:"image",translation:"Common.Image"});return{ref:"size.shape",translation:"geo.properties.shape",type:"string",component:"dropdown",options:t,defaultValue:"points"}},imageToggle:function e(){return{ref:"image.simplePicker",translation:"Simple picker",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:false}},imageUrlExpression:function e(){return{ref:"image.expression",translation:"Common.Image",type:"string",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",change:function e(t){var n=t.image.expression;N(t,n)},show:function e(t){var n=t.size&&t.size.shape&&"image"===t.size.shape;var r=null==t.image||false!==t.image.simplePicker;return n&&!r}}},imageSelector:function e(){return{ref:"image.qStaticContentUrlDef.qUrl",layoutRef:"image.qStaticContentUrl.qUrl",schemaIgnore:true,translation:"Common.Image",tooltip:{select:"properties.media.select",remove:"properties.media.removeBackground"},type:"string",component:"media",defaultValue:"",show:function e(t){var n=t.size&&t.size.shape&&"image"===t.size.shape;var r=null==t.image||false!==t.image.simplePicker;return n&&r}}},imageRotationField:function e(){return{ref:"image.rotation.expression",label:a["default"].get("geo.properties.image.rotation"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"measure",show:function e(t){return t.size&&t.size.shape&&"image"===t.size.shape},change:function e(t){var n=t.image.rotation.expression;R(t,n)}}},arrowDirection:function e(){return{ref:"size.arrowDirection",translation:"geo.properties.arrowDirection",type:"string",component:"dropdown",options:[{value:"none",translation:"Common.None"},{value:"forward",translation:"geo.properties.forward"},{value:"backward",translation:"geo.properties.backward"},{value:"both",translation:"geo.properties.both"}],change:function e(t){var n=t.size.arrowDirection;N(t,n)}}},arrowPosition:function e(){return{ref:"size.arrowPosition",label:function e(t){return a["default"].get("geo.properties.arrowPosition",t.size.arrowPosition)},type:"number",component:"slider",min:0,max:100,step:1,defaultValue:80,change:function e(t){var n=t.size.arrowPosition;N(t,n)},show:function e(t){return!(t.size&&"none"===t.size.arrowDirection)}}},curve:function e(){return{ref:"size.curviness",label:function e(){return a["default"].get("geo.properties.curviness")},type:"number",component:"slider",min:0,max:99,step:1,defaultValue:0,show:function e(t){return t.path&&t.path.startEndPoint}}},barHeight:function e(t,n,r){return{ref:"size.barHeight",translation:"Visualizations.Descriptions.Height",type:"number",component:"slider",min:t,max:n,step:1,defaultValue:r}},barWidth:function e(t,n,r){return{ref:"size.barWidth",translation:"Visualizations.Descriptions.Width",type:"number",component:"slider",min:t,max:n,step:.5,defaultValue:r}}};e.locationLayout={locationText:function e(t){return{component:"text",translation:"geo.properties.location.hint",style:"hint",show:function e(n){return!P(n,t+"isLatLong")}}},latlongText:function e(t){return{component:"text",translation:"geo.properties.latlong.hint",style:"hint",show:function e(n){return P(n,t+"isLatLong")}}},location:function e(t){return{ref:t+"locationOrLatitude",type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",label:function e(n){return P(n,t+"isLatLong")?a["default"].get("geo.properties.latitude"):a["default"].get("geo.properties.locationField")},change:function e(n){var r=P(n,t+"locationOrLatitude");N(n,r)}}},locationRestrictionSwitch:function e(t){return{ref:t+"locationNamesAuto",translation:"geo.properties.location.details",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:function e(n){return!P(n,t+"isLatLong")}}},locationNameCountryInstruction:function e(t){return{component:"text",translation:"geo.properties.location.country.hint",style:"hint",show:function e(n){return!P(n,t+"isLatLong")&&!P(n,t+"locationNamesAuto")}}},locationNameAdmin1Instruction:function e(t){return{component:"text",translation:"geo.properties.location.admin1.hint",style:"hint",show:function e(n){return!P(n,t+"isLatLong")&&P(n,t+"locationCountry")&&0!==(P(n,t+"locationCountry").key||"").trim().length&&!P(n,t+"locationNamesAuto")}}},locationType:function e(t){return{ref:t+"locationType",translation:"geo.properties.locationType",type:"string",component:"dropdown",options:[{value:"",translation:"Common.Auto"},{value:"LCONT",translation:"geo.properties.location.continent"},{value:"APCL*",translation:"geo.properties.location.country"},{value:"XCISO2",translation:"geo.properties.location.countryISO2"},{value:"XCISO3",translation:"geo.properties.location.countryISO3"},{value:"AADM1",translation:"geo.properties.location.admin1"},{value:"AADM2",translation:"geo.properties.location.admin2"},{value:"AADM3",translation:"geo.properties.location.admin3"},{value:"AADM4",translation:"geo.properties.location.admin4"},{value:"XPC",translation:"geo.properties.location.postalCode"},{value:"P*",translation:"geo.properties.location.city"},{value:"XIATA",translation:"geo.properties.location.airportIATA"},{value:"XICAO",translation:"geo.properties.location.airportICAO"}],defaultValue:"",show:function e(n){return!P(n,t+"isLatLong")&&!P(n,t+"locationNamesAuto")}}},country:function e(t){return{ref:t+"locationCountry",label:a["default"].get("geo.properties.countryForNames"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",show:function e(n){return!P(n,t+"isLatLong")&&!P(n,t+"locationNamesAuto")},change:function e(n){var r=P(n,t+"locationCountry");N(n,r)}}},admin1:function e(t){return{ref:t+"locationAdmin1",label:a["default"].get("geo.properties.stateAdmin1ForNames"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",show:function e(n){return!P(n,t+"isLatLong")&&P(n,t+"locationCountry")&&0!==(P(n,t+"locationCountry").key||"").trim().length&&!P(n,t+"locationNamesAuto")},change:function e(n){var r=P(n,t+"locationAdmin1");N(n,r)}}},admin2:function e(t){return{ref:t+"locationAdmin2",label:a["default"].get("geo.properties.admin2ForNames"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",show:function e(n){return!P(n,t+"isLatLong")&&P(n,t+"locationAdmin1")&&0!==(P(n,t+"locationAdmin1").key||"").trim().length&&P(n,t+"locationCountry")&&0!==(P(n,t+"locationCountry").key||"").trim().length&&!P(n,t+"locationNamesAuto")},change:function e(n){var r=P(n,t+"locationAdmin2");N(n,r)}}},isLatLong:function e(t){return{ref:t+"isLatLong",translation:"geo.properties.isLatLong",type:"boolean",defaultValue:false}},longitude:function e(t){return{ref:t+"longitude",label:a["default"].get("geo.properties.longitude"),schemaIgnore:true,type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"dimension",show:function e(n){return P(n,t+"isLatLong")},change:function e(n){var r=P(n,t+"longitude");N(n,r)}}},emptyTextComp:function e(t){return{translation:"",component:"text",style:"sHeader",show:function e(n){return!P(n,t+"isLatLong")}}},startPoint:function e(){return{component:"text",translation:"geo.properties.startPoint",style:"sHeader"}},endPoint:function e(){return{component:"text",translation:"geo.properties.endPoint",style:"sHeader"}},startEndPoint:function e(){return{ref:"path.startEndPoint",type:"boolean",component:"dropdown",defaultValue:true,options:[{value:true,translation:"geo.properties.startEndPoint"},{value:false,translation:"geo.properties.lineGeometry"}]}},pathField:function e(){return{type:"items",items:{pathField:{ref:"path.field",label:a["default"].get("geo.properties.lineGeometryField"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",show:function e(t){return t.path&&!t.path.startEndPoint},change:function e(t){var n=t.path.field;N(t,n)}},pathText:{component:"text",translation:"geo.properties.lineGeometry.hint",style:"hint",show:function e(t){return t.path&&!t.path.startEndPoint}}}}}};function T(t){var n={};switch(t){case d["a"].AREA:n={location1:{type:"items",translation:"geo.properties.location",items:{location:e.locationLayout.location(""),locationText:e.locationLayout.locationText(""),latlongText:e.locationLayout.latlongText(""),locationRestrictionSwitch:e.locationLayout.locationRestrictionSwitch(""),locationtype:e.locationLayout.locationType(""),country:e.locationLayout.country(""),locationNameCountryInstruction:e.locationLayout.locationNameCountryInstruction(""),admin1:e.locationLayout.admin1(""),locationNameAdmin1Instruction:e.locationLayout.locationNameAdmin1Instruction(""),admin2:e.locationLayout.admin2("")}}};break;case d["a"].CHART:case d["a"].DENSITY:case d["a"].POINT:n={location1:{type:"items",translation:"geo.properties.location",items:{islatlong:e.locationLayout.isLatLong(""),location:e.locationLayout.location(""),locationText:e.locationLayout.locationText(""),latlongText:e.locationLayout.latlongText(""),locationRestrictionSwitch:e.locationLayout.locationRestrictionSwitch(""),locationtype:e.locationLayout.locationType(""),country:e.locationLayout.country(""),locationNameCountryInstruction:e.locationLayout.locationNameCountryInstruction(""),admin1:e.locationLayout.admin1(""),locationNameAdmin1Instruction:e.locationLayout.locationNameAdmin1Instruction(""),admin2:e.locationLayout.admin2(""),longitude:e.locationLayout.longitude("")}}};break;case d["a"].LINE:n={path:{type:"items",translation:"geo.properties.path",grouped:true,items:{startEndPoint:e.locationLayout.startEndPoint(),pathField:e.locationLayout.pathField()}},location1:{type:"items",translation:"geo.properties.startPoint",items:{groups:{type:"items",items:{startPoint:e.locationLayout.startPoint(),islatlong:e.locationLayout.isLatLong(""),location:e.locationLayout.location(""),locationText:e.locationLayout.locationText(""),emptyTextComp:e.locationLayout.emptyTextComp(""),latlongText:e.locationLayout.latlongText(""),locationRestrictionSwitch:e.locationLayout.locationRestrictionSwitch(""),locationtype:e.locationLayout.locationType(""),country:e.locationLayout.country(""),locationNameCountryInstruction:e.locationLayout.locationNameCountryInstruction(""),admin1:e.locationLayout.admin1(""),locationNameAdmin1Instruction:e.locationLayout.locationNameAdmin1Instruction(""),admin2:e.locationLayout.admin2(""),longitude:e.locationLayout.longitude("")}}},grouped:true,show:function e(t){return t.path&&t.path.startEndPoint}},location2:{type:"items",translation:"geo.properties.endPoint",items:{groups:{type:"items",items:{endPoint:e.locationLayout.endPoint(),islatlong:e.locationLayout.isLatLong("location2."),location:e.locationLayout.location("location2."),locationText:e.locationLayout.locationText("location2."),emptyTextComp:e.locationLayout.emptyTextComp("location2."),latlongText:e.locationLayout.latlongText("location2."),locationRestrictionSwitch:e.locationLayout.locationRestrictionSwitch("location2."),locationtype:e.locationLayout.locationType("location2."),country:e.locationLayout.country("location2."),locationNameCountryInstruction:e.locationLayout.locationNameCountryInstruction("location2."),admin1:e.locationLayout.admin1("location2."),locationNameAdmin1Instruction:e.locationLayout.locationNameAdmin1Instruction("location2."),admin2:e.locationLayout.admin2("location2."),longitude:e.locationLayout.longitude("location2.")}}},show:function e(t){return t.path&&t.path.startEndPoint}}};break;default:break}var r={component:"items",translation:"geo.properties.location",items:n};return r}e.getLocationSection=T;function D(e){var t={uses:"colorsAndLegend",translation:"properties.colors",grouped:true,show:function e(t){return t.qHyperCubeDef&&t.qHyperCubeDef.qDimensions.length>0},items:{colors:{items:{colorMode:{options:function e(){return[{value:"primary",translation:"properties.colorMode.primary"},{value:"byDimension",translation:"properties.colorMode.byDimension"},{value:"byMeasure",translation:"properties.colorMode.byMeasure"},{value:"byExpression",translation:"properties.colorMode.byExpression"}]},change:function e(t){t.color.auto||"byExpression"!==t.color.mode?u["a"].setExprInProperties("colorByExpression",null,t):"byExpression"===t.color.mode&&u["a"].setExprInProperties("colorByExpression",t.color.colorExpression,t);"byMeasure"!==t.color.mode||t.color.hasOwnProperty("byMeasureDef")||(t.color.byMeasureDef={label:"",key:"",type:"expression"})}},colorByLabel:{},numberFormatting:S.getNumberFormattingPropertiesWithMasterLink("color.formatting",(function(e){var t,n,r,i,a,o,s,l;return!(null===(n=null===(t=e)||void 0===t?void 0:t.color)||void 0===n?void 0:n.auto)&&"byMeasure"===(null===(i=null===(r=e)||void 0===r?void 0:r.color)||void 0===i?void 0:i.mode)&&(null===(l=null===(s=null===(o=null===(a=e)||void 0===a?void 0:a.color)||void 0===o?void 0:o.byMeasureDef)||void 0===s?void 0:s.key)||void 0===l?void 0:l.length)>0}),(function(e){var t,n,r;return"libraryItem"===(null===(r=null===(n=null===(t=e)||void 0===t?void 0:t.color)||void 0===n?void 0:n.byMeasureDef)||void 0===r?void 0:r.type)})),baseColors:{type:"items",items:{useBaseColor:{options:function e(t,n){var r=s["default"].getLogicFor("hard","default");var i=n.layout;var a=[{value:"off",translation:"Common.None"}];r.color.baseColor.hasDimensionColor(n)&&"byMultiple"!==i.color.mode&&a.push({value:"dimension",translation:"Common.Dimension"});return a}}}},attributeExpression:{ref:"color.colorExpression",globalChange:function e(){},change:function e(t){u["a"].setExprInProperties("colorByExpression",t.color.colorExpression,t)},show:function e(t){return!t.color.auto&&"byExpression"===t.color.mode}},expressionLabel:{show:function e(t){var n=true===t.color.auto;var r="byExpression"===t.color.mode;var i=true===t.color.expressionIsColor;return!n&&r&&!i}},persistentColors:{},expressionIsColor:{show:function e(t){return!t.color.auto&&"byExpression"===t.color.mode}},customRange:{type:"items",items:{min:{invalid:function e(t){return t.color.measureMin>=t.color.measureMax}},max:{invalid:function e(t){return t.color.measureMin>=t.color.measureMax}}}},transparency:{ref:"color.opacity",translation:"properties.opacity",type:"number",defaultValue:1,min:0,max:1,step:.05,component:"slider"}}},outline:{type:"items",items:{outline:{ref:"color.outline",translation:"geo.properties.color.outline",type:"integer",component:"color-picker",dualOutput:true,defaultValue:function e(){return{index:-1,color:"#7b7a78"}},change:function e(t){t.color.outline.index=-1},show:function e(t){return"LineLayer"!==t.type}},outlineTransparency:{ref:"color.outlineOpacity",translation:"properties.opacity",type:"number",defaultValue:1,min:0,max:1,step:.05,component:"slider",show:function e(t){return"LineLayer"!==t.type}}}},legend:{show:function e(){return false}}}};e===d["a"].CHART&&(t.items.colors.items.persistentColors={defaultValue:true});return t}e.getColorSection=D;function O(t){function n(){return{key:"",label:"",type:""}}var r={type:t,locationOrLatitude:n(),locationDefault:"",locationNamesAuto:true,locationType:"",locationCountry:n(),locationAdmin1:n(),locationAdmin2:n(),maxObjects:"PointLayer"===t?4e3:1e3,showLayer:true,hideCalcCond:false,exclFromAutozoom:false,layerSelectionsDisabled:false,color:{outline:{index:-1,color:"#7b7a78"},outlineOpacity:1,opacity:1,auto:!("PointLayer"===t||"AreaLayer"===t||"LineLayer"===t),mode:"primary",paletteColor:{index:6,color:"#4477aa"},measureScheme:"sg",dimensionScheme:"12",colorExpression:"",expressionIsColor:true,measureMin:0,measureMax:10},displayLegend:"auto",showSizeLegend:p["a"].isToggled("GEO_SIZE_LEGEND"),showToolTip:true,showInAllLevels:true,zoomRange:[e.ZOOM_RANGE_MIN,e.ZOOM_RANGE_MAX],showPopUp:true,displayUnselected:false,label:{show:false,expression:n(),position:"TOP",showInAllLevels:true,visibleRange:[e.ZOOM_RANGE_MIN,e.ZOOM_RANGE_MAX]},drillDown:{auto:true,showLevel0:true,showLevel1:true,showLevel2:true,showLevel3:true,showLevel4:true,showLevel5:true,showLevel6:true,showLevel7:true},qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:1,qHeight:0}]},tooltip:{auto:true,imageComponents:void 0}};p["a"].isToggled("CUSTOM_TOOLTIP_REMOVE_LIMITS")||(r.tooltip.data={qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:1,qHeight:0}]}});switch(t){case d["a"].DENSITY:r.color={segments:{colors:["#050555","#00EAF2","#00B441","#DCFC05","#FF0101","#FFEDED"],limits:[.1,.3,.5,.7,.9],types:[true,true,true,true,true],percentage:true,minMax:{min:0,max:100}},auto:false,densityRangeAuto:true,densityRangeMin:0,densityRangeMax:10,opacity:1};r.weightRadius={expression:n(),label:"",radius:20,radiusSliderValue:5,radiusUnit:"pixels"};break;case d["a"].POINT:r.size={radiusMin:4,radiusMax:12,radiusValueMin:0,radiusValueMax:1,autoRadiusValueRange:true,expression:n(),label:"",slider:[8,24],sliderSingle:16,shape:"points",formatting:{qNumFormat:{qType:"U"}}};break;case d["a"].GEODATA:o["a"].extend(true,r,{title:"",dataType:"tms",tms:{url:"",attribution:"",auto:true,tileSize:256,tileWidth:40075016,tileHeight:40075016,originLeft:-20037508,originTop:20037508},wms:{url:"https://",attribution:"",version:"1.1.0",selectedCrs:"EPSG:3857",selectedFormat:"PNG",hasWmsLoaded:false,viaServer:false,capabilities:{layers:[],transparent:true,crs:["EPSG:3857"],formats:["PNG"]}},image:{url:"",minX:0,minY:0,maxX:5,maxY:5,attribution:""}});break;case d["a"].LINE:r.size={radiusMin:4,radiusMax:12,radiusValueMin:0,radiusValueMax:1,autoRadiusValueRange:true,expression:n(),label:"",slider:[8,24],sliderSingle:5,arrowDirection:"none",arrowPosition:80,curviness:0,formatting:{qNumFormat:{qType:"U"}}};r.location2={locationOrLatitude:n(),locationDefault:"",locationNamesAuto:true,locationType:"",locationCountry:n(),locationAdmin1:n(),locationAdmin2:n()};r.path={startEndPoint:true,field:n(),locationDefault:""};break;case d["a"].CHART:r.chartType="pieChart";r.size={radiusMin:20,radiusMax:100,radiusValueMin:0,radiusValueMax:1,autoRadiusValueRange:true,expression:n(),label:"",slider:[20,80],sliderSingle:60,barHeight:100,barWidth:20,formatting:{qNumFormat:{qType:"U"}}};break}return r}e.getInitialProperties=O;function L(e){return e<20?Math.ceil(e/2):e<40?e-20+10:e<60?30+2*(e-40):70+4*(e-60)}function M(e){return e<10?2*e:e<30?20+Math.round(e-10):e<70?40+Math.round((e-30)/2):60+Math.round((e-70)/4)}e.getSliderValueFromSize=M;function P(e,t){t=t.replace(/\[(\w+)\]/g,".$1");t=t.replace(/^\./,"");var n=t.split(".");for(var r=0,i=n.length;r<i;++r){var a=n[r];if(!(a in e))return;e=e[a]}return e}e.byString=P;function N(e,t){var n=t.activeDimensionIndex;if(void 0!==n)try{var r=e.qHyperCubeDef.qDimensions[n].qLibraryId;if(r){t.key=r;t.label="";t.type="libraryItem";t.activeDimensionIndex=void 0}else t.key=p["a"].bracketStringIfNeeded(t.key)}catch(e){}}function R(e,t){var n=t.activeMeasureIndex;if(void 0!==n&&e.qHyperCubeDef.qMeasures.length>n)try{var r=e.qHyperCubeDef.qMeasures[n];if(r.qLibraryId){t.type="libraryItem";t.label=r.qLibraryId;t.key=r.qLibraryId}else{var i=r.qDef||{};t.type="expression";t.key=i.qDef;t.label=i.qLabel||i.qDef||""}}catch(e){}}e.DENSITY_RADIUS_VALUES=[{meter:1,feet:3,metricStr:"1",imperialStr:"3"},{meter:1.5,feet:5,metricStr:"1.5",imperialStr:"5"},{meter:2,feet:7,metricStr:"2",imperialStr:"7"},{meter:3,feet:10,metricStr:"3",imperialStr:"10"},{meter:4,feet:13,metricStr:"4",imperialStr:"13"},{meter:5,feet:16,metricStr:"5",imperialStr:"16"},{meter:7,feet:23,metricStr:"7",imperialStr:"23"},{meter:10,feet:33,metricStr:"10",imperialStr:"33"},{meter:15,feet:50,metricStr:"15",imperialStr:"50"},{meter:20,feet:65,metricStr:"20",imperialStr:"65"},{meter:40,feet:130,metricStr:"40",imperialStr:"130"},{meter:60,feet:200,metricStr:"60",imperialStr:"200"},{meter:80,feet:260,metricStr:"80",imperialStr:"260"},{meter:100,feet:330,metricStr:"100",imperialStr:"330"},{meter:130,feet:430,metricStr:"130",imperialStr:"430"},{meter:160,feet:530,metricStr:"160",imperialStr:"530"},{meter:200,feet:650,metricStr:"200",imperialStr:"650"},{meter:250,feet:820,metricStr:"250",imperialStr:"820"},{meter:300,feet:1e3,metricStr:"300",imperialStr:"1000"},{meter:350,feet:1200,metricStr:"350",imperialStr:"1200"},{meter:400,feet:1400,metricStr:"400",imperialStr:"1400"},{meter:500,feet:2300,metricStr:"500",imperialStr:"1600"},{meter:700,feet:3300,metricStr:"700",imperialStr:"2300"},{meter:1e3,feet:3300,metricStr:"1",imperialStr:"3300"},{meter:2e3,feet:5280,metricStr:"2",imperialStr:"1"},{meter:3e3,feet:10560,metricStr:"3",imperialStr:"2"},{meter:4e3,feet:15840,metricStr:"4",imperialStr:"3"},{meter:5e3,feet:21120,metricStr:"5",imperialStr:"4"},{meter:6e3,feet:26400,metricStr:"6",imperialStr:"5"},{meter:8e3,feet:31680,metricStr:"8",imperialStr:"6"},{meter:1e4,feet:42240,metricStr:"10",imperialStr:"8"},{meter:15e3,feet:52800,metricStr:"15",imperialStr:"10"},{meter:25e3,feet:63360,metricStr:"25",imperialStr:"12"},{meter:4e4,feet:79200,metricStr:"40",imperialStr:"15"},{meter:6e4,feet:132e3,metricStr:"60",imperialStr:"25"},{meter:8e4,feet:264e3,metricStr:"80",imperialStr:"50"},{meter:1e5,feet:316800,metricStr:"100",imperialStr:"60"},{meter:13e4,feet:422400,metricStr:"130",imperialStr:"80"},{meter:17e4,feet:528e3,metricStr:"170",imperialStr:"100"},{meter:2e5,feet:66e4,metricStr:"200",imperialStr:"125"},{meter:25e4,feet:792e3,metricStr:"250",imperialStr:"150"},{meter:35e4,feet:1056e3,metricStr:"350",imperialStr:"200"},{meter:5e5,feet:132e4,metricStr:"500",imperialStr:"250"},{meter:65e4,feet:2112e3,metricStr:"650",imperialStr:"400"},{meter:8e5,feet:264e4,metricStr:"800",imperialStr:"500"},{meter:1e6,feet:3168e3,metricStr:"1000",imperialStr:"600"},{meter:125e4,feet:4224e3,metricStr:"1250",imperialStr:"800"},{meter:15e5,feet:528e4,metricStr:"1500",imperialStr:"1000"},{meter:175e4,feet:5808e3,metricStr:"1750",imperialStr:"1100"},{meter:2e6,feet:66e5,metricStr:"2000",imperialStr:"1250"}]})(x||(x={}));var C=t["a"]=x},io1p:function(e,t,n){"use strict";var r=n("+GbC");var i=n("X13V");var a=n("T0sl");var o=n("s+sU");function s(e,t,n){Object.defineProperties(this,{qFallbackTitle:{value:e.qFallbackTitle},qSortIndicator:{value:e.qSortIndicator},qReverseSort:{value:e.qReverseSort||false},col:{value:t},isOrderedBy:{value:t===n.qHyperCube.qEffectiveInterColumnSortOrder[0]},isDimension:{value:t<n.qHyperCube.qDimensionInfo.length},selections:{value:[]},parent:{value:n}});this.isDimension?Object.defineProperties(this,{qCardinal:{value:e.qCardinal},qStateCounts:{value:e.qStateCounts},qDimensionInfo:{value:e}}):Object.defineProperties(this,{qMax:{value:e.qMax},qMin:{value:e.qMin},qMeasureInfo:{value:e}});e.qGroupFieldDefs&&e.qGroupFieldDefs.length>0&&Object.defineProperties(this,{field:{value:n.app.field(e.qGroupFieldDefs[e.qGroupPos])}});e.qError&&Object.defineProperties(this,{errorCode:{value:e.qError.qErrorCode},errorMessage:{value:this.isDimension?i["a"].getDimensionError(e.qError.qErrorCode):i["a"].getMeasureError(e.qError.qErrorCode)}})}s.prototype.orderBy=function(){var e=[this.col];this.parent.qHyperCube.qEffectiveInterColumnSortOrder.forEach((function(t){t!==e[0]&&e.push(t)}));var t=[{qPath:"/".concat(this.parent.defPath,"/qInterColumnSortOrder"),qOp:"replace",qValue:"[".concat(e.join(","),"]")}];return this.parent.model.applyPatches(t,true)};s.prototype.reverseOrder=function(){var e=this.col<this.parent.qHyperCube.qDimensionInfo.length;var t=[{qPath:"/".concat(this.parent.defPath).concat(e?"/qDimensions/".concat(this.col):"/qMeasures/".concat(this.col-this.parent.qHyperCube.qDimensionInfo.length),"/qDef/qReverseSort"),qOp:"replace",qValue:(!this.qReverseSort).toString()}];return this.parent.model.applyPatches(t,true)};s.prototype.isSelected=function(e){return this.selections.indexOf(e)>-1};s.prototype.toggleSelect=function(e){var t=this.selections.indexOf(e);t<0?this.selections.push(e):this.selections.splice(t,1)};s.prototype.selectRange=function(e,t,n,r){var i={qMeasureIx:this.col-this.parent.qHyperCube.qDimensionInfo.length,qRange:{qMin:e,qMax:t,qMinInclEq:n,qMaxInclEq:r}};return this.parent.model.rangeSelectHyperCubeValues("/".concat(this.parent.defPath),[i],[],false)};function l(e,t,n,r){Object.defineProperties(this,{qDimensionInfo:{value:t},qText:{value:e.qIsOtherCell?t.othersLabel:e.qText},qElemNumber:{value:e.qElemNumber},qState:{value:e.qState},col:{value:n},selected:{get:function e(){return this.header.isSelected(this.qElemNumber)}},header:{get:function e(){return this.parent.headers[this.col]}},parent:{value:r}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}})}l.prototype.select=function(){this.header.toggleSelect(this.qElemNumber);if(this.parent.view&&this.parent.view.selectValues)return this.parent.view.selectValues(this.col,[this.qElemNumber],true);return this.parent.model.selectHyperCubeValues("/".concat(this.parent.defPath),this.col,[this.qElemNumber],true)};function c(e,t,n){Object.defineProperties(this,{qMeasureInfo:{value:t},qGrandTotal:{value:n},qText:{value:e.qText}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}})}c.prototype.getPercentOfMax=function(){return Math.round(100*this.qNum/this.qMeasureInfo.qMax*100)/100};c.prototype.getPercent=function(){return Math.round(100*this.qNum/this.qGrandTotal.qNum*100)/100};function u(e,t,n){var r=[];var i=[];var o=[];var s=t.qDimensionInfo.length;var u=t.qColumnOrder||t.columnOrder;var d=a["a"].columnOrder.isValid(u,t.qDimensionInfo,t.qMeasureInfo,true);e.forEach((function(e,a){if(u&&d){var f;if(n.headers[a].isDimension){f=new l(e,n.headers[a].qDimensionInfo,a,n);r.push(f)}else{f=new c(e,n.headers[a].qMeasureInfo,t.qGrandTotalRow[i.length+1]||"");i.push(f)}o[a]=f}else{a<s?r.push(new l(e,t.qDimensionInfo[a],a,n)):i.push(new c(e,t.qMeasureInfo[a-s],t.qGrandTotalRow[a-s]));o=r.concat(i)}}));Object.defineProperties(this,{dimensions:{value:r},measures:{value:i},cells:{value:o}})}function d(e,t){t&&t.forEach((function(t){t.qMatrix.forEach((function(t){e.rows.push(new u(t,e.qHyperCube,e))}))}))}function f(e){!e.qHyperCube&&e.model.layout&&(e.qHyperCube=e.model.layout[e.path]);if(e.model&&e.model.layout&&e.model.layout.qSelectionInfo&&e.model.layout.qSelectionInfo.qInSelections)return;e.headers.length=0;e.totals.length=0;e.rows.length=0;if(e.qHyperCube){var t=e.qHyperCube.qDimensionInfo?e.qHyperCube.qDimensionInfo.length:0;var n=e.qHyperCube.columnOrder;var r=a["a"].columnOrder.isValid(n,e.qHyperCube.qDimensionInfo,e.qHyperCube.qMeasureInfo,true);e.qHyperCube.qDimensionInfo&&e.qHyperCube.qDimensionInfo.forEach((function(t,i){if(n&&r){var a=n.indexOf(i);e.headers[a]=new s(t,i,e)}else e.headers.push(new s(t,i,e))}));e.qHyperCube.qMeasureInfo&&e.qHyperCube.qMeasureInfo.forEach((function(i,a){if(n&&r){var o=n.indexOf(a+t);e.headers[o]=new s(i,a+t,e)}else e.headers.push(new s(i,a+t,e))}));e.qHyperCube.qGrandTotalRow&&e.qHyperCube.qGrandTotalRow.forEach((function(t,n){e.totals.push(new c(t,e.qHyperCube.qMeasureInfo[n]))}));d(e,e.qHyperCube.qDataPages)}e.OnData.emit()}function p(e,t,n){Object.defineProperties(e,{model:{value:t},view:{value:n}});f(e);if(e.model&&e.model.Validated){e._OnModelValid=function(){f(e)};e.model.Validated.bind(e._OnModelValid)}}function h(e,t,n){r["a"].create(this,"OnData");Object.defineProperties(this,{app:{value:e},path:{value:n||"qHyperCube"},defPath:{get:function e(){return"".concat(this.path,"Def")}},rows:{value:[]},headers:{value:[]},totals:{value:[]},rowCount:{get:function e(){if(this.qHyperCube&&this.qHyperCube.qSize)return this.qHyperCube.qSize.qcy;return 0}},colCount:{get:function e(){if(this.qHyperCube&&this.qHyperCube.qSize)return this.qHyperCube.qSize.qcx;return 0}}});if("function"===typeof t.then){var i=this;t.then((function(e){p(i,e)}))}else{var a=t.backendApi?t.backendApi.model:t;p(this,a,t.backendApi?t:void 0)}}h.prototype.getMoreData=function(){if(this.requestActive)return;if(this.rowCount<=this.rows.length)return;this.requestActive=true;var e=this;var t={qTop:this.rows.length,qLeft:0,qWidth:this.colCount,qHeight:50};if(e.view)return e.view.backendApi.getData([t]).then((function(t){d(e,t);e.requestActive=false;e.OnData.emit()}));return e.qHyperCube?e.model.getHyperCubeData("/qHyperCubeDef",[t]).then((function(t){d(e,t);e.requestActive=false;e.OnData.emit()})):null};h.prototype.getColByName=function(e){if(!e)return;var t=e.toUpperCase();var n;this.headers.forEach((function(e,r){e.qFallbackTitle.toUpperCase()===t&&(n=r)}));return n};h.prototype.exportData=function(e,t){var n=this;e=e||{};return this.model.exportData(e.format||"OOXML","/".concat(this.defPath),e.filename,e.state||"P").then((function(r){var i=n.app.global;var a=i&&i.session.options;a=o["a"].makeConfig(a);var s=a.prefix+r.qUrl.substring(1);e.download&&window.open(s);t&&t(s);return s}))};h.prototype.destroy=function(){if(this.model&&this.model.Validated&&this._OnModelValid){this.model.Validated.unbind(this._OnModelValid);delete this._OnModelValid}};t["a"]=h},iqy1:function(e,t,n){"use strict";var r=n("MGTR");var i=n("5Pwf");var a=n("PX8M");var o=n("sWge");var s=n("4nJ1");var l=n("BFYT");var c=n("Hb6E");var u=n("AJ0W");var d=n("acVu");function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function h(e,t,n){t&&p(e.prototype,t);n&&p(e,n);return e}var v={};var m=function(){function e(t,n){var r=this;f(this,e);t=t||s["a"].getParameterByName("app");n=n||e.connectOptions;n.route="app/".concat(encodeURIComponent(t));n.responseInterceptors=[{onRejected:function e(t,n,r){r.isHandled=true;return o["a"].reject(r)}}];var i=this;this.waitForOpen=new o["a"];this.waitForResume=new o["a"];this.waitForResume.resolve(i);a["a"].get(t,n).then((function(e){i.app=e;i.session=e.session;i.session.on("suspended",(function(){i.waitForResume=new o["a"]}));i.session.on("resumed",(function(){i.waitForResume.resolve(i)}));document.addEventListener("onAppStateChanged",(function(e){e.detail&&e.detail.inForegroundNow?i.session.resume(false):e.detail&&!e.detail.inForegroundNow&&i.session.suspend()}));i.waitForResume.promise.then((function(){if(n.serverNodeId){var e=[];e.push(n.serverNodeId);i.rpc("setServerNodeId",e)}}))})).finally((function(){i.restService=new l["a"];r.waitForOpen.resolve(i)}))}h(e,[{key:"sessionSend",value:function e(t){var n=this;return n.waitForResume.promise.then((function(){return n.session.send(t)}))}},{key:"rpc",value:function e(t,n){var i={method:t,params:n||[]};var a=this;return a.waitForResume.promise.then((function(){if(!a.session){var e=new Error("DPS is not initialized");e.consoleOnly=true;return Promise.reject(e)}return a.session.rpc.send(i).then((function(e){if(e.result&&e.result.notification&&1005===e.result.notification.data.code){r["a"].publish(c["a"].Events.PubSub.StartSpin,{method:t});var i=n.length&&n.length>1&&n[1].forceReload;true===i&&(n[1].forceReload=false);return a.executeAfterReload(t,n).finally((function(){r["a"].publish(c["a"].Events.PubSub.StopSpin,{method:t})}))}return e}))}))}},{key:"rpcWithPolling",value:function e(t,n,i){var a=this;i&&r["a"].publish(c["a"].Events.PubSub.StartSpin,{method:t});var o=true;var s;var l=function e(){i&&r["a"].publish(c["a"].Events.PubSub.StopSpin,{method:t})};s=setInterval((function(){o&&a.getProgress().then((function(){}))}),15e3);var u=function e(){o=false;void 0!==s&&clearInterval(s);s=void 0};return this.rpc(t,n).then((function(e){u();l();return e}),(function(e){u();l();throw e}))}},{key:"executeAfterReload",value:function e(t,n){var r=this;var i=new o["a"];this.waitForReload(i);return i.promise.then((function(){return r.rpc(t,n)}))}},{key:"_checkProgress",value:function e(t){var n=false;t.engine&&t.engine.qProgressData&&t.engine.qProgressData.qFinished&&true===t.dps.dataLoad.complete&&true===t.dps.profiling.complete&&(n=true);return n}},{key:"waitForReload",value:function e(t){var n=this;this.getProgress().then((function(e){n._checkProgress(e.result)?t.resolve(true):setTimeout((function(){n.waitForReload(t)}),1e3)}),(function(e){t.reject(e)}))}},{key:"augmentOptions",value:function e(t){t.throwOnReload=true;return t}},{key:"getProgress",value:function e(){return this.rpc("getProgress",[0])}},{key:"getModel",value:function e(t){return this.rpc("getModel",[t||{}])}},{key:"setModel",value:function e(t,n){return this.rpc("setModel",[t,n||{}])}},{key:"initModel",value:function e(t,n){return this.rpc("initModel",[t,n||{}])}},{key:"analyzeModel",value:function e(t,n){return this.rpc("analyzeModel",[t,n||{}])}},{key:"getTargetTables",value:function e(t,n){return this.rpc("getTargetTables",[t,this.augmentOptions(n)||{}])}},{key:"warmUpDPS",value:function e(t,n){return this.rpc("getTargetTables",[t,this.augmentOptions(n)||{}]).catch((function(e){e.error.dpsHandled=true;console.warn("Warming up DPS ignored this error:",e);throw e}))}},{key:"getTablePreview",value:function e(t,n,r){return this.rpc("getTablePreview",[t,n,this.augmentOptions(r)||{}])}},{key:"getTableFields",value:function e(t,n,r){return this.rpc("getTableFields",[t,n,this.augmentOptions(r)||{}])}},{key:"getLoadScript",value:function e(t,n){return this.rpc("getLoadScript",[t,n||{}])}},{key:"getClassifications",value:function e(t){return this.rpc("getClassifications",[t])}},{key:"getRestService",value:function e(){var t=this;return t.waitForResume.promise.then((function(){return t.restService}))}},{key:"getVisRecommendations",value:function e(t,n){return this.rpc("getVisRecommendations",[t,n])}},{key:"adaptVisualization",value:function e(t,n){return this.rpc("adaptVisualization",[t,n])}},{key:"syncLoadModel",value:function e(t){return this.rpc("syncLoadModel",[t])}},{key:"getRecommendations",value:function e(t,n){return this.rpcWithPolling("getRecommendations",[t,this.augmentOptions(n)||{}],true)}},{key:"getDataPreview",value:function e(t){return this.rpc("getDataPreview",[t])}},{key:"updateSources",value:function e(t,n,r){return this.rpcWithPolling("updateSources",[t,n,r||{}])}}]);return e}();m.getConnectOptions=function(){if(!m.connectOptions)return i["a"].global.getConfiguration().then((function(){m.connectOptions={host:s["a"].hostname,isSecure:s["a"].isSecure,prefix:s["a"].basePath,port:s["a"].port,subpath:"dataprepservice",reloadURI:s["a"].reloadURI,serverNodeId:u["a"].getServerNodeId()};return m.connectOptions}));var e=new o["a"];e.resolve(m.connectOptions);return e.promise};m.isRunning=function(){var e=new l["a"];return e.isRunning()};m.get=function(e,t){return m.getConnectOptions(t).then((function(t){e=e||s["a"].getParameterByName("app");e=b(e);var n=v[e.toLowerCase()]||new m(e,t);v[e.toLowerCase()]=n;return n.waitForOpen.promise}))};var g=".qvw";function b(e){if(Object(d["b"])("IS_DESKTOPCLIENT")&&-1!==e.indexOf(g,e.length-g.length))return"".concat(e.substr(0,e.length-1),"f");return e}t["a"]=m},j7w3:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},jWHD:function(e,t,n){"use strict";var r={STATIC:0,ANALYSIS:1,EDIT:2};t["a"]=r},jaci:function(e,t,n){"use strict";var r=n("H6Kg");var i=n("+GbC");var a={};var o=false;var s="ltr";var l=false;i["a"].mixin(a);a.notification("DirectionChanged");a.init=function(e){return r["a"].getProperties(e).then((function(e){l=true;return a.setRtl(e&&e.rtl)}))};a.setRtl=function(e){if(o!==e){o=e;s=o?"rtl":"ltr";a.DirectionChanged.emit(s)}return s};Object.defineProperty(a,"isInit",{get:function e(){return l}});Object.defineProperty(a,"isRtl",{get:function e(){return o}});Object.defineProperty(a,"direction",{get:function e(){return s}});function c(e){a.setRtl(e.rtl)}r["a"].UpdateObjProps.bind(c);t["a"]=a},jg6w:function(e,t,n){"use strict";var r=n("Umg0");var i=n.n(r);var a=n("6uJb");var o=function e(){};var s=["$Table","$Field","$Fields","$FieldNo","$Rows","$Info"];var l=256;var c=l;var u=256;o.prototype.systemFields=s;o.prototype.validateFieldName=function(e,t,n){var i=[];"="===n.charAt(0)&&i.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.InvalidCharacters")});n.length>l&&i.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.MaxLength",l)});""===n&&i.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.Empty")});var o=r["LoadModelAssociations"].getDuplicateFieldInfo(e,t,n);o.duplicateInSameTable&&i.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.Unique")});o.otherTable&&i.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.UniqueOtherTable",o.otherTable)});if(o.associatedTables){var c=o.associatedTables.sort().reduce((function(e,t){return"".concat(e," - ").concat(t)}));i.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.UniqueAssociation",c)})}-1!==s.indexOf(n)&&i.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.System")});return i};o.prototype.validateAssociationName=function(e,t,n,i,o){var u=[];n.length>c&&u.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.AssociationName.MaxLength",l)});""===n&&u.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.AssociationName.Empty")});-1!==s.indexOf(n)&&u.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.AssociationName.System")});t.every((function(s){if(s){var l=r["LoadModelAssociations"].getDuplicateFieldInfo(e,s,n,i);if(l.otherTable){var c=t.some((function(e){return e.data.name===l.otherTable}));var d=!!o&&o.some((function(e){return e===n}));if(!c||!d){u.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.AssociationName.UniqueOtherTable",l.otherTable)});return false}}}return true}));return u};o.prototype.validateTableName=function(e,t,n){var r=[];""===n&&r.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.TableName.Empty")});n.length>u&&r.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.TableName.MaxLength",l)});e.isTargetTableNameInUse(n,[t])&&r.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.TableName.Unique")});return r};o.prototype.checkConcatName=function(e,t,n,r,i){var a={otherTable:"",duplicateInSameTable:false};var o=n.filter((function(e){return e.name===i}));(o.length>1||1===o.length&&o[0]!==r)&&(a.duplicateInSameTable=true);e.targetTableModels.forEach((function(e){var n=t.filter((function(t){return t.data.name===e.data.name}));if(0===n.length){var r=e.getFields().filter((function(e){return e.name===i}));r.length>0&&(a.otherTable=e.data.name)}}));return a};o.prototype.validateConcatFieldName=function(e,t,n,r,i){var o=[];i.length>l&&o.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.MaxLength",l)});""===i&&o.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.Empty")});var c=this.checkConcatName(e,t,n,r,i);c.duplicateInSameTable&&o.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.Unique")});c.otherTable&&o.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.UniqueOtherTable",c.otherTable)});-1!==s.indexOf(i)&&o.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.FieldName.System")});return o};o.prototype.validateConcatTableName=function(e,t,n){var r=[];""===n&&r.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.TableName.Empty")});n.length>u&&r.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.TableName.MaxLength",l)});e.targetTableModels.forEach((function(e){var i=t.filter((function(t){return t.data.name===e.data.name}));0===i.length&&e.data.name===n&&r.push({type:"error",msg:a["default"].get("DataManager.GridEditor.Validator.TableName.Unique")})}));return r};t["a"]=new o},jwTT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=n("fAEj"),a=function(){function e(e){this.data=e}return e.prototype.addSourceField=function(e){this.data.sourceFieldRefs||(this.data.sourceFieldRefs=[]),this.data.sourceFieldRefs.push(e.id)},e.prototype.getSourceFieldReferences=function(){return this.data.fieldRef?[this.data.fieldRef]:this.data.sourceFieldRefs?this.data.sourceFieldRefs:void 0},e.prototype.isGeographical=function(){var e=!1;return this.data.classifications?this.data.classifications.some((function(e){return i.ClassificationHelper.isGeographical(e)})):e},e.prototype.getGeographicalClassification=function(){return i.ClassificationHelper.getGeoClassification(this.data.classifications)},e.prototype.references=function(e){var t=this,n=0;return this.data.sourceFieldRefs&&e.forEach((function(e){var r=t.data.sourceFieldRefs.some((function(t){return e.id===t}));r&&n++})),n===e.length},e.prototype.hasTransformation=function(e){var t=!1;return this.data.transformations&&this.data.transformations.length>0&&(t=this.data.transformations.some((function(t){return t.op===e}))),t},e.prototype.getTransformation=function(e,t){var n;if(this.data.transformations)for(var r=0;r<this.data.transformations.length;r++){var i=this.data.transformations[r];if(i.op===e&&this.appliesTo(i,t)){n=i;break}}return n},e.prototype.appliesTo=function(e,t){return r.isArray(e.appliedTo)?e.appliedTo.indexOf(t)>=0:e.appliedTo===t},e}();t.QueryField=a},"k+Ch":function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");function a(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var o={};o.get=function(e,t,n){return a(n).then((function(n){return n.getField(e,t||"$")}))};o.getList=function(e){return a(e).then((function(e){return e.getFieldListObject()}))};o.getFieldList=function(e){return a(e).then((function(e){return e.getFieldList()}))};o.getOnTheFlyList=function(e){return a(e).then((function(e){return e.getOnTheFlyListObject()}))};o.getOnTheFlyWithHiddenList=function(e){return a(e).then((function(e){return e.getOnTheFlyWithHiddenListObject()}))};t["a"]=o},k21Z:function(e,t,n){"use strict";var r='<lui-tooltip ng-style="style">\n\t{{item}}\n</lui-tooltip>';var i=t["a"]={template:r,controller:[function(){}],scope:{item:"=",style:"="}}},k9vo:function(e,t,n){"use strict";var r=n("/2No");var i={};i.stripBasePath=function(e){var t=e.replace(r["a"].rootPath,"").replace(/^\.\.\//i,"/");if("/"!==t[0])return"/".concat(t);return t};i.addBasePath=function(e){return r["a"].rootPath+("/"===e[0]?e.substr(1):e)};t["a"]=i},kKh9:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");function a(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var o={};o.getCurrentSelections=function(e,t){return a(e).then((function(e){return e.engineApp.getSetAnalysis(t).catch((function(e){e.isHandled=true}))}))};o.getSelectionsFromBookmarkId=function(e,t,n){return a(e).then((function(e){return e.engineApp.getSetAnalysis(n,t).catch((function(e){e.isHandled=true}))}))};t["a"]=o},"kM/7":function(e,t,n){"use strict";var r=n("yB4Y");var i=n.n(r);function a(e,t){return e.fields.some((function(n){return e.wasGeneratedByTransformation(n,r["DSMTypes"].QueryTransformField.name,t)}))}function o(e,t,n){return e.wasGeneratedByTransformation(t,void 0,n)}function s(e,t){return(e.transformations||[]).filter((function(e){return t.indexOf(e.op)>-1}))}function l(e,t){return e.fields.filter((function(n){return!e.wasGeneratedByTransformation(n,r["DSMTypes"].QueryTransformField.name,t)}))}t["a"]={doesTableContainTransformQuery:a,doesFieldContainTransformType:o,filterFieldTransformations:s,filterTransformationFieldsWithType:l}},"kS4/":function(e,t,n){"use strict";var r=n("mWu2");var i=n("PX8M");var a='<div class="description-textarea" tcl="description-textarea">\n\n\t<tiny-editor ng-show="enableDescriptionExpression" value="editorValue" on-open="openExpressionDialog( $event )" invalid="!isValid" max-length="maxLength" on-blur="onBlur( $event )" always-expression="{{false}}"></tiny-editor>\n\n\t<textarea ng-show="!enableDescriptionExpression" class="lui-textarea" ng-model="description" maxlength="{{maxLength}}" name="desc" ng-class="{ \'lui-invalid\': !isValid }" tid="description-textarea"></textarea>\n\n</div>';var o=n("3I2r");var s=n("ESef");var l=n("4nJ1");var c=n("CyFZ");function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}r["default"].directive("qvDescriptionTextarea",[function(){return{restrict:"E",scope:{description:"=",descriptionExpression:"=",disableExpression:"=?",isValid:"=?"},template:a,link:function e(t){i["a"].getApp().then((function(e){t.onBlur=i;t.openExpressionDialog=a;t.enableDescriptionExpression=!t.disableExpression;void 0===t.isValid&&(t.isValid=true);t.$watch("editorValue",(function(e){if(void 0===e)return;p(t.editorValue,true);h()}));var n=new o["a"].ExpressionValidator(e);n.Update.bind(m);t.$watchGroup(["description","descriptionExpression"],(function(){var e=f();if(!v(e,t.editorValue)){t.editorValue=e;r()}}));function r(){var e=d(t.editorValue);e?n.validate(t.editorValue):t.isValid=!t.editorValue||t.editorValue.length<=s["a"].description}function i(){p(t.editorValue,true);r()}function a(){var e={expr:t.editorValue,title:t.editorValue?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"};c["a"].show(e).then((function(e){e.length&&"="!==e[0]&&(e="=".concat(e));p(e,false);r()}))}function d(e){return t.enableDescriptionExpression&&0===(e||"").indexOf("=")}function f(){if("object"===u(t.descriptionExpression)&&t.enableDescriptionExpression){var e=l["a"].getValue(t.descriptionExpression,"qStringExpression.qExpr","");"="!==e[0]&&(e="=".concat(e));return e}return t.description}function p(e,n){var r=d(e);if(r){t.description="";t.descriptionExpression={qStringExpression:{qExpr:e.substr(1)}}}else{t.description=(e||"").trim();t.descriptionExpression=void 0}n||(t.editorValue=e)}function h(){t.maxLength=d(t.editorValue)?s["a"].expression:s["a"].description}function v(e,t){e=(e||"").trim();t=(t||"").trim();return e===t}function m(e){t.isValid=e.valid}t.$on("$destroy",(function(){n.Update.unbind(m)}))}))}}}])},kWMZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("st+L"),i=n("PoH+"),a=function(){function e(e,t,n){this.scratchModel=e,this.targetModel=n?t.rawClone():t}return e.prototype.update=function(e,t,n){this.addTables(e);var i=this.copyAndPruneTables(t,e,n);return r.DSFieldsQualifications.qualifyDuplicatedFieldNames(this.scratchModel,this.targetModel),i},e.prototype.setUserScriptConnectionMetadata=function(e){var t={name:"script",id:"",type:{provider:"script",type:"",displayName:"",connectDialog:"",selectDialog:"",connectorMain:"",needsConnect:!1,isStandardConnector:!0},typeName:"script",privileges:["read","update","delete"],canDelete:!0,sourceConnectorID:"",connectionString:""},n={dbusage:!1,ownerusage:!1,dbfirst:!1,specialchars:"",dbseparator:"",ownerseparator:"",quotesuffix:"",quoteprefix:"",quotesuffixfordoublequotes:"",quoteprefixfordoublequotes:"",keywords:[]};return e.setMetadataModelForConnection(t,n),t},e.prototype.addTables=function(e){var t=this;e.tables.forEach((function(e){if("ScriptTable"===e.sourceType){var n="script",r="",i=e.name,a=void 0,o=t.setUserScriptConnectionMetadata(t.scratchModel),s=t.scratchModel.getOrCreateTableModelByDatabasePath(o,n,r,i,a);s.setCachingEnabled(!1,""),e.fields.forEach((function(e){s.setFieldSelected(e.name,!0)}))}}))},e.prototype.addChangeNotification=function(e,t,n,r){if("new"===r){var a=i.findWhere(n["new"],{table:e});a||(a={table:e},void 0!==t?n.modified.push(a):n["new"].push(a))}else{var a=i.findWhere(n.removed,{table:e});a||(a={table:e,fields:[]}),t?(-1!==a.fields.indexOf(t)&&a.fields.push(t),n.modified.push(a)):n.removed.push(a)}},e.prototype.copyAndPruneTables=function(e,t,n){var r=this,a={new:[],removed:[],modified:[]};this.scratchModel.tableModels.length>0&&this.setUserScriptConnectionMetadata(this.targetModel),this.scratchModel.tableModels.forEach((function(t){var n=r.targetModel.getTableModelByDatabasePath(t.data.connectionInfo,t.data.databaseName,t.data.ownerName,t.data.tableName);if(n){for(var o=n.data.fields,s=o.length-1;s>=0;s--){var l=i.findWhere(t.data.fields,{name:o[s]});l||(r.addChangeNotification(t.data.tableName,o[s].name,a,"remove"),o.splice(s,1))}t.data.fields.forEach((function(e){var o=i.findWhere(n.data.fields,{name:e.name});o||(r.addChangeNotification(t.data.tableName,e.name,a,"new"),n.setFieldSelected(e.name,!0))}))}else r.addChangeNotification(t.data.tableName,void 0,a,"new"),r.targetModel.tableModels.push(t),n=t;n.setSimpleSelectStatement(e.generateLoadSelect(n)),n.addSelectLoadProperty({residentInfo:{isResident:!0}})}));for(var o=this.targetModel.tableModels,s=function(e){var t=o[e];if("script"===t.data.connectionInfo.typeName){var s=i.findWhere(n,{table:t.data.tableName});if(s){for(var c=t.data.fields,u=c.length-1;u>=0;u--)-1===s.fields.indexOf(t.data.fields[u].name)&&(l.addChangeNotification(t.data.tableName,t.data.fields[u].name,a,"remove"),t.data.fields.splice(u,1));s.fields.forEach((function(e,n){i.findWhere(c,{name:e})||(t.addField(e,n,!0),r.addChangeNotification(t.data.tableName,e,a,"new"))}))}else o[e].data.fields.length>0&&(l.addChangeNotification(t.data.tableName,void 0,a,"remove"),o[e].data.fields.length=0)}},l=this,c=o.length-1;c>=0;c--)s(c);return a},e}();t.ScriptTableUpdater=a},kZAH:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("mXGw");var i=n.n(r);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}var o=r["createElement"]("g",{"data-name":"Layer 2"},r["createElement"]("g",{"data-name":"Layer 1"},r["createElement"]("path",{fill:"#009a4d",d:"M33.54 34.5H19.59v.94h14v1.89h-14v.94h14v.95a2.83 2.83 0 002.84 2.83h3.77v1.41a.47.47 0 10.94 0v-3.3h4.25a.47.47 0 000-.94H41.1v-5.67h4.25a.47.47 0 000-.94h-4.26v-3.3a.45.45 0 00-.47-.47.47.47 0 00-.47.47v1.41h-3.77a2.84 2.84 0 00-2.84 2.83zm2.84-2.83h3.77v9.43h-3.77a1.87 1.87 0 01-1.38-.55 1.84 1.84 0 01-.55-1.33v-5.67a1.88 1.88 0 011.93-1.88z"}),r["createElement"]("path",{fill:"#53555a",d:"M50.84 33.88v9.91a.52.52 0 00.14.34.51.51 0 00.34.13.47.47 0 00.47-.47v-1.41h3.77a2.83 2.83 0 002.83-2.83v-.95h14v-.94h-14v-1.89h14v-.94h-14v-.95a2.79 2.79 0 00-.83-2 2.83 2.83 0 00-2-.83h-3.77v-1.41a.5.5 0 00-.14-.34.5.5 0 00-.33-.14.47.47 0 00-.48.48v4.24zm4.72 7.55h-3.77V32h3.77a1.89 1.89 0 011.89 1.89v5.67a1.89 1.89 0 01-1.89 1.87zM98.87 23.89H79.05a3.36 3.36 0 01-2.91-5l9.91-17.21A3.34 3.34 0 0189 0a3.33 3.33 0 012.91 1.68l9.91 17.17a3.36 3.36 0 01-2.91 5zM89 2a1.35 1.35 0 00-1.18.68l-9.95 17.17a1.33 1.33 0 000 1.36 1.35 1.35 0 001.18.68h19.82a1.36 1.36 0 001.18-2L90.14 2.68A1.35 1.35 0 0089 2zM42.3 63.29h9.2v1.84h-9.2z"}),r["createElement"]("path",{fill:"#53555a",d:"M91.84 26.31v32.37h-90V13.54a2.77 2.77 0 012.76-2.77H78l1.06-1.83H4.6a4.6 4.6 0 00-4.6 4.6v54.25a2.77 2.77 0 002.76 2.77h34.55l-1.52 8.92h-8.67v1.83h39.44v-1.83h-8.67l-1.53-8.92h34.55a2.78 2.78 0 002.77-2.77V26.31zM37.65 79.48l1.53-8.92H54.5l1.5 8.92zm54.19-11.69a.93.93 0 01-.93.93H2.76a.93.93 0 01-.92-.93v-7.27h90zM87.68 17.17a1.22 1.22 0 111.22 1.21 1.22 1.22 0 01-1.22-1.21zm2.39-8.32a28.25 28.25 0 01-.53 3.89l-.29 1.82h-.7l-.29-1.82a27.28 27.28 0 01-.54-3.89 1.18 1.18 0 112.35 0z"})));function s(e){return r["createElement"]("svg",a({viewBox:"0 0 102.24 81.31"},e),o)}var l="disconnected.24b24a46e757295a43795082040aa423.svg";function c(){return i.a.createElement("div",{className:"senseloader-icon-disconnected"},i.a.createElement(s,null))}},kbCg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){var n=new FileReader;n.onload=function(){t(null,new Uint8Array(n.result))};n.onerror=function(e){t(e)};n.readAsArrayBuffer(e)}t.default=r},kcho:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("aQvt"),i=n("1buF"),a=n("TXm2"),o=n("fv37"),s=n("0bAR");s.TemplateHelpers.InitHandlebars();var l=function(){function e(){}return e.GetBoxType=function(e){switch(e){case r.LoadFile.type:return r.LoadFile;case i.LoadSql.type:return i.LoadSql;case a.Join.type:return a.Join;case o.NewGeneration.type:return o.NewGeneration}},e}();t.BoxTypesModel=l},kgeS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.targetTable=e,this.loadModel=t,this.locale=n}return e}();t.TransformationRecommendation=r},kh9L:function(e,t,n){"use strict";var r=n("mWu2");var i='<div ng-show="internalShow" class="qv-animate spinner ng-hide" ng-class="{\'center-in-parent\': centerInParent}" ng-style="{\'width\': spinnerWidth, \'height\': spinnerHeight }">\n\t<div class="qv-loader"></div>\n</div>\n';r["default"].directive("qvSpinner",[function(){return{replace:true,template:i,restrict:"E",scope:{show:"=",showDelay:"=?",showForAtLeast:"=?",spinnerWidth:"@?",spinnerHeight:"@?",centerInParent:"=?"},controller:["$scope","$timeout",function(e,t){var n;var r;e.internalShow=false;function i(){e.showDelay?n=t((function(){a(e.showForAtLeast)}),e.showDelay):a(e.showForAtLeast)}function a(n){e.internalShow=true;r=t((function(){}),n)}function o(){n&&t.cancel(n);r&&r.then((function(){e.internalShow=false}))}e.$watch("show",(function(e){e?i():o()}))}]}}])},kktK:function(e,t,n){"use strict";var r=n("mWu2");var i=n("6uJb");var a=n("4nJ1");var o=n("sWge");var s=n("PX8M");var l=n("9Ggg");var c=n("TZGQ");var u=n("acVu");var d;var f;var p;function h(){f&&f();if(p){var e=r["default"].getService("qvAlertDialog").show({message:v(i["default"].get("TimeoutDialog.Title"),i["default"].get("TimeoutDialog.Message")),closeLabel:i["default"].get("Common.Refresh"),closeOnEscape:false});e.closed.then((function(){var e="".concat(a["a"].basePath,"login?returnto=").concat(a["a"].reloadURI);l["a"].setUrl(e,false,false,true)}));return e}var t="".concat(a["a"].basePath,"qps/logout?targetUri=").concat(a["a"].reloadURI);l["a"].setUrl(t,false,false,true);return}function v(e,t){return'<h2 class="inline-title">'.concat(e,"</h2><span>").concat(t,"</span>")}function m(){if(!d){d=new o["a"];s["a"].setLogoutHandler(h);p=Object(u["b"])("CLIENT_REST_TIMEOUT");p&&c["a"].registerSessionTimeoutCheck(b);return d.resolve()}return d.promise}function g(e){f=e}function b(e){p&&401===e.status&&h()}t["a"]={init:m,onBeforeLogout:g}},kku5:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("acVu");var a={};function o(e){e&&delete a[e]}function s(e,t){if(!e)throw new Error("Missing type: ".concat(e));var n={translationKey:"",icon:"",iconChar:"e",isLibraryItem:true,visible:true};a[e]=r["a"].extend(n,t)}function l(e,t){if(!t.icon)throw new Error("Missing icon for type: ".concat(e));if(!t.iconChar)throw new Error("Missing iconChar for type: ".concat(e));if(!t.iconPath)throw new Error("Missing iconPath for type: ".concat(e));if(false!==t.isLibraryItem&&!t.descriptionKey)throw new Error("Missing descriptionKey for type: ".concat(e));var n={name:e,template:e,author:"Qlik",isThirdParty:false};s(e,r["a"].extend(n,t))}function c(e,t){var n={name:e,description:t.description||"",template:e,icon:"puzzle",iconChar:"puzzle",iconPath:"M14.5,9 L13,9 L13,3.3 C13,3.1 12.9,3 12.7,3 L8,3 L8,1.5 C8,0.7 7.3,0 6.5,0 C5.7,0 5,0.7 5,1.5 L5,3 L0.3,3 C0.1,3 0,3.1 0,3.3 L0,9 L1.5,9 C2.3,9 3,9.7 3,10.5 C3,11.3 2.3,12 1.5,12 L0,12 L0,15.7 C0,15.9 0.1,16 0.3,16 L5,16 L5,14.5 C5,13.7 5.7,13 6.5,13 C7.3,13 8,13.7 8,14.5 L8,16 L12.7,16 C12.9,16 13,15.9 13,15.7 L13,12 L14.5,12 C15.3,12 16,11.3 16,10.5 C16,9.7 15.3,9 14.5,9 Z",isThirdParty:true};var i=r["a"].extend(n,t);"bar-chart-vertical"===i.icon&&(i.icon="bar-chart");s(e,i)}Object(i["b"])("DISABLE_AUTO_CHART")||l("auto-chart",{descriptionKey:"Template.preview.description.auto-chart",translationKey:"Object.AutoChart",icon:"effects",iconChar:"effects",iconPath:"M-3.26849658e-13,12.4318748 L11.4318748,1 L14.0699997,3.63812494 L2.63812494,15.0699997 L-3.26849658e-13,12.4318748 Z M2.63812494,14.1026872 L4.3968749,12.4318748 L2.63812494,10.6731248 L0.967312479,12.4318748 L2.63812494,14.1026872 Z M11.4318748,5.3968749 L13.1906247,3.63812494 L11.4318748,1.87937498 L9.67312479,3.63812494 L11.4318748,5.3968749 Z M5.62799988,2.93462496 L4.7486249,2.67081246 L5.54006238,2.14318748 L5.54006238,1.175875 L6.24356236,1.70349998 L7.12293735,1.43968749 L6.85912485,2.31906247 L7.38674984,3.11049995 L6.41943736,3.11049995 L5.89181237,3.81399994 L5.62799988,2.93462496 Z M15.5649372,5.13306241 L16.0046247,5.7486249 L15.3011247,5.7486249 L14.8614372,6.36418738 L14.6855622,5.6606874 L13.9820622,5.3968749 L14.5976247,4.95718741 L14.5976247,4.25368743 L15.2131872,4.69337492 L15.9166872,4.42956243 L15.5649372,5.13306241 Z M12.5750622,9.26612482 L12.2233122,10.4093123 L12.9268122,11.3766248 L11.7836247,11.3766248 L11.0801248,12.3439373 L10.7283748,11.2007498 L9.58518729,10.8489998 L10.5524998,10.1454998 L10.5524998,8.91437483 L11.5198123,9.61787481 L12.5750622,9.26612482 Z",visible:false});l("barchart",{descriptionKey:"Template.preview.description.barchart",translationKey:"Object.BarChart",icon:"bar-chart",iconChar:"bar_chart",iconPath:"M1,4 L3,4 C3.55228475,4 4,4.44771525 4,5 L4,15 C4,15.5522847 3.55228475,16 3,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,5 C-6.76353751e-17,4.44771525 0.44771525,4 1,4 Z M7,8 L9,8 C9.55228475,8 10,8.44771525 10,9 L10,15 C10,15.5522847 9.55228475,16 9,16 L7,16 C6.44771525,16 6,15.5522847 6,15 L6,9 C6,8.44771525 6.44771525,8 7,8 Z M13,0 L15,0 C15.5522847,-1.01453063e-16 16,0.44771525 16,1 L16,15 C16,15.5522847 15.5522847,16 15,16 L13,16 C12.4477153,16 12,15.5522847 12,15 L12,1 C12,0.44771525 12.4477153,1.01453063e-16 13,0 Z"});l("combochart",{descriptionKey:"Template.preview.description.combochart",translationKey:"Object.ComboChart",icon:"combo-chart",iconChar:"combo_chart",iconPath:"M3,10 L4,9 L4,16 L1,16 L1,12 L3,10 Z M8,11 L9,10 L9,16 L6,16 L6,9 L8,11 Z M11,8 L14,5 L14,16 L11,16 L11,8 Z M7.85226383,7.10149824 L13.8077922,1.14512991 C14.0012715,0.951623362 14.3149633,0.951623362 14.5084426,1.14512991 L14.8587678,1.49550452 C15.0522471,1.68901107 15.0522471,2.00274718 14.8587678,2.19625374 L7.85226383,9.20374588 L5.04966223,6.40074902 L1.19608505,10.2548697 C1.00260578,10.4483763 0.688913912,10.4483763 0.495434648,10.2548697 L0.145109449,9.9044951 C-0.0483698162,9.71098854 -0.0483698162,9.39725243 0.145109449,9.20374588 L5.04966223,4.29850138 L7.85226383,7.10149824 Z"});l("container",{descriptionKey:"Template.preview.description.container",translationKey:"Object.Container",icon:"box",iconChar:"box",iconPath:"M16,6 L15,6 L15,5 L1,5 L1,6 L-1.77635684e-15,6 L-1.77635684e-15,2 C-1.84399221e-15,1.44771525 0.44771525,1 1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,6 Z M11,2 L11,4 L15,4 L15,2.4 C15,2.1790861 14.8209139,2 14.6,2 L11,2 Z M6,2 L6,4 L10,4 L10,2 L6,2 Z M1.4,2 C1.1790861,2 1,2.1790861 1,2.4 L1,4 L5,4 L5,2 L1.4,2 Z M16,8 L16,11 L15,11 L15,8 L16,8 Z M16,13 L16,14 C16,14.5522847 15.5522847,15 15,15 L14,15 L14,14 L14.6,14 C14.8209139,14 15,13.8209139 15,13.6 L15,13 L16,13 Z M12,15 L9,15 L9,14 L12,14 L12,15 Z M7,15 L4,15 L4,14 L7,14 L7,15 Z M2,15 L1,15 C0.44771525,15 -6.53651803e-16,14.5522847 -1.70234197e-15,14 L-1.77635684e-15,13 L1,13 L1,13.6 C1,13.8209139 1.1790861,14 1.4,14 L2,14 L2,15 Z M-1.77635684e-15,11 L-1.77635684e-15,8 L1,8 L1,11 L-1.77635684e-15,11 Z"});l("distributionplot",{descriptionKey:"Template.preview.description.distributionplot",translationKey:"Object.DistributionPlot",icon:"distributionplot",iconChar:"distributionplot",iconPath:"M5,5 C3.9,5 3,4.1 3,3 C3,1.9 3.9,1 5,1 L14,1 C15.1,1 16,1.9 16,3 C16,4.1 15.1,5 14,5 L5,5 Z M14,8 C14,9.1 13.1,10 12,10 L2,10 C0.9,10 0,9.1 0,8 C0,6.9 0.9,6 2,6 L12,6 C13.1,6 14,6.9 14,8 Z M14,11 C15.1,11 16,11.9 16,13 C16,14.1 15.1,15 14,15 L6,15 C4.9,15 4,14.1 4,13 C4,11.9 4.9,11 6,11 L14,11 Z M12,2 C11.5,2 11,2.4 11,3 C11,3.6 11.4,4 12,4 C12.6,4 13,3.6 13,3 C13,2.4 12.6,2 12,2 Z M8,2 C7.5,2 7,2.4 7,3 C7,3.6 7.4,4 8,4 C8.6,4 9,3.6 9,3 C9,2.4 8.6,2 8,2 Z M4,9 C4.6,9 5,8.6 5,8 C5,7.4 4.6,7 4,7 C3.4,7 3,7.4 3,8 C3,8.6 3.5,9 4,9 Z M10,9 C10.6,9 11,8.6 11,8 C11,7.4 10.6,7 10,7 C9.4,7 9,7.4 9,8 C9,8.6 9.5,9 10,9 Z M10,14 C10.6,14 11,13.6 11,13 C11,12.4 10.6,12 10,12 C9.4,12 9,12.4 9,13 C9,13.6 9.4,14 10,14 Z"});l("boxplot",{descriptionKey:"Template.preview.description.boxplot",translationKey:"Object.BoxPlot",icon:"boxplot",iconChar:"boxplot",iconPath:"M15,9 L13,9 L13,13 C13,13.5522847 12.5522847,14 12,14 L4,14 C3.44771525,14 3,13.5522847 3,13 L3,9 L1.0625,9 L1.0625,10.46875 C1.0625,10.7621513 0.824651273,11 0.53125,11 C0.237848727,11 9.24109713e-16,10.7621513 8.8817842e-16,10.46875 L8.8817842e-16,5.53125 C8.52247127e-16,5.23784873 0.237848727,5 0.53125,5 C0.824651273,5 1.0625,5.23784873 1.0625,5.53125 L1.0625,7 L3,7 L3,3 C3,2.44771525 3.44771525,2 4,2 L12,2 C12.5522847,2 13,2.44771525 13,3 L13,7 L15,7 L15,5.53125 C15,5.23784873 15.2378487,5 15.53125,5 C15.8246513,5 16.0625,5.23784873 16.0625,5.53125 L16.0625,10.46875 C16.0625,10.7621513 15.8246513,11 15.53125,11 C15.2378487,11 15,10.7621513 15,10.46875 L15,9 Z M12,13 L12,3 L8,3 L8,13 L12,13 Z M7,13 L7,3 L4,3 L4,13 L7,13 Z"});l("filterpane",{descriptionKey:"Template.preview.description.filterpane",translationKey:"Object.FilterPane",icon:"filterpane",iconChar:"filterpane",iconPath:"M11,12.4863156 L8.07008534,8.35945066 C8.01004078,8.27487625 7.97778427,8.17372182 7.97778427,8.07000017 C7.97778427,7.7938578 8.20164189,7.57000017 8.47778427,7.57000017 L15.5221738,7.57000017 C15.6258954,7.57000017 15.7270499,7.60225668 15.8116243,7.66230124 C16.0367902,7.82216033 16.0897318,8.13428476 15.9298727,8.35945066 L13,12.4862565 L13,14.2491542 C13,14.3319207 12.9683969,14.4105936 12.9134166,14.4646953 L11.4134166,15.9407239 C11.3089266,16.0435439 11.1510567,16.030395 11.0608043,15.911355 C11.0215816,15.8596216 11,15.7935423 11,15.7251827 L11,12.4863156 Z M13,6 L12,6 L12,1.5 C12,1.22385763 11.7761424,1 11.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L9,15 L9,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 L12,0 C12.5522847,-1.01453063e-16 13,0.44771525 13,1 L13,6 Z"});l("gauge",{descriptionKey:"Template.preview.description.gauge",translationKey:"Object.Gauge",icon:"gauge-chart",iconChar:"gauge_chart",iconPath:"M2.63604397,14.9354012 C1.01716423,13.4714713 0,11.3545214 0,9 C0,4.581722 3.581722,1 8,1 C12.418278,1 16,4.581722 16,9 C16,11.3545214 14.9828358,13.4714713 13.363956,14.9354012 C12.9974483,14.298577 12.6309407,13.7270222 12.264433,13.2207366 C13.3374059,12.1367251 14,10.6457411 14,9 C14,5.6862915 11.3137085,3 8,3 C4.6862915,3 2,5.6862915 2,9 C2,10.6457411 2.66259413,12.1367251 3.73556701,13.2207366 C3.36905933,13.7270222 3.00255165,14.298577 2.63604397,14.9354012 Z M8.6785878,7.14391341 L12.0475946,5 L9.90368118,8.36900679 C10.1480944,9.07321165 9.9868748,9.88914692 9.42129812,10.4547236 C8.63472595,11.2412958 7.36391823,11.2457735 6.58286965,10.4647249 C5.80182106,9.68367637 5.80629882,8.41286865 6.592871,7.62629647 C7.15844768,7.06071979 7.97438295,6.89950016 8.6785878,7.14391341 Z"});l("histogram",{descriptionKey:"Template.preview.description.histogram",translationKey:"Object.Histogram",icon:"histogram",iconChar:"histogram",iconPath:"M14,11 L14,8.5 C14,8.22385763 14.2238576,8 14.5,8 L15.5,8 C15.7761424,8 16,8.22385763 16,8.5 L16,15 L14,15 L12,15 L10,15 L8,15 L6,15 L4,15 L2,15 L0,15 L0,6.5 C-3.38176876e-17,6.22385763 0.223857625,6 0.5,6 L2,6 L2,3.5 C2,3.22385763 2.22385763,3 2.5,3 L3.5,3 C3.77614237,3 4,3.22385763 4,3.5 L4,10 L6,10 L6,7.5 C6,7.22385763 6.22385763,7 6.5,7 L8,7 L8,1.5 C8,1.22385763 8.22385763,1 8.5,1 L9.5,1 C9.77614237,1 10,1.22385763 10,1.5 L10,3 L11.5,3 C11.7761424,3 12,3.22385763 12,3.5 L12,11 L14,11 Z"});l("kpi",{descriptionKey:"Template.preview.description.kpi",translationKey:"Object.Kpi",icon:"kpi",iconChar:"kpi",iconPath:"M16,2 L16,14 L14,14 L14,6 L12,6 L12,4 C13.7,4 14,3.2 14,2 L16,2 Z M7.9,5 L10,5 L10,6.5 L7.7,6.5 L7.3,9.5 L9,9.5 L9,11 L7.1,11 L6.7,14 L5.2,14 L5.6,11 L3.4,11 L3,14 L1.5,14 L1.9,11 L0,11 L0,9.5 L2.1,9.5 L2.5,6.5 L1,6.5 L1,5 L2.6,5 L3,2 L4.5,2 L4.1,5 L6.4,5 L6.8,2 L8.3,2 L7.9,5 Z M6.2,6.5 L3.9,6.5 L3.5,9.5 L5.7,9.5 L6.2,6.5 Z"});l("linechart",{descriptionKey:"Template.preview.description.linechart",translationKey:"Object.LineChart",icon:"line-chart",iconChar:"line_chart",iconPath:"M16,15 L16,16 L1.3,16 L0,16 L0,14.7 L0,0 L1,0 L1,13 L5.4,5.7 L9.4,8 L13.2,1.4 C13.5,0.9 14.4,0.8 14.9,1 C15.4,1.3 15.7,2.1 15.4,2.6 L10.4,11.4 L6.4,9.1 L3,15 L16,15 Z"});l("listbox",{descriptionKey:"Template.preview.description.listbox",translationKey:"Object.Listbox",icon:"list",iconChar:"list",iconPath:"M0,1 L16,1 L16,3 L0,3 L0,1 Z M0,7 L0,5 L16,5 L16,7 L0,7 Z M0,11 L0,9 L16,9 L16,11 L0,11 Z M0,15 L0,13 L16,13 L16,15 L0,15 Z",isLibraryItem:false});l("piechart",{descriptionKey:"Template.preview.description.piechart",translationKey:"Object.PieChart",icon:"pie-chart",iconChar:"pie_chart",iconPath:"M7,1 L7,8 L14,8 C14,11.8659932 10.8659932,15 7,15 C3.13400675,15 0,11.8659932 0,8 C0,4.13400675 3.13400675,1 7,1 Z M8,1.15888847e-31 C11.8659932,6.95889291e-16 15,3.13400675 15,7 L8,7 L8,-8.8817842e-16 Z"});l("pivot-table",{descriptionKey:"Template.preview.description.pivot-table",translationKey:"Object.PivotTable",icon:"pivot-table",iconChar:"pivot_table",iconPath:"M1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,14 C16,14.5522847 15.5522847,15 15,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,2 C-6.76353751e-17,1.44771525 0.44771525,1 1,1 Z M3,4 L3,14 L15,14 L15,4 L3,4 Z M1,2 L1,4 L3,4 L3,2 L1,2 Z M4,5 L8,5 L8,7 L4,7 L4,5 Z M9,5 L14,5 L14,7 L9,7 L9,5 Z M4,8 L8,8 L8,10 L4,10 L4,8 Z M9,8 L14,8 L14,10 L9,10 L9,8 Z M4,11 L8,11 L8,13 L4,13 L4,11 Z M9,11 L14,11 L14,13 L9,13 L9,11 Z"});l("map",{descriptionKey:"Template.preview.description.map",translationKey:"Object.Map",icon:"map",iconChar:"map",iconPath:"M2.714544,3.424368 L4.799632,3.010608 L5.381168,2.691824 L6.035584,2.880368 L7.08112,2.822496 L7.439328,2.259456 L7.96168,2.345392 L9.23016,2.226432 L9.579776,1.84112 L10.072688,1.511888 L10.77008,1.616816 L10.837536,1.606624 L13.796464,4.080256 L12.5564,4.215376 L12.236688,4.726016 L12.00464,4.652272 L11.10384,3.840016 L10.798096,2.967216 L10.231872,2.459344 L9.563904,2.328672 L9.548576,2.634384 L10.202944,3.272944 L10.177808,3.630192 L9.870128,3.751888 L9.430976,3.56872 L9.44592,3.214592 L8.86976,2.977664 L8.67848,3.810176 L8.097792,3.941824 L8.155216,4.40624 L8.911808,4.551872 L9.042496,3.809744 L9.667056,3.902032 L9.957392,4.072016 L10.423216,4.072016 L10.742,4.710624 L11.58728,5.568048 L11.525264,5.90136 L10.84376,5.814512 L9.666144,6.409232 L8.818176,7.42632 L8.70784,7.876704 L8.403504,7.876704 L7.836368,7.61536 L7.28552,7.876704 L7.422608,8.457872 L7.662304,8.181504 L8.083744,8.168448 L8.054384,8.690304 L8.403504,8.792528 L8.752144,9.184128 L9.321536,9.024032 L11.30464,9.397632 L11.743728,10.099904 L12.978864,10.624992 L12.179696,12.350704 L11.337168,12.742368 L10.836592,13.734576 L9.798224,14.427856 L9.700144,14.782464 L8.883424,14.937984 L8.818176,14.18096 L9.144224,12.859488 L8.300368,10.752992 L8.679168,9.963632 L7.767216,9.086 L6.585936,8.820976 L6.193856,8.000672 L6.193856,8.487728 L6.02112,8.487728 L5.00312,7.107472 L5.00312,5.973696 L4.091824,4.92544 L2.273872,4.971552 L1.872256,4.708368 L2.38464,4.30224 L2.015568,4.387504 L2.714544,3.424368 Z M9.492,1.472096 L8.81776,1.985408 L8.173776,2.050096 L7.883856,1.861936 L9.026256,1.203056 L9.492,1.472096 Z M7.120064,2.056384 L6.152224,2.310608 L5.686896,2.03832 L6.152224,1.660704 L6.472416,1.794112 L6.891664,1.660704 L7.120064,2.056384 Z M8,0 C3.581728,0 0,3.581712 0,8 C0,12.418272 3.581728,16 8,16 C12.418288,16 16,12.418272 16,8 C16,3.581712 12.418288,0 8,0 Z"});l("scatterplot",{descriptionKey:"Template.preview.description.scatterplot",translationKey:"Object.ScatterPlot",icon:"scatter-chart",iconChar:"scatter_chart",iconPath:"M4,0 C6.2,0 8,1.8 8,4 C8,6.2 6.2,8 4,8 C1.8,8 0,6.2 0,4 C0,1.8 1.8,0 4,0 Z M12.5,5 C14.4,5 16,6.6 16,8.5 C16,10.4 14.4,12 12.5,12 C10.6,12 9,10.4 9,8.5 C9,6.6 10.6,5 12.5,5 Z M5.5,11 C6.9,11 8,12.1 8,13.5 C8,14.9 6.9,16 5.5,16 C4.1,16 3,14.9 3,13.5 C3,12.1 4.1,11 5.5,11 Z"});l("table",{descriptionKey:"Template.preview.description.table",translationKey:"Object.Table",icon:"table",iconChar:"table",iconPath:"M1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,14 C16,14.5522847 15.5522847,15 15,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,2 C-6.76353751e-17,1.44771525 0.44771525,1 1,1 Z M1,4 L1,14 L15,14 L15,4 L1,4 Z M7,5 L10,5 L10,7 L7,7 L7,5 Z M11,5 L14,5 L14,7 L11,7 L11,5 Z M2,5 L6,5 L6,7 L2,7 L2,5 Z M7,8 L10,8 L10,10 L7,10 L7,8 Z M11,8 L14,8 L14,10 L11,10 L11,8 Z M2,8 L6,8 L6,10 L2,10 L2,8 Z M7,11 L10,11 L10,13 L7,13 L7,11 Z M11,11 L14,11 L14,13 L11,13 L11,11 Z M2,11 L6,11 L6,13 L2,13 L2,11 Z"});l("text-image",{descriptionKey:"Template.preview.description.text-image",translationKey:"Object.TextImage",icon:"text",iconChar:"text",iconPath:"M5.52083333,11.9375 L4.5,15 L1,15 L6.425,1 L9.6625,1 L15,15 L11.5,15 L10.4791667,11.9375 L5.52083333,11.9375 Z M6.25,9.75 L9.75,9.75 L8,4.5 L6.25,9.75 Z"});l("treemap",{descriptionKey:"Template.preview.description.treemap",translationKey:"Object.Treemap",icon:"treemap",iconChar:"treemap",iconPath:"M9.3,5 C9.1,5 9,4.9 9,4.7 L9,0.3 C9,0.1 9.1,0 9.3,0 L15.7,0 C15.8,0 16,0.1 16,0.3 L16,4.7 C16,4.9 15.8,5 15.7,5 L9.3,5 Z M11.7,12 C11.9,12 12,12.1 12,12.3 L12,15.7 C12,15.9 11.9,16 11.7,16 L9.3,16 C9.1,16 9,15.9 9,15.7 L9,12.3 C9,12.2 9.1,12 9.3,12 L11.7,12 Z M6.7,0 C6.9,0 7,0.1 7,0.3 L7,7.7 C7,7.9 6.9,8 6.7,8 L0.3,8 C0.1,8 0,7.9 0,7.7 L0,0.3 C0,0.1 0.1,0 0.3,0 L6.7,0 Z M6.7,10 C6.9,10 7,10.1 7,10.3 L7,15.7 C7,15.9 6.9,16 6.7,16 L0.3,16 C0.1,16 0,15.9 0,15.7 L0,10.3 C0,10.1 0.1,10 0.3,10 L6.7,10 Z M15.7,12 C15.9,12 16,12.1 16,12.3 L16,15.7 C16,15.9 15.9,16 15.7,16 L14.3,16 C14.1,16 14,15.9 14,15.7 L14,12.3 C14,12.1 14.1,12 14.3,12 L15.7,12 Z M15.7,7 C15.9,7 16,7.2 16,7.3 L16,9.7 C16,9.9 15.9,10 15.7,10 L9.3,10 C9.1,10 9,9.9 9,9.7 L9,7.3 C9,7.2 9.1,7 9.3,7 L15.7,7 Z"});l("waterfallchart",{descriptionKey:"Template.preview.description.waterfallchart",translationKey:"Object.WaterfallChart",icon:"waterfallchart",iconChar:"waterfallchart",iconPath:"M0.5,1 L2.5,1 C2.77614237,1 3,1.22385763 3,1.5 L3,14.5 C3,14.7761424 2.77614237,15 2.5,15 L0.5,15 C0.223857625,15 3.38176876e-17,14.7761424 0,14.5 L0,1.5 C-3.38176876e-17,1.22385763 0.223857625,1 0.5,1 Z M5,1 L7,1 C7.27614237,1 7.5,1.22385763 7.5,1.5 L7.5,4.5 C7.5,4.77614237 7.27614237,5 7,5 L5,5 C4.72385763,5 4.5,4.77614237 4.5,4.5 L4.5,1.5 C4.5,1.22385763 4.72385763,1 5,1 Z M9,5 L11,5 C11.2761424,5 11.5,5.22385763 11.5,5.5 L11.5,8.5 C11.5,8.77614237 11.2761424,9 11,9 L9,9 C8.72385763,9 8.5,8.77614237 8.5,8.5 L8.5,5.5 C8.5,5.22385763 8.72385763,5 9,5 Z M13.5,9 L15.5,9 C15.7761424,9 16,9.22385763 16,9.5 L16,14.5 C16,14.7761424 15.7761424,15 15.5,15 L13.5,15 C13.2238576,15 13,14.7761424 13,14.5 L13,9.5 C13,9.22385763 13.2238576,9 13.5,9 Z"});l("mekkochart",{descriptionKey:"Template.preview.description.mekkochart",translationKey:"Object.MekkoChart",icon:"marimekko",iconChar:"marimekko",iconPath:"M11,11 L15,11 L15,12 L11,12 L11,15 L10,15 L10,10 L6,10 L6,15 L5,15 L5,12 L1,12 L1,11 L5,11 L5,4 L1,4 L1,3 L5,3 L5,1 L6,1 L6,4 L10,4 L10,1 L11,1 L11,5 L15,5 L15,6 L11,6 L11,11 Z M10,9 L10,5 L6,5 L6,9 L10,9 Z M1,0 L15,0 C15.5522847,0 16,0.44771525 16,1 L16,15 C16,15.5522847 15.5522847,16 15,16 L1,16 C0.44771525,16 0,15.5522847 0,15 L0,1 C0,0.44771525 0.44771525,0 1,0 Z M1,1 L1,15 L15,15 L15,1 L1,1 Z"});l("action-button",{descriptionKey:"Template.preview.description.actionbutton",translationKey:"Object.ActionButton",icon:"align-object-center",iconChar:"align-object-center",iconPath:"M15.1,3 L0.9,3 C0.4,3 0,3.4 0,3.9 L0,12.1 C0,12.6 0.4,13 0.9,13 L15.1,13 C15.6,13 16,12.6 16,12.1 L16,3.9 C16,3.4 15.6,3 15.1,3 Z M15,12 L1,12 L1,4 L15,4 L15,12 Z M11,5 L5,5 L5,11 L11,11 L11,5 Z"});l("bulletchart",{descriptionKey:"Template.preview.description.bulletchart",translationKey:"Object.BulletChart",icon:"bullet-chart",iconChar:"bullet-chart",iconPath:"M12.5,12 C12.7761424,12 13,12.2238576 13,12.5 L13,13 L14.5,13 C14.7761424,13 15,13.2238576 15,13.5 L15,14.5 C15,14.7761424 14.7761424,15 14.5,15 L13,15 L13,15.5 C13,15.7761424 12.7761424,16 12.5,16 C12.2238576,16 12,15.7761424 12,15.5 L12,15 L0.5,15 C0.223857625,15 0,14.7761424 0,14.5 L0,13.5 C0,13.2238576 0.223857625,13 0.5,13 L12,13 L12,12.5 C12,12.2238576 12.2238576,12 12.5,12 Z M9.5,8 C9.77614237,8 10,8.22385763 10,8.5 L10,11.5 C10,11.7761424 9.77614237,12 9.5,12 C9.22385763,12 9,11.7761424 9,11.5 L9,8.5 C9,8.22385763 9.22385763,8 9.5,8 Z M7.5,9 C7.77614237,9 8,9.22385763 8,9.5 L8,10.5 C8,10.7761424 7.77614237,11 7.5,11 L0.5,11 C0.223857625,11 0,10.7761424 0,10.5 L0,9.5 C0,9.22385763 0.223857625,9 0.5,9 L7.5,9 Z M4.5,4 C4.77614237,4 5,4.22385763 5,4.5 L5,5 L12.5,5 C12.7761424,5 13,5.22385763 13,5.5 L13,6.5 C13,6.77614237 12.7761424,7 12.5,7 L5,7 L5,7.5 C5,7.77614237 4.77614237,8 4.5,8 C4.22385763,8 4,7.77614237 4,7.5 L4,7 L0.5,7 C0.223857625,7 0,6.77614237 0,6.5 L0,5.5 C0,5.22385763 0.223857625,5 0.5,5 L4,5 L4,4.5 C4,4.22385763 4.22385763,4 4.5,4 Z M14.5,0 C14.7761424,0 15,0.223857625 15,0.5 L15,3.5 C15,3.77614237 14.7761424,4 14.5,4 C14.2238576,4 14,3.77614237 14,3.5 L14,0.5 C14,0.223857625 14.2238576,0 14.5,0 Z M10.5,1 C10.7761424,1 11,1.22385763 11,1.5 L11,2.5 C11,2.77614237 10.7761424,3 10.5,3 L0.5,3 C0.223857625,3 0,2.77614237 0,2.5 L0,1.5 C0,1.22385763 0.223857625,1 0.5,1 L10.5,1 Z"});l("widget",{translationKey:"Object.Widget",icon:"widget",iconChar:"widget",iconPath:"M1,12.1 L7,16 L7,11.2 L1,7.3 L1,12.1 Z M9,12.1 L9,16 L15,12.1 L15,7.3 L9,11.2 L9,12.1 Z M8,2.1 C9,2.1 9.8,1.6 9.8,1 C9.8,0.5 9,0 8,0 C7,0 6.2,0.5 6.2,1.1 C6.2,1.7 7,2.1 8,2.1 Z M13.5,3.9 L13.5,4.5 C13.5,5.1 12.7,5.6 11.7,5.6 C10.7,5.6 9.9,5.1 9.9,4.5 L9.9,3.4 C10,3.9 10.8,4.4 11.7,4.4 C12.7,4.4 13.5,3.9 13.5,3.3 C13.5,2.7 12.7,2.2 11.7,2.2 C11.4,2.2 11.2,2.2 10.9,2.3 L9.8,1.6 L9.8,2.3 C9.8,2.9 9,3.4 8,3.4 C7,3.4 6.2,2.9 6.2,2.3 L6.2,1.6 L5.1,2.3 C4.8,2.2 4.6,2.2 4.3,2.2 C3.3,2.2 2.5,2.7 2.5,3.3 C2.5,3.9 3.3,4.4 4.3,4.4 C5.3,4.4 6,4 6.1,3.4 L6.1,4.5 C6.1,5.1 5.3,5.6 4.3,5.6 C3.3,5.6 2.5,5.1 2.5,4.5 L2.5,3.9 L1,4.7 L8,9.2 L15,4.7 L13.5,3.9 Z M9.8,6.9 C9.8,7.5 9,7.9 8,7.9 C7,7.9 6.2,7.5 6.2,6.9 L6.2,5.8 L6.2,5.6 C6.2,6.2 7,6.7 8,6.7 C9,6.7 9.8,6.2 9.8,5.6 L9.8,5.8 L9.8,6.9 Z",name:"Widget",description:"Qlik Sense Widget",isLibraryItem:false});t["a"]={registerThirdPartyLibraryInfo:c,remove:o,getLibraryInfo:function e(t){return r["a"].extend({},a[t])}}},knjk:function(e,t,n){"use strict";var r=".autoCalendar";function i(e){var t=e?e.split(r).join(""):"";return t}t["a"]={trimAutoCalendarName:i}},kp36:function(e,t,n){"use strict";var r=n("TmNk");var i=n.n(r);var a=n("sWge");var o=n("zBv7");var s=n("X13V");var l=n("X8RK");var c=n("JbzQ");function u(){this.measureTitles={};this.dimensionTitles={}}u.prototype.getDimensionTitle=f;u.prototype.getMeasureTitle=p;u.prototype.resetTitles=h;var d=u;function f(e,t,n,r){var i=v(e,this.dimensionTitles);if(i)return i.promise;i=g(e,this.dimensionTitles);i.promise=w(e,t,n,r);return i.promise}function p(e,t,n,r){var i=m(e,this.measureTitles);if(i)return i.promise;i=b(e,this.measureTitles);i.promise=y(e,t,n,r);return i.promise}function h(){this.measureTitles={};this.dimensionTitles={}}function v(e,t){var n=S(e);return t[n]}function m(e,t){var n=S(e);return t[n]}function g(e,t){var n=S(e);var r={id:n,promise:null};t[n]=r;return r}function b(e,t){var n=S(e);var r={id:n,promise:null};t[n]=r;return r}function y(e,t,n,r){if(!e)return a["a"].when("");var o=i.a.measureBase.getLibraryId(t);if(e.qError)return a["a"].when(s["a"].getMeasureError(e.qError.qErrorCode));if(o&&n){if(!r)throw new Error("TitleRetriever: Argument 'app' is required");return l["a"].get(o,r).then((function(e){return e.getProperties()})).then((function(e){return e.qMeasure.qLabel||""}))}var c=void 0!==t.qDef?t.qDef:t;if(!o&&n)return a["a"].when(c.qLabelExpression||c.qLabel||i.a.measureBase.getExpression(t)||e.qFallbackTitle||"");return a["a"].when(e.qFallbackTitle||"")}function w(e,t,n,r){if(!e)return a["a"].when("");var i=t.qLibraryId;var l="H"===e.qGrouping;if(e.qError&&!o["a"].isCalcCondNotCalculatedErr(e.qError))return a["a"].when(s["a"].getDimensionError(e.qError.qErrorCode));if(l||i&&n){if(!r)throw new Error("TitleRetriever: Argument 'app' is required");return c["a"].get(i,r).then((function(e){return e.getLayout()})).then((function(e){return e.qDim.title||""}))}if(!i&&n)return a["a"].when(t.qDef.qLabelExpression||e.qFallbackTitle||"");return a["a"].when(e.qFallbackTitle||"")}function S(e){return e&&e.cId}var x={create:q};var C=t["a"]=x;function q(){return new d}},"kr+q":function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("n5Vb");var o=n("4nJ1");var s=n("+GbC");function l(e,t){var n=e[0].getBoundingClientRect();var r=t[0].getBoundingClientRect();var i;var a;var o;var s;if(t.is("th, td")){a=t.closest("table")[0].getBoundingClientRect();i=t.prevAll();o=i.length?i.last():t;s=o[0].getBoundingClientRect();if(s.left-a.left===1)return{top:r.top-n.top,left:r.left-1-n.left,width:r.width}}return{top:r.top-n.top,left:r.left-n.left,width:r.width}}var c;var u;var d={open:function e(t,n,r){var s=l(t,n);var d={top:-44+s.top,width:s.width+(r.offsetWidth||0),left:s.left};r.toolbar=o["a"].extend(true,r.toolbar,{position:d,menuMaxHeight:r.menuMaxHeight});c=i.a.element("<div>");u=c.showComponent(a["a"],r);c.appendTo(t);this.Opened.emit()},refresh:function e(){u&&u.refresh()},close:function e(){if(u){u.close();this.Closed.emit();u=void 0}c&&c.remove()},confirm:function e(){if(u){u.confirm();u=void 0}this.close()},focus:function e(){u&&u.focus()}};s["a"].create(d,"Closed");s["a"].create(d,"Opened");t["a"]=d},"l/7o":function(e,t,n){"use strict";var r=n("mWu2");var i=n("Oyoy");var a=n("6Z/P");var o=n("sWge");var s=n("1CiI");var l=n("jaci");var c=n("jWHD");var u=n("mqp/");var d=n("Sug7");var f=n("90GT");var p=n("UWXu");var h=n("p+Qe");var v=n("VqUS");var m=n("acVu");var g=n("zAzJ");var b=n("MGTR");function y(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){y(a,r,i,o,s,"next",e)}function s(e){y(a,r,i,o,s,"throw",e)}o(void 0)}))}}function S(e){return E(e)||q(e)||C(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}function q(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function E(e){if(Array.isArray(e))return I(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function T(e,t,n){t&&A(e.prototype,t);n&&A(e,n);return e}var D=function(){function e(t,n,i){k(this,e);this.app=n;this.requestOptions=i;this.zoomed=false;this.ObjectPlacementService=f["a"];this.CaoChartService=p["a"];this.$timeout=r["default"].getService("$timeout");this.chart=t;this.object={};this.zoomedObject={};this.options={};this.zoomedOptions={};this.state="READY";this.modified=false;this.chartTypeImageUrl=void 0;this.chartType=void 0;this.rendered=false;this.renderedCount=0;this.insightLearning=!h["a"].isVariableDefined("DISABLE_PRECEDENTS");this.interaction=true;this.invalidChart=false;this.chartUiModelId="chart_ui_model_".concat(v["a"].generateId());this.analysisPeriodValues={};this.analysisPeriods=this.getAnalysisPeriods();this.setAnalysisPeriodValues();Object(m["b"])("NLU_INSIGHTS")&&Object(m["b"])("CAO_CREATE_LIBITEMS_SETEXPR")&&t&&t.visualization instanceof s["a"]&&this.enrichMatchRecord()}T(e,[{key:"updateState",value:function e(t){this.state=t}},{key:"setInvalidChart",value:function e(t){this.invalidChart=t}},{key:"isInvalidChart",value:function e(){return this.invalidChart}},{key:"isMacroAnalysis",value:function e(){return"macroAnalysis"===this.chart.recommendationGroup}},{key:"isCorrelationAnalysis",value:function e(){var t;return"correlation"===(null===(t=this.getAnalysis())||void 0===t?void 0:t.analysis)}},{key:"isDetailedPeriodChanges",value:function e(){return"detailedPeriodChanges"===this.getAnalysis().analysis}},{key:"isPeriodChanges",value:function e(){return"periodChanges"===this.getAnalysis().analysis}},{key:"isGaugeChart",value:function e(){return"gauge"===this.chartType}},{key:"isPieChart",value:function e(){return"piechart"===this.chartType}},{key:"isKpiChart",value:function e(){return"kpi"===this.chartType}},{key:"isHidden",value:function e(){var t,n,r,i,a;if(this.isFound())return false;return this.insightLearning&&(null===(t=this.chart)||void 0===t||null===(n=t.visualization)||void 0===n||null===(r=n.visualization)||void 0===r||null===(i=r.analysis)||void 0===i||null===(a=i.precedents)||void 0===a?void 0:a.disliked)||this.chart.invalidFromLearning}},{key:"isLiked",value:function e(){return this.chart.visualization.visualization.analysis.precedents&&this.chart.visualization.visualization.analysis.precedents.liked}},{key:"setPrecedents",value:function e(t,n,r){this.chart.visualization.visualization.analysis.precedents={id:t,disliked:n,liked:r}}},{key:"setVisualization",value:function e(t){this.chart.visualization=t}},{key:"isRendered",value:function e(){return this.rendered}},{key:"isFound",value:function e(){return"found"===this.chart.visualization.type}},{key:"isGenerated",value:function e(){return"generated"===this.chart.visualization.type}},{key:"isAdded",value:function e(){return"added"===this.chart.visualization.type}},{key:"isModified",value:function e(){return this.modified}},{key:"setState",value:function e(t){this.state=t}},{key:"setModified",value:function e(t){this.modified=t}},{key:"setType",value:function e(t){this.chart.visualization.type=t}},{key:"setChartType",value:function e(t){this.chartType=t}},{key:"refreshChartType",value:function e(){var t=this;return t.chart.visualization.getChartType().then((function(e){t.chartType=e;t.chartTypeImageUrl=i["a"].getImageNameFromChartType(e)}))}},{key:"getVisualization",value:function e(){return this.chart.visualization.visualization}},{key:"getGeneratedInsight",value:function e(){return this.chart.visualization}},{key:"getAlternativeVisualizations",value:function e(){var t;return(null===(t=this.getVisualization())||void 0===t?void 0:t.alternativeVisualizations)||[]}},{key:"getFollowupVisualizations",value:function e(){var t;return null===(t=this.getVisualization())||void 0===t?void 0:t.followupRecAnalyses}},{key:"getParentVisualization",value:function e(){return this.chart.visualization.getParentVisualization()}},{key:"getAnalysisPeriods",value:function e(){var t;return(null===(t=this.getMatchRecord())||void 0===t?void 0:t.analysisPeriods)||[]}},{key:"setAnalysisPeriodValues",value:function e(t){this.analysisPeriods=this.getAnalysisPeriods();if(this.analysisPeriods.length>0){for(var n=0;n<this.analysisPeriods.length;n++)for(var r=0;r<this.analysisPeriods[n].periods.length;r++)if(this.analysisPeriods[n].periods[r].isApplied){this.analysisPeriodValues.isApplied=true;this.analysisPeriodValues.appliedBase=this.analysisPeriods[n];this.analysisPeriodValues.appliedPeriod=this.analysisPeriods[n].periods[r];break}if(!this.analysisPeriodValues.isApplied&&!t){this.analysisPeriodValues.appliedBase=this.analysisPeriods[0];this.analysisPeriodValues.appliedPeriod=this.analysisPeriods[0].periods[0]}}}},{key:"getPartialCharts",value:function e(){var t;var n=this.getVisualization();return null!==(t=null===n||void 0===n?void 0:n.partialCharts)&&void 0!==t?t:[]}},{key:"analysisParametersFound",value:function e(){var t,n;return(null===(t=this.getMatchRecord())||void 0===t||null===(n=t.parameters)||void 0===n?void 0:n.length)>0}},{key:"getAnalysisParameters",value:function e(){var t;return(null===(t=this.getMatchRecord())||void 0===t?void 0:t.parameters)||[]}},{key:"getProperties",value:function e(){return this.chart.visualization.properties}},{key:"getTitle",value:function e(){return this.chart.visualization.getTitle().then((function(e){return e}))}},{key:"isMonitored",value:function e(){var t;return(null===(t=this.chart.visualization.options)||void 0===t?void 0:t.isMonitored)||false}},{key:"getMacroAnalysisDescription",value:function e(){return this.chart.visualization.getMacroAnalysisDescription()}},{key:"getComplexity",value:function e(){return this.chart.complexity}},{key:"getRelevance",value:function e(){return this.chart.relevance}},{key:"getMatchRecord",value:function e(){var t,n,r;return null===(t=this.chart)||void 0===t||null===(n=t.visualization)||void 0===n||null===(r=n.visualization)||void 0===r?void 0:r.matchRecord}},{key:"getState",value:function e(){return this.state}},{key:"getModel",value:function e(){return this.chart.model}},{key:"setModel",value:function e(t){this.chart.model=t}},{key:"getRequestOptions",value:function e(){return this.requestOptions}},{key:"getObject",value:function e(){return this.zoomed?this.zoomedObject:this.object}},{key:"getObjectContextMenu",value:function e(t,n){return this.zoomed&&!this.isMacroAnalysis()?this.zoomedObject.getContextMenu(t,n):o["a"].resolve()}},{key:"getAnalysisPrecedentId",value:function e(){return this.chart.visualization.analysisPrecedentId}},{key:"getMatchDetails",value:function e(){return this.chart.visualization.getMatchDetails()}},{key:"getSheetsThisChartAppearsOn",value:function e(){return this.chart.visualization.appearsOnSheets}},{key:"getMatches",value:function e(){var t,n;return null!==(t=null===(n=this.chart.visualization.visualization)||void 0===n?void 0:n.matchRecord.matches)&&void 0!==t?t:[]}},{key:"getFields",value:function e(){return this.getMatches().filter((function(e){return!e.slotRole}))}},{key:"getMeasures",value:function e(){return this.getMatches().filter((function(e){return e.slotRole===u["a"].MEASURE}))}},{key:"getDimensions",value:function e(){return this.getMatches().filter((function(e){return e.slotRole===u["a"].DIMENSION}))}},{key:"getFilters",value:function e(){var t;var n=this.getMatches().filter((function(e){return!!(e.cond||e.cond_off)}));var r=(null===(t=this.chart.visualization.visualization)||void 0===t?void 0:t.matchRecord.constraints)||[];return n.concat(r)}},{key:"getFilterRepresentation",value:function e(t,n){var r=t[0];var i;i=t.length>2?[t[1],t[2]]:Array.isArray(t[1])?S(t[1]):"".concat(t[1]);n&&(i=n);if(t&&t.length>1&&"string"===typeof t[1]&&-1!==t[1].indexOf("vCRE_")&&this.getRequiredSelections().length>0){var a=t[1].replace("$(","").replace(")","");var o=this.getRequiredSelections().find((function(e){return e.sessionVariable===a}));o&&(i=o.values||o.defaultValues)}switch(r){case"==":case"in":return Array.isArray(i)?"".concat(i.join(", ")):"".concat(i);case"!=":return"-".concat(i);case"notIn":return"".concat(i.map((function(e){return"-".concat(e)})).join(", "));case"inRange":return">= ".concat(i[0]," <= ").concat(i[1]);default:return"".concat(t[0]," ").concat(i)}}},{key:"getFilterLabel",value:function e(t){if(t.libId&&!t.libIdLabel){var n=d["a"].getLibLabelLookup();return n[t.libId]}return t.field||t.libIdLabel}},{key:"getEnabledFilters",value:function e(){return this.getFilters().filter((function(e){return!!e.cond}))}},{key:"getChartType",value:function e(){return this.chart.visualization.visualization.analysis.analysis}},{key:"getSearchReport",value:function e(){return this.chart.visualization.searchReport}},{key:"getAnalysis",value:function e(){return this.chart.visualization.visualization.analysis}},{key:"isObjectInvalid",value:function e(){return this.zoomed?this.zoomedObject.invalid:this.object.invalid}},{key:"isViewDataToggled",value:function e(){return this.zoomed?this.zoomedObject.viewDataToggled:this.object.viewDataToggled}},{key:"isDataViewSupported",value:function e(){return this.zoomed?this.zoomedObject.supportViewData&&this.zoomedObject.supportViewData():this.object.supportViewData&&this.object.supportViewData()}},{key:"toggleDataView",value:function e(){if(this.zoomed)return this.zoomedObject.toggleDataView();return this.object.toggleDataView()}},{key:"activateSelectionWatch",value:function e(t){this.object.selectionsApi.watchActivated(t)}},{key:"deactivateSelectionWatch",value:function e(t){this.object.selectionsApi.watchDeactivated(t)}},{key:"getRequiredSelections",value:function e(){var t,n;return null!==(t=null===(n=this.chart.visualization.visualization)||void 0===n?void 0:n.requiredSelections)&&void 0!==t?t:[]}},{key:"convertOperator",value:function e(t,n){if("=="===t&&n.length>1)return g["a"].IN.predicate;if("!="===t&&n.length>1)return g["a"].NOT_IN.predicate;return t}},{key:"adaptMatches",value:function e(){var t=this;this.getFilters().forEach((function(e){if(e.required){var n,r;var i=t.getRequiredSelections().find((function(t){return t.fieldRef===e.field||t.fieldRef===e.libIdLabel}));if(i&&(null===(n=e.cond)||void 0===n||null===(r=n[1])||void 0===r?void 0:r.indexOf("vCRE_"))>-1){var a=i.values?i.values:i.defaultValues;e.cond=[t.convertOperator(e.cond[0],a),a]}}}))}},{key:"adaptChart",value:function(){var e=w(regeneratorRuntime.mark((function e(t,n){var r,i;var a,o,l,c,u,f;return regeneratorRuntime.wrap((function e(p){while(1)switch(p.prev=p.next){case 0:a=this;this.adaptMatches();o=a.chart.visualization.visualization;l=d["a"].getLibLabelLookup();c=a.chart.visualization.searchReport;p.next=7;return this.CaoChartService.adaptRecommendation(o,a.app,l,c,this.getRequestOptions(),a.chart.suggestedTimeout);case 7:u=p.sent;if("macroAnalysis"===a.chart.recommendationGroup&&u.visualization){a.chart.visualization=u.visualization;a.getPartialCharts().forEach((function(e){e.shouldRedraw=true}))}else{f=Object(m["b"])("DPS_DERIVED_IA")?u:{analysis:u.analysis,matchRecord:u.matchRecord,requiredSelections:u.requiredSelections};a.chart.visualization=new s["a"](f,c,u.properties)}(null===(r=a.chart.visualization.properties)||void 0===r||null===(i=r.qInfo)||void 0===i?void 0:i.qType)&&a.setChartType(a.chart.visualization.properties.qInfo.qType);Object(m["b"])("NLU_INSIGHTS")&&Object(m["b"])("CAO_CREATE_LIBITEMS_SETEXPR")&&a.enrichMatchRecord();delete a.rendered;n||(a.isViewDataToggled()?a.toggleDataView().then((function(){a.shouldRedraw=true})):a.shouldRedraw=true);this.chart.relevance&&b["a"].publish("cao/insights/adapt_narrative",u);a.recalculateConfidence=t;return p.abrupt("return",u.properties);case 16:case"end":return p.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"addFootnote",value:function e(t){var n=this;var r=this.getEnabledFilters();if(r.length){t.footnote=r.map((function(e){return"".concat(n.getFilterLabel(e),": ").concat(n.getFilterRepresentation(e.cond,e.condDisplayValues))})).join(" | ");t.showTitles=true}}},{key:"setChartInteraction",value:function e(t){if(this.zoomed&&Object.keys(this.zoomedObject).length&&this.interaction!==t){this.interaction=t;t?this.zoomedObject.on():this.zoomedObject.off()}}},{key:"setChartInteractionState",value:function e(t){this.options.interactionState=t}},{key:"enrichMatchRecord",value:function e(){var t=this;var n=t.chart.visualization.visualization.analysis;t.getMatches().forEach((function(e){n.dims&&t.checkItemsAndEnrichMatchRecord(e,n.dims,"dimension");n.msrs&&t.checkItemsAndEnrichMatchRecord(e,n.msrs,"measure")}))}},{key:"checkItemsAndEnrichMatchRecord",value:function e(t,n,r){n.some((function(e){var n=false;t.field?n=t.field===e.field:t.libId&&(n=t.libId===e.libId);if(n){t.customExpr=e.expr;t.exprType=r;t.isPredefinedLibItem=false;t.libId&&t.libId===e.expr&&(t.isPredefinedLibItem=true)}return n}))}},{key:"destroyChart",value:function e(){var t=this;if(t.zoomed){t.zoomed=false;return}if("LOADING"===t.state||"LOADED"===t.state){if(!t.rendered&&t.object&&t.object.subscription){t.rendered=false;t.object.cancel()}t.isGenerated()&&t.chart.model&&t.chart.model.id&&!t.zoomed?t.app.destroySessionObject(t.chart.model.id).then((function(){t.rendered=false;t.state="READY"})):t.state="READY"}}},{key:"initializeOptions",value:function e(){this.options={};this.zoomedOptions={};this.options.isReadonly=false;this.options.isPopover=false;this.options.selectionsDisabled=true;this.options.interactionState=c["a"].STATIC;this.options.direction=l["a"].direction;this.zoomedOptions.isReadonly=false;this.zoomedOptions.isPopover=false;this.zoomedOptions.selectionsDisabled=false;this.zoomedOptions.interactionState=c["a"].ANALYSIS;this.zoomedOptions.direction=l["a"].direction}},{key:"loadChart",value:function e(t){var n=this;return new Promise((function(e){var r;if(n.rendered){n.setState("LOADED");t&&t();e()}else{n.initializeOptions();var i=n.chart.model?n.app.destroySessionObject(n.chart.model.id):Promise.resolve();i.then((function(){n.chart.visualization.loadChart(n.app).then((function(i){n.object&&n.object.type&&(n.object.type=null);n.zoomedObject&&n.zoomedObject.type&&(n.zoomedObject.type=null);n.chart.model=i.model;n.state="LOADED";function a(){r&&n.$timeout.cancel(r)}var o=function r(){if(n.zoomed){n.renderedCount++;if(n.renderedCount<2)return}n.renderedCount=0;n.rendered=true;t&&t();n.state="LOADED";a();e()};n.options.onRendered=o;n.zoomedOptions.onRendered=o;var s=function t(){a();e()};n.options.onCanceled=s;n.zoomedOptions.onCanceled=s;r=n.$timeout((function(){if(!n.allowLongLoad&&!n.rendered&&n.object&&n.object.subscription){n.object.subscription.cancel();n.zoomedObject&&n.zoomedObject.subscription&&n.zoomedObject.subscription.cancel();n.state="MANUAL_LOAD";e()}}),n.chart.suggestedTimeout)}),(function(){e()}))}))}return e()}))}},{key:"hasVariableConstraints",value:function e(t){if(t)return t.some((function(e){return!!e.variable}));return false}},{key:"addToAppearsOnSheets",value:function e(t){this.chart.visualization.appearsOnSheets.push(t)}},{key:"addToSheet",value:function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r,i;var o,s,l,c;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:o=this;s=null===(n=o.chart.visualization)||void 0===n||null===(r=n.visualization)||void 0===r||null===(i=r.matchRecord)||void 0===i?void 0:i.constraints;if(!(o.hasVariableConstraints(s)||o.getRequiredSelections().length>0)){u.next=9;break}u.next=5;return o.adaptChart(true);case 5:l=u.sent;o.setModified(true);u.next=12;break;case 9:u.next=11;return o.chart.model.getProperties();case 11:l=u.sent;case 12:o.addFootnote(l);if(t){u.next=19;break}u.next=16;return o.ObjectPlacementService.addToNewSheet(l);case 16:c=u.sent;u.next=22;break;case 19:u.next=21;return o.ObjectPlacementService.addObjectToSheet(l,t,a["a"].getModel());case 21:c=u.sent;case 22:o.setType("added");o.addToAppearsOnSheets(c.id);return u.abrupt("return",c);case 25:case"end":return u.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]);return e}();t["a"]=D},l7Dq:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a='<lui-popover class="qv-cp-popup qv-color-picker-new"\n\t\t\t style="z-index: 1200;"\n\t\t\t ng-style="{\'width\': \'auto\'}"\n\t\t\t collision="\'flipfit\'"\n\t\t\t align-to="$alignToElement"\n\t\t\t on-close-view="closeView(event)"\n\t\t\t tid="color-picker-popup"\n\t\t\t qva-outside-ignore-for="media-toolbar">\n\n\t<div class="qv-cp-flex-new">\n\t\t<div class="qv-cp-main-stage-new" >\n\t\t\t<div ng-show="!customColor" class="color-palette">\n\t\t\t\t<ul class="qv-colorpicker-new palette"\n\t\t\t\t\ttid="color-picker-palette">\n\t\t\t\t\t<li ng-repeat="color in currentPalette | filter: ( $disableNone || \'\' ) && \'!none\' "\n\t\t\t\t\t\tng-click="colorClicked($event, $index, color)"\n\t\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\t\tng-class="{\'lui-icon--tick\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}">\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div class="custom-color" ng-show="customColor">\n\t\t\t\t<div hue-sat-wheel-new callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t\t<div value-slider-new callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="$useGlyph">\n\t\t\t<div class="qv-cp-glyphs-title-new" q-translation="properties.glyph"></div>\n\t\t\t<div class="qv-cp-glyphs-new">\n\t\t\t\t<button ng-repeat="glyph in $glyphPalette"\n\t\t\t\t\t\tclass="lui-fade-button  lui-fade-button--inverse"\n\t\t\t\t\t\tng-click="setGlyph($event, $index, glyph)"\n\t\t\t\t\t\tng-class="{\'lui-active\': glyphIcon === glyph.icon, \'border\': glyph.cssClass === \'\'}" >\n\t\t\t\t\t<span class="lui-fade-button__icon lui-icon" ng-class="glyph.cssClass"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n\t<div class="qv-cp-divider-new"></div>\n\n\t<div class="qv-cp-hex-result-new" ng-if="extended || customColor">\n\t\t<div class="qv-cp-preview"\n\t\t\t tid="color-picker-preview"\n\t\t\t ng-class="{\'transparent\' : foreColor === \'none\'}"\n\t\t\t ng-style="getBackgroundStyle(foreColor)"></div>\n\t\t<div class="qv-cp-hex-text">#</div>\n\t\t<input class="qv-cp-hex-input"\n\t\t\t   ng-model="hex.value"\n\t\t\t   ng-change="onHexChange(hex.value)"\n\t\t\t   maxlength="6"\n\t\t\t   tid="{{hex.value}}"\n\t\t\t   ng-keypress="onKeyPress($event)"/>\n\n\t\t<button class="qv-cp-switch lui-button lui-button--inverse"\n\t\t\t\ttid="color-picker-result"\n\t\t\t\tng-class="{\'lui-active\' : customColor }"\n\t\t\t\tng-click="onFoldoutClick($event)"\n\t\t\t\tq-title-translation="{{customColor ? \'ColorPicker.HideOptions\' : \'ColorPicker.ShowOptions\'}}">\n\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--palette"></span>\n\t\t</button>\n\t</div>\n\n\t<div class="qv-colorpicker-recent-wrapper" ng-show="showRecent">\n\t\t<span class="recently-used-text" q-translation="colorpicker.RecentlyUsed"></span>\n\t\t<div>\n\t\t\t<ul class="qv-colorpicker-new recent">\n\t\t\t\t<li ng-repeat="color in recentColors | filter: \'!none\'"\n\t\t\t\t\tng-click="recentColorClicked($event, color)"\n\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\tng-class="{\'selected\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}"\n\t\t\t\t\tclass="no-margin">\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\n</lui-popover>';var o=n("GF7R");function s(e,t){t=t||[];var n=Array.apply(null,t);n.fixedSize=e;n.push=s.push;n.splice=s.splice;n.unshift=s.unshift;s.trimTail.call(n);return n}s.trimHead=function(){if(this.length<=this.fixedSize)return;Array.prototype.splice.call(this,0,this.length-this.fixedSize)};s.trimTail=function(){if(this.length<=this.fixedSize)return;Array.prototype.splice.call(this,this.fixedSize,this.length-this.fixedSize)};s.wrapMethod=function(e,t){var n=function n(){var r=Array.prototype[e];var i=r.apply(this,arguments);t.call(this);return i};return n};s.push=s.wrapMethod("push",s.trimHead);s.splice=s.wrapMethod("splice",s.trimTail);s.unshift=s.wrapMethod("unshift",s.trimTail);var l={FixedQueue:s};var c;function u(e){var t=l.FixedQueue(5,[]);if(c){v(c,t);for(var n=e.length-1;n>=1;n--)v(e[n],t)}else for(var r=e.length-1;r>=0;r--)t.push(e[r]);return t}var d=f();function f(){return l.FixedQueue(5,[])}function p(){return u(d)}function h(e){v(e,d)}function v(e,t){if("none"!==e){var n=t.indexOf(e);n>-1&&t.splice(n,1);t.push(e)}}function m(e){c=e}function g(){h(c);c=null}var b={getPersistentRecentColors:p,initRecentColors:f,persistColor:h,stage:m,commit:g};var y=n("Z9ZH");var w=n.n(y);var S=n("mWu2");S["default"].directive("hueSatWheelNew",[function(){return{require:"?hsv",replace:true,template:'<div class="cp-hue-sat-new"><div class="cp-hue-sat-wheel" tid="color-picker-wheel"><div class="cp-hsw-overlay"></div><div class="cp-hsw-pointer"><div class="cp-hsw-inside"></div></div></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(t,n){var r=n.find(".cp-hsw-pointer");var i=n.find(".cp-hsw-overlay");var a=n.find(".cp-hue-sat-wheel");var o=a.width()/2;var s=a.height()/2;var l=0;var c=0;function u(e,n){l=(180*Math.atan2(n,e)/Math.PI+360)%360;c=Math.min(Math.max(0,Math.sqrt(n*n+e*e)/o*100),100);t.hsv.h=l;t.hsv.s=c;t.callback&&t.callback({hue:l,sat:c})}function d(e,t){r.css({left:e,top:t})}function f(){var e=Math.cos(l/180*Math.PI)*(c/100*o);var t=Math.sin(l/180*Math.PI)*(c/100*o);d(e+o,s-t)}function p(e,t){var n=Math.sqrt(e*e+t*t);if(n>o){e=e/n*o;t=t/n*o}return{x:e,y:t}}function h(e){var t=a.offset();var n=p(e.x-o-t.left,2*s-e.y-o+t.top);d(n.x+o,s-n.y);u(n.x,n.y)}var v="cp-hsw";w()(a[0]).tap({id:v,end:function e(t,n){h(n.pagePoints[0])}}).swipe({id:v,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){h(n.pagePoints[0])}});t.$watch("hsv.v",(function(){i.css("background","rgba(0,0,0, ".concat((100-t.hsv.v)/100,")"))}));t.$watch("hsv.h",(function(){if(l!==t.hsv.h){l=t.hsv.h%360;f()}}));t.$watch("hsv.s",(function(){if(c!==t.hsv.s){c=t.hsv.s>100?100:t.hsv.s<0?0:t.hsv.s;f()}}));t.$watch("visible",(function(){f()}));t.$on("$destroy",(function(){w()(a[0]).off("*",v)}))}}}]);function x(e,t,n){return new o["a"]("hsv(".concat(e,",").concat(t,",").concat(n,")")).toRGB()}S["default"].directive("valueSliderNew",[function(){return{require:"?hsv",replace:true,template:'<div class="cp-value" tid="color-picker-slider"><div class="cp-val-slider"><span class="cp-val-pointer"></span></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(t,n){var r=n.find(".cp-val-pointer");var i=n.find(".cp-val-slider");var a=100;function o(e){return(e-r.outerWidth()/2)/(i.outerWidth()-r.outerWidth())*100}function s(e){return e/100*(i.outerWidth()-r.outerWidth())+r.outerWidth()/2}function l(e){a=Math.max(Math.min(100,o(e)),0);t.hsv.v=a;t.callback&&t.callback({value:o(e)})}function c(e){r.css({left:e})}function u(e){var t=s(e);c(t)}function d(e){return Math.min(Math.max(e,r.outerWidth()/2),i.outerWidth()-r.outerWidth()/2)}function f(e){var t=i.offset();var n=d(e.x-t.left);c(n);l(n)}var p="cp-hsw";w()(n[0]).tap({id:p,end:function e(t,n){f(n.pagePoints[0])}}).swipe({id:p,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){f(n.pagePoints[0])}});t.$watchCollection("[hsv.s, hsv.h]",(function(){i.css("background-color",x(t.hsv.h,t.hsv.s,100))}));t.$watch("hsv.v",(function(){if(a!==t.hsv.v){a=t.hsv.v;u(t.hsv.v)}}));t.$watch("visible",(function(){u(a)}));t.$on("$destroy",(function(){w()(n[0]).off("*",p)}))}}}]);function C(e,t,n){void 0!==e.colors&&(e=e.colors);this._palette=e;this._index=-1;this._shift=n||false;void 0!==t.index&&(this._index=t.index);"none"===t&&(this._index=0);if(""===t){this._index=0;t="none"}if(this._index>=0&&this._index<this._palette.length)this._hex=this._palette[this._index];else if(void 0!==t.color){this._hex=t.color;this._index=e.indexOf(this._hex)}else{if(e[t]){this._hex=e[t];this._index=t}else{this._hex=t;this._index=e.indexOf(this._hex)}"none"===t&&(this._index=0)}this._defaultHSV={h:0,s:100,v:100};this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()}C.prototype._updateHexObj=function(){this._colorUtil=new o["a"](this._hex);if(this._colorUtil.isInvalid())this._hexObj={value:"-"};else{var e=this._hex.substring(1,7);this._hexObj={value:e}}};C.prototype._updateWheelStatus=function(){this._index>=0&&this._index<this._palette.length+this._shift||0===this._index?this._isWheelUsed=false:this._isWheelUsed=true};C.prototype._updateHexToHsv=function(){this._colorUtil=new o["a"](this._hex);this._colorUtil.isInvalid()?this._hsv=this._defaultHSV:this._hsv=this._colorUtil.toHSVComponents()};C.prototype._updateHsvToHex=function(e){this._colorUtil=new o["a"]("hsv(".concat(this._hsv.h,",").concat(this._hsv.s,",").concat(this._hsv.v,")"));this._colorUtil.isInvalid()&&e.$disableNone&&(this._colorUtil=new o["a"](e.$defaultColor));if(this._colorUtil.isInvalid())this._hexObj="-";else{this._hexObj={value:this._colorUtil.toHex().substring(1,7)};this._hex="#".concat(this._hexObj.value)}this._index=this._palette.indexOf(this._hex)};C.prototype.updateColor=function(e,t){this._colorUtil=new o["a"](e);if(this._colorUtil.isInvalid()){this._hex="none";this._index=0}else{this._hex=e;this._index=t}this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};C.prototype.updatePalette=function(e){void 0!==e.colors&&(e=e.colors);this._palette=e;this._index>=e.length&&(this._index=-1);this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};C.prototype.updateHex=function(e){this._hex=e;this._index=this._palette.indexOf(this._hex);this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};C.prototype.updateHexUntrusted=function(e){var t="#".concat(e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6));this.updateHex(t)};C.prototype.getHsv=function(){return this._hsv};C.prototype.setHsv=function(e){this._hsv=e;this._updateHsvToHex()};C.prototype.syncHsv=function(){this._updateHsvToHex()};C.prototype.getHex=function(){return this._hex};C.prototype.getHexObj=function(){return this._hexObj};C.prototype.isWheelUsed=function(){return this._isWheelUsed};C.prototype.forceWheelUsed=function(e){this._isWheelUsed=e};C.prototype.isDark=function(){return this._colorUtil.isDark()};C.prototype.getIndex=function(){return this._index};C.prototype.clone=function(){return i.a.extend(true,{},this)};var q={template:a,controller:["$scope","$element","$timeout",function(e,t,n){var r=e.$inputViewValue;e.currentPalette=e.$palette;e.extended=e.$extended;var i=new C(e.currentPalette,r,e.$disableNone);e.$useGlyph&&(e.glyphIcon=e.$inputViewValue.icon);var a=null;var s;var l=false;Object.defineProperty(e,"hsv",{get:function e(){return i.getHsv()},set:function e(t){i.setHsv(t)}});Object.defineProperty(e,"foreColor",{get:function e(){return i.getHex()}});Object.defineProperty(e,"hex",{get:function e(){return i.getHexObj()},set:function e(){return i.setHexObj()}});Object.defineProperty(e,"isDark",{get:function e(){return i.isDark()}});Object.defineProperty(e,"customColor",{get:function t(){return i.isWheelUsed()&&e.extended},set:function e(t){i.forceWheelUsed(t)}});e.recentColors=b.getPersistentRecentColors();e.setGlyph=function(t,n,r){e.glyphIcon=r.icon;d()};e.onHexChange=f(u);e.colorClicked=f((function(t,n,r){e.$disableNone&&(n+=1);i.updateColor(r,n);d();l=true}));e.recentColorClicked=f((function(t,n){if(!e.$disableNone||"none"!==n){i.updateHex(n);d();l=true}}));e.onFoldoutClick=function(t){t.preventDefault();e.customColor=!e.customColor};e.onKeyPress=function(t){var n=t.which;13===n&&e.close()};e.getBackgroundStyle=function(e){if("none"!==e)return{"background-color":e};return};function c(){return e.recentColors.length>0&&e.extended}e.showRecent=c();function u(e){if(6===e.length){var t="#".concat(e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6));this._colorUtil=new o["a"](t);if(!this._colorUtil.isInvalid()){i.updateHexUntrusted(e);d();l=true}}}function d(){e.onColorChange(e.$useGlyph,i.getIndex(),e.foreColor,e.currentPalette,e.glyphIcon);e.extended&&b.stage(i.getHex())}function f(e){return function(){var t=this;var r=arguments;a||(a=n((function(){e.apply(t,r);a=null}),100))}}e.hueSatValueChanged=f((function(){i.syncHsv();l=true;s&&n.cancel(s);s=n((function(){d();s=null}),300)}));e.applyColor=function(){e.extended&&b.commit()};e.$on("$destroy",(function(){l&&e.applyColor();t.find(".qv-cp-hex-input").off()}))}]};var E=t["a"]={popupComponent:q}},l94f:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},lCV6:function(e,t,n){"use strict";var r=n("sWge");var i=n("mWu2");var a=n("PX8M");var o=n("VqUS");var s=n("4qf9");var l=n("UV1h");var c=n("4nJ1");var u=n("H6Kg");var d=n("acVu");var f=function e(t,n,i){var o=t||a["a"].getApp(n);return r["a"].resolve(o).then((function(e){var t=e.layout&&e.layout.qTitle||"";var n=e.id||"";var r=null;var a=e.global?e.global:e;var o=a.getConfiguration().then((function(a){Object(d["b"])("__TEST_ONLY__USE_PRINTING")&&0===a.qServices.length&&(a.qServices=[{qName:"SensePrinting",qUrl:"/printing/"}]);for(var o=0;o<a.qServices.length;o++)if("senseprinting"===a.qServices[o].qName.toLowerCase()){r={appName:t,appId:n,qUrl:Object(d["b"])("EXPORT_API_ENDPOINT")?"".concat(i||"","/api/export/printing/"):i?i+unescape(a.qServices[o].qUrl):unescape(a.qServices[o].qUrl),localeInfo:e.layout.qLocaleInfo};break}return r}));return o}))};var p=function e(t,n,i,a,o,c){var d=t.model.layout.qInfo.qType;var p="story"===d||"sheet"===d?d:"object";var h="object"===p?t:t.model;var v=s["a"].snapshot(t.model.id,p,{size:i,source:h,sourceSize:n,sheetLayout:"grid"});var m=f(o,t.model.app.id,c);var g=u["a"].getProperties().then((function(e){return{sheetLogoPosition:e.sheetLogoPosition,sheetLogoThumbnail:e.sheetLogoThumbnail,sheetTitleBgColor:e.sheetTitleBgColor,sheetTitleColor:e.sheetTitleColor,sheetTitleGradientColor:e.sheetTitleGradientColor,rtl:e.rtl}}));return r["a"].all([v,m,g]).then((function(e){var t=e[0];var n=e[1];var i=e[2];if(!n)return r["a"].reject("No configuration found");var o=l["a"].getCurrentTheme();var s=n.qUrl;var c=a;c.objTree=t;c.appName=n.appName;c.appId=n.appId;c.appStylingInfo=i;c.localeInfo=n.localeInfo;c.themeName=o;return{qUrl:s,payload:c,snapshotType:p}}))};var h={poolPromise:null,printTree:function e(t,n,r,i,a){return p(t,n,r,i).then((function(e){return h.enqueueRequest(e.qUrl,e.payload,e.snapshotType,a,i.timeoutMsec,i.checkInterval)}))},getPrintDataForQSC:function e(t,n){var i=Object(r["a"])();p(t,null,null,n).then((function(e){var t={imageType:"Jpeg",captureSize:{},images:[{name:"280x375",width:280,height:375,dpi:96,requestId:"?requestId=".concat(o["a"].generateId())},{name:"400x400",width:400,height:400,dpi:96,requestId:"?requestId=".concat(o["a"].generateId())},{name:"fallback",width:1024,height:768,dpi:96,requestId:"?requestId=".concat(o["a"].generateId())}],payload:e.payload,url:"".concat(e.qUrl,"export/object/image"),pollingUrl:"".concat(e.qUrl,"export/request/status"),host:window.location.host,prefix:c["a"].basePath};i.resolve(t)}),(function(){i.reject({status:-1})}));return i.promise},enqueueRequest:function e(t,n,a,s,l,c){var u=Object(r["a"])();this.cancel(s);var d=this.getStates();l=l||36e5;c=c||3e3;var f=l/c;var p=0;var v=o["a"].generateId();var m="".concat(t,"export/").concat("story"===a?"story":"object","/").concat(s);m="".concat(m,"?requestId=").concat(v);var g=i["default"].getService("$http");var b=i["default"].getService("$interval");var y=null;g({url:m,method:"POST",data:n}).then((function(e){var n=e.data;var r=n&&n.requestId;var i="".concat(t,"export/request/status?requestId=").concat(r);var a=function e(){g({url:i,method:"GET"}).then((function(e){var t=e.data;p++;if(p>f){b.cancel(y);u.reject({status:d.TIMEOUT});return}if(t&&t.status){var n=t.status;if("Failed"===n||"Canceled"===n){b.cancel(y);u.reject({status:"Canceled"===n?d.CANCELED:d.FAILED})}else if("Completed"===n){b.cancel(y);u.resolve({status:d.COMPLETED,qUrl:t.qUrl})}}else{b.cancel(y);u.reject({status:d.FAILED})}})).catch((function(e,t){b.cancel(y);u.reject({status:d.FAILED,data:e,httpStatusCode:t})}))};y=b(a,c);switch(s){case"image":h.poolPromiseImage=y;break;case"pdf":h.poolPromisePdf=y;break;default:h.poolPromise=y}})).catch((function(e,t){u.reject({status:d.FAILED,data:e,httpStatusCode:t})}));i["default"].$rootScope.$on("$routeChangeStart",(function(){this.cancel()}));return u.promise},cancel:function e(t){var n=[];switch(t){case"image":n.push(this.poolPromiseImage);break;case"pdf":n.push(this.poolPromisePdf);break;default:n.push(this.poolPromise,this.poolPromiseImage,this.poolPromisePdf);break}if(n.length>0){var r=i["default"].getService("$interval");n.forEach((function(e){if(e){r.cancel(e);e=null}}))}},getStates:function e(){return{NODATA:-4,CANCELED:-3,TIMEOUT:-2,FAILED:-1,IDLE:0,PENDING:1,COMPLETED:2}},printObject:function e(t,n,r,i,a,o,s){var l=Object(d["b"])("IS_DESKTOPCLIENT");return p(n,i,a,o,t,l?null:r).then((function(e){return h.enqueueRequest(e.qUrl,e.payload,e.snapshotType,s,void 0,void 0)}))}};t["a"]=h},lEl7:function(e,t,n){"use strict";n.r(t);var r=n("sWge");var i=n("vaoC");var a=n("TLJm");var o=n("cWJj");var s=n("7WGe");var l=n("xlAv");var c=n("6uJb");var u=n("+GbC");function d(e,t){Object.defineProperties(this,{qText:{value:e.qText},qElemNumber:{value:e.qElemNumber},qState:{value:e.qState},field:{value:t}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}});e.qFrequency&&Object.defineProperties(this,{qFrequency:{value:e.qFrequency}})}d.prototype.select=function(e,t){return this.field.select([this.qElemNumber],e||false,t||false)};var f=d;function p(e,t,n,i,a,o,s){if(!e.waitFor)return r["a"].resolve();return e.waitFor.then((function(){return e.field[t].apply(e.field,[n,i,a,o,s].filter((function(e){return"undefined"!==typeof e})))}))}function h(e,t,n){var i=this;i.qapp=e;i.fldname=t;i.statename=n;i.rows=[];if(i.qapp.model.session){u["a"].create(i,"OnData");var a=new r["a"];i.waitFor=a.promise;i.qapp.model.waitForOpen.promise.then((function(){var r=e.model.enigmaModel||e.model;r.getField(t,n||"$").then((function(e){i.field=e;a.resolve()})).catch((function(){}))}))}}h.prototype.clear=function(){return p(this,"clear")};h.prototype.lock=function(){return p(this,"lock")};h.prototype.unlock=function(){return p(this,"unlock")};h.prototype.clearOther=function(e){return p(this,"clearAllButThis",e||false)};h.prototype.selectAll=function(e){return p(this,"selectAll",e||false)};h.prototype.selectExcluded=function(e){return p(this,"selectExcluded",e||false)};h.prototype.selectAlternative=function(e){return p(this,"selectAlternative",e||false)};h.prototype.selectPossible=function(e){return p(this,"selectPossible",e||false)};h.prototype.toggleSelect=function(e,t){return p(this,"toggleSelect",e,t||false)};h.prototype.selectMatch=function(e,t){return p(this,"select",e,t||false)};h.prototype.select=function(e,t,n){return p(this,"lowLevelSelect",e,t||false,n||false)};h.prototype.selectValues=function(e,t,n){var r=[];e.forEach((function(e){"number"===typeof e?r.push({qIsNumeric:true,qNumber:e}):"string"===typeof e?"undefined"===e?r.push({qText:""}):r.push({qText:e}):r.push(e)}));return p(this,"selectValues",r,t||false,n||false)};h.prototype.getData=function(e){if(this.requestActive)return this;this.requestActive=true;var t=this;var n=function n(){t.qapp.createGenericObject({qListObjectDef:{qStateName:t.statename?t.statename:"$",qDef:{qFieldDefs:[t.fldname]},qFrequencyMode:e&&e.freq||"V",qInitialDataFetch:[{qTop:0,qLeft:0,qHeight:e&&e.rows||200,qWidth:1}]}},(function(e){t.rows.length=0;e.qListObject.qDataPages.forEach((function(e){e.qMatrix.forEach((function(e){t.rows.push(new f(e[0],t))}))}));t.rowCount=e.qListObject.qDimensionInfo.qCardinal;t.stateCounts=e.qListObject.qDimensionInfo.qStateCounts;t.requestActive=false;t.genericObject&&t.OnData.emit()})).then((function(e){t.genericObject=e;t.OnData.emit()}))};this.genericObject?this.genericObject.close().then((function(){delete t.genericObject;n()})):n();return this};h.prototype.getMoreData=function(){if(this.requestActive)return this;if(this.rowCount<=this.rows.length)return this;this.requestActive=true;var e=this;var t={qTop:this.rows.length,qLeft:0,qWidth:1,qHeight:50};e.genericObject?e.genericObject.getListObjectData("/qListObjectDef",[t]).then((function(t){t[0].qMatrix.forEach((function(t){e.rows.push(new f(t[0],e))}));e.requestActive=false;e.OnData.emit()})):e.requestActive=false;return this};var v=h;var m=n("FZ1g");function g(e){this.app=e}g.prototype.create=function(e,t,n){var r=this;return r.app.waitForOpen.promise.then((function(){return o["a"].get(r.app).then((function(i){return i.getLayout().then((function(){var a=i.layout.qSelectionObject?i.layout.qSelectionObject.qSelections:null;var o;var s={currentSelectFields:[],currentSelectCount:0};if(a&&a.length>0){s.currentSelectCount=a.length;for(o=0;o<a.length;o++)s.currentSelectFields.push(a[o].qField)}var l="";for(o=0;o<s.currentSelectCount;o++){o>0&&(l+=", ");l+=s.currentSelectFields[o]}var c={qMetaDef:{title:e,description:t},selectionFields:l};n&&(c.sheetId=n);return m["a"].create(c,r.app)}))}))}))};g.prototype.apply=function(e){var t=this;return t.app.waitForOpen.promise.then((function(){return m["a"].apply(e,t.app)}))};g.prototype.remove=function(e){var t=this;return t.app.waitForOpen.promise.then((function(){return m["a"].remove(e,t.app)}))};var b=g;function y(e){return e.waitForOpen.promise.then((function(){return e.enigmaModel}))}function w(e,t){this.app=e;this.qapp=t}function S(e){var t="string"===typeof e?{qName:e}:e;t.qInfo=t.qInfo||{};t.qInfo.qType=t.qInfo.qType||"variable";return t}w.prototype.create=function(e){var t=S(e);return y(this.app).then((function(e){return e.createVariableEx(t)}))};w.prototype.createSessionVariable=function(e){var t=S(e);return y(this.app).then((function(e){return e.createSessionVariable(t)}))};w.prototype.get=function(e){return y(this.app).then((function(t){return t.getVariableById(e)}))};w.prototype.getByName=function(e){return y(this.app).then((function(t){return t.getVariableByName(e)}))};w.prototype.setStringValue=function(e,t){return y(this.app).then((function(t){return t.getVariableByName(e)})).then((function(e){return e.setStringValue(t).then((function(){return e.getLayout()}))}))};w.prototype.setNumValue=function(e,t){return y(this.app).then((function(t){return t.getVariableByName(e)})).then((function(e){return e.setNumValue(t).then((function(){return e.getLayout()}))}))};w.prototype.setContent=function(e,t){console.warn("qlik.app.variable.setContent() is deprecated since 2.1, use setNumValue method or setStringValue method instead.");return this.setStringValue(e,"".concat(t))};w.prototype.getContent=function(e,t){var n=this.qapp;var r=t?function(e){t(e,n)}:function(){};return this.getByName(e).then((function(e){if(!e)return e;return e.getLayout().then((function(e){var t={qContent:{qString:e.qText,qIsNum:!Number.isNaN(+e.qNum)}};r(t,n);return t}))}))};var x=w;var C=n("J7Pl");var q=n("io1p");var E=n("s+sU");var I=n("8IgQ");var k=n("ftSa");function A(e){A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return A(e)}function T(e){this.qapp=e}T.prototype.get=function(e){var t=this;return I["a"].load().then((function(){return t.qapp.getObject(e).then((function(e){return E["a"].getExtensionSupport(e).then((function(n){return new k["a"](t.qapp,e,n)}))}))}))};T.prototype.create=function(e,t,n){var r=this;return I["a"].load().then((function(){var i=t&&t.layout&&(t.layout.visualization||t.layout.qInfo&&t.layout.qInfo.qType);var a="object"===A(t)&&i?E["a"].convertDefinition(t,e,i,n):E["a"].createDefinition(r.qapp,e,t,n);return a.then((function(i){return r.qapp.createGenericObject(i).then((function(i){return E["a"].getExtensionSupport(i).then((function(a){i._expendable=true;i._createArgs={type:e,cols:t,options:n};return new k["a"](r.qapp,i,a)}))}))}))}))};var D=T;function O(e,t){return e.qapp.field(t,e.stateName)}function L(e,t){Object.defineProperties(this,{fieldName:{value:e.qField},field:{get:function e(){return O(this.parent,this.fieldName)}},qSortIndex:{value:e.qSortIndex},locked:{value:e.qLocked||false},isNumeric:{value:e.qIsNum||false},totalCount:{value:e.qTotal},selectedCount:{value:e.qSelectedCount},qStateCounts:{value:e.qStateCounts},qSelected:{value:e.qSelected},selectedValues:{value:e.qSelectedFieldSelectionInfo},notSelectedValues:{value:e.qNotSelectedFieldSelectionInfo},qSelectionThreshold:{value:e.qSelectionThreshold},qTextSearch:{value:e.qTextSearch},qRangeInfo:{value:e.qRangeInfo},parent:{value:t}})}function M(e,t){e.selections.length=0;if(t.layout.qSelectionObject){void 0===e.backCount&&Object.defineProperties(e,{backCount:{get:function e(){return t.layout.qSelectionObject.qBackCount||0}},forwardCount:{get:function e(){return t.layout.qSelectionObject.qForwardCount||0}}});t.layout.qSelectionObject.qSelections.forEach((function(t){e.selections.push(new L(t,e))}));e.OnData.emit()}}function P(e,t,n){u["a"].create(this,"OnData");Object.defineProperties(this,{qapp:{value:e},selections:{value:[]},stateName:{value:n||"$"}});var r=this;t.then((function(e){M(r,e);e.Validated.bind((function(){M(r,e)}))}))}P.prototype.clearAll=function(e){return this.qapp.clearAll(e,this.stateName)};P.prototype.lockAll=function(){return this.qapp.lockAll(this.stateName)};P.prototype.unlockAll=function(){return this.qapp.unlockAll(this.stateName)};var N=P;var R=n("UV1h");var F=n("BvTh");var _=n("H6Kg");var j=new F["a"];function B(e){this.app=e}B.prototype.save=function(e){var t=this.app;R["a"].isValidTheme(e).then((function(n){if(!n)throw new Error("Invalid theme id");t.waitForOpen.promise.then((function(){t.getLayout().then((function(t){if(!t.permissions.update)throw new Error("permission denied");R["a"].saveTheme(e)}))}))}))};B.prototype.get=function(e){if(!e)return this.app.waitForOpen.promise.then((function(){return _["a"].getProperties().then((function(e){return j.get(e.theme)}))}));return j.get(e)};B.prototype.getApplied=function(){return j.get(R["a"].getCurrentTheme())};var V=B;var H=n("tPZ6");var z=n("r67N");var $=a["a"].NxLocalizedErrorCode;var U;var G;var W={};var Q;function K(e){this.fieldCache={};this.stateCache={};Object.defineProperties(this,{id:{value:e.id},model:{value:e}});e.session&&Object.defineProperties(this,{global:{value:new C["a"](e.session)},bookmark:{value:new b(e)},variable:{value:new x(e,this)},visualization:{value:new D(this)}});Object.defineProperties(this,{theme:{value:new V(e)}});e.rpcOptions&&e.rpcOptions.qEvent&&(this.qEvent=e.rpcOptions.qEvent);this.getAppLayout()}K.prototype.clearAll=function(e,t){return E["a"].appDoIt(this.model,"clearAll",[e||false,t||"$"])};K.prototype.back=function(){return E["a"].appDoIt(this.model,"back")};K.prototype.forward=function(){return E["a"].appDoIt(this.model,"forward")};K.prototype.lockAll=function(e){return E["a"].appDoIt(this.model,"lockAll",[e||"$"])};K.prototype.unlockAll=function(e){return E["a"].appDoIt(this.model,"unlockAll",[e||"$"])};function Y(e,t){var n=t||new r["a"];e.getLayout().then((function(){n.resolve(e)}),(function(e){n.reject(e)}));return n.promise}K.prototype.getObject=function(e,t,n){var i;var a=this.model;var s=this;if(!t){t=e;e=void 0}var l=new r["a"];a.waitForOpen.promise.then((function(){if("CurrentSelections"===t){if(e){var u=n||{};u.currentSelections=true;i=E["a"].showVisualization(e,null,u,a)}o["a"].get(a).then((function(t){t.close=function(){return E["a"].clearElement(e,i)};l.resolve(t)}))}else if("AppNavigationBar"===t){var d=n||{};n.app=a;d.showNavigationToolbar=true;i=E["a"].showVisualization(e,n,d,a);l.resolve()}else a.enigmaModel.getObject(t).then((function(t){return Y(t).then((function(t){var o;if(e){o=new r["a"];i=E["a"].showVisualization(e,t,n,a);t.close=function(){t.Closed.emit();return o.promise};t.Closed.once((function(){E["a"].clearElement(e,i).then((function(){o.resolve()}))}))}Y(t,l)}))}),(function(e){e.error&&e.error.code===$.LOCERR_GENERIC_NOT_FOUND&&(e={message:c["default"].get("Object not found"),code:e.error.code});if(s.qEvent&&s.qEvent.hasHandlers("error")){s.qEvent.emit("error",e);e.isHandled=true}else if(U){U(e);e.isHandled=true}l.reject(e)}))}),(function(){l.reject()}));return l.promise};K.prototype.getSnapshot=function(e,t){if(!t){t=e;e=void 0}var n=this.model;return n.waitForOpen.promise.then((function(){return s["a"].get(t,n).then((function(t){e&&E["a"].showVisualization(e,t.enigmaModel,{APIType:l["a"],noInteraction:true},n);return t.getLayout().then((function(){return t}))}))}))};K.prototype.getObjectProperties=function(e){var t=this.model;return t.waitForOpen.promise.then((function(){return t.enigmaModel.getObject(e)})).then((function(e){return e.getProperties().then((function(){return e}))}))};K.prototype.getFullPropertyTree=function(e){var t=this.model;return t.waitForOpen.promise.then((function(){return t.enigmaModel.getObject(e)})).then((function(e){return e.getFullPropertyTree().then((function(t){e.propertyTree=t;return e}))}))};K.prototype.createGenericObject=function(e,t){var n=this;return n.model.waitForOpen.promise.then((function(){var r=t?function(e){t(e,n)}:function(){};E["a"].setDefaultId(e);return n.model.enigmaModel.getOrCreateSessionObject(e).then((function(e){e.Invalidated.bind((function(){e.getLayout().then(r)}));e.close=function(){return n.destroySessionObject(e.id).then((function(){e.emit("closed",e);return e}))};e.Closed.bind((function(){n.model.enigmaModel._listCache&&n.model.enigmaModel._listCache[this.id]&&delete n.model.enigmaModel._listCache[this.id]}));return e.getLayout().then((function(t){r(t);return e}))}),(function(e){if(U){U(e.error,n);e.error.isHandled=true}}))}),(function(){return r["a"].reject()}))};K.prototype.destroySessionObject=function(e){return E["a"].appDoIt(this.model,"destroySessionObject",[e])};K.prototype.createCube=function(e,t){return this.createGenericObject({qHyperCubeDef:e},t)};K.prototype.createList=function(e,t){return this.createGenericObject({qListObjectDef:e},t)};K.prototype.getList=function(e,t){return this.createGenericObject(E["a"].getDefaultListParam(e),t)};K.prototype.getAppObjectList=function(e,t){if(!t){t=e;e="sheet"}return this.getList(e,t)};K.prototype.searchSuggest=function(e,t,n){var r=E["a"].appDoIt(this.model,"searchSuggest",[t,e]).then((function(e){return{qResult:e}}));n&&r.then((function(e){n(e)}));return r};K.prototype.searchAssociations=function(e,t,n,r){var i=E["a"].appDoIt(this.model,"searchAssociations",[n||{},e,t]).then((function(e){return{qResults:e}}));r&&i.then((function(e){r(e)}));return i};K.prototype.searchResults=function(e,t,n,r){var i=E["a"].appDoIt(this.model,"searchResults",[n||{},e,t]).then((function(e){return{qResult:e}}));r&&i.then((function(e){r(e)}));return i};K.prototype.selectAssociations=function(e,t,n){return E["a"].appDoIt(this.model,"selectAssociations",[n||{},t,e])};K.prototype.getAppLayout=function(e){var t=this;var n=new r["a"];var i=e?function(n){e(n.layout,t)}:function(){};t.model.waitForOpen?t.model.waitForOpen.promise.then((function(){t.model.Invalidated&&t.model.Invalidated.bind((function(){Y(t.model).then(i)}));Y(t.model).then((function(e){i(e);n.resolve(e)}))})):Y(t.model).then((function(e){i(e);n.resolve(e)}));return n.promise};K.prototype.addAlternateState=function(e){return E["a"].appDoIt(this.model,"addAlternateState",[e])};K.prototype.removeAlternateState=function(e){return E["a"].appDoIt(this.model,"removeAlternateState",[e])};K.prototype.doReload=function(e,t,n){this.fieldCache={};return E["a"].appDoIt(this.model,"doReload",[e||0,t||false,n||false])};K.prototype.doSave=function(e){return E["a"].appDoIt(this.model,"doSave",[e])};K.prototype.field=function(e,t){var n=t?"".concat(e,"/").concat(t):e;this.fieldCache[n]||(this.fieldCache[n]=new v(this,e,t));return this.fieldCache[n]};K.prototype.table=function(e,t){return new q["a"](this,e,t)};K.setErrorCallback=function(e,t){U=e;G=t};K.prototype.createTable=function(e,t,n){var r=E["a"].createHypercubeDef(e,t,n);return new q["a"](this,this.createGenericObject({qHyperCubeDef:r}))};K.prototype.selectionState=function(e){var t=e||"$";if(!this.stateCache[t]){var n=E["a"].getDefaultListParam("CurrentSelections",{qStateName:t});this.stateCache[t]=new N(this,this.createGenericObject(n),t)}return this.stateCache[t]};K.prototype.getScript=function(){if(this.model.getScript)return this.model.getScript().then((function(e){return{qScript:e}}));return this.model.rpc("GetScript")};K.prototype.setScript=function(e){var t=this.model;var n="function"===typeof this.model.setScript?function(e){return t.setScript(e)}:function(e){return t.rpc("SetScript",null,[e])};var r="function"===typeof this.model.checkScriptSyntax?function(){return t.checkScriptSyntax().then((function(e){return{qErrors:e}}))}:function(){return t.rpc("CheckScriptSyntax")};function i(e,t){return t.qErrors&&t.qErrors.length>0?t:e}return n(e).then((function(e){return r().then((function(t){return i(e,t)}))}))};K.currApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;var t;t=e&&e.backendApi&&e.backendApi.model.session&&(e.backendApi.model.session.currentApp||e.backendApi.model.session.app)?e.backendApi.model.session.currentApp||e.backendApi.model.session.app:e&&e.backendApi&&e.backendApi.model.app?e.backendApi.model.app:e.app?e.app:i["a"].current||(E["a"].inClient()?i["a"].getSync():null);if(!t)return null;Q||(Q=new K(t));if(Q.model===t)return Q;return new K(t)};K.openApp=function(e,t){E["a"].initClient();e=e||"";t=t||{};this._qEvent&&(t._qEvent=this._qEvent);var n=E["a"].makeConfig(t);var a=i["a"].makeCacheId(e,n);var o;if(W[a])return W[a];var s=U?function(e){U(e||{code:$.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:U;G&&(o=G);var l=i["a"].getSync(e,n,true,s,o);if(l){var c=new K(l);c.close=function(){var e=new r["a"];setTimeout((function(){delete W[a];e.resolve(l.close(false))}),200);return e.promise};l.waitForOpen.promise.then((function(){document.addEventListener("onAppStateChanged",(function(e){if(e.detail&&e.detail.inForegroundNow){z["a"].close();l.enigmaModel.session.resume(true)}else if(e.detail&&!e.detail.inForegroundNow){c.fieldCache={};c.stateCache={};l.enigmaModel.session.suspend();document.dispatchEvent(new CustomEvent("onSessionSuspended"))}}))})).catch((function(){delete W[a]}));W[a]=c}return W[a]};K.sessionApp=function(e){return this.sessionAppFromApp("engineData",e)};K.sessionAppFromApp=function(e,t){var n=e;var a;E["a"].initClient();var o=E["a"].makeConfig(t);var s=E["a"].isQCS();var l=Math.random().toString(36).substring(7);var c=s?"SessionApp_".concat(l):e;var u=i["a"].makeCacheId(e,o);o.identity=o.identity||"sessionapp";o.sessionApp={value:true,route:"app/".concat(c),fromApp:n};var d=function e(t){if(t&&t.code===H["a"].CLOSE_PROTOCOL_ERROR){t.isHandled=true;return}U&&U({code:$.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})};var f=i["a"].getSync(c,o,true,d,G);if(f){a=new K(f);a.close=function(){var e=new r["a"];setTimeout((function(){delete W[u];e.resolve(f.close(false))}),200);return e.promise}}return a};K.table=function(e,t){var n=K.currApp(e);return n.table(e,t)};K.prototype.on=function(e,t){this.qEvent.register({scope:"QApp",name:e,callback:t})};K.prototype.off=function(e){this.qEvent.clear(e)};var J=t["default"]=K},lOoV:function(e,t,n){"use strict";var r=n("R2Yu");var i=n("hmfc");var a=n("4nJ1");function o(e){return u(e)||c(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function h(e,t,n){t&&p(e.prototype,t);n&&p(e,n);return e}var v=function(){function e(){f(this,e);this.layout={};this.app={};this.backendApi={};this.propPath={};this.hoveredDimensionField="";this.sessionObj;this.measureFormatters=[];this.preparedMeasureProps=[]}h(e,[{key:"getContent",value:function e(t,n){var r=this;var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{id:1};this.layout=a["a"].getValue(n.model.layout,i,n.model.layout);if(n.isSnapshot||-3===o.id||this.layout.qHyperCube.isReduced)return Promise.resolve([t]);this.app=n.model.app;this.backendApi=n;this.propPath=i;this.hoveredDimensionField=t.header;var s=new Promise((function(e){r.backendApi.model.getEffectiveProperties().then((function(n){var i=a["a"].getValue(n,r.propPath,n);r.setUp(i).then((function(){r.updateSessionObject(i).then((function(){r.sessionObj.getLayout().then((function(n){var i=n.qHyperCube.qDataPages[0].qMatrix.length?n.qHyperCube.qDataPages[0].qMatrix[0]:[];var a=r.constructContent(i,t,n);e(a)}))}))}))}))}));return s}},{key:"setUp",value:function e(t){var n=this;var r=new Promise((function(e){n.setUpMeasureFormatters();n.setUpMeasures(t).then((function(){e()}))}));return r}},{key:"getChartDimensionFieldName",value:function e(){var t="qHyperCube.qDimensionInfo.0";var n=a["a"].getValue(this.layout,t);var r=n.qGroupPos;var i=this.stripEqualSign(n.qGroupFieldDefs[r]);return i}},{key:"stripEqualSign",value:function e(t){return"="===t.charAt(0)?t.substr(1):t}},{key:"setUpMeasures",value:function e(t){var n=this;var r=new Promise((function(e){var r=n.getChartDimensionFieldName();var i=n.getPreparedMeasureList(t,r);Promise.all(i).then((function(t){n.preparedMeasureProps=t;e()}))}));return r}},{key:"setUpMeasureFormatters",value:function e(){var t="tooltip.data.qHyperCube.qMeasureInfo";var n=a["a"].getValue(this.layout,t,[]);var r=this.backendApi.localeInfo;var o=new i["a"](r,n);this.measureFormatters=o.getFormatters()}},{key:"getPreparedMeasureList",value:function e(t,n){var r=this;var i=[];var o="tooltip.data.qHyperCubeDef.qMeasures";var s=a["a"].getValue(t,o,[]);s.forEach((function(e,t){i.push(r.extractMeasureInfo(e,n,t).then((function(e){var t={qDef:e,qAttributeExpressions:[]};return t})))}));return i}},{key:"extractMeasureInfo",value:function e(t,n,r){var i=this;var a=new Promise((function(e){if(t.qLibraryId)i.app.getMeasure(t.qLibraryId).then((function(t){t.getProperties().then((function(t){var r=JSON.parse(JSON.stringify(t.qMeasure));r.qDef=i.wrapWithSetExpression(r.qDef,n);r.qNumFormat=void 0;r.qLabelExpression=r.qLabelExpression?i.wrapWithSetExpression(r.qLabelExpression,n):"";e(r)}))}));else{var a=JSON.parse(JSON.stringify(t.qDef));a.qDef=i.wrapWithSetExpression(a.qDef,n);a.qLabel=i.layout.tooltip.data.qHyperCube.qMeasureInfo[r].qFallbackTitle;a.qLabelExpression=a.qLabelExpression?i.wrapWithSetExpression(a.qLabelExpression,n):"";e(a)}}));return a}},{key:"wrapWithSetExpression",value:function e(t,n){return"Aggr({<[".concat(n,"]={'").concat(this.hoveredDimensionField,"'}>}").concat(t,",[").concat(n,"])")}},{key:"handleStringExpression",value:function e(t,n){if(t.qStringExpression){var r=t.qStringExpression.qExpr;return{qStringExpression:{qExpr:this.wrapWithSetExpression(r,n)}}}return t}},{key:"updateSessionObject",value:function e(t){var n=this;var r=this.preparedMeasureProps;var i=a["a"].getValue(t,"qStateName","");var o={qInfo:{qType:"CustomTooltip"},qHyperCubeDef:{qDimensions:[],qMeasures:r,qInterColumnSortOrder:[0],qInitialDataFetch:[{qWidth:15,qHeight:100}]},qStateName:i};var s=new Promise((function(e){n.sessionObj?n.sessionObj.getProperties().then((function(t){t.qHyperCubeDef.qMeasures=r;t.qStateName=i;n.sessionObj.setProperties(t).then((function(){e()}))})):n.app.createSessionObject(o).then((function(t){n.sessionObj=t;e()}))}));return s}},{key:"constructContent",value:function e(t,n,r){var i=r.qHyperCube.qMeasureInfo;var s="tooltip.hideBasic";var l=a["a"].getValue(this.layout,s,0)?[]:n.rows;var c=[].concat(o(this.getDimensionHeaderRow(n.header)),o(l),o(this.getMeasureRows(t,i)));var u=[{rows:c}];return u}},{key:"getDimensionHeaderRow",value:function e(t){t=r["a"].encodeForHTML(t);return[{template:'<div class="qv-custom-tooltip-sub-title">'.concat(t,"</div>")}]}},{key:"getMeasureRows",value:function e(t,n){var r=this;var i=[];var a;t.forEach((function(e,t){a=r.measureFormatters[t]&&n[t].qIsAutoFormat&&"NaN"!==e.qNum?r.measureFormatters[t].format(e.qNum):e.qText;var o=n[t].qFallbackTitle;i.push({label:o,value:a,num:e.qNum})}));return i}},{key:"destroySessionObject",value:function e(){this.app&&this.sessionObj&&this.app.destroyObject(this.sessionObj.id)}}]);return e}();t["a"]=v},"lPl/":function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function l(e,t){if(null==e)return{};var n=c(e,t);var r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++){r=a[i];if(t.indexOf(r)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,r))continue;n[r]=e[r]}}return n}function c(e,t){if(null==e)return{};var n={};var r=Object.keys(e);var i,a;for(a=0;a<r.length;a++){i=r[a];if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function u(e){return"large"===e?"20px":"small"===e?"12px":"inherit"===e?"null":"16px"}var d=function e(t){var n=t.d,r=t.size,s=t.style,c=l(t,["d","size","style"]);return i.a.createElement("i",a({style:o({fontSize:u(r),display:"inline-block",fontStyle:"normal",lineHeight:"0",textAlign:"center",textTransform:"none",verticalAlign:"-.125em",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},s)},c),i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},i.a.createElement("path",{d:n})))};t["a"]=d},llSI:function(e,t,n){"use strict";var r=n("mWu2");var i=n("6uJb");var a=n("sWge");var o=r["default"].when;function s(e,t){var n=this;var a=[];this.recalculate=function(){a=this.computeFlatListOfSelectedDatabaseOwnerCombinations()};this.getDatasourceInfo=function(){var n=this;n.infoPromise=n.infoPromise||o(e.getConnectionInfo()).then((function(e){n.datasourceInfo=e;t&&t.setMetadataModelForConnection(e);return e}));return n.infoPromise};this.getDatabases=function(){var t=this;t.databasesPromise=t.databasesPromise||o(e.getDatabases()).then((function(e){e&&0!==e.length?t.databases=e.map((function(e){return new s(e.qName,e.qIsDefault,e.qOwners)})):t.databases=[new s("",true,void 0)];return t.databases}));return t.databasesPromise};this.getDefaultDatabase=function(){var e;if(1===this.databases.length)return this.databases[0];if(!this.selectedDatabase)for(e=0;e<this.databases.length;e++)if(this.databases[e].isDefault)return this.databases[e];return};function s(e,t,n){this.name=e;this.isDefault=t;if(n&&n.length){this.populateOwners(n);this.ownersPromise=r["default"].promise(this.owners)}}s.prototype.populateOwners=function(e){var t=this;e&&0!==e.length?t.owners=e.map((function(e){return new l(t.name,e.qName,e.qIsDefault,e.qTables)})):t.owners=[new l(t.name,"",true,void 0)];return t.owners};s.prototype.getOwners=function(){var t=this;this.ownersPromise=this.ownersPromise||o(e.getOwners(this.name)).then((function(e){return t.populateOwners(e)}));return t.ownersPromise};s.prototype.getDefaultOwner=function(e){var t;if(e)for(t=0;t<this.owners.length;t++)if(this.owners[t].name===e.name)return this.owners[t];if(1===this.owners.length)return this.owners[0];for(t=0;t<this.owners.length;t++)if(this.owners[t].isDefault)return this.owners[t];return};function l(e,t,n,a){this.databaseName=e;this.name=t;this.label=t&&0===t.indexOf("TYPE9_")?i["default"].get("scripteditor.dataconnectors.selection.owner.".concat(t).toLowerCase()):t;this.isDefault=n;if(a&&a.length){this.populateTables(a);this.tablesPromise=r["default"].promise(this.tables)}}l.prototype.populateTables=function(e){var t=this;t.tables=e?e.map((function(e){return new c(t.databaseName,t.name,e.qName,e.qIsDefault,e.qFields,e.loadProperties)})):[];return t.tables};l.prototype.getTables=function(){var t=this;this.tablesPromise=this.tablesPromise||o(e.getTables(this.databaseName,this.name)).then((function(e){return t.populateTables(e)}));return this.tablesPromise};l.prototype.setAllTablesSelected=function(e){this.getTables().then((function(t){var n;if(t)for(n=0;n<t.length;n++)t[n].setAllSelected(e)}))};l.prototype.getDefaultTable=function(){if(1===this.tables.length)return this.tables[0];for(var e=0;e<this.tables.length;e++)if(this.tables[e].isDefault)return this.tables[e];return};function c(e,t,n,i,a,o){this.databaseName=e;this.ownerName=t;this.name=n;this.fields=[];this.loadProperties=o||{};this.checked=false;this.isDefault=i;this.indeterminate=false;this.fieldsChecked=false;this.nbrOfCheckedFields=0;this.sourceRowCount=-1;this.filteredSourceRowCount=-1;var s=this.getLoadModelTableModelIfExists();if(s){var l=s.fieldsCount();this.nbrOfCheckedFields=s.selectedFieldsCount();this.indeterminate=l>this.nbrOfCheckedFields&&this.nbrOfCheckedFields>0;this.checked=l>0&&l===this.nbrOfCheckedFields;this.fieldsChecked=this.nbrOfCheckedFields>0;this.loadProperties=s.data.loadProperties?s.data.loadProperties:void 0}if(a&&a.length){this.populateFieldList(a);this.fieldsPromise=r["default"].promise(this.fields)}}c.prototype.getLoadModelTableModelIfExists=function(){if(this._loadModelTableEditor)return this._loadModelTableEditor;this._loadModelTableEditor=t?t.getTableModelByDatabasePath(this.databaseName,this.ownerName,this.name):void 0;return this._loadModelTableEditor};c.prototype.getOrCreateLoadModelTableModel=function(){if(this._loadModelTableEditor)return this._loadModelTableEditor;this._loadModelTableEditor=t?t.getOrCreateTableModelByDatabasePath(this.databaseName,this.ownerName,this.name,this.loadProperties):void 0;return this._loadModelTableEditor};c.prototype.populateFieldList=function(e){var t=this.getLoadModelTableModelIfExists();var n=this;var r;if(n.fields&&n.fields.length===e.length)for(r in n.fields){var i=n.fields[r].name;n.fields[r].name=e[r].qName||"";n.fields[r].originalFieldName=e[r].qOriginalFieldName;n.fields[r].key=!!e[r].qIsKey;t&&i!==n.fields[r].name&&t.registerFieldSourceRename(i,n.fields[r].name,n.fields[r].checked)}else{n.fields=e.map((function(e){return new u(n,e.qName||"",!!e.qIsKey,e.qOriginalFieldName)}));for(r in n.fields)n.fields[r].index=r;if(t){for(r in n.fields){n.fields[r].checked=t.isFieldSelected(n.fields[r].name);var a=t.getFieldByName(n.fields[r].name);a&&(n.fields[r].alias=a.alias)}t.pruneOtherFields(n.fields.map((function(e){return e.name})))}}if(t){var o=n.fields.length;this.nbrOfCheckedFields=t.selectedFieldsCount();this.indeterminate=o>this.nbrOfCheckedFields&&this.nbrOfCheckedFields>0;this.checked=o>0&&o===this.nbrOfCheckedFields;this.fieldsChecked=this.nbrOfCheckedFields>0}return n.fields};c.prototype.getFields=function(t){var n=this;t&&(this.fieldsPromise=void 0);this.fieldsPromise=this.fieldsPromise||o(e.getFields(this.databaseName,this.ownerName,this.name)).then((function(e){return n.populateFieldList(e)}));return this.fieldsPromise};c.prototype.getDataPreview=function(){var t=this;function n(e,t){for(var n=0;n<e.length;n++)if(e[n].name!==t.qValues[n])return false;return true}function r(e,t){return e.length===t.qValues.length}function i(e,t){var n=[];for(var r=0;r<e.length;r++){var i=e[r].name;var o=a(i,t);-1===o&&(o=r);for(var s=0;s<t.length;s++){var l=t[s].qValues[o];n[s]||(n[s]={qValues:[]});n[s].qValues.push(l)}}return n}function a(e,t){var n=t[0].qValues;return n.indexOf(e)}function s(e){var t=500;for(var n in e)for(var r in e[n].qValues)e[n].qValues[r]&&e[n].qValues[r].length>t&&(e[n].qValues[r]="".concat(e[n].qValues[r].substring(0,t),"..."))}return o(e.getPreview(this.databaseName,this.ownerName,this.name,this.loadProperties)).then((function(e){var a=t.fields;var o=e.slice(0,1)[0];t.filteredSourceRowCount=e.sourceRowCount;var l="";t.loadProperties&&t.loadProperties.filterInfo&&t.loadProperties.filterInfo.filterClause&&""!==t.loadProperties.filterInfo.filterClause?l=t.loadProperties.filterInfo.filterClause:t.sourceRowCount=e.sourceRowCount;t.previewFilterClause=l;if(e&&e.length>1&&r(a,o)){n(a,o)||(e=i(a,e));s(e);var c=e.slice(1);return c}return[]}),(function(e){throw e}))};c.prototype.getAssociationsPreview=function(){return r["default"].promise({tables:[{name:"fakeTable"}]})};c.prototype.changeAllFieldsSelected=function(){this.setAllSelected(!this.checked)};c.prototype.setAllSelected=function(e){var t=this;var r=false;this.checked=e;this.getFields().then((function(){var i;for(i=0;i<t.fields.length;i++)if(t.fields[i].checked!==e){t.fields[i].checked=e;var a=t.getOrCreateLoadModelTableModel();a&&a.setFieldSelected(t.fields[i].name,t.fields[i].checked);r=true}if(r){t.recalculate();n.computeFlatListOfSelectedDatabaseOwnerCombinations()}}))};c.prototype.recalculate=function(){var e=true;var t=false;var r=false;var i=0;var a;for(a=0;a<this.fields.length;a++)if(this.fields[a].checked){t=true;i++}else{e=false;r=true}this.checked=t&&e;this.indeterminate=t&&r;this.fieldsChecked=t;this.nbrOfCheckedFields=i;n.recalculate()};function u(e,t,n,r){this.table=e;this.name=t;this.checked=false;this.key=n;this.originalFieldName=r}Object.defineProperty(u.prototype,"alias",{set:function e(t){t||(t="");this.aliasRealValue=t.trim();this.name===this.aliasRealValue&&(this.aliasRealValue="");var n=this.table.getOrCreateLoadModelTableModel();n&&n.setFieldAlias(this.name,this.alias)},get:function e(){return this.aliasRealValue?this.aliasRealValue:this.name}});u.prototype.changeFieldSelection=function(){this.checked=!this.checked;var e=this.table.getOrCreateLoadModelTableModel();e&&e.setFieldSelected(this.name,this.checked);this.table.recalculate()};this.getFlatListOfSelectedDatabaseOwnerCombinations=function(){return a};this.computeFlatListOfSelectedDatabaseOwnerCombinations=function(){var e;var t=[];for(var n=0;this.databases&&n<this.databases.length;n++){e=this.databases[n].owners;if(e)for(var r=0;r<e.length;r++){var i=d(e[r]);i&&t.push({database:this.databases[n],owner:e[r],selectionStats:i})}}return t};function d(e){var t=e.tables;var n;var r=0;var i=0;var a;if(t)for(var o=0;o<t.length;o++){a=false;n=t[o].fields;if(n)for(var s=0;s<n.length;s++)if(n[s].checked){a=true;i++}a&&r++}if(r>0)return{tableCount:r,fieldCount:i};return}this.isAtLeastOneFieldSelected=function(){var e;var t;var n;for(var r=0;this.databases&&r<this.databases.length;r++){e=this.databases[r].owners;if(e)for(var i=0;i<e.length;i++){t=e[i].tables;if(t)for(var a=0;a<t.length;a++){n=t[a].fields;var o=t[a].getLoadModelTableModelIfExists();if(o&&o.selectedFieldsCount()>0)return true;if(n)for(var s=0;s<n.length;s++)if(n[s].checked)return true}}}return false}}t["a"]=s},lpis:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a='<lui-popover class="qv-appview-navigator" ng-style="style">\n\t<div class="qv-appview qv-pop-appview" qv-appview-init tid="{{input.tid}}"></div>\n</lui-popover>\n';var o=n("xJtg");var s=n("MGTR");var l=n("mWu2");var c=n("+Kna");var u={TAB:9};function d(){var e=false;c["a"].isShown()&&(e=true);return e}function f(e,t,n){return e.which===u.TAB&&e.target!==t.alignTo&&i()(e.target).closest(".lui-popover-container")[0]!==n[0]&&0===i()(e.target).closest("[data-keep-navigator-open]").length}l["default"].directive("qvSmallAppview",[function(){return{replace:false,restrict:"A",scope:{navigationmode:"@",ccb:"="},controller:["$scope","$element",function(e,t){var n={showToolbar:false,showNavigation:false,navigationmode:e.navigationmode,isNavigator:true,smallAppView:true,canCreateBookmark:!!e.ccb};var r=t.showComponent(o["a"]);r.showInternalComponents(n);e.$on("$destroy",r.destroy)}]}}]);l["default"].directive("qvAppviewInit",[function(){return{replace:true,restrict:"A",link:function e(t,n){var r={showToolbar:t.input.showToolbar,showNavigation:t.input.showNavigation,navigationmode:t.input.navigationmode,isNavigator:t.input.isNavigator,canCreateBookmark:t.input.canCreateBookmark,isOpenedByClick:t.input.isOpenedByClick};var i=n.showComponent(o["a"]);i.showInternalComponents(r);var a=n;t.$on("$destroy",(function(){a.off();i.destroy()}))}}}]);var p={template:a,controller:["$scope","$element","$document",function(e,t,n){var r=146;var a=.7*window.innerWidth;a=parseInt(a/r,10)*r+19;e.style={width:a<187?187:a,height:.8*window.innerHeight};e.$on("closeNavigator",(function(){e.closeView()}));e.closeView=function(n){if(n&&n.target){var r=d();if(r)return}s["a"].unsubscribe(".navigator");t.off();e.close(n)};n.on("keyup.appview-navigator",(function(n){f(n,e,t)&&e.closeView()}));s["a"].subscribeOnce("/resize/start.navigator",e.closeView);e.$on("$destroy",(function(){e.closeView();i()(document).off("keyup.appview-navigator")}))}]};var h=t["a"]=p},ls1z:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("lPl/");t["a"]=function(e){return i.a.createElement(a["a"],Object.assign({d:"M15.7873809,13.80959 C16.1870614,14.209868 15.9872212,15.1104934 15.4876205,15.5107714 C15.08794,15.9110493 14.1886588,16.2112578 13.7889782,15.8109798 L11.0911347,13.1091035 L10.9912145,12.5086866 L10.2917736,11.8082001 C9.19265216,12.5086866 7.89369045,13.0090341 6.49480859,13.0090341 C2.89768383,13.0090341 0,10.1070188 0,6.50451703 C0,2.90201529 2.89768383,0 6.49480859,0 C10.0919334,0 12.9896172,2.90201529 12.9896172,6.50451703 C12.9896172,7.90548992 12.4900165,9.20639333 11.7905756,10.3071577 L12.4900165,11.0076442 L13.0895373,11.1077137 L15.7873809,13.80959 Z M11.2909749,6.50451703 C11.2909749,5.20361362 10.7913743,4.00277971 9.89209309,3.00208478 C8.9928119,2.10145935 7.79377031,1.60111188 6.49480859,1.60111188 C5.19584688,1.60111188 3.99680529,2.10145935 2.99760397,3.00208478 C2.09832278,4.00277971 1.59872212,5.20361362 1.59872212,6.50451703 C1.59872212,7.80542043 2.09832278,9.00625434 2.99760397,9.90687978 C3.89688516,10.8075052 5.09592674,11.3078527 6.49480859,11.3078527 C7.79377031,11.4079222 8.9928119,10.9075747 9.89209309,9.90687978 C10.7913743,9.00625434 11.2909749,7.80542043 11.2909749,6.50451703 Z"},e))}},m3N6:function(e,t,n){"use strict";var r=n("+I+c");var i=n("7L9N");var a=n("W0B4");var o=n("mXGw");var s=n.n(o);var l=n("xARA");var c=n.n(l);var u={disabled:false};var d=n("ZPcf");var f="unmounted";var p="exited";var h="entering";var v="entered";var m="exiting";var g=function(e){Object(i["a"])(t,e);function t(t,n){var r;r=e.call(this,t,n)||this;var i=n;var a=i&&!i.isMounting?t.enter:t.appear;var o;r.appearStatus=null;if(t.in)if(a){o=p;r.appearStatus=h}else o=v;else o=t.unmountOnExit||t.mountOnEnter?f:p;r.state={status:o};r.nextCallback=null;return r}t.getDerivedStateFromProps=function e(t,n){var r=t.in;if(r&&n.status===f)return{status:p};return null};var n=t.prototype;n.componentDidMount=function e(){this.updateStatus(true,this.appearStatus)};n.componentDidUpdate=function e(t){var n=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==h&&r!==v&&(n=h):r!==h&&r!==v||(n=m)}this.updateStatus(false,n)};n.componentWillUnmount=function e(){this.cancelNextCallback()};n.getTimeouts=function e(){var t=this.props.timeout;var n,r,i;n=r=i=t;if(null!=t&&"number"!==typeof t){n=t.exit;r=t.enter;i=void 0!==t.appear?t.appear:r}return{exit:n,enter:r,appear:i}};n.updateStatus=function e(t,n){void 0===t&&(t=false);if(null!==n){this.cancelNextCallback();n===h?this.performEnter(t):this.performExit()}else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:f})};n.performEnter=function e(t){var n=this;var r=this.props.enter;var i=this.context?this.context.isMounting:t;var a=this.props.nodeRef?[i]:[c.a.findDOMNode(this),i],o=a[0],s=a[1];var l=this.getTimeouts();var d=i?l.appear:l.enter;if(!t&&!r||u.disabled){this.safeSetState({status:v},(function(){n.props.onEntered(o)}));return}this.props.onEnter(o,s);this.safeSetState({status:h},(function(){n.props.onEntering(o,s);n.onTransitionEnd(d,(function(){n.safeSetState({status:v},(function(){n.props.onEntered(o,s)}))}))}))};n.performExit=function e(){var t=this;var n=this.props.exit;var r=this.getTimeouts();var i=this.props.nodeRef?void 0:c.a.findDOMNode(this);if(!n||u.disabled){this.safeSetState({status:p},(function(){t.props.onExited(i)}));return}this.props.onExit(i);this.safeSetState({status:m},(function(){t.props.onExiting(i);t.onTransitionEnd(r.exit,(function(){t.safeSetState({status:p},(function(){t.props.onExited(i)}))}))}))};n.cancelNextCallback=function e(){if(null!==this.nextCallback){this.nextCallback.cancel();this.nextCallback=null}};n.safeSetState=function e(t,n){n=this.setNextCallback(n);this.setState(t,n)};n.setNextCallback=function e(t){var n=this;var r=true;this.nextCallback=function(e){if(r){r=false;n.nextCallback=null;t(e)}};this.nextCallback.cancel=function(){r=false};return this.nextCallback};n.onTransitionEnd=function e(t,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:c.a.findDOMNode(this);var i=null==t&&!this.props.addEndListener;if(!r||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=t&&setTimeout(this.nextCallback,t)};n.render=function e(){var t=this.state.status;if(t===f)return null;var n=this.props,i=n.children,a=n.in,o=n.mountOnEnter,l=n.unmountOnExit,c=n.appear,u=n.enter,p=n.exit,h=n.timeout,v=n.addEndListener,m=n.onEnter,g=n.onEntering,b=n.onEntered,y=n.onExit,w=n.onExiting,S=n.onExited,x=n.nodeRef,C=Object(r["a"])(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s.a.createElement(d["a"].Provider,{value:null},"function"===typeof i?i(t,C):s.a.cloneElement(s.a.Children.only(i),C))};return t}(s.a.Component);g.contextType=d["a"];g.propTypes={};function b(){}g.defaultProps={in:false,mountOnEnter:false,unmountOnExit:false,appear:false,enter:true,exit:true,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b};g.UNMOUNTED=f;g.EXITED=p;g.ENTERING=h;g.ENTERED=v;g.EXITING=m;var y=t["a"]=g},mCu5:function(e,t,n){"use strict";var r=n("PX8M");var i=n("B52N");var a=n("acVu");function o(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function u(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}var d;var f=function(){function e(t){l(this,e);this.model=t;this.events={onModelChanged:[]};var n=this;r["a"].getApp().then((function(e){e.Invalidated.bind((function(){e.getLayout().then((function(e){n.model.app.appTitle=e.qTitle;n.model.app.readOnly=e.qReadOnly;n.model.app.hasData=e.qHasData;n.model.app.published=e.published;n.model.permissions.createSheet=!e.qReadOnly&&e.permissions.createSheet;n.model.permissions.update=e.permissions.update;n.events.onModelChanged.forEach((function(t){t&&t(n.model,e)}))})).catch((function(e){var t=11e3;e.code===t&&(e.isHandled=true)}))}))}))}u(e,[{key:"appHasData",value:function e(){return this.model.app.hasData}},{key:"isDataManagerHidden",value:function e(){return i["default"].isSmallDevice||!this.model.permissions.createSheet||!this.model.permissions.update||!this.model.permissions.createApp||!this.model.permissions.updateScript}},{key:"isScriptEditorHidden",value:function e(){return i["default"].isSmallDevice||!this.model.permissions.createSheet||!this.model.permissions.update||!this.model.permissions.updateScript}},{key:"isQDLEnabled",value:function e(){return this.model.permissions.update&&this.model.permissions.updateScript&&!i["default"].isSmallDevice&&this.model.permissions.createApp}},{key:"bindOnModelChanged",value:function e(t){this.events.onModelChanged.push(t)}},{key:"unbindOnModelChanged",value:function e(t){var n=this.events.onModelChanged.indexOf(t);n>=0&&this.events.onModelChanged.splice(n,1)}}]);return e}();t["a"]={get:function(){var e=s(regeneratorRuntime.mark((function e(){var t,n,i,o,s,l;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:if(!d){c.next=2;break}return c.abrupt("return",d);case 2:c.next=4;return r["a"].getApp();case 4:n=c.sent;c.next=7;return n.global.allowCreateApp();case 7:i=c.sent;c.prev=8;c.next=11;return n.getScriptEx();case 11:o=c.sent;t=o.qMeta.privileges;c.next=19;break;case 15:c.prev=15;c.t0=c["catch"](8);t=false;c.t0.isHandled=true;case 19:c.next=21;return n.getLayout();case 21:s=c.sent;l={app:{id:n.id,appTitle:s.qTitle,readOnly:s.qReadOnly,hasData:!!s.qHasData,hasScript:!!s.qHasScript,published:s.published},permissions:{createSheet:!s.qReadOnly&&s.permissions.createSheet,createApp:i,update:s.permissions.update,createBookmark:s.permissions.createBookmark,updateScript:Object(a["b"])("IS_DESKTOPCLIENT")&&!t||t&&-1!==t.indexOf("update")}};d=new f(l);return c.abrupt("return",d);case 25:case"end":return c.stop()}}),e,null,[[8,15]])})));function t(){return e.apply(this,arguments)}return t}()}},mEBU:function(e,t,n){"use strict";var r=n("vaoC");var i=n("PX8M");var a=n("gh04");var o=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;var s={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"};function l(e){if(e<0)return Math.ceil(e);return Math.floor(e)}function c(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=s[e]||t}return e}function u(e){var t={};var n;var r;for(r in e)if(e.hasOwnProperty(r)){n=c(r);n&&(t[n]=e[r])}return t}function d(e){var t=u(e);var n=t.year||0;var r=t.month||0;var i=t.week||0;var a=t.day||0;var o=t.hour||0;var s=t.minute||0;var l=t.second||0;var c=t.millisecond||0;this._input=e;this._milliseconds=+c+1e3*l+6e4*s+36e5*o;this._days=+a+7*i;this._months=+r+12*n;this._data={};p.call(this)}function f(e){var t="number"===typeof e;var n={};var r=null;var i;var a;if(t)n.milliseconds=e;else if(r=o.exec(e)){i="-"===r[1]?-1:1;a=function e(t){var n=t&&parseFloat(t.replace(",","."));return(Number.isNaN(+n)?0:n)*i};n={y:a(r[2]),M:a(r[3]),d:a(r[4]),h:a(r[5]),m:a(r[6]),s:a(r[7]),w:a(r[8])}}return new d(n)}function p(){var e=this._milliseconds;var t=this._days;var n=this._months;var r=this._data;r.milliseconds=e%1e3;var i=l(e/1e3);r.seconds=i%60;var a=l(i/60);r.minutes=a%60;var o=l(a/60);r.hours=o%24;this.hours=function(){return r.hours};t+=l(o/24);r.days=t%30;this.days=function(){return r.days};n+=l(t/30);r.months=n%12;var s=l(n/12);r.years=s;function c(e){return 365*Math.floor(e/12)}this.asHours=function(){var t=this._days+c(this._months);return 24*t+e/36e5};this.asDays=function(){var t=this._days+c(this._months);return t+e/864e5}}var h=f;var v=n("zkWp");function m(e){var t={retentionTimeValue:"",retentionTimeUnit:""};if("unlimited"===e){t.retentionTimeValue="";t.retentionTimeUnit="unlimited"}else{var n=h(e);if(n.hours()){t.retentionTimeValue="".concat(n.asHours());t.retentionTimeUnit="h"}else{t.retentionTimeValue="".concat(n.asDays());t.retentionTimeUnit="d"}}return t}function g(e){var t="P";var n=Math.floor(e/8760);if(n){t="".concat(t+n,"Y");e%=8760}if(e){var r=Math.floor(e/24);t="".concat(t+r,"D");e%=24}e&&(t="".concat(t,"T").concat(e,"H"));return t}function b(){return v["a"].getTemplateApps(r["a"])}function y(e){return r["a"].get(e,{},true,(function(e){e.isHandled=true})).then((function(e){return a["a"].getList(e,true).then((function(t){return t.getLayout().then((function(t){e.close();return t.map((function(e){return{id:e.qInfo.qId,name:e.qData.labelExpression||e.qData.title}}))}))}))})).catch((function(e){e.isHandled=true;return[]}))}function w(){return i["a"].getApp().then((function(e){return e.getPublishableStreams()}))}function S(e,t){var n="P";"unlimited"===t?n=t:"d"===t?n=g(24*Number(e)):"h"===t&&(n=g(Number(e)));return n}var x=t["a"]={getTemplateApps:b,getSheetsForApp:y,getPublishableStreams:w,getRetentionTimeServerValue:S,getRetentionTimeDisplayValue:m,hoursToISO8601Format:g}},mJsV:function(e,t,n){"use strict";var r=n("mWu2");var i=n("8T2z");var a=n.n(i);var o;var s;var l;var c;t["a"]={show:function e(t,n,r){c=r;o=t.showComponent(n,{options:r})},hide:function e(){if(o){o.scope().destroy();o=null;c=null}},closing:function e(){o&&o.closing()},isActive:function e(){if(c&&"function"===typeof c.isActive)return c.isActive();return!!o},getCurrentLayout:function e(){return s},useImageArray:function e(){return l},getOptions:function e(){return c||{}},getMarkdown:function e(){var t=o.scope().getParagraph();var n;if(t){n=t.saveAndGetData();if(n)return n.text}return null},hasContent:function e(t){return t&&"^[\n](left)"!==t},getParagraph:function e(){return o.scope().getParagraph()},getEditorElement:function e(){return o.scope().getEditorElement()},getRange:function e(){return o.scope().currentRange},toHTML:function e(t,n,i){var o=r["default"].getService("$sce");s=n;l=i;if(t){var c=a.a.toHTML(t);t=a.a.toMarkdown(c);return o.getTrustedHtml(a.a.toHTML(t))}return""},toMarkdown:function e(t){if(t)return a.a.toMarkdown(t);return""}}},mK0O:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}},mQSs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var i=n("/sKS");var a=h(i);var o=n("sWw+");var s=h(o);var l=n("v8WV");var c=n("wu6P");var u=n("F1ij");var d=n("fuD2");var f=n("a7Z2");var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m={endpoint:null,fingerprint:p.default,resume:true,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:Infinity,withCredentials:false,uploadUrl:null,uploadSize:null,overridePatchMethod:false,retryDelays:null,removeFingerprintOnSuccess:false,uploadLengthDeferred:false,urlStorage:null,fileReader:null,uploadDataDuringCreation:false};var g=function(){function e(t,n){v(this,e);this.options=(0,s.default)(true,{},m,n);this._storage=this.options.urlStorage;this.file=t;this.url=null;this._xhr=null;this._fingerprint=null;this._offset=null;this._aborted=false;this._size=null;this._source=null;this._retryAttempt=0;this._retryTimeout=null;this._offsetBeforeRetry=0}r(e,[{key:"start",value:function e(){var t=this;var n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}this.options.resume&&null==this._storage&&(this._storage=(0,d.getStorage)());if(this._source)this._start(this._source);else{var r=this.options.fileReader||u.getSource;r(n,this.options.chunkSize,(function(e,n){if(e){t._emitError(e);return}t._source=n;t._start(n)}))}}},{key:"_start",value:function e(t){var n=this;var r=this.file;if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){this._size=+this.options.uploadSize;if(isNaN(this._size)){this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else{this._size=t.size;if(null==this._size){this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return}}var i=this.options.retryDelays;if(null!=i){if("[object Array]"!==Object.prototype.toString.call(i)){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}var a=this.options.onError;this.options.onError=function(e){n.options.onError=a;var t=null!=n._offset&&n._offset>n._offsetBeforeRetry;t&&(n._retryAttempt=0);var r=true;"undefined"!==typeof window&&"navigator"in window&&false===window.navigator.onLine&&(r=false);var o=e.originalRequest?e.originalRequest.status:0;var s=!y(o,400)||409===o||423===o;var l=n._retryAttempt<i.length&&null!=e.originalRequest&&s&&r;if(!l){n._emitError(e);return}var c=i[n._retryAttempt++];n._offsetBeforeRetry=n._offset;n.options.uploadUrl=n.url;n._retryTimeout=setTimeout((function(){n.start()}),c)}}this._aborted=false;if(null!=this.url){this._resumeUpload();return}if(null!=this.options.uploadUrl){this.url=this.options.uploadUrl;this._resumeUpload();return}this._hasStorage()?this.options.fingerprint(r,this.options,(function(e,t){if(e){n._emitError(e);return}n._fingerprint=t;n._storage.getItem(n._fingerprint,(function(e,t){if(e){n._emitError(e);return}if(null!=t){n.url=t;n._resumeUpload()}else n._createUpload()}))})):this._createUpload()}},{key:"abort",value:function t(n,r){var i=this;if(null!==this._xhr){this._xhr.abort();this._source.close()}this._aborted=true;if(null!=this._retryTimeout){clearTimeout(this._retryTimeout);this._retryTimeout=null}r=r||function(){};n?e.terminate(this.url,this.options,(function(e,t){if(e)return r(e,t);i._hasStorage()?i._storage.removeItem(i._fingerprint,r):r()})):r()}},{key:"_hasStorage",value:function e(){return this.options.resume&&this._storage}},{key:"_emitXhrError",value:function e(t,n,r){this._emitError(new a.default(n,r,t))}},{key:"_emitError",value:function e(t){if("function"!==typeof this.options.onError)throw t;this.options.onError(t)}},{key:"_emitSuccess",value:function e(){"function"===typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function e(t,n){"function"===typeof this.options.onProgress&&this.options.onProgress(t,n)}},{key:"_emitChunkComplete",value:function e(t,n,r){"function"===typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,n,r)}},{key:"_setupXHR",value:function e(t){this._xhr=t;w(t,this.options)}},{key:"_createUpload",value:function e(){var t=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=(0,c.newRequest)();n.open("POST",this.options.endpoint,true);n.onload=function(){if(!y(n.status,200)){t._emitXhrError(n,new Error("tus: unexpected response while creating upload"));return}var e=n.getResponseHeader("Location");if(null==e){t._emitXhrError(n,new Error("tus: invalid or missing Location header"));return}t.url=(0,c.resolveUrl)(t.options.endpoint,e);if(0===t._size){t._emitSuccess();t._source.close();return}t._hasStorage()&&t._storage.setItem(t._fingerprint,t.url,(function(e){e&&t._emitError(e)}));if(t.options.uploadDataDuringCreation)t._handleUploadResponse(n);else{t._offset=0;t._startUpload()}};n.onerror=function(e){t._emitXhrError(n,new Error("tus: failed to create upload"),e)};this._setupXHR(n);this.options.uploadLengthDeferred?n.setRequestHeader("Upload-Defer-Length",1):n.setRequestHeader("Upload-Length",this._size);var r=b(this.options.metadata);""!==r&&n.setRequestHeader("Upload-Metadata",r);if(this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred){this._offset=0;this._addChunkToRequest(n)}else n.send(null)}},{key:"_resumeUpload",value:function e(){var t=this;var n=(0,c.newRequest)();n.open("HEAD",this.url,true);n.onload=function(){if(!y(n.status,200)){t._hasStorage()&&y(n.status,400)&&t._storage.removeItem(t._fingerprint,(function(e){e&&t._emitError(e)}));if(423===n.status){t._emitXhrError(n,new Error("tus: upload is currently locked; retry later"));return}if(!t.options.endpoint){t._emitXhrError(n,new Error("tus: unable to resume upload (new upload cannot be created without an endpoint)"));return}t.url=null;t._createUpload();return}var e=parseInt(n.getResponseHeader("Upload-Offset"),10);if(isNaN(e)){t._emitXhrError(n,new Error("tus: invalid or missing offset value"));return}var r=parseInt(n.getResponseHeader("Upload-Length"),10);if(isNaN(r)&&!t.options.uploadLengthDeferred){t._emitXhrError(n,new Error("tus: invalid or missing length value"));return}if(e===r){t._emitProgress(r,r);t._emitSuccess();return}t._offset=e;t._startUpload()};n.onerror=function(e){t._emitXhrError(n,new Error("tus: failed to resume upload"),e)};this._setupXHR(n);n.send(null)}},{key:"_startUpload",value:function e(){var t=this;if(this._aborted)return;var n=(0,c.newRequest)();if(this.options.overridePatchMethod){n.open("POST",this.url,true);n.setRequestHeader("X-HTTP-Method-Override","PATCH")}else n.open("PATCH",this.url,true);n.onload=function(){if(!y(n.status,200)){t._emitXhrError(n,new Error("tus: unexpected response while uploading chunk"));return}t._handleUploadResponse(n)};n.onerror=function(e){if(t._aborted)return;t._emitXhrError(n,new Error("tus: failed to upload chunk at offset "+t._offset),e)};this._setupXHR(n);n.setRequestHeader("Upload-Offset",this._offset);this._addChunkToRequest(n)}},{key:"_addChunkToRequest",value:function e(t){var n=this;"upload"in t&&(t.upload.onprogress=function(e){if(!e.lengthComputable)return;n._emitProgress(r+e.loaded,n._size)});t.setRequestHeader("Content-Type","application/offset+octet-stream");var r=this._offset;var i=this._offset+this.options.chunkSize;(Infinity===i||i>this._size)&&!this.options.uploadLengthDeferred&&(i=this._size);this._source.slice(r,i,(function(e,r,i){if(e){n._emitError(e);return}if(n.options.uploadLengthDeferred&&i){n._size=n._offset+(r&&r.size?r.size:0);t.setRequestHeader("Upload-Length",n._size)}if(null===r)t.send();else{t.send(r);n._emitProgress(n._offset,n._size)}}))}},{key:"_handleUploadResponse",value:function e(t){var n=this;var r=parseInt(t.getResponseHeader("Upload-Offset"),10);if(isNaN(r)){this._emitXhrError(t,new Error("tus: invalid or missing offset value"));return}this._emitProgress(r,this._size);this._emitChunkComplete(r-this._offset,r,this._size);this._offset=r;if(r==this._size){this.options.removeFingerprintOnSuccess&&this.options.resume&&this._storage.removeItem(this._fingerprint,(function(e){e&&n._emitError(e)}));this._emitSuccess();this._source.close();return}this._startUpload()}}],[{key:"terminate",value:function e(t,n,r){if("function"!==typeof n&&"function"!==typeof r)throw new Error("tus: a callback function must be specified");if("function"===typeof n){r=n;n={}}var i=(0,c.newRequest)();i.open("DELETE",t,true);i.onload=function(){if(204!==i.status){r(new a.default(new Error("tus: unexpected response while terminating upload"),null,i));return}r()};i.onerror=function(e){r(new a.default(e,new Error("tus: failed to terminate upload"),i))};w(i,n);i.send(null)}}]);return e}();function b(e){var t=[];for(var n in e)t.push(n+" "+l.Base64.encode(e[n]));return t.join(",")}function y(e,t){return e>=t&&e<t+100}function w(e,t){e.setRequestHeader("Tus-Resumable","1.0.0");var n=t.headers||{};for(var r in n)e.setRequestHeader(r,n[r]);e.withCredentials=t.withCredentials}g.defaultOptions=m;t.default=g},mWu2:function(e,t,n){"use strict";n.r(t);var r=n("GMLQ");t["default"]=r["a"]},mYEk:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("sWge");var o=n("MGTR");var s="webkitAnimationEnd oanimationend msAnimationEnd animationend";var l=".table-anim";var c=".chart-anim";var u=s.split(" ").map((function(e){return"".concat(e).concat(c)})).join(" ");var d=s.split(" ").map((function(e){return"".concat(e).concat(l)})).join(" ");function f(e,t,n,r){this.app=e;this.model=t;this.toggled=false;this.element=n;this.options=r;this.sourceClass="qv-view-original";this.tableClass="qv-view-data-table"}f.prototype.getSourceElement=function(){var e;e="string"===typeof this.element?document.getElementById(this.element).querySelector(".qv-object-wrapper"):this.element[0]?this.element[0].querySelector(".qv-object-wrapper"):this.element.querySelector(".qv-object-wrapper");return e};f.prototype.show=function(){var e=this;if(this.showIsAnimating)return a["a"].resolve(e.toggled);this.showIsAnimating=true;var t=n("lEl7").default;return new t(e.app).visualization.create("table",e.model,{totals:{show:false}}).then((function(t){var n=new a["a"];e.options?e.options.onRendered=function(){n.resolve()}:e.options={onRendered:function e(){n.resolve()}};e.sourceElement=e.getSourceElement();var r=e.sourceElement.parentElement;e.qvis=t;e.originalObjectId=e.model.id;e.tableElement=document.createElement("div");e.tableElement.classList.add(e.tableClass);r.insertBefore(e.tableElement,e.sourceElement);var i=t.show(e.tableElement,e.options);return a["a"].all([i,n.promise]).then((function(t){e.scope=t[0]}))})).then((function(){var t=new a["a"];e.sourceElement.classList.remove("chart-fade-in");e.sourceElement.classList.add("chart-fade-out");i.a.element(e.sourceElement).on(u,(function(){i.a.element(e.sourceElement).off(c);e.sourceElement.classList.add(e.sourceClass);e.tableElement.classList.add("table-fade-in");e.toggled=true;e.showIsAnimating=false;t.resolve(e.toggled)}));return t.promise}))};f.prototype.getObject=function(){var e;return null===(e=this.scope)||void 0===e?void 0:e.object};f.prototype.hide=function(){var e=this;var t=new a["a"];if(this.hideIsAnimating)return a["a"].resolve(e.toggled);this.hideIsAnimating=true;e.tableElement.classList.remove("table-fade-in");e.tableElement.classList.add("table-fade-out");i.a.element(e.tableElement).on(d,(function(){i.a.element(e.tableElement).off(l);e.sourceElement.classList.remove(e.sourceClass);e.sourceElement.classList.remove("chart-fade-out");e.sourceElement.classList.add("chart-fade-in");e.qvis.close();e.tableElement.parentNode.removeChild(e.tableElement);e.toggled=false;e.hideIsAnimating=false;i.a.element(e.sourceElement).on(u,(function(){i.a.element(e.sourceElement).off(c);o["a"].publish("/ui/object/resize.".concat(e.originalObjectId))}));t.resolve(e.toggled)}));return t.promise};f.prototype.toggle=function(){return this.toggled?this.hide():this.show()};t["a"]=f},mZ5q:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cpn1");var i=n("tdEy");var a=n("TJjZ");var o=n("IoK0");function s(e){return Object(r["a"])(e)||Object(i["a"])(e)||Object(a["a"])(e)||Object(o["a"])()}},mhIG:function(e,t,n){"use strict";(function(e){var r=n("dOe6");var i=n("sWge");var a=n("5c1J");var o=n("r3g4");function s(e,t,n){var r="";var i=Math.pow(2,n);for(var a=1;a<n+1;a++){var o=Math.pow(2,a)/i;var s=Math.ceil((t+1)*o)-1;var l=Math.ceil((e+1)*o)-1;r+=(2*(1&s)+(1&l)).toString(10)}return r}var l;(function(t){function n(t,n,a){var s=new i["a"];var l=o["a"].addUrlParameters(t,"service=wms&version="+n+"&request=GetCapabilities");a&&(l=idevio.Connection.baseUrl+"/GetResource?url="+l);try{e.get(l,(function(e){var t=new r["a"](e);t&&t.layers.length>0&&t.formats.length>0&&t.srs.length>0?s.resolve(t):s.reject()})).fail((function(){s.reject()}));setTimeout((function(){s.reject()}),6e4)}catch(e){s.reject()}return s.promise}t.getWMSCapabilities=n;function l(e,t,n,r,i){e=e.replace(/(\${)/gi,"{");var o=/{\[[^\]]+\]}/;for(var l=o.exec(e);null!=l&&l.length>0;l=o.exec(e)){var c=l[0].replace(/\s+/g,"").slice(2,-2);var u=c.split(",");e=e.replace(l[0],u[Math.abs(t+n+r)%u.length])}e=e.replace(/{quadkey}/gi,s(t,n,r));var d={x:t,y:n,z:r,level:r};var f=false;var p=false;e=e.replace(/{([^}]*)}/g,(function(e,t){p=p||!/^\s*(?:x|y|z|level)\s*$/.test(t||"");var n=a["a"].evaluate(t,d);false===n&&(f=true);return n}));var h=Math.pow(2,r);if(i&&!p&&(r<0||n<0||n>=h||t<0||t>=h))return null;return f?null:e}t.parseUrl=l})(l||(l={}));t["a"]=l}).call(this,n("qIEf"))},"mqp/":function(e,t,n){"use strict";t["a"]={MEASURE:"measure",DIMENSION:"dimension",FIELD:"field",SUM:"sum",PUBSUB_TOPIC:"/cao/light-editing/swap"}},"n+X2":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("mXGw");var i=n.n(r);function a(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function s(e,t){return f(e)||d(e,t)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function f(e){if(Array.isArray(e))return e}function p(e){var t=Object(r["useState"])(),n=s(t,2),i=n[0],a=n[1];var l=Object(r["useState"])(),c=s(l,2),u=c[0],d=c[1];Object(r["useEffect"])((function(){var t=true;function n(){return r.apply(this,arguments)}function r(){r=o(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function n(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return e.getLayout(true);case 3:r=i.sent;if(t){d();a(r)}i.next=10;break;case 7:i.prev=7;i.t0=i["catch"](0);if(t){d(i.t0);a()}case 10:case"end":return i.stop()}}),n,null,[[0,7]])})));return r.apply(this,arguments)}if(e){n();e.Invalidated.bind(n)}return function(){t=false;e&&e.Invalidated.unbind(n)}}),[e]);return[i,u]}},n5Vb:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o='<div\n\tqva-direction\n\tclass="qv-selection-toolbar qvt-selection-toolbar"\n\tng-style="toolbar.style"\n\tng-class="{ \'sel-toolbar-card\': !options.isPopover, \'sel-toolbar-popover\': options.isPopover, \'sel-toolbar-click-to-unlock-bg\': locked }"\n\tng-click="locked && toggleLock($event);"\n>\n\t<label class="hidden-screen-reader-label" ng-attr-id="{{\'selections-toolbar-sr-label-\' + $id }}" aria-live="assertive"></label>\n\t<ul\n\t\tclass="sel-toolbar-list"\n\t\trole="group"\n\t>\n\t\t\t<li\n\t\t\t\tng-repeat="item in items"\n\t\t\t\tng-class="[item.clazz, getItemClass(item)]"\n\t\t\t\tng-keydown="handleKeyDown($event, item)"\n\t\t\t\tng-keyup="handleKeyUp($event, item)"\n\t\t\t\ttabindex="-1"\n\t\t\t\tng-attr-aria-haspopup="{{item.ariaHasPopup()}}"\n\t\t\t\tng-attr-aria-isexpanded="{{item.ariaIsExpanded()}}"\n\t\t\t\tng-attr-aria-hidden="{{item.ariaHidden}}"\n\t\t\t\tng-attr-aria-disabled="{{itemIsDisabled(item)}}"\n\t\t\t\tqv-selection-toolbar-template\n\t\t\t>\n\t\t\t</li>\n\t</ul>\n\n\t<qv-selection-toolbar-dropdown></qv-selection-toolbar-dropdown>\n</div>';var s={BUTTON_WIDTH:44,SEPARATOR_WIDTH:1,SELECT_DEFAULT_WIDTH:200,BORDER_SPACING:8,EXTRA_EDGE_PADDING:2,TYPE_BUTTON:"button",TYPE_SEPARATOR:"separator",TYPE_SELECT:"select",TYPE_TEXT:"text",TYPE_CLOSE:"close",MENU_BUTTON_TID:"selection-toolbar.toggleShowMenu",LOCK_BUTTON_TID:"selection-toolbar.lock"};Object.freeze(s);var l=s;var c=n("sWge");var u=n("4nJ1");var d=n("g1uV");var f=n("6uJb");var p=l.TYPE_BUTTON,h=l.TYPE_SELECT,v=l.TYPE_SEPARATOR,m=l.TYPE_TEXT,g=l.TYPE_CLOSE;var b=l.BUTTON_WIDTH,y=l.BORDER_SPACING,w=l.SEPARATOR_WIDTH,S=l.SELECT_DEFAULT_WIDTH,x=l.EXTRA_EDGE_PADDING;var C=l.MORE_BUTTON_TID,q=l.LOCK_BUTTON_TID;var E=function e(t){if(t.component)return t.component;if("sel-toolbar-icon-separator"===t.buttonClass)return v;return p};var I=function e(t){return t.filter((function(e){var t=E(e);return t!==v&&t!==m}))};var k=function e(t){var n={component:p,tid:C,isIcon:true,iconClass:"lui-icon--more",action:function e(n){t.toolbar.showMenu=!t.toolbar.showMenu;t.toolbar.showMenu&&n.originalEvent instanceof KeyboardEvent&&t.$broadcast("focusDropdown")},ariaHasPopup:function e(){return true},ariaIsExpanded:function e(){return t.toolbar.showMenu}};Object.defineProperties(n,{name:{get:function e(){return t.toolbar.showMenu?"Tooltip.CloseSelectionMenu":"Tooltip.SelectionMenu"}},buttonClass:{get:function e(){return t.toolbar.showMenu?"sel-toolbar-icon-toggle menu-active":"sel-toolbar-icon-toggle"}}});return n};var A=function e(t){var n={component:p,tid:q,isIcon:true,clazz:"sel-toolbar-list-item-lockunlock",action:function e(n){t.toggleLock(n)},isDisabled:function e(){return!t.locked&&!t.toolbar.backendApi.hasSelections()}};Object.defineProperties(n,{name:{get:function e(){return t.locked?"SelectionToolbar.ClickToUnlock":"SelectionToolbar.ClickToLock"}},iconClass:{get:function e(){return t.locked?"sel-toolbar-menu-span-icon lui-icon--lock":"sel-toolbar-menu-span-icon lui-icon--unlock"}}});return n};var T=function e(){var t={clazz:"sel-toolbar-unlock",component:m,name:"SelectionToolbar.ClickToUnlock"};return t};var D=function e(){var t={component:g,clazz:"sel-toolbar-list-item-close"};return t};var O=function e(){var t={tid:"sel-toolbar-menu-back",iconClass:"lui-icon--triangle-left",clazz:"back-item",name:"Back"};return t};var L=function e(t){var n=E(t);switch(n){case p:return b+y;case v:return w+y;case h:return(t.width||S)+y;default:return}};var M={totalWidth:0,widths:[],hasItems:function e(){return this.getItemCount()>0},reset:function e(t){this.totalWidth=t;this.widths.length=0},addWidth:function e(t){this.widths.push(t)},removeLastWidth:function e(){this.widths.pop()},getRemainingWidth:function e(){var t=this.widths.reduce((function(e,t){return e+t}),0);return this.totalWidth-t},getItemCount:function e(){return this.widths.length}};var P=function e(t,n,r,i){var a=0;var o;var s;M.reset(n-(y+2*x));for(s=r.length-1;s>=0;s--){o=L(r[s]);if(!(o<=M.getRemainingWidth()))break;M.addWidth(o)}t&&(a+=b+y);(i.length>0||r.length>M.getItemCount())&&(a+=b+y);while(M.hasItems()&&M.getRemainingWidth()<a)M.removeLastWidth();return M.getItemCount()};var N='<button\n  tid="{{item.tid}}"\n  ng-click="itemAction($event, item)"\n  q-title-translation="{{item.name}}"\n  ng-disabled="itemIsDisabled(item)"\n  ng-attr-aria-disabled="{{itemIsDisabled(item)}}"\n  class="sel-toolbar-btn"\n  ng-class="[item.buttonClass, item.isIcon ? \'sel-toolbar-icon\' : \'\', item.isActive(this) ? \'menu-active\' : \'\']"\n  tabindex="-1"\n>\n  <span class="sel-toolbar-span-icon lui-icon" ng-class="item.iconClass" ng-bind-html="item.getSvgIcon()"></span>\n</button>';var R='<select\n  ng-show="shouldShowSelect(item)"\n  ng-disabled="itemIsDisabled(item)"\n  tid="item.tid"\n  q-title-translation="{{item.name}}"\n  ng-style="{width: item.width}"\n  class="lui-select"\n  ng-model="item.value"\n  ng-change="item.action(item)"\n>\n  <option ng-if="item.noSelectOption" value="{{item.noSelectOption.value || \'\'}}">{{item.noSelectOption.label || item.noSelectOption.value || ""}}</option>\n  <option ng-repeat="option in item.options" value="{{option.value}}">{{option.label || option.value}}</option>\n</select>';var F='<p class="sel-toolbar-menu-text" q-translation="{{item.name}}" aria-hidden="true"></p>';var _='<qui-toolbarbutton ng-click="close($event)">\n  <span class="sel-toolbar-menu-text sel-toolbar-btn-close-text" q-translation="Common.Close"></span>\n</qui-toolbarbutton>';var j='<div class="sel-toolbar-icon-separator"></div>';var B;function V(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var H=l.TYPE_BUTTON,z=l.TYPE_SELECT,$=l.TYPE_SEPARATOR,U=l.TYPE_TEXT,G=l.TYPE_CLOSE;var W=(B={},V(B,H,N),V(B,z,R),V(B,U,F),V(B,G,_),V(B,$,j),B);var Q=W;a["default"].directive("qvSelectionToolbarTemplate",["$compile","$animate",function(e,t){return{link:function n(r,i){t.enabled(i,false);r.$on("setFocusItem",(function(e,t){var n=r.item;n===t&&i.focus()}));r.$watch("item",(function(){var t=r.item;var n=E(t);var a=W[n];i.html(a);e(i.contents())(r)}))}}}]);var K='<ul\n  ng-show="toolbar.showMenu"\n  class="sel-toolbar-menu"\n  ng-style="toolbar.menuStyle"\n  role="group"\n>\n  <li\n    ng-repeat="item in menuItems"\n    class="sel-toolbar-menu-item"\n    tid="{{item.tid}}"\n    q-title-translation="{{item.name}}"\n    tabindex="-1"\n    ng-class="{\n      \'disabled\': itemIsDisabled(item),\n      \'selected\': isItemSelected(item),\n      \'selection-toolbar-menu-table-align-center\': !menuItems.length,\n      [item.clazz]: item.clazz\n    }"\n    ng-keydown="handleKeyDownDropdown($event, item)"\n    ng-keyup="handleKeyUpDropdown($event, item)"\n    ng-click="menuAction($event, item)"\n    ng-attr-aria-disabled="{{itemIsDisabled(item)}}"\n    qv-selection-toolbar-dropdown-item\n  >\n    \x3c!-- Item icon --\x3e\n    <i ng-if="item.iconClass" class="sel-toolbar-menu-span-icon lui-icon" ng-class="item.iconClass"></i>\n\n    \x3c!-- Item label --\x3e\n    <span ng-if="menuItems.length || ( item.name && !item.iconClass )" class="sel-toolbar-menu-text" ng-class="{\'menu-text-without-left-icon\': !item.iconClass, \'menu-text-with-right-icon\': item.items}" q-translation="{{item.name}}"></span>\n\n    \x3c!-- "Click to see more"-icon --\x3e\n    <i ng-if="item.items" class="sel-toolbar-menu-span-icon next-icon lui-list__aside lui-icon lui-icon--triangle-right"></i>\n  </li>\n</ul>';var Y=n("acVu");a["default"].directive("qvSelectionToolbarDropdown",[function(){return{template:K,link:function e(t){if(Object(Y["b"])("ACC_SEL_MENU")){t.handleKeyDownDropdown=function(e,i){var a,o;switch(e.which){case d["a"].TAB:e.preventDefault();t.toolbar.showMenu=false;null===(a=(o=t.toolbar).onMoveFocus)||void 0===a?void 0:a.call(o,e.shiftKey);break;case d["a"].ARROW_UP:case d["a"].ARROW_LEFT:e.stopPropagation();r(i);break;case d["a"].ARROW_DOWN:case d["a"].ARROW_RIGHT:e.stopPropagation();n(i);break;case d["a"].ENTER:case d["a"].SPACE:e.stopPropagation();break;default:break}};t.handleKeyUpDropdown=function(e,n){switch(e.which){case d["a"].ENTER:case d["a"].SPACE:e.stopPropagation();t.menuAction(e,n);break;case d["a"].ESCAPE:e.stopPropagation();t.$emit("closeDropdownMenu");break;default:break}}}function n(e){var n=t.menuItems,r=void 0===n?[]:n;var i=r.indexOf(e);-1!==i&&i!==r.length-1&&t.$broadcast("setFocusDropdownItem",r[i+1])}function r(e){var n=t.menuItems,r=void 0===n?[]:n;var i=r.indexOf(e);-1!==i&&0!==i&&t.$broadcast("setFocusDropdownItem",r[i-1])}t.$on("focusDropdown",(function(){var e=t.menuItems,n=void 0===e?[]:e;t.$broadcast("setFocusDropdownItem",n[0])}))}}}]);a["default"].directive("qvSelectionToolbarDropdownItem",["$timeout",function(e){return{link:function t(n,r){n.$on("setFocusDropdownItem",(function(t,i){var a=n.item;a===i&&e((function(){return r.focus()}),100)}))}}}]);function J(e){J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return J(e)}function Z(e){return ne(e)||te(e)||ee(e)||X()}function X(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}function te(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ne(e){if(Array.isArray(e))return re(e)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=l.SELECT_DEFAULT_WIDTH;var ae=l.TYPE_BUTTON,oe=l.TYPE_SEPARATOR,se=l.TYPE_SELECT;var le=l.MORE_BUTTON_TID,ce=l.LOCK_BUTTON_TID;a["default"].componentDirective("qvaIncludeSelectionToolbar",{toolbar:"=",options:"="});var ue={template:o,controller:["$scope","$element","$timeout",function(e,t,n){var r=this;var o=Object(c["a"])();var s=o.promise;var l={};var p;e.items=[];e.menuItems=[];e.levels=[];e.selectionInfo={show:false,selected:0,total:0};e.locked=false;e.lassoEnabled=false;function h(n){var r=f["default"].get(n);t.find("#selections-toolbar-sr-label-".concat(e.$id)).text(r)}if(Object(Y["b"])("ACC_SEL_MENU")){e.handleKeyDown=function(t,n){var r,i;switch(t.which){case d["a"].TAB:t.stopPropagation();t.preventDefault();h("");null===(r=(i=e.toolbar).onMoveFocus)||void 0===r?void 0:r.call(i,t.shiftKey);break;case d["a"].ARROW_UP:case d["a"].ARROW_LEFT:t.stopPropagation();m(n);break;case d["a"].ARROW_DOWN:case d["a"].ARROW_RIGHT:t.stopPropagation();v(n);break;case d["a"].ENTER:case d["a"].SPACE:y(t,n);break;default:break}};e.handleKeyUp=function(t,n){var r=e.toolbar.selectionsApi;switch(t.which){case d["a"].ENTER:case d["a"].SPACE:t.stopPropagation();break;case d["a"].ESCAPE:t.stopPropagation();r.cancel();v(n);break;default:break}};e.$on("closeDropdownMenu",(function(){g();e.toolbar.showMenu=false}));e.$on("focusSelectionsToolbar",(function(){r.focus()}))}function v(t){var n=e.items,r=void 0===n?[]:n;var i=I(r);var a=i.indexOf(t);-1!==a&&a!==i.length-1&&e.$broadcast("setFocusItem",i[a+1])}function m(t){var n=e.items,r=void 0===n?[]:n;var i=I(r);var a=i.indexOf(t);-1!==a&&0!==a&&e.$broadcast("setFocusItem",i[a-1])}function g(){var t=e.items,n=void 0===t?[]:t;var r=n.filter((function(e){return e.tid===le}));e.$broadcast("setFocusItem",r[0])}function b(){var t=e.items,n=void 0===t?[]:t;var r=n.filter((function(e){return e.tid===ce}));e.$broadcast("setFocusItem",r[0])}function y(t,r){if(r&&!e.itemIsDisabled(r)){"string"===typeof r.actionSrMessage&&h(r.actionSrMessage);n((function(){e.itemAction(t,r)}),0)}}function w(e,t){e._componentId=t;e.items&&e.items.forEach((function(e){e._componentId=t}))}function S(t){t.forEach((function(e){e._componentId&&w(e,e._componentId)}));e.menuItems=t}function x(e){e.forEach((function(e){w(e,e._componentId||u["a"].generateId());l[e._componentId]=e}))}function C(){var t=e.toolbar;var n=[].concat(t.buttons);var r=[].concat(t.menuButtons);var i=t.showLock||e.locked;var a=P(i,t.style.width,n,r);var o=[];e.items=[];e.levels=[];var s=n.concat(r).filter((function(e){return e.component}));x(s);if(!e.locked){for(var l=0;l<a&&n.length;++l){var c=n.pop();c.component?o.push(c):e.items.push(c)}e.items.reverse()}n.forEach((function(e){E(e)!==oe&&r.unshift(e)}));S(r);!e.locked&&r.length>0&&e.items.unshift(k(e));i&&e.items.unshift(A(e));e.locked&&e.items.push(T());e.locked&&e.options.smallDevice&&e.items.push(D());q(o)}this.layoutItems=C;function q(t){t.forEach((function(t){switch(t.component){case se:var n={width:ie};var r=u["a"].extend(true,n,t);u["a"].extend(t,r);e.items.unshift(t);break;default:throw new Error("Selection toolbar component: ".concat(t.component," was not recognized"))}}))}this.confirm=function(){var t=e.toolbar.selectionsApi;t.confirm()};this.close=function(){e.destroyComponent()};this.focus=function(){var t=e.items,n=void 0===t?[]:t;var r=I(n);h("SelectionsToolbar.FocusInSelectionsMenuSrMessage");r.length&&e.$broadcast("setFocusItem",r[r.length-1])};this.refresh=function(){a["default"].$apply(e)};function L(){p=null;var t=e.levels.pop();S(t.items)}function M(t){var n=[O()].concat(Z(t));e.levels.push({items:e.menuItems});S(n)}function N(e){return l[e]}e.shouldShowSelect=function(t){var n=!e.locked&&(void 0===t.show||"boolean"===typeof t.show&&false!==t.show||"function"===typeof t.show&&t.show(t.value));return!!n};e.itemAction=function(t,n){t.originalEvent.preventDefault();t.stopPropagation();n.action.call(e.toolbar,t)};e.itemIsDisabled=function(t){switch(J(t.isDisabled)){case"function":return!!t.isDisabled.call(e.toolbar);case"boolean":return t.isDisabled;default:return false}};e.getItemClass=function(e){var t=E(e);switch(t){case ae:return"sel-toolbar-list-item";default:return""}};e.isItemSelected=function(e){var t=e.items;var n=N(e._componentId)||{};var r=!t&&e._componentId&&e.hasOwnProperty("value")&&n.value===e.value;return!!r};e.menuAction=function(t,n){t.originalEvent.preventDefault();if(e.itemIsDisabled(n))return;var r="LI"===t.target.tagName?i()(t.target):i()(t.target).parents("li");var a=r.scope();var o=n.tid;if(n&&n.items){p=a;M(n.items)}else if("sel-toolbar-menu-back"===o)L();else{p&&L();var s=n.action||p&&p.action;if(!s)throw Error("selection-toolbar: menu item has no action function defined");s.call(e.toolbar,n);e.toolbar.showMenu=!e.toolbar.showMenu;!e.toolbar.showMenu&&t.originalEvent instanceof KeyboardEvent&&g()}};e.toggleLasso=function(){e.lassoEnabled=!e.lassoEnabled;e.toolbar.toggleLasso(e.lassoEnabled)};function R(r){e.locked=r;e.toolbar.showMenu=false;s.then((function(){var e=t[0].contains(document.activeElement);C();Object(Y["b"])("ACC_SEL_MENU")&&e&&n((function(){b()}))}))}e.toggleLock=function(t){t.originalEvent.preventDefault();t.stopPropagation();var n=e.toolbar,r=n.backendApi,i=n.selectionsApi;if(r.isLocked()){i.selectionsMade=true;r.unlock()}else r.lock()};e.close=function(t){t.originalEvent.preventDefault();t.stopPropagation();var n=e.toolbar.selectionsApi;n.confirm()};e.$watch("toolbar.backendApi.isLocked()",(function(e){void 0!==e&&R(!!e)}));e.$watch("toolbar.position",(function(t){if(!t)return;e.toolbar.style=t;o.resolve();R(!!e.toolbar.backendApi.isLocked&&e.toolbar.backendApi.isLocked())}));e.$watch("toolbar.menuMaxHeight",(function(t){if(!t)return;e.toolbar.menuStyle={maxHeight:t}}));e.$watch("options.lassoEnabled",(function(t){e.lassoEnabled=t}))}]};var de=t["a"]=ue},n7R4:function(e,t,n){"use strict";function r(e){if(!e)return{value:1,error:true};return{value:e}}function i(e,t,n,r){if(!e&&0!==e&&!r)return{value:t,error:true,errorType:"min"};if(e<t)return{value:t,error:true,errorType:"min"};if(e>n)return{value:n,error:true,errorType:"max"};return{value:e,error:false}}function a(e){return e.prev!==e.current}function o(e,t,n,r){var i=e;var a=t;var o=s(i>a?i:a,r);if(o){i=Math.floor(l(i,o));a=Math.floor(l(a,o))}return{w:i,h:a,dpi:n}}function s(e,t){var n=i(e,0,t);if("max"===n.errorType)return 100-100*t/e;return 0}function l(e,t){return e-e*t/100}function c(e){var t=r(e.percentageValue);var n=Math.floor(t.value/100*e.orig);var o=i(n,e.min,e.max,false);e.current=o.value;if(t.error)e.percError=true;else{if(o.error&&"max"===o.errorType){e.percentageValue=Math.floor(e.current/e.orig*100);e.current=Math.floor(e.percentageValue/100*e.orig)}e.percError=false;e.modifying=a(e)}e.percentageFallback=e.percentageValue}function u(e,t,n){return e&&t&&e<n/2&&t<n/2?2:1}t["a"]={verifySizeRange:i,wasDimensionModified:a,calculateInitialDimensions:o,verifyPercentage:r,reduceByPercentage:l,verifyAndSetNewPercentage:c,getDpiMultiplierValue:u}},nBz0:function(e,t,n){"use strict";t["a"]='<lui-dialog tid="{{::tid}}" class="lui-dialog ao-dialog">\n  <lui-dialog-header>\n    <lui-dialog-title>{{::title}}</lui-dialog-title>\n  </lui-dialog-header>\n  <lui-dialog-body class="ao-dialog--body">\n    {{::content}}\n  </lui-dialog-body>\n  <lui-dialog-footer class="ao-dialog--footer">\n    <lui-button ng-repeat="button in buttons" ng-click="button.callback($event);" qva-focus="{{::button.focus}}" id="{{::button.id}}" tid="{{::button.tid}}">{{::button.name}}</lui-button>\n  </lui-dialog-footer>\n</lui-dialog>\n'},nWa8:function(e,t,n){"use strict";function r(e,t){return e*(1/t)}function i(e,t){return e/t}t["a"]={getDimensionBasedOnZoom:r,getZoomLevelBasedOnDimension:i}},njJ6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"c",(function(){return i}));var r={small:0,medium:1,large:2,xlarge:3};function i(){var e=window.innerWidth;if(e<900)return r.small;if(e<1200)return r.medium;if(e<1425)return r.large;return r.xlarge}t["b"]={DisplayMode:r,getDisplayMode:i}},nyIj:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("PoH+");var o=n.n(a);var s=n("yB4Y");var l=n.n(s);var c=n("Umg0");var u=n.n(c);var d=n("mWu2");var f=n("6uJb");var p=n("+GbC");var h=n("ATUZ");var v=n("wSFN");var m=n("/Qpb");var g=n("RZ9f");var b=n("qfyE");var y=n("/crU");var w=n("60SA");var S=n("x1As");var x=n("hpYt");var C=n("dhFh");var q=d["default"].getService("$q");var E=d["default"].getService("qvAlertDialog");var I=d["default"].getService("qvConfirmDialog");var k={TABLE:"table",HUB:"hub",LINK:"link"};var A=null;var T=[];var D={selectedObjectTypes:k,selectedObjects:[],selectionMode:"single"};D.SELECTION_MODES={MULTIPLE:"multiple",SINGLE:"single"};D.SELECTION_OPTIONS={NO_SCRIPT_TABLES:"noscripttables",NO_DELETED:"nodeleted"};p["a"].mixin(D);D.notification("OnSplitTable");function O(){var e=D.selectedObjects;return y["a"].getLoadModel().then((function(t){for(var n=e.length-1;n>=0;n--){var r=e[n];r.type===k.TABLE&&(t.getTargetTableModelById(r.tableModel.data.id)||e.splice(n,1))}}))}y["a"].registerInvalidationHandler(O,y["a"].invalidationPriorityLevel.HIGH_PRIORITY);D.setSelectedObjects=function(e){var t=this;this.selectionOptions&&this.selectionOptions.allowSelectionChange?this.selectionOptions.allowSelectionChange().then((function(n){n&&t.setSelectedObjectsImpl(e)})):this.setSelectedObjectsImpl(e)};D.setSelectedObjectsImpl=function(e){if(!i.a.equals(this.selectedObjects,e)){this.selectionMode===D.SELECTION_MODES.MULTIPLE?this._addToSelection(e):this.selectedObjects=e;S["a"].isAssociationEditorOpen()?this.selectedObjects.length<=1?S["a"].setAssociationEditorOpen(false):2!==this.selectedObjects.length||this.selectedObjects[0].type===k.TABLE&&this.selectedObjects[1].type===k.TABLE||S["a"].setAssociationEditorOpen(false):S["a"].isGridEditorOpen()&&0===this.selectedObjects.length&&S["a"].setGridEditorOpen(false);this.handleOnSelectedObjectChanged()}};D._addToSelection=function(e){var t=-1;0===e.length&&(this.selectedObjects.length=0);this.selectionOptions&&this.selectionOptions.limit&&(t=this.selectionOptions.limit);for(var n=0;n<e.length;n++){var r=e[n];if(r.type===k.TABLE){if(this.selectionOptions&&(this.selectionOptions.noscripttables&&"ScriptTable"===r.tableModel.sourceType||this.selectionOptions.nodeleted&&r.tableModel.getStatus()===s["DSMTypes"].QueryStatus.delete))continue;var i=this._getSelectionIndex(e[n]);if(-1===i){this.selectedObjects.push(e[n]);-1!==t&&this.selectedObjects.length>t&&this.selectedObjects.splice(this.selectedObjects.length-2,1)}else this.selectedObjects.splice(i,1)}}};D._getSelectionIndex=function(e){var t=-1;for(var n=0;n<this.selectedObjects.length;n++)if(e.tableModel&&this.selectedObjects[n].tableModel===e.tableModel){t=n;break}return t};D.getSelectedObjects=function(){return this.selectedObjects};D.setSelectionMode=function(e,t){this.selectionMode=e;this.selectionOptions=t;if(e===D.SELECTION_MODES.MULTIPLE){var n=this.getSelectedLinkSourceObjects();n.length>0&&this.setSelectedObjectsImpl([]);var r=this.getSelectedTables();for(var i=0;i<r.length;i++){var a=r[i];if(t&&(t.noscripttables&&"ScriptedTable"===a.sourceType||t.nodeleted&&a.getStatus()===s["DSMTypes"].QueryStatus.delete)){this.setSelectedObjectsImpl([]);break}}}};D.isSelectionCapturedByOther=function(e){var t=false;this.selectionOptions&&this.selectionOptions.selectionOwner&&this.selectionOptions.selectionOwner!==e&&(t=true);return t};D.setSelectedTables=function(e){var t=e.map((function(e){return{type:k.TABLE,tableModel:e}}));this.setSelectedObjects(t)};D.getSelectedTableIds=function(){var e=[];this.selectedObjects.forEach((function(t){if(t.type===k.TABLE)e.push(t.tableModel.data.id);else if(t.type===k.LINK)for(var n=0;n<t.objects.length;n++){var r=t.objects[n];r.type===k.TABLE&&e.push(r.tableModel.data.id)}}));return e};D.getSelectedTables=function(){var e=[];this.selectedObjects.forEach((function(t){if(t.type===k.TABLE)e.push(t.tableModel);else if(t.type===k.LINK)for(var n=0;n<t.objects.length;n++){var r=t.objects[n];if(r.type===k.TABLE){e.push(r.tableModel);break}}}));return e};D.getSelectedLinkSourceObjects=function(){var e=[];this.selectedObjects.forEach((function(t){t.type===k.LINK&&e.push(t.source)}));return e};D.canEditObject=function(){var e=false;var t=this.getSelectedObjects();if(1===t.length){var n=t[0];n.type===k.TABLE?"ScriptTable"!==n.tableModel.sourceType&&n.tableModel.getStatus()!==s["DSMTypes"].QueryStatus.delete&&-1!==n.tableModel.noOfRows&&(e=true):n.type!==k.LINK||n.preview||2!==n.objects.length||o.a.every(n.objects,(function(e){return e.type===k.TABLE}))&&(e=true)}else 2===t.length&&o.a.every(t,(function(e){return e.type===k.LINK&&!e.preview&&2===e.objects.length}))&&(e=true);return e};D.canRefreshObject=function(){var e=true;var t=this.getSelectedObjects();if(t.length>=1)for(var n=0;n<t.length;++n){var r=t[n];var i=r.type===k.TABLE&&"ScriptTable"!==r.tableModel.sourceType&&r.tableModel.getStatus()!==s["DSMTypes"].QueryStatus.delete&&-1!==r.tableModel.noOfRows;e=e&&i}else e=false;return e};D.isEditDeleteTable=function(){var e=false;var t=this.getSelectedObjects();if(1===t.length){var n=t[0];n.type===k.TABLE&&(e=true)}return e};D.isEditDeleteAssociation=function(){var e=false;var t=this.getSelectedObjects();if(1===t.length){var n=t[0];n.type===k.LINK&&(e=true)}else 2===t.length&&o.a.every(t,(function(e){return e.type===k.LINK}))&&(e=true);return e};D.getTableEditTooltip=function(){return this.editIsActive()?"DataManager.Footer.Tooltip.StopEditTable":"DataManager.Footer.Tooltip.EditTable"};D.getAssociationEditTooltip=function(){return this.editIsActive()?"DataManager.Footer.Tooltip.StopEditAssociation":"DataManager.Footer.Tooltip.EditAssociation"};D.getEditButtonTooltip=function(){return this.isEditDeleteTable()?this.getTableEditTooltip():this.isEditDeleteAssociation()?this.getAssociationEditTooltip():""};D.canDeleteObject=function(){var e=false;var t=this.getSelectedObjects();if(!S["a"].isGridEditorOpen())if(1===t.length){var n=t[0];n.type===k.TABLE?"ScriptTable"!==n.tableModel.sourceType&&n.tableModel.getStatus()!==s["DSMTypes"].QueryStatus.delete&&(e=true):n.type!==k.LINK||n.preview||2!==n.objects.length||(e=true)}else 2===t.length&&o.a.every(t,(function(e){return e.type===k.LINK&&!e.preview&&2===e.objects.length}))&&(e=true);return e};D.editIsActive=function(){return S["a"].isGridEditorOpen()||S["a"].isAssociationEditorOpen()};D.editObject=function(){var e=this.getSelectedObjects();if(1===e.length){var t=e[0];t.type===k.TABLE?this.editTable(t.tableModel):t.type===k.LINK&&2===t.objects.length&&o.a.every(t.objects,(function(e){return e.type===k.TABLE}))&&S["a"].setAssociationEditorOpen(!S["a"].editAssociationOpen)}else 2===e.length&&o.a.every(e,(function(e){return e.type===k.LINK&&2===e.objects.length}))&&S["a"].setAssociationEditorOpen(!S["a"].editAssociationOpen)};D.refreshTables=function(){var e=[];var t=this.getSelectedObjects();for(var n=0;n<t.length;++n){var r=t[n];var i=r.type===k.TABLE&&"ScriptTable"!==r.tableModel.sourceType&&r.tableModel.getStatus()!==s["DSMTypes"].QueryStatus.delete&&-1!==r.tableModel.noOfRows;if(i){var a={recursive:true};var o=r.tableModel.getTableRefs(a);e.push.apply(e,o)}}w["a"].showSpinner("refreshTables");return y["a"].refreshTables(e).then((function(e){if(!e.success){E.show({title:f["default"].get("DataManager.RefreshTables.ErrorTitle"),message:f["default"].get("DataManager.RefreshTables.ErrorMessage")});return y["a"].invalidate(true)}return})).finally((function(){w["a"].stopSpinner("refreshTables");g["a"].trackEvent(g["a"].customEvents.REFRESH_DATA_FROM_SOURCE)}))};D.deleteObject=function(){var e=this.getSelectedObjects();if(1===e.length){var t=e[0];t.type===k.TABLE?this.deleteTable(t.tableModel):t.type===k.LINK&&2===t.objects.length&&(o.a.every(t.objects,(function(e){return e.type===k.TABLE}))?this.deleteAssociation(t.objects[0].tableModel,t.objects[1].tableModel):t.objects[0].type===k.TABLE&&t.objects[1].type===k.HUB&&this.removeTableFromAssociation(t.objects[1].name,t.objects[0].tableModel))}else if(2===e.length&&o.a.every(e,(function(e){return e.type===k.LINK&&2===e.objects.length}))){var n=o.a.findWhere(e[0].objects,{type:k.TABLE});var r=o.a.findWhere(e[1].objects,{type:k.TABLE});n&&r&&this.deleteAssociation(n.tableModel,r.tableModel)}};D.editAssociation=function(){this.setAssociationEditorOpen(this.editAssociationOpen)};D.deleteAssociation=function(e,t){y["a"].getLoadModel().then((function(n){var r=n.getTargetTableModelById(e.data.id);var i=n.getTargetTableModelById(t.data.id);var a=m["a"].getAssociationsBetweenTables(n,r,i).length>0;if(a){var o={warningTitle:f["default"].get("DataManager.ViewService.BreakAssociationWarningTitle"),warningMsg1:f["default"].get("DataManager.ViewService.BreakAssociationWarningPart1",[r.data.name,i.data.name]),warningMsg2:f["default"].get("DataManager.ViewService.BreakAssociationWarningPart2"),breakAssociation:function e(){c["LoadModelAssociations"].removeAssociationBetween(n,r,null,i,null);v["default"].updateProperties(n.serialize()).then((function(){D.setSelectedObjectsImpl([])}))}};var s=d["default"].getService("luiDialog");s.show({template:h["a"].template,controller:h["a"].controller,input:{context:o}})}}))};D.removeTableFromAssociation=function(e,t){y["a"].getLoadModel().then((function(n){var r=n.getTargetTableModelById(t.data.id);var i=c["LoadModelAssociations"].getAssociation(n,e);if(i&&i.nodes.some((function(e){return e.tableId===r.data.id}))){var a={warningTitle:f["default"].get("DataManager.ViewService.BreakAssociationWarningTitle"),warningMsg1:f["default"].get("DataManager.ViewService.BreakCentralHubAssociationWarningPart1",[r.data.name,e]),warningMsg2:f["default"].get("DataManager.ViewService.BreakAssociationWarningPart2"),breakAssociation:function t(){c["LoadModelAssociations"].removeFromAssociation(n,e,r);v["default"].updateProperties(n.serialize()).then((function(){D.setSelectedObjectsImpl([])}))}};var o=d["default"].getService("luiDialog");o.show({template:h["a"].template,controller:h["a"].controller,input:{context:a}})}}))};D.canSplitObject=function(){var e=false;var t=this.getSelectedObjects();if(!S["a"].isGridEditorOpen()&&1===t.length){var n=t[0];n.type===k.TABLE&&(e=n.tableModel.sourceType===s["DSMTypes"].ConcatenationQuery.name||n.tableModel.sourceType===s["DSMTypes"].ForcedConcatenationQuery.name||n.tableModel.sourceType===s["DSMTypes"].JoinedQuery.name)}return e};D.canClearFilters=function(){var e=this.getSelectedObjects();if(1===e.length){var t=e[0];if(t.type===k.TABLE)return y["a"].getLoadModel().then((function(e){var n=e.getSourceTableByQueryId(t.tableModel.data.id);return n&&(n.isFiltered()||n.getLoadFilter())}))}return q.resolve(false)};D.removeFilters=function(){var e=this;var t=this.getSelectedObjects();if(1===t.length){var n=t[0];if(n.type===k.TABLE)return y["a"].getLoadModel().then((function(t){var r=t.getSourceTableByQueryId(n.tableModel.data.id);var i=t.getTargetTableModelById(n.tableModel.data.id);var a=r.getFilter();return I.show({title:f["default"].get("dataSpace.filterRemoveConfirm.title"),message:f["default"].get("dataSpace.filterRemoveConfirm.content",a?a.filterClause:f["default"].get("DataManager.Filter.LoadFilter")),okLabel:f["default"].get("dataSpace.filterRemoveConfirm.action")}).closed.then((function(n){if(n){var a,o,s;w["a"].showSpinner("removeFilters");var l=r.data.loadProperties;l&&l.filterInfo&&(r.data.loadProperties.filterInfo.filterClause="");r.setLoadFilter(void 0);i&&i.setUpdateStatus();return x["a"].updateLoadSelectStatements(t,[r],null===r||void 0===r||null===(a=r.data)||void 0===a||null===(o=a.connectionInfo)||void 0===o||null===(s=o.type)||void 0===s?void 0:s.isIframeCompatible,true).then((function(){t.setProperties();e.refreshTables()})).finally((function(){w["a"].stopSpinner("removeFilters");return q.when(true)}))}return q.when(false)}))}))}return q.when(false)};D.splitObject=function(){var e=this.getSelectedObjects();if(1===e.length){var t=e[0];t.type===k.TABLE&&y["a"].splitQuery(t.tableModel.data.id)}};D.editTable=function(e){S["a"].setGridEditorOpen(!S["a"].gridEditorOpen,e)};D.deleteTable=function(e){A||(A=I.show({title:f["default"].get("dataSpace.tableRemoveConfirm.title"),message:'<span style="word-wrap: break-word">'.concat(f["default"].get("dataSpace.tableRemoveConfirm.content",e.data.name),"</span>"),okLabel:f["default"].get("Common.Delete")}).closed.then((function(t){t&&y["a"].getLoadModel().then((function(t){e.getStatus()===s["DSMTypes"].QueryStatus.add&&D.setSelectedObjectsImpl([]);t.removeTargetTable(e.data.name)}));A=null})))};D.registerOnSelectedObjectChanged=function(e){var t=T.indexOf(e);t<0&&T.push(e)};D.unregisterOnSelectedObjectChanged=function(e){var t=T.indexOf(e);t>=0&&T.splice(t,1)};D.handleOnSelectedObjectChanged=function(){T.forEach((function(e){e&&e()}))};t["a"]=D},nzqh:function(e,t,n){"use strict";var r=n("mWu2");var i='<div class="qv-state-count-bar" tid="stateCount" qva-direction x-dir-setting="{{options.direction}}">\n\t<div class="state selected" ng-style="{\'width\': percents.qSelected + \'%\'}"></div>\n\t<div class="state locked" ng-style="{\'width\': percents.qLocked + \'%\'}"></div>\n\t<div class="state optional" ng-style="{\'width\':  percents.qOption + \'%\'}"></div>\n\t<div class="state alternative" ng-style="{\'width\':  percents.qAlternative + \'%\'}"></div>\n</div>';r["default"].directive("qvStateCountBar",[function(){return{restrict:"E",template:i,replace:true,scope:{stateCounts:"=",options:"="},link:function e(t){t.percents=[];t.$watchCollection("stateCounts",(function(){n()}));function n(){var e=t.stateCounts;if(!e)return;var n=i(e);t.percents=a(n)}function r(e){return Object.keys(e).reduce((function(t,n){return t+e[n]}),0)}function i(e){var t=r(e);var n={};["qSelected","qLocked","qOption","qAlternative"].forEach((function(r){var i=e[r]||0;var a=Math.round(i/t*100);i>0&&0===a&&(a=1);n[r]=a}));return n}function a(e){var t={};var n;var r;var i=0;for(n in e){t[n]=e[n];(!r||e[n]>e[r])&&(r=n);i+=e[n]}i>100&&(t[r]=e[r]-(i-100));return t}}}}])},"o/J5":function(e,t,n){"use strict";n.d(t,"f",(function(){return r}));n.d(t,"d",(function(){return i}));n.d(t,"e",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return l}));var r=0;var i=1;var a=2;var o=10;var s="scroll-area";var l="scroll-bar"},"o4/D":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o=n("6uJb");var s=n("IfNZ");var l=n("nBz0");function c(e){var t;var n={name:o["default"].get("Common.Cancel"),callback:function e(){t.close();t=null}};var r=[];e.noDefaultButton||r.push(n);r.push(e.action);t=a["default"].getService("luiDialog").show({template:l["a"],input:{id:e.id,tid:e.tid,title:e.title,content:e.content,buttons:r}});t.opened.then(u);t.closing.then(d);return t}function u(){var e=document.getElementsByClassName("lui-dialog-container");if(e.length>0){e[0].setAttribute("qva-outside-ignore-for",f());i()(e[0]).keyup((function(e){27!==e.keyCode&&e.stopPropagation()}))}e=null}function d(){var e=document.getElementsByClassName("lui-dialog-container");if(e.length>0){e[0].removeAttribute("qva-outside-ignore-for");i()(e[0]).unbind("keyup")}e=null}function f(){var e=i()(".qv-appview-navigator");var t="nav-";e.length>0&&e.scope?t+=e.scope().navigationmode:t+=s["a"].navigationMode;return t}t["a"]={show:c}},o7dj:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n("yB4Y"),a=n("C5K+"),o=n("0/MV"),s=n("kgeS"),l=n("gAHE"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.updateTransformation=function(e,t){var n=this.indexOfTransformation(e,i.DSMTypes.Transformations.lookupGeoInfo);n>=0&&null===t?(this.removeCorrespondingGeoField(e),e.classifications=["dimension"],e.transformations.splice(n,1)):t&&(n>=0?(e.transformations[n]=t,this.updateCorrespondingGeoField(e,t)||this.handleRecommendation(t)):(e.transformations=e.transformations||[],e.transformations.push(t),this.handleRecommendation(t)),e.classifications=["cityAlias"===t.arguments.geoType?"city":"country"])},t.prototype.handleRecommendation=function(e){var t=this.determineGeoInfoFieldClassification(e.arguments.geoType),n=this.targetTable,r=n.getField(e.appliedTo);if(r&&0===n.getTransformRelatedFields(r,i.DSMTypes.Transformations.lookupGeoInfo,!1).length){var o=n.data.name+"."+l.Translator.GetString(this.locale,"DataManager.GeoInfo.ColumnSuffix",r.name),s=a.LoadModelHelpers.generateUniqueFieldName(this.loadModel,o,n.data.id,!0);n.createTransformField(s.name,e,t)}},t.prototype.removeCorrespondingGeoField=function(e){var t=this.findCorrespondingGeoField(e);t&&this.targetTable.deleteTransformField(t.id)},t.prototype.updateCorrespondingGeoField=function(e,t){var n=this.findCorrespondingGeoField(e);return n&&(n.transformations=[t],n.classifications=[this.determineGeoInfoFieldClassification(t.arguments.geoType)]),!!n},t.prototype.findCorrespondingGeoField=function(e){var t=new o.LoadModelUtils(this.targetTable);return t.findCorrespondingTransformedField(e.id,i.DSMTypes.Transformations.lookupGeoInfo)},t.prototype.determineGeoInfoFieldClassification=function(e){var t="geoPoint";return["countryAlias","countryCodeISO3","countryCodeISO2"].indexOf(e)>-1&&(t="geoPolygon"),t},t.prototype.indexOfTransformation=function(e,t){if(e.transformations)for(var n=0;n<e.transformations.length;++n)if(e.transformations[n].op===t)return n;return-1},t}(s.TransformationRecommendation);t.GeoLookupRecommendation=c},oON4:function(e,t,n){"use strict";var r=n("6uJb");var i=n("vkLz");var a=n("acVu");var o=null;var s=false;function l(){var e;if(s){if(i["a"].isAppDirty())return r["default"].get("Application.UnsavedChanges");return}if(o){o.scriptModel&&o.scriptModel.debugDriver&&(e=r["default"].get("scripteditor.debugger.debuggerisinprogresswarning"));o.progressIndicator&&o.progressIndicator.isActive()&&(e=r["default"].get("Application.ReloadOngoing"))}i["a"].isSaveOngoing()&&(e=r["default"].get("Application.SaveOngoingWarning"));i["a"].isAppDirty()&&(e=r["default"].get("Application.UnsavedChanges"));return e}function c(){o=null;s=false;window.onbeforeunload=null}function u(e,t){c();o=e;s=t;window.onbeforeunload=function e(){if(Object(a["b"])("DISABLE_UNSAVED_CHECK"))return;if(i["a"].isAutoSaveOn()){if(i["a"].isSaveOngoing())return r["default"].get("Application.SaveOngoingWarning");return}return l()}}t["a"]={getMessage:l,setBeforeUnloadFunctions:u,unsetBeforeUnloadFunctions:c}},oQpb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){var n=new XMLHttpRequest;n.responseType="blob";n.onload=function(){var e=n.response;t(null,e)};n.onerror=function(e){t(e)};n.open("GET",e);n.send()}t.default=r},oRXB:function(e,t,n){"use strict";var r=n("6uJb");function i(e){return e.qStateCounts.qSelected+e.qStateCounts.qSelectedExcluded+e.qStateCounts.qLocked+e.qStateCounts.qLockedExcluded}function a(e){var t=e.states.length;return r["default"].get("CurrentSelections.SelectionsInStates",t)}function o(e){var t=i(e);var n=e.qTotal;var a;a=n===t&&n>1?r["default"].get("CurrentSelections.All"):t>1&&n>1?r["default"].get("CurrentSelections.Of",[t,n]):e.qSelectedFieldSelectionInfo.map((function(e){return e.qName})).join(", ").toString();return a}t["a"]={translate:function e(t){return t.states?a(t):o(t)},translatedScreenReaderLabel:function e(t){var n;if(t.states)n=a(t);else{var o=i(t);var s=t.qTotal;var l=t.qField;var c=t.qSelected;n=s===o&&s>1?r["default"].get("CurrentSelections.AllSelections",[l]):o>1&&s>1?r["default"].get("CurrentSelections.MultipleSelections",[l,o,s]):r["default"].get("CurrentSelections.SingleSelection",[l,c])}return n},translatedRemoveTitle:function e(t){return r["default"].get("CurrentSelections.Remove",[t.qField])}}},obmW:function(e,t,n){"use strict";function r(e){e.quarantine={qNumFormat:e.qNumFormat||{},isCustomFormatted:e.isCustomFormatted||false};e.qNumFormat=null;e.isCustomFormatted=void 0}function i(e){var t,n;e.qNumFormat=(null===(t=e.quarantine)||void 0===t?void 0:t.qNumFormat)||{};e.isCustomFormatted=(null===(n=e.quarantine)||void 0===n?void 0:n.isCustomFormatted)||false;e.quarantine=void 0}function a(e){var t,n;return null!==(t=!!(null===e||void 0===e||null===(n=e.quarantine)||void 0===n?void 0:n.qNumFormat))&&void 0!==t&&t}t["a"]={useMasterNumberFormat:r,useLocalFormat:i,isUsingMasterNumberFormat:a}},ogCl:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},ohbW:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("SOxp");var o=n("MoEg");var s=n("8fQa");var l=n("wkj2");var c=n("sWge");var u=n("zjn0");var d=window.devicePixelRatio||1;var f=document.createElement("canvas");var p=f.getContext("2d");var h=document.createElement("span");var v=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;var m=d/v;var g={};var b=[];var y=!u["a"].supportDirAuto();h.innerText="Wj";var w={rect:function e(t,n){t.x*=n.x;t.y*=n.y;t.width*=n.x;t.height*=n.y},line:function e(t,n){t.x1*=n.x;t.y1*=n.y;t.x2*=n.x;t.y2*=n.y},circle:function e(t,n){t.cx*=n.x;t.cy*=n.y;t.r*=Math.min(n.x,n.y)},polygon:function e(t,n){var r;var i;for(r=0;r<t.points.length;r++){i=t.points[r];i.x*=n.x;i.y*=n.y}},text:function e(t,n){t.x*=n.x;t.y*=n.y;t.width*=n.x;t.height*=n.y}};function S(e,t){b.length>100&&delete g[b.shift()];b.push(e);g[e]=t}function x(e){if(e.font in g)return g[e.font];var t=1.5*e.measureText("m").width;S(e.font,t);return t}function C(e,t,n,r,i){var a=t.shape.points;var o=a?a.length:0;var s;var l;e.beginPath();s=a[0];if(!s)return;e.moveTo(s.x,s.y);for(l=1;l<o;l+=1){s=a[l];e.lineTo(s.x,s.y)}i&&e.closePath();n&&e.fill();r&&e.stroke()}var q={rect:function e(t,n,r,i){r&&t.fillRect(n.shape.x||0,n.shape.y||0,n.shape.width||0,n.shape.height||0);i&&t.strokeRect(n.shape.x||0,n.shape.y||0,n.shape.width||0,n.shape.height||0)},roundRect:function e(t,n,r,i){t.beginPath();t.moveTo(n.shape.x+n.shape.radius,n.shape.y);t.lineTo(n.shape.x+n.shape.width-n.shape.radius,n.shape.y);t.quadraticCurveTo(n.shape.x+n.shape.width,n.shape.y,n.shape.x+n.shape.width,n.shape.y+n.shape.radius);t.lineTo(n.shape.x+n.shape.width,n.shape.y+n.shape.height-n.shape.radius);t.quadraticCurveTo(n.shape.x+n.shape.width,n.shape.y+n.shape.height,n.shape.x+n.shape.width-n.shape.radius,n.shape.y+n.shape.height);t.lineTo(n.shape.x+n.shape.radius,n.shape.y+n.shape.height);t.quadraticCurveTo(n.shape.x,n.shape.y+n.shape.height,n.shape.x,n.shape.y+n.shape.height-n.shape.radius);t.lineTo(n.shape.x,n.shape.y+n.shape.radius);t.quadraticCurveTo(n.shape.x,n.shape.y,n.shape.x+n.shape.radius,n.shape.y);t.closePath();r&&t.fill();i&&t.stroke()},circle:function e(t,n,r,i){n.shape&&n.shape.r&&!n.shape.radius&&(n.shape.radius=n.shape.r);if(Number.isNaN(+n.shape.cx)||Number.isNaN(+n.shape.cy)||Number.isNaN(+n.shape.radius)||n.shape.radius<=0)return;var a=.551784;t.save();t.translate(n.shape.cx,n.shape.cy);t.scale(n.shape.radius,n.shape.radius);t.beginPath();t.moveTo(1,0);t.bezierCurveTo(1,-a,a,-1,0,-1);t.bezierCurveTo(-a,-1,-1,-a,-1,0);t.bezierCurveTo(-1,a,-a,1,0,1);t.bezierCurveTo(a,1,1,a,1,0);t.closePath();t.restore();r&&t.fill();i&&t.stroke()},line:function e(t,n,r,i){if(!i)return;t.beginPath();t.moveTo(n.shape.x1,n.shape.y1);t.lineTo(n.shape.x2,n.shape.y2);t.stroke()},polygon:function e(t,n,r,i){C(t,n,r,i,true)},polyline:function e(t,n,r,i){C(t,n,r,i)},polygons:function e(t,n,r,i){var e=n.shape.polygons;var a=e?e.length:0;var o;var s;var l;var c;var u;var d;t.beginPath();for(u=0;u<a;u++){o=e[u];s=o.points;l=s?s.length:0;if(0===l)continue;c=s[0];if(!c)continue;t.moveTo(c.x,c.y);for(d=1;d<l;d+=1){c=s[d];t.lineTo(c.x,c.y)}}r&&t.fill();i&&t.stroke()},multipolygon:function e(t,n,r,i){var a=n.shape.geopolygons;var o=a?a.length:0;var s;var l;var c;var u;var d;var f;var p;var h;t.beginPath();for(f=0;f<o;f++){s=a[f].getPolygons();l=s?s.length:0;for(p=0;p<l;p++){c=s[p].points;u=c?c.length:0;if(0===u)continue;d=c[0];if(!d)continue;t.moveTo(d.x,d.y);for(h=1;h<u;h+=1){d=c[h];t.lineTo(d.x,d.y)}}}r&&t.fill();i&&t.stroke()},arc:function e(t,n,r,i){var e=n.shape;t.beginPath();if(e.end-e.start===2*Math.PI){t.arc(e.cx,e.cy,e.radius,e.start+e.radianOffset,e.end+e.radianOffset,false);t.moveTo(e.cx+e.innerRadius*Math.cos(e.radianOffset+e.start),e.cy+e.innerRadius*Math.sin(e.radianOffset+e.start));t.arc(e.cx,e.cy,e.innerRadius,e.end+e.radianOffset,e.start+e.radianOffset,true)}else{t.arc(e.cx,e.cy,e.radius,e.start+e.radianOffset,e.end+e.radianOffset,false);if(!Number.isNaN(+e.innerRadius)&&e.innerRadius!==e.radius){t.lineTo(e.innerRadius*Math.cos(e.end+e.radianOffset)+e.cx,e.innerRadius*Math.sin(e.end+e.radianOffset)+e.cy);e.innerRadius>0&&t.arc(e.cx,e.cy,e.innerRadius,e.end+e.radianOffset,e.start+e.radianOffset,true);t.lineTo(e.radius*Math.cos(e.start+e.radianOffset)+e.cx,e.radius*Math.sin(e.start+e.radianOffset)+e.cy)}}t.closePath();r&&t.fill();i&&t.stroke()},text:function e(t,n){if(!n.shape||!n.shape.text||!n.fill)return;n.shape.font&&(t.font=n.shape.font);n.shape.align&&(t.textAlign=n.shape.align);n.shape.baseline&&(t.textBaseline=n.shape.baseline);A(t,n.shape)}};function E(e,t,n){var r;var i=e?e.replace(/^\s*|\s*$/,"").split(" "):[];var a=[];var o;var s;var l=i[0];if(!l)return[];for(r=1;r<i.length;r++){o="".concat(l," ").concat(i[r]);s=p.measureText(o).width;if(s>t&&n>a.length){a.push(l);l=i[r]}else l=o}a.length<n?a.push(l):a[Math.max(0,a.length-1)]?a[Math.max(0,a.length-1)]+=" ".concat(l):a[Math.max(0,a.length-1)]=" ".concat(l);return a}function I(e,t,n){if(void 0===e)return;var r;var i;var a;var o;var s;var l;var c;var u="…";var d;var f=p.measureText("i").width;for(r=0;r<e.length;r++){i=e[r];c=Math.ceil(Math.max(0,t/f))+1;if(c<i.length){o=i.slice(c);i=i.slice(0,c)}else o="";a=i;if(i&&i.length>1&&p.measureText(i).width>t){s=false;for(l=i.length;l>0;l--){a=a.substring(0,a.length-1);d=a+(r+1<n?"-":u);if(p.measureText(d).width<t){o=i.substring(l-1)+o;i=d;s=true;break}}if(!s){o=i.substring(1);i=i.substring(0,1)}if(!s&&!l){o="";i=u}}e[r]=String(i).trim();o&&r<e.length-1?e[r+1]="".concat(o," ").concat(e[r+1]):o&&e.length<n&&e.push(o)}}function k(e,t,n){var r=n.maxWidth;var i;if(Number.isNaN(+r))return[e];i=t>1?E(e,r,t):[e];I(i,r,t);return i}function A(e,t,n){var r=t.text;var i=(t.lineHeight||1)*x(e);var a="maxWidth"in t?t.maxWidth:t.width;var o="maxHeight"in t?t.maxHeight:t.height;var s=t.width;var l=t.height;var c=t.maxNumLines;var d=t.x||0;var f=t.y||0;var h=e.textAlign;var v="center"===h&&y;var m;var g;var b;p.font=e.font;Number.isNaN(+c)&&(c=o?Math.max(1,Math.floor(o/i)):1);var w=k(r,c,{maxWidth:a,maxHeight:o});if(n){s=0;for(m=0;m<w.length;m++)s=Math.max(s,e.measureText(w[m]).width);return{lines:w,numLines:w.length,width:s,height:w.length*i,truncated:Array.isArray(/…$/.exec(w[w.length-1]))}}"middle"===e.textBaseline?"undefined"!==typeof l?f+=l/2:w.length&&(f-=(w.length-1)*i/2):"bottom"===e.textBaseline&&("undefined"!==typeof l?f+=l:f-=(w.length-1)*i);"center"===e.textAlign&&s?d+=s/2:"right"===e.textAlign&&s&&(d+=s);for(m=0;m<w.length;m++){g=u["a"].detectTextDirection(w[m]);e.canvas.dir=g;if(v&&"rtl"===g){e.textAlign="left";b=d-e.measureText(w[m]).width/2}else{e.textAlign=h;b=d}e.canvas.dir=u["a"].detectTextDirection(w[m]);e.fillText(w[m],b,f);f+=i}e.textAlign=h;return}function T(e,t,n,r,i,a){var o;var s;var l;var c;var u;var d;var f;for(o=0;o<n.length;o+=1){c=n[o];if(!c)continue;e.save();l=c.transform;if(l){t.save();t.multiply(l)}"opacity"in c&&(e.globalAlpha=c.opacity);if(c.fill)if(c.fill.gradient){f=c.fill.gradient;if(Number.isNaN(+f.x0)||Number.isNaN(+f.y0)||Number.isNaN(+f.x1)||Number.isNaN(+f.y1))return;d=e.createLinearGradient(f.x0,f.y0,f.x1,f.y1);for(s=0;s<f.limits.length;s++)d.addColorStop(f.limits[s],f.colors[s]);e.fillStyle=d}else e.fillStyle=c.fill;if(c.stroke&&0!==c.strokeWidth){if(c.stroke.gradient){f=c.stroke.gradient;d=e.createLinearGradient(f.x0,f.y0,f.x1,f.y1);for(s=0;s<f.limits.length;s++)d.addColorStop(f.limits[s],f.colors[s]);e.strokeStyle=d}else e.strokeStyle=c.stroke;e.lineWidth=c.strokeWidth||1;c.strokeDasharray&&c.strokeDasharray.length&&e.setLineDash(c.strokeDasharray);r>1&&"polygon"!==c.type&&(e.lineWidth/=r)}c.lineJoin&&(e.lineJoin=c.lineJoin);c.lineCap&&(e.lineCap=c.lineCap);u=t.elements;if("group"===c.type){t.save();if(c.clip){e.beginPath();e.setTransform(u[0][0],u[1][0],u[0][1],u[1][1],u[0][2],u[1][2]);e.rect(c.clip.rect.x,c.clip.rect.y,c.clip.rect.width,c.clip.rect.height);e.clip()}T(e,t,c.children,void 0,!!c.fill||!!i,!!c.stroke&&0!==c.strokeWidth||!!a);t.restore()}else if(c.type in q){e.setTransform(u[0][0],u[1][0],u[0][1],u[1][1],u[0][2],u[1][2]);q[c.type](e,c,!!c.fill||!!i,!!c.stroke&&0!==c.strokeWidth||!!a)}e.globalAlpha=1;l&&t.restore();e.restore()}}function D(e,t,n){if(n){var r=t.elements;switch(n.type){case"clip":e.save();e.setTransform(r[0][0],r[1][0],r[0][1],r[1][1],r[0][2],r[1][2]);e.beginPath();e.rect(n.rect.x,n.rect.y,n.rect.width,n.rect.height);e.clip();break;case"slice":break;default:break}}}function O(e,t){t&&e.restore()}var L=a["a"].extend({init:function e(t,n){var r=i.a.extend(true,{storeObjects:false},n);this._container=t;this._canvas=document.createElement("canvas");this._canvas.style.position="absolute";this._canvas.width=0;this._canvas.height=0;r.name&&this._canvas.setAttribute("name",r.name);this.storeRenderedObjects=true===r.storeObjects;this.scaling={x:1,y:1};this._container&&this._container.appendChild(this._canvas);this.rect=new o["a"](0,0,0,0);this.shapes=[];this._matrix=new l["a"]},setDimensions:function e(t,n,r,i){this.rect.set(t,n,r,i)},setDimensionsToContainerRatio:function e(t,n){this.scaling={x:t,y:n};this.ratios={x:t,y:n}},show:function e(){this._canvas.style.display=""},hide:function e(){this._canvas.style.display="none"},clear:function e(t){if(t){if(!this._clearTimer){var n=this;this._clearTimer=s["a"].request((function(){if(n._clearTimer){n._canvas.width=0;n._clearTimer=0}}))}}else{s["a"].cancel(this._clearTimer);this._clearTimer=0;this._canvas.width=0;this._canvas.height=0;i()(this._canvas).data("shapes",null);this.shapes=[]}},render:function e(){s["a"].cancel(this._clearTimer);this._clearTimer=0;d=window.devicePixelRatio||1;v=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;m=d/v;var t=this._canvas;var n=t.getContext("2d");var r=m;var a=this._matrix;var o=0;var l=0;var u;var f;f=this.rect.height*this.scaling.y;u=this.rect.width*this.scaling.x;if(this.edgeBleed){o=this.edgeBleed.left*this.scaling.x;l=this.edgeBleed.top*this.scaling.y;f+=this.edgeBleed.top*this.scaling.y+this.edgeBleed.bottom*this.scaling.y;u+=this.edgeBleed.left*this.scaling.x+this.edgeBleed.right*this.scaling.x}f=Math.round(f);u=Math.round(u);this._canvas.style.left="".concat(-o,"px");this._canvas.style.top="".concat(-l,"px");if(t.width!==u||t.height!==f){t.width=r*u;t.height=r*f;this._canvas.style.width="".concat(u,"px");this._canvas.style.height="".concat(f,"px")}else n.clearRect(0,0,t.width,t.height);n.save();a.save();a.scale(r*this.scaling.x,r*this.scaling.y);a.translate(o/this.scaling.x,l/this.scaling.y);D(n,a,this.viewBox);T(n,a,this.shapes,this.scaling.x);O(n,this.viewBox);n.restore();a.restore();this.storeRenderedObjects&&i()(this._canvas).data("shapes",this.shapes);return c["a"].resolve()},setFont:function e(t){this._canvas.getContext("2d").font=t},getFontHeight:function e(t){if("string"!==typeof t)throw new Error("CanvasRenderer.getFontHeight(): Input font is not a string");if(t in g)return g[t];var n=this._canvas.getContext("2d");var r;if(n.font!==t){n.save();n.font=t;r=1.5*n.measureText("m").width;n.restore()}else r=1.5*n.measureText("m").width;S(t,r);return r},getTextWidth:function e(t,n){var r=this._canvas.getContext("2d");r.save();r.font=n;var i=void 0!==t?Math.ceil(r.measureText(t).width):0;r.restore();return i},getEMFontWidth:function e(t){var n="m";var r=this._canvas.getContext("2d");r.save();r.font=t;var i=r.measureText(n).width;r.restore();return i},getAverageLetterWidth:function e(t){var n="eeeaaaiinnoorsstldumcph";p.font=t||this._canvas.getContext("2d").font;var r=p.measureText(n).width;return r/n.length},release:function e(){i()(this._canvas).data("shapes",null);this.shapes=[];if(this._container){this._container.removeChild(this._canvas);this._container=null}},applyTransform:function e(){var t;for(t=0;t<this.shapes.length;t+=1)this.shapes[t].type in w&&w[this.shapes[t].type](this.shapes[t].shape,this.ratios)}});L.getTextWidth=function(e){return Math.ceil(p.measureText(e).width)};L.setFont=function(e){p.font=e};L.getAverageLetterWidth=function(e){var t="eeeaaaiinnoorsstldumcph";p.font=e;var n=p.measureText(t).width;return n/t.length};L.measureText=function(e,t){var n=p;var r;if(t&&n.font!==t){n.save();n.font=t}var i=n.measureText(e).width;if(t in g)r=g[t];else{r=1.5*n.measureText("m").width;S(t,r)}t&&n.restore();var a=void 0!==e?{width:i,height:r}:{width:0,height:0};return a};L.measureTextObject=function(e){e.shape.font&&(p.font=e.shape.font);e.shape.align&&(p.textAlign=e.shape.align);e.shape.baseline&&(p.textBaseline=e.shape.baseline);return A(p,e.shape,true)};L.measureDisplayTextObject=function(e){e.font&&(p.font=e.font);e.align&&(p.textAlign=e.align);e.baseline&&(p.textBaseline=e.baseline);return A(p,e,true)};L.getFontHeight=function(e){var t=p;if(e in g)return g[e];if(e){t.save();t.font=e}var n=1.5*t.measureText("m").width;S(e,n);e&&t.restore();return n};L.getDevicePixelToBackingStoreRatio=function(){return(window.devicePixelRatio||1)/(p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1)};t["a"]=L},ohkM:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("W0B4");var o=n.n(a);var s=function e(t){var n=t.width,r=t.height,a=t.show;var o="load-spinner center-in-parent";a&&(o+=" show");var s={height:"".concat(r,"px"),width:"".concat(n,"px")};return i.a.createElement("div",{className:o,style:s},i.a.createElement("div",{className:"qv-loader"}))};s.propTypes={show:o.a.bool.isRequired,width:o.a.number,height:o.a.number};s.defaultProps={width:100,height:100};var l=t["a"]=s},ojC6:function(e,t,n){"use strict";var r=n("sWge");var i=n("6uJb");var a=n("84zN");var o=n("+GbC");var s=[];var l={};var c="";var u=[{id:"chart",name:"Widget.Type.chart",icon:"line-chart"},{id:"table",name:"Widget.Type.table",icon:"table"},{id:"kpi",name:"Widget.Type.kpi",icon:"kpi"},{id:"navigation",name:"Widget.Type.navigation",icon:"compass"},{id:"other",name:"Widget.Type.other"}];function d(e){var t=null;s.forEach((function(n,r){e.id===n.id&&(t=r)}));null===t?s.push(e):s[t]=e;l[e.id]=e}var f=function e(t,n,r,i,a,o,s,l,c){this._version=0;o||(o={});Object.defineProperties(this,{libid:{value:t},id:{value:n},name:{value:r,writable:true},description:{value:i,writable:true},author:{value:a,writable:true},meta:{value:o,writable:true},dummy:{value:true===c?"true":null},html:{get:function e(){return this._html},set:function e(t){this._html=t;this._version++}},css:{get:function e(){return this._css},set:function e(t){this._css=t;this._version++}},properties:{value:s,writable:true},dependencies:{value:l,writable:true},version:{get:function e(){return this._version}},isLoaded:{get:function e(){return void 0!==this._html}}})};f.getIcon=function(e){var t;u.forEach((function(n){n.id===e&&n.icon&&(t=n.icon)}));return t||"widget"};f.prototype.load=function(e){this.loadDfd&&!e||(this.loadDfd=a["a"].loadWidget(this));return this.loadDfd};f.prototype.save=function(){var e=this;return a["a"].saveTemplate(this).then((function(){f.Updated.emit(s);return e}))};f.prototype.copy=function(e){return f.add({libid:e.libid||this.libid,id:e.id||this.id,name:e.name||this.name,description:e.description||""===e.description?e.description:this.description,author:e.author||this.author,meta:e.meta||this.meta,html:e.html||this.html,css:e.css||this.css,properties:e.properties||this.properties})};f.prototype.delete=function(){var e=a["a"].deleteTemplate(this);var t=this;s.forEach((function(e,n){e.id===t.id&&s.splice(n,1)}));l&&l[t.id]&&delete l[t.id];e.then((function(){f.Updated.emit(s)}));return e};f.prototype.move=function(e){var t=this;var n=this.copy({libid:e});return n.save().then((function(){return t.delete().then((function(){return a["a"].reloadCachedLibraries().then((function(){return n}))}))}))};f.getTemplateListFromLibrary=function(e){var t=[];var n=new r["a"];s.length=0;a["a"].getWidgetListFromLibrary(e).then((function(e){e.forEach((function(e){t.push(f.get(e.id,true,e.libid))}));r["a"].all(t).then((function(){n.resolve(s)}))}));return n.promise};f.getTemplateList=function(e){var t=[];if(!c||e){c=new r["a"];a["a"].getWidgetList(e).then((function(e){e.forEach((function(e){t.push(f.get(e.id,true,e.libid))}));r["a"].all(t).then((function(){c.resolve(s)}))}))}return c.promise};f.getLoaded=function(e){return l[e]};f.resetWidgetsProperties=function(e){l[e].propertiesObj&&l[e].propertiesObj.lastSavedProperties&&(l[e].properties=l[e].propertiesObj.lastSavedProperties)};f.get=function(e,t,n){if(e.indexOf("/")>-1){var o=e.split("/");n=o[0];e=o[1]}var s=new r["a"];if(l[e]){var c=l[e];c.isLoaded||t?s.resolve(c):c.load().then((function(){s.resolve(c)}),(function(e){s.reject(e)}))}else{if(!n){var u=a["a"].getLibForId(e);n=u?u.id:void 0}n?a["a"].getTemplate(n,e).then((function(r){r.properties||(r.properties={});var a=new f(n,e,r.name||i["default"].get("Widget.NoName"),r.description||"",r.author||"",r.meta||{},r.properties,r.dependencies||{});a.lastModified=r.lastModified;d(a);a.isLoaded||t?s.resolve(a):a.load().then((function(){s.resolve(a)}),(function(e){a.err=e;s.resolve(a)}))})).catch((function(){var t=new f(n,e);s.resolve(t)})):s.reject(i["default"].get("Error.NoLibraryForWidget",e))}return s.promise};f.add=function(e){if(!e.id||!e.libid)return false;var t=new f(e.libid,e.id,e.name||"",e.description||"",e.author||"",e.meta,e.properties,e.dependencies||{},e.dummy);t.html=e.html||"";t.css=e.css||"";d(t);a["a"].addTemplate(t);f.Updated.emit(s);return t};o["a"].create(f,"Updated");f.types=u;t["a"]=f},oxue:function(e,t,n){"use strict";var r=n("G3JA");var i=n("TmCs");function a(e){e=e.trim();if("="===e.charAt(0)){e=e.substring(1);e=e.trim()}var t=e.length-1;if("["===e.charAt(0)&&"]"===e.charAt(t)){e=e.substring(1,t);e=e.trim()}return e}function o(e,t){var n=i["a"].expand(r["a"].copy(t));var o;var s;e=a(e);if(n)for(o=0;o<n.length;o++){s=n[o];if(s.qName===e)return s}return null}function s(e,t){var n;var r;if(t)for(n=0;n<t.length;n++){r=t[n];if(r.qInfo.qId===e)return r}return null}function l(e,t){var n;var r;if(t)for(n=0;n<t.length;n++){r=t[n];if(r.qInfo.qId===e)return r}return null}function c(e){return e.getFieldList().then((function(e){return i["a"].expand(r["a"].copy(e)).sort((function(e,t){return e.qName.toLowerCase().localeCompare(t.qName.toLowerCase())}))}))}function u(e){return e.getDimensionList().then((function(e){return r["a"].copy(e).sort((function(e,t){return e.qData.title.toLowerCase().localeCompare(t.qData.title.toLowerCase())}))}))}function d(e){return e.getMeasureList().then((function(e){return r["a"].copy(e).sort((function(e,t){return e.qData.title.toLowerCase().localeCompare(t.qData.title.toLowerCase())}))}))}t["a"]={findField:o,findLibraryDimension:l,findLibraryMeasure:s,getSortedFields:c,getSortedDimensions:u,getSortedMeasures:d}},"p+Qe":function(e,t,n){"use strict";var r=n("PX8M");function i(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)}))}}var o={};t["a"]={get:function e(){return o},isVariableSet:function e(t){return"1"===o[t]},isVariableDefined:function e(t){return!!o[t]},load:function e(t){return t.getVariableList().then((function(e){e.forEach((function(e){e.qName&&(o[e.qName]=e.qDefinition)}));return o})).catch((function(){return o}))},setBoolean:function e(t,n){var i=this;return a(regeneratorRuntime.mark((function e(){var a,s,l,c,u;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return r["a"].getApp();case 2:a=d.sent;if(!i.isVariableDefined(t)){d.next=15;break}d.next=6;return a.getVariableByName(t);case 6:s=d.sent;d.next=9;return s.getProperties();case 9:l=d.sent;l.qDefinition=n?"1":"0";d.next=13;return s.setProperties(l);case 13:d.next=17;break;case 15:d.next=17;return a.createVariableEx({qInfo:{qType:"variable"},qName:t,qDefinition:n?"1":"0",qComment:"",tags:[]});case 17:o[t]=n?"1":"0";d.next=20;return a.global.getConfiguration();case 20:c=d.sent;u=c.qFeatures;if(!(u.qAutoSave&&a.layout.permissions.update)){d.next=25;break}d.next=25;return a.doSave();case 25:case"end":return d.stop()}}),e)})))()},delete:function e(t){return a(regeneratorRuntime.mark((function e(){var n,i,a,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:l.next=2;return r["a"].getApp();case 2:n=l.sent;l.next=5;return n.getVariableByName(t);case 5:i=l.sent;if(!(null===i||void 0===i?void 0:i.id)){l.next=10;break}l.next=9;return n.destroyVariableById(i.id);case 9:delete o[t];case 10:l.next=12;return n.global.getConfiguration();case 12:a=l.sent;s=a.qFeatures;if(!(s.qAutoSave&&n.layout.permissions.update)){l.next=17;break}l.next=17;return n.doSave();case 17:case"end":return l.stop()}}),e)})))()}}},p3fE:function(e,t,n){"use strict";var r=n("z4LI");var i=n("4nJ1");var a=n("hVRC");var o=n("B52N");var s=47;var l=10;var c=54;t["a"]={objIndex:function e(t,n){var r;var i;var o=-1;for(r=0;r<t.cells.length;++r){i=t.cells[r];if(a["a"].compareBounds(i.bounds,n.bounds))return r;i.col===n.col&&i.row===n.row&&(o=r)}return o},getObject:function e(t,n,r){var i=this.objIndex(t,n);if(-1===i){if(r)return null;throw new Error("invalid pos")}return t.cells[i]},moveObject:function e(t,n,r){t.col=n.col;t.row=n.row;t.colspan=n.colspan;t.rowspan=n.rowspan;t.bounds=n.bounds?n.bounds:a["a"].getBounds(n,r.columns,r.rows)},setObject:function e(t,n,r,i){var a=this.getObject(t,n,true);var o=a?a.name:null;if(a){a.name=r;a.type=i}else t.cells.push({name:r,type:i,col:n.col,row:n.row,colspan:n.colspan,rowspan:n.rowspan,bounds:n.bounds});return o},splitPos:function e(t,n,r,i){var o=t.bounds||a["a"].getBounds(t,r,i);var s=a["a"].getAligmentToGrid(o,r,i);var l={col:s.col,row:s.row,colspan:s.colspan,rowspan:s.rowspan};var c={col:s.col,row:s.row,colspan:s.colspan,rowspan:s.rowspan};var u=a["a"].splitBounds(o,n,s.colspan,s.rowspan);l.bounds=u.near;c.bounds=u.far;if("left"===n||"right"===n){var d=Math.ceil(t.colspan/2);l.colspan-=d;c.col+=t.colspan-d;c.colspan=d}if("top"===n||"bottom"===n){var f=Math.ceil(t.rowspan/2);l.rowspan-=f;c.row+=t.rowspan-f;c.rowspan=f}if("top"===n||"left"===n){var p=l;l=c;c=p}return{pos1:l,pos2:c}},swapObjects:function e(t,n,r){var i=this.getObject(t,n);var o=this.getObject(t,r,true);this.moveObject(i,a["a"].alignToGrid(t,r),t);o&&this.moveObject(o,a["a"].alignToGrid(t,n),t)},splitCell:function e(t,n,r){var i=this.getObject(t,n,false);a["a"].alignToGrid(t,i);if(!i||(i.colspan!==n.colspan||i.rowspan!==n.rowspan)&&!a["a"].compareBounds(i.bounds,n.bounds))return false;var o=this.splitPos(i,r,t.columns,t.rows);delete o.pos1.bounds;delete o.pos2.bounds;this.moveObject(i,o.pos1,t);return o.pos2},ifSplit:function e(t,n,r,i){var o=a["a"].getAligmentToGrid(n.pos.bounds,r,i);if(0===o.rowspan||0===o.colspan)return false;if("vertical"===t){if(n.pos.bounds.height>=2/i*100)return true}else if("horizontal"===t&&n.pos.bounds.width>=2/r*100)return true;return false},findCellForId:function e(t,n){return n.filter((function(e){return e.name===t}))[0]},addChildrenToObject:function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.qInfo.qId=i["a"].generateId();t.qChildren.push({qChildren:[],qProperty:a})}},updatePermissionStyle:function e(t,n){var i=n||o["default"];!t.hasUpdatePermission&&r["a"].isInEditMode()?t.permissionStyle={overflow:"hidden"}:i.isSmallDevice&&t.mobileGrid&&!t.zoomCell?t.permissionStyle={overflow:"auto"}:t.permissionStyle={overflow:"visible"}},getExtendedSheetSize:function e(t,n){var r=n&&t.layoutOptions&&t.layoutOptions.extendable?c:l;return{height:"calc(".concat(t.height,"% - ").concat(r,"px)")}},getCustomSheetSize:function e(t,n){var r=4;var i=5;var a=t.pxHeight-l-s-r;var o=t.pxWidth-l-r;var c=n/2-a/2;var u=c>i?"calc(50% - ".concat(a/2,"px)"):"".concat(i,"px");return{height:"".concat(a,"px"),width:"".concat(o,"px"),top:u}}}},pKnl:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"a",(function(){return r}));var r={qInfo:{qId:"DimensionList",qType:"DimensionList"},qDimensionListDef:{qType:"dimension",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",grouping:"/qDim/qGrouping",info:"/qDimInfos",labelExpression:"/qDim/qLabelExpression"}}};var i={types:"Doc",extend:{getDimensionList:function e(){return this.getListData(r)},getDimensionListObject:function e(){return this.getListObject(r)}}}},pRem:function(e,t,n){"use strict";var r=n("2Hli");var i=n("BcSl");function a(e){return c(e)||l(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}function l(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=t.qLayoutExclude;if(!n){t.qLayoutExclude={quarantine:{}};n=t.qLayoutExclude}n.quarantine||(n.quarantine={});n.quarantine[i["a"].CUSTOM.QUARANTINE]=[];e.forEach((function(e){n.quarantine[i["a"].CUSTOM.QUARANTINE].push(e)}))}function f(e){var t=e.qHyperCubeDef?"qHyperCubeDef.qDimensions":"qHyperCube.qDimensionInfo";var n=r["a"].getValue(e,t,[]);if(n.length>0)return t;return}function p(){var e=i["a"].CUSTOM,t=e.EXPRESSION,n=e.TITLE,r=e.DESCRIPTION,a=e.IMAGES;var o={};o[t]=true;o[n]=true;o[r]=true;o[a]=true;return o}function h(e){var t=p();return e.filter((function(e){return t[e.id]}))}var v={getPathToAttrExpr:function e(t,n){var i=f(t);if(void 0===i)return;var a=r["a"].getValue(t,i,[]);var o="qHyperCubeDef.qDimensions"===i?"qAttributeExpressions":"qAttrExprInfo";var s=void 0!==n?n:a.length-1;return s>-1?"".concat(i,".").concat(s,".").concat(o):void 0},quarantineCustomTooltipAttrs:function e(t,n){var a="qLayoutExclude.quarantine.".concat(i["a"].CUSTOM.QUARANTINE);var o=r["a"].getValue(t,a,false);if(!o){var s=r["a"].getValue(n,"qAttributeExpressions",[]);var l=h(s);d(l,t)}},unquarantineCustomTooltipAttrs:function e(t){var n="qLayoutExclude.quarantine.".concat(i["a"].CUSTOM.QUARANTINE);var a=r["a"].getValue(t,n,false);a&&delete t.qLayoutExclude.quarantine[i["a"].CUSTOM.QUARANTINE]},setCustomTooltipAttrs:function e(t,n){var i=this.getPathToAttrExpr(t,n);if(void 0===i)return;var o=r["a"].getValue(t,i,[]);var s=h(o);var l=0===s.length;if(l){var c=r["a"].getValue(t,"qLayoutExclude.quarantine.customTooltip",[]);var u=[].concat(a(o),a(c));r["a"].setValue(t,i,u)}},moveCustomTooltipAttrs:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i=arguments.length>2?arguments[2]:void 0;var o=[];var s=f(t);if(void 0===s)return;var l=r["a"].getValue(t,s,[]);var c=[].concat(a(l),[n]);c.forEach((function(e){var t=r["a"].getValue(e,"qAttributeExpressions",[]);var n=h(t);n.length>0&&(o=n)}));var u=p();var d=l.map((function(e){var t=r["a"].getValue(e,"qAttributeExpressions",[]);e.qAttributeExpressions=t.filter((function(e){return!u[e.id]}));return e}));var v=void 0!==i?i:d.length-1;d.length>0&&(d[v].qAttributeExpressions=d[v].qAttributeExpressions.concat(o));r["a"].setValue(t,s,d)}};t["a"]=v},"pRs/":function(e,t,n){"use strict";var r=n("U3P2");var i=n.n(r);var a=n("czhI");var o=n.n(a);var s=n("mWu2");var l=n("6uJb");var c=n("4nJ1");var u=n("/2No");var d=n("acVu");var f=n("5Hbw");var p=n("MGTR");var h=n("5Pwf");function v(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){v(a,r,i,o,s,"next",e)}function s(e){v(a,r,i,o,s,"throw",e)}o(void 0)}))}}var g;var b;var y;function w(e){return u["a"].rootPath+e}function S(e,t,n){var r=s["default"].defer();F("",t&&t.path||"",n).then((function(t){var n=x(e,t);if(!n){r.reject(new Error(l["default"].get("UploadedFilesFolder.Error.NotAllowedFileType",[e.name])));return r.promise}try{encodeURIComponent(e.name)}catch(t){r.reject(new Error(l["default"].get("UploadedFilesFolder.Error.IllegalCharsInFilename",[e.name])));return r.promise}return C(e,t).then((function(){r.resolve(true)}),(function(e){r.reject(e)}))}));return r.promise}function x(e,t){if(!t.allowedExtensions)return false;return t.allowedExtensions.some((function(t){return c["a"].hasFileExtension(e.name,t)}))}function C(e,t){var n=s["default"].defer();var r=t.maxFileSize;var i=t.maxLargeFileSize;var a=t.maxSize-t.size;var o=q(e.size,Math.floor);var c=Object(d["b"])("DATAFILES_USE_CHUNKED_UPLOAD")?i:r;"number"===typeof r&&r>0&&e.size>c&&!Object(d["b"])("DATAFILES_SPACES_ENABLED")?n.reject({message:l["default"].get("UploadedFilesFolder.Error.MaxFileSizeExceeded",[e.name,o,q(r,Math.ceil)])}):"number"===typeof a&&e.size>a?n.reject({message:l["default"].get("UploadedFilesFolder.Error.AvailableSpaceExceeded",[e.name,o,q(a,Math.ceil)])}):n.resolve();return n.promise}function q(e,t){var n=[l["default"].get("UploadedFilesFolder.FileSizeUnit.Bytes"),l["default"].get("UploadedFilesFolder.FileSizeUnit.KB"),l["default"].get("UploadedFilesFolder.FileSizeUnit.MB")];var r=l["default"].get("UploadedFilesFolder.FileSize.NA");if(e>0){var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);r=t?t(e/Math.pow(1024,i)*10)/10+n[i]:Math.ceil(e/Math.pow(1024,i)*10)/10+n[i]}return r}function E(){if(Object(d["b"])("DATAFILES_USE_CHUNKED_UPLOAD")){g.abort();k()}else b.cancel()}function I(){if(y)return;y=setInterval((function(){var e;null===(e=h["a"].global)||void 0===e?void 0:e.getProgress(0)}),6e5)}function k(){clearInterval(y);y=void 0}function A(e,t,n){var r={"qlik-csrf-token":f["a"].csrfToken()};g=new i.a.Upload(e,{endpoint:w("/api/v1/temp-contents/files"),headers:r,chunkSize:314572800,retryDelays:[0,1e3,3e3,5e3,1e4,2e4],metadata:{filename:e.name},onProgress:t,onSuccess:function e(){n(g.url);p["a"].unsubscribe("datafile/upload/cancel",E)},onError:function e(){p["a"].unsubscribe("datafile/upload/cancel",E);k()}});I();g.start()}function T(e,t){var n=new Promise((function(n,r){var i=function e(t,n){var r=t/Math.max(Math.max(n,t),1);p["a"].publish("datafile/upload/progress",r)};var a=function(){var i=m(regeneratorRuntime.mark((function i(a){return regeneratorRuntime.wrap((function i(c){while(1)switch(c.prev=c.next){case 0:p["a"].publish("datafile/upload/progress",1,true);o.a.post(w("api/v1/qix-datafiles"),null,{headers:{"Content-Type":void 0},transformRequest:s["default"].identity,params:{name:e.name,tempContentFileId:a.split("/").pop(),connectionId:Object(d["b"])("DATAFILES_SPACES_ENABLED")&&t?t.id:void 0}}).then((function(){n(e)})).catch((function(e){var t,n;403===(null===(t=e.response)||void 0===t?void 0:t.status)?r(new Error(l["default"].get("UploadedFilesFolder.Error.ForbiddenUpload"))):413===(null===(n=e.response)||void 0===n?void 0:n.status)?r(new Error(l["default"].get("UploadedFilesFolder.Error.AvailableSpaceExceeded"))):e.response&&r(e)})).finally((function(){k()}));case 2:case"end":return c.stop()}}),i)})));return function e(t){return i.apply(this,arguments)}}();A(e,i,a)}));return n}function D(e,t){var n=new Promise((function(n,r){var i=new FormData;b=o.a.CancelToken.source();i.append("data",e);o.a.post(w("api/v1/qix-datafiles"),i,{headers:{"Content-Type":void 0},onUploadProgress:function e(t){var n=t.loaded/Math.max(Math.max(t.total,t.loaded),1);p["a"].publish("datafile/upload/progress",n)},params:{name:e.name,connectionId:Object(d["b"])("DATAFILES_SPACES_ENABLED")&&t?t.id:void 0},cancelToken:b.token}).then((function(){n(e)})).catch((function(e){var t,n;403===(null===(t=e.response)||void 0===t?void 0:t.status)?r(new Error(l["default"].get("UploadedFilesFolder.Error.ForbiddenUpload"))):413===(null===(n=e.response)||void 0===n?void 0:n.status)?r(new Error(l["default"].get("UploadedFilesFolder.Error.AvailableSpaceExceeded"))):e.response&&r(e)})).finally((function(){p["a"].unsubscribe("datafile/upload/cancel",E)}))}));return n}function O(e,t){p["a"].subscribe("datafile/upload/cancel",E);if(Object(d["b"])("DATAFILES_USE_CHUNKED_UPLOAD"))return T(e,t);return D(e,t)}function L(e,t,n,r){var i=new Promise((function(i,a){var s=function e(t,n){var r=t/Math.max(Math.max(n,t),1);p["a"].publish("datafile/upload/progress",r)};var c=function(){var s=m(regeneratorRuntime.mark((function s(c){return regeneratorRuntime.wrap((function s(u){while(1)switch(u.prev=u.next){case 0:p["a"].publish("datafile/upload/progress",1);o.a.put(w("api/v1/qix-datafiles/".concat(encodeURIComponent(e))),null,{headers:{"Content-Type":void 0},params:{name:r,connectionId:Object(d["b"])("DATAFILES_SPACES_ENABLED")&&n?n.id:void 0,tempContentFileId:c.split("/").pop()}}).then((function(){i(t)})).catch((function(e){var t,n,r;403===(null===(t=e.response)||void 0===t?void 0:t.status)?a(new Error(l["default"].get("UploadedFilesFolder.Error.ForbiddenUpload"))):423===(null===(n=e.response)||void 0===n?void 0:n.status)?a(new Error(l["default"].get("UploadedFilesFolder.Error.FileInUse"))):413===(null===(r=e.response)||void 0===r?void 0:r.status)?a(new Error(l["default"].get("UploadedFilesFolder.Error.AvailableSpaceExceeded"))):e.response&&a(e)})).finally((function(){k()}));case 2:case"end":return u.stop()}}),s)})));return function e(t){return s.apply(this,arguments)}}();A(t,s,c)}));return i}function M(e,t,n,r){var i=new Promise((function(i,a){var c=new FormData;b=o.a.CancelToken.source();c.append("data",t);o.a.put(w("api/v1/qix-datafiles/".concat(encodeURIComponent(e))),c,{headers:{"Content-Type":void 0},transformRequest:s["default"].identity,onUploadProgress:function e(t){var n=t.loaded/Math.max(Math.max(t.total,t.loaded),1);p["a"].publish("datafile/upload/progress",n)},params:{name:r,connectionId:Object(d["b"])("DATAFILES_SPACES_ENABLED")&&n?n.id:void 0},cancelToken:b.token}).then((function(){i(t)})).catch((function(e){var t,n,r;403===(null===(t=e.response)||void 0===t?void 0:t.status)?a(new Error(l["default"].get("UploadedFilesFolder.Error.ForbiddenUpload"))):423===(null===(n=e.response)||void 0===n?void 0:n.status)?a(new Error(l["default"].get("UploadedFilesFolder.Error.FileInUse"))):413===(null===(r=e.response)||void 0===r?void 0:r.status)?a(new Error(l["default"].get("UploadedFilesFolder.Error.AvailableSpaceExceeded"))):e.response&&a(e)})).finally((function(){p["a"].unsubscribe("datafile/upload/cancel",E)}))}));return i}function P(e,t,n,r){p["a"].subscribe("datafile/upload/cancel",E);if(Object(d["b"])("DATAFILES_USE_CHUNKED_UPLOAD"))return L(e,t,n,r);return M(e,t,n,r)}function N(e){var t=s["default"].defer();var n=s["default"].getService("$http");n.delete(w("api/v1/qix-datafiles/".concat(encodeURIComponent(e)))).then((function(){t.resolve(true)}),(function(e){403===e.status?t.reject({message:l["default"].get("UploadedFilesFolder.Error.ForbiddenDelete")}):423===e.status?t.reject({message:l["default"].get("UploadedFilesFolder.Error.DeleteFileInUse")}):t.reject(e.data)}));return t.promise}function R(e,t,n,r){var i=s["default"].getService("$http");var a={};r&&""!==r&&(a.appId=r);a.top=1e3;a.connectionId=Object(d["b"])("DATAFILES_SPACES_ENABLED")&&n?n.id:void 0;return i.get(w("api/v1/qix-datafiles"),{params:a}).then((function(e){return{files:e.data,folders:[]}}))}function F(){var e={};var t=s["default"].defer();var n=s["default"].getService("$http");n.get(w("api/v1/qix-datafiles/quota"),{params:e}).then((function(e){t.resolve(e.data)}),(function(){t.reject()}));return t.promise}var _=(new XMLHttpRequest).upload;function j(){return _}function B(e){return this.isDatafilesConnection(e)}function V(e,t){if(!e||!e.name)return false;if(Object(d["b"])("DATAFILES_SPACES_ENABLED")){if(t)return t===e.space&&"qix-datafiles.exe"===e.type.provider;return!e.space&&"qix-datafiles.exe"===e.type.provider}return"MyDataFiles"===e.name}function H(e){if(!e||!e.connectionString||!e.type)return false;return"qix-datafiles.exe"===e.type.provider}t["a"]={isDefaultUploadConnection:V,isDatafilesConnection:H,isFileUploadEnabled:B,isFileUploadSupported:j,uploadFile:O,updateFile:P,deleteFile:N,listFolder:R,getFolderInfo:F,preUploadValidateFile:S,__for_unit_test_startKeepAlive:I,__for_unit_test_stopKeepAlive:k}},pdRV:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("6uJb");var o=n("SrgQ");var s=n("4nJ1");t["a"]={activatePopover:l,createPlaceHolder:u,getMultiPopoverItems:d,openMultiStatePopover:f,getAllStatesFromSelections:p,getAllSelectionsInStates:h,groupSelectionsByField:v,openListboxPopover:m,getIndexByKey:g,getDisplayStateName:c};function l(e,t,n,r,i,a){return e.showField(t,r.model.app.enigmaModel,n,{qStateName:a},(function(){r.activeFieldName="";i((function(){r.closeTooltip()}),100)}))}function c(e){return e===o["a"].DEFAULT_STATE_NAME?a["default"].get(o["a"].DEFAULT_STATE_TRANSLATION):e}function u(e,t,n){e.isPlaceHolder=true;e.active=false;e.qLocked=false;e.feedbackActive=false;e.translation="";e.qTotal=0;e.qStateCounts=0;t&&(e.qField=t);n&&(e.name=n);return e}function d(e,t){e=e||[];var n=e.filter((function(e){return e.qField===t}))[0];var r=[];n&&n.states&&(r=n.states.map((function(e){e.isSingleState=true;e.displayStateName=c(e.stateName);return e})));return r}function f(e,t,n,r,i){var a=e.show({alignToElement:n,clear:i.clear,click:i.click,onClose:i.onClose,openTooltip:i.openTooltip,closeTooltip:i.closeTooltip,handleKeyDown:i.handleKeyDown,getItems:t,brightCurSel:r});return a}function p(e,t){t=t||null;var n=[];t&&(e=e.filter((function(e){return e.qField===t})));e.forEach((function(e){e.states?e.states.forEach((function(e){n.push(e.stateName)})):n.push(e.stateName)}));n=s["a"].unique(n);return n}function h(e){var t=[];(e.selectionsInStates||[]).forEach((function(e){e.qSelectionObject.qSelections.forEach((function(t){t.stateName=e.stateName}));t=t.concat(e.qSelectionObject.qSelections)}));return t}function v(e){var t={};e.forEach((function(e){var n=t[e.qField];n=n||{states:[],qField:e.qField};n.states.push(e);t[e.qField]=n}));var n=Object.keys(t).map((function(e){var n=t[e];var r=n.states;if(1===r.length){n=n.states[0];n.isSingleState=true;n.isDefaultState="$"===r[0].stateName}else n.name=r[0].name;return n}));return n}function m(e,t,n,r,a,o,s){if(n)return e(s.listboxPopoverServiceMobile,a,o,t,s.$timeout,r).catch((function(e){false}));return e(s.listboxPopoverService,a,o,t,s.$timeout,r).then((function(e){var n;e.closing.then((function(e){e&&!i()(e.target).closest(".current-selections-item").length>0&&(t.activeFieldName="");n=e})).catch((function(e){false}));e.closed.then((function(){if(t.onCloseFocusSelector){i()(t.onCloseFocusSelector).focus();t.onCloseFocusSelector=null}else t.activeFieldName&&i()('.item[data-csid="'.concat(t.activeFieldName,'"]')).find(".text").focus();e=null;n||(t.activeFieldName="")})).catch((function(e){false}));e.opened.catch((function(e){false}))})).catch((function(e){false}))}function g(e,t,n){if([void 0,null].includes(t)||[void 0,null].includes(n))throw new Error("unaccepted key or val ( key: ".concat(t,", val: ").concat(n,")"));var r=e.map((function(e){return e[t]}));return r.indexOf(n)}},plVp:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("NFdj");var o=n.n(a);var s=n("MGTR");var l=n("mWu2");var c=n("Z9ZH");var u=n.n(c);var d='<div class="qv-global-selections" ng-class="{\'toolbar\': toolbar, \'selection-toolbar-open\': selectionToolbarOpen, \'insights-active\': showInsights && selInsightsEnabled }">\n\t<div class="qv-gs-sections">\n\t<section class="qv-gs-section qv-gs-top" tid="globalSelections.topSection" ng-class="{\'qv-gs-section-margin\' : showInsights && !disableSelectionInsights}">\n\t\t<header class="qv-gs-header">\n\t\t\t<h2 ng-if="!hasStatesOtherThanDefault" q-translation="GlobalSelections.CurrentSelections"></h2>\n\t\t\t<h2 ng-if="hasStatesOtherThanDefault" q-translation="GlobalSelections.CurrentSelections.Default"></h2>\n\t\t\t<div class="show-insights-btn" ng-show="selInsightsEnabled && !showInsights && !disableSelectionInsights">\n\t\t\t\t<button tid="explore-selections-button" class="lui-button show-insights--button" ng-click="showInsightsPanel()">\n\t\t\t\t\t<span class="show-insights-icon">\n\t\t\t\t\t\t<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t\t\t\t\t\t<title>Artboard</title>\n\t\t\t\t\t\t\t<g id="Artboard" stroke="none" stroke-width="1" fill="#655dc6" fill-rule="evenodd">\n\t\t\t\t\t\t\t\t<g id="Group-2" fill="inherit">\n\t\t\t\t\t\t\t\t\t<g id="Group-Copy-3" fill-rule="nonzero">\n\t\t\t\t\t\t\t\t\t\t<path d="M10.9620972,0.750643211 C10.9620972,0.750643211 10.8070007,1.12957768 10.4968079,1.88744663 C11.4140419,2.2395379 12.2232973,2.75478161 12.9248523,3.31456155 C13.5547556,2.63583889 13.8697124,2.29697275 13.8697124,2.29697275 C14.3440727,1.8907983 15.1069946,2.53987466 14.6774203,3.11272337 C14.6774203,3.11272337 14.3890361,3.43861936 13.8122675,4.09041135 C13.8380573,4.11653943 13.8645887,4.14201012 13.8909091,4.16745229 C14.6909091,4.95316658 15.4181818,5.89602372 16,6.91745229 C15.4181818,7.93888086 14.6909091,8.88173801 13.8909091,9.66745229 C12.8987075,10.6265494 11.6065307,11.6261566 10.0143788,12.1136045 C10.1792778,10.0771339 12,9.94094327 12,6.97198721 L12,6.97198721 L12.0021429,6.91745229 L12.0021429,6.91745229 C12.0021429,6.47197169 11.9240544,6.04438317 11.7678775,5.65049613 C11.1854839,4.06909801 9.59274194,3.08236929 8,3.08236929 C6.35569372,3.08236929 4.71138743,4.13402207 4.17852661,5.80501781 C4.05989646,6.15537143 4.00071429,6.52963178 4.00071429,6.91745229 L4.001,6.941 L4,6.97198721 C4,9.87117219 5.73615298,10.7444656 5.97328986,12.1085819 C4.38604519,11.6204118 3.09844125,10.6237933 2.10909091,9.66745229 C1.30909091,8.88173801 0.581818182,7.93888086 0,6.91745229 C0.581818182,5.89602372 1.30909091,4.95316658 2.10909091,4.16745229 L2.1516157,4.12595975 C1.44911848,3.36689863 1.09786987,2.98736806 1.09786987,2.98736806 C0.7081604,2.45471426 1.41903687,1.77914663 1.96331787,2.25277944 C1.96331787,2.25277944 2.30887323,2.62639988 2.99998396,3.37364076 C3.65231397,2.84586008 4.3999172,2.35224156 5.2427418,1.99306284 C4.89162427,1.14373716 4.71572876,0.718294578 4.71572876,0.718294578 C4.52719054,0.122938614 5.3637876,-0.28403888 5.75643319,0.321270378 C5.75643319,0.321270378 5.90137297,0.666521938 6.19125253,1.35702506 L6.30622306,1.63088881 C6.83886646,1.49512921 7.40345561,1.41745229 8,1.41745229 C8.47745496,1.41745229 8.93443976,1.46721125 9.37095438,1.55687728 C9.73406494,0.704801248 9.91569799,0.278531037 9.91569799,0.278531037 C10.2129916,-0.270661013 11.1247657,0.0477144701 10.9620972,0.750643211 Z" id="Combined-Shape"></path>\n\t\t\t\t\t\t\t\t\t\t<path d="M5.59692383,7.08236929 C5.89692383,7.08236929 6.09692383,6.88236929 6.09692383,6.58236929 C6.09692383,6.28236929 6.29692383,5.88236929 6.59692383,5.58236929 C6.89692383,5.28236929 7.19692383,5.08236929 7.59692383,5.08236929 C7.89692383,5.08236929 8.09692383,4.88236929 8.09692383,4.58236929 C8.09692383,4.28236929 7.89692383,4.08236929 7.59692383,4.08236929 C6.99692383,4.08236929 6.39692383,4.38236929 5.89692383,4.88236929 C5.39692383,5.38236929 5.09692383,5.98236929 5.09692383,6.58236929 C5.09692383,6.88236929 5.29692383,7.08236929 5.59692383,7.08236929 Z" id="Path-Copy"></path>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t<path d="M6.5,13 L9.5,13 C9.77614237,13 10,13.2238576 10,13.5 L10,14 L10,14 L6,14 L6,13.5 C6,13.2238576 6.22385763,13 6.5,13 Z" id="Rectangle-Copy-5" transform="translate(8.000000, 13.500000) scale(1, -1) translate(-8.000000, -13.500000) "></path>\n\t\t\t\t\t\t\t\t\t<path d="M7.5,14.5002441 L8.5,14.5002441 C8.77614237,14.5002441 9,14.7241018 9,15.0002441 L9,15.5002441 L9,15.5002441 L7,15.5002441 L7,15.0002441 C7,14.7241018 7.22385763,14.5002441 7.5,14.5002441 Z" id="Rectangle-Copy-4" transform="translate(8.000000, 15.000244) scale(1, -1) translate(-8.000000, -15.000244) "></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="lui-button__text"  q-translation="ExploreSelections.ExploreSelectionsBtn"></span>\n\t\t\t\t</button></div>\n\t\t</header>\n\t\t<div class="qv-gs-no-selections" ng-if="selectedFields.length == 0">\n\t\t\t<div class="qv-gs-no-selections-content">\n\t\t\t\t<div class="qv-qs-no-selections-image"></div>\n\t\t\t\t<div class="qv-qs-no-selections-title" q-translation="GlobalSelections.NoSelections"></div>\n\t\t\t\t<div class="qv-qs-no-selections-body" q-translation="GlobalSelections.NoSelectionsBody"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div qv-global-select-section="{ itemSize: 220, itemSpacing: 20, type: \'fields\' }" all-items="selectedFields" app="app"></div>\n\t</section>\n\n\t<section class="qv-gs-section" tid="globalSelections.bottomSection" ng-class="{\'qv-gs-section-margin\' : showInsights && !disableSelectionInsights}">\n\t\t<header class="qv-gs-header">\n\t\t\t<h2 q-translation="GlobalSelections.AppDimensions"></h2>\n\t\t\t<lui-checkbox class="global-show-fields-checkbox" x-model="showFields" title="{{\'GlobalSelections.ShowFields\'|translate}}" tid="globalSelections.showFields">{{\'GlobalSelections.ShowFields\'|translate}}</lui-checkbox>\n      <div class="qv-gs-searchfield-container">\n\t\t\t  <lui-search  class="qv-gs-searchfield" placeholder="{{showFields ? \'GlobalSelections.FilterDimensionsAndFields\' : \'GlobalSelections.FilterDimensions\'}}" query="filter" maxlength="255"\n\t\t\t\t\t\t\t tid="globalSelections.searchField" on-escape="handleEscape($event)" auto-focus="autoFocus" on-enter="onEnter($event)"></lui-search>\n      </div>\n\t\t</header>\n\n\t\t<div class="qv-gs-info" ng-if="!dimAvailable && !showFields">\n\t\t\t<h2 q-translation="GlobalSelections.DimensionsWarning"></h2>\n\t\t</div>\n\t\t<div class="qv-gs-info" ng-if="showNoMatches">\n\t\t\t<h2 q-translation="GlobalSelections.NoMatchesForSearch"></h2>\n\t\t</div>\n\t\t<div qv-global-select-section="{ itemSize: 220, itemSpacing: 20, type: \'dimensions\'}" all-items="dimensionsFields" filter="filter" app="app"></div>\n\n\t</section>\n\t</div>\n\n\t<div tid="selection-insights-container" class="qv-insights-container" ng-if="selInsightsEnabled && showInsights && !disableSelectionInsights">\n\t\t<qv-selection-insights show-fields="showFields"></qv-selection-insights>\n\t</div>\n</div>\n';var f=n("G1wx");var p=n("3ex9");var h=n("TmCs");var v=n("sWge");var m=n("wIyQ");var g=n("JUQR");var b=n("8IgQ");var y=n("yIOy");var w=n("p+Qe");var S=n("PX8M");var x=n("5Hbw");var C=n("Uzwy");var q=n("kr+q");var E=n("5ezW");var I=n("9a/l");var k='<div class="qv-gs-scroll-container">\n\t<qv-scroll-area class="qv-gs-scroll-area">\n\t\t<div ng-if="scrollApi.loadPrevious" class="qv-gs-scroll-btn qv-gs-scroll-btn-previous" tid="globalSelections.loadPrevious">\n\t\t\t<qv-scroll-load-button tag="div" class="qv-listbox-load-buttons" on-load="scrollApi.gotoPreviousBlock()" text="Object.Listbox.LoadPrevious" previous="true"></qv-scroll-load-button>\n\t\t</div>\n\t\t<div ng-repeat="item in items" class="qv-gs-listbox">\n\t\t\t<qv-object ng-if="item.visible" model="item.model" options="item.options" object="item.object" class="qv-object-listbox" id="{{item.id}}"></qv-object>\n\t\t\t<div ng-if="!item.visible" class="qv-object qv-object-listbox qv-gs-placeholder" id="{{item.id}}">\n\t\t\t\t<h1 class="qv-object-title" qva-direction x-dir-text="{{item.title}}">\n\t\t\t\t\t<span class="qv-object-title-text" qva-direction x-dir-text="{{item.title}}">{{item.title}}</span>\n\t\t\t\t</h1>\n\t\t\t\t<div class="progress">\n\t\t\t\t\t<qv-rain></qv-rain>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<p ng-if="item.qField" q-title-translation="Common.Field" tid="globalSelections.fieldIndicator" class="qv-gs-field-indicator" qva-direction>\n\t\t\t\t<span class="lui-icon  lui-icon--field"></span>\n\t\t\t</p>\n\t\t\t<qv-gs-badge></qv-gs-badge>\n\t\t</div>\n\t\t<div ng-if="scrollApi.loadNext" class="qv-gs-scroll-btn" tid="globalSelections.loadNext">\n\t\t\t<qv-scroll-load-button tag="div" class="qv-listbox-load-buttons" on-load="scrollApi.gotoNextBlock()" text="Object.Listbox.LoadMore"></qv-scroll-load-button>\n\t\t</div>\n  </qv-scroll-area>\n\t<qv-scroll-loader loader="spinner" tag="li" class="qv-scroll-row-loader"></qv-scroll-loader>\n</div>\n';var A=n("8wLh");var T=n("KvOU");var D=n("UJnM");var O=n("4nJ1");var L=n("VFzL");var M=n("jaci");var P=n("xw0d");function N(e){N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return N(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function _(e,t,n){t&&F(e.prototype,t);n&&F(e,n);return e}function j(e,t,n){j="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=B(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return j(e,t,n||e)}function B(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=W(e);if(null===e)break}return e}function V(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&H(e,t)}function H(e,t){H=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return H(e,t)}function z(e){var t=G();return function n(){var r=W(e),i;if(t){var a=W(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return $(this,i)}}function $(e,t){if(t&&("object"===N(t)||"function"===typeof t))return t;return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function W(e){W=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return W(e)}var Q=function(e){V(n,e);var t=z(n);function n(e){var r;R(this,n);r=t.call(this,e);r.resetColumnIndex();return r}_(n,[{key:"resetColumnIndex",value:function e(){this.columnIndex=0}},{key:"setList",value:function e(t){this.list=t;this.scrollApi.setTotalRows(this.list.length);this.setItems(this.columnIndex,this.scrollApi.settings.blockSize);this.scrollApi.updateLoadingButtons()}},{key:"onInitialNativeScroll",value:function e(){return v["a"].resolve()}},{key:"onGotoNextBlock",value:function e(t,r){var i=this;var a=j(W(n.prototype),"onGotoNextBlock",this).call(this,t,r).then((function(){i.columnIndex=i.getFirstElementIndex()}));return a}},{key:"onGotoPreviousBlock",value:function e(t,r){var i=this;var a=j(W(n.prototype),"onGotoPreviousBlock",this).call(this,t,r).then((function(){i.columnIndex=i.getFirstElementIndex()}));return a}}]);return n}(P["a"]);var K=Q;var Y=n("7TTN");var J=n("MoEg");function Z(e){Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Z(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function te(e,t,n){t&&ee(e.prototype,t);n&&ee(e,n);return e}function ne(e,t,n){ne="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=re(t,n);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,n);if(a.get)return a.get.call(r);return a.value};return ne(e,t,n||e)}function re(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=ue(e);if(null===e)break}return e}function ie(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&ae(e,t)}function ae(e,t){ae=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return ae(e,t)}function oe(e){var t=ce();return function n(){var r=ue(e),i;if(t){var a=ue(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return se(this,i)}}function se(e,t){if(t&&("object"===Z(t)||"function"===typeof t))return t;return le(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function ue(e){ue=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return ue(e)}var de=function(e){ie(n,e);var t=oe(n);function n(){X(this,n);return t.apply(this,arguments)}te(n,[{key:"resetNativeScroll",value:function e(){this.$scrollArea.scrollLeft(0)}},{key:"alignToFirstRow",value:function e(){var t=this.getFirstRow();var n=t.children(".qv-object-wrapper").attr("id");var r=260;return function(){var e=i()(this.$scrollArea.find("#".concat(n)));var t;if(e.length>0){t=e.offset().left-r;this.$scrollArea.scrollLeft(t)}}.bind(this)}},{key:"alignToLastRow",value:function e(){var t=this.getLastRow();var n=t.children(".qv-object-wrapper").attr("id");var r=250;return function(){var e=i()(this.$scrollArea.find("#".concat(n)));var t;if(e.length>0){this.$scrollArea.scrollLeft(0);t=e.parent().position().left-this.getScrollAreaBoundingBox().width+e[0].getBoundingClientRect().width+r;this.$scrollArea.scrollLeft(t)}}.bind(this)}},{key:"getBoundingBox",value:function e(){var t=ne(ue(n.prototype),"getBoundingBox",this).call(this);return new J["a"](t.top,t.left,"100%",t.width)}}]);return n}(Y["a"]);var fe=de;var pe=n("Pz+M");function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function me(e,t,n){t&&ve(e.prototype,t);n&&ve(e,n);return e}function ge(e,t){while(e.length>t)e.pop()}var be=function(){function e(t,n){he(this,e);this.$scope=t;this.$timeout=n;this.selectionToolbarService=q["a"];this.$scope.items=[];this.$scope.options={direction:M["a"].direction};this.size={width:0,height:0};this.itemSize=0;this.itemSpacing=0;this.$element=void 0}me(e,[{key:"initialize",value:function e(t,n,r){this.setSize(n);this.setItemSize(r.itemSize);this.setItemSpacing(r.itemSpacing);this.setElement(t.find(".qv-gs-scroll-area"));this.setItems();this.initialized=true}},{key:"updateVisible",value:function e(){var t=this.offsetX-(this.$scope.scrollApi.loadPrevious?1:0);var n=this.visibleItemsCount;this.$scope.items.forEach((function(e,r){var i=r>=t&&r<t+n;!e.visible&&i&&(e.options={isPopOver:false,highlightTitle:true,direction:M["a"].direction});i&&!e.model&&this.getModel(e).then(function(e,t){e.model=t}.bind(null,e));e.visible=i}),this)}},{key:"getModel",value:function e(t){var n=this.getInitProps(t.title);var r;t.qField?r=A["a"].createTransientField(this.$scope.app,t.qField,n):t.qId&&(r=A["a"].createTransientDimension(this.$scope.app,t.qId,n));return r}},{key:"onScroll",value:function e(){var t=this;this.qvGlobalSelectionsCtrl.setIgnoreUpdates(false);this.selectionToolbarService.confirm();this.updateHighlights();this.$timeout.cancel(this.scrollTimeout);this.scrollTimeout=this.$timeout((function(){t.updateVisible();t.updateHighlights()}),100)}},{key:"onResize",value:function e(t){this.setSize(t);this.updateVisible()}},{key:"updateHighlights",value:function e(){this.$scope.items.forEach((function(e){e.options.highlightQuery=this.$scope.filter}),this)}},{key:"setItems",value:function e(){var t;var n;var r;var i=this.$scope;var a=this.totalItemsCount;i.items.length!==a&&ge(i.items,a);for(t=0;t<a;t++){n=i.items[t]||{};r=i.scrollApi.items[t];r.enableBadge&&(n.enableBadge=r.enableBadge);n.model||(n.options={isPopOver:false,highlightTitle:true,direction:M["a"].direction});if(r.qField){delete n.qId;if(!n.model||n.qField!==r.qField){if(n.visible){i.items[t]=O["a"].extend(true,{},n);n=i.items[t];delete n.$$hashKey;delete n.options.search}n.title=r.title;n.qField=r.qField;n.id=L["a"].sha256(n.qField);delete n.model}}else if(r.qId){delete n.qField;if(!n.model||n.qId!==r.qId){if(n.visible){i.items[t]=O["a"].extend(true,{},n);n=i.items[t];delete n.$$hashKey;delete n.options.search}n.title=r.title;n.qId=r.qId;n.id=L["a"].sha256(n.qId);delete n.model}}i.items[t]||(i.items[t]=n)}this.updateVisible()}},{key:"getInitProps",value:function e(t){var n={title:t,qListObjectDef:{qDef:{}}};T["a"].autoSortDimension(n.qListObjectDef);return n}},{key:"getWidthOf",value:function e(t){return this.totalItemSize*t-this.itemSpacing}},{key:"setItemSize",value:function e(t){this.itemSize=t||220}},{key:"setItemSpacing",value:function e(t){this.itemSpacing=t||20}},{key:"setSize",value:function e(t){this.size=t}},{key:"setElement",value:function e(t){this.$element=t;this.$element.on("scroll",this.onScroll.bind(this))}}]);return e}();Object.defineProperties(be.prototype,{vPosX:{get:function e(){return this.$element?this.$element.scrollLeft():0}},totalItemSize:{get:function e(){return this.itemSize+this.itemSpacing}},visibleItemsCount:{get:function e(){var t=Math.ceil(((this.vPosX+(this.previousBtnVisible?240:0))%this.totalItemSize+this.size.width)/this.totalItemSize);return Math.min(t,this.totalItemsCount+(this.previousBtnVisible?1:0))}},totalItemsCount:{get:function e(){return(this.$scope.scrollApi.items||[]).length}},offsetX:{get:function e(){return Math.floor(this.vPosX/this.totalItemSize)}},previousBtnVisible:{get:function e(){return!!this.$scope.scrollApi.loadPrevious}}});be.$inject=["$scope","$timeout"];l["default"].directive("qvGlobalSelectSection",["$parse","$timeout",function(e,t){return{controller:be,require:["qvGlobalSelectSection","^qvGlobalSelections"],template:k,replace:true,scope:{allItems:"=",filter:"=",app:"="},link:function n(r,i,a,o){var s=o[0];var l=o[1];var c=e(a.qvGlobalSelectSection)();var u={};var d=i.find(".qv-gs-scroll-area");var p=d.controller("qvScrollArea");var h=i.find(".qv-scroll-loader").controller("qvScrollLoader");var v={blockSize:24,minRowHeight:240,maxRowHeight:240,keepItemsCount:4,virtualScrollEnabled:false};var g=new D["a"](t,v);var b=new K(g);var y=new fe(i,d,".qv-gs-listbox",".qv-gs-listbox:first",".qv-gs-listbox:last");var w=null;var S=function e(){u.width=i.innerWidth();u.height=i.innerHeight();s.onResize(u)};r.scrollApi=g;s.qvGlobalSelectionsCtrl=l;g.initialize(y,b,p,h).then((function(){g.activate();g.updateViewport();r.$watch("filter",(function(){b.resetColumnIndex();g.resetNativeScroll()}));r.$watch("allItems",(function(e){if(!e)return;b.setList(e);w&&w();w=r.$watch("scrollApi.items",(function(){var t=!f["a"].treatAsDesktop();if(l.ignoreUpdates&&!t)return;if(0===g.items.length&&r.allItems.length>0){g.resetNativeScroll();b.resetColumnIndex();b.setList(e)}s.initialized&&s.setItems()}))}))})).catch((function(e){false}));t((function(){u.width=i.innerWidth();u.height=i.innerHeight();s.initialize(i,u,c)}));m["a"].on("end",S);r.$on("$destroy",(function(){m["a"].off("end",S);g.destroy()}));l.addCallback(c.type,(function(){s.$timeout((function(){s.setItems();s.$timeout((function(){s.updateHighlights()}))}))}))}}}]);var ye='<div class="qv-gs-badge" ng-if="item.showBadge" q-title-translation="Tooltip.clearSelection" tid="globalSelections.badge" ng-click="badgeClick(item)">\n\t<span class="lui-icon lui-icon--remove"></span>\n</div>\n';var we=n("Azxh");function Se(e,t){var n=t[2];l["default"].$apply(l["default"].$rootScope,(function(){e.item.showBadge=(void 0===t[0]||false===t[0])&&false===t[1]&&!n}))}l["default"].directive("qvGsBadge",[function(){return{restrict:"E",template:ye,replace:true,link:function e(t){if(t.item.enableBadge){t.item.object||(t.item.object={});t.$watchCollection("[item.model.layout.qListObject.qDimensionInfo.qLocked, item.object.selectionsApi.active, item.object.model.layout.qListObject.qDimensionInfo.qIsOneAndOnlyOne]",(function(e){Se(t,e)}));t.badgeClick=function(e){var t=new we["a"](e.model);return t.beginSelections().then((function(){return t.clearSelections().then((function(){return t.endSelections(true)}))}))}}}}}]);function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function qe(e,t,n){t&&Ce(e.prototype,t);n&&Ce(e,n);return e}var Ee=".globalSelections";var Ie=function(){function e(t){xe(this,e);var n=this;var r=x["a"].inClient();this.$scope=t;this.callbacks=[];this.ignoreUpdates=false;this.hasLoaded=false;t.dimensions=[];t.dimensionsFields=[];t.selectedFields=[];t.fields=[];t.dimAvailable=false;t.showFields=dt.getShowFields(t.app);t.showFieldsCheckbox=true;t.filter="";t.autoFocus=f["a"].treatAsDesktop();t.selectionToolbarOpen=false;t.showNoMatches=false;t.disableSelectionInsights=false;t.selInsightsEnabled=r;if(r){var a=localStorage.getItem("qv-global-selections-settings");S["a"].getApp().then((function(e){C["a"].isCreRunning().then((function(n){w["a"].load(e).then((function(){(w["a"].isVariableDefined("DISABLE_SELECTION_INSIGHTS")||!n||I["a"].isFeatureBlacklisted("selectionInsights"))&&(t.disableSelectionInsights=true);a&&!JSON.parse(a).open?t.showInsights=false:t.showInsights=true}))}))}))}t.handleEscape=function(e){if(t.filter&&t.filter.length>0){t.filter="";e.stopImmediatePropagation();e.preventDefault()}else dt.off()};function o(){localStorage.setItem("qv-global-selections-settings",JSON.stringify({open:t.showInsights}))}t.showInsightsPanel=function(){t.showInsights=true;o();s["a"].publish("selection/insights/show")};var l=function e(){t.showInsights=false;o();localStorage.setItem("qv-global-selections-settings",JSON.stringify({open:t.showInsights}))};s["a"].subscribe("selection/insights/close",l);t.$on("$destroy",(function(){s["a"].unsubscribe("selection/insights/close",l)}));v["a"].all({fields:this.getFields(),select:this.bindCurrentSelections(),dim:this.getLibraryDimensions(),reg:this.registerExtensions()}).then((function(){n.hasLoaded=true;t.showFieldsCheckbox=t.fields.length>0;t.dimAvailable=t.dimensions.length>0;if(!t.dimAvailable&&t.showFieldsCheckbox){t.showFields=true;dt.setShowFields(t.showFields,t.app)}t.$watch("filter",(function(){n.filterShown(n,n.$scope)}));t.$watch("showFields",(function(){dt.setShowFields(t.showFields,t.app);n.filterShown(n,n.$scope)}));i()(".qv-gs-section .qv-gs-header")[1].style.display="none";i()(".qv-gs-section .qv-gs-header")[1].style.display="flex"}))}qe(e,[{key:"registerExtensions",value:function e(){var t=new v["a"];b["a"].load().then((function(){t.resolve()}));return t.promise}},{key:"getFields",value:function e(){var t=this.$scope;return t.app.getFieldList().then((function(e){t.fields=h["a"].expand(e).map((function(e){return{title:e.qName,qField:e.qName,qTags:e.qTags}}))}))}},{key:"_updateCurrentSelectionFields",value:function e(t){var n=this;var r=this.$scope;r.selectedFields=t.qSelectionObject.qSelections.filter((function(e){return!e.qIsHidden})).sort(y["a"].sortSelections).map((function(e){return{title:e.qReadableName||e.qField,qField:e.qField,enableBadge:true}}));n.hasLoaded&&n.filterShown(n,r)}},{key:"handleCurrentSelectionFields",value:function e(){var t=this;this.$scope.currentSelectionsModel.getLayout().then((function(e){t._updateCurrentSelectionFields(e)}))}},{key:"bindCurrentSelections",value:function e(){var t=this.$scope;var n=this;return n.$scope.app.getCurrentSelectionObject().then((function(e){t.currentSelectionsModel=e;n.subscription=e.layoutSubscribe((function(e){if(t.app.isInModalSelection())return;n._updateCurrentSelectionFields(e)}))}))}},{key:"getLibraryDimensions",value:function e(){var t=this.isCalculatedField;var n=this.$scope;return n.app.getDimensionList().then((function(e){n.dimensions=e.filter((function(e){return e.qData.info.length>0&&!e.qData.info.some(t)&&"H"!==e.qData.grouping})).map((function(e){return{title:e.qData.labelExpression||e.qData.title,fieldName:e.qData.info[0].qName,qId:e.qInfo.qId}}))}))}},{key:"isCalculatedField",value:function e(t){return"="===t.qName[0]}},{key:"filterShown",value:function e(t,n){var r="";var i=[];n.dimensionsFields=n.dimensions.filter((function(e){return!n.selectedFields.some((function(t){return e.fieldName===t.qField}))}));if(n.showFields){i=n.fields.filter((function(e){return!n.selectedFields.some((function(t){return t.qField===e.qField}))}));i=g["a"].removeMeasureAndDetailsFields(i);n.dimensionsFields=n.dimensionsFields.concat(i.filter((function(e){return!n.dimensions.some((function(t){return e.qField===t.fieldName}))})))}if(n.filter.length>0){r=n.filter.toLowerCase();i=n.dimensionsFields.filter((function(e){var t=E["a"].string(e.title.toLowerCase());var n=E["a"].string(r);return-1!==t.indexOf(n)}));n.dimensionsFields=i}p["a"].localeOrderBy(n.dimensionsFields,(function(e){return e.title}));n.showNoMatches=0===n.dimensionsFields.length&&!this.ignoreUpdates&&n.filter.length>0;l["default"].$apply(n,(function(){t.notifyCallbacks(t)}))}},{key:"addCallback",value:function e(t,n){this.callbacks.push({type:t,fn:n})}},{key:"notifyCallbacks",value:function e(t){if(!t.hasLoaded)return;if(t.ignoreUpdates)return;t.callbacks.forEach((function(e){"fields"!==e.type&&"dimensions"!==e.type||e.fn()}))}},{key:"setIgnoreUpdates",value:function e(t){this.ignoreUpdates=t}}]);return e}();Ie.$inject=["$scope"];l["default"].directive("qvGlobalSelections",["$document","$timeout",function(e,t){return{restrict:"E",template:d,controller:Ie,require:["qvGlobalSelections"],scope:{app:"="},replace:true,link:function n(r,a,o,s){r.toolbar=!!e.find(".qui-toolbar,.qs-toolbar")[0];var l=s[0];var c=function e(){l.ignoreUpdates=false};var d=function e(){r.selectionToolbarOpen=false;t((function(){l.handleCurrentSelectionFields()}))};var f=function e(){r.selectionToolbarOpen=true};q["a"].Closed.bind(d);q["a"].Opened.bind(f);e.on("keyup".concat(Ee),(function(e){(27===e.which||13===e.which)&&(l.ignoreUpdates=false)}));y["a"].getSelectionStates(r.app).then((function(e){e.splice("$",1);r.hasStatesOtherThanDefault=e.length>0}));u()(e[0].body).tap({id:Ee,options:{preventDefault:false},start:function e(t){var n=i()(t.target).closest(".qv-gs-badge").length>0;var r=i()(t.target).closest(".qv-gs-listbox").length>0;var a=i()(t.target).closest(".qv-selection-toolbar").length>0;l.ignoreUpdates=r&&!n&&!a}});m["a"].on("start",c);r.$on("$destroy",(function(){l.callbacks=[];q["a"].Closed.unbind(d);q["a"].Opened.unbind(f);u()(e[0].body).off("*",Ee);e.off(Ee);m["a"].off("start",c);l.subscription&&l.subscription.dispose()}));r.onEnter=function(e){e.stopPropagation();e.target.blur()}}}}]);var ke='<qv-global-selections app="app"></qv-global-selections>';var Ae='<div class="qv-mobile-selections" tid="{{\'mobileSelections.showFields.\' + filter.showFields}}">\n\t<div class="qv-ms-toolbar">\n\t\t<p ng-click="selectionsBack()" ng-class="{\'qv-ms-button-disabled\' : disable.back, \'qv-ms-button-enabled\': !disable.back}" class="lui-icon lui-icon--selections-back qv-ms-toolbar-buttons" tid="mobileSelections.back" q-title-translation="Tooltip.NavigateBack"></p>\n\t\t<p ng-click="selectionsForward()" ng-class="{\'qv-ms-button-disabled\' : disable.forward, \'qv-ms-button-enabled\': !disable.forward}" class="qv-ms-toolbar-buttons lui-icon lui-icon--selections-forward" tid="mobileSelections.forward" q-title-translation="Tooltip.NavigateForward"></p>\n\t\t<p ng-click="selectionsClear()" ng-class="{\'qv-ms-button-disabled\' : disable.clear, \'qv-ms-button-enabled\': !disable.clear}" class="qv-ms-toolbar-buttons lui-icon lui-icon--clear-selections" tid="mobileSelections.clear" q-title-translation="Tooltip.ClearSelections"></p>\n\t\t<p ng-click="toggleMenu()" ng-class="{\'qv-ms-button-disabled\' : !enableMenu, \'qv-ms-button-enabled\': enableMenu, \'qv-ms-button-menu-active\': filter.showFields }" class="qv-ms-toolbar-buttons lui-icon\tlui-icon--settings" id="mobileSelectionsToggle" tid="mobileSelections.toggleFields" q-title-translation="{{toggleTooltip}}"></p>\n\n\t\t<qui-toolbarbutton ng-click="close($event)" name="close" class="qv-ms-toolbar-close" tid="mobileSelections.close">\n\t\t\t<span q-translation="Common.Close" class="qv-ms-toolbar-close-text"></span>\n\t\t</qui-toolbarbutton>\n\t</div>\n\t<header class="qv-ms-header">\n\t\t<h2 ng-if="!hasStatesOtherThanDefault" q-translation="GlobalSelections.CurrentSelections"></h2>\n\t\t<h2 ng-if="hasStatesOtherThanDefault" q-translation="GlobalSelections.CurrentSelections.Default"></h2>\n\t</header>\n\t<lui-search x-variant="inverse" class="qv-ms-searchbox" placeholder="{{filter.showFields ? \'GlobalSelections.FilterDimensionsAndFields\' : \'GlobalSelections.FilterDimensions\'}}" query="filter.filter" maxlength="255"\n\t\ton-enter="filter.onEnter($event)" tid="mobileSelections.searchfield">\n\t</lui-search>\n\t<div class="qv-ms-scroll-area">\n\t\t<qv-ms-selected ng-repeat="item in selectedFields"></qv-ms-selected>\n\t\t<div class="qv-ms-selectable" ng-if="filter.filter.length && (!selectables || selectables.length === 0)">\n\t\t\t<span q-translation="GlobalSelections.NoMatchesForSearch"></span>\n\t\t</div>\n\t\t<qv-ms-selectable ng-repeat="item in selectables"></qv-ms-selectable>\n\t</div>\n</div>\n';var Te=n("cWJj");var De=n("JbzQ");var Oe=n("k+Ch");var Le=n("sCDE");var Me=n("yRTf");var Pe=n("Hb6E");var Ne=n("oRXB");var Re=n("akA2");var Fe=n("Xb14");var _e='<div ng-click="showSelectable()" ng-class="{\'qv-ms-touch-flash\' : item.flash}" class="qv-ms-selectable" tid="mobileSelections.selectable">\n\t<span ng-if="item.isField" class="lui-icon  lui-icon--field"></span>\n\t<div class="qv-ms-highlight">\n\t\t<span qve-highlight text="{{item.title}}" query="filter.filter"></span>\n\t</div>\n</div>\n';l["default"].directive("qvMsSelectable",["$timeout",function(e){return{restrict:"E",replace:true,template:_e,link:function t(n){n.showSelectable=function(){n.item.flash=true;e((function(){n.$emit("showListbox",n.item);n.item.flash=false}),20)}}}}]);var je='<div class="qv-ms-selected" tid="mobileSelections.selected">\n\t<div class="qv-ms-selected-icon">\n\t\t<a ng-show="!item.qLocked && !item.qOneAndOnlyOne" ng-click="clear(item.qField)">\n\t\t\t<i class="lui-icon  lui-icon--remove"></i>\n\t\t</a>\n\t\t<a ng-show="item.qLocked" ng-click="showSelected(item.qField)">\n\t\t\t<i class="lui-icon lui-icon--lock"></i>\n\t\t</a>\n\t</div>\n\t<div ng-click="showSelected(item.qField)" class="qv-ms-selected-info" ng-class="{ \'no-icon\': item.qOneAndOnlyOne }">\n\t\t<h1 class="qv-object-title">{{item.qReadableName || item.qField}}</h1>\n\t\t<span>{{item.translation}}</span>\n\t\t<qv-state-count-bar state-counts="item.qStateCounts"></qv-state-count-bar>\n\t</div>\n</div>\n';l["default"].directive("qvMsSelected",[function(){return{restrict:"E",replace:true,template:je,link:function e(t){t.showSelected=function(){t.$emit("showListbox",t.item)};t.clear=function(e){t.currentSelectionsModel.clearField(e)}}}}]);function Be(e,t){var n="";var r=[];e.selectables=t.dimensions.filter((function(t){return!e.selectedFields.some((function(e){return t.qField===e.qField}))}));if(true===e.filter.showFields){r=t.fields.filter((function(t){return!e.selectedFields.some((function(e){return e.qField===t.qField}))}));r=g["a"].removeMeasureAndDetailsFields(r);e.selectables=e.selectables.concat(r.filter((function(e){return!t.dimensions.some((function(t){return e.qField===t.qField}))})))}if(e.filter.filter.length>0){n=e.filter.filter.toLowerCase();r=e.selectables.filter((function(e){return-1!==e.title.toLowerCase().indexOf(n)}));e.selectables=r}p["a"].localeOrderBy(e.selectables,(function(e){return e.title}));l["default"].$apply(e)}function Ve(e){return e.every((function(e){return e.qLocked}))}function He(e,t){var n=new v["a"];Te["a"].get().then((function(r){e.currentSelectionsModel=r;Object(Le["a"])(e,"currentSelectionsModel",(function(n){e.disable={clear:0===n.qSelectionObject.qSelections.length||Ve(n.qSelectionObject.qSelections),back:0===n.qSelectionObject.qBackCount,forward:0===n.qSelectionObject.qForwardCount};e.selectedFields=n.qSelectionObject.qSelections.filter((function(e){return!e.qIsHidden})).sort(y["a"].sortSelections);e.selectedFields.forEach((function(e){e.translation=Ne["a"].translate(e)}));t.hasLoaded&&Be(e,t)}));n.resolve()}));return n.promise}function ze(e){var t=function e(t){return"="===t.qName[0]};var n=new v["a"];De["a"].getList().then((function(r){r.getLayout().then((function(r){e.dimensions=r.filter((function(e){return e.qData.info.length>0&&!e.qData.info.some(t)&&"H"!==e.qData.grouping})).map((function(e){return{title:e.qData.title,qField:e.qData.info[0].qName,qId:e.qInfo.qId}}));n.resolve()}))}));return n.promise}function $e(e){var t=new v["a"];Oe["a"].getList().then((function(e){return e.getLayout()})).then((function(n){e.fields=n.map((function(e){return{title:e.qName,qField:e.qName,qTags:e.qTags,isField:true}}));t.resolve()}));return t.promise}var Ue=["$scope",function(e){var t={hasLoaded:false,dimensions:[],fields:[]};e.filter={};S["a"].getApp().then((function(n){e.app=n;e.selectedFields=[];e.filter.filter="";e.filter.showFields=dt.getShowFields(n);e.filter.onEnter=function(e){e.stopPropagation();e.target.blur()};e.selectables=[];e.enableMenu=true;e.disable={clear:false,back:false,forward:false};Fe["a"].close();v["a"].all({selectionsDfd:He(e,t),dimensionsDfd:ze(t),fieldsDfd:$e(t)}).then((function(){t.hasLoaded=true;e.enableMenu=t.fields.length>0;if(t.dimensions.length<=0&&e.enableMenu){e.filter.showFields=true;dt.setShowFields(e.filter.showFields,n)}e.$watch("filter",(function(){Be(e,t)}),true)}))}))}];l["default"].directive("qvMobileSelections",[function(){return{restrict:"E",template:Ae,controller:Ue,replace:true,require:["qvMobileSelections"],scope:{},link:function e(t,n){var r;var i=function e(){n.find(".qv-ms-scroll-area").animate({scrollTop:0})};var a=Me["a"].createGroup("mobile-selections",0);a.registerKeys("enter",(function(){}));a.on();document.activeElement&&document.activeElement.blur();S["a"].getApp().then((function(e){y["a"].getSelectionStates(e).then((function(e){e.splice("$",1);t.hasStatesOtherThanDefault=e.length>0}))}));t.close=function(e){e.preventDefault();dt.toggleGlobalSelection(t.app);s["a"].publish(Pe["a"].Events.PubSub.RestoreSearchState)};t.selectionsBack=function(){t.disable.back||t.currentSelectionsModel.back()};t.selectionsForward=function(){t.disable.forward||t.currentSelectionsModel.forward()};t.selectionsClear=function(){t.disable.clear||t.currentSelectionsModel.clearAll()};t.toggleTooltip=t.filter.showFields?"GlobalSelections.HideFields":"GlobalSelections.ShowFields";t.toggleMenu=function(){t.filter.showFields=!t.filter.showFields;t.toggleTooltip=t.filter.showFields?"GlobalSelections.HideFields":"GlobalSelections.ShowFields";S["a"].getApp().then((function(e){dt.setShowFields(t.filter.showFields,e)}))};t.$on("showListbox",(function(e,a){var o={title:a.qReadableName||a.title,qListObjectDef:{qDef:{}}};var s=-1!==t.selectedFields.indexOf(a);var l=function e(){t.currentSelectionsModel.getLayout().then((function(e){var t;if(!s){t=e.qSelectionObject.qSelections.some((function(e){return a.qField===e.qField}));if(t){r.resolve();return}}r.reject()}))};var c=function e(t){r&&r.reject();r=new v["a"];r.promise.then(i);n.children(".qv-ms-searchbox").find("input").blur();Re["a"].show(t,{showLock:true},l)};S["a"].getApp().then((function(e){a.qField?A["a"].createTransientField(e,a.qField,o).then(c):A["a"].createTransientDimension(e,a.qId,o).then(c)}))}));t.$on("$destroy",(function(){r&&r.reject();a.delete()}))}}}]);var Ge="<qv-mobile-selections></qv-mobile-selections>";var We=n("z4LI");var Qe=n("B52N");var Ke=n("ZQDF");var Ye={};var Je=false;var Ze=null;var Xe=[];function et(e){if(!e)return Ye[0];return Ye[nt(e)]}function tt(e,t){Ye[nt(e)]=t}function nt(e){return e&&e.id?e.id.toUpperCase():""}function rt(e){function t(){var t=et(e);at(t)}function n(){var t=et(e);at(t);it(t)}return{$container:void 0,$app:e,$selectionCount:false,$showFields:false,getComponent:function e(){return Qe["default"].isSmallDevice?Ge:ke},setup:function e(){Qe["default"].ViewChanged.bind(n);We["a"].StateChanged.bind(t)},destroy:function e(){Qe["default"].ViewChanged.unbind(n);We["a"].StateChanged.unbind(t)}}}function it(e){var t=l["default"].getService("$document");e.$container=o.a.element("<div>");t.find("#global-selections-container").length>0?t.find("#global-selections-container").append(e.$container):t.find("body").append(e.$container);e.$container.showComponent(e.getComponent(),["$scope",function(t){t.app=e.$app}]);e.setup();s["a"].publish("/globalselections/open")}function at(e){if(e.$container){e.$container.remove();e.$container=void 0}Xe.forEach((function(e){e()}));e.destroy();s["a"].publish("/globalselections/close")}function ot(e){var t=et(e);if(!t){t=rt(e.enigmaModel);tt(e,t)}return t}function st(e){return e&&void 0!==e.$container}function lt(e){var t=Ke["a"].getCurrentSheetInfo();if(st(e)){We["a"].inInsightAdvisorView()||Ke["a"].closeAnalysisOverlay(t.sheetId,t.appId);at(e);i()("body").removeClass("qv-global-selections-enabled")}else{We["a"].inInsightAdvisorView()||Ke["a"].openAnalysisOverlay(t.sheetId,t.appId,We["a"].States.selections);i()("body").addClass("qv-global-selections-enabled");it(e)}ut()}var ct={toggleGlobalSelection:function e(t){lt(ot(t))},off:function e(){Object.keys(Ye).forEach((function(e){at(Ye[e])}))},isSelectActive:function e(t){var n=et(t);return!!(void 0!==t&&st(n))},getCaoActive:function e(){return Je},setCaoActive:function e(t){var n=l["default"].getService("$timeout");n((function(){Je=t;ut()}))},setCsShowCallback:function e(t){Ze=t},setCsShow:function e(t){Ze&&Ze(t)},setSelectionCount:function e(t,n){var r=ot(n);r.$selectionCount=t;s["a"].publish("/toolbar/invalidateMobileToolbar",t)},getSelectionCount:function e(t){var n=et(t)||{};return n.$selectionCount},setShowFields:function e(t,n){var r=ot(n);r.$showFields=t},getShowFields:function e(t){var n=et(t)||{};return!!n.$showFields},onClose:function e(t){"function"===typeof t&&Xe.push(t)}};function ut(){s["a"].publish("/toolbar/setContextItemsVisibility",ct.getCaoActive()||ct.isSelectActive())}var dt=t["a"]=ct},pnby:function(e,t,n){"use strict";var r=n("PX8M");var i=n("sWge");function a(e){return e?i["a"].resolve(e.enigmaModel):r["a"].getApp()}var o={};o.create=function(e,t){return a(t).then((function(t){return t.createStory(e).then((function(e){return e.createSlide().then((function(){return e}))}))}))};o.remove=function(e,t){return a(t).then((function(t){return t.destroyObject(e)}))};o.get=function(e,t){return a(t).then((function(t){return t.getObject(e)}))};o.getList=function(e){return a(e).then((function(e){return e.getStoryListObject()}))};t["a"]=o},q3TV:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n("kgeS"),a=n("C5K+"),o=n("yB4Y"),s=n("0/MV"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.updateTransformation=function(e,t){var n=this.indexOfTransformation(e,o.DSMTypes.Transformations.lookupGeoInfo);n>=0?(e.transformations[n]=t,this.updateCorrespondingGeoField(e,t)||this.handleRecommendation(t)):(e.transformations=e.transformations||[],e.transformations.push(t),this.handleRecommendation(t))},t.prototype.handleRecommendation=function(e){var t=this.targetTable,n=this.loadModel,r=t.getField(e.appliedTo[0]),i=t.getField(e.appliedTo[1]);if(r&&i){var s=i.name,l=r.name,c=i;if(r.classifications&&-1!==r.classifications.indexOf("longitude")){var u=s;s=l,c=r,l=u}if(0===t.getTransformRelatedFields(c,o.DSMTypes.Transformations.geoPoint,!1).length){var d=a.LoadModelHelpers.generateUniqueFieldName(n,s+"_"+l,t.data.id,!0);t.createTransformField(d.name,e,"geoPoint")}}},t.prototype.updateCorrespondingGeoField=function(e,t){var n=this.findCorrespondingGeoField(e);return n&&(n.transformations=[t]),!!n},t.prototype.findCorrespondingGeoField=function(e){var t=new s.LoadModelUtils(this.targetTable);return t.findCorrespondingTransformedField(e.id,o.DSMTypes.Transformations.geoPoint)},t.prototype.indexOfTransformation=function(e,t){if(e.transformations)for(var n=0;n<e.transformations.length;++n)if(e.transformations[n].op===t)return n;return-1},t}(i.TransformationRecommendation);t.GeoPointRecommendation=l},q6LT:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("SOxp");var o=n("sWge");var s=n("7aeP");var l=n("4nJ1");var c=n("HHhT");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}var p={enabled:true,debouncing:{enabled:true,delay:50}};var h=function(){function e(t,n,r){u(this,e);var i=this;this.model=t;this.responseProperty=n;this.options={};this.setOptions({});this.setPath(r);this.throttle=new c["a"];this.throttle.Send.bind((function(e,t){i.model[i.method](i.path,e).then((function(e){t.resolve(e)}),(function(){t.reject()}))}));this._modelBinding=function(){i.clear()};this.model.Invalidated.bind(this._modelBinding)}f(e,[{key:"setMethodName",value:function e(t){this.method=t}},{key:"setPath",value:function e(t){this.path=t}},{key:"setOptions",value:function e(t){this.options=l["a"].extend(true,{},p,this.options,t);this.enabled=this.options.enabled||false;this.debouncing={enabled:this.options.debouncing.enabled||false,delay:this.options.debouncing.delay||-1}}},{key:"clear",value:function e(){this.throttle&&this.throttle.clear()}},{key:"destroy",value:function e(){this.throttle.destroy();this.model&&this.model.Invalidated&&this.model.Invalidated.unbind(this._modelBinding);this._modelBinding=null;delete this.model;delete this.throttle}},{key:"set",value:function e(){this.clear()}},{key:"getData",value:function e(t){if(!this.enabled)return this.model[this.method](this.path,t);return this.throttle.queue(t)}}]);return e}();var v=h;var m=a["a"].extend("BackendApi",{init:function e(t,n,r){this.model=t;this.localeInfo=t.app&&t.app.layout?t.app.layout.qLocaleInfo:{};this.path=n;n&&(this.dataPath=n.slice(1,-3));this.cacheCube=new s["a"](t,"qDataPages",this.path,r);this.backendStackThrottle=new v(t,"qDataPages",this.path)},setPath:function e(t){this.path=t;t&&(this.dataPath=t.slice(1,-3));this.cacheCube.setPath(t);this.backendStackThrottle.setPath(t)},setCacheOptions:function e(t){this.cacheCube.setOptions(t)},updateCache:function e(){},applyPatches:function e(t,n){return this.model.applyPatches(t,n)},clearSoftProperties:function e(){var t=this;return this.model.getLayout().then((function(e){if(e.qHasSoftPatches)return t.model.clearSoftPatches();return o["a"].resolve()}))},beginSelections:function e(){return this.model.app.switchModalSelection(this.model,this.path)},endSelections:function e(t){return this.model.app.switchModalSelection(null,null,t)},clearSelections:function e(t){t=t||0;return this.model.clearSelections(this.path,[t])},getDimensionInfos:function e(){if(!this.model.layout[this.dataPath].qDimensionInfo)return[];if(Array.isArray(this.model.layout[this.dataPath].qDimensionInfo))return this.model.layout[this.dataPath].qDimensionInfo;return[this.model.layout[this.dataPath].qDimensionInfo]},getMeasureInfos:function e(){return this.model.layout[this.dataPath].qMeasureInfo},getRowCount:function e(){return this.model.layout[this.dataPath].qSize.qcy},eachDataRow:function e(t){var n=this.model.layout[this.dataPath];var r=true;n&&i.a.each(n.qDataPages,(function(e,n){i.a.each(n.qMatrix,(function(e,i){r=t(n.qArea.qTop+e,i);return r}));return r}))},drillUp:function e(t,n){return this.model.drillUp(this.path,t,n)},hasSelections:function e(){var t=this.getDimensionInfos();for(var n=0;n<t.length;++n)if(t[n].qStateCounts.qSelected>0)return true;return false},inSelections:function e(){return this.model.layout.qSelectionInfo&&this.model.layout.qSelectionInfo.qInSelections},destroy:function e(){this.cacheCube.destroy();this.backendStackThrottle.destroy()},getSize:function e(){return this.model.layout[this.dataPath].qSize}});var g=t["a"]=m},qEw4:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function a(e,t,n){t&&i(e.prototype,t);n&&i(e,n);return e}var o=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];var s=arguments.length>5?arguments[5]:void 0;r(this,e);this.menuButtons=s||[];this.backendApi=t;this.selectionsApi=n;this.showMenu=i;this.showLock=a;var l=[];o&&o.length&&l.push({clazz:"sel-toolbar-separator",buttonClass:"sel-toolbar-icon-separator",isDisabled:function e(){return true},ariaHidden:true});l.push({name:"Tooltip.CancelSelections",tid:"selection-toolbar.undo",isIcon:false,iconClass:"lui-icon lui-icon--close",buttonClass:"sel-toolbar-cancel",actionSrMessage:"SelectionsToolbar.SelectionsCancelledSrMessage",action:function e(){this.selectionsApi.cancel()}});l.push({name:"Tooltip.ConfirmSelections",tid:"selection-toolbar.refresh",iconClass:"lui-icon lui-icon--tick",buttonClass:"sel-toolbar-confirm",actionSrMessage:"SelectionsToolbar.SelectionsConfirmedSrMessage",action:function e(){this.selectionsApi.confirm()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});this.buttons=o.concat(l)}a(e,[{key:"hasState",value:function e(t){if(!t)return true;var n=this.backendApi.getDimensionInfos();for(var r=0;r<n.length;++r)for(var i=0;i<t.length;++i)if(n[r].qStateCounts[t[i]]>0)return true;return false}}]);return e}();t["a"]=o},"qIU/":function(e,t,n){"use strict";var r=n("sWge");var i=n("4nJ1");function a(e,t){return{session:{currentApp:{getLayout:function e(){return r["a"].resolve(this.layout)}}},app:{layout:{qLocaleInfo:t}},state:1,layout:e,getLayout:function t(){return r["a"].resolve(e)},Invalidated:function e(){},layoutSubscribe:function t(n){n(e)}}}function o(e){e.qInfo||(e.qInfo={});e.qInfo.qId||(e.qInfo.qId=i["a"].generateId());e.qInfo.qType||(e.qInfo.qType=e.visualization||"unknown")}t["a"]={getMockedModel:a,fixInvalidSnapshotLayout:o}},qN0E:function(e,t,n){"use strict";var r=n("z4LI");var i={};i.resetHistory=function(){this.prevStoryId=null;this.prevSlideId=null;this.objectId=null;this.isViewingSource=false;this.sourceIndicationDone=false};r["a"].StateChanged.bind(a);function a(e,t,n){i.previousView=n}i.matchSource=function(e){var t=this.isViewingSource&&this.objectId===e&&!this.sourceIndicationDone;t&&(this.sourceIndicationDone=t);return t};Object.defineProperties(i,{prevStoryId:{writable:true},prevSlideId:{writable:true},prevState:{writable:true},objectId:{writable:true},isViewingSource:{writable:true,value:false},sourceIndicationDone:{writable:true,value:false},previousView:{writable:true}});t["a"]=i},qNTp:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},qSTF:function(e,t,n){"use strict";var r=n("sWge");var i=n("TLJm");var a=n("mWu2");var o=n("ISpZ");var s=n("5Pwf");var l=n("PX8M");var c=n("wvr8");var u=n("vhuL");var d=n("6uJb");var f=n("/2No");var p=n("Lj2P");var h=n("TMGN");var v=n("R/u5");var m=n("1S8k");var g=n("TsGx");var b=n("acVu");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),true).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function x(e){x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return x(e)}function C(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){C(a,r,i,o,s,"next",e)}function s(e){C(a,r,i,o,s,"throw",e)}o(void 0)}))}}var E=i["a"].NxLocalizedErrorCode;var I=2;var k;var A={};var T;var D;var O;var L={"qvrestconnector.exe":"rest","qvsalesforceconnector.exe":"sfdc","qvessbaseconnector.exe":"essbase","qvsapbapiconnector.exe":"sap-bapi","qvsapextractorconnector.exe":"sap-extractor","qvsapbexconnector.exe":"sap-bex","qvsapinfoproviderconnector.exe":"sap-infoprovider","qvsapsqlconnector.exe":"sap-sql"};Object(u["a"])().then((function(e){if("NONE"!==e.userDirectory){T=e.userId;D=e.userDirectory}}));var M={x:function e(){},y:""};function P(e){return e.substr(0,e.lastIndexOf("."))||e}function N(e){if(Object(b["b"])("REMOTE_CONFIG_ENABLED"))return e;var t=T?" (".concat(D.toLowerCase(),"_").concat(T.toLowerCase(),")"):"";return c["a"].endsWith(e,t)?e:e+t}function R(){return T&&D?" (".concat(D.toLowerCase(),"_").concat(T.toLowerCase(),")"):""}M.getUsernameSuffix=R;M.appendUsernameSuffix=N;function F(e){var t={};"CONNECT_64"===e?t.path=64:"CONNECT_32"===e&&(t.path=32);t.text=d["default"].get("Common.".concat(t.path,"bit"));return t}function _(e){if(e&&e.displayName)return e.displayName;return d["default"].get("scripteditor.dataconnectors.add.error.unknownconnector")}M.showConnectorErrorMessage=function(e){var t=o["a"].confirmAction({header:d["default"].get("scripteditor.dataconnectors.add.error.title",[_(e)]),content:"scripteditor.dataconnectors.add.error.message",moreContent:"scripteditor.dataconnectors.add.error.suggestion",confirmButtonTitle:"Go to help",declineButtonTitle:"Common.Close",showDeclineButton:true});t.resultPromise.then((function(){window.open("".concat(p["a"].path,"Troubleshooting_CustomConnector"))}))};M.hasCreatePrivileges=function(e,t){if("bdi"===t)return true;if(Object(b["b"])("REMOTE_CONFIG_ENABLED")){if("custom"===t)return true;if("internet"===t)return false}if(!e)return true;for(var n=0;n<e.length;n++)if(e[n].resource==="".concat(t,"connection"))return e[n].canCreate;return false};M.getDataconnectorTypes=function(){if(!O){var e=[{provider:"folder",type:"folder",isFolderConnector:true,displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main",needsConnect:false,isStandardConnector:true},{provider:"ODBC",type:"ODBC",displayName:"scripteditor.dataconnectors.ODBC",connectDialog:"scripteditor.views/odbcconnectdialog/odbcconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-odbc-connector/connector-main",needsConnect:true,isStandardConnector:true},{provider:"OLEDB",type:"OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",connectDialog:"scripteditor.views/oledbconnectdialog/oledbconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-oledb-connector/connector-main",needsConnect:true,isStandardConnector:true},{provider:"internet",type:"internet",displayName:"scripteditor.dataconnectors.webfile",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectDialog:"scripteditor.views/webfilechooser/webfilechooser",connectorMain:"assets/hldm/data-connectors/native-webfile-connector/connector-main",needsConnect:false,isStandardConnector:true},{provider:"BDI.exe",type:"BDI",displayName:"QBDI",selectDialog:"assets/hldm/data-connectors/bdi/bdi-select-dialog",connectDialog:"assets/hldm/data-connectors/bdi/bdi-connect-dialog",connectorMain:"assets/hldm/data-connectors/bdi/connector-main",needsConnect:true,isStandardConnector:true}];var t;t=h["a"].NOCONNECTOR?r["a"].when({qConnectors:[]}):s["a"].global.getCustomConnectors();O=t.then((function(t){var n=t.qConnectors||t.data.connectors;n=n.filter((function(e){return"BDI.exe"!==e.qProvider}));var r=n.map((function(e){var t;var n;var r={};var i={"qvwebconnectorpackage.exe":"IFRAME_CONNECTOR_QWC","qvrestconnector.exe":"IFRAME_CONNECTOR_REST","qvodbcconnectorpackage.exe":"IFRAME_CONNECTOR_ODBC","qvsalesforceconnector.exe":"IFRAME_CONNECTOR_SFC","qvessbaseconnector.exe":"IFRAME_CONNECTOR_ESSBASE","qvsapsqlconnector.exe":"IFRAME_CONNECTOR_SAPSQL","qvsapbapiconnector.exe":"IFRAME_CONNECTOR_SAPBAPI","qvsapextractorconnector.exe":"IFRAME_CONNECTOR_SAPEXTRACTOR","qvsapbexconnector.exe":"IFRAME_CONNECTOR_SAPBEX","qvsapinfoproviderconnector.exe":"IFRAME_CONNECTOR_SAPINFOPROVIDER"};var a={"qvsapbwconnector.exe":true,"qlikconnectorscommonservice.exe":true};if(Object(b["b"])(i[e.qProvider.toLowerCase()])||a[e.qProvider.toLowerCase()]){e.name=P(e.qProvider);t=v["a"].getInstance(e);t.architecture=F(e.machineMode);n="".concat(t.name,".webroot");r[n]="".concat(f["a"].rootPath,"customdata/64/").concat(t.name,"/web");window.requirejs.config.call(null,{paths:r});t.connectorMain="".concat(n,"/connector-main-iframe");return t}t={provider:e.qProvider||e.fileName,type:"custom",name:P(e.qParent||e.fileName),displayName:e.qDisplayName||e.displayName,connectDialog:e.qConnectDialog,selectDialog:e.qSelectDialog,needsConnect:e.qNeedsConnect,architecture:F(e.qMachineMode||e.machineMode),isStandardConnector:false,isIframeCompatible:false};if(!t.connectDialog){n="".concat(t.name,".webroot");r[n]="".concat(f["a"].rootPath,"customdata/").concat(t.architecture.path,"/").concat(t.name,"/web");window.requirejs.config.call(null,{paths:r});var o=e.streamingSupport||e.qSupportFileStreaming;t.connectDialog="".concat(n,"/connectdialog");t.selectDialog=true===o?"scripteditor.views/fileselectdialog/fileselectdialog":"".concat(n,"/selectdialog");t.connectorMain="".concat(n,"/connector-main");t.needsConnect=true!==o;t.isStorageProvider=o}if("qix-datafiles.exe"===t.provider)return{provider:"qix-datafiles.exe",type:"qix-datafiles.exe",isFolderConnector:true,displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main-datafiles",needsConnect:false,isStandardConnector:true};return t}));k=e.concat(r);k.forEach((function(e){A[e.provider]=e;A[e.displayName]=e}));A.file=A.folder;return k}))}return O};M.getDatasourceFromConnectionString=function(e,t){var n=0;var r=0;if("QvOdbcConnectorPackage.exe"===t){n=e.indexOf("driver=")+7;r=e.indexOf(";",n);return e.substring(n,r)}var i=e.indexOf("sourceType=");if(-1!==i){n=i+11;r=e.indexOf(";",n);return e.substring(n,r)}if(t)return L[t.toLowerCase()]||t.toLowerCase();return};M.getDatasourceFromConnection=function(e){var t;var n;if(e.datasourceID)return L[e.datasourceID.toLowerCase()]||e.datasourceID;var r=e.qType;var i=e.qConnectionString||e.qConnectStatement;n="custom"===(null===(t=A[r])||void 0===t?void 0:t.type)?M.getDatasourceFromConnectionString(i,r):r.toLowerCase();return n};M.getDataconnectorInstances=function(){var e=q(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,u;return regeneratorRuntime.wrap((function e(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return M.getDataconnectorTypes();case 2:f.next=4;return l["a"].getApp();case 4:n=f.sent;f.next=7;return n.getLayout();case 7:r=f.sent;f.prev=8;f.next=11;return m["a"].fetchConnections(r.id,r.spaceId);case 11:i=f.sent;f.next=18;break;case 14:f.prev=14;f.t0=f["catch"](8);console.error(f.t0);return f.abrupt("return",[]);case 18:a=i,o=a.qConnections,s=void 0===o?[]:o;u=s.filter((function(e){return"content-library"!==e.qType&&!(Object(b["b"])("DATAFILES_SPACES_ENABLED")&&"qix-datafiles.exe"===e.qType&&"MyDataFiles"===e.qName)})).map((function(e){var n=M.getDatasourceFromConnection(e);var r={name:e.qName,displayName:e.spaceName?"".concat(e.qName," (").concat(e.spaceName,")"):e.qName,id:e.qId||e.id,type:A[e.qType],typeName:e.qType,privileges:e.qMeta?e.qMeta.privileges:e.privileges,canDelete:true,sourceConnectorID:n,dataconnectorPrefix:e.dataconnectorPrefix?e.dataconnectorPrefix:"",isInAppSpace:e.isInAppSpace,spaceName:e.spaceName,space:e.space,connectionString:e.qConnectionString||e.qConnectStatement,hasEditableSeparatedCredentials:e.qSeparateCredentials&&Object(b["b"])("CREDENTIALS_SEPARATION")};t&&t(r,e);return r}));c["a"].sortSlightlyMoreNaturallyArray(u,"displayName",d["default"].language);return f.abrupt("return",u);case 22:case"end":return f.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}();M.getConnection=function(e){return m["a"].fetchConnection(e)};M.getLayout=q(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return l["a"].getApp();case 2:t=r.sent;r.next=5;return t.getLayout();case 5:n=r.sent;return r.abrupt("return",n);case 7:case"end":return r.stop()}}),e)})));M.getConnections=q(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return M.getLayout();case 2:t=i.sent;n=t.id;r=t.spaceId;return i.abrupt("return",m["a"].fetchConnections(n,r));case 6:case"end":return i.stop()}}),e)})));M.getServersideConnectorProxy=function(e,t,n){return function(){var i={};i.getConnections=M.getConnections;i.sendJsonRequest=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=s[0],u=s.slice(1);var d=u.map((function(e){return"object"===x(e)?JSON.stringify(e):e}));var f={qProvider:e,qMethod:c,qParameters:d,qCommand:"JsonRequest",qAppendConnection:n?"".concat(n.dataconnectorPrefix).concat(n.name):""};var p=new r["a"];var h=0;var v=function(){var e=q(regeneratorRuntime.mark((function e(n,r){var o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:o={};l.prev=1;l.next=4;return i.getApp().sendGenericCommandToCustomConnector(r);case 4:l.t0=l.sent;if(l.t0){l.next=7;break}l.t0={};case 7:s=l.t0;try{o=JSON.parse(s)}catch(e){console.error(e)}p.resolve(o);l.next=15;break;case 12:l.prev=12;l.t1=l["catch"](1);if(h<I&&l.t1.code===E.LOCERR_GENERIC_ABORTED){console.warn("Error loading connector, retrying: ".concat(t));a["default"].getService("$timeout")((function(){++h;v(n,r)}),500)}else{console.warn("Failed to load connector: ".concat(t));p.reject(l.t1)}case 15:return l.abrupt("return",o);case 16:case"end":return l.stop()}}),e,null,[[1,12]])})));return function t(n,r){return e.apply(this,arguments)}}();v(p,f);return p.promise};i.getApp=function(){return s["a"].currentApp};i.getDataSourceId=function(e){var t={"bdi.exe":"abdi"};var n=t[e.toLowerCase()];if(n)return n;return e};i.getUsernameSuffix=R;i.createNewConnectionAPI=function(){var e=q(regeneratorRuntime.mark((function e(t){var n,r,i,o,s,l,c,u,f,p,h,v,g,b,y,w,S,x,C;return regeneratorRuntime.wrap((function e(q){while(1)switch(q.prev=q.next){case 0:n=t.connectionName,r=t.connectionString,i=t.type,o=t.username,s=void 0===o?"":o,l=t.password,c=void 0===l?"":l,u=t.logonType,f=t.credentialsId,p=void 0===f?void 0:f,h=t.credentialsName,v=void 0===h?void 0:h,g=t.separateCredentials,b=void 0!==g&&g;n=N(n);y=!Number.isNaN(+n);if(!y){q.next=5;break}throw new Error(d["default"].get("dataconnectorservice.create.error.nonumber"));case 5:q.next=7;return M.getLayout();case 7:w=q.sent;S=M.getDatasourceFromConnectionString(r,i);x={connectionName:n,connectionString:r,username:s,password:c,ownerId:w.id,spaceID:w.spaceId,datasourceID:S,type:i,credentialsId:p,credentialsName:v,logonType:u,separateCredentials:b};q.next=12;return m["a"].createConnection(x);case 12:C=q.sent;a["default"].$rootScope.$broadcast("connectionListModified");return q.abrupt("return",C);case 15:case"end":return q.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();i.createCredentials=function(){var e=q(regeneratorRuntime.mark((function e(t,n,r,i,a){var o,s,l,c,u=arguments;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:o=u.length>5&&void 0!==u[5]?u[5]:void 0;s=u.length>6&&void 0!==u[6]?u[6]:void 0;l={credentialsName:t,type:n,datasourceId:r,username:i,password:a,connectionId:o,spaceId:s};d.next=5;return m["a"].createCredentials(l);case 5:c=d.sent;return d.abrupt("return",c);case 7:case"end":return d.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();i.modifyCredentials=function(){var e=q(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,s,l,c=arguments;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:a=c.length>4&&void 0!==c[4]?c[4]:void 0;o=c.length>5&&void 0!==c[5]?c[5]:void 0;s={credentialsId:t,credentialsName:n,username:r,password:i,connectionId:a,spaceId:o};u.next=5;return m["a"].modifyCredentials(s);case 5:l=u.sent;return u.abrupt("return",l);case 7:case"end":return u.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();i.getCredentials=function(){var e=q(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return m["a"].fetchCredentials(t);case 3:n=r.sent;r.next=9;break;case 6:r.prev=6;r.t0=r["catch"](0);return r.abrupt("return",null);case 9:return r.abrupt("return",n);case 10:case"end":return r.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();i.createCredentials=function(){var e=q(regeneratorRuntime.mark((function e(t,n,r,i,a){var o,s,l,c,u=arguments;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:o=u.length>5&&void 0!==u[5]?u[5]:void 0;s=u.length>6&&void 0!==u[6]?u[6]:void 0;l={credentialsName:t,type:n,datasourceId:r,username:i,password:a,connectionId:o,spaceId:s};d.next=5;return m["a"].createCredentials(l);case 5:c=d.sent;return d.abrupt("return",c);case 7:case"end":return d.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();i.modifyCredentials=function(){var e=q(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,s,l,c=arguments;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:a=c.length>4&&void 0!==c[4]?c[4]:void 0;o=c.length>5&&void 0!==c[5]?c[5]:void 0;s={credentialsId:t,credentialsName:n,username:r,password:i,connectionId:a,spaceId:o};u.next=5;return m["a"].modifyCredentials(s);case 5:l=u.sent;return u.abrupt("return",l);case 7:case"end":return u.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();i.getCredentials=function(){var e=q(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return m["a"].fetchCredentials(t);case 3:n=r.sent;r.next=9;break;case 6:r.prev=6;r.t0=r["catch"](0);return r.abrupt("return",null);case 9:return r.abrupt("return",n);case 10:case"end":return r.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();i.getCredentialsList=function(){var e=q(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;i={type:t,datasourceID:n};a.next=4;return m["a"].fetchCredentialsList(i);case 4:r=a.sent;a.next=10;break;case 7:a.prev=7;a.t0=a["catch"](0);return a.abrupt("return",null);case 10:return a.abrupt("return",r);case 11:case"end":return a.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();i.removeConnection=function(e){return m["a"].deleteConnection(e).then((function(){a["default"].$rootScope.$broadcast("connectionListModified")}))};i.getConnection=function(){var e=q(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return m["a"].fetchConnection(t);case 3:n=r.sent;r.next=9;break;case 6:r.prev=6;r.t0=r["catch"](0);return r.abrupt("return",false);case 9:return r.abrupt("return",n);case 10:case"end":return r.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();i.modifyConnection=function(){var e=q(regeneratorRuntime.mark((function e(t,n,r,o,s,l,c,u,d,f,p){var h,v,g,b,y;return regeneratorRuntime.wrap((function e(w){while(1)switch(w.prev=w.next){case 0:n=N(n);w.next=3;return i.getConnection(t);case 3:h=w.sent;v=h.qConnection;g=(null===v||void 0===v?void 0:v.datasourceID)?v.datasourceID:M.getDatasourceFromConnection(v);b=i.getDataSourceId(g);w.next=9;return m["a"].modifyConnection({id:t,connectionName:n,connectionString:r,username:l,password:c,type:o,logonType:u,overrideCredentials:s,datasourceID:b,spaceID:null===v||void 0===v?void 0:v.space,separateCredentials:d,credentialsId:f,credentialsName:p});case 9:y=w.sent;a["default"].$rootScope.$broadcast("connectionListModified");return w.abrupt("return",y);case 12:case"end":return w.stop()}}),e)})));return function(t,n,r,i,a,o,s,l,c,u,d){return e.apply(this,arguments)}}();i.createNewRawConnection=function(e,t,n){var r={connectionName:e,connectionString:t,type:n};return i.createNewConnectionAPI(r)};function o(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];var s=arguments.length>7?arguments[7]:void 0;var l=arguments.length>8?arguments[8]:void 0;var c={connectionName:e,connectionString:t,username:n,password:r,separateCredentials:o,credentialsName:s,credentialsId:l};return c}i.createNewConnection=function(){var e=o.apply(void 0,arguments);var t=e.connectionString;var n=/provider=([^;]*)/;var r=n.test(t)?t.match(n)[1]:void 0;return i.createNewConnectionAPI(w(w({},e),{},{type:r}))};i.createNewCredentialLessConnection=function(t,n,r,a,o,s){var l=/provider=([^;]*)/;var c=l.test(r)?r.match(l)[1]:void 0;return i.createNewConnectionAPI({username:a,password:o,provider:e,type:c,credentialsId:t,credentialsName:s,connectionName:n,connectionString:r})};i.getErrorContent=function(e){var t=e&&!Number.isNaN(+e.code)?e.code:0;var n=i.parseErrorParams(e.parameter);return d["default"].get("ErrorCode.".concat(t),n)};i.parseErrorParams=function(e){if(!e)return;var t=[];var n=/{\\?"([^}]+?)(?=\\?"})/g;e.replace(n,(function(e,n){t.push(n)}));if(0===t.length){var r=e.split(/ErrorMsg: ?([^\n\r.]+)/g)[1];r&&t.push(r)}return t};return i}()};t["a"]=M},qYY7:function(e,t,n){"use strict";var r=n("2Hli");var i=n("WFGH");var a=n("gl1R");var o=n("TmNk");var s=n.n(o);var l=n("DXLV");var c=n("4nJ1");function u(e){var t=c["a"].getValue(e,"qHyperCube.qMeasureInfo",[]);return!l["a"].isContinuousChart(e)&&s.a.limitedSorting({measures:t,layout:e})}var d={type:"items",translation:"properties.sorting",icon:"ascending",items:{sort:{uses:"sort",show:function e(t,n){return!l["a"].isContinuousChart(n)}},modifierDisclaimer:{component:"text",translation:"properties.modifier.sortingDisclaimer",show:function e(t,n){return u(n)}}}};var f=i["default"].getLogicFor("explore","default");var p;var h={translation:"properties.data",type:"items",component:"hypercube-data",icon:"database",items:{dimensions:{ref:"qHyperCubeDef.qDimensions",alternativeRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions",translation:"Common.Dimensions",type:"items"},measures:{ref:"qHyperCubeDef.qMeasures",alternativeRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",translation:"Common.Measures",type:"items"}}};var v={translation:"properties.sorting",type:"items",component:"sort",sortIndexRef:"qHyperCubeDef.qInterColumnSortOrder",icon:"ascending",items:{dimensions:{ref:"qHyperCubeDef.qDimensions",type:"items",items:{sortOptions:{component:"radio-list",type:"number",diffs:["qDef.qSortCriterias.0.qSortByExpression","qDef.qSortCriterias.0.qSortByNumeric","qDef.qSortCriterias.0.qSortByAscii"],options:function e(){return[{value:1,translation:"properties.sorting.ascending"},{value:-1,translation:"properties.sorting.descending"}]},setPropertyValue:function e(t,n){r["a"].setValue(t,"qDef.autoSort",false);r["a"].setValue(t,"qDef.qSortCriterias.0.qSortByExpression",0);r["a"].setValue(t,"qDef.qSortCriterias.0.qSortByNumeric",0);r["a"].setValue(t,"qDef.qSortCriterias.0.qSortByAscii",n)},getValue:function e(t){return 0===r["a"].getValue(t,"qDef.qSortCriterias.0.qSortByExpression",0)&&0===r["a"].getValue(t,"qDef.qSortCriterias.0.qSortByNumeric",0)?r["a"].getValue(t,"qDef.qSortCriterias.0.qSortByAscii",0):0}}}},measures:{ref:"qHyperCubeDef.qMeasures",type:"items",items:{sortOptions:{component:"radio-list",type:"number",ref:"qSortBy.qSortByNumeric",options:function e(){return[{value:1,translation:"properties.sorting.ascending"},{value:-1,translation:"properties.sorting.descending"}]}}}}}};var m={component:"items",translation:"properties.colorsAndLegend",icon:"palette",grouped:true,items:{mode:{component:"radio-list",type:"string",options:f.color.colorMode.options,diffs:["color.mode","color.auto"],setPropertyValue:function e(t,n){if("auto"===n)t.color.auto=true;else{t.color.auto=false;t.color.mode=n}f.color.colorBy.globalChange(t,null,"qHyperCubeDef.")},getValue:function e(t){return t.color.auto?"auto":t.color.mode}},dimension:{type:"items",show:function e(t){return!t.color.auto&&"byDimension"===t.color.mode},items:{colorScheme:{translation:"properties.colorScheme",type:"string",component:"item-selection-list",horizontal:true,showLabels:false,ref:"color.dimensionScheme",items:f.helpers.getDimensionSchemeOptions,show:function e(t,n){if(t.color&&"byDimension"===t.color.mode&&t.color.useDimColVal&&f.color.useDimColVal.show(t))return false;if(1===a["a"].getNumDimensions(t)&&a["a"].getNumMeasures(t)<=1){var r=a["a"].getDimensionLayouts(n)[0];return!(r&&r.qCardinal<=12)}return a["a"].getNumMeasures(t)<=1||a["a"].getNumMeasures(t)>12}},persistentColors:{ref:"color.persistent",translation:"properties.colorPersistence",type:"boolean",show:function e(t){return a["a"].getNumMeasures(t)<=1&&a["a"].getNumDimensions(t)<=1&&!(t.color&&"byDimension"===t.color.mode&&t.color.useDimColVal&&f.color.useDimColVal.show(t))},readOnly:f.color.persistentColors.readOnly}}},measure:{type:"items",show:function e(t){return!t.color.auto&&"byMeasure"===t.color.mode},items:{sequential:{component:"item-selection-list",translation:"properties.colorScheme",horizontal:true,showLabels:false,show:function e(t){if(true===t.color.useMeasureGradient)return false;return true},type:"string",ref:"color.measureScheme",items:f.helpers.getMeasureSchemeOptions}}},legend:{ref:"legend.show",type:"boolean",translation:"properties.legend.show",component:"switch",options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}],show:function e(t,n){return!t.color.auto&&f.legend.show(t,n)}}}};var g={translation:"properties.presentation",type:"items",icon:"view",grouped:true,items:{}};var b=t["a"]={data:h,sort:v,sortWithDisclaimer:d,color:m,colorsAndLegend:p,presentation:g}},qZHi:function(e,t,n){"use strict";var r={SPARK:1,XSMALL:3,SMALL:7,MEDIUM:15,FULL:31};var i=[[550,450,r.FULL],[400,220,r.MEDIUM],[300,150,r.SMALL],[150,75,r.XSMALL],[0,0,r.SPARK]];var a=[[450,r.FULL],[220,r.MEDIUM],[150,r.SMALL],[75,r.XSMALL],[0,r.SPARK]];var o=[[550,r.FULL],[400,r.MEDIUM],[300,r.SMALL],[150,r.XSMALL],[0,r.SPARK]];var s=i.length;function l(e,t){var n;for(n=0;n<s;++n)if(e>=i[n][0]&&t>=i[n][1])return i[n][2];return r.SPARK}function c(e){var t;for(t=0;t<s;++t)if(e>=a[t][0])return a[t][1];return r.SPARK}function u(e){var t;for(t=0;t<s;++t)if(e>=o[t][0])return o[t][1];return r.SPARK}function d(e){var t=Object.keys(r).filter((function(t){return r[t]===e}))[0];return t&&t.toLowerCase()||""}t["a"]={LayoutMode:r,getLayoutMode:l,getLayoutModeKey:d,getHorizontalLayoutMode:u,getVerticalLayoutMode:c}},qbMp:function(e,t,n){"use strict";var r=n("/5Yl");var i=n("hPNO");var a=n("kku5");var o=n("4nJ1");var s=n("mWu2");var l=n("d2hu");var c=n("6WTg");var u=n("HUnP");var d=n("NFdj");var f=n.n(d);var p=n("6uJb");var h=n("sCDE");var v=n("2Hli");var m='<div ng-show="!editing && displayValue == \'\'" class="qv-inline-edit-button">\n\t<div qva-direction x-dir-setting="{{dirSetting}}" class="add-content" q-title-translation="{{emptyTranslation}}">\n\t\t<span class="lui-icon lui-icon--plus"></span>\n\t\t<span class="add-text" qva-direction x-dir-text="{{addTranslation}}" title="{{addTranslation}}">{{addTranslation}}</span>\n\t</div>\n</div>\n<div qva-direction x-dir-setting="{{dirSetting}}" x-dir-text="{{displayValue}}" ng-show="!editing && displayValue != \'\'" class="qv-inline-edit-value">{{displayValue}}</div>\n<input qva-direction x-dir-setting="{{dirSetting}}" x-dir-text="{{displayValue}}" ng-show="editing" class="qv-inline-edit-input" type="text" ng-model="titleValue" qv-inline-title-input maxlength="255"/>\n';function g(e){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return g(e)}function b(e){if("object"===g(e)){e=e.qStringExpression.qExpr;"="!==e[0]&&(e="=".concat(e))}return e}function y(e){if(e&&0===e.indexOf("="))return{qStringExpression:{qExpr:e}};return e}s["default"].directive("qvInlineTitleInput",[function(){return{priority:1,require:"ngModel",link:function e(t,n,r,i){n.unbind("input keydown change compositionend");n.bind("blur",(function(){s["default"].$apply(t,(function(){i.$setViewValue(n.val());t.doEdit()}))}));t.$on("$destroy",(function(){n.trigger("blur")}));n.bind("keydown",(function(e){e.stopPropagation();if(27===e.which){n.val(i.$viewValue);n.trigger("blur")}else 13===e.which&&"textarea"!==n[0].nodeName.toLowerCase()&&n.trigger("blur")}))}}}]);s["default"].directive("qvInlineTitleEdit",["$timeout",function(e){return{template:m,restrict:"A",scope:{model:"=",propertyPath:"@",layoutPath:"@",emptyTranslation:"@",dirSetting:"@"},priority:1,link:function t(n,r){var i=r.children().first();var a=r.children().eq(1);var o=r.children().eq(2);n.editing=false;n.titleProperty="";n.titleValue="";n.addTranslation=p["default"].get(n.emptyTranslation);Object(h["a"])(n,"model",(function(e){n.displayValue=v["a"].getValue(e,n.layoutPath);n.editing=false}));var s;n.doEdit=function(){var e=y(n.titleValue);n.editing&&(f.a.equals(s,e)?n.editing=false:n.model.getProperties().then((function(t){v["a"].setValue(t,n.propertyPath,e);n.model.setProperties(t);s=e})))};i.add(a).on("qv-activate",(function(){n.editing||n.model.getProperties().then((function(t){var r=o.get(0);var i=v["a"].getValue(t,n.propertyPath);var a=b(i);var l=a.length;if(a.indexOf("\n")>-1)return;n.editing=true;n.titleProperty=i;n.titleValue=a;s=n.titleProperty;r.scrollLeft=r.scrollWidth;r.selectionStart=l;r.selectionEnd=l;e((function(){r.focus();r.setSelectionRange(l,l)}))}))}))}}}]);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function x(e,t,n){t&&S(e.prototype,t);n&&S(e,n);return e}function C(e,t){var n=o["a"].extend(true,{},i["a"],t);n.libraryInfo=e.getLibraryInfo();return n}function q(e){return l["a"].loadExtension(e).then((function(t){return C(e,t)}))}s["default"].componentDirective("qvaIncludeObject",{model:"=",ext:"=",options:"="});var E=function(){function e(t){w(this,e);var n=t.type;this.type=n;this.path=t.path;this.disableExport=t.disableExport;this.libraryInfo=a["a"].getLibraryInfo(n);this.components=t.components||[]}x(e,[{key:"getResourceUri",value:function e(){var t=this;this.remotePath=this.remotePath||new Promise((function(e){t.libraryInfo.url?e(t.libraryInfo.url):e(t.path)}));return this.remotePath}},{key:"getLibraryInfo",value:function e(){return this.libraryInfo}},{key:"getIconName",value:function e(){return this.libraryInfo.icon}},{key:"getIconChar",value:function e(){return this.libraryInfo.iconChar||"g"}},{key:"getIconPath",value:function e(){return this.libraryInfo.iconPath||"M14.5,9 L13,9 L13,3.3 C13,3.1 12.9,3 12.7,3 L8,3 L8,1.5 C8,0.7 7.3,0 6.5,0 C5.7,0 5,0.7 5,1.5 L5,3 L0.3,3 C0.1,3 0,3.1 0,3.3 L0,9 L1.5,9 C2.3,9 3,9.7 3,10.5 C3,11.3 2.3,12 1.5,12 L0,12 L0,15.7 C0,15.9 0.1,16 0.3,16 L5,16 L5,14.5 C5,13.7 5.7,13 6.5,13 C7.3,13 8,13.7 8,14.5 L8,16 L12.7,16 C12.9,16 13,15.9 13,15.7 L13,12 L14.5,12 C15.3,12 16,11.3 16,10.5 C16,9.7 15.3,9 14.5,9 Z"}},{key:"getModelCtor",value:function e(){return q(this).then((function(e){return e.Model}))}},{key:"getInitialProperties",value:function e(t){var n=this;return q(n).then((function(e){var i=o["a"].extend(true,{qInfo:{qType:n.type},visualization:n.type},e.initialProperties,t);if(e.libraryInfo.isThirdParty){e.libraryInfo.version&&!i.version&&(i.version=e.libraryInfo.version);i.extensionMeta=o["a"].extend(true,{},e.libraryInfo)}return r["a"].mapProperties(e.definition,i,n.type)})).catch((function(){return{qInfo:{qType:n.type},visualization:n.type}}))}},{key:"load",value:function e(){return q(this).then((function(e){e=o["a"].extend(true,{},e);"undefined"===typeof e.View&&(e.View=c["a"]);"undefined"===typeof e.controller&&(e.controller=u["a"]);return e}))}},{key:"getExtensionType",value:function e(){return q(this)}},{key:"supportExport",value:function e(){return true!==this.disableExport}}]);return e}();var I=t["a"]=E},qd1e:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("mWu2");var o='<div class="assets-search-panel" data-help="Library.Search">\n\n\t<div class="frame">\n\t\t<div class="lui-search" ng-class="{\'lui-search--inverse\': look == \'inverse\', \'assets-search-bright\': look == \'default\'}">\n\t\t\t<span class="lui-search__search-icon"></span>\n\t\t\t<input class="lui-search__input" maxlength="255" ng-model="rawQuery" spellcheck="false" type="text" q-placeholder="Common.Search" ng-trim="true" data-tid="search-input" />\n\t\t\t<button class="asset-search-panel-clear-search  lui-search__clear-button" ng-click="onClear();" ng-hide="!rawQuery" q-title-translation="Common.Clear">\n\t\t\t\t<span class="lui-icon  lui-icon--small  lui-icon--close"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n</div>\n';a["default"].directive("qvAssetsSearchPanel",[function(){return{restrict:"E",replace:true,scope:{query:"=",clearWhen:"=",look:"@"},template:o,link:function e(t,n){t.$watch("rawQuery",(function(e){0===i.a.trim(e).length?""!==t.query&&(t.query=""):t.query=e}));t.$watch("clearWhen",(function(e){e&&t.onClear()}));t.onClear=function(){t.rawQuery=""};var r=n.find("input");r.on("keydown",(function(e){if(27===e.which){t.onClear();t.$apply();e.stopPropagation()}else if(13===e.which){e.stopPropagation();r.blur()}}))}}}])},qdvy:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("sWge");var a=n("wIyQ");var o=n("mWu2");function s(e,t){var n=new i["a"];e.get(t).then((function(e){i["a"].all({properties:e.getProperties(),layout:e.getLayout?e.getLayout():i["a"].resolve()}).then((function(t){n.resolve({model:e,properties:t.properties,layout:t.layout})}))}));return n.promise}function l(e,t){e=e.map((function(e){return{name:e,matching:t&&r["a"].match(e,t)}}));e.sort((function(e,t){if(e.matching&&!t.matching)return-1;if(!e.matching&&t.matching)return 1;return e.name.localeCompare(t.name)}));return e}function c(e){var t=e.item;var n=e.query&&e.query.toLowerCase();var r=l(t.tags,n);return{query:n,name:t.name,tags:r}}function u(e,t,n,r){function i(){e(n);t()}return{action:i,icon:r.icon,disabled:r.disabled,title:r.title,tid:r.tid}}function d(e,t,n){return u(e,t,n,{icon:"bin",title:"Common.Delete",tid:"preview-delete-item"})}function f(e,t,n){return u(e,t,n,{icon:"reload",title:"Common.Refresh",tid:"preview-refresh-item"})}function p(e,t,n){return u(e,t,n,{icon:"lui-icon lui-icon--edit",title:"Common.Edit",tid:"preview-edit-item"})}function h(e,t,n){return u(e,t,n,{icon:"copy",title:"Common.Duplicate",tid:"preview-duplicate-item"})}function v(e,t,n,r,i){return u(e,t,n,{icon:"drop",title:r,tid:"preview-add-to-sheet",disabled:!i})}function m(e,t,n,r){return u(e,t,n,{icon:"drop",title:"library.addtosheet",tid:"preview-add-to-sheet",disabled:!r})}function g(e,t,n,r){return u(e,t,n,{icon:"expression",title:"contextMenu.addToMasterItems.AsMeasure",tid:"preview-add-as-measure",disabled:!r})}function b(e,t,n,r){return u(e,t,n,{icon:"box",title:"contextMenu.addToMasterItems.AsDimension",tid:"preview-add-as-dimension",disabled:!r})}function y(e,t,n,r){return u(e,t,n,{icon:"cogwheel",title:"field.settings.dialog.title",tid:"preview-field-settings",disabled:!r})}function w(e,t,n){return u(e,t,n,{icon:"code",title:"contextMenu.embed",tid:"7a71"})}function S(e,t){if(!t)return;e.alignTo=t;var n=e.alignTo.offset();var r=e.alignTo.parents("ul").outerWidth();var i=e.alignTo.outerHeight();var a=r+7;var o=i/2;e.offset={x:n.left+a,y:n.top+o};e.position="centerRight"}function x(e){var t;var n=null;var r;function i(i,o,l){t=false;r=i;function c(c){if(t)return;n=e.createPreview({item:i,query:o,modelInfo:c,$element:l,closePreview:function e(t){t&&"qv-outside"===t.type&&(r=null);s()}});e.itemDialogHandler.openPreview(n);a["a"].on("start.assets-preview",s);e.State.StateChanged.bind(s)}e.getSlowInfo?e.getSlowInfo(i).then((function(e){c(e)})):c()}function s(){if(n){n.close();e.itemDialogHandler.close();e.State.StateChanged.unbind(s);a["a"].off("start.assets-preview",s);n=null;if(r){r.selected=false;r=null;o["default"].$apply(o["default"].$rootScope)}}t=true}return{open:i,close:s}}t["a"]={buttonDelete:d,buttonEdit:p,buttonDuplicate:h,buttonAddTo:v,buttonAddToSheet:m,buttonAddMeasure:g,buttonAddDimension:b,buttonFieldSettings:y,buttonEmbed:w,buttonRefresh:f,alignPreview:S,getBasePreviewInfo:c,getItemInformation:s,previewManagerFactory:x}},qfyE:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("6uJb");var o='<lui-dialog x-variant="{{::variant}}" class="qv-confirm-dialog">\n\t<lui-dialog-header ng-if="input.title">\n\t\t<lui-dialog-title>{{input.title}}</lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body ng-if="input.icon">\n\t\t<div class="message">\n\t\t\t<span ng-if="input.icon" class="message-icon lui-icon lui-icon--{{input.icon}}"></span>\n\t\t\t<div class="body-message">{{input.message}}</div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-body ng-if="!input.icon" ng-bind-html="input.message"></lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button x-variant="{{::variant}}" ng-if="!input.hideCancelButton" tid="confirm-dialog-cancel" ng-click="close(false);">{{::cancelLabel}}</lui-button>\n\t\t<lui-button x-variant="{{::variant}}" tid="confirm-dialog-ok" ng-click="close(true);" qva-focus="true">{{::okLabel}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n';function s(e){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return s(e)}var l=i.a.module("qv.confirm-dialog",["leonardo-ui.dialog"]);l.service("qvConfirmDialog",["luiDialog",function(e){var t={};t.show=function(t){if("object"!==s(t))throw new Error("options must be an object");return e.show({controller:["$scope",function(e){e.okLabel=e.input.okLabel||a["default"].get("Common.OK");e.cancelLabel=e.input.cancelLabel||a["default"].get("Common.Cancel")}],template:o,input:{message:t.message,title:t.title,icon:t.icon,okLabel:t.okLabel,cancelLabel:t.cancelLabel,hideCancelButton:t.hideCancelButton},variant:t.variant,closeOnEscape:t.closeOnEscape})};return t}])},qpUu:function(e,t,n){"use strict";var r=n("GF7R");var i=n("acVu");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function s(e,t,n){t&&o(e.prototype,t);n&&o(e,n);return e}function l(e,t,n,r,i){var a=h(t,n,r);if("."===a.charAt(0)){t.shift();return e.apply(null,[l(e,t,n,r,i)].concat(i))}return a}function c(e,t,n,r,i,a){var o=p(""===t?null:t.split("."),i);return l(e,o,n,r,a)}var u={shift:function e(t,n){var i=new r["a"](t);var a=i.isDark()?parseInt(n,10):-parseInt(n,10);return new r["a"](i.shiftLuminance(a)).toHex()},fontSize:function e(t,n){var e=parseInt(t,10);e*=parseInt(n,10)/100;return"".concat(Math.ceil(e),"px")},inherit:function e(t){return t},alpha:function e(t,n){var i="transparent"===t.toLowerCase()?new r["a"]("rgba(0,0,0,0)"):new r["a"](t);i.setAlpha(n/100);return i.toRGBA()}};function d(e,t){var n=e;for(var r=0;r<t.length;r++){if(!n[t[r]])return null;n=n[t[r]]}return n}function f(e,t,n){var r=e.substring(1).split("(")[0];var i=/\(\s*([^)]+?)\s*\)/.exec(e);i=i&&i[1]?i[1].split(/\s*,\s*/):[];try{return c(u[r],t,n,this._theme,this._basePathSteps,i)}catch(e){console.warn("Could not execute function: ".concat(r,", function might not be implemented or arguments are incorrect."))}return}function p(e,t){var n=[];var r;var i;if(e){var a=e.length;while(a>=0){r=t.slice();i=r.length;while(i>=0){n.push(r.concat(e));r.pop();i--}e.pop();a--}}else{r=t.slice();i=r.length;while(i>=0){n.push(r.concat());r.pop();i--}}return n}function h(e,t,n){for(var r=0;r<e.length;r++){var i=d(n,e[r]);if(null!==i&&i[t])return i[t]}return}function v(e,t,n){var r;if(""===e)r=p(null,n);else{var i=e.split(".");r=p(i,n)}return h(r,t,this._theme)}var m=function(){function e(t,n,r){a(this,e);this._basePath=t;this._basePathSteps=t.split(".");this._theme=r;this._id=n;this.layoutMap={1:"spark",3:"xsmall",7:"small",15:"medium",31:"full",m:"mobile"}}s(e,[{key:"setTheme",value:function e(t,n){this._theme=n;this._id=t}},{key:"setBasePath",value:function e(t){this._basePath=t;this._basePathSteps=t.split(".")}},{key:"getStyle",value:function e(t,n,r,a){var o=this._theme._overrides;if(a&&o&&o[a]&&void 0!==o[a]["".concat(t,".").concat(n)])return o[a]["".concat(t,".").concat(n)];if("fontFamily"===n&&!Object(i["b"])("THEME_FONT_FAMILY"))return"QlikView Sans, sans-serif";var s=void 0===r||r;var l=y(g(this._id,this._basePath,t,n));if(s&&void 0!==l)return l;var c=this._basePathSteps.concat();var u=v.call(this,t,n,c);u&&u.charAt&&"."===u.charAt(0)&&(u=f.call(this,u,t,n));s&&u&&b(g(this._id,this._basePath,t,n),u);return u}},{key:"scaleFontSize",value:function e(t,n,r){if("string"===typeof n)switch(n){case"large":n=31;break;case"medium":n=15;break;case"small":n=7;break;case"tiny":n=1;break;default:n=15}var i={spark:1,xsmall:.9,small:.95,full:".discrete"===r?1:1.2};return i[this.layoutMap[n]]?"".concat(Math.floor(parseInt(t,10)*i[this.layoutMap[n]]),"px"):"".concat(parseInt(t,10),"px")}}]);return e}();function g(){var e="";for(var t=0;t<arguments.length;t++)arguments[t]&&arguments[t].length&&(e+=(""!==e?".":"")+arguments[t]);return e}m._cache={};function b(e,t){m._cache[e]=t}function y(e){return m._cache[e]}m.clearCache=function(){m._cache={}};t["a"]=m},qrwB:function(e,t,n){"use strict";var r=n("WCAk");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function o(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e}var s=r["a"].retriveColor(13816530);function l(e,t,n){var r;e=Math.min(Math.max(e,1e-12),.999999999999);if(n){var i=0;while(i<n.length&&n[i]<=e)i++;r=n.length-(i+(e-n[i-1])/(n[i]-n[i-1]))}else r=t-e*t;return r}function c(e){e=e||this._startLevel;return Math.min(e,this._colorParts.length-1)}function u(e){e.forEach((function(e){e.forEach((function(e){e.reverse()}));e.reverse()}))}var d=function(){function e(){i(this,e);this._colorParts=[];this._startLevel=0;this._reverse=false;this._max=1;this._min=0;this._span=1;this._invalidSpan=false}o(e,[{key:"addColorPart",value:function e(t,n,i){i=i||0;this._startLevel=Math.max(i,this._startLevel);this._colorParts[i]||(this._colorParts[i]=[]);this._colorParts[i].push([r["a"].retriveColor(t),r["a"].retriveColor(n)])}},{key:"setLimits",value:function e(t){if(!t){this._limits=null;this._expandedLimits=null;return}this._limits=t;this._expandedLimits=[0].concat(t,[1])}},{key:"setMaxMinValues",value:function e(t,n){if(!(t>=n)||Number.isNaN(+t)||Number.isNaN(+n))throw new Error("Incorrect arguments to color-scale->setMaxMinValues");this._max=t;this._min=n;this._span=t-n}},{key:"setReverse",value:function e(t){if(this._reverse!==t){this._reverse=t;u(this._colorParts)}}},{key:"getColor",value:function e(t,n){var i=0===this._span?.5:(t-this._min)/this._span;if(Number.isNaN(+t)||Number.isNaN(+i))return s;n=c.apply(this,[n]);var a=l(i,this._colorParts[n].length,this._expandedLimits);var o=Math.floor(a);o=o===a?o-1:o;var u=this._colorParts[n][o];var d=u[0];var f=u[1];if(t===this._min)return f;if(t===this._max)return d;var p=a-o;var h=r["a"].retriveBlend(d,f,p);return h}},{key:"getColors",value:function e(t){var n=[];var r;for(r=0;r<t.length;r++)n.push(this.getColor(t[r]));return n}},{key:"getSegmentIndex",value:function e(t){var n=c.call(this);var r=l(t,this._colorParts[n].length,this._expandedLimits);var i=Math.floor(r);i=i===r?i-1:i;return i}},{key:"getLegendParts",value:function e(t){var n=[];var r;t=c.apply(this,[t]);var i=this._colorParts[t].length;for(var a=0;a<i;++a){r=this._colorParts[t][a];var o={grad:r,color:r[0],solid:r[0]===r[1],index:a};this._expandedLimits&&(o.limits=[this._expandedLimits[i-a-1],this._expandedLimits[i-a]]);n.push(o)}return n}}]);return e}();d._limitFunction=l;t["a"]=d},qv86:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("PoH+");var o=n.n(a);var s=n("6uJb");function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function c(e){var t="fixedwidthguicontainer";var n="fixedwidthguicanvas";var r=10;var a=20;var c=20;var u=0;var d=325;var f="#000000";var p="#009900";var h="#9B9B9B";var v="#FF0000";var m;var g;var b=[];var y=[];var w;var S=e;function x(e){var r=i()("#".concat(n));if(0===b.length){r.hide();return}var a=25*(b.length+1);var o=0;for(var s in b){var l=b[s];o=Math.max(o,l.length)}o=10*o+50;o=Math.max(d,o);var c='<canvas id="'.concat(n,'" width="').concat(o,'" height="').concat(a,'"></canvas>');i()("#".concat(t)).html(c).ready((function(){setTimeout((function(){m=document.getElementById(n);if(!m)return;g=m.getContext("2d");g.font="12px monospace";m.addEventListener("mousemove",C);m.addEventListener("click",q);m.addEventListener("mouseout",E);r.show();e&&e()}),0)}))}x();function C(e){k(e)}function q(e){var t=L(m,e);var n=A(t.x);I(n);if(1===n)return;S&&S(y);w=e;k(w)}function E(){w=void 0;k()}function I(e){var t=[];var n=false;for(var r in y)y[r]===e?n=true:t.push(y[r]);n||t.push(e);if(0===t.length)y=[1];else{t.sort((function(e,t){return e-t}));y=t}}function k(e){if(!g)return;g.clearRect(0,0,m.width,m.height);D();for(var t in y){var n=y[t];var r=T(n);M(r,h)}if(e){var i=L(m,e);var a=A(i.x);var s=!o.a.contains(y,a);O(s,a,i.x,i.y,m.width);var l=T(a);M(l,s?p:v)}}function A(e){return Math.round(e/r)+1}function T(e){var t=(e-1)*r;t=Math.min(t,m.width);return t}function D(){g.fillStyle=f;for(var e in b){var t=b[e];for(var n=0;n<t.length;n++){var r=t.charAt(n);g.fillText(r,2+10*n,a+25*e)}}}function O(e,t,n,r,i){var a=330;var o=i-n;if(o<a){n-=a;n<0&&(n=-5)}var l=s["default"].get("scripteditor.fixedwidth.delimiter.".concat(e?"add":"remove"),t);g.beginPath();g.rect(c+n,u+r,20+7*l.length,30);g.fillStyle="white";g.fill();g.lineWidth=1;g.strokeStyle=e?p:v;g.stroke();g.fillStyle=e?p:v;g.fillText(l,c+10+n,u+20+r)}function L(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}function M(e,t){g.setLineDash&&g.setLineDash([6,3]);g.beginPath();g.moveTo(e+.5,0);g.lineTo(e+.5,m.height);g.strokeStyle=t;g.lineWidth=1;g.stroke()}this.setText=function(e){if(e.length>0){b=e;x((function(){k(w)}))}};this.setDelimiters=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error('Delimiters is not an array, but a "'.concat(l(e),'":').concat(e));for(var t in e){var n=e[t];if(!o.a.isNumber(n))throw new Error("".concat(n," is not a Number."))}y=e;k(w)}}function u(e){return new c(e)}t["a"]={invoke:u}},"r/uX":function(e,t){var n={};n.isObject=function e(t){return"object"===typeof t&&null!==t};n.isNumber=function e(t){return"number"===typeof t};n.isUndefined=function e(t){return void 0===t};n.isFunction=function e(t){return"function"===typeof t};function r(){r.init.call(this)}e.exports=r;r.EventEmitter=r;r.prototype._events=void 0;r.prototype._maxListeners=void 0;r.defaultMaxListeners=10;r.init=function(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0};r.prototype.setMaxListeners=function(e){if(!n.isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};r.prototype.emit=function(e){var t,r,i,a,o,s;this._events||(this._events={});if("error"===e&&!this._events.error){t=arguments[1];throw t instanceof Error?t:Error('Uncaught, unspecified "error" event.')}r=this._events[e];if(n.isUndefined(r))return false;if(n.isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=arguments.length;a=new Array(i-1);for(o=1;o<i;o++)a[o-1]=arguments[o];r.apply(this,a)}else if(n.isObject(r)){i=arguments.length;a=new Array(i-1);for(o=1;o<i;o++)a[o-1]=arguments[o];s=r.slice();i=s.length;for(o=0;o<i;o++)s[o].apply(this,a)}return true};r.prototype.addListener=function(e,t){var i;if(!n.isFunction(t))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",e,n.isFunction(t.listener)?t.listener:t);this._events[e]?n.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t;if(n.isObject(this._events[e])&&!this._events[e].warned){var i;i=n.isUndefined(this._maxListeners)?r.defaultMaxListeners:this._maxListeners;if(i&&i>0&&this._events[e].length>i){this._events[e].warned=true;n.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length);n.isFunction(console.trace)&&console.trace()}}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function(e,t){if(!n.isFunction(t))throw TypeError("listener must be a function");var r=false;function i(){this.removeListener(e,i);if(!r){r=true;t.apply(this,arguments)}}i.listener=t;this.on(e,i);return this};r.prototype.removeListener=function(e,t){var r,i,a,o;if(!n.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];a=r.length;i=-1;if(r===t||n.isFunction(r.listener)&&r.listener===t){delete this._events[e];this._events.removeListener&&this.emit("removeListener",e,t)}else if(n.isObject(r)){for(o=a;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){i=o;break}if(i<0)return this;if(1===r.length){r.length=0;delete this._events[e]}else r.splice(i,1);this._events.removeListener&&this.emit("removeListener",e,t)}return this};r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this}if(0===arguments.length){for(t in this._events){if("removeListener"===t)continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(n.isFunction(r))this.removeListener(e,r);else if(Array.isArray(r))while(r.length)this.removeListener(e,r[r.length-1]);delete this._events[e];return this};r.prototype.listeners=function(e){var t;t=this._events&&this._events[e]?n.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[];return t};r.listenerCount=function(e,t){var r;r=e._events&&e._events[t]?n.isFunction(e._events[t])?1:e._events[t].length:0;return r}},r3g4:function(e,t,n){"use strict";var r=n("2eMM");var i=n("xCba");var a=n("acVu");var o;(function(e){var t=[];var n=[i["a"].POINT,i["a"].CHART,i["a"].LINE,i["a"].DENSITY,i["a"].AREA,i["a"].GEODATA];e.LOCKED_QSTATE="L";e.EXCLUDED_QSTATE="X";e.NULL_ELEMNO=-2;e.OTHERS_ELEMNO=-3;function o(e){return Object(a["b"])(e)}e.isToggled=o;function s(e){t.push(e)}e.registerMapChart=s;function l(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}e.unregisterMapChart=l;function c(e){var n=null;t.forEach((function(t){t.id===e&&(n=t)}));return n}e.getMapChart=c;function u(e,t){for(var n=0;n<t.length;n++)if(t[n].dataset===e.getDataset())return t[n];return null}e.getLayerFromFeature=u;function d(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null}e.getLayerFromId=d;function f(e){var t=n.indexOf(e);return-1===t?9999:t}function p(e,t){h(e,t);var n=f(e.type);for(var r=0;r<t.length;r++)if(f(t[r].type)>=n){t.splice(r,0,e);return r}t.push(e);return t.length-1}e.insertLayer=p;function h(e,t){if("ChartLayer"===e.type||"DensityLayer"===e.type)return;var n=[6,9,3,7,8,10,4,2];if(!e.color||!(false===e.color.auto))return;var r=-1;for(var i=0;i<n.length;i++){var a=true;for(var o=0;o<t.length;o++){var s=t[o];if(s.color&&!s.color.auto&&"primary"===s.color.mode&&s.color.paletteColor.index===n[i]){a=false;break}}if(a){r=i;break}}-1===r&&(r=t.length%n.length);e.color.auto=false;e.color.mode="primary";e.color.paletteColor={index:n[r],color:"#ffffff"}}function v(e){var t=e.getAttribute("excluded");return void 0!==t&&false!==t}e.isExcluded=v;function m(e){var t=["AreaLayer","PointLayer","GeodataLayer","LineLayer","DensityLayer","ChartLayer"];return t.indexOf(e)>-1}e.validLayerType=m;function g(e){if(e.length>0&&"="!==e.charAt(0)&&"["!==e.charAt(0))return"["+e+"]";return e}e.bracketStringIfNeeded=g;function b(e){try{return y(idevio.Connection.version,e)>=0}catch(e){return false}}e.isWm5AtLeast=b;function y(e,t){void 0===e&&(e="");void 0===t&&(t="");var n=e.replace(/-.*$/,"").split(".");var r=t.replace(/-.*$/,"").split(".");for(var i=0;i<Math.max(n.length,r.length);i++){var a=(Number(n[i])||0)-(Number(r[i])||0);if(0!==a)return a}return 0}e.versionStringCompare=y;function w(e,t){var n=Array.isArray(t)?t.join("&"):t;if(0===n.length)return e;e=e.replace(/\?$/,"");return e+(-1===e.indexOf("?")?"?":"&")+n}e.addUrlParameters=w;function S(e,t){var n=e.gaLayers[t];var i=n.color;var a=i.byMeasureDef?i.byMeasureDef.activeMeasureIndex:void 0;var o=n.qHyperCubeDef.qDimensions;var s=o[o.length-1];var l=n.qHyperCubeDef.qMeasures;var c=!i.auto&&a>-1&&"byMeasure"===i.mode&&l.length>0;if(c){s.qAttributeExpressions=s.qAttributeExpressions.filter((function(e){return"colorByAlternative"!==e.id}));var u=i.byMeasureDef;u.activeMeasureIndex=Math.min(a,l.length-1);if(u.activeMeasureIndex>-1){var d=l[u.activeMeasureIndex];if(d.qLibraryId){u.type="measure";u.name=d.qLibraryId;u.id=d.qLibraryId}else{u.type="expression";u.name=d.qDef.qDef;u.label=d.qDef.qLabel||d.qDef.qDef}"measure"===u.type?i.byMeasureDef={label:u.name,key:u.id,type:"libraryItem",activeMeasureIndex:u.activeMeasureIndex}:"expression"===u.type&&(i.byMeasureDef={label:u.label||u.name,key:u.name,type:"expression",activeMeasureIndex:u.activeMeasureIndex})}}var f="gaLayers."+t+".qHyperCubeDef.";r["a"].updateColorDef(e,f,i);r["a"].updateHypercubeAttributes(e,f,i);c&&s.qAttributeExpressions.filter((function(e){return"colorByAlternative"===e.id})).forEach((function(e){return e.matchMeasure=a}));o.forEach((function(e){e.qAttributeDimensions.forEach((function(e){return e.qAttribute=false}));e.qAttributeExpressions.forEach((function(e){return e.qAttribute=false}))}))}e.updateColorDef=S;function x(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}e.escapeRegExp=x})(o||(o={}));t["a"]=o},r67N:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("NFdj");var o=n.n(a);var s=n("sWge");var l=n("mWu2");var c='<div class="lui-dialog error-dialog" on-close-view="closeView( $event )" qv-escape="handleEscButton( $event )" ng-style="modalStyle" tid="errorDialog">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title" ng-if="title" q-translation="{{title}}"></div>\n\t</div>\n\t<div class="lui-dialog__body dm-main">\n\n\t\t<main ng-if="!html">{{content | translate}}</main>\n\t\t<main ng-if="html" class="qv-appname"></main>\n\n\t</div>\n\n\t<div class="lui-dialog__footer">\n\t\t<lui-button qv-delayed-dialog-button ng-if="!buttons.length && showDefaultButton" ng-click="closeModal( $event, true );" qva-focus="true"\n\t\t\t\t\tq-translation="Common.OK" tid="confirm"></lui-button>\n\t\t<lui-button qv-delayed-dialog-button ng-repeat="button in buttons" qva-focus="button.defaultButton" ng-click="closeModal( $event );" ng-disabled="button.expression === false"\n\t\t\t\t\tq-translation="{{button.name}}" tid="{{button.tid}}"></lui-button>\n\t</div>\n</div>';var u={"max-height":"90%","max-width":"90%","min-height":"180px",width:"400px"};var d;var f=false;var p=false;l["default"].directive("qvDelayedDialogButton",[function(){return{replace:true,restrict:"A",link:function e(t){t.button&&t.button.defaultEscButton&&(d=t);t.closeModal=function(e,n){if(e){e.preventDefault();e.stopPropagation()}t.button&&t.button.callback&&("undefined"===typeof t.button.expression||t.button.expression)&&t.button.callback();(n||t.autoClose||t.button&&!t.button.callback)&&t.destroyModal()}}}}]);var h={};var v;var m;var g;var b;var y;var w={open:function e(t){var n=new s["a"];if(v){m=v;b=g}var r=l["default"].getService("$rootScope");v=r.$new();g=o.a.element('<div class="qv-modal-container qui-modalbackground-centered" qva-outside-ignore-for="allOutside" ng-style="containerStyle" ng-class="classes"></div>');v.containerStyle={content:" "};v.classes={};v.modalStyle={};for(var i in u)v.modalStyle[i]=u[i];v.wasDisabled=[];v.showDefaultButton=true;f=true;p=false;h=t;v.failed=false;v.autoClose=true;for(var a in h)v[a]=h[a];var w=l["default"].getService("$document");g.html(c).appendTo(w.find("body"));v.html&&g.find("main").append(v.html);var S=v.$watch("element",(function(){n.resolve();S()}));var x=l["default"].getService("$compile");y=x(g)(v);v.destroyModal=this.close.bind(this);v.handleEscButton=function(e){if(e){e.preventDefault();e.stopPropagation()}v.buttons&&d?d&&d.closeModal():v.destroyModal()};v.$broadcast("delayed-modal-opened");v.$watchCollection("[width, height]",(function(){v.width&&(v.modalStyle.width=v.width);v.height&&(v.modalStyle.height=v.height)}));return n.promise},update:function e(t){if(!f)return;for(var n in t){v[n]=t[n];h[n]=t[n]}if(t.html||t.buttons){var r=l["default"].getService("$document");var i=l["default"].getService("$compile");g.html(c);g.find("main").html(t.html);r.find("body").find(".qui-delayedModal").replaceWith(g.html());y=i(g)(v)}},close:function e(){if(v&&g){v.$broadcast("delayed-modal-closed");g.remove();v.$destroy();v=m||null;g=b||null;b=null;m=null}f=false;p=false},lock:function e(){p=true;v.wasDisabled.length=0;y.find("button, input, textarea, select").each((function(){var e=i()(this);e.prop("disabled")?v.wasDisabled.push(this):e.prop("disabled",true)}))},unlock:function e(){p=false;y.find("button, input, textarea, select").each((function(){-1===v.wasDisabled.indexOf(this)&&i()(this).prop("disabled",false)}));v.wasDisabled.length=0}};Object.defineProperty(w,"isOpened",{get:function e(){return f}});Object.defineProperty(w,"isLocked",{get:function e(){return p}});Object.defineProperty(w,"scope",{get:function e(){return v}});var S=t["a"]=w},rB9Y:function(e,t,n){"use strict";var r=n("5Pwf");var i=n("UbZW");var a=n.n(i);var o=n("sWge");var s={};function l(e){var t={};var n={keywords:[],keywordsAsLowerCase:[],functions:[],functionsAndCategories:[],notFunctions:[],bnfEntries:[],mapping:{}};function r(e){return e.replace(/\s+/g," ").replace(/\s+(\)|\]|,)/g,"$1").replace(/(\(|\[|,)\s+/g,"$1")}function i(){e.forEach(o);var t=[{qStr:"must_include",qBnfLiteral:true}];t.forEach(o)}function a(){n.functions.length<1&&i();function e(e,t){return{text:t,type:e}}var t=n.notFunctions.map(e.bind(null,"keyword"));var r=n.functions.map(e.bind(null,"function"));n.autocompleteList=t.concat(r)}function o(e){if(true===e.qBnfLiteral){-1===n.keywords.indexOf(e.qStr)&&n.keywords.push(e.qStr);if(e.qStr){n.keywordsAsLowerCase.push(e.qStr.toLowerCase());n.mapping[e.qStr.toLowerCase()]=e.qNbr;if(!e.qAggrFunc&&!e.qQvFunc){if(!e.qFieldFlag){-1===n.notFunctions.indexOf(e.qStr)&&n.notFunctions.push(e.qStr);t[e.qStr.toLowerCase()]="keyword"}}else{-1===n.functions.indexOf(e.qStr)&&n.functions.push(e.qStr);t[e.qStr.toLowerCase()]="function";n.functionsAndCategories.push({fglist:e.qFGList,func:e.qStr})}}}}function s(t){t=parseInt(t,10);if(n.bnfEntries[t])return n.bnfEntries[t];var r=e.filter((function(e){return parseInt(e.qNbr,10)===t}));n.bnfEntries[t]=r[0];return r[0]||false}function l(e){n.keywords.length<1&&i();e=e.toLowerCase();var t=n.mapping[e];return s(t)}function c(e){var t="";var n=s(e);e>=0&&e<=56?t=n.qStr||"":n&&(t=n.qStr||n.qName);return t}function u(e){if(e&&!e.signature){e.qBnf&&e.qBnf.length>0?e.signature=e.qBnf.map(c).join(" ").trim():e.qPNbr&&(e.signature=u(s(e.qPNbr)));e.signature=r(e.signature)}return e.signature||""}function d(){n.keywords.length<1&&i();return n.keywords}function f(){n.keywordsAsLowerCase.length<1&&i();return n.keywordsAsLowerCase}function p(){n.autocompleteList||a();return n.autocompleteList}function h(e){var t=l(e);return false!==t?u(t):""}function v(){return e.filter((function(e){return e.qHelpId&&e.qHelpId>0})).map((function(e){return e.qStr}))}function m(e){return"function"===t[e.toLowerCase()]}function g(e){var t;return(null===(t=l(e))||void 0===t?void 0:t.qAggrFunc)||false}function b(){return false}function y(){return false}function w(e){return!!t[e.toLowerCase()]}function S(){n.functions.length<1&&i();return n.functions}function x(){return n.functionsAndCategories}i();return{getBnfEntry:s,getLiteralString:c,getAllKeywords:d,getAllKeywordsAsLowerCase:f,getAutocompleteList:p,getKeywordsWithHelp:v,getSignatureFromKeyword:h,getFunctionTip:h,isFunction:m,isAggrFunction:g,isField:b,isKeyword:w,isVariable:y,getAllFunctions:S,getAllFunctionsAndCategories:x}}function c(e,t){var n="BNF_CACHE_DATA_".concat(e);var i="BNF_HASH_".concat(e);t=t||r["a"];return t.global.getBaseBNFHash(e).then((function(r){var s=r.qBnfHash;var c=new o["a"];var u=localStorage.getItem(i);var d=u===s;var f=d?localStorage.getItem(n):void 0;if(f)try{var p=JSON.parse(a.a.decompressFromUTF16(f));c.resolve(l(p));return c.promise}catch(e){}t.global.getBaseBNF(e).then((function(e){var t=e.qBnfDefs;localStorage.setItem(n,a.a.compressToUTF16(JSON.stringify(t)));localStorage.setItem(i,e.qBnfHash);c.resolve(l(t))}));return c.promise}))}function u(e){var t="BNF_STRING_CACHE_DATA_".concat(e);var n="BNF_STRING_HASH_".concat(e);return r["a"].global.getBaseBNFHash(e).then((function(i){var s=i.qBnfHash;var l=new o["a"];var c=localStorage.getItem(n);var u=c===s;var d=u?localStorage.getItem(t):void 0;if(d)try{var f=JSON.parse(a.a.decompressFromUTF16(d));l.resolve(f);return l.promise}catch(e){}r["a"].global.getBaseBNFString(e).then((function(e){var r=e.qBnfStr;localStorage.setItem(t,a.a.compressToUTF16(JSON.stringify(r)));localStorage.setItem(n,e.qBnfHash);l.resolve(r)}));return l.promise}))}function d(e,t){s[e]||(s[e]=c(e,t));return s[e]}function f(e){return u(e)}function p(){return d("S")}function h(e){return d("E",e)}function v(){return f("S")}t["a"]={createBnfModel:l,getReloadScriptBnfModel:p,getExpressionBnfModel:h,getScriptBnf:v}},rEeF:function(e,t,n){"use strict";var r=n("bmRg");var i=r["a"].get("deviceType",{value:"auto"}).value;t["a"]={deviceType:i}},rQnm:function(e,t,n){"use strict";var r=n("4nJ1");var i=n("AHUl");var a=n("sWge");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}var c=function(){function e(t){o(this,e);this._model=t}l(e,[{key:"setModel",value:function e(t){this._model=t}},{key:"saveSoftProperties",value:function e(t,n){if(!this._model)return a["a"].resolve(false);var o=i["a"].generate(t,n);r["a"].extend(true,t,n);if(o&&o.length){o=o.map((function(e){return{qOp:e.op,qValue:JSON.stringify(e.value),qPath:e.path}}));return this._model.applyPatches(o,true).then((function(){return true}))}return a["a"].resolve(false)}},{key:"mergeSoftPatches",value:function e(){if(!this._model)return a["a"].resolve();var t=this;return a["a"].all({properties:this._model.getProperties(),effective:this._model.getEffectiveProperties()}).then((function(e){if(e.properties.qExtendsId)return;var n=i["a"].generate(e.properties,e.effective);i["a"].apply(e.properties,n);t._model.setProperties(e.properties).then((function(){t._model.clearSoftPatches()}))}))}}]);return e}();t["a"]=c},rR8D:function(e,t,n){"use strict";var r=n("sWge");var i=n("6uJb");var a=n("5SH1");var o=n("pRs/");var s=n("iqy1");var l=n("PX8M");var c=n("M4qH");var u=n("acVu");function d(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){d(a,r,i,o,s,"next",e)}function s(e){d(a,r,i,o,s,"throw",e)}o(void 0)}))}}function p(e,t){return h.apply(this,arguments)}function h(){h=f(regeneratorRuntime.mark((function e(t,n){var i,s,c,d,f,p;return regeneratorRuntime.wrap((function e(h){while(1)switch(h.prev=h.next){case 0:i=Object(u["b"])("ELASTIC_DND")?o["a"].isDefaultUploadConnection:a["a"].isUploadFolderConnection;h.next=3;return l["a"].getApp();case 3:s=h.sent;h.next=6;return s.getLayout();case 6:c=h.sent;d=t.dataconnectorsModel.connections.map((function(e){return e.connectorInstance})).filter((function(e){return i(e,c.spaceId)}));f=d[0];p={connection:f,fileName:n};return h.abrupt("return",r["a"].resolve(p));case 11:case"end":return h.stop()}}),e)})));return h.apply(this,arguments)}function v(e,t){var n={loadModelEditor:e.newLoadModel.getDataconnectorSelectionEditor(t.connection),fileConnection:t};return c["a"].createNativeFileProvider(t.connection,n.loadModelEditor,{connectionName:t.name,singleFileName:t.fileName,usingExisting:true}).then((function(e){n.nativeFileProvider=e;return r["a"].all({connectionInfo:e.getConnectionInfo(),owners:e.getOwners(),databases:e.getDatabases()})})).then((function(e){n.connectionInfo=e.connectionInfo;n.owner=e.owners.filter((function(e){return e.qIsDefault}))[0];n.database=e.databases[0];if(!n.owner||!n.database)return r["a"].reject(new Error(i["default"].get("LoadTablesFromFiles.Error.UnsupportedFile",[t.fileName])));return n.nativeFileProvider.getTables(n.database.qName,n.owner.qName)})).then((function(e){n.tables=e.filter((function(e){return e.qName.indexOf("_FilterDatabase")<0}));var t=n.tables.map((function(e){var t={};return n.nativeFileProvider.getFields(n.database.qName,n.owner.qName,e.qName,t).then((function(n){e.qFormatSpec=t.qFormatSpec;e.fileFormatSettings=t.fileFormatSettings;return{table:e,fields:n}}))}));return r["a"].all(t)})).then((function(e){n.tablesAndFields=e;return n}))}function m(e){this.files=e}m.prototype.run=function(e){var t=[];var n=this.files.map((function(t){var n="ATTACHED"===t.connection?p(e,t.fileName):r["a"].resolve(t);return n.then((function(t){return v(e,t)}))}));return r["a"].all(n).then((function(n){return g(n).then((function(n){t=t.concat(n.info.newOrModified.map((function(e){return e.alias||e.name})));return{loadedTableNames:t,loadModel:e.existingLoadModel,addTableResults:n}}))}))};function g(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n];t.push({tablesAndFields:r.tablesAndFields,dbInfo:r.connectionInfo,connectionInfo:r.fileConnection.connection,databaseName:r.database.qName,ownerName:r.owner.qName})}return s["a"].get().then((function(e){return e.getRestService().then((function(e){return e.addTables(t).then((function(e){return e}))}))}))}t["a"]={createLoadDataFilesFlowForServer:function e(t){return new m(t)}}},rcQZ:function(e,t,n){"use strict";var r={type:"barchart",supportsDuplicateDimensions:true,encodings:[{key:"bars",classification:"dimension",path:"qHyperCubeDef.qDimensions.0.qDef.qFieldDefs.0",min:0,encodings:[{key:"height",classification:"measure",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.qDef",pseudoDim:true,min:1,max:15},{key:"groupStack",classification:"dimension",path:"qHyperCubeDef.qDimensions.$dimensionIndex.qDef.qFieldDefs.0"},{key:"color",classification:"dimension",path:"qHyperCubeDef.qDimensions.0.qDef.qAttrDims.0"}]}],analyses:[{analysis:"rank",dimensions:1,measures:1,score:5,encodings:[{key:"bars",classification:"dimension",index:"0"},{key:"height",classification:"measure",index:"0"}]},{analysis:"timeCycle",dimensions:1,measures:2,encodings:[{key:"bars",classification:"dimension",index:"0"},{key:"height",classification:"measure",indexRange:{start:0,end:1}}]},{analysis:"trend",dimensions:1,measures:1,score:101,criteria:function e(t){var n=t.getMetaDataForDimension(0);if(n)return n.qCardinal&&n.qCardinal<5&&n.qCardinal>1;return false},encodings:[{key:"bars",classification:"dimension",index:"0"},{key:"height",classification:"measure",index:"0"}]},{analysis:"ytdAnalysis",dimensions:2,measures:1,encodings:[{key:"bars",classification:"dimension",index:"0"},{key:"group",classification:"dimension",index:"1"},{key:"height",classification:"measure",indexRange:{start:0,end:1}}],adapt:function e(t){t.qHyperCubeDef.qDimensions[1].qNullSuppression=true}},{analysis:"countBasedRank",dimensions:1,measures:1,encodings:[{key:"bars",classification:"dimension",index:"0"},{key:"height",classification:"measure",index:"0"}]},{analysis:"breakdown",dimensions:1,measures:{min:2,max:15},encodings:[{key:"bars",classification:"dimension",index:"0"},{key:"height",classification:"measure",indexRange:{start:0,end:14}}]},{analysis:"breakdown",dimensions:2,measures:1,criteria:function e(t){var n=t.getMetaDataForDimension(0);if(n)return n.qCardinal&&n.qCardinal<13&&t.isPerfectHierarchy();return false},encodings:[{key:"bars",classification:"dimension",index:"1"},{key:"color",classification:"dimension",index:"0"},{key:"height",classification:"measure",index:"0"}]},{analysis:"breakdown",dimensions:2,measures:1,criteria:function e(t){return t.isPerfectHierarchy()},encodings:[{key:"bars",classification:"dimension",index:"1"},{key:"group",classification:"dimension",index:"0"},{key:"height",classification:"measure",index:"0"}]},{analysis:"breakdown",dimensions:1,measures:1,encodings:[{key:"bars",classification:"dimension",index:"0"},{key:"height",classification:"measure",index:"0"}]}]};var i=r;var a={type:"kpi",supportsDuplicateDimensions:true,encodings:[{key:"values",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.qDef",classification:"measure",min:1,max:2}],analyses:[{analysis:"fact",dimensions:0,measures:{min:1,max:2},score:15,encodings:[{key:"values",classification:"measure",indexRange:{start:0,end:1}}]}]};var o=a;var s=n("4nJ1");var l={type:"gauge",supportsDuplicateDimensions:true,encodings:[{key:"values",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.qDef",classification:"measure",min:1}],analyses:[{analysis:"fact",dimensions:0,measures:1,criteria:function e(t){var n=t.getMetaDataForMeasure(0);if(n){if(!t.hasOwnProperty("intermediateHyperCube")||t.intermediateHyperCube)return n.qMin>0&&n.qMax<1;if(n.classification&&"percentage"===n.classification)return true}return false},score:20,encodings:[{key:"values",classification:"measure",index:"0"}],adapt:function e(t){s["a"].setValue(t,"measureAxis.max",1);t.disclaimerClosed=true}}]};var c=l;var u={type:"scatterplot",supportsDuplicateDimensions:true,encodings:[{key:"dots",path:"qHyperCubeDef.qDimensions.0.qDef.qFieldDefs.0",classification:"dimension",min:1,encodings:[{key:"x-axis",classification:"measure",path:"qHyperCubeDef.qMeasures.0.qDef.qDef",min:1},{key:"y-axis",classification:"measure",path:"qHyperCubeDef.qMeasures.1.qDef.qDef",min:1},{key:"size",classification:"measure",path:"qHyperCubeDef.qMeasures.2.qDef.qDef"},{key:"color",classification:"dimension",path:"qHyperCubeDef.qDimensions.0.qDef.qAttrDims.0"},{key:"color",classification:"measure",path:"qHyperCubeDef.qDimensions.0.qAttributeExpressions.0"}]}],analyses:[{analysis:"comparison",dimensions:1,measures:{min:2,max:4},score:10,encodings:[{key:"dots",classification:"dimension",index:"0"},{key:"x-axis",classification:"measure",index:"0"},{key:"y-axis",classification:"measure",index:"1"},{key:"size",classification:"measure",index:"2"},{key:"color",classification:"measure",index:"3"}]},{analysis:"comparison",dimensions:2,measures:{min:2,max:3},criteria:function e(t){return t.isPerfectHierarchy()},score:10,encodings:[{key:"dots",classification:"dimension",index:"1"},{key:"color",classification:"dimension",index:"0"},{key:"x-axis",classification:"measure",index:"0"},{key:"y-axis",classification:"measure",index:"1"},{key:"size",classification:"measure",index:"2"}]}]};var d=u;var f={type:"linechart",supportsDuplicateDimensions:false,encodings:[{key:"linePoints",path:"qHyperCubeDef.qDimensions.0.qDef.qFieldDefs.0",classification:"dimension",min:1,encodings:[{key:"lines",classification:"dimension",path:"qHyperCubeDef.qDimensions.1.qDef.qFieldDefs.0"},{key:"position",classification:"measure",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.qDef",pseudoDim:true,min:1,max:15}]}],analyses:[{analysis:"trend",dimensions:1,measures:{min:1,max:4},encodings:[{key:"linePoints",classification:"dimension",index:"0"},{key:"position",classification:"measure",indexRange:{start:0,end:3}}]},{analysis:"trend",dimensions:2,measures:1,criteria:function e(t){if(!t.qSize)return false;var n=t.getMetaDataForDimension(1);if(n&&n.qCardinal>12)return false;var r=t.getMetaDataForDimension(0);var i=t.getMetaDataForDimension(1);var a=r.qCardinal*i.qCardinal;return a===t.qSize.qcy},encodings:[{key:"linePoints",classification:"dimension",index:"0"},{key:"lines",classification:"dimension",index:"1"},{key:"position",classification:"measure",index:"0"}],adapt:function e(t){t.lineType="area";t.stackedArea=true}},{analysis:"trend",dimensions:2,measures:1,criteria:function e(t){var n=t.getMetaDataForDimension(1);return n&&n.qCardinal<13},encodings:[{key:"linePoints",classification:"dimension",index:"0"},{key:"lines",classification:"dimension",index:"1"},{key:"position",classification:"measure",index:"0"}]}]};var p=f;var h={type:"table",supportsDuplicateDimensions:true,encodings:[{key:"columns",classification:"dimension",path:"qHyperCubeDef.qDimensions.$dimensionIndex.qDef.qFieldDefs.0",min:0,max:1e3},{key:"columns",classification:"measure",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.qDef",max:1e3}],analyses:[{analysis:"list",dimensions:{min:0,max:1e3},measures:{min:0,max:1e3},encodings:[{key:"columns",classification:"dimension",indexRange:{start:0,end:999}},{key:"columns",classification:"measure",indexRange:{start:0,end:999}}]}]};var v=h;var m={type:"piechart",supportsDuplicateDimensions:true,encodings:[{key:"slices",path:"qHyperCubeDef.qDimensions.0",classification:"dimension",min:1,encodings:[{key:"angle",path:"qHyperCubeDef.qMeasures.0",classification:"measure",min:1},{key:"radius",path:"qHyperCubeDef.qMeasures.1",classification:"measure"}]}],analyses:[{analysis:"rank",dimensions:1,measures:1,score:10,criteria:function e(t){var n=t.getMetaDataForDimension(0);var r=t.getMetaDataForMeasure(0);if(n&&n.qCardinal<13&&r&&r.aggregation&&"sum"===r.aggregation.toLowerCase()&&t.isSummable())return true;return false},encodings:[{key:"slices",classification:"dimension",index:"0"},{key:"angle",classification:"measure",index:"0"},{key:"radius",classification:"measure",index:"1"}]}]};var g=m;var b={type:"combochart",supportsDuplicateDimensions:false,encodings:[{key:"records",classification:"dimension",path:"qHyperCubeDef.qDimensions.0.qDef.qFieldDefs.0",min:1,encodings:[{key:"bars",classification:"measure",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.qDef"},{key:"lines",classification:"measure",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.series",min:1,max:15}]}],analyses:[{analysis:"trend",dimensions:1,measures:2,score:10,criteria:function e(t){function n(e){return Math.log(e)/Math.LN10}var r=t.getMetaDataForMeasure(0);var i=t.getMetaDataForMeasure(1);var a=Math.floor(n(r.qMax));var o=Math.floor(n(i.qMax));var s=Math.abs(a-o);return s>=1},encodings:[{key:"records",classification:"dimension",index:"0"},{key:"bars",classification:"measure",index:"0"},{key:"lines",classification:"measure",index:"1"}]},{analysis:"contribution",dimensions:1,measures:2,score:20,adapt:function e(t){var n=[{qSortByState:0,qSortByFrequency:0,qSortByNumeric:-1,qSortByAscii:-1,qSortByLoadOrder:-1,qExpression:{qv:t.qHyperCubeDef.qMeasures[0].qDef.qDef},qSortByExpression:-1,qSortByGreyness:0}];var r={qType:"R",qnDec:2,qUseThou:0,qFmt:"#,##0.00%",qDec:".",qThou:","};t.qHyperCubeDef.qDimensions[0].qDef.qSortCriterias=n;t.qHyperCubeDef.qMeasures[1].qDef.qNumFormat=r},encodings:[{key:"records",classification:"dimension",index:"0"},{key:"bars",classification:"measure",index:"0"},{key:"lines",classification:"measure",index:"1"}]}]};var y=b;var w={type:"treemap",supportsDuplicateDimensions:false,encodings:[{key:"blocks",classification:"dimension",path:["qHyperCubeDef.qDimensions.$dimensionIndex.qDef.qFieldDefs.0","qHyperCubeDef.qDimensions.$dimensionIndex.qDef.qFieldLabels.0"],min:1,max:15,encodings:[{key:"color",classification:"dimension",path:"qHyperCubeDef.qDimensions.0.qDef.qAttrDims.0"},{key:"size",classification:"measure",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.qDef",min:1},{key:"color",classification:"measure",path:"qHyperCubeDef.qDimensions.0.qDef.qAttrExps.0"}]}],analyses:[{analysis:"breakdown",dimensions:{min:2,max:15},measures:{min:1,max:2},criteria:function e(t){var n=t.getMetaDataForDimension(0);if(n&&n.qCardinal>12)return false;if(!t.isPerfectHierarchy())return false;var r=false;var i=t.getMetaDataForMeasure(0);var a=t.getMetaDataForMeasure(1);i&&i.qMin>=0&&(r=!a||a.qMin>=0);return r},score:10,encodings:[{key:"blocks",classification:"dimension",index:"0"},{key:"group",classification:"dimension",indexRange:{start:1,end:14}},{key:"size",classification:"measure",index:"0"},{key:"color",classification:"measure",index:"1"}]},{analysis:"breakdown",dimensions:2,measures:{min:1,max:2},criteria:function e(t){var n=t.getMetaDataForDimension(1);if(n&&n.qCardinal>12)return false;var r=t.getMetaDataForMeasure(0);var i=t.getMetaDataForMeasure(1);if(r&&r.qMin>=0)return!i;return false},encodings:[{key:"blocks",classification:"dimension",index:"1"},{key:"group",classification:"dimension",index:"0"},{key:"size",classification:"measure",index:"0"},{key:"color",classification:"measure",index:"1"}]}]};var S=w;function x(e){var t;e&&(e.qDef.qLabel?t=e.qDef.qLabel:e.qDef.qLabelExpression&&(t={qStringExpression:{qExpr:e.qDef.qLabelExpression}}));return t}function C(e,t,n){if(t.isFieldValue()||t.isExpressionValue()){s["a"].setValue(e,"size.expression.key",t.getExpression());s["a"].setValue(e,"size.label",x(n));s["a"].setValue(e,"size.expression.type","expression")}else if(t.isLibraryValue()){s["a"].setValue(e,"size.expression.key",t.getLibraryId());s["a"].setValue(e,"size.expression.label","");s["a"].setValue(e,"size.expression.type","libraryItem")}}var q={type:"map",supportsDuplicateDimensions:true,encodings:[{key:"points",classification:"dimension",min:1,encodings:[{key:"size",classification:"dimension"},{key:"color",classification:"measure"}]}],analyses:[{analysis:"polymapdistribution",dimensions:1,measures:{min:0,max:1},criteria:function e(){return true},score:100,encodings:[{key:"area",classification:"dimension",index:"0"},{key:"color",classification:"measure",index:"0"}]},{analysis:"pointmapdistribution",dimensions:1,measures:{min:0,max:2},criteria:function e(){return true},score:100,encodings:[{key:"points",classification:"dimension",index:"0"},{key:"custom",classification:"measure",index:"0",adapt:C},{key:"color",classification:"measure",index:"1"}]},{analysis:"geoAnalysis",dimensions:{min:1,max:2},measures:{min:0,max:2},criteria:function e(){return true},score:100,encodings:[{key:"area",classification:"dimension"},{key:"points",classification:"dimension"},{key:"color",classification:"measure",index:"0"},{key:"custom",classification:"measure",index:"1",adapt:C}]}]};var E=q;var I={type:"distributionplot",supportsDuplicateDimensions:false,encodings:[{key:"records",classification:"dimension",min:1,encodings:[{key:"bars",classification:"dimension"},{key:"lines",classification:"measure",min:1}]}],analyses:[{analysis:"overview",dimensions:{min:1,max:2},measures:1,criteria:function e(t){var n=false;var r=t.getMetaDataForDimension(0);var i=t.getMetaDataForDimension(1);r&&r.qCardinal<=500&&(i?i&&i.qCardinal<=500&&(n=true):n=true);return n},encodings:[{key:"records",classification:"dimension",index:"1"},{key:"bars",classification:"dimension",index:"0"},{key:"lines",classification:"measure",index:"0"}]}]};var k=I;var A={type:"boxplot",supportsDuplicateDimensions:true,encodings:[{key:"records",classification:"dimension",min:1,encodings:[{key:"bars",classification:"dimension"},{key:"lines",classification:"measure",min:1}]}],analyses:[{analysis:"overview",dimensions:{min:1,max:2},measures:1,criteria:function e(t){var n,r;if(null===t||void 0===t||null===(n=t.recAnalyses)||void 0===n||null===(r=n.matchRecord)||void 0===r?void 0:r.constraints)return false;var i=false;var a=t.getMetaDataForDimension(0);var o=t.getMetaDataForDimension(1);(a&&a.qCardinal>500||o&&o.qCardinal>500)&&(i=true);return i},encodings:[{key:"records",classification:"dimension",index:"1"},{key:"bars",classification:"dimension",index:"0"},{key:"lines",classification:"measure",index:"0"}]}]};var T=A;var D=n("Sug7");var O=n("Uzwy");var L={type:"histogram",supportsDuplicateDimensions:true,encodings:[{key:"values",path:"qHyperCubeDef.qDimensions.0.qDef.qFieldDefs.0",classification:"numeric dimension",min:1}],analyses:[{analysis:"values",dimensions:1,measures:0,criteria:function e(t){if(t&&t.recAnalyses&&t.recAnalyses.matchRecord){if(t.recAnalyses.matchRecord.constraints)return false;var n=t.recAnalyses.matchRecord;if(n&&n.matches)return n.matches.every((function(e){var t=D["a"].fieldList.find((function(t){return t.libId?t.libId===e.libId:t.qName===e.field}));return!!t&&O["a"].isMeasure(t.classifications)}))}return false},encodings:[{key:"values",classification:"dimension",index:0}]}]};var M=L;var P={type:"pivot-table",supportsDuplicateDimensions:false,encodings:[{key:"rows",classification:"dimension",path:"qHyperCubeDef.qDimensions.$dimensionIndex.qDef.qFieldDefs.0",min:1,max:15},{key:"values",classification:"measure",path:"qHyperCubeDef.qMeasures.$measureIndex.qDef.qDef",min:1,max:15}],analyses:[{analysis:"rank",dimensions:{min:2,max:15},measures:{min:1,max:15},encodings:[{key:"rows",classification:"dimension",indexRange:{start:0,end:14}},{key:"values",classification:"measure",indexRange:{start:0,end:14}}]}]};var N=P;var R={};function F(e){R[e.type]=e}F(o);F(c);F(p);F(v);F(g);F(y);F(S);F(E);F(k);F(T);F(M);F(d);F(i);F(N);var _;function j(){var e=Object.keys(R);if(_)return e.filter((function(e){return _.indexOf(e)>=0}));return e}function B(e){return R[e]}function V(e){_=e}var H=t["a"]={addChartDataDefinition:F,getSupportedChartTypes:j,getChartDataDefinition:B,restrictSupportedChartTypes:V}},riME:function(e,t,n){var r={"./load-model-de-DE":"P+p+","./load-model-de-DE.json":"P+p+","./load-model-en-US":"OqXA","./load-model-en-US.json":"OqXA","./load-model-es-ES":"ogCl","./load-model-es-ES.json":"ogCl","./load-model-fr-FR":"To6z","./load-model-fr-FR.json":"To6z","./load-model-it-IT":"qNTp","./load-model-it-IT.json":"qNTp","./load-model-ja-JP":"eXNX","./load-model-ja-JP.json":"eXNX","./load-model-ko-KR":"ejmI","./load-model-ko-KR.json":"ejmI","./load-model-nl-NL":"l94f","./load-model-nl-NL.json":"l94f","./load-model-pl-PL":"6UbY","./load-model-pl-PL.json":"6UbY","./load-model-pt-BR":"fWOy","./load-model-pt-BR.json":"fWOy","./load-model-ru-RU":"MNDU","./load-model-ru-RU.json":"MNDU","./load-model-sv-SE":"fLVW","./load-model-sv-SE.json":"fLVW","./load-model-tr-TR":"AdxB","./load-model-tr-TR.json":"AdxB","./load-model-zh-CN":"j7w3","./load-model-zh-CN.json":"j7w3","./load-model-zh-TW":"xskF","./load-model-zh-TW.json":"xskF","./load-model-zz":"PltQ","./load-model-zz.json":"PltQ"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}i.keys=function e(){return Object.keys(r)};i.resolve=a;e.exports=i;i.id="riME"},rjaN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var r="handshake";var i="handshake-reply";var a="call";var o="reply";var s="fulfilled";var l="rejected";var c="message";var u="DataCloneError";var d="ConnectionDestroyed";t.ERR_CONNECTION_DESTROYED=d;var f="ConnectionTimeout";t.ERR_CONNECTION_TIMEOUT=f;var p="NotInIframe";t.ERR_NOT_IN_IFRAME=p;var h="IframeAlreadyAttachedToDom";t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=h;var v=6e4;var m={"http:":"80","https:":"443"};var g=/^(https?:|file:)?\/\/([^/:]+)?(:(\d+))?/;var b={ERR_CONNECTION_DESTROYED:d,ERR_CONNECTION_TIMEOUT:f,ERR_NOT_IN_IFRAME:p,ERR_IFRAME_ALREADY_ATTACHED_TO_DOM:h,Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:false};var y=function(){var e=0;return function(){return++e}}();var w=function e(){if(b.debug){var t;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=console).log.apply(t,["[Penpal]"].concat(r))}};var S=function e(t){var n=document.location;var r=g.exec(t);var i;var a;var o;if(r){i=r[1]?r[1]:n.protocol;a=r[2];o=r[4]}else{i=n.protocol;a=n.hostname;o=n.port}if("file:"===i)return"null";var s=o&&o!==m[i]?":".concat(o):"";return"".concat(i,"//").concat(a).concat(s)};var x=function e(t){var n=[];t((function(){n.forEach((function(e){e()}))}));return{then:function e(t){n.push(t)}}};var C=function e(t){var n=t.name,r=t.message,i=t.stack;return{name:n,message:r,stack:i}};var q=function e(t){var n=new Error;Object.keys(t).forEach((function(e){return n[e]=t[e]}));return n};var E=function e(t,n,r,i,l){var u=n.localName,f=n.local,p=n.remote,h=n.remoteOrigin;var v=false;w("".concat(u,": Connecting call sender"));var m=function e(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];w("".concat(u,": Sending ").concat(t,"() call"));p.closed&&i();if(v){var l=new Error("Unable to send ".concat(t,"() call due ")+"to destroyed connection");l.code=d;throw l}return new b.Promise((function(e,r){var i=y();var l=function n(a){if(a.source===p&&a.origin===h&&a.data.penpal===o&&a.data.id===i){w("".concat(u,": Received ").concat(t,"() reply"));f.removeEventListener(c,n);var l=a.data.returnValue;a.data.returnValueIsError&&(l=q(l));(a.data.resolution===s?e:r)(l)}};f.addEventListener(c,l);p.postMessage({penpal:a,id:i,methodName:t,args:n},h)}))}};l.then((function(){v=true}));r.reduce((function(e,t){e[t]=m(t);return e}),t)};var I=function e(t,n,r){var i=t.localName,d=t.local,f=t.remote,p=t.remoteOrigin;var h=false;w("".concat(i,": Connecting call receiver"));var v=function e(t){if(t.source===f&&t.origin===p&&t.data.penpal===a){var r=t.data,c=r.methodName,d=r.args,v=r.id;w("".concat(i,": Received ").concat(c,"() call"));if(c in n){var m=function e(t){return function(e){w("".concat(i,": Sending ").concat(c,"() reply"));if(h){w("".concat(i,": Unable to send ").concat(c,"() reply due to destroyed connection"));return}var n={penpal:o,id:v,resolution:t,returnValue:e};if(t===l&&e instanceof Error){n.returnValue=C(e);n.returnValueIsError=true}try{f.postMessage(n,p)}catch(e){e.name===u&&f.postMessage({penpal:o,id:v,resolution:l,returnValue:C(e),returnValueIsError:true},p);throw e}}};new b.Promise((function(e){return e(n[c].apply(n,d))})).then(m(s),m(l))}}};d.addEventListener(c,v);r.then((function(){h=true;d.removeEventListener(c,v)}))};b.connectToChild=function(e){var t=e.url,n=e.appendTo,a=e.iframe,o=e.methods,s=void 0===o?{}:o,l=e.timeout;if(a&&a.parentNode){var u=new Error("connectToChild() must not be called with an iframe already attached to DOM");u.code=h;throw u}var p;var m=new x((function(e){p=e}));var g=window;a=a||document.createElement("iframe");a.src=t;var y=S(t);var C=new b.Promise((function(e,t){var o;void 0!==l&&(o=setTimeout((function(){var e=new Error("Connection to child timed out after ".concat(l,"ms"));e.code=f;t(e);p()}),l));var u={};var h;var b;var S=function t(n){var l=a.contentWindow;if(n.source===l&&n.origin===y&&n.data.penpal===r){w("Parent: Received handshake, sending reply");var c="null"===n.origin?"*":n.origin;n.source.postMessage({penpal:i,methodNames:Object.keys(s)},c);var d={localName:"Parent",local:g,remote:l,remoteOrigin:c};b&&b();var f=new x((function(e){m.then(e);b=e}));I(d,s,f);h&&h.forEach((function(e){delete u[e]}));h=n.data.methodNames;E(u,d,h,p,m);clearTimeout(o);e(u)}};g.addEventListener(c,S);w("Parent: Loading iframe");(n||document.body).appendChild(a);var C=setInterval((function(){if(!document.contains(a)){clearInterval(C);p()}}),v);m.then((function(){a.parentNode&&a.parentNode.removeChild(a);g.removeEventListener(c,S);clearInterval(C);var e=new Error("Connection destroyed");e.code=d;t(e)}))}));return{promise:C,iframe:a,destroy:p}};b.connectToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentOrigin,n=void 0===t?"*":t,a=e.methods,o=void 0===a?{}:a,s=e.timeout;if(window===window.top){var l=new Error("connectToParent() must be called within an iframe");l.code=p;throw l}var u;var h=new x((function(e){u=e}));var v=window;var m=v.parent;var g=new b.Promise((function(e,t){var a;void 0!==s&&(a=setTimeout((function(){var e=new Error("Connection to parent timed out after ".concat(s,"ms"));e.code=f;t(e);u()}),s));var l=function t(r){if(("*"===n||n===r.origin)&&r.source===m&&r.data.penpal===i){w("Child: Received handshake reply");v.removeEventListener(c,t);var s={localName:"Child",local:v,remote:m,remoteOrigin:r.origin};var l={};I(s,o,h);E(l,s,r.data.methodNames,u,h);clearTimeout(a);e(l)}};v.addEventListener(c,l);h.then((function(){v.removeEventListener(c,l);var e=new Error("Connection destroyed");e.code=d;t(e)}));w("Child: Sending handshake");m.postMessage({penpal:r,methodNames:Object.keys(o)},n)}));return{promise:g,destroy:u}};var k=b;t.default=k},"rwJ+":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a={};a.getParentElementWithAttribute=function(e,t,n){var r=0;while(e&&e.parentNode&&r<100){r++;if(e.nodeName===t.toUpperCase()&&e.hasAttribute(n))return e;e=e.parentNode}return null};a.getAncestorsUntil=function(e,t){var n=[];t||(t=function e(){return false});while(e&&e.parentNode&&!t(e)){n.push(e);e=e.parentNode}return n};a.isInput=function(e){return e&&("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)};a.elementFromEventPosition=function(e){var t=document;var n=t.body;var r=e.pageX+(t&&t.clientLeft||n&&n.clientLeft||0)-(t&&t.scrollLeft||n&&n.scrollLeft||0);var i=e.pageY+(t&&t.clientTop||n&&n.clientTop||0)-(t&&t.scrollTop||n&&n.scrollTop||0);return document.elementFromPoint(r,i)};a.scrollElmentIntoView=function e(t,n,r,a){var o;if(!t.length)return;o=n instanceof i.a?n:t.closest(n);if(o.length){var s=o.offset().top;var l=s+o.height();var c=t.offset().top;var u=c+t.outerHeight(!!a);var d=u-c;var f=l-s;var p;p=t[0].getBoundingClientRect().top;if(r){p-=o.height()/2;o.scrollTop(o.scrollTop()+p)}else if(f<d){p=c-s;o.scrollTop(o.scrollTop()+p)}else if(u>l){p=u-l;o.scrollTop(o.scrollTop()+p)}else if(c<s){p=c-s;o.scrollTop(o.scrollTop()+p)}}};a.getAction=function(e,t,n){var r;var a;var o;var s=(n?i()(e.target).closest("[data-action]"):i()(e.target).parent())[0];if(e.target.getAttribute("data-action")){r=e.target.getAttribute("data-action");a=i()(e.target)}else if(s&&s.getAttribute("data-action")){r=s.getAttribute("data-action");a=i()(s)}r&&t&&(o=i()(a.closest(t)).scope());return{action:r,element:a,scope:o}};a.isElementInViewport=function e(t,n,r){var a=t.getBoundingClientRect();var o={top:false,right:false,bottom:false,left:false,inView:false};var s={top:r.top?r.top:0,bottom:r.bottom?r.bottom:0};var l=(n||i()("body")[0]).getBoundingClientRect();o.top=a.top+a.height-l.top>=s.top;o.right=l.right-(a.right-a.width)>=0;o.bottom=l.bottom+a.height>=a.bottom+s.bottom;o.left=a.left-l.left+a.width>=0;o.inView=o.top&&o.right&&o.bottom&&o.left;return o};a.isClickOnScrollbar=function e(t,n){var r=i()(t.target);var a=t.clientX||t.pageX;var o=r.offset().left+i()(t.target).width();if(!r.is(n))return false;return a>o-17};t["a"]=a},"s+aC":function(e,t,n){"use strict";function r(){var e=function e(t,n){if(t.length===n.length)return t>n?1:-1;return t.length-n.length};return{onProcessStyle:function t(n,r){if("style"!==r.type)return n;var i={};var a=Object.keys(n).sort(e);for(var o=0;o<a.length;o++)i[a[o]]=n[a[o]];return i}}}t["a"]=r},"s+sU":function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("qIEf");var o=n.n(a);var s=n("0ghn");var l=n("R2Yu");var c=n("mWu2");var u=n("sWge");var d=n("4nJ1");var f=n("6uJb");var p=n("MGTR");var h=n("5Hbw");var v=n("hEIc");var m=n("8IgQ");var g=n("2n0V");var b=n("+qAE");var y=n("jWHD");var w=n("jaci");var S=n("6q8i");var x=n("3kDd");var C=n("G1wx");var q=n("TsGx");var E=n("thg+");var I=n("HLBJ");var k=n("Y8Ox");var A=n("5UsU");var T=n("XqCR");var D=n("pKnl");var O=n("1irJ");var L=n("28IR");var M=n("saOI");var P=n("FWpo");var N=n("u6tz");function R(e){R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return R(e)}var F=false;var _=false;function j(){return h["a"].inClient()}function B(){return Boolean(h["a"].csrfToken()&&(h["a"].webIntegrationId()||h["a"].inClient()))}function V(e){function t(e,t){var n=f["default"].get(e.attr("data-".concat(t,"translation")));var r=e.data(t?"title-text":"text");"undefined"!==typeof r&&"undefined"!==typeof r.value&&(n=s["d"].format(n,r.value));return l["a"].encodeForHTML(n)}f["default"].setup(e).then((function(){f["default"].append({"Devhub.Cols.Array":"Cols parameter should be an array.","Devhub.Cols.InvalidQtype":"Invalid qType: {0}","Devhub.Cols.QlibraryIdMissing":"qLibraryId missing: {0}","Devhub.Cols.QdefString":"Measure qDef.qDef should be a string: {0}","Devhub.Cols.QfielddefArray":"Dimension qDef.qFieldDefs should be an array: {0}","Devhub.Cols.QdefOrQfielddefs":"Column needs either qDef.qDef or qDef.qFieldDefs: {0}","Devhub.Cols.QdefOrQlibraryid":"Column needs either qLibraryId or qDef: {0}","Devhub.Cols.Visualization.InvalidType":"The visualization type is incorrect: {0}"});o()("[data-translation], [data-title-translation], [data-placeholder-translation]",document).addBack().each((function(){var e=o()(this);var n=t(e,"");var r=t(e,"title-");var i=t(e,"placeholder-");n&&e.html(n);r&&e.attr("title",r);i&&e.attr("placeholder",i)}))}))}function H(){if(!F){F=true;if(!j()){v["a"].configureTouchSupport();_||""!==f["default"].localeDetected||V()}}}function z(e){_=true;V(e)}function $(e){C["a"].setDeviceType(e)}function U(e){e?p["a"].publish("/ui/object/resize.".concat(e)):p["a"].publish("/resize/end")}function G(e){console.warn("qlik.getExtensionList(callback) is deprecated since June 2019, use available REST APIs instead.");return b["a"].getList().then((function(t){e&&e(t)}))}function W(e,t,n){console.warn("qlik.callRepository(path, method, body) is deprecated since June 2019, use available REST APIs instead.");return Object(I["a"])({method:t||"GET",url:e,data:n})}function Q(e){e=e||{};var t=e._qEvent?new S["a"](e._qEvent.handlers):new S["a"];t.scope=e._qEvent?e._qEvent.scope:null;return{host:e.host||d["a"].hostname,port:e.port?e.port.toString():d["a"].port,isSecure:e.isSecure||d["a"].isSecure,reloadURI:e.reloadURI?e.reloadURI:d["a"].reloadURI,transientApp:!!e.transientApp,prefix:e.prefix||d["a"].basePath,openWithoutData:e.openWithoutData,identity:e.identity,subpath:e.subpath,qEvent:t,_DO_NOT_USE_DISABLE_RECONNECT:e._DO_NOT_USE_DISABLE_RECONNECT}}function K(e,t,n){var r="extensions/".concat(e,"/").concat(e);window.define(r,t);m["a"].registerExtension({id:e,data:n||{type:"visualization"}});return r}function Y(e){var t="";var n="";if(e&&e.currentSelections){(e.noInteraction||e.noSelections)&&(n=" style='pointer-events:none;'");e.variant=e.variant||"bright";t+='<qv-stage-current-selections class="qvt-selections" options="options" app="app"'.concat(n,'></qv-stage-current-selections><div class="qv-global-search-container"').concat(n,"></div>")}else e&&e.showNavigationToolbar?t+='<qv-odag-toolbar class="qv-odag-bar-container" model="model" in-edit-mode="inEdit" stand-Alone="standAlone"></qv-odag-toolbar>':t+='<qv-object model="model" options="options" object="object"></qv-object>';return t}function J(e,t,n,r){var a=new u["a"];"string"===typeof e&&(e=document.getElementById(e));if(e){var o=e[0]?e[0]:e;o.innerHTML=Y(n);var s=i.a.element(o).scope();if(s){var l=s.$new(true);var d=i.a.copy(n)||{};d.isReadonly=false!==d.isReadonly;if(n){n.noSelections&&(d.selections=false);n.noInteraction&&(d.interactionState=y["a"].STATIC);if(n.showNavigationToolbar){l.inEdit=false;l.standAlone=true}}var f=function e(){l.model=t;l.app=r;l.options=d;l.object={};var n=c["default"].getService("$compile");n(i.a.element(o).children("qv-object, qv-stage-current-selections, qv-odag-toolbar"))(l)};if(w["a"].isInit){d.direction=w["a"].direction;f();a.resolve(l)}else w["a"].init(r.enigmaModel).then((function(){d.direction=w["a"].direction;c["default"].$apply(l,(function(){f();a.resolve(l)}))}));c["default"].$apply(l)}else a.reject(new Error("Element scope is undefined."))}else a.reject(new Error("Element is undefined."));return a.promise}function Z(e,t){var n=function e(t){"string"===typeof t?t=document.getElementById(t):t[0]&&(t=t[0]);if(!t)return;t.innerHTML=""};if(t&&"function"===typeof t.then)return t.then((function(t){t.$destroy();n(e)})).catch((function(e){console.error(e)}));n(e);return u["a"].resolve()}function X(e,t,n){var r=new u["a"];e.waitForOpen.promise.then((function(){var i=e.enigmaModel||e;c["default"].$apply(c["default"].$rootScope,(function(){r.resolve(i[t].apply(i,n))}))}));return r.promise}function ee(e,t){e.qInfo=e.qInfo||{};e.qInfo.qType=e.qInfo.qType||t||"mashup";e.qInfo.qId=e.qInfo.qId||"MU".concat(d["a"].generateId())}function te(e,t){var n={};ee(n,e);"bookmarklist"===e.toLowerCase()?n.qBookmarkListDef=JSON.parse(JSON.stringify(k["a"].qBookmarkListDef)):"snapshotlist"===e.toLowerCase()?n.qBookmarkListDef=JSON.parse(JSON.stringify(A["b"].qBookmarkListDef)):"currentselections"===e.toLowerCase()?n.qSelectionObjectDef=t||JSON.parse(JSON.stringify(T["a"].qSelectionObjectDef)):"dimensionlist"===e.toLowerCase()?n.qDimensionListDef=JSON.parse(JSON.stringify(D["a"].qDimensionListDef)):"measurelist"===e.toLowerCase()?n.qMeasureListDef=JSON.parse(JSON.stringify(O["a"].qMeasureListDef)):"sheet"===e.toLowerCase()?n.qAppObjectListDef=JSON.parse(JSON.stringify(L["b"].qAppObjectListDef)):"masterobject"===e.toLowerCase()?n.qAppObjectListDef=JSON.parse(JSON.stringify(M["a"].qAppObjectListDef)):"variablelist"===e.toLowerCase()?n.qVariableListDef=JSON.parse(JSON.stringify(P["b"].qVariableListDef)):"story"===e.toLowerCase()?n.qAppObjectListDef=JSON.parse(JSON.stringify(N["b"].qAppObjectListDef)):n["q".concat(e,"Def")]={};return n}function ne(e){if("string"===typeof e)return 0===e.indexOf("=");if(e.qType)return"measure"===e.qType;return!!(e.qDef&&e.qDef.qDef||e.qSortBy||e.qAttributeExpressions)}function re(e,t,n){if(Array.isArray(e)&&!Array.isArray(t)){var r=t||{};var i=[];var a=[];var o=[];e.forEach((function(e){if(ne(e)){o.push(-1);a.push(e)}else{o.push(i.length);i.push(e)}}));var s=i.length;o.forEach((function(e,t){if(e<0){o[t]=s;s++}}));r.columnOrder=o;r.qInterColumnSortOrder=o;return re(i,a,r)}var l=n||{};if(e){var c=[];e.forEach((function(e){"string"===typeof e?c.push({qDef:{qFieldDefs:[e]}}):c.push(e)}));l.qDimensions=c}var u=[];t.forEach((function(e){"string"===typeof e?u.push({qDef:{qDef:e}}):u.push(e)}));l.qMeasures=u;l.qInitialDataFetch=[{qTop:0,qLeft:0,qHeight:20,qWidth:(l.qDimensions?l.qDimensions.length:0)+l.qMeasures.length}];n&&n.rows&&(l.qInitialDataFetch[0].qHeight=n.rows);return l}function ie(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(t[r]instanceof Object&&!Array.isArray(t[r])?ie("".concat(e+r,"/"),t[r],n):n.push({qPath:e+r,qOp:"add",qValue:"string"===typeof t[r]?'"'.concat(t[r],'"'):JSON.stringify(t[r])}))}function ae(e,t,n){e=e?"".concat(e,", "):"";return e+f["default"].get(t,JSON.stringify(n))}function oe(e){if(!Array.isArray(e))return f["default"].get("Devhub.Cols.Array");var t;e.forEach((function(e){"object"===R(e)?e.qType?"measure"!==e.qType&&"dimension"!==e.qType?t=ae(t,"Devhub.Cols.InvalidQtype",e):e.qLibraryId||(t=ae(t,"Devhub.Cols.QlibraryIdMissing",e)):e.qDef?e.qDef.qDef?"string"!==typeof e.qDef.qDef&&(t=ae(t,"Devhub.Cols.QdefString",e)):e.qDef.qFieldDefs?Array.isArray(e.qDef.qFieldDefs)||(t=ae(t,"Devhub.Cols.QfielddefArray",e)):t=ae(t,"Devhub.Cols.QdefOrQfielddefs",e):t=ae(t,"Devhub.Cols.QdefOrQlibraryid",e):"string"!==typeof e&&(t=ae(t,"Devhub.Cols.InvalidType",e))}));return t}function se(e,t,n,r){var i=g["a"].getType(t);if(!i)return u["a"].reject(f["default"].get("Devhub.Visualization.InvalidType",t));if(n){var a=oe(n);if(a)return u["a"].reject(a)}return e.model.waitForOpen.promise.then((function(){return x["a"].createProperties(e.model.enigmaModel,t,n,r)}))}function le(e,t,n,r){return x["a"].convertProperties(e,t,n,r)}function ce(e){var t=["export","exportData","viewData"];var n={};var r=e.layout.visualization||e.layout.qInfo&&e.layout.qInfo.qType;var i=g["a"].getType(r);if(!i)return u["a"].resolve(n);return i.getExtensionType().then((function(e){Object.keys(e.support).forEach((function(r){-1!==t.indexOf(r)&&(n[r]=e.support[r])}));return n})).catch((function(){return n}))}var ue={createVisualizationHtml:Y,showVisualization:J,clearElement:Z,appDoIt:X,setDefaultId:ee,getDefaultListParam:te,createHypercubeDef:re,makeConfig:Q,inClient:j,isQCS:B,initClient:H,registerExtension:K,addPatches:ie,isMeasure:ne,validateColumns:oe,createDefinition:se,convertDefinition:le,setLanguage:z,setDeviceType:$,resize:U,getExtensionList:G,callRepository:W,getExtensionSupport:ce};Object.defineProperty(ue,"Promise",{get:function e(){return u["a"].Promise}});t["a"]=ue},s0Tq:function(e,t,n){"use strict";var r=n("G1wx");var i=n("Vy0P");function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}var o=function e(){return{width:0,height:0}};var s=function e(){return{top:0,left:0,width:0,height:0}};var l=["$scope","$element",function(e,t){var n;var l;var c=[];var u=[];var d=[];var f;var p;e.interactiveX=false;e.interactiveY=false;e.virtualSize=o();e.virtualViewport=o();e.scrollbarX=i["a"].createScrollbar();e.scrollbarY=i["a"].createScrollbar();e.viewportRect=s();e.hover=false;e.isMouse=true;e.$on("$destroy",(function(){clearTimeout(f);clearTimeout(p)}));this.hideUi=function(){e.virtualSize=o();e.virtualViewport=o();e.viewportRect=s();this.setupScrollbars()};this.setMouse=function(t){e.isMouse=t};this.getScrollAreaRect=function(){var e=t[0].getBoundingClientRect();return{top:0,left:0,width:Math.ceil(e.width),height:Math.ceil(e.height)}};this.addScrollbarXCtrl=function(e){n=e};this.addScrollbarYCtrl=function(e){l=e};this.allowFade=function(){return(void 0===n||n.allowFade())&&(void 0===l||l.allowFade())};this.fadeScrollbarsWithoutDelay=function(){n&&n.fadeOut();l&&l.fadeOut()};this.toggleFadeScrollbars=function(e){clearTimeout(p);clearTimeout(f);if(!e&&!this.allowFade())return;f=setTimeout((function(){var t=e?"fadeIn":"fadeOut";n&&n[t]();l&&l[t]()}),e?0:800)};this.fadeInScrollbars=function(){this.toggleFadeScrollbars(true)};this.fadeOutScrollbars=function(){if(r["a"].treatAsDesktop()&&e.hover)return;this.toggleFadeScrollbars(false)};this.fadeOutScrollbarsDelayed=function(){var e=this;clearTimeout(p);p=setTimeout((function(){e.toggleFadeScrollbars(false)}),1e3)};this.setNonMouseTrackSize=function(){if("object"!==a(e.nonMouseViewportScrolling))return;t.addClass(e.nonMouseViewportScrolling.className);this.setTrackSize(e.nonMouseViewportScrolling.scrollbarSize)};this.setMouseTrackSize=function(){"object"===a(e.nonMouseViewportScrolling)&&t.removeClass(e.nonMouseViewportScrolling.className);this.setTrackSize(e.scrollbarSize)};this.setScrollbarSize=function(t){if("string"===typeof t){var n;switch(t.toLowerCase()){case"medium":n=16;break;case"large":n=24;break;default:n=8;break}e.scrollbarSize=n}else"number"===typeof t&&(e.scrollbarSize=t)};this.setTrackSize=function(t){var n=this.getVirtualPosition();this.setVirtualSize(e.virtualSize,e.virtualViewport,e.viewportRect,t);this.setVirtualScrollPos(n.vPosX,n.vPosY)};this.setupScrollbars=function(t){t=t||8;i["a"].setScrollbarData(e.scrollbarY,"vertical",t,e.virtualSize.height,e.virtualViewport.height,e.viewportRect,e.direction);i["a"].setScrollbarData(e.scrollbarX,"horizontal",t,e.virtualSize.width,e.virtualViewport.width,e.viewportRect,e.direction);if(e.scrollbarX.enabled&&e.scrollbarY.enabled){e.scrollbarX.length-=t;e.scrollbarX.scaleFactor=e.scrollbarX.length/e.virtualSize.width;e.scrollbarX.style.width="".concat(e.viewportRect.width-t-2*e.scrollbarX.uiOffset,"px");"rtl"===e.direction&&(e.scrollbarX.style.left="".concat(e.viewportRect.left+e.scrollbarX.uiOffset+t,"px"));e.scrollbarY.length-=t;e.scrollbarY.scaleFactor=e.scrollbarY.length/e.virtualSize.height;e.scrollbarY.style.height="".concat(e.viewportRect.height-t-2*e.scrollbarY.uiOffset,"px")}};this.setVirtualSize=function(t,n,r,i){e.viewportRect=r;e.virtualSize.width=t.width;e.virtualSize.height=t.height;e.virtualViewport.width=n.width;e.virtualViewport.height=n.height;this.setupScrollbars(i)};this.setViewport=function(t){e.viewportRect=t};this.setVirtualViewport=function(t){var n=this.getVirtualPosition();e.virtualViewport.width=t.width;e.virtualViewport.height=t.height;e.scrollbarX.vViewportLength=t.width;e.scrollbarY.vViewportLength=t.height;this.setupScrollbars(e.isMouse?e.scrollbarSize:e.nonMouseViewportScrolling.scrollbarSize);this.setVirtualScrollPos(n.vPosX,n.vPosY)};this.getVirtualSize=function(){return{width:e.virtualSize.width,height:e.virtualSize.height}};this.getVirtualPosition=function(){var t=0;var n=this.getMaxPosition();return{vPosX:Math.max(t,Math.min(n.vPosX,e.scrollbarX.vPos)),vPosY:Math.max(t,Math.min(n.vPosY,e.scrollbarY.vPos))}};this.getMaxPosition=function(){var t=0;var n=Math.max(t,e.scrollbarX.vLength-e.scrollbarX.vViewportLength);var r=Math.max(t,e.scrollbarY.vLength-e.scrollbarY.vViewportLength);return{vPosX:n,vPosY:r}};this.isMouseOver=function(){return e.hover};this.resetScroll=function(){if(void 0===e.scrollbarX.vPos||void 0===e.scrollbarY.vPos)return;0===e.scrollbarX.vPos&&0===e.scrollbarY.vPos||this.scroll(-e.scrollbarX.vPos,-e.scrollbarY.vPos,true,false)};this.setVirtualScrollPos=function(t,n,r){i["a"].setVirtualScrollPos(t,e.scrollbarX,r);i["a"].setVirtualScrollPos(n,e.scrollbarY,r)};this.scroll=function(t,n,r,a){var o=i["a"].setVirtualScrollPos(t,e.scrollbarX,a);var s=i["a"].setVirtualScrollPos(n,e.scrollbarY,a);(0!==o||0!==s||r)&&c.forEach((function(e){e(o,s)}))};this.getScrollAmount=function(e,t,n){switch(n){default:return{deltaX:e,deltaY:t}}};this.scrollStart=function(){u.forEach((function(e){e()}))};this.scrollEnd=function(){d.forEach((function(e){e()}))};this.onScroll=function(e){c.push(e)};this.onScrollStart=function(e){u.push(e)};this.onScrollEnd=function(e){d.push(e)};this.on=function(){if(!(e.interactiveX||e.interactiveY)){e.off=e.on();e.interactiveX=true;e.interactiveY=true}};this.off=function(){if(e.off){e.off();e.interactiveX=false;e.interactiveY=false}};this.setHorizontalScrollInteractive=function(t){e.interactiveX=t};this.setVerticalScrollInteractive=function(t){e.interactiveY=t};this.isVerticalScrollEnabled=function(){return e.scrollbarY.enabled};this.digest=function(){e.$parent.$digest()}}];t["a"]=l},sCDE:function(e,t,n){"use strict";var r=null;function i(e,t,n,r){t=t||"model";var i=function r(){var i=this;var a=this.getLayout();e.__layoutRPCId=a.rpcId;a.then((function(r){var a=e.$eval(t);if(a!==i)return;n&&n(r)})).catch((function(){}))};var a;function o(){var n=e.$eval(t);n&&n.Invalidated&&n.Invalidated.unbind(a)}var s=e.$on("$destroy",(function(){o()}));var l=e.$watch(t,(function(e,t){t&&t!==e&&t.Invalidated&&t.Invalidated.unbind(a);if(e&&(!e.isClosing||!e.isClosed)){r&&r(e);e.getLayout().then(n);a=i.bind(e);e.Invalidated.bind(a)}}));return function(){o();l();s();n&&(n=null);r&&(r=null)}}function a(){return(r||i).apply(this,arguments)}a.mock=function(e){r=e};t["a"]=a},sWge:function(e,t,n){"use strict";var r=n("GMLQ");var i=function e(){var t=r["a"].getService("$q").defer();return t};i.resolve=function(e){var t=r["a"].getService("$q").defer();t.resolve(e);return t.promise};i.reject=function(){return r["a"].getService("$q").reject.apply(null,arguments)};i.all=function(){return r["a"].getService("$q").all.apply(null,arguments)};i.when=function(){return r["a"].getService("$q").when.apply(null,arguments)};Object.defineProperty(i,"Promise",{get:function e(){return r["a"].getService("$q")}});t["a"]=i},"sWw+":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;var i=Object.prototype.toString;var a=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var s=function e(t){if("function"===typeof Array.isArray)return Array.isArray(t);return"[object Array]"===i.call(t)};var l=function e(t){if(!t||"[object Object]"!==i.call(t))return false;var n=r.call(t,"constructor");var a=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!a)return false;var o;for(o in t);return"undefined"===typeof o||r.call(t,o)};var c=function e(t,n){a&&"__proto__"===n.name?a(t,n.name,{enumerable:true,configurable:true,value:n.newValue,writable:true}):t[n.name]=n.newValue};var u=function e(t,n){if("__proto__"===n){if(!r.call(t,n))return;if(o)return o(t,n).value}return t[n]};e.exports=function e(){var t,n,r,i,a,o;var d=arguments[0];var f=1;var p=arguments.length;var h=false;if("boolean"===typeof d){h=d;d=arguments[1]||{};f=2}(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});for(;f<p;++f){t=arguments[f];if(null!=t)for(n in t){r=u(d,n);i=u(t,n);if(d!==i)if(h&&i&&(l(i)||(a=s(i)))){if(a){a=false;o=r&&s(r)?r:[]}else o=r&&l(r)?r:{};c(d,{name:n,newValue:e(h,o,i)})}else"undefined"!==typeof i&&c(d,{name:n,newValue:i})}}return d}},sYbK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=n("yB4Y"),a=n("H+Zf"),o=function(){function e(){}return e}();t.QueryFieldMapping=o;var s=function(){function e(e){this.targetTable=e}return e.prototype.getInfo=function(){var e={totalFields:0,totalConcatFields:0,fieldsMapped:0};return this.targetTable.getFields().forEach((function(t){e.totalFields++,t.type===i.DSMTypes.CompositeQueryField.name&&(e.totalConcatFields++,t.sourceFieldRefs.length>1&&e.fieldsMapped++)})),e},e.prototype.populateCompositeQuery=function(e,t,n,r,i){r.forEach((function(n){t.removeTargetTableModel(n,!0),e.addSourceQuery(n.data)})),i&&0!==i.length||(i=this.createMapping(r,t)),this.generateCompositionFields(e,i);var o=r.map((function(e){return e.data}));return a.CompositeOperations.migrateAssociations(o,e,t),this.matchGeoFields(e,t),e},e.prototype.splitCompositeQuery=function(e,t){this.restoreAssociations(e,t);var n=e.getSourceQueries(),r=[];return n.forEach((function(e){var n=t.addAsTargetTableModel(e);r.push(n)})),t.removeTargetTableModel(e,!0),e.setUpdateStatus(),r},e.prototype.matchGeoFields=function(e,t){var n=e.getFields();n.forEach((function(n){var r=t.wrapInFieldModel(n);if(r.isGeographical()&&n.sourceFieldRefs.length>0){var a=e.getGeoRelatedFields(n,!0);if(a.length>0){var o=e.createField(n.name+"_GeoInfo",i.DSMTypes.CompositeQueryField.name);a.forEach((function(e){o.addSourceField(e)}))}}}))},e.prototype.createMapping=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var a=e[r].getFields(),s=0;s<a.length;s++){var l=a[s];e[r].wasGeneratedByTransformation(l,i.DSMTypes.QueryTransformField.name,[i.DSMTypes.Transformations.lookupGeoInfo])||(n[s]||(n[s]=new o,n[s].name=l.name,n[s].sourceFields=[]),n[s].sourceFields.push(l))}return n},e.prototype.generateCompositionFields=function(e,t){t.forEach((function(t){var n,a=e.createField(t.name,i.DSMTypes.CompositeQueryField.name),o=!0;t.sourceFields.forEach((function(e,t){0===t?n=e.classifications:o&&(o=r.isEqual(n,e.classifications)),a.addSourceField(e)})),a.data.classifications=o&&n?n:[]}))},e.prototype.restoreAssociations=function(e,t){var n=t.findAssociations(e.data.id);n.forEach((function(e){t.removeAssociation(e.getName())}))},e}();t.CompositeQueryOperations=s},saOI:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"a",(function(){return r}));var r={qInfo:{qId:"MasterObjectList",qType:"MasterObjectList"},qAppObjectListDef:{qType:"masterobject",qData:{name:"/qMetaDef/title",labelExpression:"/labelExpression",visualization:"/visualization",tags:"/qMetaDef/tags"}}};var i={types:"Doc",extend:{getMasterObjectList:function e(){return this.getListData(r)},getMasterObjectListObject:function e(){return this.getListObject(r)}}}},sqvK:function(e,t,n){"use strict";var r=n("czhI");var i=n.n(r);var a=n("mWu2");var o=n("S1lg");var s='<div class="rain progress" ng-class="{\'qv-fade-out\': fadeOut}">\n\t<div class="rain-image-container" ng-if="isLoadingCardImageFlag"></div>\n\n\t<div ng-if="!isLoadingCardImageFlag" class="rain-progress" ng-style="rainStyle" aria-label="{{objectSRloading}}">\n\t\t<div class="progress-div rotating" ng-class="ngClasses">\n\t</div>\n\n\t<div class="qv-loader-text" ng-if="messageObj" ng-class="ngClasses">\n\t\t<div ng-show="messageObj.task" q-translation="{{messageObj.task}}"></div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n';var l=n("6uJb");var c=n("Oyoy");var u=n("acVu");function d(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){d(a,r,i,o,s,"next",e)}function s(e){d(a,r,i,o,s,"throw",e)}o(void 0)}))}}a["default"].directive("qvRain",[function(){return{replace:true,template:s,restrict:"E",scope:{show:"=",model:"=",resize:"=?",messageObj:"=?"},link:function e(t,n){var r;t.objectSRloading=l["default"].get("Accessibility.object.Loading");t.rainStyle={};t.isLoadingCardImageFlag=Object(u["b"])("LOADING_CARD_IMAGES");t.animation=null;function a(){var e=n[0].getBoundingClientRect();var r=Math.min(e.width,e.height);r*=.3;t.rainStyle.height="".concat(r,"px");t.rainStyle.width="".concat(r,"px");t.rainStyle.top=(e.height-r)/2;t.rainStyle.left=(e.width-r)/2}function s(e){return d.apply(this,arguments)}function d(){d=f(regeneratorRuntime.mark((function e(r){var a,s,l,c;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:a={container:n.find(".rain-image-container")[0],renderer:"svg",loop:true,autoplay:true};u.next=3;return Object(o["a"])();case 3:s=u.sent;u.next=6;return i.a.get(r);case 6:l=u.sent;c=l.data;a.animationData=c;t.animation=s.loadAnimation(a);t.animation.play();case 11:case"end":return u.stop()}}),e)})));return d.apply(this,arguments)}function p(){if(t.animation){t.animation.stop();t.animation.destroy();t.animation=null}}t.$watch("show",(function(e){if(void 0===e)return;e&&a()}));t.$watch("model",(function(e){if(t.isLoadingCardImageFlag){var n=e?e.genericType:"";e&&e.layout&&e.layout.qUndoExclude&&e.layout.qUndoExclude.generated&&(n=e.layout.qUndoExclude.generated.visualization);s(c["a"].getLoadingImageAnimationUrlFromChartType(n))}}));t.resize&&(r=t.resize(a));a();t.$on("$destroy",(function(){r&&r();t.isLoadingCardImageFlag&&p()}))}}}])},"st+L":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("yB4Y"),i=function(){function e(){}return e.qualifyDuplicatedFieldNames=function(t,n){return e.qualifyNewDuplicatedFieldNamesImpl(t,n,!1)},e.qualifyNewDuplicatedFieldNames=function(t,n,r){return e.qualifyNewDuplicatedFieldNamesImpl(t,n,r)},e.qualifyNewDuplicatedFieldNamesImpl=function(t,n,i){var a=t.tableModels.reduce((function(e,t){return e[t.getTableAlias()]=t,e}),{}),o=n.tableModels.filter((function(e){return!!a[e.getTableAlias()]})),s=n.tableModels.filter((function(e){return!a[e.getTableAlias()]}));i&&(s=s.filter((function(t){var n=e.findTableWithSameFields(o,t);return!n||(e.applySameFieldAliases(n,t),!1)})));var l=[];s.forEach((function(t,n){var r=null;if(i&&n>0&&(r=e.findTableWithSameFields(s.slice(0,n),t)),r){var a=t.data.fields.filter(e.selectedFieldFilter).reduce((function(n,r){return n[e.getUnqualifiedFieldName(t,r)]=r,n}),{});l.filter((function(e){return e.table===r})).forEach((function(n){var r=e.getUnqualifiedFieldName(n.table,n.field);n.links=n.links||[],n.links.push({table:t,field:a[r]})}))}else l=l.concat(t.data.fields.filter(e.selectedFieldFilter).map((function(e){return{table:t,field:e}})))}));var c=[];o.forEach((function(t){var n=e.getSelectedFieldsByName(a[t.getTableAlias()]);l=l.concat(t.data.fields.filter(e.selectedFieldFilter).filter((function(e){return!n[e.name]})).map((function(e){return{table:t,field:e}}))),c=t.data.fields.filter(e.selectedFieldFilter).filter((function(e){var t=n[e.name];return!(!t||t.alias===e.alias)})).map((function(e){return{table:t,field:e}}))}));var u=o.reduce((function(t,n){var r=a[n.getTableAlias()],i=e.getSelectedFieldsByName(r);return n.data.fields.filter(e.selectedFieldFilter).filter((function(e){return!!i[e.name]})).forEach((function(e){var r=n.getFieldAlias(e.name);t[r]=(t[r]||0)+1})),t}),{});t.targetTableModels.forEach((function(e){e.data.fields.filter((function(e){return e.type!==r.DSMTypes.QueryField.name})).forEach((function(e){u[e.name]=(u[e.name]||0)+1}))}));var d=l.reduce((function(e,t){var n=t.table.getFieldAlias(t.field.name);return e[n]=(e[n]||0)+1,e}),{});this.qualifyFieldName(l,u,d,n,!0),this.qualifyFieldName(c,u,d,n,!1)},e.shouldQualifyWithTableGroupId=function(e,t){var n=t.table,r=t.field,i=!1;return n.data.tableGroupId&&n.data.lockSameGroupAssociations&&(i=e,n.data.tableGroupDirections&&n.data.tableGroupDirections.qualify&&(i=!1,r.tableGroupFieldInfo&&r.tableGroupFieldInfo.isKey&&(i=!0))),i},e.qualifyFieldName=function(t,n,r,i,a){t.forEach((function(t){var o=t.table.getFieldAlias(t.field.name),s=!0;t.table.data.connectionInfo&&"script"===t.table.data.connectionInfo.typeName&&(s=!1);var l=a?0:1,c=n[o]>l||r[o]>1;if(s&&(c||e.shouldQualifyWithTableGroupId(c,t))){var u=t.table.getFieldQualifiedName(o),d=u,f=1;if(e.shouldQualifyWithTableGroupId(c,t))u=t.table.data.tableGroupId+"."+o;else for(;i.isFieldNameInUse(u);)f++,u=d+"_"+f;t.table.setFieldAlias(t.field.name,u),t.links&&t.links.forEach((function(e){e.table.setFieldAlias(e.field.name,u)}))}}))},e.selectedFieldFilter=function(e){return e.selected},e.getSelectedFieldsByName=function(t){return t.data.fields.filter(e.selectedFieldFilter).reduce((function(e,t){return e[t.name]=t,e}),{})},e.getUnqualifiedFieldName=function(e,t){var n=t.alias?t.alias:t.name;if(t.alias!==t.name){var r=e.getFieldQualifiedName(""),i=n.indexOf(r);if(0===i&&n.length>r.length){var a=n.substr(r.length).replace(/\.\./g,"."),o=e.getTableGroupId();return o&&0===a.indexOf(o+".")&&(a=a.substring(o.length+1)),a}var o=e.getTableGroupId(),a=n;if(o&&0===a.indexOf(o+"."))return a.substring(o.length+1)}return n},e.findTableWithSameFields=function(t,n){function r(t){var n=t.data.fields.filter(e.selectedFieldFilter).map((function(n){var r=e.getUnqualifiedFieldName(t,n);return r.replace(/|/g,"||")}));return n.sort(),n}for(var i=null,a=r(n).join("|"),o=0;o<t.length;o++){var s=t[o];if(s!==n&&a===r(s).join("|")){i=s;break}}return i},e.applySameFieldAliases=function(t,n){var r=t.data.fields.reduce((function(n,r){var i=e.getUnqualifiedFieldName(t,r);return n[i]=t.getFieldAlias(r.name),n}),{});n.data.fields.forEach((function(t){var i=e.getUnqualifiedFieldName(n,t),a=r[i];a&&a!==i&&n.setFieldAlias(t.name,a)}))},e}();i.FLAGS={DetectAutoConcatenate:{Yes:!0,No:!1}},t.DSFieldsQualifications=i},stK3:function(e,t,n){"use strict";var r=n("mWu2");var i=n("wIyQ");var a=n("G1wx");var o=n("qIEf");var s=n.n(o);var l=n("MEqe");s.a.widget("qv.pager",{options:{itemSelector:">li",orientation:"horizontal",pageSize:"auto",startPage:1,animationDuration:300},_create:function e(){var t=this.options;s.a.extend(this,{positionProperty:"horizontal"===t.orientation?"left":"top",sizeProperty:"horizontal"===t.orientation?"outerWidth":"outerHeight"});this.refresh();this.goToPage(t.startPage)},isItemInsidePage:function e(t){var n=s()(t);var r=n.position()[this.positionProperty]+n[this.sizeProperty]();var i=Math.abs(parseFloat(n.parent().css("margin-".concat(this.positionProperty))));var a=i+this.containerSize;return r>i&&r<a},calculatePageSize:function e(){return Math.floor(this.containerSize/this.calculateItemSize())},calculateItemSize:function e(){return this.element.find(this.options.itemSelector).eq(0)[this.sizeProperty]()},refresh:function e(){var t=this.currentPage||1;this.containerSize=this.element.parent()[this.sizeProperty]();this.pageSize="auto"===this.options.pageSize?this.calculatePageSize():this.options.pageSize;this.itemSize=this.calculateItemSize();this.maxPages=Math.ceil(this.element.find(this.options.itemSelector).length/this.pageSize||1);this.currentPage=Math.min(t,this.maxPages);this.goToPage(this.currentPage)},goToPage:function e(t){this.currentPage=Math.min(Math.max(1,t),this.maxPages);var n=(this.currentPage-1)*this.itemSize*this.pageSize;var r={};r[this.positionProperty]="".concat(-n,"px");this.element.stop(true).animate(r,this.options.animationDuration)},goToPreviousPage:function e(){this.goToPage(this.currentPage-1)},goToNextPage:function e(){this.goToPage(this.currentPage+1)},goToPageContaining:function e(t){var n=Math.ceil(this.element.find(t).index()+1/this.pageSize);this.goToPage(n)},_destroy:function e(){this.element.off(this.eventNamespace)}});var c=s.a;r["default"].directive("qvPager",["$timeout",function(e){return{restrict:"A",priority:0,link:function t(n,r){a["a"].treatAsDesktop()||r.css("overflow-x","auto");n.pagerData=r.find("ul").pager().data("qv-pager");r.addClass("qv-pager");n.nextPage=function(){e((function(){n.pagerData.goToNextPage();n.refreshPager(true)}))};n.prevPage=function(){e((function(){n.pagerData.goToPreviousPage();n.refreshPager(true)}))};n.goToPage=function(e){n.pagerData.goToPage(e);n.refreshPager(true)};n.refreshPager=function(e){var t="";e||n.pagerData.refresh();r.removeClass("qv-pager-back qv-pager-forward");if(1!==n.pagerData.currentPage){n.showShadow=true;t+="qv-pager-back "}else n.showShadow=false;n.pagerData.currentPage!==n.pagerData.maxPages&&(t+="qv-pager-forward ");r.addClass(t)};function o(){n.refreshPager()}n.$on("refreshPager",o);n.$on("$destroy",(function(){i["a"].off("end",o)}))}}}])},szcw:function(e,t,n){"use strict";var r=n("mWu2");var i='<div class="filesettings">\n\t<div ng-switch="layout">\n\n\t\t\x3c!-- EXCEL SETTINGS --\x3e\n\t\t<div ng-switch-when="TYPE9_EXCEL_BIFF" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_headersize\'"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- EXCEL SETTINGS --\x3e\n\t\t<div ng-switch-when="TYPE9_EXCEL_OOXML" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_headersize\'"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- CSV SETTINGS --\x3e\n\t\t<div ng-switch-when="TYPE9_CSV" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_headersize\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_delimiter\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_codepage\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_inline\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_oef\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_comment\'"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- FIXED FILES --\x3e\n\t\t<div ng-switch-when="TYPE9_FIX" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_headersize\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_fixedwidth_delimiters\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_codepage\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_tab_size\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_recordsize\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_oef\'"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- HTML SETTINGS --\x3e\n\t\t<div ng-switch-when="TYPE9_HTML" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_codepage\'"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n\x3c!-- Templates --\x3e\n\n<script type="text/ng-template" id="setting_area_labels">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.labels"></div>\n\t<div class="setting">\n\t\t<lui-select x-model="currentSettings.labelStrategy" x-options="option|translatelabelstrategy|translate for option in currentSettings.labelStrategyOptions" x-disabled="tableFieldsDisabled"></lui-select>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_headersize">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.headersize"></div>\n\t<div class="headerSizeSetting">\n\t\t<ds-number-input\n\t\t\tmin-input="0"\t\n\t\t\tmax-input="9999999"\n\t\t\tselector-class="headerSizeInput"\n\t\t\tmodel="currentSettings.nbrOfHeaderLinesToRemove"\n\t\t\tdisabled="tableFieldsDisabled"\n\t\t\tinput-tid="headerSizeTid">\n\t\t</ds-number-input>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_delimiter">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.delimiter"></div>\n\t<div class="setting">\n\t\t<lui-select x-model="currentSettings.delimiter" x-options="option|delimitertotitle group by option.kind|translate for option in currentSettings.delimiterOptions"></lui-select>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_fixedwidth_delimiters">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.fixpositions"></div>\n\t<div class="setting">\n\t\t<input class="lui-input" ng-class="{ \'qui-invalid\': !isFixedWidthDelimitersValid() }" type="text" ng-model="currentSettings.fixedWidthDelimiters" ng-disabled="tableFieldsDisabled" maxlength="250"/>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_codepage">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.codepage"></div>\n\t<div class="setting">\n\t\t<lui-select class="codepageselect" x-model="currentSettings.codepage" x-options="option.title group by option.kind|translate for option in currentSettings.codepageOptions">\n\t\t</lui-select>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_inline">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.quoting"></div>\n\t<div class="setting">\n\t\t<lui-select x-model="currentSettings.quoting" x-options="option|quotingvaluetolabelkey|translate for option in currentSettings.quotingOptions">\n\t\t</lui-select>\n\t</div>\n<\/script>\n\n<script type="text/ng-template" id="setting_area_oef">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.ignoreEOF"></div>\n\t<div class="setting">\n\t\t<lui-checkbox x-model="currentSettings.ignoreEOF"></lui-checkbox>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_comment">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.comment"></div>\n\t<div class="setting">\n\t\t<input class="lui-input" type="text" ng-model="currentSettings.comment" qva-model-onblur maxlength="250" />\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_recordsize">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.recordsize"></div>\n\t<div class="headerSizeSetting">\n\t\t<ds-number-input\n\t\t\tmin-input="0"\t\n\t\t\tmax-input="9999999"\n\t\t\tselector-class="recordSizeInput"\n\t\t\tmodel="currentSettings.recordSize"\n\t\t\tdisabled="tableFieldsDisabled"\n\t\t\tinput-tid="recordSizeTid">\n\t\t</ds-number-input>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_tab_size">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.tabsize"></div>\n\t<div class="headerSizeSetting">\n\t\t<ds-number-input\n\t\t\tmin-input="1"\t\n\t\t\tmax-input="9999999"\n\t\t\tselector-class="headerSizeInput"\n\t\t\tmodel="currentSettings.tabSize"\n\t\t\tdisabled="tableFieldsDisabled"\n\t\t\tinput-tid="tabSizeTid">\n\t\t</ds-number-input>\n\t</div>\n\n<\/script>\n';var a=n("6uJb");var o=n("RnDN");r["default"].filter("translatelabelstrategy",[function(){return function(e){return"scripteditor.dataconnectors.labelstrategy.".concat(e.replace(" ","_"))}}]);r["default"].filter("quotingvaluetolabelkey",[function(){return function(e){if("none"===e)return"Common.None";if("standard"===e)return"Common.Standard";return"scripteditor.dataconnectors.quoting.".concat(e.replace(" ","_"))}}]);r["default"].filter("delimitertotitle",[function(){return function(e){if("Common.Standard"===e.kind)return a["default"].get(e.name);return"".concat(e.number,". ").concat(a["default"].get(e.name))}}]);function s(e){this.template=i;this.controller=["$scope",function(t){t.currentSettings={};t.tableFieldsDisabled=true;t.$watch("ownerName",(function(e){t.layout=e}));var n;t.$watch("tableName",(function(){t.currentSettings=e.getSettingsModelForTable(t.databaseName,t.ownerName,t.tableName);t.tableName&&(t.tableFieldsDisabled=false);n&&n();n=t.$watch("settingsAsText()",(function(e,n){t.tableName&&t.currentSettings&&e!==n&&t.onRefresh({})}))}));t.settingsAsText=function(){return t.currentSettings.getCompiledSettings()};t.isFixedWidthDelimitersValid=function(){return o["a"].isValid(t.currentSettings.fixedWidthDelimiters)};t.$parent.$parent.setFixedWidthGUIControllerOnChangeListener((function(e){t.currentSettings.fixedWidthDelimiters=e.join(",");t.$apply()}));t.$watch("currentSettings.fixedWidthDelimiters",(function(){t.$parent.$parent.specialTableSettingsOk=t.isFixedWidthDelimitersValid();t.isFixedWidthDelimitersValid()&&t.$parent.$parent.onFixedWidthDelimitersInputChange(t.currentSettings.fixedWidthDelimiters)}));t.headerSizeInput="header-size-input";t.recordSizeInput="record-size-input";t.tabSizeInput="tab-size-input";t.headerSizeTid="ds-header-size-input";t.recordSizeTid="ds-record-size-input";t.tabSizeTid="ds-tab-size-input"}]}var l=t["a"]=s},t27K:function(e,t,n){"use strict";var r=n("Rz9y");var i=n.t("Rz9y",1);var a=n("wD8I");var o=n.t("wD8I",1);var s=n("czhI");var l=n.n(s);var c=n("/2No");var u=n("acVu");function d(e){var t="".concat(c["a"].localResourcesPath).concat(e);return l.a.get(t,{responseType:"json",withCredentials:false}).then((function(e){if(e.data)return e.data;console.warn("Parsing error for extension: ".concat(t));return{}})).catch((function(e){console.warn("Couldn't get bundled extensions qext: ".concat(t,". Error: ").concat(e));return{}}))}var f={};f.getDashBundleList=function(){var e=r.content.map((function(e){if("qlik-share-button"===e.id&&!Object(u["b"])("SHARE_BUTTON_EXTENSION"))return;if("qlik-animator"===e.id&&!Object(u["b"])("QCS_DASH_ANIMATOR"))return;if("sn-video-player"===e.id&&!Object(u["b"])("HTML5_VIDEO_PLAYER"))return;return d("_dashboard-bundle/".concat(e.id,"/").concat(e.id,".qext")).then((function(t){t.folder="_dashboard-bundle";return{id:e.id,data:t,path:"_dashboard-bundle/".concat(e.id,"/").concat(e.id)}}))}));return e.filter((function(e){return e}))};f.getVisBundleList=function(){var e=a.content.map((function(e){if(!Object(u["b"])("VIZBUN_QCS_SMARTPIVOT")&&"qlik-smart-pivot"===e.id)return;if(!Object(u["b"])("VIZBUN_QCS_TRELLIS")&&"qlik-trellis-container"===e.id)return;if(!Object(u["b"])("VIZBUN_QCS_VARIANCE_WATERFALL")&&"qlik-variance-waterfall"===e.id)return;if(!Object(u["b"])("VIZBUN_QCS_ORG_CHART")&&"sn-org-chart"===e.id)return;if(!Object(u["b"])("VIZBUN_GRID_CHART")&&"sn-grid-chart"===e.id)return;if(!Object(u["b"])("VIZBUN_QCS_31")&&("qlik-barplus-chart"===e.id||"qlik-bullet-chart"===e.id))return;return d("_visualization-bundle/".concat(e.id,"/").concat(e.id,".qext")).then((function(t){t.folder="_visualization-bundle";return{id:e.id,data:t,path:"_visualization-bundle/".concat(e.id,"/").concat(e.id)}}))}));return e.filter((function(e){return e}))};t["a"]=f},t9Fd:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("lPl/");t["a"]=function(e){return i.a.createElement(a["a"],Object.assign({d:"M14.5,11.5029 C14.5,12.0465088 14.0965576,12.5 13.503,12.5 L13,12.5 L12,12.5 L11,12.5 L5.5,12.5 C5.5,12.5322266 6,12.0367432 6,11.5 L6,11 L11,10.9999 L12,10.9999 L13,10.9999 L14.5,10.9999 L14.5,11.5029 Z M4.5,10.7 L4.5,11.15 C4.5,11.8952 3.75991667,12.5 3,12.5 C2.24008333,12.5 1.5,11.8952 1.5,11.15 L1.5,10.7 L1.5,10.25 L1.5,9.8 L1.5,3.68 C1.5,3.5801 1.58158333,3.5 1.68333333,3.5 L12.3175833,3.5 C12.4184167,3.5 12.5,3.5801 12.5,3.68 L12.5,9.5 L11.5833333,9.5 L10.6666667,9.5 L5.16666667,9.5 L4.5,9.5 L4.5,10.7 Z M15,9.5 L14,9.5 L14,2.9999 C14,2.4469 13.553,1.9999 13.001,1.9999 L1,1.9999 C0.447,1.9999 0,2.4469 0,2.9999 L0,9.9999 L0,10.4999 L0,10.9999 L0,11.4999 C0,12.8789 1.122,13.9999 2.5,13.9999 L11,13.9999 L12,13.9999 L13,13.9999 L13.503,13.9999 C14.88,13.9999 16,12.8799 16,11.5029 L16,10.9999 L16,9.5 L15,9.5 Z"},e))}},tE54:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("GWeQ");var o=n("vLHF");var s=n("MUVh");var l=n("cmwo");var c=n("1ZNj");var u=Object(c["a"])(6);var d=Object(a["a"])({productionPrefix:"",disableGlobal:true,seed:u});t["a"]=function(e){var t=e.children;return i.a.createElement(o["b"],{generateClassName:d},i.a.createElement(s["a"],{theme:l["b"]},t))}},"tIy+":function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("lPl/");t["a"]=function(e){return i.a.createElement(a["a"],Object.assign({d:"M9.41421356,8 L11.8890873,5.52512627 C12.065864,5.34834957 12.0305087,4.95944084 11.8183766,4.74730881 L11.2526912,4.18162338 C11.0405592,3.96949135 10.6516504,3.93413601 10.4748737,4.1109127 L8,6.58578644 L5.52512627,4.1109127 C5.34834957,3.93413601 4.95944084,3.96949135 4.74730881,4.18162338 L4.25233406,4.67659813 C3.96949135,4.95944084 3.93413601,5.34834957 4.1109127,5.52512627 L6.58578644,8 L4.1109127,10.4748737 C3.93413601,10.6516504 3.96949135,11.0405592 4.18162338,11.2526912 L4.67659813,11.7476659 C4.95944084,12.0305087 5.34834957,12.065864 5.52512627,11.8890873 L8,9.41421356 L10.4748737,11.8890873 C10.6516504,12.065864 11.0405592,12.0305087 11.2526912,11.8183766 L11.8183766,11.2526912 C12.0305087,11.0405592 12.065864,10.6516504 11.8890873,10.4748737 L9.41421356,8 Z M8,0 C12.4,0 16,3.6 16,8 C16,12.4 12.4,16 8,16 C3.6,16 0,12.4 0,8 C0,3.6 3.6,0 8,0 Z"},e))}},tPZ6:function(e,t,n){"use strict";t["a"]={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSED_NO_STATUS:1005,CLOSE_ABNORMAL:1006,CLOSE_TOO_LARGE:1009,CLOSE_MANUAL_SUSPEND:4e3,CLOSE_IDLE_TIMEOUT:4001,SOCKET_RESUME_FAILED:4420}},tYBh:function(e,t,n){"use strict";function r(){var e=i().concat(a());return e}function i(){var e;var t=[{number:"59",name:"scripteditor.dataconnectors.delimiter.semicolon",scriptCode:";",kind:"Common.Standard"},{number:"44",name:"scripteditor.dataconnectors.delimiter.comma",scriptCode:",",kind:"Common.Standard"},{number:"9",name:"scripteditor.dataconnectors.delimiter.tab",scriptCode:"\\t",kind:"Common.Standard"},{number:"32",name:"scripteditor.dataconnectors.delimiter.spaces",scriptCode:"spaces",multiple:true,kind:"Common.Standard"}];for(e in t)t[e].title=t[e].name;return t}function a(){var e=[];var t;var n;for(t=0;t<=127;t++){n=String.fromCharCode(t);e[t]={number:"".concat(t),name:n,scriptCode:n.match(/\w/)?"'".concat(n,"'"):"'\\x".concat(t.toString(16),"'"),kind:"Common.Custom"}}e[0].name="NUL";e[1].name="SOH";e[2].name="STX";e[3].name="ETX";e[4].name="EOT";e[5].name="ENQ";e[6].name="ACK";e[7].name="BEL";e[8].name="BS";e[9].name="scripteditor.dataconnectors.delimiter.tab";e[10].name="LF";e[11].name="VT";e[12].name="FF";e[13].name="CR";e[14].name="SO";e[15].name="SI";e[16].name="DLE";e[17].name="DC1 (XON)";e[18].name="DC2";e[19].name="DC3 (XOFF)";e[20].name="DC4";e[21].name="NAK";e[22].name="SYN";e[23].name="ETB";e[24].name="CAN";e[25].name="EM";e[26].name="SUB";e[27].name="ESC";e[28].name="FS";e[29].name="GS";e[30].name="RS";e[31].name="US";e[32].name="scripteditor.dataconnectors.delimiter.space";e[44].name="scripteditor.dataconnectors.delimiter.comma";e[59].name="scripteditor.dataconnectors.delimiter.semicolon";e[127].name="DEL";e[8].scriptCode="'\\b'";e[9].scriptCode="'\\t'";e[10].scriptCode="'\\n'";e[13].scriptCode="'\\r'";e[32].scriptCode="' '";e[39].scriptCode='"\'"';e[92].scriptCode="\\\\";e[32].scriptCode="' '";e.splice(33,0,{number:"32",name:"scripteditor.dataconnectors.delimiter.spaces",scriptCode:"spaces",multiple:true,kind:"Common.Custom"});return e}var o=r();var s=n("RnDN");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function u(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}var d="embedded labels";var f="no labels";function p(e){if(e&&"false"!==e)return true;return false}function h(e){if(e.qIsMultiple&&"false"!==e.qIsMultiple)return o.filter((function(e){return"spaces"===e.scriptCode}))[0];return o.filter((function(t){return t.number===e.qNumber.toString()}))[0]}function v(e,t){return e.filter((function(e){return e.number===t}))[0]}var m=function(){function e(t,n){l(this,e);this.labelStrategyOptions=[d,f];this.quotingOptions=["standard","msq","none"];this.delimiterOptions=o;this.codepageOptions=n;t&&"undefined"!==typeof t.qHeaderSize?this.nbrOfHeaderLinesToRemove="".concat(t.qHeaderSize):this.nbrOfHeaderLinesToRemove=0;t&&"undefined"!==typeof t.qTabSize?this.tabSize=t.qTabSize:this.tabSize=1;this.formatSpec="undefined format spec";t&&"undefined"!==typeof t.qIgnoreEOF?this.ignoreEOF=t.qIgnoreEOF:this.ignoreEOF=false;t&&"undefined"!==typeof t.qFixedWidthDelimiters?this.fixedWidthDelimiters=t.qFixedWidthDelimiters:this.fixedWidthDelimiters="1";this.fixedWidthDelimitersLastValid=this.fixedWidthDelimiters;t&&"undefined"!==typeof t.qRecordSize?this.recordSize=-t.qRecordSize:this.recordSize=0;t&&"undefined"!==typeof t.qComment?this.comment=t.qComment:this.comment="";t&&t.qLabel?t.qType&&0===t.qType.indexOf("TYPE9_EXCEL_")?this.labelStrategy=d:this.labelStrategy=t.qLabel:this.labelStrategy=this.labelStrategyOptions[0];t&&t.qDelimiter?this.delimiter=h(t.qDelimiter):this.delimiter=o[0];t&&t.qQuote?this.quoting=t.qQuote:this.quoting=this.quotingOptions[0];t&&t.qCodePage?this.codepage=v(this.codepageOptions,t.qCodePage):this.codepage=this.codepageOptions[0];t&&"undefined"!==typeof t.qIgnoreEOF?this.ignoreEOF=p(t.qIgnoreEOF):this.ignoreEOF=false}u(e,[{key:"setFormatSpec",value:function e(t){this.formatSpec=t}},{key:"getFormatSpec",value:function e(){return this.formatSpec}},{key:"getCompiledSettings",value:function e(){return JSON.stringify(this.getParamsForEngine())}},{key:"getParamsForEngine",value:function e(){s["a"].isValid(this.fixedWidthDelimiters)&&(this.fixedWidthDelimitersLastValid=this.fixedWidthDelimiters);return{qLabel:this.labelStrategy,qHeaderSize:parseInt(this.nbrOfHeaderLinesToRemove,10),qDelimiter:{qNumber:parseInt(this.delimiter.number,10),qIsMultiple:!!this.delimiter.multiple},qQuote:this.quoting,qCodePage:this.codepage.number,qIgnoreEOF:p(this.ignoreEOF),qFixedWidthDelimiters:this.fixedWidthDelimitersLastValid,qTabSize:this.tabSize,qRecordSize:-1*this.recordSize,qComment:this.comment}}}]);return e}();var g=m;function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function w(e,t,n){t&&y(e.prototype,t);n&&y(e,n);return e}var S=function(){function e(){b(this,e)}w(e,[{key:"setSettingsGuess",value:function e(t){this.settingsGuess=t}},{key:"getParamsForEngine",value:function e(){return{}}}]);return e}();var x=S;function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function E(e,t,n){t&&q(e.prototype,t);n&&q(e,n);return e}var I={};var k={};var A=function(){function e(t,n,r){C(this,e);this.datasourceInstance=t;this.codepageOptions=n;this.dataconnectionSelectionEditor=r}E(e,[{key:"getSettingsModelForFile",value:function e(t){t||(t="");k[t]||(k[t]=new x);return k[t]}},{key:"getSettingsModelForTable",value:function e(t,n,r){t||(t="");n||(n="");r||(r="");var i="".concat(this.datasourceInstance.name,"/").concat(t,"/").concat(n,"/").concat(r);if(!I[i]){var a=this.getSettingsModelForFile(t,n).settingsGuess;if(this.dataconnectionSelectionEditor){var o=this.dataconnectionSelectionEditor.getTableModelByDatabasePath(t,n,r);o&&o.data.fileFormatSettings&&(a=o.data.fileFormatSettings)}I[i]=new g(a,this.codepageOptions)}return I[i]}}]);return e}();var T=t["a"]=A},tdEy:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},"tdr+":function(e,t,n){"use strict";var r=n("mWu2");var i=n("czhI");var a=n.n(i);var o=n("sWge");var s=n("/2No");var l={allPoolPromises:[],enqueueRequest:function e(t,n,r,i){return l.enqueueReportRequest(t,n,r.timeoutMsec,r.checkInterval,i)},enqueueReportRequest:function e(t,n,i,c,u){var d="".concat(s["a"].rootPath,"api/v1/reports");var f=Object(o["a"])();var p=l.getStates();var h=i||12e4;var v=c||2e3;var m=h/v;var g=0;var b;var y=r["default"].getService("$http");var w=r["default"].getService("$interval");a.a.post(d,t).then((function(e){var t=e.headers["content-location"];if(!t)return f.reject({status:p.FAILED,data:e.data,httpStatusCode:e.status});var r=function e(){g++;if(g>m){l.cancel(b||n);f.reject({status:p.TIMEOUT});return}y({url:t,method:"GET"}).then((function(e){if(200===e.status)switch(e.data.status){case"done":var t=e.data.results[0].location;l.cancel(b||n);f.resolve({status:p.COMPLETED,qUrl:t,reporting:true});break;case"failed":console.error(e.data);l.cancel(b||n);f.reject({status:p.FAILED,data:e.data,httpStatusCode:e.status});break;default:break}}),(function(e){l.cancel(b||n);f.reject({status:p.FAILED,data:e.data,httpStatusCode:e.status})}))};var i=w(r,v);b=u&&i.$$intervalId;l.addToPoolPromises(n,i,u);r();return}),(function(e){f.reject({status:p.FAILED,data:e.data,httpStatusCode:e.status})}));return f.promise},enqueueImageRequest:function e(t,n,i,s,c){var u=c?"".concat(c,"/api/v1/images"):"/api/v1/images";var d=Object(o["a"])();var f=l.getStates();i=i||12e4;s=s||3e3;var p=i/s;var h=0;var v=r["default"].getService("$http");var m=r["default"].getService("$interval");var g=null;a.a.post(u,t).then((function(e){var t=e.headers["content-location"];var r=function e(){h++;if(h>p){m.cancel(g);d.reject({status:f.TIMEOUT});return}v({url:t,method:"GET"}).then((function(e){if(200===e.status)if(e.data.message){console.error(e.data.message);m.cancel(g);d.reject({status:f.FAILED,data:e.data,httpStatusCode:e.status})}else{var t=e.config.url;m.cancel(g);d.resolve({status:f.COMPLETED,qUrl:t,reporting:true})}}),(function(e){m.cancel(g);d.reject({status:f.FAILED,data:e.data,httpStatusCode:e.status})}))};g=m(r,s);l.addToPoolPromises(n,g)}),(function(e){d.reject({status:f.FAILED,data:e.data,httpStatusCode:e.status})}));return d.promise},addToPoolPromises:function e(t,n,r){!r&&l.cancel(t);var i=r?n.$$intervalId:t;l.allPoolPromises[i]=n},cancel:function e(t){var n=l.allPoolPromises[t];if(n){var i=r["default"].getService("$interval");i.cancel(n);l.allPoolPromises[t]=null}},cancelAll:function e(){Object.keys(l.allPoolPromises).forEach((function(e){l.cancel(e)}));l.allPoolPromises=[]},getStates:function e(){return{NODATA:-4,CANCELED:-3,TIMEOUT:-2,FAILED:-1,IDLE:0,PENDING:1,COMPLETED:2}}};var c=l;var u=n("GbxD");var d=n("lCV6");var f=n("Vd/s");var p=n.n(f);var h=n("PX8M");var v=n("6uJb");var m=n("ydY7");var g=n("Pu84");var b=n("qbMp");var y=n("acVu");function w(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){w(a,r,i,o,s,"next",e)}function s(e){w(a,r,i,o,s,"throw",e)}o(void 0)}))}}function x(){return Object(y["b"])("DOWNLOAD_USE_REPORTING")}function C(){return Object(y["b"])("DOWNLOAD_OBJECT_MOBILE")}function q(e,t,n,r,i,a,s){if(!x()){if("data"===n){var l=e.model;var f=e.ext.options.hyperCubePath||"";return l.exportData(null,f,l.layout.title||null)}return d["a"].printTree(e,r,i,t,n)}var p=s?o["a"].resolve(s):h["a"].getApp();var v="sheet"===a?e.sheetId:e.model.id;var m="sheet"===a?e.gridService:e;return p.then((function(e){return e.global.getConfiguration().then((function(t){if(t.qFeatures.qAutoSave&&e.layout.permissions.update)return e.doSave();return})).then((function(){return u["a"].createPayload(v,m,t,a,n).then((function(e){return c.enqueueRequest(e.payload,n,t)}))}))}))}function E(e,t,n,r,i,a,o,s,l){if(!Object(y["b"])("DOWNLOAD_USE_REPORTING")){if("data"===o)return l.table.exportData(a).then((function(e){return n+e}));return d["a"].printObject(e,t,n,r,i,a,o)}var f;var p=s;if(t.model._expendable){f=JSON.stringify(t.model._createArgs).replace(/"/g,'\\"');p="sessionobject"}var h=true;return u["a"].createPayload(f||t.model.id,t,a,p,o,t.qapp).then((function(e){return c.enqueueRequest(e.payload,o,a,h)}))}function I(e){return k.apply(this,arguments)}function k(){k=S(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n="pdf";o.next=3;return h["a"].getApp();case 3:r=o.sent;o.next=6;return r.global.getConfiguration();case 6:i=o.sent;if(!(i.qFeatures.qAutoSave&&r.layout.permissions.update)){o.next=10;break}o.next=10;return r.saveObjects();case 10:o.next=12;return u["a"].createPayload(t.id,t,{},"story",n);case 12:a=o.sent;return o.abrupt("return",c.enqueueRequest(a.payload,n,{timeoutMsec:48e4}));case 14:case"end":return o.stop()}}),e)})));return k.apply(this,arguments)}function A(){Object(y["b"])("DOWNLOAD_USE_REPORTING")?c.cancelAll():d["a"].cancel()}function T(){if(Object(y["b"])("DOWNLOAD_USE_REPORTING"))return c.getStates();return d["a"].getStates()}function D(e){var t=new Promise((function(t,n){if(Object(y["b"])("DOWNLOAD_USE_REPORTING"))t(e);else{var i=r["default"].getService("$http");i({url:e,method:"GET",responseType:"blob"}).then((function(e){if("application/pdf"===e.data.type){var r=URL.createObjectURL(e.data);t(r)}else n(new Error("Url doesn't return pdf blob"))}),(function(e){n(e)}))}}));return t}function O(e,t,n,i){var a=r["default"].getService("$http");a({url:e,method:"GET",responseType:"blob"}).then((function(e){var r=t?"".concat(t,".").concat(n):void 0;p.a.saveAs(e.data,r)}),i)}function L(e,t){var n=50;var r="Qlik Sense";var i=" - ";var a;if("sheet"===t||"story"===t){var o=e.layout;a=o.labelExpression||o.qMeta.title}else{a=g["a"].getTitle(e);a.length>n?a="".concat(a.substring(0,n-3),"..."):a||(a=v["default"].get("Common.Untitled")+P(e,i))}return r+i+a+M(i)}function M(e){var t={year:"numeric",month:"long",day:"numeric"};return e+(new Date).toLocaleDateString(v["default"].language,t)}function P(e,t){var n=m["a"].get(e);if(n){var r=new b["a"]({type:n}).getLibraryInfo().translationKey;var i=v["default"].get(r);return i===r?"":t+i}return""}var N=t["a"]={requestDownload:q,requestDownloadExternal:E,requestDownloadStory:I,cancel:A,getStates:T,getPdfEmbedUrl:D,downloadFile:O,getUsingReportingService:x,getMobileDownloadFlag:C,getFileName:L}},tgnP:function(e,t,n){"use strict";var r=n("2Hli");var i=n("4nJ1");function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}var o={createBaseAttributeStructure:function e(t){var n={};n.qExpression={};n.qNumFormat={};n.cId=i["a"].generateId();n.autoSort=true;n.qAttribute=true;n.id=t;return n},createNewAttributeExpression:function e(t,n,r){var i=this.createBaseAttributeStructure(t);i.qLabel=r?"":n;i.qExpression=r?n.qStringExpression.qExpr:"";return i},getLastIndex:function e(t,n){return r["a"].getValue(t,n,[]).length-1},setAttributeExpression:function e(t,n,i,o){var s="qHyperCubeDef.qDimensions";var l=void 0!==o?o:this.getLastIndex(t,s);var c="".concat(s,".").concat(l,".qAttributeExpressions");var u=r["a"].getValue(t,c,[]);var d="object"===a(i);for(var f=0;f<u.length;f++)if(u[f].id===n){if(d){u[f].qExpression=i.qStringExpression.qExpr;u[f].qLabel=""}else{u[f].qLabel=i;u[f].qExpression=""}return"".concat(c,".").concat(f)}var p=this.createNewAttributeExpression(n,i,d);u.push(p);return"".concat(c,".").concat(u.length-1)},getPathToAttrExprInfo:function e(t,n,i){var a="qHyperCubeDef.qDimensions";var o=void 0!==i?i:this.getLastIndex(t,a);var s="".concat(a,".").concat(o,".qAttributeExpressions");var l=r["a"].getValue(t,s,[]);for(var c=0;c<l.length;c++)if(l[c].id===n)return"".concat(s,".").concat(c);return},getValueForAttrExprInfo:function e(t,n,i){var a=this.getPathToAttrExprInfo(t,n,i);if(a){var o=r["a"].getValue(t,a,{});if(void 0!==o.qExpression&&""!==o.qExpression)return{qStringExpression:{qExpr:o.qExpression}};return o.qLabel}return""}};t["a"]=o},"thg+":function(e,t,n){"use strict";var r=n("mWu2");var i=n("zjn0");var a=n("jaci");r["default"].directive("qvaDirection",[function(){return{restrict:"A",link:function e(t,n,r){function o(){var e=r.dirSetting?r.dirSetting:a["a"].direction;var t=r.dirText;var o=t?i["a"].detectTextDirection(t):e;n.attr("dir",o);"rtl"===o?n.addClass("qv-rtl-text"):n.removeClass("qv-rtl-text");"rtl"===e?n.addClass("qv-rtl-layout"):n.removeClass("qv-rtl-layout")}o();r.$observe("dirText",o);r.$observe("dirSetting",o)}}}])},"u/FM":function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("yB4Y");var o=n.n(a);var s=n("SbEb");var l=n.n(s);var c=n("6uJb");var u=n("acVu");function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function p(e,t,n){t&&f(e.prototype,t);n&&f(e,n);return e}var h=function(){function e(){d(this,e)}p(e,[{key:"processTargetTablesResponse",value:function e(t,n){var r=this;var o=[];t.tables.forEach((function(e){if(r.isKnownQueryType(e.sourceType)){var t=n.getTargetTableModelById(e.id);if(t){var s=i.a.extend(t,{noOfRows:e.noOfRows,sourceType:e.sourceType,qvdFileInfo:e.qvdFileInfo});e.sourceType===a["DSMTypes"].Query.name||e.sourceType===a["DSMTypes"].CrossTableQuery.name?s.sourceName=e.sourceTables[0].sourceName:s.sourceName||(s.sourceName="");o.push(s)}}else{e.status=a["DSMTypes"].QueryStatus.inSynchWithMaster;var l=n.createTargetTableModel(e);var c=i.a.extend(l,{noOfRows:e.noOfRows,sourceType:e.sourceType,qvdFileInfo:e.qvdFileInfo});o.push(c)}}));t.tables=o;return t}},{key:"isKnownQueryType",value:function e(t){var n=Object(u["b"])("DM_join_tables");if(n&&t===a["DSMTypes"].JoinedQuery.name)return true;var r=false;switch(t){case a["DSMTypes"].Query.name:case a["DSMTypes"].ConcatenationQuery.name:case a["DSMTypes"].ForcedConcatenationQuery.name:case a["DSMTypes"].CrossTableQuery.name:r=true;break;default:break}return r}},{key:"processGetRecommendationsResponse",value:function e(t,n){t.result.associationPairs&&!t.result.associatedFields&&(t.result.associatedFields=this.convertAssociationPairs(t.result.associationPairs,n));return t}},{key:"convertAssociationPairs",value:function e(t,n){var r=[];t.forEach((function(e){e.assocCandidates.filter((function(e){return e.overallScore>=n})).forEach((function(t){var n={};n.associationInfo={score:t.overallScore};n.associationScore=t.overallScore;n.associationStatus=2;n.fieldL={fieldName:t.fieldOne.name,tableName:e.tableOne.name};n.fieldR={fieldName:t.fieldTwo.name,tableName:e.tableTwo.name};r.push(n)}))}));return r}},{key:"applyLoadModelClassification",value:function e(t,n,r){n.forEach((function(e){var n=t.getTargetTableModelById(e.id);e.fields.forEach((function(e){var i=n.getField(e.id);if(!i.classifications){i.classifications=e.classifications;i.originalClassification=i.classifications}if(!i.transformations||0===i.transformations.length){i.transformations=e.transformations;i.originalTransformations=i.transformations;if(!r){var o=new s["TransformationRecommendationUtil"](n,t,c["default"].localeDetected);var l=[];l.push(a["DSMTypes"].Transformations.geoPoint);l.push(a["DSMTypes"].Transformations.lookupGeoInfo);i.transformations.forEach((function(e){o.handleRecommendation(e,l)}))}}}))}))}}]);return e}();t["a"]=h},u6tz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"b",(function(){return r}));var r={qInfo:{qId:"StoryList",qType:"StoryList"},qAppObjectListDef:{qType:"story",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",thumbnail:"/thumbnail",rank:"/rank"}}};var i={types:"Doc",extend:{getStoryList:function e(){return this.getListData(r)},getStoryListObject:function e(){return this.getListObject(r)}}}},uVcZ:function(e,t,n){"use strict";function r(e){r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return r(e)}var i={missing:{template:"<div></div>",controller:[function(){}]}};function a(e){var t=e.component;if("string"===typeof t){if(i[t])return i[t];console.error('Error! No component found with name "'.concat(t,'"'));return i.missing}if("object"===r(t)||"function"===typeof t)return t;switch(e.type){case"items":return i.items;case"string":return i.string;case"integer":return i.integer;case"number":return i.number;case"boolean":return i.checkbox;case"array":if(e.items)return i.list;return i.slider;default:if(e.type){console.error('Error! No component found for type "'.concat(e.type,'"'));return i.missing}console.warn('Warning! Missing component/type in definition. Using "items" component.');return i.items}}function o(e){return i[e]}function s(e){return!!o(e)}function l(e,t){if(i[e])throw new Error("Property panel component already loaded: ".concat(e));i[e]=t}t["a"]={getComponent:o,hasComponent:s,findComponent:a,addComponent:l}},uqsp:function(e,t,n){"use strict";var r=n("mWu2");var i=n("qIEf");var a=n.n(i);var o=n("4nJ1");var s='<div class="lui-modal-background"></div>\n<div class="lui-dialog measure-dialog-wrapper" name="measureDialog">\n\t<lui-tab-view class="measure-tab-view">\n\t\t<div class="lui-dialog__header">\n\t\t\t<lui-tabset fill="true">\n\t\t\t\t<lui-tab q-title-translation="{{title}}" q-translation="{{title}}" ref="tab1" tid="create-tab"></lui-tab>\n\t\t\t\t<lui-tab ng-if="!input.add" q-title-translation="library.colors.segmentColors" q-translation="library.colors.segmentColors" ref="tab2" tid="segment-tab"></lui-tab>\n\t\t\t</lui-tabset>\n\t\t</div>\n\t\t<div class="lui-dialog__body">\n\t\t\t<lui-tab-content ref="tab1">\n\t\t\t\t<qv-edit-measure></qv-edit-measure>\n\t\t\t</lui-tab-content>\n\t\t\t<lui-tab-content ref="tab2">\n\t\t\t\t<qv-segment-colors ng-model="measure.coloring.gradient"></qv-segment-colors>\n\t\t\t</lui-tab-content>\n\t\t</div>\n\t</lui-tab-view>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button lui-button--success" ng-click="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn"></button>\n\t</div>\n</div>';var l=n("z4LI");var c=n("ESef");var u=n("CyFZ");var d=n("0GN8");var f=n("knjk");var p=n("UV1h");var h=n("6uJb");var v=n("GWYG");var m=n("3Q40");var g=n("kS4/");var b=n("zEO2");var y=n("Bcg+");var w=n("MW42");var S=n("S4RG");var x='<div class="segment-colors-wrapper ">\n\n\n\t<div class="segment-colors-row segment-colors-limit-format segment-colors-auto" tid="segment-colors">\n\t\t<p ng-if="false" q-translation="library.colors.applyCustom"></p>\n\t\t<p>\n\t\t\t<span q-translation="library.colors.autoFillSwitch"></span></br>\n\t\t\t<b ng-show="enable" class="qv-dim-dlg-colors-label" q-translation="library.colors.on"></b>\n\t\t\t<b ng-show="!enable" class="qv-dim-dlg-colors-label" q-translation="library.colors.off"></b>\n\t\t</p>\n\t\t<lui-switch x-model="enable"></lui-switch>\n\t</div>\n\t<div class="borderline">\n\t</div>\n\t<div ng-class="{\'overlay\': !enable}">\n\t\t<p q-translation="library.colors.selectTemplate" class="segment-colors-row-text">\n\t\t<div color-drop-down class="segment-color-drop-down segment-colors-row" schemas="templates" ng-model="currentTemplate"></div>\n\t\t<div class="segment-colors-row segment-colors-limit-format" tid="segment-format">\n\t\t\t<p>\n\t\t\t\t<span q-translation="library.colors.limitFormat"></span></br>\n\t\t\t\t<b ng-show="format" class="qv-dim-dlg-colors-label" q-translation="library.colors.PercentageBased" tid="percentage-label"></b>\n\t\t\t\t<b ng-show="!format" class="qv-dim-dlg-colors-label" q-translation="library.colors.FixedValueBased" tid="fixed-value-label"></b>\n\t\t\t</p>\n\t\t\t<lui-switch x-model="format"></lui-switch>\n\t\t</div>\n\t\t<div class="segment-colors-bottom">\n\t\t\t<qv-palette-creator ng-if="colors && colors.length" colors="colors" percentage="format" limits="limits" types="types"></qv-palette-creator>\n\t\t</div>\n\t</div>\n</div>';var C='<div ng-class="{\'color-drop-down-wrapper-expanded\': checkExpanded()}" class="lui-popover color-drop-down-wrapper" ng-show="show" ng-style=" {\'border-color\' : expandedBorder.borderColor} " ng-mouseenter="activateHover()" ng-mouseleave="disableHover()">\n\t<div qva-activate="onOpenDropDown($event)" class="color-drop-down-popup-item" qva-outside="close()">\n\t\t<span class="color-drop-down-current-name">{{getCurrentName()}}</span>\n\t\t<div qv-color-scheme-display class="color-scheme-drop-down-list-item-colors" colors="getCurrent(currentScheme).colors"  types="getCurrent(currentScheme).types" limits="getCurrent(currentScheme).limits"></div>\n\t\t<span ng-if="!expanded" class="lui-icon lui-icon--small lui-icon--triangle-bottom" class="color-drop-down-triangle" style="float: right;margin-top: -20px; margin-right: 8px"></span>\n\t</div>\n</div>';var q=n("wIyQ");var E='<div class="lui-popover color-scheme-drop-down-list-wrapper" ng-style="{\'max-width\' : width}">\n\t<ul class="lui-list color-drop-down-popup-list">\n\t\t<li class="lui-list__item lui-list__action color-drop-down-popup-item" ng-repeat="scheme in getSchemas() track by $index" qva-activate="pickScheme(scheme.name)">\n\t\t\t<div class="color-scheme-drop-down-list-name" >\n\t\t\t\t{{scheme.name}}\n\t\t\t\t<div class="color-scheme-drop-down-list-item-colors" qv-color-scheme-display colors="scheme.colors" types="scheme.types" limits="scheme.limits"></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>';r["default"].directive("colorSchemePopup",[function(){return{schemas:"=",currentScheme:"=",expanded:"=",width:"=",template:E,link:function e(t){t.pickScheme=function(e){for(var n=0;n<t.schemas.length;n++)if(e===t.schemas[n].name){t.onChange&&t.onChange(n);t.close();t.expanded(false)}};t.getSchemas=function(){var e=[];e.push(t.schemas[t.currentScheme]);for(var n=0;n<t.schemas.length;n++)n!==t.currentScheme&&e.push(t.schemas[n]);return e}}}}]);var I=n("axmM");r["default"].directive("colorDropDown",[function(){var e={borderColor:"#B3B3B3"};var t={borderColor:"#595959"};return{template:C,require:"?ngModel",scope:{schemas:"="},link:function n(i,a,o,s){i.show=false;i.expanded=false;i.selected=0;i.getCurrent=function(e){return i.schemas[e]};i.getCurrentName=function(){return i.schemas[i.currentScheme].name};i.currentShowComponent=null;i.currentScheme=s.$viewValue||0;i.close=function(){i.expanded=false;i.expandedBorder=e};function l(e){i.expanded=e}i.checkExpanded=function(){return true===i.expanded};i.onOpenDropDown=function(){if(i.expanded){i.expanded=false;s.$setViewValue(i.currentScheme);i.close()}else{var e=r["default"].getService("luiPopover");i.expanded=true;i.currentShowComponent=e.show({template:"<color-scheme-popup>",input:{schemas:i.schemas,currentScheme:i.currentScheme,onChange:function e(t){s.$setViewValue(t);i.currentScheme=t},expanded:l,width:"".concat(a.width()-18,"px")},alignTo:a[0],closeOnEscape:true,closeOnOutside:true,closeOnResize:true,outsideIgnore:"color-drop-down-wrapper",dock:"bottom",autoFocus:true})}};i.$watch("schemas",(function(){i.show=true}));i.activateHover=function(){i.expandedBorder=t};i.disableHover=function(){i.expanded||(i.expandedBorder=e)}}}}]);var k=n("Up9c");var A=n("NxGk");r["default"].directive("qvSegmentColors",[function(){return{restrict:"E",template:x,replace:true,measure:"=",link:function e(t){function n(){var e=false;var n=t.measure.coloring;n.gradient||(e=true);!e&&n.gradient.limits&&n.gradient.limits.length!==t.limits.length&&(e=true);e||n.gradient.colors&&n.gradient.limits&&n.gradient.breakType||(e=true);if(!e){n.gradient.colors.forEach((function(n,r){n!==t.colors[r]&&(e=true)}));n.gradient.limits.forEach((function(n,r){n!==t.limits[r]&&(e=true)}));n.gradient.breakType.forEach((function(n,r){n!==t.types[r]&&(e=true)}))}e||n.gradient.limitType===(t.format?"percent":"absolute")||(e=true);e&&t.enable&&(n.gradient={limits:t.limits.slice(),breakType:t.types.slice(),limitType:t.format?"percent":"absolute",colors:t.colors.slice()})}t.measure.coloring.gradient?t.enable=true:t.enable=false;function r(){var e=t.measure.coloring;e.gradient||(e.gradient={limits:t.templates[0].limits,breakType:t.templates[0].types.slice(),limitType:t.templates[0].percentage,colors:t.templates[0].colors.slice()});var n="absolute"!==e.gradient.limitType;t.format=n;e.gradient.colors.forEach((function(e,n){t.colors[n]=e}));e.gradient.limits.forEach((function(e,n){t.limits[n]=e}));e.gradient.breakType.forEach((function(e,n){t.types[n]=e}));t.enable||delete t.measure.coloring.gradient}t.$watch("enable",(function(){t.enable?n():delete t.measure.coloring.gradient}));t.templates=[{colors:[p["a"].resolveColor({index:6}),p["a"].resolveColor({index:10})],name:h["default"].get("library.colors.basicTemplate"),limits:[.5],types:[false],percentage:true}];p["a"].scales.forEach((function(e){var n="gradient"===e.type;var r=n?e.scale:e.scale[e.scale.length-1];var i=r.length-1;var a=1/(i+1);var o=[];var s;for(s=0;s<i;s++)o.push((s+1)*a);t.templates.push({colors:r.slice(),name:h["default"].get(e.translation),limits:o,types:o.map((function(){return n})),percentage:true})}));A["a"].getTemplates().forEach((function(e){t.templates.push(e)}));t.colors=[];t.limits=[];t.types=[];t.format=true;r();Object.defineProperty(t,"currentTemplate",{set:function e(r){var i=t.templates[r];t.format=!!i.percentage;t.colors.length=0;t.types.length=0;t.limits.length=0;i.colors.forEach((function(e,n){t.colors[n]=e}));i.types.forEach((function(e,n){t.types[n]=e}));i.limits.forEach((function(e,n){t.limits[n]=e}));n()}});t.$watch("colors",(function(){n()}),true);t.$watch("limits",(function(){n()}),true);t.$watch("types",(function(){n()}),true);t.$watch("format",(function(){n()}))}}}]);var T='<div>\n\t\x3c!-- Expression --\x3e\n\t<div class="measure-component">\n\t\t<label class="qv-metadatalabel" q-translation="Common.Expression">Expression:</label>\n\t\t<tiny-editor class="measureExpArea" value="measure.expression" on-open="openInExpressionDialog( $event )" invalid="!measure.validity.expression" data-tid="measure-expr"></tiny-editor>\n\t</div>\n\n\t\x3c!-- Name --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="Common.Name" class="qv-metadatalabel">Name:</label>\n\t\t<input class="lui-input" ng-model="measure.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !measure.validity.name }" data-tid="name-input"/>\n\t</div>\n\n\t\x3c!-- Label expression --\x3e\n\t<div class="measure-component">\n\t\t<qv-expression-input expression="measure.labelExpression" is-valid-expression="measure.validity.labelExpression" data-tid="measure-label-expr"></qv-expression-input>\n\t</div>\n\n\t\x3c!-- Description --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="Common.Description" class="qv-metadatalabel">Description:</label>\n\t\t<qv-description-textarea\n\t\t\tdata-tid="measure-description"\n\t\t\tdescription="measure.description"\n\t\t\tdescription-expression="measure.descriptionExpression"\n\t\t\tis-valid="measure.validity.description">\n\t\t</qv-description-textarea>\n\t</div>\n\n\t\x3c!-- Measure color --\x3e\n\t<div class="measure-component">\n\t\t<label class="qv-metadatalabel" q-translation="library.colors.measurecolor"></label>\n\t\t<qv-color-picker-button-new ng-model="color" palette="theme.currentPalette" extended="true" toggle-open="true"></qv-color-picker-button-new>\n\t</div>\n\n\t\x3c!-- Tags --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="Common.Tags" class="qv-taglabel"></label>\n\t\t<qv-tagcloud tags="measure.tags" update="measure.updateTags"></qv-tagcloud>\n\t</div>\n</div>';var D='<div id="edit-measure-content">\n\t<section id="edit-measure-left">\n\t\t\x3c!-- Name --\x3e\n\t\t<div class="measure-component">\n\t\t\t<label q-translation="Common.Name" class="qv-metadatalabel">Name:</label>\n\t\t\t<input class="lui-input" ng-model="measure.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !measure.validity.name }" data-tid="name-input"/>\n\t\t</div>\n\t\n\t\t\x3c!-- Description --\x3e\n\t\t<div class="measure-component">\n\t\t\t<label q-translation="Common.Description" class="qv-metadatalabel">Description:</label>\n\t\t\t<qv-description-textarea\n\t\t\t\tdata-tid="measure-description"\n\t\t\t\tdescription="measure.description"\n\t\t\t\tdescription-expression="measure.descriptionExpression"\n\t\t\t\tis-valid="measure.validity.description">\n\t\t\t</qv-description-textarea>\n\t\t</div>\n\t\n\t\t\x3c!-- Measure color --\x3e\n\t\t<div class="measure-component">\n\t\t\t<label class="qv-metadatalabel" q-translation="library.colors.measurecolor"></label>\n\t\t\t<qv-color-picker-button-new ng-model="color" palette="theme.currentPalette" extended="true" toggle-open="true"></qv-color-picker-button-new>\n\t\t</div>\n\t\n\t\t\x3c!-- Tags --\x3e\n\t\t<div class="measure-component">\n\t\t\t<label q-translation="Common.Tags" class="qv-taglabel"></label>\n\t\t\t<qv-tagcloud tags="measure.tags" update="measure.updateTags"></qv-tagcloud>\n\t\t</div>\n\t</section>\n\t\n\t\x3c!-- Divider --\x3e\n\t<section>\n\t\t<div class="edit-measure-divider"></div>\n\t</section>\n\t\n  <section id="edit-measure-right">\n    \x3c!-- Expression --\x3e\n    <div class="measure-component">\n      <qv-expression-input expression="measure.expression" is-valid-expression="measure.validity.expression" label-translation=\'Common.Expression\' data-tid="measure-expr"></qv-expression-input>\n    </div>\n\n    \x3c!-- Label expression --\x3e\n    <div class="measure-component">\n      <qv-expression-input expression="measure.labelExpression" is-valid-expression="measure.validity.labelExpression" data-tid="measure-label-expr"></qv-expression-input>\n    </div>\n\n    \x3c!-- Number formatting Dropdown --\x3e\n    <div include-pp-component x-component="formatting.component" x-definition="formatting.definition" x-data="measure.formatting" x-args="formatting.args"></div>\n\n    \x3c!-- Sub menu --\x3e\n    <qv-sub-menu></qv-sub-menu>\n\n  </section>\n\t\n</div>\n';var O=n("cC4h");var L=n("uVcZ");var M=n("5Ska");var P=n("PX8M");var N=n("a7yF");var R=n("acVu");r["default"].directive("qvEditMeasure",[function(){return{restrict:"E",template:Object(R["b"])("MASTER_MEASURE_FORMAT")?D:T,replace:true,measure:"=",link:function e(t){P["a"].getApp().then((function(e){O["a"].loadComponents().then((function(){var n=M["a"].getNumberFormattingProperties("",true);var r=o["a"].extend({},L["a"].findComponent(n));t.$on("saveProperties",(function(e,n){e.stopPropagation();t.$broadcast("datachanged",n)}));t.formatting={component:r,definition:n,args:{localeInfo:e.layout.qLocaleInfo}}}))}))}}}]);var F;function _(e){var t=d["a"].validateExpr(e.measure,c["a"]);var n=d["a"].validateMetadataName(e.measure,c["a"]);var r=e.measure.validity;return n&&t&&r.labelExpression&&r.description}function j(e){return{name:e.measure.name,description:e.measure.description,tags:e.measure.tags,expr:e.measure.expression,baseColor:e.measure.coloring.baseColor,gradient:e.measure.coloring.gradient,labelExpression:e.measure.labelExpression,descriptionExpression:e.measure.descriptionExpression,formatting:e.measure.formatting}}var B={scope:{title:"=",confirmLabel:"=",measure:"="},template:s,controller:["$scope","$timeout",function(e,t){e.theme=p["a"];Object.defineProperty(e,"color",{get:function t(){return e.theme.resolveColor(e.measure.coloring.baseColor)},set:function t(n){var r="undefined"!==typeof n.color?n.color:n;var i="undefined"!==typeof n.index?n.index:e.theme.currentPalette.indexOf(n);e.measure.coloring.baseColor={color:r,index:i}}});e.measure.validity={};e.measure.validity.expression=true;e.measure.validity.description=true;e.measure.validity.name=true;e.measure.validity.labelExpression=true;e.measure.name=f["a"].trimAutoCalendarName(e.measure.name);e.stringLimits=c["a"];e.cancel=function(){e.destroyComponent()};e.confirm=function(){e.measure.updateTags();if(_(e)){F.close();var t=j(e);e.callback(t);if(t.gradient){var n="absolute"!==t.gradient.limitType;var r=t.gradient;var i;var a=A["a"].getTemplates();var o=a.some((function(e){var t=true;r.limits.length!==e.limits.length&&(t=false);t&&r.colors.forEach((function(n,r){n!==e.colors[r]&&(t=false)}));t&&r.limits.forEach((function(n,r){n!==e.limits[r]&&(t=false)}));t&&r.breakType.forEach((function(n,r){n!==e.types[r]&&(t=false)}));n!==e.percentage&&(t=false);return t}));if(!o){i=h["default"].get("library.colors.recent",1);a.map((function(e){return parseInt(e.name.replace(/\D/g,""),10)||0})).sort((function(e,t){return t-e})).every((function(e){i=h["default"].get("library.colors.recent",e+1);return false}));A["a"].pushTemplate({name:i,colors:t.gradient.colors.slice(),limits:n?t.gradient.limits.slice():A["a"].convertAbsLimits(t.gradient.limits),types:t.gradient.breakType.slice(),percentage:n})}}}};l["a"].StateChanged.bind(e.cancel);e.openInExpressionDialog=function(t){t.preventDefault();u["a"].show({expr:e.measure.expression,title:e.measure.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then((function(t){e.measure.expression=t}))};e.$watch("measure.expression",(function(){e.measure.validity.expression||d["a"].validateExpr(e.measure,c["a"])}));e.$watch("measure.name",(function(){e.measure.validity.name||d["a"].validateMetadata(e.measure,c["a"])}));e.$on("$destroy",(function(){l["a"].StateChanged.unbind(e.cancel)}));e.simFocus=false;t((function(){a()("#measure-dialog-expression-area").on("focus",(function(){e.simFocus=true;r["default"].$apply(e)})).on("blur",(function(){e.simFocus=false;r["default"].$apply(e)}))}))}]};function V(e){var t=e.coloring?e.coloring.baseColor:e.baseColor;var n=e.gradient;var i={title:e.title,confirmLabel:e.confirm,measure:{expression:e.expr,name:e.name,labelExpression:e.labelExpression,description:e.description,descriptionExpression:e.descriptionExpression,tags:e.tags,coloring:{baseColor:{color:t&&t.color?t.color:"none",index:t&&t.index?t.index:-1}},formatting:o["a"].extend(true,{},e.formatting)},add:e.add,callback:e.callback};n&&(i.measure.coloring.gradient={colors:n.colors.map((function(e){return p["a"].resolveColor(e)})),breakType:n.breakTypes,limitType:n.limitType,limits:n.limits});F=r["default"].getService("luiDialog").show({template:B.template,controller:B.controller,input:i,closeOnOutside:false,showArrow:false});return F}var H={show:V};function z(e,t){if(!e)throw new TypeError("You must pass a scope to this function");if(!t||"function"!==typeof t)throw new TypeError("You must pass a validateForm function to this function");function n(){e.destroyComponent()}function r(){if(t()){var n=a();e.destroyComponent();e.onSaveCallback(n)}}function i(){e.visualization=e.visualization||{};e.visualization.validity={};e.visualization.validity.name=true;e.visualization.validity.description=true;e.visualization.validity.labelExpression=true}function a(){return{name:e.visualization.name,labelExpression:o(e.visualization.labelExpression),description:e.visualization.description,descriptionExpression:e.visualization.descriptionExpression,tags:e.visualization.tags}}function o(e){var t="string"!==typeof e||0===e.length;if(t)return;return{qStringExpression:{qExpr:"="===e[0]?e.substr(1):e}}}e.visualization=e.input.visualization;i();return{cancel:n,save:r,getFormData:a}}var $={create:z};var U='<div class="lui-modal-background"></div>\n<lui-dialog id="visualization-dialog">\n\t<lui-dialog-header class="dm-header" q-translation="{{input.title}}"></lui-dialog-header>\n\t<lui-dialog-body class="dm-main">\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.name">Name:</label>\n\t\t\t<input class="lui-input" ng-model="visualization.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !visualization.validity.name }" data-tid="name-input"/>\n\t\t</div>\n\t\t<div class="visualization-dialog-item">\n\t\t\t<qv-expression-input expression="visualization.labelExpression" is-valid-expression="visualization.validity.labelExpression"></qv-expression-input>\n\t\t</div>\n\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.description">Description:</label>\n\t\t\t<qv-description-textarea\n\t\t\t\tdescription="visualization.description"\n\t\t\t\tdescription-expression="visualization.descriptionExpression"\n\t\t\t\tis-valid="visualization.validity.description">\n\t\t\t</qv-description-textarea>\n\t\t</div>\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t\t<qv-tagcloud tags="visualization.tags" update="visualization.updateTags"></qv-tagcloud>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer qv-confirm-label="{{input.confirm}}">\n\t\t<lui-button ng-click="cancel()" tid="2f2a4f" q-translation="Common.Cancel" ></lui-button>\n\t\t<lui-button ng-click="confirm()" tid="2f2a56" q-translation="{{input.confirm}}" ></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>';var G={template:U,controller:["$scope",function(e){function t(){var t=d["a"].validateMetadataName(e.visualization,c["a"]);return t&&e.visualization.validity.description&&e.visualization.validity.labelExpression}var n=$.create(e,t);e.stringLimits=c["a"];e.cancel=n.cancel;e.confirm=function(){e.visualization.updateTags();n.save()};l["a"].StateChanged.bind(e.cancel);e.$on("$destroy",(function(){l["a"].StateChanged.unbind(e.cancel)}));e.$watch("visualization.name",(function(){e.visualization.validity.name||d["a"].validateMetadataName(e.visualization,c["a"])}))}]};function W(e){var t={title:e.title,confirm:e.confirm,visualization:{name:e.visualization.name,description:e.visualization.description,descriptionExpression:e.visualization.descriptionExpression,labelExpression:e.visualization.labelExpression,tags:e.visualization.tags},onSaveCallback:e.onSaveCallback};return r["default"].getService("luiDialog").show({template:G.template,controller:G.controller,input:t,closeOnOutside:false,showArrow:false,component:G})}var Q={show:W};var K=n("FdxK");var Y='<qv-modal-dialog qv-id="odag-link-dialog" qv-cancel="cancel()" qv-confirm="confirm()">\n\t<header class="dm-header" q-translation="{{title}}"></header>\n\t<main class="dm-main">\n\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="metadata.name" class="qv-metadatalabel">Name:</label>\n\t\t\t<input class="lui-input" tid="odag-lnkDlg-name-input" ng-model="odagLink.name" autofocus qva-focus="true" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.name }"/>\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.TemplateApp" class="qv-metadatalabel">Template App:</label>\n\t\t\t<lui-select ng-class="{ \'lui-invalid\': !odagLink.validity.templateApp }" ng-disabled="inEditMode" x-model="odagLink.templateApp" tid="odag-link-templateApp-selector" x-options="templateApp.qDocId as templateApp.qDocName for templateApp in templateApps"></lui-select>\n\t\t</div>\n \t\t<div class="odag-link-component">\n\t\t\t<label q-translation="metadata.expression" class="qv-metadatalabel">Expression:</label>\n\t\t\t<tiny-editor class="rowCountExpArea" value="odagLink.expression" on-open="openInExpressionDialog( $event )"\n\t\t\t\tinvalid="!odagLink.validity.expression"></tiny-editor>\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.MaxRowCount" class="qv-metadatalabel">Max row count:</label>\n\t\t\t<input class="lui-input" tid="odag-lnkDlg-maxRow-input" ng-model="odagLink.rowEstCount" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.rowEstCount }"/>\t\t\n\t\t</div>\n\t\t<div class="odag-link-divider">\n            <div class="odag-link-divider-label" q-translation="ODAGLink.Dialog.Generated.Apps"></div>\n            <div class="odag-link-divider-line"></div>\n        </div>\t\t\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.MaxGenAppsCount2" class="qv-metadatalabel">Maximum number:</label>\n\t\t\t<input class="lui-input" ng-model="odagLink.genAppLimit" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.genAppLimit }"/>\t\n\t\t</div>\t\t\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.RetentionTime" class="qv-metadatalabel">Retention time:</label>\n\t\t\t<div class="odag-retention-time">\n\t\t\t\t<input class="lui-input" ng-disabled="odagLink.retentionTimeUnit === \'unlimited\'"" ng-model="odagLink.retentionLimit" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.retentionLimit }"/>\t\n\t\t\t\t<lui-select x-model="odagLink.retentionTimeUnit" tid="odag-link-retentionTimeUnit-selector" x-options="retentionTimeUnit.id as retentionTimeUnit.name for retentionTimeUnit in retentionTimeUnits"></lui-select>\n\t\t\t</div>\t\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.DefaultViewWhenOpened" class="qv-metadatalabel">Default view when opened:</label>\t\n\t\t\t<lui-select x-model="odagLink.defaultViewId" tid="odag-link-defaultView-selector" x-options="defaultView.id as defaultView.name for defaultView in defaultViews"></lui-select>\n\t\t</div>\n\t\t<div class="odag-link-component" ng-if="!isOdagSaas">\n\t\t\t<label q-translation="ODAGLink.Dialog.PublishTo" class="qv-metadatalabel">Publish To:</label>\t\n\t\t\t<lui-select x-model="odagLink.publishToStreamId" tid="odag-link-publishTo-selector" x-options="publishToStream.qId as publishToStream.qName for publishToStream in publishToStreams"></lui-select>\n\t\t</div>\n\x3c!--\n\t\t<div class="measure-component">\n\t\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t\t<qv-tagcloud tags="odagLink.tags" update="odagLink.updateTags"></qv-tagcloud>\n\t\t</div>\n --\x3e\n\t</main>\n\t<footer class="dm-footer">\n\t    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f"></lui-button>\n\t    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); confirm()" name="confirm" q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="startSpinnerTimeout !== null" ></lui-button>\n\t</footer>\n\n</qv-modal-dialog>\n';var J=n("3I2r");var Z=n("3A43");var X=n("sWge");var ee=n("5R92");var te=n("mEBU");var ne=null;function re(e,t,n){e.validity[t]=!!e[t]&&!!e[t].trim()&&e[t].length<=n.name;return e.validity[t]}function ie(e,t){e.validity[t]=!!e[t]&&o["a"].isInteger(e[t])&&!Number.isNaN(+e[t])&&parseInt(e[t],10)>0;return e.validity[t]}function ae(e,t){var n=ie(e,t);if(n){var r=e[t];e.validity[t]=Math.log10(r)<9}return e.validity[t]}function oe(e,t,n,r){var i=new X["a"];var a=d["a"].validateExpr(e,t);if(a){n.validate(e.expression);i.resolve(true)}else{r();i.resolve(false)}return i.promise}function se(e){var t=false;if(d["a"].validateMetadata(e.odagLink,c["a"]))if(ee["a"].allowedChars(e.odagLink.name))t=true;else{e.odagLink.validity.name=false;t=false}return t}function le(e){var t="unlimited"===e.odagLink.retentionTimeUnit||ie(e.odagLink,"retentionLimit");if(t&&e.odagLink.retentionLimit>99999){e.odagLink.validity.retentionLimit=false;t=false}return t}function ce(e){var t=false;var n=se(e);var r=re(e.odagLink,"templateApp",c["a"]);var i=ae(e.odagLink,"rowEstCount");var a=ie(e.odagLink,"genAppLimit");var o=le(e);o&&n&&i&&a&&r&&(t=true);return t}function ue(e){var t=te["a"].getRetentionTimeServerValue(e.odagLink.retentionLimit,e.odagLink.retentionTimeUnit);return{name:e.odagLink.name,templateApp:e.odagLink.templateApp,tags:e.odagLink.tags,rowEstExpr:e.odagLink.expression,rowEstCount:parseInt(e.odagLink.rowEstCount,10),genAppLimit:parseInt(e.odagLink.genAppLimit,10),retentionLimit:t,defaultViewId:e.odagLink.defaultViewId,publishToStreamId:e.odagLink.publishToStreamId}}var de={scope:{title:"=",app:"=",confirmLabel:"=",odagLink:"=",inEditMode:"=",onConfirmCallback:"="},template:Y,controller:["$scope","$element","$timeout",function(e,t,n){e.startSpinnerTimeout=null;var i=r["default"].getService("qvLoader");e.isOdagSaas=Object(R["b"])("ODAG_SAAS_ENABLED");e.odagLink.validity={};e.odagLink.validity.expression=true;e.odagLink.validity.rowEstCount=true;e.odagLink.validity.genAppLimit=true;e.odagLink.validity.retentionLimit=true;e.odagLink.validity.templateApp=true;e.odagLink.validity.name=true;e.templateApps=[];e.exprValidator=null;e.stringLimits=c["a"];e.retentionTimeUnits=[{id:"unlimited",name:h["default"].get("ODAGLink.Dialog.RetentionTimeUnit.NeverExpires")},{id:"d",name:h["default"].get("ODAGLink.Dialog.RetentionTimeUnit.Days")},{id:"h",name:h["default"].get("ODAGLink.Dialog.RetentionTimeUnit.Hours")}];e.defaultViews=[{id:"",name:h["default"].get("ODAGLink.Dialog.DefaultView.AppOverview")}];e.publishToStreams=[{qId:"",qName:h["default"].get("ODAGLink.Dialog.DefaultPublishTo.MyWork")}];function a(){e.startSpinnerTimeout=n((function(){i.show({template:Z["a"],hugeLoader:false,mediumLoader:true,appendTo:t.find("#odag-link-dialog .dm-main")[0]})}),0,false);return e.startSpinnerTimeout}function o(){n.cancel(e.startSpinnerTimeout);e.startSpinnerTimeout=null;i.close()}function s(){e.odagLink.validity.expression=false}e.cancel=function(){e.destroyComponent()};e.confirm=function(){a().then((function(){ne=ce(e);oe(e.odagLink,c["a"],e.exprValidator,s).then((function(e){e||o()})).catch((function(){o()}))}))};te["a"].getTemplateApps().then((function(t){e.templateApps=t;e.templateApps.length&&e.odagLink.validity.templateApp&&(e.odagLink.templateApp||(e.odagLink.templateApp=e.templateApps[0].qDocId))}));e.isOdagSaas||te["a"].getPublishableStreams().then((function(t){if(t)for(var n=0;n<t.length;n++)e.publishToStreams.push(t[n])}));l["a"].StateChanged.bind(e.cancel);function f(t){if(ne&&t.valid){var n=ue(e);if(e.onConfirmCallback)e.onConfirmCallback(n).then((function(){o();e.deferredResult.resolve(n)})).catch((function(){o()}));else{o();e.deferredResult.resolve(n)}}else o();t.valid||s()}function p(){e.odagLink.templateApp&&te["a"].getSheetsForApp(e.odagLink.templateApp).then((function(t){if(t)for(var n=0;n<t.length;n++)e.defaultViews.push(t[n])}))}e.exprValidator=new J["a"].ExpressionValidator(e.app,J["a"].Modes.Expression);e.exprValidator.Update.bind(f);e.openInExpressionDialog=function(t){t.preventDefault();u["a"].show({expr:e.odagLink.expression,title:e.odagLink.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then((function(t){e.odagLink.expression=t}))};e.$watch("odagLink.expression",(function(){e.odagLink.validity.expression||d["a"].validateExpr(e.odagLink,c["a"])}));e.$watch("odagLink.name",(function(){e.odagLink.validity.name||se(e)}));e.$watch("odagLink.rowEstCount",(function(){e.odagLink.validity.rowEstCount||ie(e.odagLink,"rowEstCount")}));e.$watch("odagLink.genAppLimit",(function(){e.odagLink.validity.genAppLimit||ie(e.odagLink,"genAppLimit")}));e.$watch("odagLink.retentionLimit",(function(){e.odagLink.validity.retentionLimit||ie(e.odagLink,"retentionLimit")}));e.$watch("odagLink.retentionTimeUnit",(function(){"unlimited"===e.odagLink.retentionTimeUnit&&(e.odagLink.retentionLimit="")}));e.$watch("odagLink.templateApp",(function(t,n){if(t!==n){e.odagLink.defaultViewId="";e.defaultViews.splice(1)}p()}));e.$on("$destroy",(function(){l["a"].StateChanged.unbind(e.cancel);e.exprValidator.Update.unbind(f)}))}]};function fe(e){var t={retLimit:"",retentionTimeUnit:""};if(e.retentionLimit)t=te["a"].getRetentionTimeDisplayValue(e.retentionLimit);else{t.retentionTimeValue="0";t.retentionTimeUnit="unlimited"}var n={title:e.title,app:e.app,confirmLabel:e.confirm,inEditMode:e.inEditMode,onConfirmCallback:e.confirmCallback,odagLink:{expression:e.rowEstExpr,rowEstCount:e.rowEstCount,genAppLimit:e.genAppLimit,retentionLimit:t.retentionTimeValue,retentionTimeUnit:t.retentionTimeUnit,defaultViewId:e.defaultViewId,publishToStreamId:e.publishToStreamId,name:e.name,templateApp:e.templateApp?e.templateApp.id:null,tags:e.tags}};return K["a"].show(de,n)}var pe={show:fe};var he=n("zkWp");var ve=n("9cJ9");var me=n("Tf0a");var ge=n("X8RK");var be='<div class="lui-modal-background"></div>\n<div class="lui-dialog" id="dynamic-view-dialog" data-tid="dynamic-dialog">\n  <lui-tab-view>\n    <div class="lui-dialog__header">\n      <div class="lui-dialog__title" q-translation="{{title}}"></div>\n    </div>\n    <div class="lui-dialog__body">\n      <main class="dm-main">\n      \x3c!-- Name --\x3e\n      <div class="dynamic-view-component">\n        <label q-translation="metadata.name" class="qv-metadatalabel">Name:</label>\n        <input class="lui-input" tid="dynamic-view-name-input" ng-model="dynamicView.name" autofocus qva-focus="true" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !dynamicView.validity.name }"/>\n      </div>\n      <div class="dynamic-view-component">\n        <label q-translation="DynamicView.Dialog.Template" class="qv-metadatalabel"></label>\n        <lui-select ng-class="{ \'lui-invalid\': !dynamicView.validity.templateApp }" ng-disabled="inEditMode" x-model="dynamicView.templateApp" tid="dynamic-view-templateApp-selector" x-options="templateApp.qDocId as templateApp.qDocName for templateApp in templateApps"></lui-select>\n      </div>\n      <div class="dynamic-view-component">\n        <label q-translation="DynamicView.Dialog.RowLimit" class="qv-metadatalabel"></label>\n        <lui-select x-model="dynamicView.rowLimit" tid="dynamic-view-rowLimit-selector" x-options="rowLimit.type as rowLimit.name for rowLimit in rowLimits"></lui-select>\n      </div>\n      <div class="dynamic-view-component" ng-if="dynamicView.rowLimit > 0">\n        <label q-translation="metadata.expression" class="qv-metadatalabel"></label>\n        <tiny-editor class="rowCountExpArea" value="dynamicView.expression" on-open="openInExpressionDialog( $event )"\n                     invalid="!dynamicView.validity.expression"></tiny-editor>\n      </div>\n      <div class="dynamic-view-component" ng-if="dynamicView.rowLimit > 0">\n        <label q-translation="DynamicView.Dialog.MaxRowCount" class="qv-metadatalabel"></label>\n        <input class="lui-input" tid="dynamic-view-maxRow-input" ng-model="dynamicView.rowEstCount" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !dynamicView.validity.rowEstCount }"/>\n      </div>\n      </main>\n    </div>\n  </lui-tab-view>\n  <div class="lui-dialog__footer">\n    <button class="lui-button close-button" ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" data-tid="close-btn"></button>\n    <button class="lui-button close-button lui-button--success" ng-click="$event.preventDefault(); confirm()" name="confirm" q-translation="{{confirmLabel}}" tid="dynamic-view-save-confirm" ng-disabled="startSpinnerTimeout !== null"></button>\n  </div>\n</div>\n';var ye=n("vaoC");var we=n("xiWV");var Se={getTemplateApps:function e(){return we["a"].getTemplateApps(ye["a"])}};var xe=null;var Ce;function qe(e,t,n){e.validity[t]=!!e[t]&&!!e[t].trim()&&e[t].length<=n.name;return e.validity[t]}function Ee(e,t){e.validity[t]=!!e[t]&&o["a"].isInteger(e[t])&&!Number.isNaN(+e[t])&&parseInt(e[t],10)>0;return e.validity[t]}function Ie(e,t){e.rowEstCount=parseInt(e.rowLimit,10)>0?e.rowEstCount:"1";var n=Ee(e,t);if(n){var r=e[t];e.validity[t]=Math.log10(r)<9}return e.validity[t]}function ke(e,t,n,r){var i=new X["a"];e.expression=0===parseInt(e.rowLimit,10)?"1":e.expression;var a=d["a"].validateExpr(e,t);if(a){n.validate(e.expression);i.resolve(true)}else{r();i.resolve(false)}return i.promise}function Ae(e){var t=false;if(d["a"].validateMetadata(e.dynamicView,c["a"]))if(ee["a"].allowedChars(e.dynamicView.name))t=true;else{e.dynamicView.validity.name=false;t=false}return t}function Te(e){var t=false;var n=Ae(e);var r=qe(e.dynamicView,"templateApp",c["a"]);var i=Ie(e.dynamicView,"rowEstCount");n&&i&&r&&(t=true);return t}function De(e){return{name:e.dynamicView.name,templateApp:e.dynamicView.templateApp,rowEstExpr:parseInt(e.dynamicView.rowLimit,10)>0?e.dynamicView.expression:"1",rowEstCount:parseInt(e.dynamicView.rowLimit,10)>0?parseInt(e.dynamicView.rowEstCount,10):1}}var Oe={scope:{title:"=",app:"=",confirmLabel:"=",dynamicView:"=",inEditMode:"=",onConfirmCallback:"="},template:be,controller:["$scope","$element","$timeout",function(e,t,n){e.startSpinnerTimeout=null;var i=r["default"].getService("qvLoader");e.dynamicView.validity={};e.dynamicView.validity.expression=true;e.dynamicView.validity.rowEstCount=true;e.dynamicView.validity.templateApp=true;e.dynamicView.validity.name=true;e.templateApps=[];e.exprValidator=null;e.stringLimits=c["a"];e.rowLimits=[{type:"0",name:h["default"].get("DynamicView.Dialog.RowLimit.None")},{type:"1",name:h["default"].get("DynamicView.Dialog.RowLimit.KPIExpression")}];e.dynamicView.rowLimit=e.inEditMode&&1!==e.dynamicView.rowEstCount?e.rowLimits[1].type:e.rowLimits[0].type;function o(){e.startSpinnerTimeout=n((function(){i.show({template:Z["a"],hugeLoader:false,mediumLoader:true,appendTo:a()("#dynamic-view-dialog .dm-main")[0]})}),0,false);return e.startSpinnerTimeout}function s(){n.cancel(e.startSpinnerTimeout);e.startSpinnerTimeout=null;i.close()}function f(){e.dynamicView.validity.expression=false}e.cancel=function(){e.destroyComponent()};e.confirm=function(){o().then((function(){xe=Te(e);ke(e.dynamicView,c["a"],e.exprValidator,f).then((function(e){e||s()})).catch((function(){s()}))}))};Se.getTemplateApps().then((function(t){e.templateApps=t;e.templateApps.length&&e.dynamicView.validity.templateApp&&(e.dynamicView.templateApp||(e.dynamicView.templateApp=e.templateApps[0].qDocId))}));l["a"].StateChanged.bind(e.cancel);function p(t){if(xe&&t.valid){Ce.close();var n=De(e);if(e.onConfirmCallback)e.onConfirmCallback(n).then((function(){s();e.deferredResult.resolve(n)})).catch((function(){s()}));else{s();e.deferredResult.resolve(n)}}else s();t.valid||f()}e.exprValidator=new J["a"].ExpressionValidator(e.app,J["a"].Modes.Expression);e.exprValidator.Update.bind(p);e.openInExpressionDialog=function(t){t.preventDefault();u["a"].show({expr:e.dynamicView.expression,title:e.dynamicView.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then((function(t){e.dynamicView.expression=t}))};e.$watch("dynamicView.expression",(function(){e.dynamicView.validity.expression||d["a"].validateExpr(e.dynamicView,c["a"])}));e.$watch("dynamicView.name",(function(){e.dynamicView.validity.name||Ae(e)}));e.$watch("dynamicView.rowEstCount",(function(){e.dynamicView.validity.rowEstCount||Ee(e.dynamicView,"rowEstCount")}));e.$watch("dynamicView.templateApp",(function(t,n){t!==n&&(e.dynamicView.defaultViewId="")}));e.$on("$destroy",(function(){l["a"].StateChanged.unbind(e.cancel);e.exprValidator.Update.unbind(p)}))}]};function Le(e){var t={title:e.title,app:e.app,confirmLabel:e.confirm,inEditMode:e.inEditMode,onConfirmCallback:e.confirmCallback,dynamicView:{expression:e.rowEstExpr,rowEstCount:e.rowEstCount,name:e.name,templateApp:e.templateApp?e.templateApp.id:null}};Ce=r["default"].getService("luiDialog").show({template:Oe.template,controller:Oe.controller,input:t,dock:"top",closeOnOutside:false,showArrow:false});return Ce}var Me={show:Le};function Pe(e){return p["a"].currentPalette.indexOf(e)}function Ne(e,t){delete e.baseColor;e.coloring||(e.coloring={});t.baseColor&&t.baseColor.color&&"none"!==t.baseColor.color?o["a"].extend(true,e.coloring,{baseColor:{color:t.baseColor.color,index:Pe(t.baseColor.color)}}):delete e.coloring.baseColor;t.gradient&&t.gradient.colors&&0!==t.gradient.colors.length?e.coloring.gradient={colors:t.gradient.colors.map((function(e){return{color:e,index:Pe(e)}})),breakTypes:t.gradient.breakType,limits:t.gradient.limits,limitType:t.gradient.limitType}:delete e.coloring.gradient}function Re(e){var t={qInfo:{qType:"measure"},qMetaDef:{title:e.name,description:e.description,tags:e.tags},qMeasure:{qLabel:e.name,qDef:e.expr,qLabelExpression:e.labelExpression,descriptionExpression:e.descriptionExpression,isCustomFormatted:e.formatting.isCustomFormatted}};if(Object(R["b"])("MASTER_MEASURE_FORMAT")){t.qMeasure.qNumFormat=e.formatting.qNumFormat;t.qMeasure.isCustomFormatted=e.formatting.isCustomFormatted;t.qMeasure.numFormatFromTemplate=e.formatting.numFormatFromTemplate}Ne(t.qMeasure,e);return ge["a"].create(t)}function Fe(e,t){var n={name:t.name,rowEstExpr:t.rowEstExpr,templateApp:t.templateApp,properties:{rowEstRange:[{highBound:t.rowEstCount}],genAppLimit:[{context:"User_*",limit:t.genAppLimit}],appRetentionTime:[{context:"User_*",retentionTime:t.retentionLimit}],targetSheet:[{context:"User_*",sheetId:t.defaultViewId}]}};t.publishToStreamId&&(n.properties.publishTo=[{context:"User_*",streamId:t.publishToStreamId}]);var r=new ve["a"](n);return r.create(e)}function _e(e,t,n,r){n.data.name=r.name;n.data.properties.rowEstRange[0].highBound=r.rowEstCount;n.data.properties.genAppLimit[0].limit=r.genAppLimit;n.data.rowEstExpr=r.rowEstExpr;n.data.templateApp=r.templateApp;n.data.properties.appRetentionTime[0].retentionTime=r.retentionLimit;n.data.properties.targetSheet[0].sheetId=r.defaultViewId;r.publishToStreamId?n.data.properties.publishTo.length?n.data.properties.publishTo[0].streamId=r.publishToStreamId:n.data.properties.publishTo=[{context:"User_*",streamId:r.publishToStreamId}]:n.data.properties.publishTo=[];return he["a"].updateODAGLink(e,t,n.data)}function je(e,t){var n={name:t.name,rowEstExpr:t.rowEstExpr,templateApp:t.templateApp,properties:{rowEstRange:[{highBound:t.rowEstCount}]}};var r=new me["a"](n);return r.create(e)}function Be(e,t,n,r){n.data.name=r.name;n.data.properties.rowEstRange[0].highBound=r.rowEstCount;n.data.rowEstExpr=r.rowEstExpr;n.data.templateApp=r.templateApp;return we["a"].updateDynamicView(e,t,n.data)}function Ve(e,t,n){e.qMetaDef.title=n.name;e.qMetaDef.description=n.description;e.qMetaDef.tags=n.tags;e.qMeasure.qLabel=n.name;e.qMeasure.qDef=n.expr;e.qMeasure.qLabelExpression=n.labelExpression;e.qMeasure.descriptionExpression=n.descriptionExpression;if(Object(R["b"])("MASTER_MEASURE_FORMAT")){e.qMeasure.qNumFormat=n.formatting.qNumFormat;e.qMeasure.isCustomFormatted=n.formatting.isCustomFormatted;e.qMeasure.numFormatFromTemplate=n.formatting.numFormatFromTemplate}Ne(e.qMeasure,n);return t.setProperties(e)}function He(e){function t(t){return Fe(e,t).then((function(){r["default"].$rootScope.$emit("clearUndo")}))}var n=pe.show({title:"ODAGLink.Dialog.Add.Title",confirm:"Common.Create",name:"",inEditMode:false,description:"",genAppLimit:5,retentionLimit:"",defaultViewId:"",publishToStreamId:"",confirmCallback:t,app:e});n.resultPromise.then((function(){n.destroy()}))}function ze(e,t,n){ve["a"].get(t,e).then((function(i){var a=i.properties;function o(i){return _e(e,t,a,i).then((function(e){n&&n(e);r["default"].$rootScope.$emit("clearUndo")}))}var s={title:"ODAGLink.Dialog.Edit.Title",confirm:"Common.Save",inEditMode:true,name:a.data.name,templateApp:a.data.templateApp,rowEstExpr:a.data.rowEstExpr,rowEstCount:a.data.properties.rowEstRange[0].highBound,genAppLimit:a.data.properties.genAppLimit[0].limit,retentionLimit:a.data.properties.appRetentionTime.length?a.data.properties.appRetentionTime[0].retentionTime:"",defaultViewId:a.data.properties.targetSheet.length?a.data.properties.targetSheet[0].sheetId:"",publishToStreamId:a.data.properties.publishTo.length?a.data.properties.publishTo[0].streamId:"",confirmCallback:o,app:e};var l=pe.show(s);l.resultPromise.then((function(){l.destroy()}))}))}function $e(e){function t(t){return je(e,t).then((function(){r["default"].$rootScope.$emit("clearUndo")}))}var n={title:"DynamicViews.Add.Dialog.Title",confirm:"Common.Create",name:"",inEditMode:false,confirmCallback:t,app:e};var i=Me.show(n);i.closed.then((function(){i=null}))}function Ue(e,t,n){me["a"].get(t,e).then((function(i){var a=i.properties;function o(i){return Be(e,t,a,i).then((function(e){n&&n(e);r["default"].$rootScope.$emit("clearUndo")}))}var s={title:"DynamicViews.Edit.Dialog.Title",confirm:"Common.Save",inEditMode:true,name:a.data.name,templateApp:a.data.templateApp,rowEstExpr:a.data.rowEstExpr,rowEstCount:a.data.properties.rowEstRange[0].highBound,confirmCallback:o,app:e};var l=Me.show(s);l.closed.then((function(){l=null}))}))}function Ge(e,t,n){var i;var a=e?e.field:"";var o=e&&e.title?e.title:a;var s=e?e.labelExpression:"";var l=e&&e.formatting;var c=function e(t){Re(t).then((function(e){n&&n(e);r["default"].$rootScope.$emit("clearUndo")}))};var u={title:"Measure.Dialog.Add.Title",confirm:"Common.Create",name:o,description:"",tags:[],expr:a,labelExpression:s,callback:c,formatting:l};i=H.show(u);i.closed.then((function(){i=null}))}function We(e,t){ge["a"].get(e).then((function(e){e.getProperties().then((function(n){var i=function i(a){Ve(n,e,a).then((function(e){t&&t(e);r["default"].$rootScope.$emit("clearUndo")}))};var a={title:"Measure.Dialog.Edit.Title",confirm:"Common.Save",name:n.qMetaDef.title,description:n.qMetaDef.description,descriptionExpression:n.qMeasure.descriptionExpression,tags:n.qMetaDef.tags,expr:n.qMeasure.qDef,labelExpression:n.qMeasure.qLabelExpression,baseColor:n.qMeasure.coloring?n.qMeasure.coloring.baseColor:n.qMeasure.baseColor,gradient:n.qMeasure.coloring?n.qMeasure.coloring.gradient:n.qMeasure.gradient,callback:i,formatting:{qNumFormat:n.qMeasure.qNumFormat,isCustomFormatted:n.qMeasure.isCustomFormatted,numFormatFromTemplate:n.qMeasure.numFormatFromTemplate}};var o=H.show(a);o.closed.then((function(){o=null}))}))}))}function Qe(e){Q.show({title:"Visualization.Dialog.Add.Title",confirm:"Visualization.Dialog.Saveclose",visualization:{name:e.qMetaDef.title,description:e.qMetaDef.description,tags:e.qMetaDef.tags},onSaveCallback:e.onSave})}function Ke(e){e.onSave({expr:e.expr,path:e.elem.data("path"),pathAttribute:"definition"})}var Ye=t["a"]={addMeasure:Ge,editMeasure:We,addMetadata:Qe,addODAGLink:He,editODAGLink:ze,breakLink:Ke,addDynamicView:$e,editDynamicView:Ue}},uvNq:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);function a(e,t){return u(e)||c(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function u(e){if(Array.isArray(e))return e}var d=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n=Object(r["useState"])(t),i=a(n,2),o=i[0],s=i[1];var l=Object(r["useMemo"])((function(){return function(){return s((function(e){return!e}))}}));var c=function e(){s(false)};var u=function e(){s(true)};return[o,l,c,u]};t["a"]=d},"v/w5":function(e,t,n){"use strict";var r=n("PoH+");var i=n.n(r);var a=n("mWu2");var o=n("wvr8");var s=n("hL0k");var l=n("4nJ1");var c=n("acVu");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}var p=function(){function e(){u(this,e);this.STATES={NEW_CONNECTION:"newconnection",IN_APP:"inapp",FILE_CONNECTION:"fileconnection",DATAMARKET:"datamarket",CATALOG:"catalog",STORAGE_PROVIDER:"storageprovider",SELECTION:"selection",SELECTION_STORAGEPROVIDER:"selection_storageprovider"};this.IN_APP_TYPES={ATTACHED_FILES:"AttachedFiles",MANUAL_DATA:"ManualData"};this.FILE_CONNECTION_TYPES={NATIVE_FILES:"NativeFile"};this.currentState={page:this.STATES.NEW_CONNECTION,params:{}};this.editConnection=null;this.editPanelOpen=false;this.panelOpen=false;this.selectedCatalogItems=[];this.prepareLoadDataModel={isPrepOn:!s["a"].isNoData(),isNoDataMode:function e(){return s["a"].isNoData()}};this.lastUsedFileData={path:"",dataConnectionId:""};this.lastUsedDataMarket={node:null,connector:null};this.listeners=[];this.addDataVisibilityListeners=[];this.editAddDataVisibilityListeners=[];this.activeView="";this.activeViewListeners=[];this.spacesModel={selectedSpace:void 0,spaces:[]}}f(e,[{key:"isModifyEnabled",value:function e(){return!!Object(c["b"])("ADD_DATA_MODIFY")}},{key:"changeState",value:function e(t,n){this.lastState=i.a.clone(this.currentState);n.existing?n.existing="true"===n.existing.toString():n.existing=false;this.currentState={page:t,params:n};l["a"].isEqual(this.lastState,this.currentState)||this.listeners.forEach((function(e){e.callback()}))}},{key:"updateLastUsedDataMarketConnector",value:function e(t){this.lastUsedDataMarket.connector=t}},{key:"updateLastUsedDataMarketNode",value:function e(t){this.lastUsedDataMarket.node=t}},{key:"updateLastUsedFileData",value:function e(t,n){this.lastUsedFileData.path=t;this.lastUsedFileData.dataConnectionId=n}},{key:"getLastUsedFileData",value:function e(){return this.lastUsedFileData}},{key:"goBackToLastState",value:function e(){this.lastState.params.file=null;this.lastState.params.showPicker=false;this.lastState.page===this.STATES.DATAMARKET?this.changeState(this.lastState.page,{startLocation:this.lastUsedDataMarket}):this.changeState(this.lastState.page,this.lastState.params)}},{key:"getCurrentState",value:function e(){return this.currentState}},{key:"showAddDataBind",value:function e(t){this.addDataVisibilityListeners.push(t)}},{key:"showAddDataUnbind",value:function e(t){this.addDataVisibilityListeners=this.addDataVisibilityListeners.filter((function(e){return e!==t}))}},{key:"callShowAddDataListeners",value:function e(t){"boolean"===typeof t&&this.addDataVisibilityListeners.forEach((function(e){e(t)}))}},{key:"showAddData",value:function e(t,n){var r;n&&(this.spacesModel.selectedSpace=n);(null===t||void 0===t||null===(r=t.type)||void 0===r?void 0:r.isStorageProvider)?this.changeState(this.STATES.STORAGE_PROVIDER,{name:t.name,existing:true}):t&&this.changeState(this.STATES.SELECTION,{connection:t.name,connectionId:t.id,existing:true,hidePreview:false});this.panelOpen=true;this.setCatalogState(void 0);this.setSelectedCatalogItems([]);this.callShowAddDataListeners(true)}},{key:"hideAddData",value:function e(){this.panelOpen=false;this.callShowAddDataListeners(false)}},{key:"isOpen",value:function e(){return this.panelOpen}},{key:"showEditAddDataBind",value:function e(t){this.editAddDataVisibilityListeners.push(t)}},{key:"showEditAddDataUnbind",value:function e(t){this.editAddDataVisibilityListeners=this.editAddDataVisibilityListeners.filter((function(e){return e!==t}))}},{key:"callShowEditAddDataListeners",value:function e(t){"boolean"===typeof t&&this.editAddDataVisibilityListeners.forEach((function(e){e(t)}))}},{key:"showEditAddData",value:function e(t){this.editConnection=t;this.editPanelOpen=true;this.callShowEditAddDataListeners(true)}},{key:"hideEditAddData",value:function e(){this.editConnection=null;this.editPanelOpen=false;this.callShowEditAddDataListeners(false)}},{key:"isEditOpen",value:function e(){return this.editPanelOpen}},{key:"getReactViews",value:function e(){return["catalog"]}},{key:"getActiveView",value:function e(){return this.activeView}},{key:"setActiveView",value:function e(t){this.activeView=t;this.activeViewListeners.forEach((function(e){e(t)}))}},{key:"activeViewBind",value:function e(t){this.activeViewListeners.push(t)}},{key:"activeViewUnbind",value:function e(t){this.activeViewListeners=this.activeViewListeners.filter((function(e){return e!==t}))}},{key:"getCatalogState",value:function e(){if(this.catalogState){this.catalogState.entities=[];this.catalogState.pagedEntities={}}return this.catalogState}},{key:"setCatalogState",value:function e(t){this.catalogState=t}},{key:"areCatalogItemsSelected",value:function e(){return this.selectedCatalogItems.length>0}},{key:"setSelectedCatalogItems",value:function e(t){var n=this;var r=a["default"].getService("$timeout");r((function(){n.selectedCatalogItems=t}))}},{key:"getSelectedCatalogItems",value:function e(){return this.selectedCatalogItems.map((function(e){var t=o["a"].removeSurroundingSlashes(e.connection.relativePath);t=t.replace(/\\/g,"/");return{fileName:t,connectionId:e.connection.id}}))}},{key:"getPrepareLoadDataModel",value:function e(){return this.prepareLoadDataModel}},{key:"turnOnDataProfiling",value:function e(){if(!this.prepareLoadDataModel.isNoDataMode()){this.prepareLoadDataModel.isPrepOn=true;return this.prepareLoadDataModel.isPrepOn}return}},{key:"registerStateChangedListener",value:function e(t,n){this.listeners.push({id:t,callback:n})}},{key:"deregisterStateChangedListener",value:function e(t){this.listeners=this.listeners.filter((function(e){return e.id!==t}))}}]);return e}();t["a"]=new p},v8WV:function(e,t,n){(function(n){var r,i;(function(t,n){e.exports=n(t)})("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n?n:this,(function(n){"use strict";n=n||{};var a=n.Base64;var o="2.6.4";var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var l=function(e){var t={};for(var n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(s);var c=String.fromCharCode;var u=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)};var d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;var f=function(e){return e.replace(d,u)};var p=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[s.charAt(n>>>18),s.charAt(n>>>12&63),t>=2?"=":s.charAt(n>>>6&63),t>=1?"=":s.charAt(63&n)];return r.join("")};var h=n.btoa&&"function"==typeof n.btoa?function(e){return n.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,p)};var v=function(e){return h(f(String(e)))};var m=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")};var g=function(e,t){return t?m(v(e)):v(e)};var b=function(e){return g(e,true)};var y;n.Uint8Array&&(y=function(e,t){var n="";for(var r=0,i=e.length;r<i;r+=3){var a=e[r],o=e[r+1],l=e[r+2];var c=a<<16|o<<8|l;n+=s.charAt(c>>>18)+s.charAt(c>>>12&63)+("undefined"!=typeof o?s.charAt(c>>>6&63):"=")+("undefined"!=typeof l?s.charAt(63&c):"=")}return t?m(n):n});var w=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g;var S=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return c(55296+(n>>>10))+c(56320+(1023&n));case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}};var x=function(e){return e.replace(w,S)};var C=function(e){var t=e.length,n=t%4,r=(t>0?l[e.charAt(0)]<<18:0)|(t>1?l[e.charAt(1)]<<12:0)|(t>2?l[e.charAt(2)]<<6:0)|(t>3?l[e.charAt(3)]:0),i=[c(r>>>16),c(r>>>8&255),c(255&r)];i.length-=[0,0,2,1][n];return i.join("")};var q=n.atob&&"function"==typeof n.atob?function(e){return n.atob(e)}:function(e){return e.replace(/\S{1,4}/g,C)};var E=function(e){return q(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))};var I=function(e){return x(q(e))};var k=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")};var A=function(e){return I(k(e))};var T;n.Uint8Array&&(T=function(e){return Uint8Array.from(E(k(e)),(function(e){return e.charCodeAt(0)}))});var D=function(){var e=n.Base64;n.Base64=a;return e};n.Base64={VERSION:o,atob:E,btoa:h,fromBase64:A,toBase64:g,utob:f,encode:g,encodeURI:b,btou:x,decode:A,noConflict:D,fromUint8Array:y,toUint8Array:T};if("function"===typeof Object.defineProperty){var O=function(e){return{value:e,enumerable:false,writable:true,configurable:true}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",O((function(){return A(this)})));Object.defineProperty(String.prototype,"toBase64",O((function(e){return g(this,e)})));Object.defineProperty(String.prototype,"toBase64URI",O((function(){return g(this,true)})))}}n["Meteor"]&&(Base64=n.Base64);if(true,e.exports)e.exports.Base64=n.Base64;else{true;!(r=[],i=function(){return n.Base64}.apply(t,r),void 0!==i&&(e.exports=i))}return{Base64:n.Base64}}))}).call(this,n("pCvA"))},vMhA:function(e,t,n){"use strict";var r=n("sWge");var i=n("Azxh");var a=n("8wLh");function o(e,t,n){var o;var u=e.qSelectionObject?e.qSelectionObject.qSelections:null;var d=[];var f=1e4;if(n&&e.selectionsInStates&&e.selectionsInStates.length>0){var p=[];e.selectionsInStates.forEach((function(e){p=p.concat(e.qSelectionObject.qSelections)}));u=p}if(u&&u.length>0){var h=function e(n,o){var u=c(o,f);var d=a["a"].createTransientField(t,n.name,{qStateName:n.stateName}).then((function(e){var t=new i["a"](e);var a=[];for(var c=1;c<=u;c++){var d=s(c,u,o,f);a.push(t.getData(d).then((function(e){return l(e,n)})))}return r["a"].all(a).then((function(e){return e[0]}))}));return d};for(o=0;o<u.length;o++){var v={name:u[o].qField,displayName:u[o].name,values:[],displayValues:[],isNumeric:false,stateName:u[o].stateName||"$"};var m=h(v,u[o].qSelectedCount);d.push(m)}}return r["a"].all(d)}function s(e,t,n,r){var i;i=1===t?n:e*r<n?r:n%r;var a=[{qTop:(e-1)*r,qLeft:0,qWidth:1,qHeight:i}];return a}function l(e,t){if(e&&e.length){var n=e[0].qMatrix;var r;for(var i=0;i<n.length;i++){r=n[i][0];var a=!Number.isNaN(+r.qNum);t.values.push(a?r.qNum:r.qText);t.displayValues.push(r.qText);t.isNumeric=t.isNumeric||a}}return t}function c(e,t){return Math.ceil(e/t)}t["a"]={get:o,getRects:s,getFieldSelections:l,getCallCount:c}},vOsO:function(e,t,n){"use strict";(function(e,t){function n(e){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return n(e)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&i(e,t)}function i(e,t){i=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return i(e,t)}function a(e){var t=l();return function n(){var r=c(e),i;if(t){var a=c(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return o(this,i)}}function o(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;var i=function e(){};return{s:i,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,o=false,s;return{s:function t(){n=e[Symbol.iterator]()},n:function e(){var t=n.next();a=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{a||null==n["return"]||n["return"]()}finally{if(o)throw s}}}}function d(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function v(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e}var m=function(){function e(){p(this,e)}v(e,[{key:"on",value:function e(t,n){this._callbacks=this._callbacks||{};this._callbacks[t]||(this._callbacks[t]=[]);this._callbacks[t].push(n);return this}},{key:"emit",value:function e(t){this._callbacks=this._callbacks||{};var n=this._callbacks[t];if(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=u(n),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.apply(this,i)}}catch(e){o.e(e)}finally{o.f()}}return this}},{key:"off",value:function e(t,n){if(!this._callbacks||0===arguments.length){this._callbacks={};return this}var r=this._callbacks[t];if(!r)return this;if(1===arguments.length){delete this._callbacks[t];return this}for(var i=0;i<r.length;i++){var a=r[i];if(a===n){r.splice(i,1);break}}return this}}]);return e}();var g=function(e){r(n,e);var t=a(n);v(n,null,[{key:"initClass",value:function e(){this.prototype.Emitter=m;this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];this.prototype.defaultOptions={url:null,method:"post",withCredentials:false,timeout:3e4,parallelUploads:2,uploadMultiple:false,chunking:false,forceChunking:false,chunkSize:2e6,parallelChunkUploads:false,retryChunks:false,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:false,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function e(){},params:function e(t,n,r){if(r)return{dzuuid:r.file.upload.uuid,dzchunkindex:r.index,dztotalfilesize:r.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:r.file.upload.totalChunkCount,dzchunkbyteoffset:r.index*this.options.chunkSize}},accept:function e(t,n){return n()},chunksUploaded:function e(t,n){n()},fallback:function e(){var t;this.element.className="".concat(this.element.className," dz-browser-not-supported");var r=u(this.element.getElementsByTagName("div")),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;if(/(^| )dz-message($| )/.test(a.className)){t=a;a.className="dz-message";break}}}catch(e){r.e(e)}finally{r.f()}if(!t){t=n.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(t)}var o=t.getElementsByTagName("span")[0];o&&(null!=o.textContent?o.textContent=this.options.dictFallbackMessage:null!=o.innerText&&(o.innerText=this.options.dictFallbackMessage));return this.element.appendChild(this.getFallbackForm())},resize:function e(t,n,r,i){var a={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height};var o=t.width/t.height;if(null==n&&null==r){n=a.srcWidth;r=a.srcHeight}else null==n?n=r*o:null==r&&(r=n/o);n=Math.min(n,a.srcWidth);r=Math.min(r,a.srcHeight);var s=n/r;if(a.srcWidth>n||a.srcHeight>r)if("crop"===i)if(o>s){a.srcHeight=t.height;a.srcWidth=a.srcHeight*s}else{a.srcWidth=t.width;a.srcHeight=a.srcWidth/s}else{if("contain"!==i)throw new Error("Unknown resizeMethod '".concat(i,"'"));o>s?r=n/o:n=r*o}a.srcX=(t.width-a.srcWidth)/2;a.srcY=(t.height-a.srcHeight)/2;a.trgWidth=n;a.trgHeight=r;return a},transformFile:function e(t,n){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,n):n(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function e(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function e(t){},dragend:function e(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function e(t){return this.element.classList.add("dz-drag-hover")},dragover:function e(t){return this.element.classList.add("dz-drag-hover")},dragleave:function e(t){return this.element.classList.remove("dz-drag-hover")},paste:function e(t){},reset:function e(){return this.element.classList.remove("dz-started")},addedfile:function e(t){var r=this;this.element===this.previewsContainer&&this.element.classList.add("dz-started");if(this.previewsContainer){t.previewElement=n.createElement(this.options.previewTemplate.trim());t.previewTemplate=t.previewElement;this.previewsContainer.appendChild(t.previewElement);var i=u(t.previewElement.querySelectorAll("[data-dz-name]")),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.textContent=t.name}}catch(e){i.e(e)}finally{i.f()}var s=u(t.previewElement.querySelectorAll("[data-dz-size]")),l;try{for(s.s();!(l=s.n()).done;){o=l.value;o.innerHTML=this.filesize(t.size)}}catch(e){s.e(e)}finally{s.f()}if(this.options.addRemoveLinks){t._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>"));t.previewElement.appendChild(t._removeLink)}var c=function e(i){i.preventDefault();i.stopPropagation();return t.status===n.UPLOADING?n.confirm(r.options.dictCancelUploadConfirmation,(function(){return r.removeFile(t)})):r.options.dictRemoveFileConfirmation?n.confirm(r.options.dictRemoveFileConfirmation,(function(){return r.removeFile(t)})):r.removeFile(t)};var d=u(t.previewElement.querySelectorAll("[data-dz-remove]")),f;try{for(d.s();!(f=d.n()).done;){var p=f.value;p.addEventListener("click",c)}}catch(e){d.e(e)}finally{d.f()}}},removedfile:function e(t){null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement);return this._updateMaxFilesReachedClass()},thumbnail:function e(t,n){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");var r=u(t.previewElement.querySelectorAll("[data-dz-thumbnail]")),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;a.alt=t.name;a.src=n}}catch(e){r.e(e)}finally{r.f()}return setTimeout((function(){return t.previewElement.classList.add("dz-image-preview")}),1)}},error:function e(t,n){if(t.previewElement){t.previewElement.classList.add("dz-error");"string"!==typeof n&&n.error&&(n=n.error);var r=u(t.previewElement.querySelectorAll("[data-dz-errormessage]")),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;a.textContent=n}}catch(e){r.e(e)}finally{r.f()}}},errormultiple:function e(){},processing:function e(t){if(t.previewElement){t.previewElement.classList.add("dz-processing");if(t._removeLink)return t._removeLink.innerHTML=this.options.dictCancelUpload}},processingmultiple:function e(){},uploadprogress:function e(t,n,r){if(t.previewElement){var i=u(t.previewElement.querySelectorAll("[data-dz-uploadprogress]")),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;"PROGRESS"===o.nodeName?o.value=n:o.style.width="".concat(n,"%")}}catch(e){i.e(e)}finally{i.f()}}},totaluploadprogress:function e(){},sending:function e(){},sendingmultiple:function e(){},success:function e(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function e(){},canceled:function e(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function e(){},complete:function e(t){t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile);if(t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function e(){},maxfilesexceeded:function e(){},maxfilesreached:function e(){},queuecomplete:function e(){},addedfiles:function e(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=false}},{key:"extend",value:function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];for(var l in s){var c=s[l];t[l]=c}}return t}}]);function n(e,r){var i;p(this,n);i=t.call(this);var a,l;i.element=e;i.version=n.version;i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,"");i.clickableElements=[];i.listeners=[];i.files=[];"string"===typeof i.element&&(i.element=document.querySelector(i.element));if(!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");n.instances.push(s(i));i.element.dropzone=s(i);var c=null!=(l=n.optionsForElement(i.element))?l:{};i.options=n.extend({},i.defaultOptions,c,null!=r?r:{});if(i.options.forceFallback||!n.isBrowserSupported())return o(i,i.options.fallback.call(s(i)));null==i.options.url&&(i.options.url=i.element.getAttribute("action"));if(!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(i.options.acceptedMimeTypes){i.options.acceptedFiles=i.options.acceptedMimeTypes;delete i.options.acceptedMimeTypes}null!=i.options.renameFilename&&(i.options.renameFile=function(e){return i.options.renameFilename.call(s(i),e.name,e)});"string"===typeof i.options.method&&(i.options.method=i.options.method.toUpperCase());(a=i.getExistingFallback())&&a.parentNode&&a.parentNode.removeChild(a);false!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=n.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element);i.options.clickable&&(true===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=n.getElements(i.options.clickable,"clickable"));i.init();return i}v(n,[{key:"getAcceptedFiles",value:function e(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function e(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function e(t){return this.files.filter((function(e){return e.status===t})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function e(){return this.getFilesWithStatus(n.QUEUED)}},{key:"getUploadingFiles",value:function e(){return this.getFilesWithStatus(n.UPLOADING)}},{key:"getAddedFiles",value:function e(){return this.getFilesWithStatus(n.ADDED)}},{key:"getActiveFiles",value:function e(){return this.files.filter((function(e){return e.status===n.UPLOADING||e.status===n.QUEUED})).map((function(e){return e}))}},{key:"init",value:function e(){var t=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>")));if(this.clickableElements.length){var r=function e(){t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput);t.hiddenFileInput=document.createElement("input");t.hiddenFileInput.setAttribute("type","file");(null===t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple");t.hiddenFileInput.className="dz-hidden-input";null!==t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles);null!==t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture);t.hiddenFileInput.style.visibility="hidden";t.hiddenFileInput.style.position="absolute";t.hiddenFileInput.style.top="0";t.hiddenFileInput.style.left="0";t.hiddenFileInput.style.height="0";t.hiddenFileInput.style.width="0";n.getElement(t.options.hiddenInputContainer,"hiddenInputContainer").appendChild(t.hiddenFileInput);return t.hiddenFileInput.addEventListener("change",(function(){var n=t.hiddenFileInput.files;if(n.length){var r=u(n),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;t.addFile(a)}}catch(e){r.e(e)}finally{r.f()}}t.emit("addedfiles",n);return e()}))};r()}this.URL=null!==window.URL?window.URL:window.webkitURL;var i=u(this.events),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;this.on(o,this.options[o])}}catch(e){i.e(e)}finally{i.f()}this.on("uploadprogress",(function(){return t.updateTotalUploadProgress()}));this.on("removedfile",(function(){return t.updateTotalUploadProgress()}));this.on("canceled",(function(e){return t.emit("complete",e)}));this.on("complete",(function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout((function(){return t.emit("queuecomplete")}),0)}));var s=function e(t){if(t.dataTransfer.types)for(var n=0;n<t.dataTransfer.types.length;n++)if("Files"===t.dataTransfer.types[n])return true;return false};var l=function e(t){if(!s(t))return;t.stopPropagation();return t.preventDefault?t.preventDefault():t.returnValue=false};this.listeners=[{element:this.element,events:{dragstart:function e(n){return t.emit("dragstart",n)},dragenter:function e(n){l(n);return t.emit("dragenter",n)},dragover:function e(n){var r;try{r=n.dataTransfer.effectAllowed}catch(e){}n.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy";l(n);return t.emit("dragover",n)},dragleave:function e(n){return t.emit("dragleave",n)},drop:function e(n){l(n);return t.drop(n)},dragend:function e(n){return t.emit("dragend",n)}}}];this.clickableElements.forEach((function(e){return t.listeners.push({element:e,events:{click:function r(i){(e!==t.element||i.target===t.element||n.elementInside(i.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click();return true}}})}));this.enable();return this.options.init.call(this)}},{key:"destroy",value:function e(){this.disable();this.removeAllFiles(true);if(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return n.instances.splice(n.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function e(){var t;var n=0;var r=0;var i=this.getActiveFiles();if(i.length){var a=u(this.getActiveFiles()),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;n+=s.upload.bytesSent;r+=s.upload.total}}catch(e){a.e(e)}finally{a.f()}t=100*n/r}else t=100;return this.emit("totaluploadprogress",t,r,n)}},{key:"_getParamName",value:function e(t){return"function"===typeof this.options.paramName?this.options.paramName(t):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(t,"]"):"")}},{key:"_renameFile",value:function e(t){if("function"!==typeof this.options.renameFile)return t.name;return this.options.renameFile(t)}},{key:"getFallbackForm",value:function e(){var t,r;if(t=this.getExistingFallback())return t;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>".concat(this.options.dictFallbackText,"</p>"));i+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var a=n.createElement(i);if("FORM"!==this.element.tagName){r=n.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'));r.appendChild(a)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return null!=r?r:a}},{key:"getExistingFallback",value:function e(){var t=function e(t){var n=u(t),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;if(/(^| )fallback($| )/.test(i.className))return i}}catch(e){n.e(e)}finally{n.f()}};for(var n=0,r=["div","form"];n<r.length;n++){var i=r[n];var a;if(a=t(this.element.getElementsByTagName(i)))return a}}},{key:"setupEventListeners",value:function e(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.addEventListener(n,r,false))}return t}()}))}},{key:"removeEventListeners",value:function e(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.removeEventListener(n,r,false))}return t}()}))}},{key:"disable",value:function e(){var t=this;this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")}));this.removeEventListeners();this.disabled=true;return this.files.map((function(e){return t.cancelUpload(e)}))}},{key:"enable",value:function e(){delete this.disabled;this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")}));return this.setupEventListeners()}},{key:"filesize",value:function e(t){var n=0;var r="b";if(t>0){var i=["tb","gb","mb","kb","b"];for(var a=0;a<i.length;a++){var o=i[a];var s=Math.pow(this.options.filesizeBase,4-a)/10;if(t>=s){n=t/Math.pow(this.options.filesizeBase,4-a);r=o;break}}n=Math.round(10*n)/10}return"<strong>".concat(n,"</strong> ").concat(this.options.dictFileSizeUnits[r])}},{key:"_updateMaxFilesReachedClass",value:function e(){if(null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files);return this.element.classList.add("dz-max-files-reached")}return this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function e(t){if(!t.dataTransfer)return;this.emit("drop",t);var n=[];for(var r=0;r<t.dataTransfer.files.length;r++)n[r]=t.dataTransfer.files[r];if(n.length){var i=t.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(n)}this.emit("addedfiles",n)}},{key:"paste",value:function e(t){if(null==q(null!=t?t.clipboardData:void 0,(function(e){return e.items})))return;this.emit("paste",t);var n=t.clipboardData.items;if(n.length)return this._addFilesFromItems(n)}},{key:"handleFiles",value:function e(t){var n=u(t),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;this.addFile(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_addFilesFromItems",value:function e(t){var n=this;return function(){var e=[];var r=u(t),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;var o;null!=a.webkitGetAsEntry&&(o=a.webkitGetAsEntry())?o.isFile?e.push(n.addFile(a.getAsFile())):o.isDirectory?e.push(n._addFilesFromDirectory(o,o.name)):e.push(void 0):null!=a.getAsFile&&(null==a.kind||"file"===a.kind)?e.push(n.addFile(a.getAsFile())):e.push(void 0)}}catch(e){r.e(e)}finally{r.f()}return e}()}},{key:"_addFilesFromDirectory",value:function e(t,n){var r=this;var i=t.createReader();var a=function e(t){return E(console,"log",(function(e){return e.log(t)}))};var o=function e(){return i.readEntries((function(t){if(t.length>0){var i=u(t),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.isFile?o.file((function(e){if(r.options.ignoreHiddenFiles&&"."===e.name.substring(0,1))return;e.fullPath="".concat(n,"/").concat(e.name);return r.addFile(e)})):o.isDirectory&&r._addFilesFromDirectory(o,"".concat(n,"/").concat(o.name))}}catch(e){i.e(e)}finally{i.f()}e()}return null}),a)};return o()}},{key:"accept",value:function e(t,r){if(this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024)r(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize));else if(n.isValidFile(t,this.options.acceptedFiles))if(null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){r(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));this.emit("maxfilesexceeded",t)}else this.options.accept.call(this,t,r);else r(this.options.dictInvalidFileType)}},{key:"addFile",value:function e(t){var r=this;t.upload={uuid:n.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)};this.files.push(t);t.status=n.ADDED;this.emit("addedfile",t);this._enqueueThumbnail(t);this.accept(t,(function(e){if(e){t.accepted=false;r._errorProcessing([t],e)}else{t.accepted=true;r.options.autoQueue&&r.enqueueFile(t)}r._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function e(t){var n=u(t),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;this.enqueueFile(i)}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"enqueueFile",value:function e(t){var r=this;if(t.status!==n.ADDED||true!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");t.status=n.QUEUED;if(this.options.autoProcessQueue)return setTimeout((function(){return r.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function e(t){var n=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024){this._thumbnailQueue.push(t);return setTimeout((function(){return n._processThumbnailQueue()}),0)}}},{key:"_processThumbnailQueue",value:function e(){var t=this;if(this._processingThumbnail||0===this._thumbnailQueue.length)return;this._processingThumbnail=true;var n=this._thumbnailQueue.shift();return this.createThumbnail(n,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,true,(function(e){t.emit("thumbnail",n,e);t._processingThumbnail=false;return t._processThumbnailQueue()}))}},{key:"removeFile",value:function e(t){t.status===n.UPLOADING&&this.cancelUpload(t);this.files=b(this.files,t);this.emit("removedfile",t);if(0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function e(t){null==t&&(t=false);var r=u(this.files.slice()),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;(a.status!==n.UPLOADING||t)&&this.removeFile(a)}}catch(e){r.e(e)}finally{r.f()}return null}},{key:"resizeImage",value:function e(t,r,i,a,o){var s=this;return this.createThumbnail(t,r,i,a,true,(function(e,r){if(null==r)return o(t);var i=s.options.resizeMimeType;null==i&&(i=t.type);var a=r.toDataURL(i,s.options.resizeQuality);"image/jpeg"!==i&&"image/jpg"!==i||(a=x.restore(t.dataURL,a));return o(n.dataURItoBlob(a))}))}},{key:"createThumbnail",value:function e(t,n,r,i,a,o){var s=this;var l=new FileReader;l.onload=function(){t.dataURL=l.result;if("image/svg+xml"===t.type){null!=o&&o(l.result);return}s.createThumbnailFromUrl(t,n,r,i,a,o)};l.readAsDataURL(t)}},{key:"displayExistingFile",value:function e(t,n,r,i){var a=this;var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.emit("addedfile",t);this.emit("complete",t);if(o){var s=function e(n){a.emit("thumbnail",t,n);r&&r()};t.dataURL=n;this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,s,i)}else{this.emit("thumbnail",t,n);r&&r()}}},{key:"createThumbnailFromUrl",value:function e(t,n,r,i,a,o,s){var l=this;var c=document.createElement("img");s&&(c.crossOrigin=s);a="from-image"!=getComputedStyle(document.body)["imageOrientation"]&&a;c.onload=function(){var e=function e(t){return t(1)};"undefined"!==typeof EXIF&&null!==EXIF&&a&&(e=function e(t){return EXIF.getData(c,(function(){return t(EXIF.getTag(this,"Orientation"))}))});return e((function(e){t.width=c.width;t.height=c.height;var a=l.options.resize.call(l,t,n,r,i);var s=document.createElement("canvas");var u=s.getContext("2d");s.width=a.trgWidth;s.height=a.trgHeight;if(e>4){s.width=a.trgHeight;s.height=a.trgWidth}switch(e){case 2:u.translate(s.width,0);u.scale(-1,1);break;case 3:u.translate(s.width,s.height);u.rotate(Math.PI);break;case 4:u.translate(0,s.height);u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI);u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI);u.translate(0,-s.width);break;case 7:u.rotate(.5*Math.PI);u.translate(s.height,-s.width);u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI);u.translate(-s.height,0);break}S(u,c,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var d=s.toDataURL("image/png");if(null!=o)return o(d,s)}))};null!=o&&(c.onerror=o);return c.src=t.dataURL}},{key:"processQueue",value:function e(){var t=this.options.parallelUploads;var n=this.getUploadingFiles().length;var r=n;if(n>=t)return;var i=this.getQueuedFiles();if(!(i.length>0))return;if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));while(r<t){if(!i.length)return;this.processFile(i.shift());r++}}},{key:"processFile",value:function e(t){return this.processFiles([t])}},{key:"processFiles",value:function e(t){var r=u(t),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;a.processing=true;a.status=n.UPLOADING;this.emit("processing",a)}}catch(e){r.e(e)}finally{r.f()}this.options.uploadMultiple&&this.emit("processingmultiple",t);return this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function e(t){var n;return this.files.filter((function(e){return e.xhr===t})).map((function(e){return e}))}},{key:"cancelUpload",value:function e(t){if(t.status===n.UPLOADING){var r=this._getFilesWithXhr(t.xhr);var i=u(r),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.status=n.CANCELED}}catch(e){i.e(e)}finally{i.f()}"undefined"!==typeof t.xhr&&t.xhr.abort();var s=u(r),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;this.emit("canceled",c)}}catch(e){s.e(e)}finally{s.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",r)}else if(t.status===n.ADDED||t.status===n.QUEUED){t.status=n.CANCELED;this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",[t])}if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function e(t){if("function"===typeof t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(this,r)}return t}},{key:"uploadFile",value:function e(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function e(t){var r=this;this._transformFiles(t,(function(e){if(r.options.chunking){var i=e[0];t[0].upload.chunked=r.options.chunking&&(r.options.forceChunking||i.size>r.options.chunkSize);t[0].upload.totalChunkCount=Math.ceil(i.size/r.options.chunkSize)}if(t[0].upload.chunked){var a=t[0];var o=e[0];var s=0;a.upload.chunks=[];var l=function e(){var i=0;while(void 0!==a.upload.chunks[i])i++;if(i>=a.upload.totalChunkCount)return;s++;var l=i*r.options.chunkSize;var c=Math.min(l+r.options.chunkSize,o.size);var u={name:r._getParamName(0),data:o.webkitSlice?o.webkitSlice(l,c):o.slice(l,c),filename:a.upload.filename,chunkIndex:i};a.upload.chunks[i]={file:a,index:i,dataBlock:u,status:n.UPLOADING,progress:0,retries:0};r._uploadData(t,[u])};a.upload.finishedChunkUpload=function(e){var i=true;e.status=n.SUCCESS;e.dataBlock=null;e.xhr=null;for(var o=0;o<a.upload.totalChunkCount;o++){if(void 0===a.upload.chunks[o])return l();a.upload.chunks[o].status!==n.SUCCESS&&(i=false)}i&&r.options.chunksUploaded(a,(function(){r._finished(t,"",null)}))};if(r.options.parallelChunkUploads)for(var c=0;c<a.upload.totalChunkCount;c++)l();else l()}else{var u=[];for(var d=0;d<t.length;d++)u[d]={name:r._getParamName(d),data:e[d],filename:t[d].upload.filename};r._uploadData(t,u)}}))}},{key:"_getChunk",value:function e(t,n){for(var r=0;r<t.upload.totalChunkCount;r++)if(void 0!==t.upload.chunks[r]&&t.upload.chunks[r].xhr===n)return t.upload.chunks[r]}},{key:"_uploadData",value:function e(t,r){var i=this;var a=new XMLHttpRequest;var o=u(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.xhr=a}}catch(e){o.e(e)}finally{o.f()}t[0].upload.chunked&&(t[0].upload.chunks[r[0].chunkIndex].xhr=a);var c=this.resolveOption(this.options.method,t);var d=this.resolveOption(this.options.url,t);a.open(c,d,true);a.timeout=this.resolveOption(this.options.timeout,t);a.withCredentials=!!this.options.withCredentials;a.onload=function(e){i._finishedUploading(t,a,e)};a.ontimeout=function(){i._handleUploadError(t,a,"Request timedout after ".concat(i.options.timeout/1e3," seconds"))};a.onerror=function(){i._handleUploadError(t,a)};var f=null!=a.upload?a.upload:a;f.onprogress=function(e){return i._updateFilesUploadProgress(t,a,e)};var p={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&n.extend(p,this.options.headers);for(var h in p){var v=p[h];v&&a.setRequestHeader(h,v)}var m=new FormData;if(this.options.params){var g=this.options.params;"function"===typeof g&&(g=g.call(this,t,a,t[0].upload.chunked?this._getChunk(t[0],a):null));for(var b in g){var y=g[b];if(Array.isArray(y))for(var w=0;w<y.length;w++)m.append(b,y[w]);else m.append(b,y)}}var S=u(t),x;try{for(S.s();!(x=S.n()).done;){var C=x.value;this.emit("sending",C,a,m)}}catch(e){S.e(e)}finally{S.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",t,a,m);this._addFormElementData(m);for(var q=0;q<r.length;q++){var E=r[q];m.append(E.name,E.data,E.filename)}this.submitRequest(a,m,t)}},{key:"_transformFiles",value:function e(t,n){var r=this;var i=[];var a=0;var o=function e(o){r.options.transformFile.call(r,t[o],(function(e){i[o]=e;++a===t.length&&n(i)}))};for(var s=0;s<t.length;s++)o(s)}},{key:"_addFormElementData",value:function e(t){if("FORM"===this.element.tagName){var n=u(this.element.querySelectorAll("input, textarea, select, button")),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;var a=i.getAttribute("name");var o=i.getAttribute("type");o&&(o=o.toLowerCase());if("undefined"===typeof a||null===a)continue;if("SELECT"===i.tagName&&i.hasAttribute("multiple")){var s=u(i.options),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;c.selected&&t.append(a,c.value)}}catch(e){s.e(e)}finally{s.f()}}else(!o||"checkbox"!==o&&"radio"!==o||i.checked)&&t.append(a,i.value)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"_updateFilesUploadProgress",value:function e(t,n,r){var i;if("undefined"!==typeof r){i=100*r.loaded/r.total;if(t[0].upload.chunked){var a=t[0];var o=this._getChunk(a,n);o.progress=i;o.total=r.total;o.bytesSent=r.loaded;var s=0,l,c;a.upload.progress=0;a.upload.total=0;a.upload.bytesSent=0;for(var d=0;d<a.upload.totalChunkCount;d++)if(void 0!==a.upload.chunks[d]&&void 0!==a.upload.chunks[d].progress){a.upload.progress+=a.upload.chunks[d].progress;a.upload.total+=a.upload.chunks[d].total;a.upload.bytesSent+=a.upload.chunks[d].bytesSent}a.upload.progress=a.upload.progress/a.upload.totalChunkCount}else{var f=u(t),p;try{for(f.s();!(p=f.n()).done;){var h=p.value;h.upload.progress=i;h.upload.total=r.total;h.upload.bytesSent=r.loaded}}catch(e){f.e(e)}finally{f.f()}}var v=u(t),m;try{for(v.s();!(m=v.n()).done;){var g=m.value;this.emit("uploadprogress",g,g.upload.progress,g.upload.bytesSent)}}catch(e){v.e(e)}finally{v.f()}}else{var b=true;i=100;var y=u(t),w;try{for(y.s();!(w=y.n()).done;){var S=w.value;100===S.upload.progress&&S.upload.bytesSent===S.upload.total||(b=false);S.upload.progress=i;S.upload.bytesSent=S.upload.total}}catch(e){y.e(e)}finally{y.f()}if(b)return;var x=u(t),C;try{for(x.s();!(C=x.n()).done;){var q=C.value;this.emit("uploadprogress",q,i,q.upload.bytesSent)}}catch(e){x.e(e)}finally{x.f()}}}},{key:"_finishedUploading",value:function e(t,r,i){var a;if(t[0].status===n.CANCELED)return;if(4!==r.readyState)return;if("arraybuffer"!==r.responseType&&"blob"!==r.responseType){a=r.responseText;if(r.getResponseHeader("content-type")&&~r.getResponseHeader("content-type").indexOf("application/json"))try{a=JSON.parse(a)}catch(e){i=e;a="Invalid JSON response from server."}}this._updateFilesUploadProgress(t);200<=r.status&&r.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],r)):this._finished(t,a,i):this._handleUploadError(t,r,a)}},{key:"_handleUploadError",value:function e(t,r,i){if(t[0].status===n.CANCELED)return;if(t[0].upload.chunked&&this.options.retryChunks){var a=this._getChunk(t[0],r);if(a.retries++<this.options.retryChunksLimit){this._uploadData(t,[a.dataBlock]);return}console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(t,i||this.options.dictResponseError.replace("{{statusCode}}",r.status),r)}},{key:"submitRequest",value:function e(t,n,r){t.send(n)}},{key:"_finished",value:function e(t,r,i){var a=u(t),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;s.status=n.SUCCESS;this.emit("success",s,r,i);this.emit("complete",s)}}catch(e){a.e(e)}finally{a.f()}if(this.options.uploadMultiple){this.emit("successmultiple",t,r,i);this.emit("completemultiple",t)}if(this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function e(t,r,i){var a=u(t),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;s.status=n.ERROR;this.emit("error",s,r,i);this.emit("complete",s)}}catch(e){a.e(e)}finally{a.f()}if(this.options.uploadMultiple){this.emit("errormultiple",t,r,i);this.emit("completemultiple",t)}if(this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}))}}]);return n}(m);g.initClass();g.version="5.7.2";g.options={};g.optionsForElement=function(e){return e.getAttribute("id")?g.options[y(e.getAttribute("id"))]:void 0};g.instances=[];g.forElement=function(e){"string"===typeof e&&(e=document.querySelector(e));if(null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone};g.autoDiscover=true;g.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function t(n){return function(){var t=[];var r=u(n),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;/(^| )dropzone($| )/.test(a.className)?t.push(e.push(a)):t.push(void 0)}}catch(e){r.e(e)}finally{r.f()}return t}()};t(document.getElementsByTagName("div"));t(document.getElementsByTagName("form"))}return function(){var t=[];var n=u(e),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;false!==g.optionsForElement(i)?t.push(new g(i)):t.push(void 0)}}catch(e){n.e(e)}finally{n.f()}return t}()};g.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];g.isBrowserSupported=function(){var e=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=u(g.blacklistedBrowsers),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.test(navigator.userAgent)){e=false;continue}}}catch(e){t.e(e)}finally{t.f()}}else e=false;else e=false;return e};g.dataURItoBlob=function(e){var t=atob(e.split(",")[1]);var n=e.split(",")[0].split(":")[1].split(";")[0];var r=new ArrayBuffer(t.length);var i=new Uint8Array(r);for(var a=0,o=t.length,s=0<=o;s?a<=o:a>=o;s?a++:a--)i[a]=t.charCodeAt(a);return new Blob([r],{type:n})};var b=function e(t,n){return t.filter((function(e){return e!==n})).map((function(e){return e}))};var y=function e(t){return t.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};g.createElement=function(e){var t=document.createElement("div");t.innerHTML=e;return t.childNodes[0]};g.elementInside=function(e,t){if(e===t)return true;while(e=e.parentNode)if(e===t)return true;return false};g.getElement=function(e,t){var n;"string"===typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e);if(null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n};g.getElements=function(e,t){var n,r;if(e instanceof Array){r=[];try{var i=u(e),a;try{for(i.s();!(a=i.n()).done;){n=a.value;r.push(this.getElement(n,t))}}catch(e){i.e(e)}finally{i.f()}}catch(e){r=null}}else if("string"===typeof e){r=[];var o=u(document.querySelectorAll(e)),s;try{for(o.s();!(s=o.n()).done;){n=s.value;r.push(n)}}catch(e){o.e(e)}finally{o.f()}}else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return r};g.confirm=function(e,t,n){if(window.confirm(e))return t();if(null!=n)return n()};g.isValidFile=function(e,t){if(!t)return true;t=t.split(",");var n=e.type;var r=n.replace(/\/.*$/,"");var i=u(t),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o=o.trim();if("."===o.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return true}else if(/\/\*$/.test(o)){if(r===o.replace(/\/.*$/,""))return true}else if(n===o)return true}}catch(e){i.e(e)}finally{i.f()}return false};"undefined"!==typeof e&&null!==e&&(e.fn.dropzone=function(e){return this.each((function(){return new g(this,e)}))});true,null!==t?t.exports=g:window.Dropzone=g;g.ADDED="added";g.QUEUED="queued";g.ACCEPTED=g.QUEUED;g.UPLOADING="uploading";g.PROCESSING=g.UPLOADING;g.CANCELED="canceled";g.ERROR="error";g.SUCCESS="success";var w=function e(t){var n=t.naturalWidth;var r=t.naturalHeight;var i=document.createElement("canvas");i.width=1;i.height=r;var a=i.getContext("2d");a.drawImage(t,0,0);var o=a.getImageData(1,0,1,r),s=o.data;var l=0;var c=r;var u=r;while(u>l){var d=s[4*(u-1)+3];0===d?c=u:l=u;u=c+l>>1}var f=u/r;return 0===f?1:f};var S=function e(t,n,r,i,a,o,s,l,c,u){var d=w(n);return t.drawImage(n,r,i,a,o,s,l,c,u/d)};var x=function(){function e(){p(this,e)}v(e,null,[{key:"initClass",value:function e(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function e(t){var n="";var r=void 0;var i=void 0;var a="";var o=void 0;var s=void 0;var l=void 0;var c="";var u=0;while(true){r=t[u++];i=t[u++];a=t[u++];o=r>>2;s=(3&r)<<4|i>>4;l=(15&i)<<2|a>>6;c=63&a;isNaN(i)?l=c=64:isNaN(a)&&(c=64);n=n+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(c);r=i=a="";o=s=l=c="";if(!(u<t.length))break}return n}},{key:"restore",value:function e(t,n){if(!t.match("data:image/jpeg;base64,"))return n;var r=this.decode64(t.replace("data:image/jpeg;base64,",""));var i=this.slice2Segments(r);var a=this.exifManipulation(n,i);return"data:image/jpeg;base64,".concat(this.encode64(a))}},{key:"exifManipulation",value:function e(t,n){var r=this.getExifArray(n);var i=this.insertExif(t,r);var a=new Uint8Array(i);return a}},{key:"getExifArray",value:function e(t){var n=void 0;var r=0;while(r<t.length){n=t[r];if(255===n[0]&225===n[1])return n;r++}return[]}},{key:"insertExif",value:function e(t,n){var r=t.replace("data:image/jpeg;base64,","");var i=this.decode64(r);var a=i.indexOf(255,3);var o=i.slice(0,a);var s=i.slice(a);var l=o;l=l.concat(n);l=l.concat(s);return l}},{key:"slice2Segments",value:function e(t){var n=0;var r=[];while(true){var i;if(255===t[n]&218===t[n+1])break;if(255===t[n]&216===t[n+1])n+=2;else{i=256*t[n+2]+t[n+3];var a=n+i+2;var o=t.slice(n,a);r.push(o);n=a}if(n>t.length)break}return r}},{key:"decode64",value:function e(t){var n="";var r=void 0;var i=void 0;var a="";var o=void 0;var s=void 0;var l=void 0;var c="";var u=0;var d=[];var f=/[^A-Za-z0-9\+\/\=]/g;f.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(true){o=this.KEY_STR.indexOf(t.charAt(u++));s=this.KEY_STR.indexOf(t.charAt(u++));l=this.KEY_STR.indexOf(t.charAt(u++));c=this.KEY_STR.indexOf(t.charAt(u++));r=o<<2|s>>4;i=(15&s)<<4|l>>2;a=(3&l)<<6|c;d.push(r);64!==l&&d.push(i);64!==c&&d.push(a);r=i=a="";o=s=l=c="";if(!(u<t.length))break}return d}}]);return e}();x.initClass();var C=function e(t,n){var r=false;var i=true;var a=t.document;var o=a.documentElement;var s=a.addEventListener?"addEventListener":"attachEvent";var l=a.addEventListener?"removeEventListener":"detachEvent";var c=a.addEventListener?"":"on";var u=function e(i){if("readystatechange"===i.type&&"complete"!==a.readyState)return;("load"===i.type?t:a)[l](c+i.type,e,false);if(!r&&(r=true))return n.call(t,i.type||i)};var d=function e(){try{o.doScroll("left")}catch(t){setTimeout(e,50);return}return u("poll")};if("complete"!==a.readyState){if(a.createEventObject&&o.doScroll){try{i=!t.frameElement}catch(e){}i&&d()}a[s](c+"DOMContentLoaded",u,false);a[s](c+"readystatechange",u,false);return t[s](c+"load",u,false)}};g._autoDiscoverFunction=function(){if(g.autoDiscover)return g.discover()};C(window,g._autoDiscoverFunction);function q(e,t){return"undefined"!==typeof e&&null!==e?t(e):void 0}function E(e,t,n){return"undefined"!==typeof e&&null!==e&&"function"===typeof e[t]?n(e,t):void 0}}).call(this,n("qIEf"),n("RoC8")(e))},vaoC:function(e,t,n){"use strict";var r=n("sWge");var i=n("+GbC");var a=n("SOxp");var o=n("AHUl");var s=n("TMGN");var l=[];function c(e){return e.Invalidated&&e.Invalidated.observers&&0===e.Invalidated.observers.length}function u(e){s["a"].RELEASEMODELS&&window.console.info("[DBGFLG:RELEASEMODEL] Releasing model (id):",e.id);i["a"].release(e);for(var t in e)delete e[t]}function d(){var e=l.length;var t;while(e--){t=l[e];s["a"].RELEASEMODELS&&window.console.info("[DBGFLG:RELEASEMODEL] Checking model (id, handle, model):",t.id,t.handle,t);if(c(t)){u(t);l.splice(e,1)}}}function f(e){l.push(e)}setInterval(d,1e4);var p={addToQueue:f};var h=n("TLJm");var v=h["a"].NxLocalizedErrorCode;var m=["GetLayout","GetAppLayout","AbortModal","DoSave"];function g(e,t){Array.isArray(t)?o["a"].apply(e,t):o["a"].updateObject(e,t)}var b=a["a"].extend("RPCBase",{init:function e(t){var n=this;i["a"].mixin(n);n.notification("Validated");n.notification("Invalidated");n.notification("Validating");n.notification("Closed");n.notification("Closing");n.notification("Cancelled");n.modelType="RPCBase";n.id=t.id;n.session=t.session;n.handle=t.handle;n.checkCreate=t.checkCreate;n._properties={};n.properties={};n.propertyTree={};n.ongoingRequests={};n.needCacheProperties=true;n._effectiveProperties={};n.effectiveProperties={};n.needCacheEffectiveProperties=true;n.enigmaModel=t.enigmaModel;n.setState(b.States.INVALID);"App"!==n.constructor.name&&n.bindToRPC()},bindToRPC:function e(){var t=this;t.layout=t.enigmaModel.layout;t.session.onChange(t.handle,t.changeHandler.bind(t));t.Cancelled.bind(t.clearPending.bind(t))},changeHandler:function e(){var t=this;t.clearPending();t.needCacheProperties=true;t.needCacheEffectiveProperties=true;t.isCancelled||t.setState(b.States.INVALID)},clearPending:function e(){for(var t in this.ongoingRequests)delete this.ongoingRequests[t]},setState:function e(t){var n=this;var r=n.state;delete this.__layoutRPCId;n.state=t;r===n.state||(t===b.States.INVALID?n.Invalidated.emit():t===b.States.VALID?n.Validated.emit():t===b.States.VALIDATING?n.Validating.emit():t===b.States.CLOSED?n.Closed.emit():t===b.States.CLOSING?n.Closing.emit():t===b.States.CANCELLED&&n.Cancelled.emit())},getLayout:function e(){var t=this;var n="GetLayout";if(t.isValid||t.isCancelled)return r["a"].resolve(t.layout);t.isValidating||t.setState(b.States.VALIDATING);if(t.ongoingRequests[n])return t.ongoingRequests[n];function i(){t.setState(b.States.VALID);return t.layout}var a=t.enigmaModel.getLayout();var o=a.then(i);t.__layoutRPCId=a.reqId;t.ongoingRequests[n]=o;return o},getProperties:function e(t){var n=this;var i=false;t=t||"GetProperties";if(n.isValid&&!n.needCacheProperties)return r["a"].resolve(n.properties);if(n.ongoingRequests[t+i])return n.ongoingRequests[t+i];var a=n.rpc(t,"qProp",[],{delta:i}).then((function(e){var t=o["a"].generate(n._properties,e);n._properties=e;o["a"].apply(n.properties,t);n.isValid&&(n.needCacheProperties=false);return n.properties})).catch((function(){}));n.ongoingRequests[t+i]=a;return a},getEffectiveProperties:function e(){var t=this;var n=false;var i="GetEffectiveProperties";if(t.isValid&&!t.needCacheEffectiveProperties)return r["a"].resolve(t.effectiveProperties);if(t.ongoingRequests[i+n])return t.ongoingRequests[i+n];var a=t.rpc(i,"qProp",[],{delta:n}).then((function(e){var n=o["a"].generate(t._effectiveProperties,e);t._effectiveProperties=e;o["a"].apply(t.effectiveProperties,n);t.isValid&&(t.needCacheEffectiveProperties=false);return t.effectiveProperties}));t.ongoingRequests[i+n]=a;return a},hasChanges:function e(){var t=o["a"].generate(this._properties,this.properties);return t.length>0},markAsInvalid:function e(){this.state=-99;this.setState(b.States.INVALID)},markAsCancelled:function e(){this.setState(b.States.CANCELLED)},getFullPropertyTree:function e(t){var n=this;var r=false;t=t||"GetFullPropertyTree";return n.rpc(t,"qPropEntry",[],r).then((function(e){n._propertyTree=e;g(n.propertyTree,e);return n.propertyTree}))},setProperties:function e(t,n,r){var i=this;n=n||"SetProperties";Array.isArray(t)||(t=[t]);return this.rpc(n,null,t,r).then((function(){o["a"].updateObject(i._properties,i.properties)}))},setFullPropertyTree:function e(t,n,r){n=n||"SetFullPropertyTree";Array.isArray(t)||(t=[t]);return this.rpc(n,null,t,r)},save:function e(){return this.hasChanges()?this.setProperties(this.properties):r["a"].resolve()},saveTree:function e(){return this.setFullPropertyTree(this.propertyTree)},getChildInfos:function e(){return this.rpc("GetChildInfos","qInfos",[])},close:function e(t){var n=this;t||(n.rpcOptions.onClose=n.rpcOptions.onClose?n.rpcOptions.onClose:function(){});n.setState(b.States.CLOSING);var i=r["a"].resolve();delete n.session.changeHandlers[n.handle];delete n.session.modelCache[n.id];for(var a in n.ongoingRequests)n.ongoingRequests[a].then&&n.ongoingRequests[a].then(null,(function(e){e.error.isHandled=true}));return i.then((function(){n.setState(b.States.CLOSED);p.addToQueue(n)}))},rpc:function e(t,n,i,a){a=a||{delta:false,raw:false};var o=this;var s=[].slice.call(arguments);if(!o.handle&&"App"===o.constructor.name)return o.waitForOpen.promise.then((function(){return o.rpc.apply(o,s)}));var l={method:t,handle:this.handle,params:i||[]};a.delta&&(l.delta=true);if(!o.session||o.isClosing||o.isClosed)return r["a"].reject();var c=o.session.rpc(l).then((function(e){return n?e.result[n]:a.raw?e:e.result})).catch((function(e){if(e.error.code===v.LOCERR_HC_MODAL_OBJECT_ERROR){e.error.isHandled=true;return o.session.currentApp.abortModal().then((function(){return o.rpc.apply(o,s)}))}return r["a"].reject(e)}));if(m.indexOf(t)>-1){o.ongoingRequests[t+a.delta]=c;c.finally((function(){delete o.ongoingRequests[t+a.delta]}))}c.rpcId=l.id;return c}});b.getModel=function(e,t,n){var i=t.modelCache[e];var a=this;function o(n){delete t.modelCache[e];return r["a"].reject({error:{code:n&&n.error&&n.error.code,message:"No object with Id ".concat(e," found"),parameter:e}})}if(!e)return r["a"].reject("No ID given to RPCBase#getModel");if(i)return i;i=n().then((function(e){return new a({id:e.id,session:t,handle:e.handle,enigmaModel:e})}),o);t.modelCache[e]=i;return i};b.getLayout=function(e,t){return this.get(e,t).then((function(e){return e.getLayout().then((function(e){return e}))}))};b.getProperties=function(e,t){return this.get(e,t).then((function(e){return e.getProperties().then((function(){return e}))}))};b.extend=function(e,t){var n=a["a"].extend.call(this,e,t);n.getLayout=b.getLayout;n.getProperties=b.getProperties;n.getModel=b.getModel;return n};Object.defineProperties(b.prototype,{isValid:{get:function e(){return this.state===b.States.VALID}},isValidating:{get:function e(){return this.state===b.States.VALIDATING}},isInvalid:{get:function e(){return this.state===b.States.INVALID}},isClosed:{get:function e(){return this.state===b.States.CLOSED}},isClosing:{get:function e(){return this.state===b.States.CLOSING}},isCancelled:{get:function e(){return this.state===b.States.CANCELLED}}});b.States={VALID:1,INVALID:2,VALIDATING:3,CLOSED:5,CLOSING:6,CANCELLED:7};var y=b;var w=n("dHXv");var S=n("5Pwf");var x=n("4nJ1");var C=n("tPZ6");var q={};var E;var I;var k=y.extend("App",{init:function e(t,n,i,a,o){var s=this;i&&E||(E=s);s.rpcOptions=n||{};s.rpcOptions.onError=a;s.rpcOptions.onWarning=o;s.session=w["a"].get(t,n);s.session.modelCache[t]=r["a"].resolve(s);s.waitForOpen=new r["a"];s._super({id:t,session:s.session,checkCreate:true});try{s.open().then((function(){s.waitForOpen.resolve(s)}),(function(e){delete q[s.cacheId];s.waitForOpen.reject({error:e})}))}catch(e){delete q[s.cacheId];s.waitForOpen.reject({isHandled:false,error:e})}},open:function e(){var t=this;t.session.Error.bind((function(e){setTimeout((function(){e.error&&!e.error.isHandled&&console.error("Error from Engine:",e)}),1e3)}));function n(){t.enigmaModel=t.session.__enigmaApp;t.handle=t.enigmaModel.handle;t.engineApp=S["a"].bootstrap(t.enigmaModel);t.engineApp.name=t.id;t.enigmaModel.engineApp=t.engineApp;k.current===t&&S["a"].setCurrentApp(t.engineApp);t.bindToRPC()}return t.session.enigmaPromise.then(n)},close:function e(t){delete q[this.cacheId];t?this.session.close():this.session.close(C["a"].CLOSE_MANUAL_SUSPEND);if(E===this){E=void 0;I=true}return this._super(t)},createSessionObject:function e(t){return this.rpc("CreateSessionObject","qReturn",[t])},createSessionVariable:function e(t){return this.rpc("CreateSessionVariable","qReturn",[t])},doSave:function e(){return this.rpc("DoSave",null)},getProperties:function e(){return this._super("GetAppProperties")},setProperties:function e(t){return this._super(t,"SetAppProperties")},checkExpression:function e(t,n){var r=[t];n&&r.push(n);return this.rpc("CheckExpression",null,r)},checkNumberOrExpression:function e(t){return this.rpc("CheckNumberOrExpression",null,[t])},evaluateExpression:function e(t){return this.rpc("Evaluate","qReturn",[t])},getConfiguration:function e(){return this.session.rpc({method:"GetConfiguration",handle:-1,params:[]}).then((function(e){return e.result.qConfig}))},getVersion:function e(){return this.session.rpc({method:"QvVersion",handle:-1,params:[]}).then((function(e){return e.result.qReturn}))},getListOfFunctions:function e(){return this.session.rpc({method:"GetFunctions",handle:-1,params:[]}).then((function(e){return e.result.qFunctions}))},getLocaleInfo:function e(){return this.rpc("GetLocaleInfo","qReturn")},getExpressions:function e(){return this.rpc("GetExpressions","qExpressions")},getStreams:function e(){var t=this;if(t.streamsList)return r["a"].resolve(t.streamsList);return this.session.rpc({method:"GetStreamList",handle:-1,params:[]}).then((function(e){t.streamsList=e.result.qStreamList;return t.streamsList}))},getPublishableStreams:function e(){var t=this.getLayout();var n=this.getStreams();var i=new r["a"];r["a"].all({layout:t,streams:n}).then((function(e){var t=e.streams.filter((function(t){return e.layout.stream?t.qId===e.layout.stream.id&&-1!==t.privileges.indexOf("publish"):-1!==t.privileges.indexOf("publish")}));i.resolve(t)}));return i.promise},getMatchingFields:function e(t){return this.rpc("GetMatchingFields",null,[t])},getContentLibraries:function e(){return this.rpc("GetContentLibraries").then((function(e){return e.qList.qItems}))},getLibraryContent:function e(t){return this.rpc("GetLibraryContent",null,[t]).then((function(e){return e.qList.qItems}))},getMediaList:function e(){return this.rpc("GetMediaList").then((function(e){return e.qList.qItems}))},findMatchingFields:function e(t,n){return this.rpc("FindMatchingFields",null,[t,n])},abortModal:function e(t){return this.enigmaModel.switchModalSelection(t)},switchModal:function e(t,n,i){this.enigmaModel.switchModalSelection(t&&t.enigmaModel,n,i);return r["a"].resolve()},setModal:function e(t){this.enigmaModel.setModalSelection(t&&t.enigmaModel)},isModal:function e(){return this.enigmaModel.isInModalSelection()},publish:function e(t){return this.rpc("Publish",null,[t])}});Object.defineProperty(k,"current",{get:function e(){return E}});k.makeCacheId=function(e,t){var n=e.toLowerCase();if(t){n+=t.host?"/".concat(t.host):"/";n+=t.identity?"/".concat(t.identity):"/";n+=t.openWithoutData?"/openWithoutData":"/";n+=t.port?"/".concat(t.port):"/";n+=t.prefix?"/".concat(t.prefix):"/";n+=t.subpath?"/".concat(t.subpath):"/"}return n};k.get=function(e,t,n,i,a){if(!arguments.length&&I)return r["a"].reject(new Error("The current app has been closed"));var o=k.getSync(e,t,n,i,a);return o.waitForOpen.promise};k.getSync=function(e,t,n,r,i){e=e||x["a"].getParameterByName("app")||"engineData";"undefined"===typeof t&&(t={});"string"!==typeof t.host&&(t.host=x["a"].hostname);"string"!==typeof t.port&&(t.port=x["a"].port);"string"!==typeof t.prefix&&(t.prefix="/"===x["a"].basePath?"":x["a"].basePath);"boolean"!==typeof t.isSecure&&(t.isSecure=x["a"].isSecure);"string"!==typeof t.reloadURI&&(t.reloadURI=x["a"].reloadURI);var a=k.makeCacheId(e,t);q[a]=q[a]||new k(e,t,n,r,i);var o=q[a];o.cacheId=a;return o};k.create=function(e,t){return t.rpc({method:"CreateApp",handle:-1,params:[e]}).then((function(e){return e.result}))};k.remove=function(e,t){return t.rpc({method:"DeleteApp",handle:-1,params:[e]}).then((function(e){return e.result}))};k.getList=function(e){return e.rpc({method:"GetDocList",handle:-1,params:[]}).then((function(e){return e.result.qDocList}))};var A=t["a"]=k},vash:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("PoH+"),i=function(){function e(e){r.isString(e)&&(this.id=e)}return e}();t.Referencable=i},vhuL:function(e,t,n){"use strict";n.d(t,"b",(function(){return S}));var r=n("OAsn");var i=n("acVu");function a(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function s(e){return d(e)||u(e)||c(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return void 0!==t&&void 0!==e&&"none"===t.toLowerCase()&&0===e.toLowerCase().indexOf("anonymous")}function h(e){var t=e.subject;var n=Object(r["e"])(t);var i=Object(r["d"])(t);return{id:e.id,name:e.name,subject:t,userId:n,userDirectory:i,anonymous:p(n,i),tenantId:e.tenantId,zoneinfo:e.zoneinfo}}function v(e){var t="string"===typeof e&&e.toLowerCase().indexOf("userdirectory")>-1&&e.toLowerCase().indexOf("userid")>-1;if(t){var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return[].concat(s(e),[t[1].trim()])}),[]);var r=n[0]?n[0]:void 0;var i=n[1]?n[1]:void 0;return{userId:i,userDirectory:r,anonymous:p(i,r)}}return{userId:null,userDirectory:null,anonymous:null}}function m(e){return g.apply(this,arguments)}function g(){g=o(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:n=!Object(i["b"])("HAS_QRS")&&!Object(i["b"])("IS_DESKTOPCLIENT");if(!n){a.next=3;break}return a.abrupt("return",h(Object(r["a"])()));case 3:if(t){a.next=5;break}return a.abrupt("return",v());case 5:a.t0=v;a.next=8;return t.getAuthenticatedUser();case 8:a.t1=a.sent;return a.abrupt("return",(0,a.t0)(a.t1));case 10:case"end":return a.stop()}}),e)})));return g.apply(this,arguments)}var b;var y=new Promise((function(e){b=e}));function w(){return y}function S(e){b(m(e));return w()}t["a"]=w},vkLz:function(e,t,n){"use strict";var r=n("PX8M");var i=n("MGTR");var a=n("sWge");var o=n("FMzN");var s=n("6uJb");var l=n("acVu");var c;var u;var d;var f;var p=false;var h=true;var v=false;var m="2013-08-08 13:15:19";var g="OBSERVER_KEY_APP_IS_NOW_DIRTY";var b="OBSERVER_KEY_APP_IS_NOW_CLEAN";function y(){if(u&&!d)return true;var e=u>d;return e}function w(){return d>f}function S(e){var t=new Date;t.setTime(24*(e-25569)*3600*1e3);return Math.floor(t.getTime()/1e3)}function x(e){f=S(e.qUtcLastReloadTime);u=d}function C(e){r["a"].getApp().then((function(t){t.getProperties().then((function(t){m=t.qLastReloadTimeAsString||m;x(t);e&&e()}))}))}function q(){setTimeout((function(){var e=w();var t=y()?g:b;i["a"].publish(t,e)}))}function E(){c=u;u=new Date;q()}function I(e){var t=new a["a"];if(e&&"function"!==typeof e)throw new Error("The callback function specified is not a function.");p=true;r["a"].getApp().then((function(n){n.doSave().then((function(){p=false;h=true;d=new Date;C(q);e&&e();t.resolve()}),(function(e){p=false;h=false;t.reject(e)}))}));return t.promise}function k(){r["a"].getApp().then((function(e){e.getLayout().then((function(e){e.qModified&&E()}))}))}function A(e){p=e}function T(){return p}function D(){return h}function O(e){i["a"].subscribe(g,e)}function L(e){i["a"].unsubscribe(g,e)}function M(e){i["a"].subscribe(b,e)}function P(e){i["a"].unsubscribe(b,e)}function N(){if(!u)throw new Error("Cannot do rollback since the app has never been flagged as dirty.");u=c;q()}function R(){C(q)}t["a"]={saveApp:I,haveWeDoneSaveButNoReload:w,notifyThatNewChangeIsDoneAndSaveIsRequired:E,updateWhenLastScriptWasExecuted:R,isAppDirty:y,isSaveOngoing:T,setSaveOngoing:A,getLastSaveSuccess:D,onAppIsNowDirty:O,onAppIsNowDirtyRemove:L,onAppIsNowClean:M,onAppIsNowCleanRemove:P,getLastSavedAsString:function e(){if(d){var t=new o["a"](null);var n=t.format(d,"HH:mm:ss");return s["default"].get("scripteditor.autosave.lastsaved",n)}return""},getLastReloadAsString:function e(){return m||""},isAutoSaveOn:function e(t){if(v&&t&&Object(l["b"])("DISABLE_DLE_AUTOSAVE"))return false;return v},doDirtyRollback:N,init:function e(){u=new Date;r["a"].getApp().then((function(e){e.global.getConfiguration().then((function(e){var t=e.qFeatures;v=t.qAutoSave;if(!v){O((function(){"*"!==document.title[0]&&(document.title="*".concat(document.title))}));M((function(){"*"===document.title[0]&&(document.title=document.title.substr(1))}))}}));C();k();e.Invalidated.bind(k)}))},reset:function e(){C(q)}}},vs5f:function(e,t,n){"use strict";var r=n("4nJ1");var i=["showtitles","title","subtitle","footnote"];var a="header";var o="data";var s="sorting";var l="settings";var c="settings.";var u={};function d(e){if(e&&0===e.indexOf(c))return e.substring(9);return e}function f(e){if(e&&0!==e.indexOf(c))return c+e;return e}function p(e,t){var n=t.length;var r=0;var i=false;if(e){e.forEach((function(e){if(e.ref&&0===e.ref.indexOf(t)){var a=parseInt(e.ref.substring(n),10);a>r&&(r=a);u[t]&&a===u[t]+1&&(i=true)}}));u[t]&&!i||(u[t]=r)}else u[t]=0;u[t]+=1;return t+u[t]}function h(e,t){e&&e.forEach((function(n,r){n.ref===t&&e.splice(r,1)}))}function v(e,t){var n=-1;e&&e.some((function(e,r){if(e.ref===t){n=r;return true}return false}));return n}function m(e){if(e.settings)return e.settings.sort((function(e,t){if(e.order===t.order)return 0;if(!e.order||e.order<t.order)return-1;return 1}));return[]}function g(e,t){if(e.settings)return e.settings.filter((function(e){return(e.parent||l)===t})).sort((function(e,t){if(e.order===t.order)return 0;if(!e.order||e.order<t.order)return-1;return 1}));return[]}function b(e){var t=r["a"].extend(true,{},e);t.type=t.type||"string";t.label=t.label||t.ref;t.defaultValue=t.defaultValue||"boolean"!==t.type&&"";"string"!==t.type||t.component||(t.expression=t.expression||"optional");"text"===e.component?delete t.ref:t.ref=f(t.ref);return t}function y(e,t){var n={};var r=g(e,t);r.forEach((function(e){n[e.ref]=b(e)}));return n}function w(e){return void 0!==e.measures&&(e.measures.max>0||void 0===e.measures.max)}function S(e){return void 0!==e.dimensions&&(e.dimensions.max>0||void 0===e.dimensions.max)}function x(e,t,n){switch(t){case o:e.measures={min:1,max:1};break;case a:e.sections=e.sections||[];var r=n||{};r.type=t;r.ref=r.ref||p(e.sections,t);r.label=r.label||"Settings";e.sections.push(r);break;case s:e.sorting=true;break;default:break}}function C(e){x(e,a,{ref:l})}function q(e,t){if(t===a)return true;if(t===o)return!w(e)&&!S(e);if(t===s)return(w(e)||S(e))&&true!==e.sorting;return false}function E(e,t,n,r,i){var a=g(e,i||t.parent);Number.isNaN(+t.order)||t.order>a.length||t.order<0?t.order=a.length:n||"undefined"===typeof r?n?a.forEach((function(e){e.order>t.order&&e.order--})):a.forEach((function(e){e.order>=t.order&&e.order++})):r<t.order?a.forEach((function(e){e.order>r&&e.order<=t.order&&e.order--})):a.forEach((function(e){e.order>=t.order&&e.order<r&&e.order++}))}function I(e,t,n,r){t=t.item||t;h(e.settings,d(t.ref));n||E(e,t,true,null,r)}function k(e,t,n){if(t===o){delete e.measures;delete e.dimensions;delete e.sorting;return}if(t===s){delete e.sorting;return}"section-header"===t&&g(e,n).forEach((function(t){I(e,t)}));h(e.sections,n)}function A(e,t){if(!t||"q"===t.substr(0,1).toLowerCase())return false;if(i.indexOf(t.toLowerCase())>-1)return false;var n=true;e.settings&&e.settings.forEach((function(e){e.ref===t&&(n=false)}));return n}function T(e,t,n){t=t.item||t;e.settings||(e.settings=[]);e.sections||C(e);t.parent&&"general"!==t.parent||(t.parent=l);t.ref=t.ref||p(e.settings,"property");t.label=t.label||t.ref.substr(0,1).toUpperCase()+t.ref.substring(1);n||E(e,t);e.settings.push(t)}function D(e,t,n,r,i){t=t.item||t;t.ref=d(t.ref);var a=t.parent===n;"undefined"===typeof t.order&&(t.order=v(e.settings,t.ref));var o=t.order;t.parent=n;I(e,t,a,i);t.order=r-(t.order<r&&a?1:0);a&&E(e,t,false,o);T(e,t,a)}function O(e){var t={};if(e&&e.properties){S(e.properties)&&(t.dimensions=e.properties.dimensions);w(e.properties)&&(t.measures=e.properties.measures)}return t}function L(e){var t={type:"items",component:"accordion",items:{}};if(e&&e.properties){var n=e.properties;if(w(n)||S(n)){t.items.data={uses:o,items:{measures:{disabledRef:""},dimensions:{disabledRef:""}}};n.sorting&&(t.items.sorting={uses:s})}t.items.settings={uses:"settings",items:{}};(!n.sections||n.sections.length<1)&&n.settings&&n.settings.length>0&&C(n);n.sections&&n.sections.length>0&&n.sections.forEach((function(e){t.items.settings.items[e.ref]={ref:e.ref,type:"items",label:e.label,items:y(n,e.ref)}}))}return t}t["a"]={addScope:f,stripScope:d,canAddSection:q,addSection:x,removeSection:k,addItem:T,removeItem:I,moveItem:D,getData:O,getDefinition:L,isValidRef:A,getSectionItemsArr:g,getSectionsItemsArr:m}},wD8I:function(e){e.exports=JSON.parse('{"content":[{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-multi-kpi","name":"Multi KPI","source":{"repo":"qsSimpleKPI","service":"github","user":"qlik-oss"},"version":"0.101.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-heatmap-chart","name":"Heatmap chart","source":{"repo":"QlikSense_Extension_2DimHeatmap","service":"github","user":"qlik-oss"},"version":"0.62.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-word-cloud","name":"Word cloud chart","source":{"repo":"br.com.clever.wordcloud","service":"github","user":"qlik-oss"},"version":"0.34.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-network-chart","name":"Network chart","source":{"repo":"network-vis-chart","service":"github","user":"qlik-oss"},"version":"0.32.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-radar-chart","name":"Radar chart","source":{"repo":"D3ImprovedRadarChart","service":"github","user":"qlik-oss"},"version":"0.48.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-barplus-chart","name":"Bar plus chart","source":{"repo":"barsPlus","service":"github","user":"qlik-oss"},"version":"0.70.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-bullet-chart","name":"Bullet chart","source":{"repo":"D3-Bullet-Chart","service":"github","user":"qlik-oss"},"version":"0.27.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-smart-pivot","name":"Smart pivot","source":{"repo":"PLSmartPivot","service":"github","user":"qlik-oss"},"version":"0.78.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-trellis-container","name":"Trellis container","source":{"repo":"qwik-trellis","service":"github","user":"qlik-oss"},"version":"0.37.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-variance-waterfall","name":"Variance waterfall","source":{"repo":"variance-waterfall","service":"github","user":"qlik-oss"},"version":"0.18.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-sankey-chart-ext","name":"Sankey chart","rename":[{"source":"sn-sankey-chart.js","target":"qlik-sankey-chart-ext.js"},{"source":"sn-sankey-chart.qext","target":"qlik-sankey-chart-ext.qext"}],"source":{"path":"@nebula.js/sn-sankey-chart","service":"npm"},"version":"0.4.1"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"qlik-funnel-chart-ext","name":"Funnel chart","rename":[{"source":"sn-funnel-chart.js","target":"qlik-funnel-chart-ext.js"},{"source":"sn-funnel-chart.qext","target":"qlik-funnel-chart-ext.qext"}],"source":{"path":"@nebula.js/sn-funnel-chart","service":"npm"},"version":"0.3.3"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"sn-org-chart","name":"Org chart","source":{"path":"@nebula.js/sn-org-chart/dist","service":"npm"},"version":"0.13.0"},{"dependencies":{"qlik-sense":">=5.5.x"},"id":"sn-grid-chart","name":"Grid chart","source":{"path":"@nebula.js/sn-grid-chart","service":"npm"},"version":"0.3.0"}],"description":"This is a set of supported objects that expands the visualization capabilities of Qlik Sense. These can be used in addition to the objects found under \'Charts\'. For support conditions and limitations, see the documentation.","eula":"generic","id":"qlik-visualization-bundle","name":"Qlik Visualization bundle"}')},wDFR:function(e,t,n){"use strict";n.r(t);var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("6uJb");var l=n("Nj0e");var c=n("33FQ");var u='<div class="object-error hard-error" tid="object.Error">\n\t<div class="object-error-content">\n\t\t<div class="object-error-title">\n\t\t\t<span>{{error.title}}</span>\n\t\t\t<i class="object-error-more lui-icon lui-icon--info lui-icon--large" ng-click="showMore($event)"></i>\n\t\t</div>\n\t\t<div ng-if="error.message" class="object-error-message">{{error.message}}</div>\n\t\t<button ng-if="showButton" class="lui-button object-error-remove" ng-click="remove($event)" q-translation="Common.Delete"></button>\n\t</div>\n</div>\n';var d=t["default"]={type:"invalid",template:u,definition:{type:"items",items:{}},support:{exportData:false},getContextMenu:function e(){},hasError:function e(){return false},showRequirements:function e(){return false},getCreatePropertyHandler:function e(t){return new l["a"]({app:t})},getDropFieldOptions:function e(){},getDropDimensionOptions:function e(){},getDropMeasureOptions:function e(){},controller:["$scope","luiPopover",function(e,t){var n=e.object.error;var r=s["default"].get(n.title);var a;a=Array.isArray(n.message)?s["default"].get(n.message[0],n.message.slice(1)):s["default"].get(n.message);e.error={title:r,message:a};e.showButton=e.options&&"function"===typeof e.options.removeIt;e.remove=function(t){e.options.removeIt();t.stopPropagation()};e.showMore=function(n){t.show({template:c["a"].template,controller:c["a"].controller,alignTo:i()(n.target)[0],input:{error:e.error,onClose:function e(){o.a.preventGestures()}}})}}]}},wIyQ:function(e,t,n){"use strict";var r=n("Z9ZH");var i=n.n(r);var a=n("MGTR");function o(e,t,n){this.lastHeight=null;this.document=n||document;this.window=t||window;this.viewport=e||this.document.querySelector("meta[name=viewport]");this.viewportContent=this.viewport.getAttribute("content");this.updateHeight()}o.prototype.clearHeight=function(){this.viewport.setAttribute("content",this.viewportContent)};o.prototype.setHeight=function(e){this.viewport.setAttribute("content","".concat(this.viewportContent,", height=").concat(e))};o.prototype.updateHeight=function(){var e=this.window.innerHeight;if(this.lastHeight!==e){this.lastHeight=e;this.setHeight(e);return true}return false};o.prototype.rotate=function(e){var t=function t(){this.updateHeight()&&e()}.bind(this);this.document.activeElement&&this.document.activeElement.blur();this.clearHeight();this.window.setTimeout(t,500);this.window.setTimeout(t,1e3);this.window.setTimeout(t,1500)};o.isNeeded=function(){var e=navigator.userAgent.toLowerCase().indexOf("android")>-1;var t=!window.PointerEvent&&window.MSPointerEvent;var n=!!(window.PointerEvent||t)&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return e||n};var s=o;var l=250;var c=false;var u=s.isNeeded()?new s:null;var d;function f(e,t){a["a"].publish(e,{width:window.innerWidth,height:window.innerHeight,element:t.target})}function p(e){c=true;f("/resize/start",e)}function h(e){f("/resize/end",e);c=false}function v(e){if(e.target!==window&&e.target!==document)return;c||p(e);clearTimeout(d);f("/resize/update",e);d=setTimeout((function(){h(e)}),l)}function m(e){if(u)u.rotate((function(){p(e);h(e)}));else{p(e);h(e)}}i.a.utils.touch&&"ondeviceorientation"in window&&window.addEventListener("orientationchange",m,false);u||window.addEventListener("resize",v,false);var g=t["a"]={on:function e(t,n){a["a"].subscribe("/resize/".concat(t),n)},off:function e(t,n){a["a"].unsubscribe("/resize/".concat(t),n)},force:function e(t){t=t||"end";a["a"].publish("/resize/".concat(t))}}},wSFN:function(e,t,n){"use strict";n.r(t);var r=n("X4PC");var i=n("S1Uc");var a=n("2zlL");var o=n("4nJ1");var s=n("sWge");var l=n("PX8M");var c=n("mWu2");var u={qInfo:{qId:"LoadModelList",qType:"LoadModelList"},qAppObjectListDef:{qType:"LoadModel"}};function d(e){for(var t in e)if("LoadModel"===e[t].qInfo.qId)return true;return false}var f;var p;function h(){if(!p){p=new s["a"];g()}}function v(){h();return p.promise}function m(e){h();var t=new s["a"];var n={qInfo:{qType:"LoadModel",qId:"LoadModel"}};o["a"].extend(n,e);f?t.resolve():l["a"].getApp().then((function(e){e.createObject(n).then((function(){t.resolve()}))}));return t.promise.then((function(){p.promise.then((function(){return f.setProperties(n)}))}))}function g(){l["a"].getApp().then((function(e){e.getListObject(u).then((function(t){t.getLayout().then((function(t){if(d(t))e.getObject("LoadModel").then((function(e){f=e;p.resolve(e)}));else{delete e._listCache.LoadModelList;c["default"].getService("$timeout")(g,2e3)}}))}))}))}var b={awaitGenericObject:v,setProperties:m};var y=n("iqy1");var w=[];var S;var x;var C;function q(e){function t(e){S.overwriteContent(e);w.forEach((function(t){t&&t(e)}))}e.Invalidated.bind((function(){e.getLayout().then(t)}));return e.getLayout().then(t)}function E(e){a["a"].forceConnectionListUpdate();var t=e.tableModels.map((function(t){if(!t.data.loadSelectStatement&&!t.data.selectStatement&&"inlinedata"!==t.data.dataconnectorName)return a["a"].getLoadSelectStatement(t.data,null).then((function(n){var r=e.getTableModelWithName(t.getTableAlias());r.data.loadSelectStatement=n&&n.loadSelectStatement;r.data.selectStatement=n&&n.selectStatement}));return}));return s["a"].all(t)}function I(e){x||(x=new s["a"]);O(e);y["a"].isRunning().catch((function(t){x.reject(t);D(e)}));return x.promise}function k(e,t){-1===w.indexOf(e)&&w.push(e);if(!C){S=r["LoadModel"].CreateLoadModel(t);S.updateProperties=A;C=b.awaitGenericObject().then((function(e){return q(e).then((function(){return E(S).then((function(){return S}))}))}));x||(x=new s["a"]);C.then((function(e){x.resolve(e)})).catch((function(e){x.reject(e)}))}return x.promise}function A(e){i["QueryGenerator"].checkIntegrity(e.tables,e.queries);return b.setProperties(e)}function T(){return A(r["LoadModel"].CreateLoadModel({}).serialize())}function D(e){w.splice(w.indexOf(e),1)}function O(e){-1===w.indexOf(e)&&w.push(e)}var L=t["default"]={createLoadModel:r["LoadModel"].CreateLoadModel,getLoadModel:I,updateProperties:A,resetLoadModel:T,populateLoadSelectStatements:E,bindLoadModel:k,unregisterInvalidationFn:D,registerInvalidationFn:O}},wbKu:function(e,t,n){"use strict";n.d(t,"b",(function(){return E}));n.d(t,"a",(function(){return T}));var r=n("wKbf");var i=n.n(r);var a=n("4ToR");var o=n("RZ9f");var s=n("Cwu9");var l=n("tPZ6");var c=n("6uJb");function u(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),true).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var v="suspend-resume-loader";var m="forced-disconnect";var g=[];var b=false;var y=false;var w=28800;var S={reconnectionTries:0,maxReconnectionTries:10,reconnectIntervalMs:2e3,reconnectGracePeriod:2e3,pageloadTimestampInSeconds:Math.floor(Date.now()/1e3)};var x=p({},S);var C=function e(){setTimeout((function(){window.location.reload(true)}))};function q(){if(!y)if(g.length>0&&!b){b=true;Object(a["c"])({loaderId:v,task:c["default"].get("Core.Communication.SuspendResume.AttemptingReconnect")})}else if(0===g.length&&b){b=false;Object(a["b"])({loaderId:v})}}function E(){b&&Object(a["b"])({loaderId:v});y=true;var e={loaderId:m,task:c["default"].get("Core.Communication.SuspendResume.ReconnectFailed"),icon:"Disconnected",button:{title:c["default"].get("Common.Refresh"),onClick:C}};Object(a["c"])(e)}function I(e){x=e||S}function k(){g=[]}var A=function(){var e=d(regeneratorRuntime.mark((function e(){var t,n,r,u,d,f,p,h,m;return regeneratorRuntime.wrap((function e(b){while(1)switch(b.prev=b.next){case 0:t=x,n=t.reconnectionTries,r=t.maxReconnectionTries,u=t.reconnectIntervalMs;d=false;f=g.filter((function(e){return e&&e.sessionConfig&&"dataprepservice"!==e.sessionConfig.subpath}));p=[];p=f.length?f:g;h=regeneratorRuntime.mark((function e(t){var a,l;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:a=p[t];l="dataprepservice"!==a.sessionConfig.subpath;c.next=4;return a.resume(l).then((function(){Object(s["b"])(s["a"].INFO,o["a"].customEvents.SOCKET_RESUMED,a,{reconnectionTries:n,maxReconnectionTries:r,reconnectIntervalMs:u,onlyIfReattach:l});a.createdAt=Date.now();delete a.suspendedAt;g=g.filter((function(e){return e!==a}))})).catch((function(e){l&&e&&e.enigmaError&&e.code===i.a.SESSION_NOT_ATTACHED&&(d=true)}));case 4:case"end":return c.stop()}}),e)}));m=0;case 7:if(!(m<p.length)){b.next=12;break}return b.delegateYield(h(m),"t0",9);case 9:m++;b.next=7;break;case 12:if(!g.length){b.next=21;break}q();if(!(!d&&n<r)){b.next=18;break}x.reconnectionTries++;setTimeout(A,u);return b.abrupt("return",Promise.resolve());case 18:g.forEach((function(e){var t="dataprepservice"!==e.sessionConfig.subpath;Object(s["b"])(s["a"].INFO,o["a"].customEvents.SOCKET_RESUME_FAILED,e,{reconnectionTries:n,maxReconnectionTries:r,reconnectIntervalMs:u,onlyIfReattach:t,reattachFailure:d});e.close(l["a"].SOCKET_RESUME_FAILED)}));Object(a["d"])({loaderId:v,task:c["default"].get("Core.Communication.SuspendResume.ReconnectFailed"),icon:"Disconnected",button:{title:c["default"].get("Common.Refresh"),onClick:C}});return b.abrupt("return",Promise.reject());case 21:setTimeout((function(){q()}),x.reconnectGracePeriod);return b.abrupt("return",Promise.resolve());case 23:case"end":return b.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();function T(e,t){if("network"===t.initiator){var n=Math.floor(Date.now()/1e3);var r=n-x.pageloadTimestampInSeconds;if(r>w){e.close();return Promise.resolve()}g.push(e);q();return A()}return Promise.resolve()}},wkj2:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function a(e,t,n){t&&i(e.prototype,t);n&&i(e,n);return e}var o=function(){function e(){r(this,e);this._elements=[[1,0,0],[0,1,0],[0,0,1]];this._stack=[]}a(e,[{key:"clone",value:function t(){var n=new e;return n.multiply(this._elements)}},{key:"set",value:function e(t){this._elements=t;return this}},{key:"save",value:function e(){this._stack.push(this.elements);return this}},{key:"restore",value:function e(){this._stack.length&&(this._elements=this._stack.pop());return this}},{key:"add",value:function e(t){var n;var r;for(n=0;n<this._elements.length;n++)for(r=0;r<this._elements[n].length;r++)this._elements[n][r]+=t;return this}},{key:"translate",value:function e(t,n){this.multiply([[1,0,t],[0,1,n],[0,0,1]]);return this}},{key:"rotate",value:function e(t){var n=Math.cos(-t);var r=Math.sin(-t);this.multiply([[n,r,0],[-r,n,0],[0,0,1]]);return this}},{key:"skew",value:function e(t,n){var r=Math.tan(t);var i=Math.tan(n);this.multiply([[1,r,0],[i,1,0],[0,0,1]]);return this}},{key:"multiply",value:function t(n){n instanceof e&&(n=n._elements);if(Array.isArray(n)){var r=[[0,0,0],[0,0,0],[0,0,0]];for(var i=0;i<this._elements.length;i++)for(var a=0;a<this._elements[i].length;a++)for(var o=0;o<3;o++)r[i][a]+=this._elements[i][o]*n[o][a];this._elements=r}else for(var s=0;s<this._elements.length;s++)for(var l=0;l<this._elements[s].length;l++)this._elements[s][l]*=n;return this}},{key:"scale",value:function e(t,n){(arguments.length<2||"undefined"===typeof n)&&(n=t);this.multiply([[t,0,0],[0,n,0],[0,0,1]]);return this}},{key:"determinant",value:function e(){var t=this._elements[0][0];var n=this._elements[0][1];var r=this._elements[0][2];var i=this._elements[1][0];var a=this._elements[1][1];var o=this._elements[1][2];var s=this._elements[2][0];var l=this._elements[2][1];var c=this._elements[2][2];var u=0;u=t*a*c+n*o*s+r*i*l-r*a*s-n*i*c-t*o*l;return u}},{key:"invert",value:function e(){var t=this.determinant();var n=this._elements[0][0];var r=this._elements[0][1];var i=this._elements[0][2];var a=this._elements[1][0];var o=this._elements[1][1];var s=this._elements[1][2];var l=this._elements[2][0];var c=this._elements[2][1];var u=this._elements[2][2];this._elements=[[o*u-s*c,i*c-r*u,r*s-i*o],[s*l-a*u,n*u-i*l,i*a-n*s],[a*c-o*l,l*r-n*c,n*o-r*a]];this.multiply(1/t);return this}},{key:"transpose",value:function e(){var t=Object.create(this._elements);this._elements=[[t[0][0],t[1][0],t[2][0]],[t[0][1],t[1][1],t[2][1]],[t[0][2],t[1][2],t[2][2]]];return this}},{key:"identity",value:function e(){this._elements=[[1,0,0],[0,1,0],[0,0,1]];return this}},{key:"transformPoint",value:function e(t){var n=[t.x,t.y,1];var r=this._elements;var i=[0,0,0];for(var a=0;a<this._elements.length;a++)for(var o=0;o<this._elements[a].length;o++)i[a]+=n[o]*r[a][o];return{x:i[0],y:i[1]}}},{key:"transformPoints",value:function e(t){var n=this._elements;var r=[];for(var i=0;i<t.length;i++){var a=[t[i].x,t[i].y,1];var o=[0,0,0];for(var s=0;s<this._elements.length;s++)for(var l=0;l<this._elements[s].length;l++)o[s]+=a[l]*n[s][l];r.push({x:o[0],y:o[1]})}return r}},{key:"toString",value:function e(){var t="";this._elements.forEach((function(e,n,r){t+=e.join("\t")+(n<r.length?"\n":"")}));return t}},{key:"isIdentity",value:function e(){var t=this._elements;return 1===t[0][0]&&0===t[0][1]&&0===t[0][2]&&0===t[1][0]&&1===t[1][1]&&0===t[1][2]&&0===t[2][0]&&0===t[2][1]&&1===t[2][2]}},{key:"identityIfClose",value:function e(t){var n=this._elements;Math.abs(n[0][0]-1)<t&&Math.abs(n[0][1])<t&&Math.abs(n[0][2])<t&&Math.abs(n[1][0])<t&&Math.abs(n[1][1]-1)<t&&Math.abs(n[1][2])<t&&Math.abs(n[2][0])<t&&Math.abs(n[2][1])<t&&Math.abs(n[2][2]-1)<t&&this.identity()}}]);return e}();Object.defineProperties(o.prototype,{elements:{get:function e(){var t=this._elements;return[[t[0][0],t[0][1],t[0][2]],[t[1][0],t[1][1],t[1][2]],[t[2][0],t[2][1],t[2][2]]]}}});t["a"]=o},wtkB:function(e,t,n){"use strict";var r=n("mXGw");var i=n.n(r);var a=n("W0B4");var o=n.n(a);var s=n("0ghn");var l=n("R82R");var c=n("Rx6o");var u=n("MK7S");var d=n("p8SL");var f=n("YvUk");var p=n("/ZiB");var h=n("oQEK");var v=n("26BU");var m=n("MvTK");var g=n("0g17");var b=n("/NZN");var y={open:o.a.bool.isRequired,onConfirm:o.a.func.isRequired,onClose:o.a.func.isRequired,title:o.a.string.isRequired,content:o.a.string.isRequired,actionText:o.a.string,isDeleteConfirm:o.a.bool};var w={actionText:s["a"].get("Common.Ok"),isDeleteConfirm:false};var S=Object(l["a"])((function(e){return{alignDelete:{justifyContent:"space-between",flexDirection:"row-reverse",marginLeft:e.spacing(-1)},deleteButton:{color:e.palette.error.contrastText,backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.light},"&:active":{backgroundColor:e.palette.error.dark},"&.sprout-focus-visible":{borderColor:e.palette.error.light,boxShadow:"0 0 0 3px ".concat(Object(c["d"])(e.palette.error.light,.5))}}}}));var x=function e(t){var n=t.open,r=t.title,a=t.content,o=t.onConfirm,l=t.onClose,c=t.actionText,y=t.isDeleteConfirm;var w=Object(s["c"])();var x=S();return i.a.createElement(d["a"],{open:n,onClose:l},i.a.createElement(f["a"],{"data-tid":"confirm-dialog-title",disableTypography:true},i.a.createElement(p["a"],{variant:"h5"},r),i.a.createElement(h["a"],{onClick:l},i.a.createElement(u["a"],null))),i.a.createElement(v["a"],null,i.a.createElement(m["a"],null,a)),i.a.createElement(g["a"],{className:y&&x.alignDelete},i.a.createElement(b["a"],{onClick:l,variant:"outlined",size:"small","data-tid":"confirm-dialog-cancel-btn"},w("Common.Cancel")),i.a.createElement(b["a"],{onClick:o,variant:"contained",size:"small",className:y?x.deleteButton:"","data-tid":"confirm-dialog-".concat(c,"-btn"),color:"primary"},c)))};x.propTypes=y;x.defaultProps=w;t["a"]=x},wu6P:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.newRequest=o;t.resolveUrl=s;var r=n("49Kr");var i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function o(){return new window.XMLHttpRequest}function s(e,t){return new i.default(t,e).toString()}},wvr8:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=1;var o=256;var s=166/26;var l=12;var c=11;var u=12;var d=u/c;function f(e){var t=/^[^\\/:*?"<>|\x00-\x1f]+$/;return"undefined"!==typeof e&&!m(e,"_")&&!m(e,"$$")&&t.test(e)&&e.length>=a&&e.length<=o}function p(e){return!/[\\*?"()<>|' &$£¤^/+-]+/.test(e)}function h(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e.toLowerCase())}function v(e){if(/^.*:\/\//.test(e))return e;return"http://".concat(e)}function m(e,t){return 0===e.indexOf(t)}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function b(e,t){t||(t="");return e.length>0?e.reduce((function(e,n){return e+t+n})):""}function y(e){var t=e.replace(/.*\[|\]/gi,"");var n=t.match(/"[^=]*"|[^;]+/g);return n}function w(e,t){var n=y(e);var r;if(n)for(r=0;r<n.length;r++)if(-1!==n[r].toLowerCase().indexOf(t.toLowerCase()))return n[r].split("=")[1];return""}function S(e,t){function n(){return"".concat(e,"\\").concat(t).replace("\\\\","\\")}function r(){if("\\\\"===e.substring(0,2))return"\\".concat(n());return}return r()||n()}function x(e){var t=y(e);var n=[];var r;t&&t.forEach((function(e){r=e.split("=");r&&n.push({key:r[0],value:r.length>1?r[1]:""})}));return n}function C(e){"\\"===e.charAt(0)&&(e=e.substring(1));"\\"===e.charAt(e.length-1)&&(e=e.slice(0,-1));return e}function q(e){"\\"!==e.charAt(e.length-1)&&(e+="\\");return e}function E(e){var t;if("\\\\"===e.substring(0,2)){t=C(e.substring(2)).split("\\");t.pop();return"\\\\".concat(b(t,"\\"))}t=C(e).split("\\");t.pop();return 1===t.length?"".concat(t[0],"\\"):b(t,"\\")}function I(e){return e.replace(/[0-9]+/g,(function(e){var t=e.length;var n="".concat(t);var r="000";var i=r.substring(0,r.length-n.length)+n;return"".concat(i).concat(e)}))}function k(e,t,n){e.sort((function(e,r){return A(e[t],r[t],n)}))}function A(e,t,n){var r=I(e).toLowerCase();var i=I(t).toLowerCase();return r.localeCompare(i,n)}function T(e,t){if(!e)throw new Error("Haystack is undefined.");if(!t)throw new Error("Needle is undefined.");return-1!==e.indexOf(t)}function D(e,t,n){e+="";t+="";if(!t)return 0;var r=t.match(/^\/(.*)\/([a-z]*)$/);if(!r){if(!n){e=e.toLowerCase();t=t.toLowerCase()}var i=0;var a=0;var o=t.length;var s=false;while(!s){a=e.indexOf(t,a);if(a>=0){i++;a+=o}else s=true}return i}try{var l=new RegExp(r[1],-1===r[2].indexOf("i")?"":"i");return e.split(l).length-1}catch(e){return 0}}function O(e){return e.substring(e.lastIndexOf("\\")+1,e.length)}function L(e){return e.substring(0,e.lastIndexOf("\\")+1)}function M(e){var t=e.match(/.*\\(.*)\\.*$/);t||(t=e.match(/^(.*)\\.*$/));if(t)return t[1];return null}function P(e){if(e&&"false"!==e)return true;return false}function N(e){var t=3;return(Math.min(e,t)*l+Math.max(e-t,0)*s)/c}function R(e){if(!e)return{latin:0,cjk:0};var t=e.match(/[\u4E00-\u9FFF]/g);var n=e.match(/[\u3040-\u309F]/g);var r=e.match(/[\u30A0-\u30FF]/g);t=t?t.length:0;n=n?n.length:0;r=r?r.length:0;var i=t+n+r;return{latin:e.length-i,cjk:i}}function F(e,t){var n={latin:0,cjk:0};void 0===t?e.forEach((function(e){var t=R(e.qText);n.latin+=t.latin;n.cjk+=t.cjk})):e.forEach((function(e){var r=R(e[t].qText);n.latin+=r.latin;n.cjk+=r.cjk}));var r=Math.max(1,n.latin+n.cjk);n.latinRatio=n.latin/r;n.cjkRatio=n.cjk/r;return n}function _(e,t,n){var r=F(t,n);var i=r.latinRatio*e;var a=r.cjkRatio*e;var o=Math.ceil(N(i)+a*d);return o}function j(e,t,n){var r=e<=24?t:n;return e*r}function B(e,t,n,r,i){return e*n+j(t,r,i)}t["a"]={MIN_CONNECTION_NAME_LENGTH:a,MAX_CONNECTION_NAME_LENGTH:o,isValidConnectionName:f,isValidFieldName:p,isValidUrl:h,prefixHttpToUrl:v,endsWith:g,startsWith:m,goUpOneFolderLevel:E,removeSurroundingSlashes:C,arrayToString:b,formatDirectoryPathForEngine:q,sortSlightlyMoreNaturallyArray:k,sortSlightlyMoreNaturallySingle:A,_expandNumbersForNaturalSorting:I,getValueFromConnectionString:w,tokenizeConnectionString:x,contains:T,occurrencesRE:D,combinePath:S,fileNameFromPath:O,fileDirectoryFromPath:L,lastFolderFromPath:M,bool:P,stringWidthOverMWidth:N,getCharacterRatios:R,getTotalCharacterRatios:F,getAdjustedMaxGlyphCount:_,estimateLatinLabelWidth:j,estimateLabelWidth:B}},wxXl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function e(){return"undefined"!=typeof window&&("undefined"!=typeof window.PhoneGap||"undefined"!=typeof window.Cordova||"undefined"!=typeof window.cordova)};t.default=r},"x/4K":function(e,t,n){"use strict";var r=1e-12;var i={checkPointsCoincident:function e(t,n){if(t.x===n.x&&t.y===n.y)return true;return false},checkPointOnLineSegment2:function e(t,n,a){var o=a.x-n.x;var s=a.y-n.y;var l=(t.x-n.x)/o;if(0===o){if(0===s)return i.checkPointsCoincident(t,n);if(t.x!==n.x)return false;l=(t.y-n.y)/s;if(l>=0&&l<=1)return true;return false}if(0===s){if(t.y!==n.y)return false;l=(t.x-n.x)/o;if(l>=0&&l<=1)return true;return false}var c=(t.y-n.y)/s;if(l>=0&&l<=1&&Math.abs(l-c)<r)return true;return false},checkPointOnLineSegment:function e(t,n){return i.checkPointOnLineSegment2(t,n[0],n[1])},checkLineSegmentIntersectingLineSegment2:function e(t,n,r,a){var o;var s;var l=n.x-t.x;var c=n.y-t.y;var u=a.x-r.x;var d=a.y-r.y;var f=t.x-r.x;var p=t.y-r.y;var h=d*l-u*c;var v=u*p-d*f;var m=l*p-c*f;if(0===h){if(0===v&&0===m){if(0===l){if(0===c)return i.checkPointOnLineSegment2(t,r,a);o=(r.y-t.y)/c;s=(a.y-t.y)/c}else{o=(r.x-t.x)/l;s=(a.x-t.x)/l}if(o<0&&s<0||o>1&&s>1)return false;return true}return false}var g=v/h;var b=m/h;if(g>=0&&g<=1&&b>=0&&b<=1)return true;return false},checkLineSegmentIntersectingLineSegment:function e(t,n){return i.checkLineSegmentIntersectingLineSegment2(t[0],t[1],n[0],n[1])},checkPointInsideRectDefinedByMaxMin:function e(t,n){return t.x>n.minX&&t.x<n.maxX&&t.y>n.minY&&t.y<n.maxY},checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin:function e(t,n){return t.x>=n.minX&&t.x<=n.maxX&&t.y>=n.minY&&t.y<=n.maxY},checkLineSegmentIntersectingRectDefinedByMaxMin:function e(t,n){if(i.checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin(t[0],n)||i.checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin(t[0],n))return true;if(i.checkLineSegmentIntersectingLineSegment(t,[{x:n.minX,y:n.minY},{x:n.minX,y:n.maxY}]))return true;if(i.checkLineSegmentIntersectingLineSegment(t,[{x:n.maxX,y:n.minY},{x:n.maxX,y:n.maxY}]))return true;if(i.checkLineSegmentIntersectingLineSegment(t,[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY}]))return true;if(i.checkLineSegmentIntersectingLineSegment(t,[{x:n.minX,y:n.maxY},{x:n.maxX,y:n.maxY}]))return true;return false},checkPolylineIntersectingRectDefinedByMaxMin:function e(t,n){var r;var a;var o;var s;var l;var c;var u;var d=0;var f=1;var p=1;var h=t?t.length:0;if(0===h)return false;var v=function e(){return o<h};if(t[0].x>t[h-1].x){d=h-1;f=h-2;p=-1;v=function e(){return o>-1}}a=t[d];if(a.x>n.maxX)return false;if(a.x>=n.minX&&a.y>=n.minY&&a.y<=n.maxY)return true;r=a;for(o=f;v();o+=p){a=t[o];if(a.x>=n.minX&&a.x<=n.maxX&&a.y>=n.minY&&a.y<=n.maxY)return true;s=Math.min(r.x,a.x);if(s>n.maxX)return false;l=Math.max(r.x,a.x);if(l<n.minX){r=a;continue}c=Math.min(r.y,a.y);if(c>n.maxY){r=a;continue}u=Math.max(r.y,a.y);if(u<n.minY){r=a;continue}if(i.checkLineSegmentIntersectingRectDefinedByMaxMin([r,a],n))return true;r=a}return false},checkPolylinesIntersectingRectDefinedByMaxMin:function e(t,n){var r;var a=t?t.length:0;for(r=0;r<a;r++)if(i.checkPolylineIntersectingRectDefinedByMaxMin(t[r],n))return true;return false},calculateBounds:function e(t){var n=Number.MAX_VALUE;var r=-Number.MAX_VALUE;var i=Number.MAX_VALUE;var a=-Number.MAX_VALUE;var o=t?t.length:0;var s;var l;var c;var u;var d;if(0===o)return null;for(c=0;c<o;c++){s=t[c];l=s?s.calculateBounds():void 0;if(!l||Infinity===l.x)continue;u=l.getRight();d=l.getBottom();u>r&&(r=u);l.x<n&&(n=l.x);d>a&&(a=d);l.y<i&&(i=l.y)}return{x:n,y:i,width:r-n,height:a-i}},getLongitudeAdjustment:function e(t){return 360*Math.ceil(-t/360)},getColumnMaxValue:function e(t,n){var r=-Number.MAX_VALUE;t.forEach((function(e){e.forEach((function(e){r=Math.max(r,e[n])}))}));return r},getColumnMaxMinValues:function e(t,n){var r=-Number.MAX_VALUE;var i=Number.MAX_VALUE;t.forEach((function(e){e.forEach((function(e){r=Math.max(r,e[n]);i=Math.min(i,e[n])}))}));return{min:i,max:r}},isDimensionInsideRange:function e(t,n,r,a){var o=i.getColumnMaxMinValues(t,n);return o.min>r&&o.max<a},getLongitudeAdjustmentForGeoArea:function e(t,n,r,a){var o=t.length;var s;var l=[];var c=[];var u=-Number.MAX_VALUE;for(s=0;s<o;s++){c[s]=i.getColumnMaxValue(t[s],0);u=Math.max(u,c[s])}if(u<179)return false;for(s=0;s<o;s++)l[s]=c[s]<a&&i.isDimensionInsideRange(t[s],1,n,r)?i.getLongitudeAdjustment(c[s]):0;return l}};t["a"]=i},x1As:function(e,t,n){"use strict";var r=n("mWu2");var i=n("6uJb");var a=n("+GbC");var o=n("z4LI");var s=n("wSFN");var l=n("T8oO");var c=r["default"].getService("$q");var u={OVERVIEW:"overview",BUBBLES:"bubbles"};var d=false;var f=false;var p={views:u,selectedView:u.BUBBLES,gridEditorOpen:d,editAssociationOpen:f,initializationComplete:false,initializationCompleteDeferred:c.defer(),subviews:{},hasBeenLoaded:false};function h(){p.gridEditorOpen&&!o["a"].inDataManager()&&p.setGridEditorOpen(false)}o["a"].StateChanged.bind(h);a["a"].mixin(p);p.notification("SelectedViewChanged");p.notification("OnGridEditorOpen");p.notification("OnAssociationEditorOpen");p.notification("OnViewSizeChange");p.setInitializationComplete=function(){this.initializationComplete=true;this.hasBeenLoaded=true;this.initializationCompleteDeferred.resolve()};p.initializationCompleted=function(){return this.initializationCompleteDeferred.promise};p.setGridEditorOpen=function(e,t){this.gridEditorOpen=e;this.OnGridEditorOpen.emit(this.gridEditorOpen,t)};p.isGridEditorOpen=function(){return this.gridEditorOpen};p.setAssociationEditorOpen=function(e){this.editAssociationOpen=e;this.OnAssociationEditorOpen.emit(this.editAssociationOpen)};p.isAssociationEditorOpen=function(){return this.editAssociationOpen};p.setSelectedView=function(e){this.isGridEditorOpen()&&this.setGridEditorOpen(false);this.selectedView=e;this.SelectedViewChanged.emit(this.selectedView)};p.subViewShown=function(e,t,n){this.subviews[e]&&this.subviews[e].view!==t&&this.subviews[e].view.hide();this.subviews[e]={view:t,behaviour:n}};p.subViewHidden=function(e,t){this.subviews[e]&&this.subviews[e].view===t&&(this.subviews[e]=void 0)};p.isShowingSubviewWithBehaviour=function(e,t){var n=false;for(var r in this.subviews)if(this.subviews.hasOwnProperty(r)&&this.subviews[r]&&this.subviews[r].behaviour&&this.subviews[r].behaviour&&this.subviews[r].behaviour[e]===t){n=true;break}return n};p.viewSizeChange=function(e,t,n){this.OnViewSizeChange.emit(e,t,n)};p.isTableSelectionCurrentlyAvailable=function(){var e=false;switch(this.selectedView){case"bubbles":case"overview":this.isGridEditorOpen()||this.isAssociationEditorOpen()||(e=true);break;default:break}return e};p.getSelectedView=function(){return this.selectedView};p.showGoToBubblesViewPopOver=function(e){var t={alignTo:e[0],class:"qv-bubbles-guidance-popover",closeAfter:1e4,title:i["default"].get("DataManager.Overview.GoToBubblesGuidancePopOver.Title"),message:i["default"].get("DataManager.Overview.GoToBubblesGuidancePopOver.Message"),menuOptions:{position:"bottom",width:"270",content:{}}};l["a"].show(t)};t["a"]=p},xCba:function(e,t,n){"use strict";var r;(function(e){e["AREA"]="AreaLayer";e["POINT"]="PointLayer";e["GEODATA"]="GeodataLayer";e["LINE"]="LineLayer";e["DENSITY"]="DensityLayer";e["CHART"]="ChartLayer"})(r||(r={}));t["a"]=r},xIA9:function(e,t,n){"use strict";var r=n("mWu2");var i=n("o4/D");var a=n("6uJb");var o=n("1/3z");var s=n("z4LI");var l=n("Htnf");var c=n("QsDr");function u(e,t){return e&&e.title?e.title:t.model.layout.labelExpression||t.model.layout.qMeta.title}function d(e,t){if(e&&e.genericType)return e&&"sheet"===e.genericType;return t.view===t.Views.sheet||t.view===t.Views.masterObject||t.view===t.Views.object}function f(e,t){e?l["a"].add(t):l["a"].remove(t)}function p(e,t,n,l){var c=e.view===e.Views.overview&&!n;var p=u(n,e);var h=d(n,e);var v;var m=n||s["a"].model;function g(){o["a"].setSectionVisible("myPublished",h);if(v){v.close();v=null}function e(e){r["default"].$rootScope.$emit("ao-publish",{model:m,canModify:e})}f(true,m.id);m.publish().then((function(){f(false,m.id);l?m.getLayout().then((function(t){e(t&&t.permissions&&t.permissions.update)})):e(false)})).catch((function(){f(false,m.id)}))}l?g():v=i["a"].show({tid:"PublishDialog",title:c?a["default"].get("Publishing.PublishAppTitle"):h?a["default"].get("Publishing.PublishSheetTitle"):a["default"].get("Publishing.PublishStoryTitle"),content:a["default"].get(h?"Publishing.PublishSheetText":"Publishing.PublishStoryText",[p,t.layout.qTitle]),action:{name:a["default"].get("Publishing.Dialog.Confirm"),focus:true,tid:"Publish",callback:g}})}function h(e,t,n,s){var l=d(n,e);var c=n||e.model;var p;function h(){o["a"].setSectionVisible("myPrivate",l);if(p){p.close();p=null}f(true,c.id);c.unPublish().then((function(){f(false,c.id);r["default"].$rootScope.$emit("unpublished",c)})).catch((function(){f(false,c.id)}))}s?h():p=i["a"].show({tid:"UnpublishDialog",title:a["default"].get(l?"Publishing.UnpublishSheetTitle":"Publishing.UnpublishStoryTitle"),content:a["default"].get(l?"Publishing.UnpublishSheetText":"Publishing.UnpublishStoryText",u(n,e)),action:{name:a["default"].get("Unpublishing.Dialog.Confirm"),focus:true,tid:"Unpublish",callback:h}})}t["a"]={openPublishDialog:p,openUnpublishDialog:h}},xJtg:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("MGTR");var o=n("mWu2");var s=n("6uJb");var l='<div class="av-container">\n\t<div class="av-nav-tool" ng-if="is.navigator">\n\t\t<div class="av-navigation" ng-if="shownav" qv-appview-navigation>\n\t\t</div>\n\n\t\t<div class="av-toolbar-container" ng-if="!is.smalldevice" qv-appview-toolbar can-create-this-type="exp.canCreateThisType"\n\t\t\t\t\t\t\t\tcan-create-bookmarks="exp.canCreateBookmark"\n\t\t\t\t\t\t\t\tt-add-new="translations.addNew"\n\t\t\t\t\t\t\t\tis-bookmark="is.bookmark"\n\t\t\t\t\t\t\t\tis-navigator="is.navigator"\n\t\t\t\t\t\t\t\tt-navigator-header="translations.navigatorHeader"\n\t\t\t\t\t\t\t\tis-grid="is.grid"\n\t\t\t\t\t\t\t\tadd-item="funcs.addItem()">\n\t\t</div>\n\t</div>\n\t<div class="av-content-container {{navigationmode}}-container" ng-class="{\'qs-ao-sharing\': features.sharing()}" tabindex="-1" ao-scroll>\n\t\t<h2 ng-if="sections.showError" class="qv-ao-h2">\n\t\t\t<div class="err-text" q-translation="{{ translations.emptySectionMessage }}"></div>\n\t\t\t<div ng-if="sections.showErrorHint" class="qv-ao-hint err-text" q-translation="{{ translations.emptySectionHintMessage }}" q-html-translation-indexes=\'["<i class=\\"lui-icon lui-icon--bookmark\\"></i>"]\'></div>\n\t\t</h2>\n\n\t\t<div qva-context-menu="onContextMenu( $event )" ng-if="!is.bookmark && !sections.showError">\n\t\t\t<qv-ao-approved-section ng-if="sections.approved.show || features.sharing()"></qv-ao-approved-section>\n\t\t\t<qv-ao-community-section ng-if="sections.community.show"></qv-ao-community-section>\n\t\t\t<qv-ao-my-published-section ng-if="sections.myPublished.show"></qv-ao-my-published-section>\n\t\t\t<qv-ao-private-section ng-if="sections.myPrivate.show"></qv-ao-private-section>\n\t\t</div>\n\t\t\x3c!-- Bookmarks --\x3e\n\t\t<qv-bookmarks ng-if="is.bookmark" is-visible="!sections.showError && !sections.showErrorHint" smalldevice="is.smalldevice" is-nav="is.navigator" has-bookmarks="exp.hasBookmarks" can-create="exp.canCreateBookmark" set-autofocus="exp.isOpenedByClick" feat-share="shareMode"></qv-bookmarks>\n\t</div>\n</div>\n';var c=n("o4/D");var u=n("PX8M");var d=n("gh04");var f=n("pnby");var p='<lui-popover class="ao-contextmenu" qva-outside="closeView()">\n\t<lui-popover-body class="ao-contextmenu--body" qva-outside-ignore-for="{{navigationMode}}">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item" ng-repeat="menuItem in menuItems track by $index " ng-click="menuItem.disabled || menuItem.action( $event )" ng-disabled="menuItem.disabled">\n\t\t\t\t<span class="lui-list__text" tid="{{menuItem.tid}}" q-translation="{{menuItem.text}}">{{$index}}</span>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>\n';var h=n("5m/B");var v=n("Vvj3");var m=n("IfNZ");var g={template:p,scope:{options:"="},controller:["$scope","$element",function(e,t){for(var n in e.options.params)e[n]=e.options.params[n];function r(){var e;var t=i()(".qv-appview-navigator");e=t.length>0&&t.scope?t.scope().navigationmode:m["a"].navigationMode;t=null;return e}e.navigationMode="nav-".concat(r());var o=null;function s(){return t.children().first()}function l(e,t){e.$$postDigest((function(){e.$$postDigest(t)}))}function c(t){l(e,(function(){if(e.options.alignTo)h["a"].align(s(),e.options.alignTo,{collision:e.options.collision||"flip",position:e.options.docking||"top"});else{t=t||o;o=t?v["a"].reposition(s(),t):v["a"].position(s(),e.options.docking,e.options.position)}}))}if(e.clickedItem.menuLock){e.closeView();return}c();a["a"].subscribe("/resize/start.appview-contextmenu",e.closeView)}]};var b=g;var y=n("z4LI");var w=n("1/3z");var S=n("bmRg");function x(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){x(a,r,i,o,s,"next",e)}function s(e){x(a,r,i,o,s,"throw",e)}o(void 0)}))}}var q="copied-sheet";function E(e){var t=e.clickedItem;var n=e.closeView;if(t.permissions.remove)return{text:"Common.Delete",tid:"delete",action:function e(){o["default"].getService("$rootScope").$broadcast("aoRemoveItemBroadcast",t);n()}};return null}function I(e,t,n){var r=e.clickedItem,i=e.model,a=e.closeView;var o="create".concat(r.qInfo.qType[0].toUpperCase()).concat(r.qInfo.qType.substring(1));if(t[o])return{text:"Common.Copy",tid:"copy",action:function e(t){return C(regeneratorRuntime.mark((function e(){var o,s,l,c,u,d;return regeneratorRuntime.wrap((function e(f){while(1)switch(f.prev=f.next){case 0:n.forceClose();o=r.qInfo,s=o.qId,l=o.qType;f.next=4;return i.get(s);case 4:c=f.sent;u="sheet"===l;d=864e5;u&&S["a"].set(q,{appId:c.app.id,sheetId:s},d);a();t.preventDefault();return f.abrupt("return",Promise.resolve());case 11:case"end":return f.stop()}}),e)})))()}};return null}function k(e,t,n,r){var i=S["a"].contains(q)&&S["a"].get(q)||{};var a=!Object.entries(i).length;if(a)return null;var o=true;var s=e.closeView,l=e.AppOverviewState;if(t.createSheet)return{text:"Common.Paste",tid:"paste",action:function e(t){n.forceClose();l.setAddingItem(true);if(o){w["a"].setSectionVisible("myPrivate",o);r.pasteSheet(i)}s();t.preventDefault()}};return null}function A(e,t,n,r){var i=e.clickedItem,a=e.model,o=e.closeView,s=e.AppOverviewState;var l="create".concat(i.qInfo.qType[0].toUpperCase()).concat(i.qInfo.qType.substring(1));if(t[l])return{text:"Common.Duplicate",tid:"duplicate",action:function e(t){n.forceClose();s.setAddingItem(true);var l=i.qInfo.qId;var c="sheet"===i.qInfo.qType;w["a"].setSectionVisible("myPrivate",c);a.get(l).then((function(e){c?r.duplicateSheet(e):r.duplicateStory(e);o()}));t.preventDefault()}};return null}function T(e,t,n){var r=e.clickedItem;var i=e.closeView;var a="sheet"===r.qInfo.qType;if(a&&r.permissions.update&&!((n.view===n.Views.sheet||n.view===n.Views.object)&&n.state===n.States.edit))return{text:"contextMenu.openEdit",tid:"edit",action:function a(){var o=r.qInfo.qId;i();e.closeNavigator();t.goToSheet(o,Object.keys(n.States)[n.States.edit])}};return null}function D(e,t,n){var r=e.clickedItem;var i=e.closeView;var a="story"===r.qInfo.qType;if(a)return{text:"contextMenu.play",tid:"play",action:function a(){var o=r.qInfo.qId;i();e.closeNavigator();t.goToStory(o,Object.keys(n.States)[n.States.play])}};return null}function O(e,t){if(t)return e?"ContextMenu.SharedSpace.Sheet.Approve":"ContextMenu.SharedSpace.Story.Approve";return e?"ContextMenu.SharedSpace.Sheet.Unapprove":"ContextMenu.SharedSpace.Story.Unapprove"}function L(e,t,n,r,i,a,o){var s=e.clickedItem;var l=e.model;var c=e.unlock;var u=e.lock;var d=e.isActive;var f=e.closeNavigator;var p=e.closeView;var h="sheet"===s.qInfo.qType;if(n&&s.permissions.publish){if("unpublish"===o&&s.qMeta&&s.qMeta.published&&!s.qMeta.approved)return{text:i?O(h,false):"contextMenu.unpublish",tid:i?"unapprove":"unpublish",action:function t(){u();l.get(s.qInfo.qId).then((function(t){t.title=s.qData.labelExpression||s.qData.title;a.openUnpublishDialog(y["a"],e.model,t,i);c();p()}))}};if("publish"===o&&s.qMeta&&!s.qMeta.published)return{text:i?O(h,true):"contextMenu.publish",tid:i?"approve":"publish",action:function e(){u();l.get(s.qInfo.qId).then((function(e){e.title=s.qData.labelExpression||s.qData.title;e.sourceObject=s.qMeta.sourceObject;a.openPublishDialog(y["a"],r,e,i);c();p();t&&t.inStoryPlayState&&d&&f()}))}}}return null}function M(e,t,n,r,i,a){return L(e,t,n,r,i,a,"publish")}function P(e,t,n,r,i,a){return L(e,t,n,r,i,a,"unpublish")}function N(e,t){var n=e.clickedItem;var r=e.model;var i="sheet"===n.qInfo.qType;var a=e.unlock;var o=e.lock;var s=e.closeView;if(t&&n.qMeta&&n.qMeta.published&&!n.qMeta.approved&&n.qMeta.privileges&&-1!==n.qMeta.privileges.indexOf("approve"))return{text:"contextMenu.approve",tid:"approve",action:function e(){o();r.get(n.qInfo.qId).then((function(e){e.approve().then((function(){w["a"].setSectionVisible("approved",i)}))})).finally((function(){s();a()}))}};return null}function R(e,t){var n=e.clickedItem;var r=e.model;var i="sheet"===n.qInfo.qType;var a=e.unlock;var o=e.lock;var s=e.closeView;if(t&&n.qMeta&&n.qMeta.published&&n.qMeta.approved&&n.qMeta.privileges&&-1!==n.qMeta.privileges.indexOf("approve"))return{text:"contextMenu.unapprove",tid:"unapprove",action:function e(){o();r.get(n.qInfo.qId).then((function(e){e.unApprove().then((function(){w["a"].setSectionVisible("myPrivate",i)}))})).finally((function(){s();a()}))}};return null}var F={createDeleteMenuItem:E,createCopyMenuItem:I,createPasteMenuItem:k,createDuplicateMenuItem:A,createEditMenuItem:T,createPlayMenuItem:D,createPublishMenuItem:M,createUnpublishMenuItem:P,createApproveMenuItem:N,createUnApproveMenuItem:R};var _=n("/irJ");var j=n("+nQQ");var B=n("xIA9");var V=n("JP+O");var H=n("NFAh");var z=n("Htnf");var $=n("acVu");function U(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){U(a,r,i,o,s,"next",e)}function s(e){U(a,r,i,o,s,"throw",e)}o(void 0)}))}}function W(e){return Q.apply(this,arguments)}function Q(){Q=G(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:n=[];a.next=3;return t.currentApp.getLayout();case 3:r=a.sent;i=r.permissions;n.push(F.createPasteMenuItem(t,i,t.expandable,V["a"]));return a.abrupt("return",n);case 7:case"end":return a.stop()}}),e)})));return Q.apply(this,arguments)}function K(e){return Y.apply(this,arguments)}function Y(){Y=G(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return t.currentApp.getLayout();case 2:n=a.sent;a.next=5;return H["a"].hasShareMode(n);case 5:r=a.sent;i=[];i.push(F.createPlayMenuItem(t,_["a"],y["a"],f["a"],j["a"]));i.push(F.createPublishMenuItem(t,y["a"],null!==n.stream,t.currentApp,r,B["a"]));i.push(F.createUnpublishMenuItem(t,y["a"],null!==n.stream,t.currentApp,r,B["a"]));i.push(F.createEditMenuItem(t,_["a"],y["a"]));if(Object($["b"])("COPY_SHEET")&&"sheet"===t.clickedItem.qInfo.qType){i.push(F.createCopyMenuItem(t,n.permissions,t.expandable,V["a"]));i.push(F.createPasteMenuItem(t,n.permissions,t.expandable,V["a"]))}i.push(F.createDuplicateMenuItem(t,n.permissions,t.expandable,V["a"]));i.push(F.createApproveMenuItem(t,null!==n.stream));i.push(F.createUnApproveMenuItem(t,null!==n.stream));i.push(F.createDeleteMenuItem(t,s["default"]));return a.abrupt("return",i);case 17:case"end":return a.stop()}}),e)})));return Y.apply(this,arguments)}var J={_ctx:null,show:function e(t){return G(regeneratorRuntime.mark((function e(){var n;var r,i,a,s,l;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:r=t.clickedItem,i=t.targetIsSheetContainer;if(!(!i&&z["a"].inQueue(null===(n=r.qInfo)||void 0===n?void 0:n.qId))){c.next=3;break}return c.abrupt("return");case 3:a=o["default"].getService("qvContextMenu");t.closeView=a.close;c.next=7;return i?W(t):K(t);case 7:s=c.sent;l=s.filter((function(e){return null!==e}));if(l.length){c.next=12;break}a.close();return c.abrupt("return");case 12:t.menuItems=l;a.show({items:[0]},{component:b,params:t,position:{x:t.event.pageX,y:t.event.pageY},docking:"BottomRight"});J._ctx=a;case 15:case"end":return c.stop()}}),e)})))()},close:function e(){J._ctx&&J._ctx.close()}};var Z=J;var X=n("B52N");var ee={};var te=null;function ne(){m["a"].setViewMode(m["a"].ViewMode.list);o["default"].$apply(te)}function re(){m["a"].setViewMode(m["a"].ViewMode.grid);o["default"].$apply(te)}function ie(){if(null===te)return;te.is.grid?re():ne()}ee.isSmallDeviceListner=function e(t,n){if(null===te)return;te.exp.readonly=te.is.appReadOnly;te.is.smalldevice=t;if(t){te.exp.readonly=true;X["default"].orientation!==X["default"].Orientation.landscape?re():ne()}else n||(m["a"].viewModeBeforeEnterSmallDevice===m["a"].ViewMode.grid?re():ne())};ee.orientationChanged=function e(t){if(null===te)return;if(te.is.smalldevice){te.is.grid=X["default"].Orientation.landscape!==t;ie()}};ee.setup=function e(t){te=t.scope;te.is.smalldevice=X["default"].isSmallDevice;X["default"].ViewChanged.bind(ee.isSmallDeviceListner);X["default"].OrientationChanged.bind(ee.orientationChanged);te.is.smalldevice&&(te.is.grid=X["default"].orientation!==X["default"].Orientation.landscape);ee.isSmallDeviceListner(te.is.smalldevice,true)};ee.destroy=function e(){te=null;X["default"].ViewChanged.unbind(ee.isSmallDeviceListner);X["default"].OrientationChanged.unbind(ee.orientationChanged)};var ae=ee;var oe=n("Z9ZH");var se=n.n(oe);var le=n("vhuL");var ce=n("8H7g");var ue=n("G1wx");var de=n("1DLp");var fe=n("NFdj");var pe={clientX:0,clientY:0,target:null,isSwipeing:false};function he(e,t){var n=i()(e.target);var r=e.clientX;if(!n.is(t))return false;var a=n.offset().left+i()(e.target).width();return r>a-15}var ve={};var me={setup:function e(t,n,r){if(ve[t])return;ve[t]=n;var a=this;a.timer=null;a.$divParrent=i()();pe.isTouchDevice=!ue["a"].treatAsDesktop();pe.target=n[0];se()(n[0]).tap({id:".ao-hub-gestures",options:{preventDefault:false},start:function e(t){pe.target=t.target;pe.clientX=t.pageX;pe.clientY=t.pageY;pe.isSwipeing=false;if(r){a.$divParrent=n.find(r);a.$divParrent.each((function(){var e=i()(this);e.css("min-height",e.height())}))}},end:function e(){r&&a.removeUlHeights()},cancel:function e(){r&&a.removeUlHeights()}});pe.isTouchDevice&&se()(n[0]).swipe({id:".ao-hub-gestures",options:{preventDefault:false},start:function e(){clearTimeout(a.timer);pe.isSwipeing=true},end:function e(){a.timer=setTimeout((function(){pe.isSwipeing=false}),100);r&&a.removeUlHeights()}})},destroy:function e(t){if(!ve[t])return;var n=ve[t];se()(n[0]).off("*",".ao-hub-gestures");ve[t]=void 0;var r=this;r.$divParrent=null;r.timer=null;pe=null;pe={clientX:0,clientY:0,target:null,isSwipeing:false,isTouchDevice:false}},isClickOnScrollbar:function e(t){return he(pe,t)},event:pe,removeUlHeights:function e(){var t=this;if(t.$divParrent&&t.$divParrent.length){t.$divParrent.css("min-height","");t.$divParrent.each((function(){var e=i()(this);e.css("min-height","")}))}}};var ge;var be={id:null};function ye(){be.id=null}var we={open:function e(t){var n=this.close.bind(this);if(be.id===t){n();return}be.id=t},close:function e(){if(!be.id)return;var t=o["default"].getService("$timeout");ge=t((function(){me.event.isSwipeing||ye()}),150)},forceClose:function e(){if(!be.id)return;we.stopCloseTimer();ye()},stopCloseTimer:function e(){if(ge){var t=o["default"].getService("$timeout");t.cancel(ge);ge=null}},getExpandObject:function e(){return be}};Object.defineProperty(we,"isOpened",{get:function e(){return null!==be.id}});var Se=we;function xe(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){xe(a,r,i,o,s,"next",e)}function s(e){xe(a,r,i,o,s,"throw",e)}o(void 0)}))}}var qe;var Ee;var Ie={sheets:null,stories:null};var ke;var Ae;var Te;var De;var Oe;var Le=false;var Me=false;var Pe={itemKey:"item",itemSelector:".can-sort",scrollSelector:".av-content-container",gesture:{name:ue["a"].treatAsDesktop()?"swipe":"longtapswipe",options:{radiusThreshold:2}}};var Ne={placeholder:null,placeholderIx:-1};function Re(e,t){for(var n=0;n<e.length;n++)if(e[n].qInfo.qId===t.qInfo.qId)return n;return-1}function Fe(){Ne.placeholder=null;Ne.placeholderIx=-1}function _e(e){e.classList.push("qv-dragging");Se.forceClose()}function je(e){return{qInfo:{qId:e},qMeta:{published:false},qData:{cells:[]},addButton:true,readOnly:true,classList:[]}}function Be(){delete arguments[0].expandableOptions;var e=this._super.apply(this,arguments);e.qInfo={qId:-10};e.qMeta={published:true};e.qData={cells:[],thumbnail:{qStaticContentUrl:{qUrl:""}}};e.isPhSort=true;e.readOnly=true;e.style={visibility:"hidden"};Le=true;Ne.placeholder=e;Ne.placeholderIx=Re(this.getList(e).items,e)}function Ve(e){return e.qData.rank}function He(e,t,n){var r=e[t-1];var i=e[t+1];var a=Ve(n);var o="undefined"!==typeof r;var s="undefined"!==typeof i;var l;var c=false;if(s&&!i.addButton&&o){l=(Ve(i)+Ve(r))/2;c=Ve(i)===l||Ve(r)===l}else l=o||!s||i.addButton?o&&s&&i.addButton||o&&!s?Ve(r)+1:a:Ve(i)-1;return{item:n,newRank:l,oldRank:a,reRankAll:c}}function ze(){this._super.apply(this,arguments);Le=false;this.lists.forEach((function(e){for(var t=0;t<e.items.length;t++)e.items[t].classList&&e.items[t].classList.length&&(e.items[t].classList.length=0)}));Fe()}function $e(){return ke.is.grid?"":"vertical"}function Ue(e){if(Me)return false;if(se.a.utils.isMouse(e)){if(i()(e.target).closest(".qv-expandable").length)return false;return!!i()(e.target).closest(this.options.itemSelector).length}return!!i()(e.target).closest(this.options.itemDragSelector).length}function Ge(){Me=true}function We(){Me=false}function Qe(){return true}function Ke(e){this._super.apply(this,arguments);_e(e)}function Ye(e,t,n){return Je.apply(this,arguments)}function Je(){Je=Ce(regeneratorRuntime.mark((function e(t,n,r){var i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:t.classList.length=0;i=He(n.items,n.getIndexByItem(t),t);if(!i.reRankAll){s.next=14;break}Ge();s.prev=4;a=n.items.filter((function(e){return!e.addButton}));o=a.map((function(e,t){var n=t-1;if(r)return ke.commitNewDetails(e,n);return ke.commitNewSharedItemDetails({id:e.qMeta.id,rank:n})}));s.next=9;return Promise.all(o);case 9:s.prev=9;We();return s.finish(9);case 12:s.next=15;break;case 14:i.oldRank!==i.newRank&&(r?ke.commitNewDetails(i.item,i.newRank):ke.commitNewSharedItemDetails({id:i.item.qMeta.id,rank:i.newRank}));case 15:case"end":return s.stop()}}),e,null,[[4,,9,12]])})));return Je.apply(this,arguments)}function Ze(e,t){var n=this.getList(e);var r=this.getList(t);if(!n||!r)return;var i=Re(r.items,t);var a=Re(n.items,e);n.items.splice(a,1);r.items.splice(i,0,e);Ne.placeholderIx=i}function Xe(e){return this.lists.filter((function(t){for(var n=0;n<t.items.length;n++)if(t.items[n].qInfo.qId===e.qInfo.qId)return true;return}))[0]}var et=ce["a"].create({options:Pe,addPlaceholder:Be,onBegin:Ke,enable:ze,onMove:function e(t){this._super.apply(this,arguments);Ye(t,Ae,true)},moveItem:Ze,getList:Xe,allowDrag:Ue,allowScroll:Qe,getDirection:$e});Ae=et.createList();var tt=ce["a"].create({options:Pe,addPlaceholder:Be,onBegin:Ke,enable:ze,onMove:function e(t){this._super.apply(this,arguments);Ye(t,Te,false)},moveItem:Ze,getList:Xe,allowDrag:Ue,allowScroll:Qe,getDirection:$e});Te=tt.createList();var nt=ce["a"].create({options:Pe,addPlaceholder:Be,onBegin:Ke,enable:ze,onMove:function e(t){this._super.apply(this,arguments);Ye(t,De,true)},moveItem:Ze,getList:Xe,allowDrag:Ue,allowScroll:Qe,getDirection:$e});De=nt.createList();var rt=ce["a"].create({options:Pe,addPlaceholder:Be,onBegin:Ke,enable:ze,onMove:function e(t){this._super.apply(this,arguments);Ye(t,Oe,false)},moveItem:Ze,getList:Xe,allowDrag:Ue,allowScroll:Qe,getDirection:$e});Oe=rt.createList();function it(e){Ee=e}function at(e){e&&(qe=e)}function ot(){return st.apply(this,arguments)}function st(){st=Ce(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:if(!Ee.duplicatingItem){s.next=2;break}return s.abrupt("return");case 2:s.next=4;return u["a"].getApp();case 4:t=s.sent;s.next=7;return t.getLayout();case 7:n=s.sent;r=!!n.qReadOnly;i=!!n.permissions.createSheet;s.next=12;return H["a"].hasShareMode(n);case 12:a=s.sent;s.next=15;return Object(le["a"])();case 15:o=s.sent;Ie.sheets&&Ie.sheets.getLayout().then((function(e){et.reset();tt.reset();var t=e.filter(H["a"].filterApproved(a)).sort(qe);var n=e.filter(H["a"].filterPrivate).sort(qe);n.forEach((function(e,t){var n={};Object.keys(e).forEach((function(t){n[t]=e[t]}));n.id=t;n.readOnly=r;n.permissions=e.permissions;n.classList=[];Ae.addSortableItem(n)}));t.forEach((function(e,t){var n={};Object.keys(e).forEach((function(t){n[t]=e[t]}));n.id=t;n.readOnly=r;n.permissions=e.permissions;n.classList=[];Te.addSortableItem(n)}));!r&&i&&Ae.addSortableItem(je(-100),32);Ne.placeholder&&Ae.items.splice(Ne.placeholderIx,0,Ne.placeholder);ke.sheetSortableItemLists=et;ke.baseSheetSortableItemLists=tt;ke.approvedSheets=Te.items;ke.privateSheets=Ae.items;ke.communitySheets=e.filter(H["a"].filterCommunity(o,a));ke.myPublishedSheets=e.filter(H["a"].filterMyPublishedCommunity(o,a));ke.sortMyPublished(ke.myPublishedSheets);ke.sortFilter();ke.addingItem=false}));case 17:case"end":return s.stop()}}),e)})));return st.apply(this,arguments)}function lt(){return ct.apply(this,arguments)}function ct(){ct=Ce(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:if(!Ee.duplicatingItem){s.next=2;break}return s.abrupt("return");case 2:s.next=4;return u["a"].getApp();case 4:t=s.sent;s.next=7;return t.getLayout();case 7:n=s.sent;r=!!n.qReadOnly;i=!!n.permissions.createStory;s.next=12;return H["a"].hasShareMode(n);case 12:a=s.sent;s.next=15;return Object(le["a"])();case 15:o=s.sent;Ie.stories&&Ie.stories.getLayout().then((function(e){nt.reset();rt.reset();var t=e.filter(H["a"].filterApproved(a)).sort(qe);var n=e.filter(H["a"].filterPrivate).sort(qe);n.forEach((function(e){var t={};Object.keys(e).forEach((function(n){t[n]=e[n]}));t.readOnly=r;t.permissions=e.permissions;t.classList=[];De.addSortableItem(t)}));t.forEach((function(e){var t={};Object.keys(e).forEach((function(n){t[n]=e[n]}));t.readOnly=r;t.permissions=e.permissions;t.classList=[];Oe.addSortableItem(t)}));!r&&i&&De.addSortableItem(je(-100),32);Ne.placeholder&&De.items.splice(Ne.placeholderIx,0,Ne.placeholder);ke.storySortableItemLists=nt;ke.baseStorySortableItemLists=rt;ke.privateStories=De.items;ke.approvedStories=Oe.items;ke.communityStories=e.filter(H["a"].filterCommunity(o,a));ke.myPublishedStories=e.filter(H["a"].filterMyPublishedCommunity(o,a));ke.sortMyPublished(ke.myPublishedStories);ke.sortFilter();ke.addingItem=false}));case 17:case"end":return s.stop()}}),e)})));return ct.apply(this,arguments)}function ut(e,t){at(t);ke=e;d["a"].getList().then((function(e){Ie.sheets=e;Ie.sheets.Invalidated.bind(ot);ot()}))}function dt(e,t){at(t);ke=e;f["a"].getList().then((function(e){Ie.stories=e;Ie.stories.Invalidated.bind(lt);lt()}))}function ft(e,t,n,r){if(e.is.appReadOnly)return;var i="story"===r?f["a"]:d["a"];if(!i)return;return i.get(t.qInfo.qId).then((function(r){if(r.isClosing||r.isClosed)return;return r.getProperties().then((function(i){i.rank="number"===typeof n?n:t.qData.rank;i.qMetaDef.title.trim()||(i.qMetaDef.title=r._properties.qMetaDef.title);if(de["a"].getPreferredGridSize()&&"sheet"===r.genericType&&0===r.properties.cells.length){var a=de["a"].getPreferredGridSize();var o=de["a"].getResolutionFor(a);i.rows=o;i.columns=2*o;i.gridResolution=a;i.layoutOptions={mobileLayout:de["a"].getPreferredMobileLayout()}}return r.setProperties(i).then((function(){e.$root&&e.$root.$emit("clearUndo")}))}))}))}function pt(e,t){return t.get(e).then((function(e){return e.getProperties().then((function(e){return e}))}))}function ht(e){return pt(e,f["a"])}function vt(e){return pt(e,d["a"])}function mt(e,t){return t.get(e).then((function(e){return e.getLayout().then((function(e){return e}))}))}function gt(e){return mt(e,f["a"])}function bt(e){return mt(e,d["a"])}function yt(e){Le=false;if(e===m["a"].NavigationMode.sheet&&Ie.sheets){Ie.sheets.Invalidated.unbind(ot);Ie.sheets=null}if(e===m["a"].NavigationMode.story&&Ie.stories){Ie.stories.Invalidated.unbind(lt);Ie.stories=null}Fe()}var wt={init:it,initSheet:ut,initStories:dt,setSort:at,destroy:yt,setNewDetails:ft,getNewIndex:He,getSheetProperties:vt,getStoryProperties:ht,getSheetLayout:bt,getStoryLayout:gt,preventScroll:function e(){return Le}};var St=n("KLTh");var xt=n("Y9P5");var Ct={readyTimer:null,contextOpen:false,setIsReady:function e(){clearTimeout(Ct.readyTimer);Ct.readyTimer=setTimeout((function(){Ct.ready=true;Ct.readyTimer=null}),50)},isGrid:function e(){return m["a"].viewMode===m["a"].ViewMode.grid},isReady:function e(){return Ct.ready},getActive:function e(){return Ct.activeId},getItemInEdit:function e(){return Ct.itemInEdit},isOpeningContext:function e(){return Ct.contextOpen},setIsContextOpen:function e(t){Ct.contextOpen=t},addItem:function e(){o["default"].$rootScope.$broadcast("app-overview-keyboard-shortcut-add-item")},destroy:function e(){clearTimeout(Ct.readyTimer);Ct.readyTimer=null;Ct.activeId=null;Ct.itemInRemove=null;Ct.ready=null;Ct.blockScrollIntoView=null;Ct.itemInEdit=null}};var qt=Ct;var Et=n("yRTf");var It=n("vkLz");var kt=n("r67N");var At=false;var Tt=Et["a"].createGroup("app-overview",11);function Dt(){u["a"].getApp().then((function(e){e.global.getConfiguration().then((function(e){!e.qFeatures.qAutoSave&&At&&Tt.registerKeys("ctrl+s",Nt,{allowInInput:true})}))}));Tt.on()}function Ot(e){if(e===y["a"].Views.overview){Tt.off();At=true;Dt()}else{At=false;Tt.off()}}y["a"].StateChanged.bind(Ot);function Lt(){return i()(".lui-dialog").is(":visible")||kt["a"].isOpened}function Mt(){o["default"].$rootScope.$apply((function(){m["a"].setViewMode(m["a"].ViewMode.grid)}))}function Pt(){o["default"].$rootScope.$apply((function(){m["a"].setViewMode(m["a"].ViewMode.list)}))}function Nt(){var e=Lt();e||It["a"].saveApp()}function Rt(){qt.addItem()}Tt.registerKeys("ctrl+g",Mt);Tt.registerKeys("ctrl+shift+l",Pt);Tt.registerKeys("ctrl+shift+n",Rt);var Ft='<div class="quick-navigation" ng-style="{\'background-color\': bgColor, color: fontColor, \'background-image\': bgColor ? \'none\' : \'invalid\'}">\n\n\t<button tid="btnQuickNavPrevious"\n\t\t\tclass="qn-button qn-previous-button"\n\t\t\tng-class="{\n\t\t\t\t\'lui-button\': !isSmallDevice,\n\t\t\t\t\'lui-button--toolbar\': !isSmallDevice && !clientTabNavigation, \n\t\t\t\t\'tabs-nav\': !isSmallDevice && clientTabNavigation, \n\t\t\t\t\'lui-fade-button  lui-fade-button--inverse  lui-fade-button--large\': isSmallDevice\n\t\t\t}"\n\t\t\tng-style="{color: fontColor}"\n\t\t\tng-click="goToPrevious()"\n\t\t\tng-disabled="!hasPreviousSheet() || disable()"\n\t\t\tdata-sheet-id="{{ previousSheetId() }}"\n\t\t\ttitle="{{ previousSheetTooltip() }}">\n\t\t<span\n\t\t\tclass="lui-icon  lui-icon--previous"\n\t\t\tng-class="{\n\t\t\t\t\'lui-button__icon\': !isSmallDevice,\n\t\t\t\t\'lui-fade-button__icon  lui-icon--large\': isSmallDevice\n\t\t\t}"\n\t\t></span>\n\t</button>\n\n\t<div qva-direction x-dir-setting="{{options.direction}}" ng-if="isSmallDevice" class="qn-sheet-title" ng-click="showAO($event)" ng-class="{\'logo-left\': logoPlacement === \'left\', \'logo-center\': logoPlacement === \'center\', \'only-title\' : !logoImgSrc}">\n\t\t<div qva-direction x-dir-text="{{sheetTitle || \'&nbsp;\'}}"class="qv-ellips qn-sheet-title-text" data-tid="qn-sheet-title">{{sheetTitle || "&nbsp;"}}</div>\n\t\t<div class="sheet-title-logo-img" ng-if="!!logoImgSrc">\n\t\t\t<img ng-src="{{ logoImgSrc }}" draggable="false" class="img-no-drag" />\n\t\t</div>\n\t</div>\n\n\t<button tid="btnQuickNavNext"\n\t\t\tclass="qn-button qn-next-button"\n\t\t\tng-class="{\n\t\t\t\t\'lui-button\': !isSmallDevice,\n\t\t\t\t\'lui-button--toolbar\': !isSmallDevice && !clientTabNavigation, \n\t\t\t\t\'lui-fade-button  lui-fade-button--inverse  lui-fade-button--large\': isSmallDevice\n\t\t\t}"\n\t\t\tng-style="{color: fontColor}"\n\t\t\tng-click="goToNext()"\n\t\t\tng-disabled="!hasNextSheet() || disable()"\n\t\t\tdata-sheet-id="{{ nextSheetId() }}"\n\t\t\ttitle="{{ nextSheetTooltip() }}">\n\t\t<span\n\t\t\tclass="lui-icon  lui-icon--next"\n\t\t\tng-class="{\n\t\t\t\t\'lui-button__icon\': !isSmallDevice,\n\t\t\t\t\'lui-fade-button__icon  lui-icon--large\': isSmallDevice\n\t\t\t}"\n\t\t></span>\n\t</button>\n</div>\n';var _t=n("6Z/P");var jt=n("iSLG");var Bt=n("jaci");var Vt=n("plVp");var Ht=n("9/B2");o["default"].directive("qvQuickNavigation",[function(){return{restrict:"E",scope:{isSmallDevice:"=",sheetTitle:"=",logoImgSrc:"=",logoPlacement:"=",bgColor:"=",fontColor:"="},template:Ft,replace:true,link:function e(t){t.clientTabNavigation=Object($["b"])("CLIENT_TAB_NAVIGATION");t.isSmallDevice&&(t.showAO=function(e){if(e){e.preventDefault();e.stopImmediatePropagation()}jt["a"].open(t,{navigationmode:"sheet",translations:{toolbarTitle:"Common.Sheets",toolbarButton:"Common.Done"}})});t.hasPreviousSheet=function(){return xt["a"].Sheets.hasPrevious(t.sheets)};t.hasNextSheet=function(){return xt["a"].Sheets.hasNext(t.sheets)};t.previousSheetId=function(){var e=xt["a"].Sheets.getPrevious(t.sheets);return e?e.qInfo.qId:""};t.nextSheetId=function(){var e=xt["a"].Sheets.getNext(t.sheets);return e?e.qInfo.qId:""};t.previousSheetTooltip=function(){var e=xt["a"].Sheets.getPrevious(t.sheets);var n=(null===e||void 0===e?void 0:e.qData.labelExpression)||(null===e||void 0===e?void 0:e.qData.title);return n?s["default"].get("Tooltip.NextSheet",n):null};t.nextSheetTooltip=function(){var e=xt["a"].Sheets.getNext(t.sheets);var n=(null===e||void 0===e?void 0:e.qData.labelExpression)||(null===e||void 0===e?void 0:e.qData.title);return n?s["default"].get("Tooltip.NextSheet",n):null};function n(){var e=Ht["a"].get();if(e&&e.length){e=e.find("#grid")[0];if(e){e.scrollTop=0;e.scrollLeft=0}e=null}}t.goToPrevious=function(){var e=xt["a"].Sheets.getPrevious(t.sheets);_["a"].goToSheet(e.qInfo.qId,Object.keys(y["a"].States)[y["a"].state]);t.isSmallDevice&&n()};t.goToNext=function(){var e=xt["a"].Sheets.getNext(t.sheets);_["a"].goToSheet(e.qInfo.qId,Object.keys(y["a"].States)[y["a"].state]);t.isSmallDevice&&n()};var r=t.$watch(_t["a"].getGrid,(function(e){t.grid=e}));function i(e){t.options.direction=e}function a(e){t.sheets=e.mashed;if(Object($["b"])("SHEET_SHOW_CONDITION")){var n=xt["a"].Sheets.currentIndex(e.mashed);t.sheets=xt["a"].filterSheets(e.mashed,e.mashed[n])}}a(xt["a"].Sheets.UNSAFE_all);t.disable=function(){return Vt["a"].isSelectActive()||Vt["a"].getCaoActive()};t.options={direction:""};Bt["a"].DirectionChanged.bind(i);xt["a"].Sheets.SheetsChanged.bind(a);t.$on("$destroy",(function(){r();Bt["a"].DirectionChanged.unbind(i);xt["a"].Sheets.SheetsChanged.unbind(a)}))}}}]);var zt='<textarea\n\t\trows="{{rows}}"\n\t\tmaxlength="{{maxLength}}"\n\t\tclass="lui-textarea av-textarea"\n\t\tng-model="model"></textarea>';function $t(e){return e.split("\n").length}function Ut(e,t){e.attr("rows",t)}function Gt(e,t){var n=e.split("\n");n.length>t&&(e=n.slice(0,t).join("\n"));return e}o["default"].directive("qveTextarea",[function(){return{template:zt,replace:true,scope:{minRows:"@",maxRows:"@",maxLength:"@",model:"="},restrict:"E",controller:["$scope","$element",function(e,t){var n=parseInt(e.minRows,10);var r=parseInt(e.maxRows,10);var a=false;var o=false;var s=$t(e.model);var l=true;e.rows=s<n?n:s;t.on("keydown.manual",(function(e){var s=i()(this);var l=$t(s.val());var c=l>=r;a=13===e.keyCode;o=8===e.keyCode||46===e.keyCode;if(a)if(l>=n&&!c)Ut(t,l+1);else if(c)return false;return})).on("keyup.manual",(function(){var e=i()(this);var r=$t(e.val());o&&Ut(t,r>n?r:n)}));e.$watch("model",(function(t){e.model=i.a.trim(Gt(t,r));if(l&&e.model.length>0){l=false;s=$t(e.model);e.rows=s<n?n:s}}));e.$on("$destroy",(function(){t.off(".manual")}))}]}}]);var Wt=n("4nJ1");var Qt='<div class="qs-bookmarks" aria-label=" ">\n\n\t<div class="qs-bm-search" ng-keydown="searchKeyDown( $event )" ng-if="showSearch">\n\t\t<lui-search query="search.text" ng-attr-auto-focus="doSetAutofocus" on-escape="search.text = \'\';" placeholder="Common.Search"></lui-search>\n\t\t<label class="hidden-screen-reader-label" id="sr-search-label" aria-live="assertive"></label>\n\t</div>\n\n\t<div class="qs-bm-btn" ng-if="canCreate && smalldevice">\n\t\t<lui-button ng-click="createBookmark()"\n\t\t\t\t\tng-disabled="disableButton()"\n\t\t\t\t\tqva-outside-ignore-for="bmexpand"\n\t\t\t\t\tq-translation="Bookmarks.Add"\n\t\t\t\t\ttid="6f7f8f"></lui-button>\n\t</div>\n\n\t<div ng-if="isSectionVisible(bmList.approved.show || featShare)" tid="approved">\n\t\t<qv-bookmarks-section ng-if="bmList.approved.list" section="bmList.approved" expand="expand" defaultbookmark="defaultbookmark" changedefaultbookmark="changeDefaultBookmark" smalldevice="smalldevice" feat-share="featShare"></qv-bookmarks-section>\n  </div>\n  <div ng-if="isSectionVisible(bmList.published.show)" tid="published">\n\t\t<qv-bookmarks-section ng-if="bmList.published.list" is-nav="isNav" section="bmList.published" expand="expand" defaultbookmark="defaultbookmark" changedefaultbookmark="changeDefaultBookmark" smalldevice="smalldevice"></qv-bookmarks-section>\n\t</div>\n  <div ng-if="isSectionVisible(bmList.publishedByMe.show)" tid="publishedByMe">\n\t\t<qv-bookmarks-section ng-if="bmList.publishedByMe.list" is-nav="isNav" section="bmList.publishedByMe" expand="expand" defaultbookmark="defaultbookmark" changedefaultbookmark="changeDefaultBookmark" smalldevice="smalldevice"></qv-bookmarks-section>\n  </div>\n\t<div ng-if="isSectionVisible(bmList.private.show || featShare)" tid="private">\n\t\t<qv-bookmarks-section ng-if="bmList.private.list" is-nav="isNav" section="bmList.private" expand="expand" defaultbookmark="defaultbookmark" changedefaultbookmark="changeDefaultBookmark" smalldevice="smalldevice" feat-share="featShare"></qv-bookmarks-section>\n  </div>\n\t<div class="qs-nomatch" q-translation="{{ !expand.hasSearchMatch ? \'Common.NoMatchesForCurrentSearch\' : \'Bookmarks.NoBookmarks\'}}" ng-if="!ftw && showWarning"></div>\n</div>\n';var Kt=n("FZ1g");var Yt=n("1oJt");var Jt=n("sWge");var Zt=n("dJ5t");var Xt=n("H6Kg");var en=n("NGs5");var tn=n("mXGw");var nn=n.n(tn);var rn=n("xARA");var an='<div class="bm-section" aria-hidden="true">\n\t<div ng-if="border" class="section-line"></div>\n\t<div class="qs-tb" ng-if="!expand.search" aria-hidden="true">\n\t\t<button class="header" tid="headerTitle" ng-click="toggleSection(section.name, $event)"\n\t\t\taria-label="{{getAccessibilityLabel()}}">\n\t\t\t<span\n\t\t\t\tclass="{{ section.isVisible ? \'lui-icon lui-icon--triangle-bottom\' : \'lui-icon lui-icon--triangle-right\' }} section-c-indicator"\n\t\t\t\tq-title-translation="{{ section.isVisible ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t\taria-hidden="true"></span>\n\t\t\t<span class="section-title" q-translation="{{ section.translation }}" aria-hidden="true"></span>\n\t\t\t<span tid="nmbInSection"> ({{section.list.length}})</span>\n\t\t</button>\n\t</div>\n\t<div ng-if="showHelp()" class="qs-bm-help-text">\n\t\t<h1 q-translation="{{showHelpText()}}"></h1>\n\t\t<span ng-if="showPublicHelpDesc()" class="qs-bm-help-text-desc"\n\t\t\tq-translation="Bookmarks.Sharing.Help.Public.Description"></span>\n\t\t<div ng-if="showAoHelp()" q-translation="Bookmarks.NoBookmarks.Hint"\n\t\t\tq-html-translation-indexes=\'["<i class=lui-icon--toolbar></i>"]\'></div>\n\t</div>\n\t<div tid="bmSectionRepeat" class="bm-action bm-list-item"\n\t\tng-repeat="item in (sortedList = (section.list | orderBy:sortFn | limitTo:limit)) track by item.qInfo.qId"\n\t\tng-if="isItemVisible( item )" qva-context-menu="onContextMenu( $event, item )"\n\t\tng-click="applyBookmark( item, $event )" ng-keydown="onKeyDown( item, $event )"\n\t\tng-attr-tabindex="{{!expand.search ? item.tab: 0}}" ng-focus="focusBookmark(item)" ng-blur="blurBookmark()">\n\t\t<label class="hidden-screen-reader-label" id="sr-bookmark-list-label">{{srBookmarkListLabel}}</label>\n\t\t<div class="bm-list" ng-if="!inEdit( item )" ng-class="{\'first\': $first, \'last\': $last}">\n\t\t\t<div class="bm-td-c bm-list-item" ng-keydown="onKeyDown( item, $event )" tabindex="-1">\n\t\t\t\t<label ng-if="hasFocus(item, \'title\')"\n\t\t\t\t\tclass="hidden-screen-reader-label">{{srNavigateBookmarkOptions}}</label>\n\t\t\t\t<div class="bm-title">\n\t\t\t\t\t<span class="bm-tc" qve-highlight text="{{getMoreDetails( item ).title}}"\n\t\t\t\t\t\tquery="expand.searchString"></span>\n\t\t\t\t\t<div ng-if="defaultBookmarkId === item.qInfo.qId && !isLandingPage" class="badge"\n\t\t\t\t\t\tq-translation="Bookmarks.AppDefault" q-title-translation="Tooltip.Bookmarks.AppDefault"></div>\n\t\t\t\t\t<div ng-if="defaultBookmarkId === item.qInfo.qId && isLandingPage" class="badge"\n\t\t\t\t\t\tq-translation="Bookmarks.StartBookmark" q-title-translation="Tooltip.Bookmarks.StartBookmark">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<drm-format-date date="item.qData.creationDate" format="short"></drm-format-date>\n\t\t\t\t<label ng-if="hasFocus(item, \'title\')" class="hidden-screen-reader-label"\n\t\t\t\t\tq-translation="Accessibility.Bookmark.Activate.Label"></label>\n\t\t\t</div>\n\t\t\t<button class="lui-fade-button  icon-touch-area bm-list-item" ng-class="{\'active-bm\': showInfoIcon( item )}"\n\t\t\t\tq-title-translation="Tooltip.Details" ng-click="showDetails( item, section.name )"\n\t\t\t\tqva-outside-ignore-for="bmexpand" tabindex="-1" tid="bm-details-btn">\n\t\t\t\t<i class="lui-fade-button__icon  lui-icon  lui-icon--info"></i>\n\t\t\t</button>\n\t\t\t<label ng-if="hasFocus(item, \'full\')" class="hidden-screen-reader-label"\n\t\t\t\tq-translation="Accessibility.Bookmark.ActivateOptions.Label"></label>\n\t\t</div>\n\t\t<div ng-if="showExpandable( item )" class="bm-expand" qva-scroll-into-view="scrollObj"\n\t\t\tqva-outside="onOutsideClick($event)" qva-outside-ignore-for="bmexpand">\n\t\t\t<div class="bm-meta">\n\t\t\t\t<div class="arrowtip-up" ng-if="!inEdit( item )">\n\t\t\t\t\t<div class="inner-arrow"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="bm-m-cont" tabindex="-1" ng-class="{\'edit\': inEdit( item ), \'view\': !inEdit( item )}"\n\t\t\t\t\tng-keyup="onKeyUp(item, $event)">\n\t\t\t\t\t<div class="bm-top">\n\t\t\t\t\t\t<div class="bm-left">\n\t\t\t\t\t\t\t<div class="bm-desc" ng-class="{\'bm-margin\': item.qData.description}"\n\t\t\t\t\t\t\t\tng-if="!inEdit( item )"><span class="bm-description" qve-highlight\n\t\t\t\t\t\t\t\t\ttext="{{getMoreDetails( item ).description}}" query="expand.searchString"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bm-desc" ng-if="inEdit( item )">\n\t\t\t\t\t\t\t\t<div q-translation="Common.Title"></div>\n\t\t\t\t\t\t\t\t<input tabindex="0" qv-enter="toggleEdit( item, section.name )" qva-select type="text"\n\t\t\t\t\t\t\t\t\tmaxlength="255" class="lui-input bm-input" ng-class="{\'lui-invalid\': nameIsInvalid}"\n\t\t\t\t\t\t\t\t\tng-model="item.qData.title" />\n\t\t\t\t\t\t\t\t<div ng-if="nameIsInvalid && item.qData.title.length"\n\t\t\t\t\t\t\t\t\tq-translation="Bookmarks.DuplicateTitle" class="invalid"></div>\n\t\t\t\t\t\t\t\t<div ng-if="nameIsInvalid && !item.qData.title.length"\n\t\t\t\t\t\t\t\t\tq-translation="Bookmarks.EmptyTitle" class="invalid"></div>\n\t\t\t\t\t\t\t\t<div class="bm-padding-top" q-translation="Common.Description"></div>\n\t\t\t\t\t\t\t\t<textarea tabindex="0" maxlength="512" ng-model="item.qData.description"\n\t\t\t\t\t\t\t\t\tng-disabled="!item.permissions.update" class="lui-textarea bm-txtarea"></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-right">\n\t\t\t\t\t\t\t<button class="lui-overlay-button" tid="exp-edit"\n\t\t\t\t\t\t\t\tng-click="toggleEdit( item, section.name )" ng-if="showEditBtn( item )" data-name="edit"\n\t\t\t\t\t\t\t\tq-title-translation="{{ inEdit(item) ? \'Tooltip.StopEdit\' : \'Common.Edit\' }}"\n\t\t\t\t\t\t\t\tdata-action="toggleEdit">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass="lui-overlay-button__icon  lui-icon  lui-icon--{{inEdit( item ) ? \'tick  lui-text-success\' : \'edit\'}}"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div class="bm-btn-remove">\n\t\t\t\t\t\t\t\t<button class="lui-overlay-button" ng-click="removeBookmark( item )"\n\t\t\t\t\t\t\t\t\tng-if="expand.edit && item.permissions.remove && inEdit( item )"\n\t\t\t\t\t\t\t\t\tq-title-translation="Common.Delete">\n\t\t\t\t\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bm-bottom">\n\t\t\t\t\t\t<div class="bm-desc">\n\t\t\t\t\t\t\t<span class="bm-lbl" q-translation="Bookmarks.Location">Location</span>:\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight text="{{getSheetLocation(item)}}"\n\t\t\t\t\t\t\t\tquery="expand.searchString" tid="bm-location-value"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-desc">\n\t\t\t\t\t\t\t<span class="bm-lbl" q-translation="Bookmarks.LayoutState">Layout state</span>:\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight text="{{hasLayoutSaved( item )}}"\n\t\t\t\t\t\t\t\tquery="expand.searchString" tid="bm-location-value"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-desc default-bookmark"\n\t\t\t\t\t\t\tng-if="defaultBookmarkId === item.qInfo.qId && !isLandingPage">\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight q-translation="Bookmarks.AppDefault.Hint"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-desc default-bookmark"\n\t\t\t\t\t\t\tng-if="defaultBookmarkId === item.qInfo.qId && isLandingPage">\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight q-translation="Bookmarks.StartBookmark.Hint"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-left" ng-if="!getCreating( item )">\n\t\t\t\t\t\t\t<div class="bm-desc" ng-repeat="setExprItem in getMoreDetails( item ).setExpr"\n\t\t\t\t\t\t\t\ttid="bm-description">\n\t\t\t\t\t\t\t\t<div class="bm-desc bm-padding-top">\n\t\t\t\t\t\t\t\t\t<span class="bm-lbl" tid="bm-set-exp-title">{{setExprItem.title}}</span>:\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span q-translation="Bookmarks.Selections"></span>:\n\t\t\t\t\t\t\t\t<span class="bm-val" tid="bm-selection-value" qve-highlight\n\t\t\t\t\t\t\t\t\ttext="{{setExprItem.selFields || \'-\' }}"></span>\n\t\t\t\t\t\t\t\t<div q-translation="Bookmarks.SetExpression"></div>\n\t\t\t\t\t\t\t\t<textarea class="bm-set-expression-text lui-textarea lui-textarea--inverse"\n\t\t\t\t\t\t\t\t\tqve-highlight readonly\n\t\t\t\t\t\t\t\t\ttext="{{ setExprItem.setExpression || setExprItem.setExpressionErrorText }}"\n\t\t\t\t\t\t\t\t\ttid="bm-set-exp-text"></textarea>\n\t\t\t\t\t\t\t\t<button class="lui-button lui-button--inverse bm-set-expression-copy-btn"\n\t\t\t\t\t\t\t\t\tng-click="copySetExpression( $event )" ng-disabled="!setExprItem.setExpression"\n\t\t\t\t\t\t\t\t\tq-translation="Common.Copy"></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>';function on(e){return{text:"Bookmarks.ContextMenu.ApplyBookmark",tid:"bm-apply-bookmark",action:function t(){e.closeView();e.applyBookmark()}}}function sn(e){return{text:"Bookmarks.ContextMenu.ViewDetails",tid:"bm-view-details-bookmark",class:"view-details",action:function t(){e.closeView();e.showDetails()}}}function ln(e){return{text:"Bookmarks.ContextMenu.HideDetails",tid:"bm-hide-details-bookmark",class:"hide-details",action:function t(){e.closeView();e.hideDetails()}}}function cn(e){var t=e.clickedItem;var n=e.closeView;var r=e.remove;if(t.permissions.remove)return{text:"Common.Delete",tid:"bm-delete",action:function e(){n();r(-1,t)}};return null}function un(e,t){if(!t.published&&t.layout.permissions.update)return{text:Object($["b"])("LANDING_PAGE")?"Bookmarks.ContextMenu.SetStartBookmark":"Bookmarks.ContextMenu.SetDefaultBookmark",tid:"bm-setdefault-sel",action:function t(){e.closeView();e.setDefaultBookmark()}};return null}function dn(e,t){if(!t.published&&t.layout.permissions.update)return{text:Object($["b"])("LANDING_PAGE")?"Bookmarks.ContextMenu.RemoveStartBookmark":"Bookmarks.ContextMenu.RemoveDefaultBookmark",tid:"bm-removedefault-sel",action:function t(){e.closeView();e.removeDefaultBookmark()}};return null}function fn(e){return{text:Object($["b"])("LANDING_PAGE")?"Bookmarks.ContextMenu.ApplySelectionsOnly":"Bookmarks.ContextMenu.ApplySelections",tid:"bm-apply-sel",action:function t(){e.applySelections()}}}function pn(e,t){var n=e.clickedItem,r=e.smalldevice,i=e.featShare,a=e.shareBookmark,o=e.publishBookmark,s=e.closeView;var l=n.qMeta.published;var c=n.permissions.publish;if(c&&!r&&!z["a"].inQueue(n.qInfo.qId)){var u;var d;if(i){u=l?"ContextMenu.SharedSpace.Bookmark.Unapprove":"ContextMenu.SharedSpace.Bookmark.Approve";d=l?"bm-unapprove":"bm-approve"}else{if(!Object($["b"])("PUBLISH_BOOKMARKS_IN_PUBLIC_APPS"))return null;u=l?"ContextMenu.ManagedSpace.Bookmark.Unpublish":"ContextMenu.ManagedSpace.Bookmark.Publish";d=l?"bm-unpublish":"bm-publish"}return{text:u,tid:d,action:function e(){s();i?a({item:n,share:!l}):o({item:n,isPublished:l,app:t})}}}return null}function hn(e){if(e.smalldevice||!Object($["b"])("PUBLISH_BOOKMARKS_IN_PUBLIC_APPS"))return null;var t=e.clickedItem;var n=t.qMeta.published;var r=t.permissions.publish;var i;if(n)i=function n(){return e.copyLink(t)};else{if(!r)return null;i=function n(){return e.publishAndCopyLink(t,e.featShare)}}return{text:"contextMenu.copyLink",tid:"bm-copy-link",action:function t(){e.closeView();i()}}}var vn={createDeleteMenuItem:cn,createSetDefaultMenuItem:un,createRemoveDefaultMenuItem:dn,createApplyMenuItem:fn,createShareMenuItem:pn,createSetMenuItem:on,createViewDetailsMenuItem:sn,createHideDetailsMenuItem:ln,createCopyLinkItem:hn};var mn=n("wIyQ");var gn={template:p,scope:{options:"="},controller:["$scope","$element",function(e,t){for(var n in e.options.params)e[n]=e.options.params[n];function r(){var e=i()(".qv-appview-navigator");if(e.length>0&&e.scope)return e.scope().navigationmode;return m["a"].navigationMode}e.navigationMode="nav-".concat(r());var a=[];var o=null;function s(){return t.children().first()}function l(e,t){e.$$postDigest((function(){e.$$postDigest(t)}))}function c(t){l(e,(function(){if(e.options.alignTo)h["a"].align(s(),e.options.alignTo,{collision:e.options.collision||"flip",position:e.options.docking||"top"});else{t=t||o;o=t?v["a"].reposition(s(),t):v["a"].position(s(),e.options.docking,e.options.position)}}))}e.closeView=function(){mn["a"].off("start.bookmarks");e.destroyComponent()};Object($["b"])("LANDING_PAGE")&&a.push(vn.createSetMenuItem(e));a.push(vn.createApplyMenuItem(e));Object($["b"])("LANDING_PAGE")&&(false===e.input.options.params.expanded?a.push(vn.createViewDetailsMenuItem(e)):a.push(vn.createHideDetailsMenuItem(e)));u["a"].getApp().then((function(t){t.getLayout().then((function(n){if(!n.published&&n.permissions.update){var r=e.input.options.params.clickedItem;var i=e.input.options.params.defaultBookmarkId;var o=i&&i===r.qInfo.qId;o?a.push(vn.createRemoveDefaultMenuItem(e,t)):a.push(vn.createSetDefaultMenuItem(e,t))}a.push(vn.createDeleteMenuItem(e));e.menuItems=a.filter((function(e){return null!==e}));e.showMenu=e.menuItems.length>0}));a.push(vn.createShareMenuItem(e,t))}));a.push(vn.createCopyLinkItem(e));mn["a"].on("start.bookmarks",e.closeView);e.$on("$destroy",(function(){mn["a"].off("start.bookmarks")}));c()}]};var bn=gn;var yn=n("4XJH");var wn=n("RZ9f");var Sn=n("g1uV");var xn={};function Cn(e){xn[e]||(xn[e]={items:[],activeIndex:0});return xn[e].items}function qn(e){if(xn[e])return xn[e].activeIndex;return}function En(e,t){xn[e]&&(xn[e].activeIndex=t)}function In(e){xn[e]&&delete xn[e]}function kn(e,t){En(e,0);Cn(e).forEach((function(e){e.callback(0,t)}))}var An={addItem:function e(t,n,r){var i=Cn(r);if(i.every((function(e){return e.id!==t}))){i.push({id:t,callback:n});kn(r,true)}},removeItem:function e(t,n){var r;var i=Cn(t);for(r=0;r<i.length;r++)if(i[r].id===n){i.splice(r,1);break}i.length?kn(t):In(t)},deleteList:function e(t){In(t)},key:function e(t,n,r,i){if(i.altKey||i.shiftKey||"text"===i.target.type||"textarea"===i.target.type)return;var a=qn(n);var o=Cn(n);i.ctrlKey||i.metaKey?t===Sn["a"].ARROW_DOWN?a=o.length-1:t===Sn["a"].ARROW_UP&&(a=0):t===Sn["a"].ARROW_DOWN&&r||t===Sn["a"].ARROW_RIGHT&&!r?a<o.length-1&&a++:(t===Sn["a"].ARROW_UP&&r||t===Sn["a"].ARROW_LEFT&&!r)&&a>0&&a--;o.forEach((function(e){e.callback(a)}));En(n,a);i.preventDefault();i.stopPropagation()},getActiveIndex:function e(t){return qn(t)},softReset:function e(t){kn(t,true)},RIGHT_KEY:Sn["a"].ARROW_RIGHT,LEFT_KEY:Sn["a"].ARROW_LEFT,UP_KEY:Sn["a"].ARROW_UP,DOWN_KEY:Sn["a"].ARROW_DOWN};var Tn=n("W0B4");var Dn=n.n(Tn);var On=n("jr/W");var Ln=n("xN6f");var Mn=n("/2No");function Pn(e,t){return jn(e)||_n(e,t)||Rn(e,t)||Nn()}function Nn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rn(e,t){if(!e)return;if("string"===typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fn(e,t)}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _n(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function jn(e){if(Array.isArray(e))return e}var Bn=function e(t){var n=t.clickedItem,r=t.translator;var i=Object(tn["useState"])(false),a=Pn(i,2),o=a[0],s=a[1];var l=n.qData.sheetId?_["a"].getUrlForSheet(n.qData.sheetId,"analysis"):_["a"].getUrlForOverview();var c=Mn["a"].getParameterByName("bookmark",null,l);var u=c?l.replace(c,n.qInfo.qId):"".concat(l,"/bookmark/").concat(n.qInfo.qId);var d=function e(){Ln["a"].copyToClipboard(u);s(true)};var f=function e(){return window.open(u,"_blank")};return nn.a.createElement("div",{className:"body-container"},nn.a.createElement("div",{className:"body-link-title"},r.get("Bookmark.CopyLink.Input.Title")),nn.a.createElement("div",{className:"body-input-container"},nn.a.createElement(On["g"],{value:u,readOnly:true,"aria-label":r.get("Bookmark.CopyLink.Input.Aria")}),nn.a.createElement(On["a"],{className:"body-copy-input-button",variant:"success",onClick:d,"aria-label":r.get("Share.Aria.Link.Copy")},r.get("Bookmark.CopyLink.Button"))),nn.a.createElement("div",{className:"body-info-container"},nn.a.createElement("span",null,r.get("Bookmark.CopyLink.Description")),nn.a.createElement("span",{className:"body-info-copy-confirm-text ".concat(o?"":"no-opacity")},o?r.get("Bookmark.CopyLink.CopiedNotice"):"")),nn.a.createElement(On["a"],{className:"body-open-button",onClick:f,"aria-label":r.get("Share.Aria.Link.Open")},nn.a.createElement("div",{className:"body-open-button-content-container"},nn.a.createElement(On["f"],{name:"goto",size:"small"}),nn.a.createElement("span",{className:"body-open-button-text"},r.get("Bookmark.CopyLink.Open.Button.Text")))))};Bn.propTypes={translator:Dn.a.object.isRequired,clickedItem:Dn.a.object.isRequired};var Vn=function e(t){var n=t.translator,r=t.clickedItem;var i=Object(tn["useState"])(true),a=Pn(i,2),o=a[0],s=a[1];var l=function e(){s(false)};return nn.a.createElement(On["d"],{className:"qs-bm-copy-link-dialog",show:o,onEscape:l,"qva-outside-ignore-for":"nav-bookmark","data-keep-navigator-open":true},nn.a.createElement(On["d"].Header,null,nn.a.createElement(On["d"].Title,null,n.get("Bookmark.CopyLink.Title")),nn.a.createElement(On["f"],{className:"close-button",name:"close",size:"small",onClick:l})),nn.a.createElement(On["d"].Body,null,nn.a.createElement(Bn,{translator:n,clickedItem:r})))};Vn.propTypes={translator:Dn.a.object.isRequired,clickedItem:Dn.a.object.isRequired};var Hn=Vn;function zn(e,t){return Qn(e)||Wn(e,t)||Un(e,t)||$n()}function $n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Un(e,t){if(!e)return;if("string"===typeof e)return Gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(e,t)}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wn(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var i=false;var a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;a=e}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}return n}function Qn(e){if(Array.isArray(e))return e}var Kn=function e(t){var n=t.translator,r=t.onPublish,i=t.onPublished,a=t.useMakePublicStrings;var o=Object(tn["useState"])(true),s=zn(o,2),l=s[0],c=s[1];var u=Object(tn["useState"])(false),d=zn(u,2),f=d[0],p=d[1];var h=function e(){c(false)};var v=function e(){p(true);r().then((function(){p(false);c(false);i()})).catch((function(){c(false)}))};var m=a?"MakePublic":"Publish";return nn.a.createElement(On["d"],{className:"qs-bm-copy-link-dialog",show:l,onEscape:h,"qva-outside-ignore-for":"nav-bookmark","data-keep-navigator-open":true},nn.a.createElement(On["d"].Header,null,nn.a.createElement(On["d"].Title,null,n.get("Bookmark.CopyLink.Title")),nn.a.createElement(On["f"],{className:"close-button",name:"close",size:"small",onClick:h})),nn.a.createElement(On["d"].Body,null,n.get("Bookmark.CopyLink.".concat(m,".Notice"))),nn.a.createElement(On["d"].Footer,null,nn.a.createElement(On["a"],{variant:f?"":"success",disabled:f,onClick:v,"aria-label":n.get("Bookmark.CopyLink.".concat(m,".Aria"))},n.get(a?"ContextMenu.SharedSpace.Story.Approve":"ContextMenu.ManagedSpace.Bookmark.Publish"))))};Kn.propTypes={translator:Dn.a.object.isRequired,onPublish:Dn.a.func.isRequired,onPublished:Dn.a.func.isRequired,useMakePublicStrings:Dn.a.bool.isRequired};var Yn=Kn;var Jn=n("QsDr");function Zn(e){return"private"===e.name}function Xn(e){return"approved"===e.name}o["default"].directive("qvBookmarksSection",["$timeout",function(e){return{restrict:"E",template:an,replace:true,scope:{section:"=",expand:"=",smalldevice:"=",isNav:"=",defaultbookmark:"=",changedefaultbookmark:"=",featShare:"="},link:function t(n,r){var a;var l=false;var d="";var f=null;n.limit=100;n.expanded=false;n.showHelp=function(){if(n.featShare){var e=n.section.list;var t=0===e.length;return t&&n.section.isVisible}return false};n.showHelpText=function(){return Zn(n.section)?"Bookmarks.Sharing.Help.Private":"Bookmarks.Sharing.Help.Public"};n.showAoHelp=function(){return Zn(n.section)&&!n.isNav};n.showPublicHelpDesc=function(){return n.showHelp()&&Xn(n.section)};function p(e){if(n.expand.search||n.limit>=n.section.list.length)return;var t=e.target;if(t.scrollHeight-t.scrollTop===t.clientHeight){n.limit+=100;n.$apply()}}n.limit<=n.section.list.length&&r.closest(".bookmark-container").off("scroll.bookmarks").on("scroll.bookmarks",p);function h(){return Xt["a"].getProperties().catch((function(){throw new Error("Could not fetch app properties")}))}function v(e,t){t=t||false;return u["a"].getApp().then((function(r){if(!r.layout.permissions.update)return Jt["a"].resolve();var i;if(t&&n.defaultBookmarkId&&n.defaultBookmarkId===e){i=f;n.changedefaultbookmark(f)}else{if(t||n.defaultBookmarkId===e)return Jt["a"].resolve();i=e;n.changedefaultbookmark(e)}return Xt["a"].setProperties({defaultBookmarkId:i}).then((function(){wn["a"].trackEvent(t?wn["a"].customEvents.DEFAULT_BOOKMARK_REMOVE:wn["a"].customEvents.DEFAULT_BOOKMARK_ADD,{bookmark_id:e})})).catch((function(){m();throw new Error('Could not save new bookmark:" + defaultBookmarkId + ". Reverting...')}))}))}function m(){return h().then((function(e){n.changedefaultbookmark(e.defaultBookmarkId||f);return n.defaultBookmarkId}))}function g(){n.focusOnButton=!n.expand.edit;n.focusOnButton&&!n.expand.search&&r.find(".btn-edit")[0]&&r.find(".btn-edit")[0].focus();n.border=n.section.divider&&!n.smalldevice}function b(e){return en["a"].getBookmarkTitles(e.qInfo.qId).then((function(t){var r=Zt["a"].isNameValid(e.qData.title,t);n.nameIsInvalid=!r;return r}))}function w(e,t){if(n.expand.id!==e.qInfo.qId&&n.expand.search){n.expand.id=e.qInfo.qId;n.expand.edit=false}else if(n.expand.id===e.qInfo.qId&&n.expand.search){n.resetExpandInfoHolder();return Jt["a"].resolve()}n.expand.edit=!n.expand.edit;n.expand.name=t;n.expand.edit?n.scrollObj.scroll=n.expand.id:n.scrollObj.scroll=false;en["a"].setCreating(false);return Jt["a"].resolve()}n.scrollObj={};n.scrollObj.scrollSelector=en["a"].getScrollSelector();n.focusOnButton=true;n.keyboardSelectedSection="";n.showEditBtn=en["a"].showEditBtn;n.getMoreDetails=en["a"].getMoreDetails;n.sortFn=en["a"].sortFn;n.getCreating=en["a"].getCreating;n.isLandingPage=false;m();Object($["b"])("LANDING_PAGE")&&(n.isLandingPage=true);n.hasLayoutSaved=function(e){var t=n.getMoreDetails(e).patches.length>0?s["default"].get("Bookmarks.SavedLayout"):s["default"].get("Bookmarks.NoSavedLayout");return t};n.getSheetLocation=function(e){var t=n.getMoreDetails(e).sheetName;if(t)return t;return s["default"].get("Bookmarks.NoSheet")};n.resetExpandInfoHolder=function(){n.expand.id=0;n.expand.edit=false;n.expanded=false};n.onOutsideClick=function(t){"bookmarks.delete.confirm.button"!==t.target.id&&(n.expand.edit?e((function(){i()('[tid="exp-edit"]').click()})):e(n.resetExpandInfoHolder))};n.setDefaultBookmark=function(e){var t=e.qInfo.qId;return v(t)};n.removeDefaultBookmark=function(e){var t=e.qInfo.qId;return v(t,true)};n.applySelections=function(e,t){en["a"].applyBookmark(e,t)&&n.$emit("closeNavigator")};n.shareBookmark=en["a"].shareBookmark;n.onContextMenu=function(e,t){e.preventDefault();var r=o["default"].getService("qvContextMenu");var i=true;var a={event:e,clickedItem:t,defaultBookmarkId:n.defaultBookmarkId,smalldevice:n.smalldevice,expanded:n.expanded,featShare:n.featShare,remove:function e(){n.removeBookmark(t)},inEdit:function e(){return n.inEdit(t)},setDefaultBookmark:function e(){return n.setDefaultBookmark(t)},removeDefaultBookmark:function e(){return n.removeDefaultBookmark(t)},applySelections:function a(){if(!i){n.applySelections(t,e);r.close()}},shareBookmark:function e(t){return n.shareBookmark(t)},applyBookmark:function r(){return n.applyBookmark(t,e)},showDetails:function r(){return n.showDetails(t,e)},hideDetails:function e(){return n.hideDetails()},publishBookmark:function e(t){var r=t.item,i=t.isPublished,a=t.app;var o=c["a"].show({tid:"PublishDialog",title:i?s["default"].get("Publishing.UnpublishBookmarkTitle"):s["default"].get("Publishing.PublishBookmarkTitle"),content:i?s["default"].get("Publishing.UnpublishBookmarkText",[r.qMeta.title]):s["default"].get("Publishing.PublishBookmarkText",[r.qMeta.title,a.layout.qTitle]),action:{name:i?s["default"].get("ContextMenu.ManagedSpace.Bookmark.Unpublish"):s["default"].get("ContextMenu.ManagedSpace.Bookmark.Publish"),focus:true,tid:"Publish",callback:function e(){z["a"].add(r.qInfo.qId);n.shareBookmark({item:r,share:!i}).finally((function(){z["a"].remove(r.qInfo.qId)}));o.close()}}})},copyLink:function e(t){var n=document.querySelector("#dialogContainer");if(n){Object(rn["unmountComponentAtNode"])(n);Object(rn["render"])(nn.a.createElement(Hn,{translator:s["default"],clickedItem:t}),n);var r=document.querySelector(".lui-modal-background");if(r){r.setAttribute("qva-outside-ignore-for","nav-bookmark");r.setAttribute("data-keep-navigator-open",true)}}},publishAndCopyLink:function e(t,r){var i=this;var a=document.querySelector("#dialogContainer");if(a){var o=function e(){z["a"].add(t.qInfo.qId);return n.shareBookmark({item:t,share:true}).finally((function(){z["a"].remove(t.qInfo.qId)}))};var l=function e(){return i.copyLink(t)};Object(rn["unmountComponentAtNode"])(a);Object(rn["render"])(nn.a.createElement(Yn,{translator:s["default"],onPublish:o,onPublished:l,useMakePublicStrings:r}),a);var c=document.querySelector(".lui-modal-background");if(c){c.setAttribute("qva-outside-ignore-for","nav-bookmark");c.setAttribute("data-keep-navigator-open",true)}}}};a.closeView=r.close;r.show({items:[0]},{component:bn,params:a,position:{x:e.pageX,y:e.pageY},docking:"BottomRight"});setTimeout((function(){i=false}))};n.applyBookmark=function(e,t){var r="button, input, textarea";var a=i()(t.target).closest(r).length;if(n.inEdit(e)||a)return;yn["a"].shouldApplyDefaultBookmark=false;var o=y["a"].view!==y["a"].Views.insightAdvisor;en["a"].applyBookmark(e,t,o)&&n.$emit("closeNavigator")};n.removeBookmark=function(e){var t=c["a"].show({title:s["default"].get("Bookmarks.Delete.Title"),content:s["default"].get("Bookmarks.Delete.Item",[e.qMeta.title]),tid:"deleteConfirmationDialog",action:{name:s["default"].get("Common.Delete"),id:"bookmarks.delete.confirm.button",tid:"bookmarks.delete.confirm.button",focus:true,callback:function r(){n.removeDefaultBookmark(e).then((function(){en["a"].remove(e).then(n.resetExpandInfoHolder).then((function(){t.close()}))}))}}})};n.toggleSection=function(e,t){n.resetExpandInfoHolder();en["a"].toogleSection(e,t)};n.toggleEdit=function(e,t){if(n.expand.edit){e.qData.title=Wt["a"].ellipseText(e.qData.title,255);return b(e).then((function(n){return n?w(e,t):Jt["a"].resolve()}))}return w(e,t)};n.showDetails=function(e,t){n.expanded=true;var i=function r(){if(n.expand.search){n.resetExpandInfoHolder();n.expand.name=t}else{n.expand.id=e.qInfo.qId;n.expand.edit=false;n.expand.name=t}};if(n.expand.id===e.qInfo.qId&&!n.expand.search){n.resetExpandInfoHolder();return}n.expand.search&&(i=function r(){n.expand.name=t;n.expand.edit=false;n.getMoreDetails(e).hideDetails=!n.getMoreDetails(e).hideDetails});en["a"].setMoreDetails(e).then((function(){i();en["a"].getSetExpressionDetails(e);setTimeout((function(){r[0].getElementsByClassName("bm-m-cont")[0].focus()}))}))};n.hideDetails=function(){n.resetExpandInfoHolder()};n.inEdit=function(e){return n.expand.id===e.qInfo.qId&&n.expand.edit};n.hasFocus=function(e,t){return e.qInfo.qId===d&&n.keyboardSelectedSection===t};n.showInfoIcon=function(e){return n.expand.id===e.qInfo.qId||e.qInfo.qId===d};n.showExpandable=function(e){n.focusOnButton=!n.expand.search;return n.expand.id===e.qInfo.qId||n.expand.search&&!n.getMoreDetails(e).hideDetails};n.isItemVisible=function(e){var t;t=n.expand.search?n.getMoreDetails(e).showItem:n.section.isVisible;return t};var S;n.accCallback=function(e){n.sortedList.forEach((function(t,n){var i;if(n===e){t.tab=0;i=r[0].getElementsByClassName("bm-action");i.length&&i[e]&&i[e].focus()}else-1!==t.tab&&(t.tab=-1)}))};n.$watch("sortedList.length",(function(){if(n.section.list.length){S=n.section.name+n.section.list[0].qInfo.qType;An.deleteList(S)}n.sortedList.forEach((function(e,t){e.tab=0===t?0:-1;An.addItem(e.qInfo.qId,n.accCallback,n.section.name+e.qInfo.qType)}))}));n.$watch("defaultbookmark",(function(){n.defaultBookmarkId=n.defaultbookmark}));n.onKeyDown=function(e,t){n.nameIsInvalid=false;var a=r[0].getElementsByClassName("bm-action");var o=An.getActiveIndex(S);switch(t.which){case Sn["a"].ARROW_UP:case Sn["a"].ARROW_DOWN:n.resetExpandInfoHolder();An.key(t.which,n.section.name+n.section.list[0].qInfo.qType,true,t);break;case Sn["a"].ENTER:case Sn["a"].SPACE:if(i()(t.target).hasClass("bm-action")){n.keyboardSelectedSection="title";n.srNavigateBookmarkOptions=s["default"].get("Accessibility.ActiveBookmark.label");a[o].getElementsByClassName("bm-td-c")[0].focus()}else i()(t.target).hasClass("bm-td-c")&&n.applyBookmark(e,t);break;case Sn["a"].ARROW_LEFT:if("info"===n.keyboardSelectedSection){n.keyboardSelectedSection="title";n.srNavigateBookmarkOptions="";a[o].getElementsByClassName("bm-td-c")[0].focus()}break;case Sn["a"].ARROW_RIGHT:if("title"===n.keyboardSelectedSection){n.keyboardSelectedSection="info";a[o].getElementsByClassName("icon-touch-area")[0].focus()}break;default:break}};n.onKeyUp=function(e,t){if(t.which===Sn["a"].ESCAPE){var i=r[0].getElementsByClassName("bm-action");var a=An.getActiveIndex(S);t.stopPropagation();n.showDetails(e,n.section.name);i[a].focus()}};n.focusBookmark=function(e){d=e.qInfo.qId;n.keyboardSelectedSection="full";l||(n.srBookmarkListLabel=s["default"].get("Accessibility.BookmarkList.Label"))};n.blurBookmark=function(){l=document.activeElement.classList.contains("bm-list-item");l||(d="");n.srBookmarkListLabel=""};n.getAccessibilityLabel=function(){return"".concat(s["default"].get(n.section.translation),". ").concat(s["default"].get("Accessibility.BookmarkSection.NumberOfBookmarks",n.section.list.length))};var x=n.$watchCollection("[smalldevice, expand.edit]",g);var C=n.$watch("expand.search",(function(e){n.scrollObj.scroll=!e}));var q=n.$watch(en["a"].newBookmarkId,(function(e){n.scrollObj.scroll=e}));n.$on("$destroy",(function(){a&&a.destroy&&a.destroy();An.deleteList(S);x();C();q();n.resetExpandInfoHolder();a=null;i()(".bookmark-container").off("scroll.bookmarks")}));n.copySetExpression=function(e){var t=i()(e.target).siblings(".bm-set-expression-text");if(t.length){t=t[0];var n=document.createRange();t.contentEditable=true;t.readOnly=false;n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges();r.addRange(n);t.setSelectionRange(0,999999);t.select();document.execCommand("copy");t.contentEditable=false;t.readOnly=true;setTimeout((function(){e.target.focus()}),250)}}}}}]);function er(e){er="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return er(e)}var tr=false;var nr;var rr=true;var ir={ENTER:13};o["default"].directive("qvBookmarks",[function(){return{restrict:"E",template:Qt,replace:true,scope:{hasBookmarks:"=",smalldevice:"=",canCreate:"=",isNav:"=",isVisible:"=",setAutofocus:"=",featShare:"="},link:function e(t,n){if(t.canCreate){en["a"].setCreating(false);t.createBookmark=en["a"].createBookmark;t.disableButton=function(){return en["a"].isCreateDisabled()}}function r(e,n){t.saveValuesOnDestroy=e;en["a"].getCreating()&&en["a"].setCreating(t.expand.edit,true);if(n[0]&&n[1]){var r=function(){var e=t.bmList[n[2]].list;var r;for(var i=0;i<e.length;i++){r=e[i];if(n[1]===r.qInfo.qId)return{v:en["a"].getBookmarkTitles(r.qInfo.qId).then((function(e){if(Zt["a"].isNameValid(r.qData.title,e)){t.search.text="";return en["a"].update(r)}r.qData.title=r.qMeta.title;return}))}}}();if("object"===er(r))return r.v}return Jt["a"].resolve()}t.searchKeyDown=function(e){if(e.which===ir.ENTER&&t.expand.search&&n.find(".bm-action")[0]){e.preventDefault();n.find(".bm-action")[0].focus()}};var i=t.$watchCollection("[expand.edit, expand.id, expand.name]",r);var a=t.$watch("search.text",en["a"].doSearch);var o=t.$watchCollection("[expand.hasSearchMatch, bmList.private.show, bmList.approved.show, bmList.published.show, bmList.publishedByMe.show, isNav]",(function(){if(t.bmList&&(t.bmList.approved||t.bmList.private||t.bmList.published||t.bmList.publishedByMe)){t.showWarning=!t.expand.hasSearchMatch||!t.bmList.approved.show&&!t.bmList.private.show&&!t.bmList.published.show&&!t.bmList.publishedByMe.show&&t.isNav;t.hasBookmarks=t.bmList.approved.list.length>0||t.bmList.private.list.length>0||t.bmList.published.list.length>0||t.bmList.publishedByMe.list.length>0;rr=false;t.ftw=false}}));t.isSectionVisible=function(e){return!t.ftw&&!t.showWarning&&t.isVisible&&e};t.$on("$destroy",(function(){r([],t.saveValuesOnDestroy);tr=false;i();a();o();nr=null;en["a"].destroy()}))},controller:["$scope",function(e){e.expand=en["a"].getExpandObject();e.bmList={};e.saveValuesOnDestroy=[];e.search={text:""};e.doSetAutofocus=e.setAutofocus&&!Wt["a"].isAndroid();e.focus=ue["a"].treatAsDesktop();e.changeDefaultBookmark=function(t){e.defaultbookmark=t};Xt["a"].getProperties().then((function(t){e.defaultbookmark=t.defaultBookmarkId||null})).catch((function(){throw new Error("Could not fetch app properties")}));e.ftw=rr;e.hasBookmarks=rr;e.showWarning=false;Yt["a"].get().then((function(e){nr=e}));e.showSearch=false;Kt["a"].getList().then((function(t){e.model=t;H["a"].hasShareMode(t.app.layout).then((function(n){Object(le["a"])().then((function(r){var i=t.layoutSubscribe((function(t){tr&&nr&&nr.reset();tr=true;e.bmList=en["a"].createList(t,{user:r,isSharedMode:n});e.showSearch=e.isNav||e.bmList.approved.show||e.bmList.private.show||e.bmList.published.show||e.bmList.publishedByMe.show}));e.$on("$destroy",(function(){i.dispose()}))}))}))}))}]}}]);var ar='<div>\n\t<button class="av-nav-cont lui-fade-button"\n\t\t q-title-translation="Common.Sheets"\n\t\t data-type="sheets"\n\t\t ng-class="{ \'qui-active\': is.sheet }"\n\t\t tid="nav-sheet"\n\t\t ng-click="sheetClicked()">\n\t\t<span class="lui-icon lui-icon--sheet" aria-hidden="true"></span>\n\t\t<span class="av-nav-title">{{"Common.Sheets" | translate }}</span>\n\t</button>\n\t<button class="av-nav-cont av-nav-bm lui-fade-button"\n\t\t q-title-translation="Common.Bookmarks"\n\t\t data-type="bookmarks"\n\t\t ng-class="{ \'qui-active\':  is.bookmark }"\n\t\t tid="nav-bookmark"\n\t\t ng-click="bookmarkClicked()">\n\t\t<span class="lui-icon lui-icon--bookmark" aria-hidden="true"></span>\n\t\t<span class="av-nav-title">{{"Common.Bookmarks" | translate }}</span>\n\t</button>\n\t<button class="av-nav-cont lui-fade-button"\n\t\t q-title-translation="Common.Stories"\n\t\t data-type="stories"\n\t\t ng-class="{ \'qui-active\': is.story }"\n\t\t tid="nav-story"\n\t\t ng-click="storyClicked()">\n\t\t<span class="lui-icon lui-icon--slide-show" aria-hidden="true"></span>\n\t\t<span class="av-nav-title">{{"Common.Stories" | translate }}</span>\n\t</button>\n</div>';o["default"].directive("qvAppviewNavigation",[function(){return{restrict:"A",replace:true,template:ar,controller:["$scope",function(e){e.sheetClicked=function(){m["a"].setNavigationMode(m["a"].NavigationMode.sheet)};e.bookmarkClicked=function(){m["a"].setNavigationMode(m["a"].NavigationMode.bookmark)};e.storyClicked=function(){m["a"].setNavigationMode(m["a"].NavigationMode.story)};function t(t){e.is.sheet=t===m["a"].NavigationMode.sheet;e.is.bookmark=t===m["a"].NavigationMode.bookmark;e.is.story=t===m["a"].NavigationMode.story}m["a"].NavigationModeChanged.bind(t);e.$on("$destroy",(function(){m["a"].NavigationModeChanged.unbind(t)}))}]}}]);var or='<div>\n\t<h1 class="av-h1" ng-if="isNavigator" q-translation="{{tNavigatorHeader}}"></h1>\n\n\t<div class="buttons" ng-show="!isBookmark" tid="ao-btns" aria-hidden="true">\n\t\t<div class="av-button-div" ng-if="canCreateThisType" qva-outside-ignore-for="expandable">\n\t\t\t<lui-button ng-disabled="isAdding"\n\t\t\t\t\t\tng-click="addItem()"\n\t\t\t\t\t\ttid="tlb-add"\n\t\t\t\t\t\tq-title-translation="{{tAddNew}}"\n\t\t\t\t\t\tdata-name="addSheet"><span q-translation="{{tAddNew}}"></span></lui-button>\n\t\t</div>\n\t\t<div class="lui-buttongroup">\n\t\t\t<button class="lui-button"\n\t\t\t\t\tng-class="{\'lui-active\': isGrid }"\n\t\t\t\t\tng-click="goToGrid()"\n\t\t\t\t\tid="viewmode-grid"\n\t\t\t\t\tdata-name="grid"\n\t\t\t\t\tdata-tid="ao-viewmode-grid"\n\t\t\t\t\tq-title-translation="Tooltip.Grid"><span class="lui-icon  lui-icon--grid" aria-hidden="true"></span>\n\t\t\t</button>\n\t\t\t<button class="lui-button"\n\t\t\t\t\tng-class="{\'lui-active\': !isGrid }"\n\t\t\t\t\tng-click="goToList()"\n\t\t\t\t\tid="viewmode-list"\n\t\t\t\t\tdata-name="vertical"\n\t\t\t\t\tdata-tid="ao-viewmode-list"\n\t\t\t\t\tq-title-translation="Tooltip.List"><span class="lui-icon  lui-icon--list" aria-hidden="true"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div class="buttons" ng-if="isBookmark && canCreateBookmarks">\n\t\t<lui-button qva-outside-ignore-for="bmexpand"\n\t\t\t\t\tng-click="createBookmark()"\n\t\t\t\t\tng-disabled="disableButton()"\n\t\t\t\t\ttid="addBookmarks"><span q-translation="Bookmarks.Add"></span>\n\t\t</lui-button>\n\t</div>\n</div>\n';o["default"].directive("qvAppviewToolbar",[function(){return{restrict:"A",replace:true,template:or,scope:{canCreateThisType:"=",canCreateBookmarks:"=",tAddNew:"=",isBookmark:"=",isNavigator:"=",tNavigatorHeader:"=",isGrid:"=",addItem:"&"},controller:["$scope",function(e){function t(t){e.isAdding=t}m["a"].AddingItemChanged.bind(t);e.createBookmark=en["a"].createBookmark;e.disableButton=function(){return en["a"].isCreateDisabled()};e.goToGrid=function(){m["a"].setViewMode(m["a"].ViewMode.grid);e.isGrid=true};e.goToList=function(){Se.forceClose();m["a"].setViewMode(m["a"].ViewMode.list);e.isGrid=false};e.$on("$destroy",(function(){m["a"].AddingItemChanged.unbind(t)}))}]}}]);var sr=n("+Kna");var lr=n("rwJ+");var cr=n("CyFZ");var ur=n("HvrF");var dr=n("kS4/");var fr=n("zEO2");function pr(e){if(!i()(e.target).closest(".arrow-wrapper").length){var t=i()(e.target).offset().left+i()(e.target).width();var n=e.pageX;if(n>t-17)return true;return false}return false}function hr(e,t){var n={ignore:false,save:true};if(kt["a"].isOpened||me.isClickOnScrollbar(t)||sr["a"].isShown()||cr["a"].isOpen()){n.ignore=true;n.save=false}else(i()(e.target).closest('[qva-outside-ignore-for="expandable"]').length||i()(e.target).closest("li").hasClass("qv-add"))&&(n.ignore=true);return n}function vr(e){e.saveDataCallback&&e.currentItem.permissions.update&&e.saveDataCallback(e.currentItem,e.currentItem.qData.rank)}function mr(e,t,n){e((function(){lr["a"].scrollElmentIntoView(t,n)}),100)}o["default"].directive("qvExpandable",[function(){return{restrict:"E",replace:true,scope:{options:"="},controller:["$scope","$compile","$element","$timeout",function(e,t,n,r){e.focusEditBtn=true;for(var a in e.options)e[a]=e.options[a];e.showEdit=e.showEditBtn;function o(t){if(t){s(true);e.isEditMode=false}}n.html(e.template);t(n.contents())(e);mr(r,n.find(".qv-item-expandable"),e.scrollSelector);X["default"].ViewChanged.bind(o);function s(t){e.isEditMode&&e.thatScope.$emit("newDetails",e.currentItem,e.currentItem.qData.rank);if(t){Se.close();X["default"].ViewChanged.unbind(o)}}e.onOutsideEvent=function(t){var n=hr(t,e.scrollSelector);n.save&&vr(e);n.ignore||Se.close()};e.goToItemExpandable=function(t){e.isEditMode||t.stopPropagation();if(e.isEditMode||pr(t)||i()(t.target).is("button"))return;e.thatScope.performAction(t)};e.toggleEditMode=function(){s(false);e.isEditMode=!e.isEditMode;e.showEdit=true};e.removeItemExpandable=function(t){t.target.blur();e.thatScope.$emit("removeItem")};e.$on("$destroy",(function(){for(var t in e.options){e[t]=null;delete e[t]}X["default"].ViewChanged.unbind(o)}))}]}}]);var gr=n("O9PD");var br='<div tid="approved-section" ng-class="{\'qv-list-approved\': !showHelp() && !is.grid}">\n  \x3c!-- Header --\x3e\n  <div class="qs-tb" aria-hidden="true">\n    <button class="header" tid="ApprovedTitle" ng-click="toggleCollapse($event, \'approved\', is.sheet)"\n      aria-label="{{translations.approvedHeader}}. {{translations.numberOfItems(is.sheet ? approvedSheets.length : approvedStories.length)}}">\n      <span\n        class="{{ (is.sheet && sections.approved.sheets.expand || is.story && sections.approved.stories.expand) ? \'lui-icon lui-icon--triangle-bottom\' : \'lui-icon lui-icon--triangle-right\' }} section-c-indicator"\n        q-title-translation="{{ (is.sheet && sections.approved.sheets || is.story && sections.approved.stories.expand) ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n        aria-hidden="true"></span>\n      <span class="section-title" aria-hidden="true">{{translations.approvedHeader}}</span>\n      <span tid="nmbInSection" aria-hidden="true"> ({{getListItems()}})</span>\n    </button>\n  </div>\n\n  <div ng-if="showHelp()" class="qs-ao-help-text">\n    <h1>{{translations.sharingHelp}}</h1>\n    <span class="qs-ao-help-text-desc">{{translations.sharingHelpDesc}}</span>\n  </div>\n  \x3c!-- Sheets --\x3e\n  <ul class="qv-content-ul" qv-sortable-list="baseSheetSortableItemLists"\n    ng-if="is.sheet && sections.approved.sheets.expand && !is.smallAppView"\n    ng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="ApprovedSheets">\n\n    <ao-item\n      ng-class="{ \'last\': $last, \'can-sort\': canSort(item), \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened, \'ng-hide\': !evaluateCondition() }"\n      ng-repeat="item in approvedSheets track by item.qInfo.qId" ng-style="item.style" type="\'approved\'" />\n  </ul>\n  \x3c!-- SmallDevices --\x3e\n  <ul class="qv-content-ul" ng-if="is.sheet && sections.approved.sheets.expand && is.smallAppView" tid="ApprovedSheets">\n\n    <ao-small-item ng-class="{\'first\': $first, \'middle\': $middle ,\'last\': $last, \'qv-active-item\': isActive}"\n      ng-repeat="item in approvedSheets track by item.qInfo.qId" ></ao-small-item>\n  </ul>\n\n  \x3c!-- Stories --\x3e\n  <ul class="qv-content-ul" qv-sortable-list="baseStorySortableItemLists"\n    ng-if="is.story && sections.approved.stories.expand" ng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}"\n    tid="ApprovedStories">\n\n    <ao-item\n      ng-class="{ \'last\': $last, \'can-sort\': canSort(item), \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened }"\n      ng-repeat="item in approvedStories track by item.qInfo.qId" ng-style="item.style" type="\'approvedstory\'" ></ao-item>\n  </ul>\n</div>\n';o["default"].directive("qvAoApprovedSection",[function(){return{restrict:"E",template:br,replace:true,link:function e(t){t.getListItems=function(){var e=0;var n=0;var r=0;var i=t.is.sheet?t.approvedSheets:t.approvedStories;i.forEach((function(t){e||(e=t.addButton?1:0);n||(n=t.isPhSort?1:0);Object($["b"])("SHEET_SHOW_CONDITION")&&(!t.qData.showCondition||Wt["a"].evaluateCondition(t.qData.showCondition)||y["a"].isInEditMode()||r++)}));return i.length-n-e-r};t.showHelp=function(){var e=t.sections.approved;var n=t.is.sheet?e.sheets:e.stories;return t.features.sharing()&&0===t.getListItems()&&n.expand};t.canSort=function(){return t.features.sharing()&&t.canUpdateApp&&!t.is.smalldevice}}}}]);var yr='<div tid="private-section">\n\t\x3c!-- Header --\x3e\n\t<div class="section-line" ng-if="sections.myPrivate.showHeaderLine || features.sharing()"></div>\n\t<div class="qs-tb" aria-hidden="true">\n\t\t<button class="header" tid="PrivateTitle"\n\t\t\t\tng-click="toggleCollapse($event, \'myPrivate\', is.sheet)"\n\t\t\t\taria-label="{{translations.myWorkHeader}}. {{translations.numberOfItems(getListItems())}}">\n\t\t\t<span class="{{ (is.sheet && sections.myPrivate.sheets.expand || is.story && sections.myPrivate.stories.expand) ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon section-c-indicator"\n\t\t\t\t  q-title-translation="{{ (is.sheet && sections.myPrivate.sheets.expand || is.story && sections.myPrivate.stories.expand) ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t      aria-hidden="true"></span>\n\t\t\t<span class="section-title"\n\t\t\t\t  aria-hidden="true">{{translations.myWorkHeader}}</span>\n\t\t\t<span tid="nmbInSection" aria-hidden="true"> ({{getListItems()}})</span>\n\t\t</button>\n\t</div>\n\n\t\x3c!-- Sheets --\x3e\n\t<div ng-if="is.sheet && sections.myPrivate.sheets.expand && (exp.canCreateThisType || privateSheets.length)">\n\t\t<ul class="qv-content-ul"\n\t\t\tqv-sortable-list="sheetSortableItemLists"\n\t\t\tng-if="!is.smallAppView"\n\t\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="PrivateSheets"\n\t\t\taria-label=" ">\n\n\t\t\t<ao-item\n\t\t\t\t\tng-class="{\n\t\t\t\t\t\'last\': $last,\n\t\t\t\t\t\'can-sort\': canSort(item),\n\t\t\t\t\t\'qv-add\': item.addButton,\n\t\t\t\t\t\'ng-hide\': item.addButton && is.smalldevice || !evaluateCondition(),\n\t\t\t\t\t\'inEdit\': inEdit,\n\t\t\t\t\t\'qv-active-item\': isActive,\n\t\t\t\t\t\'qv-expandable-opened\': isExpandableOpened\n\t\t\t\t\t}"\n\t\t\t\t\tng-repeat="item in privateSheets track by item.qInfo.qId"\n\t\t\t\t\tng-style="item.style"\n\t\t\t\t\ttype="\'private\'"\n\t\t\t\t\t></ao-item>\n\t\t</ul>\n\t\t\x3c!-- SmallDevices --\x3e\n\t\t<ul class="qv-content-ul"\n\t\t\tng-if="is.smallAppView"\n\t\t\ttid="PrivateSheets">\n\t\t\t<ao-small-item\n\t\t\t\t\tng-repeat="item in privateSheets track by item.qInfo.qId"\n\t\t\t\t\tng-class="{\'first\': $first, \'middle\': $middle ,\'last\': $last, \'qv-active-item\': isActive}"\n\t\t\t\t\tng-if="!item.addButton"\n\t\t\t\t\t></ao-small-item>\n\t\t</ul>\n\t</div>\n\n\t\x3c!-- Stories --\x3e\n\t<div ng-if="is.story && sections.myPrivate.stories.expand && (exp.canCreateThisType || privateStories.length)">\n\t\t<ul class="qv-content-ul"\n\t\t\tqv-sortable-list="storySortableItemLists"\n\t\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="PrivateStories">\n\n\t\t\t<ao-item\n\t\t\t\t\tng-class="{\n\t\t\t\t\t\'last\': $last,\n\t\t\t\t\t\'can-sort\': !item.readOnly && !is.smalldevice,\n\t\t\t\t\t\'qv-add\': item.addButton,\n\t\t\t\t\t\'ng-hide\': item.addButton && is.smalldevice,\n\t\t\t\t\t\'inEdit\': inEdit,\n\t\t\t\t\t\'qv-active-item\': isActive,\n\t\t\t\t\t\'qv-expandable-opened\': isExpandableOpened\n\t\t\t\t\t}"\n\t\t\t\t\tng-repeat="item in privateStories track by item.qInfo.qId"\n\t\t\t\t\tng-style="item.style"\n\t\t\t\t\ttype="\'privatestory\'"\n\t\t\t\t\t></ao-item>\n\t\t</ul>\n\t</div>\n</div>\n';o["default"].directive("qvAoPrivateSection",[function(){return{restrict:"E",template:yr,replace:true,link:function e(t){t.getListItems=function(){var e=0;var n=0;var r=0;var i=t.is.sheet?t.privateSheets:t.privateStories;i.forEach((function(t){e||(e=t.addButton?1:0);n||(n=t.isPhSort?1:0);Object($["b"])("SHEET_SHOW_CONDITION")&&(!t.qData.showCondition||Wt["a"].evaluateCondition(t.qData.showCondition)||y["a"].isInEditMode()||r++)}));return i.length-n-e-r};t.canSort=function(e){if(t.features.sharing())return t.canUpdateApp&&!t.is.smalldevice;return!e.readOnly&&!t.is.smalldevice}}}}]);var wr='<div id="published-section">\n\t\x3c!-- Header --\x3e\n\t<div class="section-line" ng-if="sections.myPublished.showHeaderLine"></div>\n\t<div class="qs-tb" aria-hidden="true">\n\t\t<button class="header"\n\t\t\t\tng-click="toggleCollapse($event, \'myPublished\', is.sheet)"\n\t\t\t\ttid="MyPublishedTitle"\n\t\t\t\taria-label="{{translations.myPublishedHeader}}. {{translations.numberOfItems(is.sheet ? myPublishedSheets.length : myPublishedStories.length)}}">\n\t\t\t<span class="{{ (is.sheet && sections.myPublished.sheets.expand || is.story && sections.myPublished.stories.expand) ? \'lui-icon lui-icon--triangle-bottom\' : \'lui-icon lui-icon--triangle-right\' }} section-c-indicator"\n\t\t\t\t  q-title-translation="{{ (is.sheet && sections.myPublished.sheets.expand || is.story && sections.myPublished.stories.expand) ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t\t  aria-hidden="true"></span>\n\t\t\t<span class="section-title" aria-hidden="true">{{translations.myPublishedHeader}}</span>\n\t\t\t<span tid="nmbInSection" aria-hidden="true"> ({{getListItems()}})</span>\n\t\t</button>\n\t</div>\n\t\x3c!-- Sheets --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.sheet && sections.myPublished.sheets.expand && !is.smallAppView"\n\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="MyPublishedSheets">\n\t\t<ao-item ng-repeat="item in myPublishedSheets track by item.qInfo.qId"\n\t\t\t\t ng-class="{\'last\': $last, \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened, \'ng-hide\': !evaluateCondition()}"\n\t\t\t\t type="\'published\'"></ao-item>\n\t</ul>\n\t\x3c!-- SmallDevices --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.sheet && sections.myPublished.sheets.expand && is.smallAppView"\n\t\ttid="MyPublishedSheets">\n\n\t\t<ao-small-item\n\t\t\t\tng-class="{\'first\': $first, \'middle\': $middle ,\'last\': $last, \'qv-active-item\': isActive}"\n\t\t\t\tng-repeat="item in myPublishedSheets track by item.qInfo.qId"\n\t\t\t\t></ao-small-item>\n\t</ul>\n\n\t\x3c!-- Stories --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.story && sections.myPublished.stories.expand"\n\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="MyPublishedStories">\n\t\t<ao-item ng-repeat="item in myPublishedStories track by item.qInfo.qId"\n\t\t\t\t ng-class="{\'last\': $last, \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened}"\n\t\t\t\t type="\'publishedstory\'"></ao-item>\n\t</ul>\n</div>\n';o["default"].directive("qvAoMyPublishedSection",[function(){return{restrict:"E",template:wr,replace:true,link:function e(t){t.getListItems=function(){var e=0;var n=t.is.sheet?t.myPublishedSheets:t.myPublishedStories;Object($["b"])("SHEET_SHOW_CONDITION")&&n.forEach((function(t){!t.qData.showCondition||Wt["a"].evaluateCondition(t.qData.showCondition)||y["a"].isInEditMode()||e++}));return n.length-e}}}}]);var Sr='<div class="community-section" tid="community-section">\n\t\x3c!-- Header --\x3e\n\t<div class="section-line" ng-if="sections.community.showHeaderLine"></div>\n\t<div class="qs-tb" aria-hidden="true">\n\t\t<button class="header"\n\t\t\t\ttid="CommunityTitle"\n\t\t\t\tng-click="toggleCollapse($event, \'community\', is.sheet)"\n\t\t\t\taria-label="{{translations.communityHeader}}. {{translations.numberOfItems(is.sheet ? communitySheets.length : communityStories.length)}}">\n        \t<span class="{{ (is.sheet && sections.community.sheets.expand || is.story && sections.community.stories.expand) ? \'lui-icon lui-icon--triangle-bottom\' : \'lui-icon lui-icon--triangle-right\' }} section-c-indicator"\n\t\t\t\t  q-title-translation="{{ (is.sheet && sections.community.sheets.expand || is.story && sections.community.stories.expand) ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t\t  aria-hidden="true"></span>\n\t\t\t<span class="section-title" aria-hidden="true">{{translations.communityHeader}}</span>\n\t\t\t<span tid="nmbInSection" aria-hidden="true"> ({{getListItems()}})</span>\n\t\t</button>\n\n\t\t<div class="sorting-options lui-buttongroup" ng-if="is.sheet ? sections.community.sheets.expand : sections.community.stories.expand">\n\n\t\t\t<lui-button\n\t\t\t\tng-click="exp.toggleAscDesc()"\n\t\t\t\tclass="asc-desc"\n\t\t\t\ttitle="{{ ::(\'Common.SortDirection\' | translate) }}">\n\t\t\t\t<span class="lui-icon  lui-button__icon" ng-class="exp.isAscending ? \'lui-icon--ascending\' : \'lui-icon--descending\'"></span>\n\t\t\t</lui-button>\n\n\t\t\t<lui-select\n\t\t\t\t\tng-if="is.sheet"\n\t\t\t\t\tclass="sort-filter"\n\t\t\t\t\tx-model="exp.sheetsFilter"\n\t\t\t\t\tx-options="option.value as option.text | translate for option in exp.sections"\n\t\t\t\t\ttitle="{{ ::(\'Common.SortOptions\' | translate) }}"></lui-select>\n\n\t\t\t<lui-select\n\t\t\t\t\tng-if="is.story"\n\t\t\t\t\tclass="sort-filter"\n\t\t\t\t\tx-model="exp.storiesFilter"\n\t\t\t\t\tx-options="option.value as option.text | translate for option in exp.sections"\n\t\t\t\t\ttitle="{{ ::(\'Common.SortOptions\' | translate) }}"></lui-select>\n\t\t</div>\n\t</div>\n\t\x3c!-- Sheets --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.sheet && sections.community.sheets.expand && !is.smallAppView"\n\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="CommunitySheets">\n\n\t\t<ao-item\n\t\t\t\tng-repeat="item in communitySheets track by item.qInfo.qId"\n\t\t\t\tng-class="{\'last\': $last, \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened, \'ng-hide\': !evaluateCondition()}"\n\t\t\t\ttype="\'community\'"\n\t\t\t\t></ao-item>\n\t</ul>\n\t\x3c!-- SmallDevices --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.sheet && sections.community.sheets.expand && is.smallAppView"\n\t\ttid="CommunitySheets">\n\n\t\t<ao-small-item\n\t\t\t\tng-class="{\'first\': $first, \'middle\': $middle ,\'last\': $last, \'qv-active-item\': isActive}"\n\t\t\t\tng-repeat="item in communitySheets track by item.qInfo.qId"\n\t\t\t\t></ao-small-item>\n\t</ul>\n\n\t\x3c!-- Stories --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.story && sections.community.stories.expand"\n\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}">\n\n\t\t<ao-item ng-repeat="item in communityStories track by item.qInfo.qId"\n\t\t\t\t ng-class="{\'last\': $last, \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened}"\n\t\t\t\t type="\'communitystory\'"></ao-item>\n\t</ul>\n</div>\n';o["default"].directive("qvAoCommunitySection",[function(){return{restrict:"E",template:Sr,replace:true,link:function e(t){t.getListItems=function(){var e=0;var n=t.is.sheet?t.communitySheets:t.communityStories;Object($["b"])("SHEET_SHOW_CONDITION")&&n.forEach((function(t){!t.qData.showCondition||Wt["a"].evaluateCondition(t.qData.showCondition)||y["a"].isInEditMode()||e++}));return n.length-e}}}}]);var xr='<li class="qv-content-li {{blockActions()?\'blockActions\':\'\'}}"\n\tqva-outside-ignore-for="listviewedit"\n\tng-keydown="listKeyDown( $event )"\n\tdata-action="goToItem"\n\tng-attr-tabindex="{{tab}}"\n\tng-focus="onFocus()"\n\tng-blur="onBlur()">\n\t<ao-grid ng-if="is.grid && !item.addButton"></ao-grid>\n\t<ao-list ng-if="!is.grid && !item.addButton"></ao-list>\n\t<ao-add ng-if="item.addButton && exp.canCreateThisType"></ao-add>\n</li>\n';var Cr='<li class="qv-small-li" ng-show="evaluateCondition()">\n\t<div class="qv-item" ng-click="goToItem()" title="{{item.qData.labelExpression || item.qData.title}}">\n\t\t{{item.qData.labelExpression || item.qData.title || "&nbsp;"}}\n\t</div>\n</li>\n';var qr='<div class="qv-content-li-inner">\n\t<div class="item-border-wrapper">\n\t\t<div class="qv-item-border-outer" ng-if="is.story && !item.addButton"></div>\n\t\t<div class="qv-item-border-inner" ng-if="is.story && !item.addButton"></div>\n\t\t<div class="qv-content-item" ng-class="item.classList">\n\t\t\t<div qv-ao-thumb item="item"\n\t\t\t\t ng-click="performAction($event)"\n\t\t\t\t class="qv-thumb-wrap"\n\t\t\t\t islist="0"\n\t\t\t\t data-action="goToItem"\n\t\t\t\t issheet="is.sheet"\n\t\t\t\t thumblayout="item.qData.thumbnail"\n\t\t\t\t editmode="false"></div>\n\n\t\t\t<div class="qv-details-wrap"\n\t\t\t\t tabindex="-1"\n\t\t\t\t ng-click="performAction($event)"\n\t\t\t\t ng-class="{\'active\': isExpandableOpened}"\n\t\t\t\t qva-outside-ignore-for="expandable"\n\t\t\t\t data-action="{{is.smalldevice ? \'goToItem\' : \'toggleExpandable\'}}">\n\t\t\t\t <div ng-if="evaluateCondition()" class="center-crossed-eye-icon lui-button__icon  lui-icon  lui-icon--view-disabled" q-title-translation="Object.Container.FalseShowCondition"></div>\n\t\t\t\t <div class="qv-details-name">\n\t\t\t\t\t<div class="qv-text">\n\t\t\t\t\t\t<span class="q-ellipsis" id="item-title" title="{{item.qData.labelExpression || item.qData.title}}">{{item.qData.labelExpression || item.qData.title}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="qv-details-info" ng-if="!is.smalldevice" tabindex="-1">\n\t\t\t\t\t<span class="lui-icon lui-icon--info" q-title-translation="Tooltip.Details"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<qv-expandable options=item.expandableOptions ng-if="isExpandableOpened"></qv-expandable>\n</div>\n';var Er='<div class="item-border-wrapper" ng-class="item.classList">\n\t<div class="qv-content-item" ng-click="performAction($event)">\n\t\t<div qv-ao-thumb item="item"\n\t\t\t islist="1"\n\t\t\t class="qv-thumb-wrap"\n\t\t\t issheet="is.sheet"\n\t\t\t thumblayout="item.qData.thumbnail"\n\t\t\t thumbprop = "thumbProps"\n\t\t\t editmode="inEdit"></div>\n\n\t\t<div class="qv-details-wrap" ng-if="!inEdit">\n\t\t\t<div class="ao-mw">\n\t\t\t\t<div class="qv-details-name">\n\t\t\t\t\t<div class="qv-text" id="item-title" title="{{item.qData.labelExpression || item.qData.title}}" aria-hidden="true">{{item.qData.labelExpression || item.qData.title}}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div id="details-published" ng-if="item.qMeta.published" aria-hidden="true">\n\t\t\t\t\t<div class="details">\n\t\t\t\t\t\t<span q-translation="Appoverview.Published"></span>\n\t\t\t\t\t\t<drm-format-date x-date="item.qMeta.publishTime"></drm-format-date>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="details" ng-if="item.qMeta.owner && item.qMeta.owner.name">\n\t\t\t\t\t\t<span q-translation="Appoverview.PublishedBy"></span>\n\t\t\t\t\t\t<span>{{ item.qMeta.owner.name }} ({{ item.qMeta.owner.userDirectory }})</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="description" aria-hidden="true">{{item.qData.descriptionExpression || item.qData.description || "&nbsp;"}}</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="inEdit"\n\t\t\t class="qv-details-wrap edit"\n\t\t\t data-action="none"\n\t\t\t qva-outside="toggleEdit()" qva-outside-ignore-for="listviewedit">\n\t\t\t<div class="ao-mw">\n\t\t\t\t<div class="title-text" q-translation="Common.Title"></div>\n\t\t\t\t<input qv-enter="toggleEdit()"\n\t\t\t\t\t   ng-disabled="item.qMeta.sourceObject.length"\n\t\t\t\t\t   qva-select={{!item.qMeta.sourceObject.length}}\n\t\t\t\t\t   type="text" maxlength="255"\n\t\t\t\t\t   class="av-input lui-input"\n\t\t\t\t\t   ng-model="itemProps.qMetaDef.title"/>\n\n\t\t\t\t<div class="description-text" q-translation="Common.Description"></div>\n\t\t\t\t<qv-description-textarea\n\t\t\t\t\t\tdescription="itemProps.qMetaDef.description"\n\t\t\t\t\t\tdescription-expression="itemProps.descriptionExpression"\n\t\t\t\t\t\tdisable-expression="!is.sheet">\n\t\t\t\t</qv-description-textarea>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="buttons"\n\t\t\t data-action=""\n\t\t\t ng-if="item.permissions.update && !is.smalldevice"\n\t\t\t ng-click="performAction($event)"\n\t\t\t ng-class="{\'new-item\': !showEdit}"\n\t\t\t tabindex="-1">\n\n\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="exp-edit"\n\t\t\t\t\tng-if="showEdit"\n\t\t\t\t\tng-click="toggleEdit()"\n\t\t\t\t\tng-keydown="editBtnKeyDown($event)"\n\t\t\t\t\tqva-focus="focusEditBtn"\n\t\t\t\t\tq-title-translation="{{inEdit ? \'Tooltip.StopEdit\' : \'Common.Edit\'}}"\n\t\t\t\t\tdata-action="toggleEdit"\n\t\t\t\t\ttabindex="{{inEdit ? 0 : -1}}">\n\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--{{inEdit ? \'tick  lui-text-success\' : \'edit\'}}"></span>\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="exp-del"\n\t\t\t\t\tng-if="item.permissions.remove && inEdit"\n\t\t\t\t\tq-title-translation="Common.Delete"\n\t\t\t\t\tdata-action="removeItem">\n\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<label class="hidden-screen-reader-label" id="sr-details-label" aria-live="assertive"></label>\n</div>\n';var Ir='<div class="qv-expandable">\n\t<div class="arrow-wrapper" data-action="">\n\t\t<div class="arrowtip-up" qva-outside-ignore-for="expandable">\n\t\t\t<div class="inner-arrow" ></div>\n\t\t</div>\n\t</div>\n\t<div class="qv-item-expandable"\n\t\t ng-class="{\'edit-mode\': isEditMode}"\n\t\t data-name="{{currentItem.qInfo.qId}}"\n\t\t ng-attr-data-action="{{isEditMode ? \'\': \'goToItem\'}}"\n\t\t ng-click="goToItemExpandable( $event )"\n\t\t qva-outside="onOutsideEvent( $event )"\n\t\t qva-outside-ignore-for="addSheet">\n\t\t<div tid="dw" class="e-dw non-edit-mode" ng-if="!isEditMode">\n      <div class="qv-expand-title">\n        <span q-title-translation="{{ currentItem.qData.labelExpression || currentItem.qData.title }}" class="title">{{ currentItem.qData.labelExpression || currentItem.qData.title  }}</span>\n      </div>\n      <div ng-if="currentItem.qReadOnly" class="details" q-translation="App.ReadOnly"></div>\n      <div class="details" ng-if="currentItem.qMeta.published">\n        <span q-translation="Appoverview.Published"></span>\n        <drm-format-date x-date="currentItem.qMeta.publishTime"></drm-format-date>\n      </div>\n      <div class="details" ng-if="currentItem.qMeta.published && currentItem.qMeta.owner && currentItem.qMeta.owner.name">\n        <span q-translation="Appoverview.PublishedBy"></span>\n        <span>{{ currentItem.qMeta.owner.name }} ({{ currentItem.qMeta.owner.userDirectory }})</span>\n      </div>\n      <div class="description">{{ itemLayout.descriptionExpression || itemProps.qMetaDef.description }}</div>\n    </div>\n\t\t<div tid="dw" class="e-dw" ng-if="isEditMode">\n\t\t\t<div class="item-thumbnail-flex-wrapper">\n\t\t\t\t<div qv-ao-thumb\n\t\t\t\t\t item="currentItem"\n\t\t\t\t\t issheet="isSheet"\n\t\t\t\t\t thumbprop="thumbProps"\n\t\t\t\t\t thumblayout="thumbLayout"\n\t\t\t\t\t editmode="true">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="edit-details-flex-wrapper ao-mw">\n\t\t\t\t<div class="title-text" q-translation="Common.Title"></div>\n\t\t\t\t<div class="av-input-wrapper">\n\t\t\t\t\t<input qv-enter="toggleEditMode( $event )"\n\t\t\t\t\t\tng-disabled="currentItem.qMeta.sourceObject.length"\n\t\t\t\t\t\tqva-select={{!currentItem.qMeta.sourceObject.length}}\n\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\tmaxlength="255"\n\t\t\t\t\t\tclass="lui-input av-input"\n\t\t\t\t\t\tng-model="itemProps.qMetaDef.title">\n\t\t\t\t</div>\n\n\t\t\t\t<div class="description-text" q-translation="Common.Description"></div>\n\t\t\t\t<qv-description-textarea\n\t\t\t\t\t\tdescription="itemProps.qMetaDef.description"\n\t\t\t\t\t\tdescription-expression="itemProps.descriptionExpression"\n\t\t\t\t\t\tdisable-expression="!isSheet">\n\t\t\t\t</qv-description-textarea>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="currentItem.permissions.update"\n\t\t\t class="buttons"\n\t\t\t ng-class="{\'new-item\': !showEdit}">\n\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="exp-edit"\n\t\t\t\t\tqva-focus="!isEditMode && focusEditBtn"\n\t\t\t\t\tng-if="showEdit"\n\t\t\t\t\tdata-name="edit"\n\t\t\t\t\tq-title-translation="{{ isEditMode ? \'Tooltip.StopEdit\' : \'Common.Edit\' }}"\n\t\t\t\t\tng-click="toggleEditMode( $event )">\n\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--{{isEditMode ? \'tick  lui-text-success\' : \'edit\'}}"></span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="exp-del"\n\t\t\t\t\tng-if="currentItem.permissions.remove && isEditMode"\n\t\t\t\t\tdata-name="remove"\n\t\t\t\t\tq-title-translation="Common.Delete"\n\t\t\t\t\tng-click="removeItemExpandable( $event )">\n\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n';var kr=n("ZQDF");var Ar='<div class="item-border-wrapper">\n\t<div ng-click="funcs.addItem( $event )"\n\t\t tid="cont-add"\n\t\t class="qv-content-item"\n\t\t tabindex="-1">\n\t\t<div class="qv-add-cont">\n\t\t\t<div class="ao-icon">\n\t\t\t\t<span class="lui-icon  lui-icon--plus"></span>\n\t\t\t</div>\n\t\t\t<div class="ao-text-wrapper">\n\t\t\t\t<div class="ao-text" q-translation="{{ titleType }}"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n';o["default"].directive("aoAdd",[function(){return{restrict:"E",replace:true,template:Ar,link:function e(t){t.titleType=t.is.sheet?"AppOverview.Toolbar.CreateNewSheet":"AppOverview.Toolbar.CreateNewStory"}}}]);o["default"].directive("aoScroll",["$timeout",function(e){return{restrict:"A",scope:{},link:function t(n,r){var i;function a(){if(!qt.blockScrollIntoView){e.cancel(i);i=e((function(){var e=r.find(".qv-active-item");e.length&&lr["a"].scrollElmentIntoView(e,r,true)}))}}ue["a"].treatAsDesktop()&&!qt.getActive()&&n.$destroy();ue["a"].treatAsDesktop()||r.on("touchmove.stv",(function(e){wt.preventScroll()&&e.preventDefault()}));if(qt.getActive()){n.$watch(qt.getActive,(function(){n.activeId=qt.getActive();a()}));n.$watch(qt.isGrid,(function(){r[0].scrollTop=0;qt.blockScrollIntoView=null;n.isGrid=qt.isGrid();a()}));n.$on("$destroy",(function(){r.off("touchmove.stv");e.cancel(i);i=null}))}}}}]);var Tr=n("L/bb");var Dr;var Or=null;var Lr=false;var Mr="[ao-scroll]";var Pr={ENTER:13,SPACE:32};function Nr(e,t,n,r){var i=e.item.qInfo.qId;var a=n.getAllStateKeys();if("story"===e.item.qInfo.qType){var o=a[X["default"].isSmallDevice?n.States.play:n.States.editstory];t.goToStory(i,o)}else{n.view===n.Views.story&&"sheet"===n.model.layout.qInfo.qType&&n.SheetChanged.emit(n.model);var s=n.view===n.Views.overview;var l=kr["a"].getCurrentSheetViewState(s);t.goToSheet(i,l)}r&&jt["a"].close();e.$emit("closeNavigator")}function Rr(e){if("sheet"===e.qInfo.qType)return Wt["a"].evaluateCondition(e.qData.showCondition);return true}function Fr(e){if(e.is.sheet)return wt.getSheetProperties(e.item.qInfo.qId).then((function(t){e.itemProps=t;e.thumbProps=t.thumbnail}));if(e.is.story)return wt.getStoryProperties(e.item.qInfo.qId).then((function(t){e.itemProps=t;e.thumbProps=t.thumbnail}));return}function _r(e){if(e.is.sheet)return wt.getSheetLayout(e.item.qInfo.qId).then((function(t){e.itemLayout=t;e.thumbLayout=t.thumbnail}));return wt.getStoryLayout(e.item.qInfo.qId).then((function(t){e.itemLayout=t;e.thumbLayout=t.thumbnail}))}function jr(e,t){var n=t.closest("li").scope();if(e.is.sheet)return d["a"].get(e.item.qInfo.qId).then((function(t){n.modelItem=t;n.modelItem.Invalidated.bind(e.updateThumbLayout)}));return f["a"].get(e.item.qInfo.qId).then((function(t){n.modelItem=t;n.modelItem.Invalidated.bind(e.updateThumbLayout)}))}function Br(e,t,n,r){Jt["a"].all({props:Fr(e),layout:_r(e),bindItemLayout:jr(e,t)}).then((function(){e.item.expandableOptions={currentItem:e.item,scrollElem:t.closest(".av-content-container"),scrollSelector:Mr,template:Ir,thatScope:e,isEditMode:n,showEditBtn:r,itemProps:e.itemProps,thumbProps:e.thumbProps,itemLayout:e.itemLayout,thumbLayout:e.thumbLayout,isSheet:e.is.sheet,saveDataCallback:e.commitNewDetails};Se.open(e.item.qInfo.qId)}))}function Vr(e,t,n){switch(e){case"goToItem":Nr(t,_["a"],y["a"],false);break;case"toggleExpandable":Br(t,n,false,true);break;case"removeItem":t.$emit("removeItem");break;default:break}}function Hr(e){if(e.is.bookmark)return s["default"].get("Accessibility.BookmarkList.Label");if(e.is.grid)return e.is.sheet?s["default"].get("Accessibility.GridView.SheetList.Label"):e.is.story?s["default"].get("Accessibility.GridView.StoryList.Label"):"";return e.is.sheet?s["default"].get("Accessibility.ListView.SheetList.Label"):e.is.story?s["default"].get("Accessibility.ListView.StoryList.Label"):""}function zr(e,t){var n="";e.item.qMeta.published&&(n=t.find("#details-published").text());e.item.qMeta.description&&(n+="".concat(s["default"].get("Accessibility.Description.Label")," ").concat(e.item.qMeta.description));e.item.qMeta.published||e.item.qMeta.description||(n=s["default"].get("Accessibility.ListView.NoOtherDetails.Label"));return n}function $r(e){if(e.is.sheet)return s["default"].get("Accessibility.GridView.Sheet.Label",e.item.qData.labelExpression||e.item.qData.title);if(e.is.story)return s["default"].get("Accessibility.GridView.Story.Label",e.item.qData.labelExpression||e.item.qData.title);return}o["default"].directive("aoItem",["$timeout",function(e){return{restrict:"E",replace:true,template:xr,link:function t(n,r,a){n.blockActions=function(){return z["a"].inQueue(n.item.qInfo.qId)};r.attr("data-name",n.item.qInfo.qId);qt.ready=false;n.itemProps={qMetaDef:{description:"",title:""}};if(a.type&&!n.item.addButton){n.tab=0===n.$index?0:-1;n.accCallback=function(e,t){n.tab=n.$index===e?0:-1;n.$index!==e||t||r.focus()};An.addItem(n.$id,n.accCallback,a.type);!n.item.qMeta.approved&&n.item.qMeta.published&&n.$watchCollection("[exp.sheetsFilter, exp.storiesFilter, exp.isAscending]",(function(t,r){void 0!==t&&t!==r&&0===n.$index&&e((function(){An.softReset(a.type)}))}));n.item.qMeta.approved||n.item.qMeta.published||n.$watch("item.id",(function(t,n){void 0!==t&&t!==n&&e((function(){An.softReset(a.type)}))}))}function o(t,i){if(m["a"].newRank===n.item.qData.rank&&m["a"].addingItem){t?Br(n,r,true,false):qt.itemInEdit=n.item.qInfo.qId;i&&wn["a"].trackEvent(wn["a"].customEvents.SHEET_CREATED);m["a"].newRank=null;e.cancel(Dr);Dr=e((function(){m["a"].setAddingItem(false);t||lr["a"].scrollElmentIntoView(r,Mr)}),50)}}qt.setIsReady();n.performAction=function(e){e.stopPropagation();var t=lr["a"].getAction(e,null,true).action;if(!t)return;n.$broadcast("performAction",{event:e,target:i()(e.target),action:t})};n.evaluateCondition=function(){if(Object($["b"])("SHEET_SHOW_CONDITION")&&y["a"].state!==y["a"].States.edit&&n.item.qData.showCondition)return Rr(n.item);return true};n.listKeyDown=function(e){switch(e.which){case An.RIGHT_KEY:0===n.tab&&a.type&&!n.item.addButton&&An.key(e.which,a.type,!n.is.grid,e);var t=r.find("#sr-details-label");if(!n.is.grid&&(n.is.sheet||n.is.story)){t.text(zr(n,r));t.text("")}break;case An.LEFT_KEY:case An.UP_KEY:case An.DOWN_KEY:0===n.tab&&a.type&&!n.item.addButton&&An.key(e.which,a.type,!n.is.grid,e);break;case Pr.ENTER:case Pr.SPACE:i()(e.target).hasClass("qv-content-li")&&n.performAction(e);break;default:break}};n.updateThumbLayout=function(){_r(n)};n.expand=Se.getExpandObject();n.$watch("expand.id",(function(e){if(e===n.item.qInfo.qId)n.isExpandableOpened=true;else{if(n.isExpandableOpened&&n.modelItem){n.modelItem.Invalidated.unbind(n.updateThumbLayout);n.modelItem=null}n.isExpandableOpened=false}}));n.$watch(qt.getItemInEdit,(function(){n.inEdit=qt.itemInEdit===n.item.qInfo.qId;n.inEdit&&Fr(n)}));n.$watch(qt.getActive,(function(){n.isActive=qt.getActive()===n.item.qInfo.qId}));o(n.is.grid,n.is.sheet);n.$on("$destroy",(function(){a.type&&!n.item.addButton&&An.removeItem(a.type,n.$id);e.cancel(Dr);Dr=null}));n.onFocus=function(){var e;e=Lr?$r(n):"".concat(Hr(n)," ").concat($r(n));r.find("#item-title").attr("title",e)};n.onBlur=function(){Lr=document.activeElement.classList.contains("qv-content-li");r.find("#item-title").attr("title",n.item.qData.labelExpression||n.item.qData.title)}}}}]);o["default"].directive("aoGrid",[function(){return{restrict:"E",replace:true,template:qr,link:function e(t){t.$on("performAction",(function(e,n){if("toggleExpandable"===n.action&&z["a"].inQueue(t.item.qInfo.qId))return;Vr(n.action,t,n.target)}));t.evaluateCondition=function(){if(Object($["b"])("SHEET_SHOW_CONDITION")&&y["a"].state===y["a"].States.edit)return!Rr(t.item);return false}}}}]);o["default"].directive("aoList",["$timeout",function(e){return{restrict:"E",replace:true,template:Er,link:function t(n,r){if(n.item.isPhSort)return;n.showEdit=!m["a"].addingItem;n.$on("performAction",(function(e,t){t.target.is("button")&&t.target.blur();if(n.inEdit&&"removeItem"!==t.action)return;if(n.inEdit&&"removeItem"===t.action){t.event.stopPropagation();t.event.preventDefault()}n.inEdit&&(qt.itemInRemove=n.item.qInfo.qId);Vr(t.action,n,t.target,t.event)}));n.toggleEdit=function(){n.focusEditBtn=false;var t=me.isClickOnScrollbar(Mr);if(sr["a"].isShown()&&n.inEdit||cr["a"].isOpen()&&n.inEdit||t)return;!n.inEdit&&ue["a"].treatAsDesktop()||e((function(){n.focusEditBtn=true}),100);if(n.inEdit){qt.itemInEdit=null;return}qt.itemInEdit=n.item.qInfo.qId;Or=setTimeout((function(){lr["a"].scrollElmentIntoView(r,Mr)}))};n.editBtnKeyDown=function(e){e.which!==Pr.ENTER&&e.which!==Pr.SPACE||n.toggleEdit()};function i(e){var t=qt.getItemInEdit()===n.item.qInfo.qId;var i=qt.itemInRemove===n.item.qInfo.qId;r.find("textarea").blur();n.showEdit=!(m["a"].addingItem&&t);i?qt.itemInRemove=null:!t&&!e||n.hideEdit||n.commitNewDetails(n.item)}n.$watch("inEdit",(function(e,t){t&&i(true)}));n.$watch((function(){return qt.isOpeningContext()}),(function(e){n.inEdit&&e&&n.toggleEdit()}));n.$on("$destroy",(function(){qt.getItemInEdit()&&i(true);clearTimeout(Or);Or=null}))}}}]);o["default"].directive("aoSmallItem",[function(){return{restrict:"E",replace:true,template:Cr,scope:true,link:function e(t,n){n.attr("data-name",t.item.qInfo.qId);qt.ready=false;t.goToItem=function(){Nr(t,_["a"],y["a"],true)};t.evaluateCondition=function(){if(Object($["b"])("SHEET_SHOW_CONDITION")&&y["a"].state!==y["a"].States.edit&&t.item.qData.showCondition)return Rr(t.item);return true};t.$watch(qt.getActive,(function(){t.isActive=qt.getActive()===t.item.qInfo.qId}));qt.setIsReady()}}}]);var Ur={evaluateShowCondition:Rr};var Gr=n("IVN8");function Wr(e){return Zr(e)||Jr(e)||Kr(e)||Qr()}function Qr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kr(e,t){if(!e)return;if("string"===typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Zr(e){if(Array.isArray(e))return e}function Xr(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function ei(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xr(a,r,i,o,s,"next",e)}function s(e){Xr(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ti=function e(){};function ni(e,t){var n=false;if("undefined"!==typeof e.showNavigation){t.shownav=e.showNavigation;n=true}if("undefined"!==typeof e.canCreateBookmark){t.exp.canCreateBookmark=e.canCreateBookmark;n=true}if("undefined"!==typeof e.isOpenedByClick){t.exp.isOpenedByClick=e.isOpenedByClick;n=true}if("undefined"!==typeof e.isNavigator){t.is.navigator=e.isNavigator;t.is.navigator&&(t.showAppDetails=false);n=true}if("undefined"!==typeof e.navigationmode){t.navigationmode=e.navigationmode;n=true}if("undefined"!==typeof e.smallAppView){t.is.smallAppView=e.smallAppView;n=true}n&&o["default"].$apply(t)}function ri(e,t,n,r,i){var a=e.is.sheet?d["a"]:f["a"];var o=e.is.sheet?"AppOverView.Confirm.Description.Sheet":"AppOverView.Confirm.Description.Story";var l=c["a"].show({tid:"DeleteSheetStory",title:e.is.sheet?s["default"].get("AppOverView.Confirm.Title.Sheet"):s["default"].get("AppOverView.Confirm.Title.Story"),content:s["default"].get(o,[r]),action:{name:s["default"].get("Common.Delete"),focus:true,tid:"DeleteSheetStory",callback:function n(){a.remove(t);l.close();l=null;i.close();e.$root.$emit("clearUndo")}}})}function ii(e,t){return{value:e,text:t}}var ai={models:null,AppOverviewState:m["a"],commonFunctions:H["a"],aoItems:wt,template:l};ai.controller=["$scope","$element","$rootScope",function(e,t,n){var r=this;var l=ti;var p=ti;var h=ti;var v=ti;e.sections=w["a"].sections;e.isTouchDevice=!ue["a"].treatAsDesktop();ai.AppOverviewState.setAddingItem(false);me.setup(e.navigationmode,t,".av-content-container > div > div");u["a"].getApp().then((function(t){t.getLayout().then((function(t){e.canUpdateApp=t.permissions.update;e.appPublishes=t.published;H["a"].hasShareMode(t).then((function(t){e.shareMode=t}))})).catch((function(){}))}));e.toggleCollapse=w["a"].toggleCollapse;e.sortFilter=function(){if(e.is.sheet){if(e.communitySheets&&e.exp.sheetsFilter===ai.commonFunctions.SortFilterOptions.alphabetical){e.exp.sheetsFilter=ai.commonFunctions.SortFilterOptions.alphabetical;ai.commonFunctions.sortSheetsAlphabetically(e.communitySheets,!e.exp.isAscending)}else if(e.communitySheets&&e.exp.sheetsFilter===ai.commonFunctions.SortFilterOptions.publishedDate){e.exp.sheetsFilter=ai.commonFunctions.SortFilterOptions.publishedDate;ai.commonFunctions.sortByPublishedDate(e.communitySheets,"publishTime",!e.exp.isAscending)}}else if(e.is.story)if(e.communityStories&&e.exp.storiesFilter===ai.commonFunctions.SortFilterOptions.alphabetical){e.exp.storiesFilter=ai.commonFunctions.SortFilterOptions.alphabetical;ai.commonFunctions.sortAlphabetically(e.communityStories,"title",!e.exp.isAscending)}else if(e.communityStories&&e.exp.storiesFilter===ai.commonFunctions.SortFilterOptions.publishedDate){e.exp.storiesFilter=ai.commonFunctions.SortFilterOptions.publishedDate;ai.commonFunctions.sortByPublishedDate(e.communityStories,"publishTime",!e.exp.isAscending)}};e.sortMyPublished=function(e){ai.commonFunctions.sortByPublishedDate(e,"publishTime",false)};e.$watch("exp.sheetsFilter",(function(t){if(null!==t&&e.communitySheets){e.sortFilter();xt["a"].Sheets.update()}}));e.$watch("exp.storiesFilter",(function(t){null!==t&&e.communityStories&&e.sortFilter()}));y["a"].model&&y["a"].model.getLayout().then((function(e){qt.activeId=e.qInfo.qId;y["a"].inStorytelling()||(qt.lastActiveId=e.qInfo.qId)}));qt.activeId=null;ai.commonFunctions.setDefaultScopeVar(e,ai.AppOverviewState);ae.setup({scope:e});e.exp.sections.push(ii(0,"Common.SortByAlphabetical"));e.exp.sections.push(ii(1,"Common.SortByPublishedDate"));e.exp.sheetsFilter=ai.commonFunctions.SortFilterOptions.publishedDate;e.exp.storiesFilter=ai.commonFunctions.SortFilterOptions.publishedDate;e.exp.toggleAscDesc=function(){e.is.sheet?e.communitySheets.reverse():e.is.story&&e.communityStories.reverse();e.exp.isAscending=!e.exp.isAscending;xt["a"].Sheets.update()};function m(){e.is.navigator||o["default"].$apply(e)}function g(t){e.$broadcast("addingItemChanged",t);t&&e.is.grid&&e.currentItem&&e.commitNewDetails(e.currentItem)}function b(){ai.AppOverviewState.setAddingItem(false);ai.AppOverviewState.setDuplicatingItem(false);Se.close();e.is.grid=ai.AppOverviewState.viewMode===ai.AppOverviewState.ViewMode.grid;me.removeUlHeights();m()}function S(t){e.navigationmode=t;m()}ai.AppOverviewState.AddingItemChanged.bind(g);ai.AppOverviewState.ViewModeChanged.bind(b);ai.AppOverviewState.NavigationModeChanged.bind(S);e.$watch("navigationmode",(function(t){ai.commonFunctions.setNewScopeValOnNavigationChange(e,ai,t);ai.commonFunctions.setNewAppOverViewMode(e,ai,ai.commonFunctions.hasToGet);u["a"].getApp().then((function(t){t.getLayout().then((function(t){var n="create".concat(e.navigationmode[0].toUpperCase()).concat(e.navigationmode.substring(1));e.is.appReadOnly=t.qReadOnly;e.exp.canCreateThisType=!!t.permissions[n]}))}));e.$broadcast("navigationmodeChanged",t);Se.close()}));e.funcs.addItem=function(t){if(ai.AppOverviewState.addingItem)return;w["a"].setSectionVisible("myPrivate",e.is.sheet);ai.AppOverviewState.setAddingItem(true);var r=e.is.sheet?e.privateSheets[e.privateSheets.length-2]:e.privateStories[e.privateStories.length-2];var i=r?r.qData.rank+1:0;ai.AppOverviewState.newRank=i;e.is.sheet?V["a"].addSheet(i).then((function(){n.$emit("clearUndo")})):e.is.story&&V["a"].addStory(i).then((function(){n.$emit("clearUndo")}));t&&t.preventDefault()};e.commitNewSharedItemDetails=function(e){return u["a"].getApp().then((function(t){return t.setAppObjectSortingRank(e.id,e.rank).catch((function(e){var t=c["a"].show({noDefaultButton:true,tid:"ao-sort-denied",title:s["default"].get("ErrorDialog.Title"),content:s["default"].get("ErrorCode.".concat(e.code)),action:{name:s["default"].get("Common.Close"),focus:true,tid:"ao-sort-denied-close",callback:function e(){t.close();t=null}}})}))}))};e.commitNewDetails=function(t,n){var r={sheet:e.is.sheet,story:e.is.story,bookmark:e.isBookmark};return ai.aoItems.setNewDetails(e,t,n,r)};e.onContextMenu=function(){var t=ei(regeneratorRuntime.mark((function t(n){var r,a,o,s,l,c,p,h;return regeneratorRuntime.wrap((function t(v){while(1)switch(v.prev=v.next){case 0:if(!e.is.smalldevice){v.next=2;break}return v.abrupt("return");case 2:r=i()(n.target).is('[tid="PrivateSheets"]');if(!(r&&!Object($["b"])("COPY_SHEET"))){v.next=5;break}return v.abrupt("return");case 5:a=i()(n.target).is("li")?null:i()(n.target).closest("li:not('.qv-add')");if(!(r||a&&a.length>0)){v.next=15;break}v.next=9;return u["a"].getApp();case 9:l=v.sent;qt.setIsContextOpen(true);c={};if(!r){p=i()(n.target).closest("li").scope();c=p.item||p.currentItem}h=r||qt.getActive()===(null===(o=c)||void 0===o||null===(s=o.qInfo)||void 0===s?void 0:s.qId);Z.show({event:n,clickedItem:c,targetIsSheetContainer:r,model:e.is.sheet?d["a"]:f["a"],AppOverviewState:ai.AppOverviewState,closeNavigator:function t(){e.$emit("closeNavigator")},currentApp:l,expandable:Se,isActive:h,lock:function e(){c.menuLock=true},unlock:function e(){c.menuLock=void 0}});case 15:a=null;case 16:case"end":return v.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.$on("app-overview-keyboard-shortcut-add-item",e.funcs.addItem);a["a"].subscribe("/ao/create-item.appoverview",e.funcs.addItem);h=e.$root.$on("ao-publish",(function(t,n){var r=n.model;var a=n.canModify;var o=e.is.sheet?e.approvedSheets:e.approvedStories;var s=o[o.length-1];var l={};var c;e.$root.$emit("clearUndo");if(a&&s&&r.layout.qInfo.qId!==s.qInfo.qId){l.rank=s.qData.rank+1;r.getProperties().then((function(e){c=i.a.extend(true,e,l);r.setProperties(c)}))}}));p=e.$root.$on("unpublished",function(){var t=ei(regeneratorRuntime.mark((function t(n,r){var i,a,o,s,l;var c,u,d,f,p,h,v,m,g,b;return regeneratorRuntime.wrap((function t(n){while(1)switch(n.prev=n.next){case 0:c=e.is.sheet?e.privateSheets:e.privateStories,u=Wr(c),d=u.slice(0);f=d.pop();f.addButton&&(f=d.pop());p=null===(i=d.pop())||void 0===i||null===(a=i.qData)||void 0===a?void 0:a.rank;n.next=6;return r.getLayout();case 6:h=n.sent;v=null===(o=h.permissions)||void 0===o?void 0:o.update;e.$root.$emit("clearUndo");m=h.qInfo.qId===(null===(s=f)||void 0===s||null===(l=s.qInfo)||void 0===l?void 0:l.qId);g=p===h.rank;b=v&&f&&(!m||g);b&&ai.commonFunctions.moveItemToLast(r,f);case 13:case"end":return n.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());e.showAppDetails=St["a"].isVisible();l=e.$root.$on("showAppDetails",(function(t,n){e.showAppDetails=n}));e.$on("removeItem",(function(t){var n=t.targetScope.item;var r=n.qInfo.qId;var i=n.qMeta?n.qMeta.sourceObject:"";var a=n.qData.labelExpression||n.qData.title;ri(e,r,i,a,Se)}));e.$on("aoRemoveItemBroadcast",(function(t,n){var r=n.qInfo.qId;var i=n.qMeta?n.qMeta.sourceObject:"";var a=n.qData.labelExpression||n.qData.title;ri(e,r,i,a,Se)}));e.$on("newDetails",(function(t,n,r){e.commitNewDetails(n,r)}));r.showInternalComponents=function(t,n){ni(t,n||e)};t.addClass("qv-appview");v=e.$watchCollection("[is.grid, is.story, is.sheet, is.smalldevice, exp.canCreateThisType, privateSheets, communitySheets, myPublishedSheets, privateStories, communityStories, myPublishedStories]",(function(){e.sections.myPrivate.show=e.is.sheet?e.privateSheets.length&&!e.privateSheets[0].addButton:e.privateStories.length&&!e.privateStories[0].addButton;e.exp.readonly=false;if(e.is.smalldevice||e.is.appReadOnly||!e.exp.canCreateThisType)e.exp.readonly=true;else{var t=e.is.sheet?e.privateSheets.length:e.privateStories.length;t&&(e.sections.myPrivate.show=1===t?e.is.sheet?e.privateSheets.length&&e.privateSheets[0].addButton:e.privateStories.length&&e.privateStories[0].addButton:e.is.sheet?e.privateSheets.length&&e.privateSheets[t-1].addButton:e.privateStories.length&&e.privateStories[t-1].addButton)}e.sections.approved.show=!!(e.is.sheet?e.approvedSheets.length:e.approvedStories.length);e.sections.myPublished.show=!!(e.is.sheet?e.myPublishedSheets.length:e.myPublishedStories.length);e.sections.community.show=!!(e.is.sheet?e.communitySheets.length:e.communityStories.length);e.sections.community.showHeaderLine=e.sections.approved.show&&e.sections.myPrivate.show;e.sections.myPublished.showHeaderLine=e.sections.approved.show&&e.sections.myPublished.show;e.sections.myPrivate.showHeaderLine=e.sections.approved.show||e.sections.myPublished.show;e.is.bookmark||(e.sections.showError=!(e.sections.approved.show||e.sections.myPublished.show||e.sections.myPrivate.show||e.sections.community.show));if(!e.is.bookmark&&e.sections.showError){e.translations.emptySectionMessage=e.is.sheet?"AppOverview.Error.NoSheets":"AppOverview.Error.NoStories";e.sections.showErrorHint=false}else e.is.bookmark&&e.is.navigator&&(e.sections.showError=false)}));var x=e.$watchCollection("[exp.hasBookmarks, is.bookmark, is.smalldevice]",(function(t){if(e.is.bookmark&&!e.is.navigator){e.sections.showError=!t[0];e.sections.showErrorHint=e.sections.showError&&e.exp.canCreateThisType;e.translations.emptySectionMessage="Bookmarks.NoBookmarks";e.translations.emptySectionHintMessage="Bookmarks.NoBookmarks.Hint"}}));r.destroy=function(){a["a"].unsubscribe(".appoverview");t.removeClass("qv-appview");v();x();l();h();p();ae.destroy();ai.AppOverviewState.AddingItemChanged.unbind(g);ai.AppOverviewState.ViewModeChanged.unbind(b);ai.AppOverviewState.NavigationModeChanged.unbind(S);ai.aoItems.destroy(e.navigationmode);me.destroy(e.navigationmode);e.destroyComponent();e.$destroy();qt.destroy();t.empty()}}];var oi=t["a"]=ai},xN6f:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("mWu2");var o=document.createElement("textarea");o.style.position="absolute";o.style.left="-9999px";o.setAttribute("readonly","");var s=a["default"].getService("$window");function l(e){o.value=e;document.body.appendChild(o);o.select();o.setSelectionRange(0,o.value.length);document.execCommand("copy");document.body.removeChild(o)}var c=i.a.element(s.document.body);var u=i.a.element("<textarea/>");u.css({position:"fixed",opacity:"0"});var d=function e(t){u.val(t);c.append(u);u[0].select();try{var n=document.execCommand("copy");if(!n)throw n}catch(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",t)}u.remove()};a["default"].directive("qvClickCopy",(function(){return{restrict:"A",link:function e(t,n,r){n.bind("click",(function(){d(r.qvClickCopy)}))}}}));t["a"]={copyToClipboard:l}},xVO4:function(e,t,n){"use strict";true;e.exports=n("9K2m")},xWKo:function(e,t,n){"use strict";var r=n("mWu2");var i=n("sWge");var a=n("6uJb");t["a"]={show:function e(t){var n=new i["a"];r["default"].getService("qvConfirmDialog").show({title:t.header?a["default"].get(t.header):null,message:a["default"].get(t.text),icon:void 0!==t.icon?t.icon:"cogwheel",okLabel:t.confirm?a["default"].get(t.confirm):null}).closed.then((function(e){e?n.resolve():n.reject()}));return n.promise}}},xiWV:function(e,t,n){"use strict";var r=n("7bN7");var i=n("4nJ1");var a=n("Gpt9");var o=n("sWge");var s=n("zkWp");var l=n("D4qE");var c=n("mWu2");var u=n("6uJb");var d=n("MGTR");var f=n("sCDE");var p=n("cWJj");var h=n("z4LI");var v=n("3ex9");var m=n("T8oO");var g=n("acVu");var b=null;var y=null;var w={getDynamicViewsPromise:{},dynamicViewSessionObjects:{},loadingGeneratedAppsForId:{},getTempAppPromises:{},dynamicViewsSelectionState:{},dynamicViewsRequests:{}};w.REQUEST_STATE={SUCCEEDED:"succeeded",FAILED:"failed",VALIDATING:"validating",QUEUED:"queued",LOADING:"loading",CANCELING:"canceling",CANCELED:"canceled"};w.POLLING_STATES=[w.REQUEST_STATE.VALIDATING,w.REQUEST_STATE.QUEUED,w.REQUEST_STATE.LOADING];w.VIEW_STATE={READY:"ready",ERROR:"error",STALE:"stale",LOADING:"loading",VIOLATION:"violation",REFRESH:"refresh",REFRESHING:"refreshing",CANCELED:"canceled",DELETE:"delete",CANCELING:"canceling",UNAVAILABLE:"unavailable"};w.initialized=false;w.getDynamicViews=function(e,t){t=void 0!==t&&t;var n=this;this.getDynamicViewsPromise[e.id]&&!t||(this.getDynamicViewsPromise[e.id]=a["a"].getList(e).then((function(t){return t.getLayout().then((function(t){return n.onDynamicViewsLoaded(e,t)}))})));return this.getDynamicViewsPromise[e.id]};w.updateDynamicViewState=function(e){var t=this;if(w.initialized){var n=t.dynamicViewsSelectionState;return C(0,n,e)}return};w.publishStateChange=x;function S(e){return e&&e.inViolation||e&&e.properties&&e.properties.data&&e.properties.data.inViolation}function x(e,t,n,r){d["a"].publish("/dynamicView/state/change",{viewId:e,view:n,state:S(n)?w.VIEW_STATE.VIOLATION:t,data:r})}function C(e,t,n){var r=Object.keys(t);return E(n,t[r[e]]).then((function(){e+=1;if(e<r.length)return C(e,t,n);return true}))}function q(e,t){var n=t.view;return k(e,n).then((function(e){var r=false;var a=t.selectionState.bindingValuesArray.map((function(e){var t=e.values.map((function(e){return e.strValue}));return{field:e.selectionAppParamName,values:t}}));var s=e.bindingValuesArray.map((function(e){var t=e.values.map((function(e){return e.strValue}));return{field:e.selectionAppParamName,values:t}}));a.forEach((function(e){var t=e.field;var n=s.filter((function(e){return e.field===t}));if(n.length){var a=i["a"].isEqual(n[0].values.sort(),e.values.sort());a||(r=true)}else r=true}));x(n.id,r?w.VIEW_STATE.STALE:w.VIEW_STATE.READY,n);t.stale=r;return o["a"].resolve(null)}))}function E(e,t){var n=t.view;var r=l["a"];r.maxRowExpression.MaxRowCountExpression.qValueExpression.qExpr=n.rowEstExpr;return e.enigmaModel.createSessionObject(r.maxRowExpression).then((function(r){return r.getLayout().then((function(r){var i=r.MaxRowCountExpression;var a=n.properties.rowEstRange[0].highBound;return w.getFieldBindings(e,n).then((function(r){if(w.isFieldConstraintViolated(r)||a>0&&i>a){n.inViolation=true;x(n.id,w.VIEW_STATE.VIOLATION,n);return o["a"].resolve(null)}n.inViolation=false;return q(e,t)}))}))}))}w.getViewSelectionState=function(e,t){var n=w.dynamicViewsSelectionState[t];if(n)return n.selectionState.selectedValuesArray.map((function(e){var t=e.values.map((function(e){return e.strValue}));return{field:e.selectionAppParamName,values:t}}));return[]};w.onDynamicViewsLoaded=function(e,t){var n=t.map((function(e){return e.qData.odagLinkRef}));return w.loadDynamicViews(e,n)};w.loadDynamicViews=function(e,t){return I(e).getDynamicViewsWithIds(e.id,t)};w.canCreateDynamicView=function(e){return I(e).canCreateLink(e.id)};w.loadDynamicView=function(e,t){if(!w.initialized){y=c["default"].$rootScope.$new(true);e.enigmaModel.getCurrentSelectionObject().then((function(t){y.currentSelModel=t;Object(f["a"])(y,"currentSelModel",(function(){w.updateDynamicViewState(e);w.initialized=true}))}))}if(h["a"].isInAnalysisMode()&&!w.initialized)return w.getDynamicViews(e,true).then((function(){return I(e).getDynamicView(t)}));return I(e).getDynamicView(t)};w.isDynamicViewAvailable=function(e){var t=Object(g["b"])("IS_DESKTOPCLIENT");if(Object(g["b"])("ODAG_CLIENT_SAAS")&&!Object(g["b"])("ODAG_SAAS_ENABLED"))return Promise.resolve(false);if(t)return Promise.resolve(false);return I(e).isDynamicViewAvailable().then((function(e){return e})).catch((function(){return false}))};w.createDynamicView=function(e,t){var n=i["a"].extend({},t);n.selectionApp=e.id;return I(e).createDynamicView(n).then((function(t){var n={qMetaDef:{odagLinkRef:Object(g["b"])("ODAG_SAAS_ENABLED")?t.id:t.objectDef.id}};return a["a"].create(e,n)}))};w.deleteDynamicView=function(e,t,n){var r=i["a"].extend({},n);Object(g["b"])("ODAG_SAAS_ENABLED")&&(r.data.selectionApp=e.id);return I(e).deleteDynamicView(t,r).then((function(){return a["a"].getList(e).then((function(n){return n.getLayout().then((function(n){var r=null;for(var i=0;i<n.length&&!r;i++){var s=n[i];s.qData.odagLinkRef===t&&(r=s.qInfo.qId)}if(r){var l=e.layout.privileges.some((function(e){return"delete"===e||"update"===e}))?a["a"].remove(e,r):o["a"].resolve(true);l.then((function(){o["a"].resolve(true)}))}}))}))}))};w.updateDynamicView=function(e,t,n){var r=i["a"].extend({},n);r.selectionApp=e.id;return I(e).updateDynamicView(t,r).then((function(t){return a["a"].getList(e).then((function(n){return n.getLayout().then((function(n){var r=null;for(var i=0;i<n.length;i++){var o=n[i];var s=t.id;if(o.qData.odagLinkRef===s){r=o.qInfo.qId;break}}if(r)return a["a"].get(e,r).then((function(e){return e.getProperties().then((function(t){t.qMetaDef.timestamp=Date.now();return e.setProperties(t)}))}));return}))}))}))};function I(e){if(b)return b;var t="";var n="";var i="";var a=false;if(e&&e.enigmaModel&&e.enigmaModel.session){var o=e.enigmaModel.session.sessionConfig?e.enigmaModel.session.sessionConfig:null;if(o){t=o.prefix?o.prefix:"/";n=o.host?o.host:null;i=o.port?o.port:null;a=!!(o.isSecure||o.secure)}}b=new r["a"](n,i,t,a);return b}w.getTemplateApps=function(e){var t=e.get();if(Object(g["b"])("ODAG_SAAS_ENABLED"))return b.getTemplateApps().then((function(e){return t.then((function(t){var n=e.data.filter((function(e){return e.id.toLowerCase()!==t.id.toLowerCase()}));var r=n.map((function(e){return{qDocId:e.id,qDocName:e.name}}));return v["a"].localeOrderBy(r,(function(e){return e.qDocName}))}))}));return t.then((function(t){return e.getList(t.session).then((function(e){var n=e.filter((function(e){return e.qDocId.toLowerCase()!==t.id.toLowerCase()}));return v["a"].localeOrderBy(n,(function(e){return e.qDocName}))}))}))};w.getOrCreateSessionObjects=function(e,t){var n=this;l["a"].maxRowExpression.MaxRowCountExpression.qValueExpression.qExpr=t.rowEstExpr;return e.enigmaModel.createSessionObject(l["a"].maxRowExpression).then((function(r){n.dynamicViewSessionObjects[e.id]||(n.dynamicViewSessionObjects[e.id]={});n.dynamicViewSessionObjects[e.id][t.id]=r;return r}))};w.getTempApp=function(e,t){var n=this;if(!n.getTempAppPromises[t.id]){var r;n.getTempAppPromises[t.id]=w.getOrCreateSessionObjects(e,t).then((function(i){return i.getLayout().then((function(i){r=i.MaxRowCountExpression;var a=t.properties.rowEstRange[0].highBound;return w.getFieldBindings(e,t).then((function(i){return k(e,t).then((function(s){if(s){n.dynamicViewsSelectionState[t.id]={view:t,selectionState:s,stale:false};if(w.isFieldConstraintViolated(i)||a>0&&r>a)return o["a"].reject(w.VIEW_STATE.VIOLATION);return I(e).generateTempApp(t.id,e.id,r,s.bindingValuesArray,s.selectedValuesArray).then((function(n){w.dynamicViewsRequests[t.id]=n.id;return w.getGeneratedAppId(e,n.id,t.id,false).then((function(e){if(e.state===w.REQUEST_STATE.SUCCEEDED){x(t.id,w.VIEW_STATE.READY,t);return{appId:e.generatedApp.id,refreshDate:new Date(e.loadState.finishedAt)}}if(e.state===w.REQUEST_STATE.CANCELED||e.state===w.REQUEST_STATE.CANCELING){x(t.id,w.VIEW_STATE.CANCELED,t);return{appId:null,refreshDate:new Date(e.loadState.finishedAt)}}throw new Error(e.errorMessage)}))}))}return o["a"].resolve(null)}))}))}))}))}return n.getTempAppPromises[t.id].then((function(e){n.getTempAppPromises[t.id]=null;n.dynamicViewsRequests[t.id]=null;return e})).catch((function(e){n.getTempAppPromises[t.id]=null;n.dynamicViewsRequests[t.id]=null;var r=e.response&&e.response.obj&&e.response.obj.message?e.response.obj.message:e;throw new Error(r)}))};w.getGeneratedAppId=function(e,t,n,r,i,a){if(!r){i=Date.now();w.loadingGeneratedAppsForId[n]=i}a||(a=0);if(w.loadingGeneratedAppsForId[n]&&i>=w.loadingGeneratedAppsForId[n])return I(e).getRequestStatus(t).then((function(r){if(w.POLLING_STATES.indexOf(r.state)>-1){x(n,w.VIEW_STATE.REFRESHING);var s=c["default"].getService("$timeout");return s((function(){return w.getGeneratedAppId(e,t,n,true,i,a+1)}),0===a?2e3:500)}delete w.loadingGeneratedAppsForId[n];return o["a"].resolve(r)}));return o["a"].resolve()};function k(e,t){var n={bindingValuesArray:[],selectedValuesArray:[]};if(!t)return o["a"].resolve(null);var r=t.bindings?t.bindings.filter((function(e){return"BDI"!==e.selectAppParamType})):[];var i=t.bindings?t.bindings.filter((function(e){return"BDI"===e.selectAppParamType})):[];return s["a"].getBDIBindingValues(e,i).then((function(t){n.bindingValuesArray=t.bindingValuesArray||[];return s["a"].getCurrentlySelectedFields(e).then((function(t){return s["a"].getAllFieldBindingValues(e,r,t).then((function(i){for(var a=0;a<r.length;a++){var o=i[a];var l=-1;for(var c=0;c<t.length;c++)if(t[c]&&t[c].fieldName===r[a].selectAppParamName){l=c;break}if(l>=0){var u={selectionAppParamType:"Field",selectionAppParamName:r[a].selectAppParamName,values:o.selectedFieldValues.length<10001?o.selectedFieldValues:[],selectedSize:o.selectedFieldValues.length};n.selectedValuesArray.push(u);t.splice(l,1)}var d={selectionAppParamType:"Field",selectionAppParamName:r[a].selectAppParamName,values:o.fieldValues};n.bindingValuesArray.push(d)}var f=[];for(var p=0;p<t.length;p++)f.push({selectAppParamName:t[p].fieldName,selectionStates:"S"});return s["a"].getAllFieldBindingValues(e,f,t).then((function(e){for(var r=0;r<t.length;r++){var i=e[r];var a={selectionAppParamType:"Field",selectionAppParamName:t[r].fieldName,values:i.fieldValues.length<10001?i.fieldValues:[],selectedSize:i.fieldValues.length};n.selectedValuesArray.push(a)}return n}))}))}))}))}function A(e){var t=u["default"].get("Common.None");e.range&&(e.range.lowerBound&&e.range.lowerBound===e.range.upperBound?t=e.range.lowerBound:void 0===e.range.lowerBound||e.range.upperBound?void 0===e.range.upperBound||e.range.lowerBound?void 0!==e.range.lowerBound&&void 0!==e.range.upperBound&&(t="[".concat(e.range.lowerBound," - ").concat(e.range.upperBound,"]")):t="<=".concat(e.range.upperBound):t=">=".concat(e.range.lowerBound));return t}function T(e,t){var n=true;e.range&&(e.range.lowerBound&&e.range.lowerBound===e.range.upperBound?n=e.range.lowerBound===t.length:void 0===e.range.lowerBound||e.range.upperBound?void 0===e.range.upperBound||e.range.lowerBound?void 0!==e.range.lowerBound&&void 0!==e.range.upperBound&&(n=t.length>=e.range.lowerBound&&t.length<=e.range.upperBound):n=t.length<=e.range.upperBound:n=t.length>=e.range.lowerBound);return n}w.getFieldBindings=function(e,t){var n=[];return s["a"].getConstraintFieldBindingValues(e,t.bindings).then((function(e){for(var r=0;r<t.bindings.length;r++){var i=e[r];var a={fieldName:t.bindings[r].selectAppParamName,values:i.fieldValues,hasConstraint:!i.noConstraint,constraint:A(t.bindings[r]),bindingPassesConstraint:T(t.bindings[r],i.fieldValues)};n.push(a)}return n}))};w.getConstraints=function(e,t){var n;return w.getOrCreateSessionObjects(e,t).then((function(r){return r.getLayout().then((function(r){n=r.MaxRowCountExpression;var i=t.properties.rowEstRange[0].highBound;return w.getFieldBindings(e,t).then((function(e){return{fieldBindings:e,maxRowExpressionCount:i,actualRowEst:n}}))}))}))};w.isFieldConstraintViolated=function(e){return e.filter((function(e){return false===e.bindingPassesConstraint})).length>0};w.clearSelections=function(e){return p["a"].get(e).then((function(e){return e.clearAll()}))};w.applySelections=function(e,t){var n=w.dynamicViewsSelectionState[t].selectionState.selectedValuesArray;return w.clearSelections(e).then((function(){var t=[];for(var r=0;r<n.length;r++){var i=n[r].selectionAppParamName;var a=n[r].values;t.push(s["a"].selectFieldValuesForField(e,i,a))}return o["a"].all(t)}))};w.isViewStale=function(e){return w.dynamicViewsSelectionState[e].stale};w.cancelRefresh=function(e,t){var n=w.dynamicViewsRequests[t];return I(e).requestAction(n,"cancel",true,false)};t["a"]=w},xlAv:function(e,t,n){"use strict";var r=n("q6LT");var i=n("sWge");var a=n("avVS");var o=n("XP0P");var s=n("2Hli");function l(e,t,n,r){if(!e)return;t.snapshotData.object.origDataPages||(t.snapshotData.object.origDataPages=t.qHyperCube[r]);for(var i=0;i<n.length;i++){n[i].qHeight=Math.min(t.qHyperCube.qSize.qcy,n[i].qHeight);n[i].qTop=t.snapshotData.object.origDataPages[i].qArea.qTop}t.qHyperCube[r]=e.get(n)}function c(e){if("pivot-table"===e.visualization){this.responseProperty="qPivotDataPages";this.slicer=new o["a"]}else{if("table"!==e.visualization)return;this.slicer=new a["a"]}var t=e.snapshotData.object.origDataPages;t||(t=e.qHyperCube[this.responseProperty]);this.slicer.store(t.filter((function(e){return e})))}var u=r["a"].extend("SnapshotAPI",{init:function e(t){this.responseProperty="qDataPages";c.call(this,t.layout);this._super(t,t.layout.qListObject?"/qListObjectDef":"/qHyperCubeDef")},getData:function e(t){var n=Object(i["a"])();if("map"===this.model.layout.visualization){var r=this.dataPath.split("/")[1];var a=this.dataPath.split("/");var o=a[a.length-1];"polygon"===this.model.layout.layers[r].type&&"3"===this.model.layout.layers[r].version?n.resolve(this.model.layout.layers[r].geodata.qHyperCube[this.responseProperty]):n.resolve(this.model.layout.layers[r][o][this.responseProperty])}else{l(this.slicer,this.model.layout,t,this.responseProperty);var c=s["a"].getValue(this.model.layout,"".concat(this.dataPath,"/").concat(this.responseProperty).replace(new RegExp("/","g"),"."));n.resolve(c)}return n.promise},getHyperCubeBinnedData:function e(){return i["a"].resolve(this.model.layout.dataPages)},getHyperCubeContinousData:function e(){return i["a"].resolve({qDataPages:this.model.layout.qHyperCube.qDataPages,qAxisData:this.model.layout.qHyperCube.qAxisData})},getSize:function e(){return s["a"].getValue(this.model.layout,this.dataPath.replace(new RegExp("/","g"),".")).qSize},beginSelections:function e(){},endSelections:function e(){},clearSelections:function e(){},isSnapshot:true});t["a"]=u},xskF:function(e){e.exports=JSON.parse('{"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}')},xw0d:function(e,t,n){"use strict";var r=n("sWge");var i=n("cLto");function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&u(e,t)}function u(e,t){u=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return u(e,t)}function d(e){var t=h();return function n(){var r=v(e),i;if(t){var a=v(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return f(this,i)}}function f(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var m=function(e){c(n,e);var t=d(n);function n(e){var r;o(this,n);r=t.call(this);r.list=[];r.scrollApi=e;return r}l(n,[{key:"getRowCount",value:function e(){return this.scrollApi.items?this.scrollApi.items.length:0}},{key:"getFirstElementIndex",value:function e(){return this.list.indexOf(this.scrollApi.items[0])}},{key:"getLastElementIndex",value:function e(){var t,n;return this.list.indexOf(null===(t=this.scrollApi.items)||void 0===t?void 0:t[(null===(n=this.scrollApi.items)||void 0===n?void 0:n.length)-1])}},{key:"getItems",value:function e(t,n){return this.list.slice(Math.max(0,t),t+n)}},{key:"setItems",value:function e(t,n){this.scrollApi.items=this.getItems(t,n)}},{key:"setList",value:function e(t,n){this.list=t;this.scrollApi.setTotalRows(this.list.length);var r=this.getRowCount();var i=n&&r>0?this.getFirstElementIndex():0;if(this.scrollApi.virtualScrollEnabled){this.setItems(i,this.scrollApi.settings.viewportRowCount);this.scrollApi.setVirtualSize(n)}else if(n){r=Math.min(t.length-i,Math.max(this.getRowCount(),this.scrollApi.settings.blockSize));this.setItems(i,r);this.scrollApi.updateLoadingButtons()}else{this.setItems(i,this.scrollApi.settings.viewportRowCount+1);this.scrollApi.resetNativeScroll()()}}},{key:"resize",value:function e(){this.scrollApi.updateViewport();var t=this.getRowCount();var n=t>0?this.getFirstElementIndex():0;0!==n&&n+this.scrollApi.settings.viewportRowCount>t&&(n=Math.max(0,t-this.scrollApi.settings.viewportRowCount));if(this.scrollApi.virtualScrollEnabled){this.setItems(n,this.scrollApi.settings.viewportRowCount);return this.scrollApi.setVirtualSize(true)}if(0===n&&t<this.scrollApi.settings.blockSize){this.setItems(n,this.scrollApi.settings.viewportRowCount+1);this.scrollApi.resetNativeScroll()();return r["a"].resolve()}return r["a"].resolve()}},{key:"onVirtualScroll",value:function e(t,n){this.setItems(t,n);return r["a"].resolve()}},{key:"onInitialNativeScroll",value:function e(t,n){this.setItems(0,t+n);return r["a"].resolve()}},{key:"onGotoNextBlock",value:function e(t,n){var i=this.scrollApi.settings.keepItemsCount+this.scrollApi.settings.viewportRowCount;this.setItems(t-i,n+i);return r["a"].resolve()}},{key:"onGotoPreviousBlock",value:function e(t,n){var i=this.scrollApi.settings.keepItemsCount+this.scrollApi.settings.viewportRowCount;this.setItems(t,n+i);return r["a"].resolve()}}]);return n}(i["a"]);t["a"]=m},xy4o:function(e,t,n){"use strict";var r=n("BFYT");var i=n("4nJ1");var a=n("acVu");function o(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),true).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function p(e,t,n){t&&f(e.prototype,t);n&&f(e,n);return e}var h=function(){function e(){d(this,e);this.dps=new r["a"];this.businessModel=Object(a["b"])("BUSINESS_MODEL");this.isBusinessModelApplied=false}p(e,[{key:"setDisabledFields",value:function e(t){var n,r;this.searchDisabledFields=c(c({},null===t||void 0===t||null===(n=t.entities)||void 0===n?void 0:n.reduce((function(e,t){var n;return c(c({},e),null===t||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.reduce((function(e,t){return false===(null===t||void 0===t?void 0:t.searchValues)?c(c({},e),{},u({},t.fieldRef||t.libItemRef,true)):e}),{}))}),{})),null===t||void 0===t||null===(r=t.factGroups)||void 0===r?void 0:r.reduce((function(e,t){var n;return c(c({},e),null===t||void 0===t||null===(n=t.facts)||void 0===n?void 0:n.reduce((function(e,t){return false===(null===t||void 0===t?void 0:t.searchValues)?c(c({},e),{},u({},t.fieldRef||t.libItemRef,true)):e}),{}))}),{}))}},{key:"getBusinessModelPresentation",value:function(){var e=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(!this.businessModel){n.next=5;break}n.next=3;return this.dps.getBusinessViewPresentation();case 3:t=n.sent;return n.abrupt("return",t);case 5:return n.abrupt("return",void 0);case 6:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBusinessModel",value:function(){var e=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!this.businessModel){r.next=6;break}r.next=3;return this.dps.getBusinessView();case 3:n=r.sent;this.setDisabledFields(null===n||void 0===n||null===(t=n.obj)||void 0===t?void 0:t.response);return r.abrupt("return",n);case 6:return r.abrupt("return",void 0);case 7:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"validateBusinessModel",value:function(){var e=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!(this.businessModel&&!i["a"].getParameterByName("first-time"))){r.next=13;break}r.next=3;return this.getBusinessModel();case 3:t=r.sent;if(t){r.next=7;break}this.isBusinessModelApplied=false;return r.abrupt("return",void 0);case 7:if(!(0===Object.entries(t.obj.response).length)){r.next=10;break}this.isBusinessModelApplied=false;return r.abrupt("return",void 0);case 10:this.isBusinessModelApplied=true;n=t.obj.response.validation;return r.abrupt("return",n);case 13:return r.abrupt("return",void 0);case 14:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"filterFields",value:function(){var e=s(regeneratorRuntime.mark((function e(t){var n,r,a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:l.prev=0;if(i["a"].getParameterByName("first-time")){l.next=7;break}l.next=4;return this.getBusinessModelPresentation();case 4:n=l.sent;if(n){l.next=7;break}return l.abrupt("return",t);case 7:for(r=t.length-1;r>=0;r--){a=t[r];a.masterItem?n.libItems&&((null===(o=n.libItems[a.libId])||void 0===o?void 0:o.visible)||t.splice(r,1)):n.fields&&((null===(s=n.fields[a.qName])||void 0===s?void 0:s.visible)||t.splice(r,1))}return l.abrupt("return",t);case 11:l.prev=11;l.t0=l["catch"](0);console.warn("Business model unavailable: ".concat(l.t0));return l.abrupt("return",t);case 15:case"end":return l.stop()}}),e,this,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isFieldDisabled",value:function e(t){var n,r;return null!==(n=null===this||void 0===this||null===(r=this.searchDisabledFields)||void 0===r?void 0:r[t])&&void 0!==n&&n}}]);return e}();t["a"]=new h},y37j:function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator;var r=function(){var e=["Edge","Trident","Firefox"];for(var t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function i(e){var t=false;return function(){if(t)return;t=true;window.Promise.resolve().then((function(){t=false;e()}))}}function a(e){var t=false;return function(){if(!t){t=true;setTimeout((function(){t=false;e()}),r)}}}var o=n&&window.Promise;var s=o?i:a;function l(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function c(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView;var r=n.getComputedStyle(e,null);return t?r[t]:r}function u(e){if("HTML"===e.nodeName)return e;return e.parentNode||e.host}function d(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=c(e),n=t.overflow,r=t.overflowX,i=t.overflowY;if(/(auto|scroll|overlay)/.test(n+i+r))return e;return d(u(e))}function f(e){return e&&e.referenceNode?e.referenceNode:e}var p=n&&!!(window.MSInputMethodContext&&document.documentMode);var h=n&&/MSIE 10/.test(navigator.userAgent);function v(e){if(11===e)return p;if(10===e)return h;return p||h}function m(e){if(!e)return document.documentElement;var t=v(10)?document.body:null;var n=e.offsetParent||null;while(n===t&&e.nextElementSibling)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;if(!r||"BODY"===r||"HTML"===r)return e?e.ownerDocument.documentElement:document.documentElement;if(-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===c(n,"position"))return m(n);return n}function g(e){var t=e.nodeName;if("BODY"===t)return false;return"HTML"===t||m(e.firstElementChild)===e}function b(e){if(null!==e.parentNode)return b(e.parentNode);return e}function y(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING;var r=n?e:t;var i=n?t:e;var a=document.createRange();a.setStart(r,0);a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i)){if(g(o))return o;return m(o)}var s=b(e);return s.host?y(s.host,t):y(e,b(t).host)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";var n="top"===t?"scrollTop":"scrollLeft";var r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement;var a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=w(t,"top");var i=w(t,"left");var a=n?-1:1;e.top+=r*a;e.bottom+=r*a;e.left+=i*a;e.right+=i*a;return e}function x(e,t){var n="x"===t?"Left":"Top";var r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function C(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],v(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function q(e){var t=e.body;var n=e.documentElement;var r=v(10)&&getComputedStyle(n);return{height:C("Height",t,n,r),width:C("Width",t,n,r)}}var E=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var k=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e};var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function T(e){return A({},e,{right:e.left+e.width,bottom:e.top+e.height})}function D(e){var t={};try{if(v(10)){t=e.getBoundingClientRect();var n=w(e,"top");var r=w(e,"left");t.top+=n;t.left+=r;t.bottom+=n;t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top};var a="HTML"===e.nodeName?q(e.ownerDocument):{};var o=a.width||e.clientWidth||i.width;var s=a.height||e.clientHeight||i.height;var l=e.offsetWidth-o;var u=e.offsetHeight-s;if(l||u){var d=c(e);l-=x(d,"x");u-=x(d,"y");i.width-=l;i.height-=u}return T(i)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=v(10);var i="HTML"===t.nodeName;var a=D(e);var o=D(t);var s=d(e);var l=c(t);var u=parseFloat(l.borderTopWidth);var f=parseFloat(l.borderLeftWidth);if(n&&i){o.top=Math.max(o.top,0);o.left=Math.max(o.left,0)}var p=T({top:a.top-o.top-u,left:a.left-o.left-f,width:a.width,height:a.height});p.marginTop=0;p.marginLeft=0;if(!r&&i){var h=parseFloat(l.marginTop);var m=parseFloat(l.marginLeft);p.top-=u-h;p.bottom-=u-h;p.left-=f-m;p.right-=f-m;p.marginTop=h;p.marginLeft=m}(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=S(p,t));return p}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=e.ownerDocument.documentElement;var r=O(e,n);var i=Math.max(n.clientWidth,window.innerWidth||0);var a=Math.max(n.clientHeight,window.innerHeight||0);var o=t?0:w(n);var s=t?0:w(n,"left");var l={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return T(l)}function M(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return false;if("fixed"===c(e,"position"))return true;var n=u(e);if(!n)return false;return M(n)}function P(e){if(!e||!e.parentElement||v())return document.documentElement;var t=e.parentElement;while(t&&"none"===c(t,"transform"))t=t.parentElement;return t||document.documentElement}function N(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var a={top:0,left:0};var o=i?P(e):y(e,f(t));if("viewport"===r)a=L(o,i);else{var s=void 0;if("scrollParent"===r){s=d(u(t));"BODY"===s.nodeName&&(s=e.ownerDocument.documentElement)}else s="window"===r?e.ownerDocument.documentElement:r;var l=O(s,o,i);if("HTML"!==s.nodeName||M(o))a=l;else{var c=q(e.ownerDocument),p=c.height,h=c.width;a.top+=l.top-l.marginTop;a.bottom=p+l.top;a.left+=l.left-l.marginLeft;a.right=h+l.left}}n=n||0;var v="number"===typeof n;a.left+=v?n:n.left||0;a.top+=v?n:n.top||0;a.right-=v?n:n.right||0;a.bottom-=v?n:n.bottom||0;return a}function R(e){var t=e.width,n=e.height;return t*n}function F(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=N(n,r,a,i);var s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}};var l=Object.keys(s).map((function(e){return A({key:e},s[e],{area:R(s[e])})})).sort((function(e,t){return t.area-e.area}));var c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}));var u=c.length>0?c[0].key:l[0].key;var d=e.split("-")[1];return u+(d?"-"+d:"")}function _(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;var i=r?P(t):y(t,f(n));return O(n,i,r)}function j(e){var t=e.ownerDocument.defaultView;var n=t.getComputedStyle(e);var r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0);var i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0);var a={width:e.offsetWidth+i,height:e.offsetHeight+r};return a}function B(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function V(e,t,n){n=n.split("-")[0];var r=j(e);var i={width:r.width,height:r.height};var a=-1!==["right","left"].indexOf(n);var o=a?"top":"left";var s=a?"left":"top";var l=a?"height":"width";var c=a?"width":"height";i[o]=t[o]+t[l]/2-r[l]/2;i[s]=n===s?t[s]-r[c]:t[B(s)];return i}function H(e,t){if(Array.prototype.find)return e.find(t);return e.filter(t)[0]}function z(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=H(e,(function(e){return e[t]===n}));return e.indexOf(r)}function $(e,t,n){var r=void 0===n?e:e.slice(0,z(e,"name",n));r.forEach((function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e["function"]||e.fn;if(e.enabled&&l(n)){t.offsets.popper=T(t.offsets.popper);t.offsets.reference=T(t.offsets.reference);t=n(t,e)}}));return t}function U(){if(this.state.isDestroyed)return;var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:false,offsets:{}};e.offsets.reference=_(this.state,this.popper,this.reference,this.options.positionFixed);e.placement=F(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);e.originalPlacement=e.placement;e.positionFixed=this.options.positionFixed;e.offsets.popper=V(this.popper,e.offsets.reference,e.placement);e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";e=$(this.modifiers,e);if(this.state.isCreated)this.options.onUpdate(e);else{this.state.isCreated=true;this.options.onCreate(e)}}function G(e,t){return e.some((function(e){var n=e.name,r=e.enabled;return r&&n===t}))}function W(e){var t=[false,"ms","Webkit","Moz","O"];var n=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0;r<t.length;r++){var i=t[r];var a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function Q(){this.state.isDestroyed=true;if(G(this.modifiers,"applyStyle")){this.popper.removeAttribute("x-placement");this.popper.style.position="";this.popper.style.top="";this.popper.style.left="";this.popper.style.right="";this.popper.style.bottom="";this.popper.style.willChange="";this.popper.style[W("transform")]=""}this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}function K(e){var t=e.ownerDocument;return t?t.defaultView:window}function Y(e,t,n,r){var i="BODY"===e.nodeName;var a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:true});i||Y(d(a.parentNode),t,n,r);r.push(a)}function J(e,t,n,r){n.updateBound=r;K(e).addEventListener("resize",n.updateBound,{passive:true});var i=d(e);Y(i,"scroll",n.updateBound,n.scrollParents);n.scrollElement=i;n.eventsEnabled=true;return n}function Z(){this.state.eventsEnabled||(this.state=J(this.reference,this.options,this.state,this.scheduleUpdate))}function X(e,t){K(e).removeEventListener("resize",t.updateBound);t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)}));t.updateBound=null;t.scrollParents=[];t.scrollElement=null;t.eventsEnabled=false;return t}function ee(){if(this.state.eventsEnabled){cancelAnimationFrame(this.scheduleUpdate);this.state=X(this.reference,this.state)}}function te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ne(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&te(t[n])&&(r="px");e.style[n]=t[n]+r}))}function re(e,t){Object.keys(t).forEach((function(n){var r=t[n];false!==r?e.setAttribute(n,t[n]):e.removeAttribute(n)}))}function ie(e){ne(e.instance.popper,e.styles);re(e.instance.popper,e.attributes);e.arrowElement&&Object.keys(e.arrowStyles).length&&ne(e.arrowElement,e.arrowStyles);return e}function ae(e,t,n,r,i){var a=_(i,t,e,n.positionFixed);var o=F(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);t.setAttribute("x-placement",o);ne(t,{position:n.positionFixed?"fixed":"absolute"});return n}function oe(e,t){var n=e.offsets,r=n.popper,i=n.reference;var a=Math.round,o=Math.floor;var s=function e(t){return t};var l=a(i.width);var c=a(r.width);var u=-1!==["left","right"].indexOf(e.placement);var d=-1!==e.placement.indexOf("-");var f=l%2===c%2;var p=l%2===1&&c%2===1;var h=t?u||d||f?a:o:s;var v=t?a:s;return{left:h(p&&!d&&t?r.left-1:r.left),top:v(r.top),bottom:v(r.bottom),right:h(r.right)}}var se=n&&/Firefox/i.test(navigator.userAgent);function le(e,t){var n=t.x,r=t.y;var i=e.offsets.popper;var a=H(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration;var s=m(e.instance.popper);var l=D(s);var c={position:i.position};var u=oe(e,window.devicePixelRatio<2||!se);var d="bottom"===n?"top":"bottom";var f="right"===r?"left":"right";var p=W("transform");var h=void 0,v=void 0;v="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top;h="right"===f?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left;if(o&&p){c[p]="translate3d("+h+"px, "+v+"px, 0)";c[d]=0;c[f]=0;c.willChange="transform"}else{var g="bottom"===d?-1:1;var b="right"===f?-1:1;c[d]=v*g;c[f]=h*b;c.willChange=d+", "+f}var y={"x-placement":e.placement};e.attributes=A({},y,e.attributes);e.styles=A({},c,e.styles);e.arrowStyles=A({},e.offsets.arrow,e.arrowStyles);return e}function ce(e,t,n){var r=H(e,(function(e){var n=e.name;return n===t}));var i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`";var o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}function ue(e,t){var n;if(!ce(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){r=e.instance.popper.querySelector(r);if(!r)return e}else if(!e.instance.popper.contains(r)){console.warn("WARNING: `arrow.element` must be child of its popper element!");return e}var i=e.placement.split("-")[0];var a=e.offsets,o=a.popper,s=a.reference;var l=-1!==["left","right"].indexOf(i);var u=l?"height":"width";var d=l?"Top":"Left";var f=d.toLowerCase();var p=l?"left":"top";var h=l?"bottom":"right";var v=j(r)[u];s[h]-v<o[f]&&(e.offsets.popper[f]-=o[f]-(s[h]-v));s[f]+v>o[h]&&(e.offsets.popper[f]+=s[f]+v-o[h]);e.offsets.popper=T(e.offsets.popper);var m=s[f]+s[u]/2-v/2;var g=c(e.instance.popper);var b=parseFloat(g["margin"+d]);var y=parseFloat(g["border"+d+"Width"]);var w=m-e.offsets.popper[f]-b-y;w=Math.max(Math.min(o[u]-v,w),0);e.arrowElement=r;e.offsets.arrow=(n={},k(n,f,Math.round(w)),k(n,p,""),n);return e}function de(e){if("end"===e)return"start";if("start"===e)return"end";return e}var fe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];var pe=fe.slice(3);function he(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=pe.indexOf(e);var r=pe.slice(n+1).concat(pe.slice(0,n));return t?r.reverse():r}var ve={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function me(e,t){if(G(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=N(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed);var r=e.placement.split("-")[0];var i=B(r);var a=e.placement.split("-")[1]||"";var o=[];switch(t.behavior){case ve.FLIP:o=[r,i];break;case ve.CLOCKWISE:o=he(r);break;case ve.COUNTERCLOCKWISE:o=he(r,true);break;default:o=t.behavior}o.forEach((function(s,l){if(r!==s||o.length===l+1)return e;r=e.placement.split("-")[0];i=B(r);var c=e.offsets.popper;var u=e.offsets.reference;var d=Math.floor;var f="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom);var p=d(c.left)<d(n.left);var h=d(c.right)>d(n.right);var v=d(c.top)<d(n.top);var m=d(c.bottom)>d(n.bottom);var g="left"===r&&p||"right"===r&&h||"top"===r&&v||"bottom"===r&&m;var b=-1!==["top","bottom"].indexOf(r);var y=!!t.flipVariations&&(b&&"start"===a&&p||b&&"end"===a&&h||!b&&"start"===a&&v||!b&&"end"===a&&m);var w=!!t.flipVariationsByContent&&(b&&"start"===a&&h||b&&"end"===a&&p||!b&&"start"===a&&m||!b&&"end"===a&&v);var S=y||w;if(f||g||S){e.flipped=true;(f||g)&&(r=o[l+1]);S&&(a=de(a));e.placement=r+(a?"-"+a:"");e.offsets.popper=A({},e.offsets.popper,V(e.instance.popper,e.offsets.reference,e.placement));e=$(e.instance.modifiers,e,"flip")}}));return e}function ge(e){var t=e.offsets,n=t.popper,r=t.reference;var i=e.placement.split("-")[0];var a=Math.floor;var o=-1!==["top","bottom"].indexOf(i);var s=o?"right":"bottom";var l=o?"left":"top";var c=o?"width":"height";n[s]<a(r[l])&&(e.offsets.popper[l]=a(r[l])-n[c]);n[l]>a(r[s])&&(e.offsets.popper[l]=a(r[s]));return e}function be(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var a=+i[1];var o=i[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}var l=T(s);return l[t]/100*a}if("vh"===o||"vw"===o){var c=void 0;c="vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0);return c/100*a}return a}function ye(e,t,n,r){var i=[0,0];var a=-1!==["right","left"].indexOf(r);var o=e.split(/(\+|\-)/).map((function(e){return e.trim()}));var s=o.indexOf(H(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/;var c=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];c=c.map((function(e,r){var i=(1===r?!a:a)?"height":"width";var o=false;return e.reduce((function(e,t){if(""===e[e.length-1]&&-1!==["+","-"].indexOf(t)){e[e.length-1]=t;o=true;return e}if(o){e[e.length-1]+=t;o=false;return e}return e.concat(t)}),[]).map((function(e){return be(e,i,t,n)}))}));c.forEach((function(e,t){e.forEach((function(n,r){te(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))}));return i}function we(e,t){var n=t.offset;var r=e.placement,i=e.offsets,a=i.popper,o=i.reference;var s=r.split("-")[0];var l=void 0;l=te(+n)?[+n,0]:ye(n,a,o,s);if("left"===s){a.top+=l[0];a.left-=l[1]}else if("right"===s){a.top+=l[0];a.left+=l[1]}else if("top"===s){a.left+=l[0];a.top-=l[1]}else if("bottom"===s){a.left+=l[0];a.top+=l[1]}e.popper=a;return e}function Se(e,t){var n=t.boundariesElement||m(e.instance.popper);e.instance.reference===n&&(n=m(n));var r=W("transform");var i=e.instance.popper.style;var a=i.top,o=i.left,s=i[r];i.top="";i.left="";i[r]="";var l=N(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a;i.left=o;i[r]=s;t.boundaries=l;var c=t.priority;var u=e.offsets.popper;var d={primary:function e(n){var r=u[n];u[n]<l[n]&&!t.escapeWithReference&&(r=Math.max(u[n],l[n]));return k({},n,r)},secondary:function e(n){var r="right"===n?"left":"top";var i=u[r];u[n]>l[n]&&!t.escapeWithReference&&(i=Math.min(u[r],l[n]-("right"===n?u.width:u.height)));return k({},r,i)}};c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=A({},u,d[t](e))}));e.offsets.popper=u;return e}function xe(e){var t=e.placement;var n=t.split("-")[0];var r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper;var s=-1!==["bottom","top"].indexOf(n);var l=s?"left":"top";var c=s?"width":"height";var u={start:k({},l,a[l]),end:k({},l,a[l]+a[c]-o[c])};e.offsets.popper=A({},o,u[r])}return e}function Ce(e){if(!ce(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference;var n=H(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(true===e.hide)return e;e.hide=true;e.attributes["x-out-of-boundaries"]=""}else{if(false===e.hide)return e;e.hide=false;e.attributes["x-out-of-boundaries"]=false}return e}function qe(e){var t=e.placement;var n=t.split("-")[0];var r=e.offsets,i=r.popper,a=r.reference;var o=-1!==["left","right"].indexOf(n);var s=-1===["top","left"].indexOf(n);i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0);e.placement=B(t);e.offsets.popper=T(i);return e}var Ee={shift:{order:100,enabled:true,fn:xe},offset:{order:200,enabled:true,fn:we,offset:0},preventOverflow:{order:300,enabled:true,fn:Se,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:true,fn:ge},arrow:{order:500,enabled:true,fn:ue,element:"[x-arrow]"},flip:{order:600,enabled:true,fn:me,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:false,flipVariationsByContent:false},inner:{order:700,enabled:false,fn:qe},hide:{order:800,enabled:true,fn:Ce},computeStyle:{order:850,enabled:true,fn:le,gpuAcceleration:true,x:"bottom",y:"right"},applyStyle:{order:900,enabled:true,fn:ie,onLoad:ae,gpuAcceleration:void 0}};var Ie={placement:"bottom",positionFixed:false,eventsEnabled:true,removeOnDestroy:false,onCreate:function e(){},onUpdate:function e(){},modifiers:Ee};var ke=function(){function e(t,n){var r=this;var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,e);this.scheduleUpdate=function(){return requestAnimationFrame(r.update)};this.update=s(this.update.bind(this));this.options=A({},e.Defaults,i);this.state={isDestroyed:false,isCreated:false,scrollParents:[]};this.reference=t&&t.jquery?t[0]:t;this.popper=n&&n.jquery?n[0]:n;this.options.modifiers={};Object.keys(A({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=A({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}));this.modifiers=Object.keys(this.options.modifiers).map((function(e){return A({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order}));this.modifiers.forEach((function(e){e.enabled&&l(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}));this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners();this.state.eventsEnabled=a}I(e,[{key:"update",value:function e(){return U.call(this)}},{key:"destroy",value:function e(){return Q.call(this)}},{key:"enableEventListeners",value:function e(){return Z.call(this)}},{key:"disableEventListeners",value:function e(){return ee.call(this)}}]);return e}();ke.Utils=("undefined"!==typeof window?window:e).PopperUtils;ke.placements=fe;ke.Defaults=Ie;t["a"]=ke}).call(this,n("pCvA"))},yB4Y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.GetFields=function(){return[e.QueryField.name,e.QueryExpressionField.name,e.QueryTransformField.name]},e}();r.QueryStatus={delete:"Delete",update:"Update",add:"Add",inSynchWithMaster:""},r.tags={hidden:"$hidden"},r.QueryField={name:"QueryField"},r.Query={name:"Query",prefix:"query"},r.ConcatenationQuery={name:"ConcatenationQuery",prefix:"concatquery"},r.ForcedConcatenationQuery={name:"ForcedConcatenationQuery"},r.JoinedQuery={name:"JoinedQuery"},r.CompositeQueryField={name:"CompositeQueryField"},r.CrossTableQuery={name:"CrossTableQuery"},r.DataSourceDescriptor={name:"DataSourceDescriptor",prefix:"dsd"},r.QueryExpressionField={name:"QueryExpressionField"},r.QueryTransformField={name:"QueryTransformField"},r.Transformations={geoPoint:"makeGeoPoint",lookupGeoInfo:"lookupGeoInfo",interpretValues:"interpretValues",defineOrder:"defineOrder",fieldSplit:"fieldSplit",mapValues:"mapValues",bucketed:"bucketed"},t.DSMTypes=r},yBJb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function i(e,t,n){t&&r(e.prototype,t);n&&r(e,n);return e}},yHaC:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("MGTR");var o=n("PX8M");var s=n("yRTf");var l=n("RZ9f");var c=n("a0ag");var u=n("Uzwy");var d=n("sWge");var f=n("Bx2S");var p=n("plVp");function h(e,t,n,r,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){h(a,r,i,o,s,"next",e)}function s(e){h(a,r,i,o,s,"throw",e)}o(void 0)}))}}var m;var g=300;var b=new c["a"];var y=true;var w;var S;var x=s["a"].createGroup("cao",1);function C(){x.off();if(!m)return;i()(".qv-cao").slideUp(g,(function(){if(m.$container){m.$container.remove();m.$container=void 0}m.destroy();m=null;p["a"].setCaoActive(false)}))}function q(){o["a"].getApp().then((function(e){f["a"].toggleAssetsPanel(e.id);a["a"].publish("cao/insight/assetsPanelToggled",f["a"].storageObj(e.id).assetsPanel)}))}function E(){o["a"].getApp().then((function(e){f["a"].toggleContextPanel(e.id);a["a"].publish("cao/insight/contextPanelToggled",f["a"].storageObj(e.id).contextPanel)}))}function I(){return k.apply(this,arguments)}function k(){k=v(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return o["a"].getApp();case 2:t=r.sent;r.next=5;return p["a"].isSelectActive(t);case 5:n=r.sent;return r.abrupt("return",n);case 7:case"end":return r.stop()}}),e)})));return k.apply(this,arguments)}x.registerKeys("ctrl+left",s["a"].preventDefault);x.registerKeys("ctrl+home",s["a"].preventDefault);x.registerKeys("ctrl+right",s["a"].preventDefault);x.registerKeys("ctrl+end",s["a"].preventDefault);x.registerKeys("ctrl+e",s["a"].preventDefault);x.registerKeys("ctrl+c",s["a"].preventDefault);x.registerKeys("ctrl+x",s["a"].preventDefault);x.registerKeys("ctrl+v",s["a"].preventDefault);x.registerKeys("ctrl+z",s["a"].preventDefault);x.registerKeys("ctrl+y",s["a"].preventDefault);x.registerKeys("cmd+shift+z",s["a"].preventDefault);x.registerKeys("del",s["a"].preventDefault);x.registerKeys("ctrl+f",s["a"].preventDefault);x.registerKeys("backspace",s["a"].preventDefault);x.registerKeys("esc",s["a"].preventDefault);x.registerKeys("ctrl+shift+left",q);x.registerKeys("ctrl+shift+right",E);t["a"]={off:function e(){l["a"].trackEvent(l["a"].customEvents.INSIGHTS_CLICKED,{type:"off"});C()},scrapeApp:function e(){if(y){if(w)return S;w=true;S=b.scrapeApp().finally((function(){w=false}));return S}return(new d["a"]).resolve()},isInsightsAvailable:function e(){return u["a"].isCreRunning()},isInsightLearningEnabled:function e(t){y=t},isGlobalSelectionsActive:I}},yHiA:function(e,t,n){(function(t,n){true;e.exports=n()})(this,(function(){return function(e,t){if(!e||isNaN(+t))return t;var t="-"==e.charAt(0)?-t:+t;var n=t<0?t=-t:0;var r=e.match(/[^\d\-\+#]/g);var i=r&&r[r.length-1]||".";var a=r&&r[1]&&r[0]||",";var e=e.split(i);t=t.toFixed(e[1]&&e[1].length);t=+t+"";var o=e[1]&&e[1].lastIndexOf("0");var s=t.split(".");(!s[1]||s[1]&&s[1].length<=o)&&(t=(+t).toFixed(o+1));var l=e[0].split(a);e[0]=l.join("");var c=e[0]&&e[0].indexOf("0");if(c>-1)while(s[0].length<e[0].length-c)s[0]="0"+s[0];else 0==+s[0]&&(s[0]="");t=t.split(".");t[0]=s[0];var u=l[1]&&l[l.length-1].length;if(u){var d=t[0];var f="";var p=d.length%u;for(var h=0,v=d.length;h<v;h++){f+=d.charAt(h);!((h-p+1)%u)&&h<v-u&&(f+=a)}t[0]=f}t[1]=e[1]&&t[1]?i+t[1]:"";return(n?"-":"")+t[0]+t[1]}}))},yIOy:function(e,t,n){"use strict";function r(e){return e&&e.enigmaModel&&e.enigmaModel.app&&e.enigmaModel===e.enigmaModel.app.modalSelectionObject}function i(e){return e&&e.qSelectionInfo&&e.qSelectionInfo.qInSelections}function a(e,t){var n=false;return e.getField(t).then((function(e){return e.getNxProperties().then((function(e){return e.qOneAndOnlyOne||n}))}))}function o(e){return e.getAppLayout().then((function(e){return["$"].concat(e.qStateNames)}))}function s(e,t){var n=!!e.qOneAndOnlyOne;var r=!!t.qOneAndOnlyOne;if(n===r)return e.qSortIndex-t.qSortIndex;return n?-1:1}function l(e){return e.filter((function(e){return!e.qOneAndOnlyOne&&!e.qLocked}))}function c(e){return(e||[]).filter((function(e){return l(e.qSelectionObject.qSelections).length}))}t["a"]={isModalSelectionModel:r,isInSelection:i,isSingleSelect:a,getSelectionStates:o,sortSelections:s,getClearableItems:l,getClearableStates:c}},yOLm:function(e,t,n){"use strict";var r=n("GGvZ");var i=n("6uJb");var a=[];var o={DEFAULT:"default",WARNING:"warning",ERROR:"error",EMPTY:"empty"};var s="scripteditor.bottompane.output";var l="---";function c(e){for(var t in o)if(e===o[t])return true;return false}function u(e,t,n){var r=f(e,t,n);a.push(r);d();return r}function d(){r["a"].notifyAll(s,a)}function f(e,t,n){n||(n=new Date);e===o.EMPTY&&(t=l);var r=function e(){};Object.defineProperty(r.prototype,"type",{set:function e(t){if(!t)throw new Error("Message type is undefined.");if(!c(t))throw new Error('Invalid message type "'.concat(t,'".'));this._type=t},get:function e(){return this._type}});Object.defineProperty(r.prototype,"text",{set:function e(t){if(!t)throw new Error("Text is undefined.");this._text=t},get:function e(){return this._text}});Object.defineProperty(r.prototype,"created",{set:function e(t){if(!t)throw new Error("Created is undefined.");this._created=t},get:function e(){return this._created}});var i=new r;i.type=e;i.text=t;i.created=n;return i}function p(e){var t=a.indexOf(e);if(-1===t)throw new Error("Unknown message to remove.");a.splice(t,1);d()}function h(e){r["a"].addObserver(s,e)}function v(){return a}function m(){a=[];u(o.DEFAULT,i["default"].get("scripteditor.console.outputcleared"))}function g(){d()}function b(e){r["a"].removeObserver(s,e)}t["a"]={MESSAGE_TYPE:o,addMessage:u,removeMessage:p,clear:m,onMessagesUpdated:h,messagesHasBeenUpdated:g,getMessages:v,removeObserver:b}},yRTf:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("rwJ+");var o={a:65,alt:18,b:66,backspace:8,c:67,ctrl:17,d:68,del:46,down:40,e:69,end:35,f:70,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,enter:13,esc:27,g:71,h:72,home:36,i:73,insert:45,j:74,k:75,l:76,left:37,m:77,n:78,o:79,p:80,pagedown:34,pageup:33,q:81,r:82,right:39,s:83,shift:16,space:32,t:84,tab:9,u:85,up:38,v:86,w:87,win:224,x:88,y:89,z:90,cmd:91,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"*":106};var s="qvKeyboardShortcuts";var l=false;function c(){this.groups=[];this.shortcuts=[];this.timer={id:null};this.isReleased=true;this.currentEvent=void 0}c.prototype.createGroup=function(e,t){var n=this;var r;var i;for(i=0;i<this.groups.length;i++)if(this.groups[i].name===e){r=this.groups[i];break}if(!r){r={name:e,priority:t,active:false,shortcuts:[]};this.groups.push(r);this.groups.sort((function(e,t){return e.priority-t.priority}))}return{registerKeys:function e(t,i,a){n.registerKeys(r,t,i,a)},unregisterKeys:function e(t,n){var i=r.shortcuts;for(var a=0;a<i.length;a++)if(i[a].keyCombo===t&&i[a].callback===n){i.splice(a,1);break}},on:function e(){n.activateGroup(r)},off:function e(){n.deactivateGroup(r)},delete:function e(){n.deactivateGroup(r);n.deleteGroup(r)}}};c.prototype.activateGroup=function(e){var t=this;e.active=true;if(!l){l=true;i()(document).on("keydown.".concat(s),(function(e){t.handleEvent(e)}))}};c.prototype.deactivateGroup=function(e){e.active=false;var t=this.groups.reduce((function(e,t){t.active&&e++;return e}),0);if(0===t&&l){l=false;i()(document).off("keydown.".concat(s))}};c.prototype.deleteGroup=function(e){this.groups=this.groups.filter((function(t){return t!==e}))};c.prototype.registerKeys=function(e,t,n,r){var i=t.toLowerCase().split("+");var a={keyCombo:t,ctrlKey:false,shiftKey:false,altKey:false,keyCode:null,name:"",callback:null,allowInAllContexts:!(!r||!("allowInInput"in r))&&r.allowInInput,preventDefault:!r||!("preventDefault"in r)||r.preventDefault,delay:r&&"delay"in r?r.delay:250};for(var s in o)for(var l=0;l<i.length;l++){a.name=t.toLowerCase();a.callback=n;"ctrl"!==i[l]&&"cmd"!==i[l]||(a.ctrlKey=true);"alt"===i[l]&&(a.altKey=true);"shift"===i[l]&&(a.shiftKey=true);i[l]===s&&17!==o[s]&&16!==o[s]&&91!==o[s]&&18!==o[s]&&(a.keyCode=o[s])}e.shortcuts.push(a)};c.prototype.preventDefault=function(){this.currentEvent&&this.currentEvent.preventDefault()};c.prototype.handleEvent=function(e){var t=this;this.currentEvent=e;function n(n,i,a,s){var l;var c;for(var u=0;u<t.groups.length;u++){l=t.groups[u];if(l.active)for(var d=l.shortcuts.length-1;d>=0;d--){c=l.shortcuts[d];if((c.keyCode===o["*"]||c.keyCode===s&&c.ctrlKey===n&&c.shiftKey===i&&c.altKey===a)&&!r(e,c))break}}}function r(e,t){var n=a["a"].isInput(document.activeElement);if(n&&!t.allowInAllContexts)return false;return i(e,t)}function i(e,n){n.preventDefault&&e.preventDefault();if("number"!==typeof t.timer.id){n.delay>0&&(t.timer.id=setTimeout((function(){s()}),n.delay));if(true===n.callback(n,e)){s();return true}}return}function s(){clearTimeout(t.timer.id);delete t.timer.id}e.shiftKey?!e.ctrlKey&&!e.metaKey||e.altKey?e.ctrlKey||e.metaKey||!e.altKey?n(false,true,false,e.which):n(false,true,true,e.which):n(true,true,false,e.which):!e.ctrlKey&&!e.metaKey||e.altKey?e.ctrlKey||e.metaKey||!e.altKey?n(false,false,false,e.which):n(false,false,true,e.which):n(true,false,false,e.which)};t["a"]=new c},ydY7:function(e,t,n){"use strict";function r(e){var t=e.layout;if(t){var n="auto-chart"===t.visualization?t.qUndoExclude.generated.visualization:t.visualization;return n}return""}t["a"]={get:r}},ydcn:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("RDk+");var l=n.n(s);var c;function u(e,t,n){return i.a.Event(e,{pageX:n.pagePoints[0].x,pageY:n.pagePoints[0].y,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey,originalEvent:t,gestureData:n})}o()(document.body).tap({options:{preventDefault:false},start:function e(t){c=i()(t.target)},end:function e(t,n){var r=u("qv-activate",t,n);0===c.closest(":disabled").length&&c.trigger(r);c=null}});var d=o.a.Gesture.augment((function(e){this.defaults={precedence:6};this.start=function(e,t){this.binder.start.call(this,e,t)};function t(){e.apply(this,arguments)}return t}));o.a.gestures.add("press",d);o()(document.body).press({start:function e(t,n){var r=u("qv-press",t,n);i()(t.target).trigger(r)}});i.a.addOutsideEvent("qv-press","qv-outside","touchstart","touchend")},"yoX+":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("mXGw");var i=n.n(r);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}var o=r["createElement"]("g",{fill:"none"},r["createElement"]("path",{fill:"#00994C",d:"M9.234 43.722v1.032H8.36v-1.032h.874zm0-33.536v3.763l18.344.001v5.712H9.234v4.2h11.88v-3.286h.874v4.16H9.234v3.306h22.52v5.712H9.234v4.2h15.175V34.67h.876v4.158H9.234v3.76H8.36V10.186h.874zM85.91 39.62v1.144h-1.346V39.62h1.346zm-2.83-16.11v1.147h-1.413V39.62h1.413v1.144H45.758V39.62h1.105v-8.428h-1.106V30.05h3.582l1.834-1.834h4.394l3.844 3.846h5.152l6.48-6.482h4.366l2.068-2.068h5.602zM43.191 39.62v1.144h-3.508V39.62h3.508zm31.211-12.896h-1.918V39.62h1.919V26.724zM49.925 31.08l-.112.113h-1.806v8.427h1.918v-8.54zm3.058-1.722h-1.336l-.578.578v9.684h1.914V29.358zm2.11 0h-.966V39.62h1.916v-9.312l-.95-.95zm2.094 2.095v8.167h1.914v-6.416h-.164l-1.75-1.75zm4.976 1.751h-1.918v6.416h1.919v-6.416zm3.06-.186l-.186.187h-1.73l.001 6.415h1.915v-6.602zm3.058-3.058l-1.914 1.914v7.746h1.914v-9.66zm3.06-3.06l-1.916 1.916V39.62h1.916V26.9zm6.122-1.754l-1.58 1.579h-.336l.001 12.895h1.915V25.146zm3.06-.49h-1.916V39.62h1.916V24.656zM43.192 34.834v1.144h-3.508v-1.144h3.508zm-12.314-5.918H9.236v3.962h21.642v-3.962zm12.314 1.132v1.144h-3.508v-1.144h3.508zm0-4.786v1.144h-3.508v-1.144h3.508zM83.08 14.41v1.144h-3.74l-6.512 6.51h-2.632L66.55 18.42h-4.51l-2.96 2.958h-3.042l-3.678 3.678h-3.758l-1.248-1.246h-1.596v-1.144h2.07l1.246 1.248h2.812l3.68-3.68h3.042l2.96-2.96h5.456l3.646 3.646h1.686l6.508-6.51h4.216zm-39.888 6.066v1.144h-3.508v-1.144h3.508zm-16.49-5.652H9.236v3.962h17.466v-3.962zm16.49.866v1.144h-3.508V15.69h3.508zm0-4.788v1.144h-3.508v-1.144h3.508zM9.234 8.06v1.03H8.36V8.06h.874z"}),r["createElement"]("path",{fill:"#53555A",d:"M1.838 49.748h90V4.604a2.768 2.768 0 00-2.764-2.766H4.602a2.768 2.768 0 00-2.764 2.766v45.144zm90 9.108v-7.27h-90v7.27c0 .512.416.928.926.928h88.148c.51 0 .926-.416.926-.928zM56.022 70.54L54.5 61.622H39.178l-1.524 8.918h18.368zM89.074 0a4.607 4.607 0 014.602 4.604v54.252a2.77 2.77 0 01-2.764 2.766H56.364l1.524 8.918h8.672v1.838H27.116V70.54h8.672l1.524-8.918H2.764A2.77 2.77 0 010 58.856V4.604A4.607 4.607 0 014.602 0h84.472zM51.506 54.354v1.838h-9.204v-1.838h9.204z"}));function s(e){return r["createElement"]("svg",a({viewBox:"-53 0 200 73"},e),o)}var l="pong.f77ea4792b4db41600aaba8261b804f5.svg";function c(){return i.a.createElement("div",{className:"senseloader-icon-pong"},i.a.createElement(s,null),i.a.createElement("div",{className:"senseloader-pong-progress"}))}},z5ZW:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a=n("GGvZ");var o=n("VFzL");var s="cppns";var l;function c(e){if(!l)throw new Error("LOCAL_STORAGE_KEY is undefined. Forgot to run init?");localStorage[l]=e}function u(e,t){var n=d(e);a["a"].addObserver(n,t)}function d(e){return"".concat(s,".").concat(e)}function f(e){if(!e)throw new Error("App ID is undefined.");l="cppns.".concat(o["a"].sha256(e));i()(window).on("storage",(function(e){var t=e.originalEvent.key;var n=e.originalEvent.newValue;if(t&&t===l&&n){delete localStorage[l];var r=d(n);a["a"].notifyAll(r)}}))}t["a"]={init:f,publish:c,subscribe:u}},zAzJ:function(e,t,n){"use strict";var r=n("6uJb");var i={IN:{sign:"+",title:"+",description:r["default"].get("cao.insight.analysis.filter.editor.operator.description.in"),predicate:"in",multipleValues:true},NOT_IN:{sign:"-",title:"-",description:r["default"].get("cao.insight.analysis.filter.editor.operator.description.notin"),predicate:"notIn",multipleValues:true},LESS_THAN:{sign:"<",title:"<",description:r["default"].get("cao.insight.analysis.filter.editor.operator.description.lessthan"),predicate:"<",singleValue:true},GREATER_THAN:{sign:">",title:">",description:r["default"].get("cao.insight.analysis.filter.editor.operator.description.greaterthan"),predicate:">",singleValue:true},LESS_THAN_OR_EQUAL:{sign:"<=",title:"<=",description:r["default"].get("cao.insight.analysis.filter.editor.operator.description.lessthanorequal"),predicate:"<=",singleValue:true},GREATER_THAN_OR_EQUAL:{sign:">=",title:">=",description:r["default"].get("cao.insight.analysis.filter.editor.operator.description.greaterthanorequal"),predicate:">=",singleValue:true},IN_RANGE:{sign:">= <=",firstSign:">=",secondSign:"<=",icon:true,description:r["default"].get("cao.insight.analysis.filter.editor.operator.description.inrange"),predicate:"inRange"}};t["a"]=i},zBv7:function(e,t,n){"use strict";var r=n("NFdj");var i=n.n(r);var a=n("Z9ZH");var o=n.n(a);var s=n("6uJb");var l=n("sWge");var c=n("33FQ");var u='<div qv-errorhandler class="object-error" ng-class="error.class" tid="object.Error">\n\t<div class="object-error-content">\n\t\t<div class="object-error-title">\n\t\t\t<span>{{error.title}}</span>\n\t\t\t<i class="object-error-more lui-icon lui-icon--info lui-icon--large" ng-click="showMore($event)"></i>\n\t\t</div>\n\t\t<div ng-if="error.message" class="object-error-message">{{error.message}}</div>\n\t</div>\n</div>\n';var d=n("7w0t");var f=n("X13V");var p=n("TLJm");var h=n("C61d");function v(e){return e.qErrorCode===p["a"].NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function m(e){return e.qErrorCode===p["a"].NxLocalizedErrorCode.LOCERR_CALC_NOT_CALCULATED}function g(e,t){var n={holder:null,type:""};var r=t&&e[t]?e[t].qHyperCube:e.qHyperCube;if(r&&r.qError){n.holder=r;n.errorTranslationFunc=f["a"].getHyperCubeError}else if(e.layers&&e.layers.length&&e.layers[0].qHyperCube){e.layers[0].qHyperCube.qError?n.holder=e.layers[0].qHyperCube:e.layers[0].geodata.qHyperCube.qError&&(n.holder=e.layers[0].geodata.qHyperCube);n.errorTranslationFunc=f["a"].getHyperCubeError}else if(e.qListObject&&e.qListObject.qError){n.holder=e.qListObject;n.errorTranslationFunc=f["a"].getListObjectError}else if(e.qListObject.qDimensionInfo&&e.qListObject.qDimensionInfo.qError.qErrorCode){n.holder=e.qListObject.qDimensionInfo;n.errorTranslationFunc=f["a"].getDimensionError}return n}function b(e){var t=e.qError.qErrorCode;switch(t){case p["a"].NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED:return h["a"].getLayoutMsg(e)||"";default:break}if(e.qError.qContext){var n=[e.qError.qContext];return s["default"].get("ErrorCode.".concat(t),n)}return}var y=d["a"].extend({$scope:null,init:function e(t){this.$scope=t;t.hasSoftError=false;t.hasHardError=false;t.showMore=function(e){var n=i.a.element("<div>").appendTo("body");n.showComponent(c["a"],{alignTo:i.a.element(e.target),error:t.error,onClose:function e(){n.remove();o.a.preventGestures()}})}},onPaint:function e(){var t=this.$scope;var n;var r=t.object.error;if(!r){var i=t.layout;var a=t.object.ext&&t.object.ext.options?t.object.ext.options.hyperCubePath:"";var o=g(i,a);if(o.holder){n=b(o.holder)||o.errorTranslationFunc(o.holder.qError.qErrorCode);r=v(o.holder.qError)?{class:"soft-error",message:n}:{class:"hard-error",title:s["default"].get("Object.Error"),message:n}}}t.error=r;return l["a"].resolve()}});y.$inject=["$scope"];var w=t["a"]={template:u,controller:y,isCalcCondNotCalculatedErr:m}},zEO2:function(e,t,n){"use strict";var r=n("GMLQ");var i='\ufeff<div class="tiny-editor lui-textarea" ng-class="{\'lui-invalid\': invalid, \'lui-focused\': active, \'disable-edit\': textTooLong}" >\n\t<div class="textarea-wrapper">\n\t\t<textarea tid="tiny-editor-text" type="text" maxlength="{{maxLength || 8192}}" rows="3" class="wrapped-textarea"\n\t\t\t\t\t\tng-readonly="textTooLong" ng-trim="false" ng-model="editorValue" ng-change="change()" ng-focus="focused()" ng-blur="blurred()" spellcheck="false">\n\t\t</textarea>\n\t</div>\n\t<button tid="tiny-editor-fx-button"\n\t\t\t\t\tqva-activate="open( $event )"\n\t\t\t\t\tclass="lui-fade-button edit-expression"\n\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor">\n\t\t<span class="lui-icon lui-icon--expression" ng-class="{\'active\': isExpression}"></span>\n\t</button>\n\n</div>';r["a"].directive("tinyEditor",[function(){return{template:i,replace:true,restrict:"E",scope:{value:"=",invalid:"=?",maxLength:"=?",onOpen:"&",onBlur:"&",alwaysExpression:"@?"},link:function e(t){t.editorValue=t.value;t.isExpression=n(t.editorValue);t.textTooLong=(t.value||"").length>(t.maxLength?t.maxLength:8192);t.$watch("value",(function(){if(t.value!==t.editorValue){t.isExpression=n(t.value);t.textTooLong=(t.value||"").length>(t.maxLength?t.maxLength:8192);t.editorValue=t.value}}));t.focused=function(){t.active=true};t.blurred=function(e){t.isExpression=n(t.editorValue);t.active=false;t.onBlur({$event:e})};t.open=function(e){t.onOpen({$event:e})};t.change=function(){t.textTooLong||(t.value=t.editorValue)};function n(e){var n="false"!==t.alwaysExpression;if(n)return(e||"").length>0;return"="===(e||"")[0]}}}}])},zHBu:function(e,t,n){"use strict";e.exports=function e(t,n){n=n.split(":")[0];t=+t;if(!t)return false;switch(n){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return false}return 0!==t}},zjn0:function(e,t,n){"use strict";var r=n("qIEf");var i=n.n(r);var a="[A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͽΆΈ-ϵϷ-҂Ҋ-։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ॿং-হঽ-ীে-ৌৎ-ৡ০-ৱ৴-৺ਃ-ਹਾ-ੀਖ਼-੯ੲ-ੴઃ-હઽ-ીૉ-ૌૐ-ૡ૦-૯ଂ-ହଽ-ାୀେ-ୌୗ-ୡ୦-୷ஃ-ிு-ௌௐ-௲ఁ-ఽు-ౄౘ-ౡ౦-౯౿-ಹಽ-ೋೕ-ೡ೦-ീെ-ൌൎ-ൡ൦-ෆා-ෑෘ-ะา-ำเ-ๆ๏-ະາ-ຳຽ-ໆ໐-༗༚-༴༶༸༾-ཬཿ྅ྈ-ྌ྾-࿅࿇-ာေးျ-ြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃ-ႄႇ-ႌႎ-ႜ႞-ፚ፠-ᎏᎠ-Ᏼᐁ-ᙿᚁ-ᚚᚠ-ᜑᜠ-ᜱ᜵-ᝑᝠ-ᝰក-ាើ-ៅះ-ៈ។-៚ៜ០-៩᠐-ᢨᢪ-ᤜᤣ-ᤦᤩ-ᤱᤳ-ᤸ᥆-᧚ᨀ-ᨖᨙ-ᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-᭪᭴-᭼ᮂ-ᮡᮦ-ᮧ᮪-ᯥᯧᯪ-ᯬᯮ᯲-ᰫᰴ-ᰵ᰻-᱿᳓᳡ᳩ-ᳬᳮ-ᶿḀ-ᾼιῂ-ῌῐ-Ίῠ-Ῥῲ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ-⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-ⳤⳫ-ⳮⴀ-⵰ⶀ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㍶㍻-㏝㏠-㏾㐀-䶵一-ꒌꓐ-ꘌꘐ-ꙮꚀ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꤥ꤮-ꥆꥒ-ꥼꦃ-ꦲꦴ-ꦵꦺ-ꦻꦽ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂ-ꯤꯦ-ꯧꯩ-꯬꯰-ﬗＡ-Ｚａ-ｚｦ-ￜ]";var o="[־׀׃׆א-״߀-ߪߴ-ߵߺ-ࠕࠚࠤࠨ࠰-ࡘ࡞‏יִײַ-ﬨשׁ-ﭏ]";var s="[؈؋؍؛-ي٭-ٯٱ-ەۥ-ۦۮ-ۯۺ-܍ܐܒ-ܯݍ-ޥޱﭐ-ﴽﵐ-﷼ﹰ-ﻼ]";var l='[\t-\r-"&-*;-@[-`{-~¡¦-©«-¬®-¯´¶-¸»-¿×÷ʹ-ʺ˂-ˏ˒-˟˥-˭˯-˿ʹ-͵;-΅·϶֊؆-؇؎-؏۞۩߶-߹௳-௸௺౸-౾༺-༽᎐-᎙᐀ ᚛-᚜៰-᠊᠎᥀-᥅᧞-᧿᾽᾿-῁῍-῏῝-῟῭-`´- ‐-\u2029‵-⁃⁅- ⁼-⁾₌-₎℀-℁℃-℆℈-℉℔№-℘℞-℣℥℧℩℺-℻⅀-⅄⅊-⅍⅐-⅟↉-∑∔-⌵⍻-⎔⎖-⒇⓪-⚫⚭-⟿⤀-⭙⳥-⳪⳹-⳿⸀-〄〈-〠〰〶-〷〽-〿゛-゜゠・㇀-㇣㈝-㈞㉐-㉟㉼-㉾㊱-㊿㋌-㋏㍷-㍺㏞-㏟㏿䷀-䷿꒐-꓆꘍-꘏꙳꙾-ꙿ꜀-꜡ꞈ꠨-꠫꡴-꡷﴾-﴿﷽︐-︙︰-﹏﹑﹔﹖-﹞﹠-﹡﹤-﹨﹫！-＂＆-＊；-＠［-｀｛-･￢-￤￨-�]';var c=new RegExp(a);var u=new RegExp(o);var d=new RegExp(s);var f=new RegExp(l);var p=String.fromCharCode(8206);var h=String.fromCharCode(8207);var v;var m;function g(){void 0===m&&C();return m}function b(e){return c.test(e)}function y(e){return u.test(e)||d.test(e)}function w(e){return f.test(e)}function S(e){var t=e?e.length:0;var n;var r;for(n=0;n<t;n++){r=e[n];if(b(r))return"ltr";if(y(r))return"rtl"}return"ltr"}function x(e){if(m)return"auto";return S(e)}function C(){var e=document.createElement("div");var t=document.getElementsByTagName("body")[0];e.setAttribute("style","position: absolute; width: 1px; height: 1px; top: -999px; overflow: scroll; white-space:nowrap;");e.setAttribute("dir","rtl");t.appendChild(e);v=q(e);m=E(e);t.removeChild(e)}function q(e){e.innerHTML="RTL-SCROLL-TEST";var t="reverse";if(e.scrollLeft>0)t="default";else{e.scrollLeft=1;0===e.scrollLeft&&(t="negative")}return t}function E(e){e.innerHTML="لا أحد يحب الألم بذاته، يسعى ورائه أو يبت";var t;switch(v){case"reverse":t=false;break;case"default":t=e.scrollLeft>0;break;case"negative":i()(e).scrollLeft(-1e3);t=e.scrollLeft<0;break;default:t=false}return t}C();function I(e,t,n){n=Number.isNaN(+n)?0:n;if(e&&"reverse"===v)return t+n;return t-n}t["a"]={supportDirAuto:g,detectTextDirection:S,getAutoOrAlternativeDirection:x,isLtrChar:b,isRtlChar:y,isNeutralChar:w,lrm:p,rlm:h,scrollImplementation:v,getScrollPos:I}},zkWp:function(e,t,n){"use strict";var r=n("7bN7");var i=n("4nJ1");var a=n("eg+O");var o=n("MGTR");var s=n("k+Ch");var l=n("cWJj");var c=n("sWge");var u=n("D4qE");var d=n("3ex9");var f=n("T8oO");var p=n("acVu");var h=null;var v={addingNewNavPointID:{},odagLinkSessionObjects:{},getODAGLinksPromise:{}};v.ODAGRequestActionConst={CANCEL:"cancel",PAUSE:"pause",RESUME:"resume",CANCEL_ACK:"ackcancel",FAIL_ACK:"ackfailure"};v.getODAGLinks=function(e,t){t=void 0!==t&&t;var n=this;this.getODAGLinksPromise[e.id]&&!t||(this.getODAGLinksPromise[e.id]=a["a"].getList(e).then((function(t){return t.getLayout().then((function(t){return n.onAppLinksLoaded(e,t)}))})));return this.getODAGLinksPromise[e.id]};v.onAppLinksLoaded=function(e,t){var n=t.map((function(e){return e.qData.odagLinkRef}));return v.loadODAGLinks(e,n)};v.loadODAGLinks=function(e,t){return m(e).getODAGLinksWithIds(e.id,t)};v.loadODAGLink=function(e,t){return m(e).getODAGLink(t)};v.canCreateLink=function(e){return m(e).canCreateLink(e.id)};v.isODAGAvailable=function(e){var t=Object(p["b"])("IS_DESKTOPCLIENT");if(Object(p["b"])("ODAG_CLIENT_SAAS")&&!Object(p["b"])("ODAG_SAAS_ENABLED"))return Promise.resolve(false);if(t)return Promise.resolve(false);return m(e).isODAGAvailable().then((function(e){if(Object(p["b"])("ODAG_SAAS_ENABLED"))return e;if(e&&e.available)return true;return false})).catch((function(){return false}))};v.createODAGLink=function(e,t){var n=i["a"].extend({},t);n.selectionApp=e.id;return m(e).createODAGLink(n).then((function(t){var n={qMetaDef:{odagLinkRef:Object(p["b"])("ODAG_SAAS_ENABLED")?t.id:t.objectDef.id}};return a["a"].create(e,n)}))};v.deleteODAGLink=function(e,t,n,r){var s=i["a"].extend({},n);Object(p["b"])("ODAG_SAAS_ENABLED")&&(s.data.selectionApp=e.id);return m(e).deleteODAGLink(t,s).then((function(){return a["a"].getList(e).then((function(n){return n.getLayout().then((function(n){var i=null;for(var s=0;s<n.length&&!i;s++){var l=n[s];l.qData.odagLinkRef===t&&(i=l.qInfo.qId)}Object(p["b"])("ODAG_SAAS_ENABLED")&&o["a"].publish("hack_odag_link_update");if(i){var u=e.layout.privileges.some((function(e){return"delete"===e||"update"===e}))?a["a"].remove(e,i):c["a"].resolve(true);u.then((function(){return r.removeRefToLinkIDFromNavPoints(t)}))}}))}))}))};v.updateODAGLink=function(e,t,n){var r=i["a"].extend({},n);Object(p["b"])("ODAG_SAAS_ENABLED")&&(r.selectionApp=e.id);return m(e).updateODAGLink(t,r).then((function(t){return a["a"].getList(e).then((function(n){return n.getLayout().then((function(n){var r=null;for(var i=0;i<n.length;i++){var s=n[i];var l=Object(p["b"])("ODAG_SAAS_ENABLED")?t.id:t.objectDef.id;if(s.qData.odagLinkRef===l){r=s.qInfo.qId;break}}Object(p["b"])("ODAG_SAAS_ENABLED")&&o["a"].publish("hack_odag_link_update");if(r)return a["a"].get(e,r).then((function(e){return e.getProperties().then((function(t){t.qMetaDef.timestamp=Date.now();return e.setProperties(t)}))}));return}))}))}))};v.addODAGNavPoint=function(e,t){if(e){var n=i["a"].generateId();this.addingNewNavPointID[e.id]=n;var r={insertBeforeNavPointID:t.insertBeforeItem?t.insertBeforeItem.data.info.id:null,data:{info:{id:n},title:t.title,odagLinkRefID:t.odagLinkRefID}};e.addNavPoint(r)}};function m(e){if(h)return h;var t="";var n="";var i="";var a=false;if(e&&e.enigmaModel&&e.enigmaModel.session){var o=e.enigmaModel.session.sessionConfig?e.enigmaModel.session.sessionConfig:null;if(o){t=o.prefix?o.prefix:"/";n=o.host?o.host:null;i=o.port?o.port:null;a=!!(o.isSecure||o.secure)}}h=new r["a"](n,i,t,a);return h}function g(e,t,n,r,i,a,o){e||(e=[]);t||(t=[]);if(r<a)return n.getHyperCubeData("/qHyperCubeDef",[{qTop:r,qLeft:0,qWidth:1,qHeight:1e4}]).then((function(s){s[0].qMatrix.forEach((function(n){var r=n[0];i.indexOf(r.qState)>-1&&e.push({selStatus:r.qState,strValue:void 0===r.qText?"":r.qText,numValue:Object(p["b"])("ODAG_SAAS_ENABLED")?"".concat(r.qNum):r.qNum});o&&"S"===r.qState&&t.push({selStatus:r.qState,strValue:void 0===r.qText?"":r.qText,numValue:Object(p["b"])("ODAG_SAAS_ENABLED")?"".concat(r.qNum):r.qNum})}));r+=1e4;return g(e,t,n,r,i,a,o)}));return c["a"].resolve({fieldValues:e,selectedFieldValues:t})}function b(e,t,n){var r=t.selectAppParamName;var a=t.selectionStates;var o=i["a"].extend(true,{},u["a"].fieldHyperCubeProperties);o.qHyperCubeDef.qDimensions.push({qDef:{qFieldDefs:[r]},qNullSuppression:true});return e.enigmaModel.createSessionObject(o).then((function(t){return t.getLayout().then((function(r){var i=r.qHyperCube.qSize.qcy;return g(null,null,t,0,a,i,n).then((function(t){y(e,r.qInfo.qId);return t}))}))}))}function y(e,t){var n=e.enigmaModel||e;return n.enigmaModel.destroySessionObject.apply(n,[t])}function w(e,t){var n={bindingValuesArray:[],selectedValuesArray:[]};if(!t)return c["a"].resolve(null);var r=t.bindings?t.bindings.filter((function(e){return"BDI"!==e.selectAppParamType})):[];var i=t.bindings?t.bindings.filter((function(e){return"BDI"===e.selectAppParamType})):[];return v.getBDIBindingValues(e,i).then((function(t){n.bindingValuesArray=t.bindingValuesArray||[];return v.getCurrentlySelectedFields(e).then((function(t){return v.getAllFieldBindingValues(e,r,t).then((function(i){for(var a=0;a<r.length;a++){var o=i[a];var s=-1;for(var l=0;l<t.length;l++)if(t[l]&&t[l].fieldName===r[a].selectAppParamName){s=l;break}if(s>=0){var c={selectionAppParamType:"Field",selectionAppParamName:r[a].selectAppParamName,values:o.selectedFieldValues.length<10001?o.selectedFieldValues:[],selectedSize:o.selectedFieldValues.length};n.selectedValuesArray.push(c);t.splice(s,1)}var u={selectionAppParamType:"Field",selectionAppParamName:r[a].selectAppParamName,values:o.fieldValues};n.bindingValuesArray.push(u)}var d=[];for(var f=0;f<t.length;f++)d.push({selectAppParamName:t[f].fieldName,selectionStates:"S"});return v.getAllFieldBindingValues(e,d,t).then((function(e){for(var r=0;r<t.length;r++){var i=e[r];var a={selectionAppParamType:"Field",selectionAppParamName:t[r].fieldName,values:i.fieldValues.length<10001?i.fieldValues:[],selectedSize:i.fieldValues.length};n.selectedValuesArray.push(a)}return n}))}))}))}))}v.clearSelections=function(e){return l["a"].get(e).then((function(e){return e.clearAll()}))};v.renameGenApp=function(e,t,n){return m(e).renameApp(t,n)};v.deleteGenApp=function(e,t){return m(e).deleteApp(t)};v.selectFieldValuesForField=function(e,t,n){var r=[];for(var i=0;i<n.length;i++){var a=n[i];var o={};if(Number.isNaN(+a.numValue)){o.qIsNumeric=false;o.qText=a.strValue}else{o.qIsNumeric=true;o.qNumber=+a.numValue}r.push(o)}return s["a"].get(t,null,e).then((function(e){return e.selectValues(r,true,true)}))};v.getAllFieldBindingValues=function(e,t,n){if(t.length){var r=[];var i=function i(a){var o=t[a];var s=o.selectAppParamName;var l=n&&!!n.filter((function(e){return e.fieldName===s}))[0];r.push(b(e,o,l))};for(var a=0;a<t.length;a++)i(a);return c["a"].all(r)}return c["a"].resolve([])};v.getConstraintFieldBindingValues=function(e,t){if(t.length){var n=[];for(var r=0;r<t.length;r++){var i=t[r];i.range?n.push(b(e,i,false)):n.push(c["a"].resolve({noConstraint:true,fieldValues:[],selectedFieldValues:[]}))}return c["a"].all(n)}return c["a"].resolve([])};v.getCurrentlySelectedFields=function(e){return l["a"].get(e).then((function(e){return e.getLayout().then((function(e){var t=[];for(var n=0;n<e.qSelectionObject.qSelections.length;n++){var r=e.qSelectionObject.qSelections[n];t.push({fieldName:r.qField,selectionCount:r.qSelectedCount})}return t}))}))};v.getBDIObject=function(e){return e.createSessionObject({qProp:{qInfo:{qType:"BDIObject"},qBDIObjectDef:{}}})};v.getBDISelection=function(e,t){return v.getBDIObject(e,t).then((function(e){return e.getLayout().then((function(n){if(!n||!n.qBDIObject||!n.qBDIObject.qValid)return c["a"].resolve({});return e.setProperties({qProp:{qInfo:{qType:"BDIObject"},qBDIObjectDef:{qHandleCopyInLayout:t}}}).then((function(){return e.getLayout()}))}))}))};v.getTemplateApps=function(e){var t=e.get();if(Object(p["b"])("ODAG_SAAS_ENABLED"))return h.getTemplateApps().then((function(e){return t.then((function(t){var n=e.data.filter((function(e){return e.id.toLowerCase()!==t.id.toLowerCase()}));var r=n.map((function(e){return{qDocId:e.id,qDocName:e.name}}));return d["a"].localeOrderBy(r,(function(e){return e.qDocName}))}))}));return t.then((function(t){return e.getList(t.session).then((function(e){var n=e.filter((function(e){return e.qDocId.toLowerCase()!==t.id.toLowerCase()}));return d["a"].localeOrderBy(n,(function(e){return e.qDocName}))}))}))};v.getBDIBindingValues=function(e,t){if(t&&t.length>0){var n=[];return v.getBDISelection(e,"model").then((function(r){var i=r&&r.qBDIObject;if(i&&i.qValid){for(var a=0;a<t.length;++a)if("setHandle"===t[a].selectAppParamName){var o={selectionAppParamType:"BDI",selectionAppParamName:t[a].selectAppParamName,values:[{selStatus:"S",strValue:i.qGeneratedHandleCopy,numValue:"NaN"}]};n.push(o)}y(e,r.qInfo.qId)}return{bindingValuesArray:n}}))}return c["a"].resolve({})};v.reloadApp=function(e,t,n,r,i){switch(r){case 1:case 2:return w(e,t).then((function(t){if(t){var a=false;2===r&&(a=true);return m(e).reloadApp(n,i,t.bindingValuesArray,t.selectedValuesArray,a)}return c["a"].resolve(null)}));default:return m(e).reloadApp(n)}};v.getSelections=function(e,t){return m(e).getSelections(t)};v.generateApp=function(e,t,n,r,i){return w(e,n).then((function(a){if(a)return m(e).generateApp(n.id,e.id,r,t,i,a.bindingValuesArray,a.selectedValuesArray);return c["a"].resolve(null)}))};v.removeODAGAppLinkWithODAGLinkId=function(e,t){return a["a"].getList(e).then((function(n){return n.getLayout().then((function(n){var r=n.filter((function(e){return e.qData.odagLinkRef===t}));if(r.length){var i=e.layout.privileges.some((function(e){return"delete"===e||"update"===e}));if(i)return a["a"].remove(e,r[0].qInfo.qId);return c["a"].resolve(true)}return}))}))};v.reorderNavPoints=function(e,t){e.reorderNavPoints(t)};v.moveNavPoint=function(e,t,n){e.moveNavPoint(t,n)};v.requestAction=function(e,t,n,r,i){return m(e).requestAction(t,n,r,i)};v.getGeneratedAppsForLink=function(e,t,n,r,i,a){return m(e).getGeneratedAppsForLink(n,r,e.id,t,i,a,true)};v.clearCachedSessionObjects=function(e){var t=this;function n(n){return t.odagLinkSessionObjects[e.id][n].getLayout().then((function(r){y(e,r.qInfo.qId);delete t.odagLinkSessionObjects[e.id][n]}))}var r=[];for(var i in this.odagLinkSessionObjects[e.id])r.push(n(i));this.getODAGLinksPromise[e.id]=null;return c["a"].all(r)};v.getOrCreateSessionObjectsForLink=function(e,t){var n=this;if(this.odagLinkSessionObjects[e.id]&&this.odagLinkSessionObjects[e.id][t.id])return c["a"].resolve(this.odagLinkSessionObjects[e.id][t.id]);u["a"].maxRowExpression.MaxRowCountExpression.qValueExpression.qExpr=t.rowEstExpr;return e.enigmaModel.createSessionObject(u["a"].maxRowExpression).then((function(r){n.odagLinkSessionObjects[e.id]||(n.odagLinkSessionObjects[e.id]={});n.odagLinkSessionObjects[e.id][t.id]=r;return r}))};t["a"]=v}}]);